function wJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var S4={exports:{}},yw={},C4={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=Symbol.for("react.element"),EJ=Symbol.for("react.portal"),SJ=Symbol.for("react.fragment"),CJ=Symbol.for("react.strict_mode"),AJ=Symbol.for("react.profiler"),TJ=Symbol.for("react.provider"),DJ=Symbol.for("react.context"),PJ=Symbol.for("react.forward_ref"),RJ=Symbol.for("react.suspense"),OJ=Symbol.for("react.memo"),IJ=Symbol.for("react.lazy"),eF=Symbol.iterator;function BJ(t){return t===null||typeof t!="object"?null:(t=eF&&t[eF]||t["@@iterator"],typeof t=="function"?t:null)}var A4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T4=Object.assign,D4={};function Mh(t,e,r){this.props=t,this.context=e,this.refs=D4,this.updater=r||A4}Mh.prototype.isReactComponent={};Mh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P4(){}P4.prototype=Mh.prototype;function YP(t,e,r){this.props=t,this.context=e,this.refs=D4,this.updater=r||A4}var XP=YP.prototype=new P4;XP.constructor=YP;T4(XP,Mh.prototype);XP.isPureReactComponent=!0;var tF=Array.isArray,R4=Object.prototype.hasOwnProperty,qP={current:null},O4={key:!0,ref:!0,__self:!0,__source:!0};function I4(t,e,r){var n,s={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)R4.call(e,n)&&!O4.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Nv,type:t,key:o,ref:a,props:s,_owner:qP.current}}function FJ(t,e){return{$$typeof:Nv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nv}function MJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rF=/\/+/g;function hE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MJ(""+t.key):e.toString(36)}function d_(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nv:case EJ:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+hE(a,0):n,tF(s)?(r="",t!=null&&(r=t.replace(rF,"$&/")+"/"),d_(s,e,r,"",function(d){return d})):s!=null&&(ZP(s)&&(s=FJ(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(rF,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",tF(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+hE(o,l);a+=d_(o,e,r,c,s)}else if(c=BJ(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+hE(o,l++),a+=d_(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zy(t,e,r){if(t==null)return t;var n=[],s=0;return d_(t,n,"","",function(o){return e.call(r,o,s++)}),n}function kJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gi={current:null},f_={transition:null},NJ={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:f_,ReactCurrentOwner:qP};Gt.Children={map:zy,forEach:function(t,e,r){zy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zy(t,function(){e++}),e},toArray:function(t){return zy(t,function(e){return e})||[]},only:function(t){if(!ZP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=Mh;Gt.Fragment=SJ;Gt.Profiler=AJ;Gt.PureComponent=YP;Gt.StrictMode=CJ;Gt.Suspense=RJ;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NJ;Gt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=T4({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=qP.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)R4.call(e,c)&&!O4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Nv,type:t.type,key:s,ref:o,props:n,_owner:a}};Gt.createContext=function(t){return t={$$typeof:DJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TJ,_context:t},t.Consumer=t};Gt.createElement=I4;Gt.createFactory=function(t){var e=I4.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:PJ,render:t}};Gt.isValidElement=ZP;Gt.lazy=function(t){return{$$typeof:IJ,_payload:{_status:-1,_result:t},_init:kJ}};Gt.memo=function(t,e){return{$$typeof:OJ,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=f_.transition;f_.transition={};try{t()}finally{f_.transition=e}};Gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gt.useCallback=function(t,e){return gi.current.useCallback(t,e)};Gt.useContext=function(t){return gi.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return gi.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return gi.current.useEffect(t,e)};Gt.useId=function(){return gi.current.useId()};Gt.useImperativeHandle=function(t,e,r){return gi.current.useImperativeHandle(t,e,r)};Gt.useInsertionEffect=function(t,e){return gi.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return gi.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return gi.current.useMemo(t,e)};Gt.useReducer=function(t,e,r){return gi.current.useReducer(t,e,r)};Gt.useRef=function(t){return gi.current.useRef(t)};Gt.useState=function(t){return gi.current.useState(t)};Gt.useSyncExternalStore=function(t,e,r){return gi.current.useSyncExternalStore(t,e,r)};Gt.useTransition=function(){return gi.current.useTransition()};Gt.version="18.2.0";C4.exports=Gt;var E=C4.exports;const Z=Un(E),QP=wJ({__proto__:null,default:Z},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LJ=E,UJ=Symbol.for("react.element"),$J=Symbol.for("react.fragment"),jJ=Object.prototype.hasOwnProperty,zJ=LJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GJ={key:!0,ref:!0,__self:!0,__source:!0};function B4(t,e,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)jJ.call(e,n)&&!GJ.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:UJ,type:t,key:o,ref:a,props:s,_owner:zJ.current}}yw.Fragment=$J;yw.jsx=B4;yw.jsxs=B4;S4.exports=yw;var F=S4.exports,nF={},F4={exports:{}},as={},M4={exports:{}},k4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var K=j.length;j.push($);e:for(;0<K;){var J=K-1>>>1,ue=j[J];if(0<s(ue,$))j[J]=$,j[K]=ue,K=J;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var $=j[0],K=j.pop();if(K!==$){j[0]=K;e:for(var J=0,ue=j.length,pe=ue>>>1;J<pe;){var oe=2*(J+1)-1,he=j[oe],X=oe+1,z=j[X];if(0>s(he,K))X<ue&&0>s(z,he)?(j[J]=z,j[X]=K,J=X):(j[J]=he,j[oe]=K,J=oe);else if(X<ue&&0>s(z,K))j[J]=z,j[X]=K,J=X;else break e}}return $}function s(j,$){var K=j.sortIndex-$.sortIndex;return K!==0?K:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,g=null,m=3,y=!1,b=!1,u=!1,f=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=j)n(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(d)}}function w(j){if(u=!1,_(j),!b)if(r(c)!==null)b=!0,W(x);else{var $=r(d);$!==null&&V(w,$.startTime-j)}}function x(j,$){b=!1,u&&(u=!1,p(D),D=-1),y=!0;var K=m;try{for(_($),g=r(c);g!==null&&(!(g.expirationTime>$)||j&&!R());){var J=g.callback;if(typeof J=="function"){g.callback=null,m=g.priorityLevel;var ue=J(g.expirationTime<=$);$=t.unstable_now(),typeof ue=="function"?g.callback=ue:g===r(c)&&n(c),_($)}else n(c);g=r(c)}if(g!==null)var pe=!0;else{var oe=r(d);oe!==null&&V(w,oe.startTime-$),pe=!1}return pe}finally{g=null,m=K,y=!1}}var S=!1,A=null,D=-1,C=5,T=-1;function R(){return!(t.unstable_now()-T<C)}function P(){if(A!==null){var j=t.unstable_now();T=j;var $=!0;try{$=A(!0,j)}finally{$?O():(S=!1,A=null)}}else S=!1}var O;if(typeof v=="function")O=function(){v(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=P,O=function(){k.postMessage(null)}}else O=function(){f(P,0)};function W(j){A=j,S||(S=!0,O())}function V(j,$){D=f(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,W(x))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var K=m;m=$;try{return j()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return $()}finally{m=K}},t.unstable_scheduleCallback=function(j,$,K){var J=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,j={id:h++,callback:$,priorityLevel:j,startTime:K,expirationTime:ue,sortIndex:-1},K>J?(j.sortIndex=K,e(d,j),r(c)===null&&j===r(d)&&(u?(p(D),D=-1):u=!0,V(w,K-J))):(j.sortIndex=ue,e(c,j),b||y||(b=!0,W(x))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var $=m;return function(){var K=m;m=$;try{return j.apply(this,arguments)}finally{m=K}}}})(k4);M4.exports=k4;var VJ=M4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4=E,ns=VJ;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L4=new Set,rm={};function cd(t,e){Jf(t,e),Jf(t+"Capture",e)}function Jf(t,e){for(rm[t]=e,t=0;t<e.length;t++)L4.add(e[t])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HC=Object.prototype.hasOwnProperty,HJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iF={},sF={};function WJ(t){return HC.call(sF,t)?!0:HC.call(iF,t)?!1:HJ.test(t)?sF[t]=!0:(iF[t]=!0,!1)}function KJ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YJ(t,e,r,n){if(e===null||typeof e>"u"||KJ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mi(t,e,r,n,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var JP=/[\-:]([a-z])/g;function e2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JP,e2);Ln[e]=new mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JP,e2);Ln[e]=new mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JP,e2);Ln[e]=new mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new mi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function t2(t,e,r,n){var s=Ln.hasOwnProperty(e)?Ln[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YJ(e,r,s,n)&&(r=null),n||s===null?WJ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var cl=N4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gy=Symbol.for("react.element"),uf=Symbol.for("react.portal"),cf=Symbol.for("react.fragment"),r2=Symbol.for("react.strict_mode"),WC=Symbol.for("react.profiler"),U4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),n2=Symbol.for("react.forward_ref"),KC=Symbol.for("react.suspense"),YC=Symbol.for("react.suspense_list"),i2=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),j4=Symbol.for("react.offscreen"),oF=Symbol.iterator;function vp(t){return t===null||typeof t!="object"?null:(t=oF&&t[oF]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,pE;function Yp(t){if(pE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pE=e&&e[1]||""}return"\n"+pE+t}var gE=!1;function mE(t,e){if(!t||gE)return"";gE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split("\n"),o=n.stack.split("\n"),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c="\n"+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{gE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yp(t):""}function XJ(t){switch(t.tag){case 5:return Yp(t.type);case 16:return Yp("Lazy");case 13:return Yp("Suspense");case 19:return Yp("SuspenseList");case 0:case 2:case 15:return t=mE(t.type,!1),t;case 11:return t=mE(t.type.render,!1),t;case 1:return t=mE(t.type,!0),t;default:return""}}function XC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cf:return"Fragment";case uf:return"Portal";case WC:return"Profiler";case r2:return"StrictMode";case KC:return"Suspense";case YC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $4:return(t.displayName||"Context")+".Consumer";case U4:return(t._context.displayName||"Context")+".Provider";case n2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i2:return e=t.displayName||null,e!==null?e:XC(t.type)||"Memo";case Il:e=t._payload,t=t._init;try{return XC(t(e))}catch(r){}}return null}function qJ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return XC(e);case 8:return e===r2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZJ(t){var e=z4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vy(t){t._valueTracker||(t._valueTracker=ZJ(t))}function G4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=z4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function s1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function qC(t,e){var r=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function aF(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V4(t,e){e=e.checked,e!=null&&t2(t,"checked",e,!1)}function ZC(t,e){V4(t,e);var r=yu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QC(t,e.type,r):e.hasOwnProperty("defaultValue")&&QC(t,e.type,yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lF(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QC(t,e,r){(e!=="number"||s1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Xp=Array.isArray;function Rf(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function JC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uF(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Pe(92));if(Xp(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yu(r)}}function H4(t,e){var r=yu(e.value),n=yu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hy,K4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hy=Hy||document.createElement("div"),Hy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QJ=["Webkit","ms","Moz","O"];Object.keys(_g).forEach(function(t){QJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_g[e]=_g[t]})});function Y4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_g.hasOwnProperty(t)&&_g[t]?(""+e).trim():e+"px"}function X4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Y4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var JJ=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tA(t,e){if(e){if(JJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function rA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nA=null;function s2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iA=null,Of=null,If=null;function dF(t){if(t=$v(t)){if(typeof iA!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=Ew(e),iA(t.stateNode,t.type,e))}}function q4(t){Of?If?If.push(t):If=[t]:Of=t}function Z4(){if(Of){var t=Of,e=If;if(If=Of=null,dF(t),e)for(t=0;t<e.length;t++)dF(e[t])}}function Q4(t,e){return t(e)}function J4(){}var vE=!1;function e8(t,e,r){if(vE)return t(e,r);vE=!0;try{return Q4(t,e,r)}finally{vE=!1,(Of!==null||If!==null)&&(J4(),Z4())}}function im(t,e){var r=t.stateNode;if(r===null)return null;var n=Ew(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Pe(231,e,typeof r));return r}var sA=!1;if(Ya)try{var yp={};Object.defineProperty(yp,"passive",{get:function(){sA=!0}}),window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch(t){sA=!1}function eee(t,e,r,n,s,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(h){this.onError(h)}}var bg=!1,o1=null,a1=!1,oA=null,tee={onError:function(t){bg=!0,o1=t}};function ree(t,e,r,n,s,o,a,l,c){bg=!1,o1=null,eee.apply(tee,arguments)}function nee(t,e,r,n,s,o,a,l,c){if(ree.apply(this,arguments),bg){if(bg){var d=o1;bg=!1,o1=null}else throw Error(Pe(198));a1||(a1=!0,oA=d)}}function dd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function t8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fF(t){if(dd(t)!==t)throw Error(Pe(188))}function iee(t){var e=t.alternate;if(!e){if(e=dd(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return fF(s),t;if(o===n)return fF(s),e;o=o.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?t:e}function r8(t){return t=iee(t),t!==null?n8(t):null}function n8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n8(t);if(e!==null)return e;t=t.sibling}return null}var i8=ns.unstable_scheduleCallback,hF=ns.unstable_cancelCallback,see=ns.unstable_shouldYield,oee=ns.unstable_requestPaint,Xr=ns.unstable_now,aee=ns.unstable_getCurrentPriorityLevel,o2=ns.unstable_ImmediatePriority,s8=ns.unstable_UserBlockingPriority,l1=ns.unstable_NormalPriority,lee=ns.unstable_LowPriority,o8=ns.unstable_IdlePriority,_w=null,Yo=null;function uee(t){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(_w,t,void 0,(t.current.flags&128)===128)}catch(e){}}var po=Math.clz32?Math.clz32:fee,cee=Math.log,dee=Math.LN2;function fee(t){return t>>>=0,t===0?32:31-(cee(t)/dee|0)|0}var Wy=64,Ky=4194304;function qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function u1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=qp(l):(o&=a,o!==0&&(n=qp(o)))}else a=r&~s,a!==0?n=qp(a):o!==0&&(n=qp(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-po(e),s=1<<r,n|=t[r],e&=~s;return n}function hee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pee(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-po(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=hee(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function aA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a8(){var t=Wy;return Wy<<=1,!(Wy&4194240)&&(Wy=64),t}function yE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Lv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-po(e),t[e]=r}function gee(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-po(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function a2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-po(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var rr=0;function l8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u8,l2,c8,d8,f8,lA=!1,Yy=[],nu=null,iu=null,su=null,sm=new Map,om=new Map,$l=[],mee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pF(t,e){switch(t){case"focusin":case"focusout":nu=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(e.pointerId)}}function _p(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=$v(e),e!==null&&l2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vee(t,e,r,n,s){switch(e){case"focusin":return nu=_p(nu,t,e,r,n,s),!0;case"dragenter":return iu=_p(iu,t,e,r,n,s),!0;case"mouseover":return su=_p(su,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return sm.set(o,_p(sm.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,om.set(o,_p(om.get(o)||null,t,e,r,n,s)),!0}return!1}function h8(t){var e=vc(t.target);if(e!==null){var r=dd(e);if(r!==null){if(e=r.tag,e===13){if(e=t8(r),e!==null){t.blockedOn=e,f8(t.priority,function(){c8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function h_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);nA=n,r.target.dispatchEvent(n),nA=null}else return e=$v(r),e!==null&&l2(e),t.blockedOn=r,!1;e.shift()}return!0}function gF(t,e,r){h_(t)&&r.delete(e)}function yee(){lA=!1,nu!==null&&h_(nu)&&(nu=null),iu!==null&&h_(iu)&&(iu=null),su!==null&&h_(su)&&(su=null),sm.forEach(gF),om.forEach(gF)}function bp(t,e){t.blockedOn===e&&(t.blockedOn=null,lA||(lA=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,yee)))}function am(t){function e(s){return bp(s,t)}if(0<Yy.length){bp(Yy[0],t);for(var r=1;r<Yy.length;r++){var n=Yy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nu!==null&&bp(nu,t),iu!==null&&bp(iu,t),su!==null&&bp(su,t),sm.forEach(e),om.forEach(e),r=0;r<$l.length;r++)n=$l[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$l.length&&(r=$l[0],r.blockedOn===null);)h8(r),r.blockedOn===null&&$l.shift()}var Bf=cl.ReactCurrentBatchConfig,c1=!0;function _ee(t,e,r,n){var s=rr,o=Bf.transition;Bf.transition=null;try{rr=1,u2(t,e,r,n)}finally{rr=s,Bf.transition=o}}function bee(t,e,r,n){var s=rr,o=Bf.transition;Bf.transition=null;try{rr=4,u2(t,e,r,n)}finally{rr=s,Bf.transition=o}}function u2(t,e,r,n){if(c1){var s=uA(t,e,r,n);if(s===null)DE(t,e,n,d1,r),pF(t,n);else if(vee(s,t,e,r,n))n.stopPropagation();else if(pF(t,n),e&4&&-1<mee.indexOf(t)){for(;s!==null;){var o=$v(s);if(o!==null&&u8(o),o=uA(t,e,r,n),o===null&&DE(t,e,n,d1,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else DE(t,e,n,null,r)}}var d1=null;function uA(t,e,r,n){if(d1=null,t=s2(n),t=vc(t),t!==null)if(e=dd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=t8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return d1=t,null}function p8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aee()){case o2:return 1;case s8:return 4;case l1:case lee:return 16;case o8:return 536870912;default:return 16}default:return 16}}var Kl=null,c2=null,p_=null;function g8(){if(p_)return p_;var t,e=c2,r=e.length,n,s="value"in Kl?Kl.value:Kl.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[o-n];n++);return p_=s.slice(t,1<n?1-n:void 0)}function g_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xy(){return!0}function mF(){return!1}function ls(t){function e(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xy:mF,this.isPropagationStopped=mF,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xy)},persist:function(){},isPersistent:Xy}),e}var kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=ls(kh),Uv=Lr({},kh,{view:0,detail:0}),wee=ls(Uv),_E,bE,wp,bw=Lr({},Uv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wp&&(wp&&t.type==="mousemove"?(_E=t.screenX-wp.screenX,bE=t.screenY-wp.screenY):bE=_E=0,wp=t),_E)},movementY:function(t){return"movementY"in t?t.movementY:bE}}),vF=ls(bw),xee=Lr({},bw,{dataTransfer:0}),Eee=ls(xee),See=Lr({},Uv,{relatedTarget:0}),wE=ls(See),Cee=Lr({},kh,{animationName:0,elapsedTime:0,pseudoElement:0}),Aee=ls(Cee),Tee=Lr({},kh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dee=ls(Tee),Pee=Lr({},kh,{data:0}),yF=ls(Pee),Ree={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Iee[t])?!!e[t]:!1}function f2(){return Bee}var Fee=Lr({},Uv,{key:function(t){if(t.key){var e=Ree[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=g_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f2,charCode:function(t){return t.type==="keypress"?g_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?g_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mee=ls(Fee),kee=Lr({},bw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_F=ls(kee),Nee=Lr({},Uv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f2}),Lee=ls(Nee),Uee=Lr({},kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),$ee=ls(Uee),jee=Lr({},bw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zee=ls(jee),Gee=[9,13,27,32],h2=Ya&&"CompositionEvent"in window,wg=null;Ya&&"documentMode"in document&&(wg=document.documentMode);var Vee=Ya&&"TextEvent"in window&&!wg,m8=Ya&&(!h2||wg&&8<wg&&11>=wg),bF=String.fromCharCode(32),wF=!1;function v8(t,e){switch(t){case"keyup":return Gee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var df=!1;function Hee(t,e){switch(t){case"compositionend":return y8(e);case"keypress":return e.which!==32?null:(wF=!0,bF);case"textInput":return t=e.data,t===bF&&wF?null:t;default:return null}}function Wee(t,e){if(df)return t==="compositionend"||!h2&&v8(t,e)?(t=g8(),p_=c2=Kl=null,df=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m8&&e.locale!=="ko"?null:e.data;default:return null}}var Kee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kee[t.type]:e==="textarea"}function _8(t,e,r,n){q4(n),e=f1(e,"onChange"),0<e.length&&(r=new d2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xg=null,lm=null;function Yee(t){R8(t,0)}function ww(t){var e=pf(t);if(G4(e))return t}function Xee(t,e){if(t==="change")return e}var b8=!1;if(Ya){var xE;if(Ya){var EE="oninput"in document;if(!EE){var EF=document.createElement("div");EF.setAttribute("oninput","return;"),EE=typeof EF.oninput=="function"}xE=EE}else xE=!1;b8=xE&&(!document.documentMode||9<document.documentMode)}function SF(){xg&&(xg.detachEvent("onpropertychange",w8),lm=xg=null)}function w8(t){if(t.propertyName==="value"&&ww(lm)){var e=[];_8(e,lm,t,s2(t)),e8(Yee,e)}}function qee(t,e,r){t==="focusin"?(SF(),xg=e,lm=r,xg.attachEvent("onpropertychange",w8)):t==="focusout"&&SF()}function Zee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ww(lm)}function Qee(t,e){if(t==="click")return ww(e)}function Jee(t,e){if(t==="input"||t==="change")return ww(e)}function ete(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xo=typeof Object.is=="function"?Object.is:ete;function um(t,e){if(xo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!HC.call(e,s)||!xo(t[s],e[s]))return!1}return!0}function CF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AF(t,e){var r=CF(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CF(r)}}function x8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E8(){for(var t=window,e=s1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=s1(t.document)}return e}function p2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tte(t){var e=E8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&x8(r.ownerDocument.documentElement,r)){if(n!==null&&p2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=AF(r,o);var a=AF(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rte=Ya&&"documentMode"in document&&11>=document.documentMode,ff=null,cA=null,Eg=null,dA=!1;function TF(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dA||ff==null||ff!==s1(n)||(n=ff,"selectionStart"in n&&p2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eg&&um(Eg,n)||(Eg=n,n=f1(cA,"onSelect"),0<n.length&&(e=new d2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ff)))}function qy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var hf={animationend:qy("Animation","AnimationEnd"),animationiteration:qy("Animation","AnimationIteration"),animationstart:qy("Animation","AnimationStart"),transitionend:qy("Transition","TransitionEnd")},SE={},S8={};Ya&&(S8=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function xw(t){if(SE[t])return SE[t];if(!hf[t])return t;var e=hf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in S8)return SE[t]=e[r];return t}var C8=xw("animationend"),A8=xw("animationiteration"),T8=xw("animationstart"),D8=xw("transitionend"),P8=new Map,DF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lu(t,e){P8.set(t,e),cd(e,[t])}for(var CE=0;CE<DF.length;CE++){var AE=DF[CE],nte=AE.toLowerCase(),ite=AE[0].toUpperCase()+AE.slice(1);Lu(nte,"on"+ite)}Lu(C8,"onAnimationEnd");Lu(A8,"onAnimationIteration");Lu(T8,"onAnimationStart");Lu("dblclick","onDoubleClick");Lu("focusin","onFocus");Lu("focusout","onBlur");Lu(D8,"onTransitionEnd");Jf("onMouseEnter",["mouseout","mouseover"]);Jf("onMouseLeave",["mouseout","mouseover"]);Jf("onPointerEnter",["pointerout","pointerover"]);Jf("onPointerLeave",["pointerout","pointerover"]);cd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cd("onBeforeInput",["compositionend","keypress","textInput","paste"]);cd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ste=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zp));function PF(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nee(n,e,void 0,t),t.currentTarget=null}function R8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;PF(s,l,d),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;PF(s,l,d),o=c}}}if(a1)throw t=oA,a1=!1,oA=null,t}function gr(t,e){var r=e[mA];r===void 0&&(r=e[mA]=new Set);var n=t+"__bubble";r.has(n)||(O8(e,t,2,!1),r.add(n))}function TE(t,e,r){var n=0;e&&(n|=4),O8(r,t,n,e)}var Zy="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Zy]){t[Zy]=!0,L4.forEach(function(r){r!=="selectionchange"&&(ste.has(r)||TE(r,!1,t),TE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zy]||(e[Zy]=!0,TE("selectionchange",!1,e))}}function O8(t,e,r,n){switch(p8(e)){case 1:var s=_ee;break;case 4:s=bee;break;default:s=u2}r=s.bind(null,e,r,t),s=void 0,!sA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function DE(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=vc(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}e8(function(){var d=o,h=s2(r),g=[];e:{var m=P8.get(t);if(m!==void 0){var y=d2,b=t;switch(t){case"keypress":if(g_(r)===0)break e;case"keydown":case"keyup":y=Mee;break;case"focusin":b="focus",y=wE;break;case"focusout":b="blur",y=wE;break;case"beforeblur":case"afterblur":y=wE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Eee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Lee;break;case C8:case A8:case T8:y=Aee;break;case D8:y=$ee;break;case"scroll":y=wee;break;case"wheel":y=zee;break;case"copy":case"cut":case"paste":y=Dee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_F}var u=(e&4)!==0,f=!u&&t==="scroll",p=u?m!==null?m+"Capture":null:m;u=[];for(var v=d,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,p!==null&&(w=im(v,p),w!=null&&u.push(dm(v,w,_)))),f)break;v=v.return}0<u.length&&(m=new y(m,b,null,r,h),g.push({event:m,listeners:u}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==nA&&(b=r.relatedTarget||r.fromElement)&&(vc(b)||b[Xa]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=d,b=b?vc(b):null,b!==null&&(f=dd(b),b!==f||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(u=vF,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(u=_F,w="onPointerLeave",p="onPointerEnter",v="pointer"),f=y==null?m:pf(y),_=b==null?m:pf(b),m=new u(w,v+"leave",y,r,h),m.target=f,m.relatedTarget=_,w=null,vc(h)===d&&(u=new u(p,v+"enter",b,r,h),u.target=_,u.relatedTarget=f,w=u),f=w,y&&b)t:{for(u=y,p=b,v=0,_=u;_;_=Od(_))v++;for(_=0,w=p;w;w=Od(w))_++;for(;0<v-_;)u=Od(u),v--;for(;0<_-v;)p=Od(p),_--;for(;v--;){if(u===p||p!==null&&u===p.alternate)break t;u=Od(u),p=Od(p)}u=null}else u=null;y!==null&&RF(g,m,y,u,!1),b!==null&&f!==null&&RF(g,f,b,u,!0)}}e:{if(m=d?pf(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var x=Xee;else if(xF(m))if(b8)x=Jee;else{x=Zee;var S=qee}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=Qee);if(x&&(x=x(t,d))){_8(g,x,r,h);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&QC(m,"number",m.value)}switch(S=d?pf(d):window,t){case"focusin":(xF(S)||S.contentEditable==="true")&&(ff=S,cA=d,Eg=null);break;case"focusout":Eg=cA=ff=null;break;case"mousedown":dA=!0;break;case"contextmenu":case"mouseup":case"dragend":dA=!1,TF(g,r,h);break;case"selectionchange":if(rte)break;case"keydown":case"keyup":TF(g,r,h)}var A;if(h2)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else df?v8(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(m8&&r.locale!=="ko"&&(df||D!=="onCompositionStart"?D==="onCompositionEnd"&&df&&(A=g8()):(Kl=h,c2="value"in Kl?Kl.value:Kl.textContent,df=!0)),S=f1(d,D),0<S.length&&(D=new yF(D,t,null,r,h),g.push({event:D,listeners:S}),A?D.data=A:(A=y8(r),A!==null&&(D.data=A)))),(A=Vee?Hee(t,r):Wee(t,r))&&(d=f1(d,"onBeforeInput"),0<d.length&&(h=new yF("onBeforeInput","beforeinput",null,r,h),g.push({event:h,listeners:d}),h.data=A))}R8(g,e)})}function dm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function f1(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=im(t,r),o!=null&&n.unshift(dm(t,o,s)),o=im(t,e),o!=null&&n.push(dm(t,o,s))),t=t.return}return n}function Od(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RF(t,e,r,n,s){for(var o=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=im(r,o),c!=null&&a.unshift(dm(r,c,l))):s||(c=im(r,o),c!=null&&a.push(dm(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var ote=/\r\n?/g,ate=/\u0000|\uFFFD/g;function OF(t){return(typeof t=="string"?t:""+t).replace(ote,"\n").replace(ate,"")}function Qy(t,e,r){if(e=OF(e),OF(t)!==e&&r)throw Error(Pe(425))}function h1(){}var fA=null,hA=null;function pA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gA=typeof setTimeout=="function"?setTimeout:void 0,lte=typeof clearTimeout=="function"?clearTimeout:void 0,IF=typeof Promise=="function"?Promise:void 0,ute=typeof queueMicrotask=="function"?queueMicrotask:typeof IF<"u"?function(t){return IF.resolve(null).then(t).catch(cte)}:gA;function cte(t){setTimeout(function(){throw t})}function PE(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),am(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);am(e)}function ou(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Nh=Math.random().toString(36).slice(2),jo="__reactFiber$"+Nh,fm="__reactProps$"+Nh,Xa="__reactContainer$"+Nh,mA="__reactEvents$"+Nh,dte="__reactListeners$"+Nh,fte="__reactHandles$"+Nh;function vc(t){var e=t[jo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xa]||r[jo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=BF(t);t!==null;){if(r=t[jo])return r;t=BF(t)}return e}t=r,r=t.parentNode}return null}function $v(t){return t=t[jo]||t[Xa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function Ew(t){return t[fm]||null}var vA=[],gf=-1;function Uu(t){return{current:t}}function br(t){0>gf||(t.current=vA[gf],vA[gf]=null,gf--)}function fr(t,e){gf++,vA[gf]=t.current,t.current=e}var _u={},Zn=Uu(_u),Pi=Uu(!1),Kc=_u;function eh(t,e){var r=t.type.contextTypes;if(!r)return _u;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(t){return t=t.childContextTypes,t!=null}function p1(){br(Pi),br(Zn)}function FF(t,e,r){if(Zn.current!==_u)throw Error(Pe(168));fr(Zn,e),fr(Pi,r)}function I8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Pe(108,qJ(t)||"Unknown",s));return Lr({},r,n)}function g1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_u,Kc=Zn.current,fr(Zn,t),fr(Pi,Pi.current),!0}function MF(t,e,r){var n=t.stateNode;if(!n)throw Error(Pe(169));r?(t=I8(t,e,Kc),n.__reactInternalMemoizedMergedChildContext=t,br(Pi),br(Zn),fr(Zn,t)):br(Pi),fr(Pi,r)}var Da=null,Sw=!1,RE=!1;function B8(t){Da===null?Da=[t]:Da.push(t)}function hte(t){Sw=!0,B8(t)}function $u(){if(!RE&&Da!==null){RE=!0;var t=0,e=rr;try{var r=Da;for(rr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Da=null,Sw=!1}catch(s){throw Da!==null&&(Da=Da.slice(t+1)),i8(o2,$u),s}finally{rr=e,RE=!1}}return null}var mf=[],vf=0,m1=null,v1=0,As=[],Ts=0,Yc=null,Ma=1,ka="";function oc(t,e){mf[vf++]=v1,mf[vf++]=m1,m1=t,v1=e}function F8(t,e,r){As[Ts++]=Ma,As[Ts++]=ka,As[Ts++]=Yc,Yc=t;var n=Ma;t=ka;var s=32-po(n)-1;n&=~(1<<s),r+=1;var o=32-po(e)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ma=1<<32-po(e)+s|r<<s|n,ka=o+t}else Ma=1<<o|r<<s|n,ka=t}function g2(t){t.return!==null&&(oc(t,1),F8(t,1,0))}function m2(t){for(;t===m1;)m1=mf[--vf],mf[vf]=null,v1=mf[--vf],mf[vf]=null;for(;t===Yc;)Yc=As[--Ts],As[Ts]=null,ka=As[--Ts],As[Ts]=null,Ma=As[--Ts],As[Ts]=null}var Qi=null,qi=null,Dr=!1,so=null;function M8(t,e){var r=Is(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function kF(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qi=t,qi=ou(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qi=t,qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yc!==null?{id:Ma,overflow:ka}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Is(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qi=t,qi=null,!0):!1;default:return!1}}function yA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _A(t){if(Dr){var e=qi;if(e){var r=e;if(!kF(t,e)){if(yA(t))throw Error(Pe(418));e=ou(r.nextSibling);var n=Qi;e&&kF(t,e)?M8(n,r):(t.flags=t.flags&-4097|2,Dr=!1,Qi=t)}}else{if(yA(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,Dr=!1,Qi=t}}}function NF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qi=t}function Jy(t){if(t!==Qi)return!1;if(!Dr)return NF(t),Dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pA(t.type,t.memoizedProps)),e&&(e=qi)){if(yA(t))throw k8(),Error(Pe(418));for(;e;)M8(t,e),e=ou(e.nextSibling)}if(NF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qi=ou(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qi=null}}else qi=Qi?ou(t.stateNode.nextSibling):null;return!0}function k8(){for(var t=qi;t;)t=ou(t.nextSibling)}function th(){qi=Qi=null,Dr=!1}function v2(t){so===null?so=[t]:so.push(t)}var pte=cl.ReactCurrentBatchConfig;function to(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var y1=Uu(null),_1=null,yf=null,y2=null;function _2(){y2=yf=_1=null}function b2(t){var e=y1.current;br(y1),t._currentValue=e}function bA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ff(t,e){_1=t,y2=yf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(y2!==t)if(t={context:t,memoizedValue:e,next:null},yf===null){if(_1===null)throw Error(Pe(308));yf=t,_1.dependencies={lanes:0,firstContext:t}}else yf=yf.next=t;return e}var yc=null;function w2(t){yc===null?yc=[t]:yc.push(t)}function N8(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,w2(e)):(r.next=s.next,s.next=r),e.interleaved=r,qa(t,n)}function qa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Bl=!1;function x2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ga(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function au(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Yt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,qa(t,r)}return s=n.interleaved,s===null?(e.next=e,w2(n)):(e.next=s.next,s.next=e),n.interleaved=e,qa(t,r)}function m_(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a2(t,r)}}function LF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function b1(t,e,r,n){var s=t.updateQueue;Bl=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(o!==null){var g=s.baseState;a=0,h=d=c=null,l=o;do{var m=l.lane,y=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,u=l;switch(m=e,y=r,u.tag){case 1:if(b=u.payload,typeof b=="function"){g=b.call(y,g,m);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=u.payload,m=typeof b=="function"?b.call(y,g,m):b,m==null)break e;g=Lr({},g,m);break e;case 2:Bl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=g):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(h===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);qc|=a,t.lanes=a,t.memoizedState=g}}function UF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Pe(191,s));s.call(n)}}}var U8=new N4.Component().refs;function wA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cw={isMounted:function(t){return(t=t._reactInternals)?dd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fi(),s=uu(t),o=Ga(n,s);o.payload=e,r!=null&&(o.callback=r),e=au(t,o,s),e!==null&&(go(e,t,s,n),m_(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fi(),s=uu(t),o=Ga(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=au(t,o,s),e!==null&&(go(e,t,s,n),m_(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fi(),n=uu(t),s=Ga(r,n);s.tag=2,e!=null&&(s.callback=e),e=au(t,s,n),e!==null&&(go(e,t,n,r),m_(e,t,n))}};function $F(t,e,r,n,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!um(r,n)||!um(s,o):!0}function $8(t,e,r){var n=!1,s=_u,o=e.contextType;return typeof o=="object"&&o!==null?o=Vs(o):(s=Ri(e)?Kc:Zn.current,n=e.contextTypes,o=(n=n!=null)?eh(t,s):_u),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function jF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cw.enqueueReplaceState(e,e.state,null)}function xA(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=U8,x2(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Vs(o):(o=Ri(e)?Kc:Zn.current,s.context=eh(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wA(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cw.enqueueReplaceState(s,s.state,null),b1(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;l===U8&&(l=s.refs={}),a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,t))}return t}function e0(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zF(t){var e=t._init;return e(t._payload)}function j8(t){function e(p,v){if(t){var _=p.deletions;_===null?(p.deletions=[v],p.flags|=16):_.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function s(p,v){return p=cu(p,v),p.index=0,p.sibling=null,p}function o(p,v,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<v?(p.flags|=2,v):_):(p.flags|=2,v)):(p.flags|=1048576,v)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,v,_,w){return v===null||v.tag!==6?(v=NE(_,p.mode,w),v.return=p,v):(v=s(v,_),v.return=p,v)}function c(p,v,_,w){var x=_.type;return x===cf?h(p,v,_.props.children,w,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Il&&zF(x)===v.type)?(w=s(v,_.props),w.ref=xp(p,v,_),w.return=p,w):(w=x_(_.type,_.key,_.props,null,p.mode,w),w.ref=xp(p,v,_),w.return=p,w)}function d(p,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=LE(_,p.mode,w),v.return=p,v):(v=s(v,_.children||[]),v.return=p,v)}function h(p,v,_,w,x){return v===null||v.tag!==7?(v=Tc(_,p.mode,w,x),v.return=p,v):(v=s(v,_),v.return=p,v)}function g(p,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=NE(""+v,p.mode,_),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gy:return _=x_(v.type,v.key,v.props,null,p.mode,_),_.ref=xp(p,null,v),_.return=p,_;case uf:return v=LE(v,p.mode,_),v.return=p,v;case Il:var w=v._init;return g(p,w(v._payload),_)}if(Xp(v)||vp(v))return v=Tc(v,p.mode,_,null),v.return=p,v;e0(p,v)}return null}function m(p,v,_,w){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:l(p,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gy:return _.key===x?c(p,v,_,w):null;case uf:return _.key===x?d(p,v,_,w):null;case Il:return x=_._init,m(p,v,x(_._payload),w)}if(Xp(_)||vp(_))return x!==null?null:h(p,v,_,w,null);e0(p,_)}return null}function y(p,v,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(_)||null,l(v,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gy:return p=p.get(w.key===null?_:w.key)||null,c(v,p,w,x);case uf:return p=p.get(w.key===null?_:w.key)||null,d(v,p,w,x);case Il:var S=w._init;return y(p,v,_,S(w._payload),x)}if(Xp(w)||vp(w))return p=p.get(_)||null,h(v,p,w,x,null);e0(v,w)}return null}function b(p,v,_,w){for(var x=null,S=null,A=v,D=v=0,C=null;A!==null&&D<_.length;D++){A.index>D?(C=A,A=null):C=A.sibling;var T=m(p,A,_[D],w);if(T===null){A===null&&(A=C);break}t&&A&&T.alternate===null&&e(p,A),v=o(T,v,D),S===null?x=T:S.sibling=T,S=T,A=C}if(D===_.length)return r(p,A),Dr&&oc(p,D),x;if(A===null){for(;D<_.length;D++)A=g(p,_[D],w),A!==null&&(v=o(A,v,D),S===null?x=A:S.sibling=A,S=A);return Dr&&oc(p,D),x}for(A=n(p,A);D<_.length;D++)C=y(A,p,D,_[D],w),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?D:C.key),v=o(C,v,D),S===null?x=C:S.sibling=C,S=C);return t&&A.forEach(function(R){return e(p,R)}),Dr&&oc(p,D),x}function u(p,v,_,w){var x=vp(_);if(typeof x!="function")throw Error(Pe(150));if(_=x.call(_),_==null)throw Error(Pe(151));for(var S=x=null,A=v,D=v=0,C=null,T=_.next();A!==null&&!T.done;D++,T=_.next()){A.index>D?(C=A,A=null):C=A.sibling;var R=m(p,A,T.value,w);if(R===null){A===null&&(A=C);break}t&&A&&R.alternate===null&&e(p,A),v=o(R,v,D),S===null?x=R:S.sibling=R,S=R,A=C}if(T.done)return r(p,A),Dr&&oc(p,D),x;if(A===null){for(;!T.done;D++,T=_.next())T=g(p,T.value,w),T!==null&&(v=o(T,v,D),S===null?x=T:S.sibling=T,S=T);return Dr&&oc(p,D),x}for(A=n(p,A);!T.done;D++,T=_.next())T=y(A,p,D,T.value,w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?D:T.key),v=o(T,v,D),S===null?x=T:S.sibling=T,S=T);return t&&A.forEach(function(P){return e(p,P)}),Dr&&oc(p,D),x}function f(p,v,_,w){if(typeof _=="object"&&_!==null&&_.type===cf&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gy:e:{for(var x=_.key,S=v;S!==null;){if(S.key===x){if(x=_.type,x===cf){if(S.tag===7){r(p,S.sibling),v=s(S,_.props.children),v.return=p,p=v;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Il&&zF(x)===S.type){r(p,S.sibling),v=s(S,_.props),v.ref=xp(p,S,_),v.return=p,p=v;break e}r(p,S);break}else e(p,S);S=S.sibling}_.type===cf?(v=Tc(_.props.children,p.mode,w,_.key),v.return=p,p=v):(w=x_(_.type,_.key,_.props,null,p.mode,w),w.ref=xp(p,v,_),w.return=p,p=w)}return a(p);case uf:e:{for(S=_.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(p,v.sibling),v=s(v,_.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else e(p,v);v=v.sibling}v=LE(_,p.mode,w),v.return=p,p=v}return a(p);case Il:return S=_._init,f(p,v,S(_._payload),w)}if(Xp(_))return b(p,v,_,w);if(vp(_))return u(p,v,_,w);e0(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(r(p,v.sibling),v=s(v,_),v.return=p,p=v):(r(p,v),v=NE(_,p.mode,w),v.return=p,p=v),a(p)):r(p,v)}return f}var rh=j8(!0),z8=j8(!1),jv={},Xo=Uu(jv),hm=Uu(jv),pm=Uu(jv);function _c(t){if(t===jv)throw Error(Pe(174));return t}function E2(t,e){switch(fr(pm,e),fr(hm,t),fr(Xo,jv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eA(e,t)}br(Xo),fr(Xo,e)}function nh(){br(Xo),br(hm),br(pm)}function G8(t){_c(pm.current);var e=_c(Xo.current),r=eA(e,t.type);e!==r&&(fr(hm,t),fr(Xo,r))}function S2(t){hm.current===t&&(br(Xo),br(hm))}var Br=Uu(0);function w1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var OE=[];function C2(){for(var t=0;t<OE.length;t++)OE[t]._workInProgressVersionPrimary=null;OE.length=0}var v_=cl.ReactCurrentDispatcher,IE=cl.ReactCurrentBatchConfig,Xc=0,Nr=null,hn=null,En=null,x1=!1,Sg=!1,gm=0,gte=0;function $n(){throw Error(Pe(321))}function A2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xo(t[r],e[r]))return!1;return!0}function T2(t,e,r,n,s,o){if(Xc=o,Nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,v_.current=t===null||t.memoizedState===null?_te:bte,t=r(n,s),Sg){o=0;do{if(Sg=!1,gm=0,25<=o)throw Error(Pe(301));o+=1,En=hn=null,e.updateQueue=null,v_.current=wte,t=r(n,s)}while(Sg)}if(v_.current=E1,e=hn!==null&&hn.next!==null,Xc=0,En=hn=Nr=null,x1=!1,e)throw Error(Pe(300));return t}function D2(){var t=gm!==0;return gm=0,t}function Lo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Nr.memoizedState=En=t:En=En.next=t,En}function Hs(){if(hn===null){var t=Nr.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=En===null?Nr.memoizedState:En.next;if(e!==null)En=e,hn=t;else{if(t===null)throw Error(Pe(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},En===null?Nr.memoizedState=En=t:En=En.next=t}return En}function mm(t,e){return typeof e=="function"?e(t):e}function BE(t){var e=Hs(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=hn,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,d=o;do{var h=d.lane;if((Xc&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var g={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=g,a=n):c=c.next=g,Nr.lanes|=h,qc|=h}d=d.next}while(d!==null&&d!==o);c===null?a=n:c.next=l,xo(n,e.memoizedState)||(Ti=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Nr.lanes|=o,qc|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function FE(t){var e=Hs(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);xo(o,e.memoizedState)||(Ti=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function V8(){}function H8(t,e){var r=Nr,n=Hs(),s=e(),o=!xo(n.memoizedState,s);if(o&&(n.memoizedState=s,Ti=!0),n=n.queue,P2(Y8.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,vm(9,K8.bind(null,r,n,s,e),void 0,null),Dn===null)throw Error(Pe(349));Xc&30||W8(r,e,s)}return s}function W8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function K8(t,e,r,n){e.value=r,e.getSnapshot=n,X8(e)&&q8(t)}function Y8(t,e,r){return r(function(){X8(e)&&q8(t)})}function X8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xo(t,r)}catch(n){return!0}}function q8(t){var e=qa(t,1);e!==null&&go(e,t,1,-1)}function GF(t){var e=Lo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:t},e.queue=t,t=t.dispatch=yte.bind(null,Nr,t),[e.memoizedState,t]}function vm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Z8(){return Hs().memoizedState}function y_(t,e,r,n){var s=Lo();Nr.flags|=t,s.memoizedState=vm(1|e,r,void 0,n===void 0?null:n)}function Aw(t,e,r,n){var s=Hs();n=n===void 0?null:n;var o=void 0;if(hn!==null){var a=hn.memoizedState;if(o=a.destroy,n!==null&&A2(n,a.deps)){s.memoizedState=vm(e,r,o,n);return}}Nr.flags|=t,s.memoizedState=vm(1|e,r,o,n)}function VF(t,e){return y_(8390656,8,t,e)}function P2(t,e){return Aw(2048,8,t,e)}function Q8(t,e){return Aw(4,2,t,e)}function J8(t,e){return Aw(4,4,t,e)}function ej(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tj(t,e,r){return r=r!=null?r.concat([t]):null,Aw(4,4,ej.bind(null,e,t),r)}function R2(){}function rj(t,e){var r=Hs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function nj(t,e){var r=Hs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ij(t,e,r){return Xc&21?(xo(r,e)||(r=a8(),Nr.lanes|=r,qc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=r)}function mte(t,e){var r=rr;rr=r!==0&&4>r?r:4,t(!0);var n=IE.transition;IE.transition={};try{t(!1),e()}finally{rr=r,IE.transition=n}}function sj(){return Hs().memoizedState}function vte(t,e,r){var n=uu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oj(t))aj(e,r);else if(r=N8(t,e,r,n),r!==null){var s=fi();go(r,t,n,s),lj(r,e,n)}}function yte(t,e,r){var n=uu(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oj(t))aj(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,xo(l,a)){var c=e.interleaved;c===null?(s.next=s,w2(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch(d){}finally{}r=N8(t,e,s,n),r!==null&&(s=fi(),go(r,t,n,s),lj(r,e,n))}}function oj(t){var e=t.alternate;return t===Nr||e!==null&&e===Nr}function aj(t,e){Sg=x1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lj(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a2(t,r)}}var E1={readContext:Vs,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},_te={readContext:Vs,useCallback:function(t,e){return Lo().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:VF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,y_(4194308,4,ej.bind(null,e,t),r)},useLayoutEffect:function(t,e){return y_(4194308,4,t,e)},useInsertionEffect:function(t,e){return y_(4,2,t,e)},useMemo:function(t,e){var r=Lo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Lo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vte.bind(null,Nr,t),[n.memoizedState,t]},useRef:function(t){var e=Lo();return t={current:t},e.memoizedState=t},useState:GF,useDebugValue:R2,useDeferredValue:function(t){return Lo().memoizedState=t},useTransition:function(){var t=GF(!1),e=t[0];return t=mte.bind(null,t[1]),Lo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Nr,s=Lo();if(Dr){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=e(),Dn===null)throw Error(Pe(349));Xc&30||W8(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,VF(Y8.bind(null,n,o,t),[t]),n.flags|=2048,vm(9,K8.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Lo(),e=Dn.identifierPrefix;if(Dr){var r=ka,n=Ma;r=(n&~(1<<32-po(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gte++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bte={readContext:Vs,useCallback:rj,useContext:Vs,useEffect:P2,useImperativeHandle:tj,useInsertionEffect:Q8,useLayoutEffect:J8,useMemo:nj,useReducer:BE,useRef:Z8,useState:function(){return BE(mm)},useDebugValue:R2,useDeferredValue:function(t){var e=Hs();return ij(e,hn.memoizedState,t)},useTransition:function(){var t=BE(mm)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:V8,useSyncExternalStore:H8,useId:sj,unstable_isNewReconciler:!1},wte={readContext:Vs,useCallback:rj,useContext:Vs,useEffect:P2,useImperativeHandle:tj,useInsertionEffect:Q8,useLayoutEffect:J8,useMemo:nj,useReducer:FE,useRef:Z8,useState:function(){return FE(mm)},useDebugValue:R2,useDeferredValue:function(t){var e=Hs();return hn===null?e.memoizedState=t:ij(e,hn.memoizedState,t)},useTransition:function(){var t=FE(mm)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:V8,useSyncExternalStore:H8,useId:sj,unstable_isNewReconciler:!1};function ih(t,e){try{var r="",n=e;do r+=XJ(n),n=n.return;while(n);var s=r}catch(o){s="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:s,digest:null}}function ME(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function EA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xte=typeof WeakMap=="function"?WeakMap:Map;function uj(t,e,r){r=Ga(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){C1||(C1=!0,BA=n),EA(t,e)},r}function cj(t,e,r){r=Ga(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){EA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){EA(t,e),typeof n!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function HF(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xte;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=kte.bind(null,t,e,r),e.then(t,t))}function WF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KF(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ga(-1,1),e.tag=2,au(r,e,1))),r.lanes|=1),t)}var Ete=cl.ReactCurrentOwner,Ti=!1;function si(t,e,r,n){e.child=t===null?z8(e,null,r,n):rh(e,t.child,r,n)}function YF(t,e,r,n,s){r=r.render;var o=e.ref;return Ff(e,s),n=T2(t,e,r,n,o,s),r=D2(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Za(t,e,s)):(Dr&&r&&g2(e),e.flags|=1,si(t,e,n,s),e.child)}function XF(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!L2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,dj(t,e,o,n,s)):(t=x_(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:um,r(a,n)&&t.ref===e.ref)return Za(t,e,s)}return e.flags|=1,t=cu(o,n),t.ref=e.ref,t.return=e,e.child=t}function dj(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(um(o,n)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,Za(t,e,s)}return SA(t,e,r,n,s)}function fj(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(bf,zi),zi|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fr(bf,zi),zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fr(bf,zi),zi|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,fr(bf,zi),zi|=n;return si(t,e,s,r),e.child}function hj(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function SA(t,e,r,n,s){var o=Ri(r)?Kc:Zn.current;return o=eh(e,o),Ff(e,s),r=T2(t,e,r,n,o,s),n=D2(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Za(t,e,s)):(Dr&&n&&g2(e),e.flags|=1,si(t,e,r,s),e.child)}function qF(t,e,r,n,s){if(Ri(r)){var o=!0;g1(e)}else o=!1;if(Ff(e,s),e.stateNode===null)__(t,e),$8(e,r,n),xA(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Vs(d):(d=Ri(r)?Kc:Zn.current,d=eh(e,d));var h=r.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&jF(e,a,n,d),Bl=!1;var m=e.memoizedState;a.state=m,b1(e,n,a,s),c=e.memoizedState,l!==n||m!==c||Pi.current||Bl?(typeof h=="function"&&(wA(e,r,h,n),c=e.memoizedState),(l=Bl||$F(e,r,l,n,m,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,L8(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:to(e.type,l),a.props=d,g=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=Ri(r)?Kc:Zn.current,c=eh(e,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&jF(e,a,n,c),Bl=!1,m=e.memoizedState,a.state=m,b1(e,n,a,s);var b=e.memoizedState;l!==g||m!==b||Pi.current||Bl?(typeof y=="function"&&(wA(e,r,y,n),b=e.memoizedState),(d=Bl||$F(e,r,d,n,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return CA(t,e,r,n,o,s)}function CA(t,e,r,n,s,o){hj(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&MF(e,r,!1),Za(t,e,o);n=e.stateNode,Ete.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rh(e,t.child,null,o),e.child=rh(e,null,l,o)):si(t,e,l,o),e.memoizedState=n.state,s&&MF(e,r,!0),e.child}function pj(t){var e=t.stateNode;e.pendingContext?FF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FF(t,e.context,!1),E2(t,e.containerInfo)}function ZF(t,e,r,n,s){return th(),v2(s),e.flags|=256,si(t,e,r,n),e.child}var AA={dehydrated:null,treeContext:null,retryLane:0};function TA(t){return{baseLanes:t,cachePool:null,transitions:null}}function gj(t,e,r){var n=e.pendingProps,s=Br.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fr(Br,s&1),t===null)return _A(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Pw(a,n,0,null),t=Tc(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=TA(r),e.memoizedState=AA,t):O2(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ste(t,e,a,n,l,s,r);if(o){o=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=cu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=cu(l,o):(o=Tc(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?TA(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=AA,n}return o=t.child,t=o.sibling,n=cu(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function O2(t,e){return e=Pw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function t0(t,e,r,n){return n!==null&&v2(n),rh(e,t.child,null,r),t=O2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ste(t,e,r,n,s,o,a){if(r)return e.flags&256?(e.flags&=-257,n=ME(Error(Pe(422))),t0(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Pw({mode:"visible",children:n.children},s,0,null),o=Tc(o,s,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&rh(e,t.child,null,a),e.child.memoizedState=TA(a),e.memoizedState=AA,o);if(!(e.mode&1))return t0(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Pe(419)),n=ME(o,n,void 0),t0(t,e,a,n)}if(l=(a&t.childLanes)!==0,Ti||l){if(n=Dn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,qa(t,s),go(n,t,s,-1))}return N2(),n=ME(Error(Pe(421))),t0(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nte.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,qi=ou(s.nextSibling),Qi=e,Dr=!0,so=null,t!==null&&(As[Ts++]=Ma,As[Ts++]=ka,As[Ts++]=Yc,Ma=t.id,ka=t.overflow,Yc=e),e=O2(e,n.children),e.flags|=4096,e)}function QF(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bA(t.return,e,r)}function kE(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function mj(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(si(t,e,n.children,r),n=Br.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QF(t,r,e);else if(t.tag===19)QF(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fr(Br,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&w1(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),kE(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&w1(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}kE(e,!0,r,null,o);break;case"together":kE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function __(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,r=cu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Cte(t,e,r){switch(e.tag){case 3:pj(e),th();break;case 5:G8(e);break;case 1:Ri(e.type)&&g1(e);break;case 4:E2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;fr(y1,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(fr(Br,Br.current&1),e.flags|=128,null):r&e.child.childLanes?gj(t,e,r):(fr(Br,Br.current&1),t=Za(t,e,r),t!==null?t.sibling:null);fr(Br,Br.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return mj(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fr(Br,Br.current),n)break;return null;case 22:case 23:return e.lanes=0,fj(t,e,r)}return Za(t,e,r)}var vj,DA,yj,_j;vj=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};DA=function(){};yj=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_c(Xo.current);var o=null;switch(r){case"input":s=qC(t,s),n=qC(t,n),o=[];break;case"select":s=Lr({},s,{value:void 0}),n=Lr({},n,{value:void 0}),o=[];break;case"textarea":s=JC(t,s),n=JC(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=h1)}tA(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rm.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&gr("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};_j=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ep(t,e){if(!Dr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ate(t,e,r){var n=e.pendingProps;switch(m2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(e),null;case 1:return Ri(e.type)&&p1(),jn(e),null;case 3:return n=e.stateNode,nh(),br(Pi),br(Zn),C2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,so!==null&&(kA(so),so=null))),DA(t,e),jn(e),null;case 5:S2(e);var s=_c(pm.current);if(r=e.type,t!==null&&e.stateNode!=null)yj(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Pe(166));return jn(e),null}if(t=_c(Xo.current),Jy(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[jo]=e,n[fm]=o,t=(e.mode&1)!==0,r){case"dialog":gr("cancel",n),gr("close",n);break;case"iframe":case"object":case"embed":gr("load",n);break;case"video":case"audio":for(s=0;s<Zp.length;s++)gr(Zp[s],n);break;case"source":gr("error",n);break;case"img":case"image":case"link":gr("error",n),gr("load",n);break;case"details":gr("toggle",n);break;case"input":aF(n,o),gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},gr("invalid",n);break;case"textarea":uF(n,o),gr("invalid",n)}tA(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Qy(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Qy(n.textContent,l,t),s=["children",""+l]):rm.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&gr("scroll",n)}switch(r){case"input":Vy(n),lF(n,o,!0);break;case"textarea":Vy(n),cF(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=h1)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[jo]=e,t[fm]=n,vj(t,e,!1,!1),e.stateNode=t;e:{switch(a=rA(r,n),r){case"dialog":gr("cancel",t),gr("close",t),s=n;break;case"iframe":case"object":case"embed":gr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Zp.length;s++)gr(Zp[s],t);s=n;break;case"source":gr("error",t),s=n;break;case"img":case"image":case"link":gr("error",t),gr("load",t),s=n;break;case"details":gr("toggle",t),s=n;break;case"input":aF(t,n),s=qC(t,n),gr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Lr({},n,{value:void 0}),gr("invalid",t);break;case"textarea":uF(t,n),s=JC(t,n),gr("invalid",t);break;default:s=n}tA(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?X4(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K4(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nm(t,c):typeof c=="number"&&nm(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rm.hasOwnProperty(o)?c!=null&&o==="onScroll"&&gr("scroll",t):c!=null&&t2(t,o,c,a))}switch(r){case"input":Vy(t),lF(t,n,!1);break;case"textarea":Vy(t),cF(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yu(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Rf(t,!!n.multiple,o,!1):n.defaultValue!=null&&Rf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=h1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jn(e),null;case 6:if(t&&e.stateNode!=null)_j(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Pe(166));if(r=_c(pm.current),_c(Xo.current),Jy(e)){if(n=e.stateNode,r=e.memoizedProps,n[jo]=e,(o=n.nodeValue!==r)&&(t=Qi,t!==null))switch(t.tag){case 3:Qy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qy(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jo]=e,e.stateNode=n}return jn(e),null;case 13:if(br(Br),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dr&&qi!==null&&e.mode&1&&!(e.flags&128))k8(),th(),e.flags|=98560,o=!1;else if(o=Jy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Pe(317));o[jo]=e}else th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jn(e),o=!1}else so!==null&&(kA(so),so=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Br.current&1?pn===0&&(pn=3):N2())),e.updateQueue!==null&&(e.flags|=4),jn(e),null);case 4:return nh(),DA(t,e),t===null&&cm(e.stateNode.containerInfo),jn(e),null;case 10:return b2(e.type._context),jn(e),null;case 17:return Ri(e.type)&&p1(),jn(e),null;case 19:if(br(Br),o=e.memoizedState,o===null)return jn(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Ep(o,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=w1(t),a!==null){for(e.flags|=128,Ep(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return fr(Br,Br.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xr()>sh&&(e.flags|=128,n=!0,Ep(o,!1),e.lanes=4194304)}else{if(!n)if(t=w1(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ep(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Dr)return jn(e),null}else 2*Xr()-o.renderingStartTime>sh&&r!==1073741824&&(e.flags|=128,n=!0,Ep(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xr(),e.sibling=null,r=Br.current,fr(Br,n?r&1|2:r&1),e):(jn(e),null);case 22:case 23:return k2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?zi&1073741824&&(jn(e),e.subtreeFlags&6&&(e.flags|=8192)):jn(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function Tte(t,e){switch(m2(e),e.tag){case 1:return Ri(e.type)&&p1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nh(),br(Pi),br(Zn),C2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S2(e),null;case 13:if(br(Br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));th()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return br(Br),null;case 4:return nh(),null;case 10:return b2(e.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var r0=!1,Gn=!1,Dte=typeof WeakSet=="function"?WeakSet:Set,at=null;function _f(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ur(t,e,n)}else r.current=null}function PA(t,e,r){try{r()}catch(n){Ur(t,e,n)}}var JF=!1;function Pte(t,e){if(fA=c1,t=E8(),p2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var a=0,l=-1,c=-1,d=0,h=0,g=t,m=null;t:for(;;){for(var y;g!==r||s!==0&&g.nodeType!==3||(l=a+s),g!==o||n!==0&&g.nodeType!==3||(c=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)m=g,g=y;for(;;){if(g===t)break t;if(m===r&&++d===s&&(l=a),m===o&&++h===n&&(c=a),(y=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hA={focusedElem:t,selectionRange:r},c1=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var u=b.memoizedProps,f=b.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?u:to(e.type,u),f);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(w){Ur(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return b=JF,JF=!1,b}function Cg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&PA(e,r,o)}s=s.next}while(s!==n)}}function Tw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function RA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bj(t){var e=t.alternate;e!==null&&(t.alternate=null,bj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jo],delete e[fm],delete e[mA],delete e[dte],delete e[fte])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wj(t){return t.tag===5||t.tag===3||t.tag===4}function eM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=h1));else if(n!==4&&(t=t.child,t!==null))for(OA(t,e,r),t=t.sibling;t!==null;)OA(t,e,r),t=t.sibling}function IA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(IA(t,e,r),t=t.sibling;t!==null;)IA(t,e,r),t=t.sibling}var In=null,no=!1;function El(t,e,r){for(r=r.child;r!==null;)xj(t,e,r),r=r.sibling}function xj(t,e,r){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(_w,r)}catch(l){}switch(r.tag){case 5:Gn||_f(r,e);case 6:var n=In,s=no;In=null,El(t,e,r),In=n,no=s,In!==null&&(no?(t=In,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):In.removeChild(r.stateNode));break;case 18:In!==null&&(no?(t=In,r=r.stateNode,t.nodeType===8?PE(t.parentNode,r):t.nodeType===1&&PE(t,r),am(t)):PE(In,r.stateNode));break;case 4:n=In,s=no,In=r.stateNode.containerInfo,no=!0,El(t,e,r),In=n,no=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&PA(r,e,a),s=s.next}while(s!==n)}El(t,e,r);break;case 1:if(!Gn&&(_f(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ur(r,e,l)}El(t,e,r);break;case 21:El(t,e,r);break;case 22:r.mode&1?(Gn=(n=Gn)||r.memoizedState!==null,El(t,e,r),Gn=n):El(t,e,r);break;default:El(t,e,r)}}function tM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dte),e.forEach(function(n){var s=Lte.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:In=l.stateNode,no=!1;break e;case 3:In=l.stateNode.containerInfo,no=!0;break e;case 4:In=l.stateNode.containerInfo,no=!0;break e}l=l.return}if(In===null)throw Error(Pe(160));xj(o,a,s),In=null,no=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ur(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ej(e,t),e=e.sibling}function Ej(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zs(e,t),Oo(t),n&4){try{Cg(3,t,t.return),Tw(3,t)}catch(u){Ur(t,t.return,u)}try{Cg(5,t,t.return)}catch(u){Ur(t,t.return,u)}}break;case 1:Zs(e,t),Oo(t),n&512&&r!==null&&_f(r,r.return);break;case 5:if(Zs(e,t),Oo(t),n&512&&r!==null&&_f(r,r.return),t.flags&32){var s=t.stateNode;try{nm(s,"")}catch(u){Ur(t,t.return,u)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&V4(s,o),rA(l,a);var d=rA(l,o);for(a=0;a<c.length;a+=2){var h=c[a],g=c[a+1];h==="style"?X4(s,g):h==="dangerouslySetInnerHTML"?K4(s,g):h==="children"?nm(s,g):t2(s,h,g,d)}switch(l){case"input":ZC(s,o);break;case"textarea":H4(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Rf(s,!!o.multiple,y,!1):m!==!!o.multiple&&(o.defaultValue!=null?Rf(s,!!o.multiple,o.defaultValue,!0):Rf(s,!!o.multiple,o.multiple?[]:"",!1))}s[fm]=o}catch(u){Ur(t,t.return,u)}}break;case 6:if(Zs(e,t),Oo(t),n&4){if(t.stateNode===null)throw Error(Pe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(u){Ur(t,t.return,u)}}break;case 3:if(Zs(e,t),Oo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(u){Ur(t,t.return,u)}break;case 4:Zs(e,t),Oo(t);break;case 13:Zs(e,t),Oo(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(F2=Xr())),n&4&&tM(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Gn=(d=Gn)||h,Zs(e,t),Gn=d):Zs(e,t),Oo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(at=t,h=t.child;h!==null;){for(g=at=h;at!==null;){switch(m=at,y=m.child,m.tag){case 0:case 11:case 14:case 15:Cg(4,m,m.return);break;case 1:_f(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(u){Ur(n,r,u)}}break;case 5:_f(m,m.return);break;case 22:if(m.memoizedState!==null){nM(g);continue}}y!==null?(y.return=m,at=y):nM(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{s=g.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y4("display",a))}catch(u){Ur(t,t.return,u)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(u){Ur(t,t.return,u)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Zs(e,t),Oo(t),n&4&&tM(t);break;case 21:break;default:Zs(e,t),Oo(t)}}function Oo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wj(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(nm(s,""),n.flags&=-33);var o=eM(t);IA(t,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=eM(t);OA(t,l,a);break;default:throw Error(Pe(161))}}catch(c){Ur(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rte(t,e,r){at=t,Sj(t)}function Sj(t,e,r){for(var n=(t.mode&1)!==0;at!==null;){var s=at,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||r0;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gn;l=r0;var d=Gn;if(r0=a,(Gn=c)&&!d)for(at=s;at!==null;)a=at,c=a.child,a.tag===22&&a.memoizedState!==null?iM(s):c!==null?(c.return=a,at=c):iM(s);for(;o!==null;)at=o,Sj(o),o=o.sibling;at=s,r0=l,Gn=d}rM(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,at=o):rM(t)}}function rM(t){for(;at!==null;){var e=at;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gn||Tw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:to(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&UF(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}UF(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&am(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Gn||e.flags&512&&RA(e)}catch(m){Ur(e,e.return,m)}}if(e===t){at=null;break}if(r=e.sibling,r!==null){r.return=e.return,at=r;break}at=e.return}}function nM(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var r=e.sibling;if(r!==null){r.return=e.return,at=r;break}at=e.return}}function iM(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Tw(4,e)}catch(c){Ur(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Ur(e,s,c)}}var o=e.return;try{RA(e)}catch(c){Ur(e,o,c)}break;case 5:var a=e.return;try{RA(e)}catch(c){Ur(e,a,c)}}}catch(c){Ur(e,e.return,c)}if(e===t){at=null;break}var l=e.sibling;if(l!==null){l.return=e.return,at=l;break}at=e.return}}var Ote=Math.ceil,S1=cl.ReactCurrentDispatcher,I2=cl.ReactCurrentOwner,Us=cl.ReactCurrentBatchConfig,Yt=0,Dn=null,rn=null,kn=0,zi=0,bf=Uu(0),pn=0,ym=null,qc=0,Dw=0,B2=0,Ag=null,Ci=null,F2=0,sh=1/0,Sa=null,C1=!1,BA=null,lu=null,n0=!1,Yl=null,A1=0,Tg=0,FA=null,b_=-1,w_=0;function fi(){return Yt&6?Xr():b_!==-1?b_:b_=Xr()}function uu(t){return t.mode&1?Yt&2&&kn!==0?kn&-kn:pte.transition!==null?(w_===0&&(w_=a8()),w_):(t=rr,t!==0||(t=window.event,t=t===void 0?16:p8(t.type)),t):1}function go(t,e,r,n){if(50<Tg)throw Tg=0,FA=null,Error(Pe(185));Lv(t,r,n),(!(Yt&2)||t!==Dn)&&(t===Dn&&(!(Yt&2)&&(Dw|=r),pn===4&&jl(t,kn)),Oi(t,n),r===1&&Yt===0&&!(e.mode&1)&&(sh=Xr()+500,Sw&&$u()))}function Oi(t,e){var r=t.callbackNode;pee(t,e);var n=u1(t,t===Dn?kn:0);if(n===0)r!==null&&hF(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hF(r),e===1)t.tag===0?hte(sM.bind(null,t)):B8(sM.bind(null,t)),ute(function(){!(Yt&6)&&$u()}),r=null;else{switch(l8(n)){case 1:r=o2;break;case 4:r=s8;break;case 16:r=l1;break;case 536870912:r=o8;break;default:r=l1}r=Ij(r,Cj.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Cj(t,e){if(b_=-1,w_=0,Yt&6)throw Error(Pe(327));var r=t.callbackNode;if(Mf()&&t.callbackNode!==r)return null;var n=u1(t,t===Dn?kn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=T1(t,n);else{e=n;var s=Yt;Yt|=2;var o=Tj();(Dn!==t||kn!==e)&&(Sa=null,sh=Xr()+500,Ac(t,e));do try{Fte();break}catch(l){Aj(t,l)}while(1);_2(),S1.current=o,Yt=s,rn!==null?e=0:(Dn=null,kn=0,e=pn)}if(e!==0){if(e===2&&(s=aA(t),s!==0&&(n=s,e=MA(t,s))),e===1)throw r=ym,Ac(t,0),jl(t,n),Oi(t,Xr()),r;if(e===6)jl(t,n);else{if(s=t.current.alternate,!(n&30)&&!Ite(s)&&(e=T1(t,n),e===2&&(o=aA(t),o!==0&&(n=o,e=MA(t,o))),e===1))throw r=ym,Ac(t,0),jl(t,n),Oi(t,Xr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Pe(345));case 2:ac(t,Ci,Sa);break;case 3:if(jl(t,n),(n&130023424)===n&&(e=F2+500-Xr(),10<e)){if(u1(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){fi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gA(ac.bind(null,t,Ci,Sa),e);break}ac(t,Ci,Sa);break;case 4:if(jl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-po(n);o=1<<a,a=e[a],a>s&&(s=a),n&=~o}if(n=s,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ote(n/1960))-n,10<n){t.timeoutHandle=gA(ac.bind(null,t,Ci,Sa),n);break}ac(t,Ci,Sa);break;case 5:ac(t,Ci,Sa);break;default:throw Error(Pe(329))}}}return Oi(t,Xr()),t.callbackNode===r?Cj.bind(null,t):null}function MA(t,e){var r=Ag;return t.current.memoizedState.isDehydrated&&(Ac(t,e).flags|=256),t=T1(t,e),t!==2&&(e=Ci,Ci=r,e!==null&&kA(e)),t}function kA(t){Ci===null?Ci=t:Ci.push.apply(Ci,t)}function Ite(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!xo(o(),s))return!1}catch(a){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jl(t,e){for(e&=~B2,e&=~Dw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-po(e),n=1<<r;t[r]=-1,e&=~n}}function sM(t){if(Yt&6)throw Error(Pe(327));Mf();var e=u1(t,0);if(!(e&1))return Oi(t,Xr()),null;var r=T1(t,e);if(t.tag!==0&&r===2){var n=aA(t);n!==0&&(e=n,r=MA(t,n))}if(r===1)throw r=ym,Ac(t,0),jl(t,e),Oi(t,Xr()),r;if(r===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ac(t,Ci,Sa),Oi(t,Xr()),null}function M2(t,e){var r=Yt;Yt|=1;try{return t(e)}finally{Yt=r,Yt===0&&(sh=Xr()+500,Sw&&$u())}}function Zc(t){Yl!==null&&Yl.tag===0&&!(Yt&6)&&Mf();var e=Yt;Yt|=1;var r=Us.transition,n=rr;try{if(Us.transition=null,rr=1,t)return t()}finally{rr=n,Us.transition=r,Yt=e,!(Yt&6)&&$u()}}function k2(){zi=bf.current,br(bf)}function Ac(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lte(r)),rn!==null)for(r=rn.return;r!==null;){var n=r;switch(m2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&p1();break;case 3:nh(),br(Pi),br(Zn),C2();break;case 5:S2(n);break;case 4:nh();break;case 13:br(Br);break;case 19:br(Br);break;case 10:b2(n.type._context);break;case 22:case 23:k2()}r=r.return}if(Dn=t,rn=t=cu(t.current,null),kn=zi=e,pn=0,ym=null,B2=Dw=qc=0,Ci=Ag=null,yc!==null){for(e=0;e<yc.length;e++)if(r=yc[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}yc=null}return t}function Aj(t,e){do{var r=rn;try{if(_2(),v_.current=E1,x1){for(var n=Nr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}x1=!1}if(Xc=0,En=hn=Nr=null,Sg=!1,gm=0,I2.current=null,r===null||r.return===null){pn=1,ym=e,rn=null;break}e:{var o=t,a=r.return,l=r,c=e;if(e=kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=WF(a);if(y!==null){y.flags&=-257,KF(y,a,l,o,e),y.mode&1&&HF(o,d,e),e=y,c=d;var b=e.updateQueue;if(b===null){var u=new Set;u.add(c),e.updateQueue=u}else b.add(c);break e}else{if(!(e&1)){HF(o,d,e),N2();break e}c=Error(Pe(426))}}else if(Dr&&l.mode&1){var f=WF(a);if(f!==null){!(f.flags&65536)&&(f.flags|=256),KF(f,a,l,o,e),v2(ih(c,l));break e}}o=c=ih(c,l),pn!==4&&(pn=2),Ag===null?Ag=[o]:Ag.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=uj(o,c,e);LF(o,p);break e;case 1:l=c;var v=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(lu===null||!lu.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=cj(o,l,e);LF(o,w);break e}}o=o.return}while(o!==null)}Pj(r)}catch(x){e=x,rn===r&&r!==null&&(rn=r=r.return);continue}break}while(1)}function Tj(){var t=S1.current;return S1.current=E1,t===null?E1:t}function N2(){(pn===0||pn===3||pn===2)&&(pn=4),Dn===null||!(qc&268435455)&&!(Dw&268435455)||jl(Dn,kn)}function T1(t,e){var r=Yt;Yt|=2;var n=Tj();(Dn!==t||kn!==e)&&(Sa=null,Ac(t,e));do try{Bte();break}catch(s){Aj(t,s)}while(1);if(_2(),Yt=r,S1.current=n,rn!==null)throw Error(Pe(261));return Dn=null,kn=0,pn}function Bte(){for(;rn!==null;)Dj(rn)}function Fte(){for(;rn!==null&&!see();)Dj(rn)}function Dj(t){var e=Oj(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?Pj(t):rn=e,I2.current=null}function Pj(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Tte(r,e),r!==null){r.flags&=32767,rn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,rn=null;return}}else if(r=Ate(r,e,zi),r!==null){rn=r;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);pn===0&&(pn=5)}function ac(t,e,r){var n=rr,s=Us.transition;try{Us.transition=null,rr=1,Mte(t,e,r,n)}finally{Us.transition=s,rr=n}return null}function Mte(t,e,r,n){do Mf();while(Yl!==null);if(Yt&6)throw Error(Pe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(gee(t,o),t===Dn&&(rn=Dn=null,kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n0||(n0=!0,Ij(l1,function(){return Mf(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Us.transition,Us.transition=null;var a=rr;rr=1;var l=Yt;Yt|=4,I2.current=null,Pte(t,r),Ej(r,t),tte(hA),c1=!!fA,hA=fA=null,t.current=r,Rte(r),oee(),Yt=l,rr=a,Us.transition=o}else t.current=r;if(n0&&(n0=!1,Yl=t,A1=s),o=t.pendingLanes,o===0&&(lu=null),uee(r.stateNode),Oi(t,Xr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(C1)throw C1=!1,t=BA,BA=null,t;return A1&1&&t.tag!==0&&Mf(),o=t.pendingLanes,o&1?t===FA?Tg++:(Tg=0,FA=t):Tg=0,$u(),null}function Mf(){if(Yl!==null){var t=l8(A1),e=Us.transition,r=rr;try{if(Us.transition=null,rr=16>t?16:t,Yl===null)var n=!1;else{if(t=Yl,Yl=null,A1=0,Yt&6)throw Error(Pe(331));var s=Yt;for(Yt|=4,at=t.current;at!==null;){var o=at,a=o.child;if(at.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(at=d;at!==null;){var h=at;switch(h.tag){case 0:case 11:case 15:Cg(8,h,o)}var g=h.child;if(g!==null)g.return=h,at=g;else for(;at!==null;){h=at;var m=h.sibling,y=h.return;if(bj(h),h===d){at=null;break}if(m!==null){m.return=y,at=m;break}at=y}}}var b=o.alternate;if(b!==null){var u=b.child;if(u!==null){b.child=null;do{var f=u.sibling;u.sibling=null,u=f}while(u!==null)}}at=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,at=a;else e:for(;at!==null;){if(o=at,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cg(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,at=p;break e}at=o.return}}var v=t.current;for(at=v;at!==null;){a=at;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,at=_;else e:for(a=v;at!==null;){if(l=at,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tw(9,l)}}catch(x){Ur(l,l.return,x)}if(l===a){at=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,at=w;break e}at=l.return}}if(Yt=s,$u(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(_w,t)}catch(x){}n=!0}return n}finally{rr=r,Us.transition=e}}return!1}function oM(t,e,r){e=ih(r,e),e=uj(t,e,1),t=au(t,e,1),e=fi(),t!==null&&(Lv(t,1,e),Oi(t,e))}function Ur(t,e,r){if(t.tag===3)oM(t,t,r);else for(;e!==null;){if(e.tag===3){oM(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(lu===null||!lu.has(n))){t=ih(r,t),t=cj(e,t,1),e=au(e,t,1),t=fi(),e!==null&&(Lv(e,1,t),Oi(e,t));break}}e=e.return}}function kte(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fi(),t.pingedLanes|=t.suspendedLanes&r,Dn===t&&(kn&r)===r&&(pn===4||pn===3&&(kn&130023424)===kn&&500>Xr()-F2?Ac(t,0):B2|=r),Oi(t,e)}function Rj(t,e){e===0&&(t.mode&1?(e=Ky,Ky<<=1,!(Ky&130023424)&&(Ky=4194304)):e=1);var r=fi();t=qa(t,e),t!==null&&(Lv(t,e,r),Oi(t,r))}function Nte(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Rj(t,r)}function Lte(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(e),Rj(t,r)}var Oj;Oj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pi.current)Ti=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ti=!1,Cte(t,e,r);Ti=!!(t.flags&131072)}else Ti=!1,Dr&&e.flags&1048576&&F8(e,v1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;__(t,e),t=e.pendingProps;var s=eh(e,Zn.current);Ff(e,r),s=T2(null,e,n,t,s,r);var o=D2();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(n)?(o=!0,g1(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,x2(e),s.updater=Cw,e.stateNode=s,s._reactInternals=e,xA(e,n,t,r),e=CA(null,e,n,!0,o,r)):(e.tag=0,Dr&&o&&g2(e),si(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(__(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=$te(n),t=to(n,t),s){case 0:e=SA(null,e,n,t,r);break e;case 1:e=qF(null,e,n,t,r);break e;case 11:e=YF(null,e,n,t,r);break e;case 14:e=XF(null,e,n,to(n.type,t),r);break e}throw Error(Pe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:to(n,s),SA(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:to(n,s),qF(t,e,n,s,r);case 3:e:{if(pj(e),t===null)throw Error(Pe(387));n=e.pendingProps,o=e.memoizedState,s=o.element,L8(t,e),b1(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ih(Error(Pe(423)),e),e=ZF(t,e,n,r,s);break e}else if(n!==s){s=ih(Error(Pe(424)),e),e=ZF(t,e,n,r,s);break e}else for(qi=ou(e.stateNode.containerInfo.firstChild),Qi=e,Dr=!0,so=null,r=z8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(th(),n===s){e=Za(t,e,r);break e}si(t,e,n,r)}e=e.child}return e;case 5:return G8(e),t===null&&_A(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,pA(n,s)?a=null:o!==null&&pA(n,o)&&(e.flags|=32),hj(t,e),si(t,e,a,r),e.child;case 6:return t===null&&_A(e),null;case 13:return gj(t,e,r);case 4:return E2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rh(e,null,n,r):si(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:to(n,s),YF(t,e,n,s,r);case 7:return si(t,e,e.pendingProps,r),e.child;case 8:return si(t,e,e.pendingProps.children,r),e.child;case 12:return si(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,fr(y1,n._currentValue),n._currentValue=a,o!==null)if(xo(o.value,a)){if(o.children===s.children&&!Pi.current){e=Za(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ga(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),bA(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Pe(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),bA(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}si(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ff(e,r),s=Vs(s),n=n(s),e.flags|=1,si(t,e,n,r),e.child;case 14:return n=e.type,s=to(n,e.pendingProps),s=to(n.type,s),XF(t,e,n,s,r);case 15:return dj(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:to(n,s),__(t,e),e.tag=1,Ri(n)?(t=!0,g1(e)):t=!1,Ff(e,r),$8(e,n,s),xA(e,n,s,r),CA(null,e,n,!0,t,r);case 19:return mj(t,e,r);case 22:return fj(t,e,r)}throw Error(Pe(156,e.tag))};function Ij(t,e){return i8(t,e)}function Ute(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(t,e,r,n){return new Ute(t,e,r,n)}function L2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $te(t){if(typeof t=="function")return L2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n2)return 11;if(t===i2)return 14}return 2}function cu(t,e){var r=t.alternate;return r===null?(r=Is(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function x_(t,e,r,n,s,o){var a=2;if(n=t,typeof t=="function")L2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case cf:return Tc(r.children,s,o,e);case r2:a=8,s|=8;break;case WC:return t=Is(12,r,e,s|2),t.elementType=WC,t.lanes=o,t;case KC:return t=Is(13,r,e,s),t.elementType=KC,t.lanes=o,t;case YC:return t=Is(19,r,e,s),t.elementType=YC,t.lanes=o,t;case j4:return Pw(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U4:a=10;break e;case $4:a=9;break e;case n2:a=11;break e;case i2:a=14;break e;case Il:a=16,n=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=Is(a,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Tc(t,e,r,n){return t=Is(7,t,n,e),t.lanes=r,t}function Pw(t,e,r,n){return t=Is(22,t,n,e),t.elementType=j4,t.lanes=r,t.stateNode={isHidden:!1},t}function NE(t,e,r){return t=Is(6,t,null,e),t.lanes=r,t}function LE(t,e,r){return e=Is(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jte(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yE(0),this.expirationTimes=yE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yE(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function U2(t,e,r,n,s,o,a,l,c){return t=new jte(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Is(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x2(o),t}function zte(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bj(t){if(!t)return _u;t=t._reactInternals;e:{if(dd(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var r=t.type;if(Ri(r))return I8(t,r,e)}return e}function Fj(t,e,r,n,s,o,a,l,c){return t=U2(r,n,!0,t,s,o,a,l,c),t.context=Bj(null),r=t.current,n=fi(),s=uu(r),o=Ga(n,s),o.callback=e!=null?e:null,au(r,o,s),t.current.lanes=s,Lv(t,s,n),Oi(t,n),t}function Rw(t,e,r,n){var s=e.current,o=fi(),a=uu(s);return r=Bj(r),e.context===null?e.context=r:e.pendingContext=r,e=Ga(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=au(s,e,a),t!==null&&(go(t,s,a,o),m_(t,s,a)),a}function D1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $2(t,e){aM(t,e),(t=t.alternate)&&aM(t,e)}function Gte(){return null}var Mj=typeof reportError=="function"?reportError:function(t){console.error(t)};function j2(t){this._internalRoot=t}Ow.prototype.render=j2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Rw(t,e,null,null)};Ow.prototype.unmount=j2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zc(function(){Rw(null,t,null,null)}),e[Xa]=null}};function Ow(t){this._internalRoot=t}Ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=d8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$l.length&&e!==0&&e<$l[r].priority;r++);$l.splice(r,0,t),r===0&&h8(t)}};function z2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lM(){}function Vte(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=D1(a);o.call(d)}}var a=Fj(e,n,t,0,null,!1,!1,"",lM);return t._reactRootContainer=a,t[Xa]=a.current,cm(t.nodeType===8?t.parentNode:t),Zc(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=D1(c);l.call(d)}}var c=U2(t,0,!1,null,null,!1,!1,"",lM);return t._reactRootContainer=c,t[Xa]=c.current,cm(t.nodeType===8?t.parentNode:t),Zc(function(){Rw(e,c,r,n)}),c}function Bw(t,e,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=D1(a);l.call(c)}}Rw(e,a,t,s)}else a=Vte(r,e,t,s,n);return D1(a)}u8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qp(e.pendingLanes);r!==0&&(a2(e,r|1),Oi(e,Xr()),!(Yt&6)&&(sh=Xr()+500,$u()))}break;case 13:Zc(function(){var n=qa(t,1);if(n!==null){var s=fi();go(n,t,1,s)}}),$2(t,1)}};l2=function(t){if(t.tag===13){var e=qa(t,134217728);if(e!==null){var r=fi();go(e,t,134217728,r)}$2(t,134217728)}};c8=function(t){if(t.tag===13){var e=uu(t),r=qa(t,e);if(r!==null){var n=fi();go(r,t,e,n)}$2(t,e)}};d8=function(){return rr};f8=function(t,e){var r=rr;try{return rr=t,e()}finally{rr=r}};iA=function(t,e,r){switch(e){case"input":if(ZC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ew(n);if(!s)throw Error(Pe(90));G4(n),ZC(n,s)}}}break;case"textarea":H4(t,r);break;case"select":e=r.value,e!=null&&Rf(t,!!r.multiple,e,!1)}};Q4=M2;J4=Zc;var Hte={usingClientEntryPoint:!1,Events:[$v,pf,Ew,q4,Z4,M2]},Sp={findFiberByHostInstance:vc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wte={bundleType:Sp.bundleType,version:Sp.version,rendererPackageName:Sp.rendererPackageName,rendererConfig:Sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r8(t),t===null?null:t.stateNode},findFiberByHostInstance:Sp.findFiberByHostInstance||Gte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{_w=i0.inject(Wte),Yo=i0}catch(t){}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hte;as.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z2(e))throw Error(Pe(200));return zte(t,e,null,r)};as.createRoot=function(t,e){if(!z2(t))throw Error(Pe(299));var r=!1,n="",s=Mj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=U2(t,1,!1,null,null,r,!1,n,s),t[Xa]=e.current,cm(t.nodeType===8?t.parentNode:t),new j2(e)};as.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=r8(e),t=t===null?null:t.stateNode,t};as.flushSync=function(t){return Zc(t)};as.hydrate=function(t,e,r){if(!Iw(e))throw Error(Pe(200));return Bw(null,t,e,!0,r)};as.hydrateRoot=function(t,e,r){if(!z2(t))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=Mj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Fj(e,null,t,1,r!=null?r:null,s,!1,o,a),t[Xa]=e.current,cm(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ow(e)};as.render=function(t,e,r){if(!Iw(e))throw Error(Pe(200));return Bw(null,t,e,!1,r)};as.unmountComponentAtNode=function(t){if(!Iw(t))throw Error(Pe(40));return t._reactRootContainer?(Zc(function(){Bw(null,null,t,!1,function(){t._reactRootContainer=null,t[Xa]=null})}),!0):!1};as.unstable_batchedUpdates=M2;as.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Iw(r))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return Bw(t,e,r,!1,n)};as.version="18.2.0-next-9e3b772b8-20220608";function kj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kj)}catch(t){console.error(t)}}kj(),F4.exports=as;var dl=F4.exports;const G2=Un(dl);var uM=dl;nF.createRoot=uM.createRoot,nF.hydrateRoot=uM.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$r.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));const cM="popstate";function Kte(t){t===void 0&&(t={});function e(s,o){let{pathname:a="/",search:l="",hash:c=""}=aa(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),_m("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof o=="string"?o:zv(o))}function n(s,o){bu(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Xte(e,r,n,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function Yte(){return Math.random().toString(36).substr(2,8)}function dM(t,e){return{usr:t.state,key:t.key,idx:e}}function _m(t,e,r,n){return r===void 0&&(r=null),$r({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?aa(e):e,{state:r,key:e&&e.key||n||Yte()})}function zv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function aa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Xte(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=Vr.Pop,c=null,d=h();d==null&&(d=0,a.replaceState($r({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function g(){l=Vr.Pop;let f=h(),p=f==null?null:f-d;d=f,c&&c({action:l,location:u.location,delta:p})}function m(f,p){l=Vr.Push;let v=_m(u.location,f,p);r&&r(v,f),d=h()+1;let _=dM(v,d),w=u.createHref(v);try{a.pushState(_,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(w)}o&&c&&c({action:l,location:u.location,delta:1})}function y(f,p){l=Vr.Replace;let v=_m(u.location,f,p);r&&r(v,f),d=h();let _=dM(v,d),w=u.createHref(v);a.replaceState(_,"",w),o&&c&&c({action:l,location:u.location,delta:0})}function b(f){let p=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof f=="string"?f:zv(f);return Wt(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let u={get action(){return l},get location(){return t(s,a)},listen(f){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cM,g),c=f,()=>{s.removeEventListener(cM,g),c=null}},createHref(f){return e(s,f)},createURL:b,encodeLocation(f){let p=b(f);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(f){return a.go(f)}};return u}var Hr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hr||(Hr={}));const qte=new Set(["lazy","caseSensitive","path","id","index","children"]);function Zte(t){return t.index===!0}function NA(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,o)=>{let a=[...r,o],l=typeof s.id=="string"?s.id:a.join("-");if(Wt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Wt(!n[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),Zte(s)){let c=$r({},s,e(s),{id:l});return n[l]=c,c}else{let c=$r({},s,e(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=NA(s.children,e,a,n)),c}})}function wf(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?aa(e):e,s=Gv(n.pathname||"/",r);if(s==null)return null;let o=Nj(t);Jte(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=lre(o[l],dre(s));return a}function Qte(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function Nj(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Dc([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Nj(o.children,e,h,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:ore(d,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Lj(o.path))s(o,a,c)}),e}function Lj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=Lj(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jte(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:are(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ere=/^:\w+$/,tre=3,rre=2,nre=1,ire=10,sre=-2,fM=t=>t==="*";function ore(t,e){let r=t.split("/"),n=r.length;return r.some(fM)&&(n+=sre),e&&(n+=rre),r.filter(s=>!fM(s)).reduce((s,o)=>s+(ere.test(o)?tre:o===""?nre:ire),n)}function are(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function lre(t,e){let{routesMeta:r}=t,n={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=ure({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!h)return null;Object.assign(n,h.params);let g=l.route;o.push({params:n,pathname:Dc([s,h.pathname]),pathnameBase:mre(Dc([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Dc([s,h.pathnameBase]))}return o}function ure(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cre(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,h,g)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let u=l[g]||"";a=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}const b=l[g];return y&&!b?d[m]=void 0:d[m]=fre(b||"",m),d},{}),pathname:o,pathnameBase:a,pattern:t}}function cre(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),bu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function dre(t){try{return decodeURI(t)}catch(e){return bu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fre(t,e){try{return decodeURIComponent(t)}catch(r){return bu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Gv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hre(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?aa(t):t;return{pathname:r?r.startsWith("/")?r:pre(r,e):e,search:vre(n),hash:yre(s)}}function pre(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function UE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gre(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=aa(t):(s=$r({},t),Wt(!s.pathname||!s.pathname.includes("?"),UE("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),UE("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),UE("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(n||a==null)l=r;else{let g=e.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}l=g>=0?e[g]:"/"}let c=hre(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Dc=t=>t.join("/").replace(/\/\/+/g,"/"),mre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vre=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class V2{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function $j(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jj=["post","put","patch","delete"],_re=new Set(jj),bre=["get",...jj],wre=new Set(bre),xre=new Set([301,302,303,307,308]),Ere=new Set([307,308]),$E={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sre={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cre=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Gj="remix-router-transitions";function Are(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Wt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let te=t.detectErrorBoundary;s=ae=>({hasErrorBoundary:te(ae)})}else s=Cre;let o={},a=NA(t.routes,s,void 0,o),l,c=t.basename||"/",d=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),h=null,g=new Set,m=null,y=null,b=null,u=t.hydrationData!=null,f=wf(a,t.history.location,c),p=null;if(f==null){let te=bs(404,{pathname:t.history.location.pathname}),{matches:ae,route:de}=bM(a);f=ae,p={[de.id]:te}}let v=!f.some(te=>te.route.lazy)&&(!f.some(te=>te.route.loader)||t.hydrationData!=null),_,w={historyAction:t.history.action,location:t.history.location,matches:f,initialized:v,navigation:$E,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},x=Vr.Pop,S=!1,A,D=!1,C=new Map,T=null,R=!1,P=!1,O=[],I=[],k=new Map,W=0,V=-1,j=new Map,$=new Set,K=new Map,J=new Map,ue=new Set,pe=new Map,oe=new Map,he=!1;function X(){if(h=t.history.listen(te=>{let{action:ae,location:de,delta:Ee}=te;if(he){he=!1;return}bu(oe.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Be=Q({currentLocation:w.location,nextLocation:de,historyAction:ae});if(Be&&Ee!=null){he=!0,t.history.go(Ee*-1),U(Be,{state:"blocked",location:de,proceed(){U(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),t.history.go(Ee)},reset(){let We=new Map(w.blockers);We.set(Be,Cp),H({blockers:We})}});return}return be(ae,de)}),r){Nre(e,C);let te=()=>Lre(e,C);e.addEventListener("pagehide",te),T=()=>e.removeEventListener("pagehide",te)}return w.initialized||be(Vr.Pop,w.location),_}function z(){h&&h(),T&&T(),g.clear(),A&&A.abort(),w.fetchers.forEach((te,ae)=>Te(ae)),w.blockers.forEach((te,ae)=>B(ae))}function G(te){return g.add(te),()=>g.delete(te)}function H(te,ae){w=$r({},w,te);let de=[],Ee=[];d.v7_fetcherPersist&&w.fetchers.forEach((Be,We)=>{Be.state==="idle"&&(ue.has(We)?Ee.push(We):de.push(We))}),g.forEach(Be=>Be(w,{deletedFetchers:Ee,unstable_viewTransitionOpts:ae})),d.v7_fetcherPersist&&(de.forEach(Be=>w.fetchers.delete(Be)),Ee.forEach(Be=>Te(Be)))}function re(te,ae){var de,Ee;let Be=w.actionData!=null&&w.navigation.formMethod!=null&&io(w.navigation.formMethod)&&w.navigation.state==="loading"&&((de=te.state)==null?void 0:de._isRedirect)!==!0,We;ae.actionData?Object.keys(ae.actionData).length>0?We=ae.actionData:We=null:Be?We=w.actionData:We=null;let Ze=ae.loaderData?_M(w.loaderData,ae.loaderData,ae.matches||[],ae.errors):w.loaderData,De=w.blockers;De.size>0&&(De=new Map(De),De.forEach((Ce,Ne)=>De.set(Ne,Cp)));let Qe=S===!0||w.navigation.formMethod!=null&&io(w.navigation.formMethod)&&((Ee=te.state)==null?void 0:Ee._isRedirect)!==!0;l&&(a=l,l=void 0),R||x===Vr.Pop||(x===Vr.Push?t.history.push(te,te.state):x===Vr.Replace&&t.history.replace(te,te.state));let Fe;if(x===Vr.Pop){let Ce=C.get(w.location.pathname);Ce&&Ce.has(te.pathname)?Fe={currentLocation:w.location,nextLocation:te}:C.has(te.pathname)&&(Fe={currentLocation:te,nextLocation:w.location})}else if(D){let Ce=C.get(w.location.pathname);Ce?Ce.add(te.pathname):(Ce=new Set([te.pathname]),C.set(w.location.pathname,Ce)),Fe={currentLocation:w.location,nextLocation:te}}H($r({},ae,{actionData:We,loaderData:Ze,historyAction:x,location:te,initialized:!0,navigation:$E,revalidation:"idle",restoreScrollPosition:Xe(te,ae.matches||w.matches),preventScrollReset:Qe,blockers:De}),Fe),x=Vr.Pop,S=!1,D=!1,R=!1,P=!1,O=[],I=[]}async function ne(te,ae){if(typeof te=="number"){t.history.go(te);return}let de=LA(w.location,w.matches,c,d.v7_prependBasename,te,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:Ee,submission:Be,error:We}=hM(d.v7_normalizeFormMethod,!1,de,ae),Ze=w.location,De=_m(w.location,Ee,ae&&ae.state);De=$r({},De,t.history.encodeLocation(De));let Qe=ae&&ae.replace!=null?ae.replace:void 0,Fe=Vr.Push;Qe===!0?Fe=Vr.Replace:Qe===!1||Be!=null&&io(Be.formMethod)&&Be.formAction===w.location.pathname+w.location.search&&(Fe=Vr.Replace);let Ce=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ne=Q({currentLocation:Ze,nextLocation:De,historyAction:Fe});if(Ne){U(Ne,{state:"blocked",location:De,proceed(){U(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),ne(te,ae)},reset(){let Le=new Map(w.blockers);Le.set(Ne,Cp),H({blockers:Le})}});return}return await be(Fe,De,{submission:Be,pendingError:We,preventScrollReset:Ce,replace:ae&&ae.replace,enableViewTransition:ae&&ae.unstable_viewTransition})}function _e(){if(ve(),H({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){be(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}be(x||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function be(te,ae,de){A&&A.abort(),A=null,x=te,R=(de&&de.startUninterruptedRevalidation)===!0,ut(w.location,w.matches),S=(de&&de.preventScrollReset)===!0,D=(de&&de.enableViewTransition)===!0;let Ee=l||a,Be=de&&de.overrideNavigation,We=wf(Ee,ae,c);if(!We){let Le=bs(404,{pathname:ae.pathname}),{matches:Je,route:Tt}=bM(Ee);ie(),re(ae,{matches:Je,loaderData:{},errors:{[Tt.id]:Le}});return}if(w.initialized&&!P&&Ore(w.location,ae)&&!(de&&de.submission&&io(de.submission.formMethod))){re(ae,{matches:We});return}A=new AbortController;let Ze=Tp(t.history,ae,A.signal,de&&de.submission),De,Qe;if(de&&de.pendingError)Qe={[Dg(We).route.id]:de.pendingError};else if(de&&de.submission&&io(de.submission.formMethod)){let Le=await xe(Ze,ae,de.submission,We,{replace:de.replace});if(Le.shortCircuited)return;De=Le.pendingActionData,Qe=Le.pendingActionError,Be=jE(ae,de.submission),Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:Fe,loaderData:Ce,errors:Ne}=await Se(Ze,ae,We,Be,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,De,Qe);Fe||(A=null,re(ae,$r({matches:We},De?{actionData:De}:{},{loaderData:Ce,errors:Ne})))}async function xe(te,ae,de,Ee,Be){Be===void 0&&(Be={}),ve();let We=Mre(ae,de);H({navigation:We});let Ze,De=$A(Ee,ae);if(!De.route.action&&!De.route.lazy)Ze={type:Hr.error,error:bs(405,{method:te.method,pathname:ae.pathname,routeId:De.route.id})};else if(Ze=await Ap("action",te,De,Ee,o,s,c),te.signal.aborted)return{shortCircuited:!0};if(kf(Ze)){let Qe;return Be&&Be.replace!=null?Qe=Be.replace:Qe=Ze.location===w.location.pathname+w.location.search,await le(w,Ze,{submission:de,replace:Qe}),{shortCircuited:!0}}if(Pg(Ze)){let Qe=Dg(Ee,De.route.id);return(Be&&Be.replace)!==!0&&(x=Vr.Push),{pendingActionData:{},pendingActionError:{[Qe.route.id]:Ze.error}}}if(bc(Ze))throw bs(400,{type:"defer-action"});return{pendingActionData:{[De.route.id]:Ze.data}}}async function Se(te,ae,de,Ee,Be,We,Ze,De,Qe){let Fe=Ee||jE(ae,Be),Ce=Be||We||EM(Fe),Ne=l||a,[Le,Je]=pM(t.history,w,de,Ce,ae,P,O,I,K,$,Ne,c,De,Qe);if(ie(It=>!(de&&de.some(hr=>hr.route.id===It))||Le&&Le.some(hr=>hr.route.id===It)),V=++W,Le.length===0&&Je.length===0){let It=xt();return re(ae,$r({matches:de,loaderData:{},errors:Qe||null},De?{actionData:De}:{},It?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!R){Je.forEach(hr=>{let _i=w.fetchers.get(hr.key),Ut=Dp(void 0,_i?_i.data:void 0);w.fetchers.set(hr.key,Ut)});let It=De||w.actionData;H($r({navigation:Fe},It?Object.keys(It).length===0?{actionData:null}:{actionData:It}:{},Je.length>0?{fetchers:new Map(w.fetchers)}:{}))}Je.forEach(It=>{k.has(It.key)&&je(It.key),It.controller&&k.set(It.key,It.controller)});let Tt=()=>Je.forEach(It=>je(It.key));A&&A.signal.addEventListener("abort",Tt);let{results:er,loaderResults:tr,fetcherResults:qr}=await Ae(w.matches,de,Le,Je,te);if(te.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Tt),Je.forEach(It=>k.delete(It.key));let wr=wM(er);if(wr){if(wr.idx>=Le.length){let It=Je[wr.idx-Le.length].key;$.add(It)}return await le(w,wr.result,{replace:Ze}),{shortCircuited:!0}}let{loaderData:kt,errors:cn}=yM(w,de,Le,tr,Qe,Je,qr,pe);pe.forEach((It,hr)=>{It.subscribe(_i=>{(_i||It.done)&&pe.delete(hr)})});let Nt=xt(),dn=Ke(V),Gr=Nt||dn||Je.length>0;return $r({loaderData:kt,errors:cn},Gr?{fetchers:new Map(w.fetchers)}:{})}function dt(te){return d.v7_fetcherPersist&&(J.set(te,(J.get(te)||0)+1),ue.has(te)&&ue.delete(te)),w.fetchers.get(te)||Sre}function wt(te,ae,de,Ee){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(te)&&je(te);let Be=l||a,We=LA(w.location,w.matches,c,d.v7_prependBasename,de,ae,Ee==null?void 0:Ee.relative),Ze=wf(Be,We,c);if(!Ze){ye(te,ae,bs(404,{pathname:We}));return}let{path:De,submission:Qe,error:Fe}=hM(d.v7_normalizeFormMethod,!0,We,Ee);if(Fe){ye(te,ae,Fe);return}let Ce=$A(Ze,De);if(S=(Ee&&Ee.preventScrollReset)===!0,Qe&&io(Qe.formMethod)){Y(te,ae,De,Ce,Ze,Qe);return}K.set(te,{routeId:ae,path:De}),se(te,ae,De,Ce,Ze,Qe)}async function Y(te,ae,de,Ee,Be,We){if(ve(),K.delete(te),!Ee.route.action&&!Ee.route.lazy){let Ut=bs(405,{method:We.formMethod,pathname:de,routeId:ae});ye(te,ae,Ut);return}let Ze=w.fetchers.get(te),De=kre(We,Ze);w.fetchers.set(te,De),H({fetchers:new Map(w.fetchers)});let Qe=new AbortController,Fe=Tp(t.history,de,Qe.signal,We);k.set(te,Qe);let Ce=W,Ne=await Ap("action",Fe,Ee,Be,o,s,c);if(Fe.signal.aborted){k.get(te)===Qe&&k.delete(te);return}if(ue.has(te)){w.fetchers.set(te,Dl(void 0)),H({fetchers:new Map(w.fetchers)});return}if(kf(Ne))if(k.delete(te),V>Ce){let Ut=Dl(void 0);w.fetchers.set(te,Ut),H({fetchers:new Map(w.fetchers)});return}else{$.add(te);let Ut=Dp(We);return w.fetchers.set(te,Ut),H({fetchers:new Map(w.fetchers)}),le(w,Ne,{fetcherSubmission:We})}if(Pg(Ne)){ye(te,ae,Ne.error);return}if(bc(Ne))throw bs(400,{type:"defer-action"});let Le=w.navigation.location||w.location,Je=Tp(t.history,Le,Qe.signal),Tt=l||a,er=w.navigation.state!=="idle"?wf(Tt,w.navigation.location,c):w.matches;Wt(er,"Didn't find any matches after fetcher action");let tr=++W;j.set(te,tr);let qr=Dp(We,Ne.data);w.fetchers.set(te,qr);let[wr,kt]=pM(t.history,w,er,We,Le,P,O,I,K,$,Tt,c,{[Ee.route.id]:Ne.data},void 0);kt.filter(Ut=>Ut.key!==te).forEach(Ut=>{let bi=Ut.key,bl=w.fetchers.get(bi),ds=Dp(void 0,bl?bl.data:void 0);w.fetchers.set(bi,ds),k.has(bi)&&je(bi),Ut.controller&&k.set(bi,Ut.controller)}),H({fetchers:new Map(w.fetchers)});let cn=()=>kt.forEach(Ut=>je(Ut.key));Qe.signal.addEventListener("abort",cn);let{results:Nt,loaderResults:dn,fetcherResults:Gr}=await Ae(w.matches,er,wr,kt,Je);if(Qe.signal.aborted)return;Qe.signal.removeEventListener("abort",cn),j.delete(te),k.delete(te),kt.forEach(Ut=>k.delete(Ut.key));let It=wM(Nt);if(It){if(It.idx>=wr.length){let Ut=kt[It.idx-wr.length].key;$.add(Ut)}return le(w,It.result)}let{loaderData:hr,errors:_i}=yM(w,w.matches,wr,dn,void 0,kt,Gr,pe);if(w.fetchers.has(te)){let Ut=Dl(Ne.data);w.fetchers.set(te,Ut)}Ke(tr),w.navigation.state==="loading"&&tr>V?(Wt(x,"Expected pending action"),A&&A.abort(),re(w.navigation.location,{matches:er,loaderData:hr,errors:_i,fetchers:new Map(w.fetchers)})):(H({errors:_i,loaderData:_M(w.loaderData,hr,er,_i),fetchers:new Map(w.fetchers)}),P=!1)}async function se(te,ae,de,Ee,Be,We){let Ze=w.fetchers.get(te),De=Dp(We,Ze?Ze.data:void 0);w.fetchers.set(te,De),H({fetchers:new Map(w.fetchers)});let Qe=new AbortController,Fe=Tp(t.history,de,Qe.signal);k.set(te,Qe);let Ce=W,Ne=await Ap("loader",Fe,Ee,Be,o,s,c);if(bc(Ne)&&(Ne=await Wj(Ne,Fe.signal,!0)||Ne),k.get(te)===Qe&&k.delete(te),Fe.signal.aborted)return;if(ue.has(te)){w.fetchers.set(te,Dl(void 0)),H({fetchers:new Map(w.fetchers)});return}if(kf(Ne))if(V>Ce){let Je=Dl(void 0);w.fetchers.set(te,Je),H({fetchers:new Map(w.fetchers)});return}else{$.add(te),await le(w,Ne);return}if(Pg(Ne)){ye(te,ae,Ne.error);return}Wt(!bc(Ne),"Unhandled fetcher deferred data");let Le=Dl(Ne.data);w.fetchers.set(te,Le),H({fetchers:new Map(w.fetchers)})}async function le(te,ae,de){let{submission:Ee,fetcherSubmission:Be,replace:We}=de===void 0?{}:de;ae.revalidate&&(P=!0);let Ze=_m(te.location,ae.location,{_isRedirect:!0});if(Wt(Ze,"Expected a location on the redirect navigation"),r){let Le=!1;if(ae.reloadDocument)Le=!0;else if(zj.test(ae.location)){const Je=t.history.createURL(ae.location);Le=Je.origin!==e.location.origin||Gv(Je.pathname,c)==null}if(Le){We?e.location.replace(ae.location):e.location.assign(ae.location);return}}A=null;let De=We===!0?Vr.Replace:Vr.Push,{formMethod:Qe,formAction:Fe,formEncType:Ce}=te.navigation;!Ee&&!Be&&Qe&&Fe&&Ce&&(Ee=EM(te.navigation));let Ne=Ee||Be;if(Ere.has(ae.status)&&Ne&&io(Ne.formMethod))await be(De,Ze,{submission:$r({},Ne,{formAction:ae.location}),preventScrollReset:S});else{let Le=jE(Ze,Ee);await be(De,Ze,{overrideNavigation:Le,fetcherSubmission:Be,preventScrollReset:S})}}async function Ae(te,ae,de,Ee,Be){let We=await Promise.all([...de.map(Qe=>Ap("loader",Be,Qe,ae,o,s,c)),...Ee.map(Qe=>Qe.matches&&Qe.match&&Qe.controller?Ap("loader",Tp(t.history,Qe.path,Qe.controller.signal),Qe.match,Qe.matches,o,s,c):{type:Hr.error,error:bs(404,{pathname:Qe.path})})]),Ze=We.slice(0,de.length),De=We.slice(de.length);return await Promise.all([xM(te,de,Ze,Ze.map(()=>Be.signal),!1,w.loaderData),xM(te,Ee.map(Qe=>Qe.match),De,Ee.map(Qe=>Qe.controller?Qe.controller.signal:null),!0)]),{results:We,loaderResults:Ze,fetcherResults:De}}function ve(){P=!0,O.push(...ie()),K.forEach((te,ae)=>{k.has(ae)&&(I.push(ae),je(ae))})}function ye(te,ae,de){let Ee=Dg(w.matches,ae);Te(te),H({errors:{[Ee.route.id]:de},fetchers:new Map(w.fetchers)})}function Te(te){let ae=w.fetchers.get(te);k.has(te)&&!(ae&&ae.state==="loading"&&j.has(te))&&je(te),K.delete(te),j.delete(te),$.delete(te),ue.delete(te),w.fetchers.delete(te)}function Re(te){if(d.v7_fetcherPersist){let ae=(J.get(te)||0)-1;ae<=0?(J.delete(te),ue.add(te)):J.set(te,ae)}else Te(te);H({fetchers:new Map(w.fetchers)})}function je(te){let ae=k.get(te);Wt(ae,"Expected fetch controller: "+te),ae.abort(),k.delete(te)}function ft(te){for(let ae of te){let de=dt(ae),Ee=Dl(de.data);w.fetchers.set(ae,Ee)}}function xt(){let te=[],ae=!1;for(let de of $){let Ee=w.fetchers.get(de);Wt(Ee,"Expected fetcher: "+de),Ee.state==="loading"&&($.delete(de),te.push(de),ae=!0)}return ft(te),ae}function Ke(te){let ae=[];for(let[de,Ee]of j)if(Ee<te){let Be=w.fetchers.get(de);Wt(Be,"Expected fetcher: "+de),Be.state==="loading"&&(je(de),j.delete(de),ae.push(de))}return ft(ae),ae.length>0}function L(te,ae){let de=w.blockers.get(te)||Cp;return oe.get(te)!==ae&&oe.set(te,ae),de}function B(te){w.blockers.delete(te),oe.delete(te)}function U(te,ae){let de=w.blockers.get(te)||Cp;Wt(de.state==="unblocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="proceeding"||de.state==="blocked"&&ae.state==="unblocked"||de.state==="proceeding"&&ae.state==="unblocked","Invalid blocker state transition: "+de.state+" -> "+ae.state);let Ee=new Map(w.blockers);Ee.set(te,ae),H({blockers:Ee})}function Q(te){let{currentLocation:ae,nextLocation:de,historyAction:Ee}=te;if(oe.size===0)return;oe.size>1&&bu(!1,"A router only supports one blocker at a time");let Be=Array.from(oe.entries()),[We,Ze]=Be[Be.length-1],De=w.blockers.get(We);if(!(De&&De.state==="proceeding")&&Ze({currentLocation:ae,nextLocation:de,historyAction:Ee}))return We}function ie(te){let ae=[];return pe.forEach((de,Ee)=>{(!te||te(Ee))&&(de.cancel(),ae.push(Ee),pe.delete(Ee))}),ae}function ke(te,ae,de){if(m=te,b=ae,y=de||null,!u&&w.navigation===$E){u=!0;let Ee=Xe(w.location,w.matches);Ee!=null&&H({restoreScrollPosition:Ee})}return()=>{m=null,b=null,y=null}}function Ge(te,ae){return y&&y(te,ae.map(Ee=>Qte(Ee,w.loaderData)))||te.key}function ut(te,ae){if(m&&b){let de=Ge(te,ae);m[de]=b()}}function Xe(te,ae){if(m){let de=Ge(te,ae),Ee=m[de];if(typeof Ee=="number")return Ee}return null}function vt(te){o={},l=NA(te,s,void 0,o)}return _={get basename(){return c},get state(){return w},get routes(){return a},get window(){return e},initialize:X,subscribe:G,enableScrollRestoration:ke,navigate:ne,fetch:wt,revalidate:_e,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:dt,deleteFetcher:Re,dispose:z,getBlocker:L,deleteBlocker:B,_internalFetchControllers:k,_internalActiveDeferreds:pe,_internalSetRoutes:vt},_}function Tre(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function LA(t,e,r,n,s,o,a){let l,c;if(o!=null&&a!=="path"){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=gre(s||".",Uj(l).map(h=>h.pathnameBase),Gv(t.pathname,r)||t.pathname,a==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!H2(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Dc([r,d.pathname])),zv(d)}function hM(t,e,r,n){if(!n||!Tre(n))return{path:r};if(n.formMethod&&!Fre(n.formMethod))return{path:r,error:bs(405,{method:n.formMethod})};let s=()=>({path:r,error:bs(400,{type:"invalid-body"})}),o=n.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),l=Hj(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!io(a))return s();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,b)=>{let[u,f]=b;return""+y+u+"="+f+"\n"},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!io(a))return s();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch(m){return s()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=UA(n.formData),d=n.formData;else if(n.body instanceof FormData)c=UA(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=vM(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=vM(c)}catch(m){return s()}let h={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(io(h.formMethod))return{path:r,submission:h};let g=aa(r);return e&&g.search&&H2(g.search)&&c.append("index",""),g.search="?"+c,{path:zv(g),submission:h}}function Dre(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function pM(t,e,r,n,s,o,a,l,c,d,h,g,m,y){let b=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,u=t.createURL(e.location),f=t.createURL(s),p=y?Object.keys(y)[0]:void 0,_=Dre(r,p).filter((x,S)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(Pre(e.loaderData,e.matches[S],x)||a.some(C=>C===x.route.id))return!0;let A=e.matches[S],D=x;return gM(x,$r({currentUrl:u,currentParams:A.params,nextUrl:f,nextParams:D.params},n,{actionResult:b,defaultShouldRevalidate:o||u.pathname+u.search===f.pathname+f.search||u.search!==f.search||Vj(A,D)}))}),w=[];return c.forEach((x,S)=>{if(!r.some(R=>R.route.id===x.routeId))return;let A=wf(h,x.path,g);if(!A){w.push({key:S,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(S),C=$A(A,x.path),T=!1;d.has(S)?T=!1:l.includes(S)?T=!0:D&&D.state!=="idle"&&D.data===void 0?T=o:T=gM(C,$r({currentUrl:u,currentParams:e.matches[e.matches.length-1].params,nextUrl:f,nextParams:r[r.length-1].params},n,{actionResult:b,defaultShouldRevalidate:o})),T&&w.push({key:S,routeId:x.routeId,path:x.path,matches:A,match:C,controller:new AbortController})}),[_,w]}function Pre(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function Vj(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function gM(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function mM(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Wt(s,"No route found in manifest");let o={};for(let a in n){let c=s[a]!==void 0&&a!=="hasErrorBoundary";bu(!c,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!qte.has(a)&&(o[a]=n[a])}Object.assign(s,o),Object.assign(s,$r({},e(s),{lazy:void 0}))}async function Ap(t,e,r,n,s,o,a,l){l===void 0&&(l={});let c,d,h,g=b=>{let u,f=new Promise((p,v)=>u=v);return h=()=>u(),e.signal.addEventListener("abort",h),Promise.race([b({request:e,params:r.params,context:l.requestContext}),f])};try{let b=r.route[t];if(r.route.lazy)if(b){let u,f=await Promise.all([g(b).catch(p=>{u=p}),mM(r.route,o,s)]);if(u)throw u;d=f[0]}else if(await mM(r.route,o,s),b=r.route[t],b)d=await g(b);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw bs(405,{method:e.method,pathname:f,routeId:r.route.id})}else return{type:Hr.data,data:void 0};else if(b)d=await g(b);else{let u=new URL(e.url),f=u.pathname+u.search;throw bs(404,{pathname:f})}Wt(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){c=Hr.error,d=b}finally{h&&e.signal.removeEventListener("abort",h)}if(Bre(d)){let b=d.status;if(xre.has(b)){let p=d.headers.get("Location");if(Wt(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!zj.test(p))p=LA(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,p);else if(!l.isStaticRequest){let v=new URL(e.url),_=p.startsWith("//")?new URL(v.protocol+p):new URL(p),w=Gv(_.pathname,a)!=null;_.origin===v.origin&&w&&(p=_.pathname+_.search+_.hash)}if(l.isStaticRequest)throw d.headers.set("Location",p),d;return{type:Hr.redirect,status:b,location:p,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Hr.error?Hr.error:Hr.data,response:d};let u,f=d.headers.get("Content-Type");return f&&/\bapplication\/json\b/.test(f)?u=await d.json():u=await d.text(),c===Hr.error?{type:c,error:new V2(b,d.statusText,u),headers:d.headers}:{type:Hr.data,data:u,statusCode:d.status,headers:d.headers}}if(c===Hr.error)return{type:c,error:d};if(Ire(d)){var m,y;return{type:Hr.deferred,deferredData:d,statusCode:(m=d.init)==null?void 0:m.status,headers:((y=d.init)==null?void 0:y.headers)&&new Headers(d.init.headers)}}return{type:Hr.data,data:d}}function Tp(t,e,r,n){let s=t.createURL(Hj(e)).toString(),o={signal:r};if(n&&io(n.formMethod)){let{formMethod:a,formEncType:l}=n;o.method=a.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(n.json)):l==="text/plain"?o.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?o.body=UA(n.formData):o.body=n.formData}return new Request(s,o)}function UA(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function vM(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Rre(t,e,r,n,s){let o={},a=null,l,c=!1,d={};return r.forEach((h,g)=>{let m=e[g].route.id;if(Wt(!kf(h),"Cannot handle redirect results in processLoaderData"),Pg(h)){let y=Dg(t,m),b=h.error;n&&(b=Object.values(n)[0],n=void 0),a=a||{},a[y.route.id]==null&&(a[y.route.id]=b),o[m]=void 0,c||(c=!0,l=$j(h.error)?h.error.status:500),h.headers&&(d[m]=h.headers)}else bc(h)?(s.set(m,h.deferredData),o[m]=h.deferredData.data):o[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(d[m]=h.headers)}),n&&(a=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function yM(t,e,r,n,s,o,a,l){let{loaderData:c,errors:d}=Rre(e,r,n,s,l);for(let h=0;h<o.length;h++){let{key:g,match:m,controller:y}=o[h];Wt(a!==void 0&&a[h]!==void 0,"Did not find corresponding fetcher result");let b=a[h];if(!(y&&y.signal.aborted))if(Pg(b)){let u=Dg(t.matches,m==null?void 0:m.route.id);d&&d[u.route.id]||(d=$r({},d,{[u.route.id]:b.error})),t.fetchers.delete(g)}else if(kf(b))Wt(!1,"Unhandled fetcher revalidation redirect");else if(bc(b))Wt(!1,"Unhandled fetcher deferred data");else{let u=Dl(b.data);t.fetchers.set(g,u)}}return{loaderData:c,errors:d}}function _M(t,e,r,n){let s=$r({},e);for(let o of r){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(s[a]=e[a]):t[a]!==void 0&&o.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function Dg(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function bM(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bs(t,e){let{pathname:r,routeId:n,method:s,type:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new V2(t||500,a,new Error(l),!0)}function wM(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(kf(r))return{result:r,idx:e}}}function Hj(t){let e=typeof t=="string"?aa(t):t;return zv($r({},e,{hash:""}))}function Ore(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bc(t){return t.type===Hr.deferred}function Pg(t){return t.type===Hr.error}function kf(t){return(t&&t.type)===Hr.redirect}function Ire(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Bre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Fre(t){return wre.has(t.toLowerCase())}function io(t){return _re.has(t.toLowerCase())}async function xM(t,e,r,n,s,o){for(let a=0;a<r.length;a++){let l=r[a],c=e[a];if(!c)continue;let d=t.find(g=>g.route.id===c.route.id),h=d!=null&&!Vj(d,c)&&(o&&o[c.route.id])!==void 0;if(bc(l)&&(s||h)){let g=n[a];Wt(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await Wj(l,g,s).then(m=>{m&&(r[a]=m||r[a])})}}}async function Wj(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Hr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Hr.error,error:s}}return{type:Hr.data,data:t.deferredData.data}}}function H2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $A(t,e){let r=typeof e=="string"?aa(e).search:e.search;if(t[t.length-1].route.index&&H2(r||""))return t[t.length-1];let n=Uj(t);return n[n.length-1]}function EM(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:o,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function jE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mre(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kre(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Dl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Nre(t,e){try{let r=t.sessionStorage.getItem(Gj);if(r){let n=JSON.parse(r);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch(r){}}function Lre(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(Gj,JSON.stringify(r))}catch(n){bu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}const Kj=E.createContext(null),Yj=E.createContext(null),Xj=E.createContext(null),Fw=E.createContext(null),Mw=E.createContext({outlet:null,matches:[],isDataRoute:!1}),qj=E.createContext(null);function W2(){return E.useContext(Fw)!=null}function Ure(){return W2()||Wt(!1),E.useContext(Fw).location}function $re(t,e,r){W2()||Wt(!1);let{navigator:n}=E.useContext(Xj),{matches:s}=E.useContext(Mw),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ure(),d;if(e){var h;let u=typeof e=="string"?aa(e):e;l==="/"||(h=u.pathname)!=null&&h.startsWith(l)||Wt(!1),d=u}else d=c;let g=d.pathname||"/",m=l==="/"?g:g.slice(l.length)||"/",y=wf(t,{pathname:m}),b=Hre(y&&y.map(u=>Object.assign({},u,{params:Object.assign({},a,u.params),pathname:Dc([l,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?l:Dc([l,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),s,r);return e&&b?E.createElement(Fw.Provider,{value:{location:jA({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vr.Pop}},b):b}function jre(){let t=Xre(),e=$j(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,o)}const zre=E.createElement(jre,null);class Gre extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?E.createElement(Mw.Provider,{value:this.props.routeContext},E.createElement(qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vre(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(Kj);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Mw.Provider,{value:e},n)}function Hre(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(n=r)==null?void 0:n.errors;if(a!=null){let l=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||Wt(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,c,d)=>{let h=c.route.id?a==null?void 0:a[c.route.id]:null,g=null;r&&(g=c.route.errorElement||zre);let m=e.concat(o.slice(0,d+1)),y=()=>{let b;return h?b=g:c.route.Component?b=E.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,E.createElement(Vre,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:b})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?E.createElement(Gre,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var zA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zA||{});function Wre(t){let e=E.useContext(Yj);return e||Wt(!1),e}function Kre(t){let e=E.useContext(Mw);return e||Wt(!1),e}function Yre(t){let e=Kre(),r=e.matches[e.matches.length-1];return r.route.id||Wt(!1),r.route.id}function Xre(){var t;let e=E.useContext(qj),r=Wre(zA.UseRouteError),n=Yre(zA.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function qre(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Vr.Pop,navigator:o,static:a=!1}=t;W2()&&Wt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof n=="string"&&(n=aa(n));let{pathname:d="/",search:h="",hash:g="",state:m=null,key:y="default"}=n,b=E.useMemo(()=>{let u=Gv(d,l);return u==null?null:{location:{pathname:u,search:h,hash:g,state:m,key:y},navigationType:s}},[l,d,h,g,m,y,s]);return b==null?null:E.createElement(Xj.Provider,{value:c},E.createElement(Fw.Provider,{children:r,value:b}))}new Promise(()=>{});function Zre(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function dVe(t,e){return Are({basename:e==null?void 0:e.basename,future:P1({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Kte({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Qre(),routes:t,mapRouteProperties:Zre,window:e==null?void 0:e.window}).initialize()}function Qre(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=P1({},e,{errors:Jre(e.errors)})),e}function Jre(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new V2(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let a=new o(s.message);a.stack="",r[n]=a}catch(a){}}if(r[n]==null){let o=new Error(s.message);o.stack="",r[n]=o}}else r[n]=s;return r}const ene=E.createContext({isTransitioning:!1}),tne=E.createContext(new Map),rne="startTransition",SM=QP[rne];function nne(t){SM?SM(t):t()}class ine{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function fVe(t){let{fallbackElement:e,router:r,future:n}=t,[s,o]=E.useState(r.state),[a,l]=E.useState(),[c,d]=E.useState({isTransitioning:!1}),[h,g]=E.useState(),[m,y]=E.useState(),[b,u]=E.useState(),f=E.useRef(new Map),{v7_startTransition:p}=n||{},v=E.useCallback(A=>{p?nne(A):A()},[p]),_=E.useCallback((A,D)=>{let{deletedFetchers:C,unstable_viewTransitionOpts:T}=D;C.forEach(R=>f.current.delete(R)),A.fetchers.forEach((R,P)=>{R.data!==void 0&&f.current.set(P,R.data)}),!T||r.window==null||typeof r.window.document.startViewTransition!="function"?v(()=>o(A)):m&&h?(h.resolve(),m.skipTransition(),u({state:A,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(l(A),d({isTransitioning:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[r.window,m,h,f,v]);E.useLayoutEffect(()=>r.subscribe(_),[r,_]),E.useEffect(()=>{c.isTransitioning&&g(new ine)},[c.isTransitioning]),E.useEffect(()=>{if(h&&a&&r.window){let A=a,D=h.promise,C=r.window.document.startViewTransition(async()=>{v(()=>o(A)),await D});C.finished.finally(()=>{g(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(C)}},[v,a,h,r.window]),E.useEffect(()=>{h&&a&&s.location.key===a.location.key&&h.resolve()},[h,m,s.location,a]),E.useEffect(()=>{!c.isTransitioning&&b&&(l(b.state),d({isTransitioning:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),u(void 0))},[c.isTransitioning,b]);let w=E.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:A=>r.navigate(A),push:(A,D,C)=>r.navigate(A,{state:D,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(A,D,C)=>r.navigate(A,{replace:!0,state:D,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[r]),x=r.basename||"/",S=E.useMemo(()=>({router:r,navigator:w,static:!1,basename:x}),[r,w,x]);return E.createElement(E.Fragment,null,E.createElement(Kj.Provider,{value:S},E.createElement(Yj.Provider,{value:s},E.createElement(tne.Provider,{value:f.current},E.createElement(ene.Provider,{value:c},E.createElement(qre,{basename:x,location:s.location,navigationType:s.historyAction,navigator:w},s.initialized?E.createElement(sne,{routes:r.routes,state:s}):e))))),null)}function sne(t){let{routes:e,state:r}=t;return $re(e,void 0,r)}var CM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CM||(CM={}));var AM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AM||(AM={}));function Zj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Zj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function bm(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Zj(t))&&(n&&(n+=" "),n+=e);return n}const K2="-",one=t=>{const e=lne(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(K2);return l[0]===""&&l.length!==1&&l.shift(),Qj(l,e)||ane(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Qj=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Qj(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(K2);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},TM=/^\[(.+)\]$/,ane=t=>{if(TM.test(t)){const e=TM.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},lne=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return cne(Object.entries(t.classGroups),r).forEach(([o,a])=>{GA(a,n,o,e)}),n},GA=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:DM(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(une(s)){GA(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{GA(a,DM(e,o),r,n)})})},DM=(t,e)=>{let r=t;return e.split(K2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},une=t=>t.isThemeGetter,cne=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[r,s]}):t,dne=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Jj="!",fne=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,a=l=>{const c=[];let d=0,h=0,g;for(let f=0;f<l.length;f++){let p=l[f];if(d===0){if(p===s&&(n||l.slice(f,f+o)===e)){c.push(l.slice(h,f)),h=f+o;continue}if(p==="/"){g=f;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(h),y=m.startsWith(Jj),b=y?m.substring(1):m,u=g&&g>h?g-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:u}};return r?l=>r({className:l,parseClassName:a}):a},hne=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},pne=t=>({cache:dne(t.cacheSize),parseClassName:fne(t),...one(t)}),gne=/\s+/,mne=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(gne);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}=r(d);let b=!!y,u=n(b?m.substring(0,y):m);if(!u){if(!b){l=d+(l.length>0?" "+l:l);continue}if(u=n(m),!u){l=d+(l.length>0?" "+l:l);continue}b=!1}const f=hne(h).join(":"),p=g?f+Jj:f,v=p+u;if(o.includes(v))continue;o.push(v);const _=s(u,b);for(let w=0;w<_.length;++w){const x=_[w];o.push(p+x)}l=d+(l.length>0?" "+l:l)}return l};function vne(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=e6(e))&&(n&&(n+=" "),n+=r);return n}const e6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=e6(t[n]))&&(r&&(r+=" "),r+=e);return r};function yne(t,...e){let r,n,s,o=a;function a(c){const d=e.reduce((h,g)=>g(h),t());return r=pne(d),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=mne(c,r);return s(c,h),h}return function(){return o(vne.apply(null,arguments))}}const pr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},t6=/^\[(?:([a-z-]+):)?(.+)\]$/i,_ne=/^\d+\/\d+$/,bne=new Set(["px","full","screen"]),wne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ene=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ma=t=>Nf(t)||bne.has(t)||_ne.test(t),Sl=t=>Lh(t,"length",Bne),Nf=t=>!!t&&!Number.isNaN(Number(t)),zE=t=>Lh(t,"number",Nf),Pp=t=>!!t&&Number.isInteger(Number(t)),Ane=t=>t.endsWith("%")&&Nf(t.slice(0,-1)),Ft=t=>t6.test(t),Cl=t=>wne.test(t),Tne=new Set(["length","size","percentage"]),Dne=t=>Lh(t,Tne,r6),Pne=t=>Lh(t,"position",r6),Rne=new Set(["image","url"]),One=t=>Lh(t,Rne,Mne),Ine=t=>Lh(t,"",Fne),Rp=()=>!0,Lh=(t,e,r)=>{const n=t6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Bne=t=>xne.test(t)&&!Ene.test(t),r6=()=>!1,Fne=t=>Sne.test(t),Mne=t=>Cne.test(t),kne=()=>{const t=pr("colors"),e=pr("spacing"),r=pr("blur"),n=pr("brightness"),s=pr("borderColor"),o=pr("borderRadius"),a=pr("borderSpacing"),l=pr("borderWidth"),c=pr("contrast"),d=pr("grayscale"),h=pr("hueRotate"),g=pr("invert"),m=pr("gap"),y=pr("gradientColorStops"),b=pr("gradientColorStopPositions"),u=pr("inset"),f=pr("margin"),p=pr("opacity"),v=pr("padding"),_=pr("saturate"),w=pr("scale"),x=pr("sepia"),S=pr("skew"),A=pr("space"),D=pr("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ft,e],P=()=>[Ft,e],O=()=>["",ma,Sl],I=()=>["auto",Nf,Ft],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ft],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Nf,Ft];return{cacheSize:500,separator:":",theme:{colors:[Rp],spacing:[ma,Sl],blur:["none","",Cl,Ft],brightness:J(),borderColor:[t],borderRadius:["none","","full",Cl,Ft],borderSpacing:P(),borderWidth:O(),contrast:J(),grayscale:$(),hueRotate:J(),invert:$(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Ane,Sl],inset:R(),margin:R(),opacity:J(),padding:P(),saturate:J(),scale:J(),sepia:$(),skew:J(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Cl]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Ft]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pp,Ft]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Pp,Ft]}],"grid-cols":[{"grid-cols":[Rp]}],"col-start-end":[{col:["auto",{span:["full",Pp,Ft]},Ft]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Rp]}],"row-start-end":[{row:["auto",{span:[Pp,Ft]},Ft]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,e]}],"min-w":[{"min-w":[Ft,e,"min","max","fit"]}],"max-w":[{"max-w":[Ft,e,"none","full","min","max","fit","prose",{screen:[Cl]},Cl]}],h:[{h:[Ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cl,Sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zE]}],"font-family":[{font:[Rp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Nf,zE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ma,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ma,Sl]}],"underline-offset":[{"underline-offset":["auto",ma,Ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),Pne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},One]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ma,Ft]}],"outline-w":[{outline:[ma,Sl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ma,Sl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cl,Ine]}],"shadow-color":[{shadow:[Rp]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cl,Ft]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pp,Ft]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ma,Sl,zE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nne=yne(kne),PM=t=>{let e;const r=new Set,n=(h,g)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const y=e;e=(g!=null?g:typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(b=>b(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{r.clear()}},d=e=t(n,s,c);return c},n6=t=>t?PM(t):PM;var i6={exports:{}},s6={},o6={exports:{}},a6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=E;function Lne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Une=typeof Object.is=="function"?Object.is:Lne,$ne=oh.useState,jne=oh.useEffect,zne=oh.useLayoutEffect,Gne=oh.useDebugValue;function Vne(t,e){var r=e(),n=$ne({inst:{value:r,getSnapshot:e}}),s=n[0].inst,o=n[1];return zne(function(){s.value=r,s.getSnapshot=e,GE(s)&&o({inst:s})},[t,r,e]),jne(function(){return GE(s)&&o({inst:s}),t(function(){GE(s)&&o({inst:s})})},[t]),Gne(r),r}function GE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Une(t,r)}catch(n){return!0}}function Hne(t,e){return e()}var Wne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hne:Vne;a6.useSyncExternalStore=oh.useSyncExternalStore!==void 0?oh.useSyncExternalStore:Wne;o6.exports=a6;var Kne=o6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=E,Yne=Kne;function Xne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qne=typeof Object.is=="function"?Object.is:Xne,Zne=Yne.useSyncExternalStore,Qne=kw.useRef,Jne=kw.useEffect,eie=kw.useMemo,tie=kw.useDebugValue;s6.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var o=Qne(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=eie(function(){function c(y){if(!d){if(d=!0,h=y,y=n(y),s!==void 0&&a.hasValue){var b=a.value;if(s(b,y))return g=b}return g=y}if(b=g,qne(h,y))return b;var u=n(y);return s!==void 0&&s(b,u)?b:(h=y,g=u)}var d=!1,h,g,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,s]);var l=Zne(t,o[0],o[1]);return Jne(function(){a.hasValue=!0,a.value=l},[l]),tie(l),l};i6.exports=s6;var rie=i6.exports;const l6=Un(rie),{useDebugValue:nie}=Z,{useSyncExternalStoreWithSelector:iie}=l6;const sie=t=>t;function oie(t,e=sie,r){const n=iie(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return nie(n),n}const RM=t=>{const e=typeof t=="function"?n6(t):t,r=(n,s)=>oie(e,n,s);return Object.assign(r,e),r},hVe=t=>t?RM(t):RM;var ju=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ju||{}),Y2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Y2||{}),R1=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(R1||{}),bt=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(bt||{}),ao=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(ao||{}),Ie=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Ie||{}),Pc=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Pc||{}),gt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(gt||{}),tt=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(tt||{}),Go=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Go||{}),qo=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(qo||{}),Eo=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Eo||{}),ci=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(ci||{}),oo=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(oo||{}),Nw=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Nw||{}),Zi=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Zi||{}),Qr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Qr||{}),u6=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(u6||{}),Yr=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Yr||{}),mo=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(mo||{});const c6={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},nt={ADAPTER:c6,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var VE=/iPhone/i,OM=/iPod/i,IM=/iPad/i,BM=/\biOS-universal(?:.+)Mac\b/i,HE=/\bAndroid(?:.+)Mobile\b/i,FM=/Android/i,Id=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,s0=/Silk/i,va=/Windows Phone/i,MM=/\bWindows(?:.+)ARM\b/i,kM=/BlackBerry/i,NM=/BB10/i,LM=/Opera Mini/i,UM=/\b(CriOS|Chrome)(?:.+)Mobile/i,$M=/Mobile(?:.+)Firefox\b/i,jM=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function aie(t){return function(e){return e.test(t)}}function zM(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var s=aie(r),o={apple:{phone:s(VE)&&!s(va),ipod:s(OM),tablet:!s(VE)&&(s(IM)||jM(e))&&!s(va),universal:s(BM),device:(s(VE)||s(OM)||s(IM)||s(BM)||jM(e))&&!s(va)},amazon:{phone:s(Id),tablet:!s(Id)&&s(s0),device:s(Id)||s(s0)},android:{phone:!s(va)&&s(Id)||!s(va)&&s(HE),tablet:!s(va)&&!s(Id)&&!s(HE)&&(s(s0)||s(FM)),device:!s(va)&&(s(Id)||s(s0)||s(HE)||s(FM))||s(/\bokhttp\b/i)},windows:{phone:s(va),tablet:s(MM),device:s(va)||s(MM)},other:{blackberry:s(kM),blackberry10:s(NM),opera:s(LM),firefox:s($M),chrome:s(UM),device:s(kM)||s(NM)||s(LM)||s($M)||s(UM)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var E4;const lie=(E4=zM.default)!=null?E4:zM,lo=lie(globalThis.navigator);nt.RETINA_PREFIX=/@([0-9\.]+)x/;nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var d6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,g,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||c,m),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)e.call(h,g)&&d.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,b=new Array(y);m<y;m++)b[m]=g[m].fn;return b},l.prototype.listenerCount=function(d){var h=r?r+d:d,g=this._events[h];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,h,g,m,y,b){var u=r?r+d:d;if(!this._events[u])return!1;var f=this._events[u],p=arguments.length,v,_;if(f.fn){switch(f.once&&this.removeListener(d,f.fn,void 0,!0),p){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,h),!0;case 3:return f.fn.call(f.context,h,g),!0;case 4:return f.fn.call(f.context,h,g,m),!0;case 5:return f.fn.call(f.context,h,g,m,y),!0;case 6:return f.fn.call(f.context,h,g,m,y,b),!0}for(_=1,v=new Array(p-1);_<p;_++)v[_-1]=arguments[_];f.fn.apply(f.context,v)}else{var w=f.length,x;for(_=0;_<w;_++)switch(f[_].once&&this.removeListener(d,f[_].fn,void 0,!0),p){case 1:f[_].fn.call(f[_].context);break;case 2:f[_].fn.call(f[_].context,h);break;case 3:f[_].fn.call(f[_].context,h,g);break;case 4:f[_].fn.call(f[_].context,h,g,m);break;default:if(!v)for(x=1,v=new Array(p-1);x<p;x++)v[x-1]=arguments[x];f[_].fn.apply(f[_].context,v)}}return!0},l.prototype.on=function(d,h,g){return o(this,d,h,g,!1)},l.prototype.once=function(d,h,g){return o(this,d,h,g,!0)},l.prototype.removeListener=function(d,h,g,m){var y=r?r+d:d;if(!this._events[y])return this;if(!h)return a(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!m||b.once)&&(!g||b.context===g)&&a(this,y);else{for(var u=0,f=[],p=b.length;u<p;u++)(b[u].fn!==h||m&&!b[u].once||g&&b[u].context!==g)&&f.push(b[u]);f.length?this._events[y]=f.length===1?f[0]:f:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(d6);var uie=d6.exports;const Uh=Un(uie);var X2={exports:{}};X2.exports=Lw;X2.exports.default=Lw;function Lw(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,o=f6(t,0,s,r,!0),a=[];if(!o||o.next===o.prev)return a;var l,c,d,h,g,m,y;if(n&&(o=pie(t,e,o,r)),t.length>80*r){l=d=t[0],c=h=t[1];for(var b=r;b<s;b+=r)g=t[b],m=t[b+1],g<l&&(l=g),m<c&&(c=m),g>d&&(d=g),m>h&&(h=m);y=Math.max(d-l,h-c),y=y!==0?32767/y:0}return wm(o,a,r,l,c,y,0),a}function f6(t,e,r,n,s){var o,a;if(s===WA(t,e,r,n)>0)for(o=e;o<r;o+=n)a=GM(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=GM(o,t[o],t[o+1],a);return a&&Uw(a,a.next)&&(Em(a),a=a.next),a}function Qc(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Uw(r,r.next)||Mr(r.prev,r,r.next)===0)){if(Em(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function wm(t,e,r,n,s,o,a){if(t){!a&&o&&_ie(t,n,s,o);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,o?die(t,n,s,o):cie(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Em(t),t=d.next,l=d.next;continue}if(t=d,t===l){a?a===1?(t=fie(Qc(t),e,r),wm(t,e,r,n,s,o,2)):a===2&&hie(t,e,r,n,s,o):wm(Qc(t),e,r,n,s,o,1);break}}}}function cie(t){var e=t.prev,r=t,n=t.next;if(Mr(e,r,n)>=0)return!1;for(var s=e.x,o=r.x,a=n.x,l=e.y,c=r.y,d=n.y,h=s<o?s<a?s:a:o<a?o:a,g=l<c?l<d?l:d:c<d?c:d,m=s>o?s>a?s:a:o>a?o:a,y=l>c?l>d?l:d:c>d?c:d,b=n.next;b!==e;){if(b.x>=h&&b.x<=m&&b.y>=g&&b.y<=y&&xf(s,l,o,c,a,d,b.x,b.y)&&Mr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function die(t,e,r,n){var s=t.prev,o=t,a=t.next;if(Mr(s,o,a)>=0)return!1;for(var l=s.x,c=o.x,d=a.x,h=s.y,g=o.y,m=a.y,y=l<c?l<d?l:d:c<d?c:d,b=h<g?h<m?h:m:g<m?g:m,u=l>c?l>d?l:d:c>d?c:d,f=h>g?h>m?h:m:g>m?g:m,p=VA(y,b,e,r,n),v=VA(u,f,e,r,n),_=t.prevZ,w=t.nextZ;_&&_.z>=p&&w&&w.z<=v;){if(_.x>=y&&_.x<=u&&_.y>=b&&_.y<=f&&_!==s&&_!==a&&xf(l,h,c,g,d,m,_.x,_.y)&&Mr(_.prev,_,_.next)>=0||(_=_.prevZ,w.x>=y&&w.x<=u&&w.y>=b&&w.y<=f&&w!==s&&w!==a&&xf(l,h,c,g,d,m,w.x,w.y)&&Mr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;_&&_.z>=p;){if(_.x>=y&&_.x<=u&&_.y>=b&&_.y<=f&&_!==s&&_!==a&&xf(l,h,c,g,d,m,_.x,_.y)&&Mr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;w&&w.z<=v;){if(w.x>=y&&w.x<=u&&w.y>=b&&w.y<=f&&w!==s&&w!==a&&xf(l,h,c,g,d,m,w.x,w.y)&&Mr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function fie(t,e,r){var n=t;do{var s=n.prev,o=n.next.next;!Uw(s,o)&&h6(s,n,n.next,o)&&xm(s,o)&&xm(o,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),Em(n),Em(n.next),n=t=o),n=n.next}while(n!==t);return Qc(n)}function hie(t,e,r,n,s,o){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&xie(a,l)){var c=p6(a,l);a=Qc(a,a.next),c=Qc(c,c.next),wm(a,e,r,n,s,o,0),wm(c,e,r,n,s,o,0);return}l=l.next}a=a.next}while(a!==t)}function pie(t,e,r,n){var s=[],o,a,l,c,d;for(o=0,a=e.length;o<a;o++)l=e[o]*n,c=o<a-1?e[o+1]*n:t.length,d=f6(t,l,c,n,!1),d===d.next&&(d.steiner=!0),s.push(wie(d));for(s.sort(gie),o=0;o<s.length;o++)r=mie(s[o],r);return r}function gie(t,e){return t.x-e.x}function mie(t,e){var r=vie(t,e);if(!r)return e;var n=p6(r,t);return Qc(n,n.next),Qc(r,r.next)}function vie(t,e){var r=e,n=t.x,s=t.y,o=-1/0,a;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var l=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>o&&(o=l,a=r.x<r.next.x?r:r.next,l===n))return a}r=r.next}while(r!==e);if(!a)return null;var c=a,d=a.x,h=a.y,g=1/0,m;r=a;do n>=r.x&&r.x>=d&&n!==r.x&&xf(s<h?n:o,s,d,h,s<h?o:n,s,r.x,r.y)&&(m=Math.abs(s-r.y)/(n-r.x),xm(r,t)&&(m<g||m===g&&(r.x>a.x||r.x===a.x&&yie(a,r)))&&(a=r,g=m)),r=r.next;while(r!==c);return a}function yie(t,e){return Mr(t.prev,t,e.prev)<0&&Mr(e.next,t,t.next)<0}function _ie(t,e,r,n){var s=t;do s.z===0&&(s.z=VA(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,bie(s)}function bie(t){var e,r,n,s,o,a,l,c,d=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,l--):(s=n,n=n.nextZ,c--),o?o.nextZ=s:t=s,s.prevZ=o,o=s;r=n}o.nextZ=null,d*=2}while(a>1);return t}function VA(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function wie(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function xf(t,e,r,n,s,o,a,l){return(s-a)*(e-l)>=(t-a)*(o-l)&&(t-a)*(n-l)>=(r-a)*(e-l)&&(r-a)*(o-l)>=(s-a)*(n-l)}function xie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Eie(t,e)&&(xm(t,e)&&xm(e,t)&&Sie(t,e)&&(Mr(t.prev,t,e.prev)||Mr(t,e.prev,e))||Uw(t,e)&&Mr(t.prev,t,t.next)>0&&Mr(e.prev,e,e.next)>0)}function Mr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Uw(t,e){return t.x===e.x&&t.y===e.y}function h6(t,e,r,n){var s=a0(Mr(t,e,r)),o=a0(Mr(t,e,n)),a=a0(Mr(r,n,t)),l=a0(Mr(r,n,e));return!!(s!==o&&a!==l||s===0&&o0(t,r,e)||o===0&&o0(t,n,e)||a===0&&o0(r,t,n)||l===0&&o0(r,e,n))}function o0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function a0(t){return t>0?1:t<0?-1:0}function Eie(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&h6(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function xm(t,e){return Mr(t.prev,t,t.next)<0?Mr(t,e,t.next)>=0&&Mr(t,t.prev,e)>=0:Mr(t,e,t.prev)<0||Mr(t,t.next,e)<0}function Sie(t,e){var r=t,n=!1,s=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&s<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function p6(t,e){var r=new HA(t.i,t.x,t.y),n=new HA(e.i,e.x,e.y),s=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function GM(t,e,r,n){var s=new HA(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Em(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function HA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Lw.deviation=function(t,e,r,n){var s=e&&e.length,o=s?e[0]*r:t.length,a=Math.abs(WA(t,0,o,r));if(s)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,h=l<c-1?e[l+1]*r:t.length;a-=Math.abs(WA(t,d,h,r))}var g=0;for(l=0;l<n.length;l+=3){var m=n[l]*r,y=n[l+1]*r,b=n[l+2]*r;g+=Math.abs((t[m]-t[b])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[b+1]-t[m+1]))}return a===0&&g===0?0:Math.abs((g-a)/a)};function WA(t,e,r,n){for(var s=0,o=e,a=r-n;o<r;o+=n)s+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return s}Lw.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var o=0;o<t[s].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[s][o][a]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var Cie=X2.exports;const g6=Un(Cie);var O1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */O1.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,o=typeof Xi=="object"&&Xi;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,l=2147483647,c=36,d=1,h=26,g=38,m=700,y=72,b=128,u="-",f=/^xn--/,p=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,x=Math.floor,S=String.fromCharCode,A;function D(K){throw new RangeError(_[K])}function C(K,J){for(var ue=K.length,pe=[];ue--;)pe[ue]=J(K[ue]);return pe}function T(K,J){var ue=K.split("@"),pe="";ue.length>1&&(pe=ue[0]+"@",K=ue[1]),K=K.replace(v,".");var oe=K.split("."),he=C(oe,J).join(".");return pe+he}function R(K){for(var J=[],ue=0,pe=K.length,oe,he;ue<pe;)oe=K.charCodeAt(ue++),oe>=55296&&oe<=56319&&ue<pe?(he=K.charCodeAt(ue++),(he&64512)==56320?J.push(((oe&1023)<<10)+(he&1023)+65536):(J.push(oe),ue--)):J.push(oe);return J}function P(K){return C(K,function(J){var ue="";return J>65535&&(J-=65536,ue+=S(J>>>10&1023|55296),J=56320|J&1023),ue+=S(J),ue}).join("")}function O(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:c}function I(K,J){return K+22+75*(K<26)-((J!=0)<<5)}function k(K,J,ue){var pe=0;for(K=ue?x(K/m):K>>1,K+=x(K/J);K>w*h>>1;pe+=c)K=x(K/w);return x(pe+(w+1)*K/(K+g))}function W(K){var J=[],ue=K.length,pe,oe=0,he=b,X=y,z,G,H,re,ne,_e,be,xe,Se;for(z=K.lastIndexOf(u),z<0&&(z=0),G=0;G<z;++G)K.charCodeAt(G)>=128&&D("not-basic"),J.push(K.charCodeAt(G));for(H=z>0?z+1:0;H<ue;){for(re=oe,ne=1,_e=c;H>=ue&&D("invalid-input"),be=O(K.charCodeAt(H++)),(be>=c||be>x((l-oe)/ne))&&D("overflow"),oe+=be*ne,xe=_e<=X?d:_e>=X+h?h:_e-X,!(be<xe);_e+=c)Se=c-xe,ne>x(l/Se)&&D("overflow"),ne*=Se;pe=J.length+1,X=k(oe-re,pe,re==0),x(oe/pe)>l-he&&D("overflow"),he+=x(oe/pe),oe%=pe,J.splice(oe++,0,he)}return P(J)}function V(K){var J,ue,pe,oe,he,X,z,G,H,re,ne,_e=[],be,xe,Se,dt;for(K=R(K),be=K.length,J=b,ue=0,he=y,X=0;X<be;++X)ne=K[X],ne<128&&_e.push(S(ne));for(pe=oe=_e.length,oe&&_e.push(u);pe<be;){for(z=l,X=0;X<be;++X)ne=K[X],ne>=J&&ne<z&&(z=ne);for(xe=pe+1,z-J>x((l-ue)/xe)&&D("overflow"),ue+=(z-J)*xe,J=z,X=0;X<be;++X)if(ne=K[X],ne<J&&++ue>l&&D("overflow"),ne==J){for(G=ue,H=c;re=H<=he?d:H>=he+h?h:H-he,!(G<re);H+=c)dt=G-re,Se=c-re,_e.push(S(I(re+dt%Se,0))),G=x(dt/Se);_e.push(S(I(G,0))),he=k(ue,xe,pe==oe),ue=0,++pe}++ue,++J}return _e.join("")}function j(K){return T(K,function(J){return f.test(J)?W(J.slice(4).toLowerCase()):J})}function $(K){return T(K,function(J){return p.test(J)?"xn--"+V(J):J})}if(a={version:"1.4.1",ucs2:{decode:R,encode:P},decode:W,encode:V,toASCII:$,toUnicode:j},n&&s)if(t.exports==n)s.exports=a;else for(A in a)a.hasOwnProperty(A)&&(n[A]=a[A]);else r.punycode=a})(Xi)})(O1,O1.exports);var Aie=O1.exports,Tie=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==s||a.enumerable!==!0)return!1}return!0},VM=typeof Symbol<"u"&&Symbol,Die=Tie,Pie=function(){return typeof VM!="function"||typeof Symbol!="function"||typeof VM("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Die()},HM={foo:{}},Rie=Object,Oie=function(){return{__proto__:HM}.foo===HM.foo&&!({__proto__:null}instanceof Rie)},Iie="Function.prototype.bind called on incompatible ",Bie=Object.prototype.toString,Fie=Math.max,Mie="[object Function]",WM=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},kie=function(e,r){for(var n=[],s=r||0,o=0;s<e.length;s+=1,o+=1)n[o]=e[s];return n},Nie=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Lie=function(e){var r=this;if(typeof r!="function"||Bie.apply(r)!==Mie)throw new TypeError(Iie+r);for(var n=kie(arguments,1),s,o=function(){if(this instanceof s){var h=r.apply(this,WM(n,arguments));return Object(h)===h?h:this}return r.apply(e,WM(n,arguments))},a=Fie(0,r.length-n.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(s=Function("binder","return function ("+Nie(l,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},Uie=Lie,q2=Function.prototype.bind||Uie,$ie=Function.prototype.call,jie=Object.prototype.hasOwnProperty,zie=q2,Gie=zie.call($ie,jie),$t,ah=SyntaxError,m6=Function,Lf=TypeError,WE=function(t){try{return m6('"use strict"; return ('+t+").constructor;")()}catch(e){}},Rc=Object.getOwnPropertyDescriptor;if(Rc)try{Rc({},"")}catch(t){Rc=null}var KE=function(){throw new Lf},Vie=Rc?function(){try{return arguments.callee,KE}catch(t){try{return Rc(arguments,"callee").get}catch(e){return KE}}}():KE,Bd=Pie(),Hie=Oie(),wn=Object.getPrototypeOf||(Hie?function(t){return t.__proto__}:null),Jd={},Wie=typeof Uint8Array>"u"||!wn?$t:wn(Uint8Array),Oc={"%AggregateError%":typeof AggregateError>"u"?$t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$t:ArrayBuffer,"%ArrayIteratorPrototype%":Bd&&wn?wn([][Symbol.iterator]()):$t,"%AsyncFromSyncIteratorPrototype%":$t,"%AsyncFunction%":Jd,"%AsyncGenerator%":Jd,"%AsyncGeneratorFunction%":Jd,"%AsyncIteratorPrototype%":Jd,"%Atomics%":typeof Atomics>"u"?$t:Atomics,"%BigInt%":typeof BigInt>"u"?$t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?$t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$t:FinalizationRegistry,"%Function%":m6,"%GeneratorFunction%":Jd,"%Int8Array%":typeof Int8Array>"u"?$t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Bd&&wn?wn(wn([][Symbol.iterator]())):$t,"%JSON%":typeof JSON=="object"?JSON:$t,"%Map%":typeof Map>"u"?$t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Bd||!wn?$t:wn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$t:Promise,"%Proxy%":typeof Proxy>"u"?$t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?$t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Bd||!wn?$t:wn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Bd&&wn?wn(""[Symbol.iterator]()):$t,"%Symbol%":Bd?Symbol:$t,"%SyntaxError%":ah,"%ThrowTypeError%":Vie,"%TypedArray%":Wie,"%TypeError%":Lf,"%Uint8Array%":typeof Uint8Array>"u"?$t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?$t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$t:WeakSet};if(wn)try{null.error}catch(t){var Kie=wn(wn(t));Oc["%Error.prototype%"]=Kie}var Yie=function t(e){var r;if(e==="%AsyncFunction%")r=WE("async function () {}");else if(e==="%GeneratorFunction%")r=WE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=WE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&wn&&(r=wn(s.prototype))}return Oc[e]=r,r},KM={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vv=q2,I1=Gie,Xie=Vv.call(Function.call,Array.prototype.concat),qie=Vv.call(Function.apply,Array.prototype.splice),YM=Vv.call(Function.call,String.prototype.replace),B1=Vv.call(Function.call,String.prototype.slice),Zie=Vv.call(Function.call,RegExp.prototype.exec),Qie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jie=/\\(\\)?/g,ese=function(e){var r=B1(e,0,1),n=B1(e,-1);if(r==="%"&&n!=="%")throw new ah("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ah("invalid intrinsic syntax, expected opening `%`");var s=[];return YM(e,Qie,function(o,a,l,c){s[s.length]=l?YM(c,Jie,"$1"):a||o}),s},tse=function(e,r){var n=e,s;if(I1(KM,n)&&(s=KM[n],n="%"+s[0]+"%"),I1(Oc,n)){var o=Oc[n];if(o===Jd&&(o=Yie(n)),typeof o>"u"&&!r)throw new Lf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:o}}throw new ah("intrinsic "+e+" does not exist!")},fd=function(e,r){if(typeof e!="string"||e.length===0)throw new Lf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Lf('"allowMissing" argument must be a boolean');if(Zie(/^%?[^%]*%?$/,e)===null)throw new ah("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ese(e),s=n.length>0?n[0]:"",o=tse("%"+s+"%",r),a=o.name,l=o.value,c=!1,d=o.alias;d&&(s=d[0],qie(n,Xie([0,1],d)));for(var h=1,g=!0;h<n.length;h+=1){var m=n[h],y=B1(m,0,1),b=B1(m,-1);if((y==='"'||y==="'"||y==="`"||b==='"'||b==="'"||b==="`")&&y!==b)throw new ah("property names with quotes must have matching quotes");if((m==="constructor"||!g)&&(c=!0),s+="."+m,a="%"+s+"%",I1(Oc,a))l=Oc[a];else if(l!=null){if(!(m in l)){if(!r)throw new Lf("base intrinsic for "+e+" exists, but the property is not available.");return}if(Rc&&h+1>=n.length){var u=Rc(l,m);g=!!u,g&&"get"in u&&!("originalValue"in u.get)?l=u.get:l=l[m]}else g=I1(l,m),l=l[m];g&&!c&&(Oc[a]=l)}}return l},v6={exports:{}},rse=fd,KA=rse("%Object.defineProperty%",!0),YA=function(){if(KA)try{return KA({},"a",{value:1}),!0}catch(e){return!1}return!1};YA.hasArrayLengthDefineBug=function(){if(!YA())return null;try{return KA([],"length",{value:1}).length!==1}catch(e){return!0}};var y6=YA,nse=fd,E_=nse("%Object.getOwnPropertyDescriptor%",!0);if(E_)try{E_([],"length")}catch(t){E_=null}var _6=E_,ise=y6(),Z2=fd,Rg=ise&&Z2("%Object.defineProperty%",!0);if(Rg)try{Rg({},"a",{value:1})}catch(t){Rg=!1}var sse=Z2("%SyntaxError%"),Fd=Z2("%TypeError%"),XM=_6,ose=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Fd("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Fd("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fd("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fd("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fd("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fd("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,c=!!XM&&XM(e,r);if(Rg)Rg(e,r,{configurable:a===null&&c?c.configurable:!a,enumerable:s===null&&c?c.enumerable:!s,value:n,writable:o===null&&c?c.writable:!o});else if(l||!s&&!o&&!a)e[r]=n;else throw new sse("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},b6=fd,qM=ose,ase=y6(),ZM=_6,QM=b6("%TypeError%"),lse=b6("%Math.floor%"),use=function(e,r){if(typeof e!="function")throw new QM("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||lse(r)!==r)throw new QM("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,o=!0;if("length"in e&&ZM){var a=ZM(e,"length");a&&!a.configurable&&(s=!1),a&&!a.writable&&(o=!1)}return(s||o||!n)&&(ase?qM(e,"length",r,!0,!0):qM(e,"length",r)),e};(function(t){var e=q2,r=fd,n=use,s=r("%TypeError%"),o=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(a,o),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(g){c=null}t.exports=function(m){if(typeof m!="function")throw new s("a function is required");var y=l(e,a,arguments);return n(y,1+d(0,m.length-(arguments.length-1)),!0)};var h=function(){return l(e,o,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h})(v6);var cse=v6.exports,w6=fd,x6=cse,dse=x6(w6("String.prototype.indexOf")),fse=function(e,r){var n=w6(e,!!r);return typeof n=="function"&&dse(e,".prototype.")>-1?x6(n):n};const hse={},pse=Object.freeze(Object.defineProperty({__proto__:null,default:hse},Symbol.toStringTag,{value:"Module"})),gse=xJ(pse);var Q2=typeof Map=="function"&&Map.prototype,YE=Object.getOwnPropertyDescriptor&&Q2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,F1=Q2&&YE&&typeof YE.get=="function"?YE.get:null,JM=Q2&&Map.prototype.forEach,J2=typeof Set=="function"&&Set.prototype,XE=Object.getOwnPropertyDescriptor&&J2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,M1=J2&&XE&&typeof XE.get=="function"?XE.get:null,ek=J2&&Set.prototype.forEach,mse=typeof WeakMap=="function"&&WeakMap.prototype,Og=mse?WeakMap.prototype.has:null,vse=typeof WeakSet=="function"&&WeakSet.prototype,Ig=vse?WeakSet.prototype.has:null,yse=typeof WeakRef=="function"&&WeakRef.prototype,tk=yse?WeakRef.prototype.deref:null,_se=Boolean.prototype.valueOf,bse=Object.prototype.toString,wse=Function.prototype.toString,xse=String.prototype.match,eR=String.prototype.slice,Xl=String.prototype.replace,Ese=String.prototype.toUpperCase,rk=String.prototype.toLowerCase,E6=RegExp.prototype.test,nk=Array.prototype.concat,$o=Array.prototype.join,Sse=Array.prototype.slice,ik=Math.floor,XA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qE=Object.getOwnPropertySymbols,qA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,lh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Qn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===lh||"symbol")?Symbol.toStringTag:null,S6=Object.prototype.propertyIsEnumerable,sk=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ok(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||E6.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ik(-t):ik(t);if(n!==t){var s=String(n),o=eR.call(e,s.length+1);return Xl.call(s,r,"$&_")+"."+Xl.call(Xl.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xl.call(e,r,"$&_")}var ZA=gse,ak=ZA.custom,lk=A6(ak)?ak:null,Cse=function t(e,r,n,s){var o=r||{};if(Fl(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fl(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Fl(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fl(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fl(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return D6(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?ok(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?ok(e,d):d}var h=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return QA(e)?"[Array]":"[Object]";var g=Gse(o,n);if(typeof s>"u")s=[];else if(T6(s,e)>=0)return"[Circular]";function m(O,I,k){if(I&&(s=Sse.call(s),s.push(I)),k){var W={depth:o.depth};return Fl(o,"quoteStyle")&&(W.quoteStyle=o.quoteStyle),t(O,W,n+1,s)}return t(O,o,n+1,s)}if(typeof e=="function"&&!uk(e)){var y=Fse(e),b=l0(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(b.length>0?" { "+$o.call(b,", ")+" }":"")}if(A6(e)){var u=lh?Xl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qA.call(e);return typeof e=="object"&&!lh?Op(u):u}if($se(e)){for(var f="<"+rk.call(String(e.nodeName)),p=e.attributes||[],v=0;v<p.length;v++)f+=" "+p[v].name+"="+C6(Ase(p[v].value),"double",o);return f+=">",e.childNodes&&e.childNodes.length&&(f+="..."),f+="</"+rk.call(String(e.nodeName))+">",f}if(QA(e)){if(e.length===0)return"[]";var _=l0(e,m);return g&&!zse(_)?"["+JA(_,g)+"]":"[ "+$o.call(_,", ")+" ]"}if(Dse(e)){var w=l0(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!S6.call(e,"cause")?"{ ["+String(e)+"] "+$o.call(nk.call("[cause]: "+m(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$o.call(w,", ")+" }"}if(typeof e=="object"&&a){if(lk&&typeof e[lk]=="function"&&ZA)return ZA(e,{depth:h-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Mse(e)){var x=[];return JM&&JM.call(e,function(O,I){x.push(m(I,e,!0)+" => "+m(O,e))}),ck("Map",F1.call(e),x,g)}if(Lse(e)){var S=[];return ek&&ek.call(e,function(O){S.push(m(O,e))}),ck("Set",M1.call(e),S,g)}if(kse(e))return ZE("WeakMap");if(Use(e))return ZE("WeakSet");if(Nse(e))return ZE("WeakRef");if(Rse(e))return Op(m(Number(e)));if(Ise(e))return Op(m(XA.call(e)));if(Ose(e))return Op(_se.call(e));if(Pse(e))return Op(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Xi)return"{ [object globalThis] }";if(!Tse(e)&&!uk(e)){var A=l0(e,m),D=sk?sk(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",T=!D&&Qn&&Object(e)===e&&Qn in e?eR.call(zu(e),8,-1):C?"Object":"",R=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=R+(T||C?"["+$o.call(nk.call([],T||[],C||[]),": ")+"] ":"");return A.length===0?P+"{}":g?P+"{"+JA(A,g)+"}":P+"{ "+$o.call(A,", ")+" }"}return String(e)};function C6(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ase(t){return Xl.call(String(t),/"/g,"&quot;")}function QA(t){return zu(t)==="[object Array]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function Tse(t){return zu(t)==="[object Date]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function uk(t){return zu(t)==="[object RegExp]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function Dse(t){return zu(t)==="[object Error]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function Pse(t){return zu(t)==="[object String]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function Rse(t){return zu(t)==="[object Number]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function Ose(t){return zu(t)==="[object Boolean]"&&(!Qn||!(typeof t=="object"&&Qn in t))}function A6(t){if(lh)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qA)return!1;try{return qA.call(t),!0}catch(e){}return!1}function Ise(t){if(!t||typeof t!="object"||!XA)return!1;try{return XA.call(t),!0}catch(e){}return!1}var Bse=Object.prototype.hasOwnProperty||function(t){return t in this};function Fl(t,e){return Bse.call(t,e)}function zu(t){return bse.call(t)}function Fse(t){if(t.name)return t.name;var e=xse.call(wse.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function T6(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Mse(t){if(!F1||!t||typeof t!="object")return!1;try{F1.call(t);try{M1.call(t)}catch(e){return!0}return t instanceof Map}catch(e){}return!1}function kse(t){if(!Og||!t||typeof t!="object")return!1;try{Og.call(t,Og);try{Ig.call(t,Ig)}catch(e){return!0}return t instanceof WeakMap}catch(e){}return!1}function Nse(t){if(!tk||!t||typeof t!="object")return!1;try{return tk.call(t),!0}catch(e){}return!1}function Lse(t){if(!M1||!t||typeof t!="object")return!1;try{M1.call(t);try{F1.call(t)}catch(e){return!0}return t instanceof Set}catch(e){}return!1}function Use(t){if(!Ig||!t||typeof t!="object")return!1;try{Ig.call(t,Ig);try{Og.call(t,Og)}catch(e){return!0}return t instanceof WeakSet}catch(e){}return!1}function $se(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function D6(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return D6(eR.call(t,0,e.maxStringLength),e)+n}var s=Xl.call(Xl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,jse);return C6(s,"single",e)}function jse(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ese.call(e.toString(16))}function Op(t){return"Object("+t+")"}function ZE(t){return t+" { ? }"}function ck(t,e,r,n){var s=n?JA(r,n):$o.call(r,", ");return t+" ("+e+") {"+s+"}"}function zse(t){for(var e=0;e<t.length;e++)if(T6(t[e],"\n")>=0)return!1;return!0}function Gse(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$o.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$o.call(Array(e+1),r)}}function JA(t,e){if(t.length===0)return"";var r="\n"+e.prev+e.base;return r+$o.call(t,","+r)+"\n"+e.prev}function l0(t,e){var r=QA(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=Fl(t,s)?e(t[s],t):""}var o=typeof qE=="function"?qE(t):[],a;if(lh){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var c in t)Fl(t,c)&&(r&&String(Number(c))===c&&c<t.length||lh&&a["$"+c]instanceof Symbol||(E6.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof qE=="function")for(var d=0;d<o.length;d++)S6.call(t,o[d])&&n.push("["+e(o[d])+"]: "+e(t[o[d]],t));return n}var tR=fd,$h=fse,Vse=Cse,Hse=tR("%TypeError%"),u0=tR("%WeakMap%",!0),c0=tR("%Map%",!0),Wse=$h("WeakMap.prototype.get",!0),Kse=$h("WeakMap.prototype.set",!0),Yse=$h("WeakMap.prototype.has",!0),Xse=$h("Map.prototype.get",!0),qse=$h("Map.prototype.set",!0),Zse=$h("Map.prototype.has",!0),rR=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Qse=function(t,e){var r=rR(t,e);return r&&r.value},Jse=function(t,e,r){var n=rR(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},eoe=function(t,e){return!!rR(t,e)},toe=function(){var e,r,n,s={assert:function(o){if(!s.has(o))throw new Hse("Side channel does not contain "+Vse(o))},get:function(o){if(u0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Wse(e,o)}else if(c0){if(r)return Xse(r,o)}else if(n)return Qse(n,o)},has:function(o){if(u0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Yse(e,o)}else if(c0){if(r)return Zse(r,o)}else if(n)return eoe(n,o);return!1},set:function(o,a){u0&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new u0),Kse(e,o,a)):c0?(r||(r=new c0),qse(r,o,a)):(n||(n={key:{},next:null}),Jse(n,o,a))}};return s},roe=String.prototype.replace,noe=/%20/g,QE={RFC1738:"RFC1738",RFC3986:"RFC3986"},nR={default:QE.RFC3986,formatters:{RFC1738:function(t){return roe.call(t,noe,"+")},RFC3986:function(t){return String(t)}},RFC1738:QE.RFC1738,RFC3986:QE.RFC3986},ioe=nR,JE=Object.prototype.hasOwnProperty,mc=Array.isArray,Io=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),soe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(mc(n)){for(var s=[],o=0;o<n.length;++o)typeof n[o]<"u"&&s.push(n[o]);r.obj[r.prop]=s}}},P6=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},ooe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(mc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!JE.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return mc(e)&&!mc(r)&&(s=P6(e,n)),mc(e)&&mc(r)?(r.forEach(function(o,a){if(JE.call(e,a)){var l=e[a];l&&typeof l=="object"&&o&&typeof o=="object"?e[a]=t(l,o,n):e.push(o)}else e[a]=o}),e):Object.keys(r).reduce(function(o,a){var l=r[a];return JE.call(o,a)?o[a]=t(o[a],l,n):o[a]=l,o},s)},aoe=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},loe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(s){return n}},uoe=function(e,r,n,s,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;++c){var d=a.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===ioe.RFC1738&&(d===40||d===41)){l+=a.charAt(c);continue}if(d<128){l=l+Io[d];continue}if(d<2048){l=l+(Io[192|d>>6]+Io[128|d&63]);continue}if(d<55296||d>=57344){l=l+(Io[224|d>>12]+Io[128|d>>6&63]+Io[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|a.charCodeAt(c)&1023),l+=Io[240|d>>18]+Io[128|d>>12&63]+Io[128|d>>6&63]+Io[128|d&63]}return l},coe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var o=r[s],a=o.obj[o.prop],l=Object.keys(a),c=0;c<l.length;++c){var d=l[c],h=a[d];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:a,prop:d}),n.push(h))}return soe(r),e},doe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},foe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},hoe=function(e,r){return[].concat(e,r)},poe=function(e,r){if(mc(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},R6={arrayToObject:P6,assign:aoe,combine:hoe,compact:coe,decode:loe,encode:uoe,isBuffer:foe,isRegExp:doe,maybeMap:poe,merge:ooe},O6=toe,S_=R6,Bg=nR,goe=Object.prototype.hasOwnProperty,dk={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Pa=Array.isArray,moe=Array.prototype.push,I6=function(t,e){moe.apply(t,Pa(e)?e:[e])},voe=Date.prototype.toISOString,fk=Bg.default,zn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:S_.encode,encodeValuesOnly:!1,format:fk,formatter:Bg.formatters[fk],indices:!1,serializeDate:function(e){return voe.call(e)},skipNulls:!1,strictNullHandling:!1},yoe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},eS={},_oe=function t(e,r,n,s,o,a,l,c,d,h,g,m,y,b,u,f){for(var p=e,v=f,_=0,w=!1;(v=v.get(eS))!==void 0&&!w;){var x=v.get(e);if(_+=1,typeof x<"u"){if(x===_)throw new RangeError("Cyclic object value");w=!0}typeof v.get(eS)>"u"&&(_=0)}if(typeof c=="function"?p=c(r,p):p instanceof Date?p=g(p):n==="comma"&&Pa(p)&&(p=S_.maybeMap(p,function(W){return W instanceof Date?g(W):W})),p===null){if(o)return l&&!b?l(r,zn.encoder,u,"key",m):r;p=""}if(yoe(p)||S_.isBuffer(p)){if(l){var S=b?r:l(r,zn.encoder,u,"key",m);return[y(S)+"="+y(l(p,zn.encoder,u,"value",m))]}return[y(r)+"="+y(String(p))]}var A=[];if(typeof p>"u")return A;var D;if(n==="comma"&&Pa(p))b&&l&&(p=S_.maybeMap(p,l)),D=[{value:p.length>0?p.join(",")||null:void 0}];else if(Pa(c))D=c;else{var C=Object.keys(p);D=d?C.sort(d):C}for(var T=s&&Pa(p)&&p.length===1?r+"[]":r,R=0;R<D.length;++R){var P=D[R],O=typeof P=="object"&&typeof P.value<"u"?P.value:p[P];if(!(a&&O===null)){var I=Pa(p)?typeof n=="function"?n(T,P):T:T+(h?"."+P:"["+P+"]");f.set(e,_);var k=O6();k.set(eS,f),I6(A,t(O,I,n,s,o,a,n==="comma"&&b&&Pa(p)?null:l,c,d,h,g,m,y,b,u,k))}}return A},boe=function(e){if(!e)return zn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||zn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bg.default;if(typeof e.format<"u"){if(!goe.call(Bg.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Bg.formatters[n],o=zn.filter;return(typeof e.filter=="function"||Pa(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:zn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?zn.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zn.charsetSentinel,delimiter:typeof e.delimiter>"u"?zn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:zn.encode,encoder:typeof e.encoder=="function"?e.encoder:zn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:zn.encodeValuesOnly,filter:o,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:zn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:zn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zn.strictNullHandling}},woe=function(t,e){var r=t,n=boe(e),s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Pa(n.filter)&&(o=n.filter,s=o);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in dk?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=dk[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var h=O6(),g=0;g<s.length;++g){var m=s[g];n.skipNulls&&r[m]===null||I6(a,_oe(r[m],m,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var y=a.join(n.delimiter),b=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""},uh=R6,eT=Object.prototype.hasOwnProperty,xoe=Array.isArray,_n={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:uh.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Eoe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},B6=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Soe="utf8=%26%2310003%3B",Coe="utf8=%E2%9C%93",Aoe=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,a=s.split(r.delimiter,o),l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===Coe?d="utf-8":a[c]===Soe&&(d="iso-8859-1"),l=c,c=a.length);for(c=0;c<a.length;++c)if(c!==l){var h=a[c],g=h.indexOf("]="),m=g===-1?h.indexOf("="):g+1,y,b;m===-1?(y=r.decoder(h,_n.decoder,d,"key"),b=r.strictNullHandling?null:""):(y=r.decoder(h.slice(0,m),_n.decoder,d,"key"),b=uh.maybeMap(B6(h.slice(m+1),r),function(u){return r.decoder(u,_n.decoder,d,"value")})),b&&r.interpretNumericEntities&&d==="iso-8859-1"&&(b=Eoe(b)),h.indexOf("[]=")>-1&&(b=xoe(b)?[b]:b),eT.call(n,y)?n[y]=uh.combine(n[y],b):n[y]=b}return n},Toe=function(t,e,r,n){for(var s=n?e:B6(e,r),o=t.length-1;o>=0;--o){var a,l=t[o];if(l==="[]"&&r.parseArrays)a=[].concat(s);else{a=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(c,10);!r.parseArrays&&c===""?a={0:s}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(a=[],a[d]=s):c!=="__proto__"&&(a[c]=s)}s=a}return s},Doe=function(e,r,n,s){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(o),d=c?o.slice(0,c.index):o,h=[];if(d){if(!n.plainObjects&&eT.call(Object.prototype,d)&&!n.allowPrototypes)return;h.push(d)}for(var g=0;n.depth>0&&(c=l.exec(o))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&eT.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+o.slice(c.index)+"]"),Toe(h,r,n,s)}},Poe=function(e){if(!e)return _n;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?_n.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?_n.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:_n.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:_n.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:_n.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_n.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:_n.comma,decoder:typeof e.decoder=="function"?e.decoder:_n.decoder,delimiter:typeof e.delimiter=="string"||uh.isRegExp(e.delimiter)?e.delimiter:_n.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:_n.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:_n.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:_n.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:_n.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_n.strictNullHandling}},Roe=function(t,e){var r=Poe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Aoe(t,r):t,s=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var l=o[a],c=Doe(l,n[l],r,typeof t=="string");s=uh.merge(s,c,r)}return r.allowSparse===!0?s:uh.compact(s)},Ooe=woe,Ioe=Roe,Boe=nR,Foe={formats:Boe,parse:Ioe,stringify:Ooe},Moe=Aie;function vo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var koe=/^([a-z0-9.+-]+:)/i,Noe=/:[0-9]*$/,Loe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Uoe=["<",">",'"',"`"," ","\r","\n","	"],$oe=["{","}","|","\\","^","`"].concat(Uoe),tT=["'"].concat($oe),hk=["%","/","?",";","#"].concat(tT),pk=["/","?","#"],joe=255,gk=/^[+a-z0-9A-Z_-]{0,63}$/,zoe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Goe={javascript:!0,"javascript:":!0},rT={javascript:!0,"javascript:":!0},Uf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},nT=Foe;function $w(t,e,r){if(t&&typeof t=="object"&&t instanceof vo)return t;var n=new vo;return n.parse(t,e,r),n}vo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(s);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=Loe.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=nT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=koe.exec(l);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var g=l.substr(0,2)==="//";g&&!(d&&rT[d])&&(l=l.substr(2),this.slashes=!0)}if(!rT[d]&&(g||d&&!Uf[d])){for(var m=-1,y=0;y<pk.length;y++){var b=l.indexOf(pk[y]);b!==-1&&(m===-1||b<m)&&(m=b)}var u,f;m===-1?f=l.lastIndexOf("@"):f=l.lastIndexOf("@",m),f!==-1&&(u=l.slice(0,f),l=l.slice(f+1),this.auth=decodeURIComponent(u)),m=-1;for(var y=0;y<hk.length;y++){var b=l.indexOf(hk[y]);b!==-1&&(m===-1||b<m)&&(m=b)}m===-1&&(m=l.length),this.host=l.slice(0,m),l=l.slice(m),this.parseHost(),this.hostname=this.hostname||"";var p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p)for(var v=this.hostname.split(/\./),y=0,_=v.length;y<_;y++){var w=v[y];if(w&&!w.match(gk)){for(var x="",S=0,A=w.length;S<A;S++)w.charCodeAt(S)>127?x+="x":x+=w[S];if(!x.match(gk)){var D=v.slice(0,y),C=v.slice(y+1),T=w.match(zoe);T&&(D.push(T[1]),C.unshift(T[2])),C.length&&(l="/"+C.join(".")+l),this.hostname=D.join(".");break}}}this.hostname.length>joe?this.hostname="":this.hostname=this.hostname.toLowerCase(),p||(this.hostname=Moe.toASCII(this.hostname));var R=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+R,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!Goe[h])for(var y=0,_=tT.length;y<_;y++){var O=tT[y];if(l.indexOf(O)!==-1){var I=encodeURIComponent(O);I===O&&(I=escape(O)),l=l.split(O).join(I)}}var k=l.indexOf("#");k!==-1&&(this.hash=l.substr(k),l=l.slice(0,k));var W=l.indexOf("?");if(W!==-1?(this.search=l.substr(W),this.query=l.substr(W+1),e&&(this.query=nT.parse(this.query)),l=l.slice(0,W)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Uf[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",V=this.search||"";this.path=R+V}return this.href=this.format(),this};function Voe(t){return typeof t=="string"&&(t=$w(t)),t instanceof vo?t.format():vo.prototype.format.call(t)}vo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=nT.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Uf[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),e+s+r+a+n};function Hoe(t,e){return $w(t,!1,!0).resolve(e)}vo.prototype.resolve=function(t){return this.resolveObject($w(t,!1,!0)).format()};vo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new vo;e.parse(t,!1,!0),t=e}for(var r=new vo,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var c=a[l];c!=="protocol"&&(r[c]=t[c])}return Uf[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Uf[t.protocol]){for(var d=Object.keys(t),h=0;h<d.length;h++){var g=d[h];r[g]=t[g]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!rT[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",u=t.host||t.pathname&&t.pathname.charAt(0)==="/",f=u||b||r.host&&t.pathname,p=f,v=r.pathname&&r.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Uf[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),f=f&&(_[0]===""||v[0]==="")),u)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,v=_;else if(_.length)v||(v=[]),v.pop(),v=v.concat(_),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=v.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=v.slice(-1)[0],A=(r.host||t.host||v.length>1)&&(S==="."||S==="..")||S==="",D=0,C=v.length;C>=0;C--)S=v[C],S==="."?v.splice(C,1):S===".."?(v.splice(C,1),D++):D&&(v.splice(C,1),D--);if(!f&&!p)for(;D--;D)v.unshift("..");f&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),A&&v.join("/").substr(-1)!=="/"&&v.push("");var T=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(w){r.hostname=T?"":v.length?v.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return f=f||r.host&&v.length,f&&!T&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};vo.prototype.parseHost=function(){var t=this.host,e=Noe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Woe=$w,Koe=Hoe,Yoe=Voe;const mk={};function St(t,e,r=3){if(mk[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),mk[e]=!0}const Xoe={get parse(){return St("7.3.0","utils.url.parse is deprecated, use native URL API instead."),Woe},get format(){return St("7.3.0","utils.url.format is deprecated, use native URL API instead."),Yoe},get resolve(){return St("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),Koe}};function Qs(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function Ip(t){return t.split("?")[0].split("#")[0]}function qoe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zoe(t,e,r){return t.replace(new RegExp(qoe(e),"g"),r)}function Qoe(t,e){let r="",n=0,s=-1,o=0,a=-1;for(let l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=l,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,o=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(s+1,l)):r=t.slice(s+1,l),n=l-s-1;s=l,o=0}else a===46&&o!==-1?++o:o=-1}return r}const on={toPosix(t){return Zoe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Qs(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Qs(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Ip(this.toPosix(e!=null?e:nt.ADAPTER.getBaseUrl())),s=Ip(this.toPosix(r!=null?r:this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?on.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Qs(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Qoe(t,!1),t.length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return Qs(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var r;if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const s=t[n];if(Qs(s),s.length>0)if(e===void 0)e=s;else{const o=(r=t[n-1])!=null?r:"";this.extname(o)?e+="/../".concat(s):e+="/".concat(s)}}return e===void 0?".":this.normalize(e)},dirname(t){if(Qs(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const o=this.getProtocol(t),a=t;t=t.slice(o.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(a)?o+t:o:r&&n===1?"//":o+t.slice(0,n)},rootname(t){Qs(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Qs(t),e&&Qs(e),t=Ip(this.toPosix(t));let r=0,n=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,l=-1;for(o=t.length-1;o>=0;--o){const c=t.charCodeAt(o);if(c===47){if(!s){r=o+1;break}}else l===-1&&(s=!1,l=o+1),a>=0&&(c===e.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!s){r=o+1;break}}else n===-1&&(s=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){Qs(t),t=Ip(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,o=0;for(let a=t.length-1;a>=0;--a){const l=t.charCodeAt(a);if(l===47){if(!s){r=a+1;break}continue}n===-1&&(s=!1,n=a+1),l===46?e===-1?e=a:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Qs(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ip(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let o=-1,a=0,l=-1,c=!0,d=t.length-1,h=0;for(;d>=s;--d){if(r=t.charCodeAt(d),r===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?o===-1?o=d:h!==1&&(h=1):o!==-1&&(h=-1)}return o===-1||l===-1||h===0||h===1&&o===l-1&&o===a+1?l!==-1&&(a===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(a,l)):(a===0&&n?(e.name=t.slice(1,o),e.base=t.slice(1,l)):(e.name=t.slice(a,o),e.base=t.slice(a,l)),e.ext=t.slice(o,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Bp;async function F6(){return Bp!=null||(Bp=(async()=>{var o;const t=document.createElement("canvas").getContext("webgl");if(!t)return ci.UNPACK;const e=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return ci.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(r),(o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?ci.PMA:ci.UNPACK})()),Bp}function Joe(){St("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function eae(){St("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}let tS;function M6(){return typeof tS>"u"&&(tS=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!nt.ADAPTER.getWebGLRenderingContext())return!1;const r=nt.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch(r){return!1}}()),tS}var tae={grad:.9,turn:360,rad:360/(2*Math.PI)},ya=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Sn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Bs=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},k6=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},vk=function(t){return{r:Bs(t.r,0,255),g:Bs(t.g,0,255),b:Bs(t.b,0,255),a:Bs(t.a)}},rS=function(t){return{r:Sn(t.r),g:Sn(t.g),b:Sn(t.b),a:Sn(t.a,3)}},rae=/^#([0-9a-f]{3,8})$/i,d0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},N6=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),a=o-Math.min(e,r,n),l=a?o===e?(r-n)/a:o===r?2+(n-e)/a:4+(e-r)/a:0;return{h:60*(l<0?l+6:l),s:o?a/o*100:0,v:o/255*100,a:s}},L6=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),a=n*(1-r),l=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:255*[n,l,a,a,c,n][d],g:255*[c,n,n,l,a,a][d],b:255*[a,a,c,n,n,l][d],a:s}},yk=function(t){return{h:k6(t.h),s:Bs(t.s,0,100),l:Bs(t.l,0,100),a:Bs(t.a)}},_k=function(t){return{h:Sn(t.h),s:Sn(t.s),l:Sn(t.l),a:Sn(t.a,3)}},bk=function(t){return L6((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Fg=function(t){return{h:(e=N6(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},nae=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iae=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sae=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oae=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iT={string:[[function(t){var e=rae.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Sn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Sn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=sae.exec(t)||oae.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:vk({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=nae.exec(t)||iae.exec(t);if(!e)return null;var r,n,s=yk({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(tae[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return bk(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s===void 0?1:s;return ya(e)&&ya(r)&&ya(n)?vk({r:Number(e),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,o=s===void 0?1:s;if(!ya(e)||!ya(r)||!ya(n))return null;var a=yk({h:Number(e),s:Number(r),l:Number(n),a:Number(o)});return bk(a)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,o=s===void 0?1:s;if(!ya(e)||!ya(r)||!ya(n))return null;var a=function(l){return{h:k6(l.h),s:Bs(l.s,0,100),v:Bs(l.v,0,100),a:Bs(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(o)});return L6(a)},"hsv"]]},wk=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},aae=function(t){return typeof t=="string"?wk(t.trim(),iT.string):typeof t=="object"&&t!==null?wk(t,iT.object):[null,void 0]},nS=function(t,e){var r=Fg(t);return{h:r.h,s:Bs(r.s+100*e,0,100),l:r.l,a:r.a}},iS=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},xk=function(t,e){var r=Fg(t);return{h:r.h,s:r.s,l:Bs(r.l+100*e,0,100),a:r.a}},sT=function(){function t(e){this.parsed=aae(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Sn(iS(this.rgba),2)},t.prototype.isDark=function(){return iS(this.rgba)<.5},t.prototype.isLight=function(){return iS(this.rgba)>=.5},t.prototype.toHex=function(){return e=rS(this.rgba),r=e.r,n=e.g,s=e.b,a=(o=e.a)<1?d0(Sn(255*o)):"","#"+d0(r)+d0(n)+d0(s)+a;var e,r,n,s,o,a},t.prototype.toRgb=function(){return rS(this.rgba)},t.prototype.toRgbString=function(){return e=rS(this.rgba),r=e.r,n=e.g,s=e.b,(o=e.a)<1?"rgba("+r+", "+n+", "+s+", "+o+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,o},t.prototype.toHsl=function(){return _k(Fg(this.rgba))},t.prototype.toHslString=function(){return e=_k(Fg(this.rgba)),r=e.h,n=e.s,s=e.l,(o=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+o+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,o},t.prototype.toHsv=function(){return e=N6(this.rgba),{h:Sn(e.h),s:Sn(e.s),v:Sn(e.v),a:Sn(e.a,3)};var e},t.prototype.invert=function(){return Fo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Fo(nS(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Fo(nS(this.rgba,-e))},t.prototype.grayscale=function(){return Fo(nS(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Fo(xk(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Fo(xk(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Fo({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Sn(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Fg(this.rgba);return typeof e=="number"?Fo({h:e,s:r.s,l:r.l,a:r.a}):Sn(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Fo(e).toHex()},t}(),Fo=function(t){return t instanceof sT?t:new sT(t)},Ek=[],lae=function(t){t.forEach(function(e){Ek.indexOf(e)<0&&(e(sT,iT),Ek.push(e))})};function uae(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var o={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(a!=null&&a.closest){var h=this.toRgb(),g=1/0,m="black";if(!o.length)for(var y in r)o[y]=new t(r[y]).toRgb();for(var b in r){var u=(l=h,c=o[b],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));u<g&&(g=u,m=b)}return m}},e.string.push([function(a){var l=a.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}lae([uae]);const ef=class C_{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof C_)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[r,n,s]=this._components;return e=e!=null?e:[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e!=null?e:[];const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,o]=C_.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,s]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[r,n,s,o]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=o,e}normalize(e){let r,n,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,n=(a>>8&255)/255,s=(a&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,o=255]=e,r/=255,n/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=C_.HEX_PATTERN.exec(e);l&&(e="#".concat(l[2]))}const a=Fo(e);a.isValid()&&({r,g:n,b:s,a:o}=a.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error("Unable to convert color ".concat(e))}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,r),n)}),e)}};ef.shared=new ef,ef.temp=new ef,ef.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let qt=ef;function cae(t,e=[]){return St("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),qt.shared.setValue(t).toRgbArray(e)}function U6(t){return St("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),qt.shared.setValue(t).toHex()}function dae(t){return St("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),qt.shared.setValue(t).toNumber()}function $6(t){return St("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),qt.shared.setValue(t).toNumber()}function fae(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[bt.NORMAL_NPM]=bt.NORMAL,t[bt.ADD_NPM]=bt.ADD,t[bt.SCREEN_NPM]=bt.SCREEN,e[bt.NORMAL]=bt.NORMAL_NPM,e[bt.ADD]=bt.ADD_NPM,e[bt.SCREEN]=bt.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const iR=fae();function sR(t,e){return iR[e?1:0][t]}function hae(t,e,r,n=!0){return St("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),qt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}function pae(t,e){return St("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),qt.shared.setValue(t).toPremultiplied(e)}function gae(t,e,r,n=!0){return St("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),qt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}const j6=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function z6(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,s=0;n<r;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function jw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const mae={Float32Array,Uint32Array,Int32Array,Uint8Array};function vae(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let a=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],h=t[c],g=jw(h);s[g]||(s[g]=new mae[g](o)),a=s[g];for(let m=0;m<h.length;m++){const y=(m/d|0)*n+l,b=m%d;a[y+b]=h[m]}l+=d}return new Float32Array(o)}function Sm(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function oT(t){return!(t&t-1)&&!!t}function aT(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ic(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const o=n-r;for(s=e;s<o;++s)t[s]=t[s+r];t.length=o}function Na(t){return t===0?0:t<0?-1:1}let yae=0;function wu(){return++yae}const lT=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};lT.EMPTY=new lT(0,0,0,0);let uT=lT;const cT={},oi=Object.create(null),Gi=Object.create(null);function _ae(){let t;for(t in oi)oi[t].destroy();for(t in Gi)Gi[t].destroy()}function bae(){let t;for(t in oi)delete oi[t];for(t in Gi)delete Gi[t]}class G6{constructor(e,r,n){this._canvas=nt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||nt.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Sk(t,e,r){for(let n=0,s=4*r*e;n<e;++n,s+=4)if(t[s+3]!==0)return!1;return!0}function Ck(t,e,r,n,s){const o=4*e;for(let a=n,l=n*o+4*r;a<=s;++a,l+=o)if(t[l+3]!==0)return!1;return!0}function V6(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,c=r-1;for(;a<r&&Sk(s,e,a);)++a;if(a===r)return uT.EMPTY;for(;Sk(s,e,c);)--c;for(;Ck(s,e,o,a,c);)++o;for(;Ck(s,e,l,a,c);)--l;return++l,++c,new uT(o,a,l,c)}function H6(t){const e=V6(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const o=t.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}function wae(t){const e=j6.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function W6(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ea(t,e=1){var n;const r=(n=nt.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}const xae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Gi,BoundingBox:uT,CanvasRenderTarget:G6,DATA_URI:j6,EventEmitter:Uh,ProgramCache:cT,TextureCache:oi,clearTextureCache:bae,correctBlendMode:sR,createIndicesForQuads:z6,decomposeDataUri:wae,deprecation:St,destroyTextureCache:_ae,detectVideoAlphaMode:F6,determineCrossOrigin:W6,earcut:g6,getBufferType:jw,getCanvasBoundingBox:V6,getResolutionOfUrl:ea,hex2rgb:cae,hex2string:U6,interleaveTypedArrays:vae,isMobile:lo,isPow2:oT,isWebGLSupported:M6,log2:aT,nextPow2:Sm,path:on,premultiplyBlendMode:iR,premultiplyRgba:hae,premultiplyTint:pae,premultiplyTintToRgba:gae,removeItems:Ic,rgb2hex:$6,sayHello:eae,sign:Na,skipHello:Joe,string2hex:dae,trimCanvas:H6,uid:wu,url:Xoe},Symbol.toStringTag,{value:"Module"}));var qe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(qe||{});const dT=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Ak=(t,e)=>{var r;return(r=dT(t).priority)!=null?r:e},ct={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(dT).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(dT).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,s=this._queue;n[r]?n[r](e):(s[r]=s[r]||[],s[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,s[t]=r;const o=this._queue;return o[t]&&(o[t].forEach(a=>e(a)),delete o[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,o)=>Ak(o,r)-Ak(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class k1{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const Eae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Sae(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}function K6(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Eae.replace(/%forloop%/gi,Sae(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const sS=0,oS=1,aS=2,lS=3,uS=4,cS=5;class Ao{constructor(){this.data=0,this.blendMode=bt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<sS)}set blend(e){!!(this.data&1<<sS)!==e&&(this.data^=1<<sS)}get offsets(){return!!(this.data&1<<oS)}set offsets(e){!!(this.data&1<<oS)!==e&&(this.data^=1<<oS)}get culling(){return!!(this.data&1<<aS)}set culling(e){!!(this.data&1<<aS)!==e&&(this.data^=1<<aS)}get depthTest(){return!!(this.data&1<<lS)}set depthTest(e){!!(this.data&1<<lS)!==e&&(this.data^=1<<lS)}get depthMask(){return!!(this.data&1<<cS)}set depthMask(e){!!(this.data&1<<cS)!==e&&(this.data^=1<<cS)}get clockwiseFrontFace(){return!!(this.data&1<<uS)}set clockwiseFrontFace(e){!!(this.data&1<<uS)!==e&&(this.data^=1<<uS)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==bt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ao;return e.depthTest=!1,e.blend=!0,e}}Ao.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const N1=[];function oR(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=N1.length-1;n>=0;--n){const s=N1[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ji{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,s,o,a,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:h}=this;this._aliasCount++;for(let g=0,m=h.length;g<m;g++)h[g][d](e,r,n,s,o,a,l,c);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ji.prototype,{dispatch:{value:Ji.prototype.emit},run:{value:Ji.prototype.emit}});class ch{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ji("setRealSize"),this.onUpdate=new Ji("update"),this.onError=new Ji("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Hv extends ch{constructor(e,r){var o;const{width:n,height:s}=r||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=(o=r.unpackAlignment)!=null?o:4}upload(e,r,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ci.UNPACK);const o=r.realWidth,a=r.realHeight;return n.width===o&&n.height===a?s.texSubImage2D(r.target,0,0,0,o,a,r.format,n.type,this.data):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,o,a,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Cae={scaleMode:Go.NEAREST,alphaMode:ci.NPM},fT=class tf extends Uh{constructor(e=null,r=null){super(),r=Object.assign({},tf.defaultOptions,r);const{alphaMode:n,mipmap:s,anisotropicLevel:o,scaleMode:a,width:l,height:c,wrapMode:d,format:h,type:g,target:m,resolution:y,resourceOptions:b}=r;e&&!(e instanceof ch)&&(e=oR(e,b),e.internal=!0),this.resolution=y||nt.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=d,this._scaleMode=a,this.format=h,this.type=g,this.target=m,this.alphaMode=n,this.uid=wu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=oT(this.realWidth)&&oT(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Gi[this.cacheId],delete oi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),tf.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=nt.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(wu())}o=e._pixiId}let a=Gi[o];if(s&&n&&!a)throw new Error('The cacheId "'.concat(o,'" does not exist in BaseTextureCache.'));return a||(a=new tf(e,r),a.cacheId=o,tf.addToCache(a,o)),a}static fromBuffer(e,r,n,s){e=e||new Float32Array(r*n*4);const o=new Hv(e,{width:r,height:n,...s==null?void 0:s.resourceOptions});let a,l;return e instanceof Float32Array?(a=Ie.RGBA,l=gt.FLOAT):e instanceof Int32Array?(a=Ie.RGBA_INTEGER,l=gt.INT):e instanceof Uint32Array?(a=Ie.RGBA_INTEGER,l=gt.UNSIGNED_INT):e instanceof Int16Array?(a=Ie.RGBA_INTEGER,l=gt.SHORT):e instanceof Uint16Array?(a=Ie.RGBA_INTEGER,l=gt.UNSIGNED_SHORT):e instanceof Int8Array?(a=Ie.RGBA,l=gt.BYTE):(a=Ie.RGBA,l=gt.UNSIGNED_BYTE),o.internal=!0,new tf(o,Object.assign({},Cae,{type:l,format:a},s))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Gi[r]&&Gi[r]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(r,"] that already had an entry")),Gi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Gi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Gi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Gi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};fT.defaultOptions={mipmap:Eo.POW2,anisotropicLevel:0,scaleMode:Go.LINEAR,wrapMode:qo.CLAMP,alphaMode:ci.UNPACK,target:Pc.TEXTURE_2D,format:Ie.RGBA,type:gt.UNSIGNED_BYTE},fT._globalBatch=0;let Ot=fT;class L1{constructor(){this.texArray=null,this.blend=0,this.type=ao.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Aae=0,tn=class Y6{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Aae++,this.disposeRunner=new Ji("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?mo.ELEMENT_ARRAY_BUFFER:mo.ARRAY_BUFFER}get index(){return this.type===mo.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Y6(e)}};class Cm{constructor(e,r=0,n=!1,s=gt.FLOAT,o,a,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=s,this.stride=o,this.start=a,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,s,o){return new Cm(e,r,n,s,o)}}const Tae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Dae(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let a=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],h=t[c],g=jw(h);s[g]||(s[g]=new Tae[g](o)),a=s[g];for(let m=0;m<h.length;m++){const y=(m/d|0)*n+l,b=m%d;a[y+b]=h[m]}l+=d}return new Float32Array(o)}const Tk={5126:4,5123:2,5121:1};let Pae=0;const Rae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Qa{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Pae++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ji("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,s=!1,o,a,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof tn||(r instanceof Array&&(r=new Float32Array(r)),r=new tn(r));const d=e.split("|");if(d.length>1){for(let g=0;g<d.length;g++)this.addAttribute(d[g],r,n,s,o);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new Cm(h,n,s,o,a,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new tn(e)),e.type=mo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new tn;let s;for(s in this.attributes){const o=this.attributes[s],a=this.buffers[o.buffer];e.push(a.data),r.push(o.size*Tk[o.type]/4),o.buffer=0}for(n.data=Dae(e,r),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Qa;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new tn(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Cm(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=mo.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Qa,n=[],s=[],o=[];let a;for(let l=0;l<e.length;l++){a=e[l];for(let c=0;c<a.buffers.length;c++)s[c]=s[c]||0,s[c]+=a.buffers[c].data.length,o[c]=0}for(let l=0;l<a.buffers.length;l++)n[l]=new Rae[jw(a.buffers[l].data)](s[l]),r.buffers[l]=new tn(n[l]);for(let l=0;l<e.length;l++){a=e[l];for(let c=0;c<a.buffers.length;c++)n[c].set(a.buffers[c].data,o[c]),o[c]+=a.buffers[c].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=mo.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,h=0;for(let g=0;g<a.buffers.length;g++)if(a.buffers[g]!==a.indexBuffer){h=g;break}for(const g in a.attributes){const m=a.attributes[g];(m.buffer|0)===h&&(c+=m.size*Tk[m.type]/4)}for(let g=0;g<e.length;g++){const m=e[g].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+d]+=l;l+=e[g].buffers[h].data.length/c,d+=m.length}}return r}}class aR extends Qa{constructor(e=!1){super(),this._buffer=new tn(null,e,!1),this._indexBuffer=new tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,gt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,gt.FLOAT).addAttribute("aColor",this._buffer,4,!0,gt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,gt.FLOAT).addIndex(this._indexBuffer)}}const Am=Math.PI*2,X6=180/Math.PI,q6=Math.PI/180;var Tn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Tn||{});let Ve=class Z6{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Z6(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};Ve.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const f0=[new Ve,new Ve,new Ve,new Ve];class Pt{constructor(e=0,r=0,n=0,s=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=Tn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Pt(0,0,0,0)}clone(){return new Pt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,s=this.right,o=this.top,a=this.bottom;if(s<=n||a<=o)return!1;const l=f0[0].set(e.left,e.top),c=f0[1].set(e.left,e.bottom),d=f0[2].set(e.right,e.top),h=f0[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(l,l),r.apply(c,c),r.apply(d,d),r.apply(h,h),Math.max(l.x,c.x,d.x,h.x)<=n||Math.min(l.x,c.x,d.x,h.x)>=s||Math.max(l.y,c.y,d.y,h.y)<=o||Math.min(l.y,c.y,d.y,h.y)>=a))return!1;const m=g*(c.y-l.y),y=g*(l.x-c.x),b=m*n+y*o,u=m*s+y*o,f=m*n+y*a,p=m*s+y*a;if(Math.max(b,u,f,p)<=m*l.x+y*l.y||Math.min(b,u,f,p)>=m*h.x+y*h.y)return!1;const v=g*(l.y-d.y),_=g*(d.x-l.x),w=v*n+_*o,x=v*s+_*o,S=v*n+_*a,A=v*s+_*a;return!(Math.max(w,x,S,A)<=v*l.x+_*l.y||Math.min(w,x,S,A)>=v*h.x+_*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}Pt.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Wv{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Tn.CIRC}clone(){return new Wv(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,o=this.y-r;return s*=s,o*=o,s+o<=n}getBounds(){return new Pt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Wv.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class Kv{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s,this.type=Tn.ELIP}clone(){return new Kv(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(r-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new Pt(this.x-this.width,this.y-this.height,this.width,this.height)}}Kv.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class du{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=Tn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new du(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let o=0,a=s-1;o<s;a=o++){const l=this.points[o*2],c=this.points[o*2+1],d=this.points[a*2],h=this.points[a*2+1];c>r!=h>r&&e<(d-l)*((r-c)/(h-c))+l&&(n=!n)}return n}}du.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")};class Yv{constructor(e=0,r=0,n=0,s=0,o=20){this.x=e,this.y=r,this.width=n,this.height=s,this.radius=o,this.type=Tn.RREC}clone(){return new Yv(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),o=r-(this.y+n);const a=n*n;if(s*s+o*o<=a||(s=e-(this.x+this.width-n),s*s+o*o<=a)||(o=r-(this.y+this.height-n),s*s+o*o<=a)||(s=e-(this.x+n),s*s+o*o<=a))return!0}return!1}}Yv.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class Ht{constructor(e=1,r=0,n=0,s=1,o=0,a=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,o,a){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ve;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new Ve;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return r.x=this.d*n*s+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,o=this.c,a=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,o=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this}setTransform(e,r,n,s,o,a,l,c,d){return this.a=Math.cos(l+d)*o,this.b=Math.sin(l+d)*o,this.c=-Math.sin(l-c)*a,this.d=Math.cos(l-c)*a,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,o=this.d,a=e.pivot,l=-Math.atan2(-s,o),c=Math.atan2(n,r),d=Math.abs(l+c);return d<1e-5||Math.abs(Am-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(a.x*r+a.y*s),e.position.y=this.ty+(a.x*n+a.y*o),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,o=this.tx,a=e*s-r*n;return this.a=s/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-s*o)/a,this.ty=-(e*this.ty-r*o)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const lc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],cc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],dc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hT=[],Q6=[],h0=Math.sign;function Oae(){for(let t=0;t<16;t++){const e=[];hT.push(e);for(let r=0;r<16;r++){const n=h0(lc[t]*lc[r]+cc[t]*uc[r]),s=h0(uc[t]*lc[r]+dc[t]*uc[r]),o=h0(lc[t]*cc[r]+cc[t]*dc[r]),a=h0(uc[t]*cc[r]+dc[t]*dc[r]);for(let l=0;l<16;l++)if(lc[l]===n&&uc[l]===s&&cc[l]===o&&dc[l]===a){e.push(l);break}}}for(let t=0;t<16;t++){const e=new Ht;e.set(lc[t],uc[t],cc[t],dc[t],0,0),Q6.push(e)}}Oae();const Cr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>lc[t],uY:t=>uc[t],vX:t=>cc[t],vY:t=>dc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>hT[t][e],sub:(t,e)=>hT[t][Cr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Cr.S:Cr.N:Math.abs(e)*2<=Math.abs(t)?t>0?Cr.E:Cr.W:e>0?t>0?Cr.SE:Cr.SW:t>0?Cr.NE:Cr.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=Q6[Cr.inv(e)];s.tx=r,s.ty=n,t.append(s)}};class uo{constructor(e,r,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new uo(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}uo.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const pT=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new uo(this.onChange,this,0,0),this.scale=new uo(this.onChange,this,1,1),this.pivot=new uo(this.onChange,this,0,0),this.skew=new uo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};pT.IDENTITY=new pT;let jh=pT;jh.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};var Iae="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",Bae="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function Dk(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function dS(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function J6(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return dS(2*e);case"bvec3":return dS(3*e);case"bvec4":return dS(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Bc=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],Fae={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Mae={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function kae(t,e){var n;const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const s in t.uniforms){const o=e[s];if(!o){((n=t.uniforms[s])==null?void 0:n.group)===!0&&(t.uniforms[s].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")));continue}const a=t.uniforms[s];let l=!1;for(let c=0;c<Bc.length;c++)if(Bc[c].test(o,a)){r.push(Bc[c].code(s,a)),l=!0;break}if(!l){const c=(o.size===1&&!o.isArray?Fae:Mae)[o.type].replace("location",'ud["'.concat(s,'"].location'));r.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(c,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}const e5={};let Md=e5;function t5(){if(Md===e5||Md!=null&&Md.isContextLost()){const t=nt.ADAPTER.createCanvas();let e;nt.PREFER_ENV>=ju.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Md=e}return Md}let p0;function Nae(){if(!p0){p0=Zi.MEDIUM;const t=t5();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(p0=e.precision?Zi.HIGH:Zi.MEDIUM)}}return p0}function Pk(t,e){const r=t.getShaderSource(e).split("\n").map((d,h)=>"".concat(h,": ").concat(d)),n=t.getShaderInfoLog(e),s=n.split("\n"),o={},a=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!o[d]?(o[d]=!0,!0):!1),l=[""];a.forEach(d=>{r[d-1]="%c".concat(r[d-1],"%c"),l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join("\n");l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function Lae(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Pk(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Pk(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Uae={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function r5(t){return Uae[t]}let g0=null;const Rk={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function n5(t,e){if(!g0){const r=Object.keys(Rk);g0={};for(let n=0;n<r.length;++n){const s=r[n];g0[t[s]]=Rk[s]}}return g0[e]}function Ok(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Zi.HIGH&&r!==Zi.HIGH&&(n=Zi.MEDIUM),"precision ".concat(n," float;\n").concat(t)}else if(r!==Zi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Fp;function i5(){if(typeof Fp=="boolean")return Fp;try{Fp=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(t){Fp=!1}return Fp}let $ae=0;const m0={},gT=class rf{constructor(e,r,n="pixi-shader",s={}){this.extra={},this.id=$ae++,this.vertexSrc=e||rf.defaultVertexSrc,this.fragmentSrc=r||rf.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),m0[n]?(m0[n]++,n+="-".concat(m0[n])):m0[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=Ok(this.vertexSrc,rf.defaultVertexPrecision,Zi.HIGH),this.fragmentSrc=Ok(this.fragmentSrc,rf.defaultFragmentPrecision,Nae())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Bae}static get defaultFragmentSrc(){return Iae}static from(e,r,n){const s=e+r;let o=cT[s];return o||(cT[s]=o=new rf(e,r,n)),o}};gT.defaultVertexPrecision=Zi.HIGH,gT.defaultFragmentPrecision=lo.apple.device?Zi.HIGH:Zi.MEDIUM;let Vo=gT,jae=0;class $s{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=jae++,this.static=!!r,this.ubo=!!n,e instanceof tn?(this.buffer=e,this.buffer.type=mo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tn(new Float32Array(1)),this.buffer.type=mo.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new $s(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new $s(e,r,n)}static uboFrom(e,r){return new $s(e,r!=null?r:!0,!0)}}class yo{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof $s?this.uniformGroup=r:this.uniformGroup=new $s(r):this.uniformGroup=new $s({}),this.disposeRunner=new Ji("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const s=r.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const s=Vo.from(e,r);return new yo(s,n)}}class s5{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let o=0;o<e;o++)n[o]=o;this.defaultGroupCache[e]=$s.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,"".concat(e)),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Vo(this.vertexSrc,s)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new yo(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let n=0;n<e;n++)n>0&&(r+="\nelse "),n<e-1&&(r+="if(vTextureId < ".concat(n,".5)")),r+="\n{",r+="\n	color = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),r+="\n}";return r+="\n",r+="\n",r}}class U1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function zae(){return!lo.apple.device}function Gae(t){let e=!0;const r=nt.ADAPTER.getNavigator();if(lo.tablet||lo.phone){if(lo.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(lo.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Xv{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Vae="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Hae="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const Qp=class eo extends Xv{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=aR,this.vertexSize=6,this.state=Ao.for2d(),this.size=eo.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:Gae(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:zae(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return St("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Hae}static get defaultFragmentTemplate(){return Vae}setShaderGenerator({vertex:e=eo.defaultVertexSrc,fragment:r=eo.defaultFragmentTemplate}={}){this.shaderGenerator=new s5(e,r)}contextChange(){const e=this.renderer.gl;nt.PREFER_ENV===ju.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),eo.defaultMaxTextures),this.maxTextures=K6(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=eo,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new L1);for(;r.length<s;)r.push(new U1);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=eo._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count;let l=++Ot._globalBatch,c=0,d=n[0],h=0;s.copyBoundTextures(o,r);for(let g=0;g<this._bufferSize;++g){const m=e[g];e[g]=null,m._batchEnabled!==l&&(d.count>=r&&(s.boundArray(d,o,l,r),this.buildDrawCalls(d,h,g),h=g,d=n[++c],++l),m._batchEnabled=l,m.touched=a,d.elements[d.count++]=m)}d.count>0&&(s.boundArray(d,o,l,r),this.buildDrawCalls(d,h,this._bufferSize),++c,++l);for(let g=0;g<o.length;g++)o[g]=null;Ot._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:a,vertexSize:l}=this,c=eo._drawCallPool;let d=this._dcIndex,h=this._aIndex,g=this._iIndex,m=c[d];m.start=this._iIndex,m.texArray=e;for(let y=r;y<n;++y){const b=s[y],u=b._texture.baseTexture,f=iR[u.alphaMode?1:0][b.blendMode];s[y]=null,r<y&&m.blend!==f&&(m.size=g-m.start,r=y,m=c[++d],m.texArray=e,m.start=g),this.packInterleavedGeometry(b,o,a,h,g),h+=b.vertexData.length/2*l,g+=b.indices.length,m.blend=f}r<n&&(m.size=g-m.start,++d),this._dcIndex=d,this._aIndex=h,this._iIndex=g}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;eo.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,s=eo._drawCallPool;let o=null;for(let a=0;a<e;a++){const{texArray:l,type:c,size:d,start:h,blend:g}=s[a];o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=g,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),eo.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Sm(Math.ceil(e/8)),n=aT(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new k1(s*this.vertexSize*4)),o}getIndexBuffer(e){const r=Sm(Math.ceil(e/12)),n=aT(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,r,n,s,o){const{uint32View:a,float32View:l}=r,c=s/this.vertexSize,d=e.uvs,h=e.indices,g=e.vertexData,m=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),b=qt.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let u=0;u<g.length;u+=2)l[s++]=g[u],l[s++]=g[u+1],l[s++]=d[u],l[s++]=d[u+1],a[s++]=b,l[s++]=m;for(let u=0;u<h.length;u++)n[o++]=c+h[u]}};Qp.defaultBatchSize=4096,Qp.extension={name:"batch",type:qe.RendererPlugin},Qp._drawCallPool=[],Qp._textureArrayPool=[];let Ml=Qp;ct.add(Ml);var Wae="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Kae="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const mT=class Jp extends yo{constructor(e,r,n){const s=Vo.from(e||Jp.defaultVertexSrc,r||Jp.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Jp.defaultResolution,this.multisample=Jp.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ao}apply(e,r,n,s,o){e.applyFilter(this,r,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Kae}static get defaultFragmentSrc(){return Wae}};mT.defaultResolution=1,mT.defaultMultisample=Yr.NONE;let Fn=mT;class Tm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new qt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:s}=e,o=n!=null?n:r;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Tm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Tm.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"background"};ct.add(Tm);class lR{constructor(e){this.renderer=e,this.emptyRenderer=new Xv(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let s=r-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,r,n,s){const{elements:o,ids:a,count:l}=e;let c=0;for(let d=0;d<l;d++){const h=o[d],g=h._batchLocation;if(g>=0&&g<s&&r[g]===h){a[d]=g;continue}for(;c<s;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}a[d]=c,h._batchLocation=c,r[c]=h;break}}}destroy(){this.renderer=null}}lR.extension={type:qe.RendererSystem,name:"batch"};ct.add(lR);let Ik=0;class Dm{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ik++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ik++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(nt.PREFER_ENV>=ju.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Dm.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Dm.extension={type:qe.RendererSystem,name:"context"};ct.add(Dm);class $1{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ji("disposeFramebuffer"),this.multisample=Yr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ot(null,{scaleMode:Go.NEAREST,resolution:1,mipmap:Eo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ot(null,{scaleMode:Go.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Eo.OFF,format:Ie.DEPTH_COMPONENT,type:gt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],o=s.resolution;s.setSize(e/o,r/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class uR extends Ot{constructor(e={}){var r,n,s;if(typeof e=="number"){const o=arguments[0],a=arguments[1],l=arguments[2],c=arguments[3];e={width:o,height:a,scaleMode:l,resolution:c}}e.width=(r=e.width)!=null?r:100,e.height=(n=e.height)!=null?n:100,(s=e.multisample)!=null||(e.multisample=Yr.NONE),super(null,e),this.mipmap=Eo.OFF,this.valid=!0,this._clear=new qt([0,0,0,0]),this.framebuffer=new $1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ja extends ch{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=W6(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,s){const o=e.gl,a=r.realWidth,l=r.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ci.UNPACK),!this.noSubImage&&r.target===o.TEXTURE_2D&&n.width===a&&n.height===l?o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,n.type,s):(n.width=a,n.height=l,o.texImage2D(r.target,0,n.internalFormat,r.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class cR extends Ja{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const s=new Image;Ja.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:nt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>r(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ci.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let s=!0;const o=r._glTextures;for(const a in o){const l=o[a];if(l!==n&&l.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class zw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const s=r.width,o=r.height;if(n){const a=e.width/2/s,l=e.height/2/o,c=e.x/s+a,d=e.y/o+l;n=Cr.add(n,Cr.NW),this.x0=c+a*Cr.uX(n),this.y0=d+l*Cr.uY(n),n=Cr.add(n,2),this.x1=c+a*Cr.uX(n),this.y1=d+l*Cr.uY(n),n=Cr.add(n,2),this.x2=c+a*Cr.uX(n),this.y2=d+l*Cr.uY(n),n=Cr.add(n,2),this.x3=c+a*Cr.uX(n),this.y3=d+l*Cr.uY(n)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}zw.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const Bk=new zw;function v0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class it extends Uh{constructor(e,r,n,s,o,a,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Pt(0,0,1,1)),e instanceof it&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=Bk,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new Ve(a.x,a.y):new Ve(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&oi[r.url]&&it.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,it.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new it(this.baseTexture,!this.noFrame&&e,r,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Bk&&(this._uvs=new zw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=nt.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof Ot){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId="".concat(l,"-").concat(wu()),Ot.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(wu())}o=e._pixiId}let a=oi[o];if(s&&n&&!a)throw new Error('The cacheId "'.concat(o,'" does not exist in TextureCache.'));return!a&&!(e instanceof Ot)?(r.resolution||(r.resolution=ea(e)),a=new it(new Ot(e,r)),a.baseTexture.cacheId=o,Ot.addToCache(a.baseTexture,o),it.addToCache(a,o)):!a&&e instanceof Ot&&(a=new it(e),it.addToCache(a,o)),a}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=it.from(e,Object.assign({resourceOptions:n},r),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,r,n,s){return new it(Ot.fromBuffer(e,r,n,s))}static fromLoader(e,r,n,s){const o=new Ot(e,Object.assign({scaleMode:Ot.defaultOptions.scaleMode,resolution:ea(r)},s)),{resource:a}=o;a instanceof cR&&(a.url=r);const l=new it(o);return n||(n=r),Ot.addToCache(l.baseTexture,n),it.addToCache(l,n),n!==r&&(Ot.addToCache(l.baseTexture,r),it.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),oi[r]&&oi[r]!==e&&console.warn("Texture added to the cache with an id [".concat(r,"] that already had an entry")),oi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=oi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete oi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)oi[e.textureCacheIds[r]]===e&&delete oi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:s,height:o}=e,a=r+s>this.baseTexture.width,l=n+o>this.baseTexture.height;if(a||l){const c=a&&l?"and":"or",d="X: ".concat(r," + ").concat(s," = ").concat(r+s," > ").concat(this.baseTexture.width),h="Y: ".concat(n," + ").concat(o," = ").concat(n+o," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(d," ").concat(c," ").concat(h))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return it._EMPTY||(it._EMPTY=new it(new Ot),v0(it._EMPTY),v0(it._EMPTY.baseTexture)),it._EMPTY}static get WHITE(){if(!it._WHITE){const e=nt.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),it._WHITE=new it(Ot.from(e)),v0(it._WHITE),v0(it._WHITE.baseTexture)}return it._WHITE}}class Gu extends it{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(r*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(o,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Gu(new uR(e))}}class dR{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Yr.NONE){const s=new uR(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Gu(s)}getOptimalTexture(e,r,n=1,s=Yr.NONE){let o;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Sm(e),r=Sm(r),o=((e&65535)<<16|r&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(e,r,s)),a.filterPoolKey=o,a.setResolution(n),a}getFilterTexture(e,r,n){const s=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Yr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}dR.SCREEN_KEY=-1;class o5 extends Qa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class fR extends Qa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tn(this.vertices),this.uvBuffer=new tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/e.width,this.uvs[3]=s,this.uvs[4]=n+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=n,this.uvs[7]=s+r.height/e.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class a5{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Yr.NONE,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.bindingSourceFrame=new Pt,this.bindingDestinationFrame=new Pt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const y0=[new Ve,new Ve,new Ve,new Ve],fS=new Ht;class hR{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new dR,this.statePool=[],this.quad=new o5,this.quadUv=new fR,this.tempRect=new Pt,this.activeState={},this.globalUniforms=new $s({outputFrame:new Pt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var f,p,v,_;const n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new a5,a=n.renderTexture;let l,c;if(a.current){const w=a.current;l=w.resolution,c=w.multisample}else l=n.resolution,c=n.multisample;let d=r[0].resolution||l,h=(f=r[0].multisample)!=null?f:c,g=r[0].padding,m=r[0].autoFit,y=(p=r[0].legacy)!=null?p:!0;for(let w=1;w<r.length;w++){const x=r[w];d=Math.min(d,x.resolution||l),h=Math.min(h,(v=x.multisample)!=null?v:c),g=this.useMaxPadding?Math.max(g,x.padding):g+x.padding,m=m&&x.autoFit,y=y||((_=x.legacy)!=null?_:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=d,o.multisample=h,o.legacy=y,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(g);const b=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(fS.copyFrom(n.projection.transform).invert(),b),m?(o.sourceFrame.fit(b),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(b)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,d,h),o.filters=r,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const u=this.tempRect;u.x=0,u.y=0,u.width=o.sourceFrame.width,u.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,u),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;const o=s.inputSize,a=s.inputPixel,l=s.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],l[0]=.5*a[2],l[1]=.5*a[3],l[2]=r.sourceFrame.width*o[2]-.5*a[2],l[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){const d=s.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,oo.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,h=this.getOptimalFilterTexture(d.width,d.height,r.resolution);h.filterFrame=d.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(d.width,d.height,r.resolution),h.filterFrame=d.filterFrame),n[g].apply(this,d,h,oo.CLEAR,r);const m=d;d=h,h=m}n[g].apply(this,d,c.renderTexture,oo.BLEND,r),g>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=oo.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,n.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(r===oo.CLEAR||r===oo.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(ao.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(ao.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:o}=r._texture,a=e.set(s.width,0,0,s.height,n.x,n.y),l=r.worldTransform.copyTo(Ht.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,s=Yr.NONE){return this.texturePool.getOptimalTexture(e,r,n,s)}getFilterTexture(e,r,n){if(typeof e=="number"){const o=e;e=r,r=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Yr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=y0[0],s=y0[1],o=y0[2],a=y0[3];n.set(r.left,r.top),s.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(n,n),e.apply(s,s),e.apply(o,o),e.apply(a,a);const l=Math.min(n.x,s.x,o.x,a.x),c=Math.min(n.y,s.y,o.y,a.y),d=Math.max(n.x,s.x,o.x,a.x),h=Math.max(n.y,s.y,o.y,a.y);r.x=l,r.y=c,r.width=d-l,r.height=h-c}roundFrame(e,r,n,s,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){const{a,b:l,c,d}=o;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(d)>1e-4))return}o=o?fS.copyFrom(o):fS.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(r),this.transformAABB(o.invert(),e)}}}hR.extension={type:qe.RendererSystem,name:"filter"};ct.add(hR);class l5{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Yr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Yae=new Pt;class pR{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new $1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;nt.PREFER_ENV===ju.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=s=>r.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const l=e.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>n,l=r.height>>n,c=a/r.width;this.setViewport(r.x*c,r.y*c,a,l)}else{const a=e.width>>n,l=e.height>>n;this.setViewport(0,0,a,l)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,s){const o=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),s=Math.round(s),(o.width!==n||o.height!==s||o.x!==e||o.y!==r)&&(o.x=e,o.y=r,o.width=n,o.height=s,this.gl.viewport(e,r,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,s,o=R1.COLOR|R1.DEPTH){const{gl:a}=this;a.clearColor(e,r,n,s),a.clear(o)}initFramebuffer(e){const{gl:r}=this,n=new l5(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1));for(let a=0;a<o;a++){const l=s[a],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),a===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let a=o.length;n.drawBuffers||(a=Math.min(a,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const l=[];for(let c=0;c<a;c++){const d=o[c],h=d.parentTextureArray||d;this.renderer.texture.bind(h,0),c===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,h._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Yr.NONE;if(e<=1||r===null)return n;for(let s=0;s<r.length;s++)if(r[s]<=e){n=r[s];break}return n===1&&(n=Yr.NONE),n}blit(e,r,n){const{current:s,renderer:o,gl:a,CONTEXT_UID:l}=this;if(o.context.webGLVersion!==2||!s)return;const c=s.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const h=s.colorTextures[0];if(!h)return;c.blitFramebuffer||(c.blitFramebuffer=new $1(s.width,s.height),c.blitFramebuffer.addColorTexture(0,h)),e=c.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=Yae,r.width=s.width,r.height=s.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,o=this.gl,a=r.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a);let l,c;this.renderer.context.webGLVersion===1?(l=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH_STENCIL):e.depth?(l=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH24_STENCIL8):(l=o.STENCIL_ATTACHMENT,c=o.STENCIL_INDEX8),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,c,n,s):o.renderbufferStorage(o.RENDERBUFFER,c,n,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,l,o.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Pt}destroy(){this.renderer=null}}pR.extension={type:qe.RendererSystem,name:"framebuffer"};ct.add(pR);const hS={5126:4,5123:2,5121:1};class gR{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;nt.PREFER_ENV===ju.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,o)=>n.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,a,l,c)=>n.drawElementsInstancedANGLE(s,o,a,l,c),e.drawArraysInstanced=(s,o,a,l)=>n.drawArraysInstancedANGLE(s,o,a,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const a=s[r.program.id]||this.initGeometryVao(e,r,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];r.update(s)}}checkCompatibility(e,r){const n=e.attributes,s=r.attributeData;for(const o in s)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(o,'" attribute'))}getSignature(e,r){const n=e.attributes,s=r.attributeData,o=["g",e.id];for(const a in n)s[a]&&o.push(a,s[a].location);return o.join("-")}initGeometryVao(e,r,n=!0){const s=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,l=r.program;l.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let h=d[c];if(h)return d[l.id]=h,h;const g=e.buffers,m=e.attributes,y={},b={};for(const u in g)y[u]=0,b[u]=0;for(const u in m)!m[u].size&&l.attributeData[u]?m[u].size=l.attributeData[u].size:m[u].size||console.warn("PIXI Geometry attribute '".concat(u,"' size cannot be determined (likely the bound shader does not have the attribute)")),y[m[u].buffer]+=m[u].size*hS[m[u].type];for(const u in m){const f=m[u],p=f.size;f.stride===void 0&&(y[f.buffer]===p*hS[f.type]?f.stride=0:f.stride=y[f.buffer]),f.start===void 0&&(f.start=b[f.buffer],b[f.buffer]+=p*hS[f.type])}h=s.createVertexArray(),s.bindVertexArray(h);for(let u=0;u<g.length;u++){const f=g[u];a.bind(f),n&&f._glBuffers[o].refCount++}return this.activateVao(e,l),d[l.id]=h,d[c]=h,s.bindVertexArray(null),a.unbind(mo.ARRAY_BUFFER),h}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(a)for(let c=0;c<o.length;c++){const d=o[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&a.dispose(o[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,l=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let c=null;for(const d in l){const h=l[d],g=a[h.buffer],m=g._glBuffers[s];if(r.attributeData[d]){c!==m&&(o.bind(g),c=m);const y=r.attributeData[d].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(y,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,s){const{gl:o}=this,a=this._activeGeometry;if(a.indexBuffer){const l=a.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,r||a.indexBuffer.data.length,c,(n||0)*l,s||1):o.drawElements(e,r||a.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,n,r||a.getSize(),s||1):o.drawArrays(e,n,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}gR.extension={type:qe.RendererSystem,name:"geometry"};ct.add(gR);const Fk=new Ht;class Gw{constructor(e,r){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],a=e[s+1];r[s]=o*n.a+a*n.c+n.tx,r[s+1]=o*n.b+a*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=r.orig,o=r.trim;o&&(Fk.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Fk));const a=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/a.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/a.width,l[1]=(r._frame.y+c+d)/a.height,l[2]=(r._frame.x+r._frame.width-c+d)/a.width,l[3]=(r._frame.y+r._frame.height-c+d)/a.height,this.uClampOffset[0]=d/a.realWidth,this.uClampOffset[1]=d/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var Xae="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",qae="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class u5 extends Fn{constructor(e,r,n){let s=null;typeof e!="string"&&r===void 0&&n===void 0&&(s=e,e=void 0,r=void 0,n=void 0),super(e||qae,r||Xae,n),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,s){const o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Gw(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,n,s))}}class c5{constructor(e=null){this.type=Qr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Fn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Qr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class mR{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const o=this.maskDataPool.pop()||new c5;o.pooled=!0,o.maskObject=r,n=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Qr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Qr.SCISSOR:this.renderer.scissor.push(n);break;case Qr.STENCIL:this.renderer.stencil.push(n);break;case Qr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Qr.COLOR:this.pushColorMask(n);break}n.type===Qr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Qr.SCISSOR:this.renderer.scissor.pop(r);break;case Qr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Qr.SPRITE:this.popSpriteMask(r);break;case Qr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Qr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Qr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Qr.SCISSOR:e.type=Qr.STENCIL:e.type=Qr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new u5])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=r;const o=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}mR.extension={type:qe.RendererSystem,name:"mask"};ct.add(mR);class d5{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Mk=new Ht,kk=[],f5=class A_ extends d5{constructor(e){super(e),this.glConst=nt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var l;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,o=s.renderTexture,a=n.getBounds(!0,(l=kk.pop())!=null?l:new Pt);this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:s,d:o}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||A_.isMatrixRotated(r.worldTransform)||A_.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,s,o){A_.isMatrixRotated(o)||(o=o?Mk.copyFrom(o):Mk.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&kk.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};f5.extension={type:qe.RendererSystem,name:"scissor"};let h5=f5;ct.add(h5);class vR extends d5{constructor(e){super(e),this.glConst=nt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(e._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}vR.extension={type:qe.RendererSystem,name:"stencil"};ct.add(vR);class yR{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}yR.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"_plugin"};ct.add(yR);class _R{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,r,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,r,n,s){const o=this.projectionMatrix,a=s?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d}setTransform(e){}destroy(){this.renderer=null}}_R.extension={type:qe.RendererSystem,name:"projection"};ct.add(_R);const Zae=new jh,Nk=new Pt;class bR{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,r){var d;const{region:n,...s}=r||{},o=(n==null?void 0:n.copyTo(Nk))||e.getLocalBounds(Nk,!0),a=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/a),o.height=Math.max(o.height,1/a),s.width=o.width,s.height=o.height,s.resolution=a,(d=s.multisample)!=null||(s.multisample=this.renderer.multisample);const l=Gu.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const c=e.transform;return e.transform=Zae,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,l}destroy(){}}bR.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"textureGenerator"};ct.add(bR);const tc=new Pt,Mp=new Pt;class wR{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.viewportFrame=new Pt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const s=this.renderer;this.current=e;let o,a,l;e?(o=e.baseTexture,l=o.resolution,r||(tc.width=e.frame.width,tc.height=e.frame.height,r=tc),n||(Mp.x=e.frame.x,Mp.y=e.frame.y,Mp.width=r.width,Mp.height=r.height,n=Mp),a=o.framebuffer):(l=s.resolution,r||(tc.width=s._view.screen.width,tc.height=s._view.screen.height,r=tc),n||(n=tc,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=s.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(a,c),this.renderer.projection.update(n,r,l,!a),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=qt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,l=o.width!==a.width||o.height!==a.height;if(l){let{x:c,y:d,width:h,height:g}=this.viewportFrame;c=Math.round(c),d=Math.round(d),h=Math.round(h),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,h,g)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}wR.extension={type:qe.RendererSystem,name:"renderTexture"};ct.add(wR);class Qae{}class p5{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Jae(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=e.getActiveAttrib(t,s);if(o.name.startsWith("gl_"))continue;const a=n5(e,o.type),l={type:a,name:o.name,size:r5(a),location:e.getAttribLocation(t,o.name)};r[o.name]=l}return r}function ele(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const o=e.getActiveUniform(t,s),a=o.name.replace(/\[.*?\]$/,""),l=!!o.name.match(/\[.*?\]$/),c=n5(e,o.type);r[a]={name:a,index:s,type:c,size:o.size,isArray:l,value:J6(c,o.size)}}return r}function g5(t,e){var l;const r=Dk(t,t.VERTEX_SHADER,e.vertexSrc),n=Dk(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,r),t.attachShader(s,n);const o=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(o&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||Lae(t,s,r,n),e.attributeData=Jae(s,t),e.uniformData=ele(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,h)=>d>h?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(s,d,c[d]);t.linkProgram(s)}t.deleteShader(r),t.deleteShader(n);const a={};for(const c in e.uniformData){const d=e.uniformData[c];a[c]={location:t.getUniformLocation(s,c),value:J6(d.type,d.size)}}return new p5(s,a)}function tle(t,e,r,n,s){r.buffer.update(s)}const rle={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},m5={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function v5(t){const e=t.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let r=0,n=0,s=0;for(let o=0;o<e.length;o++){const a=e[o];if(r=m5[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,s+=l}n+r>16?(s=Math.ceil(s/16)*16,a.offset=s,s+=r,n=r):(a.offset=s,n+=r,s+=r)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function y5(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,s)=>n.index-s.index),r}function _5(t,e){if(!t.autoManage)return{size:0,syncFunc:tle};const r=y5(t.uniforms,e),{uboElements:n,size:s}=v5(r),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let a=0;a<n.length;a++){const l=n[a],c=t.uniforms[l.data.name],d=l.data.name;let h=!1;for(let g=0;g<Bc.length;g++){const m=Bc[g];if(m.codeUbo&&m.test(l.data,c)){o.push("offset = ".concat(l.offset/4,";"),Bc[g].codeUbo(l.data.name,c)),h=!0;break}}if(!h)if(l.data.size>1){const g=r5(l.data.type),m=Math.max(m5[l.data.type]/16,1),y=g/m,b=(4-y%4)%4;o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(l.data.size*m,"; i++)\n                {\n                    for(var j = 0; j < ").concat(y,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(b,";\n                }\n\n                "))}else{const g=rle[l.data.type];o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n                ").concat(g,";\n                "))}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}let nle=0;const _0={textureCount:0,uboCount:0};class xR{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=nle++}systemCheck(){if(!i5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(_0.textureCount=0,_0.uboCount=0,this.syncUniformGroup(e.uniformGroup,_0)),s}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=kae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,_0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[a];if(l||(l=this._uboCache[a]=_5(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const s=e.uniforms,o=["".concat(n,"-")];for(const a in s)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,s=g5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}xR.extension={type:qe.RendererSystem,name:"shader"};ct.add(xR);class Pm{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log("PixiJS 7.3.2 - ".concat(r.rendererLogId," - https://pixijs.com")),r.resize(r.screen.width,r.screen.height)}destroy(){}}Pm.defaultOptions={hello:!1},Pm.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"startup"};ct.add(Pm);function ile(t,e=[]){return e[bt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.ADD]=[t.ONE,t.ONE],e[bt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.NONE]=[0,0],e[bt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[bt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[bt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[bt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[bt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[bt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[bt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[bt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[bt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[bt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[bt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const sle=0,ole=1,ale=2,lle=3,ule=4,cle=5,b5=class vT{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=bt.NONE,this._blendEq=!1,this.map=[],this.map[sle]=this.setBlend,this.map[ole]=this.setOffset,this.map[ale]=this.setCullFace,this.map[lle]=this.setDepthTest,this.map[ule]=this.setFrontFace,this.map[cle]=this.setDepthMask,this.checks=[],this.defaultState=new Ao,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=ile(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(vT.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(vT.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};b5.extension={type:qe.RendererSystem,name:"state"};let w5=b5;ct.add(w5);class x5 extends Uh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var s;this.addRunners(...e.runners);const r=((s=e.priority)!=null?s:[]).filter(o=>e.systems[o]),n=[...r,...Object.keys(e.systems).filter(o=>!r.includes(o))];for(const o of n)this.addSystem(e.systems[o],o)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ji(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error('Whoops! The name "'.concat(r,'" is already in use'));this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=n.find(a=>this._systemsHash[a]===s);s[e.name](r[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const eg=class T_{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=T_.defaultMaxIdle,this.checkCountMax=T_.defaultCheckCountMax,this.mode=T_.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Nw.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let s=0;s<r.length;s++){const o=r[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[s]=null,n=!0)}if(n){let s=0;for(let o=0;o<r.length;o++)r[o]!==null&&(r[s++]=r[o]);r.length=s}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};eg.defaultMode=Nw.AUTO,eg.defaultMaxIdle=60*60,eg.defaultCheckCountMax=60*10,eg.extension={type:qe.RendererSystem,name:"textureGC"};let kl=eg;ct.add(kl);class D_{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=gt.UNSIGNED_BYTE,this.internalFormat=Ie.RGBA,this.samplerType=0}}function dle(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:tt.FLOAT,[t.RGBA]:tt.FLOAT,[t.ALPHA]:tt.FLOAT,[t.LUMINANCE]:tt.FLOAT,[t.LUMINANCE_ALPHA]:tt.FLOAT,[t.R8]:tt.FLOAT,[t.R8_SNORM]:tt.FLOAT,[t.RG8]:tt.FLOAT,[t.RG8_SNORM]:tt.FLOAT,[t.RGB8]:tt.FLOAT,[t.RGB8_SNORM]:tt.FLOAT,[t.RGB565]:tt.FLOAT,[t.RGBA4]:tt.FLOAT,[t.RGB5_A1]:tt.FLOAT,[t.RGBA8]:tt.FLOAT,[t.RGBA8_SNORM]:tt.FLOAT,[t.RGB10_A2]:tt.FLOAT,[t.RGB10_A2UI]:tt.FLOAT,[t.SRGB8]:tt.FLOAT,[t.SRGB8_ALPHA8]:tt.FLOAT,[t.R16F]:tt.FLOAT,[t.RG16F]:tt.FLOAT,[t.RGB16F]:tt.FLOAT,[t.RGBA16F]:tt.FLOAT,[t.R32F]:tt.FLOAT,[t.RG32F]:tt.FLOAT,[t.RGB32F]:tt.FLOAT,[t.RGBA32F]:tt.FLOAT,[t.R11F_G11F_B10F]:tt.FLOAT,[t.RGB9_E5]:tt.FLOAT,[t.R8I]:tt.INT,[t.R8UI]:tt.UINT,[t.R16I]:tt.INT,[t.R16UI]:tt.UINT,[t.R32I]:tt.INT,[t.R32UI]:tt.UINT,[t.RG8I]:tt.INT,[t.RG8UI]:tt.UINT,[t.RG16I]:tt.INT,[t.RG16UI]:tt.UINT,[t.RG32I]:tt.INT,[t.RG32UI]:tt.UINT,[t.RGB8I]:tt.INT,[t.RGB8UI]:tt.UINT,[t.RGB16I]:tt.INT,[t.RGB16UI]:tt.UINT,[t.RGB32I]:tt.INT,[t.RGB32UI]:tt.UINT,[t.RGBA8I]:tt.INT,[t.RGBA8UI]:tt.UINT,[t.RGBA16I]:tt.INT,[t.RGBA16UI]:tt.UINT,[t.RGBA32I]:tt.INT,[t.RGBA32UI]:tt.UINT,[t.DEPTH_COMPONENT16]:tt.FLOAT,[t.DEPTH_COMPONENT24]:tt.FLOAT,[t.DEPTH_COMPONENT32F]:tt.FLOAT,[t.DEPTH_STENCIL]:tt.FLOAT,[t.DEPTH24_STENCIL8]:tt.FLOAT,[t.DEPTH32F_STENCIL8]:tt.FLOAT}:e={[t.RGB]:tt.FLOAT,[t.RGBA]:tt.FLOAT,[t.ALPHA]:tt.FLOAT,[t.LUMINANCE]:tt.FLOAT,[t.LUMINANCE_ALPHA]:tt.FLOAT,[t.DEPTH_STENCIL]:tt.FLOAT},e}function fle(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[gt.UNSIGNED_BYTE]:{[Ie.RGBA]:t.RGBA8,[Ie.RGB]:t.RGB8,[Ie.RG]:t.RG8,[Ie.RED]:t.R8,[Ie.RGBA_INTEGER]:t.RGBA8UI,[Ie.RGB_INTEGER]:t.RGB8UI,[Ie.RG_INTEGER]:t.RG8UI,[Ie.RED_INTEGER]:t.R8UI,[Ie.ALPHA]:t.ALPHA,[Ie.LUMINANCE]:t.LUMINANCE,[Ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[gt.BYTE]:{[Ie.RGBA]:t.RGBA8_SNORM,[Ie.RGB]:t.RGB8_SNORM,[Ie.RG]:t.RG8_SNORM,[Ie.RED]:t.R8_SNORM,[Ie.RGBA_INTEGER]:t.RGBA8I,[Ie.RGB_INTEGER]:t.RGB8I,[Ie.RG_INTEGER]:t.RG8I,[Ie.RED_INTEGER]:t.R8I},[gt.UNSIGNED_SHORT]:{[Ie.RGBA_INTEGER]:t.RGBA16UI,[Ie.RGB_INTEGER]:t.RGB16UI,[Ie.RG_INTEGER]:t.RG16UI,[Ie.RED_INTEGER]:t.R16UI,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[gt.SHORT]:{[Ie.RGBA_INTEGER]:t.RGBA16I,[Ie.RGB_INTEGER]:t.RGB16I,[Ie.RG_INTEGER]:t.RG16I,[Ie.RED_INTEGER]:t.R16I},[gt.UNSIGNED_INT]:{[Ie.RGBA_INTEGER]:t.RGBA32UI,[Ie.RGB_INTEGER]:t.RGB32UI,[Ie.RG_INTEGER]:t.RG32UI,[Ie.RED_INTEGER]:t.R32UI,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[gt.INT]:{[Ie.RGBA_INTEGER]:t.RGBA32I,[Ie.RGB_INTEGER]:t.RGB32I,[Ie.RG_INTEGER]:t.RG32I,[Ie.RED_INTEGER]:t.R32I},[gt.FLOAT]:{[Ie.RGBA]:t.RGBA32F,[Ie.RGB]:t.RGB32F,[Ie.RG]:t.RG32F,[Ie.RED]:t.R32F,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[gt.HALF_FLOAT]:{[Ie.RGBA]:t.RGBA16F,[Ie.RGB]:t.RGB16F,[Ie.RG]:t.RG16F,[Ie.RED]:t.R16F},[gt.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:t.RGB565},[gt.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:t.RGBA4},[gt.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:t.RGB5_A1},[gt.UNSIGNED_INT_2_10_10_10_REV]:{[Ie.RGBA]:t.RGB10_A2,[Ie.RGBA_INTEGER]:t.RGB10_A2UI},[gt.UNSIGNED_INT_10F_11F_11F_REV]:{[Ie.RGB]:t.R11F_G11F_B10F},[gt.UNSIGNED_INT_5_9_9_9_REV]:{[Ie.RGB]:t.RGB9_E5},[gt.UNSIGNED_INT_24_8]:{[Ie.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[gt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ie.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[gt.UNSIGNED_BYTE]:{[Ie.RGBA]:t.RGBA,[Ie.RGB]:t.RGB,[Ie.ALPHA]:t.ALPHA,[Ie.LUMINANCE]:t.LUMINANCE,[Ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[gt.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:t.RGB},[gt.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:t.RGBA},[gt.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:t.RGBA}},e}class ER{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ot,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=fle(e),this.samplerTypes=dle(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new D_(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new D_(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let o=e-1;o>=0;--o){const a=r[o];a&&a._glTextures[s].samplerType!==tt.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new D_(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,s,o;r.internalFormat=(s=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?s:e.format,r.samplerType=(o=this.samplerTypes[r.internalFormat])!=null?o:tt.FLOAT,this.webGLVersion===2&&e.type===gt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var s;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(s=e.resource)==null?void 0:s.upload(n,e,r))r.samplerType!==tt.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,a=e.realHeight,l=n.gl;(r.width!==o||r.height!==a||r.dirtyId<0)&&(r.width=o,r.height=a,l.texImage2D(e.target,0,r.internalFormat,o,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const s=this.managedTextures.indexOf(e);s!==-1&&Ic(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Eo.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=qo.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Eo.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Go.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===Go.LINEAR){const o=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Go.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Go.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}ER.extension={type:qe.RendererSystem,name:"texture"};ct.add(ER);class SR{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:s}=this;r&&s.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:s}=this,o=r.createTransformFeedback();e._glTransformFeedbacks[s]=o,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,o);for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];l&&(n.buffer.update(l),l._glBuffers[s].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,l._glBuffers[s].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(l,r))}n&&(r||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}SR.extension={type:qe.RendererSystem,name:"transformFeedback"};ct.add(SR);class Rm{constructor(e){this.renderer=e}init(e){this.screen=new Pt(0,0,e.width,e.height),this.element=e.view||nt.ADAPTER.createCanvas(),this.resolution=e.resolution||nt.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(s,"px")),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Rm.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Rm.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"_view"};ct.add(Rm);nt.PREFER_ENV=ju.WEBGL2;nt.STRICT_TEXTURE_CACHE=!1;nt.RENDER_OPTIONS={...Dm.defaultOptions,...Tm.defaultOptions,...Rm.defaultOptions,...Pm.defaultOptions};Object.defineProperties(nt,{WRAP_MODE:{get(){return Ot.defaultOptions.wrapMode},set(t){St("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ot.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ot.defaultOptions.scaleMode},set(t){St("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ot.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ot.defaultOptions.mipmap},set(t){St("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ot.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ot.defaultOptions.anisotropicLevel},set(t){St("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ot.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return St("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Fn.defaultResolution},set(t){Fn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return St("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Fn.defaultMultisample},set(t){Fn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ml.defaultMaxTextures},set(t){St("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ml.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ml.defaultBatchSize},set(t){St("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ml.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ml.canUploadSameBuffer},set(t){St("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ml.canUploadSameBuffer=t}},GC_MODE:{get(){return kl.defaultMode},set(t){St("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),kl.defaultMode=t}},GC_MAX_IDLE:{get(){return kl.defaultMaxIdle},set(t){St("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),kl.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return kl.defaultCheckCountMax},set(t){St("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),kl.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Vo.defaultVertexPrecision},set(t){St("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Vo.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Vo.defaultFragmentPrecision},set(t){St("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Vo.defaultFragmentPrecision=t}}});var ta=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ta||{});class pS{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=s}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const E5=class $i{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new pS(null,null,1/0),this.deltaMS=1/$i.targetFPMS,this.elapsedMS=1/$i.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ta.NORMAL){return this._addListener(new pS(e,r,n))}addOnce(e,r,n=ta.NORMAL){return this._addListener(new pS(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*$i.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,$i.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!$i._shared){const e=$i._shared=new $i;e.autoStart=!0,e._protected=!0}return $i._shared}static get system(){if(!$i._system){const e=$i._system=new $i;e.autoStart=!0,e._protected=!0}return $i._system}};E5.targetFPMS=.06;let sn=E5;Object.defineProperties(nt,{TARGET_FPMS:{get(){return sn.targetFPMS},set(t){St("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),sn.targetFPMS=t}}});class CR{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ta.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?sn.shared:new sn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}CR.extension=qe.Application;ct.add(CR);const S5=[];ct.handleByList(qe.Renderer,S5);function C5(t){for(const e of S5)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var hle="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ple="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const A5=hle,AR=ple;class TR{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Yr.HIGH?this.multisample=Yr.HIGH:r>=Yr.MEDIUM?this.multisample=Yr.MEDIUM:r>=Yr.LOW?this.multisample=Yr.LOW:this.multisample=Yr.NONE}destroy(){}}TR.extension={type:qe.RendererSystem,name:"_multisample"};ct.add(TR);class gle{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class DR{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[r]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,o.buffer)}}bindBufferRange(e,r,n){const{gl:s,CONTEXT_UID:o}=this;n=n||0;const a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const o=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,o)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new gle(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}DR.extension={type:qe.RendererSystem,name:"buffer"};ct.add(DR);class PR{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let s,o,a,l;if(r&&(s=r.renderTexture,o=r.clear,a=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(s||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(o!=null?o:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(r.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}PR.extension={type:qe.RendererSystem,name:"objectRenderer"};ct.add(PR);const P_=class yT extends x5{constructor(e){super(),this.type=Y2.WEBGL,e=Object.assign({},nt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new $s({projectionMatrix:new Ht},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:yT.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(St("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=yT.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:M6()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return St("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return St("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return St("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return St("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){St("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return St("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){St("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return St("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};P_.extension={type:qe.Renderer,priority:1},P_.__plugins={},P_.__systems={};let Vw=P_;ct.handleByMap(qe.RendererPlugin,Vw.__plugins);ct.handleByMap(qe.RendererSystem,Vw.__systems);ct.add(Vw);class RR extends ch{constructor(e,r){const{width:n,height:s}=r||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const a=new Ot;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof ch?this.addResourceAt(e[n],n):this.addResourceAt(oR(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class T5 extends RR{constructor(e,r){const{width:n,height:s}=r||{};let o,a;Array.isArray(e)?(o=e,a=e.length):a=e,super(a,{width:n,height:s}),o&&this.initFromArray(o,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Pc.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:s,itemDirtyIds:o,items:a}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,r.format,n.type,null);for(let c=0;c<s;c++){const d=a[c];o[c]<d.dirtyId&&(o[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class D5 extends Ja{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const P5=class tg extends RR{constructor(e,r){const{width:n,height:s,autoLoad:o,linkBaseTexture:a}=r||{};if(e&&e.length!==tg.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:s});for(let l=0;l<tg.SIDES;l++)this.items[l].target=Pc.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),o!==!1&&this.load()}bind(e){super.bind(e),e.target=Pc.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Pc.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const s=this.itemDirtyIds;for(let o=0;o<tg.SIDES;o++){const a=this.items[o];(s[o]<a.dirtyId||n.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,n),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===tg.SIDES}};P5.SIDES=6;let R5=P5;class wc extends Ja{constructor(e,r){var a,l;r=r||{};let n,s,o;typeof e=="string"?(n=wc.EMPTY,s=e,o=!0):(n=e,s=null,o=!1),super(n),this.url=s,this.crossOrigin=(a=r.crossOrigin)!=null?a:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=(l=r.ownsImageBitmap)!=null?l:o,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await nt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ci.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return wc._EMPTY=(e=wc._EMPTY)!=null?e:nt.ADAPTER.createCanvas(0,0),wc._EMPTY}}const _T=class R_ extends Ja{constructor(e,r){r=r||{},super(nt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},R_.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Ja.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=r*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*r,o=this._overrideHeight||this._overrideWidth/r*n),s=Math.round(s),o=Math.round(o);const a=this.source;a.width=s,a.height=o,a._pixiId="canvas_".concat(wu()),a.getContext("2d").drawImage(e,0,0,r,n,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const r=R_.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&R_.SVG_XML.test(e)}};_T.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,_T.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let j1=_T;const bT=class wT extends Ja{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Ja.crossOrigin(n,s,r.crossorigin);for(let o=0;o<e.length;++o){const a=document.createElement("source");let{src:l,mime:c}=e[o];if(l=l||e[o],l.startsWith("data:"))c=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),h=d.slice(d.lastIndexOf(".")+1);c=c||wT.MIME_TYPES[h]||"video/".concat(h)}a.src=l,c&&(a.type=c),n.appendChild(a)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=sn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(sn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(sn.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(sn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||wT.TYPES.includes(r)}};bT.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],bT.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let OR=bT;N1.push(wc,cR,D5,OR,j1,Hv,R5,T5);class mle{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Ji("disposeTransformFeedback")}bindBuffer(e,r){this.buffers[e]=r}destroy(){this.disposeRunner.emit(this,!1)}}const vle="7.3.2";class Om{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Pt.EMPTY:(e=e||new Pt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:s,c:o,d:a,tx:l,ty:c}=e,d=n*r.x+o*r.y+l,h=s*r.x+a*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e[0],l=e[1];r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[2],l=e[3],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[4],l=e[5],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[6],l=e[7],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,this.minX=r,this.minY=n,this.maxX=s,this.maxY=o}addFrame(e,r,n,s,o){this.addFrameMatrix(e.worldTransform,r,n,s,o)}addFrameMatrix(e,r,n,s,o){const a=e.a,l=e.b,c=e.c,d=e.d,h=e.tx,g=e.ty;let m=this.minX,y=this.minY,b=this.maxX,u=this.maxY,f=a*r+c*n+h,p=l*r+d*n+g;m=f<m?f:m,y=p<y?p:y,b=f>b?f:b,u=p>u?p:u,f=a*s+c*n+h,p=l*s+d*n+g,m=f<m?f:m,y=p<y?p:y,b=f>b?f:b,u=p>u?p:u,f=a*r+c*o+h,p=l*r+d*o+g,m=f<m?f:m,y=p<y?p:y,b=f>b?f:b,u=p>u?p:u,f=a*s+c*o+h,p=l*s+d*o+g,m=f<m?f:m,y=p<y?p:y,b=f>b?f:b,u=p>u?p:u,this.minX=m,this.minY=y,this.maxX=b,this.maxY=u}addVertexData(e,r,n){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],h=e[c+1];s=d<s?d:s,o=h<o?h:o,a=d>a?d:a,l=h>l?h:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}addVertices(e,r,n,s){this.addVerticesMatrix(e.worldTransform,r,n,s)}addVerticesMatrix(e,r,n,s,o=0,a=o){const l=e.a,c=e.b,d=e.c,h=e.d,g=e.tx,m=e.ty;let y=this.minX,b=this.minY,u=this.maxX,f=this.maxY;for(let p=n;p<s;p+=2){const v=r[p],_=r[p+1],w=l*v+d*_+g,x=h*_+c*v+m;y=Math.min(y,w-o),u=Math.max(u,w+o),b=Math.min(b,x-a),f=Math.max(f,x+a)}this.minX=y,this.minY=b,this.maxX=u,this.maxY=f}addBounds(e){const r=this.minX,n=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,s=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&s<=a){const l=this.minX,c=this.minY,d=this.maxX,h=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=a>h?a:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,s=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&s<=a){const l=this.minX,c=this.minY,d=this.maxX,h=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=a>h?a:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,s,o,a){e-=o,r-=a,n+=o,s+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>s?this.maxY:s}}class Pr extends Uh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new jh,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Om,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];Object.defineProperty(Pr.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Pt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){var l;e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Om);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(l=n==null?void 0:n.worldAlpha)!=null?l:1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,s){return r&&(e=r.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,s=1,o=0,a=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new O5),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*X6}set angle(e){this.transform.rotation=e*q6}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class O5 extends Pr{constructor(){super(...arguments),this.sortDirty=null}}Pr.prototype.displayObjectUpdateTransform=Pr.prototype.updateTransform;const yle=new Ht;function _le(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const I5=class xT extends Pr{constructor(){super(),this.children=[],this.sortableChildren=xT.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(r," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error("The index ".concat(r," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);Ic(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Ic(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Ic(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,s=r,o=s-n;let a;if(o>0&&o<=s){a=this.children.splice(n,o);for(let l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const s=this.children[r];s._lastSortedIndex=r,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(_le),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s];a.visible&&a.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==xT.prototype._render&&(n=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=yle.copyFrom(s),s.prepend(o)):s=o),n&&r.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let a=0,l=this.children.length;a<l;++a){const c=this.children[a],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var o,a,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const s=r&&((o=this._enabledFilters)==null?void 0:o.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Qr.NONE));if(s&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};I5.defaultSortableChildren=!1;let Mi=I5;Mi.prototype.containerUpdateTransform=Mi.prototype.updateTransform;Object.defineProperties(nt,{SORTABLE_CHILDREN:{get(){return Mi.defaultSortableChildren},set(t){St("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Mi.defaultSortableChildren=t}}});const kp=new Ve,ble=new Uint16Array([0,1,2,0,2,3]);let hd=class B5 extends Mi{constructor(e){super(),this._anchor=new uo(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new qt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=bt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||it.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ble,this.pluginName="batch",this.isSprite=!0,this._roundPixels=nt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Na(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Na(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,a=r.d,l=r.tx,c=r.ty,d=this.vertexData,h=e.trim,g=e.orig,m=this._anchor;let y=0,b=0,u=0,f=0;if(h?(b=h.x-m._x*g.width,y=b+h.width,f=h.y-m._y*g.height,u=f+h.height):(b=-m._x*g.width,y=b+g.width,f=-m._y*g.height,u=f+g.height),d[0]=n*b+o*f+l,d[1]=a*f+s*b+c,d[2]=n*y+o*f+l,d[3]=a*f+s*y+c,d[4]=n*y+o*u+l,d[5]=a*u+s*y+c,d[6]=n*b+o*u+l,d[7]=a*u+s*b+c,this._roundPixels){const p=nt.RESOLUTION;for(let v=0;v<d.length;++v)d[v]=Math.round(d[v]*p)/p}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,d=o.d,h=o.tx,g=o.ty,m=-s._x*n.width,y=m+n.width,b=-s._y*n.height,u=b+n.height;if(r[0]=a*m+c*b+h,r[1]=d*b+l*m+g,r[2]=a*y+c*b+h,r[3]=d*b+l*y+g,r[4]=a*y+c*u+h,r[5]=d*u+l*y+g,r[6]=a*m+c*u+h,r[7]=d*u+l*m+g,this._roundPixels){const f=nt.RESOLUTION;for(let p=0;p<r.length;++p)r[p]=Math.round(r[p]*f)/f}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Om),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,kp);const r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x;let o=0;return kp.x>=s&&kp.x<s+r&&(o=-n*this.anchor.y,kp.y>=o&&kp.y<o+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof it?e:it.from(e,r);return new B5(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Na(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Na(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||it.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const F5=new Ht;Pr.prototype._cacheAsBitmap=!1;Pr.prototype._cacheData=null;Pr.prototype._cacheAsBitmapResolution=null;Pr.prototype._cacheAsBitmapMultisample=null;class wle{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Pr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new wle),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Pr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Pr.prototype._initCachedDisplayObject=function(t){var m,y,b;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Pt,!0);if((y=this.filters)!=null&&y.length){const u=this.filters[0].padding;r.pad(u)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const s=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=Gu.create({width:r.width,height:r.height,resolution:n,multisample:(b=this.cacheAsBitmapMultisample)!=null?b:t.multisample}),d="cacheAsBitmap_".concat(wu());this._cacheData.textureCacheId=d,Ot.addToCache(c.baseTexture,d),it.addToCache(c,d);const h=this.transform.localTransform.copyTo(F5).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(s,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const g=new hd(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(r.x/r.width),g.anchor.y=-(r.y/r.height),g.alpha=e,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)};Pr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Pr.prototype._initCachedDisplayObjectCanvas=function(t){var h;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.getLocalBounds(new Pt,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,s=t._projTransform,o=this.cacheAsBitmapResolution||t.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const a=Gu.create({width:e.width,height:e.height,resolution:o}),l="cacheAsBitmap_".concat(wu());this._cacheData.textureCacheId=l,Ot.addToCache(a.baseTexture,l),it.addToCache(a,l);const c=F5;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new hd(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};Pr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Pr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Pr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ot.removeFromCache(this._cacheData.textureCacheId),it.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Pr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Pr.prototype.name=null;Mi.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(t,!0);if(o)return o}return null};Pr.prototype.getGlobalPosition=function(t=new Ve,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var xle="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class M5 extends Fn{constructor(e=1){super(A5,xle,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Ele={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Sle=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function Cle(t){const e=Ele[t],r=e.length;let n=Sle,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let l=0;l<t;l++){let c=o.replace("%index%",l.toString());a=l,l>=r&&(a=t-l-1),c=c.replace("%value%",e[a].toString()),s+=c,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}const Ale="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Tle(t,e){const r=Math.ceil(t/2);let n=Ale,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<t;a++){let l=o.replace("%index%",a.toString());l=l.replace("%sampleIndex%","".concat(a-(r-1),".0")),s+=l,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}class z1 extends Fn{constructor(e,r=8,n=4,s=Fn.defaultResolution,o=5){const a=Tle(o,e),l=Cle(o);super(a,l),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,s);else{const o=e.getFilterTexture(),a=e.renderer;let l=r,c=o;this.state.blend=!1,e.applyFilter(this,l,c,oo.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,oo.BLIT),this.uniforms.uSampler=c;const h=c;c=l,l=h,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let k5=class extends Fn{constructor(e=8,r=4,n=Fn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new z1(!0,e,r,n,s),this.blurYFilter=new z1(!1,e,r,n,s),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,s){const o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,oo.CLEAR),this.blurYFilter.apply(e,l,n,s),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,r,n,s):this.blurXFilter.apply(e,r,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};var Dle="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";class G1 extends Fn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(AR,Dle,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,s,o]=qt.shared.setValue(e).toArray(),a=[n,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(a,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),s=Math.sin(e),o=Math.sqrt,a=1/3,l=o(a),c=n+(1-n)*a,d=a*(1-n)-l*s,h=a*(1-n)+l*s,g=a*(1-n)+l*s,m=n+a*(1-n),y=a*(1-n)-l*s,b=a*(1-n)-l*s,u=a*(1-n)+l*s,f=n+a*(1-n),p=[c,d,h,0,0,g,m,y,0,0,b,u,f,0,0,0,0,0,1,0];this._loadMatrix(p,r)}contrast(e,r){const n=(e||0)+1,s=-.5*(n-1),o=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(o,r)}saturate(e=0,r){const n=e*2/3+1,s=(n-1)*-.5,o=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,s,o){e=e||.2,r=r||.15,n=n||16770432,s=s||3375104;const a=qt.shared,[l,c,d]=a.setValue(n).toArray(),[h,g,m]=a.setValue(s).toArray(),y=[.3,.59,.11,0,0,l,c,d,e,0,h,g,m,r,0,l-h,c-g,d-m,0,0];this._loadMatrix(y,o)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}G1.prototype.grayscale=G1.prototype.greyscale;var Ple="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Rle="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";class N5 extends Fn{constructor(e,r){const n=new Ht;e.renderable=!1,super(Rle,Ple,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ve(r,r)}apply(e,r,n,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&l!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),e.applyFilter(this,r,n,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Ole='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Ile="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";class L5 extends Fn{constructor(){super(Ile,Ole)}}var Ble="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";let U5=class extends Fn{constructor(e=.5,r=Math.random()){super(AR,Ble,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};const ET={AlphaFilter:M5,BlurFilter:k5,BlurFilterPass:z1,ColorMatrixFilter:G1,DisplacementFilter:N5,FXAAFilter:L5,NoiseFilter:U5};Object.entries(ET).forEach(([t,e])=>{Object.defineProperty(ET,t,{get(){return St("7.1.0","filters.".concat(t," has moved to ").concat(t)),e}})});class Fle{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(sn.system.add(this.tickerUpdate,this,ta.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(sn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const zl=new Fle;class zh{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=zh.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ve,this.page=new Ve,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Im extends zh{constructor(){super(...arguments),this.client=new Ve,this.movement=new Ve,this.offset=new Ve,this.global=new Ve,this.screen=new Ve}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,s,o,a,l,c,d,h,g,m,y,b,u){throw new Error("Method not implemented.")}}class vs extends Im{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Fc extends Im{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Fc.DOM_DELTA_PIXEL=0,Fc.DOM_DELTA_LINE=1,Fc.DOM_DELTA_PAGE=2;const Mle=2048,kle=new Ve,gS=new Ve;class $5{constructor(e){this.dispatch=new Uh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,s=r.length;n<s;n++)r[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,r){zl.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,kle.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=n.length-1;s<o;s++)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(r)?r:[r];for(let o=n.length-1;o>=0;o--)s.forEach(a=>{e.currentTarget=n[o],this.notifyTarget(e,a)})}propagationPath(e){const r=[e];for(let n=0;n<Mle&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,s,o,a=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(zl.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let g=h.length-1;g>=0;g--){const m=h[g],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,s,o,a||o(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const b=e.isInteractive();(y.length>0||b)&&(b&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:l?this._hitElements:c&&!o(e,n)&&s(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,s,o){if(this._interactivePrune(e)||o(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(zl.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],g=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,s,o);if(g){if(g.length>0&&!g[g.length-1].parent)continue;const m=e.isInteractive();return(g.length>0||m)&&g.push(e),g}}}const a=this._isInteractive(r),l=e.isInteractive();return a&&s(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,gS),!e.hitArea.contains(gS.x,gS.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var o,a;r=r!=null?r:e.type;const n="on".concat(r);(a=(o=e.currentTarget)[n])==null||a.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const s=r.button===2;this.dispatchEvent(r,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d,h;if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((c=s.overTargets)==null?void 0:c.length)>0&&o!==r.target){const g=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,g,o);if(this.dispatchEvent(m,"pointerout"),n&&this.dispatchEvent(m,"mouseout"),!r.composedPath().includes(o)){const y=this.createPointerEvent(e,"pointerleave",o);for(y.eventPhase=y.AT_TARGET;y.target&&!r.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(m)}if(o!==r.target){const g=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(r,g);this.dispatchEvent(m,"pointerover"),n&&this.dispatchEvent(m,"mouseover");let y=o==null?void 0:o.parent;for(;y&&y!==this.rootTarget.parent&&y!==r.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const b=this.clonePointerEvent(r,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==o&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),n&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(m)}const a=[],l=(d=this.enableGlobalMoveEvents)!=null?d:!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&a.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&a.push("globaltouchmove")),n&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&a.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),a.length>0&&this.all(r,a),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var a;if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(a=n.target)==null?void 0:a.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(r.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const a=this.createPointerEvent(e,"pointerleave",s);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;r.overTargets=null,this.freeEvent(o),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let a=o;if(o&&!n.composedPath().includes(o)){let l=o;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete s.pressTargetsByButton[e.button],a=l}if(a){const l=this.clonePointerEvent(n,"click");l.target=a,l.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=s.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let o=n;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof Fc)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){var o;const s=this.allocateEvent(vs);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=(o=n!=null?n:this.hitTest(s.global.x,s.global.y))!=null?o:this._hitElements[0],typeof r=="string"&&(s.type=r),s}createWheelEvent(e){const r=this.allocateEvent(Fc);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(vs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof vs&&r instanceof vs&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Im&&r instanceof Im&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,o=n.length;s<o&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(r,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const Nle=1,Lle={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},ST=class CT{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new $5(null),zl.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new vs(null),this.rootWheelEvent=new Fc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...CT.defaultEventFeatures},{set:(r,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),r[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var s,o;const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,CT._defaultEventMode=(s=e.eventMode)!=null?s:"auto",Object.assign(this.features,(o=e.eventFeatures)!=null?o:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=r.length;n<s;n++){const o=r[n],a=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,zl.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,a=s.length;o<a;o++){const l=this.bootstrapEvent(this.rootPointerEvent,s[o]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,zl.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;zl.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;zl.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(r-s.left)*(this.domElement.width/s.width)*o,e.y=(n-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const o=e.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,r.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Nle),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Lle[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};ST.extension={name:"events",type:[qe.RendererSystem,qe.CanvasRendererSystem]},ST.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let V1=ST;ct.add(V1);function Lk(t){return t==="dynamic"||t==="static"}const j5={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return(t=this._internalInteractive)!=null?t:Lk(V1.defaultEventMode)},set interactive(t){St("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return(t=this._internalEventMode)!=null?t:V1.defaultEventMode},set eventMode(t){this._internalInteractive=Lk(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,s)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof zh))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Pr.mixin(j5);const z5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Pr.mixin(z5);const Ule=9,b0=100,$le=0,jle=0,Uk=2,$k=1,zle=-1e3,Gle=-1e3,Vle=2;class IR{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(lo.tablet||lo.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="".concat(b0,"px"),r.style.height="".concat(b0,"px"),r.style.position="absolute",r.style.top="".concat($le,"px"),r.style.left="".concat(jle,"px"),r.style.zIndex=Uk.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat($k,"px"),e.style.height="".concat($k,"px"),e.style.position="absolute",e.style.top="".concat(zle,"px"),e.style.left="".concat(Gle,"px"),e.style.zIndex=Vle.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(lo.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:a,height:l,resolution:c}=this.renderer,d=s/a*c,h=o/l*c;let g=this.div;g.style.left="".concat(r,"px"),g.style.top="".concat(n,"px"),g.style.width="".concat(a,"px"),g.style.height="".concat(l,"px");for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,Ic(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{g=y._accessibleDiv;let b=y.hitArea;const u=y.worldTransform;y.hitArea?(g.style.left="".concat((u.tx+b.x*u.a)*d,"px"),g.style.top="".concat((u.ty+b.y*u.d)*h,"px"),g.style.width="".concat(b.width*u.a*d,"px"),g.style.height="".concat(b.height*u.d*h,"px")):(b=y.getBounds(),this.capHitArea(b),g.style.left="".concat(b.x*d,"px"),g.style.top="".concat(b.y*h,"px"),g.style.width="".concat(b.width*d,"px"),g.style.height="".concat(b.height*h,"px"),g.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(g.title=y.accessibleTitle),g.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&g.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==g.title||y.tabIndex!==g.tabIndex)&&(g.title=y.accessibleTitle,g.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="".concat(b0,"px"),r.style.height="".concat(b0,"px"),r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Uk.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new zh(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,r.forEach(a=>s.dispatchEvent(o,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Ule&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}IR.extension={name:"accessibility",type:[qe.RendererPlugin,qe.CanvasRendererPlugin]};ct.add(IR);const G5=class AT{constructor(e){this.stage=new Mi,e=Object.assign({forceCanvas:!1},e),this.renderer=C5(e),AT._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=AT._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};G5._plugins=[];let V5=G5;ct.handleByList(qe.Application,V5._plugins);class BR{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;r=s,n=o}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}BR.extension=qe.Application;ct.add(BR);const jk={loader:qe.LoadParser,resolver:qe.ResolveParser,cache:qe.CacheParser,detection:qe.DetectionParser};ct.handle(qe.Asset,t=>{const e=t.ref;Object.entries(jk).filter(([r])=>!!e[r]).forEach(([r,n])=>{var s;return ct.add(Object.assign(e[r],{extension:(s=e[r].extension)!=null?s:n}))})},t=>{const e=t.ref;Object.keys(jk).filter(r=>!!e[r]).forEach(r=>ct.remove(e[r]))});class Hle{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function pd(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}function fl(t,e){const r=t.split("?")[0],n=on.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Ds=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),H1=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};function H5(t,e,r,n,s){const o=e[r];for(let a=0;a<o.length;a++){const l=o[a];r<e.length-1?H5(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function W5(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(o=>{const a=o.substring(1,o.length-1).split(",");s.push(a)}),H5(t,s,0,r,n)}else n.push(t);return n}const Bm=t=>!Array.isArray(t);class Wle{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),r}set(e,r){const n=Ds(e);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}s||(s={},n.forEach(l=>{s[l]=r}));const o=Object.keys(s),a={cacheKeys:o,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,s[l])}),r instanceof it){const l=r;n.forEach(c=>{l.baseTexture!==it.EMPTY.baseTexture&&Ot.addToCache(l.baseTexture,c),it.addToCache(l,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Gl=new Wle;class Kle{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var a,l;let s=null,o=null;if(r.loadParser&&(o=this._parserHash[r.loadParser],o||console.warn('[Assets] specified load parser "'.concat(r.loadParser,'" not found while loading ').concat(e))),!o){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((a=d.test)!=null&&a.call(d,e,r,this))){o=d;break}}if(!o)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await o.load(e,r,this),n.parser=o;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,s,r,this))&&(s=await d.parse(s,r,this)||s,n.parser=d)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},o=Bm(e),a=Ds(e,d=>({alias:[d],src:d})),l=a.length,c=a.map(async d=>{const h=on.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,d)),s[d.src]=await this.promiseCache[h].promise,r&&r(++n/l)}catch(g){throw delete this.promiseCache[h],delete s[d.src],new Error("[Loader.load] Failed to load ".concat(h,".\n").concat(g))}});return await Promise.all(c),o?s[a[0].src]:s}async unload(e){const r=Ds(e,n=>({alias:[n],src:n})).map(async n=>{var a,l;const s=on.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;delete this.promiseCache[s],(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn('[Assets] loadParser name conflict "'.concat(r.name,'"')),{...e,[r.name]:r}),{})}}var Ks=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Ks||{});const Yle=".json",Xle="application/json",K5={extension:{type:qe.LoadParser,priority:Ks.Low},name:"loadJson",test(t){return pd(t,Xle)||fl(t,Yle)},async load(t){return await(await nt.ADAPTER.fetch(t)).json()}};ct.add(K5);const qle=".txt",Zle="text/plain",Y5={name:"loadTxt",extension:{type:qe.LoadParser,priority:Ks.Low},test(t){return pd(t,Zle)||fl(t,qle)},async load(t){return await(await nt.ADAPTER.fetch(t)).text()}};ct.add(Y5);const Qle=["normal","bold","100","200","300","400","500","600","700","800","900"],Jle=[".ttf",".otf",".woff",".woff2"],eue=["font/ttf","font/otf","font/woff","font/woff2"],tue=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function X5(t){const e=on.extname(t),r=on.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=r.length>0;for(const o of r)if(!o.match(tue)){n=!1;break}let s=r.join(" ");return n||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}const rue=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function nue(t){return rue.test(t)?t:encodeURI(t)}const q5={extension:{type:qe.LoadParser,priority:Ks.Low},name:"loadWebFont",test(t){return pd(t,eue)||fl(t,Jle)},async load(t,e){var n,s,o,a,l,c;const r=nt.ADAPTER.getFontFaceSet();if(r){const d=[],h=(s=(n=e.data)==null?void 0:n.family)!=null?s:X5(t),g=(l=(a=(o=e.data)==null?void 0:o.weights)==null?void 0:a.filter(y=>Qle.includes(y)))!=null?l:["normal"],m=(c=e.data)!=null?c:{};for(let y=0;y<g.length;y++){const b=g[y],u=new FontFace(h,"url(".concat(nue(t),")"),{...m,weight:b});await u.load(),r.add(u),d.push(u)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>nt.ADAPTER.getFontFaceSet().delete(e))}};ct.add(q5);let zk=0,mS;const iue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",sue={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat(iue,"');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},oue={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let vS;class aue{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([sue.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",s=>{n.terminate(),URL.revokeObjectURL(r),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){mS===void 0&&(mS=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<mS&&(vS||(vS=URL.createObjectURL(new Blob([oue.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(vS),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,o)=>{this.queue.push({id:e,arguments:r,resolve:s,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[zk]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:zk++,id:n})}}const Gk=new aue;function Gh(t,e,r){t.resource.internal=!0;const n=new it(t),s=()=>{delete e.promiseCache[r],Gl.has(r)&&Gl.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const lue=[".jpeg",".jpg",".png",".webp",".avif"],uue=["image/jpeg","image/png","image/webp","image/avif"];async function Z5(t){const e=await nt.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}const qv={name:"loadTextures",extension:{type:qe.LoadParser,priority:Ks.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return pd(t,uue)||fl(t,lue)},async load(t,e,r){var l,c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await Gk.isImageBitmapSupported()?s=await Gk.loadImageBitmap(t):s=await Z5(t):s=await new Promise((d,h)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=t,g.complete?d(g):(g.onload=()=>d(g),g.onerror=m=>h(m))});const o={...e.data};(l=o.resolution)!=null||(o.resolution=ea(t)),n&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const a=new Ot(s,o);return a.resource.src=t,Gh(a,r,t)},unload(t){t.destroy(!0)}};ct.add(qv);const cue=".svg",due="image/svg+xml",Q5={extension:{type:qe.LoadParser,priority:Ks.High},name:"loadSVG",test(t){return pd(t,due)||fl(t,cue)},async testParse(t){return j1.test(t)},async parse(t,e,r){var o;const n=new j1(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const s=new Ot(n,{resolution:ea(t),...e==null?void 0:e.data});return s.resource.src=e.src,Gh(s,r,e.src)},async load(t,e){return(await nt.ADAPTER.fetch(t)).text()},unload:qv.unload};ct.add(Q5);const fue=[".mp4",".m4v",".webm",".ogv"],hue=["video/mp4","video/webm","video/ogg"],J5={name:"loadVideo",extension:{type:qe.LoadParser,priority:Ks.High},config:{defaultAutoPlay:!0},test(t){return pd(t,hue)||fl(t,fue)},async load(t,e,r){var a;let n;const s=await(await nt.ADAPTER.fetch(t)).blob(),o=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions},c=new OR(o,l);await c.load();const d=new Ot(c,{alphaMode:await F6(),resolution:ea(t),...e==null?void 0:e.data});d.resource.src=t,n=Gh(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(l){throw URL.revokeObjectURL(o),l}return n},unload(t){t.destroy(!0)}};ct.add(J5);class pue{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>"".concat(e).concat(this._bundleIdConnector).concat(r),extractAssetIdFromBundle:(e,r)=>r.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var r,n,s;if(this._bundleIdConnector=(r=e.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=e.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(s=e.extractAssetIdFromBundle)!=null?s:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r[n]))).join("&")}}getAlias(e){const{alias:r,name:n,src:s,srcs:o}=e;return Ds(r||n||s||o,a=>{var l;return typeof a=="string"?a:Array.isArray(a)?a.map(c=>{var d,h;return(h=(d=c==null?void 0:c.src)!=null?d:c==null?void 0:c.srcs)!=null?h:c}):a!=null&&a.src||a!=null&&a.srcs?(l=a.src)!=null?l:a.srcs:a},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(s=>{var c,d;const o=(c=s.src)!=null?c:s.srcs,a=(d=s.alias)!=null?d:s.name;let l;if(typeof a=="string"){const h=this._createBundleAssetId(e,a);n.push(h),l=[a,h]}else{const h=a.map(g=>this._createBundleAssetId(e,g));n.push(...h),l=[...a,...h]}this.add({...s,alias:l,src:o})}):Object.keys(r).forEach(s=>{var a;const o=[s,this._createBundleAssetId(e,s)];if(typeof r[s]=="string")this.add({alias:o,src:r[s]});else if(Array.isArray(r[s]))this.add({alias:o,src:r[s]});else{const l=r[s],c=(a=l.src)!=null?a:l.srcs;this.add({...l,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[e]=n}add(e,r,n,s,o){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(St("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),a.push({alias:e,src:r,data:n,format:s,loadParser:o})):Array.isArray(e)?a.push(...e):a.push(e);let l;l=c=>{this.hasKey(c)&&console.warn("[Resolver] already has key: ".concat(c," overwriting"))},Ds(a).forEach(c=>{const{src:d,srcs:h}=c;let{data:g,format:m,loadParser:y}=c;const b=Ds(d||h).map(p=>typeof p=="string"?W5(p):Array.isArray(p)?p:[p]),u=this.getAlias(c);Array.isArray(u)?u.forEach(l):l(u);const f=[];b.forEach(p=>{p.forEach(v=>{var w,x,S;let _={};if(typeof v!="object"){_.src=v;for(let A=0;A<this._parsers.length;A++){const D=this._parsers[A];if(D.test(v)){_=D.parse(v);break}}}else g=(w=v.data)!=null?w:g,m=(x=v.format)!=null?x:m,y=(S=v.loadParser)!=null?S:y,_={..._,...v};if(!u)throw new Error("[Resolver] alias is undefined for this asset: ".concat(_.src));_=this.buildResolvedAsset(_,{aliases:u,data:g,format:m,loadParser:y}),f.push(_)})}),u.forEach(p=>{this._assetMap[p]=f})})}resolveBundle(e){const r=Bm(e);e=Ds(e);const n={};return e.forEach(s=>{const o=this._bundles[s];if(o){const a=this.resolve(o),l={};for(const c in a){const d=a[c];l[this._extractAssetIdFromBundle(s,c)]=d}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=Bm(e);e=Ds(e);const n={};return e.forEach(s=>{var o;if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const l=a[0],c=this._getPreferredOrder(a);c==null||c.priority.forEach(d=>{c.params[d].forEach(h=>{const g=a.filter(m=>m[d]?m[d]===h:!1);g.length&&(a=g)})}),this._resolverHash[s]=(o=a[0])!=null?o:l}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return"".concat(e).concat(r).concat(this._defaultSearchParams)}buildResolvedAsset(e,r){var l;const{aliases:n,data:s,loadParser:o,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=on.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=(l=n!=null?n:e.alias)!=null?l:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o!=null?o:e.loadParser,e.format=a!=null?a:on.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class ez{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pue,this.loader=new Kle,this.cache=Gl,this._backgroundLoader=new Hle(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,a,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=(a=(o=e.texturePreference)==null?void 0:o.resolution)!=null?a:1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(l=e.texturePreference)==null?void 0:l.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,s,o){this.resolver.add(e,r,n,s,o)}async load(e,r){this._initialized||await this.init();const n=Bm(e),s=Ds(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),o=this.resolver.resolve(s),a=await this._mapLoadToResolve(o,r);return n?a[s[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},a=Object.keys(s);let l=0,c=0;const d=()=>{r==null||r(++l/c)},h=a.map(g=>{const m=s[g];return c+=Object.keys(m).length,this._mapLoadToResolve(m,d).then(y=>{o[g]=y})});return await Promise.all(h),n?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Gl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Gl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(n,r);this._backgroundLoader.active=!0;const a={};return n.forEach((l,c)=>{const d=o[l.src],h=[l.src];l.alias&&h.push(...l.alias),a[s[c]]=d,Gl.set(h,d)}),a}async unload(e){this._initialized||await this.init();const r=Ds(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Ds(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Gl.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}get preferWorkers(){return qv.config.preferWorkers}set preferWorkers(e){St("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const rg=new ez;ct.handleByList(qe.LoadParser,rg.loader.parsers).handleByList(qe.ResolveParser,rg.resolver.parsers).handleByList(qe.CacheParser,rg.cache.parsers).handleByList(qe.DetectionParser,rg.detections);const tz={extension:qe.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof it),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,o)=>{r[n+(o===0?"":o+1)]=s})}),r}};ct.add(tz);async function rz(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(e){return!1}return!0}return!1}const nz={extension:{type:qe.DetectionParser,priority:1},test:async()=>rz("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ct.add(nz);const iz={extension:{type:qe.DetectionParser,priority:0},test:async()=>rz("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ct.add(iz);const Vk=["png","jpg","jpeg"],sz={extension:{type:qe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Vk],remove:async t=>t.filter(e=>!Vk.includes(e))};ct.add(sz);const gue="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function FR(t){return gue?!1:document.createElement("video").canPlayType(t)!==""}const oz={extension:{type:qe.DetectionParser,priority:0},test:async()=>FR("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ct.add(oz);const az={extension:{type:qe.DetectionParser,priority:0},test:async()=>FR("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ct.add(az);const lz={extension:{type:qe.DetectionParser,priority:0},test:async()=>FR("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ct.add(lz);const uz={extension:qe.ResolveParser,test:qv.test,parse:t=>{var e,r;return{resolution:parseFloat((r=(e=nt.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?r:"1"),format:on.extname(t).slice(1),src:t}}};ct.add(uz);var Ei=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Ei||{});const Fm={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let xa,nf;function Hk(){nf={s3tc:xa.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:xa.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:xa.getExtension("WEBGL_compressed_texture_etc"),etc1:xa.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:xa.getExtension("WEBGL_compressed_texture_pvrtc")||xa.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:xa.getExtension("WEBGL_compressed_texture_atc"),astc:xa.getExtension("WEBGL_compressed_texture_astc")}}const cz={extension:{type:qe.DetectionParser,priority:2},test:async()=>{const t=nt.ADAPTER.createCanvas().getContext("webgl");return t?(xa=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{nf||Hk();const e=[];for(const r in nf)nf[r]&&e.push(r);return[...e,...t]},remove:async t=>(nf||Hk(),t.filter(e=>!(e in nf)))};ct.add(cz);class dz extends Hv{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,s;typeof e=="string"?(n=e,s=new Uint8Array):(n=null,s=e),super(s,r),this.origin=n,this.buffer=s?new k1(s):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new k1(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class fu extends dz{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=fu._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||fu._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:d,levelBuffer:h}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,c,d,0,h)}return!0}onBlobLoaded(){this._levelBuffers=fu._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,s,o,a,l){const c=new Array(n);let d=e.byteOffset,h=a,g=l,m=h+s-1&~(s-1),y=g+o-1&~(o-1),b=m*y*Fm[r];for(let u=0;u<n;u++)c[u]={levelID:u,levelWidth:n>1?h:m,levelHeight:n>1?g:y,levelBuffer:new Uint8Array(e.buffer,d,b)},d+=b,h=h>>1||1,g=g>>1||1,m=h+s-1&~(s-1),y=g+o-1&~(o-1),b=m*y*Fm[r];return c}}const yS=4,w0=124,mue=32,Wk=20,vue=542327876,x0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},yue={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},E0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},_ue=1,bue=2,wue=4,xue=64,Eue=512,Sue=131072,Cue=827611204,Aue=861165636,Tue=894720068,Due=808540228,Pue=4,Rue={[Cue]:Ei.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Aue]:Ei.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Tue]:Ei.COMPRESSED_RGBA_S3TC_DXT5_EXT},Oue={70:Ei.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ei.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ei.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ei.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ei.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ei.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ei.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ei.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ei.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function fz(t){const e=new Uint32Array(t);if(e[0]!==vue)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,w0/Uint32Array.BYTES_PER_ELEMENT),n=r[x0.HEIGHT],s=r[x0.WIDTH],o=r[x0.MIPMAP_COUNT],a=new Uint32Array(t,x0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,mue/Uint32Array.BYTES_PER_ELEMENT),l=a[_ue];if(l&wue){const c=a[yue.FOURCC];if(c!==Due){const v=Rue[c],_=yS+w0,w=new Uint8Array(t,_);return[new fu(w,{format:v,width:s,height:n,levels:o})]}const d=yS+w0,h=new Uint32Array(e.buffer,d,Wk/Uint32Array.BYTES_PER_ELEMENT),g=h[E0.DXGI_FORMAT],m=h[E0.RESOURCE_DIMENSION],y=h[E0.MISC_FLAG],b=h[E0.ARRAY_SIZE],u=Oue[g];if(u===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(g));if(y===Pue)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const f=new Array,p=yS+w0+Wk;if(b===1)f.push(new Uint8Array(t,p));else{const v=Fm[u];let _=0,w=s,x=n;for(let A=0;A<o;A++){const D=Math.max(1,w+3&-4),C=Math.max(1,x+3&-4),T=D*C*v;_+=T,w=w>>>1,x=x>>>1}let S=p;for(let A=0;A<b;A++)f.push(new Uint8Array(t,S,_)),S+=_}return f.map(v=>new fu(v,{format:u,width:s,height:n,levels:o}))}throw l&xue?new Error("DDSParser does not support uncompressed texture data."):l&Eue?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Sue?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&bue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Kk=[171,75,84,88,32,49,49,187,13,10,26,10],Iue=67305985,Js={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},TT=64,DT={[gt.UNSIGNED_BYTE]:1,[gt.UNSIGNED_SHORT]:2,[gt.INT]:4,[gt.UNSIGNED_INT]:4,[gt.FLOAT]:4,[gt.HALF_FLOAT]:8},hz={[Ie.RGBA]:4,[Ie.RGB]:3,[Ie.RG]:2,[Ie.RED]:1,[Ie.LUMINANCE]:1,[Ie.LUMINANCE_ALPHA]:2,[Ie.ALPHA]:1},pz={[gt.UNSIGNED_SHORT_4_4_4_4]:2,[gt.UNSIGNED_SHORT_5_5_5_1]:2,[gt.UNSIGNED_SHORT_5_6_5]:2};function gz(t,e,r=!1){const n=new DataView(e);if(!Bue(t,n))return null;const s=n.getUint32(Js.ENDIANNESS,!0)===Iue,o=n.getUint32(Js.GL_TYPE,s),a=n.getUint32(Js.GL_FORMAT,s),l=n.getUint32(Js.GL_INTERNAL_FORMAT,s),c=n.getUint32(Js.PIXEL_WIDTH,s),d=n.getUint32(Js.PIXEL_HEIGHT,s)||1,h=n.getUint32(Js.PIXEL_DEPTH,s)||1,g=n.getUint32(Js.NUMBER_OF_ARRAY_ELEMENTS,s)||1,m=n.getUint32(Js.NUMBER_OF_FACES,s),y=n.getUint32(Js.NUMBER_OF_MIPMAP_LEVELS,s),b=n.getUint32(Js.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||h!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(g!==1)throw new Error("WebGL does not support array textures");const u=4,f=4,p=c+3&-4,v=d+3&-4,_=new Array(g);let w=c*d;o===0&&(w=p*v);let x;if(o!==0?DT[o]?x=DT[o]*hz[a]:x=pz[o]:x=Fm[l],x===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?Mue(n,b,s):null;let A=w*x,D=c,C=d,T=p,R=v,P=TT+b;for(let O=0;O<y;O++){const I=n.getUint32(P,s);let k=P+4;for(let W=0;W<g;W++){let V=_[W];V||(V=_[W]=new Array(y)),V[O]={levelID:O,levelWidth:y>1||o!==0?D:T,levelHeight:y>1||o!==0?C:R,levelBuffer:new Uint8Array(e,k,A)},k+=A}P+=I+4,P=P%4!==0?P+4-P%4:P,D=D>>1||1,C=C>>1||1,T=D+u-1&~(u-1),R=C+f-1&~(f-1),A=T*R*x}return o!==0?{uncompressed:_.map(O=>{let I=O[0].levelBuffer,k=!1;return o===gt.FLOAT?I=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):o===gt.UNSIGNED_INT?(k=!0,I=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):o===gt.INT&&(k=!0,I=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Hv(I,{width:O[0].levelWidth,height:O[0].levelHeight}),type:o,format:k?Fue(a):a}}),kvData:S}:{compressed:_.map(O=>new fu(null,{format:l,width:c,height:d,levels:y,levelBuffers:O})),kvData:S}}function Bue(t,e){for(let r=0;r<Kk.length;r++)if(e.getUint8(r)!==Kk[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}function Fue(t){switch(t){case Ie.RGBA:return Ie.RGBA_INTEGER;case Ie.RGB:return Ie.RGB_INTEGER;case Ie.RG:return Ie.RG_INTEGER;case Ie.RED:return Ie.RED_INTEGER;default:return t}}function Mue(t,e,r){const n=new Map;let s=0;for(;s<e;){const o=t.getUint32(TT+s,r),a=TT+s+4,l=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<o&&t.getUint8(a+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,a,c)),h=new DataView(t.buffer,a+c+1,o-c-1);n.set(d,h),s+=4+o+l}return n}const mz={extension:{type:qe.LoadParser,priority:Ks.High},name:"loadDDS",test(t){return fl(t,".dds")},async load(t,e,r){const n=await(await nt.ADAPTER.fetch(t)).arrayBuffer(),s=fz(n).map(o=>{const a=new Ot(o,{mipmap:Eo.OFF,alphaMode:ci.NO_PREMULTIPLIED_ALPHA,resolution:ea(t),...e.data});return Gh(a,r,t)});return s.length===1?s[0]:s},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(mz);const vz={extension:{type:qe.LoadParser,priority:Ks.High},name:"loadKTX",test(t){return fl(t,".ktx")},async load(t,e,r){const n=await(await nt.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=gz(t,n),l=s!=null?s:o,c={mipmap:Eo.OFF,alphaMode:ci.NO_PREMULTIPLIED_ALPHA,resolution:ea(t),...e.data},d=l.map(h=>{var y;l===o&&Object.assign(c,{type:h.type,format:h.format});const g=(y=h.resource)!=null?y:h,m=new Ot(g,c);return m.ktxKeyValueData=a,Gh(m,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(vz);const yz={extension:qe.ResolveParser,test:t=>{const e=on.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n,s,o;const e=on.extname(t).slice(1);if(e==="ktx"){const a=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(a.some(l=>t.endsWith(l)))return{resolution:parseFloat((n=(r=nt.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:a.find(l=>t.endsWith(l)),src:t}}return{resolution:parseFloat((o=(s=nt.RETINA_PREFIX.exec(t))==null?void 0:s[1])!=null?o:"1"),format:e,src:t}}};ct.add(yz);const S0=new Pt,kue=4,_z=class ng{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,s){const o=new Image;return o.src=await this.base64(e,r,n,s),o}async base64(e,r,n,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((a,l)=>{o.toBlob(c=>{if(!c){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>a(d.result),d.onerror=l,d.readAsDataURL(c)},r,n)});if(o.toDataURL!==void 0)return o.toDataURL(r,n);if(o.convertToBlob!==void 0){const a=await o.convertToBlob({type:r,quality:n});return new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,r);a&&ng._flipY(n,s,o),l&&ng._unpremultiplyAlpha(n);const c=new G6(s,o,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,o);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,r);return a&&ng._flipY(n,s,o),l&&ng._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,o=!1,a=!1,l,c=!1;e&&(e instanceof Gu?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(S0.width=r.width,S0.height=r.height,r=S0)));const d=n.gl;if(l){if(s=l.baseTexture.resolution,r=r!=null?r:l.frame,o=!1,a=l.baseTexture.alphaMode>0&&l.baseTexture.format===Ie.RGBA,!c){n.renderTexture.bind(l);const y=l.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else s=n.resolution,r||(r=S0,r.width=n.width/s,r.height=n.height/s),o=!0,a=this._rendererPremultipliedAlpha,n.renderTexture.bind();const h=Math.max(Math.round(r.width*s),1),g=Math.max(Math.round(r.height*s),1),m=new Uint8Array(kue*h*g);return d.readPixels(Math.round(r.x*s),Math.round(r.y*s),h,g,d.RGBA,d.UNSIGNED_BYTE,m),c&&(l==null||l.destroy(!0)),{pixels:m,width:h,height:g,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,r,n){const s=r<<2,o=n>>1,a=new Uint8Array(s);for(let l=0;l<o;l++){const c=l*s,d=(n-l-1)*s;a.set(e.subarray(c,c+s)),e.copyWithin(c,d,d+s),e.set(a,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const s=e[n+3];if(s!==0){const o=255.001/s;e[n]=e[n]*o+.5,e[n+1]=e[n+1]*o+.5,e[n+2]=e[n+2]*o+.5}}}};_z.extension={name:"extract",type:qe.RendererSystem};let bz=_z;ct.add(bz);const Mm={build(t){const e=t.points;let r,n,s,o,a,l;if(t.type===Tn.CIRC){const b=t.shape;r=b.x,n=b.y,a=l=b.radius,s=o=0}else if(t.type===Tn.ELIP){const b=t.shape;r=b.x,n=b.y,a=b.width,l=b.height,s=o=0}else{const b=t.shape,u=b.width/2,f=b.height/2;r=b.x+u,n=b.y+f,a=l=Math.max(0,Math.min(b.radius,Math.min(u,f))),s=u-a,o=f-l}if(!(a>=0&&l>=0&&s>=0&&o>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(a+l)),d=c*8+(s?4:0)+(o?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+o,e[2]=e[4]=r-s,e[5]=e[7]=n-o;return}let h=0,g=c*4+(s?2:0)+2,m=g,y=d;{const b=s+a,u=o,f=r+b,p=r-b,v=n+u;if(e[h++]=f,e[h++]=v,e[--g]=v,e[--g]=p,o){const _=n-u;e[m++]=p,e[m++]=_,e[--y]=_,e[--y]=f}}for(let b=1;b<c;b++){const u=Math.PI/2*(b/c),f=s+Math.cos(u)*a,p=o+Math.sin(u)*l,v=r+f,_=r-f,w=n+p,x=n-p;e[h++]=v,e[h++]=w,e[--g]=w,e[--g]=_,e[m++]=_,e[m++]=x,e[--y]=x,e[--y]=v}{const b=s,u=o+l,f=r+b,p=r-b,v=n+u,_=n-u;e[h++]=f,e[h++]=v,e[--y]=_,e[--y]=f,s&&(e[h++]=p,e[h++]=v,e[--y]=_,e[--y]=p)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(r.length===0)return;let o=n.length/2;const a=o;let l,c;if(t.type!==Tn.RREC){const h=t.shape;l=h.x,c=h.y}else{const h=t.shape;l=h.x+h.width/2,c=h.y+h.height/2}const d=t.matrix;n.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),o++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),s.push(o++,a,o);s.push(a+1,a,o)}};function Yk(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let s=0,o=t[r-2],a=t[r-1];s<r;s+=2){const l=t[s],c=t[s+1];n+=(l-o)*(c+a),o=l,a=c}if(!e&&n>0||e&&n<=0){const s=r/2;for(let o=s+s%2;o<r;o+=2){const a=r-o-2,l=r-o-1,c=o,d=o+1;[t[a],t[c]]=[t[c],t[a]],[t[l],t[d]]=[t[d],t[l]]}}}const MR={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,s=e.points,o=e.indices;if(r.length>=6){Yk(r,!1);const a=[];for(let d=0;d<n.length;d++){const h=n[d];Yk(h.points,!0),a.push(r.length/2),r=r.concat(h.points)}const l=g6(r,a,2);if(!l)return;const c=s.length/2;for(let d=0;d<l.length;d+=3)o.push(l[d]+c),o.push(l[d+1]+c),o.push(l[d+2]+c);for(let d=0;d<r.length;d++)s.push(r[d])}}},wz={build(t){const e=t.shape,r=e.x,n=e.y,s=e.width,o=e.height,a=t.points;a.length=0,s>=0&&o>=0&&a.push(r,n,r+s,n,r+s,n+o,r,n+o)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const s=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},xz={build(t){Mm.build(t)},triangulate(t,e){Mm.triangulate(t,e)}};var Vi=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Vi||{}),La=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(La||{});const xu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Nue=xu;class PT{static curveTo(e,r,n,s,o,a){const l=a[a.length-2],c=a[a.length-1]-r,d=l-e,h=s-r,g=n-e,m=Math.abs(c*g-d*h);if(m<1e-8||o===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const y=c*c+d*d,b=h*h+g*g,u=c*h+d*g,f=o*Math.sqrt(y)/m,p=o*Math.sqrt(b)/m,v=f*u/y,_=p*u/b,w=f*g+p*d,x=f*h+p*c,S=d*(p+v),A=c*(p+v),D=g*(f+_),C=h*(f+_),T=Math.atan2(A-x,S-w),R=Math.atan2(C-x,D-w);return{cx:w+e,cy:x+r,radius:o,startAngle:T,endAngle:R,anticlockwise:d*h>g*c}}static arc(e,r,n,s,o,a,l,c,d){const h=l-a,g=xu._segmentsCount(Math.abs(h)*o,Math.ceil(Math.abs(h)/Am)*40),m=h/(g*2),y=m*2,b=Math.cos(m),u=Math.sin(m),f=g-1,p=f%1/f;for(let v=0;v<=f;++v){const _=v+p*v,w=m+a+y*_,x=Math.cos(w),S=-Math.sin(w);d.push((b*x+u*S)*o+n,(b*-S+u*x)*o+s)}}}class Ez{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Hw{static curveLength(e,r,n,s,o,a,l,c){let d=0,h=0,g=0,m=0,y=0,b=0,u=0,f=0,p=0,v=0,_=0,w=e,x=r;for(let S=1;S<=10;++S)h=S/10,g=h*h,m=g*h,y=1-h,b=y*y,u=b*y,f=u*e+3*b*h*n+3*y*g*o+m*l,p=u*r+3*b*h*s+3*y*g*a+m*c,v=w-f,_=x-p,w=f,x=p,d+=Math.sqrt(v*v+_*_);return d}static curveTo(e,r,n,s,o,a,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const h=xu._segmentsCount(Hw.curveLength(c,d,e,r,n,s,o,a));let g=0,m=0,y=0,b=0,u=0;l.push(c,d);for(let f=1,p=0;f<=h;++f)p=f/h,g=1-p,m=g*g,y=m*g,b=p*p,u=b*p,l.push(y*c+3*m*p*e+3*g*b*n+u*o,y*d+3*m*p*r+3*g*b*s+u*a)}}function Xk(t,e,r,n,s,o,a,l){const c=t-r*s,d=e-n*s,h=t+r*o,g=e+n*o;let m,y;a?(m=n,y=-r):(m=-n,y=r);const b=c+m,u=d+y,f=h+m,p=g+y;return l.push(b,u,f,p),2}function rc(t,e,r,n,s,o,a,l){const c=r-t,d=n-e;let h=Math.atan2(c,d),g=Math.atan2(s-t,o-e);l&&h<g?h+=Math.PI*2:!l&&h>g&&(g+=Math.PI*2);let m=h;const y=g-h,b=Math.abs(y),u=Math.sqrt(c*c+d*d),f=(15*b*Math.sqrt(u)/Math.PI>>0)+1,p=y/f;if(m+=p,l){a.push(t,e,r,n);for(let v=1,_=m;v<f;v++,_+=p)a.push(t,e,t+Math.sin(_)*u,e+Math.cos(_)*u);a.push(t,e,s,o)}else{a.push(r,n,t,e);for(let v=1,_=m;v<f;v++,_+=p)a.push(t+Math.sin(_)*u,e+Math.cos(_)*u,t,e);a.push(s,o,t,e)}return f*2}function Lue(t,e){const r=t.shape;let n=t.points||r.points.slice();const s=e.closePointEps;if(n.length===0)return;const o=t.lineStyle,a=new Ve(n[0],n[1]),l=new Ve(n[n.length-2],n[n.length-1]),c=r.type!==Tn.POLY||r.closeStroke,d=Math.abs(a.x-l.x)<s&&Math.abs(a.y-l.y)<s;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const V=(a.x+l.x)*.5,j=(l.y+a.y)*.5;n.unshift(V,j),n.push(V,j)}const h=e.points,g=n.length/2;let m=n.length;const y=h.length/2,b=o.width/2,u=b*b,f=o.miterLimit*o.miterLimit;let p=n[0],v=n[1],_=n[2],w=n[3],x=0,S=0,A=-(v-w),D=p-_,C=0,T=0,R=Math.sqrt(A*A+D*D);A/=R,D/=R,A*=b,D*=b;const P=o.alignment,O=(1-P)*2,I=P*2;c||(o.cap===La.ROUND?m+=rc(p-A*(O-I)*.5,v-D*(O-I)*.5,p-A*O,v-D*O,p+A*I,v+D*I,h,!0)+2:o.cap===La.SQUARE&&(m+=Xk(p,v,A,D,O,I,!0,h))),h.push(p-A*O,v-D*O,p+A*I,v+D*I);for(let V=1;V<g-1;++V){p=n[(V-1)*2],v=n[(V-1)*2+1],_=n[V*2],w=n[V*2+1],x=n[(V+1)*2],S=n[(V+1)*2+1],A=-(v-w),D=p-_,R=Math.sqrt(A*A+D*D),A/=R,D/=R,A*=b,D*=b,C=-(w-S),T=_-x,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=b,T*=b;const j=_-p,$=v-w,K=_-x,J=S-w,ue=j*K+$*J,pe=$*K-J*j,oe=pe<0;if(Math.abs(pe)<.001*Math.abs(ue)){h.push(_-A*O,w-D*O,_+A*I,w+D*I),ue>=0&&(o.join===Vi.ROUND?m+=rc(_,w,_-A*O,w-D*O,_-C*O,w-T*O,h,!1)+4:m+=2,h.push(_-C*I,w-T*I,_+C*O,w+T*O));continue}const he=(-A+p)*(-D+w)-(-A+_)*(-D+v),X=(-C+x)*(-T+w)-(-C+_)*(-T+S),z=(j*X-K*he)/pe,G=(J*he-$*X)/pe,H=(z-_)*(z-_)+(G-w)*(G-w),re=_+(z-_)*O,ne=w+(G-w)*O,_e=_-(z-_)*I,be=w-(G-w)*I,xe=Math.min(j*j+$*$,K*K+J*J),Se=oe?O:I,dt=xe+Se*Se*u,wt=H<=dt;let Y=o.join;if(Y===Vi.MITER&&H/u>f&&(Y=Vi.BEVEL),wt)switch(Y){case Vi.MITER:{h.push(re,ne,_e,be);break}case Vi.BEVEL:{oe?h.push(re,ne,_+A*I,w+D*I,re,ne,_+C*I,w+T*I):h.push(_-A*O,w-D*O,_e,be,_-C*O,w-T*O,_e,be),m+=2;break}case Vi.ROUND:{oe?(h.push(re,ne,_+A*I,w+D*I),m+=rc(_,w,_+A*I,w+D*I,_+C*I,w+T*I,h,!0)+4,h.push(re,ne,_+C*I,w+T*I)):(h.push(_-A*O,w-D*O,_e,be),m+=rc(_,w,_-A*O,w-D*O,_-C*O,w-T*O,h,!1)+4,h.push(_-C*O,w-T*O,_e,be));break}}else{switch(h.push(_-A*O,w-D*O,_+A*I,w+D*I),Y){case Vi.MITER:{oe?h.push(_e,be,_e,be):h.push(re,ne,re,ne),m+=2;break}case Vi.ROUND:{oe?m+=rc(_,w,_+A*I,w+D*I,_+C*I,w+T*I,h,!0)+2:m+=rc(_,w,_-A*O,w-D*O,_-C*O,w-T*O,h,!1)+2;break}}h.push(_-C*O,w-T*O,_+C*I,w+T*I),m+=2}}p=n[(g-2)*2],v=n[(g-2)*2+1],_=n[(g-1)*2],w=n[(g-1)*2+1],A=-(v-w),D=p-_,R=Math.sqrt(A*A+D*D),A/=R,D/=R,A*=b,D*=b,h.push(_-A*O,w-D*O,_+A*I,w+D*I),c||(o.cap===La.ROUND?m+=rc(_-A*(O-I)*.5,w-D*(O-I)*.5,_-A*O,w-D*O,_+A*I,w+D*I,h,!1)+2:o.cap===La.SQUARE&&(m+=Xk(_,w,A,D,O,I,!1,h)));const k=e.indices,W=xu.epsilon*xu.epsilon;for(let V=y;V<m+y-2;++V)p=h[V*2],v=h[V*2+1],_=h[(V+1)*2],w=h[(V+1)*2+1],x=h[(V+2)*2],S=h[(V+2)*2+1],!(Math.abs(p*(w-S)+_*(S-v)+x*(v-w))<W)&&k.push(V,V+1,V+2)}function Uue(t,e){let r=0;const n=t.shape,s=t.points||n.points,o=n.type!==Tn.POLY||n.closeStroke;if(s.length===0)return;const a=e.points,l=e.indices,c=s.length/2,d=a.length/2;let h=d;for(a.push(s[0],s[1]),r=1;r<c;r++)a.push(s[r*2],s[r*2+1]),l.push(h,h+1),h++;o&&l.push(h,d)}function RT(t,e){t.lineStyle.native?Uue(t,e):Lue(t,e)}class Ww{static curveLength(e,r,n,s,o,a){const l=e-2*n+o,c=r-2*s+a,d=2*n-2*e,h=2*s-2*r,g=4*(l*l+c*c),m=4*(l*d+c*h),y=d*d+h*h,b=2*Math.sqrt(g+m+y),u=Math.sqrt(g),f=2*g*u,p=2*Math.sqrt(y),v=m/u;return(f*b+u*m*(b-p)+(4*y*g-m*m)*Math.log((2*u+v+b)/(v+p)))/(4*f)}static curveTo(e,r,n,s,o){const a=o[o.length-2],l=o[o.length-1],c=xu._segmentsCount(Ww.curveLength(a,l,e,r,n,s));let d=0,h=0;for(let g=1;g<=c;++g){const m=g/c;d=a+(e-a)*m,h=l+(r-l)*m,o.push(d+(e+(n-e)*m-d)*m,h+(r+(s-r)*m-h)*m)}}}const O_={[Tn.POLY]:MR,[Tn.CIRC]:Mm,[Tn.ELIP]:Mm,[Tn.RECT]:wz,[Tn.RREC]:xz},OT=[],ig=[];class km{constructor(e,r=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=s,this.type=e.type}clone(){return new km(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const kd=new Ve,Sz=class Cz extends aR{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Om,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ig.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),OT.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,s=null){const o=new km(e,r,n,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new km(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const s=r[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,kd):kd.copyFrom(e),s.shape.contains(kd.x,kd.y))){let o=!1;if(s.holes){for(let a=0;a<s.holes.length;a++)if(s.holes[a].shape.contains(kd.x,kd.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],h=d.fillStyle,g=d.lineStyle;O_[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(h.visible||g.visible)&&this.processHoles(d.holes);for(let m=0;m<2;m++){const y=m===0?h:g;if(!y.visible)continue;const b=y.texture.baseTexture,u=this.indices.length,f=this.points.length/2;b.wrapMode=qo.REPEAT,m===0?this.processFill(d):this.processLine(d);const p=this.points.length/2-f;p!==0&&(n&&!this._compareStyles(s,y)&&(n.end(u,f),n=null),n||(n=OT.pop()||new Ez,n.begin(y,u,f),this.batches.push(n),s=y),this.addUvs(this.points,e,y.texture,f,p,y.matrix))}}const o=this.indices.length,a=this.points.length/2;if(n&&n.end(o,a),this.batches.length===0){this.batchable=!0;return}const l=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],s=n.fillStyle,o=n.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const s=e[r];for(let o=0;o<s.size;o++){const a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<Cz.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ot._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),ig.push(this.drawCalls[g]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let s=ig.pop();s||(s=new L1,s.texArray=new U1),s.texArray.count=0,s.start=0,s.size=0,s.type=ao.TRIANGLES;let o=0,a=null,l=0,c=!1,d=ao.TRIANGLES,h=0;this.drawCalls.push(s);for(let g=0;g<this.batches.length;g++){const m=this.batches[g],y=8,b=m.style,u=b.texture.baseTexture;c!==!!b.native&&(c=!!b.native,d=c?ao.LINES:ao.TRIANGLES,a=null,o=y,e++),a!==u&&(a=u,u._batchEnabled!==e&&(o===y&&(e++,o=0,s.size>0&&(s=ig.pop(),s||(s=new L1,s.texArray=new U1),this.drawCalls.push(s)),s.start=h,s.size=0,s.texArray.count=0,s.type=d),u.touched=1,u._batchEnabled=e,u._batchLocation=o,u.wrapMode=qo.REPEAT,s.texArray.elements[s.texArray.count++]=u,o++)),s.size+=m.size,h+=m.size,l=u._batchLocation,this.addColors(r,b.color,b.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,l,m.attribSize,m.attribStart)}Ot._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),a=new Float32Array(o),l=new Uint32Array(o);let c=0;for(let d=0;d<e.length/2;d++)a[c++]=e[d*2],a[c++]=e[d*2+1],a[c++]=r[d*2],a[c++]=r[d*2+1],l[c++]=n[d],a[c++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?MR.triangulate(e,this):O_[e.type].triangulate(e,this)}processLine(e){RT(e,this);for(let r=0;r<e.holes.length;r++)RT(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];O_[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const s=e[n*2],o=e[n*2+1];e[n*2]=r.a*s+r.c*o+r.tx,e[n*2+1]=r.b*s+r.d*o+r.ty}}addColors(e,r,n,s,o=0){const a=qt.shared.setValue(r).toLittleEndianNumber(),l=qt.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,o+s);for(let c=0;c<s;c++)e[o+c]=l}addTextureIds(e,r,n,s=0){e.length=Math.max(e.length,s+n);for(let o=0;o<n;o++)e[s+o]=r}addUvs(e,r,n,s,o,a=null){let l=0;const c=r.length,d=n.frame;for(;l<o;){let g=e[(s+l)*2],m=e[(s+l)*2+1];if(a){const y=a.a*g+a.c*m+a.tx;m=a.b*g+a.d*m+a.ty,g=y}l++,r.push(g/d.width,m/d.height)}const h=n.baseTexture;(d.width<h.width||d.height<h.height)&&this.adjustUvs(r,n,c,o)}adjustUvs(e,r,n,s){const o=r.baseTexture,a=1e-6,l=n+s*2,c=r.frame,d=c.width/o.width,h=c.height/o.height;let g=c.x/c.width,m=c.y/c.height,y=Math.floor(e[n]+a),b=Math.floor(e[n+1]+a);for(let u=n+2;u<l;u+=2)y=Math.min(y,Math.floor(e[u]+a)),b=Math.min(b,Math.floor(e[u+1]+a));g-=y,m-=b;for(let u=n;u<l;u+=2)e[u]=(e[u]+g)*d,e[u+1]=(e[u+1]+m)*h}};Sz.BATCHABLE_SIZE=100;let Az=Sz;class Zv{constructor(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Zv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Kw extends Zv{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=La.BUTT,this.join=Vi.MITER,this.miterLimit=10}clone(){const e=new Kw;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=La.BUTT,this.join=Vi.MITER,this.miterLimit=10}}const _S={},IT=class I_ extends Mi{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Zv,this._lineStyle=new Kw,this._matrix=null,this._holeMode=!1,this.state=Ao.for2d(),this._geometry=e||new Az,this._geometry.refCount++,this._transformID=-1,this._tintColor=new qt(16777215),this.blendMode=bt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new I_(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:it.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:La.BUTT,join:Vi.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new du,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new du,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],o=n[n.length-1];return(s!==e||o!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Ww.curveTo(e,r,n,s,o),this}bezierCurveTo(e,r,n,s,o,a){return this._initCurve(),Hw.curveTo(e,r,n,s,o,a,this.currentPath.points),this}arcTo(e,r,n,s,o){this._initCurve(e,r);const a=this.currentPath.points,l=PT.curveTo(e,r,n,s,o,a);if(l){const{cx:c,cy:d,radius:h,startAngle:g,endAngle:m,anticlockwise:y}=l;this.arc(c,d,h,g,m,y)}return this}arc(e,r,n,s,o,a=!1){if(s===o)return this;if(!a&&o<=s?o+=Am:a&&s<=o&&(s+=Am),o-s===0)return this;const l=e+Math.cos(s)*n,c=r+Math.sin(s)*n,d=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const g=Math.abs(h[h.length-2]-l),m=Math.abs(h[h.length-1]-c);g<d&&m<d||h.push(l,c)}else this.moveTo(l,c),h=this.currentPath.points;return PT.arc(l,c,e,r,n,s,o,a,h),this}beginFill(e=0,r){return this.beginTextureFill({texture:it.WHITE,color:e,alpha:r})}normalizeColor(e){var n,s;const r=qt.shared.setValue((n=e.color)!=null?n:0);e.color=r.toNumber(),(s=e.alpha)!=null||(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:it.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,s){return this.drawShape(new Pt(e,r,n,s))}drawRoundedRect(e,r,n,s,o){return this.drawShape(new Yv(e,r,n,s,o))}drawCircle(e,r,n){return this.drawShape(new Wv(e,r,n))}drawEllipse(e,r,n,s){return this.drawShape(new Kv(e,r,n,s))}drawPolygon(...e){let r,n=!0;const s=e[0];s.points?(n=s.closeStroke,r=s.points):Array.isArray(e[0])?r=e[0]:r=e;const o=new du(r);return o.closeStroke=n,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Tn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const o=e.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),h={vertexData:l,blendMode:r,indices:d,uvs:c,_batchRGB:qt.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=h}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,o=r.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,qt.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,c=a.length;l<c;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:s,size:o,start:a}=r,l=n.count;for(let c=0;c<l;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(s,o,a)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!_S[n]){const{maxTextures:s}=e.plugins[n],o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=c;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:$s.from({uSamplers:o},!0)},l=e.plugins[n]._shader.program;_S[n]=new yo(l,a)}r=_S[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,r,n,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,I_._TEMP_POINT),this._geometry.containsPoint(I_._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=qt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,a=r.d,l=r.tx,c=r.ty,d=this._geometry.points,h=this.vertexData;let g=0;for(let m=0;m<d.length;m+=2){const y=d[m],b=d[m+1];h[g++]=n*y+o*b+l,h[g++]=a*b+s*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};IT.curves=xu,IT._TEMP_POINT=new Ve;let Ua=IT;const $ue={buildPoly:MR,buildCircle:Mm,buildRectangle:wz,buildRoundedRectangle:xz,buildLine:RT,ArcUtils:PT,BezierUtils:Hw,QuadraticUtils:Ww,BatchPart:Ez,FILL_COMMANDS:O_,BATCH_POOL:OT,DRAW_CALL_POOL:ig};class Tz{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const bS=new Ve,qk=new du,Dz=class Pz extends Mi{constructor(e,r,n,s=ao.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ao.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=nt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ao.TRIANGLES&&r.length<Pz.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,d=s.tx,h=s.ty,g=this.vertexData;for(let m=0;m<g.length/2;m++){const y=r[m*2],b=r[m*2+1];g[m*2]=o*y+l*b+d,g[m*2+1]=a*y+c*b+h}if(this._roundPixels){const m=nt.RESOLUTION;for(let y=0;y<g.length;++y)g[y]=Math.round(g[y]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Tz(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,bS);const r=this.geometry.getBuffer("aVertexPosition").data,n=qk.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1;for(let l=0;l+2<o;l+=a){const c=s[l]*2,d=s[l+1]*2,h=s[l+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[h],n[5]=r[h+1],qk.contains(bS.x,bS.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Dz.BATCHABLE_SIZE=100;let dh=Dz;class Qv extends Qa{constructor(e,r,n){super();const s=new tn(e),o=new tn(r,!0),a=new tn(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,gt.FLOAT).addAttribute("aTextureCoord",o,2,!1,gt.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var jue="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",zue="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";class fh extends yo{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Vo.from(zue,jue),n),this._colorDirty=!1,this.uvMatrix=new Gw(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new qt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;qt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Rz extends Qv{constructor(e=100,r=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,c=this.height/a;for(let h=0;h<e;h++){const g=h%this.segWidth,m=h/this.segWidth|0;r.push(g*l,m*c),n.push(g/o,m/a)}const d=o*a;for(let h=0;h<d;h++){const g=h%o,m=h/o|0,y=m*this.segWidth+g,b=m*this.segWidth+g+1,u=(m+1)*this.segWidth+g,f=(m+1)*this.segWidth+g+1;s.push(y,b,u,b,f,u)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class Oz extends Qv{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const o=n.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,h=e.length;for(let m=0;m<h;m++){const y=m*4;if(this.textureScale>0){const b=c.x-e[m].x,u=c.y-e[m].y,f=Math.sqrt(b*b+u*u);c=e[m],l+=f/d}else l=m/(h-1);o[y]=l,o[y+1]=0,o[y+2]=l,o[y+3]=1}let g=0;for(let m=0;m<h-1;m++){const y=m*2;a[g++]=y,a[g++]=y+1,a[g++]=y+2,a[g++]=y+2,a[g++]=y+1,a[g++]=y+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,s=0,o=0;const a=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const h=e[d],g=d*4;d<e.length-1?n=e[d+1]:n=h,o=-(n.x-r.x),s=n.y-r.y;const m=Math.sqrt(s*s+o*o);m<1e-6?(s=0,o=0):(s/=m,o/=m,s*=c,o*=c),a[g]=h.x+s,a[g+1]=h.y+o,a[g+2]=h.x-s,a[g+3]=h.y-o,r=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class Iz extends dh{constructor(e,r,n){const s=new Rz(e.width,e.height,r,n),o=new fh(it.WHITE);super(s,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const C0=10;class Gue extends Iz{constructor(e,r,n,s,o){var a,l,c,d,h,g,m,y;super(it.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(l=r!=null?r:(a=e.defaultBorders)==null?void 0:a.left)!=null?l:C0,this._rightWidth=(d=s!=null?s:(c=e.defaultBorders)==null?void 0:c.right)!=null?d:C0,this._topHeight=(g=n!=null?n:(h=e.defaultBorders)==null?void 0:h.top)!=null?g:C0,this._bottomHeight=(y=o!=null?o:(m=e.defaultBorders)==null?void 0:m.bottom)!=null?y:C0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(r,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Vue extends dh{constructor(e=it.EMPTY,r,n,s,o){const a=new Qv(r,n,s);a.getBuffer("aVertexPosition").static=!1;const l=new fh(e);super(a,l,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Hue extends dh{constructor(e,r,n=0){const s=new Oz(e.height,r,n),o=new fh(e);n>0&&(e.baseTexture.wrapMode=qo.REPEAT),super(s,o),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class Wue extends Mi{constructor(e=1500,r,n=16384,s=!1){super();const o=16384;n>o&&(n=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=bt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new qt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Zk{constructor(e,r,n){this.geometry=new Qa,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||gt.FLOAT,offset:o.offset},r[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new tn(z6(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new tn(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];l.offset=s,s+=l.size,this.staticStride+=l.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new tn(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===gt.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===gt.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,r,n,o.type===gt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,r,n,o.type===gt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Kue="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Yue="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";class kR extends Xv{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:gt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=yo.from(Yue,Kue,{}),this.state=Ao.for2d()}render(e){const r=e.children,n=e._maxSize,s=e._batchSize,o=this.renderer;let a=r.length;if(a===0)return;a>n&&!e.autoResize&&(a=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=sR(e.blendMode,d),o.state.set(this.state);const h=o.gl,g=e.worldTransform.copyTo(this.tempMatrix);g.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=qt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,b=0;y<a;y+=s,b+=1){let u=a-y;u>s&&(u=s),b>=l.length&&l.push(this._generateOneMoreBuffer(e));const f=l[b];f.uploadDynamic(r,y,u);const p=e._bufferUpdateIDs[b]||0;m=m||f._updateID<p,m&&(f._updateID=e._updateID,f.uploadStatic(r,y,u)),o.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,u*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,s=e._batchSize,o=e._properties;for(let a=0;a<n;a+=s)r.push(new Zk(this.properties,o,s));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Zk(this.properties,n,r)}uploadVertices(e,r,n,s,o,a){let l=0,c=0,d=0,h=0;for(let g=0;g<n;++g){const m=e[r+g],y=m._texture,b=m.scale.x,u=m.scale.y,f=y.trim,p=y.orig;f?(c=f.x-m.anchor.x*p.width,l=c+f.width,h=f.y-m.anchor.y*p.height,d=h+f.height):(l=p.width*(1-m.anchor.x),c=p.width*-m.anchor.x,d=p.height*(1-m.anchor.y),h=p.height*-m.anchor.y),s[a]=c*b,s[a+1]=h*u,s[a+o]=l*b,s[a+o+1]=h*u,s[a+o*2]=l*b,s[a+o*2+1]=d*u,s[a+o*3]=c*b,s[a+o*3+1]=d*u,a+=o*4}}uploadPosition(e,r,n,s,o,a){for(let l=0;l<n;l++){const c=e[r+l].position;s[a]=c.x,s[a+1]=c.y,s[a+o]=c.x,s[a+o+1]=c.y,s[a+o*2]=c.x,s[a+o*2+1]=c.y,s[a+o*3]=c.x,s[a+o*3+1]=c.y,a+=o*4}}uploadRotation(e,r,n,s,o,a){for(let l=0;l<n;l++){const c=e[r+l].rotation;s[a]=c,s[a+o]=c,s[a+o*2]=c,s[a+o*3]=c,a+=o*4}}uploadUvs(e,r,n,s,o,a){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(s[a]=c.x0,s[a+1]=c.y0,s[a+o]=c.x1,s[a+o+1]=c.y1,s[a+o*2]=c.x2,s[a+o*2+1]=c.y2,s[a+o*3]=c.x3,s[a+o*3+1]=c.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}}uploadTint(e,r,n,s,o,a){for(let l=0;l<n;++l){const c=e[r+l],d=qt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);s[a]=d,s[a+o]=d,s[a+o*2]=d,s[a+o*3]=d,a+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}kR.extension={name:"particle",type:qe.RendererPlugin};ct.add(kR);var Jv=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Jv||{});const A0={willReadFrequently:!0},Mo=class ht{static get experimentalLetterSpacingSupported(){let e=ht._experimentalLetterSpacingSupported;if(e!==void 0){const r=nt.ADAPTER.getCanvasRenderingContext2D().prototype;e=ht._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,o,a,l,c,d){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=o,this.lineWidths=a,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,s=ht._canvas){n=n!=null?n:r.wordWrap;const o=r.toFontString(),a=ht.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const l=s.getContext("2d",A0);l.font=o;const c=(n?ht.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let h=0;for(let b=0;b<c.length;b++){const u=ht._measureText(c[b],r.letterSpacing,l);d[b]=u,h=Math.max(h,u)}let g=h+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);const m=r.lineHeight||a.fontSize+r.strokeThickness;let y=Math.max(m,a.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new ht(e,r,g,y,c,d,m+r.leading,h,a)}static _measureText(e,r,n){let s=!1;ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(e).width;return o>0&&(s?o-=r:o+=(ht.graphemeSegmenter(e).length-1)*r),o}static wordWrap(e,r,n=ht._canvas){const s=n.getContext("2d",A0);let o=0,a="",l="";const c=Object.create(null),{letterSpacing:d,whiteSpace:h}=r,g=ht.collapseSpaces(h),m=ht.collapseNewlines(h);let y=!g;const b=r.wordWrapWidth+d,u=ht.tokenize(e);for(let f=0;f<u.length;f++){let p=u[f];if(ht.isNewline(p)){if(!m){l+=ht.addLine(a),y=!g,a="",o=0;continue}p=" "}if(g){const _=ht.isBreakingSpace(p),w=ht.isBreakingSpace(a[a.length-1]);if(_&&w)continue}const v=ht.getFromCache(p,d,c,s);if(v>b)if(a!==""&&(l+=ht.addLine(a),a="",o=0),ht.canBreakWords(p,r.breakWords)){const _=ht.wordWrapSplit(p);for(let w=0;w<_.length;w++){let x=_[w],S=x,A=1;for(;_[w+A];){const C=_[w+A];if(!ht.canBreakChars(S,C,p,w,r.breakWords))x+=C;else break;S=C,A++}w+=A-1;const D=ht.getFromCache(x,d,c,s);D+o>b&&(l+=ht.addLine(a),y=!1,a="",o=0),a+=x,o+=D}}else{a.length>0&&(l+=ht.addLine(a),a="",o=0);const _=f===u.length-1;l+=ht.addLine(p,!_),y=!1,a="",o=0}else v+o>b&&(y=!1,l+=ht.addLine(a),a="",o=0),(a.length>0||!ht.isBreakingSpace(p)||y)&&(a+=p,o+=v)}return l+=ht.addLine(a,!1),l}static addLine(e,r=!0){return e=ht.trimRight(e),e=r?"".concat(e,"\n"):e,e}static getFromCache(e,r,n,s){let o=n[e];return typeof o!="number"&&(o=ht._measureText(e,r,s)+r,n[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ht.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ht._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ht._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const o=e[s],a=e[s+1];if(ht.isBreakingSpace(o,a)||ht.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,o){return!0}static wordWrapSplit(e){return ht.graphemeSegmenter(e)}static measureFont(e){if(ht._fonts[e])return ht._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ht._canvas,s=ht._context;s.font=e;const o=ht.METRICS_STRING+ht.BASELINE_SYMBOL,a=Math.ceil(s.measureText(o).width);let l=Math.ceil(s.measureText(ht.BASELINE_SYMBOL).width);const c=Math.ceil(ht.HEIGHT_MULTIPLIER*l);if(l=l*ht.BASELINE_MULTIPLIER|0,a===0||c===0)return ht._fonts[e]=r,r;n.width=a,n.height=c,s.fillStyle="#f00",s.fillRect(0,0,a,c),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,l);const d=s.getImageData(0,0,a,c).data,h=d.length,g=a*4;let m=0,y=0,b=!1;for(m=0;m<l;++m){for(let u=0;u<g;u+=4)if(d[y+u]!==255){b=!0;break}if(!b)y+=g;else break}for(r.ascent=l-m,y=h-g,b=!1,m=c;m>l;--m){for(let u=0;u<g;u+=4)if(d[y+u]!==255){b=!0;break}if(!b)y-=g;else break}return r.descent=m-l,r.fontSize=r.ascent+r.descent,ht._fonts[e]=r,r}static clearMetrics(e=""){e?delete ht._fonts[e]:ht._fonts={}}static get _canvas(){var e;if(!ht.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",A0))!=null&&e.measureText)return ht.__canvas=n,n;r=nt.ADAPTER.createCanvas()}catch(n){r=nt.ADAPTER.createCanvas()}r.width=r.height=10,ht.__canvas=r}return ht.__canvas}static get _context(){return ht.__context||(ht.__context=ht._canvas.getContext("2d",A0)),ht.__context}};Mo.METRICS_STRING="|q",Mo.BASELINE_SYMBOL="M",Mo.BASELINE_MULTIPLIER=1.4,Mo.HEIGHT_MULTIPLIER=2,Mo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Mo.experimentalLetterSpacing=!1,Mo._fonts={},Mo._newlines=[10,13],Mo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ra=Mo;const Xue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bz=class sg{constructor(e){this.styleID=0,this.reset(),xS(this,e,e)}clone(){const e={};return xS(e,this,sg.defaultStyle),new sg(e)}reset(){xS(this,sg.defaultStyle,sg.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=wS(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=wS(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){que(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=wS(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?"".concat(this.fontSize,"px"):this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!Xue.includes(s)&&(s='"'.concat(s,'"')),r[n]=s}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(r.join(","))}};Bz.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Jv.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let el=Bz;function wS(t){const e=qt.shared,r=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function que(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function xS(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const Zue={texture:!0,children:!1,baseTexture:!0},Fz=class BT extends hd{constructor(e,r,n){var a;let s=!1;n||(n=nt.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const o=it.from(n);o.orig=new Pt,o.trim=new Pt,super(o),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(a=BT.defaultResolution)!=null?a:nt.RESOLUTION,this._autoResolution=BT.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ra.experimentalLetterSpacing}static set experimentalLetterSpacing(e){St("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ra.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=Ra.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,l=s.lines,c=s.lineHeight,d=s.lineWidths,h=s.maxLineWidth,g=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,y;const b=r.dropShadow?2:1;for(let u=0;u<b;++u){const f=r.dropShadow&&u===0,p=f?Math.ceil(Math.max(1,a)+r.padding*2):0,v=p*this._resolution;if(f){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,x=r.dropShadowBlur*this._resolution,S=r.dropShadowDistance*this._resolution;n.shadowColor=qt.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=x,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*S,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*S+v}else n.fillStyle=this._generateFillStyle(r,l,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(c-g.fontSize)/2;c-g.fontSize<0&&(_=0);for(let w=0;w<l.length;w++)m=r.strokeThickness/2,y=r.strokeThickness/2+w*c+g.ascent+_,r.align==="right"?m+=h-d[w]:r.align==="center"&&(m+=(h-d[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[w],m+r.padding,y+r.padding-p,!0),r.fill&&this.drawLetterSpacing(l[w],m+r.padding,y+r.padding-p)}this.updateTexture()}drawLetterSpacing(e,r,n,s=!1){const o=this._style.letterSpacing;let a=!1;if(Ra.experimentalLetterSpacingSupported&&(Ra.experimentalLetterSpacing?(this.context.letterSpacing="".concat(o,"px"),this.context.textLetterSpacing="".concat(o,"px"),a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||a){s?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const c=Ra.graphemeSegmenter(e);let d=this.context.measureText(e).width,h=0;for(let g=0;g<c.length;++g){const m=c[g];s?this.context.strokeText(m,l,n):this.context.fillText(m,l,n);let y="";for(let b=g+1;b<c.length;++b)y+=c[b];h=this.context.measureText(y).width,l+=d-h+o,d=h}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=H6(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,n=this._style,s=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-l*2,d=this.canvas.height/this._resolution-a-l*2,h=s.slice(),g=e.fillGradientStops.slice();if(!g.length){const m=h.length+1;for(let y=1;y<m;++y)g.push(y/m)}if(h.unshift(s[0]),g.unshift(0),h.push(s[s.length-1]),g.push(1),e.fillGradientType===Jv.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,l,c/2,d+l);const m=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const b=n.lineHeight*(y-1)+m,u=n.lineHeight*y;let f=u;y>0&&b>u&&(f=(u+b)/2);const p=u+m,v=n.lineHeight*(y+1);let _=p;y+1<r.length&&v<p&&(_=(p+v)/2);const w=(_-f)/d;for(let x=0;x<h.length;x++){let S=0;typeof g[x]=="number"?S=g[x]:S=x/h.length;let A=Math.min(1,Math.max(0,f/d+S*w));A=Number(A.toFixed(5)),o.addColorStop(A,h[x])}}}else{o=this.context.createLinearGradient(l,d/2,c+l,d/2);const m=h.length+1;let y=1;for(let b=0;b<h.length;b++){let u;typeof g[b]=="number"?u=g[b]:u=y/m,o.addColorStop(u,h[b]),y++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Zue,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Na(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Na(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof el?this._style=e:this._style=new el(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Fz.defaultAutoResolution=!0;let NR=Fz;class Mz{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Que(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let s=0;s<t._textures.length;s++)if(t._textures[s]instanceof it){const o=t._textures[s].baseTexture;e.includes(o)||(e.push(o),r=!0)}}return r}function Jue(t,e){if(t.baseTexture instanceof Ot){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ece(t,e){if(t._texture&&t._texture instanceof it){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function tce(t,e){return e instanceof NR?(e.updateText(!0),!0):!1}function rce(t,e){if(e instanceof el){const r=e.toFontString();return Ra.measureFont(r),!0}return!1}function nce(t,e){if(t instanceof NR){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ice(t,e){return t instanceof el?(e.includes(t)||e.push(t),!0):!1}const kz=class Nz{constructor(e){this.limiter=new Mz(Nz.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(nce),this.registerFindHook(ice),this.registerFindHook(Que),this.registerFindHook(Jue),this.registerFindHook(ece),this.registerUploadHook(tce),this.registerUploadHook(rce)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,sn.system.addOnce(this.tick,this,ta.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)sn.system.addOnce(this.tick,this,ta.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Mi)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&sn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};kz.uploadsPerFrame=4;let W1=kz;Object.defineProperties(nt,{UPLOADS_PER_FRAME:{get(){return W1.uploadsPerFrame},set(t){St("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),W1.uploadsPerFrame=t}}});function Lz(t,e){return e instanceof Ot?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function sce(t,e){if(!(e instanceof Ua))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let s=0;s<n.length;s++){const{texture:o}=n[s].style;o&&Lz(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function oce(t,e){return t instanceof Ua?(e.push(t),!0):!1}class LR extends W1{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(oce),this.registerUploadHook(Lz),this.registerUploadHook(sce)}}LR.extension={name:"prepare",type:qe.RendererSystem};ct.add(LR);class ace{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class K1 extends hd{constructor(e,r=!0){super(e[0]instanceof it?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(sn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(sn.shared.add(this.update,this,ta.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(it.from(e[n]));return new K1(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(it.from(e[n]));return new K1(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof it)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(sn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(sn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Np=new Ve;class UR extends hd{constructor(e,r=100,n=100){super(e),this.tileTransform=new jh,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Gw(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Np);const r=this._width,n=this._height,s=-r*this.anchor._x;if(Np.x>=s&&Np.x<s+r){const o=-n*this.anchor._y;if(Np.y>=o&&Np.y<o+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof it?e:it.from(e,r);return new UR(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var lce="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",uce="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",cce="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",Qk="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",dce="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";const T0=new Ht;class $R extends Xv{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new fR,this.state=Ao.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=yo.from(Qk,dce,r),this.shader=e.context.webGLVersion>1?yo.from(uce,lce,r):yo.from(Qk,cce,r)}render(e){const r=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,n.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,h=e.tileTransform.localTransform,g=e.uvMatrix;let m=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==qo.CLAMP:c.wrapMode===qo.CLAMP&&(c.wrapMode=qo.REPEAT));const y=m?this.simpleShader:this.shader,b=l.width,u=l.height,f=e._width,p=e._height;T0.set(h.a*b/f,h.b*b/p,h.c*u/f,h.d*u/p,h.tx/f,h.ty/p),T0.invert(),m?T0.prepend(g.mapCoord):(y.uniforms.uMapCoord=g.mapCoord.toArray(!0),y.uniforms.uClampFrame=g.uClampFrame,y.uniforms.uClampOffset=g.uClampOffset),y.uniforms.uTransform=T0.toArray(!0),y.uniforms.uColor=qt.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=sR(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}$R.extension={name:"tilingSprite",type:qe.RendererPlugin};ct.add($R);const Uz=class og{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof it?e:null,this.baseTexture=e instanceof Ot?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const s=this.baseTexture.resource;this.resolution=this._updateResolution(n||(s?s.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ea(e,null);return n===null&&(n=parseFloat(r!=null?r:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=og.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=og.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],o=this._frames[s],a=o.frame;if(a){let l=null,c=null;const d=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,h=new Pt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);o.rotated?l=new Pt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):l=new Pt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(c=new Pt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[s]=new it(this.baseTexture,l,h,c,o.rotated?2:0,o.anchor,o.borders),it.addToCache(this.textures[s],s.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*og.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*og.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Uz.BATCH_SIZE=1e3;let FT=Uz;const fce=["jpg","png","jpeg","avif","webp"];function $z(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[s]=e.textures[s]}),!r){const s=on.dirname(t[0]);e.linkedSheets.forEach((o,a)=>{const l=$z(["".concat(s,"/").concat(e.data.meta.related_multi_packs[a])],o,!0);Object.assign(n,l)})}return n}const jz={extension:qe.Asset,cache:{test:t=>t instanceof FT,getCacheableAssets:(t,e)=>$z(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&fce.includes(n)},parse:t=>{var r,n;const e=t.split(".");return{resolution:parseFloat((n=(r=nt.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:qe.LoadParser,priority:Ks.Normal},async testParse(t,e){return on.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=on.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let s=n+t.meta.image;s=H1(s,e.src);const o=(await r.load([s]))[s],a=new FT(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const h=[];for(const m of l){if(typeof m!="string")continue;let y=n+m;(d=e.data)!=null&&d.ignoreMultiPack||(y=H1(y,e.src),h.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(h);a.linkedSheets=g,g.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(y=>y!==m))})}return a},unload(t){t.destroy(!0)}}};ct.add(jz);class Nm{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Mg{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in r){const a=r[o].match(/^[a-z]+/gm)[0],l=r[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const h=l[d].split("="),g=h[0],m=h[1].replace(/"/gm,""),y=parseFloat(m),b=isNaN(y)?m:y;c[g]=b}n[a].push(c)}const s=new Nm;return n.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class Y1{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Nm,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)r.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<o.length;d++)r.page.push({id:parseInt(o[d].getAttribute("id"),10)||0,file:o[d].getAttribute("file")});for(let d=0;d<a.length;d++){const h=a[d];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class X1{static test(e){return typeof e=="string"&&e.includes("<font>")?Y1.test(nt.ADAPTER.parseXML(e)):!1}static parse(e){return Y1.parse(nt.ADAPTER.parseXML(e))}}const ES=[Mg,Y1,X1];function zz(t){for(let e=0;e<ES.length;e++)if(ES[e].test(t))return ES[e];return null}function hce(t,e,r,n,s,o){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let l;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,h=t.width/n-c-d*2,g=t.height/n-c-d*2,m=a.slice(),y=r.fillGradientStops.slice();if(!y.length){const b=m.length+1;for(let u=1;u<b;++u)y.push(u/b)}if(m.unshift(a[0]),y.unshift(0),m.push(a[a.length-1]),y.push(1),r.fillGradientType===Jv.LINEAR_VERTICAL){l=e.createLinearGradient(h/2,d,h/2,g+d);let b=0;const u=(o.fontProperties.fontSize+r.strokeThickness)/g;for(let f=0;f<s.length;f++){const p=o.lineHeight*f;for(let v=0;v<m.length;v++){let _=0;typeof y[v]=="number"?_=y[v]:_=v/m.length;const w=p/g+_*u;let x=Math.max(b,w);x=Math.min(x,1),l.addColorStop(x,m[v]),b=x}}}else{l=e.createLinearGradient(d,g/2,h+d,g/2);const b=m.length+1;let u=1;for(let f=0;f<m.length;f++){let p;typeof y[f]=="number"?p=y[f]:p=u/b,l.addColorStop(p,m[f]),u++}}return l}function pce(t,e,r,n,s,o,a){const l=r.text,c=r.fontProperties;e.translate(n,s),e.scale(o,o);const d=a.strokeThickness/2,h=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=hce(t,e,a,o,[l],r),e.strokeStyle=a.stroke,a.dropShadow){const g=a.dropShadowColor,m=a.dropShadowBlur*o,y=a.dropShadowDistance*o;e.shadowColor=qt.shared.setValue(g).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(l,d,h+r.lineHeight-c.descent),a.fill&&e.fillText(l,d,h+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function B_(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Gz(t){return Array.from?Array.from(t):t.split("")}function gce(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));const o=s[0].charCodeAt(0),a=s[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(let l=o,c=a;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...Gz(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Pl=class ko{constructor(e,r,n){var h,g;const[s]=e.info,[o]=e.common,[a]=e.page,[l]=e.distanceField,c=ea(a.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/c,this.chars={},this.pageTextures=d;for(let m=0;m<e.page.length;m++){const{id:y,file:b}=e.page[m];d[y]=r instanceof Array?r[m]:r[b],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[y].baseTexture.alphaMode=ci.NO_PREMULTIPLIED_ALPHA,d[y].baseTexture.mipmap=Eo.OFF)}for(let m=0;m<e.char.length;m++){const{id:y,page:b}=e.char[m];let{x:u,y:f,width:p,height:v,xoffset:_,yoffset:w,xadvance:x}=e.char[m];u/=c,f/=c,p/=c,v/=c,_/=c,w/=c,x/=c;const S=new Pt(u+d[b].frame.x/c,f+d[b].frame.y/c,p,v);this.chars[y]={xOffset:_,yOffset:w,xAdvance:x,kerning:{},texture:new it(d[b].baseTexture,S),page:b}}for(let m=0;m<e.kerning.length;m++){let{first:y,second:b,amount:u}=e.kerning[m];y/=c,b/=c,u/=c,this.chars[b]&&(this.chars[b].kerning[y]=u)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(g=(h=l==null?void 0:l.fieldType)==null?void 0:h.toLowerCase())!=null?g:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let s;if(e instanceof Nm)s=e;else{const a=zz(e);if(!a)throw new Error("Unrecognized data format for font.");s=a.parse(e)}r instanceof it&&(r=[r]);const o=new ko(s,r,n);return ko.available[o.font]=o,o}static uninstall(e){const r=ko.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete ko.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:a,textureWidth:l,textureHeight:c,...d}=Object.assign({},ko.defaultOptions,n),h=gce(s),g=r instanceof el?r:new el(r),m=l,y=new Nm;y.info[0]={face:g.fontFamily,size:g.fontSize},y.common[0]={lineHeight:g.fontSize};let b=0,u=0,f,p,v,_=0;const w=[];for(let S=0;S<h.length;S++){f||(f=nt.ADAPTER.createCanvas(),f.width=l,f.height=c,p=f.getContext("2d"),v=new Ot(f,{resolution:a,...d}),w.push(new it(v)),y.page.push({id:w.length-1,file:""}));const A=h[S],D=Ra.measureText(A,g,!1,f),C=D.width,T=Math.ceil(D.height),R=Math.ceil((g.fontStyle==="italic"?2:1)*C);if(u>=c-T*a){if(u===0)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(A,"')"));--S,f=null,p=null,v=null,u=0,b=0,_=0;continue}if(_=Math.max(T+D.fontProperties.descent,_),R*a+b>=m){if(b===0)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(A,"')"));--S,u+=_*a,u=Math.ceil(u),b=0,_=0;continue}pce(f,p,D,b,u,a,g);const P=B_(D.text);y.char.push({id:P,page:w.length-1,x:b/a,y:u/a,width:R,height:T,xoffset:0,yoffset:0,xadvance:C-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),b+=(R+2*o)*a,b=Math.ceil(b)}if(!(n!=null&&n.skipKerning))for(let S=0,A=h.length;S<A;S++){const D=h[S];for(let C=0;C<A;C++){const T=h[C],R=p.measureText(D).width,P=p.measureText(T).width,O=p.measureText(D+T).width-(R+P);O&&y.kerning.push({first:B_(D),second:B_(T),amount:O})}}const x=new ko(y,w,!0);return ko.available[e]!==void 0&&ko.uninstall(e),ko.available[e]=x,x}};Pl.ALPHA=[["a","z"],["A","Z"]," "],Pl.NUMERIC=[["0","9"]],Pl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Pl.ASCII=[[" ","~"]],Pl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Pl.ALPHANUMERIC},Pl.available={};let Ca=Pl;var mce="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",vce="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";const Jk=[],eN=[],tN=[],Vz=class Hz extends Mi{constructor(e,r={}){super();const{align:n,tint:s,maxWidth:o,letterSpacing:a,fontName:l,fontSize:c}=Object.assign({},Hz.styleDefaults,r);if(!Ca.available[l])throw new Error('Missing BitmapFont "'.concat(l,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new qt(s),this._font=void 0,this._fontName=l,this._fontSize=c,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new uo(()=>{this.dirty=!0},this,0,0),this._roundPixels=nt.ROUND_PIXELS,this.dirty=!0,this._resolution=nt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const e=Ca.available[this._fontName],r=this.fontSize,n=r/e.size,s=new Ve,o=[],a=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=Gz(c),h=this._maxWidth*e.size/r,g=e.distanceFieldType==="none"?Jk:eN;let m=null,y=0,b=0,u=0,f=-1,p=0,v=0,_=0,w=0;for(let P=0;P<d.length;P++){const O=d[P],I=B_(O);if(/(?:\s)/.test(O)&&(f=P,p=y,w++),O==="\r"||O==="\n"){a.push(y),l.push(-1),b=Math.max(b,y),++u,++v,s.x=0,s.y+=e.lineHeight,m=null,w=0;continue}const k=e.chars[I];if(!k)continue;m&&k.kerning[m]&&(s.x+=k.kerning[m]);const W=tN.pop()||{texture:it.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ve};W.texture=k.texture,W.line=u,W.charCode=I,W.position.x=Math.round(s.x+k.xOffset+this._letterSpacing/2),W.position.y=Math.round(s.y+k.yOffset),W.prevSpaces=w,o.push(W),y=W.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),s.x+=k.xAdvance+this._letterSpacing,_=Math.max(_,k.yOffset+k.texture.height),m=I,f!==-1&&h>0&&s.x>h&&(++v,Ic(o,1+f-v,1+P-f),P=f,f=-1,a.push(p),l.push(o.length>0?o[o.length-1].prevSpaces:0),b=Math.max(b,p),u++,s.x=0,s.y+=e.lineHeight,m=null,w=0)}const x=d[d.length-1];x!=="\r"&&x!=="\n"&&(/(?:\s)/.test(x)&&(y=p),a.push(y),b=Math.max(b,y),l.push(-1));const S=[];for(let P=0;P<=u;P++){let O=0;this._align==="right"?O=b-a[P]:this._align==="center"?O=(b-a[P])/2:this._align==="justify"&&(O=l[P]<0?0:(b-a[P])/l[P]),S.push(O)}const A=o.length,D={},C=[],T=this._activePagesMeshData;g.push(...T);for(let P=0;P<A;P++){const O=o[P].texture,I=O.baseTexture.uid;if(!D[I]){let k=g.pop();if(!k){const V=new Qv;let j,$;e.distanceFieldType==="none"?(j=new fh(it.EMPTY),$=bt.NORMAL):(j=new fh(it.EMPTY,{program:Vo.from(vce,mce),uniforms:{uFWidth:0}}),$=bt.NORMAL_NPM);const K=new dh(V,j);K.blendMode=$,k={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:K,vertices:null,uvs:null,indices:null}}k.index=0,k.indexCount=0,k.vertexCount=0,k.uvsCount=0,k.total=0;const{_textureCache:W}=this;W[I]=W[I]||new it(O.baseTexture),k.mesh.texture=W[I],k.mesh.tint=this._tintColor.value,C.push(k),D[I]=k}D[I].total++}for(let P=0;P<T.length;P++)C.includes(T[P])||this.removeChild(T[P].mesh);for(let P=0;P<C.length;P++)C[P].mesh.parent!==this&&this.addChild(C[P].mesh);this._activePagesMeshData=C;for(const P in D){const O=D[P],I=O.total;if(!(((R=O.indices)==null?void 0:R.length)>6*I)||O.vertices.length<dh.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*I),O.uvs=new Float32Array(4*2*I),O.indices=new Uint16Array(6*I);else{const k=O.total,W=O.vertices;for(let V=k*4*2;V<W.length;V++)W[V]=0}O.mesh.size=6*I}for(let P=0;P<A;P++){const O=o[P];let I=O.position.x+S[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const k=I*n,W=O.position.y*n,V=O.texture,j=D[V.baseTexture.uid],$=V.frame,K=V._uvs,J=j.index++;j.indices[J*6+0]=0+J*4,j.indices[J*6+1]=1+J*4,j.indices[J*6+2]=2+J*4,j.indices[J*6+3]=0+J*4,j.indices[J*6+4]=2+J*4,j.indices[J*6+5]=3+J*4,j.vertices[J*8+0]=k,j.vertices[J*8+1]=W,j.vertices[J*8+2]=k+$.width*n,j.vertices[J*8+3]=W,j.vertices[J*8+4]=k+$.width*n,j.vertices[J*8+5]=W+$.height*n,j.vertices[J*8+6]=k,j.vertices[J*8+7]=W+$.height*n,j.uvs[J*8+0]=K.x0,j.uvs[J*8+1]=K.y0,j.uvs[J*8+2]=K.x1,j.uvs[J*8+3]=K.y1,j.uvs[J*8+4]=K.x2,j.uvs[J*8+5]=K.y2,j.uvs[J*8+6]=K.x3,j.uvs[J*8+7]=K.y3}this._textWidth=b*n,this._textHeight=(s.y+e.lineHeight)*n;for(const P in D){const O=D[P];if(this.anchor.x!==0||this.anchor.y!==0){let V=0;const j=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let K=0;K<O.total;K++)O.vertices[V++]-=j,O.vertices[V++]-=$,O.vertices[V++]-=j,O.vertices[V++]-=$,O.vertices[V++]-=j,O.vertices[V++]-=$,O.vertices[V++]-=j,O.vertices[V++]-=$}this._maxLineHeight=_*n;const I=O.mesh.geometry.getBuffer("aVertexPosition"),k=O.mesh.geometry.getBuffer("aTextureCoord"),W=O.mesh.geometry.getIndex();I.data=O.vertices,k.data=O.uvs,W.data=O.indices,I.update(),k.update(),W.update()}for(let P=0;P<o.length;P++)tN.push(o[P]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:s}=Ca.available[this._fontName];if(n!=="none"){const{a:o,b:a,c:l,d:c}=this.worldTransform,d=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+c*c),g=(Math.abs(d)+Math.abs(h))/2,m=this.fontSize/s,y=e._view.resolution;for(const b of this._activePagesMeshData)b.mesh.shader.uniforms.uFWidth=g*r*m*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ca.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ca.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:Ca.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Ca.available[this._fontName].distanceFieldType==="none"?Jk:eN;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>r[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=it.EMPTY});for(const s in r)r[s].destroy(),delete r[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Vz.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let yce=Vz;const _ce=[".xml",".fnt"],Wz={extension:{type:qe.LoadParser,priority:Ks.Normal},name:"loadBitmapFont",test(t){return _ce.includes(on.extname(t).toLowerCase())},async testParse(t){return Mg.test(t)||X1.test(t)},async parse(t,e,r){const n=Mg.test(t)?Mg.parse(t):X1.parse(t),{src:s}=e,{page:o}=n,a=[];for(let d=0;d<o.length;++d){const h=o[d].file;let g=on.join(on.dirname(s),h);g=H1(g,s),a.push(g)}const l=await r.load(a),c=a.map(d=>l[d]);return Ca.install(n,c,!0)},async load(t,e){return(await nt.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ct.add(Wz);const MT=class sf extends el{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new sf(Object.keys(sf.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete sf.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=sf;if(n[e]){const s=n[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return nt.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,a)=>{const l=URL.createObjectURL(s),c=new FileReader;c.onload=()=>o([l,c.result]),c.onerror=a,c.readAsDataURL(s)})).then(async([s,o])=>{const a=Object.assign({family:on.basename(e,on.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},r);n[e]=a,this._fonts.push(a),this.styleID++;const l=new FontFace(a.family,"url(".concat(a.src,")"),{weight:a.weight,style:a.style,display:a.display});a.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(r.family,"\";\n                src: url('").concat(r.dataSrc,"');\n                font-weight: ").concat(r.weight,";\n                font-style: ").concat(r.style,";\n                font-display: ").concat(r.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=$6(e)),typeof e=="number"?U6(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const o="".concat(n,"px ").concat(s,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(o," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(o," ").concat(e)}reset(){Object.assign(this,sf.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=nt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};MT.availableFonts={},MT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let F_=MT;const ag=class of extends hd{constructor(e="",r={}){var g;super(it.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=it.from(n,{scaleMode:nt.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Pt,s.trim=new Pt,this.texture=s;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),c=document.createElementNS(o,"foreignObject"),d=document.createElementNS(a,"div"),h=document.createElementNS(a,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",l.appendChild(c),this.maxWidth=of.defaultMaxWidth,this.maxHeight=of.defaultMaxHeight,this._domElement=d,this._styleElement=h,this._svgRoot=l,this._foreignObject=c,this._foreignObject.appendChild(h),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=of.defaultAutoResolution,this._resolution=(g=of.defaultResolution)!=null?g:nt.RESOLUTION,this.text=e,this.style=r}measureText(e){var h,g;const{text:r,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(a)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(h=this._style)==null?void 0:h.toCSS(s)}),this._styleElement.textContent=(g=this._style)==null?void 0:g.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:s}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:o,height:a}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,o)),n.height=s.height=Math.ceil(Math.max(1,a)),this._updateID++;const l=this._updateID;await new Promise(c=>{s.onload=async()=>{if(l<this._updateID){c();return}await r.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:s}=this,{padding:o}=e,{baseTexture:a}=r;r.trim.width=r._frame.width=n.width/s,r.trim.height=r._frame.height=n.height/s,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-o*2,r.orig.height=r._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(n.width,n.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,s,o,a,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},of.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(s=this._svgRoot)==null||s.remove(),this._svgRoot=r,(o=this._domElement)==null||o.remove(),this._domElement=r,(a=this._foreignObject)==null||a.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Na(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Na(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof F_?(this.ownsStyle=!1,this._style=e):e instanceof el?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=F_.from(e)):(this.ownsStyle=!0,this._style=new F_(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};ag.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ag.defaultMaxWidth=2024,ag.defaultMaxHeight=2024,ag.defaultAutoResolution=!0;let bce=ag;const mVe=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:ci,AbstractMultiResource:RR,AccessibilityManager:IR,AlphaFilter:M5,AnimatedSprite:K1,Application:V5,ArrayResource:T5,Assets:rg,AssetsClass:ez,Attribute:Cm,BLEND_MODES:bt,BUFFER_BITS:R1,BUFFER_TYPE:mo,BackgroundSystem:Tm,BaseImageResource:Ja,BasePrepare:W1,BaseRenderTexture:uR,BaseTexture:Ot,BatchDrawCall:L1,BatchGeometry:aR,BatchRenderer:Ml,BatchShaderGenerator:s5,BatchSystem:lR,BatchTextureArray:U1,BitmapFont:Ca,BitmapFontData:Nm,BitmapText:yce,BlobResource:dz,BlurFilter:k5,BlurFilterPass:z1,Bounds:Om,BrowserAdapter:c6,Buffer:tn,BufferResource:Hv,BufferSystem:DR,CLEAR_MODES:oo,COLOR_MASK_BITS:u6,Cache:Gl,CanvasResource:D5,Circle:Wv,Color:qt,ColorMatrixFilter:G1,CompressedTextureResource:fu,Container:Mi,ContextSystem:Dm,CountLimiter:Mz,CubeResource:R5,DEG_TO_RAD:q6,DRAW_MODES:ao,DisplacementFilter:N5,DisplayObject:Pr,ENV:ju,Ellipse:Kv,EventBoundary:$5,EventSystem:V1,ExtensionType:qe,Extract:bz,FORMATS:Ie,FORMATS_TO_COMPONENTS:hz,FXAAFilter:L5,FederatedDisplayObject:j5,FederatedEvent:zh,FederatedMouseEvent:Im,FederatedPointerEvent:vs,FederatedWheelEvent:Fc,FillStyle:Zv,Filter:Fn,FilterState:a5,FilterSystem:hR,Framebuffer:$1,FramebufferSystem:pR,GC_MODES:Nw,GLFramebuffer:l5,GLProgram:p5,GLTexture:D_,GRAPHICS_CURVES:Nue,GenerateTextureSystem:bR,Geometry:Qa,GeometrySystem:gR,Graphics:Ua,GraphicsData:km,GraphicsGeometry:Az,HTMLText:bce,HTMLTextStyle:F_,IGLUniformData:Qae,INSTALLED:N1,INTERNAL_FORMATS:Ei,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Fm,ImageBitmapResource:wc,ImageResource:cR,LINE_CAP:La,LINE_JOIN:Vi,LineStyle:Kw,LoaderParserPriority:Ks,MASK_TYPES:Qr,MIPMAP_MODES:Eo,MSAA_QUALITY:Yr,MaskData:c5,MaskSystem:mR,Matrix:Ht,Mesh:dh,MeshBatchUvs:Tz,MeshGeometry:Qv,MeshMaterial:fh,MultisampleSystem:TR,NineSlicePlane:Gue,NoiseFilter:U5,ObjectRenderer:Xv,ObjectRendererSystem:PR,ObservablePoint:uo,PI_2:Am,PRECISION:Zi,ParticleContainer:Wue,ParticleRenderer:kR,PlaneGeometry:Rz,PluginSystem:yR,Point:Ve,Polygon:du,Prepare:LR,Program:Vo,ProjectionSystem:_R,Quad:o5,QuadUv:fR,RAD_TO_DEG:X6,RENDERER_TYPE:Y2,Rectangle:Pt,RenderTexture:Gu,RenderTexturePool:dR,RenderTextureSystem:wR,Renderer:Vw,ResizePlugin:BR,Resource:ch,RopeGeometry:Oz,RoundedRectangle:Yv,Runner:Ji,SAMPLER_TYPES:tt,SCALE_MODES:Go,SHAPES:Tn,SVGResource:j1,ScissorSystem:h5,Shader:yo,ShaderSystem:xR,SimpleMesh:Vue,SimplePlane:Iz,SimpleRope:Hue,Sprite:hd,SpriteMaskFilter:u5,Spritesheet:FT,StartupSystem:Pm,State:Ao,StateSystem:w5,StencilSystem:vR,SystemManager:x5,TARGETS:Pc,TEXT_GRADIENT:Jv,TYPES:gt,TYPES_TO_BYTES_PER_COMPONENT:DT,TYPES_TO_BYTES_PER_PIXEL:pz,TemporaryDisplayObject:O5,Text:NR,TextFormat:Mg,TextMetrics:Ra,TextStyle:el,Texture:it,TextureGCSystem:kl,TextureMatrix:Gw,TextureSystem:ER,TextureUvs:zw,Ticker:sn,TickerPlugin:CR,TilingSprite:UR,TilingSpriteRenderer:$R,TimeLimiter:ace,Transform:jh,TransformFeedback:mle,TransformFeedbackSystem:SR,UPDATE_PRIORITY:ta,UniformGroup:$s,VERSION:vle,VideoResource:OR,ViewSystem:Rm,ViewableBuffer:k1,WRAP_MODES:qo,XMLFormat:Y1,XMLStringFormat:X1,accessibleTarget:z5,autoDetectFormat:zz,autoDetectRenderer:C5,autoDetectResource:oR,cacheTextureArray:tz,checkDataUrl:pd,checkExtension:fl,checkMaxIfStatementsInShader:K6,convertToList:Ds,copySearchParams:H1,createStringVariations:W5,createTexture:Gh,createUBOElements:v5,curves:xu,defaultFilterVertex:AR,defaultVertex:A5,detectAvif:nz,detectCompressedTextures:cz,detectDefaults:sz,detectMp4:az,detectOgv:lz,detectWebm:oz,detectWebp:iz,extensions:ct,filters:ET,generateProgram:g5,generateUniformBufferSync:_5,getFontFamilyName:X5,getTestContext:t5,getUBOData:y5,graphicsUtils:$ue,groupD8:Cr,isMobile:lo,isSingleItem:Bm,loadBitmapFont:Wz,loadDDS:mz,loadImageBitmap:Z5,loadJson:K5,loadKTX:vz,loadSVG:Q5,loadTextures:qv,loadTxt:Y5,loadVideo:J5,loadWebFont:q5,parseDDS:fz,parseKTX:gz,resolveCompressedTextureUrl:yz,resolveTextureUrl:uz,settings:nt,spritesheetAsset:jz,uniformParsers:Bc,unsafeEvalSupported:i5,utils:xae},Symbol.toStringTag,{value:"Module"})),wce="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let vVe=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=wce[r[t]&63];return e};var Kz={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Xi,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"];function o(u,f){var p=u[f];if(typeof p.bind=="function")return p.bind(u);try{return Function.prototype.bind.call(p,u)}catch(v){return function(){return Function.prototype.apply.apply(p,[u,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(u){return u==="debug"&&(u="log"),typeof console===r?!1:u==="trace"&&n?a:console[u]!==void 0?o(console,u):console.log!==void 0?o(console,"log"):e}function c(u,f){for(var p=0;p<s.length;p++){var v=s[p];this[v]=p<u?e:this.methodFactory(v,u,f)}this.log=this.debug}function d(u,f,p){return function(){typeof console!==r&&(c.call(this,f,p),this[u].apply(this,arguments))}}function h(u,f,p){return l(u)||d.apply(this,arguments)}function g(u,f,p){var v=this,_;f=f==null?"WARN":f;var w="loglevel";typeof u=="string"?w+=":"+u:typeof u=="symbol"&&(w=void 0);function x(C){var T=(s[C]||"silent").toUpperCase();if(!(typeof window===r||!w)){try{window.localStorage[w]=T;return}catch(R){}try{window.document.cookie=encodeURIComponent(w)+"="+T+";"}catch(R){}}}function S(){var C;if(!(typeof window===r||!w)){try{C=window.localStorage[w]}catch(P){}if(typeof C===r)try{var T=window.document.cookie,R=T.indexOf(encodeURIComponent(w)+"=");R!==-1&&(C=/^([^;]+)/.exec(T.slice(R))[1])}catch(P){}return v.levels[C]===void 0&&(C=void 0),C}}function A(){if(!(typeof window===r||!w)){try{window.localStorage.removeItem(w);return}catch(C){}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(C){}}}v.name=u,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=p||h,v.getLevel=function(){return _},v.setLevel=function(C,T){if(typeof C=="string"&&v.levels[C.toUpperCase()]!==void 0&&(C=v.levels[C.toUpperCase()]),typeof C=="number"&&C>=0&&C<=v.levels.SILENT){if(_=C,T!==!1&&x(C),c.call(v,C,u),typeof console===r&&C<v.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+C},v.setDefaultLevel=function(C){f=C,S()||v.setLevel(C,!1)},v.resetLevel=function(){v.setLevel(f,!1),A()},v.enableAll=function(C){v.setLevel(v.levels.TRACE,C)},v.disableAll=function(C){v.setLevel(v.levels.SILENT,C)};var D=S();D==null&&(D=f),v.setLevel(D,!1)}var m=new g,y={};m.getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var p=y[f];return p||(p=y[f]=new g(f,m.getLevel(),m.methodFactory)),p};var b=typeof window!==r?window.log:void 0;return m.noConflict=function(){return typeof window!==r&&window.log===m&&(window.log=b),m},m.getLoggers=function(){return y},m.default=m,m})})(Kz);var xce=Kz.exports;const yVe=Un(xce);var Ece="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Sce="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n";const Yz=class extends Fn{constructor(e,r=0){super(Ece,Sce),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,Yz.defaults,e)}apply(e,r,n,s){var o,a;this.uniforms.dimensions[0]=(o=r.filterFrame)==null?void 0:o.width,this.uniforms.dimensions[1]=(a=r.filterFrame)==null?void 0:a.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,s)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let Cce=Yz;Cce.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var Mc={},Xz={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.loop=Va.conditional=Va.parse=void 0;var Ace=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(a){return t(e,a,n,s)});else if(typeof r=="function")r(e,n,s,t);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(s[o]={},t(e,r[o],n,s[o])):s[o]=r[o](e,n,s,t)}return n};Va.parse=Ace;var Tce=function(e,r){return function(n,s,o,a){r(n,s,o)&&a(n,e,s,o)}};Va.conditional=Tce;var Dce=function(e,r){return function(n,s,o,a){for(var l=[],c=n.pos;r(n,s,o);){var d={};if(a(n,e,s,d),n.pos===c)break;c=n.pos,l.push(d)}return l}};Va.loop=Dce;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.readBits=Wr.readArray=Wr.readUnsigned=Wr.readString=Wr.peekBytes=Wr.readBytes=Wr.peekByte=Wr.readByte=Wr.buildStream=void 0;var Pce=function(e){return{data:e,pos:0}};Wr.buildStream=Pce;var qz=function(){return function(e){return e.data[e.pos++]}};Wr.readByte=qz;var Rce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};Wr.peekByte=Rce;var Yw=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};Wr.readBytes=Yw;var Oce=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};Wr.peekBytes=Oce;var Ice=function(e){return function(r){return Array.from(Yw(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};Wr.readString=Ice;var Bce=function(e){return function(r){var n=Yw(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};Wr.readUnsigned=Bce;var Fce=function(e,r){return function(n,s,o){for(var a=typeof r=="function"?r(n,s,o):r,l=Yw(e),c=new Array(a),d=0;d<a;d++)c[d]=l(n);return c}};Wr.readArray=Fce;var Mce=function(e,r,n){for(var s=0,o=0;o<n;o++)s+=e[r+o]&&Math.pow(2,n-o-1);return s},kce=function(e){return function(r){for(var n=qz()(r),s=new Array(8),o=0;o<8;o++)s[7-o]=!!(n&1<<o);return Object.keys(e).reduce(function(a,l){var c=e[l];return c.length?a[l]=Mce(s,c.index,c.length):a[l]=s[c.index],a},{})}};Wr.readBits=kce;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Va,r=Wr,n={blocks:function(m){for(var y=0,b=[],u=m.data.length,f=0,p=(0,r.readByte)()(m);p!==y&&p;p=(0,r.readByte)()(m)){if(m.pos+p>=u){var v=u-m.pos;b.push((0,r.readBytes)(v)(m)),f+=v;break}b.push((0,r.readBytes)(p)(m)),f+=p}for(var _=new Uint8Array(f),w=0,x=0;x<b.length;x++)_.set(b[x],w),w+=b[x].length;return _}},s=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===249}),o=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(g,m,y){return Math.pow(2,y.descriptor.lct.size+1)})},function(g,m,y){return y.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(g){return(0,r.peekByte)()(g)===44}),a=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(m,y,b){return(0,r.readBytes)(b.text.blockSize)(m)}},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===1}),l=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(m,y,b){return(0,r.readString)(b.blockSize)(m)}},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===254}),d=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(g,m){return Math.pow(2,m.lsd.gct.size+1)})},function(g,m){return m.lsd.gct.exists}),{frames:(0,e.loop)([s,l,c,o,a],function(g){var m=(0,r.peekByte)()(g);return m===33||m===44})}],h=d;t.default=h})(Xz);var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.deinterlace=void 0;var Nce=function(e,r){for(var n=new Array(e.length),s=e.length/r,o=function(m,y){var b=e.slice(y*r,(y+1)*r);n.splice.apply(n,[m*r,r].concat(b))},a=[0,4,2,1],l=[8,8,4,2],c=0,d=0;d<4;d++)for(var h=a[d];h<s;h+=l[d])o(h,c),c++;return n};Xw.deinterlace=Nce;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.lzw=void 0;var Lce=function(e,r,n){var s=4096,o=-1,a=n,l,c,d,h,g,m,y,S,b,u,x,f,A,D,T,C,p=new Array(n),v=new Array(s),_=new Array(s),w=new Array(s+1);for(f=e,c=1<<f,g=c+1,l=c+2,y=o,h=f+1,d=(1<<h)-1,b=0;b<c;b++)v[b]=0,_[b]=b;var x,S,A,D,C,T;for(x=S=A=D=C=T=0,u=0;u<a;){if(D===0){if(S<h){x+=r[T]<<S,S+=8,T++;continue}if(b=x&d,x>>=h,S-=h,b>l||b==g)break;if(b==c){h=f+1,d=(1<<h)-1,l=c+2,y=o;continue}if(y==o){w[D++]=_[b],y=b,A=b;continue}for(m=b,b==l&&(w[D++]=A,b=y);b>c;)w[D++]=_[b],b=v[b];A=_[b]&255,w[D++]=A,l<s&&(v[l]=y,_[l]=A,l++,!(l&d)&&l<s&&(h++,d+=l)),y=m}D--,p[C++]=w[D],u++}for(u=C;u<a;u++)p[u]=0;return p};qw.lzw=Lce;Object.defineProperty(Mc,"__esModule",{value:!0});var Uce=Mc.decompressFrames=Mc.decompressFrame=Kce=Mc.parseGIF=void 0,$ce=Hce(Xz),jce=Va,zce=Wr,Gce=Xw,Vce=qw;function Hce(t){return t&&t.__esModule?t:{default:t}}var Wce=function(e){var r=new Uint8Array(e);return(0,jce.parse)((0,zce.buildStream)(r),$ce.default)},Kce=Mc.parseGIF=Wce,Yce=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),s=0;s<r;s++){var o=s*4,a=e.pixels[s],l=e.colorTable[a]||[0,0,0];n[o]=l[0],n[o+1]=l[1],n[o+2]=l[2],n[o+3]=a!==e.transparentIndex?255:0}return n},Zz=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var s=e.image,o=s.descriptor.width*s.descriptor.height,a=(0,Vce.lzw)(s.data.minCodeSize,s.data.blocks,o);s.descriptor.lct.interlaced&&(a=(0,Gce.deinterlace)(a,s.descriptor.width));var l={pixels:a,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return s.descriptor.lct&&s.descriptor.lct.exists?l.colorTable=s.lct:l.colorTable=r,e.gce&&(l.delay=(e.gce.delay||10)*10,l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),n&&(l.patch=Yce(l)),l};Mc.decompressFrame=Zz;var Xce=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return Zz(n,e.gct,r)})};Uce=Mc.decompressFrames=Xce;var Qz={};(function(t){var e=function(){var u=new Date,f=4,p=3,v=2,_=1,w=f,x={setLogLevel:function(S){S==this.debug?w=_:S==this.info?w=v:S==this.warn?w=p:(S==this.error,w=f)},debug:function(S,A){console.debug===void 0&&(console.debug=console.log),_>=w&&console.debug("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},log:function(S,A){this.debug(S.msg)},info:function(S,A){v>=w&&console.info("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},warn:function(S,A){p>=w&&console.warn("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},error:function(S,A){f>=w&&console.error("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)}};return x}();e.getDurationString=function(u,f){var p;function v(D,C){for(var T=""+D,R=T.split(".");R[0].length<C;)R[0]="0"+R[0];return R.join(".")}u<0?(p=!0,u=-u):p=!1;var _=f||1,w=u/_,x=Math.floor(w/3600);w-=x*3600;var S=Math.floor(w/60);w-=S*60;var A=w*1e3;return w=Math.floor(w),A-=w*1e3,A=Math.floor(A),(p?"-":"")+x+":"+v(S,2)+":"+v(w,2)+"."+v(A,3)},e.printRanges=function(u){var f=u.length;if(f>0){for(var p="",v=0;v<f;v++)v>0&&(p+=","),p+="["+e.getDurationString(u.start(v))+","+e.getDurationString(u.end(v))+"]";return p}else return"(empty)"},t.Log=e;var r=function(u){if(u instanceof ArrayBuffer)this.buffer=u,this.dataview=new DataView(u);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(u){var f=Math.max(0,Math.min(this.buffer.byteLength,u));return this.position=isNaN(f)||!isFinite(f)?0:f,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(u,f){var p=0;if(this.position+u<=this.buffer.byteLength){switch(u){case 1:f?p=this.dataview.getInt8(this.position):p=this.dataview.getUint8(this.position);break;case 2:f?p=this.dataview.getInt16(this.position):p=this.dataview.getUint16(this.position);break;case 3:if(f)throw"No method for reading signed 24 bits values";p=this.dataview.getUint8(this.position)<<16,p|=this.dataview.getUint8(this.position+1)<<8,p|=this.dataview.getUint8(this.position+2);break;case 4:f?p=this.dataview.getInt32(this.position):p=this.dataview.getUint32(this.position);break;case 8:if(f)throw"No method for reading signed 64 bits values";p=this.dataview.getUint32(this.position)<<32,p|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+u}return this.position+=u,p}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(u){if(this.position+u<=this.buffer.byteLength){for(var f="",p=0;p<u;p++)f+=String.fromCharCode(this.readUint8());return f}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var u=[];;){var f=this.readUint8();if(f!==0)u.push(f);else break}return String.fromCharCode.apply(null,u)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(u){for(var f=new Uint8Array(u),p=0;p<u;p++)f[p]=this.readUint8();return f},r.prototype.readInt16Array=function(u){for(var f=new Int16Array(u),p=0;p<u;p++)f[p]=this.readInt16();return f},r.prototype.readUint16Array=function(u){for(var f=new Int16Array(u),p=0;p<u;p++)f[p]=this.readUint16();return f},r.prototype.readUint32Array=function(u){for(var f=new Uint32Array(u),p=0;p<u;p++)f[p]=this.readUint32();return f},r.prototype.readInt32Array=function(u){for(var f=new Int32Array(u),p=0;p<u;p++)f[p]=this.readInt32();return f},t.MP4BoxStream=r;var n=function(u,f,p){this._byteOffset=f||0,u instanceof ArrayBuffer?this.buffer=u:typeof u=="object"?(this.dataView=u,f&&(this._byteOffset+=f)):this.buffer=new ArrayBuffer(u||0),this.position=0,this.endianness=p==null?n.LITTLE_ENDIAN:p};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(u){if(this._dynamicSize){var f=this._byteOffset+this.position+u,p=this._buffer.byteLength;if(f<=p){f>this._byteLength&&(this._byteLength=f);return}for(p<1&&(p=1);f>p;)p*=2;var v=new ArrayBuffer(p),_=new Uint8Array(this._buffer),w=new Uint8Array(v,0,_.length);w.set(_),this.buffer=v,this._byteLength=f}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var u=new ArrayBuffer(this._byteLength),f=new Uint8Array(u),p=new Uint8Array(this._buffer,0,f.length);f.set(p),this.buffer=u}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(u){this._buffer=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(u){this._byteOffset=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(u){this._byteOffset=u.byteOffset,this._buffer=u.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+u.byteLength}}),n.prototype.seek=function(u){var f=Math.max(0,Math.min(this.byteLength,u));this.position=isNaN(f)||!isFinite(f)?0:f},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(u){this._realloc(u*1);var f=new Uint8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,f},n.prototype.readInt32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Int32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt16Array=function(u,f){u=u==null?this.byteLength-this.position/2:u;var p=new Int16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt8Array=function(u){u=u==null?this.byteLength-this.position:u;var f=new Int8Array(u);return n.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,u*f.BYTES_PER_ELEMENT),this.position+=f.byteLength,f},n.prototype.readUint32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Uint32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readUint16Array=function(u,f){u=u==null?this.byteLength-this.position/2:u;var p=new Uint16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readUint8Array=function(u){u=u==null?this.byteLength-this.position:u;var f=new Uint8Array(u);return n.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,u*f.BYTES_PER_ELEMENT),this.position+=f.byteLength,f},n.prototype.readFloat64Array=function(u,f){u=u==null?this.byteLength-this.position/8:u;var p=new Float64Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readFloat32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Float32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt32=function(u){var f=this._dataView.getInt32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readInt16=function(u){var f=this._dataView.getInt16(this.position,u==null?this.endianness:u);return this.position+=2,f},n.prototype.readInt8=function(){var u=this._dataView.getInt8(this.position);return this.position+=1,u},n.prototype.readUint32=function(u){var f=this._dataView.getUint32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readUint16=function(u){var f=this._dataView.getUint16(this.position,u==null?this.endianness:u);return this.position+=2,f},n.prototype.readUint8=function(){var u=this._dataView.getUint8(this.position);return this.position+=1,u},n.prototype.readFloat32=function(u){var f=this._dataView.getFloat32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readFloat64=function(u){var f=this._dataView.getFloat64(this.position,u==null?this.endianness:u);return this.position+=8,f},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(u,f,p,v,_){var w=new Uint8Array(u,f,_),x=new Uint8Array(p,v,_);w.set(x)},n.arrayToNative=function(u,f){return f==this.endianness?u:this.flipArrayEndianness(u)},n.nativeToEndian=function(u,f){return this.endianness==f?u:this.flipArrayEndianness(u)},n.flipArrayEndianness=function(u){for(var f=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),p=0;p<u.byteLength;p+=u.BYTES_PER_ELEMENT)for(var v=p+u.BYTES_PER_ELEMENT-1,_=p;v>_;v--,_++){var w=f[_];f[_]=f[v],f[v]=w}return u},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(u){for(var f=[],p=0;p<u.length;p++)f[p]=u[p];return String.fromCharCode.apply(null,f)},n.prototype.readString=function(u,f){return f==null||f=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(u==null?this.byteLength-this.position:u)]):new TextDecoder(f).decode(this.mapUint8Array(u))},n.prototype.readCString=function(u){var f=this.byteLength-this.position,p=new Uint8Array(this._buffer,this._byteOffset+this.position),v=f;u!=null&&(v=Math.min(u,f));for(var _=0;_<v&&p[_]!==0;_++);var w=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(_)]);return u!=null?this.position+=v-_:_!=f&&(this.position+=1),w};var s=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=n,n.prototype.save=function(u){var f=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var p=window.URL.createObjectURL(f),v=document.createElement("a");document.body.appendChild(v),v.setAttribute("href",p),v.setAttribute("download",u),v.setAttribute("target","_self"),v.click(),window.URL.revokeObjectURL(p)}else throw"DataStream.save: Can't create object URL."},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(u){u||this._trimAlloc(),this._dynamicSize=u}}),n.prototype.shift=function(u){var f=new ArrayBuffer(this._byteLength-u),p=new Uint8Array(f),v=new Uint8Array(this._buffer,u,p.length);p.set(v),this.buffer=f,this.position-=u},n.prototype.writeInt32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Int32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeInt32(u[p],f)},n.prototype.writeInt16Array=function(u,f){if(this._realloc(u.length*2),u instanceof Int16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt16Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeInt16(u[p],f)},n.prototype.writeInt8Array=function(u){if(this._realloc(u.length*1),u instanceof Int8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt8Array(u.length);else for(var f=0;f<u.length;f++)this.writeInt8(u[f])},n.prototype.writeUint32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Uint32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeUint32(u[p],f)},n.prototype.writeUint16Array=function(u,f){if(this._realloc(u.length*2),u instanceof Uint16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint16Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeUint16(u[p],f)},n.prototype.writeUint8Array=function(u){if(this._realloc(u.length*1),u instanceof Uint8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint8Array(u.length);else for(var f=0;f<u.length;f++)this.writeUint8(u[f])},n.prototype.writeFloat64Array=function(u,f){if(this._realloc(u.length*8),u instanceof Float64Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat64Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeFloat64(u[p],f)},n.prototype.writeFloat32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Float32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeFloat32(u[p],f)},n.prototype.writeInt32=function(u,f){this._realloc(4),this._dataView.setInt32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeInt16=function(u,f){this._realloc(2),this._dataView.setInt16(this.position,u,f==null?this.endianness:f),this.position+=2},n.prototype.writeInt8=function(u){this._realloc(1),this._dataView.setInt8(this.position,u),this.position+=1},n.prototype.writeUint32=function(u,f){this._realloc(4),this._dataView.setUint32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeUint16=function(u,f){this._realloc(2),this._dataView.setUint16(this.position,u,f==null?this.endianness:f),this.position+=2},n.prototype.writeUint8=function(u){this._realloc(1),this._dataView.setUint8(this.position,u),this.position+=1},n.prototype.writeFloat32=function(u,f){this._realloc(4),this._dataView.setFloat32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeFloat64=function(u,f){this._realloc(8),this._dataView.setFloat64(this.position,u,f==null?this.endianness:f),this.position+=8},n.prototype.writeUCS2String=function(u,f,p){p==null&&(p=u.length);for(var v=0;v<u.length&&v<p;v++)this.writeUint16(u.charCodeAt(v),f);for(;v<p;v++)this.writeUint16(0)},n.prototype.writeString=function(u,f,p){var v=0;if(f==null||f=="ASCII")if(p!=null){var _=Math.min(u.length,p);for(v=0;v<_;v++)this.writeUint8(u.charCodeAt(v));for(;v<p;v++)this.writeUint8(0)}else for(v=0;v<u.length;v++)this.writeUint8(u.charCodeAt(v));else this.writeUint8Array(new TextEncoder(f).encode(u.substring(0,p)))},n.prototype.writeCString=function(u,f){var p=0;if(f!=null){var v=Math.min(u.length,f);for(p=0;p<v;p++)this.writeUint8(u.charCodeAt(p));for(;p<f;p++)this.writeUint8(0)}else{for(p=0;p<u.length;p++)this.writeUint8(u.charCodeAt(p));this.writeUint8(0)}},n.prototype.writeStruct=function(u,f){for(var p=0;p<u.length;p+=2){var v=u[p+1];this.writeType(v,f[u[p]],f)}},n.prototype.writeType=function(u,f,p){var v;if(typeof u=="function")return u(this,f);if(typeof u=="object"&&!(u instanceof Array))return u.set(this,f,p);var _=null,w="ASCII",x=this.position;switch(typeof u=="string"&&/:/.test(u)&&(v=u.split(":"),u=v[0],_=parseInt(v[1])),typeof u=="string"&&/,/.test(u)&&(v=u.split(","),u=v[0],w=parseInt(v[1])),u){case"uint8":this.writeUint8(f);break;case"int8":this.writeInt8(f);break;case"uint16":this.writeUint16(f,this.endianness);break;case"int16":this.writeInt16(f,this.endianness);break;case"uint32":this.writeUint32(f,this.endianness);break;case"int32":this.writeInt32(f,this.endianness);break;case"float32":this.writeFloat32(f,this.endianness);break;case"float64":this.writeFloat64(f,this.endianness);break;case"uint16be":this.writeUint16(f,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(f,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(f,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(f,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(f,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(f,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(f,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(f,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(f,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(f,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(f,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(f,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(f,_);break;case"string":this.writeString(f,w,_);break;case"u16string":this.writeUCS2String(f,this.endianness,_);break;case"u16stringle":this.writeUCS2String(f,n.LITTLE_ENDIAN,_);break;case"u16stringbe":this.writeUCS2String(f,n.BIG_ENDIAN,_);break;default:if(u.length==3){for(var S=u[1],A=0;A<f.length;A++)this.writeType(S,f[A]);break}else{this.writeStruct(u,f);break}}_!=null&&(this.position=x,this._realloc(_),this.position=x+_)},n.prototype.writeUint64=function(u){var f=Math.floor(u/s);this.writeUint32(f),this.writeUint32(u&4294967295)},n.prototype.writeUint24=function(u){this.writeUint8((u&16711680)>>16),this.writeUint8((u&65280)>>8),this.writeUint8(u&255)},n.prototype.adjustUint32=function(u,f){var p=this.position;this.seek(u),this.writeUint32(f),this.seek(p)},n.prototype.mapInt32Array=function(u,f){this._realloc(u*4);var p=new Int32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p},n.prototype.mapInt16Array=function(u,f){this._realloc(u*2);var p=new Int16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*2,p},n.prototype.mapInt8Array=function(u){this._realloc(u*1);var f=new Int8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,f},n.prototype.mapUint32Array=function(u,f){this._realloc(u*4);var p=new Uint32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p},n.prototype.mapUint16Array=function(u,f){this._realloc(u*2);var p=new Uint16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*2,p},n.prototype.mapFloat64Array=function(u,f){this._realloc(u*8);var p=new Float64Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*8,p},n.prototype.mapFloat32Array=function(u,f){this._realloc(u*4);var p=new Float32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p};var o=function(u){this.buffers=[],this.bufferIndex=-1,u&&(this.insertBuffer(u),this.bufferIndex=0)};o.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN),o.prototype.initialized=function(){var u;return this.bufferIndex>-1?!0:this.buffers.length>0?(u=this.buffers[0],u.fileStart===0?(this.buffer=u,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(u,f){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(u.byteLength+f.byteLength));var p=new Uint8Array(u.byteLength+f.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(f),u.byteLength),p.buffer},o.prototype.reduceBuffer=function(u,f,p){var v;return v=new Uint8Array(p),v.set(new Uint8Array(u,f,p)),v.buffer.fileStart=u.fileStart+f,v.buffer.usedBytes=0,v.buffer},o.prototype.insertBuffer=function(u){for(var f=!0,p=0;p<this.buffers.length;p++){var v=this.buffers[p];if(u.fileStart<=v.fileStart){if(u.fileStart===v.fileStart)if(u.byteLength>v.byteLength){this.buffers.splice(p,1),p--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+") already appended, ignoring");else u.fileStart+u.byteLength<=v.fileStart||(u=this.reduceBuffer(u,0,v.fileStart-u.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.splice(p,0,u),p===0&&(this.buffer=u);f=!1;break}else if(u.fileStart<v.fileStart+v.byteLength){var _=v.fileStart+v.byteLength-u.fileStart,w=u.byteLength-_;if(w>0)u=this.reduceBuffer(u,_,w);else{f=!1;break}}}f&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.push(u),p===0&&(this.buffer=u))},o.prototype.logBufferLevel=function(u){var f,p,v,_,w=[],x,S="";for(v=0,_=0,f=0;f<this.buffers.length;f++)p=this.buffers[f],f===0?(x={},w.push(x),x.start=p.fileStart,x.end=p.fileStart+p.byteLength,S+="["+x.start+"-"):x.end===p.fileStart?x.end=p.fileStart+p.byteLength:(x={},x.start=p.fileStart,S+=w[w.length-1].end-1+"], ["+x.start+"-",x.end=p.fileStart+p.byteLength,w.push(x)),v+=p.usedBytes,_+=p.byteLength;w.length>0&&(S+=x.end-1+"]");var A=u?e.info:e.debug;this.buffers.length===0?A("MultiBufferStream","No more buffer in memory"):A("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+v+"/"+_+" bytes), continuous ranges: "+S)},o.prototype.cleanBuffers=function(){var u,f;for(u=0;u<this.buffers.length;u++)f=this.buffers[u],f.usedBytes===f.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+u),this.buffers.splice(u,1),u--)},o.prototype.mergeNextBuffer=function(){var u;if(this.bufferIndex+1<this.buffers.length)if(u=this.buffers[this.bufferIndex+1],u.fileStart===this.buffer.fileStart+this.buffer.byteLength){var f=this.buffer.byteLength,p=this.buffer.usedBytes,v=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,u),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=p,this.buffer.fileStart=v,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+f+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(u,f,p){var v,_=null,w=-1;for(u===!0?v=0:v=this.bufferIndex;v<this.buffers.length&&(_=this.buffers[v],_.fileStart<=f);){w=v,p&&(_.fileStart+_.byteLength<=f?_.usedBytes=_.byteLength:_.usedBytes=f-_.fileStart,this.logBufferLevel());v++}return w!==-1?(_=this.buffers[w],_.fileStart+_.byteLength>=f?(e.debug("MultiBufferStream","Found position in existing buffer #"+w),w):-1):-1},o.prototype.findEndContiguousBuf=function(u){var f,p,v,_=u!==void 0?u:this.bufferIndex;if(p=this.buffers[_],this.buffers.length>_+1)for(f=_+1;f<this.buffers.length&&(v=this.buffers[f],v.fileStart===p.fileStart+p.byteLength);f++)p=v;return p.fileStart+p.byteLength},o.prototype.getEndFilePositionAfter=function(u){var f=this.findPosition(!0,u,!1);return f!==-1?this.findEndContiguousBuf(f):u},o.prototype.addUsedBytes=function(u){this.buffer.usedBytes+=u,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(u,f,p){var v;return v=this.findPosition(f,u,p),v!==-1?(this.buffer=this.buffers[v],this.bufferIndex=v,this.position=u-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+u+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=o;var a=function(){var u=3,f=4,p=5,v=6,_=[];_[u]="ES_Descriptor",_[f]="DecoderConfigDescriptor",_[p]="DecoderSpecificInfo",_[v]="SLConfigDescriptor",this.getDescriptorName=function(S){return _[S]};var w=this,x={};return this.parseOneDescriptor=function(S){var A=0,D,C,T;for(D=S.readUint8(),T=S.readUint8();T&128;)A=(A<<7)+(T&127),T=S.readUint8();return A=(A<<7)+(T&127),e.debug("MPEG4DescriptorParser","Found "+(_[D]||"Descriptor "+D)+", size "+A+" at position "+S.getPosition()),_[D]?C=new x[_[D]](A):C=new x.Descriptor(A),C.parse(S),C},x.Descriptor=function(S,A){this.tag=S,this.size=A,this.descs=[]},x.Descriptor.prototype.parse=function(S){this.data=S.readUint8Array(this.size)},x.Descriptor.prototype.findDescriptor=function(S){for(var A=0;A<this.descs.length;A++)if(this.descs[A].tag==S)return this.descs[A];return null},x.Descriptor.prototype.parseRemainingDescriptors=function(S){for(var A=S.position;S.position<A+this.size;){var D=w.parseOneDescriptor(S);this.descs.push(D)}},x.ES_Descriptor=function(S){x.Descriptor.call(this,u,S)},x.ES_Descriptor.prototype=new x.Descriptor,x.ES_Descriptor.prototype.parse=function(S){if(this.ES_ID=S.readUint16(),this.flags=S.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=S.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var A=S.readUint8();this.URL=S.readString(A),this.size-=A+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=S.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(S)},x.ES_Descriptor.prototype.getOTI=function(S){var A=this.findDescriptor(f);return A?A.oti:0},x.ES_Descriptor.prototype.getAudioConfig=function(S){var A=this.findDescriptor(f);if(!A)return null;var D=A.findDescriptor(p);if(D&&D.data){var C=(D.data[0]&248)>>3;return C===31&&D.data.length>=2&&(C=32+((D.data[0]&7)<<3)+((D.data[1]&224)>>5)),C}else return null},x.DecoderConfigDescriptor=function(S){x.Descriptor.call(this,f,S)},x.DecoderConfigDescriptor.prototype=new x.Descriptor,x.DecoderConfigDescriptor.prototype.parse=function(S){this.oti=S.readUint8(),this.streamType=S.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=S.readUint24(),this.maxBitrate=S.readUint32(),this.avgBitrate=S.readUint32(),this.size-=13,this.parseRemainingDescriptors(S)},x.DecoderSpecificInfo=function(S){x.Descriptor.call(this,p,S)},x.DecoderSpecificInfo.prototype=new x.Descriptor,x.SLConfigDescriptor=function(S){x.Descriptor.call(this,v,S)},x.SLConfigDescriptor.prototype=new x.Descriptor,this};t.MPEG4DescriptorParser=a;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(u){l.createBoxCtor(u)}),l.FULL_BOXES.forEach(function(u){l.createFullBoxCtor(u)}),l.CONTAINER_BOXES.forEach(function(u){l.createContainerBoxCtor(u[0],null,u[1])})},Box:function(u,f,p){this.type=u,this.size=f,this.uuid=p},FullBox:function(u,f,p){l.Box.call(this,u,f,p),this.flags=0,this.version=0},ContainerBox:function(u,f,p){l.Box.call(this,u,f,p),this.boxes=[]},SampleEntry:function(u,f,p,v){l.ContainerBox.call(this,u,f),this.hdr_size=p,this.start=v},SampleGroupEntry:function(u){this.grouping_type=u},TrackGroupTypeBox:function(u,f){l.FullBox.call(this,u,f)},createBoxCtor:function(u,f){l.boxCodes.push(u),l[u+"Box"]=function(p){l.Box.call(this,u,p)},l[u+"Box"].prototype=new l.Box,f&&(l[u+"Box"].prototype.parse=f)},createFullBoxCtor:function(u,f){l[u+"Box"]=function(p){l.FullBox.call(this,u,p)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(p){this.parseFullHeader(p),f&&f.call(this,p)}},addSubBoxArrays:function(u){if(u){this.subBoxNames=u;for(var f=u.length,p=0;p<f;p++)this[u[p]+"s"]=[]}},createContainerBoxCtor:function(u,f,p){l[u+"Box"]=function(v){l.ContainerBox.call(this,u,v),l.addSubBoxArrays.call(this,p)},l[u+"Box"].prototype=new l.ContainerBox,f&&(l[u+"Box"].prototype.parse=f)},createMediaSampleEntryCtor:function(u,f,p){l.sampleEntryCodes[u]=[],l[u+"SampleEntry"]=function(v,_){l.SampleEntry.call(this,v,_),l.addSubBoxArrays.call(this,p)},l[u+"SampleEntry"].prototype=new l.SampleEntry,f&&(l[u+"SampleEntry"].prototype.parse=f)},createSampleEntryCtor:function(u,f,p,v){l.sampleEntryCodes[u].push(f),l[f+"SampleEntry"]=function(_){l[u+"SampleEntry"].call(this,f,_),l.addSubBoxArrays.call(this,v)},l[f+"SampleEntry"].prototype=new l[u+"SampleEntry"],p&&(l[f+"SampleEntry"].prototype.parse=p)},createEncryptedSampleEntryCtor:function(u,f,p){l.createSampleEntryCtor.call(this,u,f,p,["sinf"])},createSampleGroupCtor:function(u,f){l[u+"SampleGroupEntry"]=function(p){l.SampleGroupEntry.call(this,u,p)},l[u+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,f&&(l[u+"SampleGroupEntry"].prototype.parse=f)},createTrackGroupCtor:function(u,f){l[u+"TrackGroupTypeBox"]=function(p){l.TrackGroupTypeBox.call(this,u,p)},l[u+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,f&&(l[u+"TrackGroupTypeBox"].prototype.parse=f)},createUUIDBox:function(u,f,p,v){l.UUIDs.push(u),l.UUIDBoxes[u]=function(_){f?l.FullBox.call(this,"uuid",_,u):p?l.ContainerBox.call(this,"uuid",_,u):l.Box.call(this,"uuid",_,u)},l.UUIDBoxes[u].prototype=f?new l.FullBox:p?new l.ContainerBox:new l.Box,v&&(f?l.UUIDBoxes[u].prototype.parse=function(_){this.parseFullHeader(_),v&&v.call(this,_)}:l.UUIDBoxes[u].prototype.parse=v)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(u){return this.addBox(new l[u+"Box"])},l.Box.prototype.addBox=function(u){return this.boxes.push(u),this[u.type+"s"]?this[u.type+"s"].push(u):this[u.type]=u,u},l.Box.prototype.set=function(u,f){return this[u]=f,this},l.Box.prototype.addEntry=function(u,f){var p=f||"entries";return this[p]||(this[p]=[]),this[p].push(u),this},t.BoxParser=l,l.parseUUID=function(u){return l.parseHex16(u)},l.parseHex16=function(u){for(var f="",p=0;p<16;p++){var v=u.readUint8().toString(16);f+=v.length===1?"0"+v:v}return f},l.parseOneBox=function(u,f,p){var v,_=u.getPosition(),w=0,x,S;if(u.getEndPosition()-_<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(p&&p<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var A=u.readUint32(),D=u.readString(4),C=D;if(e.debug("BoxParser","Found box of type '"+D+"' and size "+A+" at position "+_),w=8,D=="uuid"){if(u.getEndPosition()-u.getPosition()<16||p-w<16)return u.seek(_),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};S=l.parseUUID(u),w+=16,C=S}if(A==1){if(u.getEndPosition()-u.getPosition()<8||p&&p-w<8)return u.seek(_),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+D+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};A=u.readUint64(),w+=8}else if(A===0){if(p)A=p;else if(D!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+D+"'"),v=new l.Box(D,A),{code:l.OK,box:v,size:v.size}}return A!==0&&A<w?(e.error("BoxParser","Box of type "+D+" has an invalid size "+A+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:_}):A!==0&&p&&A>p?(e.error("BoxParser","Box of type '"+D+"' has a size "+A+" greater than its container size "+p),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:_}):A!==0&&_+A>u.getEndPosition()?(u.seek(_),e.info("BoxParser","Not enough data in stream to parse the entire '"+D+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:_}):f?{code:l.OK,type:D,size:A,hdr_size:w,start:_}:(l[D+"Box"]?v=new l[D+"Box"](A):D!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+D+"'"),v=new l.Box(D,A),v.has_unparsed_data=!0):l.UUIDBoxes[S]?v=new l.UUIDBoxes[S](A):(e.warn("BoxParser","Unknown uuid type: '"+S+"'"),v=new l.Box(D,A),v.uuid=S,v.has_unparsed_data=!0),v.hdr_size=w,v.start=_,v.write===l.Box.prototype.write&&v.type!=="mdat"&&(e.info("BoxParser","'"+C+"' box writing not yet implemented, keeping unparsed data in memory for later write"),v.parseDataAndRewind(u)),v.parse(u),x=u.getPosition()-(v.start+v.size),x<0?(e.warn("BoxParser","Parsing of box '"+C+"' did not read the entire indicated box data size (missing "+-x+" bytes), seeking forward"),u.seek(v.start+v.size)):x>0&&(e.error("BoxParser","Parsing of box '"+C+"' read "+x+" more bytes than the indicated box data size, seeking backwards"),v.size!==0&&u.seek(v.start+v.size)),{code:l.OK,box:v,size:v.size})},l.Box.prototype.parse=function(u){this.type!="mdat"?this.data=u.readUint8Array(this.size-this.hdr_size):this.size===0?u.seek(u.getEndPosition()):u.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(u){this.data=u.readUint8Array(this.size-this.hdr_size),u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(u){this.version=u.readUint8(),this.flags=u.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(u){for(var f,p;u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)if(p=f.box,this.boxes.push(p),this.subBoxNames&&this.subBoxNames.indexOf(p.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(p.type)]+"s"].push(p);else{var v=p.type!=="uuid"?p.type:p.uuid;this[v]?e.warn("Box of type "+v+" already stored in field of this type"):this[v]=p}else return},l.Box.prototype.parseLanguage=function(u){this.language=u.readUint16();var f=[];f[0]=this.language>>10&31,f[1]=this.language>>5&31,f[2]=this.language&31,this.languageString=String.fromCharCode(f[0]+96,f[1]+96,f[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(u){u.readUint8Array(6),this.data_reference_index=u.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,u.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(u){l.ContainerBox.prototype.parse.call(this,u)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(u){var f;this.parseHeader(u),u.readUint16(),u.readUint16(),u.readUint32Array(3),this.width=u.readUint16(),this.height=u.readUint16(),this.horizresolution=u.readUint32(),this.vertresolution=u.readUint32(),u.readUint32(),this.frame_count=u.readUint16(),f=Math.min(31,u.readUint8()),this.compressorname=u.readString(f),f<31&&u.readString(31-f),this.depth=u.readUint16(),u.readUint16(),this.parseFooter(u)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(u){this.parseHeader(u),u.readUint32Array(2),this.channel_count=u.readUint16(),this.samplesize=u.readUint16(),u.readUint16(),u.readUint16(),this.samplerate=u.readUint32()/65536,this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx",function(u){var f=u.readUint8()&1,p=((f&1)+1)*16;this.layer_size=[];for(var v=0;v<3;v++)p==16?this.layer_size[v]=u.readUint16():this.layer_size[v]=u.readUint32()}),l.createBoxCtor("a1op",function(u){this.op_index=u.readUint8()}),l.createFullBoxCtor("auxC",function(u){this.aux_type=u.readCString();var f=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=u.readUint8Array(f)}),l.createBoxCtor("av1C",function(u){var f=u.readUint8();if(f>>7&!1){e.error("av1C marker problem");return}if(this.version=f&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(f=u.readUint8(),this.seq_profile=f>>5&7,this.seq_level_idx_0=f&31,f=u.readUint8(),this.seq_tier_0=f>>7&1,this.high_bitdepth=f>>6&1,this.twelve_bit=f>>5&1,this.monochrome=f>>4&1,this.chroma_subsampling_x=f>>3&1,this.chroma_subsampling_y=f>>2&1,this.chroma_sample_position=f&3,f=u.readUint8(),this.reserved_1=f>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=f>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=f&15;else if(this.reserved_2=f&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var p=this.size-this.hdr_size-4;this.configOBUs=u.readUint8Array(p)}),l.createBoxCtor("avcC",function(u){var f,p;for(this.configurationVersion=u.readUint8(),this.AVCProfileIndication=u.readUint8(),this.profile_compatibility=u.readUint8(),this.AVCLevelIndication=u.readUint8(),this.lengthSizeMinusOne=u.readUint8()&3,this.nb_SPS_nalus=u.readUint8()&31,p=this.size-this.hdr_size-6,this.SPS=[],f=0;f<this.nb_SPS_nalus;f++)this.SPS[f]={},this.SPS[f].length=u.readUint16(),this.SPS[f].nalu=u.readUint8Array(this.SPS[f].length),p-=2+this.SPS[f].length;for(this.nb_PPS_nalus=u.readUint8(),p--,this.PPS=[],f=0;f<this.nb_PPS_nalus;f++)this.PPS[f]={},this.PPS[f].length=u.readUint16(),this.PPS[f].nalu=u.readUint8Array(this.PPS[f].length),p-=2+this.PPS[f].length;p>0&&(this.ext=u.readUint8Array(p))}),l.createBoxCtor("btrt",function(u){this.bufferSizeDB=u.readUint32(),this.maxBitrate=u.readUint32(),this.avgBitrate=u.readUint32()}),l.createFullBoxCtor("ccst",function(u){var f=u.readUint8();this.all_ref_pics_intra=(f&128)==128,this.intra_pred_used=(f&64)==64,this.max_ref_per_pic=(f&63)>>2,u.readUint24()}),l.createBoxCtor("cdef",function(u){var f;for(this.channel_count=u.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],f=0;f<this.channel_count;f++)this.channel_indexes.push(u.readUint16()),this.channel_types.push(u.readUint16()),this.channel_associations.push(u.readUint16())}),l.createBoxCtor("clap",function(u){this.cleanApertureWidthN=u.readUint32(),this.cleanApertureWidthD=u.readUint32(),this.cleanApertureHeightN=u.readUint32(),this.cleanApertureHeightD=u.readUint32(),this.horizOffN=u.readUint32(),this.horizOffD=u.readUint32(),this.vertOffN=u.readUint32(),this.vertOffD=u.readUint32()}),l.createBoxCtor("clli",function(u){this.max_content_light_level=u.readUint16(),this.max_pic_average_light_level=u.readUint16()}),l.createFullBoxCtor("cmex",function(u){this.flags&1&&(this.pos_x=u.readInt32()),this.flags&2&&(this.pos_y=u.readInt32()),this.flags&4&&(this.pos_z=u.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=u.readInt32(),this.quat_y=u.readInt32(),this.quat_z=u.readInt32()):(this.quat_x=u.readInt16(),this.quat_y=u.readInt16(),this.quat_z=u.readInt16()):this.version==1),this.flags&32&&(this.id=u.readUint32())}),l.createFullBoxCtor("cmin",function(u){this.focal_length_x=u.readInt32(),this.principal_point_x=u.readInt32(),this.principal_point_y=u.readInt32(),this.flags&1&&(this.focal_length_y=u.readInt32(),this.skew_factor=u.readInt32())}),l.createBoxCtor("cmpd",function(u){for(this.component_count=u.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var f=u.readUint16();this.component_types.push(f),f>=32768&&this.component_type_urls.push(u.readCString())}}),l.createFullBoxCtor("co64",function(u){var f,p;if(f=u.readUint32(),this.chunk_offsets=[],this.version===0)for(p=0;p<f;p++)this.chunk_offsets.push(u.readUint64())}),l.createFullBoxCtor("CoLL",function(u){this.maxCLL=u.readUint16(),this.maxFALL=u.readUint16()}),l.createBoxCtor("colr",function(u){if(this.colour_type=u.readString(4),this.colour_type==="nclx"){this.colour_primaries=u.readUint16(),this.transfer_characteristics=u.readUint16(),this.matrix_coefficients=u.readUint16();var f=u.readUint8();this.full_range_flag=f>>7}else this.colour_type==="rICC"?this.ICC_profile=u.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=u.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt",function(u){this.parseLanguage(u),this.notice=u.readCString()}),l.createFullBoxCtor("cslg",function(u){this.version===0&&(this.compositionToDTSShift=u.readInt32(),this.leastDecodeToDisplayDelta=u.readInt32(),this.greatestDecodeToDisplayDelta=u.readInt32(),this.compositionStartTime=u.readInt32(),this.compositionEndTime=u.readInt32())}),l.createFullBoxCtor("ctts",function(u){var f,p;if(f=u.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(p=0;p<f;p++){this.sample_counts.push(u.readUint32());var v=u.readInt32();v<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(v)}else if(this.version==1)for(p=0;p<f;p++)this.sample_counts.push(u.readUint32()),this.sample_offsets.push(u.readInt32())}),l.createBoxCtor("dac3",function(u){var f=u.readUint8(),p=u.readUint8(),v=u.readUint8();this.fscod=f>>6,this.bsid=f>>1&31,this.bsmod=(f&1)<<2|p>>6&3,this.acmod=p>>3&7,this.lfeon=p>>2&1,this.bit_rate_code=p&3|v>>5&7}),l.createBoxCtor("dec3",function(u){var f=u.readUint16();this.data_rate=f>>3,this.num_ind_sub=f&7,this.ind_subs=[];for(var p=0;p<this.num_ind_sub+1;p++){var v={};this.ind_subs.push(v);var _=u.readUint8(),w=u.readUint8(),x=u.readUint8();v.fscod=_>>6,v.bsid=_>>1&31,v.bsmod=(_&1)<<4|w>>4&15,v.acmod=w>>1&7,v.lfeon=w&1,v.num_dep_sub=x>>1&15,v.num_dep_sub>0&&(v.chan_loc=(x&1)<<8|u.readUint8())}}),l.createFullBoxCtor("dfLa",function(u){var f=127,p=128,v=[],_=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var w=u.readUint8(),x=Math.min(w&f,_.length-1);if(x?u.readUint8Array(u.readUint24()):(u.readUint8Array(13),this.samplerate=u.readUint32()>>12,u.readUint8Array(20)),v.push(_[x]),w&p)break}while(!0);this.numMetadataBlocks=v.length+" ("+v.join(", ")+")"}),l.createBoxCtor("dimm",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dmax",function(u){this.time=u.readUint32()}),l.createBoxCtor("dmed",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dOps",function(u){if(this.Version=u.readUint8(),this.OutputChannelCount=u.readUint8(),this.PreSkip=u.readUint16(),this.InputSampleRate=u.readUint32(),this.OutputGain=u.readInt16(),this.ChannelMappingFamily=u.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=u.readUint8(),this.CoupledCount=u.readUint8(),this.ChannelMapping=[];for(var f=0;f<this.OutputChannelCount;f++)this.ChannelMapping[f]=u.readUint8()}}),l.createFullBoxCtor("dref",function(u){var f,p;this.entries=[];for(var v=u.readUint32(),_=0;_<v;_++)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)p=f.box,this.entries.push(p);else return}),l.createBoxCtor("drep",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("elng",function(u){this.extended_language=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst",function(u){this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.entries.push(v),this.version===1?(v.segment_duration=u.readUint64(),v.media_time=u.readInt64()):(v.segment_duration=u.readUint32(),v.media_time=u.readInt32()),v.media_rate_integer=u.readInt16(),v.media_rate_fraction=u.readInt16()}}),l.createFullBoxCtor("emsg",function(u){this.version==1?(this.timescale=u.readUint32(),this.presentation_time=u.readUint64(),this.event_duration=u.readUint32(),this.id=u.readUint32(),this.scheme_id_uri=u.readCString(),this.value=u.readCString()):(this.scheme_id_uri=u.readCString(),this.value=u.readCString(),this.timescale=u.readUint32(),this.presentation_time_delta=u.readUint32(),this.event_duration=u.readUint32(),this.id=u.readUint32());var f=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(f-=4),this.message_data=u.readUint8Array(f)}),l.createEntityToGroupCtor=function(u,f){l[u+"Box"]=function(p){l.FullBox.call(this,u,p)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(p){if(this.parseFullHeader(p),f)f.call(this,p);else for(this.group_id=p.readUint32(),this.num_entities_in_group=p.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var v=p.readUint32();this.entity_ids.push(v)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",function(u){this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[];for(var f=0;f<this.num_entities_in_group;f++){var p=u.readUint32();this.entity_ids.push(p)}for(this.tile_size_x=u.readUint16(),this.tile_size_y=u.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],f=0;f<this.num_entities_in_group;f++)this.layer_binning[f]=u.readUint16(),this.tiles_in_layer_row_minus1[f]=u.readUint16(),this.tiles_in_layer_column_minus1[f]=u.readUint16()}),l.createFullBoxCtor("esds",function(u){var f=u.readUint8Array(this.size-this.hdr_size);if(typeof a<"u"){var p=new a;this.esd=p.parseOneDescriptor(new n(f.buffer,0,n.BIG_ENDIAN))}}),l.createBoxCtor("fiel",function(u){this.fieldCount=u.readUint8(),this.fieldOrdering=u.readUint8()}),l.createBoxCtor("frma",function(u){this.data_format=u.readString(4)}),l.createBoxCtor("ftyp",function(u){var f=this.size-this.hdr_size;this.major_brand=u.readString(4),this.minor_version=u.readUint32(),f-=8,this.compatible_brands=[];for(var p=0;f>=4;)this.compatible_brands[p]=u.readString(4),f-=4,p++}),l.createFullBoxCtor("hdlr",function(u){this.version===0&&(u.readUint32(),this.handler=u.readString(4),u.readUint32Array(3),this.name=u.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC",function(u){var f,p,v,_;this.configurationVersion=u.readUint8(),_=u.readUint8(),this.general_profile_space=_>>6,this.general_tier_flag=(_&32)>>5,this.general_profile_idc=_&31,this.general_profile_compatibility=u.readUint32(),this.general_constraint_indicator=u.readUint8Array(6),this.general_level_idc=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,this.chroma_format_idc=u.readUint8()&3,this.bit_depth_luma_minus8=u.readUint8()&7,this.bit_depth_chroma_minus8=u.readUint8()&7,this.avgFrameRate=u.readUint16(),_=u.readUint8(),this.constantFrameRate=_>>6,this.numTemporalLayers=(_&13)>>3,this.temporalIdNested=(_&4)>>2,this.lengthSizeMinusOne=_&3,this.nalu_arrays=[];var w=u.readUint8();for(f=0;f<w;f++){var x=[];this.nalu_arrays.push(x),_=u.readUint8(),x.completeness=(_&128)>>7,x.nalu_type=_&63;var S=u.readUint16();for(p=0;p<S;p++){var A={};x.push(A),v=u.readUint16(),A.data=u.readUint8Array(v)}}}),l.createFullBoxCtor("iinf",function(u){var f;this.version===0?this.entry_count=u.readUint16():this.entry_count=u.readUint32(),this.item_infos=[];for(var p=0;p<this.entry_count;p++)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)f.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+f.box.type),this.item_infos[p]=f.box;else return}),l.createFullBoxCtor("iloc",function(u){var f;f=u.readUint8(),this.offset_size=f>>4&15,this.length_size=f&15,f=u.readUint8(),this.base_offset_size=f>>4&15,this.version===1||this.version===2?this.index_size=f&15:this.index_size=0,this.items=[];var p=0;if(this.version<2)p=u.readUint16();else if(this.version===2)p=u.readUint32();else throw"version of iloc box not supported";for(var v=0;v<p;v++){var _={};if(this.items.push(_),this.version<2)_.item_ID=u.readUint16();else if(this.version===2)_.item_ID=u.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?_.construction_method=u.readUint16()&15:_.construction_method=0,_.data_reference_index=u.readUint16(),this.base_offset_size){case 0:_.base_offset=0;break;case 4:_.base_offset=u.readUint32();break;case 8:_.base_offset=u.readUint64();break;default:throw"Error reading base offset size"}var w=u.readUint16();_.extents=[];for(var x=0;x<w;x++){var S={};if(_.extents.push(S),this.version===1||this.version===2)switch(this.index_size){case 0:S.extent_index=0;break;case 4:S.extent_index=u.readUint32();break;case 8:S.extent_index=u.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:S.extent_offset=0;break;case 4:S.extent_offset=u.readUint32();break;case 8:S.extent_offset=u.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:S.extent_length=0;break;case 4:S.extent_length=u.readUint32();break;case 8:S.extent_length=u.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir",function(u){var f=u.readUint8();this.reserved=f>>7,this.axis=f&1}),l.createFullBoxCtor("infe",function(u){if((this.version===0||this.version===1)&&(this.item_ID=u.readUint16(),this.item_protection_index=u.readUint16(),this.item_name=u.readCString(),this.content_type=u.readCString(),this.content_encoding=u.readCString()),this.version===1){this.extension_type=u.readString(4),e.warn("BoxParser","Cannot parse extension type"),u.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=u.readUint16():this.version===3&&(this.item_ID=u.readUint32()),this.item_protection_index=u.readUint16(),this.item_type=u.readString(4),this.item_name=u.readCString(),this.item_type==="mime"?(this.content_type=u.readCString(),this.content_encoding=u.readCString()):this.item_type==="uri "&&(this.item_uri_type=u.readCString()))}),l.createFullBoxCtor("ipma",function(u){var f,p;for(entry_count=u.readUint32(),this.associations=[],f=0;f<entry_count;f++){var v={};this.associations.push(v),this.version<1?v.id=u.readUint16():v.id=u.readUint32();var _=u.readUint8();for(v.props=[],p=0;p<_;p++){var w=u.readUint8(),x={};v.props.push(x),x.essential=(w&128)>>7===1,this.flags&1?x.property_index=(w&127)<<8|u.readUint8():x.property_index=w&127}}}),l.createFullBoxCtor("iref",function(u){var f,p;for(this.references=[];u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),f.code===l.OK)this.version===0?p=new l.SingleItemTypeReferenceBox(f.type,f.size,f.hdr_size,f.start):p=new l.SingleItemTypeReferenceBoxLarge(f.type,f.size,f.hdr_size,f.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.warn("BoxParser",p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.references.push(p);else return}),l.createBoxCtor("irot",function(u){this.angle=u.readUint8()&3}),l.createFullBoxCtor("ispe",function(u){this.image_width=u.readUint32(),this.image_height=u.readUint32()}),l.createFullBoxCtor("kind",function(u){this.schemeURI=u.readCString(),this.value=u.readCString()}),l.createFullBoxCtor("leva",function(u){var f=u.readUint8();this.levels=[];for(var p=0;p<f;p++){var v={};this.levels[p]=v,v.track_ID=u.readUint32();var _=u.readUint8();switch(v.padding_flag=_>>7,v.assignment_type=_&127,v.assignment_type){case 0:v.grouping_type=u.readString(4);break;case 1:v.grouping_type=u.readString(4),v.grouping_type_parameter=u.readUint32();break;case 2:break;case 3:break;case 4:v.sub_track_id=u.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lhvC",function(u){var f,p,v;this.configurationVersion=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,v=u.readUint8(),this.numTemporalLayers=(v&13)>>3,this.temporalIdNested=(v&4)>>2,this.lengthSizeMinusOne=v&3,this.nalu_arrays=[];var _=u.readUint8();for(f=0;f<_;f++){var w=[];this.nalu_arrays.push(w),v=u.readUint8(),w.completeness=(v&128)>>7,w.nalu_type=v&63;var x=u.readUint16();for(p=0;p<x;p++){var S={};w.push(S);var A=u.readUint16();S.data=u.readUint8Array(A)}}}),l.createBoxCtor("lsel",function(u){this.layer_id=u.readUint16()}),l.createBoxCtor("maxr",function(u){this.period=u.readUint32(),this.bytes=u.readUint32()});function c(u,f){this.x=u,this.y=f}c.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv",function(u){this.display_primaries=[],this.display_primaries[0]=new c(u.readUint16(),u.readUint16()),this.display_primaries[1]=new c(u.readUint16(),u.readUint16()),this.display_primaries[2]=new c(u.readUint16(),u.readUint16()),this.white_point=new c(u.readUint16(),u.readUint16()),this.max_display_mastering_luminance=u.readUint32(),this.min_display_mastering_luminance=u.readUint32()}),l.createFullBoxCtor("mdhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.parseLanguage(u),u.readUint16()}),l.createFullBoxCtor("mehd",function(u){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=u.readUint64():this.fragment_duration=u.readUint32()}),l.createFullBoxCtor("meta",function(u){this.boxes=[],l.ContainerBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("mfhd",function(u){this.sequence_number=u.readUint32()}),l.createFullBoxCtor("mfro",function(u){this._size=u.readUint32()}),l.createFullBoxCtor("mskC",function(u){this.bits_per_pixel=u.readUint8()}),l.createFullBoxCtor("mvhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.rate=u.readUint32(),this.volume=u.readUint16()>>8,u.readUint16(),u.readUint32Array(2),this.matrix=u.readUint32Array(9),u.readUint32Array(6),this.next_track_id=u.readUint32()}),l.createBoxCtor("npck",function(u){this.packetssent=u.readUint32()}),l.createBoxCtor("nump",function(u){this.packetssent=u.readUint64()}),l.createFullBoxCtor("padb",function(u){var f=u.readUint32();this.padbits=[];for(var p=0;p<Math.floor((f+1)/2);p++)this.padbits=u.readUint8()}),l.createBoxCtor("pasp",function(u){this.hSpacing=u.readUint32(),this.vSpacing=u.readUint32()}),l.createBoxCtor("payl",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt",function(u){this.payloadID=u.readUint32();var f=u.readUint8();this.rtpmap_string=u.readString(f)}),l.createFullBoxCtor("pdin",function(u){var f=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var p=0;p<f;p++)this.rate[p]=u.readUint32(),this.initial_delay[p]=u.readUint32()}),l.createFullBoxCtor("pitm",function(u){this.version===0?this.item_id=u.readUint16():this.item_id=u.readUint32()}),l.createFullBoxCtor("pixi",function(u){var f;for(this.num_channels=u.readUint8(),this.bits_per_channels=[],f=0;f<this.num_channels;f++)this.bits_per_channels[f]=u.readUint8()}),l.createBoxCtor("pmax",function(u){this.bytes=u.readUint32()}),l.createFullBoxCtor("prdi",function(u){if(this.step_count=u.readUint16(),this.item_count=[],this.flags&2)for(var f=0;f<this.step_count;f++)this.item_count[f]=u.readUint16()}),l.createFullBoxCtor("prft",function(u){this.ref_track_id=u.readUint32(),this.ntp_timestamp=u.readUint64(),this.version===0?this.media_time=u.readUint32():this.media_time=u.readUint64()}),l.createFullBoxCtor("pssh",function(u){if(this.system_id=l.parseHex16(u),this.version>0){var f=u.readUint32();this.kid=[];for(var p=0;p<f;p++)this.kid[p]=l.parseHex16(u)}var v=u.readUint32();v>0&&(this.data=u.readUint8Array(v))}),l.createFullBoxCtor("clef",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("enof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("prof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),l.createBoxCtor("rtp ",function(u){this.descriptionformat=u.readString(4),this.sdptext=u.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio",function(u){this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32());var f=u.readUint32();this.offset=[];for(var p=0;p<f;p++)this.version===0?this.offset[p]=u.readUint32():this.offset[p]=u.readUint64()}),l.createFullBoxCtor("saiz",function(u){if(this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32()),this.default_sample_info_size=u.readUint8(),this.sample_count=u.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var f=0;f<this.sample_count;f++)this.sample_info_size[f]=u.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(u){this.parseHeader(u),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.auxiliary_mime_types=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(u){this.parseHeader(u),this.displayFlags=u.readUint32(),this.horizontal_justification=u.readInt8(),this.vertical_justification=u.readInt8(),this.bg_color_rgba=u.readUint8Array(4),this.box_record=u.readInt16Array(4),this.style_record=u.readUint8Array(12),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(u){this.parseHeader(u),this.parseFooter(u)}),l.createSampleGroupCtor("alst",function(u){var f,p=u.readUint16();for(this.first_output_sample=u.readUint16(),this.sample_offset=[],f=0;f<p;f++)this.sample_offset[f]=u.readUint32();var v=this.description_length-4-4*p;for(this.num_output_samples=[],this.num_total_samples=[],f=0;f<v/4;f++)this.num_output_samples[f]=u.readUint16(),this.num_total_samples[f]=u.readUint16()}),l.createSampleGroupCtor("avll",function(u){this.layerNumber=u.readUint8(),this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()}),l.createSampleGroupCtor("avss",function(u){this.subSequenceIdentifier=u.readUint16(),this.layerNumber=u.readUint8();var f=u.readUint8();this.durationFlag=f>>7,this.avgRateFlag=f>>6&1,this.durationFlag&&(this.duration=u.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()),this.dependency=[];for(var p=u.readUint8(),v=0;v<p;v++){var _={};this.dependency.push(_),_.subSeqDirectionFlag=u.readUint8(),_.layerNumber=u.readUint8(),_.subSequenceIdentifier=u.readUint16()}}),l.createSampleGroupCtor("dtrt",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(u){this.roll_distance=u.readInt16()}),l.createSampleGroupCtor("rap ",function(u){var f=u.readUint8();this.num_leading_samples_known=f>>7,this.num_leading_samples=f&127}),l.createSampleGroupCtor("rash",function(u){if(this.operation_point_count=u.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=u.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=u.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var f=0;f<this.operation_point_count;f++)this.available_bitrate[f]=u.readUint32(),this.target_rate_share[f]=u.readUint16()}this.maximum_bitrate=u.readUint32(),this.minimum_bitrate=u.readUint32(),this.discard_priority=u.readUint8()}}),l.createSampleGroupCtor("roll",function(u){this.roll_distance=u.readInt16()}),l.SampleGroupEntry.prototype.parse=function(u){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=u.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(u){this.reserved=u.readUint8();var f=u.readUint8();this.crypt_byte_block=f>>4,this.skip_byte_block=f&15,this.isProtected=u.readUint8(),this.Per_Sample_IV_Size=u.readUint8(),this.KID=l.parseHex16(u),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=u.readUint8(),this.constant_IV=u.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(u){var f=u.readUint8();this.NAL_unit_type=f&63}),l.createSampleGroupCtor("tele",function(u){var f=u.readUint8();this.level_independently_decodable=f>>7}),l.createSampleGroupCtor("tsas",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp",function(u){this.grouping_type=u.readString(4),this.version===1?this.grouping_type_parameter=u.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.entries.push(v),v.sample_count=u.readInt32(),v.group_description_index=u.readInt32()}});function d(u,f){this.bad_pixel_row=u,this.bad_pixel_column=f}d.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm",function(u){var f;for(this.component_count=u.readUint16(),this.component_index=[],f=0;f<this.component_count;f++)this.component_index.push(u.readUint16());var p=u.readUint8();for(this.correction_applied=(p&128)==128,this.num_bad_rows=u.readUint32(),this.num_bad_cols=u.readUint32(),this.num_bad_pixels=u.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],f=0;f<this.num_bad_rows;f++)this.bad_rows.push(u.readUint32());for(f=0;f<this.num_bad_cols;f++)this.bad_columns.push(u.readUint32());for(f=0;f<this.num_bad_pixels;f++){var v=u.readUint32(),_=u.readUint32();this.bad_pixels.push(new d(v,_))}}),l.createFullBoxCtor("schm",function(u){this.scheme_type=u.readString(4),this.scheme_version=u.readUint32(),this.flags&1&&(this.scheme_uri=u.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ",function(u){this.sdptext=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp",function(u){var f,p=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var v=0;v<p;v++)f=u.readUint8(),this.is_leading[v]=f>>6,this.sample_depends_on[v]=f>>4&3,this.sample_is_depended_on[v]=f>>2&3,this.sample_has_redundancy[v]=f&3}),l.createFullBoxCtor("senc"),l.createFullBoxCtor("sgpd",function(u){this.grouping_type=u.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=u.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=u.readUint32()),this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v;l[this.grouping_type+"SampleGroupEntry"]?v=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):v=new l.SampleGroupEntry(this.grouping_type),this.entries.push(v),this.version===1?this.default_length===0?v.description_length=u.readUint32():v.description_length=this.default_length:v.description_length=this.default_length,v.write===l.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),v.data=u.readUint8Array(v.description_length),u.position-=v.description_length),v.parse(u)}}),l.createFullBoxCtor("sidx",function(u){this.reference_ID=u.readUint32(),this.timescale=u.readUint32(),this.version===0?(this.earliest_presentation_time=u.readUint32(),this.first_offset=u.readUint32()):(this.earliest_presentation_time=u.readUint64(),this.first_offset=u.readUint64()),u.readUint16(),this.references=[];for(var f=u.readUint16(),p=0;p<f;p++){var v={};this.references.push(v);var _=u.readUint32();v.reference_type=_>>31&1,v.referenced_size=_&2147483647,v.subsegment_duration=u.readUint32(),_=u.readUint32(),v.starts_with_SAP=_>>31&1,v.SAP_type=_>>28&7,v.SAP_delta_time=_&268435455}}),l.SingleItemTypeReferenceBox=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(u){this.from_item_ID=u.readUint16();var f=u.readUint16();this.references=[];for(var p=0;p<f;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(u){this.from_item_ID=u.readUint32();var f=u.readUint16();this.references=[];for(var p=0;p<f;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint32()},l.createFullBoxCtor("SmDm",function(u){this.primaryRChromaticity_x=u.readUint16(),this.primaryRChromaticity_y=u.readUint16(),this.primaryGChromaticity_x=u.readUint16(),this.primaryGChromaticity_y=u.readUint16(),this.primaryBChromaticity_x=u.readUint16(),this.primaryBChromaticity_y=u.readUint16(),this.whitePointChromaticity_x=u.readUint16(),this.whitePointChromaticity_y=u.readUint16(),this.luminanceMax=u.readUint32(),this.luminanceMin=u.readUint32()}),l.createFullBoxCtor("smhd",function(u){this.balance=u.readUint16(),u.readUint16()}),l.createFullBoxCtor("ssix",function(u){this.subsegments=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.subsegments.push(v),v.ranges=[];for(var _=u.readUint32(),w=0;w<_;w++){var x={};v.ranges.push(x),x.level=u.readUint8(),x.range_size=u.readUint24()}}}),l.createFullBoxCtor("stco",function(u){var f;if(f=u.readUint32(),this.chunk_offsets=[],this.version===0)for(var p=0;p<f;p++)this.chunk_offsets.push(u.readUint32())}),l.createFullBoxCtor("stdp",function(u){var f=(this.size-this.hdr_size)/2;this.priority=[];for(var p=0;p<f;p++)this.priority[p]=u.readUint16()}),l.createFullBoxCtor("sthd"),l.createFullBoxCtor("stri",function(u){this.switch_group=u.readUint16(),this.alternate_group=u.readUint16(),this.sub_track_id=u.readUint32();var f=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var p=0;p<f;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("stsc",function(u){var f,p;if(f=u.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(p=0;p<f;p++)this.first_chunk.push(u.readUint32()),this.samples_per_chunk.push(u.readUint32()),this.sample_description_index.push(u.readUint32())}),l.createFullBoxCtor("stsd",function(u){var f,p,v,_;for(this.entries=[],v=u.readUint32(),f=1;f<=v;f++)if(p=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),p.code===l.OK)l[p.type+"SampleEntry"]?(_=new l[p.type+"SampleEntry"](p.size),_.hdr_size=p.hdr_size,_.start=p.start):(e.warn("BoxParser","Unknown sample entry type: "+p.type),_=new l.SampleEntry(p.type,p.size,p.hdr_size,p.start)),_.write===l.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+_.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),_.parseDataAndRewind(u)),_.parse(u),this.entries.push(_);else return}),l.createFullBoxCtor("stsg",function(u){this.grouping_type=u.readUint32();var f=u.readUint16();this.group_description_index=[];for(var p=0;p<f;p++)this.group_description_index[p]=u.readUint32()}),l.createFullBoxCtor("stsh",function(u){var f,p;if(f=u.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(p=0;p<f;p++)this.shadowed_sample_numbers.push(u.readUint32()),this.sync_sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stss",function(u){var f,p;if(p=u.readUint32(),this.version===0)for(this.sample_numbers=[],f=0;f<p;f++)this.sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stsz",function(u){var f;if(this.sample_sizes=[],this.version===0)for(this.sample_size=u.readUint32(),this.sample_count=u.readUint32(),f=0;f<this.sample_count;f++)this.sample_size===0?this.sample_sizes.push(u.readUint32()):this.sample_sizes[f]=this.sample_size}),l.createFullBoxCtor("stts",function(u){var f,p,v;if(f=u.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(p=0;p<f;p++)this.sample_counts.push(u.readUint32()),v=u.readInt32(),v<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),v=1),this.sample_deltas.push(v)}),l.createFullBoxCtor("stvi",function(u){var f=u.readUint32();this.single_view_allowed=f&3,this.stereo_scheme=u.readUint32();var p=u.readUint32();this.stereo_indication_type=u.readString(p);var v,_;for(this.boxes=[];u.getPosition()<this.start+this.size;)if(v=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),v.code===l.OK)_=v.box,this.boxes.push(_),this[_.type]=_;else return}),l.createBoxCtor("styp",function(u){l.ftypBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("stz2",function(u){var f,p;if(this.sample_sizes=[],this.version===0)if(this.reserved=u.readUint24(),this.field_size=u.readUint8(),p=u.readUint32(),this.field_size===4)for(f=0;f<p;f+=2){var v=u.readUint8();this.sample_sizes[f]=v>>4&15,this.sample_sizes[f+1]=v&15}else if(this.field_size===8)for(f=0;f<p;f++)this.sample_sizes[f]=u.readUint8();else if(this.field_size===16)for(f=0;f<p;f++)this.sample_sizes[f]=u.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs",function(u){var f,p,v,_;for(v=u.readUint32(),this.entries=[],f=0;f<v;f++){var w={};if(this.entries[f]=w,w.sample_delta=u.readUint32(),w.subsamples=[],_=u.readUint16(),_>0)for(p=0;p<_;p++){var x={};w.subsamples.push(x),this.version==1?x.size=u.readUint32():x.size=u.readUint16(),x.priority=u.readUint8(),x.discardable=u.readUint8(),x.codec_specific_parameters=u.readUint32()}}}),l.createFullBoxCtor("tenc",function(u){if(u.readUint8(),this.version===0)u.readUint8();else{var f=u.readUint8();this.default_crypt_byte_block=f>>4&15,this.default_skip_byte_block=f&15}this.default_isProtected=u.readUint8(),this.default_Per_Sample_IV_Size=u.readUint8(),this.default_KID=l.parseHex16(u),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=u.readUint8(),this.default_constant_IV=u.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt",function(u){this.version==1?this.baseMediaDecodeTime=u.readUint64():this.baseMediaDecodeTime=u.readUint32()}),l.createFullBoxCtor("tfhd",function(u){var f=0;this.track_id=u.readUint32(),this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=u.readUint64(),f+=8):this.base_data_offset=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=u.readUint32(),f+=4):this.default_sample_description_index=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=u.readUint32(),f+=4):this.default_sample_duration=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=u.readUint32(),f+=4):this.default_sample_size=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=u.readUint32(),f+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra",function(u){this.track_ID=u.readUint32(),u.readUint24();var f=u.readUint8();this.length_size_of_traf_num=f>>4&3,this.length_size_of_trun_num=f>>2&3,this.length_size_of_sample_num=f&3,this.entries=[];for(var p=u.readUint32(),v=0;v<p;v++)this.version===1?(this.time=u.readUint64(),this.moof_offset=u.readUint64()):(this.time=u.readUint32(),this.moof_offset=u.readUint32()),this.traf_number=u["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=u["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=u["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint32()),u.readUint32Array(2),this.layer=u.readInt16(),this.alternate_group=u.readInt16(),this.volume=u.readInt16()>>8,u.readUint16(),this.matrix=u.readInt32Array(9),this.width=u.readUint32(),this.height=u.readUint32()}),l.createBoxCtor("tmax",function(u){this.time=u.readUint32()}),l.createBoxCtor("tmin",function(u){this.time=u.readUint32()}),l.createBoxCtor("totl",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpay",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpyl",function(u){this.bytessent=u.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(u){this.parseFullHeader(u),this.track_group_id=u.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(u){this.track_ids=u.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(u){for(var f,p;u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),f.code===l.OK)p=new l.TrackReferenceTypeBox(f.type,f.size,f.hdr_size,f.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.info("BoxParser","TrackReference "+p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.boxes.push(p);else return},l.createFullBoxCtor("trep",function(u){for(this.track_ID=u.readUint32(),this.boxes=[];u.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex",function(u){this.track_id=u.readUint32(),this.default_sample_description_index=u.readUint32(),this.default_sample_duration=u.readUint32(),this.default_sample_size=u.readUint32(),this.default_sample_flags=u.readUint32()}),l.createBoxCtor("trpy",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("trun",function(u){var f=0;if(this.sample_count=u.readUint32(),f+=4,this.size-this.hdr_size>f&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=u.readInt32(),f+=4):this.data_offset=0,this.size-this.hdr_size>f&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=u.readUint32(),f+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>f)for(var p=0;p<this.sample_count;p++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[p]=u.readUint32():this.sample_composition_time_offset[p]=u.readInt32())}),l.createFullBoxCtor("tsel",function(u){this.switch_group=u.readUint32();var f=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var p=0;p<f;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("txtC",function(u){this.config=u.readCString()}),l.createBoxCtor("tyco",function(u){var f=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var p=0;p<f;p++)this.compatible_brands[p]=u.readString(4)}),l.createFullBoxCtor("udes",function(u){this.lang=u.readCString(),this.name=u.readCString(),this.description=u.readCString(),this.tags=u.readCString()}),l.createFullBoxCtor("uncC",function(u){var f;if(this.profile=u.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=u.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],f=0;f<this.component_count;f++)this.component_index.push(u.readUint16()),this.component_bit_depth_minus_one.push(u.readUint8()),this.component_format.push(u.readUint8()),this.component_align_size.push(u.readUint8());this.sampling_type=u.readUint8(),this.interleave_type=u.readUint8(),this.block_size=u.readUint8();var p=u.readUint8();this.component_little_endian=p>>7&1,this.block_pad_lsb=p>>6&1,this.block_little_endian=p>>5&1,this.block_reversed=p>>4&1,this.pad_unknown=p>>3&1,this.pixel_size=u.readUint32(),this.row_align_size=u.readUint32(),this.tile_align_size=u.readUint32(),this.num_tile_cols_minus_one=u.readUint32(),this.num_tile_rows_minus_one=u.readUint32()}}}),l.createFullBoxCtor("url ",function(u){this.flags!==1&&(this.location=u.readCString())}),l.createFullBoxCtor("urn ",function(u){this.name=u.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=u.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(u){this.LiveServerManifest=u.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(u){this.system_id=l.parseHex16(u);var f=u.readUint32();f>0&&(this.data=u.readUint8Array(f))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(u){this.default_AlgorithmID=u.readUint24(),this.default_IV_size=u.readUint8(),this.default_KID=l.parseHex16(u)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(u){this.fragment_count=u.readUint8(),this.entries=[];for(var f=0;f<this.fragment_count;f++){var p={},v=0,_=0;this.version===1?(v=u.readUint64(),_=u.readUint64()):(v=u.readUint32(),_=u.readUint32()),p.absolute_time=v,p.absolute_duration=_,this.entries.push(p)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(u){this.version===1?(this.absolute_time=u.readUint64(),this.duration=u.readUint64()):(this.absolute_time=u.readUint32(),this.duration=u.readUint32())}),l.createFullBoxCtor("vmhd",function(u){this.graphicsmode=u.readUint16(),this.opcolor=u.readUint16Array(3)}),l.createFullBoxCtor("vpcC",function(u){var f;this.version===1?(this.profile=u.readUint8(),this.level=u.readUint8(),f=u.readUint8(),this.bitDepth=f>>4,this.chromaSubsampling=f>>1&7,this.videoFullRangeFlag=f&1,this.colourPrimaries=u.readUint8(),this.transferCharacteristics=u.readUint8(),this.matrixCoefficients=u.readUint8(),this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize)):(this.profile=u.readUint8(),this.level=u.readUint8(),f=u.readUint8(),this.bitDepth=f>>4&15,this.colorSpace=f&15,f=u.readUint8(),this.chromaSubsampling=f>>4&15,this.transferFunction=f>>1&7,this.videoFullRangeFlag=f&1,this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC",function(u){var f,p,v={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(P){this.held_bits=P.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(P){this.held_bits=P.readUint16(),this.num_held_bits=16},extract_bits:function(P){var O=this.held_bits>>this.num_held_bits-P&(1<<P)-1;return this.num_held_bits-=P,O}};if(v.stream_read_1_bytes(u),v.extract_bits(5),this.lengthSizeMinusOne=v.extract_bits(2),this.ptl_present_flag=v.extract_bits(1),this.ptl_present_flag){v.stream_read_2_bytes(u),this.ols_idx=v.extract_bits(9),this.num_sublayers=v.extract_bits(3),this.constant_frame_rate=v.extract_bits(2),this.chroma_format_idc=v.extract_bits(2),v.stream_read_1_bytes(u),this.bit_depth_minus8=v.extract_bits(3),v.extract_bits(5);{if(v.stream_read_2_bytes(u),v.extract_bits(2),this.num_bytes_constraint_info=v.extract_bits(6),this.general_profile_idc=v.extract_bits(7),this.general_tier_flag=v.extract_bits(1),this.general_level_idc=u.readUint8(),v.stream_read_1_bytes(u),this.ptl_frame_only_constraint_flag=v.extract_bits(1),this.ptl_multilayer_enabled_flag=v.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(f=0;f<this.num_bytes_constraint_info-1;f++){var _=v.extract_bits(6);v.stream_read_1_bytes(u);var w=v.extract_bits(2);this.general_constraint_info[f]=_<<2|w}this.general_constraint_info[this.num_bytes_constraint_info-1]=v.extract_bits(6)}else v.extract_bits(6);if(this.num_sublayers>1){for(v.stream_read_1_bytes(u),this.ptl_sublayer_present_mask=0,p=this.num_sublayers-2;p>=0;--p){var x=v.extract_bits(1);this.ptl_sublayer_present_mask|=x<<p}for(p=this.num_sublayers;p<=8&&this.num_sublayers>1;++p)v.extract_bits(1);for(this.sublayer_level_idc=[],p=this.num_sublayers-2;p>=0;--p)this.ptl_sublayer_present_mask&1<<p&&(this.sublayer_level_idc[p]=u.readUint8())}if(this.ptl_num_sub_profiles=u.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(f=0;f<this.ptl_num_sub_profiles;f++)this.general_sub_profile_idc.push(u.readUint32())}this.max_picture_width=u.readUint16(),this.max_picture_height=u.readUint16(),this.avg_frame_rate=u.readUint16()}var S=12,A=13;this.nalu_arrays=[];var D=u.readUint8();for(f=0;f<D;f++){var C=[];this.nalu_arrays.push(C),v.stream_read_1_bytes(u),C.completeness=v.extract_bits(1),v.extract_bits(2),C.nalu_type=v.extract_bits(5);var T=1;for(C.nalu_type!=A&&C.nalu_type!=S&&(T=u.readUint16()),p=0;p<T;p++){var R=u.readUint16();C.push({data:u.readUint8Array(R),length:R})}}}),l.createFullBoxCtor("vvnC",function(u){var f=strm.readUint8();this.lengthSizeMinusOne=f&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(u,f){var p=Number(u).toString(16);for(f=typeof f>"u"||f===null?f=2:f;p.length<f;)p="0"+p;return p},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?u+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):u},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var u,f=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(f+=".",this.hvcC.general_profile_space){case 0:f+="";break;case 1:f+="A";break;case 2:f+="B";break;case 3:f+="C";break}f+=this.hvcC.general_profile_idc,f+=".";var p=this.hvcC.general_profile_compatibility,v=0;for(u=0;u<32&&(v|=p&1,u!=31);u++)v<<=1,p>>=1;f+=l.decimalToHex(v,0),f+=".",this.hvcC.general_tier_flag===0?f+="L":f+="H",f+=this.hvcC.general_level_idc;var _=!1,w="";for(u=5;u>=0;u--)(this.hvcC.general_constraint_indicator[u]||_)&&(w="."+l.decimalToHex(this.hvcC.general_constraint_indicator[u],0)+w,_=!0);f+=w}return f},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var u,f=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){f+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?f+=".H":f+=".L",f+=this.vvcC.general_level_idc;var p="";if(this.vvcC.general_constraint_info){var v=[],_=0;_|=this.vvcC.ptl_frame_only_constraint<<7,_|=this.vvcC.ptl_multilayer_enabled<<6;var w;for(u=0;u<this.vvcC.general_constraint_info.length;++u)_|=this.vvcC.general_constraint_info[u]>>2&63,v.push(_),_&&(w=u),_=this.vvcC.general_constraint_info[u]>>2&3;if(w===void 0)p=".CA";else{p=".C";var x="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",S=0,A=0;for(u=0;u<=w;++u)for(S=S<<8|v[u],A+=8;A>=5;){var D=S>>A-5&31;p+=x[D],A-=5,S&=(1<<A)-1}A&&(S<<=5-A,p+=x[S&31])}}f+=p}return f},l.mp4aSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var f=this.esds.esd.getOTI(),p=this.esds.esd.getAudioConfig();return u+"."+l.decimalToHex(f)+(p?"."+p:"")}else return u},l.stxtSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?u+"."+this.mime_format:u},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),f=this.vpcC.level;f==0&&(f="00");var p=this.vpcC.bitDepth;return p==8&&(p="08"),u+".0"+this.vpcC.profile+"."+f+"."+p},l.av01SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),f=this.av1C.seq_level_idx_0;f<10&&(f="0"+f);var p;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?p=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(p=this.av1C.high_bitdepth===1?"10":"08"),u+"."+this.av1C.seq_profile+"."+f+(this.av1C.seq_tier_0?"H":"M")+"."+p},l.Box.prototype.writeHeader=function(u,f){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+u.getPosition()+(f||"")),this.size>s?u.writeUint32(1):(this.sizePosition=u.getPosition(),u.writeUint32(this.size)),u.writeString(this.type,null,4),this.type==="uuid"&&u.writeUint8Array(this.uuid),this.size>s&&u.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(u){this.size+=4,l.Box.prototype.writeHeader.call(this,u," v="+this.version+" f="+this.flags),u.writeUint8(this.version),u.writeUint24(this.flags)},l.Box.prototype.write=function(u){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(u),u.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(u),this.data&&u.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(u){this.size=0,this.writeHeader(u);for(var f=0;f<this.boxes.length;f++)this.boxes[f]&&(this.boxes[f].write(u),this.size+=this.boxes[f].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(u){this.size=this.track_ids.length*4,this.writeHeader(u),u.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(u){var f;for(this.size=7,f=0;f<this.SPS.length;f++)this.size+=2+this.SPS[f].length;for(f=0;f<this.PPS.length;f++)this.size+=2+this.PPS[f].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8(this.AVCProfileIndication),u.writeUint8(this.profile_compatibility),u.writeUint8(this.AVCLevelIndication),u.writeUint8(this.lengthSizeMinusOne+252),u.writeUint8(this.SPS.length+224),f=0;f<this.SPS.length;f++)u.writeUint16(this.SPS[f].length),u.writeUint8Array(this.SPS[f].nalu);for(u.writeUint8(this.PPS.length),f=0;f<this.PPS.length;f++)u.writeUint16(this.PPS[f].length),u.writeUint8Array(this.PPS[f].nalu);this.ext&&u.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),f=0;f<this.chunk_offsets.length;f++)u.writeUint64(this.chunk_offsets[f])},l.cslgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeInt32(this.compositionToDTSShift),u.writeInt32(this.leastDecodeToDisplayDelta),u.writeInt32(this.greatestDecodeToDisplayDelta),u.writeInt32(this.compositionStartTime),u.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),f=0;f<this.sample_counts.length;f++)u.writeUint32(this.sample_counts[f]),this.version===1?u.writeInt32(this.sample_offsets[f]):u.writeUint32(this.sample_offsets[f])},l.drefBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++)this.entries[f].write(u),this.size+=this.entries[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(u),u.writeString(this.extended_language)},l.elstBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(u),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++){var p=this.entries[f];u.writeUint32(p.segment_duration),u.writeInt32(p.media_time),u.writeInt16(p.media_rate_integer),u.writeInt16(p.media_rate_fraction)}},l.emsgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(u),u.writeCString(this.scheme_id_uri),u.writeCString(this.value),u.writeUint32(this.timescale),u.writeUint32(this.presentation_time_delta),u.writeUint32(this.event_duration),u.writeUint32(this.id),u.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(u){this.size=8+4*this.compatible_brands.length,this.writeHeader(u),u.writeString(this.major_brand,null,4),u.writeUint32(this.minor_version);for(var f=0;f<this.compatible_brands.length;f++)u.writeString(this.compatible_brands[f],null,4)},l.hdlrBox.prototype.write=function(u){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(u),u.writeUint32(0),u.writeString(this.handler,null,4),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeCString(this.name)},l.hvcCBox.prototype.write=function(u){var f,p;for(this.size=23,f=0;f<this.nalu_arrays.length;f++)for(this.size+=3,p=0;p<this.nalu_arrays[f].length;p++)this.size+=2+this.nalu_arrays[f][p].data.length;for(this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),u.writeUint32(this.general_profile_compatibility),u.writeUint8Array(this.general_constraint_indicator),u.writeUint8(this.general_level_idc),u.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),u.writeUint8(this.parallelismType+252),u.writeUint8(this.chroma_format_idc+252),u.writeUint8(this.bit_depth_luma_minus8+248),u.writeUint8(this.bit_depth_chroma_minus8+248),u.writeUint16(this.avgFrameRate),u.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),u.writeUint8(this.nalu_arrays.length),f=0;f<this.nalu_arrays.length;f++)for(u.writeUint8((this.nalu_arrays[f].completeness<<7)+this.nalu_arrays[f].nalu_type),u.writeUint16(this.nalu_arrays[f].length),p=0;p<this.nalu_arrays[f].length;p++)u.writeUint16(this.nalu_arrays[f][p].data.length),u.writeUint8Array(this.nalu_arrays[f][p].data)},l.kindBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(u),u.writeCString(this.schemeURI),u.writeCString(this.value)},l.mdhdBox.prototype.write=function(u){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint16(this.language),u.writeUint16(0)},l.mehdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint32(this.rate),u.writeUint16(this.volume<<8),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32Array(this.matrix),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(u){this.size=8,l.Box.prototype.writeHeader.call(this,u),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(u){for(var f=0;f<this.boxes.length;f++)this.boxes[f].write(u),this.size+=this.boxes[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(u){this.writeHeader(u),u.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*7+6*4+32,u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.width),u.writeUint16(this.height),u.writeUint32(this.horizresolution),u.writeUint32(this.vertresolution),u.writeUint32(0),u.writeUint16(this.frame_count),u.writeUint8(Math.min(31,this.compressorname.length)),u.writeString(this.compressorname,null,31),u.writeUint16(this.depth),u.writeInt16(-1),this.writeFooter(u)},l.AudioSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*4+3*4,u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.channel_count),u.writeUint16(this.samplesize),u.writeUint16(0),u.writeUint16(0),u.writeUint32(this.samplerate<<16),this.writeFooter(u)},l.stppSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,u.writeCString(this.namespace),u.writeCString(this.schema_location),u.writeCString(this.auxiliary_mime_types),this.writeFooter(u)},l.SampleGroupEntry.prototype.write=function(u){u.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(u){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(u),u.writeString(this.grouping_type,null,4),u.writeUint32(this.grouping_type_parameter),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++){var p=this.entries[f];u.writeInt32(p.sample_count),u.writeInt32(p.group_description_index)}},l.sgpdBox.prototype.write=function(u){var f,p;for(this.flags=0,this.size=12,f=0;f<this.entries.length;f++)p=this.entries[f],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=p.data.length);for(this.writeHeader(u),u.writeString(this.grouping_type,null,4),this.version===1&&u.writeUint32(this.default_length),this.version>=2&&u.writeUint32(this.default_sample_description_index),u.writeUint32(this.entries.length),f=0;f<this.entries.length;f++)p=this.entries[f],this.version===1&&this.default_length===0&&u.writeUint32(p.description_length),p.write(u)},l.sidxBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(u),u.writeUint32(this.reference_ID),u.writeUint32(this.timescale),u.writeUint32(this.earliest_presentation_time),u.writeUint32(this.first_offset),u.writeUint16(0),u.writeUint16(this.references.length);for(var f=0;f<this.references.length;f++){var p=this.references[f];u.writeUint32(p.reference_type<<31|p.referenced_size),u.writeUint32(p.subsegment_duration),u.writeUint32(p.starts_with_SAP<<31|p.SAP_type<<28|p.SAP_delta_time)}},l.smhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=4,this.writeHeader(u),u.writeUint16(this.balance),u.writeUint16(0)},l.stcoBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),u.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(u),u.writeUint32(this.first_chunk.length),f=0;f<this.first_chunk.length;f++)u.writeUint32(this.first_chunk[f]),u.writeUint32(this.samples_per_chunk[f]),u.writeUint32(this.sample_description_index[f])},l.stsdBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(u),u.writeUint32(this.entries.length),this.size+=4,f=0;f<this.entries.length;f++)this.entries[f].write(u),this.size+=this.entries[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(u),u.writeUint32(this.shadowed_sample_numbers.length),f=0;f<this.shadowed_sample_numbers.length;f++)u.writeUint32(this.shadowed_sample_numbers[f]),u.writeUint32(this.sync_sample_numbers[f])},l.stssBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(u),u.writeUint32(this.sample_numbers.length),u.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(u){var f,p=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(f=0;f+1<this.sample_sizes.length;)if(this.sample_sizes[f+1]!==this.sample_sizes[0]){p=!1;break}else f++;else p=!1;this.size=8,p||(this.size+=4*this.sample_sizes.length),this.writeHeader(u),p?u.writeUint32(this.sample_sizes[0]):u.writeUint32(0),u.writeUint32(this.sample_sizes.length),p||u.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),f=0;f<this.sample_counts.length;f++)u.writeUint32(this.sample_counts[f]),u.writeUint32(this.sample_deltas[f])},l.tfdtBox.prototype.write=function(u){var f=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>f?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(u),this.version===1?u.writeUint64(this.baseMediaDecodeTime):u.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(u),u.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&u.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&u.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&u.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&u.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&u.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(u){this.version=0,this.size=4*18+2*4,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.track_id),u.writeUint32(0),u.writeUint32(this.duration),u.writeUint32(0),u.writeUint32(0),u.writeInt16(this.layer),u.writeInt16(this.alternate_group),u.writeInt16(this.volume<<8),u.writeUint16(0),u.writeInt32Array(this.matrix),u.writeUint32(this.width),u.writeUint32(this.height)},l.trexBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeUint32(this.track_id),u.writeUint32(this.default_sample_description_index),u.writeUint32(this.default_sample_duration),u.writeUint32(this.default_sample_size),u.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(u),u.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=u.getPosition(),u.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&u.writeUint32(this.first_sample_flags);for(var f=0;f<this.sample_count;f++)this.flags&l.TRUN_FLAGS_DURATION&&u.writeUint32(this.sample_duration[f]),this.flags&l.TRUN_FLAGS_SIZE&&u.writeUint32(this.sample_size[f]),this.flags&l.TRUN_FLAGS_FLAGS&&u.writeUint32(this.sample_flags[f]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?u.writeUint32(this.sample_composition_time_offset[f]):u.writeInt32(this.sample_composition_time_offset[f]))},l["url Box"].prototype.write=function(u){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(u),this.location&&u.writeCString(this.location)},l["urn Box"].prototype.write=function(u){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(u),u.writeCString(this.name),this.location&&u.writeCString(this.location)},l.vmhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=8,this.writeHeader(u),u.writeUint16(this.graphicsmode),u.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(u){var f,p,v;for(v=0,f=0;f<this.sample_counts.length;f++)for(p=0;p<this.sample_counts[f];p++)u[v].pts=u[v].dts+this.sample_offsets[f],v++},l.sttsBox.prototype.unpack=function(u){var f,p,v;for(v=0,f=0;f<this.sample_counts.length;f++)for(p=0;p<this.sample_counts[f];p++)v===0?u[v].dts=0:u[v].dts=u[v-1].dts+this.sample_deltas[f],v++},l.stcoBox.prototype.unpack=function(u){var f;for(f=0;f<this.chunk_offsets.length;f++)u[f].offset=this.chunk_offsets[f]},l.stscBox.prototype.unpack=function(u){var f,p,v,_,w;for(_=0,w=0,f=0;f<this.first_chunk.length;f++)for(p=0;p<(f+1<this.first_chunk.length?this.first_chunk[f+1]:1/0);p++)for(w++,v=0;v<this.samples_per_chunk[f];v++){if(u[_])u[_].description_index=this.sample_description_index[f],u[_].chunk_index=w;else return;_++}},l.stszBox.prototype.unpack=function(u){var f;for(f=0;f<this.sample_sizes.length;f++)u[f].size=this.sample_sizes[f]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(u,f){if(u&&!f)return!1;var p;for(p in u)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(p)>-1)){if(u[p]instanceof l.Box||f[p]instanceof l.Box)continue;if(typeof u[p]>"u"||typeof f[p]>"u")continue;if(typeof u[p]=="function"||typeof f[p]=="function")continue;if(u.subBoxNames&&u.subBoxNames.indexOf(p.slice(0,4))>-1||f.subBoxNames&&f.subBoxNames.indexOf(p.slice(0,4))>-1)continue;if(p==="data"||p==="start"||p==="size"||p==="creation_time"||p==="modification_time")continue;if(l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(p)>-1)continue;if(u[p]!==f[p])return!1}return!0},l.boxEqual=function(u,f){if(!l.boxEqualFields(u,f))return!1;for(var p=0;p<l.DIFF_BOXES_PROP_NAMES.length;p++){var v=l.DIFF_BOXES_PROP_NAMES[p];if(u[v]&&f[v]&&!l.boxEqual(u[v],f[v]))return!1}return!0};var h=function(){};h.prototype.parseSample=function(u){var f,p,v=new r(u.buffer);for(f=[];!v.isEos();)p=l.parseOneBox(v,!1),p.code===l.OK&&p.box.type==="vttc"&&f.push(p.box);return f},h.prototype.getText=function(u,f,p){function v(D,C,T){return T=T||"0",D=D+"",D.length>=C?D:new Array(C-D.length+1).join(T)+D}function _(D){var C=Math.floor(D/3600),T=Math.floor((D-C*3600)/60),R=Math.floor(D-C*3600-T*60),P=Math.floor((D-C*3600-T*60-R)*1e3);return""+v(C,2)+":"+v(T,2)+":"+v(R,2)+"."+v(P,3)}for(var w=this.parseSample(p),x="",S=0;S<w.length;S++){var A=w[S];x+=_(u)+" --> "+_(f)+"\r\n",x+=A.payl.text}return x};var g=function(){};g.prototype.parseSample=function(u){var f={},p;f.resources=[];var v=new r(u.data.buffer);if(!u.subsamples||u.subsamples.length===0)f.documentString=v.readString(u.data.length);else if(f.documentString=v.readString(u.subsamples[0].size),u.subsamples.length>1)for(p=1;p<u.subsamples.length;p++)f.resources[p]=v.readUint8Array(u.subsamples[p].size);return typeof DOMParser<"u"&&(f.document=new DOMParser().parseFromString(f.documentString,"application/xml")),f};var m=function(){};m.prototype.parseSample=function(u){var f,p=new r(u.data.buffer);return f=p.readString(u.data.length),f},m.prototype.parseConfig=function(u){var f,p=new r(u.buffer);return p.readUint32(),f=p.readCString(),f},t.VTTin4Parser=h,t.XMLSubtitlein4Parser=g,t.Textin4Parser=m;var y=function(u){this.stream=u||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};y.prototype.setSegmentOptions=function(u,f,p){var v=this.getTrackById(u);if(v){var _={};this.fragmentedTracks.push(_),_.id=u,_.user=f,_.trak=v,v.nextSample=0,_.segmentStream=null,_.nb_samples=1e3,_.rapAlignement=!0,p&&(p.nbSamples&&(_.nb_samples=p.nbSamples),p.rapAlignement&&(_.rapAlignement=p.rapAlignement))}},y.prototype.unsetSegmentOptions=function(u){for(var f=-1,p=0;p<this.fragmentedTracks.length;p++){var v=this.fragmentedTracks[p];v.id==u&&(f=p)}f>-1&&this.fragmentedTracks.splice(f,1)},y.prototype.setExtractionOptions=function(u,f,p){var v=this.getTrackById(u);if(v){var _={};this.extractedTracks.push(_),_.id=u,_.user=f,_.trak=v,v.nextSample=0,_.nb_samples=1e3,_.samples=[],p&&p.nbSamples&&(_.nb_samples=p.nbSamples)}},y.prototype.unsetExtractionOptions=function(u){for(var f=-1,p=0;p<this.extractedTracks.length;p++){var v=this.extractedTracks[p];v.id==u&&(f=p)}f>-1&&this.extractedTracks.splice(f,1)},y.prototype.parse=function(){var u,f,p=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),u=l.parseOneBox(this.stream,p),u.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}else return;else{var v;switch(f=u.box,v=f.type!=="uuid"?f.type:f.uuid,this.boxes.push(f),v){case"mdat":this.mdats.push(f);break;case"moof":this.moofs.push(f);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[v]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+v+", overriding previous occurrence"),this[v]=f;break}this.updateUsedBytes&&this.updateUsedBytes(f,u)}},y.prototype.checkBuffer=function(u){if(u==null)throw"Buffer must be defined and non empty";if(u.fileStart===void 0)throw"Buffer must have a fileStart property";return u.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+u.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+u.fileStart+")"),u.usedBytes=0,this.stream.insertBuffer(u),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},y.prototype.appendBuffer=function(u,f){var p;if(this.checkBuffer(u))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(f),this.nextSeekPosition?(p=this.nextSeekPosition,this.nextSeekPosition=void 0):p=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(p=this.stream.getEndFilePositionAfter(p))):this.nextParsePosition?p=this.nextParsePosition:p=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+u.fileStart+") - next buffer to fetch should have a fileStart position of "+p),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),p},y.prototype.getInfo=function(){var u,f,p={},v,_,w,x,S=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(p.hasMoov=!0,p.duration=this.moov.mvhd.duration,p.timescale=this.moov.mvhd.timescale,p.isFragmented=this.moov.mvex!=null,p.isFragmented&&this.moov.mvex.mehd&&(p.fragment_duration=this.moov.mvex.mehd.fragment_duration),p.isProgressive=this.isProgressive,p.hasIOD=this.moov.iods!=null,p.brands=[],p.brands.push(this.ftyp.major_brand),p.brands=p.brands.concat(this.ftyp.compatible_brands),p.created=new Date(S+this.moov.mvhd.creation_time*1e3),p.modified=new Date(S+this.moov.mvhd.modification_time*1e3),p.tracks=[],p.audioTracks=[],p.videoTracks=[],p.subtitleTracks=[],p.metadataTracks=[],p.hintTracks=[],p.otherTracks=[],u=0;u<this.moov.traks.length;u++){if(v=this.moov.traks[u],x=v.mdia.minf.stbl.stsd.entries[0],_={},p.tracks.push(_),_.id=v.tkhd.track_id,_.name=v.mdia.hdlr.name,_.references=[],v.tref)for(f=0;f<v.tref.boxes.length;f++)w={},_.references.push(w),w.type=v.tref.boxes[f].type,w.track_ids=v.tref.boxes[f].track_ids;v.edts&&(_.edits=v.edts.elst.entries),_.created=new Date(S+v.tkhd.creation_time*1e3),_.modified=new Date(S+v.tkhd.modification_time*1e3),_.movie_duration=v.tkhd.duration,_.movie_timescale=p.timescale,_.layer=v.tkhd.layer,_.alternate_group=v.tkhd.alternate_group,_.volume=v.tkhd.volume,_.matrix=v.tkhd.matrix,_.track_width=v.tkhd.width/65536,_.track_height=v.tkhd.height/65536,_.timescale=v.mdia.mdhd.timescale,_.cts_shift=v.mdia.minf.stbl.cslg,_.duration=v.mdia.mdhd.duration,_.samples_duration=v.samples_duration,_.codec=x.getCodec(),_.kind=v.udta&&v.udta.kinds.length?v.udta.kinds[0]:{schemeURI:"",value:""},_.language=v.mdia.elng?v.mdia.elng.extended_language:v.mdia.mdhd.languageString,_.nb_samples=v.samples.length,_.size=v.samples_size,_.bitrate=_.size*8*_.timescale/_.samples_duration,x.isAudio()?(_.type="audio",p.audioTracks.push(_),_.audio={},_.audio.sample_rate=x.getSampleRate(),_.audio.channel_count=x.getChannelCount(),_.audio.sample_size=x.getSampleSize()):x.isVideo()?(_.type="video",p.videoTracks.push(_),_.video={},_.video.width=x.getWidth(),_.video.height=x.getHeight()):x.isSubtitle()?(_.type="subtitles",p.subtitleTracks.push(_)):x.isHint()?(_.type="metadata",p.hintTracks.push(_)):x.isMetadata()?(_.type="metadata",p.metadataTracks.push(_)):(_.type="metadata",p.otherTracks.push(_))}else p.hasMoov=!1;if(p.mime="",p.hasMoov&&p.tracks){for(p.videoTracks&&p.videoTracks.length>0?p.mime+='video/mp4; codecs="':p.audioTracks&&p.audioTracks.length>0?p.mime+='audio/mp4; codecs="':p.mime+='application/mp4; codecs="',u=0;u<p.tracks.length;u++)u!==0&&(p.mime+=","),p.mime+=p.tracks[u].codec;p.mime+='"; profiles="',p.mime+=this.ftyp.compatible_brands.join(),p.mime+='"'}return p},y.prototype.setNextSeekPositionFromSample=function(u){u&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(u.offset+u.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=u.offset+u.alreadyRead)},y.prototype.processSamples=function(u){var f,p;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(f=0;f<this.fragmentedTracks.length;f++){var v=this.fragmentedTracks[f];for(p=v.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+v.id+" for sample "+p.nextSample);var _=this.createFragment(v.id,p.nextSample,v.segmentStream);if(_)v.segmentStream=_,p.nextSample++;else break;if((p.nextSample%v.nb_samples===0||u||p.nextSample>=p.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+v.id+" for samples ["+Math.max(0,p.nextSample-v.nb_samples)+","+(p.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(v.id,v.user,v.segmentStream.buffer,p.nextSample,u||p.nextSample>=p.samples.length),v.segmentStream=null,v!==this.fragmentedTracks[f]))break}}if(this.onSamples!==null)for(f=0;f<this.extractedTracks.length;f++){var w=this.extractedTracks[f];for(p=w.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+w.id+" sample #"+p.nextSample);var x=this.getSample(p,p.nextSample);if(x)p.nextSample++,w.samples.push(x);else{this.setNextSeekPositionFromSample(p.samples[p.nextSample]);break}if((p.nextSample%w.nb_samples===0||p.nextSample>=p.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+w.id+" for sample "+p.nextSample),this.onSamples&&this.onSamples(w.id,w.user,w.samples),w.samples=[],w!==this.extractedTracks[f]))break}}}},y.prototype.getBox=function(u){var f=this.getBoxes(u,!0);return f.length?f[0]:null},y.prototype.getBoxes=function(u,f){var p=[];return y._sweep.call(this,u,p,f),p},y._sweep=function(u,f,p){this.type&&this.type==u&&f.push(this);for(var v in this.boxes){if(f.length&&p)return;y._sweep.call(this.boxes[v],u,f,p)}},y.prototype.getTrackSamplesInfo=function(u){var f=this.getTrackById(u);if(f)return f.samples},y.prototype.getTrackSample=function(u,f){var p=this.getTrackById(u),v=this.getSample(p,f);return v},y.prototype.releaseUsedSamples=function(u,f){var p=0,v=this.getTrackById(u);v.lastValidSample||(v.lastValidSample=0);for(var _=v.lastValidSample;_<f;_++)p+=this.releaseSample(v,_);e.info("ISOFile","Track #"+u+" released samples up to "+f+" (released size: "+p+", remaining: "+this.samplesDataSize+")"),v.lastValidSample=f},y.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},y.prototype.stop=function(){this.sampleProcessingStarted=!1},y.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},y.prototype.seekTrack=function(u,f,p){var v,_,w=1/0,x=0,S=0,A;if(p.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(v=0;v<p.samples.length;v++){if(_=p.samples[v],v===0)S=0,A=_.timescale;else if(_.cts>u*_.timescale){S=v-1;break}f&&_.is_sync&&(x=v)}for(f&&(S=x),u=p.samples[S].cts,p.nextSample=S;p.samples[S].alreadyRead===p.samples[S].size&&p.samples[S+1];)S++;return w=p.samples[S].offset+p.samples[S].alreadyRead,e.info("ISOFile","Seeking to "+(f?"RAP":"")+" sample #"+p.nextSample+" on track "+p.tkhd.track_id+", time "+e.getDurationString(u,A)+" and offset: "+w),{offset:w,time:u/A}},y.prototype.getTrackDuration=function(u){var f;return u.samples?(f=u.samples[u.samples.length-1],(f.cts+f.duration)/f.timescale):1/0},y.prototype.seek=function(u,f){var p=this.moov,v,_,w,x={offset:1/0,time:1/0};if(this.moov){for(w=0;w<p.traks.length;w++)v=p.traks[w],!(u>this.getTrackDuration(v))&&(_=this.seekTrack(u,f,v),_.offset<x.offset&&(x.offset=_.offset),_.time<x.time&&(x.time=_.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(x.time,1)+" needs a buffer with a fileStart position of "+x.offset),x.offset===1/0?x={offset:this.nextParsePosition,time:0}:x.offset=this.stream.getEndFilePositionAfter(x.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+x.offset),x}else throw"Cannot seek: moov not received!"},y.prototype.equal=function(u){for(var f=0;f<this.boxes.length&&f<u.boxes.length;){var p=this.boxes[f],v=u.boxes[f];if(!l.boxEqual(p,v))return!1;f++}return!0},t.ISOFile=y,y.prototype.lastBoxStartPosition=0,y.prototype.parsingMdat=null,y.prototype.nextParsePosition=0,y.prototype.discardMdatData=!1,y.prototype.processIncompleteBox=function(u){var f,p,v;return u.type==="mdat"?(f=new l[u.type+"Box"](u.size),this.parsingMdat=f,this.boxes.push(f),this.mdats.push(f),f.start=u.start,f.hdr_size=u.hdr_size,this.stream.addUsedBytes(f.hdr_size),this.lastBoxStartPosition=f.start+f.size,v=this.stream.seek(f.start+f.size,!1,this.discardMdatData),v?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=f.start+f.size,!1)):(u.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),p=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,p?(this.nextParsePosition=this.stream.getEndPosition(),!0):(u.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+u.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},y.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},y.prototype.processIncompleteMdat=function(){var u,f;return u=this.parsingMdat,f=this.stream.seek(u.start+u.size,!1,this.discardMdatData),f?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},y.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},y.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},y.prototype.updateUsedBytes=function(u,f){this.stream.addUsedBytes&&(u.type==="mdat"?(this.stream.addUsedBytes(u.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(u.size-u.hdr_size)):this.stream.addUsedBytes(u.size))},y.prototype.add=l.Box.prototype.add,y.prototype.addBox=l.Box.prototype.addBox,y.prototype.init=function(u){var f=u||{};this.add("ftyp").set("major_brand",f.brands&&f.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",f.brands||["iso4"]);var p=this.add("moov");return p.add("mvhd").set("timescale",f.timescale||600).set("rate",f.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",f.duration||0).set("volume",f.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),p.add("mvex"),this},y.prototype.addTrack=function(u){this.moov||this.init(u);var f=u||{};f.width=f.width||320,f.height=f.height||320,f.id=f.id||this.moov.mvhd.next_track_id,f.type=f.type||"avc1";var p=this.moov.add("trak");this.moov.mvhd.next_track_id=f.id+1,p.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",f.id).set("duration",f.duration||0).set("layer",f.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",f.width<<16).set("height",f.height<<16);var v=p.add("mdia");v.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",f.timescale||1).set("duration",f.media_duration||0).set("language",f.language||"und"),v.add("hdlr").set("handler",f.hdlr||"vide").set("name",f.name||"Track created with MP4Box.js"),v.add("elng").set("extended_language",f.language||"fr-FR");var _=v.add("minf");if(l[f.type+"SampleEntry"]!==void 0){var w=new l[f.type+"SampleEntry"];w.data_reference_index=1;var x="";for(var S in l.sampleEntryCodes)for(var A=l.sampleEntryCodes[S],D=0;D<A.length;D++)if(A.indexOf(f.type)>-1){x=S;break}switch(x){case"Visual":if(_.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),w.set("width",f.width).set("height",f.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",f.type+" Compressor").set("depth",24),f.avcDecoderConfigRecord){var C=new l.avcCBox;C.parse(new r(f.avcDecoderConfigRecord)),w.addBox(C)}else if(f.hevcDecoderConfigRecord){var T=new l.hvcCBox;T.parse(new r(f.hevcDecoderConfigRecord)),w.addBox(T)}break;case"Audio":_.add("smhd").set("balance",f.balance||0),w.set("channel_count",f.channel_count||2).set("samplesize",f.samplesize||16).set("samplerate",f.samplerate||65536);break;case"Hint":_.add("hmhd");break;case"Subtitle":switch(_.add("sthd"),f.type){case"stpp":w.set("namespace",f.namespace||"nonamespace").set("schema_location",f.schema_location||"").set("auxiliary_mime_types",f.auxiliary_mime_types||"");break}break;case"Metadata":_.add("nmhd");break;case"System":_.add("nmhd");break;default:_.add("nmhd");break}f.description&&w.addBox(f.description),f.description_boxes&&f.description_boxes.forEach(function(P){w.addBox(P)}),_.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var R=_.add("stbl");return R.add("stsd").addEntry(w),R.add("stts").set("sample_counts",[]).set("sample_deltas",[]),R.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),R.add("stco").set("chunk_offsets",[]),R.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",f.id).set("default_sample_description_index",f.default_sample_description_index||1).set("default_sample_duration",f.default_sample_duration||0).set("default_sample_size",f.default_sample_size||0).set("default_sample_flags",f.default_sample_flags||0),this.buildTrakSampleLists(p),f.id}},l.Box.prototype.computeSize=function(u){var f=u||new n;f.endianness=n.BIG_ENDIAN,this.write(f)},y.prototype.addSample=function(u,f,p){var v=p||{},_={},w=this.getTrackById(u);if(w!==null){_.number=w.samples.length,_.track_id=w.tkhd.track_id,_.timescale=w.mdia.mdhd.timescale,_.description_index=v.sample_description_index?v.sample_description_index-1:0,_.description=w.mdia.minf.stbl.stsd.entries[_.description_index],_.data=f,_.size=f.byteLength,_.alreadyRead=_.size,_.duration=v.duration||1,_.cts=v.cts||0,_.dts=v.dts||0,_.is_sync=v.is_sync||!1,_.is_leading=v.is_leading||0,_.depends_on=v.depends_on||0,_.is_depended_on=v.is_depended_on||0,_.has_redundancy=v.has_redundancy||0,_.degradation_priority=v.degradation_priority||0,_.offset=0,_.subsamples=v.subsamples,w.samples.push(_),w.samples_size+=_.size,w.samples_duration+=_.duration,w.first_dts===void 0&&(w.first_dts=v.dts),this.processSamples();var x=this.createSingleSampleMoof(_);return this.addBox(x),x.computeSize(),x.trafs[0].truns[0].data_offset=x.size+8,this.add("mdat").data=new Uint8Array(f),_}},y.prototype.createSingleSampleMoof=function(u){var f=0;u.is_sync?f=1<<25:f=65536;var p=new l.moofBox;p.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var v=p.add("traf"),_=this.getTrackById(u.track_id);return v.add("tfhd").set("track_id",u.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),v.add("tfdt").set("baseMediaDecodeTime",u.dts-(_.first_dts||0)),v.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[u.duration]).set("sample_size",[u.size]).set("sample_flags",[f]).set("sample_composition_time_offset",[u.cts-u.dts]),p},y.prototype.lastMoofIndex=0,y.prototype.samplesDataSize=0,y.prototype.resetTables=function(){var u,f,p,v,_,w,x,S;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,u=0;u<this.moov.traks.length;u++){f=this.moov.traks[u],f.tkhd.duration=0,f.mdia.mdhd.duration=0,p=f.mdia.minf.stbl.stco||f.mdia.minf.stbl.co64,p.chunk_offsets=[],v=f.mdia.minf.stbl.stsc,v.first_chunk=[],v.samples_per_chunk=[],v.sample_description_index=[],_=f.mdia.minf.stbl.stsz||f.mdia.minf.stbl.stz2,_.sample_sizes=[],w=f.mdia.minf.stbl.stts,w.sample_counts=[],w.sample_deltas=[],x=f.mdia.minf.stbl.ctts,x&&(x.sample_counts=[],x.sample_offsets=[]),S=f.mdia.minf.stbl.stss;var A=f.mdia.minf.stbl.boxes.indexOf(S);A!=-1&&(f.mdia.minf.stbl.boxes[A]=null)}},y.initSampleGroups=function(u,f,p,v,_){var w,x,S,A;function D(C,T,R){this.grouping_type=C,this.grouping_type_parameter=T,this.sbgp=R,this.last_sample_in_run=-1,this.entry_index=-1}for(f&&(f.sample_groups_info=[]),u.sample_groups_info||(u.sample_groups_info=[]),x=0;x<p.length;x++){for(A=p[x].grouping_type+"/"+p[x].grouping_type_parameter,S=new D(p[x].grouping_type,p[x].grouping_type_parameter,p[x]),f&&(f.sample_groups_info[A]=S),u.sample_groups_info[A]||(u.sample_groups_info[A]=S),w=0;w<v.length;w++)v[w].grouping_type===p[x].grouping_type&&(S.description=v[w],S.description.used=!0);if(_)for(w=0;w<_.length;w++)_[w].grouping_type===p[x].grouping_type&&(S.fragment_description=_[w],S.fragment_description.used=!0,S.is_fragment=!0)}if(f){if(_)for(x=0;x<_.length;x++)!_[x].used&&_[x].version>=2&&(A=_[x].grouping_type+"/0",S=new D(_[x].grouping_type,0),S.is_fragment=!0,f.sample_groups_info[A]||(f.sample_groups_info[A]=S))}else for(x=0;x<v.length;x++)!v[x].used&&v[x].version>=2&&(A=v[x].grouping_type+"/0",S=new D(v[x].grouping_type,0),u.sample_groups_info[A]||(u.sample_groups_info[A]=S))},y.setSampleGroupProperties=function(u,f,p,v){var _,w;f.sample_groups=[];for(_ in v)if(f.sample_groups[_]={},f.sample_groups[_].grouping_type=v[_].grouping_type,f.sample_groups[_].grouping_type_parameter=v[_].grouping_type_parameter,p>=v[_].last_sample_in_run&&(v[_].last_sample_in_run<0&&(v[_].last_sample_in_run=0),v[_].entry_index++,v[_].entry_index<=v[_].sbgp.entries.length-1&&(v[_].last_sample_in_run+=v[_].sbgp.entries[v[_].entry_index].sample_count)),v[_].entry_index<=v[_].sbgp.entries.length-1?f.sample_groups[_].group_description_index=v[_].sbgp.entries[v[_].entry_index].group_description_index:f.sample_groups[_].group_description_index=-1,f.sample_groups[_].group_description_index!==0){var x;v[_].fragment_description?x=v[_].fragment_description:x=v[_].description,f.sample_groups[_].group_description_index>0?(f.sample_groups[_].group_description_index>65535?w=(f.sample_groups[_].group_description_index>>16)-1:w=f.sample_groups[_].group_description_index-1,x&&w>=0&&(f.sample_groups[_].description=x.entries[w])):x&&x.version>=2&&x.default_group_description_index>0&&(f.sample_groups[_].description=x.entries[x.default_group_description_index-1])}},y.process_sdtp=function(u,f,p){f&&(u?(f.is_leading=u.is_leading[p],f.depends_on=u.sample_depends_on[p],f.is_depended_on=u.sample_is_depended_on[p],f.has_redundancy=u.sample_has_redundancy[p]):(f.is_leading=0,f.depends_on=0,f.is_depended_on=0,f.has_redundancy=0))},y.prototype.buildSampleLists=function(){var u,f;for(u=0;u<this.moov.traks.length;u++)f=this.moov.traks[u],this.buildTrakSampleLists(f)},y.prototype.buildTrakSampleLists=function(u){var f,p,v,_,w,x,S,A,D,C,T,R,P,O,I,k,W,V,j,$,K,J,ue,pe;if(u.samples=[],u.samples_duration=0,u.samples_size=0,p=u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64,v=u.mdia.minf.stbl.stsc,_=u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2,w=u.mdia.minf.stbl.stts,x=u.mdia.minf.stbl.ctts,S=u.mdia.minf.stbl.stss,A=u.mdia.minf.stbl.stsd,D=u.mdia.minf.stbl.subs,R=u.mdia.minf.stbl.stdp,C=u.mdia.minf.stbl.sbgps,T=u.mdia.minf.stbl.sgpds,V=-1,j=-1,$=-1,K=-1,J=0,ue=0,pe=0,y.initSampleGroups(u,null,C,T),!(typeof _>"u")){for(f=0;f<_.sample_sizes.length;f++){var oe={};oe.number=f,oe.track_id=u.tkhd.track_id,oe.timescale=u.mdia.mdhd.timescale,oe.alreadyRead=0,u.samples[f]=oe,oe.size=_.sample_sizes[f],u.samples_size+=oe.size,f===0?(O=1,P=0,oe.chunk_index=O,oe.chunk_run_index=P,W=v.samples_per_chunk[P],k=0,P+1<v.first_chunk.length?I=v.first_chunk[P+1]-1:I=1/0):f<W?(oe.chunk_index=O,oe.chunk_run_index=P):(O++,oe.chunk_index=O,k=0,O<=I||(P++,P+1<v.first_chunk.length?I=v.first_chunk[P+1]-1:I=1/0),oe.chunk_run_index=P,W+=v.samples_per_chunk[P]),oe.description_index=v.sample_description_index[oe.chunk_run_index]-1,oe.description=A.entries[oe.description_index],oe.offset=p.chunk_offsets[oe.chunk_index-1]+k,k+=oe.size,f>V&&(j++,V<0&&(V=0),V+=w.sample_counts[j]),f>0?(u.samples[f-1].duration=w.sample_deltas[j],u.samples_duration+=u.samples[f-1].duration,oe.dts=u.samples[f-1].dts+u.samples[f-1].duration):oe.dts=0,x?(f>=$&&(K++,$<0&&($=0),$+=x.sample_counts[K]),oe.cts=u.samples[f].dts+x.sample_offsets[K]):oe.cts=oe.dts,S?(f==S.sample_numbers[J]-1?(oe.is_sync=!0,J++):(oe.is_sync=!1,oe.degradation_priority=0),D&&D.entries[ue].sample_delta+pe==f+1&&(oe.subsamples=D.entries[ue].subsamples,pe+=D.entries[ue].sample_delta,ue++)):oe.is_sync=!0,y.process_sdtp(u.mdia.minf.stbl.sdtp,oe,oe.number),R?oe.degradation_priority=R.priority[f]:oe.degradation_priority=0,D&&D.entries[ue].sample_delta+pe==f&&(oe.subsamples=D.entries[ue].subsamples,pe+=D.entries[ue].sample_delta),(C.length>0||T.length>0)&&y.setSampleGroupProperties(u,oe,f,u.sample_groups_info)}f>0&&(u.samples[f-1].duration=Math.max(u.mdia.mdhd.duration-u.samples[f-1].dts,0),u.samples_duration+=u.samples[f-1].duration)}},y.prototype.updateSampleLists=function(){var u,f,p,v,_,w,x,S,A,D,C,T,R,P,O;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(A=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,A.type=="moof")for(D=A,u=0;u<D.trafs.length;u++){for(C=D.trafs[u],T=this.getTrackById(C.tfhd.track_id),R=this.getTrexById(C.tfhd.track_id),C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?v=C.tfhd.default_sample_description_index:v=R?R.default_sample_description_index:1,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?_=C.tfhd.default_sample_duration:_=R?R.default_sample_duration:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?w=C.tfhd.default_sample_size:w=R?R.default_sample_size:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?x=C.tfhd.default_sample_flags:x=R?R.default_sample_flags:0,C.sample_number=0,C.sbgps.length>0&&y.initSampleGroups(T,C,C.sbgps,T.mdia.minf.stbl.sgpds,C.sgpds),f=0;f<C.truns.length;f++){var I=C.truns[f];for(p=0;p<I.sample_count;p++){P={},P.moof_number=this.lastMoofIndex,P.number_in_traf=C.sample_number,C.sample_number++,P.number=T.samples.length,C.first_sample_index=T.samples.length,T.samples.push(P),P.track_id=T.tkhd.track_id,P.timescale=T.mdia.mdhd.timescale,P.description_index=v-1,P.description=T.mdia.minf.stbl.stsd.entries[P.description_index],P.size=w,I.flags&l.TRUN_FLAGS_SIZE&&(P.size=I.sample_size[p]),T.samples_size+=P.size,P.duration=_,I.flags&l.TRUN_FLAGS_DURATION&&(P.duration=I.sample_duration[p]),T.samples_duration+=P.duration,T.first_traf_merged||p>0?P.dts=T.samples[T.samples.length-2].dts+T.samples[T.samples.length-2].duration:(C.tfdt?P.dts=C.tfdt.baseMediaDecodeTime:P.dts=0,T.first_traf_merged=!0),P.cts=P.dts,I.flags&l.TRUN_FLAGS_CTS_OFFSET&&(P.cts=P.dts+I.sample_composition_time_offset[p]),O=x,I.flags&l.TRUN_FLAGS_FLAGS?O=I.sample_flags[p]:p===0&&I.flags&l.TRUN_FLAGS_FIRST_FLAG&&(O=I.first_sample_flags),P.is_sync=!(O>>16&1),P.is_leading=O>>26&3,P.depends_on=O>>24&3,P.is_depended_on=O>>22&3,P.has_redundancy=O>>20&3,P.degradation_priority=O&65535;var k=!!(C.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),W=!!(C.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),V=!!(I.flags&l.TRUN_FLAGS_DATA_OFFSET),j=0;k?j=C.tfhd.base_data_offset:W||f===0?j=D.start:j=S,f===0&&p===0?V?P.offset=j+I.data_offset:P.offset=j:P.offset=S,S=P.offset+P.size,(C.sbgps.length>0||C.sgpds.length>0||T.mdia.minf.stbl.sbgps.length>0||T.mdia.minf.stbl.sgpds.length>0)&&y.setSampleGroupProperties(T,P,P.number_in_traf,C.sample_groups_info)}}if(C.subs){T.has_fragment_subsamples=!0;var $=C.first_sample_index;for(f=0;f<C.subs.entries.length;f++)$+=C.subs.entries[f].sample_delta,P=T.samples[$-1],P.subsamples=C.subs.entries[f].subsamples}}}},y.prototype.getSample=function(u,f){var p,v=u.samples[f];if(!this.moov)return null;if(!v.data)v.data=new Uint8Array(v.size),v.alreadyRead=0,this.samplesDataSize+=v.size,e.debug("ISOFile","Allocating sample #"+f+" on track #"+u.tkhd.track_id+" of size "+v.size+" (total: "+this.samplesDataSize+")");else if(v.alreadyRead==v.size)return v;for(;;){var _=this.stream.findPosition(!0,v.offset+v.alreadyRead,!1);if(_>-1){p=this.stream.buffers[_];var w=p.byteLength-(v.offset+v.alreadyRead-p.fileStart);if(v.size-v.alreadyRead<=w)return e.debug("ISOFile","Getting sample #"+f+" data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+(v.size-v.alreadyRead)+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,v.size-v.alreadyRead),p.usedBytes+=v.size-v.alreadyRead,this.stream.logBufferLevel(),v.alreadyRead=v.size,v;if(w===0)return null;e.debug("ISOFile","Getting sample #"+f+" partial data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+w+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,w),v.alreadyRead+=w,p.usedBytes+=w,this.stream.logBufferLevel()}else return null}},y.prototype.releaseSample=function(u,f){var p=u.samples[f];return p.data?(this.samplesDataSize-=p.size,p.data=null,p.alreadyRead=0,p.size):0},y.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},y.prototype.getCodecs=function(){var u,f="";for(u=0;u<this.moov.traks.length;u++){var p=this.moov.traks[u];u>0&&(f+=","),f+=p.mdia.minf.stbl.stsd.entries[0].getCodec()}return f},y.prototype.getTrexById=function(u){var f;if(!this.moov||!this.moov.mvex)return null;for(f=0;f<this.moov.mvex.trexs.length;f++){var p=this.moov.mvex.trexs[f];if(p.track_id==u)return p}return null},y.prototype.getTrackById=function(u){if(this.moov===void 0)return null;for(var f=0;f<this.moov.traks.length;f++){var p=this.moov.traks[f];if(p.tkhd.track_id==u)return p}return null},y.prototype.itemsDataSize=0,y.prototype.flattenItemInfo=function(){var u=this.items,f=this.entity_groups,p,v,_,w=this.meta;if(w!=null&&w.hdlr!==void 0&&w.iinf!==void 0){for(p=0;p<w.iinf.item_infos.length;p++)_={},_.id=w.iinf.item_infos[p].item_ID,u[_.id]=_,_.ref_to=[],_.name=w.iinf.item_infos[p].item_name,w.iinf.item_infos[p].protection_index>0&&(_.protection=w.ipro.protections[w.iinf.item_infos[p].protection_index-1]),w.iinf.item_infos[p].item_type?_.type=w.iinf.item_infos[p].item_type:_.type="mime",_.content_type=w.iinf.item_infos[p].content_type,_.content_encoding=w.iinf.item_infos[p].content_encoding;if(w.grpl)for(p=0;p<w.grpl.boxes.length;p++)entity_group={},entity_group.id=w.grpl.boxes[p].group_id,entity_group.entity_ids=w.grpl.boxes[p].entity_ids,entity_group.type=w.grpl.boxes[p].type,f[entity_group.id]=entity_group;if(w.iloc)for(p=0;p<w.iloc.items.length;p++){var x=w.iloc.items[p];switch(_=u[x.item_ID],x.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),_.source=w.dinf.boxes[x.data_reference_index-1]),x.construction_method){case 0:break;case 1:break;case 2:e.warn("Item storage with construction_method : not supported");break}for(_.extents=[],_.size=0,v=0;v<x.extents.length;v++)_.extents[v]={},_.extents[v].offset=x.extents[v].extent_offset+x.base_offset,x.construction_method==1&&(_.extents[v].offset+=w.idat.start+w.idat.hdr_size),_.extents[v].length=x.extents[v].extent_length,_.extents[v].alreadyRead=0,_.size+=_.extents[v].length}if(w.pitm&&(u[w.pitm.item_id].primary=!0),w.iref)for(p=0;p<w.iref.references.length;p++){var S=w.iref.references[p];for(v=0;v<S.references.length;v++)u[S.from_item_ID].ref_to.push({type:S.type,id:S.references[v]})}if(w.iprp)for(var A=0;A<w.iprp.ipmas.length;A++){var D=w.iprp.ipmas[A];for(p=0;p<D.associations.length;p++){var C=D.associations[p];if(_=u[C.id],_||(_=f[C.id]),_)for(_.properties===void 0&&(_.properties={},_.properties.boxes=[]),v=0;v<C.props.length;v++){var T=C.props[v];if(T.property_index>0&&T.property_index-1<w.iprp.ipco.boxes.length){var R=w.iprp.ipco.boxes[T.property_index-1];_.properties[R.type]=R,_.properties.boxes.push(R)}}}}}},y.prototype.getItem=function(u){var f,p;if(!this.meta)return null;if(p=this.items[u],!p.data&&p.size)p.data=new Uint8Array(p.size),p.alreadyRead=0,this.itemsDataSize+=p.size,e.debug("ISOFile","Allocating item #"+u+" of size "+p.size+" (total: "+this.itemsDataSize+")");else if(p.alreadyRead===p.size)return p;for(var v=0;v<p.extents.length;v++){var _=p.extents[v];if(_.alreadyRead!==_.length){var w=this.stream.findPosition(!0,_.offset+_.alreadyRead,!1);if(w>-1){f=this.stream.buffers[w];var x=f.byteLength-(_.offset+_.alreadyRead-f.fileStart);if(_.length-_.alreadyRead<=x)e.debug("ISOFile","Getting item #"+u+" extent #"+v+" data (alreadyRead: "+_.alreadyRead+" offset: "+(_.offset+_.alreadyRead-f.fileStart)+" read size: "+(_.length-_.alreadyRead)+" full extent size: "+_.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,f,_.offset+_.alreadyRead-f.fileStart,_.length-_.alreadyRead),f.usedBytes+=_.length-_.alreadyRead,this.stream.logBufferLevel(),p.alreadyRead+=_.length-_.alreadyRead,_.alreadyRead=_.length;else return e.debug("ISOFile","Getting item #"+u+" extent #"+v+" partial data (alreadyRead: "+_.alreadyRead+" offset: "+(_.offset+_.alreadyRead-f.fileStart)+" read size: "+x+" full extent size: "+_.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,f,_.offset+_.alreadyRead-f.fileStart,x),_.alreadyRead+=x,p.alreadyRead+=x,f.usedBytes+=x,this.stream.logBufferLevel(),null}else return null}}return p.alreadyRead===p.size?p:null},y.prototype.releaseItem=function(u){var f=this.items[u];if(f.data){this.itemsDataSize-=f.size,f.data=null,f.alreadyRead=0;for(var p=0;p<f.extents.length;p++){var v=f.extents[p];v.alreadyRead=0}return f.size}else return 0},y.prototype.processItems=function(u){for(var f in this.items){var p=this.items[f];this.getItem(p.id),u&&!p.sent&&(u(p),p.sent=!0,p.data=null)}},y.prototype.hasItem=function(u){for(var f in this.items){var p=this.items[f];if(p.name===u)return p.id}return-1},y.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},y.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},y.prototype.itemToFragmentedTrackFile=function(u){var f=u||{},p=null;if(f.itemId?p=this.getItem(f.itemId):p=this.getPrimaryItem(),p==null)return null;var v=new y;v.discardMdatData=!1;var _={type:p.type,description_boxes:p.properties.boxes};p.properties.ispe&&(_.width=p.properties.ispe.image_width,_.height=p.properties.ispe.image_height);var w=v.addTrack(_);return w?(v.addSample(w,p.data),v):null},y.prototype.write=function(u){for(var f=0;f<this.boxes.length;f++)this.boxes[f].write(u)},y.prototype.createFragment=function(u,f,p){var v=this.getTrackById(u),_=this.getSample(v,f);if(_==null)return this.setNextSeekPositionFromSample(v.samples[f]),null;var w=p||new n;w.endianness=n.BIG_ENDIAN;var x=this.createSingleSampleMoof(_);x.write(w),x.trafs[0].truns[0].data_offset=x.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+x.trafs[0].truns[0].data_offset),w.adjustUint32(x.trafs[0].truns[0].data_offset_position,x.trafs[0].truns[0].data_offset);var S=new l.mdatBox;return S.data=_.data,S.write(w),w},y.writeInitializationSegment=function(u,f,p,v){var _;e.debug("ISOFile","Generating initialization segment");var w=new n;w.endianness=n.BIG_ENDIAN,u.write(w);var x=f.add("mvex");for(p&&x.add("mehd").set("fragment_duration",p),_=0;_<f.traks.length;_++)x.add("trex").set("track_id",f.traks[_].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",v).set("default_sample_size",0).set("default_sample_flags",65536);return f.write(w),w.buffer},y.prototype.save=function(u){var f=new n;f.endianness=n.BIG_ENDIAN,this.write(f),f.save(u)},y.prototype.getBuffer=function(){var u=new n;return u.endianness=n.BIG_ENDIAN,this.write(u),u.buffer},y.prototype.initializeSegmentation=function(){var u,f,p,v;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),f=[],u=0;u<this.fragmentedTracks.length;u++){var _=new l.moovBox;_.mvhd=this.moov.mvhd,_.boxes.push(_.mvhd),p=this.getTrackById(this.fragmentedTracks[u].id),_.boxes.push(p),_.traks.push(p),v={},v.id=p.tkhd.track_id,v.user=this.fragmentedTracks[u].user,v.buffer=y.writeInitializationSegment(this.ftyp,_,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[u].samples.length>0?this.moov.traks[u].samples[0].duration:0),f.push(v)}return f},l.Box.prototype.printHeader=function(u){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),u.log(u.indent+"size:"+this.size),u.log(u.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(u){this.size+=4,l.Box.prototype.printHeader.call(this,u),u.log(u.indent+"version:"+this.version),u.log(u.indent+"flags:"+this.flags)},l.Box.prototype.print=function(u){this.printHeader(u)},l.ContainerBox.prototype.print=function(u){this.printHeader(u);for(var f=0;f<this.boxes.length;f++)if(this.boxes[f]){var p=u.indent;u.indent+=" ",this.boxes[f].print(u),u.indent=p}},y.prototype.print=function(u){u.indent="";for(var f=0;f<this.boxes.length;f++)this.boxes[f]&&this.boxes[f].print(u)},l.mvhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"timescale: "+this.timescale),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"rate: "+this.rate),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"track_id: "+this.track_id),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"layer: "+this.layer),u.log(u.indent+"alternate_group: "+this.alternate_group),u.log(u.indent+"width: "+this.width),u.log(u.indent+"height: "+this.height)};var b={};b.createFile=function(u,f){var p=u!==void 0?u:!0,v=new y(f);return v.discardMdatData=!p,v},t.createFile=b.createFile})(Qz);const bVe=Un(Qz);var qce=typeof global=="object"&&global&&global.Object===Object&&global;const Jz=qce;var Zce=typeof self=="object"&&self&&self.Object===Object&&self,Qce=Jz||Zce||Function("return this")();const la=Qce;var Jce=la.Symbol;const hh=Jce;var e7=Object.prototype,ede=e7.hasOwnProperty,tde=e7.toString,Lp=hh?hh.toStringTag:void 0;function rde(t){var e=ede.call(t,Lp),r=t[Lp];try{t[Lp]=void 0;var n=!0}catch(o){}var s=tde.call(t);return n&&(e?t[Lp]=r:delete t[Lp]),s}var nde=Object.prototype,ide=nde.toString;function sde(t){return ide.call(t)}var ode="[object Null]",ade="[object Undefined]",rN=hh?hh.toStringTag:void 0;function Vh(t){return t==null?t===void 0?ade:ode:rN&&rN in Object(t)?rde(t):sde(t)}function gd(t){return t!=null&&typeof t=="object"}var lde=Array.isArray;const Lm=lde;function Vu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function t7(t){return t}var ude="[object AsyncFunction]",cde="[object Function]",dde="[object GeneratorFunction]",fde="[object Proxy]";function jR(t){if(!Vu(t))return!1;var e=Vh(t);return e==cde||e==dde||e==ude||e==fde}var hde=la["__core-js_shared__"];const SS=hde;var nN=function(){var t=/[^.]+$/.exec(SS&&SS.keys&&SS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pde(t){return!!nN&&nN in t}var gde=Function.prototype,mde=gde.toString;function md(t){if(t!=null){try{return mde.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vde=/[\\^$.*+?()[\]{}|]/g,yde=/^\[object .+?Constructor\]$/,_de=Function.prototype,bde=Object.prototype,wde=_de.toString,xde=bde.hasOwnProperty,Ede=RegExp("^"+wde.call(xde).replace(vde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sde(t){if(!Vu(t)||pde(t))return!1;var e=jR(t)?Ede:yde;return e.test(md(t))}function Cde(t,e){return t==null?void 0:t[e]}function vd(t,e){var r=Cde(t,e);return Sde(r)?r:void 0}var Ade=vd(la,"WeakMap");const kT=Ade;var iN=Object.create,Tde=function(){function t(){}return function(e){if(!Vu(e))return{};if(iN)return iN(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Dde=Tde;function Pde(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function r7(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Rde=800,Ode=16,Ide=Date.now;function Bde(t){var e=0,r=0;return function(){var n=Ide(),s=Ode-(n-r);if(r=n,s>0){if(++e>=Rde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Fde(t){return function(){return t}}var Mde=function(){try{var t=vd(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const q1=Mde;var kde=q1?function(t,e){return q1(t,"toString",{configurable:!0,enumerable:!1,value:Fde(e),writable:!0})}:t7;const Nde=kde;var Lde=Bde(Nde);const Ude=Lde;function $de(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var jde=9007199254740991,zde=/^(?:0|[1-9]\d*)$/;function n7(t,e){var r=typeof t;return e=e==null?jde:e,!!e&&(r=="number"||r!="symbol"&&zde.test(t))&&t>-1&&t%1==0&&t<e}function zR(t,e,r){e=="__proto__"&&q1?q1(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Zw(t,e){return t===e||t!==t&&e!==e}var Gde=Object.prototype,Vde=Gde.hasOwnProperty;function i7(t,e,r){var n=t[e];(!(Vde.call(t,e)&&Zw(n,r))||r===void 0&&!(e in t))&&zR(t,e,r)}function ey(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?zR(r,l,c):i7(r,l,c)}return r}var sN=Math.max;function Hde(t,e,r){return e=sN(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=sN(n.length-e,0),a=Array(o);++s<o;)a[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(a),Pde(t,this,l)}}function Wde(t,e){return Ude(Hde(t,e,t7),t+"")}var Kde=9007199254740991;function s7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Kde}function Qw(t){return t!=null&&s7(t.length)&&!jR(t)}function Yde(t,e,r){if(!Vu(r))return!1;var n=typeof e;return(n=="number"?Qw(r)&&n7(e,r.length):n=="string"&&e in r)?Zw(r[e],t):!1}function Xde(t){return Wde(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,a&&Yde(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,o)}return e})}var qde=Object.prototype;function GR(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qde;return t===r}function Zde(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Qde="[object Arguments]";function oN(t){return gd(t)&&Vh(t)==Qde}var o7=Object.prototype,Jde=o7.hasOwnProperty,efe=o7.propertyIsEnumerable,tfe=oN(function(){return arguments}())?oN:function(t){return gd(t)&&Jde.call(t,"callee")&&!efe.call(t,"callee")};const NT=tfe;function rfe(){return!1}var a7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,aN=a7&&typeof module=="object"&&module&&!module.nodeType&&module,nfe=aN&&aN.exports===a7,lN=nfe?la.Buffer:void 0,ife=lN?lN.isBuffer:void 0,sfe=ife||rfe;const VR=sfe;var ofe="[object Arguments]",afe="[object Array]",lfe="[object Boolean]",ufe="[object Date]",cfe="[object Error]",dfe="[object Function]",ffe="[object Map]",hfe="[object Number]",pfe="[object Object]",gfe="[object RegExp]",mfe="[object Set]",vfe="[object String]",yfe="[object WeakMap]",_fe="[object ArrayBuffer]",bfe="[object DataView]",wfe="[object Float32Array]",xfe="[object Float64Array]",Efe="[object Int8Array]",Sfe="[object Int16Array]",Cfe="[object Int32Array]",Afe="[object Uint8Array]",Tfe="[object Uint8ClampedArray]",Dfe="[object Uint16Array]",Pfe="[object Uint32Array]",vr={};vr[wfe]=vr[xfe]=vr[Efe]=vr[Sfe]=vr[Cfe]=vr[Afe]=vr[Tfe]=vr[Dfe]=vr[Pfe]=!0;vr[ofe]=vr[afe]=vr[_fe]=vr[lfe]=vr[bfe]=vr[ufe]=vr[cfe]=vr[dfe]=vr[ffe]=vr[hfe]=vr[pfe]=vr[gfe]=vr[mfe]=vr[vfe]=vr[yfe]=!1;function Rfe(t){return gd(t)&&s7(t.length)&&!!vr[Vh(t)]}function HR(t){return function(e){return t(e)}}var l7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kg=l7&&typeof module=="object"&&module&&!module.nodeType&&module,Ofe=kg&&kg.exports===l7,CS=Ofe&&Jz.process,Ife=function(){try{var t=kg&&kg.require&&kg.require("util").types;return t||CS&&CS.binding&&CS.binding("util")}catch(e){}}();const ph=Ife;var uN=ph&&ph.isTypedArray,Bfe=uN?HR(uN):Rfe;const u7=Bfe;var Ffe=Object.prototype,Mfe=Ffe.hasOwnProperty;function c7(t,e){var r=Lm(t),n=!r&&NT(t),s=!r&&!n&&VR(t),o=!r&&!n&&!s&&u7(t),a=r||n||s||o,l=a?Zde(t.length,String):[],c=l.length;for(var d in t)(e||Mfe.call(t,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||n7(d,c)))&&l.push(d);return l}function d7(t,e){return function(r){return t(e(r))}}var kfe=d7(Object.keys,Object);const Nfe=kfe;var Lfe=Object.prototype,Ufe=Lfe.hasOwnProperty;function $fe(t){if(!GR(t))return Nfe(t);var e=[];for(var r in Object(t))Ufe.call(t,r)&&r!="constructor"&&e.push(r);return e}function WR(t){return Qw(t)?c7(t):$fe(t)}function jfe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var zfe=Object.prototype,Gfe=zfe.hasOwnProperty;function Vfe(t){if(!Vu(t))return jfe(t);var e=GR(t),r=[];for(var n in t)n=="constructor"&&(e||!Gfe.call(t,n))||r.push(n);return r}function ty(t){return Qw(t)?c7(t,!0):Vfe(t)}var Hfe=vd(Object,"create");const Um=Hfe;function Wfe(){this.__data__=Um?Um(null):{},this.size=0}function Kfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yfe="__lodash_hash_undefined__",Xfe=Object.prototype,qfe=Xfe.hasOwnProperty;function Zfe(t){var e=this.__data__;if(Um){var r=e[t];return r===Yfe?void 0:r}return qfe.call(e,t)?e[t]:void 0}var Qfe=Object.prototype,Jfe=Qfe.hasOwnProperty;function ehe(t){var e=this.__data__;return Um?e[t]!==void 0:Jfe.call(e,t)}var the="__lodash_hash_undefined__";function rhe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Um&&e===void 0?the:e,this}function Jc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jc.prototype.clear=Wfe;Jc.prototype.delete=Kfe;Jc.prototype.get=Zfe;Jc.prototype.has=ehe;Jc.prototype.set=rhe;function nhe(){this.__data__=[],this.size=0}function Jw(t,e){for(var r=t.length;r--;)if(Zw(t[r][0],e))return r;return-1}var ihe=Array.prototype,she=ihe.splice;function ohe(t){var e=this.__data__,r=Jw(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():she.call(e,r,1),--this.size,!0}function ahe(t){var e=this.__data__,r=Jw(e,t);return r<0?void 0:e[r][1]}function lhe(t){return Jw(this.__data__,t)>-1}function uhe(t,e){var r=this.__data__,n=Jw(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function hl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hl.prototype.clear=nhe;hl.prototype.delete=ohe;hl.prototype.get=ahe;hl.prototype.has=lhe;hl.prototype.set=uhe;var che=vd(la,"Map");const $m=che;function dhe(){this.size=0,this.__data__={hash:new Jc,map:new($m||hl),string:new Jc}}function fhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ex(t,e){var r=t.__data__;return fhe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function hhe(t){var e=ex(this,t).delete(t);return this.size-=e?1:0,e}function phe(t){return ex(this,t).get(t)}function ghe(t){return ex(this,t).has(t)}function mhe(t,e){var r=ex(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Hh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hh.prototype.clear=dhe;Hh.prototype.delete=hhe;Hh.prototype.get=phe;Hh.prototype.has=ghe;Hh.prototype.set=mhe;function f7(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var vhe=d7(Object.getPrototypeOf,Object);const KR=vhe;var yhe="[object Object]",_he=Function.prototype,bhe=Object.prototype,h7=_he.toString,whe=bhe.hasOwnProperty,xhe=h7.call(Object);function Ehe(t){if(!gd(t)||Vh(t)!=yhe)return!1;var e=KR(t);if(e===null)return!0;var r=whe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&h7.call(r)==xhe}function She(){this.__data__=new hl,this.size=0}function Che(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ahe(t){return this.__data__.get(t)}function The(t){return this.__data__.has(t)}var Dhe=200;function Phe(t,e){var r=this.__data__;if(r instanceof hl){var n=r.__data__;if(!$m||n.length<Dhe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hh(n)}return r.set(t,e),this.size=r.size,this}function yd(t){var e=this.__data__=new hl(t);this.size=e.size}yd.prototype.clear=She;yd.prototype.delete=Che;yd.prototype.get=Ahe;yd.prototype.has=The;yd.prototype.set=Phe;function Rhe(t,e){return t&&ey(e,WR(e),t)}function Ohe(t,e){return t&&ey(e,ty(e),t)}var p7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cN=p7&&typeof module=="object"&&module&&!module.nodeType&&module,Ihe=cN&&cN.exports===p7,dN=Ihe?la.Buffer:void 0,fN=dN?dN.allocUnsafe:void 0;function g7(t,e){if(e)return t.slice();var r=t.length,n=fN?fN(r):new t.constructor(r);return t.copy(n),n}function Bhe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[s++]=a)}return o}function m7(){return[]}var Fhe=Object.prototype,Mhe=Fhe.propertyIsEnumerable,hN=Object.getOwnPropertySymbols,khe=hN?function(t){return t==null?[]:(t=Object(t),Bhe(hN(t),function(e){return Mhe.call(t,e)}))}:m7;const YR=khe;function Nhe(t,e){return ey(t,YR(t),e)}var Lhe=Object.getOwnPropertySymbols,Uhe=Lhe?function(t){for(var e=[];t;)f7(e,YR(t)),t=KR(t);return e}:m7;const v7=Uhe;function $he(t,e){return ey(t,v7(t),e)}function y7(t,e,r){var n=e(t);return Lm(t)?n:f7(n,r(t))}function jhe(t){return y7(t,WR,YR)}function zhe(t){return y7(t,ty,v7)}var Ghe=vd(la,"DataView");const LT=Ghe;var Vhe=vd(la,"Promise");const UT=Vhe;var Hhe=vd(la,"Set");const $T=Hhe;var pN="[object Map]",Whe="[object Object]",gN="[object Promise]",mN="[object Set]",vN="[object WeakMap]",yN="[object DataView]",Khe=md(LT),Yhe=md($m),Xhe=md(UT),qhe=md($T),Zhe=md(kT),fc=Vh;(LT&&fc(new LT(new ArrayBuffer(1)))!=yN||$m&&fc(new $m)!=pN||UT&&fc(UT.resolve())!=gN||$T&&fc(new $T)!=mN||kT&&fc(new kT)!=vN)&&(fc=function(t){var e=Vh(t),r=e==Whe?t.constructor:void 0,n=r?md(r):"";if(n)switch(n){case Khe:return yN;case Yhe:return pN;case Xhe:return gN;case qhe:return mN;case Zhe:return vN}return e});const XR=fc;var Qhe=Object.prototype,Jhe=Qhe.hasOwnProperty;function epe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Jhe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var tpe=la.Uint8Array;const _N=tpe;function qR(t){var e=new t.constructor(t.byteLength);return new _N(e).set(new _N(t)),e}function rpe(t,e){var r=e?qR(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var npe=/\w*$/;function ipe(t){var e=new t.constructor(t.source,npe.exec(t));return e.lastIndex=t.lastIndex,e}var bN=hh?hh.prototype:void 0,wN=bN?bN.valueOf:void 0;function spe(t){return wN?Object(wN.call(t)):{}}function _7(t,e){var r=e?qR(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var ope="[object Boolean]",ape="[object Date]",lpe="[object Map]",upe="[object Number]",cpe="[object RegExp]",dpe="[object Set]",fpe="[object String]",hpe="[object Symbol]",ppe="[object ArrayBuffer]",gpe="[object DataView]",mpe="[object Float32Array]",vpe="[object Float64Array]",ype="[object Int8Array]",_pe="[object Int16Array]",bpe="[object Int32Array]",wpe="[object Uint8Array]",xpe="[object Uint8ClampedArray]",Epe="[object Uint16Array]",Spe="[object Uint32Array]";function Cpe(t,e,r){var n=t.constructor;switch(e){case ppe:return qR(t);case ope:case ape:return new n(+t);case gpe:return rpe(t,r);case mpe:case vpe:case ype:case _pe:case bpe:case wpe:case xpe:case Epe:case Spe:return _7(t,r);case lpe:return new n;case upe:case fpe:return new n(t);case cpe:return ipe(t);case dpe:return new n;case hpe:return spe(t)}}function b7(t){return typeof t.constructor=="function"&&!GR(t)?Dde(KR(t)):{}}var Ape="[object Map]";function Tpe(t){return gd(t)&&XR(t)==Ape}var xN=ph&&ph.isMap,Dpe=xN?HR(xN):Tpe;const Ppe=Dpe;var Rpe="[object Set]";function Ope(t){return gd(t)&&XR(t)==Rpe}var EN=ph&&ph.isSet,Ipe=EN?HR(EN):Ope;const Bpe=Ipe;var Fpe=1,Mpe=2,kpe=4,w7="[object Arguments]",Npe="[object Array]",Lpe="[object Boolean]",Upe="[object Date]",$pe="[object Error]",x7="[object Function]",jpe="[object GeneratorFunction]",zpe="[object Map]",Gpe="[object Number]",E7="[object Object]",Vpe="[object RegExp]",Hpe="[object Set]",Wpe="[object String]",Kpe="[object Symbol]",Ype="[object WeakMap]",Xpe="[object ArrayBuffer]",qpe="[object DataView]",Zpe="[object Float32Array]",Qpe="[object Float64Array]",Jpe="[object Int8Array]",ege="[object Int16Array]",tge="[object Int32Array]",rge="[object Uint8Array]",nge="[object Uint8ClampedArray]",ige="[object Uint16Array]",sge="[object Uint32Array]",ur={};ur[w7]=ur[Npe]=ur[Xpe]=ur[qpe]=ur[Lpe]=ur[Upe]=ur[Zpe]=ur[Qpe]=ur[Jpe]=ur[ege]=ur[tge]=ur[zpe]=ur[Gpe]=ur[E7]=ur[Vpe]=ur[Hpe]=ur[Wpe]=ur[Kpe]=ur[rge]=ur[nge]=ur[ige]=ur[sge]=!0;ur[$pe]=ur[x7]=ur[Ype]=!1;function M_(t,e,r,n,s,o){var a,l=e&Fpe,c=e&Mpe,d=e&kpe;if(r&&(a=s?r(t,n,s,o):r(t)),a!==void 0)return a;if(!Vu(t))return t;var h=Lm(t);if(h){if(a=epe(t),!l)return r7(t,a)}else{var g=XR(t),m=g==x7||g==jpe;if(VR(t))return g7(t,l);if(g==E7||g==w7||m&&!s){if(a=c||m?{}:b7(t),!l)return c?$he(t,Ohe(a,t)):Nhe(t,Rhe(a,t))}else{if(!ur[g])return s?t:{};a=Cpe(t,g,l)}}o||(o=new yd);var y=o.get(t);if(y)return y;o.set(t,a),Bpe(t)?t.forEach(function(f){a.add(M_(f,e,r,f,t,o))}):Ppe(t)&&t.forEach(function(f,p){a.set(p,M_(f,e,r,p,t,o))});var b=d?c?zhe:jhe:c?ty:WR,u=h?void 0:b(t);return $de(u||t,function(f,p){u&&(p=f,f=t[p]),i7(a,p,M_(f,e,r,p,t,o))}),a}var oge=1,age=4;function wVe(t){return M_(t,oge|age)}function lge(t){return function(e,r,n){for(var s=-1,o=Object(e),a=n(e),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}var uge=lge();const cge=uge;function jT(t,e,r){(r!==void 0&&!Zw(t[e],r)||r===void 0&&!(e in t))&&zR(t,e,r)}function dge(t){return gd(t)&&Qw(t)}function zT(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function fge(t){return ey(t,ty(t))}function hge(t,e,r,n,s,o,a){var l=zT(t,r),c=zT(e,r),d=a.get(c);if(d){jT(t,r,d);return}var h=o?o(l,c,r+"",t,e,a):void 0,g=h===void 0;if(g){var m=Lm(c),y=!m&&VR(c),b=!m&&!y&&u7(c);h=c,m||y||b?Lm(l)?h=l:dge(l)?h=r7(l):y?(g=!1,h=g7(c,!0)):b?(g=!1,h=_7(c,!0)):h=[]:Ehe(c)||NT(c)?(h=l,NT(l)?h=fge(l):(!Vu(l)||jR(l))&&(h=b7(c))):g=!1}g&&(a.set(c,h),s(h,c,n,o,a),a.delete(c)),jT(t,r,h)}function S7(t,e,r,n,s){t!==e&&cge(e,function(o,a){if(s||(s=new yd),Vu(o))hge(t,e,a,r,S7,n,s);else{var l=n?n(zT(t,a),o,a+"",t,e,s):void 0;l===void 0&&(l=o),jT(t,a,l)}},ty)}var pge=Xde(function(t,e,r){S7(t,e,r)});const xVe=pge;function Aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var es={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},gh={duration:.5,overwrite:!1,delay:0},ZR,Xn,jr,Fs=1e8,or=1/Fs,GT=Math.PI*2,gge=GT/4,mge=0,A7=Math.sqrt,vge=Math.cos,yge=Math.sin,Rn=function(e){return typeof e=="string"},zr=function(e){return typeof e=="function"},tl=function(e){return typeof e=="number"},QR=function(e){return typeof e>"u"},ra=function(e){return typeof e=="object"},Ii=function(e){return e!==!1},JR=function(){return typeof window<"u"},D0=function(e){return zr(e)||Rn(e)},T7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},qn=Array.isArray,VT=/(?:-?\.?\d|\.)+/gi,D7=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ef=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,AS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,P7=/[+-]=-?[.\d]+/,R7=/[^,'"\[\]\s]+/gi,_ge=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Fr,_s,HT,eO,is={},Z1={},O7,I7=function(e){return(Z1=ed(e,is))&&ki},tO=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Q1=function(e,r){return!r&&console.warn(e)},B7=function(e,r){return e&&(is[e]=r)&&Z1&&(Z1[e]=r)||is},jm=function(){return 0},bge={suppressEvents:!0,isStart:!0,kill:!1},k_={suppressEvents:!0,kill:!1},wge={suppressEvents:!0},rO={},hu=[],WT={},F7,Hi={},TS={},SN=30,N_=[],nO="",iO=function(e){var r=e[0],n,s;if(ra(r)||zr(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=N_.length;s--&&!N_[s].targetTest(r););n=N_[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new iG(e[s],n)))||e.splice(s,1);return e},kc=function(e){return e._gsap||iO(Ms(e))[0]._gsap},M7=function(e,r,n){return(n=e[r])&&zr(n)?e[r]():QR(n)&&e.getAttribute&&e.getAttribute(r)||n},Bi=function(e,r){return(e=e.split(",")).forEach(r)||e},Kr=function(e){return Math.round(e*1e5)/1e5||0},Bn=function(e){return Math.round(e*1e7)/1e7||0},$f=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},xge=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},J1=function(){var e=hu.length,r=hu.slice(0),n,s;for(WT={},hu.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},k7=function(e,r,n,s){hu.length&&!Xn&&J1(),e.render(r,n,s||Xn&&r<0&&(e._initted||e._startAt)),hu.length&&!Xn&&J1()},N7=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(R7).length<2?r:Rn(e)?e.trim():e},L7=function(e){return e},Ws=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Ege=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},ed=function(e,r){for(var n in r)e[n]=r[n];return e},CN=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=ra(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},eb=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Ng=function(e){var r=e.parent||Fr,n=e.keyframes?Ege(qn(e.keyframes)):Ws;if(Ii(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},Sge=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},U7=function(e,r,n,s,o){n===void 0&&(n="_first"),s===void 0&&(s="_last");var a=e[s],l;if(o)for(l=r[o];a&&a[o]>l;)a=a._prev;return a?(r._next=a._next,a._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=a,r.parent=r._dp=e,r},tx=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=r._prev,a=r._next;o?o._next=a:e[n]===r&&(e[n]=a),a?a._prev=o:e[s]===r&&(e[s]=o),r._next=r._prev=r.parent=null},Eu=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Nc=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Cge=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},KT=function(e,r,n,s){return e._startAt&&(Xn?e._startAt.revert(k_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},Age=function t(e){return!e||e._ts&&t(e.parent)},AN=function(e){return e._repeat?mh(e._tTime,e=e.duration()+e._rDelay)*e:0},mh=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},tb=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},rx=function(e){return e._end=Bn(e._start+(e._tDur/Math.abs(e._ts||e._rts||or)||0))},nx=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Bn(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),rx(e),n._dirty||Nc(n,e)),e},$7=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=tb(e.rawTime(),r),(!r._dur||ry(0,r.totalDuration(),n)-r._tTime>or)&&r.render(n,!0)),Nc(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-or}},zo=function(e,r,n,s){return r.parent&&Eu(r),r._start=Bn((tl(n)?n:n||e!==Fr?ys(e,n,r):e._time)+r._delay),r._end=Bn(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),U7(e,r,"_first","_last",e._sort?"_start":0),YT(r)||(e._recent=r),s||$7(e,r),e._ts<0&&nx(e,e._tTime),e},j7=function(e,r){return(is.ScrollTrigger||tO("scrollTrigger",r))&&is.ScrollTrigger.create(r,e)},z7=function(e,r,n,s,o){if(oO(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!Xn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&F7!==Ki.frame)return hu.push(e),e._lazy=[o,s],1},Tge=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},YT=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},Dge=function(e,r,n,s){var o=e.ratio,a=r<0||!r&&(!e._start&&Tge(e)&&!(!e._initted&&YT(e))||(e._ts<0||e._dp._ts<0)&&!YT(e))?0:1,l=e._rDelay,c=0,d,h,g;if(l&&e._repeat&&(c=ry(0,e._tDur,r),h=mh(c,l),e._yoyo&&h&1&&(a=1-a),h!==mh(e._tTime,l)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||Xn||s||e._zTime===or||!r&&e._zTime){if(!e._initted&&z7(e,r,s,n,c))return;for(g=e._zTime,e._zTime=r||(n?or:0),n||(n=r&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,d=e._pt;d;)d.r(a,d.d),d=d._next;r<0&&KT(e,r,n,!0),e._onUpdate&&!n&&ks(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ks(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===a&&(a&&Eu(e,1),!n&&!Xn&&(ks(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},Pge=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},vh=function(e,r,n,s){var o=e._repeat,a=Bn(r)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:Bn(a*(o+1)+e._rDelay*o):a,l>0&&!s&&nx(e,e._tTime=e._tDur*l),e.parent&&rx(e),n||Nc(e.parent,e),e},TN=function(e){return e instanceof Ai?Nc(e):vh(e,e._dur)},Rge={_start:0,endTime:jm,totalDuration:jm},ys=function t(e,r,n){var s=e.labels,o=e._recent||Rge,a=e.duration()>=Fs?o.endTime(!1):e._dur,l,c,d;return Rn(r)&&(isNaN(r)||r in s)?(c=r.charAt(0),d=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(l<0?o:n).totalDuration()/100:1)):l<0?(r in s||(s[r]=a),s[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),d&&n&&(c=c/100*(qn(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:a+c)):r==null?a:+r},Lg=function(e,r,n){var s=tl(r[1]),o=(s?2:1)+(e<2?0:1),a=r[o],l,c;if(s&&(a.duration=r[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Ii(c.vars.inherit)&&c.parent;a.immediateRender=Ii(l.immediateRender),e<2?a.runBackwards=1:a.startAt=r[o-1]}return new en(r[0],a,r[o+1])},Hu=function(e,r){return e||e===0?r(e):r},ry=function(e,r,n){return n<e?e:n>r?r:n},Vn=function(e,r){return!Rn(e)||!(r=_ge.exec(e))?"":r[1]},Oge=function(e,r,n){return Hu(n,function(s){return ry(e,r,s)})},XT=[].slice,G7=function(e,r){return e&&ra(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ra(e[0]))&&!e.nodeType&&e!==_s},Ige=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return Rn(s)&&!r||G7(s,1)?(o=n).push.apply(o,Ms(s)):n.push(s)})||n},Ms=function(e,r,n){return jr&&!r&&jr.selector?jr.selector(e):Rn(e)&&!n&&(HT||!yh())?XT.call((r||eO).querySelectorAll(e),0):qn(e)?Ige(e,n):G7(e)?XT.call(e,0):e?[e]:[]},qT=function(e){return e=Ms(e)[0]||Q1("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return Ms(r,n.querySelectorAll?n:n===e?Q1("Invalid scope")||eO.createElement("div"):e)}},V7=function(e){return e.sort(function(){return .5-Math.random()})},H7=function(e){if(zr(e))return e;var r=ra(e)?e:{each:e},n=Lc(r.ease),s=r.from||0,o=parseFloat(r.base)||0,a={},l=s>0&&s<1,c=isNaN(s)||l,d=r.axis,h=s,g=s;return Rn(s)?h=g={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(h=s[0],g=s[1]),function(m,y,b){var u=(b||r).length,f=a[u],p,v,_,w,x,S,A,D,C;if(!f){if(C=r.grid==="auto"?0:(r.grid||[1,Fs])[1],!C){for(A=-Fs;A<(A=b[C++].getBoundingClientRect().left)&&C<u;);C--}for(f=a[u]=[],p=c?Math.min(C,u)*h-.5:s%C,v=C===Fs?0:c?u*g/C-.5:s/C|0,A=0,D=Fs,S=0;S<u;S++)_=S%C-p,w=v-(S/C|0),f[S]=x=d?Math.abs(d==="y"?w:_):A7(_*_+w*w),x>A&&(A=x),x<D&&(D=x);s==="random"&&V7(f),f.max=A-D,f.min=D,f.v=u=(parseFloat(r.amount)||parseFloat(r.each)*(C>u?u-1:d?d==="y"?u/C:C:Math.max(C,u/C))||0)*(s==="edges"?-1:1),f.b=u<0?o-u:o,f.u=Vn(r.amount||r.each)||0,n=n&&u<0?tG(n):n}return u=(f[m]-f.min)/f.max||0,Bn(f.b+(n?n(u):u)*f.v)+f.u}},ZT=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=Bn(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(tl(n)?0:Vn(n))}},W7=function(e,r){var n=qn(e),s,o;return!n&&ra(e)&&(s=n=e.radius||Fs,e.values?(e=Ms(e.values),(o=!tl(e[0]))&&(s*=s)):e=ZT(e.increment)),Hu(r,n?zr(e)?function(a){return o=e(a),Math.abs(o-a)<=s?o:a}:function(a){for(var l=parseFloat(o?a.x:a),c=parseFloat(o?a.y:0),d=Fs,h=0,g=e.length,m,y;g--;)o?(m=e[g].x-l,y=e[g].y-c,m=m*m+y*y):m=Math.abs(e[g]-l),m<d&&(d=m,h=g);return h=!s||d<=s?e[h]:a,o||h===a||tl(a)?h:h+Vn(a)}:ZT(e))},K7=function(e,r,n,s){return Hu(qn(e)?!r:n===!0?!!(n=0):!s,function(){return qn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},Bge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(o,a){return a(o)},s)}},Fge=function(e,r){return function(n){return e(parseFloat(n))+(r||Vn(n))}},Mge=function(e,r,n){return X7(e,r,0,1,n)},Y7=function(e,r,n){return Hu(n,function(s){return e[~~r(s)]})},kge=function t(e,r,n){var s=r-e;return qn(e)?Y7(e,t(0,e.length),r):Hu(n,function(o){return(s+(o-e)%s)%s+e})},Nge=function t(e,r,n){var s=r-e,o=s*2;return qn(e)?Y7(e,t(0,e.length-1),r):Hu(n,function(a){return a=(o+(a-e)%o)%o||0,e+(a>s?o-a:a)})},zm=function(e){for(var r=0,n="",s,o,a,l;~(s=e.indexOf("random(",r));)a=e.indexOf(")",s),l=e.charAt(s+7)==="[",o=e.substr(s+7,a-s-7).match(l?R7:VT),n+=e.substr(r,s-r)+K7(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),r=a+1;return n+e.substr(r,e.length-r)},X7=function(e,r,n,s,o){var a=r-e,l=s-n;return Hu(o,function(c){return n+((c-e)/a*l||0)})},Lge=function t(e,r,n,s){var o=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!o){var a=Rn(e),l={},c,d,h,g,m;if(n===!0&&(s=1)&&(n=null),a)e={p:e},r={p:r};else if(qn(e)&&!qn(r)){for(h=[],g=e.length,m=g-2,d=1;d<g;d++)h.push(t(e[d-1],e[d]));g--,o=function(b){b*=g;var u=Math.min(m,~~b);return h[u](b-u)},n=r}else s||(e=ed(qn(e)?[]:{},e));if(!h){for(c in r)sO.call(l,e,c,"get",r[c]);o=function(b){return uO(b,l)||(a?e.p:e)}}}return Hu(n,o)},DN=function(e,r,n){var s=e.labels,o=Fs,a,l,c;for(a in s)l=s[a]-r,l<0==!!n&&l&&o>(l=Math.abs(l))&&(c=a,o=l);return c},ks=function(e,r,n){var s=e.vars,o=s[r],a=jr,l=e._ctx,c,d,h;if(o)return c=s[r+"Params"],d=s.callbackScope||e,n&&hu.length&&J1(),l&&(jr=l),h=c?o.apply(d,c):o.call(d),jr=a,h},lg=function(e){return Eu(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Xn),e.progress()<1&&ks(e,"onInterrupt"),e},Sf,q7=[],Z7=function(e){if(JR()&&e){e=!e.name&&e.default||e;var r=e.name,n=zr(e),s=r&&!n&&e.init?function(){this._props=[]}:e,o={init:jm,render:uO,add:sO,kill:eme,modifier:Jge,rawVars:0},a={targetTest:0,get:0,getSetter:lO,aliases:{},register:0};if(yh(),e!==s){if(Hi[r])return;Ws(s,Ws(eb(e,o),a)),ed(s.prototype,ed(o,eb(e,a))),Hi[s.prop=r]=s,e.targetTest&&(N_.push(s),rO[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}B7(r,s),e.register&&e.register(ki,s,Fi)}else e&&q7.push(e)},sr=255,ug={aqua:[0,sr,sr],lime:[0,sr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,sr],navy:[0,0,128],white:[sr,sr,sr],olive:[128,128,0],yellow:[sr,sr,0],orange:[sr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[sr,0,0],pink:[sr,192,203],cyan:[0,sr,sr],transparent:[sr,sr,sr,0]},DS=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*sr+.5|0},Q7=function(e,r,n){var s=e?tl(e)?[e>>16,e>>8&sr,e&sr]:0:ug.black,o,a,l,c,d,h,g,m,y,b;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ug[e])s=ug[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+o+o+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&sr,s&sr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&sr,e&sr]}else if(e.substr(0,3)==="hsl"){if(s=b=e.match(VT),!r)c=+s[0]%360/360,d=+s[1]/100,h=+s[2]/100,a=h<=.5?h*(d+1):h+d-h*d,o=h*2-a,s.length>3&&(s[3]*=1),s[0]=DS(c+1/3,o,a),s[1]=DS(c,o,a),s[2]=DS(c-1/3,o,a);else if(~e.indexOf("="))return s=e.match(D7),n&&s.length<4&&(s[3]=1),s}else s=e.match(VT)||ug.transparent;s=s.map(Number)}return r&&!b&&(o=s[0]/sr,a=s[1]/sr,l=s[2]/sr,g=Math.max(o,a,l),m=Math.min(o,a,l),h=(g+m)/2,g===m?c=d=0:(y=g-m,d=h>.5?y/(2-g-m):y/(g+m),c=g===o?(a-l)/y+(a<l?6:0):g===a?(l-o)/y+2:(o-a)/y+4,c*=60),s[0]=~~(c+.5),s[1]=~~(d*100+.5),s[2]=~~(h*100+.5)),n&&s.length<4&&(s[3]=1),s},J7=function(e){var r=[],n=[],s=-1;return e.split(pu).forEach(function(o){var a=o.match(Ef)||[];r.push.apply(r,a),n.push(s+=a.length+1)}),r.c=n,r},PN=function(e,r,n){var s="",o=(e+s).match(pu),a=r?"hsla(":"rgba(",l=0,c,d,h,g;if(!o)return e;if(o=o.map(function(m){return(m=Q7(m,r,1))&&a+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(h=J7(e),c=n.c,c.join(s)!==h.c.join(s)))for(d=e.replace(pu,"1").split(Ef),g=d.length-1;l<g;l++)s+=d[l]+(~c.indexOf(l)?o.shift()||a+"0,0,0,0)":(h.length?h:o.length?o:n).shift());if(!d)for(d=e.split(pu),g=d.length-1;l<g;l++)s+=d[l]+o[l];return s+d[g]},pu=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ug)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Uge=/hsl[a]?\(/,eG=function(e){var r=e.join(" "),n;if(pu.lastIndex=0,pu.test(r))return n=Uge.test(r),e[1]=PN(e[1],n),e[0]=PN(e[0],n,J7(e[1])),!0},Gm,Ki=function(){var t=Date.now,e=500,r=33,n=t(),s=n,o=1e3/240,a=o,l=[],c,d,h,g,m,y,b=function u(f){var p=t()-s,v=f===!0,_,w,x,S;if(p>e&&(n+=p-r),s+=p,x=s-n,_=x-a,(_>0||v)&&(S=++g.frame,m=x-g.time*1e3,g.time=x=x/1e3,a+=_+(_>=o?4:o-_),w=1),v||(c=d(u)),w)for(y=0;y<l.length;y++)l[y](x,m,S,f)};return g={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(f){return m/(1e3/(f||60))},wake:function(){O7&&(!HT&&JR()&&(_s=HT=window,eO=_s.document||{},is.gsap=ki,(_s.gsapVersions||(_s.gsapVersions=[])).push(ki.version),I7(Z1||_s.GreenSockGlobals||!_s.gsap&&_s||{}),h=_s.requestAnimationFrame,q7.forEach(Z7)),c&&g.sleep(),d=h||function(f){return setTimeout(f,a-g.time*1e3+1|0)},Gm=1,b(2))},sleep:function(){(h?_s.cancelAnimationFrame:clearTimeout)(c),Gm=0,d=jm},lagSmoothing:function(f,p){e=f||1/0,r=Math.min(p||33,e)},fps:function(f){o=1e3/(f||240),a=g.time*1e3+o},add:function(f,p,v){var _=p?function(w,x,S,A){f(w,x,S,A),g.remove(_)}:f;return g.remove(f),l[v?"unshift":"push"](_),yh(),_},remove:function(f,p){~(p=l.indexOf(f))&&l.splice(p,1)&&y>=p&&y--},_listeners:l},g}(),yh=function(){return!Gm&&Ki.wake()},Vt={},$ge=/^[\d.\-M][\d.\-,\s]/,jge=/["']/g,zge=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,a=n.length,l,c,d;o<a;o++)c=n[o],l=o!==a-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),r[s]=isNaN(d)?d.replace(jge,"").trim():+d,s=c.substr(l+1).trim();return r},Gge=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},Vge=function(e){var r=(e+"").split("("),n=Vt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[zge(r[1])]:Gge(e).split(",").map(N7)):Vt._CE&&$ge.test(e)?Vt._CE("",e):n},tG=function(e){return function(r){return 1-e(1-r)}},rG=function t(e,r){for(var n=e._first,s;n;)n instanceof Ai?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},Lc=function(e,r){return e&&(zr(e)?e:Vt[e]||Vge(e))||r},_d=function(e,r,n,s){n===void 0&&(n=function(c){return 1-r(1-c)}),s===void 0&&(s=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:s},a;return Bi(e,function(l){Vt[l]=is[l]=o,Vt[a=l.toLowerCase()]=n;for(var c in o)Vt[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Vt[l+"."+c]=o[c]}),o},nG=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},PS=function t(e,r,n){var s=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),a=o/GT*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*yge((h-a)*o)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:nG(l);return o=GT/o,c.config=function(d,h){return t(e,d,h)},c},RS=function t(e,r){r===void 0&&(r=1.70158);var n=function(a){return a?--a*a*((r+1)*a+r)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:nG(n);return s.config=function(o){return t(e,o)},s};Bi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;_d(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Vt.Linear.easeNone=Vt.none=Vt.Linear.easeIn;_d("Elastic",PS("in"),PS("out"),PS());(function(t,e){var r=1/e,n=2*r,s=2.5*r,o=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<s?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};_d("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);_d("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});_d("Circ",function(t){return-(A7(1-t*t)-1)});_d("Sine",function(t){return t===1?1:-vge(t*gge)+1});_d("Back",RS("in"),RS("out"),RS());Vt.SteppedEase=Vt.steps=is.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),o=r?1:0,a=1-or;return function(l){return((s*ry(0,a,l)|0)+o)*n}}};gh.ease=Vt["quad.out"];Bi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return nO+=t+","+t+"Params,"});var iG=function(e,r){this.id=mge++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:M7,this.set=r?r.getSetter:lO},Vm=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,vh(this,+r.duration,1,1),this.data=r.data,jr&&(this._ctx=jr,jr.data.push(this)),Gm||Ki.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,vh(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(yh(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(nx(this,n),!o._dp||o.parent||$7(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&zo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===or||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),k7(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+AN(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+AN(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?mh(this._tTime,o)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-or?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?tb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-or?0:this._rts,this.totalTime(ry(-Math.abs(this._delay),this._tDur,s),!0),rx(this),Cge(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==or&&(this._tTime-=or)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&zo(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ii(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?tb(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=wge);var s=Xn;return Xn=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Xn=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(s._ts||1),s=s._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,TN(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,TN(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(ys(this,n),Ii(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,Ii(s))},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-or:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-or,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-or)},e.eventCallback=function(n,s,o){var a=this.vars;return arguments.length>1?(s?(a[n]=s,o&&(a[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete a[n],this):a[n]},e.then=function(n){var s=this;return new Promise(function(o){var a=zr(n)?n:L7,l=function(){var d=s.then;s.then=null,zr(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=d),o(a),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){lg(this)},t}();Ws(Vm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-or,_prom:0,_ps:!1,_rts:1});var Ai=function(t){C7(e,t);function e(n,s){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=Ii(n.sortChildren),Fr&&zo(n.parent||Fr,Aa(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&j7(Aa(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(s,o,a){return Lg(0,arguments,this),this},r.from=function(s,o,a){return Lg(1,arguments,this),this},r.fromTo=function(s,o,a,l){return Lg(2,arguments,this),this},r.set=function(s,o,a){return o.duration=0,o.parent=this,Ng(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new en(s,o,ys(this,a),1),this},r.call=function(s,o,a){return zo(this,en.delayedCall(0,s,o),a)},r.staggerTo=function(s,o,a,l,c,d,h){return a.duration=o,a.stagger=a.stagger||l,a.onComplete=d,a.onCompleteParams=h,a.parent=this,new en(s,a,ys(this,c)),this},r.staggerFrom=function(s,o,a,l,c,d,h){return a.runBackwards=1,Ng(a).immediateRender=Ii(a.immediateRender),this.staggerTo(s,o,a,l,c,d,h)},r.staggerFromTo=function(s,o,a,l,c,d,h,g){return l.startAt=a,Ng(l).immediateRender=Ii(l.immediateRender),this.staggerTo(s,o,l,c,d,h,g)},r.render=function(s,o,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=s<=0?0:Bn(s),g=this._zTime<0!=s<0&&(this._initted||!d),m,y,b,u,f,p,v,_,w,x,S,A;if(this!==Fr&&h>c&&s>=0&&(h=c),h!==this._tTime||a||g){if(l!==this._time&&d&&(h+=this._time-l,s+=this._time-l),m=h,w=this._start,_=this._ts,p=!_,g&&(d||(l=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,f=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(f*100+s,o,a);if(m=Bn(h%f),h===c?(u=this._repeat,m=d):(u=~~(h/f),u&&u===h/f&&(m=d,u--),m>d&&(m=d)),x=mh(this._tTime,f),!l&&this._tTime&&x!==u&&this._tTime-x*f-this._dur<=0&&(x=u),S&&u&1&&(m=d-m,A=1),u!==x&&!this._lock){var D=S&&x&1,C=D===(S&&u&1);if(u<x&&(D=!D),l=D?0:h%d?d:h,this._lock=1,this.render(l||(A?0:Bn(u*f)),o,!d)._lock=0,this._tTime=h,!o&&this.parent&&ks(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),l&&l!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,C&&(this._lock=2,l=D?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;rG(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=Pge(this,Bn(l),Bn(m)),v&&(h-=m-(m=v._start))),this._tTime=h,this._time=m,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&m&&!o&&!u&&(ks(this,"onStart"),this._tTime!==h))return this;if(m>=l&&s>=0)for(y=this._first;y;){if(b=y._next,(y._act||m>=y._start)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,a);if(y.render(y._ts>0?(m-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(m-y._start)*y._ts,o,a),m!==this._time||!this._ts&&!p){v=0,b&&(h+=this._zTime=-or);break}}y=b}else{y=this._last;for(var T=s<0?s:m;y;){if(b=y._prev,(y._act||T<=y._end)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,a);if(y.render(y._ts>0?(T-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(T-y._start)*y._ts,o,a||Xn&&(y._initted||y._startAt)),m!==this._time||!this._ts&&!p){v=0,b&&(h+=this._zTime=T?-or:or);break}}y=b}}if(v&&!o&&(this.pause(),v.render(m>=l?0:-or)._zTime=m>=l?1:-1,this._ts))return this._start=w,rx(this),this.render(s,o,a);this._onUpdate&&!o&&ks(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&l)&&(w===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(h===c&&this._ts>0||!h&&this._ts<0)&&Eu(this,1),!o&&!(s<0&&!l)&&(h||l||!c)&&(ks(this,h===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,o){var a=this;if(tl(o)||(o=ys(this,o,s)),!(s instanceof Vm)){if(qn(s))return s.forEach(function(l){return a.add(l,o)}),this;if(Rn(s))return this.addLabel(s,o);if(zr(s))s=en.delayedCall(0,s);else return this}return this!==s?zo(this,s,o):this},r.getChildren=function(s,o,a,l){s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),l===void 0&&(l=-Fs);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof en?o&&c.push(d):(a&&c.push(d),s&&c.push.apply(c,d.getChildren(!0,o,a)))),d=d._next;return c},r.getById=function(s){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===s)return o[a]},r.remove=function(s){return Rn(s)?this.removeLabel(s):zr(s)?this.killTweensOf(s):(tx(this,s),s===this._recent&&(this._recent=this._last),Nc(this))},r.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Bn(Ki.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},r.addLabel=function(s,o){return this.labels[s]=ys(this,o),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,o,a){var l=en.delayedCall(0,o||jm,a);return l.data="isPause",this._hasPause=1,zo(this,l,ys(this,s))},r.removePause=function(s){var o=this._first;for(s=ys(this,s);o;)o._start===s&&o.data==="isPause"&&Eu(o),o=o._next},r.killTweensOf=function(s,o,a){for(var l=this.getTweensOf(s,a),c=l.length;c--;)ql!==l[c]&&l[c].kill(s,o);return this},r.getTweensOf=function(s,o){for(var a=[],l=Ms(s),c=this._first,d=tl(o),h;c;)c instanceof en?xge(c._targets,l)&&(d?(!ql||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&a.push(c):(h=c.getTweensOf(l,o)).length&&a.push.apply(a,h),c=c._next;return a},r.tweenTo=function(s,o){o=o||{};var a=this,l=ys(a,s),c=o,d=c.startAt,h=c.onStart,g=c.onStartParams,m=c.immediateRender,y,b=en.to(a,Ws({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale())||or,onStart:function(){if(a.pause(),!y){var f=o.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale());b._dur!==f&&vh(b,f,0,1).render(b._time,!0,!0),y=1}h&&h.apply(b,g||[])}},o));return m?b.render(0):b},r.tweenFromTo=function(s,o,a){return this.tweenTo(o,Ws({startAt:{time:ys(this,s)}},a))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),DN(this,ys(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),DN(this,ys(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+or)},r.shiftChildren=function(s,o,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,d;l;)l._start>=a&&(l._start+=s,l._end+=s),l=l._next;if(o)for(d in c)c[d]>=a&&(c[d]+=s);return Nc(this)},r.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Nc(this)},r.totalDuration=function(s){var o=0,a=this,l=a._last,c=Fs,d,h,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(g=a.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,zo(a,l,h-l._delay,1)._lock=0):c=h,h<0&&l._ts&&(o-=h,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=h/a._ts,a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=d;vh(a,a===Fr&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if(Fr._ts&&(k7(Fr,tb(s,Fr)),F7=Ki.frame),Ki.frame>=SN){SN+=es.autoSleep||120;var o=Fr._first;if((!o||!o._ts)&&es.autoSleep&&Ki._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Ki.sleep()}}},e}(Vm);Ws(Ai.prototype,{_lock:0,_hasPause:0,_forcing:0});var Hge=function(e,r,n,s,o,a,l){var c=new Fi(this._pt,e,r,0,1,cG,null,o),d=0,h=0,g,m,y,b,u,f,p,v;for(c.b=n,c.e=s,n+="",s+="",(p=~s.indexOf("random("))&&(s=zm(s)),a&&(v=[n,s],a(v,e,r),n=v[0],s=v[1]),m=n.match(AS)||[];g=AS.exec(s);)b=g[0],u=s.substring(d,g.index),y?y=(y+1)%5:u.substr(-5)==="rgba("&&(y=1),b!==m[h++]&&(f=parseFloat(m[h-1])||0,c._pt={_next:c._pt,p:u||h===1?u:",",s:f,c:b.charAt(1)==="="?$f(f,b)-f:parseFloat(b)-f,m:y&&y<4?Math.round:0},d=AS.lastIndex);return c.c=d<s.length?s.substring(d,s.length):"",c.fp=l,(P7.test(s)||p)&&(c.e=0),this._pt=c,c},sO=function(e,r,n,s,o,a,l,c,d,h){zr(s)&&(s=s(o||0,e,a));var g=e[r],m=n!=="get"?n:zr(g)?d?e[r.indexOf("set")||!zr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():g,y=zr(g)?d?qge:lG:aO,b;if(Rn(s)&&(~s.indexOf("random(")&&(s=zm(s)),s.charAt(1)==="="&&(b=$f(m,s)+(Vn(m)||0),(b||b===0)&&(s=b))),!h||m!==s||QT)return!isNaN(m*s)&&s!==""?(b=new Fi(this._pt,e,r,+m||0,s-(m||0),typeof g=="boolean"?Qge:uG,0,y),d&&(b.fp=d),l&&b.modifier(l,this,e),this._pt=b):(!g&&!(r in e)&&tO(r,s),Hge.call(this,e,r,m,s,y,c||es.stringFilter,d))},Wge=function(e,r,n,s,o){if(zr(e)&&(e=Ug(e,o,r,n,s)),!ra(e)||e.style&&e.nodeType||qn(e)||T7(e))return Rn(e)?Ug(e,o,r,n,s):e;var a={},l;for(l in e)a[l]=Ug(e[l],o,r,n,s);return a},sG=function(e,r,n,s,o,a){var l,c,d,h;if(Hi[e]&&(l=new Hi[e]).init(o,l.rawVars?r[e]:Wge(r[e],s,o,a,n),n,s,a)!==!1&&(n._pt=c=new Fi(n._pt,o,e,0,1,l.render,l,0,l.priority),n!==Sf))for(d=n._ptLookup[n._targets.indexOf(o)],h=l._props.length;h--;)d[l._props[h]]=c;return l},ql,QT,oO=function t(e,r,n){var s=e.vars,o=s.ease,a=s.startAt,l=s.immediateRender,c=s.lazy,d=s.onUpdate,h=s.onUpdateParams,g=s.callbackScope,m=s.runBackwards,y=s.yoyoEase,b=s.keyframes,u=s.autoRevert,f=e._dur,p=e._startAt,v=e._targets,_=e.parent,w=_&&_.data==="nested"?_.vars.targets:v,x=e._overwrite==="auto"&&!ZR,S=e.timeline,A,D,C,T,R,P,O,I,k,W,V,j,$;if(S&&(!b||!o)&&(o="none"),e._ease=Lc(o,gh.ease),e._yEase=y?tG(Lc(y===!0?o:y,gh.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!S&&!!s.runBackwards,!S||b&&!s.stagger){if(I=v[0]?kc(v[0]).harness:0,j=I&&s[I.prop],A=eb(s,rO),p&&(p._zTime<0&&p.progress(1),r<0&&m&&l&&!u?p.render(-1,!0):p.revert(m&&f?k_:bge),p._lazy=0),a){if(Eu(e._startAt=en.set(v,Ws({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!p&&Ii(c),startAt:null,delay:0,onUpdate:d,onUpdateParams:h,callbackScope:g,stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Xn||!l&&!u)&&e._startAt.revert(k_),l&&f&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(m&&f&&!p){if(r&&(l=!1),C=Ws({overwrite:!1,data:"isFromStart",lazy:l&&!p&&Ii(c),immediateRender:l,stagger:0,parent:_},A),j&&(C[I.prop]=j),Eu(e._startAt=en.set(v,C)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Xn?e._startAt.revert(k_):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,or,or);else if(!r)return}for(e._pt=e._ptCache=0,c=f&&Ii(c)||c&&!f,D=0;D<v.length;D++){if(R=v[D],O=R._gsap||iO(v)[D]._gsap,e._ptLookup[D]=W={},WT[O.id]&&hu.length&&J1(),V=w===v?D:w.indexOf(R),I&&(k=new I).init(R,j||A,e,V,w)!==!1&&(e._pt=T=new Fi(e._pt,R,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(K){W[K]=T}),k.priority&&(P=1)),!I||j)for(C in A)Hi[C]&&(k=sG(C,A,e,V,R,w))?k.priority&&(P=1):W[C]=T=sO.call(e,R,C,"get",A[C],V,w,0,s.stringFilter);e._op&&e._op[D]&&e.kill(R,e._op[D]),x&&e._pt&&(ql=e,Fr.killTweensOf(R,W,e.globalTime(r)),$=!e.parent,ql=0),e._pt&&c&&(WT[O.id]=1)}P&&dG(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!$,b&&r<=0&&S.render(Fs,!0,!0)},Kge=function(e,r,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],d,h,g,m;if(!c)for(c=e._ptCache[r]=[],g=e._ptLookup,m=e._targets.length;m--;){if(d=g[m][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return QT=1,e.vars[r]="+=0",oO(e,l),QT=0,1;c.push(d)}for(m=c.length;m--;)h=c[m],d=h._pt||h,d.s=(s||s===0)&&!o?s:d.s+(s||0)+a*d.c,d.c=n-d.s,h.e&&(h.e=Kr(n)+Vn(h.e)),h.b&&(h.b=d.s+Vn(h.b))},Yge=function(e,r){var n=e[0]?kc(e[0]).harness:0,s=n&&n.aliases,o,a,l,c;if(!s)return r;o=ed({},r);for(a in s)if(a in o)for(c=s[a].split(","),l=c.length;l--;)o[c[l]]=o[a];return o},Xge=function(e,r,n,s){var o=r.ease||s||"power1.inOut",a,l;if(qn(r))l=n[e]||(n[e]=[]),r.forEach(function(c,d){return l.push({t:d/(r.length-1)*100,v:c,e:o})});else for(a in r)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:r[a],e:o})},Ug=function(e,r,n,s,o){return zr(e)?e.call(r,n,s,o):Rn(e)&&~e.indexOf("random(")?zm(e):e},oG=nO+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",aG={};Bi(oG+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return aG[t]=1});var en=function(t){C7(e,t);function e(n,s,o,a){var l;typeof s=="number"&&(o.duration=s,s=o,o=null),l=t.call(this,a?s:Ng(s))||this;var c=l.vars,d=c.duration,h=c.delay,g=c.immediateRender,m=c.stagger,y=c.overwrite,b=c.keyframes,u=c.defaults,f=c.scrollTrigger,p=c.yoyoEase,v=s.parent||Fr,_=(qn(n)||T7(n)?tl(n[0]):"length"in s)?[n]:Ms(n),w,x,S,A,D,C,T,R;if(l._targets=_.length?iO(_):Q1("GSAP target "+n+" not found. https://greensock.com",!es.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,b||m||D0(d)||D0(h)){if(s=l.vars,w=l.timeline=new Ai({data:"nested",defaults:u||{},targets:v&&v.data==="nested"?v.vars.targets:_}),w.kill(),w.parent=w._dp=Aa(l),w._start=0,m||D0(d)||D0(h)){if(A=_.length,T=m&&H7(m),ra(m))for(D in m)~oG.indexOf(D)&&(R||(R={}),R[D]=m[D]);for(x=0;x<A;x++)S=eb(s,aG),S.stagger=0,p&&(S.yoyoEase=p),R&&ed(S,R),C=_[x],S.duration=+Ug(d,Aa(l),x,C,_),S.delay=(+Ug(h,Aa(l),x,C,_)||0)-l._delay,!m&&A===1&&S.delay&&(l._delay=h=S.delay,l._start+=h,S.delay=0),w.to(C,S,T?T(x,C,_):0),w._ease=Vt.none;w.duration()?d=h=0:l.timeline=0}else if(b){Ng(Ws(w.vars.defaults,{ease:"none"})),w._ease=Lc(b.ease||s.ease||"none");var P=0,O,I,k;if(qn(b))b.forEach(function(W){return w.to(_,W,">")}),w.duration();else{S={};for(D in b)D==="ease"||D==="easeEach"||Xge(D,b[D],S,b.easeEach);for(D in S)for(O=S[D].sort(function(W,V){return W.t-V.t}),P=0,x=0;x<O.length;x++)I=O[x],k={ease:I.e,duration:(I.t-(x?O[x-1].t:0))/100*d},k[D]=I.v,w.to(_,k,P),P+=k.duration;w.duration()<d&&w.to({},{duration:d-w.duration()})}}d||l.duration(d=w.duration())}else l.timeline=0;return y===!0&&!ZR&&(ql=Aa(l),Fr.killTweensOf(_),ql=0),zo(v,Aa(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(g||!d&&!b&&l._start===Bn(v._time)&&Ii(g)&&Age(Aa(l))&&v.data!=="nested")&&(l._tTime=-or,l.render(Math.max(0,-h)||0)),f&&j7(Aa(l),f),l}var r=e.prototype;return r.render=function(s,o,a){var l=this._time,c=this._tDur,d=this._dur,h=s<0,g=s>c-or&&!h?c:s<or?0:s,m,y,b,u,f,p,v,_,w;if(!d)Dge(this,s,o,a);else if(g!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(m=g,_=this.timeline,this._repeat){if(u=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(u*100+s,o,a);if(m=Bn(g%u),g===c?(b=this._repeat,m=d):(b=~~(g/u),b&&b===g/u&&(m=d,b--),m>d&&(m=d)),p=this._yoyo&&b&1,p&&(w=this._yEase,m=d-m),f=mh(this._tTime,u),m===l&&!a&&this._initted)return this._tTime=g,this;b!==f&&(_&&this._yEase&&rG(_,p),this.vars.repeatRefresh&&!p&&!this._lock&&(this._lock=a=1,this.render(Bn(u*b),!0).invalidate()._lock=0))}if(!this._initted){if(z7(this,h?s:m,a,o,g))return this._tTime=0,this;if(l!==this._time)return this;if(d!==this._dur)return this.render(s,o,a)}if(this._tTime=g,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(w||this._ease)(m/d),this._from&&(this.ratio=v=1-v),m&&!l&&!o&&!b&&(ks(this,"onStart"),this._tTime!==g))return this;for(y=this._pt;y;)y.r(v,y.d),y=y._next;_&&_.render(s<0?s:!m&&p?-or:_._dur*_._ease(m/this._dur),o,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(h&&KT(this,s,o,a),ks(this,"onUpdate")),this._repeat&&b!==f&&this.vars.onRepeat&&!o&&this.parent&&ks(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(h&&!this._onUpdate&&KT(this,s,!0,!0),(s||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Eu(this,1),!o&&!(h&&!l)&&(g||l||p)&&(ks(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,o,a,l){Gm||Ki.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||oO(this,c),d=this._ease(c/this._dur),Kge(this,s,o,a,l,d,c)?this.resetTo(s,o,a,l):(nx(this,0),this.parent||U7(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?lg(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,ql&&ql.vars.overwrite!==!0)._first||lg(this),this.parent&&a!==this.timeline.totalDuration()&&vh(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=s?Ms(s):l,d=this._ptLookup,h=this._pt,g,m,y,b,u,f,p;if((!o||o==="all")&&Sge(l,c))return o==="all"&&(this._pt=0),lg(this);for(g=this._op=this._op||[],o!=="all"&&(Rn(o)&&(u={},Bi(o,function(v){return u[v]=1}),o=u),o=Yge(l,o)),p=l.length;p--;)if(~c.indexOf(l[p])){m=d[p],o==="all"?(g[p]=o,b=m,y={}):(y=g[p]=g[p]||{},b=o);for(u in b)f=m&&m[u],f&&((!("kill"in f.d)||f.d.kill(u)===!0)&&tx(this,f,"_pt"),delete m[u]),y!=="all"&&(y[u]=1)}return this._initted&&!this._pt&&h&&lg(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return Lg(1,arguments)},e.delayedCall=function(s,o,a,l){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(s,o,a){return Lg(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,a){return Fr.killTweensOf(s,o,a)},e}(Vm);Ws(en.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Bi("staggerTo,staggerFrom,staggerFromTo",function(t){en[t]=function(){var e=new Ai,r=XT.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var aO=function(e,r,n){return e[r]=n},lG=function(e,r,n){return e[r](n)},qge=function(e,r,n,s){return e[r](s.fp,n)},Zge=function(e,r,n){return e.setAttribute(r,n)},lO=function(e,r){return zr(e[r])?lG:QR(e[r])&&e.setAttribute?Zge:aO},uG=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Qge=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},cG=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},uO=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},Jge=function(e,r,n,s){for(var o=this._pt,a;o;)a=o._next,o.p===s&&o.modifier(e,r,n),o=a},eme=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?tx(this,r,"_pt"):r.dep||(n=1),r=s;return!n},tme=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},dG=function(e){for(var r=e._pt,n,s,o,a;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:a)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:a=r,r=n}e._pt=o},Fi=function(){function t(r,n,s,o,a,l,c,d,h){this.t=n,this.s=o,this.c=a,this.p=s,this.r=l||uG,this.d=c||this,this.set=d||aO,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=tme,this.m=n,this.mt=o,this.tween=s},t}();Bi(nO+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return rO[t]=1});is.TweenMax=is.TweenLite=en;is.TimelineLite=is.TimelineMax=Ai;Fr=new Ai({sortChildren:!1,defaults:gh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});es.stringFilter=eG;var Uc=[],L_={},rme=[],RN=0,nme=0,OS=function(e){return(L_[e]||rme).map(function(r){return r()})},JT=function(){var e=Date.now(),r=[];e-RN>2&&(OS("matchMediaInit"),Uc.forEach(function(n){var s=n.queries,o=n.conditions,a,l,c,d;for(l in s)a=_s.matchMedia(s[l]).matches,a&&(c=1),a!==o[l]&&(o[l]=a,d=1);d&&(n.revert(),c&&r.push(n))}),OS("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),RN=e,OS("matchMedia"))},fG=function(){function t(r,n){this.selector=n&&qT(n),this.data=[],this._r=[],this.isReverted=!1,this.id=nme++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,o){zr(n)&&(o=s,s=n,n=zr);var a=this,l=function(){var d=jr,h=a.selector,g;return d&&d!==a&&d.data.push(a),o&&(a.selector=qT(o)),jr=a,g=s.apply(a,arguments),zr(g)&&a._r.push(g),jr=d,a.selector=h,a.isReverted=!1,g};return a.last=l,n===zr?l(a):n?a[n]=l:l},e.ignore=function(n){var s=jr;jr=null,n(this),jr=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof en&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n){var a=this.getTweens();this.data.forEach(function(c){c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}))}),a.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),this.data.forEach(function(c){return!(c instanceof en)&&c.revert&&c.revert(n)}),this._r.forEach(function(c){return c(n,o)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),s)for(var l=Uc.length;l--;)Uc[l].id===this.id&&Uc.splice(l,1)},e.revert=function(n){this.kill(n||{})},t}(),ime=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,s,o){ra(n)||(n={matches:n});var a=new fG(0,o||this.scope),l=a.conditions={},c,d,h;jr&&!a.selector&&(a.selector=jr.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=n;for(d in n)d==="all"?h=1:(c=_s.matchMedia(n[d]),c&&(Uc.indexOf(a)<0&&Uc.push(a),(l[d]=c.matches)&&(h=1),c.addListener?c.addListener(JT):c.addEventListener("change",JT)));return h&&s(a),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),rb={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return Z7(s)})},timeline:function(e){return new Ai(e)},getTweensOf:function(e,r){return Fr.getTweensOf(e,r)},getProperty:function(e,r,n,s){Rn(e)&&(e=Ms(e)[0]);var o=kc(e||{}).get,a=n?L7:N7;return n==="native"&&(n=""),e&&(r?a((Hi[r]&&Hi[r].get||o)(e,r,n,s)):function(l,c,d){return a((Hi[l]&&Hi[l].get||o)(e,l,c,d))})},quickSetter:function(e,r,n){if(e=Ms(e),e.length>1){var s=e.map(function(h){return ki.quickSetter(h,r,n)}),o=s.length;return function(h){for(var g=o;g--;)s[g](h)}}e=e[0]||{};var a=Hi[r],l=kc(e),c=l.harness&&(l.harness.aliases||{})[r]||r,d=a?function(h){var g=new a;Sf._pt=0,g.init(e,n?h+n:h,Sf,0,[e]),g.render(1,g),Sf._pt&&uO(1,Sf)}:l.set(e,c);return a?d:function(h){return d(e,c,n?h+n:h,l,1)}},quickTo:function(e,r,n){var s,o=ki.to(e,ed((s={},s[r]="+=0.1",s.paused=!0,s),n||{})),a=function(c,d,h){return o.resetTo(r,c,d,h)};return a.tween=o,a},isTweening:function(e){return Fr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Lc(e.ease,gh.ease)),CN(gh,e||{})},config:function(e){return CN(es,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,o=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!Hi[l]&&!is[l]&&Q1(r+" effect requires "+l+" plugin.")}),TS[r]=function(l,c,d){return n(Ms(l),Ws(c||{},o),d)},a&&(Ai.prototype[r]=function(l,c,d){return this.add(TS[r](l,ra(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){Vt[e]=Lc(r)},parseEase:function(e,r){return arguments.length?Lc(e,r):Vt},getById:function(e){return Fr.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Ai(e),s,o;for(n.smoothChildTiming=Ii(e.smoothChildTiming),Fr.remove(n),n._dp=0,n._time=n._tTime=Fr._time,s=Fr._first;s;)o=s._next,(r||!(!s._dur&&s instanceof en&&s.vars.onComplete===s._targets[0]))&&zo(n,s,s._start-s._delay),s=o;return zo(Fr,n,0),n},context:function(e,r){return e?new fG(e,r):jr},matchMedia:function(e){return new ime(e)},matchMediaRefresh:function(){return Uc.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||JT()},addEventListener:function(e,r){var n=L_[e]||(L_[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=L_[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:kge,wrapYoyo:Nge,distribute:H7,random:K7,snap:W7,normalize:Mge,getUnit:Vn,clamp:Oge,splitColor:Q7,toArray:Ms,selector:qT,mapRange:X7,pipe:Bge,unitize:Fge,interpolate:Lge,shuffle:V7},install:I7,effects:TS,ticker:Ki,updateRoot:Ai.updateRoot,plugins:Hi,globalTimeline:Fr,core:{PropTween:Fi,globals:B7,Tween:en,Timeline:Ai,Animation:Vm,getCache:kc,_removeLinkedListItem:tx,reverting:function(){return Xn},context:function(e){return e&&jr&&(jr.data.push(e),e._ctx=jr),jr},suppressOverwrites:function(e){return ZR=e}}};Bi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return rb[t]=en[t]});Ki.add(Ai.updateRoot);Sf=rb.to({},{duration:0});var sme=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},ome=function(e,r){var n=e._targets,s,o,a;for(s in r)for(o=n.length;o--;)a=e._ptLookup[o][s],a&&(a=a.d)&&(a._pt&&(a=sme(a,s)),a&&a.modifier&&a.modifier(r[s],e,n[o],s))},IS=function(e,r){return{name:e,rawVars:1,init:function(s,o,a){a._onInit=function(l){var c,d;if(Rn(o)&&(c={},Bi(o,function(h){return c[h]=1}),o=c),r){c={};for(d in o)c[d]=r(o[d]);o=c}ome(l,o)}}}},ki=rb.registerPlugin({name:"attr",init:function(e,r,n,s,o){var a,l,c;this.tween=n;for(a in r)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",r[a],s,o,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,r){for(var n=r._pt;n;)Xn?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},IS("roundProps",ZT),IS("modifiers"),IS("snap",W7))||rb;en.version=Ai.version=ki.version="3.12.2";O7=1;JR()&&yh();Vt.Power0;Vt.Power1;Vt.Power2;Vt.Power3;Vt.Power4;Vt.Linear;Vt.Quad;Vt.Cubic;Vt.Quart;Vt.Quint;Vt.Strong;Vt.Elastic;Vt.Back;Vt.SteppedEase;Vt.Bounce;Vt.Sine;Vt.Expo;Vt.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ON,Zl,jf,cO,xc,IN,dO,ame=function(){return typeof window<"u"},rl={},hc=180/Math.PI,zf=Math.PI/180,Nd=Math.atan2,BN=1e8,fO=/([A-Z])/g,lme=/(left|right|width|margin|padding|x)/i,ume=/[\s,\(]\S/,Ho={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},eD=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},cme=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},dme=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},fme=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},hG=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},pG=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},hme=function(e,r,n){return e.style[r]=n},pme=function(e,r,n){return e.style.setProperty(r,n)},gme=function(e,r,n){return e._gsap[r]=n},mme=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},vme=function(e,r,n,s,o){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(o,a)},yme=function(e,r,n,s,o){var a=e._gsap;a[r]=n,a.renderTransform(o,a)},kr="transform",_o=kr+"Origin",_me=function t(e,r){var n=this,s=this.target,o=s.style;if(e in rl&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Ho[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=Oa(s,a)}):this.tfm[e]=s._gsap.x?s._gsap[e]:Oa(s,e);else return Ho.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(kr)>=0)return;s._gsap.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(_o,r,"")),e=kr}(o||r)&&this.props.push(e,r,o[e])},gG=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},bme=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(fO,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=dO(),(!o||!o.isStart)&&!n[kr]&&(gG(n),s.uncache=1)}},mG=function(e,r){var n={target:e,props:[],revert:bme,save:_me};return e._gsap||ki.core.getCache(e),r&&r.split(",").forEach(function(s){return n.save(s)}),n},vG,tD=function(e,r){var n=Zl.createElementNS?Zl.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Zl.createElement(e);return n.style?n:Zl.createElement(e)},Zo=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(fO,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,_h(r)||r,1)||""},FN="O,Moz,ms,Ms,Webkit".split(","),_h=function(e,r,n){var s=r||xc,o=s.style,a=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(FN[a]+e in o););return a<0?null:(a===3?"ms":a>=0?FN[a]:"")+e},rD=function(){ame()&&window.document&&(ON=window,Zl=ON.document,jf=Zl.documentElement,xc=tD("div")||{style:{}},tD("div"),kr=_h(kr),_o=kr+"Origin",xc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vG=!!_h("perspective"),dO=ki.core.reverting,cO=1)},BS=function t(e){var r=tD("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,o=this.style.cssText,a;if(jf.appendChild(r),r.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(l){}else this._gsapBBox&&(a=this._gsapBBox());return n&&(s?n.insertBefore(this,s):n.appendChild(this)),jf.removeChild(r),this.style.cssText=o,a},MN=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},yG=function(e){var r;try{r=e.getBBox()}catch(n){r=BS.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===BS||(r=BS.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+MN(e,["x","cx","x1"])||0,y:+MN(e,["y","cy","y1"])||0,width:0,height:0}:r},_G=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&yG(e))},Hm=function(e,r){if(r){var n=e.style;r in rl&&r!==_o&&(r=kr),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(fO,"-$1").toLowerCase())):n.removeAttribute(r)}},Ql=function(e,r,n,s,o,a){var l=new Fi(e._pt,r,n,0,1,a?pG:hG);return e._pt=l,l.b=s,l.e=o,e._props.push(n),l},kN={deg:1,rad:1,turn:1},wme={grid:1,flex:1},Su=function t(e,r,n,s){var o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",l=xc.style,c=lme.test(r),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(c?"Width":"Height"),g=100,m=s==="px",y=s==="%",b,u,f,p;return s===a||!o||kN[s]||kN[a]?o:(a!=="px"&&!m&&(o=t(e,r,n,"px")),p=e.getCTM&&_G(e),(y||a==="%")&&(rl[r]||~r.indexOf("adius"))?(b=p?e.getBBox()[c?"width":"height"]:e[h],Kr(y?o/b*g:o/100*b)):(l[c?"width":"height"]=g+(m?a:s),u=~r.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,p&&(u=(e.ownerSVGElement||{}).parentNode),(!u||u===Zl||!u.appendChild)&&(u=Zl.body),f=u._gsap,f&&y&&f.width&&c&&f.time===Ki.time&&!f.uncache?Kr(o/f.width*g):((y||a==="%")&&!wme[Zo(u,"display")]&&(l.position=Zo(e,"position")),u===e&&(l.position="static"),u.appendChild(xc),b=xc[h],u.removeChild(xc),l.position="absolute",c&&y&&(f=kc(u),f.time=Ki.time,f.width=u[h]),Kr(m?b*o/g:b&&o?g/b*o:0))))},Oa=function(e,r,n,s){var o;return cO||rD(),r in Ho&&r!=="transform"&&(r=Ho[r],~r.indexOf(",")&&(r=r.split(",")[0])),rl[r]&&r!=="transform"?(o=Km(e,s),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:ib(Zo(e,_o))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=nb[r]&&nb[r](e,r,n)||Zo(e,r)||M7(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?Su(e,r,o,n)+n:o},xme=function(e,r,n,s){if(!n||n==="none"){var o=_h(r,e,1),a=o&&Zo(e,o,1);a&&a!==n?(r=o,n=a):r==="borderColor"&&(n=Zo(e,"borderTopColor"))}var l=new Fi(this._pt,e.style,r,0,1,cG),c=0,d=0,h,g,m,y,b,u,f,p,v,_,w,x;if(l.b=n,l.e=s,n+="",s+="",s==="auto"&&(e.style[r]=s,s=Zo(e,r)||s,e.style[r]=n),h=[n,s],eG(h),n=h[0],s=h[1],m=n.match(Ef)||[],x=s.match(Ef)||[],x.length){for(;g=Ef.exec(s);)f=g[0],v=s.substring(c,g.index),b?b=(b+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(b=1),f!==(u=m[d++]||"")&&(y=parseFloat(u)||0,w=u.substr((y+"").length),f.charAt(1)==="="&&(f=$f(y,f)+w),p=parseFloat(f),_=f.substr((p+"").length),c=Ef.lastIndex-_.length,_||(_=_||es.units[r]||w,c===s.length&&(s+=_,l.e+=_)),w!==_&&(y=Su(e,r,u,_)||0),l._pt={_next:l._pt,p:v||d===1?v:",",s:y,c:p-y,m:b&&b<4||r==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=r==="display"&&s==="none"?pG:hG;return P7.test(s)&&(l.e=0),this._pt=l,l},NN={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Eme=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=NN[n]||n,r[1]=NN[s]||s,r.join(" ")},Sme=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,o=r.u,a=n._gsap,l,c,d;if(o==="all"||o===!0)s.cssText="",c=1;else for(o=o.split(","),d=o.length;--d>-1;)l=o[d],rl[l]&&(c=1,l=l==="transformOrigin"?_o:kr),Hm(n,l);c&&(Hm(n,kr),a&&(a.svg&&n.removeAttribute("transform"),Km(n,1),a.uncache=1,gG(s)))}},nb={clearProps:function(e,r,n,s,o){if(o.data!=="isFromStart"){var a=e._pt=new Fi(e._pt,r,n,0,0,Sme);return a.u=s,a.pr=-10,a.tween=o,e._props.push(n),1}}},Wm=[1,0,0,1,0,0],bG={},wG=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},LN=function(e){var r=Zo(e,kr);return wG(r)?Wm:r.substr(7).match(D7).map(Kr)},hO=function(e,r){var n=e._gsap||kc(e),s=e.style,o=LN(e),a,l,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Wm:o):(o===Wm&&!e.offsetParent&&e!==jf&&!n.svg&&(c=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(d=1,l=e.nextElementSibling,jf.appendChild(e)),o=LN(e),c?s.display=c:Hm(e,"display"),d&&(l?a.insertBefore(e,l):a?a.appendChild(e):jf.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},nD=function(e,r,n,s,o,a){var l=e._gsap,c=o||hO(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,g=l.xOffset||0,m=l.yOffset||0,y=c[0],b=c[1],u=c[2],f=c[3],p=c[4],v=c[5],_=r.split(" "),w=parseFloat(_[0])||0,x=parseFloat(_[1])||0,S,A,D,C;n?c!==Wm&&(A=y*f-b*u)&&(D=w*(f/A)+x*(-u/A)+(u*v-f*p)/A,C=w*(-b/A)+x*(y/A)-(y*v-b*p)/A,w=D,x=C):(S=yG(e),w=S.x+(~_[0].indexOf("%")?w/100*S.width:w),x=S.y+(~(_[1]||_[0]).indexOf("%")?x/100*S.height:x)),s||s!==!1&&l.smooth?(p=w-d,v=x-h,l.xOffset=g+(p*y+v*u)-p,l.yOffset=m+(p*b+v*f)-v):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=x,l.smooth=!!s,l.origin=r,l.originIsAbsolute=!!n,e.style[_o]="0px 0px",a&&(Ql(a,l,"xOrigin",d,w),Ql(a,l,"yOrigin",h,x),Ql(a,l,"xOffset",g,l.xOffset),Ql(a,l,"yOffset",m,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+x)},Km=function(e,r){var n=e._gsap||new iG(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),d=Zo(e,_o)||"0",h,g,m,y,b,u,f,p,v,_,w,x,S,A,D,C,T,R,P,O,I,k,W,V,j,$,K,J,ue,pe,oe,he;return h=g=m=u=f=p=v=_=w=0,y=b=1,n.svg=!!(e.getCTM&&_G(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[kr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[kr]!=="none"?c[kr]:"")),s.scale=s.rotate=s.translate="none"),A=hO(e,n.svg),n.svg&&(n.uncache?(j=e.getBBox(),d=n.xOrigin-j.x+"px "+(n.yOrigin-j.y)+"px",V=""):V=!r&&e.getAttribute("data-svg-origin"),nD(e,V||d,!!V||n.originIsAbsolute,n.smooth!==!1,A)),x=n.xOrigin||0,S=n.yOrigin||0,A!==Wm&&(R=A[0],P=A[1],O=A[2],I=A[3],h=k=A[4],g=W=A[5],A.length===6?(y=Math.sqrt(R*R+P*P),b=Math.sqrt(I*I+O*O),u=R||P?Nd(P,R)*hc:0,v=O||I?Nd(O,I)*hc+u:0,v&&(b*=Math.abs(Math.cos(v*zf))),n.svg&&(h-=x-(x*R+S*O),g-=S-(x*P+S*I))):(he=A[6],pe=A[7],K=A[8],J=A[9],ue=A[10],oe=A[11],h=A[12],g=A[13],m=A[14],D=Nd(he,ue),f=D*hc,D&&(C=Math.cos(-D),T=Math.sin(-D),V=k*C+K*T,j=W*C+J*T,$=he*C+ue*T,K=k*-T+K*C,J=W*-T+J*C,ue=he*-T+ue*C,oe=pe*-T+oe*C,k=V,W=j,he=$),D=Nd(-O,ue),p=D*hc,D&&(C=Math.cos(-D),T=Math.sin(-D),V=R*C-K*T,j=P*C-J*T,$=O*C-ue*T,oe=I*T+oe*C,R=V,P=j,O=$),D=Nd(P,R),u=D*hc,D&&(C=Math.cos(D),T=Math.sin(D),V=R*C+P*T,j=k*C+W*T,P=P*C-R*T,W=W*C-k*T,R=V,k=j),f&&Math.abs(f)+Math.abs(u)>359.9&&(f=u=0,p=180-p),y=Kr(Math.sqrt(R*R+P*P+O*O)),b=Kr(Math.sqrt(W*W+he*he)),D=Nd(k,W),v=Math.abs(D)>2e-4?D*hc:0,w=oe?1/(oe<0?-oe:oe):0),n.svg&&(V=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!wG(Zo(e,kr)),V&&e.setAttribute("transform",V))),Math.abs(v)>90&&Math.abs(v)<270&&(o?(y*=-1,v+=u<=0?180:-180,u+=u<=0?180:-180):(b*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=g-((n.yPercent=g&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=m+a,n.scaleX=Kr(y),n.scaleY=Kr(b),n.rotation=Kr(u)+l,n.rotationX=Kr(f)+l,n.rotationY=Kr(p)+l,n.skewX=v+l,n.skewY=_+l,n.transformPerspective=w+a,(n.zOrigin=parseFloat(d.split(" ")[2])||0)&&(s[_o]=ib(d)),n.xOffset=n.yOffset=0,n.force3D=es.force3D,n.renderTransform=n.svg?Ame:vG?xG:Cme,n.uncache=0,n},ib=function(e){return(e=e.split(" "))[0]+" "+e[1]},FS=function(e,r,n){var s=Vn(r);return Kr(parseFloat(r)+parseFloat(Su(e,"x",n+"px",s)))+s},Cme=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,xG(e,r)},nc="0deg",Up="0px",ic=") ",xG=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.z,d=n.rotation,h=n.rotationY,g=n.rotationX,m=n.skewX,y=n.skewY,b=n.scaleX,u=n.scaleY,f=n.transformPerspective,p=n.force3D,v=n.target,_=n.zOrigin,w="",x=p==="auto"&&e&&e!==1||p===!0;if(_&&(g!==nc||h!==nc)){var S=parseFloat(h)*zf,A=Math.sin(S),D=Math.cos(S),C;S=parseFloat(g)*zf,C=Math.cos(S),a=FS(v,a,A*C*-_),l=FS(v,l,-Math.sin(S)*-_),c=FS(v,c,D*C*-_+_)}f!==Up&&(w+="perspective("+f+ic),(s||o)&&(w+="translate("+s+"%, "+o+"%) "),(x||a!==Up||l!==Up||c!==Up)&&(w+=c!==Up||x?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+ic),d!==nc&&(w+="rotate("+d+ic),h!==nc&&(w+="rotateY("+h+ic),g!==nc&&(w+="rotateX("+g+ic),(m!==nc||y!==nc)&&(w+="skew("+m+", "+y+ic),(b!==1||u!==1)&&(w+="scale("+b+", "+u+ic),v.style[kr]=w||"translate(0, 0)"},Ame=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.rotation,d=n.skewX,h=n.skewY,g=n.scaleX,m=n.scaleY,y=n.target,b=n.xOrigin,u=n.yOrigin,f=n.xOffset,p=n.yOffset,v=n.forceCSS,_=parseFloat(a),w=parseFloat(l),x,S,A,D,C;c=parseFloat(c),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,c+=h),c||d?(c*=zf,d*=zf,x=Math.cos(c)*g,S=Math.sin(c)*g,A=Math.sin(c-d)*-m,D=Math.cos(c-d)*m,d&&(h*=zf,C=Math.tan(d-h),C=Math.sqrt(1+C*C),A*=C,D*=C,h&&(C=Math.tan(h),C=Math.sqrt(1+C*C),x*=C,S*=C)),x=Kr(x),S=Kr(S),A=Kr(A),D=Kr(D)):(x=g,D=m,S=A=0),(_&&!~(a+"").indexOf("px")||w&&!~(l+"").indexOf("px"))&&(_=Su(y,"x",a,"px"),w=Su(y,"y",l,"px")),(b||u||f||p)&&(_=Kr(_+b-(b*x+u*A)+f),w=Kr(w+u-(b*S+u*D)+p)),(s||o)&&(C=y.getBBox(),_=Kr(_+s/100*C.width),w=Kr(w+o/100*C.height)),C="matrix("+x+","+S+","+A+","+D+","+_+","+w+")",y.setAttribute("transform",C),v&&(y.style[kr]=C)},Tme=function(e,r,n,s,o){var a=360,l=Rn(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?hc:1),d=c-s,h=s+d+"deg",g,m;return l&&(g=o.split("_")[1],g==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),g==="cw"&&d<0?d=(d+a*BN)%a-~~(d/a)*a:g==="ccw"&&d>0&&(d=(d-a*BN)%a-~~(d/a)*a)),e._pt=m=new Fi(e._pt,r,n,s,d,cme),m.e=h,m.u="deg",e._props.push(n),m},UN=function(e,r){for(var n in r)e[n]=r[n];return e},Dme=function(e,r,n){var s=UN({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,d,h,g,m,y,b;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),a[kr]=r,l=Km(n,1),Hm(n,kr),n.setAttribute("transform",d)):(d=getComputedStyle(n)[kr],a[kr]=r,l=Km(n,1),a[kr]=d);for(c in rl)d=s[c],h=l[c],d!==h&&o.indexOf(c)<0&&(y=Vn(d),b=Vn(h),g=y!==b?Su(n,c,d,b):parseFloat(d),m=parseFloat(h),e._pt=new Fi(e._pt,l,c,g,m-g,eD),e._pt.u=b||0,e._props.push(c));UN(l,s)};Bi("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",o="Left",a=(e<3?[r,n,s,o]:[r+o,r+n,s+n,s+o]).map(function(l){return e<2?t+l:"border"+l+t});nb[e>1?"border"+t:t]=function(l,c,d,h,g){var m,y;if(arguments.length<4)return m=a.map(function(b){return Oa(l,b,d)}),y=m.join(" "),y.split(m[0]).length===5?m[0]:y;m=(h+"").split(" "),y={},a.forEach(function(b,u){return y[b]=m[u]=m[u]||m[(u-1)/2|0]}),l.init(c,y,g)}});var EG={name:"css",register:rD,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,o){var a=this._props,l=e.style,c=n.vars.startAt,d,h,g,m,y,b,u,f,p,v,_,w,x,S,A,D;cO||rD(),this.styles=this.styles||mG(e),D=this.styles.props,this.tween=n;for(u in r)if(u!=="autoRound"&&(h=r[u],!(Hi[u]&&sG(u,r,n,s,e,o)))){if(y=typeof h,b=nb[u],y==="function"&&(h=h.call(n,s,e,o),y=typeof h),y==="string"&&~h.indexOf("random(")&&(h=zm(h)),b)b(this,e,u,h,n)&&(A=1);else if(u.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(u)+"").trim(),h+="",pu.lastIndex=0,pu.test(d)||(f=Vn(d),p=Vn(h)),p?f!==p&&(d=Su(e,u,d,p)+p):f&&(h+=f),this.add(l,"setProperty",d,h,s,o,0,0,u),a.push(u),D.push(u,0,l[u]);else if(y!=="undefined"){if(c&&u in c?(d=typeof c[u]=="function"?c[u].call(n,s,e,o):c[u],Rn(d)&&~d.indexOf("random(")&&(d=zm(d)),Vn(d+"")||(d+=es.units[u]||Vn(Oa(e,u))||""),(d+"").charAt(1)==="="&&(d=Oa(e,u))):d=Oa(e,u),m=parseFloat(d),v=y==="string"&&h.charAt(1)==="="&&h.substr(0,2),v&&(h=h.substr(2)),g=parseFloat(h),u in Ho&&(u==="autoAlpha"&&(m===1&&Oa(e,"visibility")==="hidden"&&g&&(m=0),D.push("visibility",0,l.visibility),Ql(this,l,"visibility",m?"inherit":"hidden",g?"inherit":"hidden",!g)),u!=="scale"&&u!=="transform"&&(u=Ho[u],~u.indexOf(",")&&(u=u.split(",")[0]))),_=u in rl,_){if(this.styles.save(u),w||(x=e._gsap,x.renderTransform&&!r.parseTransform||Km(e,r.parseTransform),S=r.smoothOrigin!==!1&&x.smooth,w=this._pt=new Fi(this._pt,l,kr,0,1,x.renderTransform,x,0,-1),w.dep=1),u==="scale")this._pt=new Fi(this._pt,x,"scaleY",x.scaleY,(v?$f(x.scaleY,v+g):g)-x.scaleY||0,eD),this._pt.u=0,a.push("scaleY",u),u+="X";else if(u==="transformOrigin"){D.push(_o,0,l[_o]),h=Eme(h),x.svg?nD(e,h,0,S,0,this):(p=parseFloat(h.split(" ")[2])||0,p!==x.zOrigin&&Ql(this,x,"zOrigin",x.zOrigin,p),Ql(this,l,u,ib(d),ib(h)));continue}else if(u==="svgOrigin"){nD(e,h,1,S,0,this);continue}else if(u in bG){Tme(this,x,u,m,v?$f(m,v+h):h);continue}else if(u==="smoothOrigin"){Ql(this,x,"smooth",x.smooth,h);continue}else if(u==="force3D"){x[u]=h;continue}else if(u==="transform"){Dme(this,h,e);continue}}else u in l||(u=_h(u)||u);if(_||(g||g===0)&&(m||m===0)&&!ume.test(h)&&u in l)f=(d+"").substr((m+"").length),g||(g=0),p=Vn(h)||(u in es.units?es.units[u]:f),f!==p&&(m=Su(e,u,d,p)),this._pt=new Fi(this._pt,_?x:l,u,m,(v?$f(m,v+g):g)-m,!_&&(p==="px"||u==="zIndex")&&r.autoRound!==!1?fme:eD),this._pt.u=p||0,f!==p&&p!=="%"&&(this._pt.b=d,this._pt.r=dme);else if(u in l)xme.call(this,e,u,d,v?v+h:h);else if(u in e)this.add(e,u,d||e[u],v?v+h:h,s,o);else if(u!=="parseTransform"){tO(u,h);continue}_||(u in l?D.push(u,0,l[u]):D.push(u,1,d||e[u])),a.push(u)}}A&&dG(this)},render:function(e,r){if(r.tween._time||!dO())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:Oa,aliases:Ho,getSetter:function(e,r,n){var s=Ho[r];return s&&s.indexOf(",")<0&&(r=s),r in rl&&r!==_o&&(e._gsap.x||Oa(e,"x"))?n&&IN===n?r==="scale"?mme:gme:(IN=n||{})&&(r==="scale"?vme:yme):e.style&&!QR(e.style[r])?hme:~r.indexOf("-")?pme:lO(e,r)},core:{_removeProperty:Hm,_getMatrix:hO}};ki.utils.checkPrefix=_h;ki.core.getStyleSaver=mG;(function(t,e,r,n){var s=Bi(t+","+e+","+r,function(o){rl[o]=1});Bi(e,function(o){es.units[o]="deg",bG[o]=1}),Ho[s[13]]=t+","+e,Bi(n,function(o){var a=o.split(":");Ho[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Bi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){es.units[t]="px"});ki.registerPlugin(EG);var Pme=ki.registerPlugin(EG)||ki;Pme.core.Tween;/*!
 * PixiPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Jl,$N,sb,Yi,$g,SG,iD,CG=function(){return typeof window<"u"},AG=function(){return Jl||CG()&&(Jl=window.gsap)&&Jl.registerPlugin&&Jl},sD=function(e){return typeof e=="function"},TG=function(e){return console.warn(e)},Rme=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ws=.212671,xs=.71516,Es=.072169,DG=function(e){return sD(Yi[e])?Yi[e]:Yi.filters[e]},ix=function(e,r){var n=[],s=0,o=0,a,l;for(a=0;a<4;a++){for(l=0;l<5;l++)o=l===4?e[s+4]:0,n[s+l]=e[s]*r[l]+e[s+1]*r[l+5]+e[s+2]*r[l+10]+e[s+3]*r[l+15]+o;s+=5}return n},jN=function(e,r){var n=1-r,s=n*ws,o=n*xs,a=n*Es;return ix([s+r,o,a,0,0,s,o+r,a,0,0,s,o,a+r,0,0,0,0,0,1,0],e)},zN=function(e,r,n){var s=sb(r),o=s[0]/255,a=s[1]/255,l=s[2]/255,c=1-n;return ix([c+n*o*ws,n*o*xs,n*o*Es,0,0,n*a*ws,c+n*a*xs,n*a*Es,0,0,n*l*ws,n*l*xs,c+n*l*Es,0,0,0,0,0,1,0],e)},GN=function(e,r){r*=Math.PI/180;var n=Math.cos(r),s=Math.sin(r);return ix([ws+n*(1-ws)+s*-ws,xs+n*-xs+s*-xs,Es+n*-Es+s*(1-Es),0,0,ws+n*-ws+s*.143,xs+n*(1-xs)+s*.14,Es+n*-Es+s*-.283,0,0,ws+n*-ws+s*-(1-ws),xs+n*-xs+s*xs,Es+n*(1-Es)+s*Es,0,0,0,0,0,1,0,0,0,0,0,1],e)},VN=function(e,r){return ix([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},PG=function(e,r){var n=DG(r),s=e.filters||[],o=s.length,a;for(n||TG(r+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(s[o]instanceof n)return s[o];return a=new n,r==="BlurFilter"&&(a.blur=0),s.push(a),e.filters=s,a},yn=function(e,r,n,s){r.add(n,e,n[e],s[e]),r._props.push(e)},HN=function(e,r){var n=DG("ColorMatrixFilter"),s=new n;return s.matrix=r,s.brightness(e,!0),s.matrix},Ome=function(e){var r={},n;for(n in e)r[n]=e[n];return r},Ui={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},Ime=function(e,r,n){var s=PG(e,"ColorMatrixFilter"),o=e._gsColorMatrixFilter=e._gsColorMatrixFilter||Ome(Ui),a=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),l,c,d;for(d=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===d.length?(c=r.matrix,o.contrast!==1&&yn("contrast",n,o,Ui),o.hue&&yn("hue",n,o,Ui),o.brightness!==1&&yn("brightness",n,o,Ui),o.colorizeAmount&&(yn("colorize",n,o,Ui),yn("colorizeAmount",n,o,Ui)),o.saturation!==1&&yn("saturation",n,o,Ui)):(c=Rme.slice(),r.contrast!=null?(c=VN(c,+r.contrast),yn("contrast",n,o,r)):o.contrast!==1&&(a?c=VN(c,o.contrast):yn("contrast",n,o,Ui)),r.hue!=null?(c=GN(c,+r.hue),yn("hue",n,o,r)):o.hue&&(a?c=GN(c,o.hue):yn("hue",n,o,Ui)),r.brightness!=null?(c=HN(+r.brightness,c),yn("brightness",n,o,r)):o.brightness!==1&&(a?c=HN(o.brightness,c):yn("brightness",n,o,Ui)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,c=zN(c,r.colorize,r.colorizeAmount),yn("colorize",n,o,r),yn("colorizeAmount",n,o,r)):o.colorizeAmount&&(a?c=zN(c,o.colorize,o.colorizeAmount):(yn("colorize",n,o,Ui),yn("colorizeAmount",n,o,Ui))),r.saturation!=null?(c=jN(c,+r.saturation),yn("saturation",n,o,r)):o.saturation!==1&&(a?c=jN(c,o.saturation):yn("saturation",n,o,Ui))),l=c.length;--l>-1;)c[l]!==d[l]&&n.add(d,l,d[l],c[l],"colorMatrixFilter");n._props.push("colorMatrixFilter")},Bme=function(e,r){var n=r.t,s=r.p,o=r.color,a=r.set;a(n,s,o[0]<<16|o[1]<<8|o[2])},Fme=function(e,r){var n=r.g;n&&(n.dirty++,n.clearDirty++)},Mme=function(e,r){r.t.visible=!!r.t.alpha},WN=function(e,r,n,s){var o=e[r],a=sb(sD(o)?e[r.indexOf("set")||!sD(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():o),l=sb(n);s._pt=new $g(s._pt,e,r,0,0,Bme,{t:e,p:r,color:a,set:SG(e,r)}),s.add(a,0,a[0],l[0]),s.add(a,1,a[1],l[1]),s.add(a,2,a[2],l[2])},kme={tint:1,lineColor:1,fillColor:1},KN="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),oD={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},Nme={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},ob=Math.PI/180,RG=function(e){return typeof e=="string"},Lme=function(e){return RG(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*ob:e*ob},Ume=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},$me=function(e,r,n,s,o,a){var l=360*(a?ob:1),c=RG(o),d=c&&o.charAt(1)==="="?+(o.charAt(0)+"1"):0,h=parseFloat(d?o.substr(2):o)*(a?ob:1),g=d?h*d:h-s,m=s+g,y,b;return c&&(y=o.split("_")[1],y==="short"&&(g%=l,g!==g%(l/2)&&(g+=g<0?l:-l)),y==="cw"&&g<0?g=(g+l*1e10)%l-~~(g/l)*l:y==="ccw"&&g>0&&(g=(g-l*1e10)%l-~~(g/l)*l)),e._pt=b=new $g(e._pt,r,n,s,g,Ume),b.e=m,b},YN=function(){CG()&&($N=window,Jl=AG(),Yi=Yi||$N.PIXI,iD=Yi&&Yi.VERSION&&Yi.VERSION.charAt(0)==="4",sb=function(r){return Jl.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)})},P0,$p;for(P0=0;P0<KN.length;P0++)$p=KN[P0],oD[$p+"X"]=$p,oD[$p+"Y"]=$p;var jme={version:"3.12.2",name:"pixi",register:function(e,r,n){Jl=e,$g=n,SG=r.getSetter,YN()},registerPIXI:function(e){Yi=e},init:function(e,r,n,s,o){if(Yi||YN(),!Yi||!(e instanceof Yi.DisplayObject))return TG(e),!1;var a,l,c,d,h,g,m,y,b;for(g in r){if(a=oD[g],c=r[g],a)l=~g.charAt(g.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[a],l,e[a][l],a==="skew"?Lme(c):c,0,0,0,0,0,1);else if(g==="scale"||g==="anchor"||g==="pivot"||g==="tileScale")this.add(e[g],"x",e[g].x,c),this.add(e[g],"y",e[g].y,c);else if(g==="rotation"||g==="angle")$me(this,e,g,e[g],c,g==="rotation");else if(Nme[g])d||(Ime(e,r.colorMatrixFilter||r,this),d=!0);else if(g==="blur"||g==="blurX"||g==="blurY"||g==="blurPadding"){if(h=PG(e,"BlurFilter"),this.add(h,g,h[g],c),r.blurPadding!==0)for(m=r.blurPadding||Math.max(h[g],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,m)}else if(kme[g])if((g==="lineColor"||g==="fillColor")&&e instanceof Yi.Graphics)for(b=(e.geometry||e).graphicsData,this._pt=new $g(this._pt,e,g,0,0,Fme,{g:e.geometry||e}),y=b.length;--y>-1;)WN(iD?b[y]:b[y][g.substr(0,4)+"Style"],iD?g:"color",c,this);else WN(e,g,c,this);else g==="autoAlpha"?(this._pt=new $g(this._pt,e,"visible",0,0,Mme),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):g!=="resolution"&&this.add(e,g,"get",c);this._props.push(g)}}};AG()&&Jl.registerPlugin(jme);class ab{constructor(e=0,r=0,n=0,s=0){this._x=Number(e),this._y=Number(r),this._width=Number(n),this._height=Number(s),this._hull=[new Ve,new Ve,new Ve,new Ve],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,r,n,s]=this._hull;e.set(this._x,this._y),r.set(this._x+this._width,this._y),n.set(this._x+this._width,this._y+this._height),s.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new ab(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}equals(e){return e?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:!1}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}const XN=new Ve;class U_{constructor(e=0,r=0,n=0,s=0,o=0){e instanceof ab&&(o=r||0,r=e.y,n=e.width,s=e.height,e=e.x),this.innerBounds=new ab(e,r,n,s),this._rotation=o,this._center=new uo(this.updateCenter,this),this._hull=[new Ve,new Ve,new Ve,new Ve],this._matrix=new Ht,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return e?this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation:!1}contains(e,r){typeof e=="number"&&(e=XN.set(e,r));const n=this._matrix.applyInverse(e,XN);return this.innerBounds.contains(n.x,n.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,r=this._rotation,n=this._center,[s,o,a,l]=this._hull,c=this._matrix;n._x=e.x+e.width/2,n._y=e.y+e.height/2,c.identity().translate(-n.x,-n.y).rotate(r).translate(n.x,n.y),c.apply(e.topLeft,s),c.apply(e.topRight,o),c.apply(e.bottomRight,a),c.apply(e.bottomLeft,l),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,r=this.innerBounds;r.x=e.x-r.width/2,r.y=e.y-r.height/2}}class qN{constructor(e,r){this._history=new Array(e),this._decayRatio=r,this._currentIndex=0;for(let n=0;n<e;n++)this._history[n]=0}next(e){const{_history:r,_decayRatio:n}=this,s=r.length;this._currentIndex=this._currentIndex<s-1?this._currentIndex+1:0,r[this._currentIndex]=e;let o=0,a=0;for(let l=this._currentIndex+1;l<s;l++)o=(o+r[l])*n,a=(a+1)*n;for(let l=0;l<=this._currentIndex;l++)o=(o+r[l])*n,a=(a+1)*n;return this._average=o/a,this._average}absDev(){let e=0;for(let r=0,n=this._history.length;r<n;r++)e+=Math.abs(this._history[r]-this._average);return e/this._history.length}}class lb{constructor(e={}){lb.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new qN(128,this._decayRatio),this._marginAverageProvider=new qN(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let r,n;Array.isArray(e)?(r=e,n=e.length):(n=e,r=new Array(n)),this._borrowRate+=n,this._flowRate+=n;let s=0;if(this._freeCount>0){const o=this._freeList,a=Math.min(this._freeCount,n);let l=this._freeCount;for(let c=0;c<a;c++)r[s]=o[l-1],++s,--l;this._freeCount=l}for(;s<n;)r[s]=this.create(),++s;return r}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let r=0,n=e.length;r<n;r++)this._freeList[this._freeCount]=e[r],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const r=this._freeCount-e;for(let n=0;n<r;n++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const n=Math.min(this._freeCount,this.capacity);for(let s=e;s<n;s++)this._freeList[s]=null}}startGC(e=sn.shared){e.add(this._gcTick,null,ta.UTILITY)}stopGC(e=sn.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const r=this._freeCount,n=this._freeList.length;if(r<128&&this._borrowRateAverage<128&&n<128)return;const s=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>s+e){const o=s+e;this.capacity=Math.min(this._freeList.length,Math.ceil(o)),this._freeCount=this._freeList.length}}}}var MS;const ZN=new Map;class OG{static build(e){let r=ZN.get(e);return r||(r=new class extends lb{create(){return new e}},ZN.set(e,r),r)}static buildFunctional(e){return new(MS=class extends lb{constructor(...n){super(...n),MS.prototype.__init.call(this)}__init(){this.create=e}},MS)}}const QN={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},zme=Ua;class Gme extends zme{constructor(e,r,n={},s,o,a){super(),this.transformer=e;const l=Object.assign({},QN,n);this._handle=r,this._style=l,this.onHandleDelta=s,this.onHandleCommit=o,this._dirty=!0,this.interactive=!0,this.cursor=a||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new Ve,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},QN,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,r=this._style,n=r.radius;if(this.clear().lineStyle(r.outlineThickness,r.outlineColor).beginFill(r.color),r.shape==="square")this.drawRect(-n/2,-n/2,n,n);else if(r.shape==="tooth")switch(e){case"middleLeft":this.drawPolygon([-n/2,-n/2,-n/2,n/2,n/2,n/2,n*1.1,0,n/2,-n/2]);break;case"topCenter":this.drawPolygon([-n/2,-n/2,n/2,-n/2,n/2,n/2,0,n*1.1,-n/2,n/2]);break;case"middleRight":this.drawPolygon([-n/2,n/2,-n*1.1,0,-n/2,-n/2,n/2,-n/2,n/2,n/2]);break;case"bottomCenter":this.drawPolygon([0,-n*1.1,n/2,-n/2,n/2,n/2,-n/2,n/2,-n/2,-n/2]);break;case"rotator":this.drawCircle(0,0,n/Math.sqrt(2));break;default:this.drawRect(-n/2,-n/2,n,n);break}else this.drawCircle(0,0,n);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const r=e.data.global;this.onHandleDelta&&this.onHandleDelta(r),this._pointerPosition.copyFrom(r)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function R0(t,e,r,n){const{x:s,y:o}=r,{x:a,y:l}=n;if(Math.abs(a-s)<.01)return Math.abs(t-s);if(Math.abs(l-o)<.01)return Math.abs(e-o);const c=(l-o)/(a-s);return Math.abs((c*t-e+(l-c*a))/Math.sqrt(c*c+1))}const JN=OG.build(Ve),Vme=[new Ve,new Ve,new Ve,new Ve],Hme=new Ht,Ld=new Ve,Wme=[0,0,0,1,-1,1,-1,-1,1,-1,1,0],Kme=[0,0,-1,0,-1,-1,1,-1,1,1,0,1],Yme=[0,0,1,0,1,1,-1,1,-1,-1,0,-1],Xme=[0,0,0,-1,1,-1,1,1,-1,1,-1,0],kS=new Array(12),qme=[Wme,Kme,Yme,Xme],Zme=Ua;class Qme extends Zme{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new Ua),this.addChild(new Ua),this.addChild(new Ua),this.addChild(new Ua)],this.boxScalingHandles.forEach(r=>{r.interactive=!0}),this.boxScalingHandles[0].cursor=cg.topCenter,this.boxScalingHandles[1].cursor=cg.middleRight,this.boxScalingHandles[2].cursor=cg.bottomCenter,this.boxScalingHandles[3].cursor=cg.middleLeft}hitHandleType(e,r,n){const{boxRotationEnabled:s,boxRotationTolerance:o,boxScalingEnabled:a,boxScalingTolerance:l}=this.transformer,[c,d,h,g]=e.hull,{x:m,y}=r.applyInverse(n,Ld);if(a){const b=R0(m,y,c,d)*r.d,u=R0(m,y,c,g)*r.a,f=R0(m,y,d,h)*r.a,p=R0(m,y,g,h)*r.d,v=Math.min(b,u,f,p);if(v<l)switch(v){case b:return"topCenter";case u:return"middleLeft";case f:return"middleRight";case p:return"bottomCenter"}}if(s&&!e.contains(m,y)){const b=Math.sqrt((c.x-m)**2+(c.y-y)**2),u=Math.sqrt((d.x-m)**2+(d.y-y)**2),f=Math.sqrt((g.x-m)**2+(g.y-y)**2),p=Math.sqrt((h.x-m)**2+(h.y-y)**2),v=Math.min(b,u,f,p);if(v<o*1.45)switch(v){case b:return"boxRotateTopLeft";case u:return"boxRotateTopRight";case f:return"boxRotateBottomLeft";case p:return"boxRotateBottomRight"}}return null}drawBounds(e){const r=Vme;for(let n=0;n<4;n++)this.transformer.projectToLocal(e.hull[n],r[n]);this.drawPolygon(r)}drawBoxScalingTolerance(e,r=this.transformer.boxScalingTolerance){e.innerBounds.pad(-r);const n=JN.allocateArray(4);n.forEach((o,a)=>{this.projectToLocal(e.hull[a],o)}),e.innerBounds.pad(2.5*r);const s=JN.allocateArray(4);s.forEach((o,a)=>{this.projectToLocal(e.hull[a],o)}),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let o=0;o<4;o++){const a=n[o],l=n[(o+1)%4],c=s[o],d=s[(o+1)%4];this.boxScalingHandles[o].clear().beginFill(16777215,1e-4).drawPolygon(a,c,d,l).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:r,boxRotateBottomLeft:n,boxRotateBottomRight:s}=this.transformer.handleAnchors,o=this.transformer.boxRotationTolerance*2,a=Hme.identity().scale(o,o).rotate(this.transformer.getGroupBounds().rotation);for(let l=0;l<4;l++){const c=qme[l];let d;switch(l){case 0:d=e;break;case 1:d=r;break;case 2:d=n;break;case 3:d=s;break}for(let h=0;h<c.length;h+=2){const g=c[h],m=c[h+1];Ld.set(g,m),a.apply(Ld,Ld),kS[h]=Ld.x+d.x,kS[h+1]=Ld.y+d.y}this.drawPolygon(kS.slice())}}projectToLocal(e,r){return this.transformer.projectToLocal(e,r)}}const IG=new Ht;function e3(t){const e=IG.identity();return e.c=Math.tan(t),e}function t3(t){const e=IG.identity();return e.b=Math.tan(t),e}function BG(t,e,r,n=t.pivot){const s=e.a,o=e.b,a=e.c,l=e.d,c=-Math.atan2(-a,l),d=Math.atan2(o,s);return r=r!=null?r:d,t.pivot.set(n.x,n.y),t.rotation=r,t.skew.x=r+c,t.skew.y=-r+d,t.scale.x=Math.sqrt(s*s+o*o),t.scale.y=Math.sqrt(a*a+l*l),t.position.x=e.tx+(n.x*e.a+n.y*e.c),t.position.y=e.ty+(n.x*e.b+n.y*e.d),t}const O0=new Ht,Jme=new Ht;function eve(t,e,r){if(!r){const o=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}const n=t.worldTransform,s=t.parent?Jme.copyFrom(t.parent.worldTransform):Ht.IDENTITY;O0.copyFrom(n),O0.prepend(e),O0.prepend(s.invert()),BG(t.transform,O0)}const I0=new jh,tve=[new Ve,new Ve,new Ve,new Ve],Ud=new Ht,$d=new Ve,NS=new U_,rve=new Pt,r3=[new Ve,new Ve,new Ve,new Ve],n3=new Ve,i3=new Ht,B0=OG.build(Ve),cg={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},$_=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],s3={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},nve=[...$_,"rotator","skewHorizontal","skewVertical"],ive=4,sve=16,ove=[Math.PI/4,Math.PI/2,Math.PI*3/4,Math.PI,0,-Math.PI/4,-Math.PI/2,-Math.PI*3/4,-Math.PI],ave=Math.PI/90,lve=[Math.PI/4,-Math.PI/4],uve=Math.PI/90,o3={color:0,thickness:2},cve=Mi;class ms extends cve{constructor(e={}){super(),ms.prototype.__init.call(this),ms.prototype.__init2.call(this),ms.prototype.__init3.call(this),ms.prototype.__init4.call(this),ms.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||sve,this.boxScalingTolerance=e.boxScalingTolerance||ive,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new Ht,this.lockAspectRatio=e.lockAspectRatio===!0,this.rotationSnaps=e.rotationSnaps||ove,this.rotationSnapTolerance=e.rotationSnapTolerance!==void 0?e.rotationSnapTolerance:ave,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||lve,this.skewSnapTolerance=e.skewSnapTolerance!==void 0?e.skewSnapTolerance:uve,this.boxRotationEnabled=e.boxRotationEnabled===!0,this.boxScalingEnabled=e.boxScalingEnabled===!0,this._rotateEnabled=e.rotateEnabled!==!1,this._scaleEnabled=e.scaleEnabled!==!1,this._skewEnabled=e.skewEnabled===!0,this.translateEnabled=e.translateEnabled!==!1,this.transientGroupTilt=e.transientGroupTilt!==void 0?e.transientGroupTilt:!0,this.wireframe=this.addChild(new Qme(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},o3,e.wireframeStyle||{});const r=e.handleConstructor||Gme,n=e.handleStyle||{};this._handleStyle=n;const s={rotator:this.addChild(new r(this,"rotator",n,l=>{this.rotateGroup("rotator",l)},this.commitGroup))},o=$_.reduce((l,c)=>{const d=new r(this,c,n,null,this.commitGroup,cg[c]);return d.onHandleDelta=h=>{this.scaleGroup(d.handle,h)},d.visible=this._scaleEnabled,l[c]=d,this.addChild(l[c]),l},{}),a={skewHorizontal:this.addChild(new r(this,"skewHorizontal",n,l=>{this.skewGroup("skewHorizontal",l)},this.commitGroup,"pointer")),skewVertical:this.addChild(new r(this,"skewVertical",n,l=>{this.skewGroup("skewVertical",l)},this.commitGroup,"pointer"))};this.handles=Object.assign({},o,s,a),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new Ve,boxRotateTopLeft:new Ve,boxRotateTopRight:new Ve,boxRotateBottomLeft:new Ve,boxRotateBottomRight:new Ve,topLeft:new Ve,topCenter:new Ve,topRight:new Ve,middleLeft:new Ve,middleCenter:new Ve,middleRight:new Ve,bottomLeft:new Ve,bottomCenter:new Ve,bottomRight:new Ve,skewHorizontal:new Ve,skewVertical:new Ve},this.groupBounds=new U_,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new Ve,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){!this._enabledHandles&&!e||(this._enabledHandles=e,nve.forEach(r=>{this.handles[r].visible=!1}),e?e.forEach(r=>{this.handles[r].visible=!0}):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,$_.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=this._scaleEnabled)})))}get handleStyle(){return this._handleStyle}set handleStyle(e){const r=this.handles;for(const n in r)r[n].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;$_.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=e)})}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},o3,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const r=Ud.identity().translate(e.x,e.y);this.prependTransform(r)}}__init2(){this.rotateGroup=(e,r)=>{this._transformHandle=e,this._transformType="rotate";const n=this.groupBounds,s=this.worldTransform.apply(this.handleAnchors[e],$d);this.projectionTransform.applyInverse(s,s),r=this.projectionTransform.applyInverse(r,n3);const o=n.center,a=Math.atan2(s.y-o.y,s.x-o.x);let c=Math.atan2(r.y-o.y,r.x-o.x)-a,d=this.groupBounds.rotation+c;d=this.snapAngle(d,this.rotationSnapTolerance,this.rotationSnaps),c=d-this.groupBounds.rotation;const h=Ud.identity().translate(-o.x,-o.y).rotate(c).translate(o.x,o.y);this.prependTransform(h,!0),this.updateGroupBounds(d),this._skewX+=c,this._skewY+=c}}__init3(){this.scaleGroup=(e,r)=>{this._transformHandle=e,this._transformType="scale";const n=s3[e].x,s=s3[e].y,o=this.handles,a=this.groupBounds,l=a.rotation,c=a.innerBounds,d=this.worldTransform.apply(this.handleAnchors[e],$d);this.projectionTransform.applyInverse(d,d),r=this.projectionTransform.applyInverse(r,n3);const h=r.x-d.x,g=r.y-d.y,m=(a.topRight.x-a.topLeft.x)/c.width,y=(a.topRight.y-a.topLeft.y)/c.width,b=(a.bottomLeft.x-a.topLeft.x)/c.height,u=(a.bottomLeft.y-a.topLeft.y)/c.height,f=h*m+g*y,p=h*b+g*u;let v=1+f*n/c.width,_=1+p*s/c.height;this.lockAspectRatio&&(e==="topLeft"||e==="topRight"||e==="bottomLeft"||e==="bottomRight")&&(v>_?_=v:v=_);const x=Ud.identity();if(n!==0&&v!==0){const S=this.centeredScaling?a.center:n===1?a.topLeft:a.topRight;x.translate(-S.x,-S.y).rotate(-l).scale(v,1).rotate(l).translate(S.x,S.y)}if(s!==0&&_!==0){const S=this.centeredScaling?a.center:s===1?a.topLeft:a.bottomLeft;x.translate(-S.x,-S.y).rotate(-l).scale(1,_).rotate(l).translate(S.x,S.y)}if((_<0||v<0)&&!(_<0&&v<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(o.topLeft,o.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(o.topCenter,o.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(o.topRight,o.bottomRight);break}this.prependTransform(x)}}__init4(){this.skewGroup=(e,r)=>{this._transformHandle=e,this._transformType="skew";const n=this.groupBounds,s=$d.copyFrom(r);this.projectionTransform.applyInverse(s,s);const o=n.center,a=Ud.identity().translate(-o.x,-o.y);let l=this.groupBounds.rotation;if(e==="skewHorizontal"){const c=this._skewX;this._skewX=Math.atan2(s.y-o.y,s.x-o.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),a.prepend(t3(-c)),a.prepend(t3(this._skewX))}else{const c=this._skewY,d=Math.atan2(s.y-o.y,s.x-o.x)-Math.PI/2;this._skewY=d,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),a.prepend(e3(c)),a.prepend(e3(-this._skewY)),l-=this._skewY-c}a.translate(o.x,o.y),this.prependTransform(a,!0),this.updateGroupBounds(l)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",this.transientGroupTilt!==!1&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:r,thickness:n}=this._wireframeStyle;this.wireframe.clear(),this.boundingBoxes!=="none"&&this.wireframe.lineStyle(n,r),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let o=0,a=e.length;o<a&&this.boundingBoxes==="all";o++)this.wireframe.drawBounds(ms.calculateOrientedBounds(e[o],NS));const s=e.length!==1?ms.calculateGroupOrientedBounds(e,this.groupBounds.rotation,NS,!0):ms.calculateOrientedBounds(e[0],NS);this.wireframe.drawBounds(s),this.drawHandles(s),this.groupBounds.copyFrom(s),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(s)),this.lazyDirty=!1}drawHandles(e){const r=this.handles,n=this.handleAnchors,{topLeft:s,topRight:o,bottomLeft:a,bottomRight:l,center:c}=e,[d,h,g,m]=r3,y=$d;if(this.projectToLocal(s,d),this.projectToLocal(o,h),this.projectToLocal(a,g),this.projectToLocal(l,m),this.projectToLocal(c,y),n.topLeft.copyFrom(d),n.topCenter.set((d.x+h.x)/2,(d.y+h.y)/2),n.topRight.copyFrom(h),n.middleLeft.set((d.x+g.x)/2,(d.y+g.y)/2),n.middleCenter.set((d.x+m.x)/2,(d.y+m.y)/2),n.middleRight.set((h.x+m.x)/2,(h.y+m.y)/2),n.bottomLeft.copyFrom(g),n.bottomCenter.set((g.x+m.x)/2,(g.y+m.y)/2),n.bottomRight.copyFrom(m),this.boxRotationEnabled&&(n.boxRotateTopLeft.copyFrom(n.topLeft),n.boxRotateTopRight.copyFrom(n.topRight),n.boxRotateBottomLeft.copyFrom(n.bottomLeft),n.boxRotateBottomRight.copyFrom(n.bottomRight)),this._rotateEnabled){const b=(d.x+h.x)/2,u=(d.y+h.y)/2;let f=-(d.y-h.y),p=d.x-h.x;const v=Math.sqrt(f*f+p*p);f*=32/v,p*=32/v,r.rotator.position.x=b+f,r.rotator.position.y=u+p,this.wireframe.moveTo(b,u).lineTo(r.rotator.position.x,r.rotator.position.y),this.handleAnchors.rotator.copyFrom(r.rotator.position)}if(this._skewEnabled){const b=y.x,u=y.y;this.worldTransform.apply(y,y),n.skewHorizontal.set(y.x+Math.cos(this._skewX)*this.skewRadius,y.y+Math.sin(this._skewX)*this.skewRadius),n.skewVertical.set(y.x+-Math.sin(this._skewY)*this.skewRadius,y.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(n.skewHorizontal,n.skewHorizontal),this.worldTransform.applyInverse(n.skewVertical,n.skewVertical),y.set(b,u),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(y.x,y.y,this.wireframeStyle.thickness*2).endFill(),this.wireframe.moveTo(y.x,y.y).lineTo(r.skewHorizontal.x,r.skewHorizontal.y).moveTo(y.x,y.y).lineTo(r.skewVertical.x,r.skewVertical.y)}for(const b in r){let u=this.groupBounds.rotation;b==="skewHorizontal"?u=this._skewX:b==="skewVertical"&&(u=this._skewY);const f=r[b];f.rotation=u,f.position.copyFrom(n[b]),f.getBounds(!1,rve)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const r=this._pointerPosition,n=B0.allocate().copyFrom(e.data.global),s=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n);if(!this._pointerDown)this.setCursorFromHoveredHandle(s);else{const o=n.x,a=n.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,n);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,n);break;default:if(this.translateEnabled){const[l,c,d]=r3;l.set(0,0),c.set(n.x-r.x,n.y-r.y),this.projectionTransform.applyInverse(l,l),this.projectionTransform.applyInverse(c,c),d.set(c.x-l.x,c.y-l.y),this.translateGroup(d)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n),this.setCursorFromHoveredHandle(s);this._pointerPosition.x=o,this._pointerPosition.y=a,this._pointerDragging=!0,e.stopPropagation()}B0.release(n)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,r=!1){const n=this.group;for(let s=0,o=n.length;s<o;s++)eve(n[s],e,!1);i3.copyFrom(e),r||this.updateGroupBounds(),this.emit("transformchange",i3)}updateGroupBounds(e=this.groupBounds.rotation){ms.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,r,n){if(e=e%(Math.PI*2),!n||n.length===1||!r)return e;for(let s=0,o=n.length;s<o;s++)if(Math.abs(e-n[s])<=r)return n[s];return e}swapHandles(e,r){const n=e.handle,s=r.handle,o=e.cursor,a=r.cursor,l=e.x,c=r.x,d=e.y,h=r.y;e.handle=s,r.handle=n,e.position.set(c,h),r.position.set(l,d),e.cursor=a,r.cursor=o,this.handles[n]=r,this.handles[s]=e,this._transformHandle===n?this._transformHandle=s:this._transformHandle===s&&(this._transformHandle=n)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default;break}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,r){return r||(r=new Ve),this.projectionTransform.apply(e,r),this.worldTransform.applyInverse(r,r),r}static calculateTransformedCorners(e,r=e.worldTransform,n,s=0){const o=e.getLocalBounds();return e.getBounds(),n=n||[new Ve,new Ve,new Ve,new Ve],n[s].set(o.x,o.y),n[s+1].set(o.x+o.width,o.y),n[s+2].set(o.x+o.width,o.y+o.height),n[s+3].set(o.x,o.y+o.height),r.apply(n[s],n[s]),r.apply(n[s+1],n[s+1]),r.apply(n[s+2],n[s+2]),r.apply(n[s+3],n[s+3]),n}static calculateOrientedBounds(e,r){const n=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(n),BG(I0,e.worldTransform),I0.updateLocalTransform();const s=I0.rotation,o=ms.calculateTransformedCorners(e,e.worldTransform,tve),a=(o[0].x+o[1].x+o[2].x+o[3].x)/4,l=(o[0].y+o[1].y+o[2].y+o[3].y)/4,c=Ud.identity().translate(-a,-l).rotate(-I0.rotation).translate(a,l);return c.apply(o[0],o[0]),c.apply(o[1],o[1]),c.apply(o[2],o[2]),c.apply(o[3],o[3]),r=r||new U_,r.rotation=s,r.innerBounds.x=Math.min(o[0].x,o[1].x,o[2].x,o[3].x),r.innerBounds.y=Math.min(o[0].y,o[1].y,o[2].y,o[3].y),r.innerBounds.width=Math.max(o[0].x,o[1].x,o[2].x,o[3].x)-r.innerBounds.x,r.innerBounds.height=Math.max(o[0].y,o[1].y,o[2].y,o[3].y)-r.innerBounds.y,r}static calculateGroupOrientedBounds(e,r,n,s=!1){const o=e.length,a=B0.allocateArray(o*4);for(let m=0;m<o;m++){const y=e[m];if(!s){const b=y.parent?y.parent:y.enableTempParent();y.updateTransform(),y.disableTempParent(b)}ms.calculateTransformedCorners(y,y.worldTransform,a,m*4)}const l=Ud.identity().rotate(-r);let c=Number.MAX_VALUE,d=Number.MAX_VALUE,h=-Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let m=0,y=a.length;m<y;m++){const b=a[m];l.apply(b,b);const u=b.x,f=b.y;c=u<c?u:c,d=f<d?f:d,h=u>h?u:h,g=f>g?f:g}return B0.releaseArray(a),n=n||new U_,n.innerBounds.x=c,n.innerBounds.y=d,n.innerBounds.width=h-c,n.innerBounds.height=g-d,n.rotation=r,l.applyInverse(n.center,$d),n.center.copyFrom($d),n}}var FG=Symbol.for("immer-nothing"),a3=Symbol.for("immer-draftable"),Jt=Symbol.for("immer-state");function Ps(t,...e){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var bh=Object.getPrototypeOf;function td(t){return!!t&&!!t[Jt]}function nl(t){var e;return t?MG(t)||Array.isArray(t)||!!t[a3]||!!((e=t.constructor)!=null&&e[a3])||ox(t)||ax(t):!1}var dve=Object.prototype.constructor.toString();function MG(t){if(!t||typeof t!="object")return!1;const e=bh(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dve}function Ym(t,e){sx(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function sx(t){const e=t[Jt];return e?e.type_:Array.isArray(t)?1:ox(t)?2:ax(t)?3:0}function aD(t,e){return sx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kG(t,e,r){const n=sx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function fve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ox(t){return t instanceof Map}function ax(t){return t instanceof Set}function xn(t){return t.copy_||t.base_}function lD(t,e){if(ox(t))return new Map(t);if(ax(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=MG(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Jt];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const a=s[o],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(bh(t),n)}else{const n=bh(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function pO(t,e=!1){return lx(t)||td(t)||!nl(t)||(sx(t)>1&&(t.set=t.add=t.clear=t.delete=hve),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>pO(n,!0))),t}function hve(){Ps(2)}function lx(t){return Object.isFrozen(t)}var uD={};function rd(t){const e=uD[t];return e||Ps(0,t),e}function pve(t,e){uD[t]||(uD[t]=e)}var Xm;function ub(){return Xm}function gve(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l3(t,e){e&&(rd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function cD(t){dD(t),t.drafts_.forEach(mve),t.drafts_=null}function dD(t){t===Xm&&(Xm=t.parent_)}function u3(t){return Xm=gve(Xm,t)}function mve(t){const e=t[Jt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function c3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Jt].modified_&&(cD(e),Ps(4)),nl(t)&&(t=cb(e,t),e.parent_||db(e,t)),e.patches_&&rd("Patches").generateReplacementPatches_(r[Jt].base_,t,e.patches_,e.inversePatches_)):t=cb(e,r,[]),cD(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==FG?t:void 0}function cb(t,e,r){if(lx(e))return e;const n=e[Jt];if(!n)return Ym(e,(s,o)=>d3(t,n,e,s,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return db(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,a=!1;n.type_===3&&(o=new Set(s),s.clear(),a=!0),Ym(o,(l,c)=>d3(t,n,s,l,c,r,a)),db(t,s,!1),r&&t.patches_&&rd("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function d3(t,e,r,n,s,o,a){if(td(s)){const l=o&&e&&e.type_!==3&&!aD(e.assigned_,n)?o.concat(n):void 0,c=cb(t,s,l);if(kG(r,n,c),td(c))t.canAutoFreeze_=!1;else return}else a&&r.add(s);if(nl(s)&&!lx(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cb(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&db(t,s)}}function db(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pO(e,r)}function vve(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:ub(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=gO;r&&(s=[n],o=qm);const{revoke:a,proxy:l}=Proxy.revocable(s,o);return n.draft_=l,n.revoke_=a,l}var gO={get(t,e){if(e===Jt)return t;const r=xn(t);if(!aD(r,e))return yve(t,r,e);const n=r[e];return t.finalized_||!nl(n)?n:n===LS(t.base_,e)?(US(t),t.copy_[e]=Zm(n,t)):n},has(t,e){return e in xn(t)},ownKeys(t){return Reflect.ownKeys(xn(t))},set(t,e,r){const n=NG(xn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=LS(xn(t),e),o=s==null?void 0:s[Jt];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(fve(r,s)&&(r!==void 0||aD(t.base_,e)))return!0;US(t),Ia(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,US(t),Ia(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=xn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ps(11)},getPrototypeOf(t){return bh(t.base_)},setPrototypeOf(){Ps(12)}},qm={};Ym(gO,(t,e)=>{qm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qm.deleteProperty=function(t,e){return qm.set.call(this,t,e,void 0)};qm.set=function(t,e,r){return gO.set.call(this,t[0],e,r,t[0])};function LS(t,e){const r=t[Jt];return(r?xn(r):t)[e]}function yve(t,e,r){var s;const n=NG(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function NG(t,e){if(!(e in t))return;let r=bh(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=bh(r)}}function Ia(t){t.modified_||(t.modified_=!0,t.parent_&&Ia(t.parent_))}function US(t){t.copy_||(t.copy_=lD(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _ve=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const a=this;return function(c=o,...d){return a.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&Ps(6),n!==void 0&&typeof n!="function"&&Ps(7);let s;if(nl(e)){const o=u3(this),a=Zm(e,void 0);let l=!0;try{s=r(a),l=!1}finally{l?cD(o):dD(o)}return l3(o,n),c3(s,o)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===FG&&(s=void 0),this.autoFreeze_&&pO(s,!0),n){const o=[],a=[];rd("Patches").generateReplacementPatches_(e,s,o,a),n(o,a)}return s}else Ps(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let n,s;return[this.produce(e,r,(a,l)=>{n=a,s=l}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){nl(t)||Ps(8),td(t)&&(t=bve(t));const e=u3(this),r=Zm(t,void 0);return r[Jt].isManual_=!0,dD(e),r}finishDraft(t,e){const r=t&&t[Jt];(!r||!r.isManual_)&&Ps(9);const{scope_:n}=r;return l3(n,e),c3(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=rd("Patches").applyPatches_;return td(t)?n(t,e):this.produce(t,s=>n(s,e))}};function Zm(t,e){const r=ox(t)?rd("MapSet").proxyMap_(t,e):ax(t)?rd("MapSet").proxySet_(t,e):vve(t,e);return(e?e.scope_:ub()).drafts_.push(r),r}function bve(t){return td(t)||Ps(10,t),LG(t)}function LG(t){if(!nl(t)||lx(t))return t;const e=t[Jt];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=lD(t,e.scope_.immer_.useStrictShallowCopy_)}else r=lD(t,!0);return Ym(r,(n,s)=>{kG(r,n,LG(s))}),e&&(e.finalized_=!1),r}function wve(){class t extends Map{constructor(c,d){super(),this[Jt]={type_:2,parent_:d,scope_:d?d.scope_:ub(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return xn(this[Jt]).size}has(c){return xn(this[Jt]).has(c)}set(c,d){const h=this[Jt];return a(h),(!xn(h).has(c)||xn(h).get(c)!==d)&&(r(h),Ia(h),h.assigned_.set(c,!0),h.copy_.set(c,d),h.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const d=this[Jt];return a(d),r(d),Ia(d),d.base_.has(c)?d.assigned_.set(c,!1):d.assigned_.delete(c),d.copy_.delete(c),!0}clear(){const c=this[Jt];a(c),xn(c).size&&(r(c),Ia(c),c.assigned_=new Map,Ym(c.base_,d=>{c.assigned_.set(d,!1)}),c.copy_.clear())}forEach(c,d){const h=this[Jt];xn(h).forEach((g,m,y)=>{c.call(d,this.get(m),m,this)})}get(c){const d=this[Jt];a(d);const h=xn(d).get(c);if(d.finalized_||!nl(h)||h!==d.base_.get(c))return h;const g=Zm(h,d);return r(d),d.copy_.set(c,g),g}keys(){return xn(this[Jt]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=c.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=c.next();if(d.done)return d;const h=this.get(d.value);return{done:!1,value:[d.value,h]}}}}[Symbol.iterator](){return this.entries()}}function e(l,c){return new t(l,c)}function r(l){l.copy_||(l.assigned_=new Map,l.copy_=new Map(l.base_))}class n extends Set{constructor(c,d){super(),this[Jt]={type_:3,parent_:d,scope_:d?d.scope_:ub(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return xn(this[Jt]).size}has(c){const d=this[Jt];return a(d),d.copy_?!!(d.copy_.has(c)||d.drafts_.has(c)&&d.copy_.has(d.drafts_.get(c))):d.base_.has(c)}add(c){const d=this[Jt];return a(d),this.has(c)||(o(d),Ia(d),d.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const d=this[Jt];return a(d),o(d),Ia(d),d.copy_.delete(c)||(d.drafts_.has(c)?d.copy_.delete(d.drafts_.get(c)):!1)}clear(){const c=this[Jt];a(c),xn(c).size&&(o(c),Ia(c),c.copy_.clear())}values(){const c=this[Jt];return a(c),o(c),c.copy_.values()}entries(){const c=this[Jt];return a(c),o(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,d){const h=this.values();let g=h.next();for(;!g.done;)c.call(d,g.value,g.value,this),g=h.next()}}function s(l,c){return new n(l,c)}function o(l){l.copy_||(l.copy_=new Set,l.base_.forEach(c=>{if(nl(c)){const d=Zm(c,l);l.drafts_.set(c,d),l.copy_.add(d)}else l.copy_.add(c)}))}function a(l){l.revoked_&&Ps(3,JSON.stringify(xn(l)))}pve("MapSet",{proxyMap_:e,proxySet_:s})}var ss=new _ve,ny=ss.produce;ss.produceWithPatches.bind(ss);var xve=ss.setAutoFreeze.bind(ss);ss.setUseStrictShallowCopy.bind(ss);ss.applyPatches.bind(ss);var f3=ss.createDraft.bind(ss),h3=ss.finishDraft.bind(ss);const Eve=t=>(e,r,n)=>(n.setState=(s,o,...a)=>{const l=typeof s=="function"?ny(s):s;return e(l,o,...a)},t(n.setState,r,n)),CVe=Eve;function Sve(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function iy(...t){return e=>t.forEach(r=>Sve(r,e))}function yt(...t){return E.useCallback(iy(...t),t)}var na=E.forwardRef((t,e)=>{const{children:r,...n}=t,s=E.Children.toArray(r),o=s.find(Cve);if(o){const a=o.props.children,l=s.map(c=>c===o?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:c);return F.jsx(fD,{...n,ref:e,children:E.isValidElement(a)?E.cloneElement(a,void 0,l):null})}return F.jsx(fD,{...n,ref:e,children:r})});na.displayName="Slot";var fD=E.forwardRef((t,e)=>{const{children:r,...n}=t;if(E.isValidElement(r)){const s=Tve(r);return E.cloneElement(r,{...Ave(n,r.props),ref:e?iy(e,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});fD.displayName="SlotClone";var mO=({children:t})=>F.jsx(F.Fragment,{children:t});function Cve(t){return E.isValidElement(t)&&t.type===mO}function Ave(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Tve(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Dve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=Dve.reduce((t,e)=>{const r=E.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?na:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(l,{...a,ref:s})});return r.displayName="Primitive.".concat(e),{...t,[e]:r}},{});function sy(t,e){t&&dl.flushSync(()=>t.dispatchEvent(e))}var ln=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function Pve(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var Ni=t=>{const{present:e,children:r}=t,n=Rve(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=yt(n.ref,Ove(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};Ni.displayName="Presence";function Rve(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[l,c]=Pve(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=F0(n.current);o.current=l==="mounted"?d:"none"},[l]),ln(()=>{const d=n.current,h=s.current;if(h!==t){const m=o.current,y=F0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ln(()=>{if(e){const d=g=>{const y=F0(n.current).includes(g.animationName);g.target===e&&y&&dl.flushSync(()=>c("ANIMATION_END"))},h=g=>{g.target===e&&(o.current=F0(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function F0(t){return(t==null?void 0:t.animationName)||"none"}function Ove(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Li(t,e=[]){let r=[];function n(o,a){const l=E.createContext(a),c=r.length;r=[...r,a];function d(g){const{scope:m,children:y,...b}=g,u=(m==null?void 0:m[t][c])||l,f=E.useMemo(()=>b,Object.values(b));return F.jsx(u.Provider,{value:f,children:y})}function h(g,m){const y=(m==null?void 0:m[t][c])||l,b=E.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error("`".concat(g,"` must be used within `").concat(o,"`"))}return d.displayName=o+"Provider",[d,h]}const s=()=>{const o=r.map(a=>E.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Ive(s,...e)]}function Ive(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const g=c(o)["__scope".concat(d)];return{...l,...g}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:a}),[a])}};return r.scopeName=e.scopeName,r}function ir(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var Bve=E.createContext(void 0);function ua(t){const e=E.useContext(Bve);return t||e||"ltr"}function Qm(t,[e,r]){return Math.min(r,Math.max(e,t))}function fe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Fve(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var vO="ScrollArea",[UG,AVe]=Li(vO),[Mve,Ys]=UG(vO),$G=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=t,[l,c]=E.useState(null),[d,h]=E.useState(null),[g,m]=E.useState(null),[y,b]=E.useState(null),[u,f]=E.useState(null),[p,v]=E.useState(0),[_,w]=E.useState(0),[x,S]=E.useState(!1),[A,D]=E.useState(!1),C=yt(e,R=>c(R)),T=ua(s);return F.jsx(Mve,{scope:r,type:n,dir:T,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:h,content:g,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:u,onScrollbarYChange:f,scrollbarYEnabled:A,onScrollbarYEnabledChange:D,onCornerWidthChange:v,onCornerHeightChange:w,children:F.jsx(Ye.div,{dir:T,...a,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});$G.displayName=vO;var jG="ScrollAreaViewport",zG=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,a=Ys(jG,r),l=E.useRef(null),c=yt(e,l,a.onViewportChange);return F.jsxs(F.Fragment,{children:[F.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),F.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:F.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});zG.displayName=jG;var ca="ScrollAreaScrollbar",kve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ys(ca,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return E.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?F.jsx(Nve,{...n,ref:e,forceMount:r}):s.type==="scroll"?F.jsx(Lve,{...n,ref:e,forceMount:r}):s.type==="auto"?F.jsx(GG,{...n,ref:e,forceMount:r}):s.type==="always"?F.jsx(yO,{...n,ref:e}):null});kve.displayName=ca;var Nve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ys(ca,t.__scopeScrollArea),[o,a]=E.useState(!1);return E.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),F.jsx(Ni,{present:r||o,children:F.jsx(GG,{"data-state":o?"visible":"hidden",...n,ref:e})})}),Lve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ys(ca,t.__scopeScrollArea),o=t.orientation==="horizontal",a=cx(()=>c("SCROLL_END"),100),[l,c]=Fve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),E.useEffect(()=>{const d=s.viewport,h=o?"scrollLeft":"scrollTop";if(d){let g=d[h];const m=()=>{const y=d[h];g!==y&&(c("SCROLL"),a()),g=y};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,o,c,a]),F.jsx(Ni,{present:r||l!=="hidden",children:F.jsx(yO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:fe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),GG=E.forwardRef((t,e)=>{const r=Ys(ca,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,a]=E.useState(!1),l=t.orientation==="horizontal",c=cx(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?d:h)}},10);return wh(r.viewport,c),wh(r.content,c),F.jsx(Ni,{present:n||o,children:F.jsx(yO,{"data-state":o?"visible":"hidden",...s,ref:e})})}),yO=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Ys(ca,t.__scopeScrollArea),o=E.useRef(null),a=E.useRef(0),[l,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=KG(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function g(m,y){return Hve(m,a.current,l,y)}return r==="horizontal"?F.jsx(Uve,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,y=p3(m,l,s.dir);o.current.style.transform="translate3d(".concat(y,"px, 0, 0)")}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=g(m,s.dir))}}):r==="vertical"?F.jsx($ve,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,y=p3(m,l);o.current.style.transform="translate3d(0, ".concat(y,"px, 0)")}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=g(m))}}):null}),Uve=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ys(ca,t.__scopeScrollArea),[a,l]=E.useState(),c=E.useRef(null),d=yt(e,c,o.onScrollbarXChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),F.jsx(HG,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ux(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(o.viewport){const m=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),XG(m,g)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:hb(a.paddingLeft),paddingEnd:hb(a.paddingRight)}})}})}),$ve=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ys(ca,t.__scopeScrollArea),[a,l]=E.useState(),c=E.useRef(null),d=yt(e,c,o.onScrollbarYChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),F.jsx(HG,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ux(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(o.viewport){const m=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),XG(m,g)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:hb(a.paddingTop),paddingEnd:hb(a.paddingBottom)}})}})}),[jve,VG]=UG(ca),HG=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:g,...m}=t,y=Ys(ca,r),[b,u]=E.useState(null),f=yt(e,C=>u(C)),p=E.useRef(null),v=E.useRef(""),_=y.viewport,w=n.content-n.viewport,x=ir(h),S=ir(c),A=cx(g,10);function D(C){if(p.current){const T=C.clientX-p.current.left,R=C.clientY-p.current.top;d({x:T,y:R})}}return E.useEffect(()=>{const C=T=>{const R=T.target;(b==null?void 0:b.contains(R))&&x(T,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,b,w,x]),E.useEffect(S,[n,S]),wh(b,A),wh(y.content,A),F.jsx(jve,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:ir(o),onThumbPointerUp:ir(a),onThumbPositionChange:S,onThumbPointerDown:ir(l),children:F.jsx(Ye.div,{...m,ref:f,style:{position:"absolute",...m.style},onPointerDown:fe(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),p.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),D(C))}),onPointerMove:fe(t.onPointerMove,D),onPointerUp:fe(t.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),fb="ScrollAreaThumb",zve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=VG(fb,t.__scopeScrollArea);return F.jsx(Ni,{present:r||s.hasThumb,children:F.jsx(Gve,{ref:e,...n})})}),Gve=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=Ys(fb,r),a=VG(fb,r),{onThumbPositionChange:l}=a,c=yt(e,g=>a.onThumbChange(g)),d=E.useRef(),h=cx(()=>{d.current&&(d.current(),d.current=void 0)},100);return E.useEffect(()=>{const g=o.viewport;if(g){const m=()=>{if(h(),!d.current){const y=Wve(g,l);d.current=y,l()}};return l(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[o.viewport,h,l]),F.jsx(Ye.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),b=g.clientX-y.left,u=g.clientY-y.top;a.onThumbPointerDown({x:b,y:u})}),onPointerUp:fe(t.onPointerUp,a.onThumbPointerUp)})});zve.displayName=fb;var _O="ScrollAreaCorner",WG=E.forwardRef((t,e)=>{const r=Ys(_O,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?F.jsx(Vve,{...t,ref:e}):null});WG.displayName=_O;var Vve=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Ys(_O,r),[o,a]=E.useState(0),[l,c]=E.useState(0),d=!!(o&&l);return wh(s.scrollbarX,()=>{var g;const h=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),wh(s.scrollbarY,()=>{var g;const h=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),d?F.jsx(Ye.div,{...n,ref:e,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function hb(t){return t?parseInt(t,10):0}function KG(t,e){const r=t/e;return isNaN(r)?0:r}function ux(t){const e=KG(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Hve(t,e,r,n="ltr"){const s=ux(r),o=s/2,a=e||o,l=s-a,c=r.scrollbar.paddingStart+a,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,g=n==="ltr"?[0,h]:[h*-1,0];return YG([c,d],g)(t)}function p3(t,e,r="ltr"){const n=ux(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,a=e.content-e.viewport,l=o-n,c=r==="ltr"?[0,a]:[a*-1,0],d=Qm(t,c);return YG([0,a],[0,l])(d)}function YG(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function XG(t,e){return t>0&&t<e}var Wve=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},a=r.left!==o.left,l=r.top!==o.top;(a||l)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function cx(t,e){const r=ir(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function wh(t,e){const r=ir(e);ln(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var TVe=$G,DVe=zG,PVe=WG;function qG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=qG(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Kve(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=qG(t))&&(n&&(n+=" "),n+=e);return n}const g3=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,hD=Kve,RVe=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return hD(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],g=o==null?void 0:o[d];if(h===null)return null;const m=g3(h)||g3(g);return s[d][m]}),l=r&&Object.entries(r).reduce((d,h)=>{let[g,m]=h;return m===void 0||(d[g]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:g,className:m,...y}=h;return Object.entries(y).every(b=>{let[u,f]=b;return Array.isArray(f)?f.includes({...o,...l}[u]):{...o,...l}[u]===f})?[...d,g,m]:d},[]);return hD(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZG=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qve=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>E.createElement("svg",{ref:c,...Xve,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ZG("lucide",s),...l},[...a.map(([d,h])=>E.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const r=E.forwardRef(({className:n,...s},o)=>E.createElement(qve,{ref:o,iconNode:e,className:ZG("lucide-".concat(Yve(t)),n),...s}));return r.displayName="".concat(t),r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OVe=He("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IVe=He("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BVe=He("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FVe=He("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MVe=He("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kVe=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NVe=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LVe=He("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UVe=He("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ve=He("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jVe=He("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zVe=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GVe=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VVe=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HVe=He("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WVe=He("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KVe=He("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YVe=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XVe=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qVe=He("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZVe=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QVe=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JVe=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eHe=He("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tHe=He("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rHe=He("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nHe=He("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iHe=He("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sHe=He("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oHe=He("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aHe=He("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lHe=He("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uHe=He("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cHe=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dHe=He("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fHe=He("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hHe=He("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pHe=He("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gHe=He("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mHe=He("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vHe=He("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yHe=He("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _He=He("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bHe=He("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wHe=He("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xHe=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EHe=He("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SHe=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CHe=He("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AHe=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const THe=He("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DHe=He("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PHe=He("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RHe=He("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OHe=He("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IHe=He("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BHe=He("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FHe=He("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MHe=He("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kHe=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NHe=He("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LHe=He("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UHe=He("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $He=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jHe=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zHe=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GHe=He("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VHe=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HHe=He("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WHe=He("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KHe=He("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YHe=He("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XHe=He("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qHe=He("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZHe=He("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QHe=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JHe=He("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eWe=He("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tWe=He("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rWe=He("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nWe=He("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iWe=He("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sWe=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jn({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Zve({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,l=ir(r),c=E.useCallback(d=>{if(o){const g=typeof d=="function"?d(t):d;g!==t&&l(g)}else s(d)},[o,t,s,l]);return[a,c]}function Zve({defaultProp:t,onChange:e}){const r=E.useState(t),[n]=r,s=E.useRef(n),o=ir(e);return E.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function bd(t){const e=t+"CollectionProvider",[r,n]=Li(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:u}=y,f=Z.useRef(null),p=Z.useRef(new Map).current;return F.jsx(s,{scope:b,itemMap:p,collectionRef:f,children:u})};a.displayName=e;const l=t+"CollectionSlot",c=Z.forwardRef((y,b)=>{const{scope:u,children:f}=y,p=o(l,u),v=yt(b,p.collectionRef);return F.jsx(na,{ref:v,children:f})});c.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=Z.forwardRef((y,b)=>{const{scope:u,children:f,...p}=y,v=Z.useRef(null),_=yt(b,v),w=o(d,u);return Z.useEffect(()=>(w.itemMap.set(v,{ref:v,...p}),()=>void w.itemMap.delete(v))),F.jsx(na,{[h]:"",ref:_,children:f})});g.displayName=d;function m(y){const b=o(t+"CollectionConsumer",y);return Z.useCallback(()=>{const f=b.collectionRef.current;if(!f)return[];const p=Array.from(f.querySelectorAll("[".concat(h,"]")));return Array.from(b.itemMap.values()).sort((w,x)=>p.indexOf(w.ref.current)-p.indexOf(x.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},m,n]}function QG(t,e=globalThis==null?void 0:globalThis.document){const r=ir(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Qve="DismissableLayer",pD="dismissableLayer.update",Jve="dismissableLayer.pointerDownOutside",eye="dismissableLayer.focusOutside",m3,JG=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oy=E.forwardRef((t,e)=>{var A;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=E.useContext(JG),[h,g]=E.useState(null),m=(A=h==null?void 0:h.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),b=yt(e,D=>g(D)),u=Array.from(d.layers),[f]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(f),v=h?u.indexOf(h):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,x=nye(D=>{const C=D.target,T=[...d.branches].some(R=>R.contains(C));!w||T||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},m),S=iye(D=>{const C=D.target;[...d.branches].some(R=>R.contains(C))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},m);return QG(D=>{v===d.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},m),E.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(m3=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),v3(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=m3)}},[h,m,r,d]),E.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),v3())},[h,d]),E.useEffect(()=>{const D=()=>y({});return document.addEventListener(pD,D),()=>document.removeEventListener(pD,D)},[]),F.jsx(Ye.div,{...c,ref:b,style:{pointerEvents:_?w?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,x.onPointerDownCapture)})});oy.displayName=Qve;var tye="DismissableLayerBranch",rye=E.forwardRef((t,e)=>{const r=E.useContext(JG),n=E.useRef(null),s=yt(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),F.jsx(Ye.div,{...t,ref:s})});rye.displayName=tye;function nye(t,e=globalThis==null?void 0:globalThis.document){const r=ir(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){e9(Jve,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function iye(t,e=globalThis==null?void 0:globalThis.document){const r=ir(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&e9(eye,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v3(){const t=new CustomEvent(pD);document.dispatchEvent(t)}function e9(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?sy(s,o):s.dispatchEvent(o)}var $S=0;function bO(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:y3()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:y3()),$S++,()=>{$S===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),$S--}},[])}function y3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var jS="focusScope.autoFocusOnMount",zS="focusScope.autoFocusOnUnmount",_3={bubbles:!1,cancelable:!0},sye="FocusScope",Wh=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=E.useState(null),d=ir(s),h=ir(o),g=E.useRef(null),m=yt(e,u=>c(u)),y=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let u=function(_){if(y.paused||!l)return;const w=_.target;l.contains(w)?g.current=w:Rl(g.current,{select:!0})},f=function(_){if(y.paused||!l)return;const w=_.relatedTarget;w!==null&&(l.contains(w)||Rl(g.current,{select:!0}))},p=function(_){if(document.activeElement===document.body)for(const x of _)x.removedNodes.length>0&&Rl(l)};document.addEventListener("focusin",u),document.addEventListener("focusout",f);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",f),v.disconnect()}}},[n,l,y.paused]),E.useEffect(()=>{if(l){w3.add(y);const u=document.activeElement;if(!l.contains(u)){const p=new CustomEvent(jS,_3);l.addEventListener(jS,d),l.dispatchEvent(p),p.defaultPrevented||(oye(dye(t9(l)),{select:!0}),document.activeElement===u&&Rl(l))}return()=>{l.removeEventListener(jS,d),setTimeout(()=>{const p=new CustomEvent(zS,_3);l.addEventListener(zS,h),l.dispatchEvent(p),p.defaultPrevented||Rl(u!=null?u:document.body,{select:!0}),l.removeEventListener(zS,h),w3.remove(y)},0)}}},[l,d,h,y]);const b=E.useCallback(u=>{if(!r&&!n||y.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=document.activeElement;if(f&&p){const v=u.currentTarget,[_,w]=aye(v);_&&w?!u.shiftKey&&p===w?(u.preventDefault(),r&&Rl(_,{select:!0})):u.shiftKey&&p===_&&(u.preventDefault(),r&&Rl(w,{select:!0})):p===v&&u.preventDefault()}},[r,n,y.paused]);return F.jsx(Ye.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});Wh.displayName=sye;function oye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Rl(n,{select:e}),document.activeElement!==r)return}function aye(t){const e=t9(t),r=b3(e,t),n=b3(e.reverse(),t);return[r,n]}function t9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function b3(t,e){for(const r of t)if(!lye(r,{upTo:e}))return r}function lye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uye(t){return t instanceof HTMLInputElement&&"select"in t}function Rl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uye(t)&&e&&t.select()}}var w3=cye();function cye(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=x3(t,e),t.unshift(e)},remove(e){var r;t=x3(t,e),(r=t[0])==null||r.resume()}}}function x3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function dye(t){return t.filter(e=>e.tagName!=="A")}var fye=QP["useId".toString()]||(()=>{}),hye=0;function Nn(t){const[e,r]=E.useState(fye());return ln(()=>{t||r(n=>n!=null?n:String(hye++))},[t]),t||(e?"radix-".concat(e):"")}const pye=["top","right","bottom","left"],Wo=Math.min,Wi=Math.max,pb=Math.round,M0=Math.floor,Cu=t=>({x:t,y:t}),gye={left:"right",right:"left",bottom:"top",top:"bottom"},mye={start:"end",end:"start"};function gD(t,e,r){return Wi(t,Wo(e,r))}function il(t,e){return typeof t=="function"?t(e):t}function sl(t){return t.split("-")[0]}function Kh(t){return t.split("-")[1]}function wO(t){return t==="x"?"y":"x"}function xO(t){return t==="y"?"height":"width"}function Au(t){return["top","bottom"].includes(sl(t))?"y":"x"}function EO(t){return wO(Au(t))}function vye(t,e,r){r===void 0&&(r=!1);const n=Kh(t),s=EO(t),o=xO(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=gb(a)),[a,gb(a)]}function yye(t){const e=gb(t);return[mD(t),e,mD(e)]}function mD(t){return t.replace(/start|end/g,e=>mye[e])}function _ye(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:a;default:return[]}}function bye(t,e,r,n){const s=Kh(t);let o=_ye(sl(t),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(mD)))),o}function gb(t){return t.replace(/left|right|bottom|top/g,e=>gye[e])}function wye(t){return{top:0,right:0,bottom:0,left:0,...t}}function r9(t){return typeof t!="number"?wye(t):{top:t,right:t,bottom:t,left:t}}function mb(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function E3(t,e,r){let{reference:n,floating:s}=t;const o=Au(e),a=EO(e),l=xO(a),c=sl(e),d=o==="y",h=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:g};break;case"left":y={x:n.x-s.width,y:g};break;default:y={x:n.x,y:n.y}}switch(Kh(e)){case"start":y[a]-=m*(r&&d?-1:1);break;case"end":y[a]+=m*(r&&d?-1:1);break}return y}const xye=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:g}=E3(d,n,c),m=n,y={},b=0;for(let u=0;u<l.length;u++){const{name:f,fn:p}=l[u],{x:v,y:_,data:w,reset:x}=await p({x:h,y:g,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});h=v!=null?v:h,g=_!=null?_:g,y={...y,[f]:{...y[f],...w}},x&&b<=50&&(b++,typeof x=="object"&&(x.placement&&(m=x.placement),x.rects&&(d=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:h,y:g}=E3(d,m,c)),u=-1)}return{x:h,y:g,placement:m,strategy:s,middlewareData:y}};async function Jm(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:y=0}=il(e,t),b=r9(y),f=l[m?g==="floating"?"reference":"floating":g],p=mb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(f)))==null||r?f:f.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=g==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},x=mb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:c}):v);return{top:(p.top-x.top+b.top)/w.y,bottom:(x.bottom-p.bottom+b.bottom)/w.y,left:(p.left-x.left+b.left)/w.x,right:(x.right-p.right+b.right)/w.x}}const Eye=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=il(t,e)||{};if(d==null)return{};const g=r9(h),m={x:r,y:n},y=EO(s),b=xO(y),u=await a.getDimensions(d),f=y==="y",p=f?"top":"left",v=f?"bottom":"right",_=f?"clientHeight":"clientWidth",w=o.reference[b]+o.reference[y]-m[y]-o.floating[b],x=m[y]-o.reference[y],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let A=S?S[_]:0;(!A||!await(a.isElement==null?void 0:a.isElement(S)))&&(A=l.floating[_]||o.floating[b]);const D=w/2-x/2,C=A/2-u[b]/2-1,T=Wo(g[p],C),R=Wo(g[v],C),P=T,O=A-u[b]-R,I=A/2-u[b]/2+D,k=gD(P,I,O),W=!c.arrow&&Kh(s)!=null&&I!==k&&o.reference[b]/2-(I<P?T:R)-u[b]/2<0,V=W?I<P?I-P:I-O:0;return{[y]:m[y]+V,data:{[y]:k,centerOffset:I-k-V,...W&&{alignmentOffset:V}},reset:W}}}),Sye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:u=!0,...f}=il(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=sl(s),v=Au(l),_=sl(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),x=m||(_||!u?[gb(l)]:yye(l)),S=b!=="none";!m&&S&&x.push(...bye(l,u,b,w));const A=[l,...x],D=await Jm(e,f),C=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&C.push(D[p]),g){const I=vye(s,a,w);C.push(D[I[0]],D[I[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(I=>I<=0)){var R,P;const I=(((R=o.flip)==null?void 0:R.index)||0)+1,k=A[I];if(k)return{data:{index:I,overflows:T},reset:{placement:k}};let W=(P=T.filter(V=>V.overflows[0]<=0).sort((V,j)=>V.overflows[1]-j.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(y){case"bestFit":{var O;const V=(O=T.filter(j=>{if(S){const $=Au(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:O[0];V&&(W=V);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function S3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function C3(t){return pye.some(e=>t[e]>=0)}const Cye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=il(t,e);switch(n){case"referenceHidden":{const o=await Jm(e,{...s,elementContext:"reference"}),a=S3(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:C3(a)}}}case"escaped":{const o=await Jm(e,{...s,altBoundary:!0}),a=S3(o,r.floating);return{data:{escapedOffsets:a,escaped:C3(a)}}}default:return{}}}}};async function Aye(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=sl(r),l=Kh(r),c=Au(r)==="y",d=["left","top"].includes(a)?-1:1,h=o&&c?-1:1,g=il(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const Tye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await Aye(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},Dye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:f=>{let{x:p,y:v}=f;return{x:p,y:v}}},...c}=il(t,e),d={x:r,y:n},h=await Jm(e,c),g=Au(sl(s)),m=wO(g);let y=d[m],b=d[g];if(o){const f=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=y+h[f],_=y-h[p];y=gD(v,y,_)}if(a){const f=g==="y"?"top":"left",p=g==="y"?"bottom":"right",v=b+h[f],_=b-h[p];b=gD(v,b,_)}const u=l.fn({...e,[m]:y,[g]:b});return{...u,data:{x:u.x-r,y:u.y-n}}}}},Pye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=il(t,e),h={x:r,y:n},g=Au(s),m=wO(g);let y=h[m],b=h[g];const u=il(l,e),f=typeof u=="number"?{mainAxis:u,crossAxis:0}:{mainAxis:0,crossAxis:0,...u};if(c){const _=m==="y"?"height":"width",w=o.reference[m]-o.floating[_]+f.mainAxis,x=o.reference[m]+o.reference[_]-f.mainAxis;y<w?y=w:y>x&&(y=x)}if(d){var p,v;const _=m==="y"?"width":"height",w=["top","left"].includes(sl(s)),x=o.reference[g]-o.floating[_]+(w&&((p=a.offset)==null?void 0:p[g])||0)+(w?0:f.crossAxis),S=o.reference[g]+o.reference[_]+(w?0:((v=a.offset)==null?void 0:v[g])||0)-(w?f.crossAxis:0);b<x?b=x:b>S&&(b=S)}return{[m]:y,[g]:b}}}},Rye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:s,elements:o}=e,{apply:a=()=>{},...l}=il(t,e),c=await Jm(e,l),d=sl(r),h=Kh(r),g=Au(r)==="y",{width:m,height:y}=n.floating;let b,u;d==="top"||d==="bottom"?(b=d,u=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(u=d,b=h==="end"?"top":"bottom");const f=y-c.top-c.bottom,p=m-c.left-c.right,v=Wo(y-c[b],f),_=Wo(m-c[u],p),w=!e.middlewareData.shift;let x=v,S=_;if(g?S=h||w?Wo(_,p):p:x=h||w?Wo(v,f):f,w&&!h){const D=Wi(c.left,0),C=Wi(c.right,0),T=Wi(c.top,0),R=Wi(c.bottom,0);g?S=m-2*(D!==0||C!==0?D+C:Wi(c.left,c.right)):x=y-2*(T!==0||R!==0?T+R:Wi(c.top,c.bottom))}await a({...e,availableWidth:S,availableHeight:x});const A=await s.getDimensions(o.floating);return m!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function dx(){return typeof window<"u"}function Yh(t){return n9(t)?(t.nodeName||"").toLowerCase():"#document"}function ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pl(t){var e;return(e=(n9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function n9(t){return dx()?t instanceof Node||t instanceof ts(t).Node:!1}function Kn(t){return dx()?t instanceof Element||t instanceof ts(t).Element:!1}function ia(t){return dx()?t instanceof HTMLElement||t instanceof ts(t).HTMLElement:!1}function vD(t){return!dx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ts(t).ShadowRoot}function ay(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=So(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function Oye(t){return["table","td","th"].includes(Yh(t))}function fx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(r){return!1}})}function SO(t){const e=CO(),r=Kn(t)?So(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Iye(t){let e=Tu(t);for(;ia(e)&&!xh(e);){if(SO(e))return e;if(fx(e))return null;e=Tu(e)}return null}function CO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xh(t){return["html","body","#document"].includes(Yh(t))}function So(t){return ts(t).getComputedStyle(t)}function hx(t){return Kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tu(t){if(Yh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vD(t)&&t.host||pl(t);return vD(e)?e.host:e}function i9(t){const e=Tu(t);return xh(e)?t.ownerDocument?t.ownerDocument.body:t.body:ia(e)&&ay(e)?e:i9(e)}function ev(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=i9(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),a=ts(s);if(o){const l=yD(a);return e.concat(a,a.visualViewport||[],ay(s)?s:[],l&&r?ev(l):[])}return e.concat(s,ev(s,[],r))}function yD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function s9(t){const e=So(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ia(t),o=s?t.offsetWidth:r,a=s?t.offsetHeight:n,l=pb(r)!==o||pb(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function AO(t){return Kn(t)?t:t.contextElement}function Gf(t){const e=AO(t);if(!ia(e))return Cu(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=s9(e);let a=(o?pb(r.width):r.width)/n,l=(o?pb(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Bye=Cu(0);function o9(t){const e=ts(t);return!CO()||!e.visualViewport?Bye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fye(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ts(t)?!1:e}function nd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=AO(t);let a=Cu(1);e&&(n?Kn(n)&&(a=Gf(n)):a=Gf(t));const l=Fye(o,r,n)?o9(o):Cu(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,g=s.height/a.y;if(o){const m=ts(o),y=n&&Kn(n)?ts(n):n;let b=m,u=yD(b);for(;u&&n&&y!==b;){const f=Gf(u),p=u.getBoundingClientRect(),v=So(u),_=p.left+(u.clientLeft+parseFloat(v.paddingLeft))*f.x,w=p.top+(u.clientTop+parseFloat(v.paddingTop))*f.y;c*=f.x,d*=f.y,h*=f.x,g*=f.y,c+=_,d+=w,b=ts(u),u=yD(b)}}return mb({width:h,height:g,x:c,y:d})}function Mye(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",a=pl(n),l=e?fx(e.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=Cu(1);const h=Cu(0),g=ia(n);if((g||!g&&!o)&&((Yh(n)!=="body"||ay(a))&&(c=hx(n)),ia(n))){const m=nd(n);d=Gf(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x,y:r.y*d.y-c.scrollTop*d.y+h.y}}function kye(t){return Array.from(t.getClientRects())}function a9(t){return nd(pl(t)).left+hx(t).scrollLeft}function Nye(t){const e=pl(t),r=hx(t),n=t.ownerDocument.body,s=Wi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Wi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+a9(t);const l=-r.scrollTop;return So(n).direction==="rtl"&&(a+=Wi(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function Lye(t,e){const r=ts(t),n=pl(t),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const d=CO();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function Uye(t,e){const r=nd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=ia(t)?Gf(t):Cu(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:a,height:l,x:c,y:d}}function A3(t,e,r){let n;if(e==="viewport")n=Lye(t,r);else if(e==="document")n=Nye(pl(t));else if(Kn(e))n=Uye(e,r);else{const s=o9(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return mb(n)}function l9(t,e){const r=Tu(t);return r===e||!Kn(r)||xh(r)?!1:So(r).position==="fixed"||l9(r,e)}function $ye(t,e){const r=e.get(t);if(r)return r;let n=ev(t,[],!1).filter(l=>Kn(l)&&Yh(l)!=="body"),s=null;const o=So(t).position==="fixed";let a=o?Tu(t):t;for(;Kn(a)&&!xh(a);){const l=So(a),c=SO(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ay(a)&&!c&&l9(t,a))?n=n.filter(h=>h!==a):s=l,a=Tu(a)}return e.set(t,n),n}function jye(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?fx(e)?[]:$ye(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((d,h)=>{const g=A3(e,h,s);return d.top=Wi(g.top,d.top),d.right=Wo(g.right,d.right),d.bottom=Wo(g.bottom,d.bottom),d.left=Wi(g.left,d.left),d},A3(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zye(t){const{width:e,height:r}=s9(t);return{width:e,height:r}}function Gye(t,e,r){const n=ia(e),s=pl(e),o=r==="fixed",a=nd(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Cu(0);if(n||!n&&!o)if((Yh(e)!=="body"||ay(s))&&(l=hx(e)),n){const g=nd(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=a9(s));const d=a.left+l.scrollLeft-c.x,h=a.top+l.scrollTop-c.y;return{x:d,y:h,width:a.width,height:a.height}}function GS(t){return So(t).position==="static"}function T3(t,e){return!ia(t)||So(t).position==="fixed"?null:e?e(t):t.offsetParent}function u9(t,e){const r=ts(t);if(fx(t))return r;if(!ia(t)){let s=Tu(t);for(;s&&!xh(s);){if(Kn(s)&&!GS(s))return s;s=Tu(s)}return r}let n=T3(t,e);for(;n&&Oye(n)&&GS(n);)n=T3(n,e);return n&&xh(n)&&GS(n)&&!SO(n)?r:n||Iye(t)||r}const Vye=async function(t){const e=this.getOffsetParent||u9,r=this.getDimensions,n=await r(t.floating);return{reference:Gye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hye(t){return So(t).direction==="rtl"}const Wye={convertOffsetParentRelativeRectToViewportRelativeRect:Mye,getDocumentElement:pl,getClippingRect:jye,getOffsetParent:u9,getElementRects:Vye,getClientRects:kye,getDimensions:zye,getScale:Gf,isElement:Kn,isRTL:Hye};function Kye(t,e){let r=null,n;const s=pl(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:h,width:g,height:m}=t.getBoundingClientRect();if(l||e(),!g||!m)return;const y=M0(h),b=M0(s.clientWidth-(d+g)),u=M0(s.clientHeight-(h+m)),f=M0(d),v={rootMargin:-y+"px "+-b+"px "+-u+"px "+-f+"px",threshold:Wi(0,Wo(1,c))||1};let _=!0;function w(x){const S=x[0].intersectionRatio;if(S!==c){if(!_)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}_=!1}try{r=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch(x){r=new IntersectionObserver(w,v)}r.observe(t)}return a(!0),o}function c9(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=AO(t),h=s||o?[...d?ev(d):[],...ev(e)]:[];h.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const g=d&&l?Kye(d,r):null;let m=-1,y=null;a&&(y=new ResizeObserver(p=>{let[v]=p;v&&v.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let b,u=c?nd(t):null;c&&f();function f(){const p=nd(t);u&&(p.x!==u.x||p.y!==u.y||p.width!==u.width||p.height!==u.height)&&r(),u=p,b=requestAnimationFrame(f)}return r(),()=>{var p;h.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),g==null||g(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const Yye=Tye,Xye=Dye,qye=Sye,Zye=Rye,Qye=Cye,D3=Eye,Jye=Pye,e0e=(t,e,r)=>{const n=new Map,s={platform:Wye,...r},o={...s.platform,_c:n};return xye(t,e,{...s,platform:o})};var j_=typeof document<"u"?E.useLayoutEffect:E.useEffect;function vb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!vb(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!vb(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function d9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P3(t,e){const r=d9(t);return Math.round(e*r)/r}function VS(t){const e=E.useRef(t);return j_(()=>{e.current=t}),e}function f9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,g]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=E.useState(n);vb(m,n)||y(n);const[b,u]=E.useState(null),[f,p]=E.useState(null),v=E.useCallback(j=>{j!==S.current&&(S.current=j,u(j))},[]),_=E.useCallback(j=>{j!==A.current&&(A.current=j,p(j))},[]),w=o||b,x=a||f,S=E.useRef(null),A=E.useRef(null),D=E.useRef(h),C=c!=null,T=VS(c),R=VS(s),P=VS(d),O=E.useCallback(()=>{if(!S.current||!A.current)return;const j={placement:e,strategy:r,middleware:m};R.current&&(j.platform=R.current),e0e(S.current,A.current,j).then($=>{const K={...$,isPositioned:P.current!==!1};I.current&&!vb(D.current,K)&&(D.current=K,dl.flushSync(()=>{g(K)}))})},[m,e,r,R,P]);j_(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(j=>({...j,isPositioned:!1})))},[d]);const I=E.useRef(!1);j_(()=>(I.current=!0,()=>{I.current=!1}),[]),j_(()=>{if(w&&(S.current=w),x&&(A.current=x),w&&x){if(T.current)return T.current(w,x,O);O()}},[w,x,O,T,C]);const k=E.useMemo(()=>({reference:S,floating:A,setReference:v,setFloating:_}),[v,_]),W=E.useMemo(()=>({reference:w,floating:x}),[w,x]),V=E.useMemo(()=>{const j={position:r,left:0,top:0};if(!W.floating)return j;const $=P3(W.floating,h.x),K=P3(W.floating,h.y);return l?{...j,transform:"translate("+$+"px, "+K+"px)",...d9(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:K}},[r,l,W.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:O,refs:k,elements:W,floatingStyles:V}),[h,O,k,W,V])}const t0e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?D3({element:n.current,padding:s}).fn(r):{}:n?D3({element:n,padding:s}).fn(r):{}}}},r0e=(t,e)=>({...Yye(t),options:[t,e]}),n0e=(t,e)=>({...Xye(t),options:[t,e]}),i0e=(t,e)=>({...Jye(t),options:[t,e]}),s0e=(t,e)=>({...qye(t),options:[t,e]}),o0e=(t,e)=>({...Zye(t),options:[t,e]}),a0e=(t,e)=>({...Qye(t),options:[t,e]}),l0e=(t,e)=>({...t0e(t),options:[t,e]});var u0e="Arrow",h9=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return F.jsx(Ye.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});h9.displayName=u0e;var c0e=h9;function TO(t){const[e,r]=E.useState(void 0);return ln(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var DO="Popper",[p9,da]=Li(DO),[d0e,g9]=p9(DO),m9=t=>{const{__scopePopper:e,children:r}=t,[n,s]=E.useState(null);return F.jsx(d0e,{scope:e,anchor:n,onAnchorChange:s,children:r})};m9.displayName=DO;var v9="PopperAnchor",y9=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=g9(v9,r),a=E.useRef(null),l=yt(e,a);return E.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:F.jsx(Ye.div,{...s,ref:l})});y9.displayName=v9;var PO="PopperContent",[f0e,h0e]=p9(PO),_9=E.forwardRef((t,e)=>{var z,G,H,re,ne,_e,be,xe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...u}=t,f=g9(PO,r),[p,v]=E.useState(null),_=yt(e,Se=>v(Se)),[w,x]=E.useState(null),S=TO(w),A=(z=S==null?void 0:S.width)!=null?z:0,D=(G=S==null?void 0:S.height)!=null?G:0,C=n+(o!=="center"?"-"+o:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],P=R.length>0,O={padding:T,boundary:R.filter(g0e),altBoundary:P},{refs:I,floatingStyles:k,placement:W,isPositioned:V,middlewareData:j}=f9({strategy:"fixed",placement:C,whileElementsMounted:(...Se)=>c9(...Se,{animationFrame:y==="always"}),elements:{reference:f.anchor},middleware:[r0e({mainAxis:s+D,alignmentAxis:a}),c&&n0e({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?i0e():void 0,...O}),c&&s0e({...O}),o0e({...O,apply:({elements:Se,rects:dt,availableWidth:wt,availableHeight:Y})=>{const{width:se,height:le}=dt.reference,Ae=Se.floating.style;Ae.setProperty("--radix-popper-available-width","".concat(wt,"px")),Ae.setProperty("--radix-popper-available-height","".concat(Y,"px")),Ae.setProperty("--radix-popper-anchor-width","".concat(se,"px")),Ae.setProperty("--radix-popper-anchor-height","".concat(le,"px"))}}),w&&l0e({element:w,padding:l}),m0e({arrowWidth:A,arrowHeight:D}),m&&a0e({strategy:"referenceHidden",...O})]}),[$,K]=x9(W),J=ir(b);ln(()=>{V&&(J==null||J())},[V,J]);const ue=(H=j.arrow)==null?void 0:H.x,pe=(re=j.arrow)==null?void 0:re.y,oe=((ne=j.arrow)==null?void 0:ne.centerOffset)!==0,[he,X]=E.useState();return ln(()=>{p&&X(window.getComputedStyle(p).zIndex)},[p]),F.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:V?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(_e=j.transformOrigin)==null?void 0:_e.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:F.jsx(f0e,{scope:r,placedSide:$,onArrowChange:x,arrowX:ue,arrowY:pe,shouldHideArrow:oe,children:F.jsx(Ye.div,{"data-side":$,"data-align":K,...u,ref:_,style:{...u.style,animation:V?void 0:"none"}})})})});_9.displayName=PO;var b9="PopperArrow",p0e={top:"bottom",right:"left",bottom:"top",left:"right"},w9=E.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=h0e(b9,n),a=p0e[o.placedSide];return F.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:F.jsx(c0e,{...s,ref:r,style:{...s.style,display:"block"}})})});w9.displayName=b9;function g0e(t){return t!==null}var m0e=t=>({name:"transformOrigin",options:t,fn(e){var f,p,v,_,w;const{placement:r,rects:n,middlewareData:s}=e,a=((f=s.arrow)==null?void 0:f.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=x9(r),g={start:"0%",center:"50%",end:"100%"}[h],m=((v=(p=s.arrow)==null?void 0:p.x)!=null?v:0)+l/2,y=((w=(_=s.arrow)==null?void 0:_.y)!=null?w:0)+c/2;let b="",u="";return d==="bottom"?(b=a?g:"".concat(m,"px"),u="".concat(-c,"px")):d==="top"?(b=a?g:"".concat(m,"px"),u="".concat(n.floating.height+c,"px")):d==="right"?(b="".concat(-c,"px"),u=a?g:"".concat(y,"px")):d==="left"&&(b="".concat(n.floating.width+c,"px"),u=a?g:"".concat(y,"px")),{data:{x:b,y:u}}}});function x9(t){const[e,r="center"]=t.split("-");return[e,r]}var Xh=m9,qh=y9,ly=_9,uy=w9,v0e="Portal",cy=E.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=E.useState(!1);ln(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?G2.createPortal(F.jsx(Ye.div,{...n,ref:e}),a):null});cy.displayName=v0e;var HS="rovingFocusGroup.onEntryFocus",y0e={bubbles:!1,cancelable:!0},px="RovingFocusGroup",[_D,E9,_0e]=bd(px),[b0e,Xs]=Li(px,[_0e]),[w0e,x0e]=b0e(px),S9=E.forwardRef((t,e)=>F.jsx(_D.Provider,{scope:t.__scopeRovingFocusGroup,children:F.jsx(_D.Slot,{scope:t.__scopeRovingFocusGroup,children:F.jsx(E0e,{...t,ref:e})})}));S9.displayName=px;var E0e=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...g}=t,m=E.useRef(null),y=yt(e,m),b=ua(o),[u=null,f]=Jn({prop:a,defaultProp:l,onChange:c}),[p,v]=E.useState(!1),_=ir(d),w=E9(r),x=E.useRef(!1),[S,A]=E.useState(0);return E.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(HS,_),()=>D.removeEventListener(HS,_)},[_]),F.jsx(w0e,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:u,onItemFocus:E.useCallback(D=>f(D),[f]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>A(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>A(D=>D-1),[]),children:F.jsx(Ye.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{x.current=!0}),onFocus:fe(t.onFocus,D=>{const C=!x.current;if(D.target===D.currentTarget&&C&&!p){const T=new CustomEvent(HS,y0e);if(D.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=w().filter(W=>W.focusable),P=R.find(W=>W.active),O=R.find(W=>W.id===u),k=[P,O,...R].filter(Boolean).map(W=>W.ref.current);T9(k,h)}}x.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),C9="RovingFocusGroupItem",A9=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=t,l=Nn(),c=o||l,d=x0e(C9,r),h=d.currentTabStopId===c,g=E9(r),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return E.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),F.jsx(_D.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:F.jsx(Ye.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,b=>{n?d.onItemFocus(c):b.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const u=A0e(b,d.orientation,d.dir);if(u!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let p=g().filter(v=>v.focusable).map(v=>v.ref.current);if(u==="last")p.reverse();else if(u==="prev"||u==="next"){u==="prev"&&p.reverse();const v=p.indexOf(b.currentTarget);p=d.loop?T0e(p,v+1):p.slice(v+1)}setTimeout(()=>T9(p))}})})})});A9.displayName=C9;var S0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function C0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function A0e(t,e,r){const n=C0e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return S0e[n]}function T9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function T0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Zh=S9,wd=A9,D0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jd=new WeakMap,k0=new WeakMap,N0={},WS=0,D9=function(t){return t&&(t.host||D9(t.parentNode))},P0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=D9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},R0e=function(t,e,r,n){var s=P0e(e,Array.isArray(t)?t:[t]);N0[r]||(N0[r]=new WeakMap);var o=N0[r],a=[],l=new Set,c=new Set(s),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};s.forEach(d);var h=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))h(m);else{var y=m.getAttribute(n),b=y!==null&&y!=="false",u=(jd.get(m)||0)+1,f=(o.get(m)||0)+1;jd.set(m,u),o.set(m,f),a.push(m),u===1&&b&&k0.set(m,!0),f===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}})};return h(e),l.clear(),WS++,function(){a.forEach(function(g){var m=jd.get(g)-1,y=o.get(g)-1;jd.set(g,m),o.set(g,y),m||(k0.has(g)||g.removeAttribute(n),k0.delete(g)),y||g.removeAttribute(r)}),WS--,WS||(jd=new WeakMap,jd=new WeakMap,k0=new WeakMap,N0={})}},dy=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||D0e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),R0e(n,s,r,"aria-hidden")):function(){return null}},Hn=function(){return Hn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Hn.apply(this,arguments)};function RO(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function P9(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var jg="right-scroll-bar-position",zg="width-before-scroll-bar",O0e="with-scroll-bars-hidden",I0e="--removed-body-scroll-bar-size";function B0e(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F0e(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}function R9(t,e){return F0e(e||null,function(r){return t.forEach(function(n){return B0e(n,r)})})}function M0e(t){return t}function k0e(t,e){e===void 0&&(e=M0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return s}function O9(t){t===void 0&&(t={});var e=k0e(null);return e.options=Hn({async:!0,ssr:!1},t),e}var I9=function(t){var e=t.sideCar,r=RO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Hn({},r))};I9.isSideCarExport=!0;function B9(t,e){return t.useMedium(e),I9}var F9=O9(),KS=function(){},gx=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:KS,onWheelCapture:KS,onTouchMoveCapture:KS}),s=n[0],o=n[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,y=t.noIsolation,b=t.inert,u=t.allowPinchZoom,f=t.as,p=f===void 0?"div":f,v=t.gapMode,_=RO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,x=R9([r,e]),S=Hn(Hn({},_),s);return E.createElement(E.Fragment,null,h&&E.createElement(w,{sideCar:F9,removeScrollBar:d,shards:g,noIsolation:y,inert:b,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),a?E.cloneElement(E.Children.only(l),Hn(Hn({},S),{ref:x})):E.createElement(p,Hn({},S,{className:c,ref:x}),l))});gx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gx.classNames={fullWidth:zg,zeroRight:jg};var R3,N0e=function(){if(R3)return R3;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=N0e();return e&&t.setAttribute("nonce",e),t}function U0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=L0e())&&(U0e(e,r),$0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z0e=function(){var t=j0e();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},OO=function(){var t=z0e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},G0e={left:0,top:0,right:0,gap:0},YS=function(t){return parseInt(t||"",10)||0},V0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[YS(r),YS(n),YS(s)]},H0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return G0e;var e=V0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},W0e=OO(),Vf="data-scroll-locked",K0e=function(t,e,r,n){var s=t.left,o=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),"\n  .".concat(O0e," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(Vf,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(jg," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(zg," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(jg," .").concat(jg," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(zg," .").concat(zg," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Vf,"] {\n    ").concat(I0e,": ").concat(l,"px;\n  }\n")},O3=function(){var t=parseInt(document.body.getAttribute(Vf)||"0",10);return isFinite(t)?t:0},Y0e=function(){E.useEffect(function(){return document.body.setAttribute(Vf,(O3()+1).toString()),function(){var t=O3()-1;t<=0?document.body.removeAttribute(Vf):document.body.setAttribute(Vf,t.toString())}},[])},M9=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Y0e();var o=E.useMemo(function(){return H0e(s)},[s]);return E.createElement(W0e,{styles:K0e(o,!e,s,r?"":"!important")})},bD=!1;if(typeof window<"u")try{var L0=Object.defineProperty({},"passive",{get:function(){return bD=!0,!0}});window.addEventListener("test",L0,L0),window.removeEventListener("test",L0,L0)}catch(t){bD=!1}var zd=bD?{passive:!1}:!1,X0e=function(t){return t.tagName==="TEXTAREA"},k9=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!X0e(t)&&r[e]==="visible")},q0e=function(t){return k9(t,"overflowY")},Z0e=function(t){return k9(t,"overflowX")},I3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=N9(t,n);if(s){var o=L9(t,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Q0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},J0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},N9=function(t,e){return t==="v"?q0e(e):Z0e(e)},L9=function(t,e){return t==="v"?Q0e(e):J0e(e)},e_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},t_e=function(t,e,r,n,s){var o=e_e(t,window.getComputedStyle(e).direction),a=o*n,l=r.target,c=e.contains(l),d=!1,h=a>0,g=0,m=0;do{var y=L9(t,l),b=y[0],u=y[1],f=y[2],p=u-f-o*b;(b||p)&&N9(t,l)&&(g+=p,m+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(s&&Math.abs(g)<1||!s&&a>g)||!h&&(s&&Math.abs(m)<1||!s&&-a>m))&&(d=!0),d},U0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B3=function(t){return[t.deltaX,t.deltaY]},F3=function(t){return t&&"current"in t?t.current:t},r_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n_e=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},i_e=0,Gd=[];function s_e(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(i_e++)[0],o=E.useState(OO)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=P9([t.lockRef.current],(t.shards||[]).map(F3),!0).filter(Boolean);return u.forEach(function(f){return f.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(u,f){if("touches"in u&&u.touches.length===2)return!a.current.allowPinchZoom;var p=U0(u),v=r.current,_="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],x,S=u.target,A=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in u&&A==="h"&&S.type==="range")return!1;var D=I3(A,S);if(!D)return!0;if(D?x=A:(x=A==="v"?"h":"v",D=I3(A,S)),!D)return!1;if(!n.current&&"changedTouches"in u&&(_||w)&&(n.current=x),!x)return!0;var C=n.current||x;return t_e(C,f,u,C==="h"?_:w,!0)},[]),c=E.useCallback(function(u){var f=u;if(!(!Gd.length||Gd[Gd.length-1]!==o)){var p="deltaY"in f?B3(f):U0(f),v=e.current.filter(function(x){return x.name===f.type&&(x.target===f.target||f.target===x.shadowParent)&&r_e(x.delta,p)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var _=(a.current.shards||[]).map(F3).filter(Boolean).filter(function(x){return x.contains(f.target)}),w=_.length>0?l(f,_[0]):!a.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),d=E.useCallback(function(u,f,p,v){var _={name:u,delta:f,target:p,should:v,shadowParent:o_e(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(w){return w!==_})},1)},[]),h=E.useCallback(function(u){r.current=U0(u),n.current=void 0},[]),g=E.useCallback(function(u){d(u.type,B3(u),u.target,l(u,t.lockRef.current))},[]),m=E.useCallback(function(u){d(u.type,U0(u),u.target,l(u,t.lockRef.current))},[]);E.useEffect(function(){return Gd.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",c,zd),document.addEventListener("touchmove",c,zd),document.addEventListener("touchstart",h,zd),function(){Gd=Gd.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,zd),document.removeEventListener("touchmove",c,zd),document.removeEventListener("touchstart",h,zd)}},[]);var y=t.removeScrollBar,b=t.inert;return E.createElement(E.Fragment,null,b?E.createElement(o,{styles:n_e(s)}):null,y?E.createElement(M9,{gapMode:t.gapMode}):null)}function o_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const a_e=B9(F9,s_e);var U9=E.forwardRef(function(t,e){return E.createElement(gx,Hn({},t,{ref:e,sideCar:a_e}))});U9.classNames=gx.classNames;const IO=U9;var wD=["Enter"," "],l_e=["ArrowDown","PageUp","Home"],$9=["ArrowUp","PageDown","End"],u_e=[...l_e,...$9],c_e={ltr:[...wD,"ArrowRight"],rtl:[...wD,"ArrowLeft"]},d_e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fy="Menu",[tv,f_e,h_e]=bd(fy),[xd,j9]=Li(fy,[h_e,da,Xs]),hy=da(),z9=Xs(),[G9,Wu]=xd(fy),[p_e,py]=xd(fy),V9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,l=hy(e),[c,d]=E.useState(null),h=E.useRef(!1),g=ir(o),m=ua(s);return E.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),F.jsx(Xh,{...l,children:F.jsx(G9,{scope:e,open:r,onOpenChange:g,content:c,onContentChange:d,children:F.jsx(p_e,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:m,modal:a,children:n})})})};V9.displayName=fy;var g_e="MenuAnchor",BO=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=hy(r);return F.jsx(qh,{...s,...n,ref:e})});BO.displayName=g_e;var FO="MenuPortal",[m_e,H9]=xd(FO,{forceMount:void 0}),W9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Wu(FO,e);return F.jsx(m_e,{scope:e,forceMount:r,children:F.jsx(Ni,{present:r||o.open,children:F.jsx(cy,{asChild:!0,container:s,children:n})})})};W9.displayName=FO;var js="MenuContent",[v_e,MO]=xd(js),K9=E.forwardRef((t,e)=>{const r=H9(js,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Wu(js,t.__scopeMenu),a=py(js,t.__scopeMenu);return F.jsx(tv.Provider,{scope:t.__scopeMenu,children:F.jsx(Ni,{present:n||o.open,children:F.jsx(tv.Slot,{scope:t.__scopeMenu,children:a.modal?F.jsx(y_e,{...s,ref:e}):F.jsx(__e,{...s,ref:e})})})})}),y_e=E.forwardRef((t,e)=>{const r=Wu(js,t.__scopeMenu),n=E.useRef(null),s=yt(e,n);return E.useEffect(()=>{const o=n.current;if(o)return dy(o)},[]),F.jsx(kO,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),__e=E.forwardRef((t,e)=>{const r=Wu(js,t.__scopeMenu);return F.jsx(kO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),kO=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...u}=t,f=Wu(js,r),p=py(js,r),v=hy(r),_=z9(r),w=f_e(r),[x,S]=E.useState(null),A=E.useRef(null),D=yt(e,A,f.onContentChange),C=E.useRef(0),T=E.useRef(""),R=E.useRef(0),P=E.useRef(null),O=E.useRef("right"),I=E.useRef(0),k=b?IO:E.Fragment,W=b?{as:na,allowPinchZoom:!0}:void 0,V=$=>{var z,G;const K=T.current+$,J=w().filter(H=>!H.disabled),ue=document.activeElement,pe=(z=J.find(H=>H.ref.current===ue))==null?void 0:z.textValue,oe=J.map(H=>H.textValue),he=O_e(oe,K,pe),X=(G=J.find(H=>H.textValue===he))==null?void 0:G.ref.current;(function H(re){T.current=re,window.clearTimeout(C.current),re!==""&&(C.current=window.setTimeout(()=>H(""),1e3))})(K),X&&setTimeout(()=>X.focus())};E.useEffect(()=>()=>window.clearTimeout(C.current),[]),bO();const j=E.useCallback($=>{var J,ue;return O.current===((J=P.current)==null?void 0:J.side)&&B_e($,(ue=P.current)==null?void 0:ue.area)},[]);return F.jsx(v_e,{scope:r,searchRef:T,onItemEnter:E.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:E.useCallback($=>{var K;j($)||((K=A.current)==null||K.focus(),S(null))},[j]),onTriggerLeave:E.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:R,onPointerGraceIntentChange:E.useCallback($=>{P.current=$},[]),children:F.jsx(k,{...W,children:F.jsx(Wh,{asChild:!0,trapped:s,onMountAutoFocus:fe(o,$=>{var K;$.preventDefault(),(K=A.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:F.jsx(oy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:y,children:F.jsx(Zh,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,$=>{p.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(ly,{role:"menu","aria-orientation":"vertical","data-state":cV(f.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:D,style:{outline:"none",...u.style},onKeyDown:fe(u.onKeyDown,$=>{const J=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ue=$.ctrlKey||$.altKey||$.metaKey,pe=$.key.length===1;J&&($.key==="Tab"&&$.preventDefault(),!ue&&pe&&V($.key));const oe=A.current;if($.target!==oe||!u_e.includes($.key))return;$.preventDefault();const X=w().filter(z=>!z.disabled).map(z=>z.ref.current);$9.includes($.key)&&X.reverse(),P_e(X)}),onBlur:fe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:fe(t.onPointerMove,rv($=>{const K=$.target,J=I.current!==$.clientX;if($.currentTarget.contains(K)&&J){const ue=$.clientX>I.current?"right":"left";O.current=ue,I.current=$.clientX}}))})})})})})})});K9.displayName=js;var b_e="MenuGroup",NO=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{role:"group",...n,ref:e})});NO.displayName=b_e;var w_e="MenuLabel",Y9=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{...n,ref:e})});Y9.displayName=w_e;var yb="MenuItem",M3="menu.itemSelect",mx=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),a=py(yb,t.__scopeMenu),l=MO(yb,t.__scopeMenu),c=yt(e,o),d=E.useRef(!1),h=()=>{const g=o.current;if(!r&&g){const m=new CustomEvent(M3,{bubbles:!0,cancelable:!0});g.addEventListener(M3,y=>n==null?void 0:n(y),{once:!0}),sy(g,m),m.defaultPrevented?d.current=!1:a.onClose()}};return F.jsx(X9,{...s,ref:c,disabled:r,onClick:fe(t.onClick,h),onPointerDown:g=>{var m;(m=t.onPointerDown)==null||m.call(t,g),d.current=!0},onPointerUp:fe(t.onPointerUp,g=>{var m;d.current||(m=g.currentTarget)==null||m.click()}),onKeyDown:fe(t.onKeyDown,g=>{const m=l.searchRef.current!=="";r||m&&g.key===" "||wD.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});mx.displayName=yb;var X9=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=MO(yb,r),l=z9(r),c=E.useRef(null),d=yt(e,c),[h,g]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{var u;const b=c.current;b&&y(((u=b.textContent)!=null?u:"").trim())},[o.children]),F.jsx(tv.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:m,children:F.jsx(wd,{asChild:!0,...l,focusable:!n,children:F.jsx(Ye.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:fe(t.onPointerMove,rv(b=>{n?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,rv(b=>a.onItemLeave(b))),onFocus:fe(t.onFocus,()=>g(!0)),onBlur:fe(t.onBlur,()=>g(!1))})})})}),x_e="MenuCheckboxItem",q9=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return F.jsx(tV,{scope:t.__scopeMenu,checked:r,children:F.jsx(mx,{role:"menuitemcheckbox","aria-checked":_b(r)?"mixed":r,...s,ref:e,"data-state":$O(r),onSelect:fe(s.onSelect,()=>n==null?void 0:n(_b(r)?!0:!r),{checkForDefaultPrevented:!1})})})});q9.displayName=x_e;var Z9="MenuRadioGroup",[E_e,S_e]=xd(Z9,{value:void 0,onValueChange:()=>{}}),Q9=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=ir(n);return F.jsx(E_e,{scope:t.__scopeMenu,value:r,onValueChange:o,children:F.jsx(NO,{...s,ref:e})})});Q9.displayName=Z9;var J9="MenuRadioItem",eV=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=S_e(J9,t.__scopeMenu),o=r===s.value;return F.jsx(tV,{scope:t.__scopeMenu,checked:o,children:F.jsx(mx,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":$O(o),onSelect:fe(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});eV.displayName=J9;var LO="MenuItemIndicator",[tV,C_e]=xd(LO,{checked:!1}),rV=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=C_e(LO,r);return F.jsx(Ni,{present:n||_b(o.checked)||o.checked===!0,children:F.jsx(Ye.span,{...s,ref:e,"data-state":$O(o.checked)})})});rV.displayName=LO;var A_e="MenuSeparator",nV=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});nV.displayName=A_e;var T_e="MenuArrow",iV=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=hy(r);return F.jsx(uy,{...s,...n,ref:e})});iV.displayName=T_e;var UO="MenuSub",[D_e,sV]=xd(UO),oV=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:s}=t,o=Wu(UO,e),a=hy(e),[l,c]=E.useState(null),[d,h]=E.useState(null),g=ir(s);return E.useEffect(()=>(o.open===!1&&g(!1),()=>g(!1)),[o.open,g]),F.jsx(Xh,{...a,children:F.jsx(G9,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:F.jsx(D_e,{scope:e,contentId:Nn(),triggerId:Nn(),trigger:l,onTriggerChange:c,children:r})})})};oV.displayName=UO;var dg="MenuSubTrigger",aV=E.forwardRef((t,e)=>{const r=Wu(dg,t.__scopeMenu),n=py(dg,t.__scopeMenu),s=sV(dg,t.__scopeMenu),o=MO(dg,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),c(null)}},[l,c]),F.jsx(BO,{asChild:!0,...d,children:F.jsx(X9,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":cV(r.open),...t,ref:iy(e,s.onTriggerChange),onClick:g=>{var m;(m=t.onClick)==null||m.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,rv(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:fe(t.onPointerLeave,rv(g=>{var y,b;h();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const u=(b=r.content)==null?void 0:b.dataset.side,f=u==="right",p=f?-5:5,v=m[f?"left":"right"],_=m[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+p,y:g.clientY},{x:v,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:v,y:m.bottom}],side:u}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,g=>{var y;const m=o.searchRef.current!=="";t.disabled||m&&g.key===" "||c_e[n.dir].includes(g.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),g.preventDefault())})})})});aV.displayName=dg;var lV="MenuSubContent",uV=E.forwardRef((t,e)=>{const r=H9(js,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Wu(js,t.__scopeMenu),a=py(js,t.__scopeMenu),l=sV(lV,t.__scopeMenu),c=E.useRef(null),d=yt(e,c);return F.jsx(tv.Provider,{scope:t.__scopeMenu,children:F.jsx(Ni,{present:n||o.open,children:F.jsx(tv.Slot,{scope:t.__scopeMenu,children:F.jsx(kO,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:fe(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{var y;const g=h.currentTarget.contains(h.target),m=d_e[a.dir].includes(h.key);g&&m&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});uV.displayName=lV;function cV(t){return t?"open":"closed"}function _b(t){return t==="indeterminate"}function $O(t){return _b(t)?"indeterminate":t?"checked":"unchecked"}function P_e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function R_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function O_e(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=R_e(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function I_e(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function B_e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return I_e(r,e)}function rv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var F_e=V9,M_e=BO,k_e=W9,N_e=K9,L_e=NO,U_e=Y9,$_e=mx,j_e=q9,z_e=Q9,G_e=eV,V_e=rV,H_e=nV,W_e=iV,K_e=oV,Y_e=aV,X_e=uV,jO="DropdownMenu",[q_e,oWe]=Li(jO,[j9]),ti=j9(),[Z_e,dV]=q_e(jO),fV=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=ti(e),d=E.useRef(null),[h=!1,g]=Jn({prop:s,defaultProp:o,onChange:a});return F.jsx(Z_e,{scope:e,triggerId:Nn(),triggerRef:d,contentId:Nn(),open:h,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(m=>!m),[g]),modal:l,children:F.jsx(F_e,{...c,open:h,onOpenChange:g,dir:n,modal:l,children:r})})};fV.displayName=jO;var hV="DropdownMenuTrigger",pV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=dV(hV,r),a=ti(r);return F.jsx(M_e,{asChild:!0,...a,children:F.jsx(Ye.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:iy(e,o.triggerRef),onPointerDown:fe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:fe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pV.displayName=hV;var Q_e="DropdownMenuPortal",gV=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ti(e);return F.jsx(k_e,{...n,...r})};gV.displayName=Q_e;var mV="DropdownMenuContent",vV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=dV(mV,r),o=ti(r),a=E.useRef(!1);return F.jsx(N_e,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vV.displayName=mV;var J_e="DropdownMenuGroup",e1e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(L_e,{...s,...n,ref:e})});e1e.displayName=J_e;var t1e="DropdownMenuLabel",yV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(U_e,{...s,...n,ref:e})});yV.displayName=t1e;var r1e="DropdownMenuItem",_V=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx($_e,{...s,...n,ref:e})});_V.displayName=r1e;var n1e="DropdownMenuCheckboxItem",bV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(j_e,{...s,...n,ref:e})});bV.displayName=n1e;var i1e="DropdownMenuRadioGroup",s1e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(z_e,{...s,...n,ref:e})});s1e.displayName=i1e;var o1e="DropdownMenuRadioItem",wV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(G_e,{...s,...n,ref:e})});wV.displayName=o1e;var a1e="DropdownMenuItemIndicator",xV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(V_e,{...s,...n,ref:e})});xV.displayName=a1e;var l1e="DropdownMenuSeparator",EV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(H_e,{...s,...n,ref:e})});EV.displayName=l1e;var u1e="DropdownMenuArrow",c1e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(W_e,{...s,...n,ref:e})});c1e.displayName=u1e;var d1e=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:s,defaultOpen:o}=t,a=ti(e),[l=!1,c]=Jn({prop:n,defaultProp:o,onChange:s});return F.jsx(K_e,{...a,open:l,onOpenChange:c,children:r})},f1e="DropdownMenuSubTrigger",SV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(Y_e,{...s,...n,ref:e})});SV.displayName=f1e;var h1e="DropdownMenuSubContent",CV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ti(r);return F.jsx(X_e,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CV.displayName=h1e;var aWe=fV,lWe=pV,uWe=gV,cWe=vV,dWe=yV,fWe=_V,hWe=bV,pWe=wV,gWe=xV,mWe=EV,vWe=d1e,yWe=SV,_We=CV;function Ed(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var p1e=["color"],bWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,p1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),g1e=["color"],wWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,g1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),m1e=["color"],xWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,m1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),v1e=["color"],EWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,v1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),y1e=["color"],SWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,y1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_1e=["color"],CWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,_1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),b1e=["color"],AWe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=Ed(t,b1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const _r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,an=Object.keys,Yn=Array.isArray;function hi(t,e){return typeof e!="object"||an(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||_r.Promise||(_r.Promise=Promise);const nv=Object.getPrototypeOf,w1e={}.hasOwnProperty;function os(t,e){return w1e.call(t,e)}function Eh(t,e){typeof e=="function"&&(e=e(nv(t))),(typeof Reflect>"u"?an:Reflect.ownKeys)(e).forEach(r=>{Ha(t,r,e[r])})}const AV=Object.defineProperty;function Ha(t,e,r,n){AV(t,e,hi(r&&os(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Hf(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Ha(t.prototype,"constructor",t),{extend:Eh.bind(null,t.prototype)}}}}const x1e=Object.getOwnPropertyDescriptor;function zO(t,e){let r;return x1e(t,e)||(r=nv(t))&&zO(r,e)}const E1e=[].slice;function bb(t,e,r){return E1e.call(t,e,r)}function TV(t,e){return e(t)}function fg(t){if(!t)throw new Error("Assertion Failed")}function DV(t){_r.setImmediate?setImmediate(t):setTimeout(t,0)}function PV(t,e){return t.reduce((r,n,s)=>{var o=e(n,s);return o&&(r[o[0]]=o[1]),r},{})}function Wa(t,e){if(os(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var o=Wa(t,e[n]);r.push(o)}return r}var a=e.indexOf(".");if(a!==-1){var l=t[e.substr(0,a)];return l===void 0?void 0:Wa(l,e.substr(a+1))}}function bo(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){fg(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)bo(t,e[n],r[n])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),l=e.substr(o+1);if(l==="")r===void 0?Yn(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var c=t[a];c&&os(t,a)||(c=t[a]={}),bo(c,l,r)}}else r===void 0?Yn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function RV(t){var e={};for(var r in t)os(t,r)&&(e[r]=t[r]);return e}const S1e=[].concat;function OV(t){return S1e.apply([],t)}const IV="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(OV([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>_r[t]),C1e=IV.map(t=>_r[t]);PV(IV,t=>[t,!0]);let Nl=null;function gy(t){Nl=typeof WeakMap<"u"&&new WeakMap;const e=xD(t);return Nl=null,e}function xD(t){if(!t||typeof t!="object")return t;let e=Nl&&Nl.get(t);if(e)return e;if(Yn(t)){e=[],Nl&&Nl.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(xD(t[r]))}else if(C1e.indexOf(t.constructor)>=0)e=t;else{const o=nv(t);for(var s in e=o===Object.prototype?{}:Object.create(o),Nl&&Nl.set(t,e),t)os(t,s)&&(e[s]=xD(t[s]))}return e}const{toString:A1e}={};function ED(t){return A1e.call(t).slice(8,-1)}const SD=typeof Symbol<"u"?Symbol.iterator:"@@iterator",T1e=typeof SD=="symbol"?function(t){var e;return t!=null&&(e=t[SD])&&e.apply(t)}:function(){return null},af={};function Fa(t){var e,r,n,s;if(arguments.length===1){if(Yn(t))return t.slice();if(this===af&&typeof t=="string")return[t];if(s=T1e(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const GO=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var fa=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function BV(t,e){fa=t,FV=e}var FV=()=>!0;const D1e=!new Error("").stack;function Sd(){if(D1e)try{throw Sd.arguments,new Error}catch(t){return t}return new Error}function CD(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(FV).map(n=>"\n"+n).join("")):""}var MV=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],VO=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(MV),P1e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Wf(t,e){this._e=Sd(),this.name=t,this.message=e}function kV(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join("\n")}function wb(t,e,r,n){this._e=Sd(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=kV(t,e)}function Gg(t,e){this._e=Sd(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=kV(t,e)}Hf(Wf).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+CD(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Hf(wb).from(Wf),Hf(Gg).from(Wf);var HO=VO.reduce((t,e)=>(t[e]=e+"Error",t),{});const R1e=Wf;var Ct=VO.reduce((t,e)=>{var r=e+"Error";function n(s,o){this._e=Sd(),this.name=r,s?typeof s=="string"?(this.message="".concat(s).concat(o?"\n "+o:""),this.inner=o||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=P1e[e]||r,this.inner=null)}return Hf(n).from(R1e),t[e]=n,t},{});Ct.Syntax=SyntaxError,Ct.Type=TypeError,Ct.Range=RangeError;var k3=MV.reduce((t,e)=>(t[e+"Error"]=Ct[e],t),{}),z_=VO.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Ct[e]),t),{});function ar(){}function iv(t){return t}function O1e(t,e){return t==null||t===iv?e:function(r){return e(t(r))}}function id(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function I1e(t,e){return t===ar?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?id(n,this.onsuccess):n),s&&(this.onerror=this.onerror?id(s,this.onerror):s),o!==void 0?o:r}}function B1e(t,e){return t===ar?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?id(r,this.onsuccess):r),n&&(this.onerror=this.onerror?id(n,this.onerror):n)}}function F1e(t,e){return t===ar?e:function(r){var n=t.apply(this,arguments);hi(r,n);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?id(s,this.onsuccess):s),o&&(this.onerror=this.onerror?id(o,this.onerror):o),n===void 0?a===void 0?void 0:a:hi(n,a)}}function M1e(t,e){return t===ar?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function WO(t,e){return t===ar?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return r.then(function(){return e.apply(n,o)})}return e.apply(this,arguments)}}z_.ModifyError=wb,z_.DexieError=Wf,z_.BulkError=Gg;var sv={};const NV=100,[AD,xb,TD]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,nv(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,nv(e),t]})(),LV=xb&&xb.then,G_=AD&&AD.constructor,KO=!!TD;var DD=!1,k1e=TD?()=>{TD.then($0)}:_r.setImmediate?setImmediate.bind(null,$0):_r.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{$0(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout($0,0)},Vg=function(t,e){hg.push([t,e]),Eb&&(k1e(),Eb=!1)},PD=!0,Eb=!0,$c=[],V_=[],RD=null,OD=iv,Kf={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:U3,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{U3(t[0],t[1])}catch(e){}})}},_t=Kf,hg=[],jc=0,H_=[];function lt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ar,this._lib=!1;var e=this._PSD=_t;if(fa&&(this._stackHolder=Sd(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==sv)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&BD(this,this._value))}this._state=null,this._value=null,++e.ref,$V(this,t)}const ID={get:function(){var t=_t,e=Sb;function r(n,s){var o=!t.global&&(t!==_t||e!==Sb);const a=o&&!ol();var l=new lt((c,d)=>{YO(this,new UV(Cb(n,t,o,a),Cb(s,t,o,a),c,d,t))});return fa&&GV(l,this),l}return r.prototype=sv,r},set:function(t){Ha(this,"then",t&&t.prototype===sv?ID:{get:function(){return t},set:ID.set})}};function UV(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function $V(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&my();r&&typeof r.then=="function"?$V(t,(s,o)=>{r instanceof lt?r._then(s,o):r.then(s,o)}):(t._state=!0,t._value=r,jV(t)),n&&vy()}},BD.bind(null,t))}catch(r){BD(t,r)}}function BD(t,e){if(V_.push(e),t._state===null){var r=t._lib&&my();e=OD(e),t._state=!1,t._value=e,fa&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,o){try{n.apply(null,o)}catch(a){s&&s(a)}}(()=>{var n=zO(e,"stack");e._promise=t,Ha(e,"stack",{get:()=>DD?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){$c.some(s=>s._value===n._value)||$c.push(n)}(t),jV(t),r&&vy()}}function jV(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)YO(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),jc===0&&(++jc,Vg(()=>{--jc==0&&XO()},[]))}function YO(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++jc,Vg(N1e,[r,t,e])}else t._listeners.push(e)}function N1e(t,e,r){try{RD=e;var n,s=e._value;e._state?n=t(s):(V_.length&&(V_=[]),n=t(s),V_.indexOf(s)===-1&&function(o){for(var a=$c.length;a;)if($c[--a]._value===o._value)return void $c.splice(a,1)}(e)),r.resolve(n)}catch(o){r.reject(o)}finally{RD=null,--jc==0&&XO(),--r.psd.ref||r.psd.finalize()}}function zV(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,o,a=t._value;a!=null?(s=a.name||"Error",o=a.message||a,n=CD(a,0)):(s=a,o=""),e.push(s+(o?": "+o:"")+n)}return fa&&((n=CD(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&zV(t._prev,e,r)),e}function GV(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function $0(){my()&&vy()}function my(){var t=PD;return PD=!1,Eb=!1,t}function vy(){var t,e,r;do for(;hg.length>0;)for(t=hg,hg=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(hg.length>0);PD=!0,Eb=!0}function XO(){var t=$c;$c=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=H_.slice(0),r=e.length;r;)e[--r]()}function j0(t){return new lt(sv,!1,t)}function Tr(t,e){var r=_t;return function(){var n=my(),s=_t;try{return Pu(r,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{Pu(s,!1),n&&vy()}}}Eh(lt.prototype,{then:ID,_then:function(t,e){YO(this,new UV(null,null,t,e,_t))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):j0(n)):this.then(null,n=>n&&n.name===e?r(n):j0(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),j0(e)))},stack:{get:function(){if(this._stack)return this._stack;try{DD=!0;var t=zV(this,[],20).join("\nFrom previous: ");return this._state!==null&&(this._stack=t),t}finally{DD=!1}}},timeout:function(t,e){return t<1/0?new lt((r,n)=>{var s=setTimeout(()=>n(new Ct.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ha(lt.prototype,Symbol.toStringTag,"Dexie.Promise"),Kf.env=VV(),Eh(lt,{all:function(){var t=Fa.apply(null,arguments).map(z0);return new lt(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,o)=>lt.resolve(s).then(a=>{t[o]=a,--n||e(t)},r))})},resolve:t=>{if(t instanceof lt)return t;if(t&&typeof t.then=="function")return new lt((r,n)=>{t.then(r,n)});var e=new lt(sv,!0,t);return GV(e,RD),e},reject:j0,race:function(){var t=Fa.apply(null,arguments).map(z0);return new lt((e,r)=>{t.map(n=>lt.resolve(n).then(e,r))})},PSD:{get:()=>_t,set:t=>_t=t},totalEchoes:{get:()=>Sb},newPSD:Du,usePSD:Jh,scheduler:{get:()=>Vg,set:t=>{Vg=t}},rejectionMapper:{get:()=>OD,set:t=>{OD=t}},follow:(t,e)=>new lt((r,n)=>Du((s,o)=>{var a=_t;a.unhandleds=[],a.onunhandled=o,a.finalize=id(function(){(function(l){function c(){l(),H_.splice(H_.indexOf(c),1)}H_.push(c),++jc,Vg(()=>{--jc==0&&XO()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},a.finalize),t()},e,r,n))}),G_&&(G_.allSettled&&Ha(lt,"allSettled",function(){const t=Fa.apply(null,arguments).map(z0);return new lt(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,o)=>lt.resolve(s).then(a=>n[o]={status:"fulfilled",value:a},a=>n[o]={status:"rejected",reason:a}).then(()=>--r||e(n)))})}),G_.any&&typeof AggregateError<"u"&&Ha(lt,"any",function(){const t=Fa.apply(null,arguments).map(z0);return new lt((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((o,a)=>lt.resolve(o).then(l=>e(l),l=>{s[a]=l,--n||r(new AggregateError(s))}))})}));const Wn={awaits:0,echoes:0,id:0};var L1e=0,W_=[],XS=0,Sb=0,U1e=0;function Du(t,e,r,n){var s=_t,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++U1e;var a=Kf.env;o.env=KO?{Promise:lt,PromiseProp:{value:lt,configurable:!0,writable:!0},all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject,nthen:N3(a.nthen,o),gthen:N3(a.gthen,o)}:{},e&&hi(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Jh(o,t,r,n);return o.ref===0&&o.finalize(),l}function Qh(){return Wn.id||(Wn.id=++L1e),++Wn.awaits,Wn.echoes+=NV,Wn.id}function ol(){return!!Wn.awaits&&(--Wn.awaits==0&&(Wn.id=0),Wn.echoes=Wn.awaits*NV,!0)}function z0(t){return Wn.echoes&&t&&t.constructor===G_?(Qh(),t.then(e=>(ol(),e),e=>(ol(),gn(e)))):t}function $1e(t){++Sb,Wn.echoes&&--Wn.echoes!=0||(Wn.echoes=Wn.id=0),W_.push(_t),Pu(t,!0)}function j1e(){var t=W_[W_.length-1];W_.pop(),Pu(t,!1)}function Pu(t,e){var r=_t;if((e?!Wn.echoes||XS++&&t===_t:!XS||--XS&&t===_t)||HV(e?$1e.bind(null,t):j1e),t!==_t&&(_t=t,r===Kf&&(Kf.env=VV()),KO)){var n=Kf.env.Promise,s=t.env;xb.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(_r,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function VV(){var t=_r.Promise;return KO?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(_r,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:xb.then,gthen:t.prototype.then}:{}}function Jh(t,e,r,n,s){var o=_t;try{return Pu(t,!0),e(r,n,s)}finally{Pu(o,!1)}}function HV(t){LV.call(AD,t)}function Cb(t,e,r,n){return typeof t!="function"?t:function(){var s=_t;r&&Qh(),Pu(e,!0);try{return t.apply(this,arguments)}finally{Pu(s,!1),n&&HV(ol)}}}function N3(t,e){return function(r,n){return t.call(this,Cb(r,e),Cb(n,e))}}(""+LV).indexOf("[native code]")===-1&&(Qh=ol=ar);const L3="unhandledrejection";function U3(t,e){var r;try{r=e.onuncatched(t)}catch(o){}if(r!==!1)try{var n,s={promise:e,reason:t};if(_r.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(L3,!0,!0),hi(n,s)):_r.CustomEvent&&hi(n=new CustomEvent(L3,{detail:s}),s),n&&_r.dispatchEvent&&(dispatchEvent(n),!_r.PromiseRejectionEvent&&_r.onunhandledrejection))try{_r.onunhandledrejection(n)}catch(o){}fa&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(o){}}var gn=lt.reject;function FD(t,e,r,n){if(t.idbdb&&(t._state.openComplete||_t.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===HO.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>FD(t,e,r,n))):gn(o)}return s._promise(e,(o,a)=>Du(()=>(_t.trans=s,n(o,a,s)))).then(o=>s._completion.then(()=>o))}if(t._state.openComplete)return gn(new Ct.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return gn(new Ct.DatabaseClosed);t.open().catch(ar)}return t._state.dbReadyPromise.then(()=>FD(t,e,r,n))}const $3="3.2.4",Ec=String.fromCharCode(65535),MD=-1/0,_a="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",WV="String expected.",Hg=[],vx=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),z1e=vx,G1e=vx,KV=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),yx="__dbnames",qS="readonly",ZS="readwrite";function sd(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const YV={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function G0(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=gy(e))[t],e)}class V1e{_trans(e,r,n){const s=this._tx||_t.trans,o=this.name;function a(c,d,h){if(!h.schema[o])throw new Ct.NotFound("Table "+o+" not part of transaction");return r(h.idbtrans,h)}const l=my();try{return s&&s.db===this.db?s===_t.trans?s._promise(e,a,n):Du(()=>s._promise(e,a,n),{trans:s,transless:_t.transless||_t}):FD(this.db,e,[this.name],a)}finally{l&&vy()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Yn(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=an(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&r.every(h=>d.keyPath.indexOf(h)>=0)&&d.keyPath.every(h=>r.indexOf(h)>=0))[0];if(n&&this.db._maxKey!==Ec)return this.where(n.name).equals(n.keyPath.map(d=>e[d]));!n&&fa&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function a(d,h){try{return o.cmp(d,h)===0}catch(g){return!1}}const[l,c]=r.reduce(([d,h],g)=>{const m=s[g],y=e[g];return[d||m,d||!m?sd(h,m&&m.multi?b=>{const u=Wa(b,g);return Yn(u)&&u.some(f=>a(y,f))}:b=>a(y,Wa(b,g))):h]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Yn(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var o in n)if(os(n,o))try{s[o]=n[o]}catch(a){}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){hi(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=G0(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[o]})).then(a=>a.numFailures?lt.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{bo(e,s,a)}catch(l){}return a})}update(e,r){if(typeof e!="object"||Yn(e))return this.where(":id").equals(e).modify(r);{const n=Wa(e,this.schema.primKey.keyPath);if(n===void 0)return gn(new Ct.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?an(r).forEach(s=>{bo(e,s,r[s])}):r(e,{value:e,primKey:n})}catch(s){}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=G0(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:r!=null?[r]:null})).then(a=>a.numFailures?lt.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{bo(e,s,a)}catch(l){}return a})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?lt.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:YV})).then(e=>e.numFailures?lt.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Ct.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let h=c&&l?e.map(G0(c)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:h,wantResults:o}).then(({numFailures:g,results:m,lastResult:y,failures:b})=>{if(g===0)return o?m:y;throw new Gg("".concat(this.name,".bulkAdd(): ").concat(g," of ").concat(d," operations failed"),b)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Ct.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let h=c&&l?e.map(G0(c)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:h,wantResults:o}).then(({numFailures:g,results:m,lastResult:y,failures:b})=>{if(g===0)return o?m:y;throw new Gg("".concat(this.name,".bulkPut(): ").concat(g," of ").concat(d," operations failed"),b)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:o})=>{if(n===0)return s;throw new Gg("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),o)})}}function Wg(t){var e={},r=function(a,l){if(l){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[a].subscribe.apply(null,d),t}if(typeof a=="string")return e[a]};r.addEventType=o;for(var n=1,s=arguments.length;n<s;++n)o(arguments[n]);return r;function o(a,l,c){if(typeof a!="object"){var d;l||(l=M1e),c||(c=ar);var h={subscribers:[],fire:c,subscribe:function(g){h.subscribers.indexOf(g)===-1&&(h.subscribers.push(g),h.fire=l(h.fire,g))},unsubscribe:function(g){h.subscribers=h.subscribers.filter(function(m){return m!==g}),h.fire=h.subscribers.reduce(l,c)}};return e[a]=r[a]=h,h}an(d=a).forEach(function(g){var m=d[g];if(Yn(m))o(g,d[g][0],d[g][1]);else{if(m!=="asap")throw new Ct.InvalidArgument("Invalid event config");var y=o(g,iv,function(){for(var b=arguments.length,u=new Array(b);b--;)u[b]=arguments[b];y.subscribers.forEach(function(f){DV(function(){f.apply(null,u)})})})}})}}function jp(t,e){return Hf(e).from({prototype:t}),e}function Vd(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function QS(t,e){t.filter=sd(t.filter,e)}function JS(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>sd(n(),e()):e,t.justLimit=r&&!n}function K_(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new Ct.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function j3(t,e,r){const n=K_(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function V0(t,e,r,n){const s=t.replayFilter?sd(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(l,c,d)=>{if(!s||s(c,d,m=>c.stop(m),m=>c.fail(m))){var h=c.primaryKey,g=""+h;g==="[object ArrayBuffer]"&&(g=""+new Uint8Array(h)),os(o,g)||(o[g]=!0,e(l,c,d))}};return Promise.all([t.or._iterate(a,r),z3(j3(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return z3(j3(t,n,r),sd(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function z3(t,e,r,n){var s=Tr(n?(o,a,l)=>r(n(o),a,l):r);return t.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();e&&!e(o,l=>a=l,l=>{o.stop(l),a=ar},l=>{o.fail(l),a=ar})||s(o.value,o,l=>a=l),a()})})}function li(t,e){try{const r=G3(t),n=G3(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,o){const a=s.length,l=o.length,c=a<l?a:l;for(let d=0;d<c;++d)if(s[d]!==o[d])return s[d]<o[d]?-1:1;return a===l?0:a<l?-1:1}(V3(t),V3(e));case"Array":return function(s,o){const a=s.length,l=o.length,c=a<l?a:l;for(let d=0;d<c;++d){const h=li(s[d],o[d]);if(h!==0)return h}return a===l?0:a<l?-1:1}(t,e)}}catch(r){}return NaN}function G3(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=ED(t);return r==="ArrayBuffer"?"binary":r}function V3(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class H1e{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,gn.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,gn.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=sd(r.algorithm,e)}_iterate(e,r){return V0(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&hi(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>V0(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Vd(n,!0))return s.count({trans:r,query:{index:K_(n,s.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var o=0;return V0(n,()=>(++o,!1),r,s).then(()=>o)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],o=n.length-1;function a(d,h){return h?a(d[n[h]],h-1):d[s]}var l=this._ctx.dir==="next"?1:-1;function c(d,h){var g=a(d,o),m=a(h,o);return g<m?-l:g>m?l:0}return this.toArray(function(d){return d.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Vd(n,!0)&&n.limit>0){const{valueMapper:s}=n,o=K_(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return V0(n,o=>s.push(o),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Vd(r)?JS(r,()=>{var n=e;return(s,o)=>n===0||(n===1?(--n,!1):(o(()=>{s.advance(n),n=0}),!1))}):JS(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),JS(this._ctx,()=>{var r=e;return function(n,s,o){return--r<=0&&s(o),r>=0}},!0),this}until(e,r){return QS(this._ctx,function(n,s,o){return!e(n.value)||(s(o),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return QS(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=sd(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Vd(r,!0)&&r.limit>0)return this._read(s=>{var o=K_(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return QS(this._ctx,function(s){var o=s.primaryKey.toString(),a=os(n,o);return n[o]=!0,!a}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var o=an(e),a=o.length;s=function(u){for(var f=!1,p=0;p<a;++p){var v=o[p],_=e[v];Wa(u,v)!==_&&(bo(u,v,_),f=!0)}return f}}const l=r.table.core,{outbound:c,extractKey:d}=l.schema.primaryKey,h=this.db._options.modifyChunkSize||200,g=[];let m=0;const y=[],b=(u,f)=>{const{failures:p,numFailures:v}=f;m+=u-v;for(let _ of an(p))g.push(p[_])};return this.clone().primaryKeys().then(u=>{const f=p=>{const v=Math.min(h,u.length-p);return l.getMany({trans:n,keys:u.slice(p,p+v),cache:"immutable"}).then(_=>{const w=[],x=[],S=c?[]:null,A=[];for(let C=0;C<v;++C){const T=_[C],R={value:gy(T),primKey:u[p+C]};s.call(R,R.value,R)!==!1&&(R.value==null?A.push(u[p+C]):c||li(d(T),d(R.value))===0?(x.push(R.value),c&&S.push(u[p+C])):(A.push(u[p+C]),w.push(R.value)))}const D=Vd(r)&&r.limit===1/0&&(typeof e!="function"||e===eC)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&l.mutate({trans:n,type:"add",values:w}).then(C=>{for(let T in C.failures)A.splice(parseInt(T),1);b(w.length,C)})).then(()=>(x.length>0||D&&typeof e=="object")&&l.mutate({trans:n,type:"put",keys:S,values:x,criteria:D,changeSpec:typeof e!="function"&&e}).then(C=>b(x.length,C))).then(()=>(A.length>0||D&&e===eC)&&l.mutate({trans:n,type:"delete",keys:A,criteria:D}).then(C=>b(A.length,C))).then(()=>u.length>p+v&&f(p+h))})};return f(0).then(()=>{if(g.length>0)throw new wb("Error modifying one or more objects",g,m,y);return u.length})})})}delete(){var e=this._ctx,r=e.range;return Vd(e)&&(e.isPrimKey&&!G1e||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,o=r;return e.table.core.count({trans:n,query:{index:s,range:o}}).then(a=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:l,lastResult:c,results:d,numFailures:h})=>{if(h)throw new wb("Could not delete some values",Object.keys(l).map(g=>l[g]),a-h);return a-h}))}):this.modify(eC)}}const eC=(t,e)=>e.value=null;function W1e(t,e){return t<e?-1:t===e?0:1}function K1e(t,e){return t>e?-1:t===e?0:1}function ji(t,e,r){var n=t instanceof qV?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function Hd(t){return new t.Collection(t,()=>XV("")).limit(0)}function Y1e(t,e,r,n,s,o){for(var a=Math.min(t.length,n.length),l=-1,c=0;c<a;++c){var d=e[c];if(d!==n[c])return s(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):s(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):l>=0?t.substr(0,l)+e[l]+r.substr(l+1):null;s(t[c],d)<0&&(l=c)}return a<n.length&&o==="next"?t+r.substr(t.length):a<t.length&&o==="prev"?t.substr(0,r.length):l<0?null:t.substr(0,l)+n[l]+r.substr(l+1)}function H0(t,e,r,n){var s,o,a,l,c,d,h,g=r.length;if(!r.every(u=>typeof u=="string"))return ji(t,WV);function m(u){s=function(p){return p==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(u),o=function(p){return p==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(u),a=u==="next"?W1e:K1e;var f=r.map(function(p){return{lower:o(p),upper:s(p)}}).sort(function(p,v){return a(p.lower,v.lower)});l=f.map(function(p){return p.upper}),c=f.map(function(p){return p.lower}),d=u,h=u==="next"?"":n}m("next");var y=new t.Collection(t,()=>Ol(l[0],c[g-1]+n));y._ondirectionchange=function(u){m(u)};var b=0;return y._addAlgorithm(function(u,f,p){var v=u.key;if(typeof v!="string")return!1;var _=o(v);if(e(_,c,b))return!0;for(var w=null,x=b;x<g;++x){var S=Y1e(v,_,l[x],c[x],a,d);S===null&&w===null?b=x+1:(w===null||a(w,S)>0)&&(w=S)}return f(w!==null?function(){u.continue(w+h)}:p),!1}),y}function Ol(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function XV(t){return{type:1,lower:t,upper:t}}class qV{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?Hd(this):new this.Collection(this,()=>Ol(e,r,!n,!s))}catch(o){return ji(this,_a)}}equals(e){return e==null?ji(this,_a):new this.Collection(this,()=>XV(e))}above(e){return e==null?ji(this,_a):new this.Collection(this,()=>Ol(e,void 0,!0))}aboveOrEqual(e){return e==null?ji(this,_a):new this.Collection(this,()=>Ol(e,void 0,!1))}below(e){return e==null?ji(this,_a):new this.Collection(this,()=>Ol(void 0,e,!1,!0))}belowOrEqual(e){return e==null?ji(this,_a):new this.Collection(this,()=>Ol(void 0,e))}startsWith(e){return typeof e!="string"?ji(this,WV):this.between(e,e+Ec,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):H0(this,(r,n)=>r.indexOf(n[0])===0,[e],Ec)}equalsIgnoreCase(e){return H0(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=Fa.apply(af,arguments);return e.length===0?Hd(this):H0(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=Fa.apply(af,arguments);return e.length===0?Hd(this):H0(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,Ec)}anyOf(){const e=Fa.apply(af,arguments);let r=this._cmp;try{e.sort(r)}catch(o){return ji(this,_a)}if(e.length===0)return Hd(this);const n=new this.Collection(this,()=>Ol(e[0],e[e.length-1]));n._ondirectionchange=o=>{r=o==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((o,a,l)=>{const c=o.key;for(;r(c,e[s])>0;)if(++s,s===e.length)return a(l),!1;return r(c,e[s])===0||(a(()=>{o.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[MD,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Fa.apply(af,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return ji(this,_a)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[MD,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,o=this._descending,a=this._min,l=this._max;if(e.length===0)return Hd(this);if(!e.every(v=>v[0]!==void 0&&v[1]!==void 0&&s(v[0],v[1])<=0))return ji(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ct.InvalidArgument);const c=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let h,g=s;function m(v,_){return g(v[0],_[0])}try{h=e.reduce(function(v,_){let w=0,x=v.length;for(;w<x;++w){const S=v[w];if(n(_[0],S[1])<0&&n(_[1],S[0])>0){S[0]=a(S[0],_[0]),S[1]=l(S[1],_[1]);break}}return w===x&&v.push(_),v},[]),h.sort(m)}catch(v){return ji(this,_a)}let y=0;const b=d?v=>s(v,h[y][1])>0:v=>s(v,h[y][1])>=0,u=c?v=>o(v,h[y][0])>0:v=>o(v,h[y][0])>=0;let f=b;const p=new this.Collection(this,()=>Ol(h[0][0],h[h.length-1][1],!c,!d));return p._ondirectionchange=v=>{v==="next"?(f=b,g=s):(f=u,g=o),h.sort(m)},p._addAlgorithm((v,_,w)=>{for(var x=v.key;f(x);)if(++y,y===h.length)return _(w),!1;return!!function(S){return!b(S)&&!u(S)}(x)||(this._cmp(x,h[y][1])===0||this._cmp(x,h[y][0])===0||_(()=>{g===s?v.continue(h[y][0]):v.continue(h[y][1])}),!1)}),p}startsWithAnyOf(){const e=Fa.apply(af,arguments);return e.every(r=>typeof r=="string")?e.length===0?Hd(this):this.inAnyRange(e.map(r=>[r,r+Ec])):ji(this,"startsWithAnyOf() only works with strings")}}function Uo(t){return Tr(function(e){return ov(e),t(e.target.error),!1})}function ov(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const av="storagemutated",Vl="x-storagemutated-1",Ru=Wg(null,av);class X1e{_lock(){return fg(!_t.global),++this._reculock,this._reculock!==1||_t.global||(_t.lockOwnerFor=this),this}_unlock(){if(fg(!_t.global),--this._reculock==0)for(_t.global||(_t.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Jh(e[1],e[0])}catch(r){}}return this}_locked(){return this._reculock&&_t.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(fg(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new Ct.DatabaseClosed(n);case"MissingAPIError":throw new Ct.MissingAPI(n.message,n);default:throw new Ct.OpenFailed(n)}if(!this.active)throw new Ct.TransactionInactive;return fg(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Tr(s=>{ov(s),this._reject(e.error)}),e.onabort=Tr(s=>{ov(s),this.active&&this._reject(new Ct.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=Tr(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Ru.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return gn(new Ct.ReadOnly("Transaction is readonly"));if(!this.active)return gn(new Ct.TransactionInactive);if(this._locked())return new lt((o,a)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(o,a)},_t])});if(n)return Du(()=>{var o=new lt((a,l)=>{this._lock();const c=r(a,l,this);c&&c.then&&c.then(a,l)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new lt((o,a)=>{var l=r(o,a,this);l&&l.then&&l.then(o,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=lt.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var o=r._waitingFor;return new lt((a,l)=>{n.then(c=>r._waitingQueue.push(Tr(a.bind(null,c))),c=>r._waitingQueue.push(Tr(l.bind(null,c)))).finally(()=>{r._waitingFor===o&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ct.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(os(r,e))return r[e];const n=this.schema[e];if(!n)throw new Ct.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function kD(t,e,r,n,s,o,a){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:o,src:(r&&!a?"&":"")+(n?"*":"")+(s?"++":"")+ZV(e)}}function ZV(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function QV(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:PV(r,n=>[n.name,n])}}let lv=t=>{try{return t.only([[]]),lv=()=>[[]],[[]]}catch(e){return lv=()=>Ec,Ec}};function ND(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>Wa(n,e)}(t):e=>Wa(e,t)}function H3(t){return[].slice.call(t)}let q1e=0;function Kg(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function Z1e(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:h,lowerOpen:g,upperOpen:m}=c;return d===void 0?h===void 0?null:e.upperBound(h,!!m):h===void 0?e.lowerBound(d,!!g):e.bound(d,h,!!g,!!m)}const{schema:s,hasGetAll:o}=function(c,d){const h=H3(c.objectStoreNames);return{schema:{name:c.name,tables:h.map(g=>d.objectStore(g)).map(g=>{const{keyPath:m,autoIncrement:y}=g,b=Yn(m),u=m==null,f={},p={name:g.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:u,compound:b,keyPath:m,autoIncrement:y,unique:!0,extractKey:ND(m)},indexes:H3(g.indexNames).map(v=>g.index(v)).map(v=>{const{name:_,unique:w,multiEntry:x,keyPath:S}=v,A={name:_,compound:Yn(S),keyPath:S,unique:w,multiEntry:x,extractKey:ND(S)};return f[Kg(S)]=A,A}),getIndexByKeyPath:v=>f[Kg(v)]};return f[":id"]=p.primaryKey,m!=null&&(f[Kg(m)]=p.primaryKey),p})},hasGetAll:h.length>0&&"getAll"in d.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),a=s.tables.map(c=>function(d){const h=d.name;return{name:h,schema:d,mutate:function({trans:g,type:m,keys:y,values:b,range:u}){return new Promise((f,p)=>{f=Tr(f);const v=g.objectStore(h),_=v.keyPath==null,w=m==="put"||m==="add";if(!w&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);const{length:x}=y||b||{length:1};if(y&&b&&y.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return f({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const A=[],D=[];let C=0;const T=P=>{++C,ov(P)};if(m==="deleteRange"){if(u.type===4)return f({numFailures:C,failures:D,results:[],lastResult:void 0});u.type===3?A.push(S=v.clear()):A.push(S=v.delete(n(u)))}else{const[P,O]=w?_?[b,y]:[b,null]:[y,null];if(w)for(let I=0;I<x;++I)A.push(S=O&&O[I]!==void 0?v[m](P[I],O[I]):v[m](P[I])),S.onerror=T;else for(let I=0;I<x;++I)A.push(S=v[m](P[I])),S.onerror=T}const R=P=>{const O=P.target.result;A.forEach((I,k)=>I.error!=null&&(D[k]=I.error)),f({numFailures:C,failures:D,results:m==="delete"?y:A.map(I=>I.result),lastResult:O})};S.onerror=P=>{T(P),R(P)},S.onsuccess=R})},getMany:({trans:g,keys:m})=>new Promise((y,b)=>{y=Tr(y);const u=g.objectStore(h),f=m.length,p=new Array(f);let v,_=0,w=0;const x=A=>{const D=A.target;p[D._pos]=D.result,++w===_&&y(p)},S=Uo(b);for(let A=0;A<f;++A)m[A]!=null&&(v=u.get(m[A]),v._pos=A,v.onsuccess=x,v.onerror=S,++_);_===0&&y(p)}),get:({trans:g,key:m})=>new Promise((y,b)=>{y=Tr(y);const u=g.objectStore(h).get(m);u.onsuccess=f=>y(f.target.result),u.onerror=Uo(b)}),query:function(g){return m=>new Promise((y,b)=>{y=Tr(y);const{trans:u,values:f,limit:p,query:v}=m,_=p===1/0?void 0:p,{index:w,range:x}=v,S=u.objectStore(h),A=w.isPrimaryKey?S:S.index(w.name),D=n(x);if(p===0)return y({result:[]});if(g){const C=f?A.getAll(D,_):A.getAllKeys(D,_);C.onsuccess=T=>y({result:T.target.result}),C.onerror=Uo(b)}else{let C=0;const T=f||!("openKeyCursor"in A)?A.openCursor(D):A.openKeyCursor(D),R=[];T.onsuccess=P=>{const O=T.result;return O?(R.push(f?O.value:O.primaryKey),++C===p?y({result:R}):void O.continue()):y({result:R})},T.onerror=Uo(b)}})}(o),openCursor:function({trans:g,values:m,query:y,reverse:b,unique:u}){return new Promise((f,p)=>{f=Tr(f);const{index:v,range:_}=y,w=g.objectStore(h),x=v.isPrimaryKey?w:w.index(v.name),S=b?u?"prevunique":"prev":u?"nextunique":"next",A=m||!("openKeyCursor"in x)?x.openCursor(n(_),S):x.openKeyCursor(n(_),S);A.onerror=Uo(p),A.onsuccess=Tr(D=>{const C=A.result;if(!C)return void f(null);C.___id=++q1e,C.done=!1;const T=C.continue.bind(C);let R=C.continuePrimaryKey;R&&(R=R.bind(C));const P=C.advance.bind(C),O=()=>{throw new Error("Cursor not stopped")};C.trans=g,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=Tr(p),C.next=function(){let I=1;return this.start(()=>I--?this.continue():this.stop()).then(()=>this)},C.start=I=>{const k=new Promise((V,j)=>{V=Tr(V),A.onerror=Uo(j),C.fail=j,C.stop=$=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=O,V($)}}),W=()=>{if(A.result)try{I()}catch(V){C.fail(V)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return A.onsuccess=Tr(V=>{A.onsuccess=W,W()}),C.continue=T,C.continuePrimaryKey=R,C.advance=P,W(),k},f(C)},p)})},count({query:g,trans:m}){const{index:y,range:b}=g;return new Promise((u,f)=>{const p=m.objectStore(h),v=y.isPrimaryKey?p:p.index(y.name),_=n(b),w=_?v.count(_):v.count();w.onsuccess=Tr(x=>u(x.target.result)),w.onerror=Uo(f)})}}}(c)),l={};return a.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!l[c])throw new Error("Table '".concat(c,"' not found"));return l[c]},MIN_KEY:-1/0,MAX_KEY:lv(e),schema:s}}function LD({_novip:t},e){const r=e.db,n=function(s,o,{IDBKeyRange:a,indexedDB:l},c){return{dbcore:function(h,g){return g.reduce((m,{create:y})=>({...m,...y(m)}),h)}(Z1e(o,a,c),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const o=s.name;t.core.schema.tables.some(a=>a.name===o)&&(s.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=s.core))})}function Ab({_novip:t},e,r,n){r.forEach(s=>{const o=n[s];e.forEach(a=>{const l=zO(a,s);(!l||"value"in l&&l.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?Ha(a,s,{get(){return this.table(s)},set(c){AV(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,o))})})}function UD({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function Q1e(t,e){return t._cfg.version-e._cfg.version}function J1e(t,e,r,n){const s=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,s);o.create(r),o._completion.catch(n);const a=o._reject.bind(o),l=_t.transless||_t;Du(()=>{_t.trans=o,_t.transless=l,e===0?(an(s).forEach(c=>{tC(r,c,s[c].primKey,s[c].indexes)}),LD(t,r),lt.follow(()=>t.on.populate.fire(o)).catch(a)):function({_novip:c},d,h,g){const m=[],y=c._versions;let b=c._dbSchema=jD(c,c.idbdb,g),u=!1;const f=y.filter(v=>v._cfg.version>=d);function p(){return m.length?lt.resolve(m.shift()(h.idbtrans)).then(p):lt.resolve()}return f.forEach(v=>{m.push(()=>{const _=b,w=v._cfg.dbschema;zD(c,_,g),zD(c,w,g),b=c._dbSchema=w;const x=JV(_,w);x.add.forEach(A=>{tC(g,A[0],A[1].primKey,A[1].indexes)}),x.change.forEach(A=>{if(A.recreate)throw new Ct.Upgrade("Not yet support for changing primary key");{const D=g.objectStore(A.name);A.add.forEach(C=>$D(D,C)),A.change.forEach(C=>{D.deleteIndex(C.name),$D(D,C)}),A.del.forEach(C=>D.deleteIndex(C))}});const S=v._cfg.contentUpgrade;if(S&&v._cfg.version>d){LD(c,g),h._memoizedTables={},u=!0;let A=RV(w);x.del.forEach(R=>{A[R]=_[R]}),UD(c,[c.Transaction.prototype]),Ab(c,[c.Transaction.prototype],an(A),A),h.schema=A;const D=GO(S);let C;D&&Qh();const T=lt.follow(()=>{if(C=S(h),C&&D){var R=ol.bind(null,null);C.then(R,R)}});return C&&typeof C.then=="function"?lt.resolve(C):T.then(()=>C)}}),m.push(_=>{(!u||!z1e)&&function(w,x){[].slice.call(x.db.objectStoreNames).forEach(S=>w[S]==null&&x.db.deleteObjectStore(S))}(v._cfg.dbschema,_),UD(c,[c.Transaction.prototype]),Ab(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),h.schema=c._dbSchema})}),p().then(()=>{var v,_;_=g,an(v=b).forEach(w=>{_.db.objectStoreNames.contains(w)||tC(_,w,v[w].primKey,v[w].indexes)})})}(t,e,o,r).catch(a)})}function JV(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],o=e[n];if(s){const a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!vx)a.recreate=!0,r.change.push(a);else{const l=s.idxByName,c=o.idxByName;let d;for(d in l)c[d]||a.del.push(d);for(d in c){const h=l[d],g=c[d];h?h.src!==g.src&&a.change.push(g):a.add.push(g)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,o])}return r}function tC(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(o=>$D(s,o)),s}function $D(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function jD(t,e,r){const n={};return bb(e.objectStoreNames,0).forEach(s=>{const o=r.objectStore(s);let a=o.keyPath;const l=kD(ZV(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),c=[];for(let h=0;h<o.indexNames.length;++h){const g=o.index(o.indexNames[h]);a=g.keyPath;var d=kD(g.name,a,!!g.unique,!!g.multiEntry,!1,a&&typeof a!="string",!1);c.push(d)}n[s]=QV(s,l,c)}),n}function zD({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const o=n[s],a=r.objectStore(o);t._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const c=a.indexNames[l],d=a.index(c).keyPath,h=typeof d=="string"?d:"["+bb(d).join("+")+"]";if(e[o]){const g=e[o].idxByName[h];g&&(g.name=c,delete e[o].idxByName[h],e[o].idxByName[c]=g)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_r.WorkerGlobalScope&&_r instanceof _r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class ebe{_parseStoresSpec(e,r){an(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((a,l)=>{const c=(a=a.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return kD(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Yn(d),l===0)}),o=s.shift();if(o.multi)throw new Ct.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new Ct.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Ct.Schema("Index must have a name and cannot be an empty string")}),r[n]=QV(n,o,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?hi(this._cfg.storesSource,e):e;const n=r._versions,s={};let o={};return n.forEach(a=>{hi(s,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(s,o)}),r._dbSchema=o,UD(r,[r._allTables,r,r.Transaction.prototype]),Ab(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],an(o),o),r._storeNames=an(o),this}upgrade(e){return this._cfg.contentUpgrade=WO(this._cfg.contentUpgrade||ar,e),this}}function qO(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new nn(yx,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function ZO(t){return t&&typeof t.databases=="function"}function GD(t){return Du(function(){return _t.letThrough=!0,t()})}function tbe(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function rbe(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?gn(e.dbOpenError):t);fa&&(e.openCanceller._stackHolder=Sd()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new Ct.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,l=!1;return lt.race([n,(typeof navigator>"u"?lt.resolve():tbe()).then(()=>new lt((c,d)=>{if(s(),!r)throw new Ct.MissingAPI;const h=t.name,g=e.autoSchema?r.open(h):r.open(h,Math.round(10*t.verno));if(!g)throw new Ct.MissingAPI;g.onerror=Uo(d),g.onblocked=Tr(t._fireOnBlocked),g.onupgradeneeded=Tr(m=>{if(a=g.transaction,e.autoSchema&&!t._options.allowEmptyDB){g.onerror=ov,a.abort(),g.result.close();const b=r.deleteDatabase(h);b.onsuccess=b.onerror=Tr(()=>{d(new Ct.NoSuchDatabase("Database ".concat(h," doesnt exist")))})}else{a.onerror=Uo(d);var y=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;l=y<1,t._novip.idbdb=g.result,J1e(t,y/10,a,d)}},d),g.onsuccess=Tr(()=>{a=null;const m=t._novip.idbdb=g.result,y=bb(m.objectStoreNames);if(y.length>0)try{const u=m.transaction((b=y).length===1?b[0]:b,"readonly");e.autoSchema?function({_novip:f},p,v){f.verno=p.version/10;const _=f._dbSchema=jD(0,p,v);f._storeNames=bb(p.objectStoreNames,0),Ab(f,[f._allTables],an(_),_)}(t,m,u):(zD(t,t._dbSchema,u),function(f,p){const v=JV(jD(0,f.idbdb,p),f._dbSchema);return!(v.add.length||v.change.some(_=>_.add.length||_.change.length))}(t,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),LD(t,u)}catch(u){}var b;Hg.push(t),m.onversionchange=Tr(u=>{e.vcFired=!0,t.on("versionchange").fire(u)}),m.onclose=Tr(u=>{t.on("close").fire(u)}),l&&function({indexedDB:u,IDBKeyRange:f},p){!ZO(u)&&p!==yx&&qO(u,f).put({name:p}).catch(ar)}(t._deps,h),c()},d)}))]).then(()=>(s(),e.onReadyBeingFired=[],lt.resolve(GD(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let d=e.onReadyBeingFired.reduce(WO,ar);return e.onReadyBeingFired=[],lt.resolve(GD(()=>d(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{a&&a.abort()}catch(d){}return n===e.openCanceller&&t._close(),gn(c)}).finally(()=>{e.openComplete=!0,o()})}function VD(t){var e=o=>t.next(o),r=s(e),n=s(o=>t.throw(o));function s(o){return a=>{var l=o(a),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(r,n):Yn(c)?Promise.all(c).then(r,n):r(c)}}return s(e)()}function nbe(t,e,r){var n=arguments.length;if(n<2)throw new Ct.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,OV(s),r]}function eH(t,e,r,n,s){return lt.resolve().then(()=>{const o=_t.transless||_t,a=t._createTransaction(e,r,t._dbSchema,n),l={trans:a,transless:o};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(g){return g.name===HO.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>eH(t,e,r,null,s))):gn(g)}const c=GO(s);let d;c&&Qh();const h=lt.follow(()=>{if(d=s.call(a,a),d)if(c){var g=ol.bind(null,null);d.then(g,g)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=VD(d))},l);return(d&&typeof d.then=="function"?lt.resolve(d).then(g=>a.active?g:gn(new Ct.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):h.then(()=>d)).then(g=>(n&&a._resolve(),a._completion.then(()=>g))).catch(g=>(a._reject(g),gn(g)))})}function W0(t,e,r){const n=Yn(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const ibe={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},o=[];function a(h,g,m){const y=Kg(h),b=s[y]=s[y]||[],u=h==null?0:typeof h=="string"?1:h.length,f=g>0,p={...m,isVirtual:f,keyTail:g,keyLength:u,extractKey:ND(h),unique:!f&&m.unique};return b.push(p),p.isPrimaryKey||o.push(p),u>1&&a(u===2?h[0]:h.slice(0,u-1),g+1,m),b.sort((v,_)=>v.keyTail-_.keyTail),p}const l=a(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(const h of n.indexes)a(h.keyPath,0,h);function c(h){const g=h.query.index;return g.isVirtual?{...h,query:{index:g,range:(m=h.query.range,y=g.keyTail,{type:m.type===1?2:m.type,lower:W0(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:W0(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:h;var m,y}return{...r,schema:{...n,primaryKey:l,indexes:o,getIndexByKeyPath:function(h){const g=s[Kg(h)];return g&&g[0]}},count:h=>r.count(c(h)),query:h=>r.query(c(h)),openCursor(h){const{keyTail:g,isVirtual:m,keyLength:y}=h.query.index;return m?r.openCursor(c(h)).then(b=>b&&function(u){return Object.create(u,{continue:{value:function(p){p!=null?u.continue(W0(p,h.reverse?t.MAX_KEY:t.MIN_KEY,g)):h.unique?u.continue(u.key.slice(0,y).concat(h.reverse?t.MIN_KEY:t.MAX_KEY,g)):u.continue()}},continuePrimaryKey:{value(p,v){u.continuePrimaryKey(W0(p,t.MAX_KEY,g),v)}},primaryKey:{get:()=>u.primaryKey},key:{get(){const p=u.key;return y===1?p[0]:p.slice(0,y)}},value:{get:()=>u.value}})}(b)):r.openCursor(h)}}}}}};function QO(t,e,r,n){return r=r||{},n=n||"",an(t).forEach(s=>{if(os(e,s)){var o=t[s],a=e[s];if(typeof o=="object"&&typeof a=="object"&&o&&a){const l=ED(o);l!==ED(a)?r[n+s]=e[s]:l==="Object"?QO(o,a,r,n+s+"."):o!==a&&(r[n+s]=e[s])}else o!==a&&(r[n+s]=e[s])}else r[n+s]=void 0}),an(e).forEach(s=>{os(t,s)||(r[n+s]=e[s])}),r}const sbe={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(o){const a=_t.trans,{deleting:l,creating:c,updating:d}=a.table(e).hook;switch(o.type){case"add":if(c.fire===ar)break;return a._promise("readwrite",()=>h(o),!0);case"put":if(c.fire===ar&&d.fire===ar)break;return a._promise("readwrite",()=>h(o),!0);case"delete":if(l.fire===ar)break;return a._promise("readwrite",()=>h(o),!0);case"deleteRange":if(l.fire===ar)break;return a._promise("readwrite",()=>function(m){return g(m.trans,m.range,1e4)}(o),!0)}return r.mutate(o);function h(m){const y=_t.trans,b=m.keys||function(u,f){return f.type==="delete"?f.keys:f.keys||f.values.map(u.extractKey)}(n,m);if(!b)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?{...m,keys:b}:{...m}).type!=="delete"&&(m.values=[...m.values]),m.keys&&(m.keys=[...m.keys]),function(u,f,p){return f.type==="add"?Promise.resolve([]):u.getMany({trans:f.trans,keys:p,cache:"immutable"})}(r,m,b).then(u=>{const f=b.map((p,v)=>{const _=u[v],w={onerror:null,onsuccess:null};if(m.type==="delete")l.fire.call(w,p,_,y);else if(m.type==="add"||_===void 0){const x=c.fire.call(w,p,m.values[v],y);p==null&&x!=null&&(p=x,m.keys[v]=p,n.outbound||bo(m.values[v],n.keyPath,p))}else{const x=QO(_,m.values[v]),S=d.fire.call(w,x,p,_,y);if(S){const A=m.values[v];Object.keys(S).forEach(D=>{os(A,D)?A[D]=S[D]:bo(A,D,S[D])})}}return w});return r.mutate(m).then(({failures:p,results:v,numFailures:_,lastResult:w})=>{for(let x=0;x<b.length;++x){const S=v?v[x]:b[x],A=f[x];S==null?A.onerror&&A.onerror(p[x]):A.onsuccess&&A.onsuccess(m.type==="put"&&u[x]?m.values[x]:S)}return{failures:p,results:v,numFailures:_,lastResult:w}}).catch(p=>(f.forEach(v=>v.onerror&&v.onerror(p)),Promise.reject(p)))})}function g(m,y,b){return r.query({trans:m,values:!1,query:{index:n,range:y},limit:b}).then(({result:u})=>h({type:"delete",keys:u,trans:m}).then(f=>f.numFailures>0?Promise.reject(f.failures[0]):u.length<b?{failures:[],numFailures:0,lastResult:void 0}:g(m,{...y,lower:u[u.length-1],lowerOpen:!0},b)))}}}}})};function tH(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,o=0;s<e.keys.length&&o<t.length;++s)li(e.keys[s],t[o])===0&&(n.push(r?gy(e.values[s]):e.values[s]),++o);return n.length===t.length?n:null}catch(n){return null}}const obe={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=tH(n.keys,n.trans._cache,n.cache==="clone");return s?lt.resolve(s):r.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?gy(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function JO(t){return!("from"in t)}const Ba=function(t,e){if(!this){const r=new Ba;return t&&"d"in t&&hi(r,t),r}hi(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function uv(t,e,r){const n=li(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(JO(t))return hi(t,{from:e,to:r,d:1});const s=t.l,o=t.r;if(li(r,t.from)<0)return s?uv(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},W3(t);if(li(e,t.to)>0)return o?uv(o,e,r):t.r={from:e,to:r,d:1,l:null,r:null},W3(t);li(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),li(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;s&&!t.l&&Tb(t,s),o&&a&&Tb(t,o)}function Tb(t,e){JO(e)||function r(n,{from:s,to:o,l:a,r:l}){uv(n,s,o),a&&r(n,a),l&&r(n,l)}(t,e)}function abe(t,e){const r=HD(e);let n=r.next();if(n.done)return!1;let s=n.value;const o=HD(t);let a=o.next(s.from),l=a.value;for(;!n.done&&!a.done;){if(li(l.from,s.to)<=0&&li(l.to,s.from)>=0)return!0;li(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(a=o.next(s.from)).value}return!1}function HD(t){let e=JO(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&li(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||li(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function W3(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const o=s==="r"?"l":"r",a={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],a[s]=l[o],t[o]=a,a.d=K3(a)}t.d=K3(t)}function K3({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Eh(Ba.prototype,{add(t){return Tb(this,t),this},addKey(t){return uv(this,t,t),this},addKeys(t){return t.forEach(e=>uv(this,e,e)),this},[SD](){return HD(this)}});const lbe={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new Ba(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:o}=s,{primaryKey:a}=o,{extractKey:l,outbound:c}=a,d={...s,mutate:m=>{const y=m.trans,b=y.mutatedParts||(y.mutatedParts={}),u=S=>{const A="idb://".concat(e,"/").concat(n,"/").concat(S);return b[A]||(b[A]=new Ba)},f=u(""),p=u(":dels"),{type:v}=m;let[_,w]=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[];const x=m.trans._cache;return s.mutate(m).then(S=>{if(Yn(_)){v!=="delete"&&(_=S.results),f.addKeys(_);const A=tH(_,x);A||v==="add"||p.addKeys(_),(A||w)&&function(D,C,T,R){function P(O){const I=D(O.name||"");function k(V){return V!=null?O.extractKey(V):null}const W=V=>O.multiEntry&&Yn(V)?V.forEach(j=>I.addKey(j)):I.addKey(V);(T||R).forEach((V,j)=>{const $=T&&k(T[j]),K=R&&k(R[j]);li($,K)!==0&&($!=null&&W($),K!=null&&W(K))})}C.indexes.forEach(P)}(u,o,A,w)}else if(_){const A={from:_.lower,to:_.upper};p.add(A),f.add(A)}else f.add(r),p.add(r),o.indexes.forEach(A=>u(A.name).add(r));return S})}},h=({query:{index:m,range:y}})=>{var b,u;return[m,new Ba((b=y.lower)!==null&&b!==void 0?b:t.MIN_KEY,(u=y.upper)!==null&&u!==void 0?u:t.MAX_KEY)]},g={get:m=>[a,new Ba(m.key)],getMany:m=>[a,new Ba().addKeys(m.keys)],count:h,query:h,openCursor:h};return an(g).forEach(m=>{d[m]=function(y){const{subscr:b}=_t;if(b){const u=w=>{const x="idb://".concat(e,"/").concat(n,"/").concat(w);return b[x]||(b[x]=new Ba)},f=u(""),p=u(":dels"),[v,_]=g[m](y);if(u(v.name||"").add(_),!v.isPrimaryKey){if(m!=="count"){const w=m==="query"&&c&&y.values&&s.query({...y,values:!1});return s[m].apply(this,arguments).then(x=>{if(m==="query"){if(c&&y.values)return w.then(({result:A})=>(f.addKeys(A),x));const S=y.values?x.result.map(l):x.result;y.values?f.addKeys(S):p.addKeys(S)}else if(m==="openCursor"){const S=x,A=y.values;return S&&Object.create(S,{key:{get:()=>(p.addKey(S.primaryKey),S.key)},primaryKey:{get(){const D=S.primaryKey;return p.addKey(D),D}},value:{get:()=>(A&&f.addKey(S.primaryKey),S.value)}})}return x})}p.add(r)}}return s[m].apply(this,arguments)}}),d}}}};class nn{constructor(e,r){this._middlewares={},this.verno=0;const n=nn.dependencies;this._options=r={addons:nn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ar,dbReadyPromise:null,cancelOpen:ar,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new lt(l=>{o.dbReadyResolve=l}),o.openCanceller=new lt((l,c)=>{o.cancelOpen=c}),this._state=o,this.name=e,this.on=Wg(this,"populate","blocked","versionchange","close",{ready:[WO,ar]}),this.on.ready.subscribe=TV(this.on.ready.subscribe,l=>(c,d)=>{nn.vip(()=>{const h=this._state;if(h.openComplete)h.dbOpenError||lt.resolve().then(c),d&&l(c);else if(h.onReadyBeingFired)h.onReadyBeingFired.push(c),d&&l(c);else{l(c);const g=this;d||l(function m(){g.on.ready.unsubscribe(c),g.on.ready.unsubscribe(m)})}})}),this.Collection=(a=this,jp(H1e.prototype,function(l,c){this.db=a;let d=YV,h=null;if(c)try{d=c()}catch(b){h=b}const g=l._ctx,m=g.table,y=m.hook.reading.fire;this._ctx={table:m,index:g.index,isPrimKey:!g.index||m.schema.primKey.keyPath&&g.index===m.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:h,or:g.or,valueMapper:y!==iv?y:null}})),this.Table=function(l){return jp(V1e.prototype,function(c,d,h){this.db=l,this._tx=h,this.name=c,this.schema=d,this.hook=l._allTables[c]?l._allTables[c].hook:Wg(null,{creating:[I1e,ar],reading:[O1e,iv],updating:[F1e,ar],deleting:[B1e,ar]})})}(this),this.Transaction=function(l){return jp(X1e.prototype,function(c,d,h,g,m){this.db=l,this.mode=c,this.storeNames=d,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=Wg(this,"complete","error","abort"),this.parent=m||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new lt((y,b)=>{this._resolve=y,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var b=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):b&&this.idbtrans&&this.idbtrans.abort(),gn(y)})})}(this),this.Version=function(l){return jp(ebe.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return jp(qV.prototype,function(c,d,h){this.db=l,this._ctx={table:c,index:d===":id"?null:d,or:h};const g=l._deps.indexedDB;if(!g)throw new Ct.MissingAPI;this._cmp=this._ascending=g.cmp.bind(g),this._descending=(m,y)=>g.cmp(y,m),this._max=(m,y)=>g.cmp(m,y)>0?m:y,this._min=(m,y)=>g.cmp(m,y)<0?m:y,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=lv(r.IDBKeyRange),this._createTransaction=(l,c,d,h)=>new this.Transaction(l,c,d,this._options.chromeTransactionDurability,h),this._fireOnBlocked=l=>{this.on("blocked").fire(l),Hg.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(ibe),this.use(sbe),this.use(lbe),this.use(obe),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new Ct.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Ct.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(Q1e),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||_t.letThrough||this._vip)?e():new lt((r,n)=>{if(this._state.openComplete)return n(new Ct.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new Ct.DatabaseClosed);this.open().catch(ar)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:r,level:n==null?10:n,name:s}),o.sort((a,l)=>a.level-l.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return rbe(this)}_close(){const e=this._state,r=Hg.indexOf(this);if(r>=0&&Hg.splice(r,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new lt(n=>{e.dbReadyResolve=n}),e.openCanceller=new lt((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ct.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new lt((n,s)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Tr(()=>{(function({indexedDB:l,IDBKeyRange:c},d){!ZO(l)&&d!==yx&&qO(l,c).delete(d).catch(ar)})(this._deps,this.name),n()}),a.onerror=Uo(s),a.onblocked=this._fireOnBlocked};if(e)throw new Ct.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return an(this._allTables).map(e=>this._allTables[e])}transaction(){const e=nbe.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=_t.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let a,l;e=e.replace("!","").replace("?","");try{if(l=r.map(d=>{var h=d instanceof this.Table?d.name:d;if(typeof h!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return h}),e=="r"||e===qS)a=qS;else{if(e!="rw"&&e!=ZS)throw new Ct.InvalidArgument("Invalid transaction mode: "+e);a=ZS}if(s){if(s.mode===qS&&a===ZS){if(!o)throw new Ct.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!o)throw new Ct.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(h,g)=>{g(d)}):gn(d)}const c=eH.bind(null,this,a,l,s,n);return s?s._promise(a,c,"lock"):_t.trans?Jh(_t.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!os(this._allTables,e))throw new Ct.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const ube=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class cbe{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[ube](){return this}}function rH(t,e){return an(e).forEach(r=>{Tb(t[r]||(t[r]=new Ba),e[r])}),t}function nH(t){let e,r=!1;const n=new cbe(s=>{const o=GO(t);let a=!1,l={},c={};const d={get closed(){return a},unsubscribe:()=>{a=!0,Ru.storagemutated.unsubscribe(y)}};s.start&&s.start(d);let h=!1,g=!1;function m(){return an(c).some(u=>l[u]&&abe(l[u],c[u]))}const y=u=>{rH(l,u),m()&&b()},b=()=>{if(h||a)return;l={};const u={},f=function(p){o&&Qh();const v=()=>Du(t,{subscr:p,trans:null}),_=_t.trans?Jh(_t.transless,v):v();return o&&_.then(ol,ol),_}(u);g||(Ru(av,y),g=!0),h=!0,Promise.resolve(f).then(p=>{r=!0,e=p,h=!1,a||(m()?b():(l={},c=u,s.next&&s.next(p)))},p=>{h=!1,r=!1,s.error&&s.error(p),d.unsubscribe()})};return b(),d});return n.hasValue=()=>r,n.getValue=()=>e,n}let WD;try{WD={indexedDB:_r.indexedDB||_r.mozIndexedDB||_r.webkitIndexedDB||_r.msIndexedDB,IDBKeyRange:_r.IDBKeyRange||_r.webkitIDBKeyRange}}catch(t){WD={indexedDB:null,IDBKeyRange:null}}const sc=nn;function Y_(t){let e=$a;try{$a=!0,Ru.storagemutated.fire(t)}finally{$a=e}}Eh(sc,{...z_,delete:t=>new sc(t,{addons:[]}).delete(),exists:t=>new sc(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return ZO(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==yx)):qO(e,r).toCollection().primaryKeys()}(sc.dependencies).then(t)}catch(e){return gn(new Ct.MissingAPI)}},defineClass:()=>function(t){hi(this,t)},ignoreTransaction:t=>_t.trans?Jh(_t.transless,t):t(),vip:GD,async:function(t){return function(){try{var e=VD(t.apply(this,arguments));return e&&typeof e.then=="function"?e:lt.resolve(e)}catch(r){return gn(r)}}},spawn:function(t,e,r){try{var n=VD(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:lt.resolve(n)}catch(s){return gn(s)}},currentTransaction:{get:()=>_t.trans||null},waitFor:function(t,e){const r=lt.resolve(typeof t=="function"?sc.ignoreTransaction(t):t).timeout(e||6e4);return _t.trans?_t.trans.waitFor(r):r},Promise:lt,debug:{get:()=>fa,set:t=>{BV(t,t==="dexie"?()=>!0:KV)}},derive:Hf,extend:hi,props:Eh,override:TV,Events:Wg,on:Ru,liveQuery:nH,extendObservabilitySet:rH,getByKeyPath:Wa,setByKeyPath:bo,delByKeyPath:function(t,e){typeof e=="string"?bo(t,e,void 0):"length"in e&&[].map.call(e,function(r){bo(t,r,void 0)})},shallowClone:RV,deepClone:gy,getObjectDiff:QO,cmp:li,asap:DV,minKey:MD,addons:[],connections:Hg,errnames:HO,dependencies:WD,semVer:$3,version:$3.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),sc.maxKey=lv(sc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ru(av,t=>{if(!$a){let e;vx?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Vl,!0,!0,t)):e=new CustomEvent(Vl,{detail:t}),$a=!0,dispatchEvent(e),$a=!1}}),addEventListener(Vl,({detail:t})=>{$a||Y_(t)}));let $a=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Vl);typeof t.unref=="function"&&t.unref(),Ru(av,e=>{$a||t.postMessage(e)}),t.onmessage=e=>{e.data&&Y_(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ru(av,e=>{try{$a||(typeof localStorage<"u"&&localStorage.setItem(Vl,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:Vl,changedParts:e})))}catch(r){}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Vl){const r=JSON.parse(e.newValue);r&&Y_(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Vl&&Y_(e.changedParts)})}lt.rejectionMapper=function(t,e){if(!t||t instanceof Wf||t instanceof TypeError||t instanceof SyntaxError||!t.name||!k3[t.name])return t;var r=new k3[t.name](e||t.message,t);return"stack"in t&&Ha(r,"stack",{get:function(){return this.inner.stack}}),r},BV(fa,KV);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Db=function(){return Db=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Db.apply(this,arguments)};function Ou(t,e,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(h){try{d(n.next(h))}catch(g){a(g)}}function c(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?o(h.value):s(h.value).then(l,c)}d((n=n.apply(t,e||[])).next())})}function co(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(h){d=[6,h],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function dbe(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(r){return r.src}).join(",")}function fbe(t){for(var e={},r=0,n=t.tables;r<n.length;r++){var s=n[r];e[s.name]=s.schema}return e}function iH(t,e){return new Promise(function(r,n){var s=new FileReader;s.onabort=function(o){return n(new Error("file read aborted"))},s.onerror=function(o){return n(o.target.error)},s.onload=function(o){return r(o.target.result)},e==="binary"?s.readAsArrayBuffer(t):s.readAsText(t)})}function sH(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var r=new FileReaderSync,n=e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t);return n}var KD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eI(t,e){return e={exports:{}},t(e,e.exports),e.exports}var _x=eI(function(t,e){(function(r,n){t.exports=n()})(KD,function(){function r(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(G){return typeof G}:r=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},r(z)}function n(z,G,H,re,ne,_e,be){try{var xe=z[_e](be),Se=xe.value}catch(dt){H(dt);return}xe.done?G(Se):Promise.resolve(Se).then(re,ne)}function s(z){return function(){var G=this,H=arguments;return new Promise(function(re,ne){var _e=z.apply(G,H);function be(Se){n(_e,re,ne,be,xe,"next",Se)}function xe(Se){n(_e,re,ne,be,xe,"throw",Se)}be(void 0)})}}function o(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function a(z,G){for(var H=0;H<G.length;H++){var re=G[H];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(z,re.key,re)}}function l(z,G,H){return G&&a(z.prototype,G),H&&a(z,H),z}function c(z,G,H){return G in z?Object.defineProperty(z,G,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[G]=H,z}function d(z,G){var H=Object.keys(z);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(z);G&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(z,ne).enumerable})),H.push.apply(H,re)}return H}function h(z){for(var G=1;G<arguments.length;G++){var H=arguments[G]!=null?arguments[G]:{};G%2?d(Object(H),!0).forEach(function(re){c(z,re,H[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(H)):d(Object(H)).forEach(function(re){Object.defineProperty(z,re,Object.getOwnPropertyDescriptor(H,re))})}return z}function g(z,G){return b(z)||f(z,G)||v()}function m(z){return y(z)||u(z)||p()}function y(z){if(Array.isArray(z)){for(var G=0,H=new Array(z.length);G<z.length;G++)H[G]=z[G];return H}}function b(z){if(Array.isArray(z))return z}function u(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}function f(z,G){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]"){var H=[],re=!0,ne=!1,_e=void 0;try{for(var be=z[Symbol.iterator](),xe;!(re=(xe=be.next()).done)&&(H.push(xe.value),!(G&&H.length===G));re=!0);}catch(Se){ne=!0,_e=Se}finally{try{!re&&be.return!=null&&be.return()}finally{if(ne)throw _e}}return H}}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var _=function z(G){o(this,z),this.p=new Promise(G)};_.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(_.prototype[Symbol.toStringTag]="TypesonPromise"),_.prototype.then=function(z,G){var H=this;return new _(function(re,ne){H.p.then(function(_e){re(z?z(_e):_e)}).catch(function(_e){return G?G(_e):Promise.reject(_e)}).then(re,ne)})},_.prototype.catch=function(z){return this.then(null,z)},_.resolve=function(z){return new _(function(G){G(z)})},_.reject=function(z){return new _(function(G,H){H(z)})},["all","race"].forEach(function(z){_[z]=function(G){return new _(function(H,re){Promise[z](G.map(function(ne){return ne&&ne.constructor&&ne.constructor.__typeson__type__==="TypesonPromise"?ne.p:ne})).then(H,re)})}});var w={},x=w.toString,S={}.hasOwnProperty,A=Object.getPrototypeOf,D=S.toString;function C(z,G){return I(z)&&typeof z.then=="function"&&(!G||typeof z.catch=="function")}function T(z){return x.call(z).slice(8,-1)}function R(z,G){if(!z||r(z)!=="object")return!1;var H=A(z);if(!H)return G===null;var re=S.call(H,"constructor")&&H.constructor;return typeof re!="function"?G===null:G===re||G!==null&&D.call(re)===D.call(G)||typeof G=="function"&&typeof re.__typeson__type__=="string"&&re.__typeson__type__===G.__typeson__type__}function P(z){if(!z||T(z)!=="Object")return!1;var G=A(z);return G?R(z,Object):!0}function O(z){if(!z||T(z)!=="Object")return!1;var G=A(z);return G?R(z,Object)||O(G):!0}function I(z){return z&&r(z)==="object"}function k(z){return z.replace(/~/g,"~0").replace(/\./g,"~1")}function W(z){return z.replace(/~1/g,".").replace(/~0/g,"~")}function V(z,G){if(G==="")return z;var H=G.indexOf(".");if(H>-1){var re=z[W(G.slice(0,H))];return re===void 0?void 0:V(re,G.slice(H+1))}return z[W(G)]}function j(z,G,H){if(G==="")return H;var re=G.indexOf(".");if(re>-1){var ne=z[W(G.slice(0,re))];return j(ne,G.slice(re+1),H)}return z[W(G)]=H,z}function $(z){return z===null?"null":Array.isArray(z)?"array":r(z)}var K=Object.keys,J=Array.isArray,ue={}.hasOwnProperty,pe=["type","replaced","iterateIn","iterateUnsetNumeric"];function oe(z,G){if(z.keypath==="")return-1;var H=z.keypath.match(/\./g)||0,re=G.keypath.match(/\./g)||0;return H&&(H=H.length),re&&(re=re.length),H>re?-1:H<re?1:z.keypath<G.keypath?-1:z.keypath>G.keypath}var he=function(){function z(G){o(this,z),this.options=G,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l(z,[{key:"stringify",value:function(H,re,ne,_e){_e=h({},this.options,{},_e,{stringification:!0});var be=this.encapsulate(H,null,_e);return J(be)?JSON.stringify(be[0],re,ne):be.then(function(xe){return JSON.stringify(xe,re,ne)})}},{key:"stringifySync",value:function(H,re,ne,_e){return this.stringify(H,re,ne,h({throwOnBadSyncType:!0},_e,{sync:!0}))}},{key:"stringifyAsync",value:function(H,re,ne,_e){return this.stringify(H,re,ne,h({throwOnBadSyncType:!0},_e,{sync:!1}))}},{key:"parse",value:function(H,re,ne){return ne=h({},this.options,{},ne,{parse:!0}),this.revive(JSON.parse(H,re),ne)}},{key:"parseSync",value:function(H,re,ne){return this.parse(H,re,h({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"parseAsync",value:function(H,re,ne){return this.parse(H,re,h({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"specialTypeNames",value:function(H,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.returnTypeNames=!0,this.encapsulate(H,re,ne)}},{key:"rootTypeName",value:function(H,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.iterateNone=!0,this.encapsulate(H,re,ne)}},{key:"encapsulate",value:function(H,re,ne){ne=h({sync:!0},this.options,{},ne);var _e=ne,be=_e.sync,xe=this,Se={},dt=[],wt=[],Y=[],se="cyclic"in ne?ne.cyclic:!0,le=ne,Ae=le.encapsulateObserver,ve=ft("",H,se,re||{},Y);function ye(Ke){var L=Object.values(Se);if(ne.iterateNone)return L.length?L[0]:z.getJSONType(Ke);if(L.length){if(ne.returnTypeNames)return m(new Set(L));!Ke||!P(Ke)||ue.call(Ke,"$types")?Ke={$:Ke,$types:{$:Se}}:Ke.$types=Se}else I(Ke)&&ue.call(Ke,"$types")&&(Ke={$:Ke,$types:!0});return ne.returnTypeNames?!1:Ke}function Te(Ke,L){return Re.apply(this,arguments)}function Re(){return Re=s(regeneratorRuntime.mark(function Ke(L,B){var U;return regeneratorRuntime.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,Promise.all(B.map(function(ke){return ke[1].p}));case 2:return U=ie.sent,ie.next=5,Promise.all(U.map(function(){var ke=s(regeneratorRuntime.mark(function Ge(ut){var Xe,vt,te,ae,de,Ee,Be,We,Ze,De,Qe,Fe,Ce,Ne;return regeneratorRuntime.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(Xe=[],vt=B.splice(0,1),te=g(vt,1),ae=te[0],de=g(ae,7),Ee=de[0],Be=de[2],We=de[3],Ze=de[4],De=de[5],Qe=de[6],Fe=ft(Ee,ut,Be,We,Xe,!0,Qe),Ce=R(Fe,_),!(Ee&&Ce)){Je.next=11;break}return Je.next=8,Fe.p;case 8:return Ne=Je.sent,Ze[De]=Ne,Je.abrupt("return",Te(L,Xe));case 11:return Ee?Ze[De]=Fe:Ce?L=Fe.p:L=Fe,Je.abrupt("return",Te(L,Xe));case 13:case"end":return Je.stop()}},Ge)}));return function(Ge){return ke.apply(this,arguments)}}()));case 5:return ie.abrupt("return",L);case 6:case"end":return ie.stop()}},Ke)})),Re.apply(this,arguments)}function je(Ke,L,B){Object.assign(Ke,L);var U=pe.map(function(Q){var ie=Ke[Q];return delete Ke[Q],ie});B(),pe.forEach(function(Q,ie){Ke[Q]=U[ie]})}function ft(Ke,L,B,U,Q,ie,ke){var Ge,ut={},Xe=r(L),vt=Ae?function(Ce){var Ne=ke||U.type||z.getJSONType(L);Ae(Object.assign(Ce||ut,{keypath:Ke,value:L,cyclic:B,stateObj:U,promisesData:Q,resolvingTypesonPromise:ie,awaitingTypesonPromise:R(L,_)},{type:Ne}))}:null;if(["string","boolean","number","undefined"].includes(Xe))return L===void 0||Xe==="number"&&(isNaN(L)||L===-1/0||L===1/0)?(U.replaced?Ge=L:Ge=xt(Ke,L,U,Q,!1,ie,vt),Ge!==L&&(ut={replaced:Ge})):Ge=L,vt&&vt(),Ge;if(L===null)return vt&&vt(),L;if(B&&!U.iterateIn&&!U.iterateUnsetNumeric&&L&&r(L)==="object"){var te=dt.indexOf(L);if(te<0)B===!0&&(dt.push(L),wt.push(Ke));else return Se[Ke]="#",vt&&vt({cyclicKeypath:wt[te]}),"#"+wt[te]}var ae=P(L),de=J(L),Ee=(ae||de)&&(!xe.plainObjectReplacers.length||U.replaced)||U.iterateIn?L:xt(Ke,L,U,Q,ae||de,null,vt),Be;if(Ee!==L?(Ge=Ee,ut={replaced:Ee}):Ke===""&&R(L,_)?(Q.push([Ke,L,B,U,void 0,void 0,U.type]),Ge=L):de&&U.iterateIn!=="object"||U.iterateIn==="array"?(Be=new Array(L.length),ut={clone:Be}):!["function","symbol"].includes(r(L))&&!("toJSON"in L)&&!R(L,_)&&!R(L,Promise)&&!R(L,ArrayBuffer)||ae||U.iterateIn==="object"?(Be={},U.addLength&&(Be.length=L.length),ut={clone:Be}):Ge=L,vt&&vt(),ne.iterateNone)return Be||Ge;if(!Be)return Ge;if(U.iterateIn){var We=function(Ne){var Le={ownKeys:ue.call(L,Ne)};je(U,Le,function(){var Je=Ke+(Ke?".":"")+k(Ne),Tt=ft(Je,L[Ne],!!B,U,Q,ie);R(Tt,_)?Q.push([Je,Tt,!!B,U,Be,Ne,U.type]):Tt!==void 0&&(Be[Ne]=Tt)})};for(var Ze in L)We(Ze);vt&&vt({endIterateIn:!0,end:!0})}else K(L).forEach(function(Ce){var Ne=Ke+(Ke?".":"")+k(Ce),Le={ownKeys:!0};je(U,Le,function(){var Je=ft(Ne,L[Ce],!!B,U,Q,ie);R(Je,_)?Q.push([Ne,Je,!!B,U,Be,Ce,U.type]):Je!==void 0&&(Be[Ce]=Je)})}),vt&&vt({endIterateOwn:!0,end:!0});if(U.iterateUnsetNumeric){for(var De=L.length,Qe=function(Ne){if(!(Ne in L)){var Le=Ke+(Ke?".":"")+Ne,Je={ownKeys:!1};je(U,Je,function(){var Tt=ft(Le,void 0,!!B,U,Q,ie);R(Tt,_)?Q.push([Le,Tt,!!B,U,Be,Ne,U.type]):Tt!==void 0&&(Be[Ne]=Tt)})}},Fe=0;Fe<De;Fe++)Qe(Fe);vt&&vt({endIterateUnsetNumeric:!0,end:!0})}return Be}function xt(Ke,L,B,U,Q,ie,ke){for(var Ge=Q?xe.plainObjectReplacers:xe.nonplainObjectReplacers,ut=Ge.length;ut--;){var Xe=Ge[ut];if(Xe.test(L,B)){var vt=Xe.type;if(xe.revivers[vt]){var te=Se[Ke];Se[Ke]=te?[vt].concat(te):vt}if(Object.assign(B,{type:vt,replaced:!0}),(be||!Xe.replaceAsync)&&!Xe.replace)return ke&&ke({typeDetected:!0}),ft(Ke,L,se&&"readonly",B,U,ie,vt);ke&&ke({replacing:!0});var ae=be||!Xe.replaceAsync?"replace":"replaceAsync";return ft(Ke,Xe[ae](L,B),se&&"readonly",B,U,ie,vt)}}return L}return Y.length?be&&ne.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Te(ve,Y)).then(ye):!be&&ne.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ne.stringification&&be?[ye(ve)]:be?ye(ve):Promise.resolve(ye(ve))}},{key:"encapsulateSync",value:function(H,re,ne){return this.encapsulate(H,re,h({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"encapsulateAsync",value:function(H,re,ne){return this.encapsulate(H,re,h({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"revive",value:function(H,re){var ne=H&&H.$types;if(!ne)return H;if(ne===!0)return H.$;re=h({sync:!0},this.options,{},re);var _e=re,be=_e.sync,xe=[],Se={},dt=!0;ne.$&&P(ne.$)&&(H=H.$,ne=ne.$,dt=!1);var wt=this;function Y(Re,je){var ft=wt.revivers[Re]||[],xt=g(ft,1),Ke=xt[0];if(!Ke)throw new Error("Unregistered type: "+Re);return be&&!("revive"in Ke)?je:Ke[be&&Ke.revive?"revive":!be&&Ke.reviveAsync?"reviveAsync":"revive"](je,Se)}function se(){var Re=[];if(Object.entries(ne).forEach(function(je){var ft=g(je,2),xt=ft[0],Ke=ft[1];Ke!=="#"&&[].concat(Ke).forEach(function(L){var B=wt.revivers[L]||[null,{}],U=g(B,2),Q=U[1].plain;Q&&(Re.push({keypath:xt,type:L}),delete ne[xt])})}),!!Re.length)return Re.sort(oe).reduce(function je(ft,xt){var Ke=xt.keypath,L=xt.type;if(C(ft))return ft.then(function(Q){return je(Q,{keypath:Ke,type:L})});var B=V(H,Ke);if(B=Y(L,B),R(B,_))return B.then(function(Q){var ie=j(H,Ke,Q);ie===Q&&(H=ie)});var U=j(H,Ke,B);U===B&&(H=U)},void 0)}var le=[];function Ae(Re,je,ft,xt,Ke){if(!(dt&&Re==="$types")){var L=ne[Re],B=J(je);if(B||P(je)){var U=B?new Array(je.length):{};for(K(je).forEach(function(te){var ae=Ae(Re+(Re?".":"")+k(te),je[te],ft||U,U,te),de=function(Be){return R(Be,X)?U[te]=void 0:Be!==void 0&&(U[te]=Be),Be};R(ae,_)?le.push(ae.then(function(Ee){return de(Ee)})):de(ae)}),je=U;xe.length;){var Q=g(xe[0],4),ie=Q[0],ke=Q[1],Ge=Q[2],ut=Q[3],Xe=V(ie,ke);if(Xe!==void 0)Ge[ut]=Xe;else break;xe.splice(0,1)}}if(!L)return je;if(L==="#"){var vt=V(ft,je.slice(1));return vt===void 0&&xe.push([ft,je.slice(1),xt,Ke]),vt}return[].concat(L).reduce(function te(ae,de){return R(ae,_)?ae.then(function(Ee){return te(Ee,de)}):Y(de,ae)},je)}}function ve(Re){return R(Re,X)?void 0:Re}var ye=se(),Te;return R(ye,_)?Te=ye.then(function(){return H}):(Te=Ae("",H,null),le.length&&(Te=_.resolve(Te).then(function(Re){return _.all([Re].concat(le))}).then(function(Re){var je=g(Re,1),ft=je[0];return ft}))),C(Te)?be&&re.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():R(Te,_)?Te.p.then(ve):Te:!be&&re.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():be?ve(Te):Promise.resolve(ve(Te))}},{key:"reviveSync",value:function(H,re){return this.revive(H,h({throwOnBadSyncType:!0},re,{sync:!0}))}},{key:"reviveAsync",value:function(H,re){return this.revive(H,h({throwOnBadSyncType:!0},re,{sync:!1}))}},{key:"register",value:function(H,re){return re=re||{},[].concat(H).forEach(function ne(_e){var be=this;if(J(_e))return _e.map(function(xe){return ne.call(be,xe)});_e&&K(_e).forEach(function(xe){if(xe==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(z.JSON_TYPES.includes(xe))throw new TypeError("Plain JSON object types are reserved as type names");var Se=_e[xe],dt=Se&&Se.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,wt=dt.filter(function(ft){return ft.type===xe});if(wt.length&&(dt.splice(dt.indexOf(wt[0]),1),delete this.revivers[xe],delete this.types[xe]),typeof Se=="function"){var Y=Se;Se={test:function(xt){return xt&&xt.constructor===Y},replace:function(xt){return h({},xt)},revive:function(xt){return Object.assign(Object.create(Y.prototype),xt)}}}else if(J(Se)){var se=Se,le=g(se,3),Ae=le[0],ve=le[1],ye=le[2];Se={test:Ae,replace:ve,revive:ye}}if(!(!Se||!Se.test)){var Te={type:xe,test:Se.test.bind(Se)};Se.replace&&(Te.replace=Se.replace.bind(Se)),Se.replaceAsync&&(Te.replaceAsync=Se.replaceAsync.bind(Se));var Re=typeof re.fallback=="number"?re.fallback:re.fallback?0:1/0;if(Se.testPlainObjects?this.plainObjectReplacers.splice(Re,0,Te):this.nonplainObjectReplacers.splice(Re,0,Te),Se.revive||Se.reviveAsync){var je={};Se.revive&&(je.revive=Se.revive.bind(Se)),Se.reviveAsync&&(je.reviveAsync=Se.reviveAsync.bind(Se)),this.revivers[xe]=[je,{plain:Se.testPlainObjects}]}this.types[xe]=Se}},this)},this),this}}]),z}(),X=function z(){o(this,z)};return X.__typeson__type__="TypesonUndefined",he.Undefined=X,he.Promise=_,he.isThenable=C,he.toStringTag=T,he.hasConstructorOf=R,he.isObject=I,he.isPlainObject=P,he.isUserObject=O,he.escapeKeyPathComponent=k,he.unescapeKeyPathComponent=W,he.getByKeyPath=V,he.getJSONType=$,he.JSON_TYPES=["null","boolean","number","string","array","object"],he})}),hbe=eI(function(t,e){(function(r,n){t.exports=n()})(KD,function(){function r(L){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(L)}function n(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function s(L,B){for(var U=0;U<B.length;U++){var Q=B[U];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(L,Q.key,Q)}}function o(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function a(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(L);B&&(Q=Q.filter(function(ie){return Object.getOwnPropertyDescriptor(L,ie).enumerable})),U.push.apply(U,Q)}return U}function l(L){return function(U){if(Array.isArray(U))return c(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||function(U,Q){if(U){if(typeof U=="string")return c(U,Q);var ie=Object.prototype.toString.call(U).slice(8,-1);if(ie==="Object"&&U.constructor&&(ie=U.constructor.name),ie==="Map"||ie==="Set")return Array.from(U);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return c(U,Q)}}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,Q=new Array(B);U<B;U++)Q[U]=L[U];return Q}function d(L){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(L)}function h(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function g(L,B){for(var U=0;U<B.length;U++){var Q=B[U];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(L,Q.key,Q)}}function m(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function y(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(L);B&&(Q=Q.filter(function(ie){return Object.getOwnPropertyDescriptor(L,ie).enumerable})),U.push.apply(U,Q)}return U}function b(L){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{};B%2?y(Object(U),!0).forEach(function(Q){m(L,Q,U[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(U)):y(Object(U)).forEach(function(Q){Object.defineProperty(L,Q,Object.getOwnPropertyDescriptor(U,Q))})}return L}function u(L,B){return function(Q){if(Array.isArray(Q))return Q}(L)||function(Q,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Q)))){var ke=[],Ge=!0,ut=!1,Xe=void 0;try{for(var vt,te=Q[Symbol.iterator]();!(Ge=(vt=te.next()).done)&&(ke.push(vt.value),!ie||ke.length!==ie);Ge=!0);}catch(ae){ut=!0,Xe=ae}finally{try{Ge||te.return==null||te.return()}finally{if(ut)throw Xe}}return ke}}(L,B)||p(L,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(L){return function(U){if(Array.isArray(U))return v(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||p(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(L,B){if(L){if(typeof L=="string")return v(L,B);var U=Object.prototype.toString.call(L).slice(8,-1);return U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set"?Array.from(L):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?v(L,B):void 0}}function v(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,Q=new Array(B);U<B;U++)Q[U]=L[U];return Q}var _=function L(B){h(this,L),this.p=new Promise(B)};_.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(_.prototype[Symbol.toStringTag]="TypesonPromise"),_.prototype.then=function(L,B){var U=this;return new _(function(Q,ie){U.p.then(function(ke){Q(L?L(ke):ke)}).catch(function(ke){return B?B(ke):Promise.reject(ke)}).then(Q,ie)})},_.prototype.catch=function(L){return this.then(null,L)},_.resolve=function(L){return new _(function(B){B(L)})},_.reject=function(L){return new _(function(B,U){U(L)})},["all","race"].forEach(function(L){_[L]=function(B){return new _(function(U,Q){Promise[L](B.map(function(ie){return ie&&ie.constructor&&ie.constructor.__typeson__type__==="TypesonPromise"?ie.p:ie})).then(U,Q)})}});var w={}.toString,x={}.hasOwnProperty,S=Object.getPrototypeOf,A=x.toString;function D(L,B){return P(L)&&typeof L.then=="function"&&(!B||typeof L.catch=="function")}function C(L){return w.call(L).slice(8,-1)}function T(L,B){if(!L||d(L)!=="object")return!1;var U=S(L);if(!U)return B===null;var Q=x.call(U,"constructor")&&U.constructor;return typeof Q!="function"?B===null:B===Q||B!==null&&A.call(Q)===A.call(B)||typeof B=="function"&&typeof Q.__typeson__type__=="string"&&Q.__typeson__type__===B.__typeson__type__}function R(L){return!(!L||C(L)!=="Object")&&(!S(L)||T(L,Object))}function P(L){return L&&d(L)==="object"}function O(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function I(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function k(L,B){if(B==="")return L;var U=B.indexOf(".");if(U>-1){var Q=L[I(B.slice(0,U))];return Q===void 0?void 0:k(Q,B.slice(U+1))}return L[I(B)]}function W(L,B,U){if(B==="")return U;var Q=B.indexOf(".");return Q>-1?W(L[I(B.slice(0,Q))],B.slice(Q+1),U):(L[I(B)]=U,L)}function V(L,B,U){return U?B?B(L):L:(L&&L.then||(L=Promise.resolve(L)),B?L.then(B):L)}var j=Object.keys,$=Array.isArray,K={}.hasOwnProperty,J=["type","replaced","iterateIn","iterateUnsetNumeric"];function ue(L){return function(){for(var B=[],U=0;U<arguments.length;U++)B[U]=arguments[U];try{return Promise.resolve(L.apply(this,B))}catch(Q){return Promise.reject(Q)}}}function pe(L,B){if(L.keypath==="")return-1;var U=L.keypath.match(/\./g)||0,Q=B.keypath.match(/\./g)||0;return U&&(U=U.length),Q&&(Q=Q.length),U>Q?-1:U<Q?1:L.keypath<B.keypath?-1:L.keypath>B.keypath}var oe=function(){function L(B){h(this,L),this.options=B,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(U,Q,ie){return Q&&g(U.prototype,Q),ie&&g(U,ie),U}(L,[{key:"stringify",value:function(U,Q,ie,ke){ke=b(b(b({},this.options),ke),{},{stringification:!0});var Ge=this.encapsulate(U,null,ke);return $(Ge)?JSON.stringify(Ge[0],Q,ie):Ge.then(function(ut){return JSON.stringify(ut,Q,ie)})}},{key:"stringifySync",value:function(U,Q,ie,ke){return this.stringify(U,Q,ie,b(b({throwOnBadSyncType:!0},ke),{},{sync:!0}))}},{key:"stringifyAsync",value:function(U,Q,ie,ke){return this.stringify(U,Q,ie,b(b({throwOnBadSyncType:!0},ke),{},{sync:!1}))}},{key:"parse",value:function(U,Q,ie){return ie=b(b(b({},this.options),ie),{},{parse:!0}),this.revive(JSON.parse(U,Q),ie)}},{key:"parseSync",value:function(U,Q,ie){return this.parse(U,Q,b(b({throwOnBadSyncType:!0},ie),{},{sync:!0}))}},{key:"parseAsync",value:function(U,Q,ie){return this.parse(U,Q,b(b({throwOnBadSyncType:!0},ie),{},{sync:!1}))}},{key:"specialTypeNames",value:function(U,Q){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(U,Q,ie)}},{key:"rootTypeName",value:function(U,Q){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(U,Q,ie)}},{key:"encapsulate",value:function(U,Q,ie){var ke=ue(function(Fe,Ce){return V(Promise.all(Ce.map(function(Ne){return Ne[1].p})),function(Ne){return V(Promise.all(Ne.map(ue(function(Le){var Je=!1,Tt=[],er=u(Ce.splice(0,1),1),tr=u(er[0],7),qr=tr[0],wr=tr[2],kt=tr[3],cn=tr[4],Nt=tr[5],dn=tr[6],Gr=De(qr,Le,wr,kt,Tt,!0,dn),It=T(Gr,_);return function(_i,Ut){var bi=_i();return bi&&bi.then?bi.then(Ut):Ut(bi)}(function(){if(qr&&It)return V(Gr.p,function(hr){return cn[Nt]=hr,Je=!0,ke(Fe,Tt)})},function(hr){return Je?hr:(qr?cn[Nt]=Gr:Fe=It?Gr.p:Gr,ke(Fe,Tt))})}))),function(){return Fe})})}),Ge=(ie=b(b({sync:!0},this.options),ie)).sync,ut=this,Xe={},vt=[],te=[],ae=[],de=!("cyclic"in ie)||ie.cyclic,Ee=ie.encapsulateObserver,Be=De("",U,de,Q||{},ae);function We(Fe){var Ce=Object.values(Xe);if(ie.iterateNone)return Ce.length?Ce[0]:L.getJSONType(Fe);if(Ce.length){if(ie.returnTypeNames)return f(new Set(Ce));Fe&&R(Fe)&&!K.call(Fe,"$types")?Fe.$types=Xe:Fe={$:Fe,$types:{$:Xe}}}else P(Fe)&&K.call(Fe,"$types")&&(Fe={$:Fe,$types:!0});return!ie.returnTypeNames&&Fe}function Ze(Fe,Ce,Ne){Object.assign(Fe,Ce);var Le=J.map(function(Je){var Tt=Fe[Je];return delete Fe[Je],Tt});Ne(),J.forEach(function(Je,Tt){Fe[Je]=Le[Tt]})}function De(Fe,Ce,Ne,Le,Je,Tt,er){var tr,qr={},wr=d(Ce),kt=Ee?function(ds){var On=er||Le.type||L.getJSONType(Ce);Ee(Object.assign(ds||qr,{keypath:Fe,value:Ce,cyclic:Ne,stateObj:Le,promisesData:Je,resolvingTypesonPromise:Tt,awaitingTypesonPromise:T(Ce,_)},{type:On}))}:null;if(["string","boolean","number","undefined"].includes(wr))return Ce===void 0||Number.isNaN(Ce)||Ce===Number.NEGATIVE_INFINITY||Ce===Number.POSITIVE_INFINITY?(tr=Le.replaced?Ce:Qe(Fe,Ce,Le,Je,!1,Tt,kt))!==Ce&&(qr={replaced:tr}):tr=Ce,kt&&kt(),tr;if(Ce===null)return kt&&kt(),Ce;if(Ne&&!Le.iterateIn&&!Le.iterateUnsetNumeric&&Ce&&d(Ce)==="object"){var cn=vt.indexOf(Ce);if(!(cn<0))return Xe[Fe]="#",kt&&kt({cyclicKeypath:te[cn]}),"#"+te[cn];Ne===!0&&(vt.push(Ce),te.push(Fe))}var Nt,dn=R(Ce),Gr=$(Ce),It=(dn||Gr)&&(!ut.plainObjectReplacers.length||Le.replaced)||Le.iterateIn?Ce:Qe(Fe,Ce,Le,Je,dn||Gr,null,kt);if(It!==Ce?(tr=It,qr={replaced:It}):Fe===""&&T(Ce,_)?(Je.push([Fe,Ce,Ne,Le,void 0,void 0,Le.type]),tr=Ce):Gr&&Le.iterateIn!=="object"||Le.iterateIn==="array"?(Nt=new Array(Ce.length),qr={clone:Nt}):(["function","symbol"].includes(d(Ce))||"toJSON"in Ce||T(Ce,_)||T(Ce,Promise)||T(Ce,ArrayBuffer))&&!dn&&Le.iterateIn!=="object"?tr=Ce:(Nt={},Le.addLength&&(Nt.length=Ce.length),qr={clone:Nt}),kt&&kt(),ie.iterateNone)return Nt||tr;if(!Nt)return tr;if(Le.iterateIn){var hr=function(On){var qs={ownKeys:K.call(Ce,On)};Ze(Le,qs,function(){var fs=Fe+(Fe?".":"")+O(On),Pd=De(fs,Ce[On],!!Ne,Le,Je,Tt);T(Pd,_)?Je.push([fs,Pd,!!Ne,Le,Nt,On,Le.type]):Pd!==void 0&&(Nt[On]=Pd)})};for(var _i in Ce)hr(_i);kt&&kt({endIterateIn:!0,end:!0})}else j(Ce).forEach(function(ds){var On=Fe+(Fe?".":"")+O(ds);Ze(Le,{ownKeys:!0},function(){var qs=De(On,Ce[ds],!!Ne,Le,Je,Tt);T(qs,_)?Je.push([On,qs,!!Ne,Le,Nt,ds,Le.type]):qs!==void 0&&(Nt[ds]=qs)})}),kt&&kt({endIterateOwn:!0,end:!0});if(Le.iterateUnsetNumeric){for(var Ut=Ce.length,bi=function(On){if(!(On in Ce)){var qs=Fe+(Fe?".":"")+On;Ze(Le,{ownKeys:!1},function(){var fs=De(qs,void 0,!!Ne,Le,Je,Tt);T(fs,_)?Je.push([qs,fs,!!Ne,Le,Nt,On,Le.type]):fs!==void 0&&(Nt[On]=fs)})}},bl=0;bl<Ut;bl++)bi(bl);kt&&kt({endIterateUnsetNumeric:!0,end:!0})}return Nt}function Qe(Fe,Ce,Ne,Le,Je,Tt,er){for(var tr=Je?ut.plainObjectReplacers:ut.nonplainObjectReplacers,qr=tr.length;qr--;){var wr=tr[qr];if(wr.test(Ce,Ne)){var kt=wr.type;if(ut.revivers[kt]){var cn=Xe[Fe];Xe[Fe]=cn?[kt].concat(cn):kt}return Object.assign(Ne,{type:kt,replaced:!0}),!Ge&&wr.replaceAsync||wr.replace?(er&&er({replacing:!0}),De(Fe,wr[Ge||!wr.replaceAsync?"replace":"replaceAsync"](Ce,Ne),de&&"readonly",Ne,Le,Tt,kt)):(er&&er({typeDetected:!0}),De(Fe,Ce,de&&"readonly",Ne,Le,Tt,kt))}}return Ce}return ae.length?Ge&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(ke(Be,ae)).then(We):!Ge&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&Ge?[We(Be)]:Ge?We(Be):Promise.resolve(We(Be))}},{key:"encapsulateSync",value:function(U,Q,ie){return this.encapsulate(U,Q,b(b({throwOnBadSyncType:!0},ie),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(U,Q,ie){return this.encapsulate(U,Q,b(b({throwOnBadSyncType:!0},ie),{},{sync:!1}))}},{key:"revive",value:function(U,Q){var ie=U&&U.$types;if(!ie)return U;if(ie===!0)return U.$;var ke=(Q=b(b({sync:!0},this.options),Q)).sync,Ge=[],ut={},Xe=!0;ie.$&&R(ie.$)&&(U=U.$,ie=ie.$,Xe=!1);var vt=this;function te(We,Ze){var De=u(vt.revivers[We]||[],1)[0];if(!De)throw new Error("Unregistered type: "+We);return ke&&!("revive"in De)?Ze:De[ke&&De.revive?"revive":!ke&&De.reviveAsync?"reviveAsync":"revive"](Ze,ut)}var ae=[];function de(We){return T(We,he)?void 0:We}var Ee,Be=function(){var Ze=[];if(Object.entries(ie).forEach(function(De){var Qe=u(De,2),Fe=Qe[0],Ce=Qe[1];Ce!=="#"&&[].concat(Ce).forEach(function(Ne){u(vt.revivers[Ne]||[null,{}],2)[1].plain&&(Ze.push({keypath:Fe,type:Ne}),delete ie[Fe])})}),Ze.length)return Ze.sort(pe).reduce(function De(Qe,Fe){var Ce=Fe.keypath,Ne=Fe.type;if(D(Qe))return Qe.then(function(Tt){return De(Tt,{keypath:Ce,type:Ne})});var Le=k(U,Ce);if(T(Le=te(Ne,Le),_))return Le.then(function(Tt){var er=W(U,Ce,Tt);er===Tt&&(U=er)});var Je=W(U,Ce,Le);Je===Le&&(U=Je)},void 0)}();return T(Be,_)?Ee=Be.then(function(){return U}):(Ee=function We(Ze,De,Qe,Fe,Ce){if(!Xe||Ze!=="$types"){var Ne=ie[Ze],Le=$(De);if(Le||R(De)){var Je=Le?new Array(De.length):{};for(j(De).forEach(function(Nt){var dn=We(Ze+(Ze?".":"")+O(Nt),De[Nt],Qe||Je,Je,Nt),Gr=function(hr){return T(hr,he)?Je[Nt]=void 0:hr!==void 0&&(Je[Nt]=hr),hr};T(dn,_)?ae.push(dn.then(function(It){return Gr(It)})):Gr(dn)}),De=Je;Ge.length;){var Tt=u(Ge[0],4),er=Tt[0],tr=Tt[1],qr=Tt[2],wr=Tt[3],kt=k(er,tr);if(kt===void 0)break;qr[wr]=kt,Ge.splice(0,1)}}if(!Ne)return De;if(Ne==="#"){var cn=k(Qe,De.slice(1));return cn===void 0&&Ge.push([Qe,De.slice(1),Fe,Ce]),cn}return[].concat(Ne).reduce(function Nt(dn,Gr){return T(dn,_)?dn.then(function(It){return Nt(It,Gr)}):te(Gr,dn)},De)}}("",U,null),ae.length&&(Ee=_.resolve(Ee).then(function(We){return _.all([We].concat(ae))}).then(function(We){return u(We,1)[0]}))),D(Ee)?ke&&Q.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():T(Ee,_)?Ee.p.then(de):Ee:!ke&&Q.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ke?de(Ee):Promise.resolve(de(Ee))}},{key:"reviveSync",value:function(U,Q){return this.revive(U,b(b({throwOnBadSyncType:!0},Q),{},{sync:!0}))}},{key:"reviveAsync",value:function(U,Q){return this.revive(U,b(b({throwOnBadSyncType:!0},Q),{},{sync:!1}))}},{key:"register",value:function(U,Q){return Q=Q||{},[].concat(U).forEach(function ie(ke){var Ge=this;if($(ke))return ke.map(function(ut){return ie.call(Ge,ut)});ke&&j(ke).forEach(function(ut){if(ut==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(L.JSON_TYPES.includes(ut))throw new TypeError("Plain JSON object types are reserved as type names");var Xe=ke[ut],vt=Xe&&Xe.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,te=vt.filter(function(Ze){return Ze.type===ut});if(te.length&&(vt.splice(vt.indexOf(te[0]),1),delete this.revivers[ut],delete this.types[ut]),typeof Xe=="function"){var ae=Xe;Xe={test:function(De){return De&&De.constructor===ae},replace:function(De){return b({},De)},revive:function(De){return Object.assign(Object.create(ae.prototype),De)}}}else if($(Xe)){var de=u(Xe,3);Xe={test:de[0],replace:de[1],revive:de[2]}}if(Xe&&Xe.test){var Ee={type:ut,test:Xe.test.bind(Xe)};Xe.replace&&(Ee.replace=Xe.replace.bind(Xe)),Xe.replaceAsync&&(Ee.replaceAsync=Xe.replaceAsync.bind(Xe));var Be=typeof Q.fallback=="number"?Q.fallback:Q.fallback?0:Number.POSITIVE_INFINITY;if(Xe.testPlainObjects?this.plainObjectReplacers.splice(Be,0,Ee):this.nonplainObjectReplacers.splice(Be,0,Ee),Xe.revive||Xe.reviveAsync){var We={};Xe.revive&&(We.revive=Xe.revive.bind(Xe)),Xe.reviveAsync&&(We.reviveAsync=Xe.reviveAsync.bind(Xe)),this.revivers[ut]=[We,{plain:Xe.testPlainObjects}]}this.types[ut]=Xe}},this)},this),this}}]),L}(),he=function L(){h(this,L)};he.__typeson__type__="TypesonUndefined",oe.Undefined=he,oe.Promise=_,oe.isThenable=D,oe.toStringTag=C,oe.hasConstructorOf=T,oe.isObject=P,oe.isPlainObject=R,oe.isUserObject=function L(B){if(!B||C(B)!=="Object")return!1;var U=S(B);return!U||T(B,Object)||L(U)},oe.escapeKeyPathComponent=O,oe.unescapeKeyPathComponent=I,oe.getByKeyPath=k,oe.getJSONType=function(B){return B===null?"null":Array.isArray(B)?"array":d(B)},oe.JSON_TYPES=["null","boolean","number","string","array","object"];for(var X={userObject:{test:function(B,U){return oe.isUserObject(B)},replace:function(B){return function(Q){for(var ie=1;ie<arguments.length;ie++){var ke=arguments[ie]!=null?arguments[ie]:{};ie%2?a(Object(ke),!0).forEach(function(Ge){o(Q,Ge,ke[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ke)):a(Object(ke)).forEach(function(Ge){Object.defineProperty(Q,Ge,Object.getOwnPropertyDescriptor(ke,Ge))})}return Q}({},B)},revive:function(B){return B}}},z=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(B,U){return!!Array.isArray(B)&&(Object.keys(B).some(function(Q){return String(Number.parseInt(Q))!==Q})&&(U.iterateIn="object",U.addLength=!0),!0)},replace:function(B,U){return U.iterateUnsetNumeric=!0,B},revive:function(B){if(Array.isArray(B))return B;var U=[];return Object.keys(B).forEach(function(Q){var ie=B[Q];U[Q]=ie}),U}}},{sparseUndefined:{test:function(B,U){return B===void 0&&U.ownKeys===!1},replace:function(B){return 0},revive:function(B){}}}],G={undef:{test:function(B,U){return B===void 0&&(U.ownKeys||!("ownKeys"in U))},replace:function(B){return 0},revive:function(B){return new oe.Undefined}}},H={StringObject:{test:function(B){return oe.toStringTag(B)==="String"&&r(B)==="object"},replace:function(B){return String(B)},revive:function(B){return new String(B)}},BooleanObject:{test:function(B){return oe.toStringTag(B)==="Boolean"&&r(B)==="object"},replace:function(B){return!!B},revive:function(B){return new Boolean(B)}},NumberObject:{test:function(B){return oe.toStringTag(B)==="Number"&&r(B)==="object"},replace:function(B){return Number(B)},revive:function(B){return new Number(B)}}},re=[{nan:{test:function(B){return Number.isNaN(B)},replace:function(B){return"NaN"},revive:function(B){return Number.NaN}}},{infinity:{test:function(B){return B===Number.POSITIVE_INFINITY},replace:function(B){return"Infinity"},revive:function(B){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(B){return B===Number.NEGATIVE_INFINITY},replace:function(B){return"-Infinity"},revive:function(B){return Number.NEGATIVE_INFINITY}}}],ne={date:{test:function(B){return oe.toStringTag(B)==="Date"},replace:function(B){var U=B.getTime();return Number.isNaN(U)?"NaN":U},revive:function(B){return B==="NaN"?new Date(Number.NaN):new Date(B)}}},_e={regexp:{test:function(B){return oe.toStringTag(B)==="RegExp"},replace:function(B){return{source:B.source,flags:(B.global?"g":"")+(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.sticky?"y":"")+(B.unicode?"u":"")}},revive:function(B){var U=B.source,Q=B.flags;return new RegExp(U,Q)}}},be={map:{test:function(B){return oe.toStringTag(B)==="Map"},replace:function(B){return l(B.entries())},revive:function(B){return new Map(B)}}},xe={set:{test:function(B){return oe.toStringTag(B)==="Set"},replace:function(B){return l(B.values())},revive:function(B){return new Set(B)}}},Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt=new Uint8Array(256),wt=0;wt<Se.length;wt++)dt[Se.charCodeAt(wt)]=wt;var Y=function(B,U,Q){Q==null&&(Q=B.byteLength);for(var ie=new Uint8Array(B,U||0,Q),ke=ie.length,Ge="",ut=0;ut<ke;ut+=3)Ge+=Se[ie[ut]>>2],Ge+=Se[(3&ie[ut])<<4|ie[ut+1]>>4],Ge+=Se[(15&ie[ut+1])<<2|ie[ut+2]>>6],Ge+=Se[63&ie[ut+2]];return ke%3==2?Ge=Ge.slice(0,-1)+"=":ke%3==1&&(Ge=Ge.slice(0,-2)+"=="),Ge},se=function(B){var U,Q,ie,ke,Ge=B.length,ut=.75*B.length,Xe=0;B[B.length-1]==="="&&(ut--,B[B.length-2]==="="&&ut--);for(var vt=new ArrayBuffer(ut),te=new Uint8Array(vt),ae=0;ae<Ge;ae+=4)U=dt[B.charCodeAt(ae)],Q=dt[B.charCodeAt(ae+1)],ie=dt[B.charCodeAt(ae+2)],ke=dt[B.charCodeAt(ae+3)],te[Xe++]=U<<2|Q>>4,te[Xe++]=(15&Q)<<4|ie>>2,te[Xe++]=(3&ie)<<6|63&ke;return vt},le={arraybuffer:{test:function(B){return oe.toStringTag(B)==="ArrayBuffer"},replace:function(B,U){U.buffers||(U.buffers=[]);var Q=U.buffers.indexOf(B);return Q>-1?{index:Q}:(U.buffers.push(B),Y(B))},revive:function(B,U){if(U.buffers||(U.buffers=[]),r(B)==="object")return U.buffers[B.index];var Q=se(B);return U.buffers.push(Q),Q}}},Ae=typeof self>"u"?KD:self,ve={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(L){var B=L,U=Ae[B];U&&(ve[L.toLowerCase()]={test:function(ie){return oe.toStringTag(ie)===B},replace:function(ie,ke){var Ge=ie.buffer,ut=ie.byteOffset,Xe=ie.length;ke.buffers||(ke.buffers=[]);var vt=ke.buffers.indexOf(Ge);return vt>-1?{index:vt,byteOffset:ut,length:Xe}:(ke.buffers.push(Ge),{encoded:Y(Ge),byteOffset:ut,length:Xe})},revive:function(ie,ke){ke.buffers||(ke.buffers=[]);var Ge,ut=ie.byteOffset,Xe=ie.length,vt=ie.encoded,te=ie.index;return"index"in ie?Ge=ke.buffers[te]:(Ge=se(vt),ke.buffers.push(Ge)),new U(Ge,ut,Xe)}})});var ye={dataview:{test:function(B){return oe.toStringTag(B)==="DataView"},replace:function(B,U){var Q=B.buffer,ie=B.byteOffset,ke=B.byteLength;U.buffers||(U.buffers=[]);var Ge=U.buffers.indexOf(Q);return Ge>-1?{index:Ge,byteOffset:ie,byteLength:ke}:(U.buffers.push(Q),{encoded:Y(Q),byteOffset:ie,byteLength:ke})},revive:function(B,U){U.buffers||(U.buffers=[]);var Q,ie=B.byteOffset,ke=B.byteLength,Ge=B.encoded,ut=B.index;return"index"in B?Q=U.buffers[ut]:(Q=se(Ge),U.buffers.push(Q)),new DataView(Q,ie,ke)}}},Te={IntlCollator:{test:function(B){return oe.hasConstructorOf(B,Intl.Collator)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.Collator(B.locale,B)}},IntlDateTimeFormat:{test:function(B){return oe.hasConstructorOf(B,Intl.DateTimeFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.DateTimeFormat(B.locale,B)}},IntlNumberFormat:{test:function(B){return oe.hasConstructorOf(B,Intl.NumberFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.NumberFormat(B.locale,B)}}};function Re(L){for(var B=new Uint8Array(L.length),U=0;U<L.length;U++)B[U]=L.charCodeAt(U);return B.buffer}var je={file:{test:function(B){return oe.toStringTag(B)==="File"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad File access: "+U.status);return{type:B.type,stringContents:U.responseText,name:B.name,lastModified:B.lastModified}},revive:function(B){var U=B.name,Q=B.type,ie=B.stringContents,ke=B.lastModified;return new File([Re(ie)],U,{type:Q,lastModified:ke})},replaceAsync:function(B){return new oe.Promise(function(U,Q){var ie=new FileReader;ie.addEventListener("load",function(){U({type:B.type,stringContents:ie.result,name:B.name,lastModified:B.lastModified})}),ie.addEventListener("error",function(){Q(ie.error)}),ie.readAsBinaryString(B)})}}},ft={bigint:{test:function(B){return typeof B=="bigint"},replace:function(B){return String(B)},revive:function(B){return BigInt(B)}}},xt={bigintObject:{test:function(B){return r(B)==="object"&&oe.hasConstructorOf(B,BigInt)},replace:function(B){return String(B)},revive:function(B){return new Object(BigInt(B))}}},Ke={cryptokey:{test:function(B){return oe.toStringTag(B)==="CryptoKey"&&B.extractable},replaceAsync:function(B){return new oe.Promise(function(U,Q){crypto.subtle.exportKey("jwk",B).catch(function(ie){Q(ie)}).then(function(ie){U({jwk:ie,algorithm:B.algorithm,usages:B.usages})})})},revive:function(B){var U=B.jwk,Q=B.algorithm,ie=B.usages;return crypto.subtle.importKey("jwk",U,Q,!0,ie)}}};return[X,G,z,H,re,ne,_e,{imagedata:{test:function(B){return oe.toStringTag(B)==="ImageData"},replace:function(B){return{array:l(B.data),width:B.width,height:B.height}},revive:function(B){return new ImageData(new Uint8ClampedArray(B.array),B.width,B.height)}}},{imagebitmap:{test:function(B){return oe.toStringTag(B)==="ImageBitmap"||B&&B.dataset&&B.dataset.toStringTag==="ImageBitmap"},replace:function(B){var U=document.createElement("canvas");return U.getContext("2d").drawImage(B,0,0),U.toDataURL()},revive:function(B){var U=document.createElement("canvas"),Q=U.getContext("2d"),ie=document.createElement("img");return ie.addEventListener("load",function(){Q.drawImage(ie,0,0)}),ie.src=B,U},reviveAsync:function(B){var U=document.createElement("canvas"),Q=U.getContext("2d"),ie=document.createElement("img");return ie.addEventListener("load",function(){Q.drawImage(ie,0,0)}),ie.src=B,createImageBitmap(U)}}},je,{file:je.file,filelist:{test:function(B){return oe.toStringTag(B)==="FileList"},replace:function(B){for(var U=[],Q=0;Q<B.length;Q++)U[Q]=B.item(Q);return U},revive:function(B){return new(function(){function U(){n(this,U),this._files=arguments[0],this.length=this._files.length}return function(ie,ke,Ge){return ke&&s(ie.prototype,ke),Ge&&s(ie,Ge),ie}(U,[{key:"item",value:function(ie){return this._files[ie]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),U}())(B)}}},{blob:{test:function(B){return oe.toStringTag(B)==="Blob"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad Blob access: "+U.status);return{type:B.type,stringContents:U.responseText}},revive:function(B){var U=B.type,Q=B.stringContents;return new Blob([Re(Q)],{type:U})},replaceAsync:function(B){return new oe.Promise(function(U,Q){var ie=new FileReader;ie.addEventListener("load",function(){U({type:B.type,stringContents:ie.result})}),ie.addEventListener("error",function(){Q(ie.error)}),ie.readAsBinaryString(B)})}}}].concat(typeof Map=="function"?be:[],typeof Set=="function"?xe:[],typeof ArrayBuffer=="function"?le:[],typeof Uint8Array=="function"?ve:[],typeof DataView=="function"?ye:[],typeof Intl<"u"?Te:[],typeof crypto<"u"?Ke:[],typeof BigInt<"u"?[ft,xt]:[])})}),Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pg=new Uint8Array(256);for(var K0=0;K0<Cf.length;K0++)pg[Cf.codePointAt(K0)]=K0;var YD=function(e,r,n){n==null&&(n=e.byteLength);for(var s=new Uint8Array(e,r||0,n),o=s.length,a="",l=0;l<o;l+=3)a+=Cf[s[l]>>2],a+=Cf[(s[l]&3)<<4|s[l+1]>>4],a+=Cf[(s[l+1]&15)<<2|s[l+2]>>6],a+=Cf[s[l+2]&63];return o%3===2?a=a.slice(0,-1)+"=":o%3===1&&(a=a.slice(0,-2)+"=="),a},oH=function(e){var r=e.length,n=e.length*.75,s=0,o,a,l,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);for(var d=new ArrayBuffer(n),h=new Uint8Array(d),g=0;g<r;g+=4)o=pg[e.codePointAt(g)],a=pg[e.codePointAt(g+1)],l=pg[e.codePointAt(g+2)],c=pg[e.codePointAt(g+3)],h[s++]=o<<2|a>>4,h[s++]=(a&15)<<4|l>>2,h[s++]=(l&3)<<6|c&63;return d},pbe=typeof self>"u"?global:self,aH={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,r=pbe[e];r&&(aH[t.toLowerCase()+"2"]={test:function(n){return _x.toStringTag(n)===e},replace:function(n){var s=n.buffer,o=n.byteOffset,a=n.length;return{buffer:s,byteOffset:o,length:a}},revive:function(n){var s=n.buffer,o=n.byteOffset,a=n.length;return new r(s,o,a)}})});var gbe={arraybuffer:{test:function(t){return _x.toStringTag(t)==="ArrayBuffer"},replace:function(t){return YD(t,0,t.byteLength)},revive:function(t){var e=oH(t);return e}}},Ss=new _x().register(hbe),mbe="FileReaderSync"in self,Pb=[],X_=0;Ss.register([gbe,aH,{blob2:{test:function(t){return _x.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(mbe){var e=sH(t,"binary"),r=YD(e,0,e.byteLength);return{type:t.type,data:r}}else{Pb.push(t);var n={type:t.type,data:{start:X_,end:X_+t.size}};return X_+=t.size,n}},finalize:function(t,e){t.data=YD(e,0,e.byteLength)},revive:function(t){var e=t.type,r=t.data;return new Blob([oH(r)],{type:e})}}}]);Ss.mustFinalize=function(){return Pb.length>0};Ss.finalize=function(t){return Ou(void 0,void 0,void 0,function(){var e,r,n,s,o,a,l,c,d,h,g,m;return co(this,function(y){switch(y.label){case 0:return[4,iH(new Blob(Pb),"binary")];case 1:if(e=y.sent(),t){for(r=0,n=t;r<n.length;r++)if(s=n[r],s.$types){o=s.$types,a=o.$,a&&(o=o.$);for(l in o)c=o[l],d=Ss.types[c],d&&d.finalize&&(h=nn.getByKeyPath(s,a?"$."+l:l),d.finalize(h,e.slice((g=h.data)===null||g===void 0?void 0:g.start,(m=h.data)===null||m===void 0?void 0:m.end)))}}return Pb=[],X_=0,[2]}})})};var vbe=2e3;function ybe(t,e){return Ou(this,void 0,void 0,function(){function r(){return Ou(this,void 0,void 0,function(){var g,m,y,b,u,f,p,v,_,w;return co(this,function(x){switch(x.label){case 0:return[4,Promise.all(s.map(function(S){return S.count()}))];case 1:g=x.sent(),g.forEach(function(S,A){return a[A].rowCount=S}),h.totalRows=g.reduce(function(S,A){return S+A}),m=JSON.stringify(c,void 0,l?2:void 0),y=m.lastIndexOf("]"),b=m.substring(0,y),o.push(b),u=e.filter,f=e.transform,p=function(S){var A,D,C,T,R,P,O,I,k,W,V,j;return co(this,function($){switch($.label){case 0:A=t.table(S),D=A.schema.primKey,C=!!D.keyPath,T=e.numRowsPerChunk||vbe,R=C?{tableName:A.name,inbound:!0,rows:[]}:{tableName:A.name,inbound:!1,rows:[]},P=JSON.stringify(R,void 0,l?2:void 0),l&&(P=P.split("\n").join("\n    ")),O=P.lastIndexOf("]"),o.push(P.substring(0,O)),I=null,k=0,W=!0,V=function(){var K,J,ue,pe,oe,G,he,X,z,G;return co(this,function(H){switch(H.label){case 0:return d&&nn.ignoreTransaction(function(){return d(h)}),K=I==null?A.limit(T):A.where(":id").above(I).limit(T),[4,K.toArray()];case 1:return J=H.sent(),J.length===0?[2,"break"]:(I!=null&&k>0&&(o.push(","),l&&o.push("\n      ")),W=J.length===T,C?(ue=u?J.filter(function(re){return u(S,re)}):J,pe=f?ue.map(function(re){return f(S,re).value}):ue,oe=pe.map(function(re){return Ss.encapsulate(re)}),Ss.mustFinalize()?[4,nn.waitFor(Ss.finalize(oe))]:[3,3]):[3,4]);case 2:H.sent(),H.label=3;case 3:return G=JSON.stringify(oe,void 0,l?2:void 0),l&&(G=G.split("\n").join("\n      ")),o.push(new Blob([G.substring(1,G.length-1)])),k=pe.length,I=J.length>0?nn.getByKeyPath(J[J.length-1],D.keyPath):null,[3,8];case 4:return[4,K.primaryKeys()];case 5:return he=H.sent(),X=he.map(function(re,ne){return[re,J[ne]]}),u&&(X=X.filter(function(re){var ne=re[0],_e=re[1];return u(S,_e,ne)})),f&&(X=X.map(function(re){var ne=re[0],_e=re[1],be=f(S,_e,ne);return[be.key,be.value]})),z=X.map(function(re){return Ss.encapsulate(re)}),Ss.mustFinalize()?[4,nn.waitFor(Ss.finalize(z))]:[3,7];case 6:H.sent(),H.label=7;case 7:G=JSON.stringify(z,void 0,l?2:void 0),l&&(G=G.split("\n").join("\n      ")),o.push(new Blob([G.substring(1,G.length-1)])),k=X.length,I=he.length>0?he[he.length-1]:null,H.label=8;case 8:return h.completedRows+=J.length,[2]}})},$.label=1;case 1:return W?[5,V()]:[3,3];case 2:return j=$.sent(),j==="break"?[3,3]:[3,1];case 3:return o.push(P.substr(O)),h.completedTables+=1,h.completedTables<h.totalTables&&o.push(","),[2]}})},v=0,_=a,x.label=2;case 2:return v<_.length?(w=_[v].name,[5,p(w)]):[3,5];case 3:x.sent(),x.label=4;case 4:return v++,[3,2];case 5:return o.push(m.substr(y)),h.done=!0,d&&nn.ignoreTransaction(function(){return d(h)}),[2]}})})}var n,s,o,a,l,c,d,h;return co(this,function(g){switch(g.label){case 0:e=e||{},n=e.skipTables?e.skipTables:[],s=t.tables.filter(function(m){return!n.includes(m.name)}),o=[],a=s.map(function(m){return{name:m.name,schema:dbe(m),rowCount:0}}),l=e.prettyJson,c={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:a,data:[]}},d=e.progressCallback,h={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:a.length},g.label=1;case 1:return g.trys.push([1,,6,7]),e.noTransaction?[4,r()]:[3,3];case 2:return g.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,r)];case 4:g.sent(),g.label=5;case 5:return[3,7];case 6:return Ss.finalize(),[7];case 7:return[2,new Blob(o,{type:"text/json"})]}})})}var _be=1,bbe={Stream:function(){}},wbe=eI(function(t,e){(function(r){var n=typeof process=="object"&&process.env?process.env:self;r.parser=function(C){return new y(C)},r.CParser=y,r.CStream=u,r.createStream=b,r.MAX_BUFFER_LENGTH=10*1024*1024,r.DEBUG=n.CDEBUG==="debug",r.INFO=n.CDEBUG==="debug"||n.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},o=r.EVENTS.filter(function(C){return C!=="error"&&C!=="end"}),a=0,l;r.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var c in r.STATE)r.STATE[r.STATE[c]]=c;a=r.STATE;const d={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(C){function T(){this.__proto__=C}return T.prototype=C,new T}),Object.getPrototypeOf||(Object.getPrototypeOf=function(C){return C.__proto__}),Object.keys||(Object.keys=function(C){var T=[];for(var R in C)C.hasOwnProperty(R)&&T.push(R);return T});function h(C){var T=Math.max(r.MAX_BUFFER_LENGTH,10),R=0;for(var P in s){var O=C[P]===void 0?0:C[P].length;if(O>T)switch(P){case"text":closeText(C);break;default:x(C,"Max buffer length exceeded: "+P)}R=Math.max(R,O)}C.bufferCheckPosition=r.MAX_BUFFER_LENGTH-R+C.position}function g(C){for(var T in s)C[T]=s[T]}var m=/[\\"\n]/g;function y(C){if(!(this instanceof y))return new y(C);var T=this;g(T),T.bufferCheckPosition=r.MAX_BUFFER_LENGTH,T.q=T.c=T.p="",T.opt=C||{},T.closed=T.closedRoot=T.sawRoot=!1,T.tag=T.error=null,T.state=a.BEGIN,T.stack=new Array,T.position=T.column=0,T.line=1,T.slashed=!1,T.unicodeI=0,T.unicodeS=null,T.depth=0,f(T,"onready")}y.prototype={end:function(){S(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=bbe.Stream}catch(C){l=function(){}}function b(C){return new u(C)}function u(C){if(!(this instanceof u))return new u(C);this._parser=new y(C),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var T=this;l.apply(T),this._parser.onend=function(){T.emit("end")},this._parser.onerror=function(R){T.emit("error",R),T._parser.error=null},o.forEach(function(R){Object.defineProperty(T,"on"+R,{get:function(){return T._parser["on"+R]},set:function(P){if(!P)return T.removeAllListeners(R),T._parser["on"+R]=P,P;T.on(R,P)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(l.prototype,{constructor:{value:u}}),u.prototype.write=function(C){C=new Buffer(C);for(var T=0;T<C.length;T++){var R=C[T];if(this.bytes_remaining>0){for(var P=0;P<this.bytes_remaining;P++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+P]=C[P];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,T=T+P-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&R>=128)if(R>=194&&R<=223&&(this.bytes_in_sequence=2),R>=224&&R<=239&&(this.bytes_in_sequence=3),R>=240&&R<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+T>C.length){for(var O=0;O<=C.length-1-T;O++)this.temp_buffs[this.bytes_in_sequence][O]=C[T+O];return this.bytes_remaining=T+this.bytes_in_sequence-C.length,!0}else{this.string=C.slice(T,T+this.bytes_in_sequence).toString(),T=T+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var I=T;I<C.length&&!(C[I]>=128);I++);this.string=C.slice(T,I).toString(),this._parser.write(this.string),this.emit("data",this.string),T=I-1}},u.prototype.end=function(C){return C&&C.length&&this._parser.write(C.toString()),this._parser.end(),!0},u.prototype.on=function(C,T){var R=this;return!R._parser["on"+C]&&o.indexOf(C)!==-1&&(R._parser["on"+C]=function(){var P=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,C),R.emit.apply(R,P)}),l.prototype.on.call(R,C,T)},u.prototype.destroy=function(){g(this._parser),this.emit("close")};function f(C,T,R){r.INFO&&console.log("-- emit",T,R),C[T]&&C[T](R)}function p(C,T,R){v(C),f(C,T,R)}function v(C,T){C.textNode=w(C.opt,C.textNode),C.textNode!==void 0&&f(C,T||"onvalue",C.textNode),C.textNode=void 0}function _(C){C.numberNode&&f(C,"onvalue",parseFloat(C.numberNode)),C.numberNode=""}function w(C,T){return T===void 0||(C.trim&&(T=T.trim()),C.normalize&&(T=T.replace(/\s+/g," "))),T}function x(C,T){return v(C),T+="\nLine: "+C.line+"\nColumn: "+C.column+"\nChar: "+C.c,T=new Error(T),C.error=T,f(C,"onerror",T),C}function S(C){return(C.state!==a.VALUE||C.depth!==0)&&x(C,"Unexpected end"),v(C),C.c="",C.closed=!0,f(C,"onend"),y.call(C,C.opt),C}function A(C){return C===d.carriageReturn||C===d.lineFeed||C===d.space||C===d.tab}function D(C){var T=this;if(this.error)throw this.error;if(T.closed)return x(T,"Cannot write after close. Assign an onready handler.");if(C===null)return S(T);var R=0,P=C.charCodeAt(0),O=T.p;for(r.DEBUG&&console.log("write -> ["+C+"]");P&&(O=P,T.c=P=C.charCodeAt(R++),O!==P?T.p=O:O=T.p,!!P);)switch(r.DEBUG&&console.log(R,P,r.STATE[T.state]),T.position++,P===d.lineFeed?(T.line++,T.column=0):T.column++,T.state){case a.BEGIN:P===d.openBrace?T.state=a.OPEN_OBJECT:P===d.openBracket?T.state=a.OPEN_ARRAY:A(P)||x(T,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(A(P))continue;if(T.state===a.OPEN_KEY)T.stack.push(a.CLOSE_KEY);else if(P===d.closeBrace){f(T,"onopenobject"),this.depth++,f(T,"oncloseobject"),this.depth--,T.state=T.stack.pop()||a.VALUE;continue}else T.stack.push(a.CLOSE_OBJECT);P===d.doubleQuote?T.state=a.STRING:x(T,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(A(P))continue;T.state,a.CLOSE_KEY,P===d.colon?(T.state===a.CLOSE_OBJECT?(T.stack.push(a.CLOSE_OBJECT),v(T,"onopenobject"),this.depth++):v(T,"onkey"),T.state=a.VALUE):P===d.closeBrace?(p(T,"oncloseobject"),this.depth--,T.state=T.stack.pop()||a.VALUE):P===d.comma?(T.state===a.CLOSE_OBJECT&&T.stack.push(a.CLOSE_OBJECT),v(T),T.state=a.OPEN_KEY):x(T,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(A(P))continue;if(T.state===a.OPEN_ARRAY)if(f(T,"onopenarray"),this.depth++,T.state=a.VALUE,P===d.closeBracket){f(T,"onclosearray"),this.depth--,T.state=T.stack.pop()||a.VALUE;continue}else T.stack.push(a.CLOSE_ARRAY);P===d.doubleQuote?T.state=a.STRING:P===d.openBrace?T.state=a.OPEN_OBJECT:P===d.openBracket?T.state=a.OPEN_ARRAY:P===d.t?T.state=a.TRUE:P===d.f?T.state=a.FALSE:P===d.n?T.state=a.NULL:P===d.minus?T.numberNode+="-":d._0<=P&&P<=d._9?(T.numberNode+=String.fromCharCode(P),T.state=a.NUMBER_DIGIT):x(T,"Bad value");continue;case a.CLOSE_ARRAY:if(P===d.comma)T.stack.push(a.CLOSE_ARRAY),v(T,"onvalue"),T.state=a.VALUE;else if(P===d.closeBracket)p(T,"onclosearray"),this.depth--,T.state=T.stack.pop()||a.VALUE;else{if(A(P))continue;x(T,"Bad array")}continue;case a.STRING:T.textNode===void 0&&(T.textNode="");var I=R-1,k=T.slashed,W=T.unicodeI;e:for(;;){for(r.DEBUG&&console.log(R,P,r.STATE[T.state],k);W>0;)if(T.unicodeS+=String.fromCharCode(P),P=C.charCodeAt(R++),T.position++,W===4?(T.textNode+=String.fromCharCode(parseInt(T.unicodeS,16)),W=0,I=R-1):W++,!P)break e;if(P===d.doubleQuote&&!k){T.state=T.stack.pop()||a.VALUE,T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}if(P===d.backslash&&!k&&(k=!0,T.textNode+=C.substring(I,R-1),T.position+=R-1-I,P=C.charCodeAt(R++),T.position++,!P))break;if(k){if(k=!1,P===d.n?T.textNode+="\n":P===d.r?T.textNode+="\r":P===d.t?T.textNode+="	":P===d.f?T.textNode+="\f":P===d.b?T.textNode+="\b":P===d.u?(W=1,T.unicodeS=""):T.textNode+=String.fromCharCode(P),P=C.charCodeAt(R++),T.position++,I=R-1,P)continue;break}m.lastIndex=R;var V=m.exec(C);if(V===null){R=C.length+1,T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}if(R=V.index+1,P=C.charCodeAt(V.index),!P){T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}}T.slashed=k,T.unicodeI=W;continue;case a.TRUE:P===d.r?T.state=a.TRUE2:x(T,"Invalid true started with t"+P);continue;case a.TRUE2:P===d.u?T.state=a.TRUE3:x(T,"Invalid true started with tr"+P);continue;case a.TRUE3:P===d.e?(f(T,"onvalue",!0),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid true started with tru"+P);continue;case a.FALSE:P===d.a?T.state=a.FALSE2:x(T,"Invalid false started with f"+P);continue;case a.FALSE2:P===d.l?T.state=a.FALSE3:x(T,"Invalid false started with fa"+P);continue;case a.FALSE3:P===d.s?T.state=a.FALSE4:x(T,"Invalid false started with fal"+P);continue;case a.FALSE4:P===d.e?(f(T,"onvalue",!1),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid false started with fals"+P);continue;case a.NULL:P===d.u?T.state=a.NULL2:x(T,"Invalid null started with n"+P);continue;case a.NULL2:P===d.l?T.state=a.NULL3:x(T,"Invalid null started with nu"+P);continue;case a.NULL3:P===d.l?(f(T,"onvalue",null),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid null started with nul"+P);continue;case a.NUMBER_DECIMAL_POINT:P===d.period?(T.numberNode+=".",T.state=a.NUMBER_DIGIT):x(T,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:d._0<=P&&P<=d._9?T.numberNode+=String.fromCharCode(P):P===d.period?(T.numberNode.indexOf(".")!==-1&&x(T,"Invalid number has two dots"),T.numberNode+="."):P===d.e||P===d.E?((T.numberNode.indexOf("e")!==-1||T.numberNode.indexOf("E")!==-1)&&x(T,"Invalid number has two exponential"),T.numberNode+="e"):P===d.plus||P===d.minus?(O===d.e||O===d.E||x(T,"Invalid symbol in number"),T.numberNode+=String.fromCharCode(P)):(_(T),R--,T.state=T.stack.pop()||a.VALUE);continue;default:x(T,"Unknown state: "+T.state)}return T.position>=T.bufferCheckPosition&&h(T),T}})(e)});function xbe(t){var e=0,r=Ebe(!0),n={pullAsync:function(s){return Ou(this,void 0,void 0,function(){var o,a,l;return co(this,function(c){switch(c.label){case 0:return o=t.slice(e,e+s),e+=s,[4,iH(o,"text")];case 1:return a=c.sent(),l=r.write(a),n.result=l||{},[2,l]}})})},pullSync:function(s){var o=t.slice(e,e+s);e+=s;var a=sH(o,"text"),l=r.write(a);return n.result=l||{},l},done:function(){return r.done()},eof:function(){return e>=t.size},result:{}};return n}function Ebe(t){var e=wbe.parser(),r=0,n,s=[],o,a,l=!1,c=!1;return e.onopenobject=function(d){var h={};h.incomplete=!0,n||(n=h),o&&(s.push([a,o,c]),t&&(c?o.push(h):o[a]=h)),o=h,a=d,c=!1,++r},e.onkey=function(d){return a=d},e.onvalue=function(d){return c?o.push(d):o[a]=d},e.oncloseobject=function(){var d;if(delete o.incomplete,a=null,--r===0)l=!0;else{var h=o;d=s.pop(),a=d[0],o=d[1],c=d[2],t||(c?o.push(h):o[a]=h)}},e.onopenarray=function(){var d=[];d.incomplete=!0,n||(n=d),o&&(s.push([a,o,c]),t&&(c?o.push(d):o[a]=d)),o=d,c=!0,a=null,++r},e.onclosearray=function(){var d;if(delete o.incomplete,a=null,--r===0)l=!0;else{var h=o;d=s.pop(),a=d[0],o=d[1],c=d[2],t||(c?o.push(h):o[a]=h)}},{write:function(d){return e.write(d),n},done:function(){return l}}}var lH=1024;function Sbe(t,e){return Ou(this,void 0,void 0,function(){var r,n,s,o;return co(this,function(a){switch(a.label){case 0:return e=e||{},r=e.chunkSizeBytes||lH*1024,[4,cH(t,r)];case 1:return n=a.sent(),s=n.result.data,o=new nn(e.name!==void 0?e.name:s.databaseName),o.version(s.databaseVersion).stores(fbe(s)),[4,uH(o,n,e.name!==void 0?Db(Db({},e),{acceptNameDiff:!0}):e)];case 2:return a.sent(),[2,o]}})})}function uH(t,e,r){return Ou(this,void 0,void 0,function(){function n(){return Ou(this,void 0,void 0,function(){var u,f,p,v,_;return co(this,function(w){switch(w.label){case 0:u=function(x){var S,A,D,C,T,R,P,O,I,k,W,V,j;return co(this,function($){switch($.label){case 0:if(d.includes(x.tableName))return[2,"continue"];if(!x.rows)return[2,"break"];if(!x.rows.incomplete&&x.rows.length===0)return[2,"continue"];if(h&&nn.ignoreTransaction(function(){return h(g)}),S=x.tableName,A=t.table(S),D=c.tables.filter(function(K){return K.name===S})[0].schema,!A){if(r.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(x.tableName," is missing in installed database"))}if(!r.acceptChangedPrimaryKey&&D.split(",")[0]!=A.schema.primKey.src)throw new Error("Primary key differs for table ".concat(x.tableName,". "));for(C=x.rows,T=[],R=0;R<C.length&&(P=C[R],!P.incomplete);R++)T.push(Ss.revive(P));return O=r.filter,I=r.transform,k=O?x.inbound?T.filter(function(K){return O(S,K)}):T.filter(function(K){var J=K[0],ue=K[1];return O(S,ue,J)}):T,I&&(k=k.map(x.inbound?function(K){return I(S,K).value}:function(K){var J=K[0],ue=K[1],pe=I(S,ue,J);return[pe.key,pe.value]})),W=x.inbound?[void 0,k]:[k.map(function(K){return K[0]}),T.map(function(K){return K[1]})],V=W[0],j=W[1],r.overwriteValues?[4,A.bulkPut(j,V)]:[3,2];case 1:return $.sent(),[3,4];case 2:return[4,A.bulkAdd(j,V)];case 3:$.sent(),$.label=4;case 4:return g.completedRows+=T.length,T.incomplete||(g.completedTables+=1),C.splice(0,T.length),[2]}})},f=0,p=c.data,w.label=1;case 1:return f<p.length?(v=p[f],[5,u(v)]):[3,4];case 2:if(_=w.sent(),_==="break")return[3,4];w.label=3;case 3:return f++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!o.done()&&!o.eof()?l?(o.pullSync(s),[3,7]):[3,5]:[3,8];case 5:return[4,nn.waitFor(o.pullAsync(s))];case 6:w.sent(),w.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var s,o,a,l,c,d,h,g,m,y,b;return co(this,function(u){switch(u.label){case 0:return r=r||{},s=r.chunkSizeBytes||lH*1024,[4,cH(e,s)];case 1:if(o=u.sent(),a=o.result,l="FileReaderSync"in self,c=a.data,d=r.skipTables?r.skipTables:[],!r.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(t.name," but export is ").concat(c.databaseName));if(!r.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(t.verno," but export is ").concat(c.databaseVersion));if(h=r.progressCallback,g={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(f,p){return f+p.rowCount},0),totalTables:c.tables.length},h&&nn.ignoreTransaction(function(){return h(g)}),!r.clearTablesBeforeImport)return[3,5];m=0,y=t.tables,u.label=2;case 2:return m<y.length?(b=y[m],d.includes(b.name)?[3,4]:[4,b.clear()]):[3,5];case 3:u.sent(),u.label=4;case 4:return m++,[3,2];case 5:return r.noTransaction?[4,n()]:[3,7];case 6:return u.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,n)];case 8:u.sent(),u.label=9;case 9:return g.done=!0,h&&nn.ignoreTransaction(function(){return h(g)}),[2]}})})}function cH(t,e){return Ou(this,void 0,void 0,function(){var r,n;return co(this,function(s){switch(s.label){case 0:r="slice"in t?xbe(t):t,s.label=1;case 1:return r.eof()?[3,3]:[4,r.pullAsync(e)];case 2:return s.sent(),r.result.data&&r.result.data.data?[3,3]:[3,1];case 3:if(n=r.result,!n||n.formatName!="dexie")throw new Error("Given file is not a dexie export");if(n.formatVersion>_be)throw new Error("Format version ".concat(n.formatVersion," not supported"));if(!n.data)throw new Error("No data in export file");if(!n.data.databaseName)throw new Error("Missing databaseName in export file");if(!n.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!n.data.tables)throw new Error("Missing tables in export file");return[2,r]}})})}nn.prototype.export=function(t){return ybe(this,t)};nn.prototype.import=function(t,e){return uH(this,t,e)};nn.import=function(t,e){return Sbe(t,e)};function Cbe(t,e,r){var n,s;typeof t=="function"?(n=e||[],s=r):(n=[],s=e);var o=Z.useRef({hasResult:!1,result:s,error:null}),a=Z.useReducer(function(d){return d+1},0);a[0];var l=a[1],c=Z.useMemo(function(){var d=typeof t=="function"?t():t;if(!d||typeof d.subscribe!="function")throw t===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")o.current.result=d.getValue(),o.current.hasResult=!0;else{var h=d.subscribe(function(g){o.current.result=g,o.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return d},n);if(Z.useDebugValue(o.current.result),Z.useEffect(function(){var d=c.subscribe(function(h){var g=o.current;(g.error!==null||g.result!==h)&&(g.error=null,g.result=h,g.hasResult=!0,l())},function(h){var g=o.current;g.error!==h&&(g.error=h,l())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),o.current.error)throw o.current.error;return o.current.result}function TWe(t,e,r){return Cbe(function(){return nH(t)},e||[],r)}function Abe(t,e){const r=E.createContext(e),n=o=>{const{children:a,...l}=o,c=E.useMemo(()=>l,Object.values(l));return F.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(o){const a=E.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error("`".concat(o,"` must be used within `").concat(t,"`"))}return[n,s]}function ep(t,e=[]){let r=[];function n(o,a){const l=E.createContext(a),c=r.length;r=[...r,a];const d=g=>{var p;const{scope:m,children:y,...b}=g,u=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,f=E.useMemo(()=>b,Object.values(b));return F.jsx(u.Provider,{value:f,children:y})};d.displayName=o+"Provider";function h(g,m){var u;const y=((u=m==null?void 0:m[t])==null?void 0:u[c])||l,b=E.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error("`".concat(g,"` must be used within `").concat(o,"`"))}return[d,h]}const s=()=>{const o=r.map(a=>E.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Tbe(s,...e)]}function Tbe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const g=c(o)["__scope".concat(d)];return{...l,...g}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:a}),[a])}};return r.scopeName=e.scopeName,r}var Dbe="DismissableLayer",XD="dismissableLayer.update",Pbe="dismissableLayer.pointerDownOutside",Rbe="dismissableLayer.focusOutside",Y3,dH=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bx=E.forwardRef((t,e)=>{var A;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=E.useContext(dH),[h,g]=E.useState(null),m=(A=h==null?void 0:h.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),b=yt(e,D=>g(D)),u=Array.from(d.layers),[f]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(f),v=h?u.indexOf(h):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,x=Ibe(D=>{const C=D.target,T=[...d.branches].some(R=>R.contains(C));!w||T||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},m),S=Bbe(D=>{const C=D.target;[...d.branches].some(R=>R.contains(C))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},m);return QG(D=>{v===d.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},m),E.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Y3=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),X3(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Y3)}},[h,m,r,d]),E.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),X3())},[h,d]),E.useEffect(()=>{const D=()=>y({});return document.addEventListener(XD,D),()=>document.removeEventListener(XD,D)},[]),F.jsx(Ye.div,{...c,ref:b,style:{pointerEvents:_?w?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,x.onPointerDownCapture)})});bx.displayName=Dbe;var Obe="DismissableLayerBranch",fH=E.forwardRef((t,e)=>{const r=E.useContext(dH),n=E.useRef(null),s=yt(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),F.jsx(Ye.div,{...t,ref:s})});fH.displayName=Obe;function Ibe(t,e=globalThis==null?void 0:globalThis.document){const r=ir(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){hH(Pbe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Bbe(t,e=globalThis==null?void 0:globalThis.document){const r=ir(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&hH(Rbe,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function X3(){const t=new CustomEvent(XD);document.dispatchEvent(t)}function hH(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?sy(s,o):s.dispatchEvent(o)}var Fbe=bx,Mbe=fH,rC=0;function pH(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:q3()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:q3()),rC++,()=>{rC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),rC--}},[])}function q3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kbe="Portal",wx=E.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=E.useState(!1);ln(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?G2.createPortal(F.jsx(Ye.div,{...n,ref:e}),a):null});wx.displayName=kbe;function Nbe(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var gl=t=>{const{present:e,children:r}=t,n=Lbe(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=yt(n.ref,Ube(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};gl.displayName="Presence";function Lbe(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[l,c]=Nbe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Y0(n.current);o.current=l==="mounted"?d:"none"},[l]),ln(()=>{const d=n.current,h=s.current;if(h!==t){const m=o.current,y=Y0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ln(()=>{var d;if(e){let h;const g=(d=e.ownerDocument.defaultView)!=null?d:window,m=b=>{const f=Y0(n.current).includes(b.animationName);if(b.target===e&&f&&(c("ANIMATION_END"),!s.current)){const p=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=p)})}},y=b=>{b.target===e&&(o.current=Y0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Y0(t){return(t==null?void 0:t.animationName)||"none"}function Ube(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gH=O9(),nC=function(){},xx=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:nC,onWheelCapture:nC,onTouchMoveCapture:nC}),s=n[0],o=n[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,y=t.noIsolation,b=t.inert,u=t.allowPinchZoom,f=t.as,p=f===void 0?"div":f,v=t.gapMode,_=RO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,x=R9([r,e]),S=Hn(Hn({},_),s);return E.createElement(E.Fragment,null,h&&E.createElement(w,{sideCar:gH,removeScrollBar:d,shards:g,noIsolation:y,inert:b,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),a?E.cloneElement(E.Children.only(l),Hn(Hn({},S),{ref:x})):E.createElement(p,Hn({},S,{className:c,ref:x}),l))});xx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xx.classNames={fullWidth:zg,zeroRight:jg};var qD=!1;if(typeof window<"u")try{var X0=Object.defineProperty({},"passive",{get:function(){return qD=!0,!0}});window.addEventListener("test",X0,X0),window.removeEventListener("test",X0,X0)}catch(t){qD=!1}var Wd=qD?{passive:!1}:!1,$be=function(t){return t.tagName==="TEXTAREA"},mH=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$be(t)&&r[e]==="visible")},jbe=function(t){return mH(t,"overflowY")},zbe=function(t){return mH(t,"overflowX")},Z3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=vH(t,n);if(s){var o=yH(t,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Gbe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Vbe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},vH=function(t,e){return t==="v"?jbe(e):zbe(e)},yH=function(t,e){return t==="v"?Gbe(e):Vbe(e)},Hbe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wbe=function(t,e,r,n,s){var o=Hbe(t,window.getComputedStyle(e).direction),a=o*n,l=r.target,c=e.contains(l),d=!1,h=a>0,g=0,m=0;do{var y=yH(t,l),b=y[0],u=y[1],f=y[2],p=u-f-o*b;(b||p)&&vH(t,l)&&(g+=p,m+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(s&&Math.abs(g)<1||!s&&a>g)||!h&&(s&&Math.abs(m)<1||!s&&-a>m))&&(d=!0),d},q0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q3=function(t){return[t.deltaX,t.deltaY]},J3=function(t){return t&&"current"in t?t.current:t},Kbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ybe=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},Xbe=0,Kd=[];function qbe(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(Xbe++)[0],o=E.useState(OO)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=P9([t.lockRef.current],(t.shards||[]).map(J3),!0).filter(Boolean);return u.forEach(function(f){return f.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(u,f){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!a.current.allowPinchZoom;var p=q0(u),v=r.current,_="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],x,S=u.target,A=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in u&&A==="h"&&S.type==="range")return!1;var D=Z3(A,S);if(!D)return!0;if(D?x=A:(x=A==="v"?"h":"v",D=Z3(A,S)),!D)return!1;if(!n.current&&"changedTouches"in u&&(_||w)&&(n.current=x),!x)return!0;var C=n.current||x;return Wbe(C,f,u,C==="h"?_:w,!0)},[]),c=E.useCallback(function(u){var f=u;if(!(!Kd.length||Kd[Kd.length-1]!==o)){var p="deltaY"in f?Q3(f):q0(f),v=e.current.filter(function(x){return x.name===f.type&&(x.target===f.target||f.target===x.shadowParent)&&Kbe(x.delta,p)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var _=(a.current.shards||[]).map(J3).filter(Boolean).filter(function(x){return x.contains(f.target)}),w=_.length>0?l(f,_[0]):!a.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),d=E.useCallback(function(u,f,p,v){var _={name:u,delta:f,target:p,should:v,shadowParent:Zbe(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(w){return w!==_})},1)},[]),h=E.useCallback(function(u){r.current=q0(u),n.current=void 0},[]),g=E.useCallback(function(u){d(u.type,Q3(u),u.target,l(u,t.lockRef.current))},[]),m=E.useCallback(function(u){d(u.type,q0(u),u.target,l(u,t.lockRef.current))},[]);E.useEffect(function(){return Kd.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Wd),document.addEventListener("touchmove",c,Wd),document.addEventListener("touchstart",h,Wd),function(){Kd=Kd.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,Wd),document.removeEventListener("touchmove",c,Wd),document.removeEventListener("touchstart",h,Wd)}},[]);var y=t.removeScrollBar,b=t.inert;return E.createElement(E.Fragment,null,b?E.createElement(o,{styles:Ybe(s)}):null,y?E.createElement(M9,{gapMode:t.gapMode}):null)}function Zbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qbe=B9(gH,qbe);var _H=E.forwardRef(function(t,e){return E.createElement(xx,Hn({},t,{ref:e,sideCar:Qbe}))});_H.classNames=xx.classNames;const bH=_H;var ZD=["Enter"," "],Jbe=["ArrowDown","PageUp","Home"],wH=["ArrowUp","PageDown","End"],ewe=[...Jbe,...wH],twe={ltr:[...ZD,"ArrowRight"],rtl:[...ZD,"ArrowLeft"]},rwe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yy="Menu",[cv,nwe,iwe]=bd(yy),[Cd,swe]=ep(yy,[iwe,da,Xs]),Ex=da(),xH=Xs(),[owe,Ad]=Cd(yy),[awe,_y]=Cd(yy),EH=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,l=Ex(e),[c,d]=E.useState(null),h=E.useRef(!1),g=ir(o),m=ua(s);return E.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),F.jsx(Xh,{...l,children:F.jsx(owe,{scope:e,open:r,onOpenChange:g,content:c,onContentChange:d,children:F.jsx(awe,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:m,modal:a,children:n})})})};EH.displayName=yy;var lwe="MenuAnchor",tI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Ex(r);return F.jsx(qh,{...s,...n,ref:e})});tI.displayName=lwe;var rI="MenuPortal",[uwe,SH]=Cd(rI,{forceMount:void 0}),CH=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Ad(rI,e);return F.jsx(uwe,{scope:e,forceMount:r,children:F.jsx(gl,{present:r||o.open,children:F.jsx(wx,{asChild:!0,container:s,children:n})})})};CH.displayName=rI;var zs="MenuContent",[cwe,nI]=Cd(zs),AH=E.forwardRef((t,e)=>{const r=SH(zs,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Ad(zs,t.__scopeMenu),a=_y(zs,t.__scopeMenu);return F.jsx(cv.Provider,{scope:t.__scopeMenu,children:F.jsx(gl,{present:n||o.open,children:F.jsx(cv.Slot,{scope:t.__scopeMenu,children:a.modal?F.jsx(dwe,{...s,ref:e}):F.jsx(fwe,{...s,ref:e})})})})}),dwe=E.forwardRef((t,e)=>{const r=Ad(zs,t.__scopeMenu),n=E.useRef(null),s=yt(e,n);return E.useEffect(()=>{const o=n.current;if(o)return dy(o)},[]),F.jsx(iI,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fwe=E.forwardRef((t,e)=>{const r=Ad(zs,t.__scopeMenu);return F.jsx(iI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),iI=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...u}=t,f=Ad(zs,r),p=_y(zs,r),v=Ex(r),_=xH(r),w=nwe(r),[x,S]=E.useState(null),A=E.useRef(null),D=yt(e,A,f.onContentChange),C=E.useRef(0),T=E.useRef(""),R=E.useRef(0),P=E.useRef(null),O=E.useRef("right"),I=E.useRef(0),k=b?bH:E.Fragment,W=b?{as:na,allowPinchZoom:!0}:void 0,V=$=>{var z,G;const K=T.current+$,J=w().filter(H=>!H.disabled),ue=document.activeElement,pe=(z=J.find(H=>H.ref.current===ue))==null?void 0:z.textValue,oe=J.map(H=>H.textValue),he=Swe(oe,K,pe),X=(G=J.find(H=>H.textValue===he))==null?void 0:G.ref.current;(function H(re){T.current=re,window.clearTimeout(C.current),re!==""&&(C.current=window.setTimeout(()=>H(""),1e3))})(K),X&&setTimeout(()=>X.focus())};E.useEffect(()=>()=>window.clearTimeout(C.current),[]),pH();const j=E.useCallback($=>{var J,ue;return O.current===((J=P.current)==null?void 0:J.side)&&Awe($,(ue=P.current)==null?void 0:ue.area)},[]);return F.jsx(cwe,{scope:r,searchRef:T,onItemEnter:E.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:E.useCallback($=>{var K;j($)||((K=A.current)==null||K.focus(),S(null))},[j]),onTriggerLeave:E.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:R,onPointerGraceIntentChange:E.useCallback($=>{P.current=$},[]),children:F.jsx(k,{...W,children:F.jsx(Wh,{asChild:!0,trapped:s,onMountAutoFocus:fe(o,$=>{var K;$.preventDefault(),(K=A.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:F.jsx(bx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:y,children:F.jsx(Zh,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,$=>{p.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(ly,{role:"menu","aria-orientation":"vertical","data-state":zH(f.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:D,style:{outline:"none",...u.style},onKeyDown:fe(u.onKeyDown,$=>{const J=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ue=$.ctrlKey||$.altKey||$.metaKey,pe=$.key.length===1;J&&($.key==="Tab"&&$.preventDefault(),!ue&&pe&&V($.key));const oe=A.current;if($.target!==oe||!ewe.includes($.key))return;$.preventDefault();const X=w().filter(z=>!z.disabled).map(z=>z.ref.current);wH.includes($.key)&&X.reverse(),xwe(X)}),onBlur:fe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:fe(t.onPointerMove,dv($=>{const K=$.target,J=I.current!==$.clientX;if($.currentTarget.contains(K)&&J){const ue=$.clientX>I.current?"right":"left";O.current=ue,I.current=$.clientX}}))})})})})})})});AH.displayName=zs;var hwe="MenuGroup",sI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{role:"group",...n,ref:e})});sI.displayName=hwe;var pwe="MenuLabel",TH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{...n,ref:e})});TH.displayName=pwe;var Rb="MenuItem",eL="menu.itemSelect",Sx=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),a=_y(Rb,t.__scopeMenu),l=nI(Rb,t.__scopeMenu),c=yt(e,o),d=E.useRef(!1),h=()=>{const g=o.current;if(!r&&g){const m=new CustomEvent(eL,{bubbles:!0,cancelable:!0});g.addEventListener(eL,y=>n==null?void 0:n(y),{once:!0}),sy(g,m),m.defaultPrevented?d.current=!1:a.onClose()}};return F.jsx(DH,{...s,ref:c,disabled:r,onClick:fe(t.onClick,h),onPointerDown:g=>{var m;(m=t.onPointerDown)==null||m.call(t,g),d.current=!0},onPointerUp:fe(t.onPointerUp,g=>{var m;d.current||(m=g.currentTarget)==null||m.click()}),onKeyDown:fe(t.onKeyDown,g=>{const m=l.searchRef.current!=="";r||m&&g.key===" "||ZD.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Sx.displayName=Rb;var DH=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=nI(Rb,r),l=xH(r),c=E.useRef(null),d=yt(e,c),[h,g]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{var u;const b=c.current;b&&y(((u=b.textContent)!=null?u:"").trim())},[o.children]),F.jsx(cv.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:m,children:F.jsx(wd,{asChild:!0,...l,focusable:!n,children:F.jsx(Ye.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:fe(t.onPointerMove,dv(b=>{n?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,dv(b=>a.onItemLeave(b))),onFocus:fe(t.onFocus,()=>g(!0)),onBlur:fe(t.onBlur,()=>g(!1))})})})}),gwe="MenuCheckboxItem",PH=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return F.jsx(FH,{scope:t.__scopeMenu,checked:r,children:F.jsx(Sx,{role:"menuitemcheckbox","aria-checked":Ob(r)?"mixed":r,...s,ref:e,"data-state":aI(r),onSelect:fe(s.onSelect,()=>n==null?void 0:n(Ob(r)?!0:!r),{checkForDefaultPrevented:!1})})})});PH.displayName=gwe;var RH="MenuRadioGroup",[mwe,vwe]=Cd(RH,{value:void 0,onValueChange:()=>{}}),OH=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=ir(n);return F.jsx(mwe,{scope:t.__scopeMenu,value:r,onValueChange:o,children:F.jsx(sI,{...s,ref:e})})});OH.displayName=RH;var IH="MenuRadioItem",BH=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=vwe(IH,t.__scopeMenu),o=r===s.value;return F.jsx(FH,{scope:t.__scopeMenu,checked:o,children:F.jsx(Sx,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":aI(o),onSelect:fe(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});BH.displayName=IH;var oI="MenuItemIndicator",[FH,ywe]=Cd(oI,{checked:!1}),MH=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=ywe(oI,r);return F.jsx(gl,{present:n||Ob(o.checked)||o.checked===!0,children:F.jsx(Ye.span,{...s,ref:e,"data-state":aI(o.checked)})})});MH.displayName=oI;var _we="MenuSeparator",kH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});kH.displayName=_we;var bwe="MenuArrow",NH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Ex(r);return F.jsx(uy,{...s,...n,ref:e})});NH.displayName=bwe;var wwe="MenuSub",[DWe,LH]=Cd(wwe),gg="MenuSubTrigger",UH=E.forwardRef((t,e)=>{const r=Ad(gg,t.__scopeMenu),n=_y(gg,t.__scopeMenu),s=LH(gg,t.__scopeMenu),o=nI(gg,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),c(null)}},[l,c]),F.jsx(tI,{asChild:!0,...d,children:F.jsx(DH,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":zH(r.open),...t,ref:iy(e,s.onTriggerChange),onClick:g=>{var m;(m=t.onClick)==null||m.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,dv(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:fe(t.onPointerLeave,dv(g=>{var y,b;h();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const u=(b=r.content)==null?void 0:b.dataset.side,f=u==="right",p=f?-5:5,v=m[f?"left":"right"],_=m[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+p,y:g.clientY},{x:v,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:v,y:m.bottom}],side:u}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,g=>{var y;const m=o.searchRef.current!=="";t.disabled||m&&g.key===" "||twe[n.dir].includes(g.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),g.preventDefault())})})})});UH.displayName=gg;var $H="MenuSubContent",jH=E.forwardRef((t,e)=>{const r=SH(zs,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Ad(zs,t.__scopeMenu),a=_y(zs,t.__scopeMenu),l=LH($H,t.__scopeMenu),c=E.useRef(null),d=yt(e,c);return F.jsx(cv.Provider,{scope:t.__scopeMenu,children:F.jsx(gl,{present:n||o.open,children:F.jsx(cv.Slot,{scope:t.__scopeMenu,children:F.jsx(iI,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:fe(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{var y;const g=h.currentTarget.contains(h.target),m=rwe[a.dir].includes(h.key);g&&m&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});jH.displayName=$H;function zH(t){return t?"open":"closed"}function Ob(t){return t==="indeterminate"}function aI(t){return Ob(t)?"indeterminate":t?"checked":"unchecked"}function xwe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Ewe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Swe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=Ewe(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Cwe(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function Awe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Cwe(r,e)}function dv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Twe=EH,Dwe=tI,Pwe=CH,Rwe=AH,Owe=sI,Iwe=TH,Bwe=Sx,Fwe=PH,Mwe=OH,kwe=BH,Nwe=MH,Lwe=kH,Uwe=NH,$we=UH,jwe=jH,Cx="Menubar",[QD,zwe,Gwe]=bd(Cx),[GH,PWe]=ep(Cx,[Gwe,Xs]),vi=swe(),VH=Xs(),[Vwe,lI]=GH(Cx),HH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,value:n,onValueChange:s,defaultValue:o,loop:a=!0,dir:l,...c}=t,d=ua(l),h=VH(r),[g="",m]=Jn({prop:n,onChange:s,defaultProp:o}),[y,b]=E.useState(null);return F.jsx(Vwe,{scope:r,value:g,onMenuOpen:E.useCallback(u=>{m(u),b(u)},[m]),onMenuClose:E.useCallback(()=>m(""),[m]),onMenuToggle:E.useCallback(u=>{m(f=>f?"":u),b(u)},[m]),dir:d,loop:a,children:F.jsx(QD.Provider,{scope:r,children:F.jsx(QD.Slot,{scope:r,children:F.jsx(Zh,{asChild:!0,...h,orientation:"horizontal",loop:a,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:b,children:F.jsx(Ye.div,{role:"menubar",...c,ref:e})})})})})});HH.displayName=Cx;var uI="MenubarMenu",[Hwe,WH]=GH(uI),KH=t=>{const{__scopeMenubar:e,value:r,...n}=t,s=Nn(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=lI(uI,e),l=vi(e),c=E.useRef(null),d=E.useRef(!1),h=a.value===o;return E.useEffect(()=>{h||(d.current=!1)},[h]),F.jsx(Hwe,{scope:e,value:o,triggerId:Nn(),triggerRef:c,contentId:Nn(),wasKeyboardTriggerOpenRef:d,children:F.jsx(Twe,{...l,open:h,onOpenChange:g=>{g||a.onMenuClose()},modal:!1,dir:a.dir,...n})})};KH.displayName=uI;var JD="MenubarTrigger",YH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,disabled:n=!1,...s}=t,o=VH(r),a=vi(r),l=lI(JD,r),c=WH(JD,r),d=E.useRef(null),h=yt(e,d,c.triggerRef),[g,m]=E.useState(!1),y=l.value===c.value;return F.jsx(QD.ItemSlot,{scope:r,value:c.value,disabled:n,children:F.jsx(wd,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:F.jsx(Dwe,{asChild:!0,...a,children:F.jsx(Ye.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":g?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:h,onPointerDown:fe(t.onPointerDown,b=>{!n&&b.button===0&&b.ctrlKey===!1&&(l.onMenuOpen(c.value),y||b.preventDefault())}),onPointerEnter:fe(t.onPointerEnter,()=>{var u;!!l.value&&!y&&(l.onMenuOpen(c.value),(u=d.current)==null||u.focus())}),onKeyDown:fe(t.onKeyDown,b=>{n||(["Enter"," "].includes(b.key)&&l.onMenuToggle(c.value),b.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(b.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,b.preventDefault()))}),onFocus:fe(t.onFocus,()=>m(!0)),onBlur:fe(t.onBlur,()=>m(!1))})})})})});YH.displayName=JD;var Wwe="MenubarPortal",XH=t=>{const{__scopeMenubar:e,...r}=t,n=vi(e);return F.jsx(Pwe,{...n,...r})};XH.displayName=Wwe;var eP="MenubarContent",qH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,align:n="start",...s}=t,o=vi(r),a=lI(eP,r),l=WH(eP,r),c=zwe(r),d=E.useRef(!1);return F.jsx(Rwe,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...o,...s,ref:e,align:n,onCloseAutoFocus:fe(t.onCloseAutoFocus,h=>{var m;!!!a.value&&!d.current&&((m=l.triggerRef.current)==null||m.focus()),d.current=!1,h.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,h=>{const g=h.target;c().some(y=>{var b;return(b=y.ref.current)==null?void 0:b.contains(g)})&&h.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:h=>{l.wasKeyboardTriggerOpenRef.current||h.preventDefault()},onKeyDown:fe(t.onKeyDown,h=>{if(["ArrowRight","ArrowLeft"].includes(h.key)){const g=h.target,m=g.hasAttribute("data-radix-menubar-subtrigger"),y=g.closest("[data-radix-menubar-content]")!==h.currentTarget,u=(a.dir==="rtl"?"ArrowRight":"ArrowLeft")===h.key;if(!u&&m||y&&u)return;let v=c().filter(x=>!x.disabled).map(x=>x.value);u&&v.reverse();const _=v.indexOf(l.value);v=a.loop?axe(v,_+1):v.slice(_+1);const[w]=v;w&&a.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});qH.displayName=eP;var Kwe="MenubarGroup",Ywe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Owe,{...s,...n,ref:e})});Ywe.displayName=Kwe;var Xwe="MenubarLabel",ZH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Iwe,{...s,...n,ref:e})});ZH.displayName=Xwe;var qwe="MenubarItem",QH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Bwe,{...s,...n,ref:e})});QH.displayName=qwe;var Zwe="MenubarCheckboxItem",JH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Fwe,{...s,...n,ref:e})});JH.displayName=Zwe;var Qwe="MenubarRadioGroup",Jwe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Mwe,{...s,...n,ref:e})});Jwe.displayName=Qwe;var exe="MenubarRadioItem",eW=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(kwe,{...s,...n,ref:e})});eW.displayName=exe;var txe="MenubarItemIndicator",tW=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Nwe,{...s,...n,ref:e})});tW.displayName=txe;var rxe="MenubarSeparator",rW=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Lwe,{...s,...n,ref:e})});rW.displayName=rxe;var nxe="MenubarArrow",ixe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(Uwe,{...s,...n,ref:e})});ixe.displayName=nxe;var sxe="MenubarSubTrigger",nW=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx($we,{"data-radix-menubar-subtrigger":"",...s,...n,ref:e})});nW.displayName=sxe;var oxe="MenubarSubContent",iW=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=vi(r);return F.jsx(jwe,{...s,"data-radix-menubar-content":"",...n,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});iW.displayName=oxe;function axe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var RWe=HH,OWe=KH,IWe=YH,BWe=XH,FWe=qH,MWe=ZH,kWe=QH,NWe=JH,LWe=eW,UWe=tW,$We=rW,jWe=nW,zWe=iW,by=t=>t.type==="checkbox",Af=t=>t instanceof Date,ai=t=>t==null;const sW=t=>typeof t=="object";var un=t=>!ai(t)&&!Array.isArray(t)&&sW(t)&&!Af(t),oW=t=>un(t)&&t.target?by(t.target)?t.target.checked:t.target.value:t,lxe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aW=(t,e)=>t.has(lxe(e)),uxe=t=>{const e=t.constructor&&t.constructor.prototype;return un(e)&&e.hasOwnProperty("isPrototypeOf")},cI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(cI&&(t instanceof Blob||t instanceof FileList))&&(r||un(t)))if(e=r?[]:{},!r&&!uxe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=fn(t[n]));else return t;return e}var wy=t=>Array.isArray(t)?t.filter(Boolean):[],dr=t=>t===void 0,Ue=(t,e,r)=>{if(!e||!un(t))return r;const n=wy(e.split(/[,[\].]+?/)).reduce((s,o)=>ai(s)?s:s[o],t);return dr(n)||n===t?dr(t[e])?r:t[e]:n},Cs=t=>typeof t=="boolean",dI=t=>/^\w*$/.test(t),lW=t=>wy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Zt=(t,e,r)=>{let n=-1;const s=dI(e)?[e]:lW(e),o=s.length,a=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==a){const d=t[l];c=un(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Ib={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ba={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uW=Z.createContext(null),Ax=()=>Z.useContext(uW),GWe=t=>{const{children:e,...r}=t;return Z.createElement(uW.Provider,{value:r},e)};var cW=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const a=o;return e._proxyFormState[a]!==Rs.all&&(e._proxyFormState[a]=!n||Rs.all),r&&(r[a]=!0),t[a]}});return s},ii=t=>un(t)&&!Object.keys(t).length,dW=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return ii(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!n||Rs.all))},Di=t=>Array.isArray(t)?t:[t],fW=(t,e,r)=>!t||!e||t===e||Di(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Tx(t){const e=Z.useRef(t);e.current=t,Z.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function cxe(t){const e=Ax(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[a,l]=Z.useState(r._formState),c=Z.useRef(!0),d=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Z.useRef(s);return h.current=s,Tx({disabled:n,next:g=>c.current&&fW(h.current,g.name,o)&&dW(g,d.current,r._updateFormState)&&l({...r._formState,...g}),subject:r._subjects.state}),Z.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),cW(a,r,d.current,!1)}var Ko=t=>typeof t=="string",hW=(t,e,r,n,s)=>Ko(t)?(n&&e.watch.add(t),Ue(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),Ue(r,o))):(n&&(e.watchAll=!0),r);function dxe(t){const e=Ax(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:a}=t||{},l=Z.useRef(n);l.current=n,Tx({disabled:o,subject:r._subjects.values,next:h=>{fW(l.current,h.name,a)&&d(fn(hW(l.current,r._names,h.values||r._formValues,!1,s)))}});const[c,d]=Z.useState(r._getWatch(n,s));return Z.useEffect(()=>r._removeUnmounted()),c}function fxe(t){const e=Ax(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o}=t,a=aW(s._names.array,r),l=dxe({control:s,name:r,defaultValue:Ue(s._formValues,r,Ue(s._defaultValues,r,t.defaultValue)),exact:!0}),c=cxe({control:s,name:r,exact:!0}),d=Z.useRef(s.register(r,{...t.rules,value:l,...Cs(t.disabled)?{disabled:t.disabled}:{}}));return Z.useEffect(()=>{const h=s._options.shouldUnregister||o,g=(m,y)=>{const b=Ue(s._fields,m);b&&b._f&&(b._f.mount=y)};if(g(r,!0),h){const m=fn(Ue(s._options.defaultValues,r));Zt(s._defaultValues,r,m),dr(Ue(s._formValues,r))&&Zt(s._formValues,r,m)}return()=>{(a?h&&!s._state.action:h)?s.unregister(r):g(r,!1)}},[r,s,a,o]),Z.useEffect(()=>{Ue(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Ue(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...Cs(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Z.useCallback(h=>d.current.onChange({target:{value:oW(h),name:r},type:Ib.CHANGE}),[r]),onBlur:Z.useCallback(()=>d.current.onBlur({target:{value:Ue(s._formValues,r),name:r},type:Ib.BLUR}),[r,s]),ref:Z.useCallback(h=>{const g=Ue(s._fields,r);g&&h&&(g._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:m=>h.setCustomValidity(m),reportValidity:()=>h.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ue(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ue(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ue(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ue(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ue(c.errors,r)}})}}const VWe=t=>t.render(fxe(t));var pW=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Al=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},iC=(t,e,r={})=>r.shouldFocus||dr(r.shouldFocus)?r.focusName||"".concat(t,".").concat(dr(r.focusIndex)?e:r.focusIndex,"."):"",Yg=t=>({isOnSubmit:!t||t===Rs.onSubmit,isOnBlur:t===Rs.onBlur,isOnChange:t===Rs.onChange,isOnAll:t===Rs.all,isOnTouch:t===Rs.onTouched}),tP=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Yf=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=Ue(t,s);if(o){const{_f:a,...l}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Yf(l,e))break}else if(un(l)&&Yf(l,e))break}}};var gW=(t,e,r)=>{const n=Di(Ue(t,r));return Zt(n,"root",e[r]),Zt(t,r,n),t},fI=t=>t.type==="file",ja=t=>typeof t=="function",Bb=t=>{if(!cI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},q_=t=>Ko(t),hI=t=>t.type==="radio",Fb=t=>t instanceof RegExp;const tL={value:!1,isValid:!1},rL={value:!0,isValid:!0};var mW=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dr(t[0].attributes.value)?dr(t[0].value)||t[0].value===""?rL:{value:t[0].value,isValid:!0}:rL:tL}return tL};const nL={isValid:!1,value:null};var vW=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,nL):nL;function iL(t,e,r="validate"){if(q_(t)||Array.isArray(t)&&t.every(q_)||Cs(t)&&!t)return{type:r,message:q_(t)?t:"",ref:e}}var Yd=t=>un(t)&&!Fb(t)?t:{value:t,message:""},rP=async(t,e,r,n,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:g,pattern:m,validate:y,name:b,valueAsNumber:u,mount:f,disabled:p}=t._f,v=Ue(e,b);if(!f||p)return{};const _=a?a[0]:o,w=P=>{n&&_.reportValidity&&(_.setCustomValidity(Cs(P)?"":P||""),_.reportValidity())},x={},S=hI(o),A=by(o),D=S||A,C=(u||fI(o))&&dr(o.value)&&dr(v)||Bb(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=pW.bind(null,b,r,x),R=(P,O,I,k=ba.maxLength,W=ba.minLength)=>{const V=P?O:I;x[b]={type:P?k:W,message:V,ref:o,...T(P?k:W,V)}};if(s?!Array.isArray(v)||!v.length:l&&(!D&&(C||ai(v))||Cs(v)&&!v||A&&!mW(a).isValid||S&&!vW(a).isValid)){const{value:P,message:O}=q_(l)?{value:!!l,message:l}:Yd(l);if(P&&(x[b]={type:ba.required,message:O,ref:_,...T(ba.required,O)},!r))return w(O),x}if(!C&&(!ai(h)||!ai(g))){let P,O;const I=Yd(g),k=Yd(h);if(!ai(v)&&!isNaN(v)){const W=o.valueAsNumber||v&&+v;ai(I.value)||(P=W>I.value),ai(k.value)||(O=W<k.value)}else{const W=o.valueAsDate||new Date(v),V=K=>new Date(new Date().toDateString()+" "+K),j=o.type=="time",$=o.type=="week";Ko(I.value)&&v&&(P=j?V(v)>V(I.value):$?v>I.value:W>new Date(I.value)),Ko(k.value)&&v&&(O=j?V(v)<V(k.value):$?v<k.value:W<new Date(k.value))}if((P||O)&&(R(!!P,I.message,k.message,ba.max,ba.min),!r))return w(x[b].message),x}if((c||d)&&!C&&(Ko(v)||s&&Array.isArray(v))){const P=Yd(c),O=Yd(d),I=!ai(P.value)&&v.length>+P.value,k=!ai(O.value)&&v.length<+O.value;if((I||k)&&(R(I,P.message,O.message),!r))return w(x[b].message),x}if(m&&!C&&Ko(v)){const{value:P,message:O}=Yd(m);if(Fb(P)&&!v.match(P)&&(x[b]={type:ba.pattern,message:O,ref:o,...T(ba.pattern,O)},!r))return w(O),x}if(y){if(ja(y)){const P=await y(v,e),O=iL(P,_);if(O&&(x[b]={...O,...T(ba.validate,O.message)},!r))return w(O.message),x}else if(un(y)){let P={};for(const O in y){if(!ii(P)&&!r)break;const I=iL(await y[O](v,e),_,O);I&&(P={...I,...T(O,I.message)},w(I.message),r&&(x[b]=P))}if(!ii(P)&&(x[b]={ref:_,...P},!r))return x}}return w(!0),x},sC=(t,e)=>[...t,...Di(e)],oC=t=>Array.isArray(t)?t.map(()=>{}):void 0;function aC(t,e,r){return[...t.slice(0,e),...Di(r),...t.slice(e)]}var lC=(t,e,r)=>Array.isArray(t)?(dr(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],uC=(t,e)=>[...Di(e),...Di(t)];function hxe(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return wy(n).length?n:[]}var cC=(t,e)=>dr(e)?[]:hxe(t,Di(e).sort((r,n)=>r-n)),dC=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function pxe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=dr(t)?n++:t[e[n++]];return t}function gxe(t){for(const e in t)if(t.hasOwnProperty(e)&&!dr(t[e]))return!1;return!0}function Zr(t,e){const r=Array.isArray(e)?e:dI(e)?[e]:lW(e),n=r.length===1?t:pxe(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(un(n)&&ii(n)||Array.isArray(n)&&gxe(n))&&Zr(t,r.slice(0,-1)),t}var sL=(t,e,r)=>(t[e]=r,t);function HWe(t){const e=Ax(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:o}=t,[a,l]=Z.useState(r._getFieldArray(n)),c=Z.useRef(r._getFieldArray(n).map(Al)),d=Z.useRef(a),h=Z.useRef(n),g=Z.useRef(!1);h.current=n,d.current=a,r._names.array.add(n),t.rules&&r.register(n,t.rules),Tx({next:({values:x,name:S})=>{if(S===h.current||!S){const A=Ue(x,h.current);Array.isArray(A)&&(l(A),c.current=A.map(Al))}},subject:r._subjects.array});const m=Z.useCallback(x=>{g.current=!0,r._updateFieldArray(n,x)},[r,n]),y=(x,S)=>{const A=Di(fn(x)),D=sC(r._getFieldArray(n),A);r._names.focus=iC(n,D.length-1,S),c.current=sC(c.current,A.map(Al)),m(D),l(D),r._updateFieldArray(n,D,sC,{argA:oC(x)})},b=(x,S)=>{const A=Di(fn(x)),D=uC(r._getFieldArray(n),A);r._names.focus=iC(n,0,S),c.current=uC(c.current,A.map(Al)),m(D),l(D),r._updateFieldArray(n,D,uC,{argA:oC(x)})},u=x=>{const S=cC(r._getFieldArray(n),x);c.current=cC(c.current,x),m(S),l(S),r._updateFieldArray(n,S,cC,{argA:x})},f=(x,S,A)=>{const D=Di(fn(S)),C=aC(r._getFieldArray(n),x,D);r._names.focus=iC(n,x,A),c.current=aC(c.current,x,D.map(Al)),m(C),l(C),r._updateFieldArray(n,C,aC,{argA:x,argB:oC(S)})},p=(x,S)=>{const A=r._getFieldArray(n);dC(A,x,S),dC(c.current,x,S),m(A),l(A),r._updateFieldArray(n,A,dC,{argA:x,argB:S},!1)},v=(x,S)=>{const A=r._getFieldArray(n);lC(A,x,S),lC(c.current,x,S),m(A),l(A),r._updateFieldArray(n,A,lC,{argA:x,argB:S},!1)},_=(x,S)=>{const A=fn(S),D=sL(r._getFieldArray(n),x,A);c.current=[...D].map((C,T)=>!C||T===x?Al():c.current[T]),m(D),l([...D]),r._updateFieldArray(n,D,sL,{argA:x,argB:A},!0,!1)},w=x=>{const S=Di(fn(x));c.current=S.map(Al),m([...S]),l([...S]),r._updateFieldArray(n,[...S],A=>A,{},!0,!1)};return Z.useEffect(()=>{if(r._state.action=!1,tP(n,r._names)&&r._subjects.state.next({...r._formState}),g.current&&(!Yg(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(x=>{const S=Ue(x.errors,n),A=Ue(r._formState.errors,n);(A?!S&&A.type||S&&(A.type!==S.type||A.message!==S.message):S&&S.type)&&(S?Zt(r._formState.errors,n,S):Zr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const x=Ue(r._fields,n);x&&x._f&&!(Yg(r._options.reValidateMode).isOnSubmit&&Yg(r._options.mode).isOnSubmit)&&rP(x,r._formValues,r._options.criteriaMode===Rs.all,r._options.shouldUseNativeValidation,!0).then(S=>!ii(S)&&r._subjects.state.next({errors:gW(r._formState.errors,S,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Yf(r._fields,(x,S)=>{if(r._names.focus&&S.startsWith(r._names.focus)&&x.focus)return x.focus(),1}),r._names.focus="",r._updateValid(),g.current=!1},[a,n,r]),Z.useEffect(()=>(!Ue(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,s,o]),{swap:Z.useCallback(p,[m,n,r]),move:Z.useCallback(v,[m,n,r]),prepend:Z.useCallback(b,[m,n,r]),append:Z.useCallback(y,[m,n,r]),remove:Z.useCallback(u,[m,n,r]),insert:Z.useCallback(f,[m,n,r]),update:Z.useCallback(_,[m,n,r]),replace:Z.useCallback(w,[m,n,r]),fields:Z.useMemo(()=>a.map((x,S)=>({...x,[s]:c.current[S]||Al()})),[a,s])}}var fC=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},Mb=t=>ai(t)||!sW(t);function Hl(t,e){if(Mb(t)||Mb(e))return t===e;if(Af(t)&&Af(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const o=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Af(o)&&Af(a)||un(o)&&un(a)||Array.isArray(o)&&Array.isArray(a)?!Hl(o,a):o!==a)return!1}}return!0}var yW=t=>t.type==="select-multiple",mxe=t=>hI(t)||by(t),hC=t=>Bb(t)&&t.isConnected,_W=t=>{for(const e in t)if(ja(t[e]))return!0;return!1};function kb(t,e={}){const r=Array.isArray(t);if(un(t)||r)for(const n in t)Array.isArray(t[n])||un(t[n])&&!_W(t[n])?(e[n]=Array.isArray(t[n])?[]:{},kb(t[n],e[n])):ai(t[n])||(e[n]=!0);return e}function bW(t,e,r){const n=Array.isArray(t);if(un(t)||n)for(const s in t)Array.isArray(t[s])||un(t[s])&&!_W(t[s])?dr(e)||Mb(r[s])?r[s]=Array.isArray(t[s])?kb(t[s],[]):{...kb(t[s])}:bW(t[s],ai(e)?{}:e[s],r[s]):r[s]=!Hl(t[s],e[s]);return r}var Z0=(t,e)=>bW(t,e,kb(e)),wW=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>dr(t)?t:e?t===""?NaN:t&&+t:r&&Ko(t)?new Date(t):n?n(t):t;function pC(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return fI(e)?e.files:hI(e)?vW(t.refs).value:yW(e)?[...e.selectedOptions].map(({value:r})=>r):by(e)?mW(t.refs).value:wW(dr(e.value)?t.ref.value:e.value,t)}var vxe=(t,e,r,n)=>{const s={};for(const o of t){const a=Ue(e,o);a&&Zt(s,o,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},zp=t=>dr(t)?t:Fb(t)?t.source:un(t)?Fb(t.value)?t.value.source:t.value:t;const oL="AsyncFunction";var yxe=t=>(!t||!t.validate)&&!!(ja(t.validate)&&t.validate.constructor.name===oL||un(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===oL)),_xe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function aL(t,e,r){const n=Ue(t,r);if(n||dI(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),a=Ue(e,o),l=Ue(t,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var bxe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,wxe=(t,e)=>!wy(Ue(t,e)).length&&Zr(t,e);const xxe={mode:Rs.onSubmit,reValidateMode:Rs.onChange,shouldFocusError:!0};function Exe(t={}){let e={...xxe,...t},r={submitCount:0,isDirty:!1,isLoading:ja(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=un(e.defaultValues)||un(e.values)?fn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:fn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:fC(),array:fC(),state:fC()},m=Yg(e.mode),y=Yg(e.reValidateMode),b=e.criteriaMode===Rs.all,u=Y=>se=>{clearTimeout(d),d=setTimeout(Y,se)},f=async Y=>{if(h.isValid||Y){const se=e.resolver?ii((await D()).errors):await T(n,!0);se!==r.isValid&&g.state.next({isValid:se})}},p=(Y,se)=>{(h.isValidating||h.validatingFields)&&((Y||Array.from(l.mount)).forEach(le=>{le&&(se?Zt(r.validatingFields,le,se):Zr(r.validatingFields,le))}),g.state.next({validatingFields:r.validatingFields,isValidating:!ii(r.validatingFields)}))},v=(Y,se=[],le,Ae,ve=!0,ye=!0)=>{if(Ae&&le){if(a.action=!0,ye&&Array.isArray(Ue(n,Y))){const Te=le(Ue(n,Y),Ae.argA,Ae.argB);ve&&Zt(n,Y,Te)}if(ye&&Array.isArray(Ue(r.errors,Y))){const Te=le(Ue(r.errors,Y),Ae.argA,Ae.argB);ve&&Zt(r.errors,Y,Te),wxe(r.errors,Y)}if(h.touchedFields&&ye&&Array.isArray(Ue(r.touchedFields,Y))){const Te=le(Ue(r.touchedFields,Y),Ae.argA,Ae.argB);ve&&Zt(r.touchedFields,Y,Te)}h.dirtyFields&&(r.dirtyFields=Z0(s,o)),g.state.next({name:Y,isDirty:P(Y,se),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zt(o,Y,se)},_=(Y,se)=>{Zt(r.errors,Y,se),g.state.next({errors:r.errors})},w=Y=>{r.errors=Y,g.state.next({errors:r.errors,isValid:!1})},x=(Y,se,le,Ae)=>{const ve=Ue(n,Y);if(ve){const ye=Ue(o,Y,dr(le)?Ue(s,Y):le);dr(ye)||Ae&&Ae.defaultChecked||se?Zt(o,Y,se?ye:pC(ve._f)):k(Y,ye),a.mount&&f()}},S=(Y,se,le,Ae,ve)=>{let ye=!1,Te=!1;const Re={name:Y},je=!!(Ue(n,Y)&&Ue(n,Y)._f&&Ue(n,Y)._f.disabled);if(!le||Ae){h.isDirty&&(Te=r.isDirty,r.isDirty=Re.isDirty=P(),ye=Te!==Re.isDirty);const ft=je||Hl(Ue(s,Y),se);Te=!!(!je&&Ue(r.dirtyFields,Y)),ft||je?Zr(r.dirtyFields,Y):Zt(r.dirtyFields,Y,!0),Re.dirtyFields=r.dirtyFields,ye=ye||h.dirtyFields&&Te!==!ft}if(le){const ft=Ue(r.touchedFields,Y);ft||(Zt(r.touchedFields,Y,le),Re.touchedFields=r.touchedFields,ye=ye||h.touchedFields&&ft!==le)}return ye&&ve&&g.state.next(Re),ye?Re:{}},A=(Y,se,le,Ae)=>{const ve=Ue(r.errors,Y),ye=h.isValid&&Cs(se)&&r.isValid!==se;if(t.delayError&&le?(c=u(()=>_(Y,le)),c(t.delayError)):(clearTimeout(d),c=null,le?Zt(r.errors,Y,le):Zr(r.errors,Y)),(le?!Hl(ve,le):ve)||!ii(Ae)||ye){const Te={...Ae,...ye&&Cs(se)?{isValid:se}:{},errors:r.errors,name:Y};r={...r,...Te},g.state.next(Te)}},D=async Y=>{p(Y,!0);const se=await e.resolver(o,e.context,vxe(Y||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return p(Y),se},C=async Y=>{const{errors:se}=await D(Y);if(Y)for(const le of Y){const Ae=Ue(se,le);Ae?Zt(r.errors,le,Ae):Zr(r.errors,le)}else r.errors=se;return se},T=async(Y,se,le={valid:!0})=>{for(const Ae in Y){const ve=Y[Ae];if(ve){const{_f:ye,...Te}=ve;if(ye){const Re=l.array.has(ye.name),je=ve._f&&yxe(ve._f);je&&h.validatingFields&&p([Ae],!0);const ft=await rP(ve,o,b,e.shouldUseNativeValidation&&!se,Re);if(je&&h.validatingFields&&p([Ae]),ft[ye.name]&&(le.valid=!1,se))break;!se&&(Ue(ft,ye.name)?Re?gW(r.errors,ft,ye.name):Zt(r.errors,ye.name,ft[ye.name]):Zr(r.errors,ye.name))}!ii(Te)&&await T(Te,se,le)}}return le.valid},R=()=>{for(const Y of l.unMount){const se=Ue(n,Y);se&&(se._f.refs?se._f.refs.every(le=>!hC(le)):!hC(se._f.ref))&&X(Y)}l.unMount=new Set},P=(Y,se)=>(Y&&se&&Zt(o,Y,se),!Hl(J(),s)),O=(Y,se,le)=>hW(Y,l,{...a.mount?o:dr(se)?s:Ko(Y)?{[Y]:se}:se},le,se),I=Y=>wy(Ue(a.mount?o:s,Y,t.shouldUnregister?Ue(s,Y,[]):[])),k=(Y,se,le={})=>{const Ae=Ue(n,Y);let ve=se;if(Ae){const ye=Ae._f;ye&&(!ye.disabled&&Zt(o,Y,wW(se,ye)),ve=Bb(ye.ref)&&ai(se)?"":se,yW(ye.ref)?[...ye.ref.options].forEach(Te=>Te.selected=ve.includes(Te.value)):ye.refs?by(ye.ref)?ye.refs.length>1?ye.refs.forEach(Te=>(!Te.defaultChecked||!Te.disabled)&&(Te.checked=Array.isArray(ve)?!!ve.find(Re=>Re===Te.value):ve===Te.value)):ye.refs[0]&&(ye.refs[0].checked=!!ve):ye.refs.forEach(Te=>Te.checked=Te.value===ve):fI(ye.ref)?ye.ref.value="":(ye.ref.value=ve,ye.ref.type||g.values.next({name:Y,values:{...o}})))}(le.shouldDirty||le.shouldTouch)&&S(Y,ve,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&K(Y)},W=(Y,se,le)=>{for(const Ae in se){const ve=se[Ae],ye="".concat(Y,".").concat(Ae),Te=Ue(n,ye);(l.array.has(Y)||!Mb(ve)||Te&&!Te._f)&&!Af(ve)?W(ye,ve,le):k(ye,ve,le)}},V=(Y,se,le={})=>{const Ae=Ue(n,Y),ve=l.array.has(Y),ye=fn(se);Zt(o,Y,ye),ve?(g.array.next({name:Y,values:{...o}}),(h.isDirty||h.dirtyFields)&&le.shouldDirty&&g.state.next({name:Y,dirtyFields:Z0(s,o),isDirty:P(Y,ye)})):Ae&&!Ae._f&&!ai(ye)?W(Y,ye,le):k(Y,ye,le),tP(Y,l)&&g.state.next({...r}),g.values.next({name:a.mount?Y:void 0,values:{...o}})},j=async Y=>{a.mount=!0;const se=Y.target;let le=se.name,Ae=!0;const ve=Ue(n,le),ye=()=>se.type?pC(ve._f):oW(Y),Te=Re=>{Ae=Number.isNaN(Re)||Hl(Re,Ue(o,le,Re))};if(ve){let Re,je;const ft=ye(),xt=Y.type===Ib.BLUR||Y.type===Ib.FOCUS_OUT,Ke=!_xe(ve._f)&&!e.resolver&&!Ue(r.errors,le)&&!ve._f.deps||bxe(xt,Ue(r.touchedFields,le),r.isSubmitted,y,m),L=tP(le,l,xt);Zt(o,le,ft),xt?(ve._f.onBlur&&ve._f.onBlur(Y),c&&c(0)):ve._f.onChange&&ve._f.onChange(Y);const B=S(le,ft,xt,!1),U=!ii(B)||L;if(!xt&&g.values.next({name:le,type:Y.type,values:{...o}}),Ke)return h.isValid&&(t.mode==="onBlur"?xt&&f():f()),U&&g.state.next({name:le,...L?{}:B});if(!xt&&L&&g.state.next({...r}),e.resolver){const{errors:Q}=await D([le]);if(Te(ft),Ae){const ie=aL(r.errors,n,le),ke=aL(Q,n,ie.name||le);Re=ke.error,le=ke.name,je=ii(Q)}}else p([le],!0),Re=(await rP(ve,o,b,e.shouldUseNativeValidation))[le],p([le]),Te(ft),Ae&&(Re?je=!1:h.isValid&&(je=await T(n,!0)));Ae&&(ve._f.deps&&K(ve._f.deps),A(le,je,Re,B))}},$=(Y,se)=>{if(Ue(r.errors,se)&&Y.focus)return Y.focus(),1},K=async(Y,se={})=>{let le,Ae;const ve=Di(Y);if(e.resolver){const ye=await C(dr(Y)?Y:ve);le=ii(ye),Ae=Y?!ve.some(Te=>Ue(ye,Te)):le}else Y?(Ae=(await Promise.all(ve.map(async ye=>{const Te=Ue(n,ye);return await T(Te&&Te._f?{[ye]:Te}:Te)}))).every(Boolean),!(!Ae&&!r.isValid)&&f()):Ae=le=await T(n);return g.state.next({...!Ko(Y)||h.isValid&&le!==r.isValid?{}:{name:Y},...e.resolver||!Y?{isValid:le}:{},errors:r.errors}),se.shouldFocus&&!Ae&&Yf(n,$,Y?ve:l.mount),Ae},J=Y=>{const se={...a.mount?o:s};return dr(Y)?se:Ko(Y)?Ue(se,Y):Y.map(le=>Ue(se,le))},ue=(Y,se)=>({invalid:!!Ue((se||r).errors,Y),isDirty:!!Ue((se||r).dirtyFields,Y),error:Ue((se||r).errors,Y),isValidating:!!Ue(r.validatingFields,Y),isTouched:!!Ue((se||r).touchedFields,Y)}),pe=Y=>{Y&&Di(Y).forEach(se=>Zr(r.errors,se)),g.state.next({errors:Y?r.errors:{}})},oe=(Y,se,le)=>{const Ae=(Ue(n,Y,{_f:{}})._f||{}).ref,ve=Ue(r.errors,Y)||{},{ref:ye,message:Te,type:Re,...je}=ve;Zt(r.errors,Y,{...je,...se,ref:Ae}),g.state.next({name:Y,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},he=(Y,se)=>ja(Y)?g.values.subscribe({next:le=>Y(O(void 0,se),le)}):O(Y,se,!0),X=(Y,se={})=>{for(const le of Y?Di(Y):l.mount)l.mount.delete(le),l.array.delete(le),se.keepValue||(Zr(n,le),Zr(o,le)),!se.keepError&&Zr(r.errors,le),!se.keepDirty&&Zr(r.dirtyFields,le),!se.keepTouched&&Zr(r.touchedFields,le),!se.keepIsValidating&&Zr(r.validatingFields,le),!e.shouldUnregister&&!se.keepDefaultValue&&Zr(s,le);g.values.next({values:{...o}}),g.state.next({...r,...se.keepDirty?{isDirty:P()}:{}}),!se.keepIsValid&&f()},z=({disabled:Y,name:se,field:le,fields:Ae,value:ve})=>{if(Cs(Y)&&a.mount||Y){const ye=Y?void 0:dr(ve)?pC(le?le._f:Ue(Ae,se)._f):ve;Zt(o,se,ye),S(se,ye,!1,!1,!0)}},G=(Y,se={})=>{let le=Ue(n,Y);const Ae=Cs(se.disabled)||Cs(t.disabled);return Zt(n,Y,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:Y}},name:Y,mount:!0,...se}}),l.mount.add(Y),le?z({field:le,disabled:Cs(se.disabled)?se.disabled:t.disabled,name:Y,value:se.value}):x(Y,!0,se.value),{...Ae?{disabled:se.disabled||t.disabled}:{},...e.progressive?{required:!!se.required,min:zp(se.min),max:zp(se.max),minLength:zp(se.minLength),maxLength:zp(se.maxLength),pattern:zp(se.pattern)}:{},name:Y,onChange:j,onBlur:j,ref:ve=>{if(ve){G(Y,se),le=Ue(n,Y);const ye=dr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Te=mxe(ye),Re=le._f.refs||[];if(Te?Re.find(je=>je===ye):ye===le._f.ref)return;Zt(n,Y,{_f:{...le._f,...Te?{refs:[...Re.filter(hC),ye,...Array.isArray(Ue(s,Y))?[{}]:[]],ref:{type:ye.type,name:Y}}:{ref:ye}}}),x(Y,!1,void 0,ye)}else le=Ue(n,Y,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(aW(l.array,Y)&&a.action)&&l.unMount.add(Y)}}},H=()=>e.shouldFocusError&&Yf(n,$,l.mount),re=Y=>{Cs(Y)&&(g.state.next({disabled:Y}),Yf(n,(se,le)=>{const Ae=Ue(n,le);Ae&&(se.disabled=Ae._f.disabled||Y,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(ve=>{ve.disabled=Ae._f.disabled||Y}))},0,!1))},ne=(Y,se)=>async le=>{let Ae;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let ve=fn(o);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:Te}=await D();r.errors=ye,ve=Te}else await T(n);if(Zr(r.errors,"root"),ii(r.errors)){g.state.next({errors:{}});try{await Y(ve,le)}catch(ye){Ae=ye}}else se&&await se({...r.errors},le),H(),setTimeout(H);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ii(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},_e=(Y,se={})=>{Ue(n,Y)&&(dr(se.defaultValue)?V(Y,fn(Ue(s,Y))):(V(Y,se.defaultValue),Zt(s,Y,fn(se.defaultValue))),se.keepTouched||Zr(r.touchedFields,Y),se.keepDirty||(Zr(r.dirtyFields,Y),r.isDirty=se.defaultValue?P(Y,fn(Ue(s,Y))):P()),se.keepError||(Zr(r.errors,Y),h.isValid&&f()),g.state.next({...r}))},be=(Y,se={})=>{const le=Y?fn(Y):s,Ae=fn(le),ve=ii(Y),ye=ve?s:Ae;if(se.keepDefaultValues||(s=le),!se.keepValues){if(se.keepDirtyValues)for(const Te of l.mount)Ue(r.dirtyFields,Te)?Zt(ye,Te,Ue(o,Te)):V(Te,Ue(ye,Te));else{if(cI&&dr(Y))for(const Te of l.mount){const Re=Ue(n,Te);if(Re&&Re._f){const je=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Bb(je)){const ft=je.closest("form");if(ft){ft.reset();break}}}}n={}}o=t.shouldUnregister?se.keepDefaultValues?fn(s):{}:fn(ye),g.array.next({values:{...ye}}),g.values.next({values:{...ye}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!se.keepIsValid||!!se.keepDirtyValues,a.watch=!!t.shouldUnregister,g.state.next({submitCount:se.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:se.keepDirty?r.isDirty:!!(se.keepDefaultValues&&!Hl(Y,s)),isSubmitted:se.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:se.keepDirtyValues?se.keepDefaultValues&&o?Z0(s,o):r.dirtyFields:se.keepDefaultValues&&Y?Z0(s,Y):se.keepDirty?r.dirtyFields:{},touchedFields:se.keepTouched?r.touchedFields:{},errors:se.keepErrors?r.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(Y,se)=>be(ja(Y)?Y(o):Y,se);return{control:{register:G,unregister:X,getFieldState:ue,handleSubmit:ne,setError:oe,_executeSchema:D,_getWatch:O,_getDirty:P,_updateValid:f,_removeUnmounted:R,_updateFieldArray:v,_updateDisabledField:z,_getFieldArray:I,_reset:be,_resetDefaultValues:()=>ja(e.defaultValues)&&e.defaultValues().then(Y=>{xe(Y,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:Y=>{r={...r,...Y}},_disableForm:re,_subjects:g,_proxyFormState:h,_setErrors:w,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(Y){a=Y},get _defaultValues(){return s},get _names(){return l},set _names(Y){l=Y},get _formState(){return r},set _formState(Y){r=Y},get _options(){return e},set _options(Y){e={...e,...Y}}},trigger:K,register:G,handleSubmit:ne,watch:he,setValue:V,getValues:J,reset:xe,resetField:_e,clearErrors:pe,unregister:X,setError:oe,setFocus:(Y,se={})=>{const le=Ue(n,Y),Ae=le&&le._f;if(Ae){const ve=Ae.refs?Ae.refs[0]:Ae.ref;ve.focus&&(ve.focus(),se.shouldSelect&&ve.select())}},getFieldState:ue}}function WWe(t={}){const e=Z.useRef(),r=Z.useRef(),[n,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:ja(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ja(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Exe(t),formState:n});const o=e.current.control;return o._options=t,Tx({subject:o._subjects.state,next:a=>{dW(a,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Z.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Z.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),Z.useEffect(()=>{t.values&&!Hl(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,s(a=>({...a}))):o._resetDefaultValues()},[t.values,o]),Z.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),Z.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Z.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=cW(n,o),e.current}const lL=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ue(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},xW=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?lL(n.ref,r,t):n.refs&&n.refs.forEach(s=>lL(s,r,t))}},Sxe=(t,e)=>{e.shouldUseNativeValidation&&xW(t,e);const r={};for(const n in t){const s=Ue(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(Cxe(e.names||Object.keys(t),n)){const a=Object.assign({},Ue(r,n));Zt(a,"root",o),Zt(r,n,a)}else Zt(r,n,o)}return r},Cxe=(t,e)=>t.some(r=>r.startsWith(e+"."));var Axe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(g){return t.push(g)})}),e){var c=r[a].types,d=c&&c[n.code];r[a]=pW(a,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},KWe=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return o.shouldUseNativeValidation&&xW({},o),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Sxe(Axe(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},Kt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of o)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},t.find=(s,o)=>{for(const a of s)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(a=>typeof a=="string"?"'".concat(a,"'"):a).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Kt||(Kt={}));var nP;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(nP||(nP={}));const st=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wl=t=>{switch(typeof t){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(t)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(t)?st.array:t===null?st.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?st.promise:typeof Map<"u"&&t instanceof Map?st.map:typeof Set<"u"&&t instanceof Set?st.set:typeof Date<"u"&&t instanceof Date?st.date:st.object;default:return st.unknown}},Oe=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Txe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rs extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof rs))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}rs.create=t=>new rs(t);const Sh=(t,e)=>{let r;switch(t.code){case Oe.invalid_type:t.received===st.undefined?r="Required":r="Expected ".concat(t.expected,", received ").concat(t.received);break;case Oe.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(t.expected,Kt.jsonStringifyReplacer));break;case Oe.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(Kt.joinValues(t.keys,", "));break;case Oe.invalid_union:r="Invalid input";break;case Oe.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(Kt.joinValues(t.options));break;case Oe.invalid_enum_value:r="Invalid enum value. Expected ".concat(Kt.joinValues(t.options),", received '").concat(t.received,"'");break;case Oe.invalid_arguments:r="Invalid function arguments";break;case Oe.invalid_return_type:r="Invalid function return type";break;case Oe.invalid_date:r="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r='Invalid input: must include "'.concat(t.validation.includes,'"'),typeof t.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(t.validation.position))):"startsWith"in t.validation?r='Invalid input: must start with "'.concat(t.validation.startsWith,'"'):"endsWith"in t.validation?r='Invalid input: must end with "'.concat(t.validation.endsWith,'"'):Kt.assertNever(t.validation):t.validation!=="regex"?r="Invalid ".concat(t.validation):r="Invalid";break;case Oe.too_small:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"more than"," ").concat(t.minimum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"over"," ").concat(t.minimum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(t.minimum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(t.minimum))):r="Invalid input";break;case Oe.too_big:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"less than"," ").concat(t.maximum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"under"," ").concat(t.maximum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="bigint"?r="BigInt must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(t.maximum))):r="Invalid input";break;case Oe.custom:r="Invalid input";break;case Oe.invalid_intersection_types:r="Intersection results could not be merged";break;case Oe.not_multiple_of:r="Number must be a multiple of ".concat(t.multipleOf);break;case Oe.not_finite:r="Number must be finite";break;default:r=e.defaultError,Kt.assertNever(t)}return{message:r}};let EW=Sh;function Dxe(t){EW=t}function Nb(){return EW}const Lb=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],a={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(a,{data:e,defaultError:l}).message;return{...s,path:o,message:l}},Pxe=[];function et(t,e){const r=Nb(),n=Lb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Sh?void 0:Sh].filter(s=>!!s)});t.common.issues.push(n)}class ei{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return At;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,a=await s.value;n.push({key:o,value:a})}return ei.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:a}=s;if(o.status==="aborted"||a.status==="aborted")return At;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[o.value]=a.value)}return{status:e.value,value:n}}}const At=Object.freeze({status:"aborted"}),Tf=t=>({status:"dirty",value:t}),pi=t=>({status:"valid",value:t}),iP=t=>t.status==="aborted",sP=t=>t.status==="dirty",fv=t=>t.status==="valid",hv=t=>typeof Promise<"u"&&t instanceof Promise;function Ub(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function SW(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}var mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(mt||(mt={}));var mg,vg;class sa{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uL=(t,e)=>{if(fv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new rs(t.common.issues);return this._error=r,this._error}}};function Bt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{var c,d;const{message:h}=t;return a.code==="invalid_enum_value"?{message:h!=null?h:l.defaultError}:typeof l.data>"u"?{message:(c=h!=null?h:n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h!=null?h:r)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Mt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Wl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Wl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ei,ctx:{common:e.parent.common,data:e.data,parsedType:Wl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(hv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wl(e)},o=this._parseSync({data:e,path:s.path,parent:s});return uL(s,o)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wl(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(hv(s)?s:Promise.resolve(s));return uL(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const a=e(s),l=()=>o.addIssue({code:Oe.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Co({schema:this,typeName:Et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qo.create(this,this._def)}nullable(){return Mu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wo.create(this,this._def)}promise(){return Ah.create(this,this._def)}or(e){return vv.create([this,e],this._def)}and(e){return yv.create(this,e,this._def)}transform(e){return new Co({...Bt(this._def),schema:this,typeName:Et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ev({...Bt(this._def),innerType:this,defaultValue:r,typeName:Et.ZodDefault})}brand(){return new pI({typeName:Et.ZodBranded,type:this,...Bt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Sv({...Bt(this._def),innerType:this,catchValue:r,typeName:Et.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return xy.create(this,e)}readonly(){return Cv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rxe=/^c[^\s-]{8,}$/i,Oxe=/^[0-9a-z]+$/,Ixe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Bxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fxe=/^[a-z0-9_-]{21}$/i,Mxe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kxe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Nxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gC;const Lxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uxe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,$xe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jxe=new RegExp("^".concat(CW,"$"));function AW(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e="".concat(e,"\\.\\d{").concat(t.precision,"}"):t.precision==null&&(e="".concat(e,"(\\.\\d+)?")),e}function zxe(t){return new RegExp("^".concat(AW(t),"$"))}function TW(t){let e="".concat(CW,"T").concat(AW(t));const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e="".concat(e,"(").concat(r.join("|"),")"),new RegExp("^".concat(e,"$"))}function Gxe(t,e){return!!((e==="v4"||!e)&&Lxe.test(t)||(e==="v6"||!e)&&Uxe.test(t))}class fo extends Mt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.string,received:o.parsedType}),At}const n=new ei;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,l=e.data.length<o.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?et(s,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&et(s,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")kxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"email",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")gC||(gC=new RegExp(Nxe,"u")),gC.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"emoji",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Bxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"uuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Fxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"nanoid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Rxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Oxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid2",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Ixe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ulid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch(a){s=this._getOrReturnCtx(e,s),et(s,{validation:"url",code:Oe.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"regex",code:Oe.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?TW(o).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?jxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?zxe(o).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?Mxe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"duration",code:Oe.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Gxe(e.data,o.version)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ip",code:Oe.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?$xe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"base64",code:Oe.invalid_string,message:o.message}),n.dirty()):Kt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Oe.invalid_string,...mt.errToObj(n)})}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...mt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...mt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...mt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...mt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...mt.errToObj(r)})}nonempty(e){return this.min(1,mt.errToObj(e))}trim(){return new fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fo.create=t=>{var e;return new fo({checks:[],typeName:Et.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Bt(t)})};function Vxe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return o%a/Math.pow(10,s)}class Iu extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.number,received:o.parsedType}),At}let n;const s=new ei;for(const o of this._def.checks)o.kind==="int"?Kt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?Vxe(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_finite,message:o.message}),s.dirty()):Kt.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,n,s){return new Iu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:mt.toString(s)}]})}_addCheck(e){return new Iu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Iu.create=t=>new Iu({checks:[],typeName:Et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Bt(t)});class Bu extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==st.bigint){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.bigint,received:o.parsedType}),At}let n;const s=new ei;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Kt.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,n,s){return new Bu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:mt.toString(s)}]})}_addCheck(e){return new Bu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Bu.create=t=>{var e;return new Bu({checks:[],typeName:Et.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Bt(t)})};class pv extends Mt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.boolean,received:n.parsedType}),At}return pi(e.data)}}pv.create=t=>new pv({typeName:Et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Bt(t)});class od extends Mt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.date,received:o.parsedType}),At}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_date}),At}const n=new ei;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Kt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new od({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:mt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}od.create=t=>new od({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Et.ZodDate,...Bt(t)});class $b extends Mt{_parse(e){if(this._getType(e)!==st.symbol){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.symbol,received:n.parsedType}),At}return pi(e.data)}}$b.create=t=>new $b({typeName:Et.ZodSymbol,...Bt(t)});class gv extends Mt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.undefined,received:n.parsedType}),At}return pi(e.data)}}gv.create=t=>new gv({typeName:Et.ZodUndefined,...Bt(t)});class mv extends Mt{_parse(e){if(this._getType(e)!==st.null){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.null,received:n.parsedType}),At}return pi(e.data)}}mv.create=t=>new mv({typeName:Et.ZodNull,...Bt(t)});class Ch extends Mt{constructor(){super(...arguments),this._any=!0}_parse(e){return pi(e.data)}}Ch.create=t=>new Ch({typeName:Et.ZodAny,...Bt(t)});class zc extends Mt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pi(e.data)}}zc.create=t=>new zc({typeName:Et.ZodUnknown,...Bt(t)});class al extends Mt{_parse(e){const r=this._getOrReturnCtx(e);return et(r,{code:Oe.invalid_type,expected:st.never,received:r.parsedType}),At}}al.create=t=>new al({typeName:Et.ZodNever,...Bt(t)});class jb extends Mt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.void,received:n.parsedType}),At}return pi(e.data)}}jb.create=t=>new jb({typeName:Et.ZodVoid,...Bt(t)});class wo extends Mt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==st.array)return et(r,{code:Oe.invalid_type,expected:st.array,received:r.parsedType}),At;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(et(r,{code:a?Oe.too_big:Oe.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(et(r,{code:Oe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(et(r,{code:Oe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new sa(r,a,r.path,l)))).then(a=>ei.mergeArray(n,a));const o=[...r.data].map((a,l)=>s.type._parseSync(new sa(r,a,r.path,l)));return ei.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new wo({...this._def,minLength:{value:e,message:mt.toString(r)}})}max(e,r){return new wo({...this._def,maxLength:{value:e,message:mt.toString(r)}})}length(e,r){return new wo({...this._def,exactLength:{value:e,message:mt.toString(r)}})}nonempty(e){return this.min(1,e)}}wo.create=(t,e)=>new wo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Et.ZodArray,...Bt(e)});function lf(t){if(t instanceof Ir){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Qo.create(lf(n))}return new Ir({...t._def,shape:()=>e})}else return t instanceof wo?new wo({...t._def,type:lf(t.element)}):t instanceof Qo?Qo.create(lf(t.unwrap())):t instanceof Mu?Mu.create(lf(t.unwrap())):t instanceof oa?oa.create(t.items.map(e=>lf(e))):t}class Ir extends Mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Kt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==st.object){const d=this._getOrReturnCtx(e);return et(d,{code:Oe.invalid_type,expected:st.object,received:d.parsedType}),At}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof al&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const c=[];for(const d of a){const h=o[d],g=s.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new sa(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof al){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")l.length>0&&(et(s,{code:Oe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const g=s.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new sa(s,g,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const g=await h.key,m=await h.value;d.push({key:g,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>ei.mergeObjectSync(n,d)):ei.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return mt.errToObj,new Ir({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o,a,l;const c=(a=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=mt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ir({...this._def,unknownKeys:"strip"})}passthrough(){return new Ir({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ir({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ir({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Et.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ir({...this._def,catchall:e})}pick(e){const r={};return Kt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ir({...this._def,shape:()=>r})}omit(e){const r={};return Kt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ir({...this._def,shape:()=>r})}deepPartial(){return lf(this)}partial(e){const r={};return Kt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new Ir({...this._def,shape:()=>r})}required(e){const r={};return Kt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Qo;)o=o._def.innerType;r[n]=o}}),new Ir({...this._def,shape:()=>r})}keyof(){return DW(Kt.objectKeys(this.shape))}}Ir.create=(t,e)=>new Ir({shape:()=>t,unknownKeys:"strip",catchall:al.create(),typeName:Et.ZodObject,...Bt(e)});Ir.strictCreate=(t,e)=>new Ir({shape:()=>t,unknownKeys:"strict",catchall:al.create(),typeName:Et.ZodObject,...Bt(e)});Ir.lazycreate=(t,e)=>new Ir({shape:t,unknownKeys:"strip",catchall:al.create(),typeName:Et.ZodObject,...Bt(e)});class vv extends Mt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=o.map(l=>new rs(l.ctx.common.issues));return et(r,{code:Oe.invalid_union,unionErrors:a}),At}if(r.common.async)return Promise.all(n.map(async o=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let o;const a=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=a.map(c=>new rs(c));return et(r,{code:Oe.invalid_union,unionErrors:l}),At}}get options(){return this._def.options}}vv.create=(t,e)=>new vv({options:t,typeName:Et.ZodUnion,...Bt(e)});const Ea=t=>t instanceof bv?Ea(t.schema):t instanceof Co?Ea(t.innerType()):t instanceof wv?[t.value]:t instanceof Fu?t.options:t instanceof xv?Kt.objectValues(t.enum):t instanceof Ev?Ea(t._def.innerType):t instanceof gv?[void 0]:t instanceof mv?[null]:t instanceof Qo?[void 0,...Ea(t.unwrap())]:t instanceof Mu?[null,...Ea(t.unwrap())]:t instanceof pI||t instanceof Cv?Ea(t.unwrap()):t instanceof Sv?Ea(t._def.innerType):[];class Dx extends Mt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.object)return et(r,{code:Oe.invalid_type,expected:st.object,received:r.parsedType}),At;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(et(r,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),At)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const o of r){const a=Ea(o.shape[e]);if(!a.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const l of a){if(s.has(l))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(l)));s.set(l,o)}}return new Dx({typeName:Et.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Bt(n)})}}function oP(t,e){const r=Wl(t),n=Wl(e);if(t===e)return{valid:!0,data:t};if(r===st.object&&n===st.object){const s=Kt.objectKeys(e),o=Kt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of o){const c=oP(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===st.array&&n===st.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=e[o],c=oP(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===st.date&&n===st.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yv extends Mt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,a)=>{if(iP(o)||iP(a))return At;const l=oP(o.value,a.value);return l.valid?((sP(o)||sP(a))&&r.dirty(),{status:r.value,value:l.data}):(et(n,{code:Oe.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>s(o,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}yv.create=(t,e,r)=>new yv({left:t,right:e,typeName:Et.ZodIntersection,...Bt(r)});class oa extends Mt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.array)return et(n,{code:Oe.invalid_type,expected:st.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return et(n,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(et(n,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new sa(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>ei.mergeArray(r,a)):ei.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new oa({...this._def,rest:e})}}oa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oa({items:t,typeName:Et.ZodTuple,rest:null,...Bt(e)})};class _v extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.object)return et(n,{code:Oe.invalid_type,expected:st.object,received:n.parsedType}),At;const s=[],o=this._def.keyType,a=this._def.valueType;for(const l in n.data)s.push({key:o._parse(new sa(n,l,n.path,l)),value:a._parse(new sa(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ei.mergeObjectAsync(r,s):ei.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Mt?new _v({keyType:e,valueType:r,typeName:Et.ZodRecord,...Bt(n)}):new _v({keyType:fo.create(),valueType:e,typeName:Et.ZodRecord,...Bt(r)})}}class zb extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.map)return et(n,{code:Oe.invalid_type,expected:st.map,received:n.parsedType}),At;const s=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new sa(n,l,n.path,[d,"key"])),value:o._parse(new sa(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return At;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return At;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}zb.create=(t,e,r)=>new zb({valueType:e,keyType:t,typeName:Et.ZodMap,...Bt(r)});class ad extends Mt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.set)return et(n,{code:Oe.invalid_type,expected:st.set,received:n.parsedType}),At;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(et(n,{code:Oe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(et(n,{code:Oe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return At;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>o._parse(new sa(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new ad({...this._def,minSize:{value:e,message:mt.toString(r)}})}max(e,r){return new ad({...this._def,maxSize:{value:e,message:mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ad.create=(t,e)=>new ad({valueType:t,minSize:null,maxSize:null,typeName:Et.ZodSet,...Bt(e)});class Xf extends Mt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.function)return et(r,{code:Oe.invalid_type,expected:st.function,received:r.parsedType}),At;function n(l,c){return Lb({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nb(),Sh].filter(d=>!!d),issueData:{code:Oe.invalid_arguments,argumentsError:c}})}function s(l,c){return Lb({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nb(),Sh].filter(d=>!!d),issueData:{code:Oe.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Ah){const l=this;return pi(async function(...c){const d=new rs([]),h=await l._def.args.parseAsync(c,o).catch(y=>{throw d.addIssue(n(c,y)),d}),g=await Reflect.apply(a,this,h);return await l._def.returns._def.type.parseAsync(g,o).catch(y=>{throw d.addIssue(s(g,y)),d})})}else{const l=this;return pi(function(...c){const d=l._def.args.safeParse(c,o);if(!d.success)throw new rs([n(c,d.error)]);const h=Reflect.apply(a,this,d.data),g=l._def.returns.safeParse(h,o);if(!g.success)throw new rs([s(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xf({...this._def,args:oa.create(e).rest(zc.create())})}returns(e){return new Xf({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Xf({args:e||oa.create([]).rest(zc.create()),returns:r||zc.create(),typeName:Et.ZodFunction,...Bt(n)})}}class bv extends Mt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bv.create=(t,e)=>new bv({getter:t,typeName:Et.ZodLazy,...Bt(e)});class wv extends Mt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return et(r,{received:r.data,code:Oe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}wv.create=(t,e)=>new wv({value:t,typeName:Et.ZodLiteral,...Bt(e)});function DW(t,e){return new Fu({values:t,typeName:Et.ZodEnum,...Bt(e)})}class Fu extends Mt{constructor(){super(...arguments),mg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{expected:Kt.joinValues(n),received:r.parsedType,code:Oe.invalid_type}),At}if(Ub(this,mg,"f")||SW(this,mg,new Set(this._def.values),"f"),!Ub(this,mg,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{received:r.data,code:Oe.invalid_enum_value,options:n}),At}return pi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Fu.create(e,{...this._def,...r})}exclude(e,r=this._def){return Fu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}mg=new WeakMap;Fu.create=DW;class xv extends Mt{constructor(){super(...arguments),vg.set(this,void 0)}_parse(e){const r=Kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==st.string&&n.parsedType!==st.number){const s=Kt.objectValues(r);return et(n,{expected:Kt.joinValues(s),received:n.parsedType,code:Oe.invalid_type}),At}if(Ub(this,vg,"f")||SW(this,vg,new Set(Kt.getValidEnumValues(this._def.values)),"f"),!Ub(this,vg,"f").has(e.data)){const s=Kt.objectValues(r);return et(n,{received:n.data,code:Oe.invalid_enum_value,options:s}),At}return pi(e.data)}get enum(){return this._def.values}}vg=new WeakMap;xv.create=(t,e)=>new xv({values:t,typeName:Et.ZodNativeEnum,...Bt(e)});class Ah extends Mt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.promise&&r.common.async===!1)return et(r,{code:Oe.invalid_type,expected:st.promise,received:r.parsedType}),At;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return pi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ah.create=(t,e)=>new Ah({type:t,typeName:Et.ZodPromise,...Bt(e)});class Co extends Mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:a=>{et(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const a=s.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return At;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?At:c.status==="dirty"||r.value==="dirty"?Tf(c.value):c});{if(r.value==="aborted")return At;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?Tf(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!fv(a))return a;const l=s.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>fv(a)?Promise.resolve(s.transform(a.value,o)).then(l=>({status:r.value,value:l})):a);Kt.assertNever(s)}}Co.create=(t,e,r)=>new Co({schema:t,typeName:Et.ZodEffects,effect:e,...Bt(r)});Co.createWithPreprocess=(t,e,r)=>new Co({schema:e,effect:{type:"preprocess",transform:t},typeName:Et.ZodEffects,...Bt(r)});class Qo extends Mt{_parse(e){return this._getType(e)===st.undefined?pi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qo.create=(t,e)=>new Qo({innerType:t,typeName:Et.ZodOptional,...Bt(e)});class Mu extends Mt{_parse(e){return this._getType(e)===st.null?pi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mu.create=(t,e)=>new Mu({innerType:t,typeName:Et.ZodNullable,...Bt(e)});class Ev extends Mt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ev.create=(t,e)=>new Ev({innerType:t,typeName:Et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Bt(e)});class Sv extends Mt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hv(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new rs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sv.create=(t,e)=>new Sv({innerType:t,typeName:Et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Bt(e)});class Gb extends Mt{_parse(e){if(this._getType(e)!==st.nan){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.nan,received:n.parsedType}),At}return{status:"valid",value:e.data}}}Gb.create=t=>new Gb({typeName:Et.ZodNaN,...Bt(t)});const Hxe=Symbol("zod_brand");class pI extends Mt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xy extends Mt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?At:o.status==="dirty"?(r.dirty(),Tf(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?At:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new xy({in:e,out:r,typeName:Et.ZodPipeline})}}class Cv extends Mt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(fv(s)&&(s.value=Object.freeze(s.value)),s);return hv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Cv.create=(t,e)=>new Cv({innerType:t,typeName:Et.ZodReadonly,...Bt(e)});function PW(t,e={},r){return t?Ch.create().superRefine((n,s)=>{var o,a;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(a=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&a!==void 0?a:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:c})}}):Ch.create()}const Wxe={object:Ir.lazycreate};var Et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Et||(Et={}));const Kxe=(t,e={message:"Input not instance of ".concat(t.name)})=>PW(r=>r instanceof t,e),RW=fo.create,OW=Iu.create,Yxe=Gb.create,Xxe=Bu.create,IW=pv.create,qxe=od.create,Zxe=$b.create,Qxe=gv.create,Jxe=mv.create,eEe=Ch.create,tEe=zc.create,rEe=al.create,nEe=jb.create,iEe=wo.create,sEe=Ir.create,oEe=Ir.strictCreate,aEe=vv.create,lEe=Dx.create,uEe=yv.create,cEe=oa.create,dEe=_v.create,fEe=zb.create,hEe=ad.create,pEe=Xf.create,gEe=bv.create,mEe=wv.create,vEe=Fu.create,yEe=xv.create,_Ee=Ah.create,cL=Co.create,bEe=Qo.create,wEe=Mu.create,xEe=Co.createWithPreprocess,EEe=xy.create,SEe=()=>RW().optional(),CEe=()=>OW().optional(),AEe=()=>IW().optional(),TEe={string:t=>fo.create({...t,coerce:!0}),number:t=>Iu.create({...t,coerce:!0}),boolean:t=>pv.create({...t,coerce:!0}),bigint:t=>Bu.create({...t,coerce:!0}),date:t=>od.create({...t,coerce:!0})},DEe=At;var YWe=Object.freeze({__proto__:null,defaultErrorMap:Sh,setErrorMap:Dxe,getErrorMap:Nb,makeIssue:Lb,EMPTY_PATH:Pxe,addIssueToContext:et,ParseStatus:ei,INVALID:At,DIRTY:Tf,OK:pi,isAborted:iP,isDirty:sP,isValid:fv,isAsync:hv,get util(){return Kt},get objectUtil(){return nP},ZodParsedType:st,getParsedType:Wl,ZodType:Mt,datetimeRegex:TW,ZodString:fo,ZodNumber:Iu,ZodBigInt:Bu,ZodBoolean:pv,ZodDate:od,ZodSymbol:$b,ZodUndefined:gv,ZodNull:mv,ZodAny:Ch,ZodUnknown:zc,ZodNever:al,ZodVoid:jb,ZodArray:wo,ZodObject:Ir,ZodUnion:vv,ZodDiscriminatedUnion:Dx,ZodIntersection:yv,ZodTuple:oa,ZodRecord:_v,ZodMap:zb,ZodSet:ad,ZodFunction:Xf,ZodLazy:bv,ZodLiteral:wv,ZodEnum:Fu,ZodNativeEnum:xv,ZodPromise:Ah,ZodEffects:Co,ZodTransformer:Co,ZodOptional:Qo,ZodNullable:Mu,ZodDefault:Ev,ZodCatch:Sv,ZodNaN:Gb,BRAND:Hxe,ZodBranded:pI,ZodPipeline:xy,ZodReadonly:Cv,custom:PW,Schema:Mt,ZodSchema:Mt,late:Wxe,get ZodFirstPartyTypeKind(){return Et},coerce:TEe,any:eEe,array:iEe,bigint:Xxe,boolean:IW,date:qxe,discriminatedUnion:lEe,effect:cL,enum:vEe,function:pEe,instanceof:Kxe,intersection:uEe,lazy:gEe,literal:mEe,map:fEe,nan:Yxe,nativeEnum:yEe,never:rEe,null:Jxe,nullable:wEe,number:OW,object:sEe,oboolean:AEe,onumber:CEe,optional:bEe,ostring:SEe,pipeline:EEe,preprocess:xEe,promise:_Ee,record:dEe,set:hEe,strictObject:oEe,string:RW,symbol:Zxe,transformer:cL,tuple:cEe,undefined:Qxe,union:aEe,unknown:tEe,void:nEe,NEVER:DEe,ZodIssueCode:Oe,quotelessJson:Txe,ZodError:rs}),gI="Dialog",[BW,FW]=ep(gI),[PEe,To]=BW(gI),MW=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=E.useRef(null),c=E.useRef(null),[d=!1,h]=Jn({prop:n,defaultProp:s,onChange:o});return F.jsx(PEe,{scope:e,triggerRef:l,contentRef:c,contentId:Nn(),titleId:Nn(),descriptionId:Nn(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(g=>!g),[h]),modal:a,children:r})};MW.displayName=gI;var kW="DialogTrigger",NW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=To(kW,r),o=yt(e,s.triggerRef);return F.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yI(s.open),...n,ref:o,onClick:fe(t.onClick,s.onOpenToggle)})});NW.displayName=kW;var mI="DialogPortal",[REe,LW]=BW(mI,{forceMount:void 0}),UW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=To(mI,e);return F.jsx(REe,{scope:e,forceMount:r,children:E.Children.map(n,a=>F.jsx(gl,{present:r||o.open,children:F.jsx(wx,{asChild:!0,container:s,children:a})}))})};UW.displayName=mI;var Vb="DialogOverlay",$W=E.forwardRef((t,e)=>{const r=LW(Vb,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=To(Vb,t.__scopeDialog);return o.modal?F.jsx(gl,{present:n||o.open,children:F.jsx(OEe,{...s,ref:e})}):null});$W.displayName=Vb;var OEe=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=To(Vb,r);return F.jsx(bH,{as:na,allowPinchZoom:!0,shards:[s.contentRef],children:F.jsx(Ye.div,{"data-state":yI(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ld="DialogContent",jW=E.forwardRef((t,e)=>{const r=LW(ld,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=To(ld,t.__scopeDialog);return F.jsx(gl,{present:n||o.open,children:o.modal?F.jsx(IEe,{...s,ref:e}):F.jsx(BEe,{...s,ref:e})})});jW.displayName=ld;var IEe=E.forwardRef((t,e)=>{const r=To(ld,t.__scopeDialog),n=E.useRef(null),s=yt(e,r.contentRef,n);return E.useEffect(()=>{const o=n.current;if(o)return dy(o)},[]),F.jsx(zW,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault())})}),BEe=E.forwardRef((t,e)=>{const r=To(ld,t.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return F.jsx(zW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),zW=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=To(ld,r),c=E.useRef(null),d=yt(e,c);return pH(),F.jsxs(F.Fragment,{children:[F.jsx(Wh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:F.jsx(bx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yI(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),F.jsxs(F.Fragment,{children:[F.jsx(MEe,{titleId:l.titleId}),F.jsx(NEe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vI="DialogTitle",GW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=To(vI,r);return F.jsx(Ye.h2,{id:s.titleId,...n,ref:e})});GW.displayName=vI;var VW="DialogDescription",HW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=To(VW,r);return F.jsx(Ye.p,{id:s.descriptionId,...n,ref:e})});HW.displayName=VW;var WW="DialogClose",KW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=To(WW,r);return F.jsx(Ye.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});KW.displayName=WW;function yI(t){return t?"open":"closed"}var YW="DialogTitleWarning",[FEe,XW]=Abe(YW,{contentName:ld,titleName:vI,docsSlug:"dialog"}),MEe=({titleId:t})=>{const e=XW(YW),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},kEe="DialogDescriptionWarning",NEe=({contentRef:t,descriptionId:e})=>{const r=XW(kEe),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},LEe=MW,UEe=NW,$Ee=UW,jEe=$W,zEe=jW,GEe=GW,VEe=HW,qW=KW,HEe="Label",ZW=E.forwardRef((t,e)=>F.jsx(Ye.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZW.displayName=HEe;var XWe=ZW,_I="Progress",bI=100,[WEe,qWe]=Li(_I),[KEe,YEe]=WEe(_I),QW=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=XEe,...a}=t;(s||s===0)&&!dL(s)&&console.error(qEe("".concat(s),"Progress"));const l=dL(s)?s:bI;n!==null&&!fL(n,l)&&console.error(ZEe("".concat(n),"Progress"));const c=fL(n,l)?n:null,d=Hb(c)?o(c,l):void 0;return F.jsx(KEe,{scope:r,value:c,max:l,children:F.jsx(Ye.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Hb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":tK(c,l),"data-value":c!=null?c:void 0,"data-max":l,...a,ref:e})})});QW.displayName=_I;var JW="ProgressIndicator",eK=E.forwardRef((t,e)=>{var o;const{__scopeProgress:r,...n}=t,s=YEe(JW,r);return F.jsx(Ye.div,{"data-state":tK(s.value,s.max),"data-value":(o=s.value)!=null?o:void 0,"data-max":s.max,...n,ref:e})});eK.displayName=JW;function XEe(t,e){return"".concat(Math.round(t/e*100),"%")}function tK(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Hb(t){return typeof t=="number"}function dL(t){return Hb(t)&&!isNaN(t)&&t>0}function fL(t,e){return Hb(t)&&!isNaN(t)&&t<=e&&t>=0}function qEe(t,e){return"Invalid prop `max` of value `".concat(t,"` supplied to `").concat(e,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(bI,"`.")}function ZEe(t,e){return"Invalid prop `value` of value `".concat(t,"` supplied to `").concat(e,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(bI," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var ZWe=QW,QWe=eK,rK="AlertDialog",[QEe,JWe]=ep(rK,[FW]),ml=FW(),nK=t=>{const{__scopeAlertDialog:e,...r}=t,n=ml(e);return F.jsx(LEe,{...n,...r,modal:!0})};nK.displayName=rK;var JEe="AlertDialogTrigger",eSe=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=ml(r);return F.jsx(UEe,{...s,...n,ref:e})});eSe.displayName=JEe;var tSe="AlertDialogPortal",iK=t=>{const{__scopeAlertDialog:e,...r}=t,n=ml(e);return F.jsx($Ee,{...n,...r})};iK.displayName=tSe;var rSe="AlertDialogOverlay",sK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=ml(r);return F.jsx(jEe,{...s,...n,ref:e})});sK.displayName=rSe;var qf="AlertDialogContent",[nSe,iSe]=QEe(qf),oK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=ml(r),a=E.useRef(null),l=yt(e,a),c=E.useRef(null);return F.jsx(FEe,{contentName:qf,titleName:aK,docsSlug:"alert-dialog",children:F.jsx(nSe,{scope:r,cancelRef:c,children:F.jsxs(zEe,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:fe(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[F.jsx(mO,{children:n}),F.jsx(oSe,{contentRef:a})]})})})});oK.displayName=qf;var aK="AlertDialogTitle",lK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=ml(r);return F.jsx(GEe,{...s,...n,ref:e})});lK.displayName=aK;var uK="AlertDialogDescription",cK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=ml(r);return F.jsx(VEe,{...s,...n,ref:e})});cK.displayName=uK;var sSe="AlertDialogAction",dK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=ml(r);return F.jsx(qW,{...s,...n,ref:e})});dK.displayName=sSe;var fK="AlertDialogCancel",hK=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=iSe(fK,r),o=ml(r),a=yt(e,s);return F.jsx(qW,{...o,...n,ref:a})});hK.displayName=fK;var oSe=({contentRef:t})=>{const e="`".concat(qf,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(qf,"` by passing a `").concat(uK,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(qf,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return E.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},eKe=nK,tKe=iK,rKe=sK,nKe=oK,iKe=dK,sKe=hK,oKe=lK,aKe=cK;function wI(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pK=["PageUp","PageDown"],gK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tp="Slider",[aP,aSe,lSe]=bd(tp),[vK,lKe]=ep(tp,[lSe]),[uSe,Px]=vK(tp),yK=E.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:g=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:b,...u}=t,f=E.useRef(new Set),p=E.useRef(0),_=a==="horizontal"?cSe:dSe,[w=[],x]=Jn({prop:h,defaultProp:d,onChange:R=>{var O;(O=[...f.current][p.current])==null||O.focus(),g(R)}}),S=E.useRef(w);function A(R){const P=mSe(w,R);T(R,P)}function D(R){T(R,p.current)}function C(){const R=S.current[p.current];w[p.current]!==R&&m(w)}function T(R,P,{commit:O}={commit:!1}){const I=bSe(o),k=wSe(Math.round((R-n)/o)*o+n,I),W=Qm(k,[n,s]);x((V=[])=>{const j=pSe(V,W,P);if(_Se(j,c*o)){p.current=j.indexOf(W);const $=String(j)!==String(V);return $&&O&&m(j),$?j:V}else return V})}return F.jsx(uSe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:p,thumbs:f.current,values:w,orientation:a,form:b,children:F.jsx(aP.Provider,{scope:t.__scopeSlider,children:F.jsx(aP.Slot,{scope:t.__scopeSlider,children:F.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...u,ref:e,onPointerDown:fe(u.onPointerDown,()=>{l||(S.current=w)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:A,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,w.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:P})=>{if(!l){const k=pK.includes(R.key)||R.shiftKey&&gK.includes(R.key)?10:1,W=p.current,V=w[W],j=o*k*P;T(V+j,W,{commit:!0})}}})})})})});yK.displayName=tp;var[_K,bK]=vK(tp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cSe=E.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,[g,m]=E.useState(null),y=yt(e,_=>m(_)),b=E.useRef(),u=ua(s),f=u==="ltr",p=f&&!o||!f&&o;function v(_){const w=b.current||g.getBoundingClientRect(),x=[0,w.width],A=xI(x,p?[r,n]:[n,r]);return b.current=w,A(_-w.left)}return F.jsx(_K,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:F.jsx(wK,{dir:u,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const w=v(_.clientX);a==null||a(w)},onSlideMove:_=>{const w=v(_.clientX);l==null||l(w)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:_=>{const x=mK[p?"from-left":"from-right"].includes(_.key);d==null||d({event:_,direction:x?-1:1})}})})}),dSe=E.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,h=E.useRef(null),g=yt(e,h),m=E.useRef(),y=!s;function b(u){const f=m.current||h.current.getBoundingClientRect(),p=[0,f.height],_=xI(p,y?[n,r]:[r,n]);return m.current=f,_(u-f.top)}return F.jsx(_K,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:F.jsx(wK,{"data-orientation":"vertical",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:u=>{const f=b(u.clientY);o==null||o(f)},onSlideMove:u=>{const f=b(u.clientY);a==null||a(f)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:u=>{const p=mK[y?"from-bottom":"from-top"].includes(u.key);c==null||c({event:u,direction:p?-1:1})}})})}),wK=E.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...d}=t,h=Px(tp,r);return F.jsx(Ye.span,{...d,ref:e,onKeyDown:fe(t.onKeyDown,g=>{g.key==="Home"?(a(g),g.preventDefault()):g.key==="End"?(l(g),g.preventDefault()):pK.concat(gK).includes(g.key)&&(c(g),g.preventDefault())}),onPointerDown:fe(t.onPointerDown,g=>{const m=g.target;m.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(m)?m.focus():n(g)}),onPointerMove:fe(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:fe(t.onPointerUp,g=>{const m=g.target;m.hasPointerCapture(g.pointerId)&&(m.releasePointerCapture(g.pointerId),o(g))})})}),xK="SliderTrack",EK=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Px(xK,r);return F.jsx(Ye.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});EK.displayName=xK;var lP="SliderRange",SK=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Px(lP,r),o=bK(lP,r),a=E.useRef(null),l=yt(e,a),c=s.values.length,d=s.values.map(m=>AK(m,s.min,s.max)),h=c>1?Math.min(...d):0,g=100-Math.max(...d);return F.jsx(Ye.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[o.startEdge]:h+"%",[o.endEdge]:g+"%"}})});SK.displayName=lP;var uP="SliderThumb",CK=E.forwardRef((t,e)=>{const r=aSe(t.__scopeSlider),[n,s]=E.useState(null),o=yt(e,l=>s(l)),a=E.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return F.jsx(fSe,{...t,ref:o,index:a})}),fSe=E.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,a=Px(uP,r),l=bK(uP,r),[c,d]=E.useState(null),h=yt(e,v=>d(v)),g=c?a.form||!!c.closest("form"):!0,m=TO(c),y=a.values[n],b=y===void 0?0:AK(y,a.min,a.max),u=gSe(n,a.values.length),f=m==null?void 0:m[l.size],p=f?vSe(f,b,l.direction):0;return E.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),F.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(b,"% + ").concat(p,"px)")},children:[F.jsx(aP.ItemSlot,{scope:t.__scopeSlider,children:F.jsx(Ye.span,{role:"slider","aria-label":t["aria-label"]||u,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:h,style:y===void 0?{display:"none"}:t.style,onFocus:fe(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),g&&F.jsx(hSe,{name:s!=null?s:a.name?a.name+(a.values.length>1?"[]":""):void 0,form:a.form,value:y},n)]})});CK.displayName=uP;var hSe=t=>{const{value:e,...r}=t,n=E.useRef(null),s=wI(e);return E.useEffect(()=>{const o=n.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==e&&c){const d=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(d)}},[s,e]),F.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function pSe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function AK(t,e,r){const o=100/(r-e)*(t-e);return Qm(o,[0,100])}function gSe(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function mSe(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function vSe(t,e,r){const n=t/2,o=xI([0,50],[0,n]);return(n-o(e)*r)*r}function ySe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function _Se(t,e){if(e>0){const r=ySe(t);return Math.min(...r)>=e}return!0}function xI(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function bSe(t){return(String(t).split(".")[1]||"").length}function wSe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var uKe=yK,cKe=EK,dKe=SK,fKe=CK,xSe="VisuallyHidden",Ey=E.forwardRef((t,e)=>F.jsx(Ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ey.displayName=xSe;var ESe=Ey,SSe=[" ","Enter","ArrowUp","ArrowDown"],CSe=[" ","Enter"],Sy="Select",[Rx,Ox,ASe]=bd(Sy),[rp,hKe]=Li(Sy,[ASe,da]),Ix=da(),[TSe,Ku]=rp(Sy),[DSe,PSe]=rp(Sy),TK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:g,disabled:m,required:y}=t,b=Ix(e),[u,f]=E.useState(null),[p,v]=E.useState(null),[_,w]=E.useState(!1),x=ua(d),[S=!1,A]=Jn({prop:n,defaultProp:s,onChange:o}),[D,C]=Jn({prop:a,defaultProp:l,onChange:c}),T=E.useRef(null),R=u?!!u.closest("form"):!0,[P,O]=E.useState(new Set),I=Array.from(P).map(k=>k.props.value).join(";");return F.jsx(Xh,{...b,children:F.jsxs(TSe,{required:y,scope:e,trigger:u,onTriggerChange:f,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Nn(),value:D,onValueChange:C,open:S,onOpenChange:A,dir:x,triggerPointerDownPosRef:T,disabled:m,children:[F.jsx(Rx.Provider,{scope:e,children:F.jsx(DSe,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(k=>{O(W=>new Set(W).add(k))},[]),onNativeOptionRemove:E.useCallback(k=>{O(W=>{const V=new Set(W);return V.delete(k),V})},[]),children:r})}),R?F.jsxs(JK,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:g,value:D,onChange:k=>C(k.target.value),disabled:m,children:[D===void 0?F.jsx("option",{value:""}):null,Array.from(P)]},I):null]})})};TK.displayName=Sy;var DK="SelectTrigger",PK=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=Ix(r),a=Ku(DK,r),l=a.disabled||n,c=yt(e,a.onTriggerChange),d=Ox(r),[h,g,m]=eY(b=>{const u=d().filter(v=>!v.disabled),f=u.find(v=>v.value===a.value),p=tY(u,b,f);p!==void 0&&a.onValueChange(p.value)}),y=()=>{l||(a.onOpenChange(!0),m())};return F.jsx(qh,{asChild:!0,...o,children:F.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QK(a.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,b=>{b.currentTarget.focus()}),onPointerDown:fe(s.onPointerDown,b=>{const u=b.target;u.hasPointerCapture(b.pointerId)&&u.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&(y(),a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:fe(s.onKeyDown,b=>{const u=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(u&&b.key===" ")&&SSe.includes(b.key)&&(y(),b.preventDefault())})})})});PK.displayName=DK;var RK="SelectValue",OK=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=t,c=Ku(RK,r),{onValueNodeHasChildrenChange:d}=c,h=o!==void 0,g=yt(e,c.onValueNodeChange);return ln(()=>{d(h)},[d,h]),F.jsx(Ye.span,{...l,ref:g,style:{pointerEvents:"none"},children:QK(c.value)?F.jsx(F.Fragment,{children:a}):o})});OK.displayName=RK;var RSe="SelectIcon",IK=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return F.jsx(Ye.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});IK.displayName=RSe;var OSe="SelectPortal",BK=t=>F.jsx(cy,{asChild:!0,...t});BK.displayName=OSe;var ud="SelectContent",FK=E.forwardRef((t,e)=>{const r=Ku(ud,t.__scopeSelect),[n,s]=E.useState();if(ln(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?dl.createPortal(F.jsx(MK,{scope:t.__scopeSelect,children:F.jsx(Rx.Slot,{scope:t.__scopeSelect,children:F.jsx("div",{children:t.children})})}),o):null}return F.jsx(kK,{...t,ref:e})});FK.displayName=ud;var Ta=10,[MK,Yu]=rp(ud),ISe="SelectContentImpl",kK=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:u,avoidCollisions:f,...p}=t,v=Ku(ud,r),[_,w]=E.useState(null),[x,S]=E.useState(null),A=yt(e,z=>w(z)),[D,C]=E.useState(null),[T,R]=E.useState(null),P=Ox(r),[O,I]=E.useState(!1),k=E.useRef(!1);E.useEffect(()=>{if(_)return dy(_)},[_]),bO();const W=E.useCallback(z=>{const[G,...H]=P().map(_e=>_e.ref.current),[re]=H.slice(-1),ne=document.activeElement;for(const _e of z)if(_e===ne||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===G&&x&&(x.scrollTop=0),_e===re&&x&&(x.scrollTop=x.scrollHeight),_e==null||_e.focus(),document.activeElement!==ne))return},[P,x]),V=E.useCallback(()=>W([D,_]),[W,D,_]);E.useEffect(()=>{O&&V()},[O,V]);const{onOpenChange:j,triggerPointerDownPosRef:$}=v;E.useEffect(()=>{if(_){let z={x:0,y:0};const G=re=>{var ne,_e,be,xe;z={x:Math.abs(Math.round(re.pageX)-((_e=(ne=$.current)==null?void 0:ne.x)!=null?_e:0)),y:Math.abs(Math.round(re.pageY)-((xe=(be=$.current)==null?void 0:be.y)!=null?xe:0))}},H=re=>{z.x<=10&&z.y<=10?re.preventDefault():_.contains(re.target)||j(!1),document.removeEventListener("pointermove",G),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",H,{capture:!0})}}},[_,j,$]),E.useEffect(()=>{const z=()=>j(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[j]);const[K,J]=eY(z=>{const G=P().filter(ne=>!ne.disabled),H=G.find(ne=>ne.ref.current===document.activeElement),re=tY(G,z,H);re&&setTimeout(()=>re.ref.current.focus())}),ue=E.useCallback((z,G,H)=>{const re=!k.current&&!H;(v.value!==void 0&&v.value===G||re)&&(C(z),re&&(k.current=!0))},[v.value]),pe=E.useCallback(()=>_==null?void 0:_.focus(),[_]),oe=E.useCallback((z,G,H)=>{const re=!k.current&&!H;(v.value!==void 0&&v.value===G||re)&&R(z)},[v.value]),he=n==="popper"?cP:NK,X=he===cP?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:u,avoidCollisions:f}:{};return F.jsx(MK,{scope:r,content:_,viewport:x,onViewportChange:S,itemRefCallback:ue,selectedItem:D,onItemLeave:pe,itemTextRefCallback:oe,focusSelectedItem:V,selectedItemText:T,position:n,isPositioned:O,searchRef:K,children:F.jsx(IO,{as:na,allowPinchZoom:!0,children:F.jsx(Wh,{asChild:!0,trapped:v.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:fe(s,z=>{var G;(G=v.trigger)==null||G.focus({preventScroll:!0}),z.preventDefault()}),children:F.jsx(oy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:F.jsx(he,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:z=>z.preventDefault(),...p,...X,onPlaced:()=>I(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:fe(p.onKeyDown,z=>{const G=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!G&&z.key.length===1&&J(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let re=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(z.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ne=z.target,_e=re.indexOf(ne);re=re.slice(_e+1)}setTimeout(()=>W(re)),z.preventDefault()}})})})})})})});kK.displayName=ISe;var BSe="SelectItemAlignedPosition",NK=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Ku(ud,r),a=Yu(ud,r),[l,c]=E.useState(null),[d,h]=E.useState(null),g=yt(e,A=>h(A)),m=Ox(r),y=E.useRef(!1),b=E.useRef(!0),{viewport:u,selectedItem:f,selectedItemText:p,focusSelectedItem:v}=a,_=E.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&u&&f&&p){const A=o.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),T=p.getBoundingClientRect();if(o.dir!=="rtl"){const ne=T.left-D.left,_e=C.left-ne,be=A.left-_e,xe=A.width+be,Se=Math.max(xe,D.width),dt=window.innerWidth-Ta,wt=Qm(_e,[Ta,dt-Se]);l.style.minWidth=xe+"px",l.style.left=wt+"px"}else{const ne=D.right-T.right,_e=window.innerWidth-C.right-ne,be=window.innerWidth-A.right-_e,xe=A.width+be,Se=Math.max(xe,D.width),dt=window.innerWidth-Ta,wt=Qm(_e,[Ta,dt-Se]);l.style.minWidth=xe+"px",l.style.right=wt+"px"}const R=m(),P=window.innerHeight-Ta*2,O=u.scrollHeight,I=window.getComputedStyle(d),k=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),j=parseInt(I.paddingBottom,10),$=k+W+O+j+V,K=Math.min(f.offsetHeight*5,$),J=window.getComputedStyle(u),ue=parseInt(J.paddingTop,10),pe=parseInt(J.paddingBottom,10),oe=A.top+A.height/2-Ta,he=P-oe,X=f.offsetHeight/2,z=f.offsetTop+X,G=k+W+z,H=$-G;if(G<=oe){const ne=f===R[R.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-u.offsetTop-u.offsetHeight,be=Math.max(he,X+(ne?pe:0)+_e+V),xe=G+be;l.style.height=xe+"px"}else{const ne=f===R[0].ref.current;l.style.top="0px";const be=Math.max(oe,k+u.offsetTop+(ne?ue:0)+X)+H;l.style.height=be+"px",u.scrollTop=G-oe+u.offsetTop}l.style.margin="".concat(Ta,"px 0"),l.style.minHeight=K+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,o.trigger,o.valueNode,l,d,u,f,p,o.dir,n]);ln(()=>_(),[_]);const[w,x]=E.useState();ln(()=>{d&&x(window.getComputedStyle(d).zIndex)},[d]);const S=E.useCallback(A=>{A&&b.current===!0&&(_(),v==null||v(),b.current=!1)},[_,v]);return F.jsx(MSe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:F.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:F.jsx(Ye.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});NK.displayName=BSe;var FSe="SelectPopperPosition",cP=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ta,...o}=t,a=Ix(r);return F.jsx(ly,{...a,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cP.displayName=FSe;var[MSe,EI]=rp(ud,{}),dP="SelectViewport",LK=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=Yu(dP,r),a=EI(dP,r),l=yt(e,o.onViewportChange),c=E.useRef(0);return F.jsxs(F.Fragment,{children:[F.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),F.jsx(Rx.Slot,{scope:r,children:F.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&g){const y=Math.abs(c.current-h.scrollTop);if(y>0){const b=window.innerHeight-Ta*2,u=parseFloat(g.style.minHeight),f=parseFloat(g.style.height),p=Math.max(u,f);if(p<b){const v=p+y,_=Math.min(b,v),w=v-_;g.style.height=_+"px",g.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,g.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});LK.displayName=dP;var UK="SelectGroup",[kSe,NSe]=rp(UK),$K=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Nn();return F.jsx(kSe,{scope:r,id:s,children:F.jsx(Ye.div,{role:"group","aria-labelledby":s,...n,ref:e})})});$K.displayName=UK;var jK="SelectLabel",zK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=NSe(jK,r);return F.jsx(Ye.div,{id:s.id,...n,ref:e})});zK.displayName=jK;var Wb="SelectItem",[LSe,GK]=rp(Wb),VK=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=t,l=Ku(Wb,r),c=Yu(Wb,r),d=l.value===n,[h,g]=E.useState(o!=null?o:""),[m,y]=E.useState(!1),b=yt(e,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),u=Nn(),f=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return F.jsx(LSe,{scope:r,value:n,disabled:s,textId:u,isSelected:d,onItemTextChange:E.useCallback(p=>{g(v=>{var _;return v||((_=p==null?void 0:p.textContent)!=null?_:"").trim()})},[]),children:F.jsx(Rx.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:F.jsx(Ye.div,{role:"option","aria-labelledby":u,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:fe(a.onFocus,()=>y(!0)),onBlur:fe(a.onBlur,()=>y(!1)),onPointerUp:fe(a.onPointerUp,f),onPointerMove:fe(a.onPointerMove,p=>{var v;s?(v=c.onItemLeave)==null||v.call(c):p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(a.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:fe(a.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(CSe.includes(p.key)&&f(),p.key===" "&&p.preventDefault())})})})})});VK.displayName=Wb;var yg="SelectItemText",HK=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,a=Ku(yg,r),l=Yu(yg,r),c=GK(yg,r),d=PSe(yg,r),[h,g]=E.useState(null),m=yt(e,p=>g(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,p,c.value,c.disabled)}),y=h==null?void 0:h.textContent,b=E.useMemo(()=>F.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:u,onNativeOptionRemove:f}=d;return ln(()=>(u(b),()=>f(b)),[u,f,b]),F.jsxs(F.Fragment,{children:[F.jsx(Ye.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?dl.createPortal(o.children,a.valueNode):null]})});HK.displayName=yg;var WK="SelectItemIndicator",KK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return GK(WK,r).isSelected?F.jsx(Ye.span,{"aria-hidden":!0,...n,ref:e}):null});KK.displayName=WK;var fP="SelectScrollUpButton",YK=E.forwardRef((t,e)=>{const r=Yu(fP,t.__scopeSelect),n=EI(fP,t.__scopeSelect),[s,o]=E.useState(!1),a=yt(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?F.jsx(qK,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YK.displayName=fP;var hP="SelectScrollDownButton",XK=E.forwardRef((t,e)=>{const r=Yu(hP,t.__scopeSelect),n=EI(hP,t.__scopeSelect),[s,o]=E.useState(!1),a=yt(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;o(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?F.jsx(qK,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});XK.displayName=hP;var qK=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=Yu("SelectScrollButton",r),a=E.useRef(null),l=Ox(r),c=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),ln(()=>{var h;const d=l().find(g=>g.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),F.jsx(Ye.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),USe="SelectSeparator",ZK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F.jsx(Ye.div,{"aria-hidden":!0,...n,ref:e})});ZK.displayName=USe;var pP="SelectArrow",$Se=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ix(r),o=Ku(pP,r),a=Yu(pP,r);return o.open&&a.position==="popper"?F.jsx(uy,{...s,...n,ref:e}):null});$Se.displayName=pP;function QK(t){return t===""||t===void 0}var JK=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=E.useRef(null),o=yt(e,s),a=wI(r);return E.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&h){const g=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(g)}},[a,r]),F.jsx(Ey,{asChild:!0,children:F.jsx("select",{...n,ref:o,defaultValue:r})})});JK.displayName="BubbleSelect";function eY(t){const e=ir(t),r=E.useRef(""),n=E.useRef(0),s=E.useCallback(a=>{const l=r.current+a;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function tY(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=jSe(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function jSe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var pKe=TK,gKe=PK,mKe=OK,vKe=IK,yKe=BK,_Ke=FK,bKe=LK,wKe=$K,xKe=zK,EKe=VK,SKe=HK,CKe=KK,AKe=YK,TKe=XK,DKe=ZK;function Bx(){return(Bx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function rY(t,e){if(t==null)return{};var r,n,s={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(s[r]=t[r]);return s}function gP(t){var e=E.useRef(t),r=E.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var Av=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Xg=function(t){return"touches"in t},mP=function(t){return t&&t.ownerDocument.defaultView||self},hL=function(t,e,r){var n=t.getBoundingClientRect(),s=Xg(e)?function(o,a){for(var l=0;l<o.length;l++)if(o[l].identifier===a)return o[l];return o[0]}(e.touches,r):e;return{left:Av((s.pageX-(n.left+mP(t).pageXOffset))/n.width),top:Av((s.pageY-(n.top+mP(t).pageYOffset))/n.height)}},pL=function(t){!Xg(t)&&t.preventDefault()},nY=Z.memo(function(t){var e=t.onMove,r=t.onKey,n=rY(t,["onMove","onKey"]),s=E.useRef(null),o=gP(e),a=gP(r),l=E.useRef(null),c=E.useRef(!1),d=E.useMemo(function(){var y=function(f){pL(f),(Xg(f)?f.touches.length>0:f.buttons>0)&&s.current?o(hL(s.current,f,l.current)):u(!1)},b=function(){return u(!1)};function u(f){var p=c.current,v=mP(s.current),_=f?v.addEventListener:v.removeEventListener;_(p?"touchmove":"mousemove",y),_(p?"touchend":"mouseup",b)}return[function(f){var p=f.nativeEvent,v=s.current;if(v&&(pL(p),!function(w,x){return x&&!Xg(w)}(p,c.current)&&v)){if(Xg(p)){c.current=!0;var _=p.changedTouches||[];_.length&&(l.current=_[0].identifier)}v.focus(),o(hL(v,p,l.current)),u(!0)}},function(f){var p=f.which||f.keyCode;p<37||p>40||(f.preventDefault(),a({left:p===39?.05:p===37?-.05:0,top:p===40?.05:p===38?-.05:0}))},u]},[a,o]),h=d[0],g=d[1],m=d[2];return E.useEffect(function(){return m},[m]),Z.createElement("div",Bx({},n,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:s,onKeyDown:g,tabIndex:0,role:"slider"}))}),SI=function(t){return t.filter(Boolean).join(" ")},iY=function(t){var e=t.color,r=t.left,n=t.top,s=n===void 0?.5:n,o=SI(["react-colorful__pointer",t.className]);return Z.createElement("div",{className:o,style:{top:100*s+"%",left:100*r+"%"}},Z.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Mn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},zSe=function(t){return KSe(vP(t))},vP=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Mn(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?Mn(parseInt(t.substring(6,8),16)/255,2):1}},GSe=function(t){return WSe(HSe(t))},VSe=function(t){var e=t.s,r=t.v,n=t.a,s=(200-e)*r/100;return{h:Mn(t.h),s:Mn(s>0&&s<200?e*r/100/(s<=100?s:200-s)*100:0),l:Mn(s/2),a:Mn(n,2)}},yP=function(t){var e=VSe(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},HSe=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),a=n*(1-r),l=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:Mn(255*[n,l,a,a,c,n][d]),g:Mn(255*[c,n,n,l,a,a][d]),b:Mn(255*[a,a,c,n,n,l][d]),a:Mn(s,2)}},Q0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},WSe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s<1?Q0(Mn(255*s)):"";return"#"+Q0(e)+Q0(r)+Q0(n)+o},KSe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),a=o-Math.min(e,r,n),l=a?o===e?(r-n)/a:o===r?2+(n-e)/a:4+(e-r)/a:0;return{h:Mn(60*(l<0?l+6:l)),s:Mn(o?a/o*100:0),v:Mn(o/255*100),a:s}},YSe=Z.memo(function(t){var e=t.hue,r=t.onChange,n=SI(["react-colorful__hue",t.className]);return Z.createElement("div",{className:n},Z.createElement(nY,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:Av(e+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":Mn(e),"aria-valuemax":"360","aria-valuemin":"0"},Z.createElement(iY,{className:"react-colorful__hue-pointer",left:e/360,color:yP({h:e,s:100,v:100,a:1})})))}),XSe=Z.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:yP({h:e.h,s:100,v:100,a:1})};return Z.createElement("div",{className:"react-colorful__saturation",style:n},Z.createElement(nY,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:Av(e.s+100*s.left,0,100),v:Av(e.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Mn(e.s)+"%, Brightness "+Mn(e.v)+"%"},Z.createElement(iY,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:yP(e)})))}),sY=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},qSe=function(t,e){return t.toLowerCase()===e.toLowerCase()||sY(vP(t),vP(e))};function ZSe(t,e,r){var n=gP(r),s=E.useState(function(){return t.toHsva(e)}),o=s[0],a=s[1],l=E.useRef({color:e,hsva:o});E.useEffect(function(){if(!t.equal(e,l.current.color)){var d=t.toHsva(e);l.current={hsva:d,color:e},a(d)}},[e,t]),E.useEffect(function(){var d;sY(o,l.current.hsva)||t.equal(d=t.fromHsva(o),l.current.color)||(l.current={hsva:o,color:d},n(d))},[o,t,n]);var c=E.useCallback(function(d){a(function(h){return Object.assign({},h,d)})},[]);return[o,c]}var QSe=typeof window<"u"?E.useLayoutEffect:E.useEffect,JSe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},gL=new Map,eCe=function(t){QSe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!gL.has(e)){var r=e.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',gL.set(e,r);var n=JSe();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},tCe=function(t){var e=t.className,r=t.colorModel,n=t.color,s=n===void 0?r.defaultColor:n,o=t.onChange,a=rY(t,["className","colorModel","color","onChange"]),l=E.useRef(null);eCe(l);var c=ZSe(r,s,o),d=c[0],h=c[1],g=SI(["react-colorful",e]);return Z.createElement("div",Bx({},a,{ref:l,className:g}),Z.createElement(XSe,{hsva:d,onChange:h}),Z.createElement(YSe,{hue:d.h,onChange:h,className:"react-colorful__last-control"}))},rCe={defaultColor:"000",toHsva:zSe,fromHsva:function(t){return GSe({h:t.h,s:t.s,v:t.v,a:1})},equal:qSe},PKe=function(t){return Z.createElement(tCe,Bx({},t,{colorModel:rCe}))},CI="Popover",[oY,RKe]=Li(CI,[da]),Cy=da(),[nCe,Xu]=oY(CI),aY=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!1}=t,l=Cy(e),c=E.useRef(null),[d,h]=E.useState(!1),[g=!1,m]=Jn({prop:n,defaultProp:s,onChange:o});return F.jsx(Xh,{...l,children:F.jsx(nCe,{scope:e,contentId:Nn(),triggerRef:c,open:g,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:d,onCustomAnchorAdd:E.useCallback(()=>h(!0),[]),onCustomAnchorRemove:E.useCallback(()=>h(!1),[]),modal:a,children:r})})};aY.displayName=CI;var lY="PopoverAnchor",iCe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Xu(lY,r),o=Cy(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return E.useEffect(()=>(a(),()=>l()),[a,l]),F.jsx(qh,{...o,...n,ref:e})});iCe.displayName=lY;var uY="PopoverTrigger",cY=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Xu(uY,r),o=Cy(r),a=yt(e,s.triggerRef),l=F.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gY(s.open),...n,ref:a,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:F.jsx(qh,{asChild:!0,...o,children:l})});cY.displayName=uY;var AI="PopoverPortal",[sCe,oCe]=oY(AI,{forceMount:void 0}),dY=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,o=Xu(AI,e);return F.jsx(sCe,{scope:e,forceMount:r,children:F.jsx(Ni,{present:r||o.open,children:F.jsx(cy,{asChild:!0,container:s,children:n})})})};dY.displayName=AI;var Th="PopoverContent",fY=E.forwardRef((t,e)=>{const r=oCe(Th,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,o=Xu(Th,t.__scopePopover);return F.jsx(Ni,{present:n||o.open,children:o.modal?F.jsx(aCe,{...s,ref:e}):F.jsx(lCe,{...s,ref:e})})});fY.displayName=Th;var aCe=E.forwardRef((t,e)=>{const r=Xu(Th,t.__scopePopover),n=E.useRef(null),s=yt(e,n),o=E.useRef(!1);return E.useEffect(()=>{const a=n.current;if(a)return dy(a)},[]),F.jsx(IO,{as:na,allowPinchZoom:!0,children:F.jsx(hY,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),lCe=E.forwardRef((t,e)=>{const r=Xu(Th,t.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return F.jsx(hY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),hY=E.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...g}=t,m=Xu(Th,r),y=Cy(r);return bO(),F.jsx(Wh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:F.jsx(oy,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:F.jsx(ly,{"data-state":gY(m.open),role:"dialog",id:m.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pY="PopoverClose",uCe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Xu(pY,r);return F.jsx(Ye.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});uCe.displayName=pY;var cCe="PopoverArrow",dCe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Cy(r);return F.jsx(uy,{...s,...n,ref:e})});dCe.displayName=cCe;function gY(t){return t?"open":"closed"}var OKe=aY,IKe=cY,BKe=dY,FKe=fY,fCe="Toggle",TI=E.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...o}=t,[a=!1,l]=Jn({prop:r,onChange:s,defaultProp:n});return F.jsx(Ye.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:fe(t.onClick,()=>{t.disabled||l(!a)})})});TI.displayName=fCe;var MKe=TI,np="ToggleGroup",[mY,vY]=Li(np,[Xs]),yY=Xs(),DI=Z.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return F.jsx(hCe,{...s,ref:e})}if(r==="multiple"){const s=n;return F.jsx(pCe,{...s,ref:e})}throw new Error("Missing prop `type` expected on `".concat(np,"`"))});DI.displayName=np;var[_Y,bY]=mY(np),hCe=Z.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[a,l]=Jn({prop:r,defaultProp:n,onChange:s});return F.jsx(_Y,{scope:t.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:l,onItemDeactivate:Z.useCallback(()=>l(""),[l]),children:F.jsx(wY,{...o,ref:e})})}),pCe=Z.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[a=[],l]=Jn({prop:r,defaultProp:n,onChange:s}),c=Z.useCallback(h=>l((g=[])=>[...g,h]),[l]),d=Z.useCallback(h=>l((g=[])=>g.filter(m=>m!==h)),[l]);return F.jsx(_Y,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:c,onItemDeactivate:d,children:F.jsx(wY,{...o,ref:e})})});DI.displayName=np;var[gCe,mCe]=mY(np),wY=Z.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:o,dir:a,loop:l=!0,...c}=t,d=yY(r),h=ua(a),g={role:"group",dir:h,...c};return F.jsx(gCe,{scope:r,rovingFocus:s,disabled:n,children:s?F.jsx(Zh,{asChild:!0,...d,orientation:o,dir:h,loop:l,children:F.jsx(Ye.div,{...g,ref:e})}):F.jsx(Ye.div,{...g,ref:e})})}),Kb="ToggleGroupItem",xY=Z.forwardRef((t,e)=>{const r=bY(Kb,t.__scopeToggleGroup),n=mCe(Kb,t.__scopeToggleGroup),s=yY(t.__scopeToggleGroup),o=r.value.includes(t.value),a=n.disabled||t.disabled,l={...t,pressed:o,disabled:a},c=Z.useRef(null);return n.rovingFocus?F.jsx(wd,{asChild:!0,...s,focusable:!a,active:o,ref:c,children:F.jsx(mL,{...l,ref:e})}):F.jsx(mL,{...l,ref:e})});xY.displayName=Kb;var mL=Z.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,o=bY(Kb,r),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?a:void 0;return F.jsx(TI,{...l,...s,ref:e,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),vCe=DI,yCe=xY,[Fx,kKe]=Li("Tooltip",[da]),Mx=da(),EY="TooltipProvider",_Ce=700,_P="tooltip.open",[bCe,PI]=Fx(EY),SY=t=>{const{__scopeTooltip:e,delayDuration:r=_Ce,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[a,l]=E.useState(!0),c=E.useRef(!1),d=E.useRef(0);return E.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),F.jsx(bCe,{scope:e,isOpenDelayed:a,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};SY.displayName=EY;var kx="Tooltip",[wCe,Ay]=Fx(kx),CY=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=t,c=PI(kx,t.__scopeTooltip),d=Mx(e),[h,g]=E.useState(null),m=Nn(),y=E.useRef(0),b=a!=null?a:c.disableHoverableContent,u=l!=null?l:c.delayDuration,f=E.useRef(!1),[p=!1,v]=Jn({prop:n,defaultProp:s,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(_P))):c.onClose(),o==null||o(A)}}),_=E.useMemo(()=>p?f.current?"delayed-open":"instant-open":"closed",[p]),w=E.useCallback(()=>{window.clearTimeout(y.current),f.current=!1,v(!0)},[v]),x=E.useCallback(()=>{window.clearTimeout(y.current),v(!1)},[v]),S=E.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{f.current=!0,v(!0)},u)},[u,v]);return E.useEffect(()=>()=>window.clearTimeout(y.current),[]),F.jsx(Xh,{...d,children:F.jsx(wCe,{scope:e,contentId:m,open:p,stateAttribute:_,trigger:h,onTriggerChange:g,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayed?S():w()},[c.isOpenDelayed,S,w]),onTriggerLeave:E.useCallback(()=>{b?x():window.clearTimeout(y.current)},[x,b]),onOpen:w,onClose:x,disableHoverableContent:b,children:r})})};CY.displayName=kx;var bP="TooltipTrigger",AY=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ay(bP,r),o=PI(bP,r),a=Mx(r),l=E.useRef(null),c=yt(e,l,s.onTriggerChange),d=E.useRef(!1),h=E.useRef(!1),g=E.useCallback(()=>d.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),F.jsx(qh,{asChild:!0,...a,children:F.jsx(Ye.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:fe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});AY.displayName=bP;var RI="TooltipPortal",[xCe,ECe]=Fx(RI,{forceMount:void 0}),TY=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,o=Ay(RI,e);return F.jsx(xCe,{scope:e,forceMount:r,children:F.jsx(Ni,{present:r||o.open,children:F.jsx(cy,{asChild:!0,container:s,children:n})})})};TY.displayName=RI;var Dh="TooltipContent",DY=E.forwardRef((t,e)=>{const r=ECe(Dh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,a=Ay(Dh,t.__scopeTooltip);return F.jsx(Ni,{present:n||a.open,children:a.disableHoverableContent?F.jsx(PY,{side:s,...o,ref:e}):F.jsx(SCe,{side:s,...o,ref:e})})}),SCe=E.forwardRef((t,e)=>{const r=Ay(Dh,t.__scopeTooltip),n=PI(Dh,t.__scopeTooltip),s=E.useRef(null),o=yt(e,s),[a,l]=E.useState(null),{trigger:c,onClose:d}=r,h=s.current,{onPointerInTransitChange:g}=n,m=E.useCallback(()=>{l(null),g(!1)},[g]),y=E.useCallback((b,u)=>{const f=b.currentTarget,p={x:b.clientX,y:b.clientY},v=DCe(p,f.getBoundingClientRect()),_=PCe(p,v),w=RCe(u.getBoundingClientRect()),x=ICe([..._,...w]);l(x),g(!0)},[g]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(c&&h){const b=f=>y(f,h),u=f=>y(f,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",u),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",u)}}},[c,h,y,m]),E.useEffect(()=>{if(a){const b=u=>{const f=u.target,p={x:u.clientX,y:u.clientY},v=(c==null?void 0:c.contains(f))||(h==null?void 0:h.contains(f)),_=!OCe(p,a);v?m():_&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,a,d,m]),F.jsx(PY,{...t,ref:o})}),[CCe,ACe]=Fx(kx,{isInside:!1}),PY=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=Ay(Dh,r),d=Mx(r),{onClose:h}=c;return E.useEffect(()=>(document.addEventListener(_P,h),()=>document.removeEventListener(_P,h)),[h]),E.useEffect(()=>{if(c.trigger){const g=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,h]),F.jsx(oy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:F.jsxs(ly,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[F.jsx(mO,{children:n}),F.jsx(CCe,{scope:r,isInside:!0,children:F.jsx(ESe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});DY.displayName=Dh;var RY="TooltipArrow",TCe=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Mx(r);return ACe(RY,r).isInside?null:F.jsx(uy,{...s,...n,ref:e})});TCe.displayName=RY;function DCe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function PCe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function RCe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function OCe(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function ICe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),BCe(e)}function BCe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var NKe=SY,LKe=CY,UKe=AY,$Ke=TY,jKe=DY,OI="Tabs",[FCe,zKe]=Li(OI,[Xs]),OY=Xs(),[MCe,II]=FCe(OI),IY=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=ua(l),[g,m]=Jn({prop:n,onChange:s,defaultProp:o});return F.jsx(MCe,{scope:r,baseId:Nn(),value:g,onValueChange:m,orientation:a,dir:h,activationMode:c,children:F.jsx(Ye.div,{dir:h,"data-orientation":a,...d,ref:e})})});IY.displayName=OI;var BY="TabsList",FY=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=II(BY,r),a=OY(r);return F.jsx(Zh,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:F.jsx(Ye.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});FY.displayName=BY;var MY="TabsTrigger",kY=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,a=II(MY,r),l=OY(r),c=UY(a.baseId,n),d=$Y(a.baseId,n),h=n===a.value;return F.jsx(wd,{asChild:!0,...l,focusable:!s,active:h,children:F.jsx(Ye.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:fe(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(n):g.preventDefault()}),onKeyDown:fe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(n)}),onFocus:fe(t.onFocus,()=>{const g=a.activationMode!=="manual";!h&&!s&&g&&a.onValueChange(n)})})})});kY.displayName=MY;var NY="TabsContent",LY=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=t,l=II(NY,r),c=UY(l.baseId,n),d=$Y(l.baseId,n),h=n===l.value,g=E.useRef(h);return E.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),F.jsx(Ni,{present:s||h,children:({present:m})=>F.jsx(Ye.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:m&&o})})});LY.displayName=NY;function UY(t,e){return"".concat(t,"-trigger-").concat(e)}function $Y(t,e){return"".concat(t,"-content-").concat(e)}var GKe=IY,VKe=FY,HKe=kY,WKe=LY,kCe=Object.defineProperty,NCe=Object.defineProperties,LCe=Object.getOwnPropertyDescriptors,vL=Object.getOwnPropertySymbols,UCe=Object.prototype.hasOwnProperty,$Ce=Object.prototype.propertyIsEnumerable,yL=(t,e,r)=>e in t?kCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jCe=(t,e)=>{for(var r in e||(e={}))UCe.call(e,r)&&yL(t,r,e[r]);if(vL)for(var r of vL(e))$Ce.call(e,r)&&yL(t,r,e[r]);return t},zCe=(t,e)=>NCe(t,LCe(e)),GCe=E.createContext(void 0),VCe=()=>E.useContext(GCe);function jY(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((r,n)=>r&&jY(t[n],e[n]),!0):t===e}var HCe=E.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),WCe=()=>E.useContext(HCe),zY=new Set(["shift","alt","meta","mod","ctrl","control"]),KCe={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function Ph(t){return(KCe[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function YCe(t){return zY.has(t)}function mC(t,e=","){return t.toLowerCase().split(e)}function vC(t,e="+",r=!1,n){const s=t.toLocaleLowerCase().split(e).map(l=>Ph(l)),o={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),meta:s.includes("meta"),mod:s.includes("mod"),shift:s.includes("shift"),useKey:r},a=s.filter(l=>!zY.has(l));return zCe(jCe({},o),{description:n,keys:a})}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&VY([Ph(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&HY([Ph(t.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{eu.clear()});var eu=new Set;function GY(t){return Array.isArray(t)}function XCe(t,e=","){return(GY(t)?t:t.split(e)).every(n=>eu.has(n.trim().toLowerCase()))}function VY(t){const e=Array.isArray(t)?t:[t];eu.has("meta")&&eu.forEach(r=>!YCe(r)&&eu.delete(r.toLowerCase())),e.forEach(r=>eu.add(r.toLowerCase()))}function HY(t){const e=Array.isArray(t)?t:[t];t==="meta"?eu.clear():e.forEach(r=>eu.delete(r.toLowerCase()))}var J0={AVRInput:"AVRInput",AVRPower:"AVRPower",Accept:"Accept",Add:"Add",Again:"Again",AllCandidates:"AllCandidates",Alphanumeric:"Alphanumeric",Alt:"Alt",AltGraph:"AltGraph",AppSwitch:"AppSwitch",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Attn:"Attn",AudioBalanceLeft:"AudioBalanceLeft",AudioBalanceRight:"AudioBalanceRight",AudioBassBoostDown:"AudioBassBoostDown",AudioBassBoostToggle:"AudioBassBoostToggle",AudioBassBoostUp:"AudioBassBoostUp",AudioBassDown:"AudioBassDown",AudioBassUp:"AudioBassUp",AudioFaderFront:"AudioFaderFront",AudioFaderRear:"AudioFaderRear",AudioSurroundModeNext:"AudioSurroundModeNext",AudioTrebleDown:"AudioTrebleDown",AudioTrebleUp:"AudioTrebleUp",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",Backspace:"Backspace",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Call:"Call",Camera:"Camera",CameraFocus:"CameraFocus",Cancel:"Cancel",CapsLock:"CapsLock",ChannelDown:"ChannelDown",ChannelUp:"ChannelUp",Clear:"Clear",Close:"Close",ClosedCaptionToggle:"ClosedCaptionToggle",CodeInput:"CodeInput",ColorF0Red:"ColorF0Red",ColorF1Green:"ColorF1Green",ColorF2Yellow:"ColorF2Yellow",ColorF3Blue:"ColorF3Blue",ColorF4Grey:"ColorF4Grey",ColorF5Brown:"ColorF5Brown",Compose:"Compose",ContextMenu:"ContextMenu",Control:"Control",Convert:"Convert",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",DVR:"DVR",Dead:"Dead",Decimal:"Decimal",Delete:"Delete",Dimmer:"Dimmer",DisplaySwap:"DisplaySwap",Divide:"Divide",Eisu:"Eisu",Eject:"Eject",End:"End",EndCall:"EndCall",Enter:"Enter",EraseEof:"EraseEof",Escape:"Escape",ExSel:"ExSel",Execute:"Execute",Exit:"Exit",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",FavoriteClear0:"FavoriteClear0",FavoriteClear1:"FavoriteClear1",FavoriteClear2:"FavoriteClear2",FavoriteClear3:"FavoriteClear3",FavoriteRecall0:"FavoriteRecall0",FavoriteRecall1:"FavoriteRecall1",FavoriteRecall2:"FavoriteRecall2",FavoriteRecall3:"FavoriteRecall3",FavoriteStore0:"FavoriteStore0",FavoriteStore1:"FavoriteStore1",FavoriteStore2:"FavoriteStore2",FavoriteStore3:"FavoriteStore3",FinalMode:"FinalMode",Find:"Find",Finish:"Finish",Fn:"Fn",FnLock:"FnLock",GoBack:"GoBack",GoHome:"GoHome",GroupFirst:"GroupFirst",GroupLast:"GroupLast",GroupNext:"GroupNext",GroupPrevious:"GroupPrevious",Guide:"Guide",GuideNextDay:"GuideNextDay",GuidePreviousDay:"GuidePreviousDay",HangulMode:"HangulMode",HanjaMode:"HanjaMode",Hankaku:"Hankaku",HeadsetHook:"HeadsetHook",Help:"Help",Hibernate:"Hibernate",Hiragana:"Hiragana",HiraganaKatakana:"HiraganaKatakana",Home:"Home",Hyper:"Hyper",Info:"Info",Insert:"Insert",InstantReplay:"InstantReplay",JunjaMode:"JunjaMode",KanaMode:"KanaMode",KanjiMode:"KanjiMode",Katakana:"Katakana",Key11:"Key11",Key12:"Key12",LastNumberRedial:"LastNumberRedial",LaunchApplication1:"LaunchApplication1",LaunchApplication2:"LaunchApplication2",LaunchApplication3:"LaunchApplication3",LaunchApplication4:"LaunchApplication4",LaunchApplication5:"LaunchApplication5",LaunchApplication6:"LaunchApplication6",LaunchApplication7:"LaunchApplication7",LaunchApplication8:"LaunchApplication8",LaunchApplication9:"LaunchApplication9",LaunchApplication10:"LaunchApplication10",LaunchApplication11:"LaunchApplication11",LaunchApplication12:"LaunchApplication12",LaunchApplication13:"LaunchApplication13",LaunchApplication14:"LaunchApplication14",LaunchApplication15:"LaunchApplication15",LaunchApplication16:"LaunchApplication16",LaunchCalculator:"LaunchCalculator",LaunchCalendar:"LaunchCalendar",LaunchContacts:"LaunchContacts",LaunchMail:"LaunchMail",LaunchMediaPlayer:"LaunchMediaPlayer",LaunchMusicPlayer:"LaunchMusicPlayer",LaunchMyComputer:"LaunchMyComputer",LaunchPhone:"LaunchPhone",LaunchScreenSaver:"LaunchScreenSaver",LaunchSpreadsheet:"LaunchSpreadsheet",LaunchWebBrowser:"LaunchWebBrowser",LaunchWebCam:"LaunchWebCam",LaunchWordProcessor:"LaunchWordProcessor",Link:"Link",ListProgram:"ListProgram",LiveContent:"LiveContent",Lock:"Lock",LogOff:"LogOff",MailForward:"MailForward",MailReply:"MailReply",MailSend:"MailSend",MannerMode:"MannerMode",MediaApps:"MediaApps",MediaAudioTrack:"MediaAudioTrack",MediaFastForward:"MediaFastForward",MediaLast:"MediaLast",MediaPause:"MediaPause",MediaPlay:"MediaPlay",MediaPlayPause:"MediaPlayPause",MediaRecord:"MediaRecord",MediaRewind:"MediaRewind",MediaSkipBackward:"MediaSkipBackward",MediaSkipForward:"MediaSkipForward",MediaStepBackward:"MediaStepBackward",MediaStepForward:"MediaStepForward",MediaStop:"MediaStop",MediaTopMenu:"MediaTopMenu",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Meta:"Meta",MicrophoneToggle:"MicrophoneToggle",MicrophoneVolumeDown:"MicrophoneVolumeDown",MicrophoneVolumeMute:"MicrophoneVolumeMute",MicrophoneVolumeUp:"MicrophoneVolumeUp",Mod:"Mod",ModeChange:"ModeChange",Multiply:"Multiply",NavigateIn:"NavigateIn",NavigateNext:"NavigateNext",NavigateOut:"NavigateOut",NavigatePrevious:"NavigatePrevious",New:"New",NextCandidate:"NextCandidate",NextFavoriteChannel:"NextFavoriteChannel",NextUserProfile:"NextUserProfile",NonConvert:"NonConvert",Notification:"Notification",NumLock:"NumLock",OnDemand:"OnDemand",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Pairing:"Pairing",Paste:"Paste",Pause:"Pause",PinPDown:"PinPDown",PinPMove:"PinPMove",PinPToggle:"PinPToggle",PinPUp:"PinPUp",Play:"Play",PlaySpeedDown:"PlaySpeedDown",PlaySpeedReset:"PlaySpeedReset",PlaySpeedUp:"PlaySpeedUp",Power:"Power",PowerOff:"PowerOff",PreviousCandidate:"PreviousCandidate",Print:"Print",PrintScreen:"PrintScreen",Process:"Process",Props:"Props",RandomToggle:"RandomToggle",RcLowBattery:"RcLowBattery",RecordSpeedNext:"RecordSpeedNext",Redo:"Redo",RfBypass:"RfBypass",Romaji:"Romaji",STBInput:"STBInput",STBPower:"STBPower",Save:"Save",ScanChannelsToggle:"ScanChannelsToggle",ScreenModeNext:"ScreenModeNext",ScrollLock:"ScrollLock",Select:"Select",Separator:"Separator",Settings:"Settings",Shift:"Shift",SingleCandidate:"SingleCandidate",Soft1:"Soft1",Soft2:"Soft2",Soft3:"Soft3",Soft4:"Soft4",SpeechCorrectionList:"SpeechCorrectionList",SpeechInputToggle:"SpeechInputToggle",SpellCheck:"SpellCheck",SplitScreenToggle:"SplitScreenToggle",Standby:"Standby",Subtitle:"Subtitle",Subtract:"Subtract",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",TV:"TV",TV3DMode:"TV3DMode",TVAntennaCable:"TVAntennaCable",TVAudioDescription:"TVAudioDescription",TVAudioDescriptionMixDown:"TVAudioDescriptionMixDown",TVAudioDescriptionMixUp:"TVAudioDescriptionMixUp",TVContentsMenu:"TVContentsMenu",TVDataService:"TVDataService",TVInput:"TVInput",TVInputComponent1:"TVInputComponent1",TVInputComponent2:"TVInputComponent2",TVInputComposite1:"TVInputComposite1",TVInputComposite2:"TVInputComposite2",TVInputHDMI1:"TVInputHDMI1",TVInputHDMI2:"TVInputHDMI2",TVInputHDMI3:"TVInputHDMI3",TVInputHDMI4:"TVInputHDMI4",TVInputVGA1:"TVInputVGA1",TVMediaContext:"TVMediaContext",TVNetwork:"TVNetwork",TVNumberEntry:"TVNumberEntry",TVPower:"TVPower",TVRadioService:"TVRadioService",TVSatellite:"TVSatellite",TVSatelliteBS:"TVSatelliteBS",TVSatelliteCS:"TVSatelliteCS",TVSatelliteToggle:"TVSatelliteToggle",TVTerrestrialAnalog:"TVTerrestrialAnalog",TVTerrestrialDigital:"TVTerrestrialDigital",TVTimer:"TVTimer",Tab:"Tab",Teletext:"Teletext",Undo:"Undo",Unidentified:"Unidentified",VideoModeNext:"VideoModeNext",VoiceDial:"VoiceDial",WakeUp:"WakeUp",Wink:"Wink",Zenkaku:"Zenkaku",ZenkakuHanaku:"ZenkakuHanaku",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",ZoomToggle:"ZoomToggle"};function qCe(t){const e=E.useRef();return jY(e.current,t)||(e.current=t),e.current}function ZCe(t,e,r){(typeof r=="function"&&r(t,e)||r===!0)&&t.preventDefault()}function QCe(t,e,r){return typeof r=="function"?r(t,e):r===!0||r===void 0}function JCe(t){return WY(t,["input","textarea","select"])}function WY({target:t},e=!1){const r=t&&t.tagName;return GY(e)?!!(r&&(e!=null&&e.some(n=>n.toLowerCase()===r.toLowerCase()))):!!(r&&e&&e)}function eAe(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(r=>e.includes(r))||t.includes("*"):!0}var tAe=(t,e,r=!1)=>{const{alt:n,ctrl:s,keys:o,meta:a,mod:l,shift:c,useKey:d}=e,{altKey:h,code:g,ctrlKey:m,key:y,metaKey:b,shiftKey:u}=t,f=Ph(g);if(d&&(o==null?void 0:o.length)===1&&o.includes(y))return!0;if(!(o!=null&&o.includes(f))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(f))return!1;if(!r){if(n!==h&&f!=="alt"||c!==u&&f!=="shift")return!1;if(l){if(!b&&!m)return!1}else if(a!==b&&f!=="meta"&&f!=="os"||s!==m&&f!=="ctrl"&&f!=="control")return!1}return o&&o.length===1&&o.includes(f)?!0:o?XCe(o):!o},_L=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},rAe=typeof window>"u"?E.useEffect:E.useLayoutEffect;function nAe(t,e,r,n){const[s,o]=E.useState(null),a=E.useRef(!1),l=Array.isArray(r)?Array.isArray(n)?void 0:n:r,c=E.useMemo(()=>Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(u=>u.map(f=>f.toString()).join((l==null?void 0:l.splitKey)||"+")).join((l==null?void 0:l.delimiter)||","):Array.isArray(t)?t.join((l==null?void 0:l.delimiter)||","):t,[t,l==null?void 0:l.splitKey,l==null?void 0:l.delimiter]),d=Array.isArray(r)?r:Array.isArray(n)?n:void 0,h=E.useCallback(e,d!=null?d:[]),g=E.useRef(h);g.current=d?h:e;const m=qCe(l),{activeScopes:y}=WCe(),b=VCe();return rAe(()=>{if((m==null?void 0:m.enabled)===!1||!eAe(y,m==null?void 0:m.scopes))return;const u=(_,w=!1)=>{var x;if(!(JCe(_)&&!WY(_,m==null?void 0:m.enableOnFormTags))){if(s!==null){const S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){_L(_);return}}(x=_.target)!=null&&x.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||mC(c,m==null?void 0:m.delimiter).forEach(S=>{var A,D,C;const T=vC(S,m==null?void 0:m.splitKey,m==null?void 0:m.useKey);if(tAe(_,T,m==null?void 0:m.ignoreModifiers)||(A=T.keys)!=null&&A.includes("*")){if(((D=m==null?void 0:m.ignoreEventWhenPrevented)==null||D)&&_.defaultPrevented||(C=m==null?void 0:m.ignoreEventWhen)!=null&&C.call(m,_)||w&&a.current)return;if(!QCe(_,T,m==null?void 0:m.enabled)){_L(_);return}g.current(_,T),ZCe(_,T,m==null?void 0:m.preventDefault),w||(a.current=!0)}})}},f=_=>{_.code!==void 0&&(VY(Ph(_.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&u(_))},p=_=>{_.code!==void 0&&(HY(Ph(_.code)),a.current=!1,m!=null&&m.keyup&&u(_,!0))},v=s||(l==null?void 0:l.document)||document;return v.addEventListener("keyup",p),v.addEventListener("keydown",f),b&&mC(c,m==null?void 0:m.delimiter).forEach(_=>b.addHotkey(vC(_,m==null?void 0:m.splitKey,m==null?void 0:m.useKey,m==null?void 0:m.description))),()=>{v.removeEventListener("keyup",p),v.removeEventListener("keydown",f),b&&mC(c,m==null?void 0:m.delimiter).forEach(_=>b.removeHotkey(vC(_,m==null?void 0:m.splitKey,m==null?void 0:m.useKey,m==null?void 0:m.description)))}},[s,c,m,y]),o}var Yb=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),iAe=t=>t===void 0,sAe=t=>t===null,oAe=t=>iAe(t)||sAe(t),Td=t=>!oAe(t);function Rh(t,e){return(...r)=>t(e,...r)}let aAe=0;function Jo(t,e){const r="atom".concat(++aAe),n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=lAe,n.write=uAe),e&&(n.write=e),n}function lAe(t){return t(this)}function uAe(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}const yC=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,bL=t=>"init"in t,wL=t=>!!t.write,Xb=new WeakMap,cAe=(t,e)=>{Xb.set(t,e),t.catch(()=>{}).finally(()=>Xb.delete(t))},xL=(t,e)=>{const r=Xb.get(t);r&&(Xb.delete(t),r(e))},EL=(t,e)=>{t.status="fulfilled",t.value=e},SL=(t,e)=>{t.status="rejected",t.reason=e},dAe=t=>typeof(t==null?void 0:t.then)=="function",Gp=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),CL=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),Xd=t=>!!t&&"v"in t&&t.v instanceof Promise,fAe=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,e_=t=>{if("e"in t)throw t.e;return t.v},KY=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let s,o;const a=D=>t.get(D),l=(D,C)=>{C.d.forEach((T,R)=>{if(!n.has(R)){const P=a(R);n.set(R,[P,new Set]),P&&l(R,P)}n.get(R)[1].add(D)})},c=(D,C)=>{var T;const R=a(D);if(t.set(D,C),(T=r[r.length-1])==null||T.add(D),n.has(D)||(n.set(D,[R,new Set]),l(D,C)),Xd(R)){const P="v"in C?C.v instanceof Promise?C.v:Promise.resolve(C.v):Promise.reject(C.e);R.v!==P&&xL(R.v,P)}},d=(D,C,T,R)=>{const P=new Map(R?C.d:null);let O=!1;T.forEach((I,k)=>{!I&&yC(D,k)&&(I=C),I&&(P.set(k,I),C.d.get(k)!==I&&(O=!0))}),(O||C.d.size!==P.size)&&(C.d=P)},h=(D,C,T,R)=>{const P=a(D),O={d:(P==null?void 0:P.d)||new Map,v:C};if(T&&d(D,O,T,R),Gp(P,O)&&P.d===O.d)return P;if(Xd(P)&&Xd(O)&&fAe(P,O)){if(P.d===O.d)return P;O.v=P.v}return c(D,O),O},g=(D,C,T,R)=>{if(dAe(C)){let P;const O=()=>{const k=a(D);if(!Xd(k)||k.v!==I)return;const W=h(D,I,T);e.has(D)&&k.d!==W.d&&x(D,W,k.d)},I=new Promise((k,W)=>{let V=!1;C.then(j=>{V||(V=!0,EL(I,j),k(j),O())},j=>{V||(V=!0,SL(I,j),W(j),O())}),P=j=>{V||(V=!0,j.then($=>EL(I,$),$=>SL(I,$)),k(j))}});return I.orig=C,I.status="pending",cAe(I,k=>{k&&(P(k),R==null||R())}),h(D,I,T,!0)}return h(D,C,T)},m=(D,C,T)=>{const R=a(D),P={d:(R==null?void 0:R.d)||new Map,e:C};return T&&d(D,P,T),CL(R,P)&&R.d===P.d?R:(c(D,P),P)},y=(D,C)=>{const T=a(D);if(!(C!=null&&C(D))&&T&&(e.has(D)||Array.from(T.d).every(([V,j])=>{if(V===D)return!0;const $=y(V,C);return $===j||Gp($,j)})))return T;const R=new Map;let P=!0;const O=V=>{if(yC(D,V)){const $=a(V);if($)return R.set(V,$),e_($);if(bL(V))return R.set(V,void 0),V.init;throw new Error("no atom init")}const j=y(V,C);return R.set(V,j),e_(j)};let I,k;const W={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return!k&&wL(D)&&(k=(...V)=>{if(!P)return p(D,...V)}),k}};try{const V=D.read(O,W);return g(D,V,R,()=>I==null?void 0:I.abort())}catch(V){return m(D,V,R)}finally{P=!1}},b=D=>e_(y(D)),u=D=>{const C=k=>{var W,V;const j=new Set((W=e.get(k))==null?void 0:W.t);return(V=n.get(k))==null||V[1].forEach($=>{j.add($)}),j},T=new Array,R=new Set,P=k=>{if(!R.has(k)){R.add(k);for(const W of C(k))k!==W&&P(W);T.push(k)}};P(D);const O=new Set([D]),I=k=>R.has(k);for(let k=T.length-1;k>=0;--k){const W=T[k],V=a(W);if(!V)continue;let j=!1;for(const $ of V.d.keys())if($!==W&&O.has($)){j=!0;break}if(j){const $=y(W,I);l(W,$),Gp(V,$)||O.add(W)}R.delete(W)}},f=(D,...C)=>{const T=O=>e_(y(O)),R=(O,...I)=>{const k=r.length>0;k||r.push(new Set([O]));let W;if(yC(D,O)){if(!bL(O))throw new Error("atom not writable");const V=a(O),j=g(O,I[0]);Gp(V,j)||u(O)}else W=f(O,...I);if(!k){const V=S(r.pop())}return W};return D.write(T,R,...C)},p=(D,...C)=>{r.push(new Set([D]));const T=f(D,...C),R=S(r.pop());return T},v=(D,C,T)=>{var R;const P=e.get(D);if(P)return C&&P.t.add(C),P;const O=T||[];(R=a(D))==null||R.d.forEach((k,W)=>{W!==D&&v(W,D,O)}),y(D);const I={t:new Set(C&&[C]),l:new Set};if(e.set(D,I),wL(D)&&D.onMount){const{onMount:k}=D;O.push(()=>{const W=k((...V)=>p(D,...V));W&&(I.u=W)})}return T||O.forEach(k=>k()),I},_=(D,C)=>!C.l.size&&(!C.t.size||C.t.size===1&&C.t.has(D)),w=(D,C)=>{if(!_(D,C))return;const T=C.u;T&&T(),e.delete(D);const R=a(D);R&&(Xd(R)&&xL(R.v),R.d.forEach((P,O)=>{if(O!==D){const I=e.get(O);I&&(I.t.delete(D),w(O,I))}}))},x=(D,C,T)=>{const R=new Set(C.d.keys()),P=new Set;T==null||T.forEach((O,I)=>{if(R.has(I)){R.delete(I);return}P.add(I);const k=e.get(I);k&&k.t.delete(D)}),R.forEach(O=>{v(O,D)}),P.forEach(O=>{const I=e.get(O);I&&w(O,I)})},S=D=>{let C;const T=[],R=P=>{var O;if(!n.has(P))return;const[I,k]=n.get(P);n.delete(P),T.push([P,I]),k.forEach(R),(O=a(P))==null||O.d.forEach((W,V)=>R(V))};D.forEach(R),T.forEach(([P,O])=>{const I=a(P);if(I&&I!==O){const k=e.get(P);k&&I.d!==(O==null?void 0:O.d)&&x(P,I,O==null?void 0:O.d),k&&!(!Xd(O)&&(Gp(O,I)||CL(O,I)))&&k.l.forEach(W=>W())}})};return{get:b,set:p,sub:(D,C)=>{const T=v(D),R=S([D]),P=T.l;return P.add(C),()=>{P.delete(C),w(D,T)}}}};let _C;const hAe=()=>(_C||(_C=KY()),_C);Symbol("");const wP=KY,pAe=hAe,gAe=E.createContext(void 0),BI=t=>{const e=E.useContext(gAe);return(t==null?void 0:t.store)||e||pAe()},mAe=t=>typeof(t==null?void 0:t.then)=="function",vAe=Z.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function YY(t,e){const r=BI(e),[[n,s,o],a]=E.useReducer(d=>{const h=r.get(t);return Object.is(d[0],h)&&d[1]===r&&d[2]===t?d:[h,r,t]},void 0,()=>[r.get(t),r,t]);let l=n;(s!==r||o!==t)&&(a(),l=r.get(t));const c=e==null?void 0:e.delay;return E.useEffect(()=>{const d=r.sub(t,()=>{if(typeof c=="number"){setTimeout(a,c);return}a()});return a(),d},[r,t,c]),E.useDebugValue(l),mAe(l)?vAe(l):l}function FI(t,e){const r=BI(e);return E.useCallback((...s)=>r.set(t,...s),[r,t])}function yAe(t,e){return[YY(t,e),FI(t,e)]}const AL=new WeakMap;function _Ae(t,e){const r=BI(e),n=bAe(r);for(const[s,o]of t)(!n.has(s)||e!=null&&e.dangerouslyForceHydrate)&&(n.add(s),r.set(s,o))}const bAe=t=>{let e=AL.get(t);return e||(e=new WeakSet,AL.set(t,e)),e};var wAe=Object.defineProperty,xAe=Object.defineProperties,EAe=Object.getOwnPropertyDescriptors,qb=Object.getOwnPropertySymbols,XY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,TL=(t,e,r)=>e in t?wAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bn=(t,e)=>{for(var r in e||(e={}))XY.call(e,r)&&TL(t,r,e[r]);if(qb)for(var r of qb(e))qY.call(e,r)&&TL(t,r,e[r]);return t},bC=(t,e)=>xAe(t,EAe(e)),ZY=(t,e)=>{var r={};for(var n in t)XY.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&qb)for(var n of qb(t))e.indexOf(n)<0&&qY.call(t,n)&&(r[n]=t[n]);return r},DL=t=>typeof t=="function"?{__fn:t}:t,SAe=t=>t&&typeof t=="object"&&"__fn"in t?t.__fn:t,CAe=t=>{const e=Jo(DL(t));return Jo(r=>SAe(r(e)),(r,n,s)=>n(e,DL(s)))},AAe=(t,e,r={})=>{const n=[];for(const s of Object.keys(t)){const o=e[s];o!==void 0&&n.push([t[s],o])}_Ae(n,r)},TAe=(t,e,{store:r}={})=>{for(const n of Object.keys(t)){const s=e[n],o=t[n],a=FI(o,{store:r});Z.useEffect(()=>{s!=null&&a(s)},[a,s])}},Zb=(t,e)=>"".concat(t,":").concat(e),xP="provider",EP=Z.createContext(new Map),DAe=(t,e=xP,r=!0)=>{var n;const s=Z.useContext(EP),o=(n=s.get(Zb(t,e)))!=null?n:s.get(Zb(t,xP));return!o&&r&&console.warn("Tried to access jotai store '".concat(t,"' outside of a matching provider.")),o},PAe=t=>{var e=t,{initialValues:r,children:n,store:s,atoms:o}=e,a=ZY(e,["initialValues","children","store","atoms"]);return AAe(o,bn(bn({},r),a),{store:s}),TAe(o,a,{store:s}),Z.createElement(Z.Fragment,null,n)},RAe=(t,e,r={})=>{const n=r.effect;return s=>{var o=s,{store:a,scope:l,children:c,resetKey:d}=o,h=ZY(o,["store","scope","children","resetKey"]);const[g,m]=Z.useState(wP());Z.useEffect(()=>{d&&m(wP())},[d]);const y=Z.useContext(EP),b=Z.useMemo(()=>{const u=new Map(y);return l&&u.set(Zb(t,l),g),u.set(Zb(t,xP),g),u},[y,l,g]);return Z.createElement(EP.Provider,{value:b},Z.createElement(PAe,bn({store:g,atoms:e},h),!!n&&Z.createElement(n,null),c))}},QY=(t="")=>t.length>0?t[0].toUpperCase()+t.slice(1):"",OAe=(t="")=>"".concat(QY(t),"Provider"),IAe=(t="")=>t.length>0?"".concat(t,"Store"):"store",BAe=(t="")=>"use".concat(QY(t),"Store"),FAe=t=>!!t&&typeof t=="object"&&"read"in t&&typeof t.read=="function",wC=(t,e)=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,(s={})=>n(bn(bn({},e),s))])),xi=(t={})=>typeof t=="string"?{scope:t}:t,MI=(t,{name:e,delay:r,effect:n,extend:s})=>{const o=OAe(e),a=BAe(e),l=IAe(e),c={},d={},h={};for(const[S,A]of Object.entries(t)){const D=FAe(A)?A:CAe(A);c[S]=D;const C="write"in D;h[S]=C,C&&(d[S]=D)}const g=bn({},c);if(s){const S=s(c);for(const[A,D]of Object.entries(S))g[A]=D,h[A]="write"in D}const m={},y={},b={},u=(S={})=>{const{scope:A,store:D,warnIfNoStore:C=!0}=xi(S),T=DAe(e,A,!D&&C);return D!=null?D:T},f=(S,A)=>{var D;const C=xi(A),T=u(bn({warnIfNoStore:!1},C));return YY(S,{store:T,delay:(D=C.delay)!=null?D:r})},p=(S,A)=>{const D=u(A);return FI(S,{store:D})},v=(S,A)=>{const D=u(A),{delay:C=r}=xi(A);return yAe(S,{store:D,delay:C})};for(const S of Object.keys(g)){const A=g[S],D=h[S];m[S]=(C={})=>f(A,C),D&&(y[S]=(C={})=>p(A,C),b[S]=(C={})=>v(A,C))}const _=RAe(e,d,{effect:n}),w={atom:g,name:e},x=(S={})=>({get:bC(bn({},wC(m,xi(S))),{atom:(A,D)=>f(A,bn(bn({},xi(S)),xi(D)))}),set:bC(bn({},wC(y,xi(S))),{atom:(A,D)=>p(A,bn(bn({},xi(S)),xi(D)))}),use:bC(bn({},wC(b,xi(S))),{atom:(A,D)=>v(A,bn(bn({},xi(S)),xi(D)))}),store:A=>u(bn(bn({},xi(S)),xi(A)))});return{[o]:_,[a]:x,[l]:w,name:e}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function PL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cn(t){var e,r;return PL(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(PL(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var MAe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=ee.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},kAe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=Lt.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},NAe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=ce.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},Qb=new WeakMap,Jb=new WeakMap,qg=new WeakMap,JY=new WeakMap,RL=new WeakMap,OL=new WeakMap,IL=new WeakMap,ee={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=ee.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var s=t[n],o=e[n];if(s!==o)break;r.push(s)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],a=e[r];return ee.equals(n,s)&&o>a},endsAt(t,e){var r=t.length,n=t.slice(0,r),s=e.slice(0,r);return ee.equals(n,s)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],a=e[r];return ee.equals(n,s)&&o<a},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return ee.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&ee.compare(t,e)===0},isBefore(t,e){return ee.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&ee.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&ee.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&ee.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&ee.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],o=e[e.length-1];return s!==o&&ee.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!ee.isAncestor(e,t)&&!ee.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:o}=e;(ee.equals(o,n)||ee.endsBefore(o,n)||ee.isAncestor(o,n))&&(n[o.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(ee.equals(a,n)||ee.isAncestor(a,n))return null;ee.endsBefore(a,n)&&(n[a.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;ee.equals(l,n)||ee.endsBefore(l,n)?n[l.length-1]-=1:ee.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:d,position:h}=e;if(ee.equals(d,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else ee.endsBefore(d,n)?n[d.length-1]+=1:ee.isAncestor(d,n)&&t[d.length]>=h&&(n[d.length-1]+=1,n[d.length]-=h);break}case"move_node":{var{path:g,newPath:m}=e;if(ee.equals(g,m))return n;if(ee.isAncestor(g,n)||ee.equals(g,n)){var y=m.slice();return ee.endsBefore(g,m)&&g.length<m.length&&(y[g.length-1]-=1),y.concat(n.slice(g.length))}else ee.isSibling(g,m)&&(ee.isAncestor(m,n)||ee.equals(m,n))?ee.endsBefore(g,n)?n[g.length-1]-=1:n[g.length-1]+=1:ee.endsBefore(m,n)||ee.equals(m,n)||ee.isAncestor(m,n)?(ee.endsBefore(g,n)&&(n[g.length-1]-=1),n[m.length-1]+=1):ee.endsBefore(g,n)&&(ee.equals(m,n)&&(n[m.length-1]+=1),n[g.length-1]-=1);break}}return n}};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function LAe(t,e){if(Tv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UAe(t){var e=LAe(t,"string");return Tv(e)==="symbol"?e:String(e)}function yi(t,e,r){return e=UAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $Ae=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:s}=r,o=Me.parent(t,n),a=n[n.length-1];if(a>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(a,0,s),e)for(var[l,c]of ce.points(e))e[c]=Lt.transform(l,r);break}case"insert_text":{var{path:d,offset:h,text:g}=r;if(g.length===0)break;var m=Me.leaf(t,d),y=m.text.slice(0,h),b=m.text.slice(h);if(m.text=y+g+b,e)for(var[u,f]of ce.points(e))e[f]=Lt.transform(u,r);break}case"merge_node":{var{path:p}=r,v=Me.get(t,p),_=ee.previous(p),w=Me.get(t,_),x=Me.parent(t,p),S=p[p.length-1];if(rt.isText(v)&&rt.isText(w))w.text+=v.text;else if(!rt.isText(v)&&!rt.isText(w))w.children.push(...v.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(p,"] to nodes of different interfaces: ").concat(An.stringify(v)," ").concat(An.stringify(w)));if(x.children.splice(S,1),e)for(var[A,D]of ce.points(e))e[D]=Lt.transform(A,r);break}case"move_node":{var{path:C,newPath:T}=r;if(ee.isAncestor(C,T))throw new Error("Cannot move a path [".concat(C,"] to new path [").concat(T,"] because the destination is inside itself."));var R=Me.get(t,C),P=Me.parent(t,C),O=C[C.length-1];P.children.splice(O,1);var I=ee.transform(C,r),k=Me.get(t,ee.parent(I)),W=I[I.length-1];if(k.children.splice(W,0,R),e)for(var[V,j]of ce.points(e))e[j]=Lt.transform(V,r);break}case"remove_node":{var{path:$}=r,K=$[$.length-1],J=Me.parent(t,$);if(J.children.splice(K,1),e)for(var[ue,pe]of ce.points(e)){var oe=Lt.transform(ue,r);if(e!=null&&oe!=null)e[pe]=oe;else{var he=void 0,X=void 0;for(var[z,G]of Me.texts(t))if(ee.compare(G,$)===-1)he=[z,G];else{X=[z,G];break}var H=!1;he&&X&&(ee.equals(X[1],$)?H=!ee.hasPrevious(X[1]):H=ee.common(he[1],$).length<ee.common(X[1],$).length),he&&!H?(ue.path=he[1],ue.offset=he[0].text.length):X?(ue.path=X[1],ue.offset=0):e=null}}break}case"remove_text":{var{path:re,offset:ne,text:_e}=r;if(_e.length===0)break;var be=Me.leaf(t,re),xe=be.text.slice(0,ne),Se=be.text.slice(ne+_e.length);if(be.text=xe+Se,e)for(var[dt,wt]of ce.points(e))e[wt]=Lt.transform(dt,r);break}case"set_node":{var{path:Y,properties:se,newProperties:le}=r;if(Y.length===0)throw new Error("Cannot set properties on the root node!");var Ae=Me.get(t,Y);for(var ve in le){if(ve==="children"||ve==="text")throw new Error('Cannot set the "'.concat(ve,'" property of nodes!'));var ye=le[ve];ye==null?delete Ae[ve]:Ae[ve]=ye}for(var Te in se)le.hasOwnProperty(Te)||delete Ae[Te];break}case"set_selection":{var{newProperties:Re}=r;if(Re==null)e=Re;else{if(e==null){if(!ce.isRange(Re))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(An.stringify(Re)," when there is no current selection."));e=Vp({},Re)}for(var je in Re){var ft=Re[je];if(ft==null){if(je==="anchor"||je==="focus")throw new Error('Cannot remove the "'.concat(je,'" selection property'));delete e[je]}else e[je]=ft}}break}case"split_node":{var{path:xt,position:Ke,properties:L}=r;if(xt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(xt,"] because the root node cannot be split."));var B=Me.get(t,xt),U=Me.parent(t,xt),Q=xt[xt.length-1],ie;if(rt.isText(B)){var ke=B.text.slice(0,Ke),Ge=B.text.slice(Ke);B.text=ke,ie=Vp(Vp({},L),{},{text:Ge})}else{var ut=B.children.slice(0,Ke),Xe=B.children.slice(Ke);B.children=ut,ie=Vp(Vp({},L),{},{children:Xe})}if(U.children.splice(Q+1,0,ie),e)for(var[vt,te]of ce.points(e))e[te]=Lt.transform(vt,r);break}}return e},jAe={transform(t,e){t.children=f3(t.children);var r=t.selection&&f3(t.selection);try{r=$Ae(t,r,e)}finally{t.children=h3(t.children),r?t.selection=td(r)?h3(r):r:t.selection=null}}},zAe={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},GAe={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},eX=(t,e)=>{for(var r in t){var n=t[r],s=e[r];if(Cn(n)&&Cn(s)){if(!eX(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==s[o])return!1}else if(n!==s)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0};function VAe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ll(t,e){if(t==null)return{};var r=VAe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var HAe=["anchor","focus"];function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function WAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ce={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:s}=t;return ce.isBackward(t)===r?[n,s]:[s,n]},end(t){var[,e]=ce.edges(t);return e},equals(t,e){return Lt.equals(t.anchor,e.anchor)&&Lt.equals(t.focus,e.focus)},includes(t,e){if(ce.isRange(e)){if(ce.includes(t,e.anchor)||ce.includes(t,e.focus))return!0;var[r,n]=ce.edges(t),[s,o]=ce.edges(e);return Lt.isBefore(r,s)&&Lt.isAfter(n,o)}var[a,l]=ce.edges(t),c=!1,d=!1;return Lt.isPoint(e)?(c=Lt.compare(e,a)>=0,d=Lt.compare(e,l)<=0):(c=ee.compare(e,a.path)>=0,d=ee.compare(e,l.path)<=0),c&&d},intersection(t,e){var r=ll(t,HAe),[n,s]=ce.edges(t),[o,a]=ce.edges(e),l=Lt.isBefore(n,o)?o:n,c=Lt.isBefore(s,a)?s:a;return Lt.isBefore(c,l)?null:WAe({anchor:l,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return Lt.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return Lt.equals(e,r)},isExpanded(t){return!ce.isCollapsed(t)},isForward(t){return!ce.isBackward(t)},isRange(t){return Cn(t)&&Lt.isPoint(t.anchor)&&Lt.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=ce.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ny(t,n=>{if(n===null)return null;var{affinity:s="inward"}=r,o,a;if(s==="inward"){var l=ce.isCollapsed(n);ce.isForward(n)?(o="forward",a=l?o:"backward"):(o="backward",a=l?o:"forward")}else s==="outward"?ce.isForward(n)?(o="backward",a="forward"):(o="forward",a="backward"):(o=s,a=s);var c=Lt.transform(n.anchor,e,{affinity:o}),d=Lt.transform(n.focus,e,{affinity:a});if(!c||!d)return null;n.anchor=c,n.focus=d})}},ML=t=>Cn(t)&&Me.isNodeList(t.children)&&!M.isEditor(t),ot={isAncestor(t){return Cn(t)&&Me.isNodeList(t.children)},isElement:ML,isElementList(t){return Array.isArray(t)&&t.every(e=>ot.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return ML(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},KAe=["children"],YAe=["text"],kL=new WeakMap,Me={ancestor(t,e){var r=Me.get(t,e);if(rt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(An.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.ancestors(e,r)){var s=Me.ancestor(t,n),o=[s,n];yield o}}()},child(t,e){if(rt.isText(t))throw new Error("Cannot get the child of a text node: ".concat(An.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(An.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,s=Me.ancestor(t,e),{children:o}=s,a=n?o.length-1:0;n?a>=0:a<o.length;){var l=Me.child(s,a),c=e.concat(a);yield[l,c],a=n?a-1:a+1}}()},common(t,e,r){var n=ee.common(e,r),s=Me.get(t,n);return[s,n]},descendant(t,e){var r=Me.get(t,e);if(M.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(An.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))ot.isElement(r)&&(yield[r,n])}()},extractProps(t){if(ot.isAncestor(t)){var e=ll(t,KAe);return e}else{var e=ll(t,YAe);return e}},first(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(rt.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(rt.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(An.stringify(t)));var r=ny({children:t.children},n=>{var[s,o]=ce.edges(e),a=Me.nodes(n,{reverse:!0,pass:m=>{var[,y]=m;return!ce.includes(e,y)}});for(var[,l]of a){if(!ce.includes(e,l)){var c=Me.parent(n,l),d=l[l.length-1];c.children.splice(d,1)}if(ee.equals(l,o.path)){var h=Me.leaf(n,l);h.text=h.text.slice(0,o.offset)}if(ee.equals(l,s.path)){var g=Me.leaf(n,l);g.text=g.text.slice(s.offset)}}M.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(rt.isText(r)||!r.children[s])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(An.stringify(t)));r=r.children[s]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(rt.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return rt.isText(t)||ot.isElement(t)||M.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=kL.get(t);if(e!==void 0)return e;var r=t.every(n=>Me.isNode(n));return kL.set(t,r),r},last(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(rt.isText(n)||n.children.length===0);){var s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){var r=Me.get(t,e);if(!rt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(An.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.levels(e,r)){var s=Me.get(t,n);yield[s,n]}}()},matches(t,e){return ot.isElement(t)&&ot.isElementProps(e)&&ot.matches(t,e)||rt.isText(t)&&rt.isTextProps(e)&&rt.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:s=[],to:o}=e,a=new Set,l=[],c=t;!(o&&(n?ee.isBefore(l,o):ee.isAfter(l,o)));){if(a.has(c)||(yield[c,l]),!a.has(c)&&!rt.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){a.add(c);var d=n?c.children.length-1:0;ee.isAncestor(l,s)&&(d=s[l.length]),l=l.concat(d),c=Me.get(t,l);continue}if(l.length===0)break;if(!n){var h=ee.next(l);if(Me.has(t,h)){l=h,c=Me.get(t,l);continue}}if(n&&l[l.length-1]!==0){var g=ee.previous(l);l=g,c=Me.get(t,l);continue}l=ee.parent(l),c=Me.get(t,l),a.add(c)}}()},parent(t,e){var r=ee.parent(e),n=Me.get(t,r);if(rt.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return rt.isText(t)?t.text:t.children.map(Me.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))rt.isText(r)&&(yield[r,n])}()}};function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tu={isNodeOperation(t){return tu.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Cn(t))return!1;switch(t.type){case"insert_node":return ee.isPath(t.path)&&Me.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&ee.isPath(t.path);case"merge_node":return typeof t.position=="number"&&ee.isPath(t.path)&&Cn(t.properties);case"move_node":return ee.isPath(t.path)&&ee.isPath(t.newPath);case"remove_node":return ee.isPath(t.path)&&Me.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&ee.isPath(t.path);case"set_node":return ee.isPath(t.path)&&Cn(t.properties)&&Cn(t.newProperties);case"set_selection":return t.properties===null&&ce.isRange(t.newProperties)||t.newProperties===null&&ce.isRange(t.properties)||Cn(t.properties)&&Cn(t.newProperties);case"split_node":return ee.isPath(t.path)&&typeof t.position=="number"&&Cn(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>tu.isOperation(e))},isSelectionOperation(t){return tu.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return tu.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return xr(xr({},t),{},{type:"remove_node"});case"insert_text":return xr(xr({},t),{},{type:"remove_text"});case"merge_node":return xr(xr({},t),{},{type:"split_node",path:ee.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(ee.equals(e,r))return t;if(ee.isSibling(r,e))return xr(xr({},t),{},{path:e,newPath:r});var n=ee.transform(r,t),s=ee.transform(ee.next(r),t);return xr(xr({},t),{},{path:n,newPath:s})}case"remove_node":return xr(xr({},t),{},{type:"insert_node"});case"remove_text":return xr(xr({},t),{},{type:"insert_text"});case"set_node":{var{properties:o,newProperties:a}=t;return xr(xr({},t),{},{properties:a,newProperties:o})}case"set_selection":{var{properties:l,newProperties:c}=t;return l==null?xr(xr({},t),{},{properties:c,newProperties:null}):c==null?xr(xr({},t),{},{properties:null,newProperties:l}):xr(xr({},t),{},{properties:c,newProperties:l})}case"split_node":return xr(xr({},t),{},{type:"merge_node",path:ee.next(t.path)})}}},LL=new WeakMap,XAe=t=>{var e=LL.get(t);if(e!==void 0)return e;if(!Cn(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Cn(t.marks))&&(t.selection===null||ce.isRange(t.selection))&&Me.isNodeList(t.children)&&tu.isOperationList(t.operations);return LL.set(t,r),r},M={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return XAe(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(t,e,r)=>t.shouldMergeNodesRemovePrevNode(e,r)},qAe={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(ee.isPath)}};function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lt={compare(t,e){var r=ee.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return Lt.compare(t,e)===1},isBefore(t,e){return Lt.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&ee.equals(t.path,e.path)},isPoint(t){return Cn(t)&&typeof t.offset=="number"&&ee.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ny(t,n=>{if(n===null)return null;var{affinity:s="forward"}=r,{path:o,offset:a}=n;switch(e.type){case"insert_node":case"move_node":{n.path=ee.transform(o,e,r);break}case"insert_text":{ee.equals(e.path,o)&&(e.offset<a||e.offset===a&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{ee.equals(e.path,o)&&(n.offset+=e.position),n.path=ee.transform(o,e,r);break}case"remove_text":{ee.equals(e.path,o)&&e.offset<=a&&(n.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(ee.equals(e.path,o)||ee.isAncestor(e.path,o))return null;n.path=ee.transform(o,e,r);break}case"split_node":{if(ee.equals(e.path,o)){if(e.position===a&&s==null)return null;(e.position<a||e.position===a&&s==="forward")&&(n.offset-=e.position,n.path=ee.transform(o,e,$L($L({},r),{},{affinity:"forward"})))}else n.path=ee.transform(o,e,r);break}}})}},jL=void 0,An={setScrubber(t){jL=t},stringify(t){return JSON.stringify(t,jL)}},ZAe=["text"],QAe=["anchor","focus"];function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rt={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function s(o){var a=ll(o,ZAe);return a}return eX(n?s(t):t,n?s(e):e)},isText(t){return Cn(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>rt.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[wa({},t)];for(var n of e){var s=ll(n,QAe),[o,a]=ce.edges(n),l=[],c=0,d=o.offset,h=a.offset;for(var g of r){var{length:m}=g.text,y=c;if(c+=m,d<=y&&c<=h){Object.assign(g,s),l.push(g);continue}if(d!==h&&(d===c||h===y)||d>c||h<y||h===y&&y!==0){l.push(g);continue}var b=g,u=void 0,f=void 0;if(h<c){var p=h-y;f=wa(wa({},b),{},{text:b.text.slice(p)}),b=wa(wa({},b),{},{text:b.text.slice(0,p)})}if(d>y){var v=d-y;u=wa(wa({},b),{},{text:b.text.slice(0,v)}),b=wa(wa({},b),{},{text:b.text.slice(v)})}Object.assign(b,s),u&&l.push(u),l.push(b),f&&l.push(f)}r=l}return r}},kI=t=>t.selection?t.selection:t.children.length>0?M.end(t,[]):[0],ip=(t,e)=>{var[r]=M.node(t,e);return n=>n===r},NI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,s=r?iTe(e):e,o=Dt.None,a=Dt.None,l=0,c=null,d=null;for(var h of s){var g=h.codePointAt(0);if(!g)break;var m=mTe(h,g);if([o,a]=n?[a,m]:[m,o],Df(o,Dt.ZWJ)&&Df(a,Dt.ExtPict)&&(n?c=GL(e.substring(0,l)):c=GL(e.substring(0,e.length-l)),!c)||Df(o,Dt.RI)&&Df(a,Dt.RI)&&(d!==null?d=!d:n?d=!0:d=wTe(e.substring(0,e.length-l)),!d)||o!==Dt.None&&a!==Dt.None&&yTe(o,a))break;l+=h.length}return l||1},JAe=/\s/,eTe=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,tTe=/['\u2018\u2019]/,rTe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,s=!1;e.length>0;){var o=NI(e,r),[a,l]=LI(e,o,r);if(nTe(a,l,r))s=!0,n+=o;else if(!s)n+=o;else break;e=l}return n},LI=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},nTe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(JAe.test(e))return!1;if(tTe.test(e)){var s=NI(r,n),[o,a]=LI(r,s,n);if(t(o,a,n))return!0}return!eTe.test(e)},iTe=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var s=e.charAt(r-n);if(oTe(s.charCodeAt(0))){var o=e.charAt(r-n-1);if(sTe(o.charCodeAt(0))){yield o+s,n++;continue}}yield s}},sTe=t=>t>=55296&&t<=56319,oTe=t=>t>=56320&&t<=57343,Dt;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(Dt||(Dt={}));var aTe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,lTe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,uTe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,cTe=/^[\u1100-\u115F\uA960-\uA97C]$/,dTe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,fTe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,hTe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,pTe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,gTe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,mTe=(t,e)=>{var r=Dt.Any;return t.search(aTe)!==-1&&(r|=Dt.Extend),e===8205&&(r|=Dt.ZWJ),e>=127462&&e<=127487&&(r|=Dt.RI),t.search(lTe)!==-1&&(r|=Dt.Prepend),t.search(uTe)!==-1&&(r|=Dt.SpacingMark),t.search(cTe)!==-1&&(r|=Dt.L),t.search(dTe)!==-1&&(r|=Dt.V),t.search(fTe)!==-1&&(r|=Dt.T),t.search(hTe)!==-1&&(r|=Dt.LV),t.search(pTe)!==-1&&(r|=Dt.LVT),t.search(gTe)!==-1&&(r|=Dt.ExtPict),r};function Df(t,e){return(t&e)!==0}var vTe=[[Dt.L,Dt.L|Dt.V|Dt.LV|Dt.LVT],[Dt.LV|Dt.V,Dt.V|Dt.T],[Dt.LVT|Dt.T,Dt.T],[Dt.Any,Dt.Extend|Dt.ZWJ],[Dt.Any,Dt.SpacingMark],[Dt.Prepend,Dt.Any],[Dt.ZWJ,Dt.ExtPict],[Dt.RI,Dt.RI]];function yTe(t,e){return vTe.findIndex(r=>Df(t,r[0])&&Df(e,r[1]))===-1}var _Te=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,GL=t=>t.search(_Te)!==-1,bTe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,wTe=t=>{var e=t.match(bTe);if(e===null)return!1;var r=e[0].length/2;return r%2===1},xTe={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:s=kI(t)}=r;if(ee.isPath(s)&&(s=M.range(t,s)),ce.isRange(s))if(ce.isCollapsed(s))s=s.anchor;else{var o=ce.end(s);if(!n&&M.void(t,{at:o}))return;var a=ce.start(s),l=M.pointRef(t,a),c=M.pointRef(t,o);we.delete(t,{at:s,voids:n});var d=l.unref(),h=c.unref();s=d||h,we.setSelection(t,{anchor:s,focus:s})}if(!(!n&&M.void(t,{at:s})||M.elementReadOnly(t,{at:s}))){var{path:g,offset:m}=s;e.length>0&&t.apply({type:"insert_text",path:g,offset:m,text:e})}})}};function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function t_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var we=t_(t_(t_(t_({},jAe),zAe),GAe),xTe),Z_=new WeakMap,ETe=t=>Z_.get(t)||!1,STe=(t,e,r)=>{var n=Z_.get(t)||!1;Z_.set(t,!0);try{e(),r()}finally{Z_.set(t,n)}};function tX(t,e,r){var n=Qb.get(t)||[],s=Jb.get(t)||new Set,o,a,l=g=>{if(g){var m=g.join(",");a.has(m)||(a.add(m),o.push(g))}};if(r){o=[],a=new Set;for(var c of n){var d=r(c);l(d)}}else o=n,a=s;for(var h of e)l(h);Qb.set(t,o),Jb.set(t,a)}var CTe=(t,e)=>{for(var r of M.pathRefs(t))MAe.transform(r,e);for(var n of M.pointRefs(t))kAe.transform(n,e);for(var s of M.rangeRefs(t))NAe.transform(s,e);if(!ETe(t)){var o=ee.operationCanTransformPath(e)?a=>ee.transform(a,e):void 0;tX(t,t.getDirtyPaths(e),o)}we.transform(t,e),t.operations.push(e),M.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),qg.get(t)||(qg.set(t,!0),Promise.resolve().then(()=>{qg.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},ATe=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return ee.levels(r)}case"insert_node":{var{node:n,path:s}=e,o=ee.levels(s),a=rt.isText(n)?[]:Array.from(Me.nodes(n),T=>{var[,R]=T;return s.concat(R)});return[...o,...a]}case"merge_node":{var{path:l}=e,c=ee.ancestors(l),d=ee.previous(l);return[...c,d]}case"move_node":{var{path:h,newPath:g}=e;if(ee.equals(h,g))return[];var m=[],y=[];for(var b of ee.ancestors(h)){var u=ee.transform(b,e);m.push(u)}for(var f of ee.ancestors(g)){var p=ee.transform(f,e);y.push(p)}var v=y[y.length-1],_=g[g.length-1],w=v.concat(_);return[...m,...y,w]}case"remove_node":{var{path:x}=e,S=ee.ancestors(x);return[...S]}case"split_node":{var{path:A}=e,D=ee.levels(A),C=ee.next(A);return[...D,C]}default:return[]}},TTe=t=>{var{selection:e}=t;return e?Me.fragment(t,e):[]},DTe=(t,e)=>{var[r,n]=e;if(!rt.isText(r)){if(ot.isElement(r)&&r.children.length===0){var s={text:""};we.insertNodes(t,s,{at:n.concat(0),voids:!0});return}for(var o=M.isEditor(r)?!1:ot.isElement(r)&&(t.isInline(r)||r.children.length===0||rt.isText(r.children[0])||t.isInline(r.children[0])),a=0,l=0;l<r.children.length;l++,a++){var c=Me.get(t,n);if(!rt.isText(c)){var d=c.children[a],h=c.children[a-1],g=l===r.children.length-1,m=rt.isText(d)||ot.isElement(d)&&t.isInline(d);if(m!==o)we.removeNodes(t,{at:n.concat(a),voids:!0}),a--;else if(ot.isElement(d)){if(t.isInline(d)){if(h==null||!rt.isText(h)){var y={text:""};we.insertNodes(t,y,{at:n.concat(a),voids:!0}),a++}else if(g){var b={text:""};we.insertNodes(t,b,{at:n.concat(a+1),voids:!0}),a++}}}else{if(!rt.isText(d)&&!("children"in d)){var u=d;u.children=[]}h!=null&&rt.isText(h)&&(rt.equals(d,h,{loose:!0})?(we.mergeNodes(t,{at:n.concat(a),voids:!0}),a--):h.text===""?(we.removeNodes(t,{at:n.concat(a-1),voids:!0}),a--):d.text===""&&(we.removeNodes(t,{at:n.concat(a),voids:!0}),a--))}}}}},PTe=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,s=n*42;if(r>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},RTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:s="lowest",at:o=e.selection,match:a}=r;if(o){var l=M.path(e,o),c=s==="lowest";for(var[d,h]of M.levels(e,{at:l,voids:n,match:a,reverse:c}))if(!rt.isText(d)){if(ce.isRange(o)){if(ee.isAncestor(h,o.anchor.path)&&ee.isAncestor(h,o.focus.path))return[d,h]}else if(!ee.equals(l,h))return[d,h]}}};function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OTe=(t,e,r)=>{var{selection:n}=t;if(n){var s=(g,m)=>{if(!rt.isText(g))return!1;var[y,b]=M.parent(t,m);return!t.isVoid(y)||t.markableVoid(y)},o=ce.isExpanded(n),a=!1;if(!o){var[l,c]=M.node(t,n);if(l&&s(l,c)){var[d]=M.parent(t,c);a=d&&t.markableVoid(d)}}if(o||a)we.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{var h=WL(WL({},M.marks(t)||{}),{},{[e]:r});t.marks=h,qg.get(t)||t.onChange()}}};function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function YL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ITe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.point(e,r,{edge:"end"}),o=M.end(e,[]),a={anchor:s,focus:o},{distance:l=1}=n,c=0,d;for(var h of M.positions(e,YL(YL({},n),{},{at:a}))){if(c>l)break;c!==0&&(d=h),c++}return d};function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.start(e,[]),o=M.point(e,r,{edge:"start"}),a={anchor:s,focus:o},{distance:l=1}=n,c=0,d;for(var h of M.positions(e,qL(qL({},n),{},{at:a,reverse:!0}))){if(c>l)break;c!==0&&(d=h),c++}return d},FTe=(t,e)=>{var{selection:r}=t;r&&ce.isCollapsed(r)&&we.delete(t,{unit:e,reverse:!0})},MTe=(t,e)=>{var{selection:r}=t;r&&ce.isCollapsed(r)&&we.delete(t,{unit:e})},kTe=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&ce.isExpanded(n)&&we.delete(e,{reverse:r==="backward"})},NTe=(t,e)=>[M.start(t,e),M.end(t,e)];function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function QL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,QL(QL({},r),{},{match:n=>ot.isElement(n)&&M.isElementReadOnly(e,n)}))},UTe=(t,e)=>M.point(t,e,{edge:"end"}),$Te=(t,e)=>{var r=M.path(t,e,{edge:"start"});return M.node(t,r)},jTe=(t,e)=>{var r=M.range(t,e);return Me.fragment(t,r)};function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,eU(eU({},r),{},{match:n=>ot.isElement(n)&&M.isVoid(e,n)}))},GTe=(t,e)=>e.children.some(r=>ot.isElement(r)&&M.isBlock(t,r)),VTe=(t,e)=>e.children.some(r=>rt.isText(r)||M.isInline(t,r)),HTe=(t,e)=>Me.has(t,e),WTe=(t,e)=>e.children.every(r=>rt.isText(r)),KTe=t=>{we.splitNodes(t,{always:!0})},YTe=(t,e,r)=>{we.insertNodes(t,e,r)},XTe=t=>{we.splitNodes(t,{always:!0})};function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s,marks:o}=e;if(s){if(o){var a=qTe({text:r},o);we.insertNodes(e,a,{at:n.at,voids:n.voids})}else we.insertText(e,r,n);e.marks=null}},QTe=(t,e)=>!t.isInline(e),JTe=(t,e,r)=>M.isStart(t,e,r)||M.isEnd(t,e,r),eDe=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&rt.isText(n)&&n.text===""&&!t.isVoid(e)},tDe=(t,e,r)=>{var n=M.end(t,r);return Lt.equals(e,n)},rDe=t=>{var e=JY.get(t);return e===void 0?!0:e},nDe=(t,e,r)=>{if(e.offset!==0)return!1;var n=M.start(t,r);return Lt.equals(e,n)},iDe=(t,e)=>{var r=M.path(t,e,{edge:"end"});return M.node(t,r)},sDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=Me.leaf(e,s);return[o,s]};function oDe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:s=!1}=e,{match:o}=e;if(o==null&&(o=()=>!0),!!r){var a=[],l=M.path(t,r);for(var[c,d]of Me.levels(t,l))if(o(c,d)&&(a.push([c,d]),!s&&ot.isElement(c)&&M.isVoid(t,c)))break;n&&a.reverse(),yield*a}}()}var aDe=["text"],lDe=["text"],uDe=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:s,focus:o}=n;if(r)return r;if(ce.isExpanded(n)){var a=M.isEnd(e,s,s.path);if(a){var l=M.after(e,s);l&&(s=l)}var[c]=M.nodes(e,{match:rt.isText,at:{anchor:s,focus:o}});if(c){var[d]=c,h=ll(d,aDe);return h}else return{}}var{path:g}=s,[m]=M.leaf(e,g);if(s.offset===0){var y=M.previous(e,{at:g,match:rt.isText}),b=M.above(e,{match:w=>ot.isElement(w)&&M.isVoid(e,w)&&e.markableVoid(w)});if(!b){var u=M.above(e,{match:w=>ot.isElement(w)&&M.isBlock(e,w)});if(y&&u){var[f,p]=y,[,v]=u;ee.isAncestor(v,p)&&(m=f)}}}var _=ll(m,lDe);return _},cDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection}=r;if(a){var l=M.after(e,a,{voids:s});if(l){var[,c]=M.last(e,[]),d=[l.path,c];if(ee.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(ee.isPath(a)){var[h]=M.parent(e,a);o=m=>h.children.includes(m)}else o=()=>!0;var[g]=M.nodes(e,{at:d,match:o,mode:n,voids:s});return g}}},dDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=Me.get(e,s);return[o,s]};function fDe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:s=!1,reverse:o=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var d,h;if(qAe.isSpan(r))d=r[0],h=r[1];else{var g=M.path(t,r,{edge:"start"}),m=M.path(t,r,{edge:"end"});d=o?m:g,h=o?g:m}var y=Me.nodes(t,{reverse:o,from:d,to:h,pass:w=>{var[x]=w;return ot.isElement(x)?!!(!a&&(M.isVoid(t,x)||M.isElementReadOnly(t,x))||l&&!M.isSelectable(t,x)):!1}}),b=[],u;for(var[f,p]of y)if(!(l&&ot.isElement(f)&&!M.isSelectable(t,f))){var v=u&&ee.compare(p,u[1])===0;if(!(n==="highest"&&v)){if(!c(f,p)){if(s&&!v&&rt.isText(f))return;continue}if(n==="lowest"&&v){u=[f,p];continue}var _=n==="lowest"?u:[f,p];_&&(s?b.push(_):yield _),u=[f,p]}}n==="lowest"&&u&&(s?b.push(u):yield u),s&&(yield*b)}}()}var hDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:s}=r,o=h=>Qb.get(h)||[],a=h=>Jb.get(h)||new Set,l=h=>{var g=o(h).pop(),m=g.join(",");return a(h).delete(m),g};if(M.isNormalizing(e)){if(n){var c=Array.from(Me.nodes(e),h=>{var[,g]=h;return g}),d=new Set(c.map(h=>h.join(",")));Qb.set(e,c),Jb.set(e,d)}o(e).length!==0&&M.withoutNormalizing(e,()=>{for(var h of o(e))if(Me.has(e,h)){var g=M.node(e,h),[m,y]=g;ot.isElement(m)&&m.children.length===0&&e.normalizeNode(g,{operation:s})}for(var b=o(e),u=b.length,f=0;b.length!==0;){if(!e.shouldNormalize({dirtyPaths:b,iteration:f,initialDirtyPathsLength:u,operation:s}))return;var p=l(e);if(Me.has(e,p)){var v=M.node(e,p);e.normalizeNode(v,{operation:s})}f++,b=o(e)}})}},pDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=ee.parent(s),a=M.node(e,o);return a},gDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.pathRefs(e);return c.delete(o),o.current=null,l}},a=M.pathRefs(e);return a.add(o),o},mDe=t=>{var e=RL.get(t);return e||(e=new Set,RL.set(t,e)),e},vDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:s,edge:o}=n;if(ee.isPath(r)){if(o==="start"){var[,a]=Me.first(e,r);r=a}else if(o==="end"){var[,l]=Me.last(e,r);r=l}}return ce.isRange(r)&&(o==="start"?r=ce.start(r):o==="end"?r=ce.end(r):r=ee.common(r.anchor.path,r.focus.path)),Lt.isPoint(r)&&(r=r.path),s!=null&&(r=r.slice(0,s)),r},yDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.pointRefs(e);return c.delete(o),o.current=null,l}},a=M.pointRefs(e);return a.add(o),o},_De=t=>{var e=OL.get(t);return e||(e=new Set,OL.set(t,e)),e},bDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:s="start"}=n;if(ee.isPath(r)){var o;if(s==="end"){var[,a]=Me.last(e,r);o=a}else{var[,l]=Me.first(e,r);o=l}var c=Me.get(e,o);if(!rt.isText(c))throw new Error("Cannot get the ".concat(s," point in the node at path [").concat(r,"] because it has no ").concat(s," text node."));return{path:o,offset:s==="end"?c.text.length:0}}if(ce.isRange(r)){var[d,h]=ce.edges(r);return s==="start"?d:h}return r};function wDe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:o=!1,ignoreNonSelectable:a=!1}=e;if(!r)return;var l=M.range(t,r),[c,d]=ce.edges(l),h=s?d:c,g=!1,m="",y=0,b=0,u=0;for(var[f,p]of M.nodes(t,{at:r,reverse:s,voids:o,ignoreNonSelectable:a})){if(ot.isElement(f)){if(!o&&(t.isVoid(f)||t.isElementReadOnly(f))){yield M.start(t,p);continue}if(t.isInline(f))continue;if(M.hasInlines(t,f)){var v=ee.isAncestor(p,d.path)?d:M.end(t,p),_=ee.isAncestor(p,c.path)?c:M.start(t,p);m=M.string(t,{anchor:_,focus:v},{voids:o}),g=!0}}if(rt.isText(f)){var w=ee.equals(p,h.path);for(w?(b=s?h.offset:f.text.length-h.offset,u=h.offset):(b=f.text.length,u=s?b:0),(w||g||n==="offset")&&(yield{path:p,offset:u},g=!1);;){if(y===0){if(m==="")break;y=x(m,n,s),m=LI(m,y,s)[1]}if(u=s?u-y:u+y,b=b-y,b<0){y=-b;break}y=0,yield{path:p,offset:u}}}}function x(S,A,D){return A==="character"?NI(S,D):A==="word"?rTe(S,D):A==="line"||A==="block"?S.length:1}}()}var xDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection}=r;if(a){var l=M.before(e,a,{voids:s});if(l){var[,c]=M.first(e,[]),d=[l.path,c];if(ee.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(ee.isPath(a)){var[h]=M.parent(e,a);o=m=>h.children.includes(m)}else o=()=>!0;var[g]=M.nodes(e,{reverse:!0,at:d,match:o,mode:n,voids:s});return g}}},EDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.rangeRefs(e);return c.delete(o),o.current=null,l}},a=M.rangeRefs(e);return a.add(o),o},SDe=t=>{var e=IL.get(t);return e||(e=new Set,IL.set(t,e)),e},CDe=(t,e,r)=>{if(ce.isRange(e)&&!r)return e;var n=M.start(t,e),s=M.end(t,r||e);return{anchor:n,focus:s}};function rU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ADe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TDe=(t,e)=>{var{selection:r}=t;if(r){var n=(h,g)=>{if(!rt.isText(h))return!1;var[m,y]=M.parent(t,g);return!t.isVoid(m)||t.markableVoid(m)},s=ce.isExpanded(r),o=!1;if(!s){var[a,l]=M.node(t,r);if(a&&n(a,l)){var[c]=M.parent(t,l);o=c&&t.markableVoid(c)}}if(s||o)we.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var d=ADe({},M.marks(t)||{});delete d[e],t.marks=d,qg.get(t)||t.onChange()}}},DDe=(t,e)=>{JY.set(t,e)},PDe=(t,e)=>M.point(t,e,{edge:"start"}),RDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,o=M.range(e,r),[a,l]=ce.edges(o),c="";for(var[d,h]of M.nodes(e,{at:o,match:rt.isText,voids:s})){var g=d.text;ee.equals(h,l.path)&&(g=g.slice(0,l.offset)),ee.equals(h,a.path)&&(g=g.slice(a.offset)),c+=g}return c},ODe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,[o,a]=ce.edges(r);if(o.offset!==0||a.offset!==0||ce.isCollapsed(r)||ee.hasPrevious(a.path))return r;var l=M.above(e,{at:a,match:b=>ot.isElement(b)&&M.isBlock(e,b),voids:s}),c=l?l[1]:[],d=M.start(e,o),h={anchor:d,focus:a},g=!0;for(var[m,y]of M.nodes(e,{at:h,match:rt.isText,reverse:!0,voids:s})){if(g){g=!1;continue}if(m.text!==""||ee.isBefore(y,c)){a={path:y,offset:m.text.length};break}}return{anchor:o,focus:a}},rX=(t,e)=>{var r=M.isNormalizing(t);M.setNormalizing(t,!1);try{e()}finally{M.setNormalizing(t,r)}M.normalize(t)},IDe=(t,e,r)=>{var[n,s]=e;return ot.isElement(n)&&M.isEmpty(t,n)||rt.isText(n)&&n.text===""&&s[s.length-1]!==0},BDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var n,s,{reverse:o=!1,unit:a="character",distance:l=1,voids:c=!1}=r,{at:d=e.selection,hanging:h=!1}=r;if(d){var g=!1;if(ce.isRange(d)&&ce.isCollapsed(d)&&(g=!0,d=d.anchor),Lt.isPoint(d)){var m=M.void(e,{at:d,mode:"highest"});if(!c&&m){var[,y]=m;d=y}else{var b={unit:a,distance:l},u=o?M.before(e,d,b)||M.start(e,[]):M.after(e,d,b)||M.end(e,[]);d={anchor:d,focus:u},h=!0}}if(ee.isPath(d)){we.removeNodes(e,{at:d,voids:c});return}if(!ce.isCollapsed(d)){if(!h){var[,f]=ce.edges(d),p=M.end(e,[]);Lt.equals(f,p)||(d=M.unhangRange(e,d,{voids:c}))}var[v,_]=ce.edges(d),w=M.above(e,{match:xe=>ot.isElement(xe)&&M.isBlock(e,xe),at:v,voids:c}),x=M.above(e,{match:xe=>ot.isElement(xe)&&M.isBlock(e,xe),at:_,voids:c}),S=w&&x&&!ee.equals(w[1],x[1]),A=ee.equals(v.path,_.path),D=c?null:(n=M.void(e,{at:v,mode:"highest"}))!==null&&n!==void 0?n:M.elementReadOnly(e,{at:v,mode:"highest"}),C=c?null:(s=M.void(e,{at:_,mode:"highest"}))!==null&&s!==void 0?s:M.elementReadOnly(e,{at:_,mode:"highest"});if(D){var T=M.before(e,v);T&&w&&ee.isAncestor(w[1],T.path)&&(v=T)}if(C){var R=M.after(e,_);R&&x&&ee.isAncestor(x[1],R.path)&&(_=R)}var P=[],O;for(var I of M.nodes(e,{at:d,voids:c})){var[k,W]=I;O&&ee.compare(W,O)===0||(!c&&ot.isElement(k)&&(M.isVoid(e,k)||M.isElementReadOnly(e,k))||!ee.isCommon(W,v.path)&&!ee.isCommon(W,_.path))&&(P.push(I),O=W)}var V=Array.from(P,xe=>{var[,Se]=xe;return M.pathRef(e,Se)}),j=M.pointRef(e,v),$=M.pointRef(e,_),K="";if(!A&&!D){var J=j.current,[ue]=M.leaf(e,J),{path:pe}=J,{offset:oe}=v,he=ue.text.slice(oe);he.length>0&&(e.apply({type:"remove_text",path:pe,offset:oe,text:he}),K=he)}if(V.reverse().map(xe=>xe.unref()).filter(xe=>xe!==null).forEach(xe=>we.removeNodes(e,{at:xe,voids:c})),!C){var X=$.current,[z]=M.leaf(e,X),{path:G}=X,H=A?v.offset:0,re=z.text.slice(H,_.offset);re.length>0&&(e.apply({type:"remove_text",path:G,offset:H,text:re}),K=re)}!A&&S&&$.current&&j.current&&we.mergeNodes(e,{at:$.current,hanging:!0,voids:c}),g&&o&&a==="character"&&K.length>1&&K.match(/[\u0E00-\u0E7F]+/)&&we.insertText(e,K.slice(0,K.length-l));var ne=j.unref(),_e=$.unref(),be=o?ne||_e:_e||ne;r.at==null&&be&&we.select(e,be)}}})},FDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1}=n,{at:a=kI(e),batchDirty:l=!0}=n;if(r.length){if(ce.isRange(a))if(s||(a=M.unhangRange(e,a,{voids:o})),ce.isCollapsed(a))a=a.anchor;else{var[,c]=ce.edges(a);if(!o&&M.void(e,{at:c}))return;var d=M.pointRef(e,c);we.delete(e,{at:a}),a=d.unref()}else ee.isPath(a)&&(a=M.start(e,a));if(!(!o&&M.void(e,{at:a}))){var h=M.above(e,{at:a,match:he=>ot.isElement(he)&&M.isInline(e,he),mode:"highest",voids:o});if(h){var[,g]=h;if(M.isEnd(e,a,g)){var m=M.after(e,g);a=m}else if(M.isStart(e,a,g)){var y=M.before(e,g);a=y}}var b=M.above(e,{match:he=>ot.isElement(he)&&M.isBlock(e,he),at:a,voids:o}),[,u]=b,f=M.isStart(e,a,u),p=M.isEnd(e,a,u),v=f&&p,_=!f||f&&p,w=!p,[,x]=Me.first({children:r},[]),[,S]=Me.last({children:r},[]),A=[],D=he=>{var[X,z]=he,G=z.length===0;return G?!1:v?!0:!(_&&ee.isAncestor(z,x)&&ot.isElement(X)&&!e.isVoid(X)&&!e.isInline(X)||w&&ee.isAncestor(z,S)&&ot.isElement(X)&&!e.isVoid(X)&&!e.isInline(X))};for(var C of Me.nodes({children:r},{pass:D}))D(C)&&A.push(C);var T=[],R=[],P=[],O=!0,I=!1;for(var[k]of A)ot.isElement(k)&&!e.isInline(k)?(O=!1,I=!0,R.push(k)):O?T.push(k):P.push(k);var[W]=M.nodes(e,{at:a,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o}),[,V]=W,j=M.isStart(e,a,V),$=M.isEnd(e,a,V),K=M.pathRef(e,p&&!P.length?ee.next(u):u),J=M.pathRef(e,$?ee.next(V):V);we.splitNodes(e,{at:a,match:he=>I?ot.isElement(he)&&M.isBlock(e,he):rt.isText(he)||M.isInline(e,he),mode:I?"lowest":"highest",always:I&&(!f||T.length>0)&&(!p||P.length>0),voids:o});var ue=M.pathRef(e,!j||j&&$?ee.next(V):V);if(we.insertNodes(e,T,{at:ue.current,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o,batchDirty:l}),v&&!T.length&&R.length&&!P.length&&we.delete(e,{at:u,voids:o}),we.insertNodes(e,R,{at:K.current,match:he=>ot.isElement(he)&&M.isBlock(e,he),mode:"lowest",voids:o,batchDirty:l}),we.insertNodes(e,P,{at:J.current,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o,batchDirty:l}),!n.at){var pe;if(P.length>0&&J.current?pe=ee.previous(J.current):R.length>0&&K.current?pe=ee.previous(K.current):ue.current&&(pe=ee.previous(ue.current)),pe){var oe=M.end(e,pe);we.select(e,oe)}}ue.unref(),K.unref(),J.unref()}}})},MDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:s}=e;if(s){if(n==="anchor")we.select(e,s.anchor);else if(n==="focus")we.select(e,s.focus);else if(n==="start"){var[o]=ce.edges(s);we.select(e,o)}else if(n==="end"){var[,a]=ce.edges(s);we.select(e,a)}}else return},kDe=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},NDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:s=1,unit:o="character",reverse:a=!1}=r,{edge:l=null}=r;if(n){l==="start"&&(l=ce.isBackward(n)?"focus":"anchor"),l==="end"&&(l=ce.isBackward(n)?"anchor":"focus");var{anchor:c,focus:d}=n,h={distance:s,unit:o,ignoreNonSelectable:!0},g={};if(l==null||l==="anchor"){var m=a?M.before(e,c,h):M.after(e,c,h);m&&(g.anchor=m)}if(l==null||l==="focus"){var y=a?M.before(e,d,h):M.after(e,d,h);y&&(g.focus=y)}we.setSelection(e,g)}},LDe=(t,e)=>{var{selection:r}=t;if(e=M.range(t,e),r){we.setSelection(t,e);return}if(!ce.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(An.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function nU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s}=e,{edge:o="both"}=n;if(s){o==="start"&&(o=ce.isBackward(s)?"focus":"anchor"),o==="end"&&(o=ce.isBackward(s)?"anchor":"focus");var{anchor:a,focus:l}=s,c=o==="anchor"?a:l;we.setSelection(e,{[o==="anchor"?"anchor":"focus"]:iU(iU({},c),r)})}},$De=(t,e)=>{var{selection:r}=t,n={},s={};if(r){for(var o in e)(o==="anchor"&&e.anchor!=null&&!Lt.equals(e.anchor,r.anchor)||o==="focus"&&e.focus!=null&&!Lt.equals(e.focus,r.focus)||o!=="anchor"&&o!=="focus"&&e[o]!==r[o])&&(n[o]=r[o],s[o]=e[o]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},jDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1,mode:a="lowest",batchDirty:l=!0}=n,{at:c,match:d,select:h}=n;if(Me.isNode(r)&&(r=[r]),r.length!==0){var[g]=r;if(c||(c=kI(e),h!==!1&&(h=!0)),h==null&&(h=!1),ce.isRange(c))if(s||(c=M.unhangRange(e,c,{voids:o})),ce.isCollapsed(c))c=c.anchor;else{var[,m]=ce.edges(c),y=M.pointRef(e,m);we.delete(e,{at:c}),c=y.unref()}if(Lt.isPoint(c)){d==null&&(rt.isText(g)?d=T=>rt.isText(T):e.isInline(g)?d=T=>rt.isText(T)||M.isInline(e,T):d=T=>ot.isElement(T)&&M.isBlock(e,T));var[b]=M.nodes(e,{at:c.path,match:d,mode:a,voids:o});if(b){var[,u]=b,f=M.pathRef(e,u),p=M.isEnd(e,c,u);we.splitNodes(e,{at:c,match:d,mode:a,voids:o});var v=f.unref();c=p?ee.next(v):v}else return}var _=ee.parent(c),w=c[c.length-1];if(!(!o&&M.void(e,{at:_}))){if(l){var x=[],S=ee.levels(_);STe(e,()=>{var T=function(){var O=_.concat(w);w++;var I={type:"insert_node",path:O,node:R};e.apply(I),c=ee.next(c),x.push(I),rt.isText?S.push(...Array.from(Me.nodes(R),k=>{var[,W]=k;return O.concat(W)})):S.push(O)};for(var R of r)T()},()=>{tX(e,S,T=>{var R=T;for(var P of x)if(ee.operationCanTransformPath(P)&&(R=ee.transform(R,P),!R))return null;return R})})}else for(var A of r){var D=_.concat(w);w++,e.apply({type:"insert_node",path:D,node:A}),c=ee.next(c)}if(c=ee.previous(c),h){var C=M.end(e,c);C&&we.select(e,C)}}}})},zDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:s="lowest",voids:o=!1}=r,{match:a}=r;if(a==null&&(a=ee.isPath(n)?ip(e,n):w=>ot.isElement(w)&&M.isBlock(e,w)),!!n){var l=M.nodes(e,{at:n,match:a,mode:s,voids:o}),c=Array.from(l,w=>{var[,x]=w;return M.pathRef(e,x)});for(var d of c){var h=d.unref();if(h.length<2)throw new Error("Cannot lift node at a path [".concat(h,"] because it has a depth of less than `2`."));var g=M.node(e,ee.parent(h)),[m,y]=g,b=h[h.length-1],{length:u}=m.children;if(u===1){var f=ee.next(y);we.moveNodes(e,{at:h,to:f,voids:o}),we.removeNodes(e,{at:y,voids:o})}else if(b===0)we.moveNodes(e,{at:h,to:y,voids:o});else if(b===u-1){var p=ee.next(y);we.moveNodes(e,{at:h,to:p,voids:o})}else{var v=ee.next(h),_=ee.next(y);we.splitNodes(e,{at:v,voids:o}),we.moveNodes(e,{at:h,to:_,voids:o})}}}})},GDe=["text"],VDe=["children"],nX=(t,e)=>{if(ot.isElement(e)){var r=e;return M.isVoid(t,e)?!0:r.children.length===1?nX(t,r.children[0]):!1}else return!M.isEditor(e)},HDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{match:n,at:s=e.selection}=r,{hanging:o=!1,voids:a=!1,mode:l="lowest"}=r;if(s){if(n==null)if(ee.isPath(s)){var[c]=M.parent(e,s);n=T=>c.children.includes(T)}else n=T=>ot.isElement(T)&&M.isBlock(e,T);if(!o&&ce.isRange(s)&&(s=M.unhangRange(e,s,{voids:a})),ce.isRange(s))if(ce.isCollapsed(s))s=s.anchor;else{var[,d]=ce.edges(s),h=M.pointRef(e,d);we.delete(e,{at:s}),s=h.unref(),r.at==null&&we.select(e,s)}var[g]=M.nodes(e,{at:s,match:n,voids:a,mode:l}),m=M.previous(e,{at:s,match:n,voids:a,mode:l});if(!(!g||!m)){var[y,b]=g,[u,f]=m;if(!(b.length===0||f.length===0)){var p=ee.next(f),v=ee.common(b,f),_=ee.isSibling(b,f),w=Array.from(M.levels(e,{at:b}),T=>{var[R]=T;return R}).slice(v.length).slice(0,-1),x=M.above(e,{at:b,mode:"highest",match:T=>w.includes(T)&&nX(e,T)}),S=x&&M.pathRef(e,x[1]),A,D;if(rt.isText(y)&&rt.isText(u)){var C=ll(y,GDe);D=u.text.length,A=C}else if(ot.isElement(y)&&ot.isElement(u)){var C=ll(y,VDe);D=u.children.length,A=C}else throw new Error("Cannot merge the node at path [".concat(b,"] with the previous sibling because it is not the same kind: ").concat(An.stringify(y)," ").concat(An.stringify(u)));_||we.moveNodes(e,{at:b,to:p,voids:a}),S&&we.removeNodes(e,{at:S.current,voids:a}),M.shouldMergeNodesRemovePrevNode(e,m,g)?we.removeNodes(e,{at:f,voids:a}):e.apply({type:"merge_node",path:p,position:D,properties:A}),S&&S.unref()}}}})},WDe=(t,e)=>{M.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:s="lowest",voids:o=!1}=e,{match:a}=e;if(n){a==null&&(a=ee.isPath(n)?ip(t,n):y=>ot.isElement(y)&&M.isBlock(t,y));var l=M.pathRef(t,r),c=M.nodes(t,{at:n,match:a,mode:s,voids:o}),d=Array.from(c,y=>{var[,b]=y;return M.pathRef(t,b)});for(var h of d){var g=h.unref(),m=l.current;g.length!==0&&t.apply({type:"move_node",path:g,newPath:m}),l.current&&ee.isSibling(m,g)&&ee.isAfter(m,g)&&(l.current=ee.next(l.current))}l.unref()}})},iX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:s=!1,mode:o="lowest"}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=ee.isPath(a)?ip(e,a):y=>ot.isElement(y)&&M.isBlock(e,y)),!n&&ce.isRange(a)&&(a=M.unhangRange(e,a,{voids:s}));var c=M.nodes(e,{at:a,match:l,mode:o,voids:s}),d=Array.from(c,y=>{var[,b]=y;return M.pathRef(e,b)});for(var h of d){var g=h.unref();if(g){var[m]=M.node(e,g);e.apply({type:"remove_node",path:g,node:m})}}}})},KDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{match:s,at:o=e.selection,compare:a,merge:l}=n,{hanging:c=!1,mode:d="lowest",split:h=!1,voids:g=!1}=n;if(o){if(s==null&&(s=ee.isPath(o)?ip(e,o):D=>ot.isElement(D)&&M.isBlock(e,D)),!c&&ce.isRange(o)&&(o=M.unhangRange(e,o,{voids:g})),h&&ce.isRange(o)){if(ce.isCollapsed(o)&&M.leaf(e,o.anchor)[0].text.length>0)return;var m=M.rangeRef(e,o,{affinity:"inward"}),[y,b]=ce.edges(o),u=d==="lowest"?"lowest":"highest",f=M.isEnd(e,b,b.path);we.splitNodes(e,{at:b,match:s,mode:u,voids:g,always:!f});var p=M.isStart(e,y,y.path);we.splitNodes(e,{at:y,match:s,mode:u,voids:g,always:!p}),o=m.unref(),n.at==null&&we.select(e,o)}a||(a=(D,C)=>D!==C);for(var[v,_]of M.nodes(e,{at:o,match:s,mode:d,voids:g})){var w={},x={};if(_.length!==0){var S=!1;for(var A in r)A==="children"||A==="text"||a(r[A],v[A])&&(S=!0,v.hasOwnProperty(A)&&(w[A]=v[A]),l?r[A]!=null&&(x[A]=l(v[A],r[A])):r[A]!=null&&(x[A]=r[A]));S&&e.apply({type:"set_node",path:_,properties:w,newProperties:x})}}}})},YDe=(t,e)=>{if(ce.isCollapsed(e))return e.anchor;var[,r]=ce.edges(e),n=M.pointRef(t,r);return we.delete(t,{at:e}),n.unref()},XDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection,height:l=0,always:c=!1}=r;if(o==null&&(o=$=>ot.isElement($)&&M.isBlock(e,$)),ce.isRange(a)&&(a=YDe(e,a)),ee.isPath(a)){var d=a,h=M.point(e,d),[g]=M.parent(e,d);o=$=>$===g,l=h.path.length-d.length+1,a=h,c=!0}if(a){var m=M.pointRef(e,a,{affinity:"backward"}),y;try{var[b]=M.nodes(e,{at:a,match:o,mode:n,voids:s});if(!b)return;var u=M.void(e,{at:a,mode:"highest"}),f=0;if(!s&&u){var[p,v]=u;if(ot.isElement(p)&&e.isInline(p)){var _=M.after(e,v);if(!_){var w={text:""},x=ee.next(v);we.insertNodes(e,w,{at:x,voids:s}),_=M.point(e,x)}a=_,c=!0}var S=a.path.length-v.length;l=S+1,c=!0}y=M.pointRef(e,a);var A=a.path.length-l,[,D]=b,C=a.path.slice(0,A),T=l===0?a.offset:a.path[A]+f;for(var[R,P]of M.levels(e,{at:C,reverse:!0,voids:s})){var O=!1;if(P.length<D.length||P.length===0||!s&&ot.isElement(R)&&M.isVoid(e,R))break;var I=m.current,k=M.isEnd(e,I,P);if(c||!m||!M.isEdge(e,I,P)){O=!0;var W=Me.extractProps(R);e.apply({type:"split_node",path:P,position:T,properties:W})}T=P[P.length-1]+(O||k?1:0)}if(r.at==null){var V=y.current||M.end(e,[]);we.select(e,V)}}finally{var j;m.unref(),(j=y)===null||j===void 0||j.unref()}}})},qDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var s={};for(var o of r)s[o]=null;we.setNodes(e,s,n)},ZDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",split:s=!1,voids:o=!1}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=ee.isPath(a)?ip(e,a):y=>ot.isElement(y)&&M.isBlock(e,y)),ee.isPath(a)&&(a=M.range(e,a));var c=ce.isRange(a)?M.rangeRef(e,a):null,d=M.nodes(e,{at:a,match:l,mode:n,voids:o}),h=Array.from(d,y=>{var[,b]=y;return M.pathRef(e,b)}).reverse(),g=function(){var b=m.unref(),[u]=M.node(e,b),f=M.range(e,b);s&&c&&(f=ce.intersection(c.current,f)),we.liftNodes(e,{at:f,match:p=>ot.isAncestor(u)&&u.children.includes(p),voids:o})};for(var m of h)g();c&&c.unref()}})};function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var QDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{mode:s="lowest",split:o=!1,voids:a=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(ee.isPath(c)?l=ip(e,c):e.isInline(r)?l=f=>ot.isElement(f)&&M.isInline(e,f)||rt.isText(f):l=f=>ot.isElement(f)&&M.isBlock(e,f)),o&&ce.isRange(c)){var[d,h]=ce.edges(c),g=M.rangeRef(e,c,{affinity:"inward"});we.splitNodes(e,{at:h,match:l,voids:a}),we.splitNodes(e,{at:d,match:l,voids:a}),c=g.unref(),n.at==null&&we.select(e,c)}var m=Array.from(M.nodes(e,{at:c,match:e.isInline(r)?f=>ot.isElement(f)&&M.isBlock(e,f):f=>M.isEditor(f),mode:"lowest",voids:a})),y=function(){var p=ce.isRange(c)?ce.intersection(c,M.range(e,u)):c;if(!p)return 0;var v=Array.from(M.nodes(e,{at:p,match:l,mode:s,voids:a}));if(v.length>0){var[_]=v,w=v[v.length-1],[,x]=_,[,S]=w;if(x.length===0&&S.length===0)return 0;var A=ee.equals(x,S)?ee.parent(x):ee.common(x,S),D=M.range(e,x,S),C=M.node(e,A),[T]=C,R=A.length+1,P=ee.next(S.slice(0,R)),O=oU(oU({},r),{},{children:[]});we.insertNodes(e,O,{at:P,voids:a}),we.moveNodes(e,{at:D,match:I=>ot.isAncestor(T)&&T.children.includes(I),to:P.concat(0),voids:a})}},b;for(var[,u]of m)b=y()}})},sX=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CTe(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OTe(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FTe(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MTe(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kTe(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TTe(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KTe(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return XTe(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FDe(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return YTe(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZTe(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DTe(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TDe(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ATe(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PTe(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RTe(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ITe(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BTe(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MDe(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BDe(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kDe(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NTe(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LTe(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UTe(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Te(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jTe(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return uDe(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GTe(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VTe(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HTe(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WTe(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jDe(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QTe(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return JTe(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eDe(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return tDe(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rDe(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nDe(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iDe(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return sDe(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return oDe(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zDe(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HDe(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NDe(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WDe(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cDe(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return dDe(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fDe(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return hDe(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pDe(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vDe(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gDe(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mDe(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bDe(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yDe(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _De(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wDe(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xDe(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CDe(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EDe(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SDe(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iX(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LDe(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KDe(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DDe(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UDe(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $De(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return XDe(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PDe(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RDe(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ODe(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qDe(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZDe(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zTe(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rX(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QDe(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IDe(t,...n)}};return t},JDe={isHistory(t){return Cn(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||tu.isOperationList(t.redos[0].operations))&&(t.undos.length===0||tu.isOperationList(t.undos[0].operations))}},xC=new WeakMap,Hp=new WeakMap,Sc={isHistoryEditor(t){return JDe.isHistory(t.history)&&M.isEditor(t)},isMerging(t){return Hp.get(t)},isSaving(t){return xC.get(t)},redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var r=Sc.isMerging(t);Hp.set(t,!0),e(),Hp.set(t,r)},withoutMerging(t,e){var r=Sc.isMerging(t);Hp.set(t,!1),e(),Hp.set(t,r)},withoutSaving(t,e){var r=Sc.isSaving(t);xC.set(t,!1),e(),xC.set(t,r)}},oX=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:s}=n;if(s.length>0){var o=s[s.length-1];o.selectionBefore&&we.setSelection(e,o.selectionBefore),Sc.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{for(var a of o.operations)e.apply(a)})}),n.redos.pop(),e.writeHistory("undos",o)}},e.undo=()=>{var{history:n}=e,{undos:s}=n;if(s.length>0){var o=s[s.length-1];Sc.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{var a=o.operations.map(tu.inverse).reverse();for(var l of a)e.apply(l);o.selectionBefore&&we.setSelection(e,o.selectionBefore)})}),e.writeHistory("redos",o),n.undos.pop()}},e.apply=n=>{var{operations:s,history:o}=e,{undos:a}=o,l=a[a.length-1],c=l&&l.operations[l.operations.length-1],d=Sc.isSaving(e),h=Sc.isMerging(e);if(d==null&&(d=tPe(n)),d){if(h==null&&(l==null?h=!1:s.length!==0?h=!0:h=ePe(n,c)),l&&h)l.operations.push(n);else{var g={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",g)}for(;a.length>100;)a.shift();o.redos=[]}r(n)},e.writeHistory=(n,s)=>{e.history[n].push(s)},e},ePe=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&ee.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&ee.equals(t.path,e.path)),tPe=(t,e)=>t.type!=="set_selection",rPe=Object.defineProperty,nPe=Object.defineProperties,iPe=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,lX=Object.prototype.propertyIsEnumerable,aU=(t,e,r)=>e in t?rPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uX=(t,e)=>{for(var r in e||(e={}))aX.call(e,r)&&aU(t,r,e[r]);if(ew)for(var r of ew(e))lX.call(e,r)&&aU(t,r,e[r]);return t},sPe=(t,e)=>nPe(t,iPe(e)),oPe=(t,e)=>{var r={};for(var n in t)aX.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ew)for(var n of ew(t))e.indexOf(n)<0&&lX.call(t,n)&&(r[n]=t[n]);return r},gs=(t,e)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(t,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),e),aPe=()=>{const t=sX();return t.hasEditableTarget=gs("hasEditableTarget",!1),t.hasRange=gs("hasRange",!1),t.hasSelectableTarget=gs("hasSelectableTarget",!1),t.hasTarget=gs("hasTarget",!1),t.insertData=gs("insertData"),t.insertFragmentData=gs("insertFragmentData"),t.insertTextData=gs("insertTextData",!1),t.isTargetInsideNonReadonlyVoid=gs("isTargetInsideNonReadonlyVoid",!1),t.setFragmentData=gs("setFragmentData"),t.history={redos:[],undos:[]},t.undo=gs("undo"),t.redo=gs("redo"),t.writeHistory=gs("writeHistory"),t},vl=t=>ot.isElement(t),lPe=(t,e)=>vl(e)&&M.isBlock(t,e);function uPe(t){return Array.isArray(t)?t:[t]}var cPe=(t,e,r)=>r?typeof r=="object"?Object.entries(r).every(([n,s])=>uPe(s).includes(t[n])):r(t,e):!0,UI=(t,e={})=>{const{block:r,match:n}=e;return sPe(uX({},e),{match:n||r?(s,o)=>cPe(s,o,n)&&(!r||lPe(t,s)):void 0})},tw=(t,e)=>M.above(t,UI(t,e)),dPe=(t,e,r={})=>{const{unhang:n=!0,voids:s}=r;return ce.isRange(e)&&n?M.unhangRange(t,e,{voids:s}):e},cX=(t,e)=>(dPe(t,e==null?void 0:e.at,e),M.nodes(t,UI(t,e))),qu=(t,e)=>{let r=!1;return M.withoutNormalizing(t,()=>{r=!!e()}),r},ku=t=>rt.isText(t),$I=(t,e)=>we.removeNodes(t,e),jI=(t,e)=>{we.select(t,e)},zI=(t,e)=>M.end(t,e),fPe=(t,e,r)=>M.before(t,e,r),dX=(t,e)=>M.start(t,e),fX=(t,e,r)=>{if(!e)return"";try{return M.string(t,e,r)}catch(n){return""}},GI=t=>M.marks(t),hPe=(t,e,r)=>M.point(t,e,r),hX=(t,e)=>vl(e)&&M.isInline(t,e),lU=(t,e,r)=>!!e&&M.isStart(t,e,r),pPe=(t,e)=>M.normalize(t,e),gPe=(t,e)=>M.removeMark(t,e),mPe=(t,e)=>{try{for(let r=0;r<e.length;r++){const n=e[r];if(ku(t)||!t.children[n])return null;t=t.children[n]}return t}catch(r){return null}},vPe=(t,e,r)=>Me.children(t,e,r),VI=t=>Me.string(t),pX=t=>ot.isAncestor(t),yPe=t=>!!t&&ce.isCollapsed(t),gX=t=>!!t&&ce.isExpanded(t),_Pe=t=>{we.deselect(t)};function EC(t){return Array.isArray(t)?t:[t]}var Ty=(t,{allow:e,exclude:r,filter:n,level:s,maxLevel:o}={})=>{if(!t)return!1;const[a,l]=t;if(s&&!EC(s).includes(l.length)||o&&l.length>o||n&&!n(t))return!1;if(e){const c=EC(e);if(c.length>0&&!c.includes(a.type))return!1}if(r){const c=EC(r);if(c.length>0&&c.includes(a.type))return!1}return!0},bPe=(t,e,r={})=>{var n=r,{nextBlock:s,removeEmpty:o}=n,a=oPe(n,["nextBlock","removeEmpty"]);rX(t,()=>{if(o){const l=tw(t,{at:a.at});if(l){const c=o===!0?{allow:["p"]}:o,{filter:d}=c;c.filter=([h,g])=>VI(h)||h.children.some(y=>hX(t,y))?!1:!d||d([h,g]),Ty(l,c)&&(iX(t,{at:l[1]}),s=!1)}}if(s){const{at:l=t.selection}=a;if(l){const c=zI(t,l),d=tw(t,{at:c,block:!0});d&&(a.at=ee.next(d[1]))}}we.insertNodes(t,e,a)})},KKe=(t,e)=>{we.move(t,e)},YKe=(t,e,r)=>we.setNodes(t,e,r),wPe=(t,e,r)=>we.unsetNodes(t,e,r),xPe=(t,e={})=>{try{const r=cX(t,uX({at:t.selection||[]},UI(t,e)));for(const[n,s]of r)return[n,s]}catch(r){return}},mX=(t,e)=>!!xPe(t,e);function EPe(){this.__data__=[],this.size=0}var SPe=EPe;function CPe(t,e){return t===e||t!==t&&e!==e}var Dy=CPe,APe=Dy;function TPe(t,e){for(var r=t.length;r--;)if(APe(t[r][0],e))return r;return-1}var Nx=TPe,DPe=Nx,PPe=Array.prototype,RPe=PPe.splice;function OPe(t){var e=this.__data__,r=DPe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():RPe.call(e,r,1),--this.size,!0}var IPe=OPe,BPe=Nx;function FPe(t){var e=this.__data__,r=BPe(e,t);return r<0?void 0:e[r][1]}var MPe=FPe,kPe=Nx;function NPe(t){return kPe(this.__data__,t)>-1}var LPe=NPe,UPe=Nx;function $Pe(t,e){var r=this.__data__,n=UPe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var jPe=$Pe,zPe=SPe,GPe=IPe,VPe=MPe,HPe=LPe,WPe=jPe;function sp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sp.prototype.clear=zPe;sp.prototype.delete=GPe;sp.prototype.get=VPe;sp.prototype.has=HPe;sp.prototype.set=WPe;var Lx=sp,KPe=Lx;function YPe(){this.__data__=new KPe,this.size=0}var XPe=YPe;function qPe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ZPe=qPe;function QPe(t){return this.__data__.get(t)}var JPe=QPe;function e2e(t){return this.__data__.has(t)}var t2e=e2e,r2e=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,vX=r2e,n2e=vX,i2e=typeof self=="object"&&self&&self.Object===Object&&self,s2e=n2e||i2e||Function("return this")(),Do=s2e,o2e=Do,a2e=o2e.Symbol,op=a2e,uU=op,yX=Object.prototype,l2e=yX.hasOwnProperty,u2e=yX.toString,Wp=uU?uU.toStringTag:void 0;function c2e(t){var e=l2e.call(t,Wp),r=t[Wp];try{t[Wp]=void 0;var n=!0}catch(o){}var s=u2e.call(t);return n&&(e?t[Wp]=r:delete t[Wp]),s}var d2e=c2e,f2e=Object.prototype,h2e=f2e.toString;function p2e(t){return h2e.call(t)}var g2e=p2e,cU=op,m2e=d2e,v2e=g2e,y2e="[object Null]",_2e="[object Undefined]",dU=cU?cU.toStringTag:void 0;function b2e(t){return t==null?t===void 0?_2e:y2e:dU&&dU in Object(t)?m2e(t):v2e(t)}var ap=b2e;function w2e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var us=w2e,x2e=ap,E2e=us,S2e="[object AsyncFunction]",C2e="[object Function]",A2e="[object GeneratorFunction]",T2e="[object Proxy]";function D2e(t){if(!E2e(t))return!1;var e=x2e(t);return e==C2e||e==A2e||e==S2e||e==T2e}var HI=D2e,P2e=Do,R2e=P2e["__core-js_shared__"],O2e=R2e,SC=O2e,fU=function(){var t=/[^.]+$/.exec(SC&&SC.keys&&SC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function I2e(t){return!!fU&&fU in t}var B2e=I2e,F2e=Function.prototype,M2e=F2e.toString;function k2e(t){if(t!=null){try{return M2e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var _X=k2e,N2e=HI,L2e=B2e,U2e=us,$2e=_X,j2e=/[\\^$.*+?()[\]{}|]/g,z2e=/^\[object .+?Constructor\]$/,G2e=Function.prototype,V2e=Object.prototype,H2e=G2e.toString,W2e=V2e.hasOwnProperty,K2e=RegExp("^"+H2e.call(W2e).replace(j2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y2e(t){if(!U2e(t)||L2e(t))return!1;var e=N2e(t)?K2e:z2e;return e.test($2e(t))}var X2e=Y2e;function q2e(t,e){return t==null?void 0:t[e]}var Z2e=q2e,Q2e=X2e,J2e=Z2e;function eRe(t,e){var r=J2e(t,e);return Q2e(r)?r:void 0}var Dd=eRe,tRe=Dd,rRe=Do,nRe=tRe(rRe,"Map"),WI=nRe,iRe=Dd,sRe=iRe(Object,"create"),Ux=sRe,hU=Ux;function oRe(){this.__data__=hU?hU(null):{},this.size=0}var aRe=oRe;function lRe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uRe=lRe,cRe=Ux,dRe="__lodash_hash_undefined__",fRe=Object.prototype,hRe=fRe.hasOwnProperty;function pRe(t){var e=this.__data__;if(cRe){var r=e[t];return r===dRe?void 0:r}return hRe.call(e,t)?e[t]:void 0}var gRe=pRe,mRe=Ux,vRe=Object.prototype,yRe=vRe.hasOwnProperty;function _Re(t){var e=this.__data__;return mRe?e[t]!==void 0:yRe.call(e,t)}var bRe=_Re,wRe=Ux,xRe="__lodash_hash_undefined__";function ERe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=wRe&&e===void 0?xRe:e,this}var SRe=ERe,CRe=aRe,ARe=uRe,TRe=gRe,DRe=bRe,PRe=SRe;function lp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lp.prototype.clear=CRe;lp.prototype.delete=ARe;lp.prototype.get=TRe;lp.prototype.has=DRe;lp.prototype.set=PRe;var RRe=lp,pU=RRe,ORe=Lx,IRe=WI;function BRe(){this.size=0,this.__data__={hash:new pU,map:new(IRe||ORe),string:new pU}}var FRe=BRe;function MRe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kRe=MRe,NRe=kRe;function LRe(t,e){var r=t.__data__;return NRe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var $x=LRe,URe=$x;function $Re(t){var e=URe(this,t).delete(t);return this.size-=e?1:0,e}var jRe=$Re,zRe=$x;function GRe(t){return zRe(this,t).get(t)}var VRe=GRe,HRe=$x;function WRe(t){return HRe(this,t).has(t)}var KRe=WRe,YRe=$x;function XRe(t,e){var r=YRe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var qRe=XRe,ZRe=FRe,QRe=jRe,JRe=VRe,eOe=KRe,tOe=qRe;function up(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}up.prototype.clear=ZRe;up.prototype.delete=QRe;up.prototype.get=JRe;up.prototype.has=eOe;up.prototype.set=tOe;var KI=up,rOe=Lx,nOe=WI,iOe=KI,sOe=200;function oOe(t,e){var r=this.__data__;if(r instanceof rOe){var n=r.__data__;if(!nOe||n.length<sOe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new iOe(n)}return r.set(t,e),this.size=r.size,this}var aOe=oOe,lOe=Lx,uOe=XPe,cOe=ZPe,dOe=JPe,fOe=t2e,hOe=aOe;function cp(t){var e=this.__data__=new lOe(t);this.size=e.size}cp.prototype.clear=uOe;cp.prototype.delete=cOe;cp.prototype.get=dOe;cp.prototype.has=fOe;cp.prototype.set=hOe;var YI=cp,pOe=Dd,gOe=function(){try{var t=pOe(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),bX=gOe,gU=bX;function mOe(t,e,r){e=="__proto__"&&gU?gU(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var XI=mOe,vOe=XI,yOe=Dy;function _Oe(t,e,r){(r!==void 0&&!yOe(t[e],r)||r===void 0&&!(e in t))&&vOe(t,e,r)}var wX=_Oe;function bOe(t){return function(e,r,n){for(var s=-1,o=Object(e),a=n(e),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}var wOe=bOe,xOe=wOe,EOe=xOe(),SOe=EOe,rw={exports:{}};rw.exports;(function(t,e){var r=Do,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function c(d,h){if(h)return d.slice();var g=d.length,m=l?l(g):new d.constructor(g);return d.copy(m),m}t.exports=c})(rw,rw.exports);var xX=rw.exports,COe=Do,AOe=COe.Uint8Array,EX=AOe,mU=EX;function TOe(t){var e=new t.constructor(t.byteLength);return new mU(e).set(new mU(t)),e}var qI=TOe,DOe=qI;function POe(t,e){var r=e?DOe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var SX=POe;function ROe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var CX=ROe,OOe=us,vU=Object.create,IOe=function(){function t(){}return function(e){if(!OOe(e))return{};if(vU)return vU(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),BOe=IOe;function FOe(t,e){return function(r){return t(e(r))}}var AX=FOe,MOe=AX,kOe=MOe(Object.getPrototypeOf,Object),ZI=kOe,NOe=Object.prototype;function LOe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||NOe;return t===r}var QI=LOe,UOe=BOe,$Oe=ZI,jOe=QI;function zOe(t){return typeof t.constructor=="function"&&!jOe(t)?UOe($Oe(t)):{}}var TX=zOe;function GOe(t){return t!=null&&typeof t=="object"}var yl=GOe,VOe=ap,HOe=yl,WOe="[object Arguments]";function KOe(t){return HOe(t)&&VOe(t)==WOe}var YOe=KOe,yU=YOe,XOe=yl,DX=Object.prototype,qOe=DX.hasOwnProperty,ZOe=DX.propertyIsEnumerable,QOe=yU(function(){return arguments}())?yU:function(t){return XOe(t)&&qOe.call(t,"callee")&&!ZOe.call(t,"callee")},jx=QOe,JOe=Array.isArray,Po=JOe,eIe=9007199254740991;function tIe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eIe}var JI=tIe,rIe=HI,nIe=JI;function iIe(t){return t!=null&&nIe(t.length)&&!rIe(t)}var zx=iIe,sIe=zx,oIe=yl;function aIe(t){return oIe(t)&&sIe(t)}var lIe=aIe,nw={exports:{}};function uIe(){return!1}var cIe=uIe;nw.exports;(function(t,e){var r=Do,n=cIe,s=e&&!e.nodeType&&e,o=s&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===s,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(nw,nw.exports);var Gx=nw.exports,dIe=ap,fIe=ZI,hIe=yl,pIe="[object Object]",gIe=Function.prototype,mIe=Object.prototype,PX=gIe.toString,vIe=mIe.hasOwnProperty,yIe=PX.call(Object);function _Ie(t){if(!hIe(t)||dIe(t)!=pIe)return!1;var e=fIe(t);if(e===null)return!0;var r=vIe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&PX.call(r)==yIe}var RX=_Ie,bIe=ap,wIe=JI,xIe=yl,EIe="[object Arguments]",SIe="[object Array]",CIe="[object Boolean]",AIe="[object Date]",TIe="[object Error]",DIe="[object Function]",PIe="[object Map]",RIe="[object Number]",OIe="[object Object]",IIe="[object RegExp]",BIe="[object Set]",FIe="[object String]",MIe="[object WeakMap]",kIe="[object ArrayBuffer]",NIe="[object DataView]",LIe="[object Float32Array]",UIe="[object Float64Array]",$Ie="[object Int8Array]",jIe="[object Int16Array]",zIe="[object Int32Array]",GIe="[object Uint8Array]",VIe="[object Uint8ClampedArray]",HIe="[object Uint16Array]",WIe="[object Uint32Array]",yr={};yr[LIe]=yr[UIe]=yr[$Ie]=yr[jIe]=yr[zIe]=yr[GIe]=yr[VIe]=yr[HIe]=yr[WIe]=!0;yr[EIe]=yr[SIe]=yr[kIe]=yr[CIe]=yr[NIe]=yr[AIe]=yr[TIe]=yr[DIe]=yr[PIe]=yr[RIe]=yr[OIe]=yr[IIe]=yr[BIe]=yr[FIe]=yr[MIe]=!1;function KIe(t){return xIe(t)&&wIe(t.length)&&!!yr[bIe(t)]}var YIe=KIe;function XIe(t){return function(e){return t(e)}}var eB=XIe,iw={exports:{}};iw.exports;(function(t,e){var r=vX,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch(d){}}();t.exports=l})(iw,iw.exports);var tB=iw.exports,qIe=YIe,ZIe=eB,_U=tB,bU=_U&&_U.isTypedArray,QIe=bU?ZIe(bU):qIe,rB=QIe;function JIe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var OX=JIe,eBe=XI,tBe=Dy,rBe=Object.prototype,nBe=rBe.hasOwnProperty;function iBe(t,e,r){var n=t[e];(!(nBe.call(t,e)&&tBe(n,r))||r===void 0&&!(e in t))&&eBe(t,e,r)}var nB=iBe,sBe=nB,oBe=XI;function aBe(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?oBe(r,l,c):sBe(r,l,c)}return r}var dp=aBe;function lBe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var uBe=lBe,cBe=9007199254740991,dBe=/^(?:0|[1-9]\d*)$/;function fBe(t,e){var r=typeof t;return e=e==null?cBe:e,!!e&&(r=="number"||r!="symbol"&&dBe.test(t))&&t>-1&&t%1==0&&t<e}var Vx=fBe,hBe=uBe,pBe=jx,gBe=Po,mBe=Gx,vBe=Vx,yBe=rB,_Be=Object.prototype,bBe=_Be.hasOwnProperty;function wBe(t,e){var r=gBe(t),n=!r&&pBe(t),s=!r&&!n&&mBe(t),o=!r&&!n&&!s&&yBe(t),a=r||n||s||o,l=a?hBe(t.length,String):[],c=l.length;for(var d in t)(e||bBe.call(t,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||vBe(d,c)))&&l.push(d);return l}var IX=wBe;function xBe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var EBe=xBe,SBe=us,CBe=QI,ABe=EBe,TBe=Object.prototype,DBe=TBe.hasOwnProperty;function PBe(t){if(!SBe(t))return ABe(t);var e=CBe(t),r=[];for(var n in t)n=="constructor"&&(e||!DBe.call(t,n))||r.push(n);return r}var RBe=PBe,OBe=IX,IBe=RBe,BBe=zx;function FBe(t){return BBe(t)?OBe(t,!0):IBe(t)}var Py=FBe,MBe=dp,kBe=Py;function NBe(t){return MBe(t,kBe(t))}var LBe=NBe,wU=wX,UBe=xX,$Be=SX,jBe=CX,zBe=TX,xU=jx,EU=Po,GBe=lIe,VBe=Gx,HBe=HI,WBe=us,KBe=RX,YBe=rB,SU=OX,XBe=LBe;function qBe(t,e,r,n,s,o,a){var l=SU(t,r),c=SU(e,r),d=a.get(c);if(d){wU(t,r,d);return}var h=o?o(l,c,r+"",t,e,a):void 0,g=h===void 0;if(g){var m=EU(c),y=!m&&VBe(c),b=!m&&!y&&YBe(c);h=c,m||y||b?EU(l)?h=l:GBe(l)?h=jBe(l):y?(g=!1,h=UBe(c,!0)):b?(g=!1,h=$Be(c,!0)):h=[]:KBe(c)||xU(c)?(h=l,xU(l)?h=XBe(l):(!WBe(l)||HBe(l))&&(h=zBe(c))):g=!1}g&&(a.set(c,h),s(h,c,n,o,a),a.delete(c)),wU(t,r,h)}var ZBe=qBe,QBe=YI,JBe=wX,eFe=SOe,tFe=ZBe,rFe=us,nFe=Py,iFe=OX;function BX(t,e,r,n,s){t!==e&&eFe(e,function(o,a){if(s||(s=new QBe),rFe(o))tFe(t,e,a,r,BX,n,s);else{var l=n?n(iFe(t,a),o,a+"",t,e,s):void 0;l===void 0&&(l=o),JBe(t,a,l)}},nFe)}var iB=BX;function sFe(t){return t}var FX=sFe;function oFe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var MX=oFe,aFe=MX,CU=Math.max;function lFe(t,e,r){return e=CU(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=CU(n.length-e,0),a=Array(o);++s<o;)a[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(a),aFe(t,this,l)}}var kX=lFe;function uFe(t){return function(){return t}}var cFe=uFe,dFe=cFe,AU=bX,fFe=FX,hFe=AU?function(t,e){return AU(t,"toString",{configurable:!0,enumerable:!1,value:dFe(e),writable:!0})}:fFe,pFe=hFe,gFe=800,mFe=16,vFe=Date.now;function yFe(t){var e=0,r=0;return function(){var n=vFe(),s=mFe-(n-r);if(r=n,s>0){if(++e>=gFe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _Fe=yFe,bFe=pFe,wFe=_Fe,xFe=wFe(bFe),NX=xFe,EFe=FX,SFe=kX,CFe=NX;function AFe(t,e){return CFe(SFe(t,e,EFe),t+"")}var LX=AFe,TFe=Dy,DFe=zx,PFe=Vx,RFe=us;function OFe(t,e,r){if(!RFe(r))return!1;var n=typeof e;return(n=="number"?DFe(r)&&PFe(e,r.length):n=="string"&&e in r)?TFe(r[e],t):!1}var IFe=OFe,BFe=LX,FFe=IFe;function MFe(t){return BFe(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,a&&FFe(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,o)}return e})}var UX=MFe,kFe=iB,NFe=UX,LFe=NFe(function(t,e,r,n){kFe(t,e,r,n)}),$X=LFe;const jX=Un($X);var _l={};Object.defineProperty(_l,"__esModule",{value:!0});var UFe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),CC={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},zX={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:UFe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},sB={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var r_=1;r_<20;r_++)sB["f"+r_]=111+r_;function Hx(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(a){return GX(a,e)}),s=function(l){return n.some(function(c){return VX(c,l)})},o=r==null?s:s(r);return o}function $Fe(t,e){return Hx(t,e)}function jFe(t,e){return Hx(t,{byKey:!0},e)}function GX(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var s=t.split("+"),o=s.length;for(var a in CC)n[CC[a]]=!1;var l=!0,c=!1,d=void 0;try{for(var h=s[Symbol.iterator](),g;!(l=(g=h.next()).done);l=!0){var m=g.value,y=m.endsWith("?")&&m.length>1;y&&(m=m.slice(0,-1));var b=oB(m),u=CC[b];if(m.length>1&&!u&&!zX[m]&&!sB[b])throw new TypeError('Unknown modifier: "'+m+'"');(o===1||!u)&&(r?n.key=b:n.which=HX(m)),u&&(n[u]=y?null:!0)}}catch(f){c=!0,d=f}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}return n}function VX(t,e){for(var r in t){var n=t[r],s=void 0;if(n!=null&&(r==="key"&&e.key!=null?s=e.key.toLowerCase():r==="which"?s=n===91&&e.which===93?91:e.which:s=e[r],!(s==null&&n===!1)&&s!==n))return!1}return!0}function HX(t){t=oB(t);var e=sB[t]||t.toUpperCase().charCodeAt(0);return e}function oB(t){return t=t.toLowerCase(),t=zX[t]||t,t}_l.default=Hx;var AC=_l.isHotkey=Hx;_l.isCodeHotkey=$Fe;var Zf=_l.isKeyHotkey=jFe;_l.parseHotkey=GX;_l.compareHotkey=VX;_l.toKeyCode=HX;_l.toKeyName=oB;var zFe=iB,GFe=UX,VFe=GFe(function(t,e,r){zFe(t,e,r)}),HFe=VFe;const ro=Un(HFe);var WFe=Po;function KFe(){if(!arguments.length)return[];var t=arguments[0];return WFe(t)?t:[t]}var YFe=KFe;const gu=Un(YFe);function XFe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var WX=XFe,qFe="__lodash_hash_undefined__";function ZFe(t){return this.__data__.set(t,qFe),this}var QFe=ZFe;function JFe(t){return this.__data__.has(t)}var eMe=JFe,tMe=KI,rMe=QFe,nMe=eMe;function sw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new tMe;++e<r;)this.add(t[e])}sw.prototype.add=sw.prototype.push=rMe;sw.prototype.has=nMe;var iMe=sw;function sMe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var oMe=sMe;function aMe(t,e){return t.has(e)}var lMe=aMe,uMe=iMe,cMe=oMe,dMe=lMe,fMe=1,hMe=2;function pMe(t,e,r,n,s,o){var a=r&fMe,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var g=-1,m=!0,y=r&hMe?new uMe:void 0;for(o.set(t,e),o.set(e,t);++g<l;){var b=t[g],u=e[g];if(n)var f=a?n(u,b,g,e,t,o):n(b,u,g,t,e,o);if(f!==void 0){if(f)continue;m=!1;break}if(y){if(!cMe(e,function(p,v){if(!dMe(y,v)&&(b===p||s(b,p,r,n,o)))return y.push(v)})){m=!1;break}}else if(!(b===u||s(b,u,r,n,o))){m=!1;break}}return o.delete(t),o.delete(e),m}var KX=pMe;function gMe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var mMe=gMe;function vMe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var yMe=vMe,TU=op,DU=EX,_Me=Dy,bMe=KX,wMe=mMe,xMe=yMe,EMe=1,SMe=2,CMe="[object Boolean]",AMe="[object Date]",TMe="[object Error]",DMe="[object Map]",PMe="[object Number]",RMe="[object RegExp]",OMe="[object Set]",IMe="[object String]",BMe="[object Symbol]",FMe="[object ArrayBuffer]",MMe="[object DataView]",PU=TU?TU.prototype:void 0,TC=PU?PU.valueOf:void 0;function kMe(t,e,r,n,s,o,a){switch(r){case MMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case FMe:return!(t.byteLength!=e.byteLength||!o(new DU(t),new DU(e)));case CMe:case AMe:case PMe:return _Me(+t,+e);case TMe:return t.name==e.name&&t.message==e.message;case RMe:case IMe:return t==e+"";case DMe:var l=wMe;case OMe:var c=n&EMe;if(l||(l=xMe),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;n|=SMe,a.set(t,e);var h=bMe(l(t),l(e),n,s,o,a);return a.delete(t),h;case BMe:if(TC)return TC.call(t)==TC.call(e)}return!1}var NMe=kMe;function LMe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var aB=LMe,UMe=aB,$Me=Po;function jMe(t,e,r){var n=e(t);return $Me(t)?n:UMe(n,r(t))}var YX=jMe;function zMe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[s++]=a)}return o}var GMe=zMe;function VMe(){return[]}var XX=VMe,HMe=GMe,WMe=XX,KMe=Object.prototype,YMe=KMe.propertyIsEnumerable,RU=Object.getOwnPropertySymbols,XMe=RU?function(t){return t==null?[]:(t=Object(t),HMe(RU(t),function(e){return YMe.call(t,e)}))}:WMe,lB=XMe,qMe=AX,ZMe=qMe(Object.keys,Object),QMe=ZMe,JMe=QI,eke=QMe,tke=Object.prototype,rke=tke.hasOwnProperty;function nke(t){if(!JMe(t))return eke(t);var e=[];for(var r in Object(t))rke.call(t,r)&&r!="constructor"&&e.push(r);return e}var ike=nke,ske=IX,oke=ike,ake=zx;function lke(t){return ake(t)?ske(t):oke(t)}var uB=lke,uke=YX,cke=lB,dke=uB;function fke(t){return uke(t,dke,cke)}var qX=fke,OU=qX,hke=1,pke=Object.prototype,gke=pke.hasOwnProperty;function mke(t,e,r,n,s,o){var a=r&hke,l=OU(t),c=l.length,d=OU(e),h=d.length;if(c!=h&&!a)return!1;for(var g=c;g--;){var m=l[g];if(!(a?m in e:gke.call(e,m)))return!1}var y=o.get(t),b=o.get(e);if(y&&b)return y==e&&b==t;var u=!0;o.set(t,e),o.set(e,t);for(var f=a;++g<c;){m=l[g];var p=t[m],v=e[m];if(n)var _=a?n(v,p,m,e,t,o):n(p,v,m,t,e,o);if(!(_===void 0?p===v||s(p,v,r,n,o):_)){u=!1;break}f||(f=m=="constructor")}if(u&&!f){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(u=!1)}return o.delete(t),o.delete(e),u}var vke=mke,yke=Dd,_ke=Do,bke=yke(_ke,"DataView"),wke=bke,xke=Dd,Eke=Do,Ske=xke(Eke,"Promise"),Cke=Ske,Ake=Dd,Tke=Do,Dke=Ake(Tke,"Set"),Pke=Dke,Rke=Dd,Oke=Do,Ike=Rke(Oke,"WeakMap"),Bke=Ike,SP=wke,CP=WI,AP=Cke,TP=Pke,DP=Bke,ZX=ap,fp=_X,IU="[object Map]",Fke="[object Object]",BU="[object Promise]",FU="[object Set]",MU="[object WeakMap]",kU="[object DataView]",Mke=fp(SP),kke=fp(CP),Nke=fp(AP),Lke=fp(TP),Uke=fp(DP),pc=ZX;(SP&&pc(new SP(new ArrayBuffer(1)))!=kU||CP&&pc(new CP)!=IU||AP&&pc(AP.resolve())!=BU||TP&&pc(new TP)!=FU||DP&&pc(new DP)!=MU)&&(pc=function(t){var e=ZX(t),r=e==Fke?t.constructor:void 0,n=r?fp(r):"";if(n)switch(n){case Mke:return kU;case kke:return IU;case Nke:return BU;case Lke:return FU;case Uke:return MU}return e});var Wx=pc,DC=YI,$ke=KX,jke=NMe,zke=vke,NU=Wx,LU=Po,UU=Gx,Gke=rB,Vke=1,$U="[object Arguments]",jU="[object Array]",n_="[object Object]",Hke=Object.prototype,zU=Hke.hasOwnProperty;function Wke(t,e,r,n,s,o){var a=LU(t),l=LU(e),c=a?jU:NU(t),d=l?jU:NU(e);c=c==$U?n_:c,d=d==$U?n_:d;var h=c==n_,g=d==n_,m=c==d;if(m&&UU(t)){if(!UU(e))return!1;a=!0,h=!1}if(m&&!h)return o||(o=new DC),a||Gke(t)?$ke(t,e,r,n,s,o):jke(t,e,c,r,n,s,o);if(!(r&Vke)){var y=h&&zU.call(t,"__wrapped__"),b=g&&zU.call(e,"__wrapped__");if(y||b){var u=y?t.value():t,f=b?e.value():e;return o||(o=new DC),s(u,f,r,n,o)}}return m?(o||(o=new DC),zke(t,e,r,n,s,o)):!1}var Kke=Wke,Yke=Kke,GU=yl;function QX(t,e,r,n,s){return t===e?!0:t==null||e==null||!GU(t)&&!GU(e)?t!==t&&e!==e:Yke(t,e,r,n,QX,s)}var Xke=QX,qke=ap,Zke=yl,Qke="[object Symbol]";function Jke(t){return typeof t=="symbol"||Zke(t)&&qke(t)==Qke}var Kx=Jke,eNe=Po,tNe=Kx,rNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nNe=/^\w*$/;function iNe(t,e){if(eNe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||tNe(t)?!0:nNe.test(t)||!rNe.test(t)||e!=null&&t in Object(e)}var sNe=iNe,JX=KI,oNe="Expected a function";function cB(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(oNe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var a=t.apply(this,n);return r.cache=o.set(s,a)||o,a};return r.cache=new(cB.Cache||JX),r}cB.Cache=JX;var aNe=cB,lNe=aNe,uNe=500;function cNe(t){var e=lNe(t,function(n){return r.size===uNe&&r.clear(),n}),r=e.cache;return e}var dNe=cNe,fNe=dNe,hNe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pNe=/\\(\\)?/g,gNe=fNe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hNe,function(r,n,s,o){e.push(s?o.replace(pNe,"$1"):n||r)}),e}),mNe=gNe,VU=op,vNe=WX,yNe=Po,_Ne=Kx,bNe=1/0,HU=VU?VU.prototype:void 0,WU=HU?HU.toString:void 0;function eq(t){if(typeof t=="string")return t;if(yNe(t))return vNe(t,eq)+"";if(_Ne(t))return WU?WU.call(t):"";var e=t+"";return e=="0"&&1/t==-bNe?"-0":e}var wNe=eq,xNe=wNe;function ENe(t){return t==null?"":xNe(t)}var SNe=ENe,CNe=Po,ANe=sNe,TNe=mNe,DNe=SNe;function PNe(t,e){return CNe(t)?t:ANe(t,e)?[t]:TNe(DNe(t))}var hp=PNe,RNe=Kx,ONe=1/0;function INe(t){if(typeof t=="string"||RNe(t))return t;var e=t+"";return e=="0"&&1/t==-ONe?"-0":e}var Yx=INe,BNe=hp,FNe=Yx;function MNe(t,e){e=BNe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[FNe(e[r++])];return r&&r==n?t:void 0}var tq=MNe;function kNe(t,e){return t!=null&&e in Object(t)}var NNe=kNe,LNe=hp,UNe=jx,$Ne=Po,jNe=Vx,zNe=JI,GNe=Yx;function VNe(t,e,r){e=LNe(e,t);for(var n=-1,s=e.length,o=!1;++n<s;){var a=GNe(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=s?o:(s=t==null?0:t.length,!!s&&zNe(s)&&jNe(a,s)&&($Ne(t)||UNe(t)))}var HNe=VNe,WNe=NNe,KNe=HNe;function YNe(t,e){return t!=null&&KNe(t,e,WNe)}var XNe=YNe;function qNe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ZNe=qNe,QNe=Object.defineProperty,JNe=Object.defineProperties,e3e=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,nq=Object.prototype.propertyIsEnumerable,KU=(t,e,r)=>e in t?QNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xx=(t,e)=>{for(var r in e||(e={}))rq.call(e,r)&&KU(t,r,e[r]);if(ow)for(var r of ow(e))nq.call(e,r)&&KU(t,r,e[r]);return t},dB=(t,e)=>JNe(t,e3e(e)),t3e=(t,e)=>{var r={};for(var n in t)rq.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ow)for(var n of ow(t))e.indexOf(n)<0&&nq.call(t,n)&&(r[n]=t[n]);return r},iq=(t,e={})=>tw(t,dB(Xx({},e),{block:!0})),r3e=(t,e)=>{if(!t)return;const r=GI(t);return r==null?void 0:r[e]},n3e=(t,e)=>!VI(e)&&!e.children.some(r=>hX(t,r)),i3e=t=>{var e;const r=(e=iq(t))==null?void 0:e[0];return r?n3e(t,r):!1},s3e=(t,e)=>Td(r3e(t,e)),sq=(t,e)=>{var r;const{selection:n}=t;if(!n)return!1;const s=(r=iq(t,e))==null?void 0:r[1];return s?lU(t,n.focus,s)||gX(t.selection)&&lU(t,n.anchor,s):!1},o3e=t=>gX(t.selection),a3e=(t,e)=>{var r=e,{key:n,at:s,shouldChange:o=!0}=r,a=t3e(r,["key","at","shouldChange"]),l;const c=s!=null?s:t.selection;if(n=gu(n),c){if(ce.isRange(c)&&ce.isExpanded(c))wPe(t,n,Xx({at:c,match:ku,split:!0},a));else if(t.selection){const d=(l=GI(t))!=null?l:{};n.forEach(h=>{delete d[h]}),t.marks=d,o&&t.onChange()}}},l3e=(t,e,r)=>{qu(t,()=>{for(const[,n]of vPe(t,e,{reverse:!0}))$I(t,dB(Xx({},r),{at:n}))})},oq=t=>{const e=GI(t);e&&Object.keys(e).forEach(r=>{gPe(t,r)})},qx=(t,{at:e,insertOptions:r,nodes:n,removeOptions:s})=>{qu(t,()=>{l3e(t,e,s),bPe(t,n,dB(Xx({},r),{at:e.concat([0])}))})},aq=(t,{key:e,clear:r})=>{t.selection&&qu(t,()=>{if(s3e(t,e)){t.removeMark(e);return}if(r){const s=gu(r);a3e(t,{key:s})}t.addMark(e,!0)})};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function u3e(t,e){if(Dv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c3e(t){var e=u3e(t,"string");return Dv(e)==="symbol"?e:String(e)}function Oh(t,e,r){return e=c3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lq=new WeakMap,uq=new WeakMap;class fB{}class Zx extends fB{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Oh(this,"offset",void 0),Oh(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}class Qx extends fB{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Oh(this,"offset",void 0),Oh(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}var d3e=(t,e)=>{var r=t.text.length;lq.set(t,[r,e])},f3e=t=>lq.get(t),h3e=(t,e)=>{var r=t.text.length;uq.set(t,[r,e])},p3e=t=>uq.get(t);function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function PP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){Oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Q_=new WeakSet,Jx=t=>{var e=[],r=s=>{if(s!=null){var o=e[e.length-1];if(typeof s=="string"){var a={text:s};Q_.add(a),s=a}if(rt.isText(s)){var l=s;rt.isText(o)&&Q_.has(o)&&Q_.has(l)&&rt.equals(o,l,{loose:!0})?o.text+=l.text:e.push(l)}else if(ot.isElement(s))e.push(s);else if(s instanceof fB){var c=e[e.length-1];rt.isText(c)||(r(""),c=e[e.length-1]),s instanceof Zx?d3e(c,s):s instanceof Qx&&h3e(c,s)}else throw new Error("Unexpected hyperscript child object: ".concat(s))}};for(var n of t.flat(1/0))r(n);return e};function g3e(t,e,r){return new Zx(e)}function m3e(t,e,r){return[new Zx(e),new Qx(e)]}function cq(t,e,r){return PP(PP({},e),{},{children:Jx(r)})}function v3e(t,e,r){return new Qx(e)}function y3e(t,e,r){return Jx(r)}function _3e(t,e,r){var n=r.find(o=>o instanceof Zx),s=r.find(o=>o instanceof Qx);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!s||s.offset==null||s.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return PP({anchor:{offset:n.offset,path:n.path},focus:{offset:s.offset,path:s.path}},e)}function b3e(t,e,r){var n=Jx(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[s]=n;if(s==null&&(s={text:""}),!rt.isText(s))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return Q_.delete(s),Object.assign(s,e),s}var w3e=t=>(e,r,n)=>{var s=[],o;for(var a of n)ce.isRange(a)?o=a:s.push(a);var l=Jx(s),c={},d=t();Object.assign(d,r),d.children=l;for(var[h,g]of Me.texts(d)){var m=f3e(h),y=p3e(h);if(m!=null){var[b]=m;c.anchor={path:g,offset:b}}if(y!=null){var[u]=y;c.focus={path:g,offset:u}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return o!=null?d.selection=o:ce.isRange(c)&&(d.selection=c),d};function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){Oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var x3e={anchor:g3e,cursor:m3e,editor:w3e(sX),element:cq,focus:v3e,fragment:y3e,selection:_3e,text:b3e},E3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=e,n=C3e(r),s=Zg(Zg(Zg({},x3e),n),e.creators),o=S3e(s);return o},S3e=t=>{var e=function(n,s){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];var c=t[n];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));s==null&&(s={}),Cn(s)||(a=[s].concat(a),s={}),a=a.filter(h=>!!h).flat();var d=c(n,s,a);return d};return e},C3e=t=>{var e={},r=function(){var o=t[n];if(typeof o!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(o));e[n]=(a,l,c)=>cq("element",Zg(Zg({},o),l),c)};for(var n in t)r();return e},pp=E3e();function A3e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var T3e=A3e,D3e=dp,P3e=uB;function R3e(t,e){return t&&D3e(e,P3e(e),t)}var O3e=R3e,I3e=dp,B3e=Py;function F3e(t,e){return t&&I3e(e,B3e(e),t)}var M3e=F3e,k3e=dp,N3e=lB;function L3e(t,e){return k3e(t,N3e(t),e)}var U3e=L3e,$3e=aB,j3e=ZI,z3e=lB,G3e=XX,V3e=Object.getOwnPropertySymbols,H3e=V3e?function(t){for(var e=[];t;)$3e(e,z3e(t)),t=j3e(t);return e}:G3e,dq=H3e,W3e=dp,K3e=dq;function Y3e(t,e){return W3e(t,K3e(t),e)}var X3e=Y3e,q3e=YX,Z3e=dq,Q3e=Py;function J3e(t){return q3e(t,Q3e,Z3e)}var fq=J3e,eLe=Object.prototype,tLe=eLe.hasOwnProperty;function rLe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&tLe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var nLe=rLe,iLe=qI;function sLe(t,e){var r=e?iLe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var oLe=sLe,aLe=/\w*$/;function lLe(t){var e=new t.constructor(t.source,aLe.exec(t));return e.lastIndex=t.lastIndex,e}var uLe=lLe,qU=op,ZU=qU?qU.prototype:void 0,QU=ZU?ZU.valueOf:void 0;function cLe(t){return QU?Object(QU.call(t)):{}}var dLe=cLe,fLe=qI,hLe=oLe,pLe=uLe,gLe=dLe,mLe=SX,vLe="[object Boolean]",yLe="[object Date]",_Le="[object Map]",bLe="[object Number]",wLe="[object RegExp]",xLe="[object Set]",ELe="[object String]",SLe="[object Symbol]",CLe="[object ArrayBuffer]",ALe="[object DataView]",TLe="[object Float32Array]",DLe="[object Float64Array]",PLe="[object Int8Array]",RLe="[object Int16Array]",OLe="[object Int32Array]",ILe="[object Uint8Array]",BLe="[object Uint8ClampedArray]",FLe="[object Uint16Array]",MLe="[object Uint32Array]";function kLe(t,e,r){var n=t.constructor;switch(e){case CLe:return fLe(t);case vLe:case yLe:return new n(+t);case ALe:return hLe(t,r);case TLe:case DLe:case PLe:case RLe:case OLe:case ILe:case BLe:case FLe:case MLe:return mLe(t,r);case _Le:return new n;case bLe:case ELe:return new n(t);case wLe:return pLe(t);case xLe:return new n;case SLe:return gLe(t)}}var NLe=kLe,LLe=Wx,ULe=yl,$Le="[object Map]";function jLe(t){return ULe(t)&&LLe(t)==$Le}var zLe=jLe,GLe=zLe,VLe=eB,JU=tB,e$=JU&&JU.isMap,HLe=e$?VLe(e$):GLe,WLe=HLe,KLe=Wx,YLe=yl,XLe="[object Set]";function qLe(t){return YLe(t)&&KLe(t)==XLe}var ZLe=qLe,QLe=ZLe,JLe=eB,t$=tB,r$=t$&&t$.isSet,eUe=r$?JLe(r$):QLe,tUe=eUe,rUe=YI,nUe=T3e,iUe=nB,sUe=O3e,oUe=M3e,aUe=xX,lUe=CX,uUe=U3e,cUe=X3e,dUe=qX,fUe=fq,hUe=Wx,pUe=nLe,gUe=NLe,mUe=TX,vUe=Po,yUe=Gx,_Ue=WLe,bUe=us,wUe=tUe,xUe=uB,EUe=Py,SUe=1,CUe=2,AUe=4,hq="[object Arguments]",TUe="[object Array]",DUe="[object Boolean]",PUe="[object Date]",RUe="[object Error]",pq="[object Function]",OUe="[object GeneratorFunction]",IUe="[object Map]",BUe="[object Number]",gq="[object Object]",FUe="[object RegExp]",MUe="[object Set]",kUe="[object String]",NUe="[object Symbol]",LUe="[object WeakMap]",UUe="[object ArrayBuffer]",$Ue="[object DataView]",jUe="[object Float32Array]",zUe="[object Float64Array]",GUe="[object Int8Array]",VUe="[object Int16Array]",HUe="[object Int32Array]",WUe="[object Uint8Array]",KUe="[object Uint8ClampedArray]",YUe="[object Uint16Array]",XUe="[object Uint32Array]",cr={};cr[hq]=cr[TUe]=cr[UUe]=cr[$Ue]=cr[DUe]=cr[PUe]=cr[jUe]=cr[zUe]=cr[GUe]=cr[VUe]=cr[HUe]=cr[IUe]=cr[BUe]=cr[gq]=cr[FUe]=cr[MUe]=cr[kUe]=cr[NUe]=cr[WUe]=cr[KUe]=cr[YUe]=cr[XUe]=!0;cr[RUe]=cr[pq]=cr[LUe]=!1;function J_(t,e,r,n,s,o){var a,l=e&SUe,c=e&CUe,d=e&AUe;if(r&&(a=s?r(t,n,s,o):r(t)),a!==void 0)return a;if(!bUe(t))return t;var h=vUe(t);if(h){if(a=pUe(t),!l)return lUe(t,a)}else{var g=hUe(t),m=g==pq||g==OUe;if(yUe(t))return aUe(t,l);if(g==gq||g==hq||m&&!s){if(a=c||m?{}:mUe(t),!l)return c?cUe(t,oUe(a,t)):uUe(t,sUe(a,t))}else{if(!cr[g])return s?t:{};a=gUe(t,g,l)}}o||(o=new rUe);var y=o.get(t);if(y)return y;o.set(t,a),wUe(t)?t.forEach(function(f){a.add(J_(f,e,r,f,t,o))}):_Ue(t)&&t.forEach(function(f,p){a.set(p,J_(f,e,r,p,t,o))});var b=d?c?fUe:dUe:c?EUe:xUe,u=h?void 0:b(t);return nUe(u||t,function(f,p){u&&(p=f,f=t[p]),iUe(a,p,J_(f,e,r,p,t,o))}),a}var mq=J_,qUe=mq,ZUe=1,QUe=4;function JUe(t){return qUe(t,ZUe|QUe)}var e$e=JUe;const t$e=Un(e$e);var r$e=Xke;function n$e(t,e){return r$e(t,e)}var i$e=n$e;const s$e=Un(i$e),o$e=Symbol(),vq=Symbol(),Kp="a",e1="w";let a$e=(t,e)=>new Proxy(t,e);const RP=Object.getPrototypeOf,n$=new WeakMap,l$e=t=>t&&(n$.has(t)?n$.get(t):RP(t)===Object.prototype||RP(t)===Array.prototype),i$=t=>typeof t=="object"&&t!==null,u$e=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(RP(t),e)},yq=t=>t[vq]||t,_q=(t,e,r,n)=>{if(!l$e(t))return t;let s=n&&n.get(t);if(!s){const c=yq(t);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(h=>!h.configurable&&!h.writable))(c)?[c,u$e(c)]:[c],n==null||n.set(t,s)}const[o,a]=s;let l=r&&r.get(o);return l&&l[1].f===!!a||(l=((c,d)=>{const h={f:d};let g=!1;const m=(b,u)=>{if(!g){let f=h[Kp].get(c);if(f||(f={},h[Kp].set(c,f)),b===e1)f[e1]=!0;else{let p=f[b];p||(p=new Set,f[b]=p),p.add(u)}}},y={get:(b,u)=>u===vq?c:(m("k",u),_q(Reflect.get(b,u),h[Kp],h.c,h.t)),has:(b,u)=>u===o$e?(g=!0,h[Kp].delete(c),!0):(m("h",u),Reflect.has(b,u)),getOwnPropertyDescriptor:(b,u)=>(m("o",u),Reflect.getOwnPropertyDescriptor(b,u)),ownKeys:b=>(m(e1),Reflect.ownKeys(b))};return d&&(y.set=y.deleteProperty=()=>!1),[y,h]})(o,!!a),l[1].p=a$e(a||o,l[0]),r&&r.set(o,l)),l[1][Kp]=e,l[1].c=r,l[1].t=n,l[1].p},OP=(t,e,r,n,s=Object.is)=>{if(s(t,e))return!1;if(!i$(t)||!i$(e))return!0;const o=r.get(yq(t));if(!o)return!0;if(n){const l=n.get(t);if(l&&l.n===e)return l.g;n.set(t,{n:e,g:!1})}let a=null;try{for(const l of o.h||[])if(a=Reflect.has(t,l)!==Reflect.has(e,l),a)return a;if(o[e1]===!0){if(a=((l,c)=>{const d=Reflect.ownKeys(l),h=Reflect.ownKeys(c);return d.length!==h.length||d.some((g,m)=>g!==h[m])})(t,e),a)return a}else for(const l of o.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(t,l)!=!!Reflect.getOwnPropertyDescriptor(e,l),a)return a;for(const l of o.k||[])if(a=OP(t[l],e[l],r,n,s),a)return a;return a===null&&(a=!0),a}finally{n&&n.set(t,{n:e,g:a})}};const c$e=t=>()=>{const[,r]=E.useReducer(h=>h+1,0),n=new WeakMap,s=E.useRef(),o=E.useRef(),a=E.useRef();E.useEffect(()=>{s.current=n,o.current!==a.current&&OP(o.current,a.current,n,new WeakMap)&&(o.current=a.current,r())});const l=E.useCallback(h=>(a.current=h,o.current&&o.current!==h&&s.current&&!OP(o.current,h,s.current,new WeakMap)?o.current:(o.current=h,h)),[]),c=t(l),d=E.useMemo(()=>new WeakMap,[]);return _q(c,n,d)},IP=new Map,i_=t=>{const e=IP.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},d$e=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=IP.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return IP.set(r.name,s),{type:"tracked",store:t,...s}},f$e=(t,e={})=>(r,n,s)=>{const{enabled:o,anonymousActionType:a,store:l,...c}=e;let d;try{d=(o!=null?o:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!d)return t(r,n,s);const{connection:h,...g}=d$e(l,d,c);let m=!0;s.setState=(u,f,p)=>{const v=r(u,f);if(!m)return v;const _=p===void 0?{type:a||"anonymous"}:typeof p=="string"?{type:p}:p;return l===void 0?(h==null||h.send(_,n()),v):(h==null||h.send({..._,type:"".concat(l,"/").concat(_.type)},{...i_(c.name),[l]:s.getState()}),v)};const y=(...u)=>{const f=m;m=!1,r(...u),m=f},b=t(s.setState,n,s);if(g.type==="untracked"?h==null||h.init(b):(g.stores[g.store]=s,h==null||h.init(Object.fromEntries(Object.entries(g.stores).map(([u,f])=>[u,u===g.store?b:f.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let u=!1;const f=s.dispatch;s.dispatch=(...p)=>{f(...p)}}return h.subscribe(u=>{var f;switch(u.type){case"ACTION":if(typeof u.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return PC(u.payload,p=>{if(p.type==="__setState"){if(l===void 0){y(p.state);return}Object.keys(p.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const v=p.state[l];if(v==null)return;JSON.stringify(s.getState())!==JSON.stringify(v)&&y(v);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(p)});case"DISPATCH":switch(u.payload.type){case"RESET":return y(b),l===void 0?h==null?void 0:h.init(s.getState()):h==null?void 0:h.init(i_(c.name));case"COMMIT":if(l===void 0){h==null||h.init(s.getState());return}return h==null?void 0:h.init(i_(c.name));case"ROLLBACK":return PC(u.state,p=>{if(l===void 0){y(p),h==null||h.init(s.getState());return}y(p[l]),h==null||h.init(i_(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return PC(u.state,p=>{if(l===void 0){y(p);return}JSON.stringify(s.getState())!==JSON.stringify(p[l])&&y(p[l])});case"IMPORT_STATE":{const{nextLiftedState:p}=u.payload,v=(f=p.computedStates.slice(-1)[0])==null?void 0:f.state;if(!v)return;y(l===void 0?v:v[l]),h==null||h.send(null,p);return}case"PAUSE_RECORDING":return m=!m}return}}),b},h$e=f$e,PC=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function p$e(t,e){let r;try{r=t()}catch(s){return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const Pv=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Pv(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Pv(n)(r)}}}},g$e=(t,e)=>(r,n,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,p)=>({...p,...f}),...e},a=!1;const l=new Set,c=new Set;let d;try{d=o.getStorage()}catch(f){}if(!d)return t((...f)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...f)},n,s);const h=Pv(o.serialize),g=()=>{const f=o.partialize({...n()});let p;const v=h({state:f,version:o.version}).then(_=>d.setItem(o.name,_)).catch(_=>{p=_});if(p)throw p;return v},m=s.setState;s.setState=(f,p)=>{m(f,p),g()};const y=t((...f)=>{r(...f),g()},n,s);let b;const u=()=>{var f;if(!d)return;a=!1,l.forEach(v=>v(n()));const p=((f=o.onRehydrateStorage)==null?void 0:f.call(o,n()))||void 0;return Pv(d.getItem.bind(d))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var _;return b=o.merge(v,(_=n())!=null?_:y),r(b,!0),g()}).then(()=>{p==null||p(b,void 0),a=!0,c.forEach(v=>v(b))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:f=>{o={...o,...f},f.getStorage&&(d=f.getStorage())},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>u(),hasHydrated:()=>a,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},u(),b||y},m$e=(t,e)=>(r,n,s)=>{let o={storage:p$e(()=>localStorage),partialize:u=>u,version:0,merge:(u,f)=>({...f,...u}),...e},a=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return t((...u)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...u)},n,s);const h=()=>{const u=o.partialize({...n()});return d.setItem(o.name,{state:u,version:o.version})},g=s.setState;s.setState=(u,f)=>{g(u,f),h()};const m=t((...u)=>{r(...u),h()},n,s);s.getInitialState=()=>m;let y;const b=()=>{var u,f;if(!d)return;a=!1,l.forEach(v=>{var _;return v((_=n())!=null?_:m)});const p=((f=o.onRehydrateStorage)==null?void 0:f.call(o,(u=n())!=null?u:m))||void 0;return Pv(d.getItem.bind(d))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var _;const[w,x]=v;if(y=o.merge(x,(_=n())!=null?_:m),r(y,!0),w)return h()}).then(()=>{p==null||p(y,void 0),y=n(),a=!0,c.forEach(v=>v(y))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:u=>{o={...o,...u},u.storage&&(d=u.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},o.skipHydration||b(),y||m},v$e=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?g$e(t,e):m$e(t,e),y$e=v$e,{useDebugValue:_$e}=Z,{useSyncExternalStoreWithSelector:b$e}=l6,w$e=t=>t;function x$e(t,e=w$e,r){const n=b$e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return _$e(n),n}var aw={exports:{}};aw.exports;(function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",o=1,a=2,l=1/0,c=9007199254740991,d="[object Arguments]",h="[object Array]",g="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Function]",u="[object GeneratorFunction]",f="[object Map]",p="[object Number]",v="[object Object]",_="[object Promise]",w="[object RegExp]",x="[object Set]",S="[object String]",A="[object Symbol]",D="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",k="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",j="[object Uint16Array]",$="[object Uint32Array]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ue=/^\./,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,he=/\\(\\)?/g,X=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,G={};G[R]=G[P]=G[O]=G[I]=G[k]=G[W]=G[V]=G[j]=G[$]=!0,G[d]=G[h]=G[C]=G[g]=G[T]=G[m]=G[y]=G[b]=G[f]=G[p]=G[v]=G[w]=G[x]=G[S]=G[D]=!1;var H=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,re=typeof self=="object"&&self&&self.Object===Object&&self,ne=H||re||Function("return this")(),_e=e&&!e.nodeType&&e,be=_e&&!0&&t&&!t.nodeType&&t,xe=be&&be.exports===_e,Se=xe&&H.process,dt=function(){try{return Se&&Se.binding("util")}catch(N){}}(),wt=dt&&dt.isTypedArray;function Y(N,q){for(var ge=-1,ze=N?N.length:0;++ge<ze;)if(q(N[ge],ge,N))return!0;return!1}function se(N){return function(q){return q==null?void 0:q[N]}}function le(N,q){for(var ge=-1,ze=Array(N);++ge<N;)ze[ge]=q(ge);return ze}function Ae(N){return function(q){return N(q)}}function ve(N,q){return N==null?void 0:N[q]}function ye(N){var q=!1;if(N!=null&&typeof N.toString!="function")try{q=!!(N+"")}catch(ge){}return q}function Te(N){var q=-1,ge=Array(N.size);return N.forEach(function(ze,Rt){ge[++q]=[Rt,ze]}),ge}function Re(N,q){return function(ge){return N(q(ge))}}function je(N){var q=-1,ge=Array(N.size);return N.forEach(function(ze){ge[++q]=ze}),ge}var ft=Array.prototype,xt=Function.prototype,Ke=Object.prototype,L=ne["__core-js_shared__"],B=function(){var N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),U=xt.toString,Q=Ke.hasOwnProperty,ie=Ke.toString,ke=RegExp("^"+U.call(Q).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=ne.Symbol,ut=ne.Uint8Array,Xe=Ke.propertyIsEnumerable,vt=ft.splice,te=Re(Object.keys,Object),ae=Rd(ne,"DataView"),de=Rd(ne,"Map"),Ee=Rd(ne,"Promise"),Be=Rd(ne,"Set"),We=Rd(ne,"WeakMap"),Ze=Rd(Object,"create"),De=Qu(ae),Qe=Qu(de),Fe=Qu(Ee),Ce=Qu(Be),Ne=Qu(We),Le=Ge?Ge.prototype:void 0,Je=Le?Le.valueOf:void 0,Tt=Le?Le.toString:void 0;function er(N){var q=-1,ge=N?N.length:0;for(this.clear();++q<ge;){var ze=N[q];this.set(ze[0],ze[1])}}function tr(){this.__data__=Ze?Ze(null):{}}function qr(N){return this.has(N)&&delete this.__data__[N]}function wr(N){var q=this.__data__;if(Ze){var ge=q[N];return ge===s?void 0:ge}return Q.call(q,N)?q[N]:void 0}function kt(N){var q=this.__data__;return Ze?q[N]!==void 0:Q.call(q,N)}function cn(N,q){var ge=this.__data__;return ge[N]=Ze&&q===void 0?s:q,this}er.prototype.clear=tr,er.prototype.delete=qr,er.prototype.get=wr,er.prototype.has=kt,er.prototype.set=cn;function Nt(N){var q=-1,ge=N?N.length:0;for(this.clear();++q<ge;){var ze=N[q];this.set(ze[0],ze[1])}}function dn(){this.__data__=[]}function Gr(N){var q=this.__data__,ge=By(q,N);if(ge<0)return!1;var ze=q.length-1;return ge==ze?q.pop():vt.call(q,ge,1),!0}function It(N){var q=this.__data__,ge=By(q,N);return ge<0?void 0:q[ge][1]}function hr(N){return By(this.__data__,N)>-1}function _i(N,q){var ge=this.__data__,ze=By(ge,N);return ze<0?ge.push([N,q]):ge[ze][1]=q,this}Nt.prototype.clear=dn,Nt.prototype.delete=Gr,Nt.prototype.get=It,Nt.prototype.has=hr,Nt.prototype.set=_i;function Ut(N){var q=-1,ge=N?N.length:0;for(this.clear();++q<ge;){var ze=N[q];this.set(ze[0],ze[1])}}function bi(){this.__data__={hash:new er,map:new(de||Nt),string:new er}}function bl(N){return Fy(this,N).delete(N)}function ds(N){return Fy(this,N).get(N)}function On(N){return Fy(this,N).has(N)}function qs(N,q){return Fy(this,N).set(N,q),this}Ut.prototype.clear=bi,Ut.prototype.delete=bl,Ut.prototype.get=ds,Ut.prototype.has=On,Ut.prototype.set=qs;function fs(N){var q=-1,ge=N?N.length:0;for(this.__data__=new Ut;++q<ge;)this.add(N[q])}function Pd(N){return this.__data__.set(N,s),this}function NQ(N){return this.__data__.has(N)}fs.prototype.add=fs.prototype.push=Pd,fs.prototype.has=NQ;function pa(N){this.__data__=new Nt(N)}function LQ(){this.__data__=new Nt}function UQ(N){return this.__data__.delete(N)}function $Q(N){return this.__data__.get(N)}function jQ(N){return this.__data__.has(N)}function zQ(N,q){var ge=this.__data__;if(ge instanceof Nt){var ze=ge.__data__;if(!de||ze.length<r-1)return ze.push([N,q]),this;ge=this.__data__=new Ut(ze)}return ge.set(N,q),this}pa.prototype.clear=LQ,pa.prototype.delete=UQ,pa.prototype.get=$Q,pa.prototype.has=jQ,pa.prototype.set=zQ;function GQ(N,q){var ge=Ju(N)||qB(N)?le(N.length,String):[],ze=ge.length,Rt=!!ze;for(var pt in N)(q||Q.call(N,pt))&&!(Rt&&(pt=="length"||WB(pt,ze)))&&ge.push(pt);return ge}function By(N,q){for(var ge=N.length;ge--;)if(XB(N[ge][0],q))return ge;return-1}var VQ=iJ();function HQ(N,q){return N&&VQ(N,q,Uy)}function GB(N,q){q=My(q,N)?[q]:VB(q);for(var ge=0,ze=q.length;N!=null&&ge<ze;)N=N[ky(q[ge++])];return ge&&ge==ze?N:void 0}function WQ(N){return ie.call(N)}function KQ(N,q){return N!=null&&q in Object(N)}function uE(N,q,ge,ze,Rt){return N===q?!0:N==null||q==null||!Ny(N)&&!Ly(q)?N!==N&&q!==q:YQ(N,q,uE,ge,ze,Rt)}function YQ(N,q,ge,ze,Rt,pt){var Qt=Ju(N),lr=Ju(q),Rr=h,mn=h;Qt||(Rr=wl(N),Rr=Rr==d?v:Rr),lr||(mn=wl(q),mn=mn==d?v:mn);var ri=Rr==v&&!ye(N),wi=mn==v&&!ye(q),vn=Rr==mn;if(vn&&!ri)return pt||(pt=new pa),Qt||pJ(N)?HB(N,q,ge,ze,Rt,pt):sJ(N,q,Rr,ge,ze,Rt,pt);if(!(Rt&a)){var hs=ri&&Q.call(N,"__wrapped__"),ps=wi&&Q.call(q,"__wrapped__");if(hs||ps){var xl=hs?N.value():N,ga=ps?q.value():q;return pt||(pt=new pa),ge(xl,ga,ze,Rt,pt)}}return vn?(pt||(pt=new pa),oJ(N,q,ge,ze,Rt,pt)):!1}function XQ(N,q,ge,ze){var Rt=ge.length,pt=Rt,Qt=!ze;if(N==null)return!pt;for(N=Object(N);Rt--;){var lr=ge[Rt];if(Qt&&lr[2]?lr[1]!==N[lr[0]]:!(lr[0]in N))return!1}for(;++Rt<pt;){lr=ge[Rt];var Rr=lr[0],mn=N[Rr],ri=lr[1];if(Qt&&lr[2]){if(mn===void 0&&!(Rr in N))return!1}else{var wi=new pa;if(ze)var vn=ze(mn,ri,Rr,N,q,wi);if(!(vn===void 0?uE(ri,mn,ze,o|a,wi):vn))return!1}}return!0}function qQ(N){if(!Ny(N)||cJ(N))return!1;var q=QB(N)||ye(N)?ke:X;return q.test(Qu(N))}function ZQ(N){return Ly(N)&&dE(N.length)&&!!G[ie.call(N)]}function QQ(N){return typeof N=="function"?N:N==null?_J:typeof N=="object"?Ju(N)?tJ(N[0],N[1]):eJ(N):bJ(N)}function JQ(N){if(!dJ(N))return te(N);var q=[];for(var ge in Object(N))Q.call(N,ge)&&ge!="constructor"&&q.push(ge);return q}function eJ(N){var q=aJ(N);return q.length==1&&q[0][2]?YB(q[0][0],q[0][1]):function(ge){return ge===N||XQ(ge,N,q)}}function tJ(N,q){return My(N)&&KB(q)?YB(ky(N),q):function(ge){var ze=mJ(ge,N);return ze===void 0&&ze===q?vJ(ge,N):uE(q,ze,void 0,o|a)}}function rJ(N){return function(q){return GB(q,N)}}function nJ(N){if(typeof N=="string")return N;if(fE(N))return Tt?Tt.call(N):"";var q=N+"";return q=="0"&&1/N==-l?"-0":q}function VB(N){return Ju(N)?N:fJ(N)}function iJ(N){return function(q,ge,ze){for(var Rt=-1,pt=Object(q),Qt=ze(q),lr=Qt.length;lr--;){var Rr=Qt[N?lr:++Rt];if(ge(pt[Rr],Rr,pt)===!1)break}return q}}function HB(N,q,ge,ze,Rt,pt){var Qt=Rt&a,lr=N.length,Rr=q.length;if(lr!=Rr&&!(Qt&&Rr>lr))return!1;var mn=pt.get(N);if(mn&&pt.get(q))return mn==q;var ri=-1,wi=!0,vn=Rt&o?new fs:void 0;for(pt.set(N,q),pt.set(q,N);++ri<lr;){var hs=N[ri],ps=q[ri];if(ze)var xl=Qt?ze(ps,hs,ri,q,N,pt):ze(hs,ps,ri,N,q,pt);if(xl!==void 0){if(xl)continue;wi=!1;break}if(vn){if(!Y(q,function(ga,ec){if(!vn.has(ec)&&(hs===ga||ge(hs,ga,ze,Rt,pt)))return vn.add(ec)})){wi=!1;break}}else if(!(hs===ps||ge(hs,ps,ze,Rt,pt))){wi=!1;break}}return pt.delete(N),pt.delete(q),wi}function sJ(N,q,ge,ze,Rt,pt,Qt){switch(ge){case T:if(N.byteLength!=q.byteLength||N.byteOffset!=q.byteOffset)return!1;N=N.buffer,q=q.buffer;case C:return!(N.byteLength!=q.byteLength||!ze(new ut(N),new ut(q)));case g:case m:case p:return XB(+N,+q);case y:return N.name==q.name&&N.message==q.message;case w:case S:return N==q+"";case f:var lr=Te;case x:var Rr=pt&a;if(lr||(lr=je),N.size!=q.size&&!Rr)return!1;var mn=Qt.get(N);if(mn)return mn==q;pt|=o,Qt.set(N,q);var ri=HB(lr(N),lr(q),ze,Rt,pt,Qt);return Qt.delete(N),ri;case A:if(Je)return Je.call(N)==Je.call(q)}return!1}function oJ(N,q,ge,ze,Rt,pt){var Qt=Rt&a,lr=Uy(N),Rr=lr.length,mn=Uy(q),ri=mn.length;if(Rr!=ri&&!Qt)return!1;for(var wi=Rr;wi--;){var vn=lr[wi];if(!(Qt?vn in q:Q.call(q,vn)))return!1}var hs=pt.get(N);if(hs&&pt.get(q))return hs==q;var ps=!0;pt.set(N,q),pt.set(q,N);for(var xl=Qt;++wi<Rr;){vn=lr[wi];var ga=N[vn],ec=q[vn];if(ze)var JB=Qt?ze(ec,ga,vn,q,N,pt):ze(ga,ec,vn,N,q,pt);if(!(JB===void 0?ga===ec||ge(ga,ec,ze,Rt,pt):JB)){ps=!1;break}xl||(xl=vn=="constructor")}if(ps&&!xl){var $y=N.constructor,jy=q.constructor;$y!=jy&&"constructor"in N&&"constructor"in q&&!(typeof $y=="function"&&$y instanceof $y&&typeof jy=="function"&&jy instanceof jy)&&(ps=!1)}return pt.delete(N),pt.delete(q),ps}function Fy(N,q){var ge=N.__data__;return uJ(q)?ge[typeof q=="string"?"string":"hash"]:ge.map}function aJ(N){for(var q=Uy(N),ge=q.length;ge--;){var ze=q[ge],Rt=N[ze];q[ge]=[ze,Rt,KB(Rt)]}return q}function Rd(N,q){var ge=ve(N,q);return qQ(ge)?ge:void 0}var wl=WQ;(ae&&wl(new ae(new ArrayBuffer(1)))!=T||de&&wl(new de)!=f||Ee&&wl(Ee.resolve())!=_||Be&&wl(new Be)!=x||We&&wl(new We)!=D)&&(wl=function(N){var q=ie.call(N),ge=q==v?N.constructor:void 0,ze=ge?Qu(ge):void 0;if(ze)switch(ze){case De:return T;case Qe:return f;case Fe:return _;case Ce:return x;case Ne:return D}return q});function lJ(N,q,ge){q=My(q,N)?[q]:VB(q);for(var ze,Rt=-1,Qt=q.length;++Rt<Qt;){var pt=ky(q[Rt]);if(!(ze=N!=null&&ge(N,pt)))break;N=N[pt]}if(ze)return ze;var Qt=N?N.length:0;return!!Qt&&dE(Qt)&&WB(pt,Qt)&&(Ju(N)||qB(N))}function WB(N,q){return q=q==null?c:q,!!q&&(typeof N=="number"||z.test(N))&&N>-1&&N%1==0&&N<q}function My(N,q){if(Ju(N))return!1;var ge=typeof N;return ge=="number"||ge=="symbol"||ge=="boolean"||N==null||fE(N)?!0:J.test(N)||!K.test(N)||q!=null&&N in Object(q)}function uJ(N){var q=typeof N;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?N!=="__proto__":N===null}function cJ(N){return!!B&&B in N}function dJ(N){var q=N&&N.constructor,ge=typeof q=="function"&&q.prototype||Ke;return N===ge}function KB(N){return N===N&&!Ny(N)}function YB(N,q){return function(ge){return ge==null?!1:ge[N]===q&&(q!==void 0||N in Object(ge))}}var fJ=cE(function(N){N=gJ(N);var q=[];return ue.test(N)&&q.push(""),N.replace(pe,function(ge,ze,Rt,pt){q.push(Rt?pt.replace(he,"$1"):ze||ge)}),q});function ky(N){if(typeof N=="string"||fE(N))return N;var q=N+"";return q=="0"&&1/N==-l?"-0":q}function Qu(N){if(N!=null){try{return U.call(N)}catch(q){}try{return N+""}catch(q){}}return""}function cE(N,q){if(typeof N!="function"||q&&typeof q!="function")throw new TypeError(n);var ge=function(){var ze=arguments,Rt=q?q.apply(this,ze):ze[0],pt=ge.cache;if(pt.has(Rt))return pt.get(Rt);var Qt=N.apply(this,ze);return ge.cache=pt.set(Rt,Qt),Qt};return ge.cache=new(cE.Cache||Ut),ge}cE.Cache=Ut;function XB(N,q){return N===q||N!==N&&q!==q}function qB(N){return hJ(N)&&Q.call(N,"callee")&&(!Xe.call(N,"callee")||ie.call(N)==d)}var Ju=Array.isArray;function ZB(N){return N!=null&&dE(N.length)&&!QB(N)}function hJ(N){return Ly(N)&&ZB(N)}function QB(N){var q=Ny(N)?ie.call(N):"";return q==b||q==u}function dE(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=c}function Ny(N){var q=typeof N;return!!N&&(q=="object"||q=="function")}function Ly(N){return!!N&&typeof N=="object"}function fE(N){return typeof N=="symbol"||Ly(N)&&ie.call(N)==A}var pJ=wt?Ae(wt):ZQ;function gJ(N){return N==null?"":nJ(N)}function mJ(N,q,ge){var ze=N==null?void 0:GB(N,q);return ze===void 0?ge:ze}function vJ(N,q){return N!=null&&lJ(N,q,KQ)}function Uy(N){return ZB(N)?GQ(N):JQ(N)}function yJ(N,q){var ge={};return q=QQ(q),HQ(N,function(ze,Rt,pt){ge[Rt]=q(ze,Rt,pt)}),ge}function _J(N){return N}function bJ(N){return My(N)?se(ky(N)):rJ(N)}t.exports=yJ})(aw,aw.exports);aw.exports;var E$e=Object.defineProperty,S$e=Object.defineProperties,C$e=Object.getOwnPropertyDescriptors,s$=Object.getOwnPropertySymbols,A$e=Object.prototype.hasOwnProperty,T$e=Object.prototype.propertyIsEnumerable,o$=(t,e,r)=>e in t?E$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ns=(t,e)=>{for(var r in e||(e={}))A$e.call(e,r)&&o$(t,r,e[r]);if(s$)for(var r of s$(e))T$e.call(e,r)&&o$(t,r,e[r]);return t},Rv=(t,e)=>S$e(t,C$e(e)),D$e=t=>(e,r,n)=>{const s=(o,a)=>e(ny(o),!0,a);return n.setState=s,t(s,r,n)},P$e=(t,e)=>{const r={};return Object.keys(t.getState()).forEach(n=>{r[n]=s=>{if(t.getState()[n]===s)return;const a=n.replace(/^\S/,l=>l.toUpperCase());t.setState(l=>{l[n]=s},"@@".concat(e,"/set").concat(a))}}),r},R$e=t=>{const e={};return Object.keys(t.getState()).forEach(r=>{e[r]=()=>t.getState()[r]}),e},O$e=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=s=>t(o=>o[n],s)}),r},I$e=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=()=>t()[n]}),r};function B$e(t,...e){return e.reduce((r,n)=>n(r),t)}var F$e=(t,e)=>{const r=t(e.set,e.get,e);return Rv(Ns({},e),{set:Ns(Ns({},e.set),r)})},M$e=(t,e)=>{const r=Ns({},e.use),n=Ns({},e.useTracked),s=Ns({},e.get);return Object.keys(t(e.store.getState(),e.get,e)).forEach(o=>{r[o]=(...a)=>e.useStore(l=>{const d=t(l,e.get,e)[o];return d(...a)}),n[o]=(...a)=>{const l=e.useTrackedStore(),d=t(l,e.get,e)[o];return d(...a)},s[o]=(...a)=>{const c=t(e.store.getState(),e.get,e)[o];return c(...a)}}),Rv(Ns({},e),{get:s,use:r,useTracked:n})},BP=t=>Rv(Ns({},t),{extendSelectors:e=>BP(M$e(e,t)),extendActions:e=>BP(F$e(e,t))}),k$e=t=>(e,r={})=>{var n,s;const{middlewares:o=[],devtools:a,persist:l,immer:c}=r;xve((n=c==null?void 0:c.enabledAutoFreeze)!=null?n:!1),c!=null&&c.enableMapSet&&wve();const d=[D$e,...o];if(l!=null&&l.enabled){const x=Rv(Ns({},l),{name:(s=l.name)!=null?s:t});d.push(S=>y$e(S,x))}a!=null&&a.enabled&&d.push(x=>h$e(x,Rv(Ns({},a),{name:t}))),d.push(n6);const g=(x=>B$e(x,...d))(()=>e),m=(x,S)=>x$e(g,x,S),y=P$e(g,t),b=(x,S)=>{g.setState(A=>{Object.assign(A,x)},S||"@@".concat(t,"/mergeState"))},u=(x,S)=>{g.setState(x,S||"@@".concat(t,"/setState"))},f=O$e(m,g),p=R$e(g),v=c$e(m),_=I$e(v,g),w={get:Ns({state:g.getState},p),name:t,set:Ns({state:u,mergeState:b},y),store:g,use:f,useTracked:_,useStore:m,useTrackedStore:v,extendSelectors:()=>w,extendActions:()=>w};return BP(w)},bq=k$e,N$e=$$e,wq="---",xq="A-Za-z--------",L$e=new RegExp("^[^"+xq+"]*["+wq+"]"),U$e=new RegExp("^[^"+wq+"]*["+xq+"]");function $$e(t){return t=String(t||""),L$e.test(t)?"rtl":U$e.test(t)?"ltr":"neutral"}const Eq=Un(N$e);var j$e=Do,z$e=function(){return j$e.Date.now()},G$e=z$e,V$e=/\s/;function H$e(t){for(var e=t.length;e--&&V$e.test(t.charAt(e)););return e}var W$e=H$e,K$e=W$e,Y$e=/^\s+/;function X$e(t){return t&&t.slice(0,K$e(t)+1).replace(Y$e,"")}var q$e=X$e,Z$e=q$e,a$=us,Q$e=Kx,l$=0/0,J$e=/^[-+]0x[0-9a-f]+$/i,e4e=/^0b[01]+$/i,t4e=/^0o[0-7]+$/i,r4e=parseInt;function n4e(t){if(typeof t=="number")return t;if(Q$e(t))return l$;if(a$(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=a$(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Z$e(t);var r=e4e.test(t);return r||t4e.test(t)?r4e(t.slice(2),r?2:8):J$e.test(t)?l$:+t}var i4e=n4e,s4e=us,RC=G$e,u$=i4e,o4e="Expected a function",a4e=Math.max,l4e=Math.min;function u4e(t,e,r){var n,s,o,a,l,c,d=0,h=!1,g=!1,m=!0;if(typeof t!="function")throw new TypeError(o4e);e=u$(e)||0,s4e(r)&&(h=!!r.leading,g="maxWait"in r,o=g?a4e(u$(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function y(S){var A=n,D=s;return n=s=void 0,d=S,a=t.apply(D,A),a}function b(S){return d=S,l=setTimeout(p,e),h?y(S):a}function u(S){var A=S-c,D=S-d,C=e-A;return g?l4e(C,o-D):C}function f(S){var A=S-c,D=S-d;return c===void 0||A>=e||A<0||g&&D>=o}function p(){var S=RC();if(f(S))return v(S);l=setTimeout(p,u(S))}function v(S){return l=void 0,m&&n?y(S):(n=s=void 0,a)}function _(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?a:v(RC())}function x(){var S=RC(),A=f(S);if(n=arguments,s=this,c=S,A){if(l===void 0)return b(c);if(g)return clearTimeout(l),l=setTimeout(p,e),y(c)}return l===void 0&&(l=setTimeout(p,e)),a}return x.cancel=_,x.flush=w,x}var Sq=u4e;const c4e=Un(Sq);var d4e=Sq,f4e=us,h4e="Expected a function";function p4e(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(h4e);return f4e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),d4e(t,e,{leading:n,maxWait:e,trailing:s})}var g4e=p4e;const m4e=Un(g4e),c$=t=>typeof t=="object"&&t!=null&&t.nodeType===1,d$=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",OC=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return d$(r.overflowY,e)||d$(r.overflowX,e)||(n=>{const s=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(a){return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(t)}return!1},s_=(t,e,r,n,s,o,a,l)=>o<t&&a>e||o>t&&a<e?0:o<=t&&l<=r||a>=e&&l>=r?o-t-n:a>e&&l<r||o<t&&l>r?a-e+s:0,v4e=t=>{const e=t.parentElement;return e==null?t.getRootNode().host||null:e},f$=(t,e)=>{var r,n,s,o;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:c,boundary:d,skipOverflowHiddenElements:h}=e,g=typeof d=="function"?d:P=>P!==d;if(!c$(t))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,y=[];let b=t;for(;c$(b)&&g(b);){if(b=v4e(b),b===m){y.push(b);break}b!=null&&b===document.body&&OC(b)&&!OC(document.documentElement)||b!=null&&OC(b,h)&&y.push(b)}const u=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,f=(o=(s=window.visualViewport)==null?void 0:s.height)!=null?o:innerHeight,{scrollX:p,scrollY:v}=window,{height:_,width:w,top:x,right:S,bottom:A,left:D}=t.getBoundingClientRect();let C=l==="start"||l==="nearest"?x:l==="end"?A:x+_/2,T=c==="center"?D+w/2:c==="end"?S:D;const R=[];for(let P=0;P<y.length;P++){const O=y[P],{height:I,width:k,top:W,right:V,bottom:j,left:$}=O.getBoundingClientRect();if(a==="if-needed"&&x>=0&&D>=0&&A<=f&&S<=u&&x>=W&&A<=j&&D>=$&&S<=V)return R;const K=getComputedStyle(O),J=parseInt(K.borderLeftWidth,10),ue=parseInt(K.borderTopWidth,10),pe=parseInt(K.borderRightWidth,10),oe=parseInt(K.borderBottomWidth,10);let he=0,X=0;const z="offsetWidth"in O?O.offsetWidth-O.clientWidth-J-pe:0,G="offsetHeight"in O?O.offsetHeight-O.clientHeight-ue-oe:0,H="offsetWidth"in O?O.offsetWidth===0?0:k/O.offsetWidth:0,re="offsetHeight"in O?O.offsetHeight===0?0:I/O.offsetHeight:0;if(m===O)he=l==="start"?C:l==="end"?C-f:l==="nearest"?s_(v,v+f,f,ue,oe,v+C,v+C+_,_):C-f/2,X=c==="start"?T:c==="center"?T-u/2:c==="end"?T-u:s_(p,p+u,u,J,pe,p+T,p+T+w,w),he=Math.max(0,he+v),X=Math.max(0,X+p);else{he=l==="start"?C-W-ue:l==="end"?C-j+oe+G:l==="nearest"?s_(W,j,I,ue,oe+G,C,C+_,_):C-(W+I/2)+G/2,X=c==="start"?T-$-J:c==="center"?T-($+k/2)+z/2:c==="end"?T-V+pe+z:s_($,V,k,J,pe+z,T,T+w,w);const{scrollLeft:ne,scrollTop:_e}=O;he=Math.max(0,Math.min(_e+he/re,O.scrollHeight-I/re+G)),X=Math.max(0,Math.min(ne+X/H,O.scrollWidth-k/H+z)),C+=_e-he,T+=ne-X}R.push({el:O,top:he,left:X})}return R},y4e=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function _4e(t,e){if(!t.isConnected||!(s=>{let o=s;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const r=(s=>{const o=window.getComputedStyle(s);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(f$(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:o,left:a}of f$(t,y4e(e))){const l=o-r.top+r.bottom,c=a-r.left+r.right;s.scroll({top:l,left:c,behavior:n})}}var Gc=[],b4e=function(){return Gc.some(function(t){return t.activeTargets.length>0})},w4e=function(){return Gc.some(function(t){return t.skippedTargets.length>0})},h$="ResizeObserver loop completed with undelivered notifications.",x4e=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:h$}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=h$),window.dispatchEvent(t)},Ov;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ov||(Ov={}));var Vc=function(t){return Object.freeze(t)},E4e=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,Vc(this)}return t}(),Cq=function(){function t(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Vc(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,s=e.top,o=e.right,a=e.bottom,l=e.left,c=e.width,d=e.height;return{x:r,y:n,top:s,right:o,bottom:a,left:l,width:c,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),hB=function(t){return t instanceof SVGElement&&"getBBox"in t},Aq=function(t){if(hB(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var s=t,o=s.offsetWidth,a=s.offsetHeight;return!(o||a||t.getClientRects().length)},p$=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},S4e=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Qg=typeof window<"u"?window:{},o_=new WeakMap,g$=/auto|scroll/,C4e=/^tb|vertical/,A4e=/msie|trident/i.test(Qg.navigator&&Qg.navigator.userAgent),Bo=function(t){return parseFloat(t||"0")},Qf=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new E4e((r?e:t)||0,(r?t:e)||0)},m$=Vc({devicePixelContentBoxSize:Qf(),borderBoxSize:Qf(),contentBoxSize:Qf(),contentRect:new Cq(0,0,0,0)}),Tq=function(t,e){if(e===void 0&&(e=!1),o_.has(t)&&!e)return o_.get(t);if(Aq(t))return o_.set(t,m$),m$;var r=getComputedStyle(t),n=hB(t)&&t.ownerSVGElement&&t.getBBox(),s=!A4e&&r.boxSizing==="border-box",o=C4e.test(r.writingMode||""),a=!n&&g$.test(r.overflowY||""),l=!n&&g$.test(r.overflowX||""),c=n?0:Bo(r.paddingTop),d=n?0:Bo(r.paddingRight),h=n?0:Bo(r.paddingBottom),g=n?0:Bo(r.paddingLeft),m=n?0:Bo(r.borderTopWidth),y=n?0:Bo(r.borderRightWidth),b=n?0:Bo(r.borderBottomWidth),u=n?0:Bo(r.borderLeftWidth),f=g+d,p=c+h,v=u+y,_=m+b,w=l?t.offsetHeight-_-t.clientHeight:0,x=a?t.offsetWidth-v-t.clientWidth:0,S=s?f+v:0,A=s?p+_:0,D=n?n.width:Bo(r.width)-S-x,C=n?n.height:Bo(r.height)-A-w,T=D+f+x+v,R=C+p+w+_,P=Vc({devicePixelContentBoxSize:Qf(Math.round(D*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Qf(T,R,o),contentBoxSize:Qf(D,C,o),contentRect:new Cq(g,c,D,C)});return o_.set(t,P),P},Dq=function(t,e,r){var n=Tq(t,r),s=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Ov.DEVICE_PIXEL_CONTENT_BOX:return a;case Ov.BORDER_BOX:return s;default:return o}},T4e=function(){function t(e){var r=Tq(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Vc([r.borderBoxSize]),this.contentBoxSize=Vc([r.contentBoxSize]),this.devicePixelContentBoxSize=Vc([r.devicePixelContentBoxSize])}return t}(),Pq=function(t){if(Aq(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},D4e=function(){var t=1/0,e=[];Gc.forEach(function(a){if(a.activeTargets.length!==0){var l=[];a.activeTargets.forEach(function(d){var h=new T4e(d.target),g=Pq(d.target);l.push(h),d.lastReportedSize=Dq(d.target,d.observedBox),g<t&&(t=g)}),e.push(function(){a.callback.call(a.observer,l,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var s=n[r];s()}return t},v$=function(t){Gc.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(s){s.isActive()&&(Pq(s.target)>t?r.activeTargets.push(s):r.skippedTargets.push(s))})})},P4e=function(){var t=0;for(v$(t);b4e();)t=D4e(),v$(t);return w4e()&&x4e(),t>0},IC,Rq=[],R4e=function(){return Rq.splice(0).forEach(function(t){return t()})},O4e=function(t){if(!IC){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return R4e()}).observe(r,n),IC=function(){r.textContent="".concat(e?e--:e++)}}Rq.push(t),IC()},I4e=function(t){O4e(function(){requestAnimationFrame(t)})},t1=0,B4e=function(){return!!t1},F4e=250,M4e={attributes:!0,characterData:!0,childList:!0,subtree:!0},y$=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],_$=function(t){return t===void 0&&(t=0),Date.now()+t},BC=!1,k4e=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=F4e),!BC){BC=!0;var n=_$(e);I4e(function(){var s=!1;try{s=P4e()}finally{if(BC=!1,e=n-_$(),!B4e())return;s?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,M4e)};document.body?r():Qg.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),y$.forEach(function(r){return Qg.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),y$.forEach(function(r){return Qg.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),FP=new k4e,b$=function(t){!t1&&t>0&&FP.start(),t1+=t,!t1&&FP.stop()},N4e=function(t){return!hB(t)&&!S4e(t)&&getComputedStyle(t).display==="inline"},L4e=function(){function t(e,r){this.target=e,this.observedBox=r||Ov.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Dq(this.target,this.observedBox,!0);return N4e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),U4e=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),a_=new WeakMap,w$=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},l_=function(){function t(){}return t.connect=function(e,r){var n=new U4e(e,r);a_.set(e,n)},t.observe=function(e,r,n){var s=a_.get(e),o=s.observationTargets.length===0;w$(s.observationTargets,r)<0&&(o&&Gc.push(s),s.observationTargets.push(new L4e(r,n&&n.box)),b$(1),FP.schedule())},t.unobserve=function(e,r){var n=a_.get(e),s=w$(n.observationTargets,r),o=n.observationTargets.length===1;s>=0&&(o&&Gc.splice(Gc.indexOf(n),1),n.observationTargets.splice(s,1),b$(-1))},t.disconnect=function(e){var r=this,n=a_.get(e);n.observationTargets.slice().forEach(function(s){return r.unobserve(e,s.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),$4e=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");l_.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!p$(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");l_.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!p$(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");l_.unobserve(this,e)},t.prototype.disconnect=function(){l_.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function j4e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Ih(t,e){if(t==null)return{};var r=j4e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function z4e(t,e){if(Iv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G4e(t){var e=z4e(t,"string");return Iv(e)==="symbol"?e:String(e)}function Gs(t,e,r){return e=G4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pB=E.createContext(null),Zu=()=>{var t=E.useContext(pB);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},FC,MC,Oq=parseInt(Z.version.split(".")[0],10),V4e=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,x$=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ui=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Pf=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),gc=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),H4e=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Iq=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),W4e=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),K4e=ui&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Y4e=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),X4e=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),q4e=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((FC=navigator.userAgent.match(/Version\/(\d+)/))!==null&&FC!==void 0&&FC[1]&&parseInt((MC=navigator.userAgent.match(/Version\/(\d+)/))===null||MC===void 0?void 0:MC[1],10)<17);var Tl=(!W4e||!K4e)&&!H4e&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",gB=new WeakMap,mB=new WeakMap,Bq=new WeakMap,n1=new WeakMap,MP=new WeakMap,Bv=new WeakMap,Hc=new WeakMap,lw=new WeakMap,eE=new WeakMap,kP=new WeakMap,ru=new WeakMap,Cc=new WeakMap,Jg=new WeakMap,NP=new WeakMap,vB=new WeakMap,ho=new WeakMap,za=new WeakMap,Si=new WeakMap,Ll=new WeakMap,Ul=new WeakMap,Fq=new WeakMap,Bh=Symbol("placeholder"),Mq=Symbol("mark-placeholder"),kq=globalThis.Node,Z4e=globalThis.Text,yB=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,Q4e=t=>Nu(t)&&t.nodeType===8,Os=t=>Nu(t)&&t.nodeType===1,Nu=t=>{var e=yB(t);return!!e&&t instanceof e.Node},LP=t=>{var e=t&&t.anchorNode&&yB(t.anchorNode);return!!e&&t instanceof e.Selection},Nq=t=>Nu(t)&&t.nodeType===3,J4e=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,e8e=t=>{var[e,r]=t;if(Os(e)&&e.childNodes.length){var n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=Lq(e,s,n?"backward":"forward"),n=s<r;Os(e)&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=r8e(e,o,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},t8e=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Lq=(t,e,r)=>{for(var{childNodes:n}=t,s=n[e],o=e,a=!1,l=!1;(Q4e(s)||Os(s)&&s.childNodes.length===0||Os(s)&&s.getAttribute("contenteditable")==="false")&&!(a&&l);){if(o>=n.length){a=!0,o=e-1,r="backward";continue}if(o<0){l=!0,o=e+1,r="forward";continue}s=n[o],e=o,o+=r==="forward"?1:-1}return[s,e]},r8e=(t,e,r)=>{var[n]=Lq(t,e,r);return n},Uq=t=>{var e="";if(Nq(t)&&t.nodeValue)return t.nodeValue;if(Os(t)){for(var r of Array.from(t.childNodes))e+=Uq(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+="\n")}return e},n8e=/data-slate-fragment="(.+?)"/m,i8e=t=>{var e=t.getData("text/html"),[,r]=e.match(n8e)||[];return r},em=t=>t.getSelection!=null?t.getSelection():document.getSelection(),_B=(t,e,r)=>{var{target:n}=e;if(Os(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:s}=me.getWindow(t);if(s.contains(n))return me.hasDOMNode(t,n,{editable:!0});var o=r.find(a=>{var{addedNodes:l,removedNodes:c}=a;for(var d of l)if(d===n||d.contains(n))return!0;for(var h of c)if(h===n||h.contains(n))return!0});return!o||o===e?!1:_B(t,o,r)},s8e=()=>{for(var t=document.activeElement;(e=t)!==null&&e!==void 0&&e.shadowRoot&&(r=t.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var e,r,n;t=(n=t)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return t},E$=(t,e)=>!!(t.compareDocumentPosition(e)&kq.DOCUMENT_POSITION_PRECEDING),o8e=(t,e)=>!!(t.compareDocumentPosition(e)&kq.DOCUMENT_POSITION_FOLLOWING),a8e=0;class l8e{constructor(){Gs(this,"id",void 0),this.id="".concat(a8e++)}}var me={androidPendingDiffs:t=>Si.get(t),androidScheduleFlush:t=>{var e;(e=vB.get(t))===null||e===void 0||e()},blur:t=>{var e=me.toDOMNode(t,t),r=me.findDocumentOrShadowRoot(t);ru.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=me.findDocumentOrShadowRoot(t),n=em(r);n&&n.rangeCount>0&&n.removeAllRanges(),e&&we.deselect(t)},findDocumentOrShadowRoot:t=>{var e=me.toDOMNode(t,t),r=e.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:s}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=me.toSlateNode(t,e.target),a=me.findPath(t,o);if(ot.isElement(o)&&M.isVoid(t,o)){var l=s.getBoundingClientRect(),c=t.isInline(o)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,d=M.point(t,a,{edge:c?"start":"end"}),h=c?M.before(t,d):M.after(t,d);if(h){var g=M.range(t,h);return g}}var m,{document:y}=me.getWindow(t);if(y.caretRangeFromPoint)m=y.caretRangeFromPoint(r,n);else{var b=y.caretPositionFromPoint(r,n);b&&(m=y.createRange(),m.setStart(b.offsetNode,b.offset),m.setEnd(b.offsetNode,b.offset))}if(!m)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var u=me.toSlateRange(t,m,{exactMatch:!1,suppressThrow:!1});return u},findKey:(t,e)=>{var r=lw.get(e);return r||(r=new l8e,lw.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var s=mB.get(n);if(s==null){if(M.isEditor(n))return r;break}var o=gB.get(n);if(o==null)break;r.unshift(o),n=s}throw new Error("Unable to find the path for Slate node: ".concat(An.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!ru.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{me.focus(e,{retries:r.retries-1})},10);return}var n=me.toDOMNode(e,e),s=me.findDocumentOrShadowRoot(e);if(s.activeElement!==n){if(e.selection&&s instanceof Document){var o=em(s),a=me.toDOMRange(e,e.selection);o==null||o.removeAllRanges(),o==null||o.addRange(a)}e.selection||we.select(e,M.start(e,[])),ru.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=Bq.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:s=!1}=n,o=me.toDOMNode(e,e),a;try{a=Os(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return a?a.closest("[data-slate-editor]")===o&&(!s||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===o||!!a.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>Nu(e)&&me.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return M.hasPath(t,r.path)&&M.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>me.hasEditableTarget(t,e)||me.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>Nu(e)&&me.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!Cc.get(t),isFocused:t=>!!ru.get(t),isReadOnly:t=>!!kP.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(kP.get(t))return!1;var r=me.hasTarget(t,e)&&me.toSlateNode(t,e);return ot.isElement(r)&&M.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=eE.get(t),n=M.isEditor(e)?n1.get(t):r==null?void 0:r.get(me.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(An.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=M.node(t,e.path),n=me.toDOMNode(t,r),s;M.void(t,{at:e})&&(e={path:e.path,offset:0});for(var o="[data-slate-string], [data-slate-zero-width]",a=Array.from(n.querySelectorAll(o)),l=0,c=0;c<a.length;c++){var d=a[c],h=d.childNodes[0];if(!(h==null||h.textContent==null)){var{length:g}=h.textContent,m=d.getAttribute("data-slate-length"),y=m==null?g:parseInt(m,10),b=l+y,u=a[c+1];if(e.offset===b&&u!==null&&u!==void 0&&u.hasAttribute("data-slate-mark-placeholder")){var f,p=u.childNodes[0];s=[p instanceof Z4e?p:u,(f=u.textContent)!==null&&f!==void 0&&f.startsWith("\uFEFF")?1:0];break}if(e.offset<=b){var v=Math.min(g,Math.max(0,e.offset-l));s=[h,v];break}l=b}}if(!s)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(An.stringify(e)));return s},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,s=ce.isBackward(e),o=me.toDOMPoint(t,r),a=ce.isCollapsed(e)?o:me.toDOMPoint(t,n),l=me.getWindow(t),c=l.document.createRange(),[d,h]=s?a:o,[g,m]=s?o:a,y=Os(d)?d:d.parentElement,b=!!y.getAttribute("data-slate-zero-width"),u=Os(g)?g:g.parentElement,f=!!u.getAttribute("data-slate-zero-width");return c.setStart(d,b?1:h),c.setEnd(g,f?1:m),c},toSlateNode:(t,e)=>{var r=Os(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Bv.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:s,searchDirection:o="backward"}=r,[a,l]=n?e:e8e(e),c=a.parentNode,d=null,h=0;if(c){var g,m,y=me.toDOMNode(t,t),b=c.closest('[data-slate-void="true"]'),u=b&&y.contains(b)?b:null,f=c.closest('[contenteditable="false"]'),p=f&&y.contains(f)?f:null,v=c.closest("[data-slate-leaf]"),_=null;if(v){if(d=v.closest('[data-slate-node="text"]'),d){var w=me.getWindow(t),x=w.document.createRange();x.setStart(d,0),x.setEnd(a,l);var S=x.cloneContents(),A=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];A.forEach(pe=>{if(ui&&!n&&pe.hasAttribute("data-slate-zero-width")&&pe.textContent.length>0&&pe.textContext!=="\uFEFF"){pe.textContent.startsWith("\uFEFF")&&(pe.textContent=pe.textContent.slice(1));return}pe.parentNode.removeChild(pe)}),h=S.textContent.length,_=d}}else if(u){for(var D=u.querySelectorAll("[data-slate-leaf]"),C=0;C<D.length;C++){var T=D[C];if(me.hasDOMNode(t,T)){v=T;break}}v?(d=v.closest('[data-slate-node="text"]'),_=v,h=_.textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach(pe=>{h-=pe.textContent.length})):h=1}else if(p){var R=pe=>pe?pe.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],P=p.closest('[data-slate-node="element"]');if(o==="forward"){var O,I=[...R(P),...R(P==null?void 0:P.nextElementSibling)];v=(O=I.find(pe=>o8e(p,pe)))!==null&&O!==void 0?O:null}else{var k,W=[...R(P==null?void 0:P.previousElementSibling),...R(P)];v=(k=W.findLast(pe=>E$(p,pe)))!==null&&k!==void 0?k:null}v&&(d=v.closest('[data-slate-node="text"]'),_=v,o==="forward"?h=0:(h=_.textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach(pe=>{h-=pe.textContent.length})))}_&&h===_.textContent.length&&ui&&_.getAttribute("data-slate-zero-width")==="z"&&(g=_.textContent)!==null&&g!==void 0&&g.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||Pf&&(m=_.textContent)!==null&&m!==void 0&&m.endsWith("\n\n"))&&h--}if(ui&&!d&&!n){var V=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(V&&me.hasDOMNode(t,V,{editable:!0})){var j=me.toSlateNode(t,V),{path:$,offset:K}=M.start(t,me.findPath(t,j));return V.querySelector("[data-slate-leaf]")||(K=l),{path:$,offset:K}}}if(!d){if(s)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var J=me.toSlateNode(t,d),ue=me.findPath(t,J);return{path:ue,offset:h}},toSlateRange:(t,e,r)=>{var n,{exactMatch:s,suppressThrow:o}=r,a=LP(e)?e.anchorNode:e.startContainer,l,c,d,h,g;if(a)if(LP(e)){if(Pf&&e.rangeCount>1){d=e.focusNode;var m=e.getRangeAt(0),y=e.getRangeAt(e.rangeCount-1);if(d instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement){let S=function(A){return A.childElementCount>0?S(A.children[0]):A};var b=m.startContainer,u=y.startContainer,f=S(b.children[m.startOffset]),p=S(u.children[y.startOffset]);h=0,p.childNodes.length>0?l=p.childNodes[0]:l=p,f.childNodes.length>0?d=f.childNodes[0]:d=f,p instanceof HTMLElement?c=p.innerHTML.length:c=0}else m.startContainer===d?(l=y.endContainer,c=y.endOffset,h=m.startOffset):(l=m.startContainer,c=m.endOffset,h=y.startOffset)}else l=e.anchorNode,c=e.anchorOffset,d=e.focusNode,h=e.focusOffset;Iq&&t8e(l)||Pf?g=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:g=e.isCollapsed}else l=e.startContainer,c=e.startOffset,d=e.endContainer,h=e.endOffset,g=e.collapsed;if(l==null||d==null||c==null||h==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));Pf&&(n=d.textContent)!==null&&n!==void 0&&n.endsWith("\n\n")&&h===d.textContent.length&&h--;var v=me.toSlatePoint(t,[l,c],{exactMatch:s,suppressThrow:o});if(!v)return null;var _=E$(l,d)||l===d&&h<c,w=g?v:me.toSlatePoint(t,[d,h],{exactMatch:s,suppressThrow:o,searchDirection:_?"forward":"backward"});if(!w)return null;var x={anchor:v,focus:w};return ce.isExpanded(x)&&ce.isForward(x)&&Os(d)&&M.void(t,{at:x.focus,mode:"highest"})&&(x=M.unhangRange(t,x,{voids:!0})),x}};function u8e(t,e){var{path:r,diff:n}=e;if(!M.hasPath(t,r))return!1;var s=Me.get(t,r);if(!rt.isText(s))return!1;if(n.start!==s.text.length||n.text.length===0)return s.text.slice(n.start,n.start+n.text.length)===n.text;var o=ee.next(r);if(!M.hasPath(t,o))return!1;var a=Me.get(t,o);return rt.isText(a)&&a.text.startsWith(n.text)}function $q(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((s,o)=>s.slice(0,o.start)+o.text+s.slice(o.end),t)}function c8e(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function d8e(t,e,r){for(var n=Math.min(t.length,e.length,r),s=0;s<n;s++)if(t.charAt(t.length-s-1)!==e.charAt(e.length-s-1))return s;return n}function jq(t,e){var{start:r,end:n,text:s}=e,o=t.slice(r,n),a=c8e(o,s),l=Math.min(o.length-a,s.length-a),c=d8e(o,s,l),d={start:r+a,end:n-c,text:s.slice(a,s.length-c)};return d.start===d.end&&d.text.length===0?null:d}function f8e(t,e,r){var n=Math.min(e.start,r.start),s=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),o=$q(t,e,r),a=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-s),l=o.slice(n,a),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return jq(t,{start:n,end:c,text:l})}function h8e(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function UP(t,e){var{path:r,offset:n}=e;if(!M.hasPath(t,r))return null;var s=Me.get(t,r);if(!rt.isText(s))return null;var o=M.above(t,{match:l=>ot.isElement(l)&&M.isBlock(t,l),at:r});if(!o)return null;for(;n>s.text.length;){var a=M.next(t,{at:r,match:rt.isText});if(!a||!ee.isDescendant(a[1],o[1]))return null;n-=s.text.length,s=a[0],r=a[1]}return{path:r,offset:n}}function S$(t,e){var r=UP(t,e.anchor);if(!r)return null;if(ce.isCollapsed(e))return{anchor:r,focus:r};var n=UP(t,e.focus);return n?{anchor:r,focus:n}:null}function $P(t,e,r){var n=Si.get(t),s=n==null?void 0:n.find(h=>{var{path:g}=h;return ee.equals(g,e.path)});if(!s||e.offset<=s.diff.start)return Lt.transform(e,r,{affinity:"backward"});var{diff:o}=s;if(e.offset<=o.start+o.text.length){var a={path:e.path,offset:o.start},l=Lt.transform(a,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-o.start}:null}var c={path:e.path,offset:e.offset-o.text.length+o.end-o.start},d=Lt.transform(c,r,{affinity:"backward"});return d?r.type==="split_node"&&ee.equals(r.path,e.path)&&c.offset<r.position&&o.start<r.position?d:{path:d.path,offset:d.offset+o.text.length-o.end+o.start}:null}function C$(t,e,r){var n=$P(t,e.anchor,r);if(!n)return null;if(ce.isCollapsed(e))return{anchor:n,focus:n};var s=$P(t,e.focus,r);return s?{anchor:n,focus:s}:null}function p8e(t,e){var{path:r,diff:n,id:s}=t;switch(e.type){case"insert_text":return!ee.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:s,path:r};case"remove_text":return!ee.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:s,path:r};case"split_node":return!ee.equals(e.path,r)||e.position>=n.end?{diff:n,id:s,path:ee.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:s,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:s,path:ee.transform(r,e,{affinity:"forward"})};case"merge_node":return ee.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:s,path:ee.transform(r,e)}:{diff:n,id:s,path:ee.transform(r,e)}}var o=ee.transform(r,e);return o?{diff:n,path:o,id:s}:null}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var g8e=25,m8e=200,v8e=function(){},y8e=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function _8e(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,s=!1,o=null,a=null,l=null,c=0,d=!1,h=()=>{var P=Ul.get(e);if(Ul.delete(e),P){var{selection:O}=e,I=S$(e,P);I&&(!O||!ce.equals(I,O))&&we.select(e,I)}},g=()=>{var P=Ll.get(e);if(Ll.delete(e),!!P){if(P.at){var O=Lt.isPoint(P.at)?UP(e,P.at):S$(e,P.at);if(!O)return;var I=M.range(e,O);(!e.selection||!ce.equals(e.selection,I))&&we.select(e,O)}P.run()}},m=()=>{if(a&&(clearTimeout(a),a=null),l&&(clearTimeout(l),l=null),!w()&&!_()){h();return}s||(s=!0,setTimeout(()=>s=!1)),_()&&(s="action");var P=e.selection&&M.rangeRef(e,e.selection,{affinity:"forward"});za.set(e,e.marks),v8e("flush",Ll.get(e),Si.get(e));for(var O=w(),I;I=(k=Si.get(e))===null||k===void 0?void 0:k[0];){var k,W,V=ho.get(e);V!==void 0&&(ho.delete(e),e.marks=V),V&&d===!1&&(d=null);var j=h8e(I);(!e.selection||!ce.equals(e.selection,j))&&we.select(e,j),I.diff.text?M.insertText(e,I.diff.text):M.deleteFragment(e),Si.set(e,(W=Si.get(e))===null||W===void 0?void 0:W.filter(J=>{var{id:ue}=J;return ue!==I.id})),u8e(e,I)||(O=!1,Ll.delete(e),za.delete(e),s="action",Ul.delete(e),r.cancel(),n.cancel(),P==null||P.unref())}var $=P==null?void 0:P.unref();if($&&!Ul.get(e)&&(!e.selection||!ce.equals($,e.selection))&&we.select(e,$),_()){g();return}O&&r(),r.flush(),n.flush(),h();var K=za.get(e);za.delete(e),K!==void 0&&(e.marks=K,e.onChange())},y=P=>{o&&clearTimeout(o),o=setTimeout(()=>{Cc.set(e,!1),m()},g8e)},b=P=>{Cc.set(e,!0),o&&(clearTimeout(o),o=null)},u=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=MP.get(e);if(I){if(w()||O){I.style.display="none";return}I.style.removeProperty("display")}},f=(P,O)=>{var I,k=(I=Si.get(e))!==null&&I!==void 0?I:[];Si.set(e,k);var W=Me.leaf(e,P),V=k.findIndex(K=>ee.equals(K.path,P));if(V<0){var j=jq(W.text,O);j&&k.push({path:P,diff:O,id:c++}),u();return}var $=f8e(W.text,k[V].diff,O);if(!$){k.splice(V,1),u();return}k[V]=u_(u_({},k[V]),{},{diff:$})},p=function(O){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,Ul.delete(e),r.cancel(),n.cancel(),_()&&m(),Ll.set(e,{at:I,run:O}),l=setTimeout(m)},v=P=>{var O;a&&(clearTimeout(a),a=null);var{inputType:I}=P,k=null,W=P.dataTransfer||P.data||void 0;d!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(d=!1);var[V]=P.getTargetRanges();V&&(k=me.toSlateRange(e,V,{exactMatch:!1,suppressThrow:!0}));var j=me.getWindow(e),$=j.getSelection();if(!k&&$&&(V=$,k=me.toSlateRange(e,$,{exactMatch:!1,suppressThrow:!0})),k=(O=k)!==null&&O!==void 0?O:e.selection,!!k){var K=!0;if(I.startsWith("delete")){if(ce.isExpanded(k)){var[J,ue]=ce.edges(k),pe=Me.leaf(e,J.path);if(pe.text.length===J.offset&&ue.offset===0){var oe=M.next(e,{at:J.path,match:rt.isText});oe&&ee.equals(oe[1],ue.path)&&(k={anchor:ue,focus:ue})}}var he=I.endsWith("Backward")?"backward":"forward",[X,z]=ce.edges(k),[G,H]=M.leaf(e,X.path),re={text:"",start:X.offset,end:z.offset},ne=Si.get(e),_e=ne==null?void 0:ne.find(xt=>ee.equals(xt.path,H)),be=_e?[_e.diff,re]:[re],xe=$q(G.text,...be);if(xe.length===0&&(K=!1),ce.isExpanded(k)){if(K&&ee.equals(k.anchor.path,k.focus.path)){var Se={path:k.anchor.path,offset:X.offset},dt=M.range(e,Se,Se);return A(dt),f(k.anchor.path,{text:"",end:z.offset,start:X.offset})}return p(()=>M.deleteFragment(e,{direction:he}),{at:k})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>M.deleteFragment(e),{at:k});case"deleteContent":case"deleteContentForward":{var{anchor:wt}=k;if(K&&ce.isCollapsed(k)){var Y=Me.leaf(e,wt.path);if(wt.offset<Y.text.length)return f(wt.path,{text:"",start:wt.offset,end:wt.offset+1})}return p(()=>M.deleteForward(e),{at:k})}case"deleteContentBackward":{var se,{anchor:le}=k,Ae=LP(V)?V.isCollapsed:!!((se=V)!==null&&se!==void 0&&se.collapsed);return K&&Ae&&ce.isCollapsed(k)&&le.offset>0?f(le.path,{text:"",start:le.offset-1,end:le.offset}):p(()=>M.deleteBackward(e),{at:k})}case"deleteEntireSoftLine":return p(()=>{M.deleteBackward(e,{unit:"line"}),M.deleteForward(e,{unit:"line"})},{at:k});case"deleteHardLineBackward":return p(()=>M.deleteBackward(e,{unit:"block"}),{at:k});case"deleteSoftLineBackward":return p(()=>M.deleteBackward(e,{unit:"line"}),{at:k});case"deleteHardLineForward":return p(()=>M.deleteForward(e,{unit:"block"}),{at:k});case"deleteSoftLineForward":return p(()=>M.deleteForward(e,{unit:"line"}),{at:k});case"deleteWordBackward":return p(()=>M.deleteBackward(e,{unit:"word"}),{at:k});case"deleteWordForward":return p(()=>M.deleteForward(e,{unit:"word"}),{at:k});case"insertLineBreak":return p(()=>M.insertSoftBreak(e),{at:k});case"insertParagraph":return p(()=>M.insertBreak(e),{at:k});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(y8e(W))return p(()=>me.insertData(e,W),{at:k});var ve=W!=null?W:"";if(ho.get(e)&&(ve=ve.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(ve)&&(ve=ve.slice(0,-1)),ve.includes("\n"))return p(()=>{var xt=ve.split("\n");xt.forEach((Ke,L)=>{Ke&&M.insertText(e,Ke),L!==xt.length-1&&M.insertSoftBreak(e)})},{at:k});if(ee.equals(k.anchor.path,k.focus.path)){var[ye,Te]=ce.edges(k),Re={start:ye.offset,end:Te.offset,text:ve};if(ve&&d&&I==="insertCompositionText"){var je=d.start+d.text.search(/\S|$/),ft=Re.start+Re.text.search(/\S|$/);ft===je+1&&Re.end===d.start+d.text.length?(Re.start-=1,d=null,T()):d=!1}else I==="insertText"?d===null?d=Re:d&&ce.isCollapsed(k)&&d.end+d.text.length===ye.offset?d=u_(u_({},d),{},{text:d.text+ve}):d=!1:d=!1;if(K){f(ye.path,Re);return}}return p(()=>M.insertText(e,ve),{at:k})}}}},_=()=>!!Ll.get(e),w=()=>{var P;return!!((P=Si.get(e))!==null&&P!==void 0&&P.length)},x=()=>_()||w(),S=()=>s,A=P=>{Ul.set(e,P),a&&(clearTimeout(a),a=null);var{selection:O}=e;if(P){var I=!O||!ee.equals(O.anchor.path,P.anchor.path),k=!O||!ee.equals(O.anchor.path.slice(0,-1),P.anchor.path.slice(0,-1));(I&&d||k)&&(d=!1),(I||w())&&(a=setTimeout(m,m8e))}},D=()=>{(_()||!w())&&m()},C=P=>{w()||(u(!0),setTimeout(u))},T=()=>{_()||(l=setTimeout(m))},R=P=>{if(!(w()||_())&&P.some(I=>_B(e,I,P))){var O;(O=Fq.get(e))===null||O===void 0||O()}};return{flush:m,scheduleFlush:T,hasPendingDiffs:w,hasPendingAction:_,hasPendingChanges:x,isFlushing:S,handleUserSelect:A,handleCompositionEnd:y,handleCompositionStart:b,handleDOMBeforeInput:v,handleKeyDown:C,handleDomMutations:R,handleInput:D}}function b8e(){var t=E.useRef(!1);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var Fv=r1?E.useLayoutEffect:E.useEffect;function w8e(t,e,r){var[n]=E.useState(()=>new MutationObserver(e));Fv(()=>{n.takeRecords()}),E.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var x8e=["node"];function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function E8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var S8e={subtree:!0,childList:!0,characterData:!0},C8e=ui?t=>{var{node:e}=t,r=Ih(t,x8e);if(!ui)return null;var n=Zu(),s=b8e(),[o]=E.useState(()=>_8e(E8e({editor:n},r)));return w8e(e,o.handleDomMutations,S8e),vB.set(n,o.scheduleFlush),s&&o.flush(),o}:()=>null,A8e=["anchor","focus"],T8e=["anchor","focus"],D8e=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),zq=(t,e)=>{var r=Ih(t,A8e),n=Ih(e,T8e);return t[Bh]===e[Bh]&&D8e(r,n)},P8e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(!ce.equals(n,s)||!zq(n,s))return!1}return!0},R8e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(n.anchor.offset!==s.anchor.offset||n.focus.offset!==s.focus.offset||!zq(n,s))return!1}return!0};function D$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function O8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var I8e=t=>{var{isLast:e,leaf:r,parent:n,text:s}=t,o=Zu(),a=me.findPath(o,s),l=ee.parent(a),c=!!r[Mq];return o.isVoid(n)?Z.createElement(kC,{length:Me.string(n).length}):r.text===""&&n.children[n.children.length-1]===s&&!o.isInline(n)&&M.string(o,l)===""?Z.createElement(kC,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?Z.createElement(kC,{isMarkPlaceholder:c}):e&&r.text.slice(-1)==="\n"?Z.createElement(P$,{isTrailing:!0,text:r.text}):Z.createElement(P$,{text:r.text})},P$=t=>{var{text:e,isTrailing:r=!1}=t,n=E.useRef(null),s=()=>"".concat(e!=null?e:"").concat(r?"\n":""),[o]=E.useState(s);return Fv(()=>{var a=s();n.current&&n.current.textContent!==a&&(n.current.textContent=a)}),Z.createElement(B8e,{ref:n},o)},B8e=E.memo(E.forwardRef((t,e)=>Z.createElement("span",{"data-slate-string":!0,ref:e},t.children))),kC=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,s={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(s["data-slate-mark-placeholder"]=!0),Z.createElement("span",O8e({},s),!ui||!r?"\uFEFF":null,r?Z.createElement("br",null):null)};function R$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var F8e=ui?300:0;function M8e(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function O$(t){t.current&&(clearTimeout(t.current),t.current=null)}var k8e=t=>{var{leaf:e,isLast:r,text:n,parent:s,renderPlaceholder:o,renderLeaf:a=v=>Z.createElement(L8e,Gq({},v))}=t,l=Zu(),c=E.useRef(null),d=E.useRef(null),[h,g]=E.useState(!1),m=E.useRef(null),y=E.useCallback(v=>{if(M8e(c,v==null),v==null){var _;MP.delete(l),(_=e.onPlaceholderResize)===null||_===void 0||_.call(e,null)}else{if(MP.set(l,v),!c.current){var w=window.ResizeObserver||$4e;c.current=new w(()=>{var x;(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,v)})}c.current.observe(v),d.current=v}},[d,e,l]),b=Z.createElement(I8e,{isLast:r,leaf:e,parent:s,text:n}),u=!!e[Bh];if(E.useEffect(()=>(u?m.current||(m.current=setTimeout(()=>{g(!0),m.current=null},F8e)):(O$(m),g(!1)),()=>O$(m)),[u,g]),u&&h){var f={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:gc?"inherit":void 0},contentEditable:!1,ref:y}};b=Z.createElement(Z.Fragment,null,o(f),b)}var p={"data-slate-leaf":!0};return a({attributes:p,children:b,leaf:e,text:n})},N8e=Z.memo(k8e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&rt.equals(e.leaf,t.leaf)&&e.leaf[Bh]===t.leaf[Bh]),L8e=t=>{var{attributes:e,children:r}=t;return Z.createElement("span",Gq({},e),r)},U8e=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:s,renderLeaf:o,text:a}=t,l=Zu(),c=E.useRef(null),d=rt.decorations(a,e),h=me.findKey(l,a),g=[],m=0;m<d.length;m++){var y=d[m];g.push(Z.createElement(N8e,{isLast:r&&m===d.length-1,key:"".concat(h.id,"-").concat(m),renderPlaceholder:s,leaf:y,text:a,parent:n,renderLeaf:o}))}var b=E.useCallback(u=>{var f=eE.get(l);u?(f==null||f.set(h,u),Hc.set(a,u),Bv.set(u,a)):(f==null||f.delete(h),Hc.delete(a),c.current&&Bv.delete(c.current)),c.current=u},[c,l,h,a]);return Z.createElement("span",{"data-slate-node":"text",ref:b},g)},Vq=Z.memo(U8e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&R8e(e.decorations,t.decorations));function I$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $8e=t=>{var{decorations:e,element:r,renderElement:n=v=>Z.createElement(bB,jP({},v)),renderPlaceholder:s,renderLeaf:o,selection:a}=t,l=Zu(),c=G8e(),d=l.isInline(r),h=me.findKey(l,r),g=E.useCallback(v=>{var _=eE.get(l);v?(_==null||_.set(h,v),Hc.set(r,v),Bv.set(v,r)):(_==null||_.delete(h),Hc.delete(r))},[l,h,r]),m=Kq({decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:a}),y={"data-slate-node":"element",ref:g};if(d&&(y["data-slate-inline"]=!0),!d&&M.hasInlines(l,r)){var b=Me.string(r),u=Eq(b);u==="rtl"&&(y.dir=u)}if(M.isVoid(l,r)){y["data-slate-void"]=!0,!c&&d&&(y.contentEditable=!1);var f=d?"span":"div",[[p]]=Me.texts(r);m=Z.createElement(f,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Z.createElement(Vq,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:p})),gB.set(p,0),mB.set(p,r)}return n({attributes:y,children:m,element:r})},j8e=Z.memo($8e,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&P8e(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&ce.equals(t.selection,e.selection))),bB=t=>{var{attributes:e,children:r,element:n}=t,s=Zu(),o=s.isInline(n)?"span":"div";return Z.createElement(o,jP(jP({},e),{},{style:{position:"relative"}}),r)},Hq=E.createContext(()=>[]),z8e=()=>E.useContext(Hq),Wq=E.createContext(!1),XKe=()=>E.useContext(Wq),Kq=t=>{for(var{decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:a}=t,l=z8e(),c=Zu(),d=me.findPath(c,r),h=[],g=ot.isElement(r)&&!c.isInline(r)&&M.hasInlines(c,r),m=0;m<r.children.length;m++){var y=d.concat(m),b=r.children[m],u=me.findKey(c,b),f=M.range(c,y),p=a&&ce.intersection(f,a),v=l([b,y]);for(var _ of e){var w=ce.intersection(_,f);w&&v.push(w)}ot.isElement(b)?h.push(Z.createElement(Wq.Provider,{key:"provider-".concat(u.id),value:!!p},Z.createElement(j8e,{decorations:v,element:b,key:u.id,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:p}))):h.push(Z.createElement(Vq,{decorations:v,key:u.id,isLast:g&&m===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:o,text:b})),gB.set(b,m),mB.set(b,r)}return h},Yq=E.createContext(!1),G8e=()=>E.useContext(Yq),Xq=E.createContext(null),qq=()=>{var t=E.useContext(Xq);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function V8e(){var t=Zu(),e=E.useRef(!1),r=E.useRef(0),n=E.useCallback(()=>{if(!e.current){e.current=!0;var s=me.getWindow(t);s.cancelAnimationFrame(r.current),r.current=s.requestAnimationFrame(()=>{e.current=!1})}},[t]);return E.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var H8e=3,W8e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},K8e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Y8e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Er=t=>{var e=W8e[t],r=K8e[t],n=Y8e[t],s=e&&AC(e),o=r&&AC(r),a=n&&AC(n);return l=>!!(s&&s(l)||x$&&o&&o(l)||!x$&&a&&a(l))},Or={isBold:Er("bold"),isCompose:Er("compose"),isMoveBackward:Er("moveBackward"),isMoveForward:Er("moveForward"),isDeleteBackward:Er("deleteBackward"),isDeleteForward:Er("deleteForward"),isDeleteLineBackward:Er("deleteLineBackward"),isDeleteLineForward:Er("deleteLineForward"),isDeleteWordBackward:Er("deleteWordBackward"),isDeleteWordForward:Er("deleteWordForward"),isExtendBackward:Er("extendBackward"),isExtendForward:Er("extendForward"),isExtendLineBackward:Er("extendLineBackward"),isExtendLineForward:Er("extendLineForward"),isItalic:Er("italic"),isMoveLineBackward:Er("moveLineBackward"),isMoveLineForward:Er("moveLineForward"),isMoveWordBackward:Er("moveWordBackward"),isMoveWordForward:Er("moveWordForward"),isRedo:Er("redo"),isSoftBreak:Er("insertSoftBreak"),isSplitBlock:Er("splitBlock"),isTransposeCharacter:Er("transposeCharacter"),isUndo:Er("undo")},X8e=(t,e)=>{var r=[],n=()=>{r=[]},s=a=>{if(e.current){var l=a.filter(c=>_B(t,c,a));r.push(...l)}};function o(){r.length>0&&(r.reverse().forEach(a=>{a.type!=="characterData"&&(a.removedNodes.forEach(l=>{a.target.insertBefore(l,a.nextSibling)}),a.addedNodes.forEach(l=>{a.target.removeChild(l)}))}),n())}return{registerMutations:s,restoreDOM:o,clear:n}},q8e={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Zq extends E.Component{constructor(){super(...arguments),Gs(this,"context",null),Gs(this,"manager",null),Gs(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,q8e)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=X8e(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,s=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(s!=null&&s.length){var o;(o=this.manager)===null||o===void 0||o.registerMutations(s)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Gs(Zq,"contextType",pB);var Z8e=ui?Zq:t=>{var{children:e}=t;return Z.createElement(Z.Fragment,null,e)},Q8e=E.createContext(!1),J8e=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],eje=["text"];function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function No(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tje=t=>Z.createElement(Z.Fragment,null,Kq(t)),rje=E.forwardRef((t,e)=>{var r=E.useCallback(X=>Z.createElement(nje,No({},X)),[]),{autoFocus:n,decorate:s=ije,onDOMBeforeInput:o,placeholder:a,readOnly:l=!1,renderElement:c,renderLeaf:d,renderPlaceholder:h=r,scrollSelectionIntoView:g=sje,style:m={},as:y="div",disableDefaultStyles:b=!1}=t,u=Ih(t,J8e),f=qq(),[p,v]=E.useState(!1),_=E.useRef(null),w=E.useRef([]),[x,S]=E.useState(),A=E.useRef(!1),{onUserInput:D,receivedUserInput:C}=V8e(),[,T]=E.useReducer(X=>X+1,0);Fq.set(f,T),kP.set(f,l);var R=E.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);E.useEffect(()=>{_.current&&n&&_.current.focus()},[n]);var P=E.useRef(),O=E.useMemo(()=>m4e(()=>{var X=me.toDOMNode(f,f),z=X.getRootNode();if(!A.current&&gc&&z instanceof ShadowRoot){A.current=!0;var G=s8e();G?document.execCommand("indent"):we.deselect(f),A.current=!1;return}var H=P.current;if((ui||!me.isComposing(f))&&(!R.isUpdatingSelection||H!=null&&H.isFlushing())&&!R.isDraggingInternally){var re=me.findDocumentOrShadowRoot(f),{activeElement:ne}=re,_e=me.toDOMNode(f,f),be=em(re);if(ne===_e?(R.latestElement=ne,ru.set(f,!0)):ru.delete(f),!be)return we.deselect(f);var{anchorNode:xe,focusNode:Se}=be,dt=me.hasEditableTarget(f,xe)||me.isTargetInsideNonReadonlyVoid(f,xe),wt=me.hasTarget(f,Se);if(dt&&wt){var Y=me.toSlateRange(f,be,{exactMatch:!1,suppressThrow:!0});Y&&(!me.isComposing(f)&&!(H!=null&&H.hasPendingChanges())&&!(H!=null&&H.isFlushing())?we.select(f,Y):H==null||H.handleUserSelect(Y))}l&&(!dt||!wt)&&we.deselect(f)}},100),[f,l,R]),I=E.useMemo(()=>c4e(O,0),[O]);P.current=C8e({node:_,onDOMSelectionChange:O,scheduleOnDOMSelectionChange:I}),Fv(()=>{var X,z,G;_.current&&(G=yB(_.current))?(Bq.set(f,G),n1.set(f,_.current),Hc.set(f,_.current),Bv.set(_.current,f)):Hc.delete(f);var{selection:H}=f,re=me.findDocumentOrShadowRoot(f),ne=em(re);if(!(!ne||!me.isFocused(f)||(X=P.current)!==null&&X!==void 0&&X.hasPendingAction())){var _e=dt=>{var wt=ne.type!=="None";if(!(!H&&!wt)){var Y=ne.focusNode,se;if(Pf&&ne.rangeCount>1){var le=ne.getRangeAt(0),Ae=ne.getRangeAt(ne.rangeCount-1);le.startContainer===Y?se=Ae.endContainer:se=le.startContainer}else se=ne.anchorNode;var ve=n1.get(f),ye=!1;if(ve.contains(se)&&ve.contains(Y)&&(ye=!0),wt&&ye&&H&&!dt){var Te=me.toSlateRange(f,ne,{exactMatch:!0,suppressThrow:!0});if(Te&&ce.equals(Te,H)){var Re;if(!R.hasMarkPlaceholder||(Re=se)!==null&&Re!==void 0&&(Re=Re.parentElement)!==null&&Re!==void 0&&Re.hasAttribute("data-slate-mark-placeholder"))return}}if(H&&!me.hasRange(f,H)){f.selection=me.toSlateRange(f,ne,{exactMatch:!1,suppressThrow:!0});return}R.isUpdatingSelection=!0;var je=H&&me.toDOMRange(f,H);return je?(me.isComposing(f)&&!ui?ne.collapseToEnd():ce.isBackward(H)?ne.setBaseAndExtent(je.endContainer,je.endOffset,je.startContainer,je.startOffset):ne.setBaseAndExtent(je.startContainer,je.startOffset,je.endContainer,je.endOffset),g(f,je)):ne.removeAllRanges(),je}};ne.rangeCount<=1&&_e();var be=((z=P.current)===null||z===void 0?void 0:z.isFlushing())==="action";if(!ui||!be){setTimeout(()=>{R.isUpdatingSelection=!1});return}var xe=null,Se=requestAnimationFrame(()=>{if(be){var dt=wt=>{try{var Y=me.toDOMNode(f,f);Y.focus(),_e(wt)}catch(se){}};dt(),xe=setTimeout(()=>{dt(!0),R.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Se),xe&&clearTimeout(xe)}}});var k=E.useCallback(X=>{var z=me.toDOMNode(f,f),G=z.getRootNode();if(A!=null&&A.current&&gc&&G instanceof ShadowRoot){var H=X.getTargetRanges(),re=H[0],ne=new window.Range;ne.setStart(re.startContainer,re.startOffset),ne.setEnd(re.endContainer,re.endOffset);var _e=me.toSlateRange(f,ne,{exactMatch:!1,suppressThrow:!1});we.select(f,_e),X.preventDefault(),X.stopImmediatePropagation();return}if(D(),!l&&me.hasEditableTarget(f,X.target)&&!oje(X,o)){var be;if(P.current)return P.current.handleDOMBeforeInput(X);I.flush(),O.flush();var{selection:xe}=f,{inputType:Se}=X,dt=X.dataTransfer||X.data||void 0,wt=Se==="insertCompositionText"||Se==="deleteCompositionText";if(wt&&me.isComposing(f))return;var Y=!1;if(Se==="insertText"&&xe&&ce.isCollapsed(xe)&&X.data&&X.data.length===1&&/[a-z ]/i.test(X.data)&&xe.anchor.offset!==0){var se,le;Y=!0,f.marks&&(Y=!1);var{anchor:Ae}=xe,[ve,ye]=me.toDOMPoint(f,Ae),Te=(se=ve.parentElement)===null||se===void 0?void 0:se.closest("a"),Re=me.getWindow(f);if(Y&&Te&&me.hasDOMNode(f,Te)){var je,ft=Re==null?void 0:Re.document.createTreeWalker(Te,NodeFilter.SHOW_TEXT).lastChild();ft===ve&&((je=ft.textContent)===null||je===void 0?void 0:je.length)===ye&&(Y=!1)}if(Y&&ve.parentElement&&(Re==null||(le=Re.getComputedStyle(ve.parentElement))===null||le===void 0?void 0:le.whiteSpace)==="pre"){var xt=M.above(f,{at:Ae.path,match:ie=>ot.isElement(ie)&&M.isBlock(f,ie)});xt&&Me.string(xt[0]).includes("	")&&(Y=!1)}}if(!Se.startsWith("delete")||Se.startsWith("deleteBy")){var[Ke]=X.getTargetRanges();if(Ke){var L=me.toSlateRange(f,Ke,{exactMatch:!1,suppressThrow:!1});if(!xe||!ce.equals(xe,L)){Y=!1;var B=!wt&&f.selection&&M.rangeRef(f,f.selection);we.select(f,L),B&&Jg.set(f,B)}}}if(wt)return;if(Y||X.preventDefault(),xe&&ce.isExpanded(xe)&&Se.startsWith("delete")){var U=Se.endsWith("Backward")?"backward":"forward";M.deleteFragment(f,{direction:U});return}switch(Se){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{M.deleteFragment(f);break}case"deleteContent":case"deleteContentForward":{M.deleteForward(f);break}case"deleteContentBackward":{M.deleteBackward(f);break}case"deleteEntireSoftLine":{M.deleteBackward(f,{unit:"line"}),M.deleteForward(f,{unit:"line"});break}case"deleteHardLineBackward":{M.deleteBackward(f,{unit:"block"});break}case"deleteSoftLineBackward":{M.deleteBackward(f,{unit:"line"});break}case"deleteHardLineForward":{M.deleteForward(f,{unit:"block"});break}case"deleteSoftLineForward":{M.deleteForward(f,{unit:"line"});break}case"deleteWordBackward":{M.deleteBackward(f,{unit:"word"});break}case"deleteWordForward":{M.deleteForward(f,{unit:"word"});break}case"insertLineBreak":M.insertSoftBreak(f);break;case"insertParagraph":{M.insertBreak(f);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Se==="insertFromComposition"&&me.isComposing(f)&&(v(!1),Cc.set(f,!1)),(dt==null?void 0:dt.constructor.name)==="DataTransfer"?me.insertData(f,dt):typeof dt=="string"&&(Y?w.current.push(()=>M.insertText(f,dt)):M.insertText(f,dt));break}}var Q=(be=Jg.get(f))===null||be===void 0?void 0:be.unref();Jg.delete(f),Q&&(!f.selection||!ce.equals(f.selection,Q))&&we.select(f,Q)}},[f,O,D,o,l,I]),W=E.useCallback(X=>{X==null?(O.cancel(),I.cancel(),n1.delete(f),Hc.delete(f),_.current&&Tl&&_.current.removeEventListener("beforeinput",k)):Tl&&X.addEventListener("beforeinput",k),_.current=X,typeof e=="function"?e(X):e&&(e.current=X)},[O,I,f,k,e]);Fv(()=>{var X=me.getWindow(f);X.document.addEventListener("selectionchange",I);var z=()=>{R.isDraggingInternally=!1};return X.document.addEventListener("dragend",z),X.document.addEventListener("drop",z),()=>{X.document.removeEventListener("selectionchange",I),X.document.removeEventListener("dragend",z),X.document.removeEventListener("drop",z)}},[I,R]);var V=s([f,[]]),j=a&&f.children.length===1&&Array.from(Me.texts(f)).length===1&&Me.string(f)===""&&!p,$=E.useCallback(X=>{if(X&&j){var z;S((z=X.getBoundingClientRect())===null||z===void 0?void 0:z.height)}else S(void 0)},[j]);if(j){var K=M.start(f,[]);V.push({[Bh]:!0,placeholder:a,onPlaceholderResize:$,anchor:K,focus:K})}var{marks:J}=f;if(R.hasMarkPlaceholder=!1,f.selection&&ce.isCollapsed(f.selection)&&J){var{anchor:ue}=f.selection,pe=Me.leaf(f,ue.path),oe=Ih(pe,eje);if(!rt.equals(pe,J,{loose:!0})){R.hasMarkPlaceholder=!0;var he=Object.fromEntries(Object.keys(oe).map(X=>[X,null]));V.push(No(No(No({[Mq]:!0},he),J),{},{anchor:ue,focus:ue}))}}return E.useEffect(()=>{setTimeout(()=>{var{selection:X}=f;if(X){var{anchor:z}=X,G=Me.leaf(f,z.path);if(J&&!rt.equals(G,J,{loose:!0})){ho.set(f,J);return}}ho.delete(f)})}),Z.createElement(Yq.Provider,{value:l},Z.createElement(Q8e.Provider,{value:p},Z.createElement(Hq.Provider,{value:s},Z.createElement(Z8e,{node:_,receivedUserInput:C},Z.createElement(y,No(No({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},u),{},{spellCheck:Tl||!r1?u.spellCheck:!1,autoCorrect:Tl||!r1?u.autoCorrect:"false",autoCapitalize:Tl||!r1?u.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:W,style:No(No({},b?{}:No({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},x?{minHeight:x}:{})),m),onBeforeInput:E.useCallback(X=>{if(!Tl&&!l&&!ni(X,u.onBeforeInput)&&me.hasSelectableTarget(f,X.target)&&(X.preventDefault(),!me.isComposing(f))){var z=X.data;M.insertText(f,z)}},[u.onBeforeInput,f,l]),onInput:E.useCallback(X=>{if(!ni(X,u.onInput)){if(P.current){P.current.handleInput();return}for(var z of w.current)z();w.current=[]}},[u.onInput]),onBlur:E.useCallback(X=>{if(!(l||R.isUpdatingSelection||!me.hasSelectableTarget(f,X.target)||ni(X,u.onBlur))){var z=me.findDocumentOrShadowRoot(f);if(R.latestElement!==z.activeElement){var{relatedTarget:G}=X,H=me.toDOMNode(f,f);if(G!==H&&!(Os(G)&&G.hasAttribute("data-slate-spacer"))){if(G!=null&&Nu(G)&&me.hasDOMNode(f,G)){var re=me.toSlateNode(f,G);if(ot.isElement(re)&&!f.isVoid(re))return}if(gc){var ne=em(z);ne==null||ne.removeAllRanges()}ru.delete(f)}}}},[l,R.isUpdatingSelection,R.latestElement,f,u.onBlur]),onClick:E.useCallback(X=>{if(me.hasTarget(f,X.target)&&!ni(X,u.onClick)&&Nu(X.target)){var z=me.toSlateNode(f,X.target),G=me.findPath(f,z);if(!M.hasPath(f,G)||Me.get(f,G)!==z)return;if(X.detail===H8e&&G.length>=1){var H=G;if(!(ot.isElement(z)&&M.isBlock(f,z))){var re,ne=M.above(f,{match:Y=>ot.isElement(Y)&&M.isBlock(f,Y),at:G});H=(re=ne==null?void 0:ne[1])!==null&&re!==void 0?re:G.slice(0,1)}var _e=M.range(f,H);we.select(f,_e);return}if(l)return;var be=M.start(f,G),xe=M.end(f,G),Se=M.void(f,{at:be}),dt=M.void(f,{at:xe});if(Se&&dt&&ee.equals(Se[1],dt[1])){var wt=M.range(f,be);we.select(f,wt)}}},[f,u.onClick,l]),onCompositionEnd:E.useCallback(X=>{if(me.hasSelectableTarget(f,X.target)){var z;if(me.isComposing(f)&&Promise.resolve().then(()=>{v(!1),Cc.set(f,!1)}),(z=P.current)===null||z===void 0||z.handleCompositionEnd(X),ni(X,u.onCompositionEnd)||ui)return;if(!gc&&!Y4e&&!V4e&&!q4e&&!X4e&&X.data){var G=ho.get(f);ho.delete(f),G!==void 0&&(za.set(f,f.marks),f.marks=G),M.insertText(f,X.data);var H=za.get(f);za.delete(f),H!==void 0&&(f.marks=H)}}},[u.onCompositionEnd,f]),onCompositionUpdate:E.useCallback(X=>{me.hasSelectableTarget(f,X.target)&&!ni(X,u.onCompositionUpdate)&&(me.isComposing(f)||(v(!0),Cc.set(f,!0)))},[u.onCompositionUpdate,f]),onCompositionStart:E.useCallback(X=>{if(me.hasSelectableTarget(f,X.target)){var z;if((z=P.current)===null||z===void 0||z.handleCompositionStart(X),ni(X,u.onCompositionStart)||ui)return;v(!0);var{selection:G}=f;if(G&&ce.isExpanded(G)){M.deleteFragment(f);return}}},[u.onCompositionStart,f]),onCopy:E.useCallback(X=>{me.hasSelectableTarget(f,X.target)&&!ni(X,u.onCopy)&&!F$(X)&&(X.preventDefault(),me.setFragmentData(f,X.clipboardData,"copy"))},[u.onCopy,f]),onCut:E.useCallback(X=>{if(!l&&me.hasSelectableTarget(f,X.target)&&!ni(X,u.onCut)&&!F$(X)){X.preventDefault(),me.setFragmentData(f,X.clipboardData,"cut");var{selection:z}=f;if(z)if(ce.isExpanded(z))M.deleteFragment(f);else{var G=Me.parent(f,z.anchor.path);M.isVoid(f,G)&&we.delete(f)}}},[l,f,u.onCut]),onDragOver:E.useCallback(X=>{if(me.hasTarget(f,X.target)&&!ni(X,u.onDragOver)){var z=me.toSlateNode(f,X.target);ot.isElement(z)&&M.isVoid(f,z)&&X.preventDefault()}},[u.onDragOver,f]),onDragStart:E.useCallback(X=>{if(!l&&me.hasTarget(f,X.target)&&!ni(X,u.onDragStart)){var z=me.toSlateNode(f,X.target),G=me.findPath(f,z),H=ot.isElement(z)&&M.isVoid(f,z)||M.void(f,{at:G,voids:!0});if(H){var re=M.range(f,G);we.select(f,re)}R.isDraggingInternally=!0,me.setFragmentData(f,X.dataTransfer,"drag")}},[l,f,u.onDragStart,R]),onDrop:E.useCallback(X=>{if(!l&&me.hasTarget(f,X.target)&&!ni(X,u.onDrop)){X.preventDefault();var z=f.selection,G=me.findEventRange(f,X),H=X.dataTransfer;we.select(f,G),R.isDraggingInternally&&z&&!ce.equals(z,G)&&!M.void(f,{at:G,voids:!0})&&we.delete(f,{at:z}),me.insertData(f,H),me.isFocused(f)||me.focus(f)}},[l,f,u.onDrop,R]),onDragEnd:E.useCallback(X=>{!l&&R.isDraggingInternally&&u.onDragEnd&&me.hasTarget(f,X.target)&&u.onDragEnd(X)},[l,R,u,f]),onFocus:E.useCallback(X=>{if(!l&&!R.isUpdatingSelection&&me.hasEditableTarget(f,X.target)&&!ni(X,u.onFocus)){var z=me.toDOMNode(f,f),G=me.findDocumentOrShadowRoot(f);if(R.latestElement=G.activeElement,Pf&&X.target!==z){z.focus();return}ru.set(f,!0)}},[l,R,f,u.onFocus]),onKeyDown:E.useCallback(X=>{if(!l&&me.hasEditableTarget(f,X.target)){var z;(z=P.current)===null||z===void 0||z.handleKeyDown(X);var{nativeEvent:G}=X;if(me.isComposing(f)&&G.isComposing===!1&&(Cc.set(f,!1),v(!1)),ni(X,u.onKeyDown)||me.isComposing(f))return;var{selection:H}=f,re=f.children[H!==null?H.focus.path[0]:0],ne=Eq(Me.string(re))==="rtl";if(Or.isRedo(G)){X.preventDefault();var _e=f;typeof _e.redo=="function"&&_e.redo();return}if(Or.isUndo(G)){X.preventDefault();var be=f;typeof be.undo=="function"&&be.undo();return}if(Or.isMoveLineBackward(G)){X.preventDefault(),we.move(f,{unit:"line",reverse:!0});return}if(Or.isMoveLineForward(G)){X.preventDefault(),we.move(f,{unit:"line"});return}if(Or.isExtendLineBackward(G)){X.preventDefault(),we.move(f,{unit:"line",edge:"focus",reverse:!0});return}if(Or.isExtendLineForward(G)){X.preventDefault(),we.move(f,{unit:"line",edge:"focus"});return}if(Or.isMoveBackward(G)){X.preventDefault(),H&&ce.isCollapsed(H)?we.move(f,{reverse:!ne}):we.collapse(f,{edge:ne?"end":"start"});return}if(Or.isMoveForward(G)){X.preventDefault(),H&&ce.isCollapsed(H)?we.move(f,{reverse:ne}):we.collapse(f,{edge:ne?"start":"end"});return}if(Or.isMoveWordBackward(G)){X.preventDefault(),H&&ce.isExpanded(H)&&we.collapse(f,{edge:"focus"}),we.move(f,{unit:"word",reverse:!ne});return}if(Or.isMoveWordForward(G)){X.preventDefault(),H&&ce.isExpanded(H)&&we.collapse(f,{edge:"focus"}),we.move(f,{unit:"word",reverse:ne});return}if(Tl){if((Iq||gc)&&H&&(Or.isDeleteBackward(G)||Or.isDeleteForward(G))&&ce.isCollapsed(H)){var xe=Me.parent(f,H.anchor.path);if(ot.isElement(xe)&&M.isVoid(f,xe)&&(M.isInline(f,xe)||M.isBlock(f,xe))){X.preventDefault(),M.deleteBackward(f,{unit:"block"});return}}}else{if(Or.isBold(G)||Or.isItalic(G)||Or.isTransposeCharacter(G)){X.preventDefault();return}if(Or.isSoftBreak(G)){X.preventDefault(),M.insertSoftBreak(f);return}if(Or.isSplitBlock(G)){X.preventDefault(),M.insertBreak(f);return}if(Or.isDeleteBackward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f);return}if(Or.isDeleteForward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f);return}if(Or.isDeleteLineBackward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f,{unit:"line"});return}if(Or.isDeleteLineForward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f,{unit:"line"});return}if(Or.isDeleteWordBackward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f,{unit:"word"});return}if(Or.isDeleteWordForward(G)){X.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f,{unit:"word"});return}}}},[l,f,u.onKeyDown]),onPaste:E.useCallback(X=>{!l&&me.hasEditableTarget(f,X.target)&&!ni(X,u.onPaste)&&(!Tl||J4e(X.nativeEvent)||gc)&&(X.preventDefault(),me.insertData(f,X.clipboardData))},[l,f,u.onPaste])}),Z.createElement(tje,{decorations:V,node:f,renderElement:c,renderPlaceholder:h,renderLeaf:d,selection:f.selection}))))))}),nje=t=>{var{attributes:e,children:r}=t;return Z.createElement("span",No({},e),r,ui&&Z.createElement("br",null))},ije=()=>[],sje=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&ce.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),_4e(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},ni=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},F$=t=>Nu(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),oje=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},Qq=E.createContext(!1),aje=()=>E.useContext(Qq),lje=E.createContext({});function uje(t){var e=E.useRef([]).current,r=E.useRef({editor:t}).current,n=E.useCallback(o=>{r.editor=o,e.forEach(a=>a(o))},[e,r]),s=E.useMemo(()=>({getSlate:()=>r.editor,addEventListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1)})}),[e,r]);return{selectorContext:s,onChange:n}}var cje=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],dje=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:s,onValueChange:o,initialValue:a}=t,l=Ih(t,cje),[c,d]=Z.useState(()=>{if(!Me.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(An.stringify(a)));if(!M.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(An.stringify(e)));return e.children=a,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:h,onChange:g}=uje(e),m=E.useCallback(u=>{var f;switch(n&&n(e.children),u==null||(f=u.operation)===null||f===void 0?void 0:f.type){case"set_selection":s==null||s(e.selection);break;default:o==null||o(e.children)}d(p=>({v:p.v+1,editor:e})),g(e)},[e,g,n,s,o]);E.useEffect(()=>(NP.set(e,m),()=>{NP.set(e,()=>{})}),[e,m]);var[y,b]=E.useState(me.isFocused(e));return E.useEffect(()=>{b(me.isFocused(e))},[e]),Fv(()=>{var u=()=>b(me.isFocused(e));return Oq>=17?(document.addEventListener("focusin",u),document.addEventListener("focusout",u),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",u)}):(document.addEventListener("focus",u,!0),document.addEventListener("blur",u,!0),()=>{document.removeEventListener("focus",u,!0),document.removeEventListener("blur",u,!0)})},[]),Z.createElement(lje.Provider,{value:h},Z.createElement(Xq.Provider,{value:c},Z.createElement(pB.Provider,{value:c.editor},Z.createElement(Qq.Provider,{value:y},r))))},M$=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},k$=(t,e,r)=>{var n=me.toDOMRange(t,e).getBoundingClientRect(),s=me.toDOMRange(t,r).getBoundingClientRect();return M$(n,s)&&M$(s,n)},fje=(t,e)=>{var r=M.range(t,ce.end(e)),n=Array.from(M.positions(t,{at:e})),s=0,o=n.length,a=Math.floor(o/2);if(k$(t,M.range(t,n[s]),r))return M.range(t,n[s],r);if(n.length<2)return M.range(t,n[n.length-1],r);for(;a!==n.length&&a!==s;)k$(t,M.range(t,n[a]),r)?o=a:s=a,a=Math.floor((s+o)/2);return M.range(t,n[o],r)};function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function L$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var hje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:s,onChange:o,deleteBackward:a,addMark:l,removeMark:c}=n;return eE.set(n,new WeakMap),n.addMark=(d,h)=>{var g,m;(g=vB.get(n))===null||g===void 0||g(),!ho.get(n)&&(m=Si.get(n))!==null&&m!==void 0&&m.length&&ho.set(n,null),za.delete(n),l(d,h)},n.removeMark=d=>{var h;!ho.get(n)&&(h=Si.get(n))!==null&&h!==void 0&&h.length&&ho.set(n,null),za.delete(n),c(d)},n.deleteBackward=d=>{if(d!=="line")return a(d);if(n.selection&&ce.isCollapsed(n.selection)){var h=M.above(n,{match:b=>ot.isElement(b)&&M.isBlock(n,b),at:n.selection});if(h){var[,g]=h,m=M.range(n,g,n.selection.anchor),y=fje(n,m);ce.isCollapsed(y)||we.delete(n,{at:y})}}},n.apply=d=>{var h=[],g=[],m=Si.get(n);if(m!=null&&m.length){var y=m.map(I=>p8e(I,d)).filter(Boolean);Si.set(n,y)}var b=Ul.get(n);b&&Ul.set(n,C$(n,b,d));var u=Ll.get(n);if(u!=null&&u.at){var f=Lt.isPoint(u==null?void 0:u.at)?$P(n,u.at,d):C$(n,u.at,d);Ll.set(n,f?L$(L$({},u),{},{at:f}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{h.push(...qd(n,d.path));break}case"set_selection":{var p;(p=Jg.get(n))===null||p===void 0||p.unref(),Jg.delete(n);break}case"insert_node":case"remove_node":{h.push(...qd(n,ee.parent(d.path)));break}case"merge_node":{var v=ee.previous(d.path);h.push(...qd(n,v));break}case"move_node":{var _=ee.common(ee.parent(d.path),ee.parent(d.newPath));h.push(...qd(n,_));var w;ee.isBefore(d.path,d.newPath)?(h.push(...qd(n,ee.parent(d.path))),w=d.newPath):(h.push(...qd(n,ee.parent(d.newPath))),w=d.path);var x=Me.get(e,ee.parent(w)),S=me.findKey(n,x),A=M.pathRef(n,ee.parent(w));g.push([A,S]);break}}s(d);for(var[D,C]of h){var[T]=M.node(n,D);lw.set(T,C)}for(var[R,P]of g)if(R.current){var[O]=M.node(n,R.current);lw.set(O,P)}},n.setFragmentData=d=>{var{selection:h}=n;if(h){var[g,m]=ce.edges(h),y=M.void(n,{at:g.path}),b=M.void(n,{at:m.path});if(!(ce.isCollapsed(h)&&!y)){var u=me.toDOMRange(n,h),f=u.cloneContents(),p=f.childNodes[0];if(f.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(p=T)}),b){var[v]=b,_=u.cloneRange(),w=me.toDOMNode(n,v);_.setEndAfter(w),f=_.cloneContents()}if(y&&(p=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var R=T.getAttribute("data-slate-zero-width")==="n";T.textContent=R?"\n":""}),Nq(p)){var x=p.ownerDocument.createElement("span");x.style.whiteSpace="pre",x.appendChild(p),f.appendChild(x),p=x}var S=n.getFragment(),A=JSON.stringify(S),D=window.btoa(encodeURIComponent(A));p.setAttribute("data-slate-fragment",D),d.setData("application/".concat(r),D);var C=f.ownerDocument.createElement("div");return C.appendChild(f),C.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(C),d.setData("text/html",C.innerHTML),d.setData("text/plain",Uq(C)),f.ownerDocument.body.removeChild(C),d}}},n.insertData=d=>{n.insertFragmentData(d)||n.insertTextData(d)},n.insertFragmentData=d=>{var h=d.getData("application/".concat(r))||i8e(d);if(h){var g=decodeURIComponent(window.atob(h)),m=JSON.parse(g);return n.insertFragment(m),!0}return!1},n.insertTextData=d=>{var h=d.getData("text/plain");if(h){var g=h.split(/\r\n|\r|\n/),m=!1;for(var y of g)m&&we.splitNodes(n,{always:!0}),n.insertText(y),m=!0;return!0}return!1},n.onChange=d=>{var h=Oq<18?G2.unstable_batchedUpdates:g=>g();h(()=>{var g=NP.get(n);g&&g(d),o(d)})},n},qd=(t,e)=>{var r=[];for(var[n,s]of M.levels(t,{at:e})){var o=me.findKey(t,n);r.push([s,o])}return r},pje=(t,e)=>{e&&qu(t,()=>{_Pe(t),jI(t,e)}),me.focus(t)},gje=t=>me.isComposing(t),mje=t=>me.isFocused(t),vje=(t,{edge:e="start"}={})=>{const r=e==="start"?dX(t,[]):zI(t,[]);pje(t,r)},yje=nB,_je=hp,bje=Vx,U$=us,wje=Yx;function xje(t,e,r,n){if(!U$(t))return t;e=_je(e,t);for(var s=-1,o=e.length,a=o-1,l=t;l!=null&&++s<o;){var c=wje(e[s]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=a){var h=l[c];d=n?n(h,c,l):void 0,d===void 0&&(d=U$(h)?h:bje(e[s+1])?[]:{})}yje(l,c,d),l=l[c]}return t}var Eje=xje,Sje=tq,Cje=Eje,Aje=hp;function Tje(t,e,r){for(var n=-1,s=e.length,o={};++n<s;){var a=e[n],l=Sje(t,a);r(l,a)&&Cje(o,Aje(a,t),l)}return o}var Dje=Tje,Pje=Dje,Rje=XNe;function Oje(t,e){return Pje(t,e,function(r,n){return Rje(t,n)})}var Ije=Oje,$$=op,Bje=jx,Fje=Po,j$=$$?$$.isConcatSpreadable:void 0;function Mje(t){return Fje(t)||Bje(t)||!!(j$&&t&&t[j$])}var kje=Mje,Nje=aB,Lje=kje;function Jq(t,e,r,n,s){var o=-1,a=t.length;for(r||(r=Lje),s||(s=[]);++o<a;){var l=t[o];e>0&&r(l)?e>1?Jq(l,e-1,r,n,s):Nje(s,l):n||(s[s.length]=l)}return s}var Uje=Jq,$je=Uje;function jje(t){var e=t==null?0:t.length;return e?$je(t,1):[]}var zje=jje,Gje=zje,Vje=kX,Hje=NX;function Wje(t){return Hje(Vje(t,void 0,Gje),t+"")}var eZ=Wje,Kje=Ije,Yje=eZ,Xje=Yje(function(t,e){return t==null?{}:Kje(t,e)}),qje=Xje;const Zje=Un(qje);var Qje=Object.defineProperty,Jje=Object.defineProperties,e6e=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,tZ=Object.prototype.hasOwnProperty,rZ=Object.prototype.propertyIsEnumerable,z$=(t,e,r)=>e in t?Qje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nZ=(t,e)=>{for(var r in e||(e={}))tZ.call(e,r)&&z$(t,r,e[r]);if(uw)for(var r of uw(e))rZ.call(e,r)&&z$(t,r,e[r]);return t},t6e=(t,e)=>Jje(t,e6e(e)),r6e=(t,e)=>{var r={};for(var n in t)tZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&uw)for(var n of uw(t))e.indexOf(n)<0&&rZ.call(t,n)&&(r[n]=t[n]);return r},iZ=t=>Z.forwardRef((e,r)=>{var n=e,{as:s,asChild:o=!1}=n,a=r6e(n,["as","asChild"]);const l=o?na:s||t;return Z.createElement(l,nZ({ref:r},a))}),n6e=iZ("div"),i6e=iZ("span"),s6e=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},o6e=(...t)=>e=>t.forEach(r=>s6e(r,e)),wB=(...t)=>Z.useCallback(o6e(...t),t);function qKe(t){return Z.forwardRef(function(r,n){return Z.createElement(t,t6e(nZ({},r),{ref:n}))})}var G$,a6e=typeof window<"u"&&((G$=window.document)==null?void 0:G$.createElement)!==void 0,NC=a6e?Z.useLayoutEffect:Z.useEffect,l6e=()=>{if(typeof window>"u"||typeof window.addEventListener!="function")return!1;let t=!1;const e=Object.defineProperty({},"passive",{get(){t=!0}}),r=()=>null;return window.addEventListener("test",r,e),window.removeEventListener("test",r,e),t},u6e="ignore-onclickoutside",V$=(t,e)=>{var r;return(r=t.classList)==null?void 0:r.contains(e)},H$=(t,e)=>{let r=t.target||t;for(;r;){if(Array.isArray(e)){if(e.some(n=>V$(r,n)))return!0}else if(V$(r,e))return!0;r=r.parentElement}return!1},c6e=t=>document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY,W$=t=>t.includes("touch")&&l6e()?{passive:!0}:!1,ZKe=(t,{detectIFrame:e=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:s,ignoreClass:o=u6e,refs:a}={})=>{const[l,c]=Z.useState([]),d=Z.useRef(t);d.current=t;const h=Z.useCallback(g=>c(m=>[...m,{current:g}]),[]);return Z.useEffect(()=>{if(!(a!=null&&a.length)&&l.length===0)return;const g=()=>{const u=[];return(a||l).forEach(({current:f})=>f&&u.push(f)),u},m=u=>{!H$(u,o)&&!(s&&c6e(u))&&g().every(f=>!f.contains(u.target))&&d.current(u)},y=u=>setTimeout(()=>{const{activeElement:f}=document;(f==null?void 0:f.tagName)==="IFRAME"&&!H$(f,o)&&!g().includes(f)&&d.current(u)},0),b=()=>{n.forEach(u=>document.removeEventListener(u,m,W$(u))),e&&window.removeEventListener("blur",y)};if(r){b();return}return n.forEach(u=>document.addEventListener(u,m,W$(u))),e&&window.addEventListener("blur",y),()=>b()},[l,o,s,r,e,JSON.stringify(n)]),h};function QKe(t){return Z.forwardRef(t)}function d6e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++n<s;)o[n]=t[n+e];return o}var f6e=d6e,h6e=tq,p6e=f6e;function g6e(t,e){return e.length<2?t:h6e(t,p6e(e,0,-1))}var m6e=g6e,v6e=hp,y6e=ZNe,_6e=m6e,b6e=Yx;function w6e(t,e){return e=v6e(e,t),t=_6e(t,e),t==null||delete t[b6e(y6e(e))]}var x6e=w6e,E6e=RX;function S6e(t){return E6e(t)?void 0:t}var C6e=S6e,A6e=WX,T6e=mq,D6e=x6e,P6e=hp,R6e=dp,O6e=C6e,I6e=eZ,B6e=fq,F6e=1,M6e=2,k6e=4,N6e=I6e(function(t,e){var r={};if(t==null)return r;var n=!1;e=A6e(e,function(o){return o=P6e(o,t),n||(n=o.length>1),o}),R6e(t,B6e(t),r),n&&(r=T6e(r,F6e|M6e|k6e,O6e));for(var s=e.length;s--;)D6e(r,e[s]);return r}),L6e=N6e;const U6e=Un(L6e);var K$=Object.prototype.hasOwnProperty;function Y$(t,e,r){for(r of t.keys())if(tm(r,e))return r}function tm(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&tm(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=Y$(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=Y$(e,s),!s)||!tm(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(K$.call(t,r)&&++n&&!K$.call(e,r)||!(r in e)||!tm(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function $6e(t){const e=Z.useRef(t),r=Z.useRef(0);return tm(t,e.current)||(e.current=t,r.current+=1),Z.useMemo(()=>e.current,[r.current])}function X$(t,e){return Z.useMemo(t,$6e(e))}globalThis&&globalThis.__rest;const ul=t=>t,xB=t=>({_tag:"Left",value:t}),tE=t=>({_tag:"Right",value:t}),j6e=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),sZ={dimap:(t,e,r)=>n=>e(r(t(n))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:tE(t(e.value)),wander:t=>e=>e.map(t)},z6e={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const n=t(e[r]);if(n!=null)return n}}},G6e={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(n=>{r=r.concat(t(n))}),r}},EB=t=>({dimap:(e,r,n)=>s=>n(e(s)),first:e=>([r,n])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),LC={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},gp=(t,e)=>{const r=e;return r._tag=t,r},oZ=t=>(t._removable=!0,t);function Xt(t,e,r){switch(arguments.length){case 2:{const n=(s,o)=>t(s,e(s,o));return n._tag=LC[t._tag][e._tag],n._removable=e._removable||!1,n}default:{const n=LC[t._tag][e._tag],s=(o,a)=>t(o,e(o,r(o,a)));return s._tag=LC[n][r._tag],s._removable=r._removable||!1,s}}}const V6e=gp("Equivalence",(t,e)=>e),rE=(t,e)=>gp("Iso",(r,n)=>r.dimap(t,e,n)),cs=(t,e)=>gp("Lens",(r,n)=>r.dimap(s=>[t(s),s],e,r.first(n))),SB=(t,e)=>gp("Prism",(r,n)=>r.dimap(t,s=>j6e(ul,e,s),r.right(n))),CB=gp("Traversal",(t,e)=>t.dimap(ul,ul,t.wander(e))),H6e=t=>gp("Getter",(e,r)=>e.dimap(t,ul,r)),aZ=(t,e,r)=>t(sZ,e)(r),W6e=(t,e,r)=>t(sZ,()=>e)(r),K6e=(t,e)=>t(EB({}),ul)(e),Y6e=(t,e)=>t(EB(z6e),ul)(e),lZ=(t,e)=>t(EB(G6e),r=>[r])(e),X6e=rE(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((n,s)=>n[0]-s[0]),r=[];for(let n=0;n<e.length;++n)(n===e.length-1||e[n][0]!==e[n+1][0])&&r.push(e[n][1]);return r}),q$=t=>cs(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),q6e=t=>cs(e=>{const r={};for(const n of t)r[n]=e[n];return r},([e,r])=>{const n=Object.assign({},r);for(const s of t)delete n[s];return Object.assign(n,e)}),uZ=t=>cs(e=>e[t],([e,r])=>{const n=r.slice();return n[t]=e,n}),AB=uZ(0),TB=t=>SB(e=>t(e)?tE(e):xB(e),ul),Mv=Symbol("__no_match__"),cZ=TB(t=>t!==Mv),dZ=Symbol("__remove_me__"),UC=t=>oZ(Xt(cs(e=>0<=t&&t<e.length?e[t]:Mv,([e,r])=>{if(e===Mv)return r;if(e===dZ)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const n=r.slice();return n[t]=e,n}}),cZ)),Z6e=SB(t=>t===void 0?xB(void 0):tE(t),ul),Q6e=t=>SB(e=>t(e)?tE(e):xB(e),ul),J6e=t=>oZ(Xt(cs(e=>{const r=e.findIndex(t);return r===-1?[Mv,-1]:[e[r],r]},([[e,r],n])=>{if(e===Mv)return n;if(e===dZ)return[...n.slice(0,r),...n.slice(r+1)];const s=n.slice();return s[r]=e,s}),AB,cZ)),e5e=t=>Xt(cs(e=>{const r=e.map((n,s)=>t(n)?s:null).filter(n=>n!=null);return[r.map(n=>e[n]),r]},([[e,r],n])=>{const s=n.length,o=e.length;let a=0,l=0,c=0;const d=[];for(;a<s;)r[l]===a?(++l,c<o&&(d.push(e[c]),++c)):d.push(n[a]),++a;for(;c<o;)d.push(e[c++]);return d}),AB),t5e=t=>cs(e=>e===void 0?t:e,([e,r])=>e),r5e=t=>Xt(cs(e=>{const r=lZ(t,e);return[r,r.length]},([[e,r],n])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let s=0;return aZ(t,()=>e[s++],n)}),AB),n5e=t=>cs(e=>t(e),([e,r])=>e),i5e=t=>cs(e=>e,([e,r])=>t(e)),s5e=cs(t=>{},([t,e])=>t===void 0?e:[t,...e]),o5e=cs(t=>{},([t,e])=>t===void 0?e:[...e,t]),a5e=Xt(rE(t=>t.split(""),t=>t.join("")),CB),l5e=Xt(rE(t=>t.split(/\b/),t=>t.join("")),CB,TB(t=>!/\s+/.test(t)));class nr{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new nr(Xt(this._ref,e._ref))}iso(e,r){return new nr(Xt(this._ref,rE(e,r)))}lens(e,r){return new nr(Xt(this._ref,cs(e,([n,s])=>r(s,n))))}indexed(){return new nr(Xt(this._ref,X6e))}prop(e){return new nr(Xt(this._ref,q$(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new nr(e.reduce((r,n)=>Xt(r,q$(n)),this._ref))}pick(e){return new nr(Xt(this._ref,q6e(e)))}nth(e){return new nr(Xt(this._ref,uZ(e)))}filter(e){return new nr(Xt(this._ref,e5e(e)))}valueOr(e){return new nr(Xt(this._ref,t5e(e)))}partsOf(e){const r=typeof e=="function"?e(fZ):e;return new nr(Xt(this._ref,r5e(r._ref)))}reread(e){return new nr(Xt(this._ref,n5e(e)))}rewrite(e){return new nr(Xt(this._ref,i5e(e)))}optional(){return new nr(Xt(this._ref,Z6e))}guard_(){return e=>this.guard(e)}guard(e){return new nr(Xt(this._ref,Q6e(e)))}at(e){return new nr(Xt(this._ref,UC(e)))}head(){return new nr(Xt(this._ref,UC(0)))}index(e){return new nr(Xt(this._ref,UC(e)))}find(e){return new nr(Xt(this._ref,J6e(e)))}elems(){return new nr(Xt(this._ref,CB))}to(e){return new nr(Xt(this._ref,H6e(e)))}when(e){return new nr(Xt(this._ref,TB(e)))}chars(){return new nr(Xt(this._ref,a5e))}words(){return new nr(Xt(this._ref,l5e))}prependTo(){return new nr(Xt(this._ref,s5e))}appendTo(){return new nr(Xt(this._ref,o5e))}}const fZ=new nr(V6e);function u5e(){return fZ}function c5e(t){return e=>K6e(t._ref,e)}function d5e(t){return e=>Y6e(t._ref,e)}function f5e(t){return e=>lZ(t._ref,e)}function h5e(t){return e=>r=>aZ(t._ref,e,r)}function p5e(t){return e=>r=>W6e(t._ref,e,r)}const Z$=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),g5e=new WeakMap,m5e=(t,e,r)=>{const n=Z$(()=>new WeakMap,g5e,e);return Z$(t,n,r)},v5e=t=>typeof t=="function";function y5e(t,e){return m5e(()=>{const r=e(u5e());return Jo(s=>{const o=s(t);return o instanceof Promise?o.then(a=>Q$(r,a)):Q$(r,o)},(s,o,a)=>{const l=v5e(a)?h5e(r)(a):p5e(r)(a),c=s(t);return o(t,c instanceof Promise?c.then(l):l(c))})},t,e)}const Q$=(t,e)=>t._tag==="Traversal"?f5e(t)(e):t._tag==="Prism"?d5e(t)(e):c5e(t)(e);var _5e=Object.defineProperty,b5e=Object.defineProperties,w5e=Object.getOwnPropertyDescriptors,cw=Object.getOwnPropertySymbols,hZ=Object.prototype.hasOwnProperty,pZ=Object.prototype.propertyIsEnumerable,J$=(t,e,r)=>e in t?_5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$e=(t,e)=>{for(var r in e||(e={}))hZ.call(e,r)&&J$(t,r,e[r]);if(cw)for(var r of cw(e))pZ.call(e,r)&&J$(t,r,e[r]);return t},zt=(t,e)=>b5e(t,w5e(e)),Ro=(t,e)=>{var r={};for(var n in t)hZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&cw)for(var n of cw(t))e.indexOf(n)<0&&pZ.call(t,n)&&(r[n]=t[n]);return r};function gZ(t){var e=t,{attributes:r,children:n,editor:s,leaf:o,nodeProps:a,text:l}=e,c=Ro(e,["attributes","children","editor","leaf","nodeProps","text"]);return Z.createElement("span",$e($e({},r),c),n)}var x5e=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:JKe,plateControllerStore:i1,usePlateControllerStore:DB}=MI({activeId:Jo(null),editorStores:Jo({}),primaryEditorIds:Jo([])},{name:"plateController"}),E5e=()=>DB().get,$C=()=>DB().set,S5e=()=>!!DB().store({warnIfNoStore:!1}),C5e=t=>{const e=Z.useMemo(()=>Jo(r=>{const n=r(i1.atom.editorStores),s=a=>{var l;return a&&(l=n[a])!=null?l:null};if(t)return s(t);const o=[r(i1.atom.activeId),...r(i1.atom.primaryEditorIds)];for(const a of o){const l=s(a);if(l)return l}return null}),[t]);return E5e().atom(e)},A5e=(t={})=>{var e=t,{id:r,decorate:n=null,editor:s,isMounted:o=!1,primary:a=!0,readOnly:l=null,renderElement:c=null,renderLeaf:d=null,versionDecorate:h=1,versionEditor:g=1,versionSelection:m=1,versionValue:y=1,onChange:b=null,onSelectionChange:u=null,onValueChange:f=null}=e,p=Ro(e,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return MI($e({decorate:n,editor:s,isMounted:o,primary:a,readOnly:l,renderElement:c,renderLeaf:d,versionDecorate:h,versionEditor:g,versionSelection:m,versionValue:y,onChange:b,onSelectionChange:u,onValueChange:f},p),{extend:v=>({trackedEditor:Jo(_=>({editor:_(v.editor),version:_(v.versionEditor)})),trackedSelection:Jo(_=>({selection:_(v.editor).selection,version:_(v.versionSelection)})),trackedValue:Jo(_=>({value:_(v.editor).children,version:_(v.versionValue)}))}),name:"plate"})},{PlateProvider:T5e,plateStore:eYe,usePlateStore:Ry}=A5e(),mZ=(t,{debugHookName:e="usePlateEditorStore"}={})=>{var r;const n=(r=Ry(t).store({warnIfNoStore:!1}))!=null?r:null,[s]=Z.useState(!!n),o=s?n:C5e(t),a=S5e(),l=Z.useMemo(()=>wP(),[]);if(!o){if(a)return l;throw new Error("".concat(e," must be used inside a Plate or PlateController"))}return o},mu=(t,e)=>{const r=mZ(t,$e({debugHookName:"usePlateSelectors"},e));return Ry({store:r}).get},vZ=(t,e)=>{const r=mZ(t,$e({debugHookName:"usePlateActions"},e));return Ry({store:r}).set},zP=(t,e,r={})=>{const n=Z.useRef(1),s=vZ(e,$e({debugHookName:"useIncrementVersion"},r))[t]();return Z.useCallback(()=>{const o=n.current+1;s(o),n.current=o},[s])},D5e=(t,e={})=>{const r=zP("versionDecorate",t,$e({debugHookName:"useRedecorate"},e));return Z.useCallback(()=>{r()},[r])},P5e=()=>mu(void 0,{debugHookName:"useEditorId"}).editor().id;function Ka(t,...e){return jX({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return $e($e({},r),n)})}function Zd(t){return typeof t=="function"}function Ar(t={}){var e;let r,n;Zd(t)?(r={key:""},n=a=>t(a)):r=t;const s=(e=r.key)!=null?e:"",o=Ka({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=a=>{const l=$e({},o);return l.__configuration=c=>Zd(a)?a(c):a,Ar(l)},o.configurePlugin=(a,l)=>{const c=$e({},o),d=g=>{let m=!1;const y=g.map(b=>{if(b.key===a.key)return m=!0,Ar(zt($e({},b),{__configuration:u=>Zd(l)?l(u):l}));if(b.plugins&&b.plugins.length>0){const u=d(b.plugins);if(u.found)return m=!0,zt($e({},b),{plugins:u.plugins})}return b});return{found:m,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,Ar(c)},o.extendEditorApi=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1}],Ar(l)},o.extendOptions=a=>{const l=$e({},o);return l.__optionExtensions=[...l.__optionExtensions,a],Ar(l)},o.extendApi=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0}],Ar(l)},o.extendEditorTransforms=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1,isTransform:!0}],Ar(l)},o.extendTransforms=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0,isTransform:!0}],Ar(l)},o.extend=a=>{let l=$e({},o);return Zd(a)?l.__extensions=[...l.__extensions,a]:l=Ka(l,a),Ar(l)},o.clone=()=>Ka(o),o.extendPlugin=(a,l)=>{const c=$e({},o),d=g=>{let m=!1;const y=g.map(b=>{if(b.key===a.key)return m=!0,Ar(zt($e({},b),{__extensions:[...b.__extensions,u=>Zd(l)?l(u):l]}));if(b.plugins&&b.plugins.length>0){const u=d(b.plugins);if(u.found)return m=!0,zt($e({},b),{plugins:u.plugins})}return b});return{found:m,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,h.found||c.plugins.push(Ar({key:a.key,__extensions:[g=>Zd(l)?l(g):l]})),Ar(c)},o}function PB(t={}){return Ar(t)}var yZ=({apply:t,node:e,path:r=[],query:n,source:s})=>{Ty([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),pX(e)&&e.children.forEach((a,l)=>{yZ({apply:t,node:a,path:r.concat([l]),query:n,source:s})})},_Z=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},R5e=(t,e)=>{var r;const n=Object.values(t.plugins).find(s=>s.node.type===e);return(r=n==null?void 0:n.key)!=null?r:e},O5e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},I5e={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},B5e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},mr=t=>{const e=O5e[t],r=I5e[t],n=B5e[t],s=e&&Zf(e),o=r&&Zf(r),a=n&&Zf(n);return l=>!!(s!=null&&s(l)||Yb&&(o!=null&&o(l))||!Yb&&(a!=null&&a(l)))},F5e={isBold:mr("bold"),isCompose:mr("compose"),isDeleteBackward:mr("deleteBackward"),isDeleteForward:mr("deleteForward"),isDeleteLineBackward:mr("deleteLineBackward"),isDeleteLineForward:mr("deleteLineForward"),isDeleteWordBackward:mr("deleteWordBackward"),isDeleteWordForward:mr("deleteWordForward"),isExtendBackward:mr("extendBackward"),isExtendForward:mr("extendForward"),isExtendLineBackward:mr("extendLineBackward"),isExtendLineForward:mr("extendLineForward"),isItalic:mr("italic"),isMoveBackward:mr("moveBackward"),isMoveForward:mr("moveForward"),isMoveLineBackward:mr("moveLineBackward"),isMoveLineForward:mr("moveLineForward"),isMoveWordBackward:mr("moveWordBackward"),isMoveWordForward:mr("moveWordForward"),isRedo:mr("redo"),isSoftBreak:mr("insertSoftBreak"),isSplitBlock:mr("splitBlock"),isTransposeCharacter:mr("transposeCharacter"),isUndo:mr("undo")},M5e=t=>{yZ(zt($e({},t),{apply:ro}))};function Pn(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}var k5e=Ar({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}}),N5e=Ar({key:"dom"}),L5e=({editor:t})=>oX(t),U5e=Ar({key:"history",extendEditor:L5e}),$5e=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],a=[];return t.pluginList.forEach(l=>{l.node.isInline&&o.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&a.push(l.node.type)}),t.isInline=l=>o.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>a.includes(l.type)?!0:n(l),t},j5e=Ar({key:"inlineVoid",extendEditor:$5e}),z5e=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const a=_Z(t,s),{deserialize:l,format:c,mimeTypes:d}=o;if(!c)return!1;const h=Array.isArray(c)?c:[c],g=d||h.map(m=>m.includes("/")?m:"text/".concat(m));for(const m of g){let y=r.getData(m);if(!y||!Cze(t,a,{data:y,dataTransfer:r}))continue;y=Dze(t,a,{data:y,dataTransfer:r});let b=l==null?void 0:l(zt($e({},Pn(t,s)),{data:y,dataTransfer:r}));if(b!=null&&b.length&&(b=Pze(t,a,{data:y,dataTransfer:r,fragment:b}),b.length!==0))return Aze(t,a,{data:y,dataTransfer:r,fragment:b}),!0}return!1})||e(r)},t},G5e=Ar({key:"parser",extendEditor:z5e}),V5e=class extends Error{constructor(e,r="DEFAULT"){super("[".concat(r,"] ").concat(e)),this.type=r,this.name="PlateError"}},H5e=PB({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,a)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new V5e(s,o);(c=(l=d.logger)[n])==null||c.call(l,s,o,a)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}}),W5e=(t,e)=>{qx(t,$e({at:[],nodes:t.api.create.value()},e))},K5e=t=>{W5e(t),t.history.undos=[],t.history.redos=[],t.operations=[]},Y5e=(t,e,r)=>{var n;const{defaultType:s=t.getType(Oy),type:o}=e,a=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!a)return;const l=mX(t,zt($e({},r),{match:{type:o}}));l&&o===s||t.setNodes({type:l?s:o},{at:a})},Oy=Ar({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),X5e=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{sq(t)&&oq(t)};return t.deleteBackward=a=>{r(a),o()},t.deleteForward=a=>{n(a),o()},t.deleteFragment=a=>{s(a),o()},t.apply=a=>{if(a.type==="set_selection"){const{properties:l}=a;t.prevSelection=l,e(a),t.currentKeyboardEvent=null;return}e(a)},t},bZ=PB({key:"slateNext",extendEditor:X5e}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>$e({children:[{text:""}],type:t.getType(Oy)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{K5e(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),qx(t,{at:[],nodes:r})},toggle:{block:Rh(Y5e,t),mark:Rh(aq,t)}})),nE=t=>t.nodeType===Node.ELEMENT_NODE,wZ=t=>t.nodeType===Node.TEXT_NODE,q5e=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),RB=t=>{if(!nE(t))return!1;const e=t,r=q5e.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?RB(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},e4=t=>nE(t)?!RB(t):!1,Z5e=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),Q5e=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&e4(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||e4(e))return!0;if((e.textContent||"").length>0)return!1}},J5e=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},t4=t=>{t.inlineFormattingContext=null},eze=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&J5e(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),a=(()=>s==="normal"?"collapse":Q5e(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=Z5e(r||"",{shouldCollapseWhiteSpace:l,trimEnd:a,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},tze=(t,e)=>{if(nE(t)){EZ(t,e);return}if(wZ(t)){eze(t,e);return}xZ(t,e)},xZ=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)tze(n,e)},rze=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},EZ=(t,e)=>{const r=RB(t),n=e.whiteSpaceRule,s=rze(t);s&&(e.whiteSpaceRule=s),r||t4(e),xZ(t,e),r||t4(e),e.whiteSpaceRule=n},nze=t=>{const e=t.cloneNode(!0);return EZ(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},OB=(t,e)=>Array.from(e.childNodes).flatMap(CZ(t)),ize=(t,e)=>{if(e.nodeName==="BODY")return pp("fragment",{},OB(t,e))},sze=t=>{if(t.nodeName==="BR")return"\n"},SZ=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:a,isLeaf:l,type:c},parsers:d}=e,h=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!h)return;const{attributeNames:g,isElement:m,isLeaf:y,query:b,rules:u}=h;let{parse:f}=h;const p=m||a,v=y||l;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:A,validNodeName:D="*",validStyle:C})=>{var T;if(D){const R=gu(D);if(R.length>0&&!R.includes(n.nodeName)&&D!=="*")return!1}if(A&&!n.classList.contains(A))return!1;if(C)for(const[R,P]of Object.entries(C)){if(!gu(P).includes(n.style[R])&&P!=="*"||P==="*"&&!n.style[R])return;const I=(T=e.inject.nodeProps)==null?void 0:T.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,P]of Object.entries(S)){const O=gu(P),I=n.getAttribute(R);if(!Td(I)||!O.includes(I))return!1}return!0})||b&&!b(zt($e({},Pn(t,e)),{element:n})))return;if(!f)if(p)f=()=>({type:c});else if(v)f=()=>({[c]:!0});else return;let _=(o=f(zt($e({},Pn(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(_).length===0)return;if(_Z(t,e).forEach(x=>{var S,A,D,C;const T=(C=(D=(A=(S=x.parsers)==null?void 0:S.html)==null?void 0:A.deserializer)==null?void 0:D.parse)==null?void 0:C.call(D,zt($e({},Pn(t,e)),{element:n,node:_}));T&&(_=$e($e({},_),T))}),g){const x={},S=n.getAttributeNames();for(const A of S)g.includes(A)&&(x[A]=n.getAttribute(A));Object.keys(x).length>0&&(_.attributes=x)}return zt($e({},h),{node:_})},oze=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=SZ(t,n,{element:e}),!!r)),r},aze=(t,e)=>{var r;const n=oze(t,e);if(n){const{node:s,withoutChildren:o}=n;let a=(r=s.children)!=null?r:OB(t,e);return(a.length===0||o)&&(a=[{text:""}]),pp("element",s,a)}},lze=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=SZ(t,n,{deserializeLeaf:!0,element:e});s&&(r=$e($e({},r),s.node))}),r},uze=(t,e)=>{const r=lze(t,e);return OB(t,e).reduce((n,s)=>{if(!s)return n;if(vl(s))Object.keys(r).length>0&&M5e({node:s,query:{filter:([o])=>ku(o)},source:r}),n.push(s);else{const o=$e({},r);ku(s)&&s.text&&Object.keys(o).forEach(a=>{o[a]&&s[a]&&(o[a]=s[a])}),n.push(pp("text",o,s))}return n},[])},cze=t=>{if(wZ(t))return t.textContent||""},CZ=t=>e=>{const r=cze(e);if(r)return r;if(!nE(e))return null;const n=sze(e);if(n)return n;const s=ize(t,e);if(s)return s;const o=aze(t,e);return o||uze(t,e)},dze=(t,e)=>CZ(t)(e),fze=t=>{const e=document.createElement("body");return e.innerHTML=t,e},hze=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=fze(r)),e&&(r=nze(r));const n=dze(t,r);return Eze(t,{descendants:n})},pze=t=>new DOMParser().parseFromString(t,"text/html"),gze=Ar({key:"html"}).extendApi(({editor:t})=>({deserialize:Rh(hze,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=pze(e);return t.html.deserialize({element:r.body})},format:"text/html"}}),mze=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{qu(t,()=>{r(n);const s=e();if(s.maxLength){const o=fX(t,[]).length;if(o>s.maxLength){const a=o-s.maxLength;t.delete({distance:a,reverse:!0,unit:"character"})}}})},t},r4=PB({key:"length",extendEditor:mze}),vze=({maxLength:t,plugins:e=[]})=>{let r=[H5e,bZ,N5e,U5e,j5e,G5e,t?r4.configure({options:{maxLength:t}}):r4,gze,k5e,Oy];const n=new Map(e.map(s=>[s.key,s]));return r=r.map(s=>{const o=n.get(s.key);if(o){const a=e.findIndex(l=>l.key===s.key);return a!==-1&&e.splice(a,1),o}return s}),r},yze=t=>e=>ku(e)||vl(e)&&t.isInline(e),_ze=t=>()=>({children:[],type:t}),bze=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),wze=(t,e,r)=>{const n=bze(t,e),{fragment:s}=t.reduce((o,a)=>{if(n&&e(a)){let l=o.precedingBlock;l||(l=r(),o.precedingBlock=l,o.fragment.push(l)),l.children.push(a)}else o.fragment.push(a),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},xze=t=>t.length===0?[{text:""}]:t,AZ=(t,e,r)=>(t=xze(t),t=wze(t,e,r),t=t.map(n=>vl(n)?zt($e({},n),{children:AZ(n.children,e,r)}):n),t),Eze=(t,{descendants:e})=>{const r=yze(t),n=t.getType(Oy),s=_ze(n);return AZ(e,r,s)},Sze=(t,e,r)=>{var n,s,o,a;const{key:l,inject:{nodeProps:c,targetPlugins:d}}=e,{className:h,element:g,style:m,text:y}=r,b=g!=null?g:y;if(!b||!c)return;const{classNames:u,defaultNodeValue:f,nodeKey:p=l,query:v,styleKey:_=p,transformClassName:w,transformNodeValue:x,transformProps:S,transformStyle:A,validNodeValues:D}=c,C=v==null?void 0:v(zt($e($e({},c),Pn(t,e)),{nodeProps:r}));if(!C&&d&&vl(b)&&b.type&&!d.includes(R5e(t,b.type)))return;const T=b[p];if(!C&&(!Td(T)||D&&!D.includes(T)||T===f))return;const R=zt($e($e({},r),Pn(t,e)),{nodeValue:T}),P=(n=x==null?void 0:x(R))!=null?n:T;R.value=P;let O={};return g&&(O.className=bm(h,"slate-".concat(p,"-").concat(T))),(u!=null&&u[T]||w)&&(O.className=(s=w==null?void 0:w(R))!=null?s:bm(h,u==null?void 0:u[P])),_&&(O.style=(o=A==null?void 0:A(R))!=null?o:zt($e({},m),{[_]:P})),S&&(O=(a=S(zt($e({},R),{props:O})))!=null?a:O),O},TZ=(t,e)=>(t.pluginList.forEach(r=>{if(r.inject.nodeProps){const n=Sze(t,r,e);n&&(e=$e($e({},e),n))}}),zt($e({},e),{editor:t})),Cze=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const a=(o=s.parser)==null?void 0:o.query;return!a||a(zt($e({},Pn(t,s)),{data:r,dataTransfer:n}))}),Aze=(t,e,r)=>{var n=r,{fragment:s}=n,o=Ro(n,["fragment"]);qu(t,()=>{e.some(a=>{var l,c;return((c=(l=a.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,$e(zt($e({},Pn(t,a)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},Tze=t=>{const e=t.children;let r=t$e(e);t.pluginList.forEach(n=>{var s;const o=(s=n.normalizeInitialValue)==null?void 0:s.call(n,zt($e({},Pn(t,n)),{value:r}));o&&(r=o)}),!s$e(e,r)&&r&&(t.children=r)},Dze=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const a=(o=s.parser)==null?void 0:o.transformData;a&&(r=a(zt($e({},Pn(t,s)),{data:r,dataTransfer:n})))}),r),Pze=(t,e,r)=>{var n=r,{fragment:s}=n,o=Ro(n,["fragment"]);return e.forEach(a=>{var l;const c=(l=a.parser)==null?void 0:l.transformFragment;c&&(s=c($e($e({fragment:s},o),Pn(t,a))))}),s},DZ=(t,e)=>{var r,n,s,o;let a=Ka({},e);if(a.__resolved=!0,a.__configuration){const d=a.__configuration(Pn(t,a));a=Ka(a,d),delete a.__configuration}a.__extensions&&a.__extensions.length>0&&(a.__extensions.forEach(d=>{a=Ka(a,d(Pn(t,a)))}),a.__extensions=[]);const l=(r=a.inject)==null?void 0:r.targetPluginToInject,c=(n=a.inject)==null?void 0:n.targetPlugins;return l&&c&&c.length>0&&(a.inject=a.inject||{},a.inject.plugins=ro({},a.inject.plugins,Object.fromEntries(c.map(d=>{const h=l(zt($e({},Pn(t,a)),{targetPlugin:d}));return[d,h]})))),(s=a.node)!=null&&s.component&&(a.render.node=a.node.component),(o=a.render)!=null&&o.node&&(a.node.component=a.render.node),Rze(t,a),a},Rze=(t,e)=>{e.__extensions||t.api.debug.error("Invalid plugin '".concat(e.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),e.node.isElement&&e.node.isLeaf&&t.api.debug.error("Plugin ".concat(e.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")},Oze=(t,e=[])=>{t.pluginList=[],t.plugins={},t.api={},t.transforms={},t.tf=t.transforms,t.shortcuts={};const r=Mze(t,e);return kze(t,r),Nze(t),Ize(t),Bze(t),t.pluginList.forEach(n=>{n.extendEditor&&(t=n.extendEditor(Pn(t,n)))}),t},Ize=t=>{t.pluginList.forEach(e=>{let r=bq(e.key)(e.options,{immer:{enableMapSet:!0}});e.__optionExtensions&&e.__optionExtensions.length>0&&e.__optionExtensions.forEach(n=>{const s=n(Pn(t,e));r=r.extendSelectors(()=>s)}),e.optionsStore=r})},Bze=t=>{const e=[];t.pluginList.forEach(r=>{Object.entries(r.api).forEach(([n,s])=>{t.api[n]=s}),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach(({extension:n,isPluginSpecific:s,isTransform:o})=>{const a=n(Pn(t,r));o?s?(t.transforms[r.key]||(t.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),ro(t.transforms[r.key],a),ro(r.transforms[r.key],a)):(ro(t.transforms,a),ro(r.transforms,a)):s?(t.api[r.key]||(t.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),ro(t.api[r.key],a),ro(r.api[r.key],a)):(ro(t.api,a),ro(r.api,a))}),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach(([n,s])=>{var o;if(s===null){const a=e.findIndex(l=>l.key===n);a!==-1&&e.splice(a,1)}else{const a=(o=s.priority)!=null?o:r.priority,l=e.findIndex(c=>c.key===n);(l===-1||a>=e[l].priority)&&(l!==-1&&e.splice(l,1),e.push({key:n,hotkey:s,priority:a}))}})}),e.sort((r,n)=>n.hotkey.priority-r.hotkey.priority),t.shortcuts=Object.fromEntries(e.map(({key:r,hotkey:n})=>{const s=n,o=Ro(s,["priority"]);return[r,o]}))},Fze=(t,e)=>{const r=new Map,n=s=>{const o=DZ(t,s),a=r.get(o.key);a?r.set(o.key,Ka(a,o)):r.set(o.key,o),o.plugins&&o.plugins.length>0&&o.plugins.forEach(n)};return e.forEach(n),r},Mze=(t,e)=>{const r=Fze(t,e),n=Array.from(r.values()).filter(l=>l.enabled!==!1);n.sort((l,c)=>c.priority-l.priority);const s=[],o=new Set,a=l=>{var c;o.has(l.key)||(o.add(l.key),(c=l.dependencies)==null||c.forEach(d=>{const h=r.get(d);h?a(h):t.api.debug.warn('Plugin "'.concat(l.key,'" depends on missing plugin "').concat(d,'"'),"PLUGIN_DEPENDENCY_MISSING")}),s.push(l))};return n.forEach(a),s},kze=(t,e)=>{t.pluginList=e,t.plugins=Object.fromEntries(e.map(r=>[r.key,r]))},Nze=t=>{const e=r=>{let n=[...r];const s={},o={},a={};for(const l of r)l.override.enabled&&Object.assign(s,l.override.enabled),l.override.components&&Object.entries(l.override.components).forEach(([c,d])=>{(!o[c]||l.priority>o[c].priority)&&(o[c]={component:d,priority:l.priority})}),l.override.plugins&&Object.entries(l.override.plugins).forEach(([c,d])=>{a[c]=Ka(a[c],d),d.enabled!==void 0&&(s[c]=d.enabled)});return n=n.map(l=>{var c;let d=$e({},l);a[l.key]&&(d=Ka(d,a[l.key])),o[l.key]&&(!l.render.node&&!l.node.component||o[l.key].priority>l.priority)&&(d.render.node=o[l.key].component,d.node.component=o[l.key].component);const h=(c=s[l.key])!=null?c:d.enabled;return Td(h)&&(d.enabled=h),d}),n.filter(l=>l.enabled!==!1).map(l=>zt($e({},l),{plugins:e(l.plugins||[])}))};t.pluginList=e(t.pluginList),t.plugins=Object.fromEntries(t.pluginList.map(r=>[r.key,r]))},Lze=t=>"slate-".concat(t);function Uze(t,e){let r=e;const n=t.plugins[e.key];return n||(r.node||(r=Ar(r)),r.__resolved?r:DZ(t,r))}function $ze(t,e){var r,n;const s=t.getPlugin(e);return(n=(r=s.node.type)!=null?r:s.key)!=null?n:""}var jze=(t,e={})=>{var r=e,{id:n,autoSelect:s,maxLength:o,plugins:a=[],rootPlugin:l,selection:c,shouldNormalizeEditor:d,value:h}=r,g=Ro(r,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]),m,y;const b=t;b.id=n!=null?n:b.id,b.key=(m=b.key)!=null?m:Math.random(),b.isFallback=!1,b.getApi=()=>b.api,b.getTransforms=()=>b.transforms,b.getPlugin=p=>Uze(b,p),b.getType=p=>$ze(b,p),b.getInjectProps=p=>{var v,_;return(_=(v=b.getPlugin(p).inject)==null?void 0:v.nodeProps)!=null?_:{}},b.getOptionsStore=p=>b.getPlugin(p).optionsStore,b.getOptions=p=>b.getOptionsStore(p)?b.getOptionsStore(p).get.state():b.getPlugin(p).options,b.getOption=(p,v,..._)=>{const w=b.getOptionsStore(p);if(!w)return b.getPlugin(p).options[v];const x=w.get[v];if(x)return x(..._);b.api.debug.error("editor.getOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},b.setOption=(p,v,_)=>{const w=b.getOptionsStore(p);if(!w)return;const x=w.set[v];x?x(_):b.api.debug.error("editor.setOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},b.setOptions=(p,v)=>{const _=b.getOptionsStore(p);_&&(typeof v=="object"?_.set.mergeState(v):typeof v=="function"&&_.set.state(v))};const u=vze({maxLength:o,plugins:a});let f=Ar(zt($e({key:"root",priority:1e4},g),{plugins:[...u,...a]}));if(l&&(f=l(f)),Oze(b,[f]),typeof h=="string"?b.children=b.api.html.deserialize({element:h}):h&&(b.children=h),((y=b.children)==null?void 0:y.length)===0&&(b.children=b.api.create.value()),c)b.selection=c;else if(s){const v=(s==="start"?"start":"end")==="start"?dX(b,[]):zI(b,[]);jI(b,v)}return h&&Tze(b),d&&pPe(b,{force:!0}),b},zze=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function iE(t,e){const r=$e({},t);return zze.forEach(s=>{const o=r[s];r[s]=(...a)=>{const l=o(...a);return iE(l)}}),r.withComponent=s=>r.extend({node:{component:s},render:{node:s}}),e?r.extend(e):r}var PZ=(t={})=>{const e=Ar(t);return iE(e)};function Gze(t={}){return PZ(t)}function mp(t,e){return zt($e({},Pn(t,e)),{useOption:(r,...n)=>t.useOption(e,r,...n)})}var RZ=t=>Ro(t,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),Vze=Gze({key:"plateApi",dependencies:["debug"]}).extendEditorApi(({editor:t})=>({redecorate:()=>{t.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})),Hze=iE(bZ,{handlers:{onKeyDown:({editor:t,event:e})=>{e.persist(),t.currentKeyboardEvent=e}}}),IB=bq("event-editor")({blur:null,focus:null,last:null}),jC=IB.set,Wze=IB.get;IB.use;var Kze="focus-editor-event",Yze="blur-editor-event",Xze=PZ({key:"eventEditor",handlers:{onBlur:({editor:t})=>{Wze.focus()===t.id&&jC.focus(null),jC.blur(t.id),document.dispatchEvent(new CustomEvent(Yze,{detail:{id:t.id}}))},onFocus:({editor:t})=>{jC.focus(t.id),document.dispatchEvent(new CustomEvent(Kze,{detail:{id:t.id}}))}}}),qze=iE(Oy,({editor:t,type:e})=>({shortcuts:{toggleParagraph:{keys:[[J0.Mod,J0.Alt,"0"],[J0.Mod,J0.Shift,"0"]],preventDefault:!0,handler:()=>{t.tf.toggle.block({type:e})}}}})),Zze=({editor:t})=>hje(t),Qze=Ar({key:"dom",extendEditor:Zze}).extendEditorTransforms(({editor:t})=>{const{reset:e}=t.tf;return{reset:()=>{const r=mje(t);e(),r&&vje(t,{edge:"start"})}}}),Jze=()=>[Hze,Qze,Xze,Vze,qze],e7e=(t,e={})=>{var r=e,{plugins:n=[]}=r,s=Ro(r,["plugins"]);const o=jze(t,zt($e({},s),{plugins:[...Jze(),...n]}));return o.useOptions=(a,l,c)=>{const d=o.getOptionsStore(a);return d||o.api.debug.error("editor.useOptions: ".concat(a.key," plugin is missing"),"PLUGIN_MISSING"),d.useStore(l,c)},o.useOption=(a,l,...c)=>{const d=o.getOptionsStore(a);d||o.api.debug.error("editor.useOption: ".concat(a.key," plugin is missing"),"PLUGIN_MISSING");const h=d==null?void 0:d.use[l];if(h)return h(...c);o.api.debug.error("editor.useOption: ".concat(l," option is not defined in plugin ").concat(a.key),"OPTION_UNDEFINED")},o},OZ=(t={})=>{var e=t,{editor:r=aPe()}=e,n=Ro(e,["editor"]);return e7e(r,n)},t7e=(t={})=>{const e=OZ(t);return e.isFallback=!0,e.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},e},n4=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],IZ=({attributes:t,editor:e,plugin:r,props:n})=>{var s,o;let a={};r.node.props&&(a=(s=typeof r.node.props=="function"?r.node.props(n):r.node.props)!=null?s:{}),!a.nodeProps&&t&&(a.nodeProps=Zje(t,(o=r.node.dangerouslyAllowAttributes)!=null?o:[])),n=$e($e({},n),a),n.nodeProps&&Object.keys(n.nodeProps).forEach(c=>{var d,h;((d=n.nodeProps)==null?void 0:d[c])===void 0&&((h=n.nodeProps)==null||delete h[c])});const{className:l}=n;return $e(zt($e({},n),{className:bm(Lze(r.node.type),l)}),mp(e,r))},i4=t=>(e,r,{composing:n}={})=>!(!mr(t)(r)||!!n!==gje(e));zt($e({},F5e),{isTab:i4("tab"),isUntab:i4("untab")});var r7e=(t,e)=>{const r=t.pluginList.filter(n=>n.decorate);if(!(r.length===0&&!e))return n=>{let s=[];const o=a=>{a!=null&&a.length&&(s=[...s,...a])};return r.forEach(a=>{o(a.decorate(zt($e({},mp(t,a)),{entry:n})))}),e&&o(e({editor:t,entry:n})),s}},n7e=t=>{let e=!1;return zt($e({},t),{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>e,isTrusted:t.isTrusted,nativeEvent:t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>t.preventDefault(),stopPropagation:()=>{e=!0,t.stopPropagation()},target:t.target,timeStamp:t.timeStamp,type:t.type})},i7e=(t,e)=>{if(!e)return!1;const r=e(t);return r!=null?r:t.isPropagationStopped()},s7e=(t,{editableProps:e,handlerKey:r})=>{const n=e==null?void 0:e[r],s=t.pluginList.filter(o=>{var a;return(a=o.handlers)==null?void 0:a[r]});if(!(s.length===0&&!n))return o=>{const l=o instanceof Event?n7e(o):o;return s.some(d=>{const h=d.handlers[r],g=h(zt($e({},mp(t,d)),{event:l}));return g!=null?g:!1})?!0:i7e(l,n)}},o7e=(t,e)=>t.pluginList.some(r=>{const n=r.handlers.onChange;if(!n)return!1;const s=n(zt($e({},mp(t,r)),{value:e}));return s!=null?s:!1}),a7e="element",l7e={element:null},{ElementProvider:u7e,useElementStore:c7e}=MI(l7e,{name:"element"}),d7e=(t,e)=>function(n){const{key:s,render:{node:o}}=e,{children:a,element:l}=n;if(l.type===e.node.type){const c=o!=null?o:bB,d=t.pluginList.flatMap(y=>{var b,u;return(u=(b=y.render)==null?void 0:b.aboveNodes)!=null?u:[]}),h=t.pluginList.flatMap(y=>{var b,u;return(u=(b=y.render)==null?void 0:b.belowNodes)!=null?u:[]});n=IZ({attributes:l.attributes,editor:t,plugin:e,props:n});let g=a;h.forEach(y=>{const b=y(zt($e({},n),{key:s}));b&&(g=b(zt($e({},n),{children:g})))});let m=Z.createElement(c,$e({},n),g);return d.forEach(y=>{const b=y(zt($e({},n),{key:s}));b&&(m=b(zt($e({},n),{children:m})))}),Z.createElement(u7e,{element:l,scope:s},m)}},f7e=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isElement&&r.push(d7e(t,n))}),function(s){const o=TZ(t,s);let a;return r.some(l=>(a=l(o),!!a)),a||(e?e(o):Z.createElement(bB,$e({},o)))}},h7e=(t,e)=>function(n){var s;const{render:{node:o}}=e,{children:a,leaf:l}=n;if(l[(s=e.node.type)!=null?s:e.key]){const c=o!=null?o:gZ,d=IZ({attributes:l.attributes,editor:t,plugin:e,props:n});return Z.createElement(c,$e({},d),a)}return a},p7e=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isLeaf&&n.key&&r.push(h7e(t,n))}),function(s){const o=TZ(t,s);return r.forEach(a=>{const l=a(o);l!==void 0&&(o.children=l)}),e?e(o):Z.createElement(gZ,$e({},o))}},ha=(t,e={})=>{var r;return(r=mu(t,$e({debugHookName:"useEditorRef"},e)).editor())!=null?r:t7e()};function rYe(t,e){const r=ha(e);return mp(r,t)}var nYe=(t=a7e)=>{const e=ha(),r=c7e(t).get.element();return r||(e.api.debug.warn("useElement(".concat(t,") hook must be used inside the node component's context"),"USE_ELEMENT_CONTEXT"),{})};function g7e({id:t,editableRef:e}){const r=ha(t);return Z.createElement(Z.Fragment,null,Object.entries(r.shortcuts).map(([n,s])=>!s||!Td(s.keys)||!s.handler?null:Z.createElement(m7e,{id:t,key:n,editableRef:e,hotkeyConfig:s})))}function m7e({id:t,editableRef:e,hotkeyConfig:r}){const n=ha(t),s=r,{keys:o,handler:a}=s,l=Ro(s,["keys","handler"]),c=nAe(o,(d,h)=>{a({editor:n,event:d,eventDetails:h})},$e({enableOnContentEditable:!0},l),[]);return E.useEffect(()=>{e.current&&c(e.current)},[c,e]),null}var v7e=({id:t})=>{const e=ha(t),r=D5e(t),n=Ry(t),s=Object.fromEntries(x5e.map(a=>[a,n.set[a]()])),o=Z.useMemo(()=>s,[]);return Z.useEffect(()=>{e.api.redecorate=r,e.setPlateState=(a,l)=>{var c;const d=o;(c=d[a])==null||c.call(d,l)}},[e,r,o]),null};function y7e({id:t,plugin:e}){var r;const n=ha(t);return(r=e.useHooks)==null||r.call(e,mp(n,e)),null}function _7e({id:t}){const e=mu(t).editor(),r=vZ(t).isMounted();return Z.useEffect(()=>(r(!0),()=>{r(!1)}),[r]),Z.createElement(Z.Fragment,null,e.pluginList.map(n=>Z.createElement(y7e,{id:t,key:n.key,plugin:n})))}var b7e=Z.memo(({id:t})=>{const e=qq(),r=zP("versionEditor",t);Z.useEffect(()=>{r()});const n=zP("versionSelection",t),s=Z.useRef(e.selection),o=w7e(s.current,e.selection);return Z.useEffect(()=>{o||n(),s.current=e.selection},[e.selection,o,n]),null}),w7e=(t,e)=>!t&&!e?!0:!t||!e?!1:ce.equals(t,e);function x7e({children:t,decorate:e,editor:r,primary:n,readOnly:s,renderElement:o,renderLeaf:a,onChange:l,onSelectionChange:c,onValueChange:d}){return Z.createElement(T5e,{readOnly:s,onChange:l,onSelectionChange:c,onValueChange:d,decorate:e,editor:r,primary:n,renderElement:o,renderLeaf:a,scope:r.id},t)}function iYe(t){return t.editor?Z.createElement(x7e,$e({key:t.editor.key},t)):null}var E7e=(t={})=>{const{id:e}=t,r=ha(e),n=mu(e),s=n.versionDecorate(),o=n.readOnly(),a=n.decorate(),l=n.renderLeaf(),c=n.renderElement(),d=Z.useMemo(()=>r7e(r,a!=null?a:t==null?void 0:t.decorate),[t==null?void 0:t.decorate,r,a]),h=Z.useMemo(()=>{if(!(!s||!d))return b=>d(b)},[d,s]),g=Z.useMemo(()=>f7e(r,c!=null?c:t==null?void 0:t.renderElement),[t==null?void 0:t.renderElement,r,c]),m=Z.useMemo(()=>p7e(r,l!=null?l:t==null?void 0:t.renderLeaf),[t==null?void 0:t.renderLeaf,r,l]),y=X$(()=>{const b={decorate:h,renderElement:g,renderLeaf:m};return Td(o)&&(b.readOnly=o),n4.forEach(u=>{const f=s7e(r,{editableProps:t,handlerKey:u});f&&(b[u]=f)}),b},[h,t,g,m,o]);return X$(()=>$e($e({},U6e(t,[...n4,"renderElement","renderLeaf","decorate"])),y),[t,y])},S7e=({id:t})=>{const e=ha(t),r=mu(t).onChange(),n=mu(t).onValueChange(),s=mu(t).onSelectionChange(),o=Z.useCallback(c=>{o7e(e,c)||r==null||r({editor:e,value:c})},[e,r]),a=Z.useMemo(()=>c=>{n==null||n({editor:e,value:c})},[e,n]),l=Z.useMemo(()=>c=>{s==null||s({editor:e,selection:c})},[e,s]);return Z.useMemo(()=>({key:e.key,editor:e,initialValue:e.children,value:e.children,onChange:o,onSelectionChange:l,onValueChange:a}),[e,o,l,a])},C7e=({id:t})=>{const e=P5e(),r=t!=null?t:e,n=Z.useMemo(()=>y5e(i1.atom.editorStores,h=>h.prop(r)),[r]),s=$C().atom(n,{warnIfNoStore:!1}),o=Ry(r).store(),a=mu(r).primary(),l=$C().primaryEditorIds({warnIfNoStore:!1}),c=aje(),d=$C().activeId({warnIfNoStore:!1});return Z.useEffect(()=>(s(o!=null?o:null),()=>{s(null),d(h=>h===r?null:h)}),[o,s,d,r]),Z.useEffect(()=>{if(a)return l(h=>[...h,r]),()=>{l(h=>h.filter(g=>g!==r))}},[r,a,l]),Z.useEffect(()=>{r&&c&&d(r)},[r,c,d]),null};function A7e({id:t,children:e}){var r;const n=S7e({id:t}),s=ha(t);let o=Z.createElement(dje,$e({},n),e);return(r=s.pluginList)==null||r.forEach(a=>{const{render:{aboveSlate:l}}=a;l&&(o=Z.createElement(l,null,o))}),o}var T7e=Z.forwardRef((t,e)=>{var r=t,{renderEditable:n}=r,s=Ro(r,["renderEditable"]);const{id:o}=s,a=ha(o);if(!a)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const l=E7e(s),c=E.useRef(null),d=wB(e,c),h=Z.createElement(rje,$e({ref:d},l));let g=null,m=null;a.pluginList.forEach(b=>{const{render:{afterEditable:u,beforeEditable:f}}=b;u&&(g=Z.createElement(Z.Fragment,null,g,Z.createElement(u,$e({},l)))),f&&(m=Z.createElement(Z.Fragment,null,m,Z.createElement(f,$e({},l))))});let y=Z.createElement(Z.Fragment,null,m,n?n(h):h,Z.createElement(v7e,{id:o}),Z.createElement(g7e,{id:o,editableRef:c}),Z.createElement(b7e,{id:o}),Z.createElement(_7e,{id:o}),Z.createElement(C7e,{id:o}),g);return a.pluginList.forEach(b=>{const{render:{aboveEditable:u}}=b;u&&(y=Z.createElement(u,null,y))}),Z.createElement(A7e,{id:o},y)});T7e.displayName="PlateContent";function sYe(t={},e=[]){return Z.useMemo(()=>t.enabled===!1?null:OZ(t),[t.id,t.enabled,...e])}var D7e=Object.defineProperty,P7e=Object.defineProperties,R7e=Object.getOwnPropertyDescriptors,dw=Object.getOwnPropertySymbols,BZ=Object.prototype.hasOwnProperty,FZ=Object.prototype.propertyIsEnumerable,s4=(t,e,r)=>e in t?D7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ls=(t,e)=>{for(var r in e||(e={}))BZ.call(e,r)&&s4(t,r,e[r]);if(dw)for(var r of dw(e))FZ.call(e,r)&&s4(t,r,e[r]);return t},Fh=(t,e)=>P7e(t,R7e(e)),MZ=(t,e)=>{var r={};for(var n in t)BZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&dw)for(var n of dw(t))e.indexOf(n)<0&&FZ.call(t,n)&&(r[n]=t[n]);return r},O7e=t=>{const e=RZ(t),{attributes:r,element:n,elementToAttributes:s,nodeProps:o}=e,a=MZ(e,["attributes","element","elementToAttributes","nodeProps"]);return{props:Fh(Ls(Ls(Ls(Ls({},r),a),o),s==null?void 0:s(n)),{className:bm(t.className,o==null?void 0:o.className)}),ref:wB(t.ref,r.ref)}},I7e=Z.forwardRef((t,e)=>{const{props:r,ref:n}=O7e(Fh(Ls({},t),{ref:e}));return Z.createElement(n6e,Fh(Ls({},r),{ref:n}))});I7e.displayName="PlateElement";var B7e=t=>{const e=RZ(t),{attributes:r,leaf:n,leafToAttributes:s,nodeProps:o,text:a}=e,l=MZ(e,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:Fh(Ls(Ls(Ls(Ls({},r),l),o),s==null?void 0:s(n)),{className:bm(t.className,o==null?void 0:o.className)}),ref:wB(t.ref,r.ref)}},F7e=Z.forwardRef((t,e)=>{const{props:r,ref:n}=B7e(Fh(Ls({},t),{ref:e}));return Z.createElement(i6e,Fh(Ls({},r),{ref:n}))});F7e.displayName="PlateLeaf";var oYe=t=>{if(!t)return{props:{}};const{preventDefaultOnEnterKeydown:e}=t,r=n=>{(n.key==="Enter"||n.keyCode===13)&&n.preventDefault()};return{props:{onKeyDownCapture:e?n=>r(n):void 0}}},M7e=iB,o4=us;function kZ(t,e,r,n,s,o){return o4(t)&&o4(e)&&(o.set(e,t),M7e(t,e,void 0,kZ,o),o.delete(e)),t}var k7e=kZ,N7e=MX,L7e=LX,U7e=k7e,$7e=$X;L7e(function(t){return t.push(void 0,U7e),N7e($7e,void 0,t)});var j7e=Object.defineProperty,z7e=Object.defineProperties,G7e=Object.getOwnPropertyDescriptors,fw=Object.getOwnPropertySymbols,NZ=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,a4=(t,e,r)=>e in t?j7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jt=(t,e)=>{for(var r in e||(e={}))NZ.call(e,r)&&a4(t,r,e[r]);if(fw)for(var r of fw(e))LZ.call(e,r)&&a4(t,r,e[r]);return t},di=(t,e)=>z7e(t,G7e(e)),UZ=(t,e)=>{var r={};for(var n in t)NZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&fw)for(var n of fw(t))e.indexOf(n)<0&&LZ.call(t,n)&&(r[n]=t[n]);return r};function zC(t,...e){return jX({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return jt(jt({},r),n)})}function Qd(t){return typeof t=="function"}function Jr(t={}){var e;let r,n;Qd(t)?(r={key:""},n=a=>t(a)):r=t;const s=(e=r.key)!=null?e:"",o=zC({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=a=>{const l=jt({},o);return l.__configuration=c=>Qd(a)?a(c):a,Jr(l)},o.configurePlugin=(a,l)=>{const c=jt({},o),d=g=>{let m=!1;const y=g.map(b=>{if(b.key===a.key)return m=!0,Jr(di(jt({},b),{__configuration:u=>Qd(l)?l(u):l}));if(b.plugins&&b.plugins.length>0){const u=d(b.plugins);if(u.found)return m=!0,di(jt({},b),{plugins:u.plugins})}return b});return{found:m,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,Jr(c)},o.extendEditorApi=a=>{const l=jt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1}],Jr(l)},o.extendOptions=a=>{const l=jt({},o);return l.__optionExtensions=[...l.__optionExtensions,a],Jr(l)},o.extendApi=a=>{const l=jt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0}],Jr(l)},o.extendEditorTransforms=a=>{const l=jt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1,isTransform:!0}],Jr(l)},o.extendTransforms=a=>{const l=jt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0,isTransform:!0}],Jr(l)},o.extend=a=>{let l=jt({},o);return Qd(a)?l.__extensions=[...l.__extensions,a]:l=zC(l,a),Jr(l)},o.clone=()=>zC(o),o.extendPlugin=(a,l)=>{const c=jt({},o),d=g=>{let m=!1;const y=g.map(b=>{if(b.key===a.key)return m=!0,Jr(di(jt({},b),{__extensions:[...b.__extensions,u=>Qd(l)?l(u):l]}));if(b.plugins&&b.plugins.length>0){const u=d(b.plugins);if(u.found)return m=!0,di(jt({},b),{plugins:u.plugins})}return b});return{found:m,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,h.found||c.plugins.push(Jr({key:a.key,__extensions:[g=>Qd(l)?l(g):l]})),Jr(c)},o}function Iy(t={}){return Jr(t)}var $Z=({apply:t,node:e,path:r=[],query:n,source:s})=>{Ty([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),pX(e)&&e.children.forEach((a,l)=>{$Z({apply:t,node:a,path:r.concat([l]),query:n,source:s})})},jZ=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},V7e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},H7e={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},W7e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Sr=t=>{const e=V7e[t],r=H7e[t],n=W7e[t],s=e&&Zf(e),o=r&&Zf(r),a=n&&Zf(n);return l=>!!(s!=null&&s(l)||Yb&&(o!=null&&o(l))||!Yb&&(a!=null&&a(l)))};Sr("bold"),Sr("compose"),Sr("deleteBackward"),Sr("deleteForward"),Sr("deleteLineBackward"),Sr("deleteLineForward"),Sr("deleteWordBackward"),Sr("deleteWordForward"),Sr("extendBackward"),Sr("extendForward"),Sr("extendLineBackward"),Sr("extendLineForward"),Sr("italic"),Sr("moveBackward"),Sr("moveForward"),Sr("moveLineBackward"),Sr("moveLineForward"),Sr("moveWordBackward"),Sr("moveWordForward"),Sr("redo"),Sr("insertSoftBreak"),Sr("splitBlock"),Sr("transposeCharacter"),Sr("undo");var K7e=t=>{$Z(di(jt({},t),{apply:ro}))};function vu(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}Jr({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}});Jr({key:"dom"});var Y7e=({editor:t})=>oX(t);Jr({key:"history",extendEditor:Y7e});var X7e=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],a=[];return t.pluginList.forEach(l=>{l.node.isInline&&o.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&a.push(l.node.type)}),t.isInline=l=>o.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>a.includes(l.type)?!0:n(l),t};Jr({key:"inlineVoid",extendEditor:X7e});var q7e=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const a=jZ(t,s),{deserialize:l,format:c,mimeTypes:d}=o;if(!c)return!1;const h=Array.isArray(c)?c:[c],g=d||h.map(m=>m.includes("/")?m:"text/".concat(m));for(const m of g){let y=r.getData(m);if(!y||!DGe(t,a,{data:y,dataTransfer:r}))continue;y=RGe(t,a,{data:y,dataTransfer:r});let b=l==null?void 0:l(di(jt({},vu(t,s)),{data:y,dataTransfer:r}));if(b!=null&&b.length&&(b=OGe(t,a,{data:y,dataTransfer:r,fragment:b}),b.length!==0))return PGe(t,a,{data:y,dataTransfer:r,fragment:b}),!0}return!1})||e(r)},t};Jr({key:"parser",extendEditor:q7e});var Z7e=class extends Error{constructor(t,e="DEFAULT"){super("[".concat(e,"] ").concat(t)),this.type=e,this.name="PlateError"}};Iy({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,a)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new Z7e(s,o);(c=(l=d.logger)[n])==null||c.call(l,s,o,a)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}});var Q7e=(t,e)=>{qx(t,jt({at:[],nodes:t.api.create.value()},e))},J7e=t=>{Q7e(t),t.history.undos=[],t.history.redos=[],t.operations=[]},eGe=(t,e,r)=>{var n;const{defaultType:s=t.getType(sE),type:o}=e,a=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!a)return;const l=mX(t,di(jt({},r),{match:{type:o}}));l&&o===s||t.setNodes({type:l?s:o},{at:a})},sE=Jr({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),tGe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{sq(t)&&oq(t)};return t.deleteBackward=a=>{r(a),o()},t.deleteForward=a=>{n(a),o()},t.deleteFragment=a=>{s(a),o()},t.apply=a=>{if(a.type==="set_selection"){const{properties:l}=a;t.prevSelection=l,e(a),t.currentKeyboardEvent=null;return}e(a)},t};Iy({key:"slateNext",extendEditor:tGe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>jt({children:[{text:""}],type:t.getType(sE)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{J7e(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),qx(t,{at:[],nodes:r})},toggle:{block:Rh(eGe,t),mark:Rh(aq,t)}}));var oE=t=>t.nodeType===Node.ELEMENT_NODE,zZ=t=>t.nodeType===Node.TEXT_NODE,rGe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),BB=t=>{if(!oE(t))return!1;const e=t,r=rGe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?BB(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},l4=t=>oE(t)?!BB(t):!1,nGe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),iGe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&l4(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||l4(e))return!0;if((e.textContent||"").length>0)return!1}},sGe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},u4=t=>{t.inlineFormattingContext=null},oGe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&sGe(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),a=(()=>s==="normal"?"collapse":iGe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=nGe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:a,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},aGe=(t,e)=>{if(oE(t)){VZ(t,e);return}if(zZ(t)){oGe(t,e);return}GZ(t,e)},GZ=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)aGe(n,e)},lGe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},VZ=(t,e)=>{const r=BB(t),n=e.whiteSpaceRule,s=lGe(t);s&&(e.whiteSpaceRule=s),r||u4(e),GZ(t,e),r||u4(e),e.whiteSpaceRule=n},uGe=t=>{const e=t.cloneNode(!0);return VZ(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},FB=(t,e)=>Array.from(e.childNodes).flatMap(WZ(t)),cGe=(t,e)=>{if(e.nodeName==="BODY")return pp("fragment",{},FB(t,e))},dGe=t=>{if(t.nodeName==="BR")return"\n"},HZ=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:a,isLeaf:l,type:c},parsers:d}=e,h=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!h)return;const{attributeNames:g,isElement:m,isLeaf:y,query:b,rules:u}=h;let{parse:f}=h;const p=m||a,v=y||l;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:A,validNodeName:D="*",validStyle:C})=>{var T;if(D){const R=gu(D);if(R.length>0&&!R.includes(n.nodeName)&&D!=="*")return!1}if(A&&!n.classList.contains(A))return!1;if(C)for(const[R,P]of Object.entries(C)){if(!gu(P).includes(n.style[R])&&P!=="*"||P==="*"&&!n.style[R])return;const I=(T=e.inject.nodeProps)==null?void 0:T.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,P]of Object.entries(S)){const O=gu(P),I=n.getAttribute(R);if(!Td(I)||!O.includes(I))return!1}return!0})||b&&!b(di(jt({},vu(t,e)),{element:n})))return;if(!f)if(p)f=()=>({type:c});else if(v)f=()=>({[c]:!0});else return;let _=(o=f(di(jt({},vu(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(_).length===0)return;if(jZ(t,e).forEach(x=>{var S,A,D,C;const T=(C=(D=(A=(S=x.parsers)==null?void 0:S.html)==null?void 0:A.deserializer)==null?void 0:D.parse)==null?void 0:C.call(D,di(jt({},vu(t,e)),{element:n,node:_}));T&&(_=jt(jt({},_),T))}),g){const x={},S=n.getAttributeNames();for(const A of S)g.includes(A)&&(x[A]=n.getAttribute(A));Object.keys(x).length>0&&(_.attributes=x)}return di(jt({},h),{node:_})},fGe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=HZ(t,n,{element:e}),!!r)),r},hGe=(t,e)=>{var r;const n=fGe(t,e);if(n){const{node:s,withoutChildren:o}=n;let a=(r=s.children)!=null?r:FB(t,e);return(a.length===0||o)&&(a=[{text:""}]),pp("element",s,a)}},pGe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=HZ(t,n,{deserializeLeaf:!0,element:e});s&&(r=jt(jt({},r),s.node))}),r},gGe=(t,e)=>{const r=pGe(t,e);return FB(t,e).reduce((n,s)=>{if(!s)return n;if(vl(s))Object.keys(r).length>0&&K7e({node:s,query:{filter:([o])=>ku(o)},source:r}),n.push(s);else{const o=jt({},r);ku(s)&&s.text&&Object.keys(o).forEach(a=>{o[a]&&s[a]&&(o[a]=s[a])}),n.push(pp("text",o,s))}return n},[])},mGe=t=>{if(zZ(t))return t.textContent||""},WZ=t=>e=>{const r=mGe(e);if(r)return r;if(!oE(e))return null;const n=dGe(e);if(n)return n;const s=cGe(t,e);if(s)return s;const o=hGe(t,e);return o||gGe(t,e)},vGe=(t,e)=>WZ(t)(e),yGe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},_Ge=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=yGe(r)),e&&(r=uGe(r));const n=vGe(t,r);return TGe(t,{descendants:n})},bGe=t=>new DOMParser().parseFromString(t,"text/html");Jr({key:"html"}).extendApi(({editor:t})=>({deserialize:Rh(_Ge,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=bGe(e);return t.html.deserialize({element:r.body})},format:"text/html"}});var wGe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{qu(t,()=>{r(n);const s=e();if(s.maxLength){const o=fX(t,[]).length;if(o>s.maxLength){const a=o-s.maxLength;t.delete({distance:a,reverse:!0,unit:"character"})}}})},t};Iy({key:"length",extendEditor:wGe});var xGe=t=>e=>ku(e)||vl(e)&&t.isInline(e),EGe=t=>()=>({children:[],type:t}),SGe=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),CGe=(t,e,r)=>{const n=SGe(t,e),{fragment:s}=t.reduce((o,a)=>{if(n&&e(a)){let l=o.precedingBlock;l||(l=r(),o.precedingBlock=l,o.fragment.push(l)),l.children.push(a)}else o.fragment.push(a),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},AGe=t=>t.length===0?[{text:""}]:t,KZ=(t,e,r)=>(t=AGe(t),t=CGe(t,e,r),t=t.map(n=>vl(n)?di(jt({},n),{children:KZ(n.children,e,r)}):n),t),TGe=(t,{descendants:e})=>{const r=xGe(t),n=t.getType(sE),s=EGe(n);return KZ(e,r,s)},DGe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const a=(o=s.parser)==null?void 0:o.query;return!a||a(di(jt({},vu(t,s)),{data:r,dataTransfer:n}))}),PGe=(t,e,r)=>{var n=r,{fragment:s}=n,o=UZ(n,["fragment"]);qu(t,()=>{e.some(a=>{var l,c;return((c=(l=a.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,jt(di(jt({},vu(t,a)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},RGe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const a=(o=s.parser)==null?void 0:o.transformData;a&&(r=a(di(jt({},vu(t,s)),{data:r,dataTransfer:n})))}),r),OGe=(t,e,r)=>{var n=r,{fragment:s}=n,o=UZ(n,["fragment"]);return e.forEach(a=>{var l;const c=(l=a.parser)==null?void 0:l.transformFragment;c&&(s=c(jt(jt({fragment:s},o),vu(t,a))))}),s},IGe=({editor:t,getOptions:e})=>{const{deleteForward:r}=t;return t.deleteForward=n=>{if(!t.selection)return;const{query:s}=e(),o=!s||Ty(tw(t),s);!o3e(t)&&i3e(t)&&o?$I(t):r(n)},t},aYe=Iy({key:"delete",extendEditor:IGe,options:{query:{allow:[sE.key]}}}),BGe=({editor:t,getOptions:e})=>{const{deleteBackward:r}=t;return t.deleteBackward=n=>{const{selection:s}=t,{query:o,removeNodeIfEmpty:a}=e();if(n==="character"&&yPe(s)){const l=fPe(t,s,{unit:n});if(l){const[c]=cX(t,{at:l,match:d=>Ty([d,l.path],o)});if(c&&l){const d=hPe(t,s),h=mPe(t,d.path);a&&h&&!VI(h)&&$I(t),jI(t,l)}else r(n)}else r(n)}else r(n)},t};Iy({key:"selectOnBackspace",extendEditor:BGe,options:{removeNodeIfEmpty:!1}});var FGe=Object.defineProperty,MGe=Object.defineProperties,kGe=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,YZ=Object.prototype.hasOwnProperty,XZ=Object.prototype.propertyIsEnumerable,c4=(t,e,r)=>e in t?FGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pw=(t,e)=>{for(var r in e||(e={}))YZ.call(e,r)&&c4(t,r,e[r]);if(hw)for(var r of hw(e))XZ.call(e,r)&&c4(t,r,e[r]);return t},NGe=(t,e)=>MGe(t,kGe(e)),LGe=(t,e)=>{var r={};for(var n in t)YZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&hw)for(var n of hw(t))e.indexOf(n)<0&&XZ.call(t,n)&&(r[n]=t[n]);return r};function MB(...t){return Nne(hD(t))}function UGe(t,e){const r=t;return Z.forwardRef(function(s,o){return Z.createElement(r,NGe(pw(pw({ref:o},e),s),{className:MB(e.className,s.className)}))})}function lYe(t,...e){return UGe(t,{className:MB(e)})}function uYe(t,e,r){const n=t;return Z.forwardRef(function(o,a){const l=o,{className:c}=l,d=LGe(l,["className"]),h=pw({},d);return r&&r.forEach(g=>{d[g]!==void 0&&delete h[g]}),Z.createElement(n,pw({ref:a,className:MB(e(d),c)},h))})}var $Ge="Separator",d4="horizontal",jGe=["horizontal","vertical"],qZ=E.forwardRef((t,e)=>{const{decorative:r,orientation:n=d4,...s}=t,o=zGe(n)?n:d4,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return F.jsx(Ye.div,{"data-orientation":o,...l,...s,ref:e})});qZ.displayName=$Ge;function zGe(t){return jGe.includes(t)}var GGe=qZ,kB="Toolbar",[VGe,cYe]=Li(kB,[Xs,vY]),NB=Xs(),ZZ=vY(),[HGe,QZ]=VGe(kB),JZ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:s,loop:o=!0,...a}=t,l=NB(r),c=ua(s);return F.jsx(HGe,{scope:r,orientation:n,dir:c,children:F.jsx(Zh,{asChild:!0,...l,orientation:n,dir:c,loop:o,children:F.jsx(Ye.div,{role:"toolbar","aria-orientation":n,dir:c,...a,ref:e})})})});JZ.displayName=kB;var eQ="ToolbarSeparator",tQ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=QZ(eQ,r);return F.jsx(GGe,{orientation:s.orientation==="horizontal"?"vertical":"horizontal",...n,ref:e})});tQ.displayName=eQ;var WGe="ToolbarButton",LB=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=NB(r);return F.jsx(wd,{asChild:!0,...s,focusable:!t.disabled,children:F.jsx(Ye.button,{type:"button",...n,ref:e})})});LB.displayName=WGe;var KGe="ToolbarLink",rQ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=NB(r);return F.jsx(wd,{asChild:!0,...s,focusable:!0,children:F.jsx(Ye.a,{...n,ref:e,onKeyDown:fe(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});rQ.displayName=KGe;var nQ="ToolbarToggleGroup",YGe=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=QZ(nQ,r),o=ZZ(r);return F.jsx(vCe,{"data-orientation":s.orientation,dir:s.dir,...o,...n,ref:e,rovingFocus:!1})});YGe.displayName=nQ;var XGe="ToolbarToggleItem",iQ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=ZZ(r),o={__scopeToolbar:t.__scopeToolbar};return F.jsx(LB,{asChild:!0,...o,children:F.jsx(yCe,{...s,...n,ref:e})})});iQ.displayName=XGe;var dYe=JZ,fYe=tQ,hYe=LB,pYe=rQ,gYe=iQ;function qGe(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function ZGe(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&vD(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function QGe(){return/apple/i.test(navigator.vendor)}function JGe(t){return(t==null?void 0:t.ownerDocument)||document}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var e9e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],GP=e9e.join(","),sQ=typeof Element>"u",kv=sQ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gw=!sQ&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},mw=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",a=o||r&&e&&t(e.parentNode);return a},t9e=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},r9e=function(e,r,n){if(mw(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(GP));return r&&kv.call(e,GP)&&s.unshift(e),s=s.filter(n),s},n9e=function t(e,r,n){for(var s=[],o=Array.from(e);o.length;){var a=o.shift();if(!mw(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),c=l.length?l:a.children,d=t(c,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:a,candidates:d})}else{var h=kv.call(a,GP);h&&n.filter(a)&&(r||!e.includes(a))&&s.push(a);var g=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),m=!mw(g,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(g&&m){var y=t(g===!0?a.children:g.children,!0,n);n.flatten?s.push.apply(s,y):s.push({scopeParent:a,candidates:y})}else o.unshift.apply(o,a.children)}}return s},oQ=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},aQ=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||t9e(e))&&!oQ(e)?0:e.tabIndex},i9e=function(e,r){var n=aQ(e);return n<0&&r&&!oQ(e)?0:n},s9e=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},lQ=function(e){return e.tagName==="INPUT"},o9e=function(e){return lQ(e)&&e.type==="hidden"},a9e=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},l9e=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},u9e=function(e){if(!e.name)return!0;var r=e.form||gw(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=l9e(s,e.form);return!o||o===e},c9e=function(e){return lQ(e)&&e.type==="radio"},d9e=function(e){return c9e(e)&&!u9e(e)},f9e=function(e){var r,n=e&&gw(e),s=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var a,l,c;for(o=!!((a=s)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(s)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!o&&s;){var d,h,g;n=gw(s),s=(d=n)===null||d===void 0?void 0:d.host,o=!!((h=s)!==null&&h!==void 0&&(g=h.ownerDocument)!==null&&g!==void 0&&g.contains(s))}}return o},f4=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},h9e=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=kv.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(kv.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var l=e;e;){var c=e.parentElement,d=gw(e);if(c&&!c.shadowRoot&&s(c)===!0)return f4(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(f9e(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return f4(e);return!1},p9e=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return kv.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},g9e=function(e,r){return!(r.disabled||mw(r)||o9e(r)||h9e(r,e)||a9e(r)||p9e(r))},h4=function(e,r){return!(d9e(r)||aQ(r)<0||!g9e(e,r))},m9e=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},v9e=function t(e){var r=[],n=[];return e.forEach(function(s,o){var a=!!s.scopeParent,l=a?s.scopeParent:s,c=i9e(l,a),d=a?t(s.candidates):l;c===0?a?r.push.apply(r,d):r.push(l):n.push({documentOrder:o,tabIndex:c,item:s,isScope:a,content:d})}),n.sort(s9e).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(r)},uQ=function(e,r){r=r||{};var n;return r.getShadowRoot?n=n9e([e],r.includeContainer,{filter:h4.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:m9e}):n=r9e(e,r.includeContainer,h4.bind(null,r)),v9e(n)};const cQ={...QP},y9e=cQ.useInsertionEffect,_9e=y9e||(t=>t());function b9e(t){const e=E.useRef(()=>{});return _9e(()=>{e.current=t}),E.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}var Wc=typeof document<"u"?E.useLayoutEffect:E.useEffect;function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VP.apply(this,arguments)}let p4=!1,w9e=0;const g4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+w9e++;function x9e(){const[t,e]=E.useState(()=>p4?g4():void 0);return Wc(()=>{t==null&&e(g4())},[]),E.useEffect(()=>{p4=!0},[]),t}const E9e=cQ.useId,dQ=E9e||x9e;function S9e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const C9e=E.createContext(null),A9e=E.createContext(null),T9e=()=>{var t;return((t=E.useContext(C9e))==null?void 0:t.id)||null},D9e=()=>E.useContext(A9e);function fQ(t){return"data-floating-ui-"+t}const hQ=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function pQ(t,e){const r=uQ(t,hQ());e==="prev"&&r.reverse();const n=r.indexOf(qGe(JGe(t)));return r.slice(n+1)[0]}function P9e(){return pQ(document.body,"next")}function R9e(){return pQ(document.body,"prev")}function GC(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!ZGe(r,n)}function O9e(t){uQ(t,hQ()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function m4(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const gQ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let I9e;function v4(t){t.key==="Tab"&&(t.target,clearTimeout(I9e))}const y4=E.forwardRef(function(e,r){const[n,s]=E.useState();Wc(()=>(QGe()&&s("button"),document.addEventListener("keydown",v4),()=>{document.removeEventListener("keydown",v4)}),[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[fQ("focus-guard")]:"",style:gQ};return E.createElement("span",VP({},e,o))}),mQ=E.createContext(null),_4=fQ("portal");function B9e(t){t===void 0&&(t={});const{id:e,root:r}=t,n=dQ(),s=F9e(),[o,a]=E.useState(null),l=E.useRef(null);return Wc(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{l.current=null})},[o]),Wc(()=>{if(!n||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=n,d.setAttribute(_4,""),c.appendChild(d),l.current=d,a(d)},[e,n]),Wc(()=>{if(!n||l.current)return;let c=r||(s==null?void 0:s.portalNode);c&&!Kn(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const h=document.createElement("div");h.id=n,h.setAttribute(_4,""),c=d||c,c.appendChild(h),l.current=h,a(h)},[e,r,n,s]),o}function mYe(t){const{children:e,id:r,root:n=null,preserveTabOrder:s=!0}=t,o=B9e({id:r,root:n}),[a,l]=E.useState(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),g=E.useRef(null),m=a==null?void 0:a.modal,y=a==null?void 0:a.open,b=!!a&&!a.modal&&a.open&&s&&!!(n||o);return E.useEffect(()=>{if(!o||!s||m)return;function u(f){o&&GC(f)&&(f.type==="focusin"?m4:O9e)(o)}return o.addEventListener("focusin",u,!0),o.addEventListener("focusout",u,!0),()=>{o.removeEventListener("focusin",u,!0),o.removeEventListener("focusout",u,!0)}},[o,s,m]),E.useEffect(()=>{o&&(y||m4(o))},[y,o]),E.createElement(mQ.Provider,{value:E.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:g,portalNode:o,setFocusManagerState:l}),[s,o])},b&&o&&E.createElement(y4,{"data-type":"outside",ref:c,onFocus:u=>{if(GC(u,o)){var f;(f=h.current)==null||f.focus()}else{const p=R9e()||(a==null?void 0:a.refs.domReference.current);p==null||p.focus()}}}),b&&o&&E.createElement("span",{"aria-owns":o.id,style:gQ}),o&&dl.createPortal(e,o),b&&o&&E.createElement(y4,{"data-type":"outside",ref:d,onFocus:u=>{if(GC(u,o)){var f;(f=g.current)==null||f.focus()}else{const p=P9e()||(a==null?void 0:a.refs.domReference.current);p==null||p.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,u.nativeEvent,"focus-out"))}}}))}const F9e=()=>E.useContext(mQ);function M9e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=dQ(),o=E.useRef({}),[a]=E.useState(()=>S9e()),l=T9e()!=null,[c,d]=E.useState(n.reference),h=b9e((y,b,u)=>{o.current.openEvent=y?b:void 0,a.emit("openchange",{open:y,event:b,reason:u,nested:l}),r==null||r(y,b,u)}),g=E.useMemo(()=>({setPositionReference:d}),[]),m=E.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return E.useMemo(()=>({dataRef:o,open:e,onOpenChange:h,elements:m,events:a,floatingId:s,refs:g}),[e,h,m,a,s,g])}function k9e(t){t===void 0&&(t={});const{nodeId:e}=t,r=M9e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[o,a]=E.useState(null),[l,c]=E.useState(null),h=(s==null?void 0:s.reference)||o,g=E.useRef(null),m=D9e();Wc(()=>{h&&(g.current=h)},[h]);const y=f9({...t,elements:{...s,...l&&{reference:l}}}),b=E.useCallback(_=>{const w=Kn(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;c(w),y.refs.setReference(w)},[y.refs]),u=E.useCallback(_=>{(Kn(_)||_===null)&&(g.current=_,a(_)),(Kn(y.refs.reference.current)||y.refs.reference.current===null||_!==null&&!Kn(_))&&y.refs.setReference(_)},[y.refs]),f=E.useMemo(()=>({...y.refs,setReference:u,setPositionReference:b,domReference:g}),[y.refs,u,b]),p=E.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),v=E.useMemo(()=>({...y,...n,refs:f,elements:p,nodeId:e}),[y,f,p,e,n]);return Wc(()=>{n.dataRef.current.floatingContext=v;const _=m==null?void 0:m.nodesRef.current.find(w=>w.id===e);_&&(_.context=v)}),E.useMemo(()=>({...y,context:v,refs:f,elements:p}),[y,f,p,v])}var N9e=Object.defineProperty,L9e=Object.defineProperties,U9e=Object.getOwnPropertyDescriptors,vw=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable,b4=(t,e,r)=>e in t?N9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w4=(t,e)=>{for(var r in e||(e={}))vQ.call(e,r)&&b4(t,r,e[r]);if(vw)for(var r of vw(e))yQ.call(e,r)&&b4(t,r,e[r]);return t},$9e=(t,e)=>L9e(t,U9e(e)),j9e=(t,e)=>{var r={};for(var n in t)vQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&vw)for(var n of vw(t))e.indexOf(n)<0&&yQ.call(t,n)&&(r[n]=t[n]);return r},_Q=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),z9e=()=>({getBoundingClientRect:_Q}),G9e=()=>{const t=window.getSelection();return!t||t.rangeCount<1?_Q():t.getRangeAt(0).getBoundingClientRect()},vYe=t=>{var e=t,{getBoundingClientRect:r=G9e}=e,n=j9e(e,["getBoundingClientRect"]);const s=Z.useRef(z9e()),[o,a]=Z.useState(!0),l=k9e(w4({whileElementsMounted:c9},n)),{middlewareData:c,refs:d,strategy:h,update:g,x:m,y}=l;return NC(()=>{s.current.getBoundingClientRect=r},[r,g]),NC(()=>{d.setReference(s.current)},[d]),NC(()=>{if(!(c!=null&&c.hide))return;const{referenceHidden:b}=c.hide;a(!b)},[c.hide]),$9e(w4({},l),{style:{display:n.open===!1?"none":void 0,left:m!=null?m:0,position:h,top:y!=null?y:0,visibility:o?void 0:"hidden"},virtualElementRef:s})},UB="Switch",[V9e,yYe]=Li(UB),[H9e,W9e]=V9e(UB),bQ=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:d,...h}=t,[g,m]=E.useState(null),y=yt(e,v=>m(v)),b=E.useRef(!1),u=g?!!g.closest("form"):!0,[f=!1,p]=Jn({prop:s,defaultProp:o,onChange:d});return F.jsxs(H9e,{scope:r,checked:f,disabled:l,children:[F.jsx(Ye.button,{type:"button",role:"switch","aria-checked":f,"aria-required":a,"data-state":EQ(f),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:fe(t.onClick,v=>{p(_=>!_),u&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),u&&F.jsx(K9e,{control:g,bubbles:!b.current,name:n,value:c,checked:f,required:a,disabled:l,style:{transform:"translateX(-100%)"}})]})});bQ.displayName=UB;var wQ="SwitchThumb",xQ=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=W9e(wQ,r);return F.jsx(Ye.span,{"data-state":EQ(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});xQ.displayName=wQ;var K9e=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,o=E.useRef(null),a=wI(r),l=TO(e);return E.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==r&&g){const m=new Event("click",{bubbles:n});g.call(c,r),c.dispatchEvent(m)}},[a,r,n]),F.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EQ(t){return t?"checked":"unchecked"}var _Ye=bQ,bYe=xQ,$B="ToastProvider",[jB,Y9e,X9e]=bd("Toast"),[SQ,wYe]=ep("Toast",[X9e]),[q9e,aE]=SQ($B),CQ=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[l,c]=E.useState(null),[d,h]=E.useState(0),g=E.useRef(!1),m=E.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat($B,"`. Expected non-empty `string`.")),F.jsx(jB.Provider,{scope:e,children:F.jsx(q9e,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:E.useCallback(()=>h(y=>y+1),[]),onToastRemove:E.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:m,children:a})})};CQ.displayName=$B;var AQ="ToastViewport",Z9e=["F8"],HP="toast.viewportPause",WP="toast.viewportResume",TQ=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Z9e,label:s="Notifications ({hotkey})",...o}=t,a=aE(AQ,r),l=Y9e(r),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),g=E.useRef(null),m=yt(e,g,a.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;E.useEffect(()=>{const f=p=>{var _;n.length!==0&&n.every(w=>p[w]||p.code===w)&&((_=g.current)==null||_.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[n]),E.useEffect(()=>{const f=c.current,p=g.current;if(b&&f&&p){const v=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(HP);p.dispatchEvent(S),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(WP);p.dispatchEvent(S),a.isClosePausedRef.current=!1}},w=S=>{!f.contains(S.relatedTarget)&&_()},x=()=>{f.contains(document.activeElement)||_()};return f.addEventListener("focusin",v),f.addEventListener("focusout",w),f.addEventListener("pointermove",v),f.addEventListener("pointerleave",x),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{f.removeEventListener("focusin",v),f.removeEventListener("focusout",w),f.removeEventListener("pointermove",v),f.removeEventListener("pointerleave",x),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[b,a.isClosePausedRef]);const u=E.useCallback(({tabbingDirection:f})=>{const v=l().map(_=>{const w=_.ref.current,x=[w,...cVe(w)];return f==="forwards"?x:x.reverse()});return(f==="forwards"?v.reverse():v).flat()},[l]);return E.useEffect(()=>{const f=g.current;if(f){const p=v=>{var x,S,A;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const D=document.activeElement,C=v.shiftKey;if(v.target===f&&C){(x=d.current)==null||x.focus();return}const P=u({tabbingDirection:C?"backwards":"forwards"}),O=P.findIndex(I=>I===D);VC(P.slice(O+1))?v.preventDefault():C?(S=d.current)==null||S.focus():(A=h.current)==null||A.focus()}};return f.addEventListener("keydown",p),()=>f.removeEventListener("keydown",p)}},[l,u]),F.jsxs(Mbe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&F.jsx(KP,{ref:d,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"forwards"});VC(f)}}),F.jsx(jB.Slot,{scope:r,children:F.jsx(Ye.ol,{tabIndex:-1,...o,ref:m})}),b&&F.jsx(KP,{ref:h,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"backwards"});VC(f)}})]})});TQ.displayName=AQ;var DQ="ToastFocusProxy",KP=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=aE(DQ,r);return F.jsx(Ey,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});KP.displayName=DQ;var lE="Toast",Q9e="toast.swipeStart",J9e="toast.swipeMove",eVe="toast.swipeCancel",tVe="toast.swipeEnd",PQ=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=t,[l=!0,c]=Jn({prop:n,defaultProp:s,onChange:o});return F.jsx(gl,{present:r||l,children:F.jsx(iVe,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:ir(t.onPause),onResume:ir(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:h,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(h,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(g,"px"))}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:h,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(h,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(g,"px")),c(!1)})})})});PQ.displayName=lE;var[rVe,nVe]=SQ(lE,{onClose(){}}),iVe=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:m,onSwipeEnd:y,...b}=t,u=aE(lE,r),[f,p]=E.useState(null),v=yt(e,I=>p(I)),_=E.useRef(null),w=E.useRef(null),x=s||u.duration,S=E.useRef(0),A=E.useRef(x),D=E.useRef(0),{onToastAdd:C,onToastRemove:T}=u,R=ir(()=>{var k;(f==null?void 0:f.contains(document.activeElement))&&((k=u.viewport)==null||k.focus()),a()}),P=E.useCallback(I=>{!I||I===1/0||(window.clearTimeout(D.current),S.current=new Date().getTime(),D.current=window.setTimeout(R,I))},[R]);E.useEffect(()=>{const I=u.viewport;if(I){const k=()=>{P(A.current),d==null||d()},W=()=>{const V=new Date().getTime()-S.current;A.current=A.current-V,window.clearTimeout(D.current),c==null||c()};return I.addEventListener(HP,W),I.addEventListener(WP,k),()=>{I.removeEventListener(HP,W),I.removeEventListener(WP,k)}}},[u.viewport,x,c,d,P]),E.useEffect(()=>{o&&!u.isClosePausedRef.current&&P(x)},[o,x,u.isClosePausedRef,P]),E.useEffect(()=>(C(),()=>T()),[C,T]);const O=E.useMemo(()=>f?kQ(f):null,[f]);return u.viewport?F.jsxs(F.Fragment,{children:[O&&F.jsx(sVe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),F.jsx(rVe,{scope:r,onClose:R,children:dl.createPortal(F.jsx(jB.ItemSlot,{scope:r,children:F.jsx(Fbe,{asChild:!0,onEscapeKeyDown:fe(l,()=>{u.isFocusedToastEscapeKeyDownRef.current||R(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:F.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":u.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:fe(t.onPointerDown,I=>{I.button===0&&(_.current={x:I.clientX,y:I.clientY})}),onPointerMove:fe(t.onPointerMove,I=>{if(!_.current)return;const k=I.clientX-_.current.x,W=I.clientY-_.current.y,V=!!w.current,j=["left","right"].includes(u.swipeDirection),$=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,K=j?$(0,k):0,J=j?0:$(0,W),ue=I.pointerType==="touch"?10:2,pe={x:K,y:J},oe={originalEvent:I,delta:pe};V?(w.current=pe,c_(J9e,g,oe,{discrete:!1})):x4(pe,u.swipeDirection,ue)?(w.current=pe,c_(Q9e,h,oe,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(k)>ue||Math.abs(W)>ue)&&(_.current=null)}),onPointerUp:fe(t.onPointerUp,I=>{const k=w.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),w.current=null,_.current=null,k){const V=I.currentTarget,j={originalEvent:I,delta:k};x4(k,u.swipeDirection,u.swipeThreshold)?c_(tVe,y,j,{discrete:!0}):c_(eVe,m,j,{discrete:!0}),V.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),sVe=t=>{const{__scopeToast:e,children:r,...n}=t,s=aE(lE,e),[o,a]=E.useState(!1),[l,c]=E.useState(!1);return lVe(()=>a(!0)),E.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:F.jsx(wx,{asChild:!0,children:F.jsx(Ey,{...n,children:o&&F.jsxs(F.Fragment,{children:[s.label," ",r]})})})},oVe="ToastTitle",RQ=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return F.jsx(Ye.div,{...n,ref:e})});RQ.displayName=oVe;var aVe="ToastDescription",OQ=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return F.jsx(Ye.div,{...n,ref:e})});OQ.displayName=aVe;var IQ="ToastAction",BQ=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?F.jsx(MQ,{altText:r,asChild:!0,children:F.jsx(zB,{...n,ref:e})}):(console.error("Invalid prop `altText` supplied to `".concat(IQ,"`. Expected non-empty `string`.")),null)});BQ.displayName=IQ;var FQ="ToastClose",zB=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=nVe(FQ,r);return F.jsx(MQ,{asChild:!0,children:F.jsx(Ye.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,s.onClose)})})});zB.displayName=FQ;var MQ=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return F.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function kQ(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),uVe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...kQ(n))}}),e}function c_(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?sy(s,o):s.dispatchEvent(o)}var x4=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function lVe(t=()=>{}){const e=ir(t);ln(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function uVe(t){return t.nodeType===t.ELEMENT_NODE}function cVe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function VC(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var xYe=CQ,EYe=TQ,SYe=PQ,CYe=RQ,AYe=OQ,TYe=BQ,DYe=zB;export{UVe as $,rg as A,k5 as B,G1 as C,TVe as D,qe as E,Zv as F,Ua as G,PVe as H,kve as I,zve as J,kHe as K,Kw as L,bVe as M,U5 as N,IVe as O,jme as P,BVe as Q,Pt as R,hd as S,NR as T,ta as U,DVe as V,FVe as W,MVe as X,GVe as Y,OHe as Z,NHe as _,Cce as a,mHe as a$,zVe as a0,VVe as a1,HVe as a2,sWe as a3,WVe as a4,eHe as a5,LVe as a6,UHe as a7,KVe as a8,rWe as a9,jHe as aA,zHe as aB,WHe as aC,KHe as aD,XHe as aE,qHe as aF,ZHe as aG,JHe as aH,wHe as aI,tWe as aJ,yHe as aK,JVe as aL,QVe as aM,SHe as aN,EHe as aO,eWe as aP,OVe as aQ,$Ve as aR,YVe as aS,NVe as aT,kVe as aU,HHe as aV,rHe as aW,jVe as aX,THe as aY,XVe as aZ,VHe as a_,AHe as aa,CHe as ab,QHe as ac,nHe as ad,BHe as ae,GHe as af,ZVe as ag,iHe as ah,sHe as ai,oHe as aj,aHe as ak,lHe as al,uHe as am,cHe as an,hHe as ao,pHe as ap,gHe as aq,iWe as ar,_He as as,DHe as at,qVe as au,bHe as av,fHe as aw,FHe as ax,$He as ay,LHe as az,Az as b,sKe as b$,nWe as b0,dHe as b1,PHe as b2,vHe as b3,RHe as b4,YHe as b5,yWe as b6,EWe as b7,_We as b8,uWe as b9,OWe as bA,jEe as bB,zEe as bC,qW as bD,CWe as bE,GEe as bF,VEe as bG,LEe as bH,$Ee as bI,XWe as bJ,RVe as bK,na as bL,VWe as bM,Ax as bN,GWe as bO,sEe as bP,RW as bQ,WWe as bR,KWe as bS,ZWe as bT,QWe as bU,xHe as bV,rKe as bW,nKe as bX,oKe as bY,aKe as bZ,iKe as b_,cWe as ba,fWe as bb,hWe as bc,gWe as bd,wWe as be,pWe as bf,AWe as bg,dWe as bh,mWe as bi,aWe as bj,lWe as bk,vWe as bl,nn as bm,TWe as bn,RWe as bo,IWe as bp,jWe as bq,zWe as br,BWe as bs,FWe as bt,kWe as bu,NWe as bv,UWe as bw,LWe as bx,MWe as by,$We as bz,bm as c,G9e as c$,tKe as c0,eKe as c1,uKe as c2,cKe as c3,dKe as c4,fKe as c5,gKe as c6,vKe as c7,bWe as c8,AKe as c9,VKe as cA,HKe as cB,WKe as cC,GKe as cD,MB as cE,Z as cF,T7e as cG,uYe as cH,UGe as cI,GGe as cJ,lYe as cK,$Ke as cL,hYe as cM,QKe as cN,dYe as cO,YGe as cP,pYe as cQ,fYe as cR,gYe as cS,qKe as cT,iE as cU,Jr as cV,bPe as cW,YKe as cX,vu as cY,rYe as cZ,vYe as c_,SWe as ca,TKe as cb,xWe as cc,yKe as cd,_Ke as ce,bKe as cf,xKe as cg,EKe as ch,CKe as ci,SKe as cj,DKe as ck,pKe as cl,wKe as cm,mKe as cn,BKe as co,FKe as cp,OKe as cq,IKe as cr,PKe as cs,MKe as ct,vCe as cu,yCe as cv,jKe as cw,NKe as cx,LKe as cy,UKe as cz,km as d,ZKe as d0,wB as d1,pje as d2,KKe as d3,xPe as d4,ha as d5,_Ye as d6,bYe as d7,YWe as d8,dxe as d9,fVe as dA,nF as dB,nYe as da,XKe as db,aje as dc,I7e as dd,Yb as de,r0e as df,s0e as dg,mYe as dh,oYe as di,sYe as dj,qze as dk,aYe as dl,iYe as dm,IHe as dn,MHe as dp,tHe as dq,HWe as dr,EYe as ds,SYe as dt,TYe as du,DYe as dv,CYe as dw,AYe as dx,xYe as dy,dVe as dz,Ks as e,it as f,ct as g,Go as h,Uce as i,F as j,sn as k,yVe as l,Mi as m,vVe as n,wVe as o,Kce as p,Pme as q,E as r,xVe as s,Nne as t,mVe as u,C5 as v,V5 as w,ms as x,hVe as y,CVe as z};
