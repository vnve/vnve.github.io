System.register([],(function(e,t){"use strict";return{execute:function(){function r(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}e({bM:function(e={}){const t=H.useRef(),r=H.useRef(),[n,i]=H.useState({isDirty:!1,isValidating:!1,isLoading:oJ(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:oJ(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...qJ(e),formState:n});const o=t.current.control;return o._options=e,$Q({subject:o._subjects.state,next:e=>{GQ(e,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),H.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),H.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,n.isDirty]),H.useEffect((()=>{e.values&&!kJ(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,i((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),H.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),H.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),H.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=zQ(n,o),t.current},bi:function(e,t,r){return function(e,t,r){var n,i;"function"==typeof e?(n=t||[],i=r):(n=[],i=t);var o=H.useRef({hasResult:!1,result:i,error:null}),s=H.useReducer((function(e){return e+1}),0);s[0];var a=s[1],l=H.useMemo((function(){var t="function"==typeof e?e():e;if(!t||"function"!=typeof t.subscribe)throw e===t?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&"undefined"!=typeof window&&("function"!=typeof t.hasValue||t.hasValue()))if("function"==typeof t.getValue)o.current.result=t.getValue(),o.current.hasResult=!0;else{var r=t.subscribe((function(e){o.current.result=e,o.current.hasResult=!0}));"function"==typeof r?r():r.unsubscribe()}return t}),n);if(H.useDebugValue(o.current.result),H.useEffect((function(){var e=l.subscribe((function(e){var t=o.current;null===t.error&&t.result===e||(t.error=null,t.result=e,t.hasResult=!0,a())}),(function(e){var t=o.current;t.error!==e&&(t.error=e,a())}));return"function"==typeof e?e:e.unsubscribe.bind(e)}),n),o.current.error)throw o.current.error;return o.current.result}((function(){return kK(e)}),t||[],r)},c:lf,cA:function(e,t,r){const n=e;return H.forwardRef((function(e,i){const o=e,{className:s}=o,a=owe(o,["className"]),l=nwe({},a);return r&&r.forEach((e=>{void 0!==a[e]&&delete l[e]})),H.createElement(n,nwe({ref:i,className:swe(t(a),s)},l))}))},cB:awe,cJ:function(e){return H.forwardRef(e)},cP:function(e){return H.forwardRef((function(t,r){return H.createElement(e,cge(uge({},t),{ref:r}))}))},cQ:ibe,cR:m_e,cU:E_e,cV:function(e,t){const r=Abe(t);return sbe(r,e)},cv:function(e,...t){return awe(e,{className:swe(t)})},cx:swe,d6:KQ,df:function(e){const{children:t,id:r,root:n=null,preserveTabOrder:i=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:r}=e,n=Cxe(),i=jxe(),[o,s]=G.useState(null),a=G.useRef(null);return bxe((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{a.current=null}))}),[o]),bxe((()=>{if(!n)return;if(a.current)return;const e=t?document.getElementById(t):null;if(!e)return;const r=document.createElement("div");r.id=n,r.setAttribute(Lxe,""),e.appendChild(r),a.current=r,s(r)}),[t,n]),bxe((()=>{if(!n)return;if(a.current)return;let e=r||(null==i?void 0:i.portalNode);e&&!JU(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const l=document.createElement("div");l.id=n,l.setAttribute(Lxe,""),e=o||e,e.appendChild(l),a.current=l,s(l)}),[t,r,n,i]),o}({id:r,root:n}),[s,a]=G.useState(null),l=G.useRef(null),u=G.useRef(null),c=G.useRef(null),d=G.useRef(null),h=null==s?void 0:s.modal,f=null==s?void 0:s.open,p=!!s&&!s.modal&&s.open&&i&&!(!n&&!o);return G.useEffect((()=>{if(o&&i&&!h)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&Rxe(e)&&("focusin"===e.type?Bxe:Oxe)(o)}}),[o,i,h]),G.useEffect((()=>{o&&(f||Bxe(o))}),[f,o]),G.createElement(Nxe.Provider,{value:G.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:d,portalNode:o,setFocusManagerState:a})),[i,o])},p&&o&&G.createElement(Ixe,{"data-type":"outside",ref:l,onFocus:e=>{if(Rxe(e,o)){var t;null==(t=c.current)||t.focus()}else{const e=Pxe(document.body,"prev")||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),p&&o&&G.createElement("span",{"aria-owns":o.id,style:Mxe}),o&&ad.createPortal(t,o),p&&o&&G.createElement(Ixe,{"data-type":"outside",ref:u,onFocus:e=>{if(Rxe(e,o)){var t;null==(t=d.current)||t.focus()}else{const t=Pxe(document.body,"next")||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))},dh:function(e={},t=[]){return H.useMemo((()=>!1===e.enabled?null:gbe(e)),[e.id,e.enabled,...t])},dj:function(e){return e.editor?H.createElement(Bbe,Nve({key:e.editor.key},e)):null},dn:function(e){const t=UQ(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:o}=e,[s,a]=H.useState(r._getFieldArray(n)),l=H.useRef(r._getFieldArray(n).map(QQ)),u=H.useRef(s),c=H.useRef(n),d=H.useRef(!1);c.current=n,u.current=s,r._names.array.add(n),e.rules&&r.register(n,e.rules),$Q({next:({values:e,name:t})=>{if(t===c.current||!t){const t=AQ(e,c.current);Array.isArray(t)&&(a(t),l.current=t.map(QQ))}},subject:r._subjects.array});const h=H.useCallback((e=>{d.current=!0,r._updateFieldArray(n,e)}),[r,n]);return H.useEffect((()=>{if(r._state.action=!1,tJ(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!eJ(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then((e=>{const t=AQ(e.errors,n),i=AQ(r._formState.errors,n);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?kQ(r._formState.errors,n,t):AJ(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=AQ(r._fields,n);!e||!e._f||eJ(r._options.reValidateMode).isOnSubmit&&eJ(r._options.mode).isOnSubmit||vJ(e,r._formValues,r._options.criteriaMode===RQ.all,r._options.shouldUseNativeValidation,!0).then((e=>!VQ(e)&&r._subjects.state.next({errors:nJ(r._formState.errors,e,n)})))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&rJ(r._fields,((e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1})),r._names.focus="",r._updateValid(),d.current=!1}),[s,n,r]),H.useEffect((()=>(!AQ(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)})),[n,r,i,o]),{swap:H.useCallback(((e,t)=>{const i=r._getFieldArray(n);CJ(i,e,t),CJ(l.current,e,t),h(i),a(i),r._updateFieldArray(n,i,CJ,{argA:e,argB:t},!1)}),[h,n,r]),move:H.useCallback(((e,t)=>{const i=r._getFieldArray(n);wJ(i,e,t),wJ(l.current,e,t),h(i),a(i),r._updateFieldArray(n,i,wJ,{argA:e,argB:t},!1)}),[h,n,r]),prepend:H.useCallback(((e,t)=>{const i=HQ(xQ(e)),o=xJ(r._getFieldArray(n),i);r._names.focus=JQ(n,0,t),l.current=xJ(l.current,i.map(QQ)),h(o),a(o),r._updateFieldArray(n,o,xJ,{argA:bJ(e)})}),[h,n,r]),append:H.useCallback(((e,t)=>{const i=HQ(xQ(e)),o=yJ(r._getFieldArray(n),i);r._names.focus=JQ(n,o.length-1,t),l.current=yJ(l.current,i.map(QQ)),h(o),a(o),r._updateFieldArray(n,o,yJ,{argA:bJ(e)})}),[h,n,r]),remove:H.useCallback((e=>{const t=EJ(r._getFieldArray(n),e);l.current=EJ(l.current,e),h(t),a(t),r._updateFieldArray(n,t,EJ,{argA:e})}),[h,n,r]),insert:H.useCallback(((e,t,i)=>{const o=HQ(xQ(t)),s=_J(r._getFieldArray(n),e,o);r._names.focus=JQ(n,e,i),l.current=_J(l.current,e,o.map(QQ)),h(s),a(s),r._updateFieldArray(n,s,_J,{argA:e,argB:bJ(t)})}),[h,n,r]),update:H.useCallback(((e,t)=>{const i=xQ(t),o=DJ(r._getFieldArray(n),e,i);l.current=[...o].map(((t,r)=>t&&r!==e?l.current[r]:QQ())),h(o),a([...o]),r._updateFieldArray(n,o,DJ,{argA:e,argB:i},!0,!1)}),[h,n,r]),replace:H.useCallback((e=>{const t=HQ(xQ(e));l.current=t.map(QQ),h([...t]),a([...t]),r._updateFieldArray(n,[...t],(e=>e),{},!0,!1)}),[h,n,r]),fields:H.useMemo((()=>s.map(((e,t)=>({...e,[i]:l.current[t]||QQ()})))),[s,i])}},dw:function(e,t){return function(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,r=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,n=!r;let i;if(pd(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=nh;let o,s={},a=xd(e.routes,i,void 0,s),l=e.basename||"/",u=dd({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,h=null,f=null,p=null,m=null!=e.hydrationData,g=Ed(a,e.history.location,l),v=null;if(null==g){let t=bh(404,{pathname:e.history.location.pathname}),{matches:r,route:n}=yh(a);g=r,v={[n.id]:t}}let y,b,_=!(g.some((e=>e.route.lazy))||g.some((e=>e.route.loader))&&null==e.hydrationData),w={historyAction:e.history.action,location:e.history.location,matches:g,initialized:_,navigation:Jd,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=ud.Pop,E=!1,C=!1,A=new Map,D=null,T=!1,S=!1,k=[],P=[],R=new Map,O=0,B=-1,M=new Map,F=new Set,I=new Map,N=new Map,L=new Set,j=new Map,U=new Map,z=!1;function V(){if(c=e.history.listen((t=>{let{action:r,location:n,delta:i}=t;if(z)return void(z=!1);md(0===U.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=me({currentLocation:w.location,nextLocation:n,historyAction:r});return o&&null!=i?(z=!0,e.history.go(-1*i),void pe(o,{state:"blocked",location:n,proceed(){pe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),e.history.go(i)},reset(){let e=new Map(w.blockers);e.set(o,th),W({blockers:e})}})):K(r,n)})),r){!function(e,t){try{let r=e.sessionStorage.getItem(ih);if(r){let e=JSON.parse(r);for(let[r,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(r,new Set(n||[]))}}catch(she){}}(t,A);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(ih,JSON.stringify(n))}catch(r){md(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}
/**
			 * React Router v6.18.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */(t,A);t.addEventListener("pagehide",e),D=()=>t.removeEventListener("pagehide",e)}return w.initialized||K(ud.Pop,w.location),y}function G(){c&&c(),D&&D(),d.clear(),b&&b.abort(),w.fetchers.forEach(((e,t)=>se(t))),w.blockers.forEach(((e,t)=>fe(t)))}function H(e){return d.add(e),()=>d.delete(e)}function W(e,t){w=dd({},w,e);let r=[],n=[];u.v7_fetcherPersist&&w.fetchers.forEach(((e,t)=>{"idle"===e.state&&(L.has(t)?n.push(t):r.push(t))})),d.forEach((e=>e(w,{deletedFetchers:n,unstable_viewTransitionOpts:t}))),u.v7_fetcherPersist&&(r.forEach((e=>w.fetchers.delete(e))),n.forEach((e=>se(e))))}function $(t,r){var n,i;let s,l=null!=w.actionData&&null!=w.navigation.formMethod&&Ah(w.navigation.formMethod)&&"loading"===w.navigation.state&&!0!==(null==(n=t.state)?void 0:n._isRedirect);s=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:l?w.actionData:null;let u=r.loaderData?gh(w.loaderData,r.loaderData,r.matches||[],r.errors):w.loaderData,c=w.blockers;c.size>0&&(c=new Map(c),c.forEach(((e,t)=>c.set(t,th))));let d,h=!0===E||null!=w.navigation.formMethod&&Ah(w.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(o&&(a=o,o=void 0),T||x===ud.Pop||(x===ud.Push?e.history.push(t,t.state):x===ud.Replace&&e.history.replace(t,t.state)),x===ud.Pop){let e=A.get(w.location.pathname);e&&e.has(t.pathname)?d={currentLocation:w.location,nextLocation:t}:A.has(t.pathname)&&(d={currentLocation:t,nextLocation:w.location})}else if(C){let e=A.get(w.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),A.set(w.location.pathname,e)),d={currentLocation:w.location,nextLocation:t}}W(dd({},r,{actionData:s,loaderData:u,historyAction:x,location:t,initialized:!0,navigation:Jd,revalidation:"idle",restoreScrollPosition:_e(t,r.matches||w.matches),preventScrollReset:h,blockers:c}),d),x=ud.Pop,E=!1,C=!1,T=!1,S=!1,k=[],P=[]}async function X(t,r){if("number"==typeof t)return void e.history.go(t);let n=oh(w.location,w.matches,l,u.v7_prependBasename,t,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:i,submission:o,error:s}=sh(u.v7_normalizeFormMethod,!1,n,r),a=w.location,c=vd(w.location,i,r&&r.state);c=dd({},c,e.history.encodeLocation(c));let d=r&&null!=r.replace?r.replace:void 0,h=ud.Push;!0===d?h=ud.Replace:!1===d||null!=o&&Ah(o.formMethod)&&o.formAction===w.location.pathname+w.location.search&&(h=ud.Replace);let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,p=me({currentLocation:a,nextLocation:c,historyAction:h});if(!p)return await K(h,c,{submission:o,pendingError:s,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition});pe(p,{state:"blocked",location:c,proceed(){pe(p,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),X(t,r)},reset(){let e=new Map(w.blockers);e.set(p,th),W({blockers:e})}})}function q(){ie(),W({revalidation:"loading"}),"submitting"!==w.navigation.state&&("idle"!==w.navigation.state?K(x||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation}):K(w.historyAction,w.location,{startUninterruptedRevalidation:!0}))}async function K(t,r,n){b&&b.abort(),b=null,x=t,T=!0===(n&&n.startUninterruptedRevalidation),be(w.location,w.matches),E=!0===(n&&n.preventScrollReset),C=!0===(n&&n.enableViewTransition);let i=o||a,s=n&&n.overrideNavigation,u=Ed(i,r,l);if(!u){let e=bh(404,{pathname:r.pathname}),{matches:t,route:n}=yh(i);return ge(),void $(r,{matches:t,loaderData:{},errors:{[n.id]:e}})}if(w.initialized&&!S&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}(w.location,r)&&!(n&&n.submission&&Ah(n.submission.formMethod)))return void $(r,{matches:u});b=new AbortController;let c,d,h=hh(e.history,r,b.signal,n&&n.submission);if(n&&n.pendingError)d={[vh(u).route.id]:n.pendingError};else if(n&&n.submission&&Ah(n.submission.formMethod)){let e=await Y(h,r,n.submission,u,{replace:n.replace});if(e.shortCircuited)return;c=e.pendingActionData,d=e.pendingActionError,s=Rh(r,n.submission),h=new Request(h.url,{signal:h.signal})}let{shortCircuited:f,loaderData:p,errors:m}=await Z(h,r,u,s,n&&n.submission,n&&n.fetcherSubmission,n&&n.replace,c,d);f||(b=null,$(r,dd({matches:u},c?{actionData:c}:{},{loaderData:p,errors:m})))}async function Y(e,t,r,n,o){void 0===o&&(o={}),ie();let a,u=function(e,t){let r={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return r}(t,r);W({navigation:u});let c=kh(n,t);if(c.route.action||c.route.lazy){if(a=await dh("action",e,c,n,s,i,l),e.signal.aborted)return{shortCircuited:!0}}else a={type:_d.error,error:bh(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Ch(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===w.location.pathname+w.location.search,await re(w,a,{submission:r,replace:e}),{shortCircuited:!0}}if(Eh(a)){let e=vh(n,c.route.id);return!0!==(o&&o.replace)&&(x=ud.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(xh(a))throw bh(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:a.data}}}async function Z(t,r,n,i,s,u,c,d,h){let f=i||Rh(r,s),p=s||u||Ph(f),m=o||a,[g,v]=ah(e.history,w,n,p,r,S,k,P,I,F,m,l,d,h);if(ge((e=>!(n&&n.some((t=>t.route.id===e)))||g&&g.some((t=>t.route.id===e)))),B=++O,0===g.length&&0===v.length){let e=ce();return $(r,dd({matches:n,loaderData:{},errors:h||null},d?{actionData:d}:{},e?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!T){v.forEach((e=>{let t=w.fetchers.get(e.key),r=Oh(void 0,t?t.data:void 0);w.fetchers.set(e.key,r)}));let e=d||w.actionData;W(dd({navigation:f},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},v.length>0?{fetchers:new Map(w.fetchers)}:{}))}v.forEach((e=>{R.has(e.key)&&le(e.key),e.controller&&R.set(e.key,e.controller)}));let y=()=>v.forEach((e=>le(e.key)));b&&b.signal.addEventListener("abort",y);let{results:_,loaderResults:x,fetcherResults:E}=await ne(w.matches,n,g,v,t);if(t.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",y),v.forEach((e=>R.delete(e.key)));let C=_h(_);if(C){if(C.idx>=g.length){let e=v[C.idx-g.length].key;F.add(e)}return await re(w,C.result,{replace:c}),{shortCircuited:!0}}let{loaderData:A,errors:D}=mh(w,n,g,x,h,v,E,j);j.forEach(((e,t)=>{e.subscribe((r=>{(r||e.done)&&j.delete(t)}))}));let M=ce(),N=de(B);return dd({loaderData:A,errors:D},M||N||v.length>0?{fetchers:new Map(w.fetchers)}:{})}function Q(e){return u.v7_fetcherPersist&&(N.set(e,(N.get(e)||0)+1),L.has(e)&&L.delete(e)),w.fetchers.get(e)||eh}function J(e,t,r,i){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(e)&&le(e);let s=o||a,c=oh(w.location,w.matches,l,u.v7_prependBasename,r,t,null==i?void 0:i.relative),d=Ed(s,c,l);if(!d)return void oe(e,t,bh(404,{pathname:c}));let{path:h,submission:f,error:p}=sh(u.v7_normalizeFormMethod,!0,c,i);if(p)return void oe(e,t,p);let m=kh(d,h);E=!0===(i&&i.preventScrollReset),f&&Ah(f.formMethod)?ee(e,t,h,m,d,f):(I.set(e,{routeId:t,path:h}),te(e,t,h,m,d,f))}async function ee(t,r,n,u,c,d){if(ie(),I.delete(t),!u.route.action&&!u.route.lazy){let e=bh(405,{method:d.formMethod,pathname:n,routeId:r});return void oe(t,r,e)}let h=function(e,t){let r={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return r}(d,w.fetchers.get(t));w.fetchers.set(t,h),W({fetchers:new Map(w.fetchers)});let f=new AbortController,p=hh(e.history,n,f.signal,d);R.set(t,f);let m=O,g=await dh("action",p,u,c,s,i,l);if(p.signal.aborted)return void(R.get(t)===f&&R.delete(t));if(L.has(t))return w.fetchers.set(t,Bh(void 0)),void W({fetchers:new Map(w.fetchers)});if(Ch(g)){if(R.delete(t),B>m){let e=Bh(void 0);return w.fetchers.set(t,e),void W({fetchers:new Map(w.fetchers)})}{F.add(t);let e=Oh(d);return w.fetchers.set(t,e),W({fetchers:new Map(w.fetchers)}),re(w,g,{fetcherSubmission:d})}}if(Eh(g))return void oe(t,r,g.error);if(xh(g))throw bh(400,{type:"defer-action"});let v=w.navigation.location||w.location,y=hh(e.history,v,f.signal),_=o||a,E="idle"!==w.navigation.state?Ed(_,w.navigation.location,l):w.matches;pd(E,"Didn't find any matches after fetcher action");let C=++O;M.set(t,C);let A=Oh(d,g.data);w.fetchers.set(t,A);let[D,T]=ah(e.history,w,E,d,v,S,k,P,I,F,_,l,{[u.route.id]:g.data},void 0);T.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,r=w.fetchers.get(t),n=Oh(void 0,r?r.data:void 0);w.fetchers.set(t,n),R.has(t)&&le(t),e.controller&&R.set(t,e.controller)})),W({fetchers:new Map(w.fetchers)});let N=()=>T.forEach((e=>le(e.key)));f.signal.addEventListener("abort",N);let{results:U,loaderResults:z,fetcherResults:V}=await ne(w.matches,E,D,T,y);if(f.signal.aborted)return;f.signal.removeEventListener("abort",N),M.delete(t),R.delete(t),T.forEach((e=>R.delete(e.key)));let G=_h(U);if(G){if(G.idx>=D.length){let e=T[G.idx-D.length].key;F.add(e)}return re(w,G.result)}let{loaderData:H,errors:X}=mh(w,w.matches,D,z,void 0,T,V,j);if(w.fetchers.has(t)){let e=Bh(g.data);w.fetchers.set(t,e)}de(C),"loading"===w.navigation.state&&C>B?(pd(x,"Expected pending action"),b&&b.abort(),$(w.navigation.location,{matches:E,loaderData:H,errors:X,fetchers:new Map(w.fetchers)})):(W({errors:X,loaderData:gh(w.loaderData,H,E,X),fetchers:new Map(w.fetchers)}),S=!1)}async function te(t,r,n,o,a,u){let c=w.fetchers.get(t),d=Oh(u,c?c.data:void 0);w.fetchers.set(t,d),W({fetchers:new Map(w.fetchers)});let h=new AbortController,f=hh(e.history,n,h.signal);R.set(t,h);let p=O,m=await dh("loader",f,o,a,s,i,l);if(xh(m)&&(m=await Th(m,f.signal,!0)||m),R.get(t)===h&&R.delete(t),f.signal.aborted)return;if(L.has(t))return w.fetchers.set(t,Bh(void 0)),void W({fetchers:new Map(w.fetchers)});if(Ch(m)){if(B>p){let e=Bh(void 0);return w.fetchers.set(t,e),void W({fetchers:new Map(w.fetchers)})}return F.add(t),void(await re(w,m))}if(Eh(m))return void oe(t,r,m.error);pd(!xh(m),"Unhandled fetcher deferred data");let g=Bh(m.data);w.fetchers.set(t,g),W({fetchers:new Map(w.fetchers)})}async function re(n,i,o){let{submission:s,fetcherSubmission:a,replace:u}=void 0===o?{}:o;i.revalidate&&(S=!0);let c=vd(n.location,i.location,{_isRedirect:!0});if(pd(c,"Expected a location on the redirect navigation"),r){let r=!1;if(i.reloadDocument)r=!0;else if(rh.test(i.location)){const n=e.history.createURL(i.location);r=n.origin!==t.location.origin||null==Nd(n.pathname,l)}if(r)return void(u?t.location.replace(i.location):t.location.assign(i.location))}b=null;let d=!0===u?ud.Replace:ud.Push,{formMethod:h,formAction:f,formEncType:p}=n.navigation;!s&&!a&&h&&f&&p&&(s=Ph(n.navigation));let m=s||a;if(Qd.has(i.status)&&m&&Ah(m.formMethod))await K(d,c,{submission:dd({},m,{formAction:i.location}),preventScrollReset:E});else{let e=Rh(c,s);await K(d,c,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:E})}}async function ne(t,r,n,o,a){let u=await Promise.all([...n.map((e=>dh("loader",a,e,r,s,i,l))),...o.map((t=>t.matches&&t.match&&t.controller?dh("loader",hh(e.history,t.path,t.controller.signal),t.match,t.matches,s,i,l):{type:_d.error,error:bh(404,{pathname:t.path})}))]),c=u.slice(0,n.length),d=u.slice(n.length);return await Promise.all([Dh(t,n,c,c.map((()=>a.signal)),!1,w.loaderData),Dh(t,o.map((e=>e.match)),d,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:u,loaderResults:c,fetcherResults:d}}function ie(){S=!0,k.push(...ge()),I.forEach(((e,t)=>{R.has(t)&&(P.push(t),le(t))}))}function oe(e,t,r){let n=vh(w.matches,t);se(e),W({errors:{[n.route.id]:r},fetchers:new Map(w.fetchers)})}function se(e){let t=w.fetchers.get(e);!R.has(e)||t&&"loading"===t.state&&M.has(e)||le(e),I.delete(e),M.delete(e),F.delete(e),L.delete(e),w.fetchers.delete(e)}function ae(e){if(u.v7_fetcherPersist){let t=(N.get(e)||0)-1;t<=0?(N.delete(e),L.add(e)):N.set(e,t)}else se(e);W({fetchers:new Map(w.fetchers)})}function le(e){let t=R.get(e);pd(t,"Expected fetch controller: "+e),t.abort(),R.delete(e)}function ue(e){for(let t of e){let e=Bh(Q(t).data);w.fetchers.set(t,e)}}function ce(){let e=[],t=!1;for(let r of F){let n=w.fetchers.get(r);pd(n,"Expected fetcher: "+r),"loading"===n.state&&(F.delete(r),e.push(r),t=!0)}return ue(e),t}function de(e){let t=[];for(let[r,n]of M)if(n<e){let e=w.fetchers.get(r);pd(e,"Expected fetcher: "+r),"loading"===e.state&&(le(r),M.delete(r),t.push(r))}return ue(t),t.length>0}function he(e,t){let r=w.blockers.get(e)||th;return U.get(e)!==t&&U.set(e,t),r}function fe(e){w.blockers.delete(e),U.delete(e)}function pe(e,t){let r=w.blockers.get(e)||th;pd("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,"Invalid blocker state transition: "+r.state+" -> "+t.state);let n=new Map(w.blockers);n.set(e,t),W({blockers:n})}function me(e){let{currentLocation:t,nextLocation:r,historyAction:n}=e;if(0===U.size)return;U.size>1&&md(!1,"A router only supports one blocker at a time");let i=Array.from(U.entries()),[o,s]=i[i.length-1],a=w.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:r,historyAction:n})?o:void 0}function ge(e){let t=[];return j.forEach(((r,n)=>{e&&!e(n)||(r.cancel(),t.push(n),j.delete(n))})),t}function ve(e,t,r){if(h=e,p=t,f=r||null,!m&&w.navigation===Jd){m=!0;let e=_e(w.location,w.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{h=null,p=null,f=null}}function ye(e,t){if(f){let r=f(e,t.map((e=>function(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}(e,w.loaderData))));return r||e.key}return e.key}function be(e,t){if(h&&p){let r=ye(e,t);h[r]=p()}}function _e(e,t){if(h){let r=ye(e,t),n=h[r];if("number"==typeof n)return n}return null}function we(e){s={},o=xd(e,i,void 0,s)}return y={get basename(){return l},get state(){return w},get routes(){return a},get window(){return t},initialize:V,subscribe:H,enableScrollRestoration:ve,navigate:X,fetch:J,revalidate:q,createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Q,deleteFetcher:ae,dispose:G,getBlocker:he,deleteBlocker:fe,_internalFetchControllers:R,_internalActiveDeferreds:j,_internalSetRoutes:we},y}({basename:null==t?void 0:t.basename,future:Yh({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:fd({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||Zh(),routes:e,mapRouteProperties:Kh,window:null==t?void 0:t.window}).initialize()},dx:function(e){let{fallbackElement:t,router:r,future:n}=e,[i,o]=G.useState(r.state),[s,a]=G.useState(),[l,u]=G.useState({isTransitioning:!1}),[c,d]=G.useState(),[h,f]=G.useState(),[p,m]=G.useState(),g=G.useRef(new Map),{v7_startTransition:v}=n||{},y=G.useCallback((e=>{v?function(e){tf?tf(e):e()}(e):e()}),[v]),b=G.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_viewTransitionOpts:i}=t;n.forEach((e=>g.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),i&&null!=r.window&&"function"==typeof r.window.document.startViewTransition?h&&c?(c.resolve(),h.skipTransition(),m({state:e,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):(a(e),u({isTransitioning:!0,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):y((()=>o(e)))}),[r.window,h,c,g,y]);G.useLayoutEffect((()=>r.subscribe(b)),[r,b]),G.useEffect((()=>{l.isTransitioning&&d(new rf)}),[l.isTransitioning]),G.useEffect((()=>{if(c&&s&&r.window){let e=s,t=c.promise,n=r.window.document.startViewTransition((async()=>{y((()=>o(e))),await t}));n.finished.finally((()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})),f(n)}}),[y,s,c,r.window]),G.useEffect((()=>{c&&s&&i.location.key===s.location.key&&c.resolve()}),[c,h,i.location,s]),G.useEffect((()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))}),[l.isTransitioning,p]);let _=G.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),w=r.basename||"/",x=G.useMemo((()=>({router:r,navigator:_,static:!1,basename:w})),[r,_,w]);return G.createElement(G.Fragment,null,G.createElement(Fh.Provider,{value:x},G.createElement(Ih.Provider,{value:i},G.createElement(ef.Provider,{value:g.current},G.createElement(Jh.Provider,{value:l},G.createElement(qh,{basename:w,location:i.location,navigationType:i.historyAction,navigator:_},i.initialized?G.createElement(nf,{routes:r.routes,state:i}):t))))),null)},i:function(e){return pR(e,gR|vR)},q:mE});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var s={exports:{}},a={},l={exports:{}},u={},c=Symbol.for("react.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator,x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function A(e,t,r){this.props=e,this.context=t,this.refs=C,this.updater=r||x}function D(){}function T(e,t,r){this.props=e,this.context=t,this.refs=C,this.updater=r||x}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=A.prototype;var S=T.prototype=new D;S.constructor=T,E(S,A.prototype),S.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,n)&&!O.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:c,type:e,key:o,ref:s,props:i,_owner:R.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===c}var F=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,r,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case c:case d:s=!0}}if(s)return i=i(s=e),e=""===n?"."+I(s,0):n,k(i)?(r="",null!=e&&(r=e.replace(F,"$&/")+"/"),N(i,t,r,"",(function(e){return e}))):null!=i&&(M(i)&&(i=function(e,t){return{$$typeof:c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(F,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=""===n?".":n+":",k(e))for(var a=0;a<e.length;a++){var l=n+I(o=e[a],a);s+=N(o,t,r,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(o=e.next()).done;)s+=N(o=o.value,t,r,l=n+I(o,a++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function L(e,t,r){if(null==e)return e;var n=[],i=0;return N(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},z={transition:null},V={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};u.Children={map:L,forEach:function(e,t,r){L(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},u.Component=A,u.Fragment=h,u.Profiler=p,u.PureComponent=T,u.StrictMode=f,u.Suspense=y,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,u.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=E({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=R.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)P.call(t,l)&&!O.hasOwnProperty(l)&&(n[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:c,type:e.type,key:i,ref:o,props:n,_owner:s}},u.createContext=function(e){return(e={$$typeof:g,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:m,_context:e},e.Consumer=e},u.createElement=B,u.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:v,render:e}},u.isValidElement=M,u.lazy=function(e){return{$$typeof:_,_payload:{_status:-1,_result:e},_init:j}},u.memo=function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},u.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},u.useCallback=function(e,t){return U.current.useCallback(e,t)},u.useContext=function(e){return U.current.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e){return U.current.useDeferredValue(e)},u.useEffect=function(e,t){return U.current.useEffect(e,t)},u.useId=function(){return U.current.useId()},u.useImperativeHandle=function(e,t,r){return U.current.useImperativeHandle(e,t,r)},u.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},u.useMemo=function(e,t){return U.current.useMemo(e,t)},u.useReducer=function(e,t,r){return U.current.useReducer(e,t,r)},u.useRef=function(e){return U.current.useRef(e)},u.useState=function(e){return U.current.useState(e)},u.useSyncExternalStore=function(e,t,r){return U.current.useSyncExternalStore(e,t,r)},u.useTransition=function(){return U.current.useTransition()},u.version="18.2.0",l.exports=u;var G=e("r",l.exports);const H=e("cy",i(G)),W=r({__proto__:null,default:H},[G]);
/**
			 * @license React
			 * react-jsx-runtime.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */
var $=G,X=Symbol.for("react.element"),q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,Y=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,r){var n,i={},o=null,s=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)K.call(t,n)&&!Z.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:X,type:e,key:o,ref:s,props:i,_owner:Y.current}}a.Fragment=q,a.jsx=Q,a.jsxs=Q,s.exports=a;var J=e("j",s.exports),ee=e("dy",{}),te={exports:{}},re={},ne={exports:{}},ie={};
/**
			 * @license React
			 * scheduler.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,r))u<o&&0>i(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[a]=r,n=a);else{if(!(u<o&&0>i(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=r(u);null!==i;){if(null===i.callback)n(u);else{if(!(i.startTime<=e))break;n(u),i.sortIndex=i.expirationTime,t(l,i)}i=r(u)}}function _(e){if(m=!1,b(e),!p)if(null!==r(l))p=!0,O(w);else{var t=r(u);null!==t&&B(_,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var o=h;try{for(b(i),d=r(l);null!==d&&(!(d.expirationTime>i)||t&&!S());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?d.callback=a:d===r(l)&&n(l),b(i)}else n(l);d=r(l)}if(null!==d)var c=!0;else{var g=r(u);null!==g&&B(_,g.startTime-i),c=!1}return c}finally{d=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,C=null,A=-1,D=5,T=-1;function S(){return!(e.unstable_now()-T<D)}function k(){if(null!==C){var t=e.unstable_now();T=t;var r=!0;try{r=C(!0,t)}finally{r?x():(E=!1,C=null)}}else E=!1}if("function"==typeof y)x=function(){y(k)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=k,x=function(){R.postMessage(null)}}else x=function(){g(k,0)};function O(e){C=e,E||(E=!0,x())}function B(t,r){A=g((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,O(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,i,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,n){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return n={id:c++,callback:i,priorityLevel:n,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(n.sortIndex=o,t(u,n),null===r(l)&&n===r(u)&&(m?(v(A),A=-1):m=!0,B(_,o-s))):(n.sortIndex=a,t(l,n),p||f||(p=!0,O(w))),n},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(ie),ne.exports=ie;var oe=ne.exports,se=G,ae=oe;
/**
			 * @license React
			 * react-dom.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ue=new Set,ce={};function de(e,t){he(e,t),he(e+"Capture",t)}function he(e,t){for(ce[e]=t,e=0;e<t.length;e++)ue.add(t[e])}var fe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),pe=Object.prototype.hasOwnProperty,me=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ge={},ve={};function ye(e,t,r,n,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){be[e]=new ye(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];be[t]=new ye(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){be[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){be[e]=new ye(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){be[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){be[e]=new ye(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){be[e]=new ye(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){be[e]=new ye(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){be[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _e=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function xe(e,t,r,n){var i=be.hasOwnProperty(t)?be[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!pe.call(ve,e)||!pe.call(ge,e)&&(me.test(e)?ve[e]=!0:(ge[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_e,we);be[t]=new ye(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_e,we);be[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_e,we);be[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){be[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)})),be.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){be[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Ee=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),Ne=Symbol.iterator;function Le(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ne&&e[Ne]||e["@@iterator"])?e:null}var je,Ue=Object.assign;function ze(e){if(void 0===je)try{throw Error()}catch(qce){var t=qce.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||""}return"\n"+je+e}var Ve=!1;function Ge(e,t){if(!e||Ve)return"";Ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(ohe){var n=ohe}Reflect.construct(e,[],t)}else{try{t.call()}catch(ohe){n=ohe}e.call(t.prototype)}else{try{throw Error()}catch(ohe){n=ohe}e()}}catch(ohe){if(ohe&&n&&"string"==typeof ohe.stack){for(var i=ohe.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{Ve=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ze(e):""}function He(e){switch(e.tag){case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return e=Ge(e.type,!1);case 11:return e=Ge(e.type.render,!1);case 1:return e=Ge(e.type,!0);default:return""}}function We(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case De:return"Fragment";case Ae:return"Portal";case Se:return"Profiler";case Te:return"StrictMode";case Oe:return"Suspense";case Be:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case ke:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return null!==(t=e.displayName||null)?t:We(e.type)||"Memo";case Fe:t=e._payload,e=e._init;try{return We(e(t))}catch(qce){}}return null}function $e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(t);case 8:return t===Te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function qe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ke(e){e._valueTracker||(e._valueTracker=function(e){var t=qe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qe(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ze(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(T5){return e.body}}function Qe(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Je(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Xe(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function et(e,t){null!=(t=t.checked)&&xe(e,"checked",t,!1)}function tt(e,t){et(e,t);var r=Xe(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?nt(e,t.type,r):t.hasOwnProperty("defaultValue")&&nt(e,t.type,Xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function rt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function nt(e,t,r){"number"===t&&Ze(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var it=Array.isArray;function ot(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(le(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function at(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(le(92));if(it(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Xe(r)}}function lt(e,t){var r=Xe(t.value),n=Xe(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ut(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ct(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ht,ft=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function pt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function vt(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||mt.hasOwnProperty(e)&&mt[e]?(""+t).trim():t+"px"}function yt(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=vt(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(mt).forEach((function(e){gt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mt[t]=mt[e]}))}));var bt=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(e,t){if(t){if(bt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(le(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(le(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(le(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ct=null,At=null,Dt=null;function Tt(e){if(e=xo(e)){if("function"!=typeof Ct)throw Error(le(280));var t=e.stateNode;t&&(t=Co(t),Ct(e.stateNode,e.type,t))}}function St(e){At?Dt?Dt.push(e):Dt=[e]:At=e}function kt(){if(At){var e=At,t=Dt;if(Dt=At=null,Tt(e),t)for(e=0;e<t.length;e++)Tt(t[e])}}function Pt(e,t){return e(t)}function Rt(){}var Ot=!1;function Bt(e,t,r){if(Ot)return e(t,r);Ot=!0;try{return Pt(e,t,r)}finally{Ot=!1,(null!==At||null!==Dt)&&(Rt(),kt())}}function Mt(e,t){var r=e.stateNode;if(null===r)return null;var n=Co(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(le(231,t,typeof r));return r}var Ft=!1;if(fe)try{var It={};Object.defineProperty(It,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(Jce){Ft=!1}function Nt(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(C5){this.onError(C5)}}var Lt=!1,jt=null,Ut=!1,zt=null,Vt={onError:function(e){Lt=!0,jt=e}};function Gt(e,t,r,n,i,o,s,a,l){Lt=!1,jt=null,Nt.apply(Vt,arguments)}function Ht(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Wt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $t(e){if(Ht(e)!==e)throw Error(le(188))}function Xt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return $t(i),e;if(o===n)return $t(i),t;o=o.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(3!==r.tag)throw Error(le(188));return r.stateNode.current===r?e:t}(e),null!==e?qt(e):null}function qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=ae.unstable_scheduleCallback,Yt=ae.unstable_cancelCallback,Zt=ae.unstable_shouldYield,Qt=ae.unstable_requestPaint,Jt=ae.unstable_now,er=ae.unstable_getCurrentPriorityLevel,tr=ae.unstable_ImmediatePriority,rr=ae.unstable_UserBlockingPriority,nr=ae.unstable_NormalPriority,ir=ae.unstable_LowPriority,or=ae.unstable_IdlePriority,sr=null,ar=null,lr=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ur(e)/cr|0)|0},ur=Math.log,cr=Math.LN2,dr=64,hr=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pr(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=fr(a):0!=(o&=s)&&(n=fr(o))}else 0!=(s=r&~i)?n=fr(s):0!==o&&(n=fr(o));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-lr(t)),n|=e[r],t&=~i;return n}function mr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gr(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vr(){var e=dr;return 0==(4194240&(dr<<=1))&&(dr=64),e}function yr(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function br(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lr(t)]=r}function _r(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var wr=0;function xr(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Er,Cr,Ar,Dr,Tr,Sr=!1,kr=[],Pr=null,Rr=null,Or=null,Br=new Map,Mr=new Map,Fr=[],Ir="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nr(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function Lr(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=xo(t))&&Cr(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jr(e){var t=wo(e.target);if(null!==t){var r=Ht(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Wt(r)))return e.blockedOn=t,void Tr(e.priority,(function(){Ar(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ur(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=xo(r))&&Cr(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xt=n,r.target.dispatchEvent(n),xt=null,t.shift()}return!0}function zr(e,t,r){Ur(e)&&r.delete(t)}function Vr(){Sr=!1,null!==Pr&&Ur(Pr)&&(Pr=null),null!==Rr&&Ur(Rr)&&(Rr=null),null!==Or&&Ur(Or)&&(Or=null),Br.forEach(zr),Mr.forEach(zr)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Sr||(Sr=!0,ae.unstable_scheduleCallback(ae.unstable_NormalPriority,Vr)))}function Hr(e){function t(t){return Gr(t,e)}if(0<kr.length){Gr(kr[0],e);for(var r=1;r<kr.length;r++){var n=kr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pr&&Gr(Pr,e),null!==Rr&&Gr(Rr,e),null!==Or&&Gr(Or,e),Br.forEach(t),Mr.forEach(t),r=0;r<Fr.length;r++)(n=Fr[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Fr.length&&null===(r=Fr[0]).blockedOn;)jr(r),null===r.blockedOn&&Fr.shift()}var Wr=Ee.ReactCurrentBatchConfig,$r=!0;function Xr(e,t,r,n){var i=wr,o=Wr.transition;Wr.transition=null;try{wr=1,Kr(e,t,r,n)}finally{wr=i,Wr.transition=o}}function qr(e,t,r,n){var i=wr,o=Wr.transition;Wr.transition=null;try{wr=4,Kr(e,t,r,n)}finally{wr=i,Wr.transition=o}}function Kr(e,t,r,n){if($r){var i=Zr(e,t,r,n);if(null===i)$i(e,t,n,Yr,r),Nr(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Pr=Lr(Pr,e,t,r,n,i),!0;case"dragenter":return Rr=Lr(Rr,e,t,r,n,i),!0;case"mouseover":return Or=Lr(Or,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Br.set(o,Lr(Br.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Mr.set(o,Lr(Mr.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Nr(e,n),4&t&&-1<Ir.indexOf(e)){for(;null!==i;){var o=xo(i);if(null!==o&&Er(o),null===(o=Zr(e,t,r,n))&&$i(e,t,n,Yr,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else $i(e,t,n,null,r)}}var Yr=null;function Zr(e,t,r,n){if(Yr=null,null!==(e=wo(e=Et(n))))if(null===(t=Ht(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Wt(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yr=e,null}function Qr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(er()){case tr:return 1;case rr:return 4;case nr:case ir:return 16;case or:return 536870912;default:return 16}default:return 16}}var Jr=null,en=null,tn=null;function rn(){if(tn)return tn;var e,t,r=en,n=r.length,i="value"in Jr?Jr.value:Jr.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,r,n,i,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),fn=Ue({},dn,{view:0,detail:0}),pn=an(fn),mn=Ue({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),vn=an(Ue({},mn,{dataTransfer:0})),yn=an(Ue({},fn,{relatedTarget:0})),bn=an(Ue({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=Ue({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(_n),xn=an(Ue({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Tn(){return Dn}var Sn=Ue({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Sn),Pn=an(Ue({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(Ue({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=an(Ue({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=Ue({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Bn),Fn=[9,13,27,32],In=fe&&"CompositionEvent"in window,Nn=null;fe&&"documentMode"in document&&(Nn=document.documentMode);var Ln=fe&&"TextEvent"in window&&!Nn,jn=fe&&(!In||Nn&&8<Nn&&11>=Nn),Un=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Xn(e,t,r,n){St(n),0<(t=qi(t,"onChange")).length&&(r=new hn("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qn=null,Kn=null;function Yn(e){Ui(e,0)}function Zn(e){if(Ye(Eo(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(fe){var ei;if(fe){var ti="oninput"in document;if(!ti){var ri=document.createElement("div");ri.setAttribute("oninput","return;"),ti="function"==typeof ri.oninput}ei=ti}else ei=!1;Jn=ei&&(!document.documentMode||9<document.documentMode)}function ni(){qn&&(qn.detachEvent("onpropertychange",ii),Kn=qn=null)}function ii(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Xn(t,Kn,e,Et(e)),Bt(Yn,t)}}function oi(e,t,r){"focusin"===e?(ni(),Kn=r,(qn=t).attachEvent("onpropertychange",ii)):"focusout"===e&&ni()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function ai(e,t){if("click"===e)return Zn(t)}function li(e,t){if("input"===e||"change"===e)return Zn(t)}var ui="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ci(e,t){if(ui(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pe.call(t,i)||!ui(e[i],t[i]))return!1}return!0}function di(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var r,n=di(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=di(n)}}function fi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=Ze();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(x5){r=!1}if(!r)break;t=Ze((e=t.contentWindow).document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gi(e){var t=pi(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fi(r.ownerDocument.documentElement,r)){if(null!==n&&mi(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=hi(r,o);var s=hi(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=fe&&"documentMode"in document&&11>=document.documentMode,yi=null,bi=null,_i=null,wi=!1;function xi(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wi||null==yi||yi!==Ze(n)||(n="selectionStart"in(n=yi)&&mi(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},_i&&ci(_i,n)||(_i=n,0<(n=qi(bi,"onSelect")).length&&(t=new hn("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yi)))}function Ei(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ci={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Ai={},Di={};function Ti(e){if(Ai[e])return Ai[e];if(!Ci[e])return e;var t,r=Ci[e];for(t in r)if(r.hasOwnProperty(t)&&t in Di)return Ai[e]=r[t];return e}fe&&(Di=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);var Si=Ti("animationend"),ki=Ti("animationiteration"),Pi=Ti("animationstart"),Ri=Ti("transitionend"),Oi=new Map,Bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Oi.set(e,t),de(t,[e])}for(var Fi=0;Fi<Bi.length;Fi++){var Ii=Bi[Fi];Mi(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Mi(Si,"onAnimationEnd"),Mi(ki,"onAnimationIteration"),Mi(Pi,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ri,"onTransitionEnd"),he("onMouseEnter",["mouseout","mouseover"]),he("onMouseLeave",["mouseout","mouseover"]),he("onPointerEnter",["pointerout","pointerover"]),he("onPointerLeave",["pointerout","pointerover"]),de("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),de("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function ji(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,a,l){if(Gt.apply(this,arguments),Lt){if(!Lt)throw Error(le(198));var u=jt;Lt=!1,jt=null,Ut||(Ut=!0,zt=u)}}(n,t,void 0,e),e.currentTarget=null}function Ui(e,t){t=0!=(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,u),o=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,u),o=l}}}if(Ut)throw e=zt,Ut=!1,zt=null,e}function zi(e,t){var r=t[yo];void 0===r&&(r=t[yo]=new Set);var n=e+"__bubble";r.has(n)||(Wi(t,e,2,!1),r.add(n))}function Vi(e,t,r){var n=0;t&&(n|=4),Wi(r,e,n,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Gi]){e[Gi]=!0,ue.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Vi(t,!1,e),Vi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gi]||(t[Gi]=!0,Vi("selectionchange",!1,t))}}function Wi(e,t,r,n){switch(Qr(t)){case 1:var i=Xr;break;case 4:i=qr;break;default:i=Kr}r=i.bind(null,t,r,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function $i(e,t,r,n,i){var o=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(l=s.tag)||6===l){n=o=s;continue e}a=a.parentNode}}n=n.return}Bt((function(){var n=o,i=Et(r),s=[];e:{var a=Oi.get(e);if(void 0!==a){var l=hn,u=e;switch(e){case"keypress":if(0===nn(r))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Si:case ki:case Pi:l=bn;break;case Ri:l=On;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Mt(p,h))&&c.push(Xi(p,m,f))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,r,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===xt||!(u=r.relatedTarget||r.fromElement)||!wo(u)&&!u[vo])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?wo(u):null)&&(u!==(d=Ht(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:Eo(l),f=null==u?a:Eo(u),(a=new c(m,p+"leave",l,r,i)).target=d,a.relatedTarget=f,m=null,wo(i)===n&&((c=new c(h,p+"enter",u,r,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Ki(f))p++;for(f=0,m=h;m;m=Ki(m))f++;for(;0<p-f;)c=Ki(c),p--;for(;0<f-p;)h=Ki(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ki(c),h=Ki(h)}c=null}else c=null;null!==l&&Yi(s,a,l,c,!1),null!==u&&null!==d&&Yi(s,d,u,c,!0)}if("select"===(l=(a=n?Eo(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if($n(a))if(Jn)g=li;else{g=si;var v=oi}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ai);switch(g&&(g=g(e,n))?Xn(s,g,r,i):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&nt(a,"number",a.value)),v=n?Eo(n):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(yi=v,bi=n,_i=null);break;case"focusout":_i=bi=yi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,xi(s,r,i);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":xi(s,r,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Vn(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==r.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(en="value"in(Jr=i)?Jr.value:Jr.textContent,Hn=!0)),0<(v=qi(n,b)).length&&(b=new xn(b,e,null,r,i),s.push({event:b,listeners:v}),(y||null!==(y=Gn(r)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,r):function(e,t){if(Hn)return"compositionend"===e||!In&&Vn(e,t)?(e=rn(),tn=en=Jr=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(n=qi(n,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y)}Ui(s,t)}))}function Xi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qi(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Mt(e,r))&&n.unshift(Xi(e,o,i)),null!=(o=Mt(e,t))&&n.push(Xi(e,o,i))),e=e.return}return n}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,r,n,i){for(var o=t._reactName,s=[];null!==r&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Mt(r,o))&&s.unshift(Xi(r,l,a)):i||null!=(l=Mt(r,o))&&s.push(Xi(r,l,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Zi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(e){return("string"==typeof e?e:""+e).replace(Zi,"\n").replace(Qi,"")}function eo(e,t,r){if(t=Ji(t),Ji(e)!==t&&r)throw Error(le(425))}function to(){}var ro=null,no=null;function io(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oo="function"==typeof setTimeout?setTimeout:void 0,so="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,lo="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(uo)}:oo;function uo(e){setTimeout((function(){throw e}))}function co(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Hr(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Hr(t)}function ho(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),mo="__reactFiber$"+po,go="__reactProps$"+po,vo="__reactContainer$"+po,yo="__reactEvents$"+po,bo="__reactListeners$"+po,_o="__reactHandles$"+po;function wo(e){var t=e[mo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vo]||r[mo]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=fo(e);null!==e;){if(r=e[mo])return r;e=fo(e)}return t}r=(e=r).parentNode}return null}function xo(e){return!(e=e[mo]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Eo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(le(33))}function Co(e){return e[go]||null}var Ao=[],Do=-1;function To(e){return{current:e}}function So(e){0>Do||(e.current=Ao[Do],Ao[Do]=null,Do--)}function ko(e,t){Do++,Ao[Do]=e.current,e.current=t}var Po={},Ro=To(Po),Oo=To(!1),Bo=Po;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Po;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fo(e){return null!=(e=e.childContextTypes)}function Io(){So(Oo),So(Ro)}function No(e,t,r){if(Ro.current!==Po)throw Error(le(168));ko(Ro,t),ko(Oo,r)}function Lo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(le(108,$e(e)||"Unknown",i));return Ue({},r,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Bo=Ro.current,ko(Ro,e),ko(Oo,Oo.current),!0}function Uo(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=Lo(e,t,Bo),n.__reactInternalMemoizedMergedChildContext=e,So(Oo),So(Ro),ko(Ro,e)):So(Oo),ko(Oo,r)}var zo=null,Vo=!1,Go=!1;function Ho(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Go&&null!==zo){Go=!0;var e=0,t=wr;try{var r=zo;for(wr=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}zo=null,Vo=!1}catch(she){throw null!==zo&&(zo=zo.slice(e+1)),Kt(tr,Wo),she}finally{wr=t,Go=!1}}return null}var $o=[],Xo=0,qo=null,Ko=0,Yo=[],Zo=0,Qo=null,Jo=1,es="";function ts(e,t){$o[Xo++]=Ko,$o[Xo++]=qo,qo=e,Ko=t}function rs(e,t,r){Yo[Zo++]=Jo,Yo[Zo++]=es,Yo[Zo++]=Qo,Qo=e;var n=Jo;e=es;var i=32-lr(n)-1;n&=~(1<<i),r+=1;var o=32-lr(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Jo=1<<32-lr(t)+i|r<<i|n,es=o+e}else Jo=1<<o|r<<i|n,es=e}function ns(e){null!==e.return&&(ts(e,1),rs(e,1,0))}function is(e){for(;e===qo;)qo=$o[--Xo],$o[Xo]=null,Ko=$o[--Xo],$o[Xo]=null;for(;e===Qo;)Qo=Yo[--Zo],Yo[Zo]=null,es=Yo[--Zo],Yo[Zo]=null,Jo=Yo[--Zo],Yo[Zo]=null}var os=null,ss=null,as=!1,ls=null;function us(e,t){var r=Mc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function cs(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,os=e,ss=ho(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,os=e,ss=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qo?{id:Jo,overflow:es}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,os=e,ss=null,!0);default:return!1}}function ds(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function hs(e){if(as){var t=ss;if(t){var r=t;if(!cs(e,t)){if(ds(e))throw Error(le(418));t=ho(r.nextSibling);var n=os;t&&cs(e,t)?us(n,r):(e.flags=-4097&e.flags|2,as=!1,os=e)}}else{if(ds(e))throw Error(le(418));e.flags=-4097&e.flags|2,as=!1,os=e}}}function fs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;os=e}function ps(e){if(e!==os)return!1;if(!as)return fs(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!io(e.type,e.memoizedProps)),t&&(t=ss)){if(ds(e))throw ms(),Error(le(418));for(;t;)us(e,t),t=ho(t.nextSibling)}if(fs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ss=ho(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ss=null}}else ss=os?ho(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=ss;e;)e=ho(e.nextSibling)}function gs(){ss=os=null,as=!1}function vs(e){null===ls?ls=[e]:ls.push(e)}var ys=Ee.ReactCurrentBatchConfig;function bs(e,t){if(e&&e.defaultProps){for(var r in t=Ue({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var _s=To(null),ws=null,xs=null,Es=null;function Cs(){Es=xs=ws=null}function As(e){var t=_s.current;So(_s),e._currentValue=t}function Ds(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ts(e,t){ws=e,Es=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===ws)throw Error(le(308));xs=e,ws.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var ks=null;function Ps(e){null===ks?ks=[e]:ks.push(e)}function Rs(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Ps(t)):(r.next=i.next,i.next=r),t.interleaved=r,Os(e,n)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Bs=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!=(2&Ru)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Os(e,r)}return null===(i=n.interleaved)?(t.next=t,Ps(n)):(t.next=i.next,i.next=t),n.interleaved=t,Os(e,r)}function Ls(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,_r(e,r)}}function js(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Us(e,t,r,n){var i=e.updateQueue;Bs=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((n&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=r,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=Ue({},d,h);break e;case 2:Bs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=s,e.lanes=s,e.memoizedState=d}}function zs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(le(191,i));i.call(n)}}}var Vs=(new se.Component).refs;function Gs(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:Ue({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Hs={isMounted:function(e){return!!(e=e._reactInternals)&&Ht(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nc(),i=ic(e),o=Is(n,i);o.payload=t,null!=r&&(o.callback=r),null!==(t=Ns(e,o,i))&&(oc(t,e,i,n),Ls(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nc(),i=ic(e),o=Is(n,i);o.tag=1,o.payload=t,null!=r&&(o.callback=r),null!==(t=Ns(e,o,i))&&(oc(t,e,i,n),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nc(),n=ic(e),i=Is(r,n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ns(e,i,n))&&(oc(t,e,n,r),Ls(t,e,n))}};function Ws(e,t,r,n,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ci(r,n)&&ci(i,o))}function $s(e,t,r){var n=!1,i=Po,o=t.contextType;return"object"==typeof o&&null!==o?o=Ss(o):(i=Fo(t)?Bo:Ro.current,o=(n=null!=(n=t.contextTypes))?Mo(e,i):Po),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xs(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function qs(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Vs,Ms(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ss(o):(o=Fo(t)?Bo:Ro.current,i.context=Mo(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Gs(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),Us(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function Qs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,r,n){return null===t||6!==t.tag?((t=Uc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var o=r.type;return o===De?c(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Fe&&Zs(o)===t.type)?((n=i(t,r.props)).ref=Ks(e,t,r),n.return=e,n):((n=Nc(r.type,r.key,r.props,null,e.mode,n)).ref=Ks(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function c(e,t,r,n,o){return null===t||7!==t.tag?((t=Lc(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Uc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ce:return(r=Nc(t.type,t.key,t.props,null,e.mode,r)).ref=Ks(e,null,t),r.return=e,r;case Ae:return(t=zc(t,e.mode,r)).return=e,t;case Fe:return d(e,(0,t._init)(t._payload),r)}if(it(t)||Le(t))return(t=Lc(t,e.mode,r,null)).return=e,t;Ys(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:a(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ce:return r.key===i?l(e,t,r,n):null;case Ae:return r.key===i?u(e,t,r,n):null;case Fe:return h(e,t,(i=r._init)(r._payload),n)}if(it(r)||Le(r))return null!==i?null:c(e,t,r,n,null);Ys(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return a(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ce:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Ae:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Fe:return f(e,t,r,(0,n._init)(n._payload),i)}if(it(n)||Le(n))return c(t,e=e.get(r)||null,n,i,null);Ys(t,n)}return null}function p(i,s,a,l){for(var u=null,c=null,p=s,m=s=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,a[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,p=g}if(m===a.length)return r(i,p),as&&ts(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=d(i,a[m],l))&&(s=o(p,s,m),null===c?u=p:c.sibling=p,c=p);return as&&ts(i,m),u}for(p=n(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),as&&ts(i,m),u}function m(i,s,a,l){var u=Le(a);if("function"!=typeof u)throw Error(le(150));if(null==(a=u.call(a)))throw Error(le(151));for(var c=u=null,p=s,m=s=0,g=null,v=a.next();null!==p&&!v.done;m++,v=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,p=g}if(v.done)return r(i,p),as&&ts(i,m),u;if(null===p){for(;!v.done;m++,v=a.next())null!==(v=d(i,v.value,l))&&(s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return as&&ts(i,m),u}for(p=n(i,p);!v.done;m++,v=a.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(i,e)})),as&&ts(i,m),u}return function e(n,o,a,l){if("object"==typeof a&&null!==a&&a.type===De&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case Ce:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===De){if(7===c.tag){r(n,c.sibling),(o=i(c,a.props.children)).return=n,n=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===Fe&&Zs(u)===c.type){r(n,c.sibling),(o=i(c,a.props)).ref=Ks(n,c,a),o.return=n,n=o;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===De?((o=Lc(a.props.children,n.mode,l,a.key)).return=n,n=o):((l=Nc(a.type,a.key,a.props,null,n.mode,l)).ref=Ks(n,o,a),l.return=n,n=l)}return s(n);case Ae:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){r(n,o.sibling),(o=i(o,a.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=zc(a,n.mode,l)).return=n,n=o}return s(n);case Fe:return e(n,o,(c=a._init)(a._payload),l)}if(it(a))return p(n,o,a,l);if(Le(a))return m(n,o,a,l);Ys(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,a)).return=n,n=o):(r(n,o),(o=Uc(a,n.mode,l)).return=n,n=o),s(n)):r(n,o)}}var Js=Qs(!0),ea=Qs(!1),ta={},ra=To(ta),na=To(ta),ia=To(ta);function oa(e){if(e===ta)throw Error(le(174));return e}function sa(e,t){switch(ko(ia,t),ko(na,e),ko(ra,ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dt(null,"");break;default:t=dt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}So(ra),ko(ra,t)}function aa(){So(ra),So(na),So(ia)}function la(e){oa(ia.current);var t=oa(ra.current),r=dt(t,e.type);t!==r&&(ko(na,e),ko(ra,r))}function ua(e){na.current===e&&(So(ra),So(na))}var ca=To(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function fa(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var pa=Ee.ReactCurrentDispatcher,ma=Ee.ReactCurrentBatchConfig,ga=0,va=null,ya=null,ba=null,_a=!1,wa=!1,xa=0,Ea=0;function Ca(){throw Error(le(321))}function Aa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ui(e[r],t[r]))return!1;return!0}function Da(e,t,r,n,i,o){if(ga=o,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ul:cl,e=r(n,i),wa){o=0;do{if(wa=!1,xa=0,25<=o)throw Error(le(301));o+=1,ba=ya=null,t.updateQueue=null,pa.current=dl,e=r(n,i)}while(wa)}if(pa.current=ll,t=null!==ya&&null!==ya.next,ga=0,ba=ya=va=null,_a=!1,t)throw Error(le(300));return e}function Ta(){var e=0!==xa;return xa=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?va.memoizedState=ba=e:ba=ba.next=e,ba}function ka(){if(null===ya){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===ba?va.memoizedState:ba.next;if(null!==t)ba=t,ya=e;else{if(null===e)throw Error(le(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===ba?va.memoizedState=ba=e:ba=ba.next=e}return ba}function Pa(e,t){return"function"==typeof t?t(e):t}function Ra(e){var t=ka(),r=t.queue;if(null===r)throw Error(le(311));r.lastRenderedReducer=e;var n=ya,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ga&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=d,s=n):l=l.next=d,va.lanes|=c,ju|=c}u=u.next}while(null!==u&&u!==o);null===l?s=n:l.next=a,ui(n,t.memoizedState)||(xl=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,va.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oa(e){var t=ka(),r=t.queue;if(null===r)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ui(o,t.memoizedState)||(xl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ba(){}function Ma(e,t){var r=va,n=ka(),i=t(),o=!ui(n.memoizedState,i);if(o&&(n.memoizedState=i,xl=!0),n=n.queue,$a(Na.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==ba&&1&ba.memoizedState.tag){if(r.flags|=2048,za(9,Ia.bind(null,r,n,i,t),void 0,null),null===Ou)throw Error(le(349));0!=(30&ga)||Fa(r,t,i)}return i}function Fa(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ia(e,t,r,n){t.value=r,t.getSnapshot=n,La(t)&&ja(e)}function Na(e,t,r){return r((function(){La(t)&&ja(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ui(e,r)}catch(x5){return!0}}function ja(e){var t=Os(e,1);null!==t&&oc(t,e,1,-1)}function Ua(e){var t=Sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=il.bind(null,va,e),[t.memoizedState,e]}function za(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Va(){return ka().memoizedState}function Ga(e,t,r,n){var i=Sa();va.flags|=e,i.memoizedState=za(1|t,r,void 0,void 0===n?null:n)}function Ha(e,t,r,n){var i=ka();n=void 0===n?null:n;var o=void 0;if(null!==ya){var s=ya.memoizedState;if(o=s.destroy,null!==n&&Aa(n,s.deps))return void(i.memoizedState=za(t,r,o,n))}va.flags|=e,i.memoizedState=za(1|t,r,o,n)}function Wa(e,t){return Ga(8390656,8,e,t)}function $a(e,t){return Ha(2048,8,e,t)}function Xa(e,t){return Ha(4,2,e,t)}function qa(e,t){return Ha(4,4,e,t)}function Ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,r){return r=null!=r?r.concat([e]):null,Ha(4,4,Ka.bind(null,t,e),r)}function Za(){}function Qa(e,t){var r=ka();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ja(e,t){var r=ka();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function el(e,t,r){return 0==(21&ga)?(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=r):(ui(r,t)||(r=vr(),va.lanes|=r,ju|=r,e.baseState=!0),t)}function tl(e,t){var r=wr;wr=0!==r&&4>r?r:4,e(!0);var n=ma.transition;ma.transition={};try{e(!1),t()}finally{wr=r,ma.transition=n}}function rl(){return ka().memoizedState}function nl(e,t,r){var n=ic(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ol(e)?sl(t,r):null!==(r=Rs(e,t,r,n))&&(oc(r,e,n,nc()),al(r,t,n))}function il(e,t,r){var n=ic(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ol(e))sl(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ui(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(ohe){}null!==(r=Rs(e,t,i,n))&&(oc(r,e,n,i=nc()),al(r,t,n))}}function ol(e){var t=e.alternate;return e===va||null!==t&&t===va}function sl(e,t){wa=_a=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function al(e,t,r){if(0!=(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,_r(e,r)}}var ll={readContext:Ss,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ul={readContext:Ss,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:Wa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Ga(4194308,4,Ka.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var r=Sa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nl.bind(null,va,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ua,useDebugValue:Za,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=tl.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=va,i=Sa();if(as){if(void 0===r)throw Error(le(407));r=r()}else{if(r=t(),null===Ou)throw Error(le(349));0!=(30&ga)||Fa(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Wa(Na.bind(null,n,o,e),[e]),n.flags|=2048,za(9,Ia.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Sa(),t=Ou.identifierPrefix;if(as){var r=es;t=":"+t+"R"+(r=(Jo&~(1<<32-lr(Jo)-1)).toString(32)+r),0<(r=xa++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cl={readContext:Ss,useCallback:Qa,useContext:Ss,useEffect:$a,useImperativeHandle:Ya,useInsertionEffect:Xa,useLayoutEffect:qa,useMemo:Ja,useReducer:Ra,useRef:Va,useState:function(){return Ra(Pa)},useDebugValue:Za,useDeferredValue:function(e){return el(ka(),ya.memoizedState,e)},useTransition:function(){return[Ra(Pa)[0],ka().memoizedState]},useMutableSource:Ba,useSyncExternalStore:Ma,useId:rl,unstable_isNewReconciler:!1},dl={readContext:Ss,useCallback:Qa,useContext:Ss,useEffect:$a,useImperativeHandle:Ya,useInsertionEffect:Xa,useLayoutEffect:qa,useMemo:Ja,useReducer:Oa,useRef:Va,useState:function(){return Oa(Pa)},useDebugValue:Za,useDeferredValue:function(e){var t=ka();return null===ya?t.memoizedState=e:el(t,ya.memoizedState,e)},useTransition:function(){return[Oa(Pa)[0],ka().memoizedState]},useMutableSource:Ba,useSyncExternalStore:Ma,useId:rl,unstable_isNewReconciler:!1};function hl(e,t){try{var r="",n=t;do{r+=He(n),n=n.return}while(n);var i=r}catch(Yce){i="\nError generating stack: "+Yce.message+"\n"+Yce.stack}return{value:e,source:t,stack:i,digest:null}}function fl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function pl(e,t){try{console.error(t.value)}catch(qce){setTimeout((function(){throw qce}))}}var ml="function"==typeof WeakMap?WeakMap:Map;function gl(e,t,r){(r=Is(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xu||(Xu=!0,qu=n),pl(0,t)},r}function vl(e,t,r){(r=Is(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){pl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){pl(0,t),"function"!=typeof n&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function yl(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ml;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function bl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _l(e,t,r,n,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Is(-1,1)).tag=2,Ns(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wl=Ee.ReactCurrentOwner,xl=!1;function El(e,t,r,n){t.child=null===e?ea(t,null,r,n):Js(t,e.child,r,n)}function Cl(e,t,r,n,i){r=r.render;var o=t.ref;return Ts(t,i),n=Da(e,t,r,n,o,i),r=Ta(),null===e||xl?(as&&r&&ns(t),t.flags|=1,El(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Al(e,t,r,n,i){if(null===e){var o=r.type;return"function"!=typeof o||Fc(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Nc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Dl(e,t,o,n,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:ci)(s,n)&&e.ref===t.ref)return Xl(e,t,i)}return t.flags|=1,(e=Ic(o,n)).ref=t.ref,e.return=t,t.child=e}function Dl(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(ci(o,n)&&e.ref===t.ref){if(xl=!1,t.pendingProps=n=o,0==(e.lanes&i))return t.lanes=e.lanes,Xl(e,t,i);0!=(131072&e.flags)&&(xl=!0)}}return kl(e,t,r,n,i)}function Tl(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Iu,Fu),Fu|=r;else{if(0==(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Iu,Fu),Fu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,ko(Iu,Fu),Fu|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,ko(Iu,Fu),Fu|=n;return El(e,t,i,r),t.child}function Sl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,r,n,i){var o=Fo(r)?Bo:Ro.current;return o=Mo(t,o),Ts(t,i),r=Da(e,t,r,n,o,i),n=Ta(),null===e||xl?(as&&n&&ns(t),t.flags|=1,El(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Pl(e,t,r,n,i){if(Fo(r)){var o=!0;jo(t)}else o=!1;if(Ts(t,i),null===t.stateNode)$l(e,t),$s(t,r,n),qs(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;u="object"==typeof u&&null!==u?Ss(u):Mo(t,u=Fo(r)?Bo:Ro.current);var c=r.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==n||l!==u)&&Xs(t,s,n,u),Bs=!1;var h=t.memoizedState;s.state=h,Us(t,n,s,i),l=t.memoizedState,a!==n||h!==l||Oo.current||Bs?("function"==typeof c&&(Gs(t,r,c,n),l=t.memoizedState),(a=Bs||Ws(t,r,a,n,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bs(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l="object"==typeof(l=r.contextType)&&null!==l?Ss(l):Mo(t,l=Fo(r)?Bo:Ro.current);var f=r.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Xs(t,s,n,l),Bs=!1,h=t.memoizedState,s.state=h,Us(t,n,s,i);var p=t.memoizedState;a!==d||h!==p||Oo.current||Bs?("function"==typeof f&&(Gs(t,r,f,n),p=t.memoizedState),(u=Bs||Ws(t,r,u,n,h,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Rl(e,t,r,n,o,i)}function Rl(e,t,r,n,i,o){Sl(e,t);var s=0!=(128&t.flags);if(!n&&!s)return i&&Uo(t,r,!1),Xl(e,t,o);n=t.stateNode,wl.current=t;var a=s&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=Js(t,e.child,null,o),t.child=Js(t,null,a,o)):El(e,t,a,o),t.memoizedState=n.state,i&&Uo(t,r,!0),t.child}function Ol(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),sa(e,t.containerInfo)}function Bl(e,t,r,n,i){return gs(),vs(i),t.flags|=256,El(e,t,r,n),t.child}var Ml,Fl,Il,Nl,Ll={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ul(e,t,r){var n,i=t.pendingProps,o=ca.current,s=!1,a=0!=(128&t.flags);if((n=a)||(n=(null===e||null!==e.memoizedState)&&0!=(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ko(ca,1&o),null===e)return hs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=jc(a,i,0,null),e=Lc(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jl(r),t.memoizedState=Ll,e):zl(t,a));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,Vl(e,t,s,n=fl(Error(le(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=jc({mode:"visible",children:n.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!=(1&t.mode)&&Js(t,e.child,null,s),t.child.memoizedState=jl(s),t.memoizedState=Ll,o);if(0==(1&t.mode))return Vl(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var a=n.dgst;return n=a,Vl(e,t,s,n=fl(o=Error(le(419)),n,void 0))}if(a=0!=(s&e.childLanes),xl||a){if(null!==(n=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(n.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),oc(n,e,i,-1))}return yc(),Vl(e,t,s,n=fl(Error(le(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ss=ho(i.nextSibling),os=t,as=!0,ls=null,null!==e&&(Yo[Zo++]=Jo,Yo[Zo++]=es,Yo[Zo++]=Qo,Jo=e.id,es=e.overflow,Qo=t),(t=zl(t,n.children)).flags|=4096,t)}(e,t,a,i,n,o,r);if(s){s=i.fallback,a=t.mode,n=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&a)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ic(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Ic(n,s):(s=Lc(s,a,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?jl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Ll,i}return e=(s=e.child).sibling,i=Ic(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function zl(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,r,n){return null!==n&&vs(n),Js(t,e.child,null,r),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ds(e.return,t,r)}function Hl(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Wl(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(El(e,t,n.children,r),0!=(2&(n=ca.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gl(e,r,t);else if(19===e.tag)Gl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ko(ca,n),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===da(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hl(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hl(t,!0,r,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(le(153));if(null!==t.child){for(r=Ic(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ic(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ql(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Yl(e,t,r){var n=t.pendingProps;switch(is(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return Fo(t.type)&&Io(),Kl(t),null;case 3:return n=t.stateNode,aa(),So(Oo),So(Ro),fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ps(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ls&&(uc(ls),ls=null))),Fl(e,t),Kl(t),null;case 5:ua(t);var i=oa(ia.current);if(r=t.type,null!==e&&null!=t.stateNode)Il(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(le(166));return Kl(t),null}if(e=oa(ra.current),ps(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[mo]=t,n[go]=o,e=0!=(1&t.mode),r){case"dialog":zi("cancel",n),zi("close",n);break;case"iframe":case"object":case"embed":zi("load",n);break;case"video":case"audio":for(i=0;i<Ni.length;i++)zi(Ni[i],n);break;case"source":zi("error",n);break;case"img":case"image":case"link":zi("error",n),zi("load",n);break;case"details":zi("toggle",n);break;case"input":Je(n,o),zi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zi("invalid",n);break;case"textarea":at(n,o),zi("invalid",n)}for(var s in _t(r,o),i=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?n.textContent!==a&&(!0!==o.suppressHydrationWarning&&eo(n.textContent,a,e),i=["children",a]):"number"==typeof a&&n.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&eo(n.textContent,a,e),i=["children",""+a]):ce.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&zi("scroll",n)}switch(r){case"input":Ke(n),rt(n,o,!0);break;case"textarea":Ke(n),ut(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=to)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ct(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),"select"===r&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[mo]=t,e[go]=n,Ml(e,t,!1,!1),t.stateNode=e;e:{switch(s=wt(r,n),r){case"dialog":zi("cancel",e),zi("close",e),i=n;break;case"iframe":case"object":case"embed":zi("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ni.length;i++)zi(Ni[i],e);i=n;break;case"source":zi("error",e),i=n;break;case"img":case"image":case"link":zi("error",e),zi("load",e),i=n;break;case"details":zi("toggle",e),i=n;break;case"input":Je(e,n),i=Qe(e,n),zi("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ue({},n,{value:void 0}),zi("invalid",e);break;case"textarea":at(e,n),i=st(e,n),zi("invalid",e)}for(o in _t(r,i),a=i)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?yt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ft(e,l):"children"===o?"string"==typeof l?("textarea"!==r||""!==l)&&pt(e,l):"number"==typeof l&&pt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ce.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zi("scroll",e):null!=l&&xe(e,o,l,s))}switch(r){case"input":Ke(e),rt(e,n,!1);break;case"textarea":Ke(e),ut(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Xe(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ot(e,!!n.multiple,o,!1):null!=n.defaultValue&&ot(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=to)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Nl(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(le(166));if(r=oa(ia.current),oa(ra.current),ps(t)){if(n=t.stateNode,r=t.memoizedProps,n[mo]=t,(o=n.nodeValue!==r)&&null!==(e=os))switch(e.tag){case 3:eo(n.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&eo(n.nodeValue,r,0!=(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[mo]=t,t.stateNode=n}return Kl(t),null;case 13:if(So(ca),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ss&&0!=(1&t.mode)&&0==(128&t.flags))ms(),gs(),t.flags|=98560,o=!1;else if(o=ps(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(le(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(le(317));o[mo]=t}else gs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),o=!1}else null!==ls&&(uc(ls),ls=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((n=null!==n)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ca.current)?0===Nu&&(Nu=3):yc())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return aa(),Fl(e,t),null===e&&Hi(t.stateNode.containerInfo),Kl(t),null;case 10:return As(t.type._context),Kl(t),null;case 19:if(So(ca),null===(o=t.memoizedState))return Kl(t),null;if(n=0!=(128&t.flags),null===(s=o.rendering))if(n)ql(o,!1);else{if(0!==Nu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=da(e))){for(t.flags|=128,ql(o,!1),null!==(n=s.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ko(ca,1&ca.current|2),t.child}e=e.sibling}null!==o.tail&&Jt()>Wu&&(t.flags|=128,n=!0,ql(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=da(s))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!as)return Kl(t),null}else 2*Jt()-o.renderingStartTime>Wu&&1073741824!==r&&(t.flags|=128,n=!0,ql(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=o.last)?r.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,r=ca.current,ko(ca,n?1&r|2:1&r),t):(Kl(t),null);case 22:case 23:return pc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&Fu)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(le(156,t.tag))}function Zl(e,t){switch(is(t),t.tag){case 1:return Fo(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return aa(),So(Oo),So(Ro),fa(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(So(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(le(340));gs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return So(ca),null;case 4:return aa(),null;case 10:return As(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ml=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Fl=function(){},Il=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,oa(ra.current);var o,s=null;switch(r){case"input":i=Qe(e,i),n=Qe(e,n),s=[];break;case"select":i=Ue({},i,{value:void 0}),n=Ue({},n,{value:void 0}),s=[];break;case"textarea":i=st(e,i),n=st(e,n),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(e.onclick=to)}for(u in _t(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(ce.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(ce.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&zi("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Nl=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ql=!1,Jl=!1,eu="function"==typeof WeakSet?WeakSet:Set,tu=null;function ru(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(x5){Tc(e,t,x5)}else r.current=null}function nu(e,t,r){try{r()}catch(x5){Tc(e,t,x5)}}var iu=!1;function ou(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&nu(t,r,o)}i=i.next}while(i!==n)}}function su(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function au(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function lu(e){var t=e.alternate;null!==t&&(e.alternate=null,lu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[mo],delete t[go],delete t[yo],delete t[bo],delete t[_o]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return 5===e.tag||3===e.tag||4===e.tag}function cu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function du(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=to));else if(4!==n&&null!==(e=e.child))for(du(e,t,r),e=e.sibling;null!==e;)du(e,t,r),e=e.sibling}function hu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(hu(e,t,r),e=e.sibling;null!==e;)hu(e,t,r),e=e.sibling}var fu=null,pu=!1;function mu(e,t,r){for(r=r.child;null!==r;)gu(e,t,r),r=r.sibling}function gu(e,t,r){if(ar&&"function"==typeof ar.onCommitFiberUnmount)try{ar.onCommitFiberUnmount(sr,r)}catch(E5){}switch(r.tag){case 5:Jl||ru(r,t);case 6:var n=fu,i=pu;fu=null,mu(e,t,r),pu=i,null!==(fu=n)&&(pu?(e=fu,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):fu.removeChild(r.stateNode));break;case 18:null!==fu&&(pu?(e=fu,r=r.stateNode,8===e.nodeType?co(e.parentNode,r):1===e.nodeType&&co(e,r),Hr(e)):co(fu,r.stateNode));break;case 4:n=fu,i=pu,fu=r.stateNode.containerInfo,pu=!0,mu(e,t,r),fu=n,pu=i;break;case 0:case 11:case 14:case 15:if(!Jl&&null!==(n=r.updateQueue)&&null!==(n=n.lastEffect)){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&nu(r,t,s),i=i.next}while(i!==n)}mu(e,t,r);break;case 1:if(!Jl&&(ru(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(E5){Tc(r,t,E5)}mu(e,t,r);break;case 21:mu(e,t,r);break;case 22:1&r.mode?(Jl=(n=Jl)||null!==r.memoizedState,mu(e,t,r),Jl=n):mu(e,t,r);break;default:mu(e,t,r)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new eu),t.forEach((function(t){var n=Rc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function yu(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:fu=a.stateNode,pu=!1;break e;case 3:case 4:fu=a.stateNode.containerInfo,pu=!0;break e}a=a.return}if(null===fu)throw Error(le(160));gu(o,s,i),fu=null,pu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(ohe){Tc(i,t,ohe)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bu(t,e),t=t.sibling}function bu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),_u(e),4&n){try{ou(3,e,e.return),su(3,e)}catch(ehe){Tc(e,e.return,ehe)}try{ou(5,e,e.return)}catch(ehe){Tc(e,e.return,ehe)}}break;case 1:yu(t,e),_u(e),512&n&&null!==r&&ru(r,r.return);break;case 5:if(yu(t,e),_u(e),512&n&&null!==r&&ru(r,r.return),32&e.flags){var i=e.stateNode;try{pt(i,"")}catch(ehe){Tc(e,e.return,ehe)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&et(i,o),wt(a,s);var u=wt(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];"style"===c?yt(i,d):"dangerouslySetInnerHTML"===c?ft(i,d):"children"===c?pt(i,d):xe(i,c,d,u)}switch(a){case"input":tt(i,o);break;case"textarea":lt(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ot(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?ot(i,!!o.multiple,o.defaultValue,!0):ot(i,!!o.multiple,o.multiple?[]:"",!1))}i[go]=o}catch(ehe){Tc(e,e.return,ehe)}}break;case 6:if(yu(t,e),_u(e),4&n){if(null===e.stateNode)throw Error(le(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(ehe){Tc(e,e.return,ehe)}}break;case 3:if(yu(t,e),_u(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(ehe){Tc(e,e.return,ehe)}break;case 4:default:yu(t,e),_u(e);break;case 13:yu(t,e),_u(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hu=Jt())),4&n&&vu(e);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&e.mode?(Jl=(u=Jl)||c,yu(t,e),Jl=u):yu(t,e),_u(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(tu=e,c=e.child;null!==c;){for(d=tu=c;null!==tu;){switch(f=(h=tu).child,h.tag){case 0:case 11:case 14:case 15:ou(4,h,h.return);break;case 1:ru(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(ehe){Tc(n,r,ehe)}}break;case 5:ru(h,h.return);break;case 22:if(null!==h.memoizedState){Cu(d);continue}}null!==f?(f.return=h,tu=f):Cu(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=d.stateNode,s=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=vt("display",s))}catch(ehe){Tc(e,e.return,ehe)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(ehe){Tc(e,e.return,ehe)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yu(t,e),_u(e),4&n&&vu(e);case 21:}}function _u(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(uu(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(pt(i,""),n.flags&=-33),hu(e,cu(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;du(e,cu(e),o);break;default:throw Error(le(161))}}catch(t$){Tc(e,e.return,t$)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,r){tu=e,xu(e)}function xu(e,t,r){for(var n=0!=(1&e.mode);null!==tu;){var i=tu,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Ql;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Jl;a=Ql;var u=Jl;if(Ql=s,(Jl=l)&&!u)for(tu=i;null!==tu;)l=(s=tu).child,22===s.tag&&null!==s.memoizedState?Au(i):null!==l?(l.return=s,tu=l):Au(i);for(;null!==o;)tu=o,xu(o),o=o.sibling;tu=i,Ql=a,Jl=u}Eu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,tu=o):Eu(e)}}function Eu(e){for(;null!==tu;){var t=tu;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jl||su(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jl)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:bs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}zs(t,s,r)}break;case 5:var a=t.stateNode;if(null===r&&4&t.flags){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Hr(d)}}}break;default:throw Error(le(163))}Jl||512&t.flags&&au(t)}catch(Wce){Tc(t,t.return,Wce)}}if(t===e){tu=null;break}if(null!==(r=t.sibling)){r.return=t.return,tu=r;break}tu=t.return}}function Cu(e){for(;null!==tu;){var t=tu;if(t===e){tu=null;break}var r=t.sibling;if(null!==r){r.return=t.return,tu=r;break}tu=t.return}}function Au(e){for(;null!==tu;){var t=tu;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{su(4,t)}catch(t$){Tc(t,r,t$)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(t$){Tc(t,i,t$)}}var o=t.return;try{au(t)}catch(t$){Tc(t,o,t$)}break;case 5:var s=t.return;try{au(t)}catch(t$){Tc(t,s,t$)}}}catch(t$){Tc(t,t.return,t$)}if(t===e){tu=null;break}var a=t.sibling;if(null!==a){a.return=t.return,tu=a;break}tu=t.return}}var Du,Tu=Math.ceil,Su=Ee.ReactCurrentDispatcher,ku=Ee.ReactCurrentOwner,Pu=Ee.ReactCurrentBatchConfig,Ru=0,Ou=null,Bu=null,Mu=0,Fu=0,Iu=To(0),Nu=0,Lu=null,ju=0,Uu=0,zu=0,Vu=null,Gu=null,Hu=0,Wu=1/0,$u=null,Xu=!1,qu=null,Ku=null,Yu=!1,Zu=null,Qu=0,Ju=0,ec=null,tc=-1,rc=0;function nc(){return 0!=(6&Ru)?Jt():-1!==tc?tc:tc=Jt()}function ic(e){return 0==(1&e.mode)?1:0!=(2&Ru)&&0!==Mu?Mu&-Mu:null!==ys.transition?(0===rc&&(rc=vr()),rc):0!==(e=wr)?e:e=void 0===(e=window.event)?16:Qr(e.type)}function oc(e,t,r,n){if(50<Ju)throw Ju=0,ec=null,Error(le(185));br(e,r,n),0!=(2&Ru)&&e===Ou||(e===Ou&&(0==(2&Ru)&&(Uu|=r),4===Nu&&cc(e,Mu)),sc(e,n),1===r&&0===Ru&&0==(1&t.mode)&&(Wu=Jt()+500,Vo&&Wo()))}function sc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-lr(o),a=1<<s,l=i[s];-1===l?0!=(a&r)&&0==(a&n)||(i[s]=mr(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var n=pr(e,e===Ou?Mu:0);if(0===n)null!==r&&Yt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Yt(r),1===t)0===e.tag?function(e){Vo=!0,Ho(e)}(dc.bind(null,e)):Ho(dc.bind(null,e)),lo((function(){0==(6&Ru)&&Wo()})),r=null;else{switch(xr(n)){case 1:r=tr;break;case 4:r=rr;break;case 16:default:r=nr;break;case 536870912:r=or}r=Oc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(tc=-1,rc=0,0!=(6&Ru))throw Error(le(327));var r=e.callbackNode;if(Ac()&&e.callbackNode!==r)return null;var n=pr(e,e===Ou?Mu:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=bc(e,n);else{t=n;var i=Ru;Ru|=2;var o=vc();for(Ou===e&&Mu===t||($u=null,Wu=Jt()+500,mc(e,t));;)try{wc();break}catch(E5){gc(e,E5)}Cs(),Su.current=o,Ru=i,null!==Bu?t=0:(Ou=null,Mu=0,t=Nu)}if(0!==t){if(2===t&&0!==(i=gr(e))&&(n=i,t=lc(e,i)),1===t)throw r=Lu,mc(e,0),cc(e,n),sc(e,Jt()),r;if(6===t)cc(e,n);else{if(i=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ui(o(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=bc(e,n))&&0!==(o=gr(e))&&(n=o,t=lc(e,o)),1===t))throw r=Lu,mc(e,0),cc(e,n),sc(e,Jt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:case 5:Cc(e,Gu,$u);break;case 3:if(cc(e,n),(130023424&n)===n&&10<(t=Hu+500-Jt())){if(0!==pr(e,0))break;if(((i=e.suspendedLanes)&n)!==n){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oo(Cc.bind(null,e,Gu,$u),t);break}Cc(e,Gu,$u);break;case 4:if(cc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-lr(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Jt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tu(n/1960))-n)){e.timeoutHandle=oo(Cc.bind(null,e,Gu,$u),n);break}Cc(e,Gu,$u);break;default:throw Error(le(329))}}}return sc(e,Jt()),e.callbackNode===r?ac.bind(null,e):null}function lc(e,t){var r=Vu;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Gu,Gu=r,null!==t&&uc(t)),e}function uc(e){null===Gu?Gu=e:Gu.push.apply(Gu,e)}function cc(e,t){for(t&=~zu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lr(t),n=1<<r;e[r]=-1,t&=~n}}function dc(e){if(0!=(6&Ru))throw Error(le(327));Ac();var t=pr(e,0);if(0==(1&t))return sc(e,Jt()),null;var r=bc(e,t);if(0!==e.tag&&2===r){var n=gr(e);0!==n&&(t=n,r=lc(e,n))}if(1===r)throw r=Lu,mc(e,0),cc(e,t),sc(e,Jt()),r;if(6===r)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,Gu,$u),sc(e,Jt()),null}function hc(e,t){var r=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=r)&&(Wu=Jt()+500,Vo&&Wo())}}function fc(e){null!==Zu&&0===Zu.tag&&0==(6&Ru)&&Ac();var t=Ru;Ru|=1;var r=Pu.transition,n=wr;try{if(Pu.transition=null,wr=1,e)return e()}finally{wr=n,Pu.transition=r,0==(6&(Ru=t))&&Wo()}}function pc(){Fu=Iu.current,So(Iu)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,so(r)),null!==Bu)for(r=Bu.return;null!==r;){var n=r;switch(is(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Io();break;case 3:aa(),So(Oo),So(Ro),fa();break;case 5:ua(n);break;case 4:aa();break;case 13:case 19:So(ca);break;case 10:As(n.type._context);break;case 22:case 23:pc()}r=r.return}if(Ou=e,Bu=e=Ic(e.current,null),Mu=Fu=t,Nu=0,Lu=null,zu=Uu=ju=0,Gu=Vu=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(n=(r=ks[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}ks=null}return e}function gc(e,t){for(;;){var r=Bu;try{if(Cs(),pa.current=ll,_a){for(var n=va.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}_a=!1}if(ga=0,ba=ya=va=null,wa=!1,xa=0,ku.current=null,null===r||null===r.return){Nu=1,Lu=t,Bu=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Mu,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=bl(s);if(null!==f){f.flags&=-257,_l(f,s,a,0,t),1&f.mode&&yl(o,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(0==(1&t)){yl(o,u,t),yc();break e}l=Error(le(426))}else if(as&&1&a.mode){var g=bl(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),_l(g,s,a,0,t),vs(hl(l,a));break e}}o=l=hl(l,a),4!==Nu&&(Nu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,gl(0,l,t));break e;case 1:a=l;var v=o.type,y=o.stateNode;if(0==(128&o.flags)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Ku||!Ku.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,vl(o,a,t));break e}}o=o.return}while(null!==o)}Ec(r)}catch(b){t=b,Bu===r&&null!==r&&(Bu=r=r.return);continue}break}}function vc(){var e=Su.current;return Su.current=ll,null===e?ll:e}function yc(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Ou||0==(268435455&ju)&&0==(268435455&Uu)||cc(Ou,Mu)}function bc(e,t){var r=Ru;Ru|=2;var n=vc();for(Ou===e&&Mu===t||($u=null,mc(e,t));;)try{_c();break}catch(she){gc(e,she)}if(Cs(),Ru=r,Su.current=n,null!==Bu)throw Error(le(261));return Ou=null,Mu=0,Nu}function _c(){for(;null!==Bu;)xc(Bu)}function wc(){for(;null!==Bu&&!Zt();)xc(Bu)}function xc(e){var t=Du(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Ec(e):Bu=t,ku.current=null}function Ec(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(r=Yl(r,t,Fu)))return void(Bu=r)}else{if(null!==(r=Zl(r,t)))return r.flags&=32767,void(Bu=r);if(null===e)return Nu=6,void(Bu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bu=t);Bu=t=e}while(null!==t);0===Nu&&(Nu=5)}function Cc(e,t,r){var n=wr,i=Pu.transition;try{Pu.transition=null,wr=1,function(e,t,r,n){do{Ac()}while(null!==Zu);if(0!=(6&Ru))throw Error(le(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-lr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,o),e===Ou&&(Bu=Ou=null,Mu=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Yu||(Yu=!0,Oc(nr,(function(){return Ac(),null}))),o=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||o){o=Pu.transition,Pu.transition=null;var s=wr;wr=1;var a=Ru;Ru|=4,ku.current=null,function(e,t){if(ro=$r,mi(e=pi())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(I5){r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==r||0!==i&&3!==d.nodeType||(a=s+i),d!==o||0!==n&&3!==d.nodeType||(l=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++u===i&&(a=s),h===o&&++c===n&&(l=s),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}r=-1===a||-1===l?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(no={focusedElem:e,selectionRange:r},$r=!1,tu=t;null!==tu;)if(e=(t=tu).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,tu=e;else for(;null!==tu;){t=tu;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:bs(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(le(163))}}catch(I5){Tc(t,t.return,I5)}if(null!==(e=t.sibling)){e.return=t.return,tu=e;break}tu=t.return}p=iu,iu=!1}(e,r),bu(r,e),gi(no),$r=!!ro,no=ro=null,e.current=r,wu(r),Qt(),Ru=a,wr=s,Pu.transition=o}else e.current=r;if(Yu&&(Yu=!1,Zu=e,Qu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(ar&&"function"==typeof ar.onCommitFiberRoot)try{ar.onCommitFiberRoot(sr,e,void 0,128==(128&e.current.flags))}catch(t){}}(r.stateNode),sc(e,Jt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,e=qu,qu=null,e;0!=(1&Qu)&&0!==e.tag&&Ac(),0!=(1&(o=e.pendingLanes))?e===ec?Ju++:(Ju=0,ec=e):Ju=0,Wo()}(e,t,r,n)}finally{Pu.transition=i,wr=n}return null}function Ac(){if(null!==Zu){var e=xr(Qu),t=Pu.transition,r=wr;try{if(Pu.transition=null,wr=16>e?16:e,null===Zu)var n=!1;else{if(e=Zu,Zu=null,Qu=0,0!=(6&Ru))throw Error(le(331));var i=Ru;for(Ru|=4,tu=e.current;null!==tu;){var o=tu,s=o.child;if(0!=(16&tu.flags)){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(tu=u;null!==tu;){var c=tu;switch(c.tag){case 0:case 11:case 15:ou(8,c,o)}var d=c.child;if(null!==d)d.return=c,tu=d;else for(;null!==tu;){var h=(c=tu).sibling,f=c.return;if(lu(c),c===u){tu=null;break}if(null!==h){h.return=f,tu=h;break}tu=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}tu=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,tu=s;else e:for(;null!==tu;){if(0!=(2048&(o=tu).flags))switch(o.tag){case 0:case 11:case 15:ou(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,tu=v;break e}tu=o.return}}var y=e.current;for(tu=y;null!==tu;){var b=(s=tu).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,tu=b;else e:for(s=y;null!==tu;){if(0!=(2048&(a=tu).flags))try{switch(a.tag){case 0:case 11:case 15:su(9,a)}}catch(w){Tc(a,a.return,w)}if(a===s){tu=null;break e}var _=a.sibling;if(null!==_){_.return=a.return,tu=_;break e}tu=a.return}}if(Ru=i,Wo(),ar&&"function"==typeof ar.onPostCommitFiberRoot)try{ar.onPostCommitFiberRoot(sr,e)}catch(w){}n=!0}return n}finally{wr=r,Pu.transition=t}}return!1}function Dc(e,t,r){e=Ns(e,t=gl(0,t=hl(r,t),1),1),t=nc(),null!==e&&(br(e,1,t),sc(e,t))}function Tc(e,t,r){if(3===e.tag)Dc(e,e,r);else for(;null!==t;){if(3===t.tag){Dc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ku||!Ku.has(n))){t=Ns(t,e=vl(t,e=hl(r,e),1),1),e=nc(),null!==t&&(br(t,1,e),sc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&r,Ou===e&&(Mu&r)===r&&(4===Nu||3===Nu&&(130023424&Mu)===Mu&&500>Jt()-Hu?mc(e,0):zu|=r),sc(e,t)}function kc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=hr,0==(130023424&(hr<<=1))&&(hr=4194304)));var r=nc();null!==(e=Os(e,t))&&(br(e,t,r),sc(e,r))}function Pc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),kc(e,r)}function Rc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}null!==n&&n.delete(t),kc(e,r)}function Oc(e,t){return Kt(e,t)}function Bc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,r,n){return new Bc(e,t,r,n)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var r=e.alternate;return null===r?((r=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nc(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Fc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case De:return Lc(r.children,i,o,t);case Te:s=8,i|=8;break;case Se:return(e=Mc(12,r,t,2|i)).elementType=Se,e.lanes=o,e;case Oe:return(e=Mc(13,r,t,i)).elementType=Oe,e.lanes=o,e;case Be:return(e=Mc(19,r,t,i)).elementType=Be,e.lanes=o,e;case Ie:return jc(r,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ke:s=10;break e;case Pe:s=9;break e;case Re:s=11;break e;case Me:s=14;break e;case Fe:s=16,n=null;break e}throw Error(le(130,null==e?e:typeof e,""))}return(t=Mc(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Lc(e,t,r,n){return(e=Mc(7,e,n,t)).lanes=r,e}function jc(e,t,r,n){return(e=Mc(22,e,n,t)).elementType=Ie,e.lanes=r,e.stateNode={isHidden:!1},e}function Uc(e,t,r){return(e=Mc(6,e,null,t)).lanes=r,e}function zc(e,t,r){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yr(0),this.expirationTimes=yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gc(e,t,r,n,i,o,s,a,l){return e=new Vc(e,t,r,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(o),e}function Hc(e){if(!e)return Po;e:{if(Ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(le(171))}if(1===e.tag){var r=e.type;if(Fo(r))return Lo(e,r,t)}return t}function Wc(e,t,r,n,i,o,s,a,l){return(e=Gc(r,n,!0,e,0,o,0,a,l)).context=Hc(null),r=e.current,(o=Is(n=nc(),i=ic(r))).callback=null!=t?t:null,Ns(r,o,i),e.current.lanes=i,br(e,i,n),sc(e,n),e}function $c(e,t,r,n){var i=t.current,o=nc(),s=ic(i);return r=Hc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Is(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ns(i,t,s))&&(oc(e,i,s,o),Ls(e,i,s)),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Du=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oo.current)xl=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return xl=!1,function(e,t,r){switch(t.tag){case 3:Ol(t),gs();break;case 5:la(t);break;case 1:Fo(t.type)&&jo(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ko(_s,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ko(ca,1&ca.current),t.flags|=128,null):0!=(r&t.child.childLanes)?Ul(e,t,r):(ko(ca,1&ca.current),null!==(e=Xl(e,t,r))?e.sibling:null);ko(ca,1&ca.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return Wl(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ko(ca,ca.current),n)break;return null;case 22:case 23:return t.lanes=0,Tl(e,t,r)}return Xl(e,t,r)}(e,t,r);xl=0!=(131072&e.flags)}else xl=!1,as&&0!=(1048576&t.flags)&&rs(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$l(e,t),e=t.pendingProps;var i=Mo(t,Ro.current);Ts(t,r),i=Da(null,t,n,e,i,r);var o=Ta();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fo(n)?(o=!0,jo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,qs(t,n,e,r),t=Rl(null,t,n,!0,o,r)):(t.tag=0,as&&o&&ns(t),El(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch($l(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"==typeof e)return Fc(e)?1:0;if(null!=e){if((e=e.$$typeof)===Re)return 11;if(e===Me)return 14}return 2}(n),e=bs(n,e),i){case 0:t=kl(null,t,n,e,r);break e;case 1:t=Pl(null,t,n,e,r);break e;case 11:t=Cl(null,t,n,e,r);break e;case 14:t=Al(null,t,n,bs(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,kl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 1:return n=t.type,i=t.pendingProps,Pl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 3:e:{if(Ol(t),null===e)throw Error(le(387));n=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Us(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Bl(e,t,n,r,i=hl(Error(le(423)),t));break e}if(n!==i){t=Bl(e,t,n,r,i=hl(Error(le(424)),t));break e}for(ss=ho(t.stateNode.containerInfo.firstChild),os=t,as=!0,ls=null,r=ea(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(gs(),n===i){t=Xl(e,t,r);break e}El(e,t,n,r)}t=t.child}return t;case 5:return la(t),null===e&&hs(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,io(n,i)?s=null:null!==o&&io(n,o)&&(t.flags|=32),Sl(e,t),El(e,t,s,r),t.child;case 6:return null===e&&hs(t),null;case 13:return Ul(e,t,r);case 4:return sa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Js(t,null,n,r):El(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Cl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 7:return El(e,t,t.pendingProps,r),t.child;case 8:case 12:return El(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ko(_s,n._currentValue),n._currentValue=s,null!==o)if(ui(o.value,s)){if(o.children===i.children&&!Oo.current){t=Xl(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=Is(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ds(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(le(341));s.lanes|=r,null!==(a=s.alternate)&&(a.lanes|=r),Ds(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}El(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ts(t,r),n=n(i=Ss(i)),t.flags|=1,El(e,t,n,r),t.child;case 14:return i=bs(n=t.type,t.pendingProps),Al(e,t,n,i=bs(n.type,i),r);case 15:return Dl(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bs(n,i),$l(e,t),t.tag=1,Fo(n)?(e=!0,jo(t)):e=!1,Ts(t,r),$s(t,n,i),qs(t,n,i,r),Rl(null,t,n,!0,e,r);case 19:return Wl(e,t,r);case 22:return Tl(e,t,r)}throw Error(le(156,t.tag))};var Yc="function"==typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ed(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function td(){}function rd(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Xc(s);a.call(e)}}$c(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"==typeof n){var o=n;n=function(){var e=Xc(s);o.call(e)}}var s=Wc(t,n,e,0,null,!1,0,"",td);return e._reactRootContainer=s,e[vo]=s.current,Hi(8===e.nodeType?e.parentNode:e),fc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof n){var a=n;n=function(){var e=Xc(l);a.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",td);return e._reactRootContainer=l,e[vo]=l.current,Hi(8===e.nodeType?e.parentNode:e),fc((function(){$c(t,l,r,n)})),l}(r,t,e,i,n);return Xc(s)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(le(409));$c(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){$c(null,e,null,null)})),t[vo]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fr.length&&0!==t&&t<Fr[r].priority;r++);Fr.splice(r,0,e),0===r&&jr(e)}},Er=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fr(t.pendingLanes);0!==r&&(_r(t,1|r),sc(t,Jt()),0==(6&Ru)&&(Wu=Jt()+500,Wo()))}break;case 13:fc((function(){var t=Os(e,1);if(null!==t){var r=nc();oc(t,e,1,r)}})),Kc(e,1)}},Cr=function(e){if(13===e.tag){var t=Os(e,134217728);null!==t&&oc(t,e,134217728,nc()),Kc(e,134217728)}},Ar=function(e){if(13===e.tag){var t=ic(e),r=Os(e,t);null!==r&&oc(r,e,t,nc()),Kc(e,t)}},Dr=function(){return wr},Tr=function(e,t){var r=wr;try{return wr=e,t()}finally{wr=r}},Ct=function(e,t,r){switch(t){case"input":if(tt(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Co(n);if(!i)throw Error(le(90));Ye(n),tt(n,i)}}}break;case"textarea":lt(e,r);break;case"select":null!=(t=r.value)&&ot(e,!!r.multiple,t,!1)}},Pt=hc,Rt=fc;var nd={usingClientEntryPoint:!1,Events:[xo,Eo,Co,St,kt,hc]},id={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},od={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xt(e))?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{sr=sd.inject(od),ar=sd}catch(Jce){}}re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nd,re.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(le(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ae,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},re.createRoot=function(e,t){if(!Jc(e))throw Error(le(299));var r=!1,n="",i=Yc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gc(e,1,!1,null,0,r,0,n,i),e[vo]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Zc(t)},re.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(le(188));throw e=Object.keys(e).join(","),Error(le(268,e))}return e=null===(e=Xt(t))?null:e.stateNode},re.flushSync=function(e){return fc(e)},re.hydrate=function(e,t,r){if(!ed(t))throw Error(le(200));return rd(null,e,t,!0,r)},re.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(le(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Yc;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Wc(t,null,e,1,null!=r?r:null,i,0,o,s),e[vo]=t.current,Hi(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Qc(t)},re.render=function(e,t,r){if(!ed(t))throw Error(le(200));return rd(null,e,t,!1,r)},re.unmountComponentAtNode=function(e){if(!ed(e))throw Error(le(40));return!!e._reactRootContainer&&(fc((function(){rd(null,null,e,!1,(function(){e._reactRootContainer=null,e[vo]=null}))})),!0)},re.unstable_batchedUpdates=hc,re.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ed(r))throw Error(le(200));if(null==e||void 0===e._reactInternals)throw Error(le(38));return rd(e,t,r,!1,n)},re.version="18.2.0-next-9e3b772b8-20220608",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),te.exports=re;var ad=te.exports;const ld=i(ad);var ud,cd=ad;
/**
			 * @remix-run/router v1.11.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */
function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}ee.createRoot=cd.createRoot,ee.hydrateRoot=cd.hydrateRoot,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ud||(ud={}));const hd="popstate";function fd(e){return void 0===e&&(e={}),function(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=ud.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function d(){a=ud.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function h(e,t){a=ud.Push;let n=vd(m.location,e,t);r&&r(n,e),u=c()+1;let d=gd(n,u),h=m.createHref(n);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:a,location:m.location,delta:1})}function f(e,t){a=ud.Replace;let n=vd(m.location,e,t);r&&r(n,e),u=c();let i=gd(n,u),d=m.createHref(n);s.replaceState(i,"",d),o&&l&&l({action:a,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"==typeof e?e:yd(e);return pd(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==u&&(u=0,s.replaceState(dd({},s.state,{idx:u}),""));let m={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hd,d),l=e,()=>{i.removeEventListener(hd,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>s.go(e)};return m}((function(e,t){let{pathname:r="/",search:n="",hash:i=""}=bd(e.location.hash.substr(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),vd("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"==typeof t?t:yd(t))}),(function(e,t){md("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function pd(e,t){if(!1===e||null==e)throw new Error(t)}function md(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(she){}}}function gd(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,r,n){return void 0===r&&(r=null),dd({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?bd(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function yd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var _d;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_d||(_d={}));const wd=new Set(["lazy","caseSensitive","path","id","index","children"]);function xd(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n={}),e.map(((e,i)=>{let o=[...r,i],s="string"==typeof e.id?e.id:o.join("-");if(pd(!0!==e.index||!e.children,"Cannot specify children on an index route"),pd(!n[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let r=dd({},e,t(e),{id:s});return n[s]=r,r}{let r=dd({},e,t(e),{id:s,children:void 0});return n[s]=r,e.children&&(r.children=xd(e.children,t,o,n)),r}}))}function Ed(e,t,r){void 0===r&&(r="/");let n=Nd(("string"==typeof t?bd(t):t).pathname||"/",r);if(null==n)return null;let i=Cd(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=Md(i[s],Id(n));return o}function Cd(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(pd(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let a=zd([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(pd(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Cd(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Bd(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of Ad(e.path))i(e,t,n);else i(e,t)})),t}function Ad(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return i?[o,""]:[o];let s=Ad(n.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Dd=/^:\w+$/,Td=3,Sd=2,kd=1,Pd=10,Rd=-2,Od=e=>"*"===e;function Bd(e,t){let r=e.split("/"),n=r.length;return r.some(Od)&&(n+=Rd),t&&(n+=Sd),r.filter((e=>!Od(e))).reduce(((e,t)=>e+(Dd.test(t)?Td:""===t?kd:Pd)),n)}function Md(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],a=s===r.length-1,l="/"===i?t:t.slice(i.length)||"/",u=Fd({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(n,u.params);let c=e.route;o.push({params:n,pathname:zd([i,u.pathname]),pathnameBase:Vd(zd([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=zd([i,u.pathnameBase]))}return o}function Fd(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),md("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=a[r]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[r];return e[n]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(r){return md(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(l||"",n),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function Id(e){try{return decodeURI(e)}catch(t){return md(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Nd(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Ld(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function jd(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ud(e,t,r,n){let i;void 0===n&&(n=!1),"string"==typeof e?i=bd(e):(i=dd({},e),pd(!i.pathname||!i.pathname.includes("?"),Ld("?","pathname","search",i)),pd(!i.pathname||!i.pathname.includes("#"),Ld("#","pathname","hash",i)),pd(!i.search||!i.search.includes("#"),Ld("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(n||null==a)o=r;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"==typeof e?bd(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:Gd(n),hash:Hd(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const zd=e=>e.join("/").replace(/\/\/+/g,"/"),Vd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Hd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Wd{constructor(e,t,r,n){void 0===n&&(n=!1),this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function $d(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const Xd=["post","put","patch","delete"],qd=new Set(Xd),Kd=["get",...Xd],Yd=new Set(Kd),Zd=new Set([301,302,303,307,308]),Qd=new Set([307,308]),Jd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eh={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},th={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nh=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ih="remix-router-transitions";function oh(e,t,r,n,i,o,s){let a,l;if(null!=o&&"path"!==s){a=[];for(let e of t)if(a.push(e),e.route.id===o){l=e;break}}else a=t,l=t[t.length-1];let u=Ud(i||".",jd(a).map((e=>e.pathnameBase)),Nd(e.pathname,r)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Sh(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&"/"!==r&&(u.pathname="/"===u.pathname?r:zd([r,u.pathname])),yd(u)}function sh(e,t,r,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:r};if(n.formMethod&&(i=n.formMethod,!Yd.has(i.toLowerCase())))return{path:r,error:bh(405,{method:n.formMethod})};var i;let o,s,a=()=>({path:r,error:bh(400,{type:"invalid-body"})}),l=n.formMethod||"get",u=e?l.toUpperCase():l.toLowerCase(),c=wh(r);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Ah(u))return a();let e="string"==typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[r,n]=t;return""+e+r+"="+n+"\n"}),""):String(n.body);return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Ah(u))return a();try{let e="string"==typeof n.body?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(she){return a()}}}if(pd("function"==typeof FormData,"FormData is not available in this environment"),n.formData)o=fh(n.formData),s=n.formData;else if(n.body instanceof FormData)o=fh(n.body),s=n.body;else if(n.body instanceof URLSearchParams)o=n.body,s=ph(o);else if(null==n.body)o=new URLSearchParams,s=new FormData;else try{o=new URLSearchParams(n.body),s=ph(o)}catch(she){return a()}let d={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ah(d.formMethod))return{path:r,submission:d};let h=bd(r);return t&&h.search&&Sh(h.search)&&o.append("index",""),h.search="?"+o,{path:yd(h),submission:d}}function ah(e,t,r,n,i,o,s,a,l,u,c,d,h,f){let p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,m=e.createURL(t.location),g=e.createURL(i),v=f?Object.keys(f)[0]:void 0,y=function(e,t){let r=e;if(t){let n=e.findIndex((e=>e.route.id===t));n>=0&&(r=e.slice(0,n))}return r}(r,v),b=y.filter(((e,r)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,r){let n=!t||r.route.id!==t.route.id,i=void 0===e[r.route.id];return n||i}(t.loaderData,t.matches[r],e)||s.some((t=>t===e.route.id)))return!0;let i=t.matches[r],a=e;return uh(e,dd({currentUrl:m,currentParams:i.params,nextUrl:g,nextParams:a.params},n,{actionResult:p,defaultShouldRevalidate:o||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||lh(i,a)}))})),_=[];return l.forEach(((e,i)=>{if(!r.some((t=>t.route.id===e.routeId)))return;let s=Ed(c,e.path,d);if(!s)return void _.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),h=kh(s,e.path),f=!1;f=!u.has(i)&&(!!a.includes(i)||(l&&"idle"!==l.state&&void 0===l.data?o:uh(h,dd({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:p,defaultShouldRevalidate:o})))),f&&_.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})})),[b,_]}function lh(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function uh(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"==typeof r)return r}return t.defaultShouldRevalidate}async function ch(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];pd(i,"No route found in manifest");let o={};for(let s in n){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;md(!e,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||wd.has(s)||(o[s]=n[s])}Object.assign(i,o),Object.assign(i,dd({},t(i),{lazy:void 0}))}async function dh(e,t,r,n,i,o,s,a){let l,u,c;void 0===a&&(a={});let d=e=>{let n,i=new Promise(((e,t)=>n=t));return c=()=>n(),t.signal.addEventListener("abort",c),Promise.race([e({request:t,params:r.params,context:a.requestContext}),i])};try{let n=r.route[e];if(r.route.lazy)if(n){let e,t=await Promise.all([d(n).catch((t=>{e=t})),ch(r.route,o,i)]);if(e)throw e;u=t[0]}else{if(await ch(r.route,o,i),n=r.route[e],!n){if("action"===e){let e=new URL(t.url),n=e.pathname+e.search;throw bh(405,{method:t.method,pathname:n,routeId:r.route.id})}return{type:_d.data,data:void 0}}u=await d(n)}else{if(!n){let e=new URL(t.url);throw bh(404,{pathname:e.pathname+e.search})}u=await d(n)}pd(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(she){l=_d.error,u=she}finally{c&&t.signal.removeEventListener("abort",c)}if(null!=(h=u)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,i=u.status;if(Zd.has(i)){let e=u.headers.get("Location");if(pd(e,"Redirects returned/thrown from loaders/actions must have a Location header"),rh.test(e)){if(!a.isStaticRequest){let r=new URL(t.url),n=e.startsWith("//")?new URL(r.protocol+e):new URL(e),i=null!=Nd(n.pathname,s);n.origin===r.origin&&i&&(e=n.pathname+n.search+n.hash)}}else e=oh(new URL(t.url),n.slice(0,n.indexOf(r)+1),s,!0,e);if(a.isStaticRequest)throw u.headers.set("Location",e),u;return{type:_d.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(a.isRouteRequest)throw{type:l===_d.error?_d.error:_d.data,response:u};let o=u.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await u.json():await u.text(),l===_d.error?{type:l,error:new Wd(i,u.statusText,e),headers:u.headers}:{type:_d.data,data:e,statusCode:u.status,headers:u.headers}}var h,f,p;return l===_d.error?{type:l,error:u}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(u)?{type:_d.deferred,deferredData:u,statusCode:null==(f=u.init)?void 0:f.status,headers:(null==(p=u.init)?void 0:p.headers)&&new Headers(u.init.headers)}:{type:_d.data,data:u}}function hh(e,t,r,n){let i=e.createURL(wh(t)).toString(),o={signal:r};if(n&&Ah(n.formMethod)){let{formMethod:e,formEncType:t}=n;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(n.json)):"text/plain"===t?o.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?o.body=fh(n.formData):o.body=n.formData}return new Request(i,o)}function fh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,"string"==typeof n?n:n.name);return t}function ph(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function mh(e,t,r,n,i,o,s,a){let{loaderData:l,errors:u}=function(e,t,r,n,i){let o,s={},a=null,l=!1,u={};return r.forEach(((r,c)=>{let d=t[c].route.id;if(pd(!Ch(r),"Cannot handle redirect results in processLoaderData"),Eh(r)){let t=vh(e,d),i=r.error;n&&(i=Object.values(n)[0],n=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),s[d]=void 0,l||(l=!0,o=$d(r.error)?r.error.status:500),r.headers&&(u[d]=r.headers)}else xh(r)?(i.set(d,r.deferredData),s[d]=r.deferredData.data):s[d]=r.data,null==r.statusCode||200===r.statusCode||l||(o=r.statusCode),r.headers&&(u[d]=r.headers)})),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}(t,r,n,i,a);for(let c=0;c<o.length;c++){let{key:t,match:r,controller:n}=o[c];pd(void 0!==s&&void 0!==s[c],"Did not find corresponding fetcher result");let i=s[c];if(!n||!n.signal.aborted)if(Eh(i)){let n=vh(e.matches,null==r?void 0:r.route.id);u&&u[n.route.id]||(u=dd({},u,{[n.route.id]:i.error})),e.fetchers.delete(t)}else if(Ch(i))pd(!1,"Unhandled fetcher revalidation redirect");else if(xh(i))pd(!1,"Unhandled fetcher deferred data");else{let r=Bh(i.data);e.fetchers.set(t,r)}}return{loaderData:l,errors:u}}function gh(e,t,r,n){let i=dd({},t);for(let o of r){let r=o.route.id;if(t.hasOwnProperty(r)?void 0!==t[r]&&(i[r]=t[r]):void 0!==e[r]&&o.route.loader&&(i[r]=e[r]),n&&n.hasOwnProperty(r))break}return i}function vh(e,t){let r=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return r.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function yh(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bh(e,t){let{pathname:r,routeId:n,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):404===e?(s="Not Found",a='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Wd(e||500,s,new Error(a),!0)}function _h(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Ch(r))return{result:r,idx:t}}}function wh(e){return yd(dd({},"string"==typeof e?bd(e):e,{hash:""}))}function xh(e){return e.type===_d.deferred}function Eh(e){return e.type===_d.error}function Ch(e){return(e&&e.type)===_d.redirect}function Ah(e){return qd.has(e.toLowerCase())}async function Dh(e,t,r,n,i,o){for(let s=0;s<r.length;s++){let a=r[s],l=t[s];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!lh(u,l)&&void 0!==(o&&o[l.route.id]);if(xh(a)&&(i||c)){let e=n[s];pd(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Th(a,e,i).then((e=>{e&&(r[s]=e||r[s])}))}}}async function Th(e,t,r){if(void 0===r&&(r=!1),!(await e.deferredData.resolveData(t))){if(r)try{return{type:_d.data,data:e.deferredData.unwrappedData}}catch(she){return{type:_d.error,error:she}}return{type:_d.data,data:e.deferredData.data}}}function Sh(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function kh(e,t){let r="string"==typeof t?bd(t).search:t.search;if(e[e.length-1].route.index&&Sh(r||""))return e[e.length-1];let n=jd(e);return n[n.length-1]}function Ph(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:s}=e;if(t&&r&&n)return null!=i?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}:void 0}function Rh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Oh(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Bh(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}const Fh=G.createContext(null),Ih=G.createContext(null),Nh=G.createContext(null),Lh=G.createContext(null),jh=G.createContext({outlet:null,matches:[],isDataRoute:!1}),Uh=G.createContext(null);function zh(){return null!=G.useContext(Lh)}function Vh(e,t,r){zh()||pd(!1);let{navigator:n}=G.useContext(Nh),{matches:i}=G.useContext(jh),o=i[i.length-1],s=o?o.params:{};!o||o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l,u=(zh()||pd(!1),G.useContext(Lh).location);if(t){var c;let e="string"==typeof t?bd(t):t;"/"===a||(null==(c=e.pathname)?void 0:c.startsWith(a))||pd(!1),l=e}else l=u;let d=l.pathname||"/",h=Ed(e,{pathname:"/"===a?d:d.slice(a.length)||"/"}),f=function(e,t,r){var n,i;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==e){if(null==(i=r)||!i.errors)return null;e=r.matches}let o=e,s=null==(n=r)?void 0:n.errors;if(null!=s){let e=o.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||pd(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,n,i)=>{let a=n.route.id?null==s?void 0:s[n.route.id]:null,l=null;r&&(l=n.route.errorElement||Hh);let u=t.concat(o.slice(0,i+1)),c=()=>{let t;return t=a?l:n.route.Component?G.createElement(n.route.Component,null):n.route.element?n.route.element:e,G.createElement($h,{match:n,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?G.createElement(Wh,{location:r.location,revalidation:r.revalidation,component:l,error:a,children:c(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):c()}),null)}(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:zd([a,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?a:zd([a,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r);return t&&f?G.createElement(Lh.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:ud.Pop}},f):f}function Gh(){let e=function(){var e;let t=G.useContext(Uh),r=function(e){let t=G.useContext(Ih);return t||pd(!1),t}(Xh.UseRouteError),n=function(e){let t=function(e){let t=G.useContext(jh);return t||pd(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||pd(!1),r.route.id}(Xh.UseRouteError);return t||(null==(e=r.errors)?void 0:e[n])}(),t=$d(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:n},r):null,null)}const Hh=G.createElement(Gh,null);class Wh extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?G.createElement(jh.Provider,{value:this.props.routeContext},G.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $h(e){let{routeContext:t,match:r,children:n}=e,i=G.useContext(Fh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(jh.Provider,{value:t},n)}var Xh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xh||{});function qh(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ud.Pop,navigator:o,static:s=!1}=e;zh()&&pd(!1);let a=t.replace(/^\/*/,"/"),l=G.useMemo((()=>({basename:a,navigator:o,static:s})),[a,o,s]);"string"==typeof n&&(n=bd(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=G.useMemo((()=>{let e=Nd(u,a);return null==e?null:{location:{pathname:e,search:c,hash:d,state:h,key:f},navigationType:i}}),[a,u,c,d,h,f,i]);return null==p?null:G.createElement(Nh.Provider,{value:l},G.createElement(Lh.Provider,{children:r,value:p}))}function Kh(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:G.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:G.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}
/**
			 * React Router DOM v6.18.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}function Zh(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Yh({},t,{errors:Qh(t.errors)})),t}function Qh(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&"RouteErrorResponse"===i.__type)r[n]=new Wd(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"==typeof e)try{let t=new e(i.message);t.stack="",r[n]=t}catch(she){}}if(null==r[n]){let e=new Error(i.message);e.stack="",r[n]=e}}else r[n]=i;return r}new Promise((()=>{}));const Jh=G.createContext({isTransitioning:!1}),ef=G.createContext(new Map),tf=W.startTransition;class rf{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function nf(e){let{routes:t,state:r}=e;return Vh(t,void 0,r)}var of,sf;function af(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=af(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lf(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=af(e))&&(n&&(n+=" "),n+=t);return n}!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"}(of||(of={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(sf||(sf={}));const uf=e=>{const t=ff(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),cf(r,t)||hf(e)},getConflictingClassGroupIds:(e,t)=>{const i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}},cf=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?cf(e.slice(1),n):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return t.validators.find((({validator:e})=>e(o)))?.classGroupId},df=/^\[(.+)\]$/,hf=e=>{if(df.test(e)){const t=df.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ff=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return vf(Object.entries(e.classGroups),r).forEach((([e,r])=>{pf(r,n,e,t)})),n},pf=(e,t,r,n)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return gf(e)?void pf(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((([e,i])=>{pf(i,mf(t,e),r,n)}))}else(""===e?t:mf(t,e)).classGroupId=r}))},mf=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},gf=e=>e.isThemeGetter,vf=(e,t)=>t?e.map((([e,r])=>[e,r.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,r])=>[t+e,r]))):e))])):e,yf=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},bf=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],o=t.length,s=e=>{const r=[];let s,a=0,l=0;for(let d=0;d<e.length;d++){let u=e[d];if(0===a){if(u===i&&(n||e.slice(d,d+o)===t)){r.push(e.slice(l,d)),l=d+o;continue}if("/"===u){s=d;continue}}"["===u?a++:"]"===u&&a--}const u=0===r.length?e:e.substring(l),c=u.startsWith("!");return{modifiers:r,hasImportantModifier:c,baseClassName:c?u.substring(1):u,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return r?e=>r({className:e,parseClassName:s}):s},_f=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},wf=/\s+/;function xf(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Ef(e))&&(n&&(n+=" "),n+=t);return n}const Ef=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ef(e[n]))&&(r&&(r+=" "),r+=t);return r};function Cf(e,...t){let r,n,i,o=function(a){const l=t.reduce(((e,t)=>t(e)),e());return r=(e=>({cache:yf(e.cacheSize),parseClassName:bf(e),...uf(e)}))(l),n=r.cache.get,i=r.cache.set,o=s,s(a)};function s(e){const t=n(e);if(t)return t;const o=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(wf);let a="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:d}=r(e);let h=Boolean(d),f=n(h?c.substring(0,d):c);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=n(c),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=_f(t).join(":"),m=u?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const v=i(f,h);for(let r=0;r<v.length;++r){const e=v[r];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,r);return i(e,o),o}return function(){return o(xf.apply(null,arguments))}}const Af=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Df=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tf=/^\d+\/\d+$/,Sf=new Set(["px","full","screen"]),kf=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pf=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rf=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Of=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bf=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mf=e=>If(e)||Sf.has(e)||Tf.test(e),Ff=e=>Kf(e,"length",Yf),If=e=>Boolean(e)&&!Number.isNaN(Number(e)),Nf=e=>Kf(e,"number",If),Lf=e=>Boolean(e)&&Number.isInteger(Number(e)),jf=e=>e.endsWith("%")&&If(e.slice(0,-1)),Uf=e=>Df.test(e),zf=e=>kf.test(e),Vf=new Set(["length","size","percentage"]),Gf=e=>Kf(e,Vf,Zf),Hf=e=>Kf(e,"position",Zf),Wf=new Set(["image","url"]),$f=e=>Kf(e,Wf,Jf),Xf=e=>Kf(e,"",Qf),qf=()=>!0,Kf=(e,t,r)=>{const n=Df.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Yf=e=>Pf.test(e)&&!Rf.test(e),Zf=()=>!1,Qf=e=>Of.test(e),Jf=e=>Bf.test(e),ep=e("t",Cf((()=>{const e=Af("colors"),t=Af("spacing"),r=Af("blur"),n=Af("brightness"),i=Af("borderColor"),o=Af("borderRadius"),s=Af("borderSpacing"),a=Af("borderWidth"),l=Af("contrast"),u=Af("grayscale"),c=Af("hueRotate"),d=Af("invert"),h=Af("gap"),f=Af("gradientColorStops"),p=Af("gradientColorStopPositions"),m=Af("inset"),g=Af("margin"),v=Af("opacity"),y=Af("padding"),b=Af("saturate"),_=Af("scale"),w=Af("sepia"),x=Af("skew"),E=Af("space"),C=Af("translate"),A=()=>["auto",Uf,t],D=()=>[Uf,t],T=()=>["",Mf,Ff],S=()=>["auto",If,Uf],k=()=>["","0",Uf],P=()=>[If,Uf];return{cacheSize:500,separator:":",theme:{colors:[qf],spacing:[Mf,Ff],blur:["none","",zf,Uf],brightness:P(),borderColor:[e],borderRadius:["none","","full",zf,Uf],borderSpacing:D(),borderWidth:T(),contrast:P(),grayscale:k(),hueRotate:P(),invert:k(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[jf,Ff],inset:A(),margin:A(),opacity:P(),padding:D(),saturate:P(),scale:P(),sepia:k(),skew:P(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Uf]}],container:["container"],columns:[{columns:[zf]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Uf]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lf,Uf]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Uf]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Lf,Uf]}],"grid-cols":[{"grid-cols":[qf]}],"col-start-end":[{col:["auto",{span:["full",Lf,Uf]},Uf]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[qf]}],"row-start-end":[{row:["auto",{span:[Lf,Uf]},Uf]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Uf]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Uf]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Uf,t]}],"min-w":[{"min-w":[Uf,t,"min","max","fit"]}],"max-w":[{"max-w":[Uf,t,"none","full","min","max","fit","prose",{screen:[zf]},zf]}],h:[{h:[Uf,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Uf,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Uf,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Uf,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zf,Ff]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nf]}],"font-family":[{font:[qf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Uf]}],"line-clamp":[{"line-clamp":["none",If,Nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mf,Uf]}],"list-image":[{"list-image":["none",Uf]}],"list-style-type":[{list:["none","disc","decimal",Uf]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mf,Ff]}],"underline-offset":[{"underline-offset":["auto",Mf,Uf]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Uf]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Uf]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Hf]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gf]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$f]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Mf,Uf]}],"outline-w":[{outline:[Mf,Ff]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Mf,Ff]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zf,Xf]}],"shadow-color":[{shadow:[qf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zf,Uf]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Uf]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Uf]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Uf]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Lf,Uf]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Uf]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Uf]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Uf]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mf,Ff,Nf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}))),tp=e=>{let t;const r=new Set,n=(e,n)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach((r=>r(t,e)))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}},s=t=e(n,i,o);return o},rp=e=>e?tp(e):tp;var np={exports:{}},ip={},op={exports:{}},sp={},ap=G,lp="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},up=ap.useState,cp=ap.useEffect,dp=ap.useLayoutEffect,hp=ap.useDebugValue;function fp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lp(e,r)}catch(Yce){return!0}}var pp="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=up({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return dp((function(){i.value=r,i.getSnapshot=t,fp(i)&&o({inst:i})}),[e,r,t]),cp((function(){return fp(i)&&o({inst:i}),e((function(){fp(i)&&o({inst:i})}))}),[e]),hp(r),r};sp.useSyncExternalStore=void 0!==ap.useSyncExternalStore?ap.useSyncExternalStore:pp,op.exports=sp;var mp=op.exports,gp=G,vp=mp,yp="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},bp=vp.useSyncExternalStore,_p=gp.useRef,wp=gp.useEffect,xp=gp.useMemo,Ep=gp.useDebugValue;
/**
			 * @license React
			 * use-sync-external-store-shim/with-selector.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */ip.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=_p(null);if(null===o.current){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=xp((function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&s.hasValue){var t=s.value;if(i(t,e))return a=t}return a=e}if(t=a,yp(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,a=r)}var o,a,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,i]);var a=bp(e,o[0],o[1]);return wp((function(){s.hasValue=!0,s.value=a}),[a]),Ep(a),a},np.exports=ip;const Cp=i(np.exports),{useDebugValue:Ap}=H,{useSyncExternalStoreWithSelector:Dp}=Cp,Tp=e=>e,Sp=e=>{const t="function"==typeof e?rp(e):e,r=(e,r)=>function(e,t=Tp,r){const n=Dp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Ap(n),n}(t,e,r);return Object.assign(r,t),r};e("v",(e=>e?Sp(e):Sp));var kp=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(kp||{}),Pp=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(Pp||{}),Rp=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(Rp||{}),Op=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(Op||{}),Bp=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Bp||{}),Mp=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(Mp||{}),Fp=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(Fp||{}),Ip=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(Ip||{}),Np=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(Np||{}),Lp=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(Lp||{}),jp=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(jp||{}),Up=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(Up||{}),zp=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(zp||{}),Vp=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(Vp||{}),Gp=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(Gp||{}),Hp=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(Hp||{}),Wp=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(Wp||{}),$p=(e=>(e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e))($p||{}),Xp=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(Xp||{}),qp=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(qp||{});const Kp={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")},Yp={ADAPTER:Kp,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Zp=/iPhone/i,Qp=/iPod/i,Jp=/iPad/i,em=/\biOS-universal(?:.+)Mac\b/i,tm=/\bAndroid(?:.+)Mobile\b/i,rm=/Android/i,nm=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,im=/Silk/i,om=/Windows Phone/i,sm=/\bWindows(?:.+)ARM\b/i,am=/BlackBerry/i,lm=/BB10/i,um=/Opera Mini/i,cm=/\b(CriOS|Chrome)(?:.+)Mobile/i,dm=/Mobile(?:.+)Firefox\b/i,hm=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function fm(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(e){return function(t){return t.test(e)}}(r),o={apple:{phone:i(Zp)&&!i(om),ipod:i(Qp),tablet:!i(Zp)&&(i(Jp)||hm(t))&&!i(om),universal:i(em),device:(i(Zp)||i(Qp)||i(Jp)||i(em)||hm(t))&&!i(om)},amazon:{phone:i(nm),tablet:!i(nm)&&i(im),device:i(nm)||i(im)},android:{phone:!i(om)&&i(nm)||!i(om)&&i(tm),tablet:!i(om)&&!i(nm)&&!i(tm)&&(i(im)||i(rm)),device:!i(om)&&(i(nm)||i(im)||i(tm)||i(rm))||i(/\bokhttp\b/i)},windows:{phone:i(om),tablet:i(sm),device:i(om)||i(sm)},other:{blackberry:i(am),blackberry10:i(lm),opera:i(um),firefox:i(dm),chrome:i(cm),device:i(am)||i(lm)||i(um)||i(dm)||i(cm)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const pm=(fm.default??fm)(globalThis.navigator);Yp.RETINA_PREFIX=/@([0-9\.]+)x/,Yp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var mm={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(mm);const gm=i(mm.exports);var vm={exports:{}};function ym(e,t,r){r=r||2;var n,i,o,s,a,l,u,c=t&&t.length,d=c?t[0]*r:e.length,h=bm(e,0,d,r,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,r,n){var i,o,s,a=[];for(i=0,o=t.length;i<o;i++)(s=bm(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===s.next&&(s.steiner=!0),a.push(Pm(s));for(a.sort(Dm),i=0;i<a.length;i++)r=Tm(a[i],r);return r}(e,t,h,r)),e.length>80*r){n=o=e[0],i=s=e[1];for(var p=r;p<d;p+=r)(a=e[p])<n&&(n=a),(l=e[p+1])<i&&(i=l),a>o&&(o=a),l>s&&(s=l);u=0!==(u=Math.max(o-n,s-i))?32767/u:0}return wm(h,f,r,n,i,u,0),f}function bm(e,t,r,n,i){var o,s;if(i===Gm(e,t,r,n)>0)for(o=t;o<r;o+=n)s=Um(o,e[o],e[o+1],s);else for(o=r-n;o>=t;o-=n)s=Um(o,e[o],e[o+1],s);return s&&Mm(s,s.next)&&(zm(s),s=s.next),s}function _m(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Mm(n,n.next)&&0!==Bm(n.prev,n,n.next))n=n.next;else{if(zm(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function wm(e,t,r,n,i,o,s){if(e){!s&&o&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=km(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,s,a,l,u=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,n=r,a=0,t=0;t<u&&(a++,n=n.nextZ);t++);for(l=u;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,u*=2}while(s>1)}(i)}(e,n,i,o);for(var a,l,u=e;e.prev!==e.next;)if(a=e.prev,l=e.next,o?Em(e,n,i,o):xm(e))t.push(a.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),zm(e),e=l.next,u=l.next;else if((e=l)===u){s?1===s?wm(e=Cm(_m(e),t,r),t,r,n,i,o,2):2===s&&Am(e,t,r,n,i,o):wm(_m(e),t,r,n,i,o,1);break}}}function xm(e){var t=e.prev,r=e,n=e.next;if(Bm(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,s=n.x,a=t.y,l=r.y,u=n.y,c=i<o?i<s?i:s:o<s?o:s,d=a<l?a<u?a:u:l<u?l:u,h=i>o?i>s?i:s:o>s?o:s,f=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==t;){if(p.x>=c&&p.x<=h&&p.y>=d&&p.y<=f&&Rm(i,a,o,l,s,u,p.x,p.y)&&Bm(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Em(e,t,r,n){var i=e.prev,o=e,s=e.next;if(Bm(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,u=s.x,c=i.y,d=o.y,h=s.y,f=a<l?a<u?a:u:l<u?l:u,p=c<d?c<h?c:h:d<h?d:h,m=a>l?a>u?a:u:l>u?l:u,g=c>d?c>h?c:h:d>h?d:h,v=km(f,p,t,r,n),y=km(m,g,t,r,n),b=e.prevZ,_=e.nextZ;b&&b.z>=v&&_&&_.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Rm(a,c,l,d,u,h,b.x,b.y)&&Bm(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&Rm(a,c,l,d,u,h,_.x,_.y)&&Bm(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Rm(a,c,l,d,u,h,b.x,b.y)&&Bm(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;_&&_.z<=y;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&Rm(a,c,l,d,u,h,_.x,_.y)&&Bm(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Cm(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Mm(i,o)&&Fm(i,n,n.next,o)&&Lm(i,o)&&Lm(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),zm(n),zm(n.next),n=e=o),n=n.next}while(n!==e);return _m(n)}function Am(e,t,r,n,i,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Om(s,a)){var l=jm(s,a);return s=_m(s,s.next),l=_m(l,l.next),wm(s,t,r,n,i,o,0),void wm(l,t,r,n,i,o,0)}a=a.next}s=s.next}while(s!==e)}function Dm(e,t){return e.x-t.x}function Tm(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s&&(s=a,r=n.x<n.next.x?n:n.next,a===i))return r}n=n.next}while(n!==t);if(!r)return null;var l,u=r,c=r.x,d=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Rm(o<d?i:s,o,c,d,o<d?s:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),Lm(n,e)&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&Sm(r,n)))&&(r=n,h=l)),n=n.next}while(n!==u);return r}(e,t);if(!r)return t;var n=jm(r,e);return _m(n,n.next),_m(r,r.next)}function Sm(e,t){return Bm(e.prev,e,t.prev)<0&&Bm(t.next,e,e.next)<0}function km(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Pm(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Rm(e,t,r,n,i,o,s,a){return(i-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(n-a)>=(r-s)*(t-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function Om(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Fm(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Lm(e,t)&&Lm(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Bm(e.prev,e,t.prev)||Bm(e,t.prev,t))||Mm(e,t)&&Bm(e.prev,e,e.next)>0&&Bm(t.prev,t,t.next)>0)}function Bm(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Mm(e,t){return e.x===t.x&&e.y===t.y}function Fm(e,t,r,n){var i=Nm(Bm(e,t,r)),o=Nm(Bm(e,t,n)),s=Nm(Bm(r,n,e)),a=Nm(Bm(r,n,t));return i!==o&&s!==a||!(0!==i||!Im(e,r,t))||!(0!==o||!Im(e,n,t))||!(0!==s||!Im(r,e,n))||!(0!==a||!Im(r,t,n))}function Im(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Nm(e){return e>0?1:e<0?-1:0}function Lm(e,t){return Bm(e.prev,e,e.next)<0?Bm(e,t,e.next)>=0&&Bm(e,e.prev,t)>=0:Bm(e,t,e.prev)<0||Bm(e,e.next,t)<0}function jm(e,t){var r=new Vm(e.i,e.x,e.y),n=new Vm(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Um(e,t,r,n){var i=new Vm(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function zm(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Vm(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Gm(e,t,r,n){for(var i=0,o=t,s=r-n;o<r;o+=n)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}vm.exports=ym,vm.exports.default=ym,ym.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,s=Math.abs(Gm(e,0,o,r));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*r,c=a<l-1?t[a+1]*r:e.length;s-=Math.abs(Gm(e,u,c,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;d+=Math.abs((e[h]-e[p])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[p+1]-e[h+1]))}return 0===s&&0===d?0:Math.abs((d-s)/s)},ym.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[i][o][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};const Hm=i(vm.exports);var Wm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */!function(e,t){!function(r){var i=t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,l,u=2147483647,c=36,d=1,h=26,f=38,p=700,m=72,g=128,v="-",y=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-d,E=Math.floor,C=String.fromCharCode;function A(e){throw new RangeError(w[e])}function D(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function T(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+D((e=e.replace(_,".")).split("."),t).join(".")}function S(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function k(e){return D(e,(function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,r){var n=0;for(e=r?E(e/p):e>>1,e+=E(e/t);e>x*h>>1;n+=c)e=E(e/x);return E(n+(x+1)*e/(e+f))}function O(e){var t,r,n,i,o,s,a,l,f,p,y,b=[],_=e.length,w=0,x=g,C=m;for((r=e.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&A("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(o=w,s=1,a=c;i>=_&&A("invalid-input"),((l=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||l>E((u-w)/s))&&A("overflow"),w+=l*s,!(l<(f=a<=C?d:a>=C+h?h:a-C));a+=c)s>E(u/(p=c-f))&&A("overflow"),s*=p;C=R(w-o,t=b.length+1,0==o),E(w/t)>u-x&&A("overflow"),x+=E(w/t),w%=t,b.splice(w++,0,x)}return k(b)}function B(e){var t,r,n,i,o,s,a,l,f,p,y,b,_,w,x,D=[];for(b=(e=S(e)).length,t=g,r=0,o=m,s=0;s<b;++s)(y=e[s])<128&&D.push(C(y));for(n=i=D.length,i&&D.push(v);n<b;){for(a=u,s=0;s<b;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>E((u-r)/(_=n+1))&&A("overflow"),r+=(a-t)*_,t=a,s=0;s<b;++s)if((y=e[s])<t&&++r>u&&A("overflow"),y==t){for(l=r,f=c;!(l<(p=f<=o?d:f>=o+h?h:f-o));f+=c)x=l-p,w=c-p,D.push(C(P(p+x%w,0))),l=E(x/w);D.push(C(P(l,0))),o=R(r,_,n==i),r=0,++n}++r,++t}return D.join("")}if(a={version:"1.4.1",ucs2:{decode:S,encode:k},decode:O,encode:B,toASCII:function(e){return T(e,(function(e){return b.test(e)?"xn--"+B(e):e}))},toUnicode:function(e){return T(e,(function(e){return y.test(e)?O(e.slice(4).toLowerCase()):e}))}},i&&o)if(e.exports==i)o.exports=a;else for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);else r.punycode=a}(n)}(Wm,Wm.exports);var $m,Xm=Wm.exports,qm="undefined"!=typeof Symbol&&Symbol,Km=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},Ym={foo:{}},Zm=Object,Qm=Object.prototype.toString,Jm=Math.max,eg=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},tg=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Qm.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),i=Jm(0,t.length-n.length),o=[],s=0;s<i;s++)o[s]="$"+s;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(o,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var i=t.apply(this,eg(n,arguments));return Object(i)===i?i:this}return t.apply(e,eg(n,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,r.prototype=new a,a.prototype=null}return r},rg=Function.prototype.bind||tg,ng=Function.prototype.call,ig=Object.prototype.hasOwnProperty,og=rg.call(ng,ig),sg=SyntaxError,ag=Function,lg=TypeError,ug=function(e){try{return ag('"use strict"; return ('+e+").constructor;")()}catch(she){}},cg=Object.getOwnPropertyDescriptor;if(cg)try{cg({},"")}catch(she){cg=null}var dg=function(){throw new lg},hg=cg?function(){try{return dg}catch(e){try{return cg(arguments,"callee").get}catch(t){return dg}}}():dg,fg="function"==typeof qm&&"function"==typeof Symbol&&"symbol"==typeof qm("foo")&&"symbol"==typeof Symbol("bar")&&Km(),pg={__proto__:Ym}.foo===Ym.foo&&!({__proto__:null}instanceof Zm),mg=Object.getPrototypeOf||(pg?function(e){return e.__proto__}:null),gg={},vg="undefined"!=typeof Uint8Array&&mg?mg(Uint8Array):$m,yg={"%AggregateError%":"undefined"==typeof AggregateError?$m:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?$m:ArrayBuffer,"%ArrayIteratorPrototype%":fg&&mg?mg([][Symbol.iterator]()):$m,"%AsyncFromSyncIteratorPrototype%":$m,"%AsyncFunction%":gg,"%AsyncGenerator%":gg,"%AsyncGeneratorFunction%":gg,"%AsyncIteratorPrototype%":gg,"%Atomics%":"undefined"==typeof Atomics?$m:Atomics,"%BigInt%":"undefined"==typeof BigInt?$m:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?$m:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?$m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?$m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?$m:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?$m:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?$m:FinalizationRegistry,"%Function%":ag,"%GeneratorFunction%":gg,"%Int8Array%":"undefined"==typeof Int8Array?$m:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?$m:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?$m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fg&&mg?mg(mg([][Symbol.iterator]())):$m,"%JSON%":"object"==typeof JSON?JSON:$m,"%Map%":"undefined"==typeof Map?$m:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&fg&&mg?mg((new Map)[Symbol.iterator]()):$m,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?$m:Promise,"%Proxy%":"undefined"==typeof Proxy?$m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?$m:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?$m:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&fg&&mg?mg((new Set)[Symbol.iterator]()):$m,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?$m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fg&&mg?mg(""[Symbol.iterator]()):$m,"%Symbol%":fg?Symbol:$m,"%SyntaxError%":sg,"%ThrowTypeError%":hg,"%TypedArray%":vg,"%TypeError%":lg,"%Uint8Array%":"undefined"==typeof Uint8Array?$m:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?$m:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?$m:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?$m:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?$m:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?$m:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?$m:WeakSet};if(mg)try{null.error}catch(she){var bg=mg(mg(she));yg["%Error.prototype%"]=bg}var _g=function e(t){var r;if("%AsyncFunction%"===t)r=ug("async function () {}");else if("%GeneratorFunction%"===t)r=ug("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=ug("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&mg&&(r=mg(i.prototype))}return yg[t]=r,r},wg={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xg=rg,Eg=og,Cg=xg.call(Function.call,Array.prototype.concat),Ag=xg.call(Function.apply,Array.prototype.splice),Dg=xg.call(Function.call,String.prototype.replace),Tg=xg.call(Function.call,String.prototype.slice),Sg=xg.call(Function.call,RegExp.prototype.exec),kg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pg=/\\(\\)?/g,Rg=function(e,t){var r,n=e;if(Eg(wg,n)&&(n="%"+(r=wg[n])[0]+"%"),Eg(yg,n)){var i=yg[n];if(i===gg&&(i=_g(n)),void 0===i&&!t)throw new lg("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new sg("intrinsic "+e+" does not exist!")},Og=function(e,t){if("string"!=typeof e||0===e.length)throw new lg("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new lg('"allowMissing" argument must be a boolean');if(null===Sg(/^%?[^%]*%?$/,e))throw new sg("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Tg(e,0,1),r=Tg(e,-1);if("%"===t&&"%"!==r)throw new sg("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new sg("invalid intrinsic syntax, expected opening `%`");var n=[];return Dg(e,kg,(function(e,t,r,i){n[n.length]=r?Dg(i,Pg,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=Rg("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],Ag(r,Cg([0,1],l)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],h=Tg(d,0,1),f=Tg(d,-1);if(('"'===h||"'"===h||"`"===h||'"'===f||"'"===f||"`"===f)&&h!==f)throw new sg("property names with quotes must have matching quotes");if("constructor"!==d&&c||(a=!0),Eg(yg,o="%"+(n+="."+d)+"%"))s=yg[o];else if(null!=s){if(!(d in s)){if(!t)throw new lg("base intrinsic for "+e+" exists, but the property is not available.");return}if(cg&&u+1>=r.length){var p=cg(s,d);s=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[d]}else c=Eg(s,d),s=s[d];c&&!a&&(yg[o]=s)}}return s},Bg={exports:{}},Mg=Og("%Object.defineProperty%",!0),Fg=function(){if(Mg)try{return Mg({},"a",{value:1}),!0}catch(she){return!1}return!1};Fg.hasArrayLengthDefineBug=function(){if(!Fg())return null;try{return 1!==Mg([],"length",{value:1}).length}catch(she){return!0}};var Ig=Fg,Ng=Og("%Object.getOwnPropertyDescriptor%",!0);if(Ng)try{Ng([],"length")}catch(she){Ng=null}var Lg=Ng,jg=Ig(),Ug=Og,zg=jg&&Ug("%Object.defineProperty%",!0);if(zg)try{zg({},"a",{value:1})}catch(she){zg=!1}var Vg=Ug("%SyntaxError%"),Gg=Ug("%TypeError%"),Hg=Lg,Wg=Og,$g=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Gg("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Gg("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Gg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Gg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Gg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Gg("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],a=!!Hg&&Hg(e,t);if(zg)zg(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===n&&a?a.enumerable:!n,value:r,writable:null===i&&a?a.writable:!i});else{if(!s&&(n||i||o))throw new Vg("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},Xg=Ig(),qg=Lg,Kg=Wg("%TypeError%"),Yg=Wg("%Math.floor%"),Zg=function(e,t){if("function"!=typeof e)throw new Kg("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||Yg(t)!==t)throw new Kg("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&qg){var o=qg(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(Xg?$g(e,"length",t,!0,!0):$g(e,"length",t)),e};!function(e){var t=rg,r=Og,n=Zg,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(s,o),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(she){l=null}e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var r=a(t,s,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return a(t,o,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c}(Bg);var Qg=Og,Jg=Bg.exports,ev=Jg(Qg("String.prototype.indexOf"));const tv=o(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var rv="function"==typeof Map&&Map.prototype,nv=Object.getOwnPropertyDescriptor&&rv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,iv=rv&&nv&&"function"==typeof nv.get?nv.get:null,ov=rv&&Map.prototype.forEach,sv="function"==typeof Set&&Set.prototype,av=Object.getOwnPropertyDescriptor&&sv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,lv=sv&&av&&"function"==typeof av.get?av.get:null,uv=sv&&Set.prototype.forEach,cv="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,dv="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,hv="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,fv=Boolean.prototype.valueOf,pv=Object.prototype.toString,mv=Function.prototype.toString,gv=String.prototype.match,vv=String.prototype.slice,yv=String.prototype.replace,bv=String.prototype.toUpperCase,_v=String.prototype.toLowerCase,wv=RegExp.prototype.test,xv=Array.prototype.concat,Ev=Array.prototype.join,Cv=Array.prototype.slice,Av=Math.floor,Dv="function"==typeof BigInt?BigInt.prototype.valueOf:null,Tv=Object.getOwnPropertySymbols,Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,kv="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Pv="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Rv=Object.prototype.propertyIsEnumerable,Ov=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Bv(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||wv.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-Av(-e):Av(e);if(n!==e){var i=String(n),o=vv.call(t,i.length+1);return yv.call(i,r,"$&_")+"."+yv.call(yv.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yv.call(t,r,"$&_")}var Mv=tv,Fv=Mv.custom,Iv=zv(Fv)?Fv:null;function Nv(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function Lv(e){return yv.call(String(e),/"/g,"&quot;")}function jv(e){return!("[object Array]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}function Uv(e){return!("[object RegExp]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}function zv(e){if(kv)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!Sv)return!1;try{return Sv.call(e),!0}catch(she){}return!1}var Vv=Object.prototype.hasOwnProperty||function(e){return e in this};function Gv(e,t){return Vv.call(e,t)}function Hv(e){return pv.call(e)}function Wv(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function $v(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return $v(vv.call(e,0,t.maxStringLength),t)+n}return Nv(yv.call(yv.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xv),"single",t)}function Xv(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+bv.call(t.toString(16))}function qv(e){return"Object("+e+")"}function Kv(e){return e+" { ? }"}function Yv(e,t,r,n){return e+" ("+t+") {"+(n?Zv(r,n):Ev.call(r,", "))+"}"}function Zv(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+Ev.call(e,","+r)+"\n"+t.prev}function Qv(e,t){var r=jv(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Gv(e,i)?t(e[i],e):""}var o,s="function"==typeof Tv?Tv(e):[];if(kv){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)Gv(e,l)&&(r&&String(Number(l))===l&&l<e.length||kv&&o["$"+l]instanceof Symbol||(wv.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof Tv)for(var u=0;u<s.length;u++)Rv.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}var Jv=Og,ey=function(e,t){var r=Qg(e,!!t);return"function"==typeof r&&ev(e,".prototype.")>-1?Jg(r):r},ty=function e(t,r,i,o){var s=r||{};if(Gv(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Gv(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Gv(s,"customInspect")||s.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Gv(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Gv(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $v(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var u=String(t);return l?Bv(t,u):u}if("bigint"==typeof t){var c=String(t)+"n";return l?Bv(t,c):c}var d=void 0===s.depth?5:s.depth;if(void 0===i&&(i=0),i>=d&&d>0&&"object"==typeof t)return jv(t)?"[Array]":"[Object]";var h=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Ev.call(Array(e.indent+1)," ")}return{base:r,prev:Ev.call(Array(t+1),r)}}(s,i);if(void 0===o)o=[];else if(Wv(o,t)>=0)return"[Circular]";function f(t,r,n){if(r&&(o=Cv.call(o)).push(r),n){var a={depth:s.depth};return Gv(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,i+1,o)}return e(t,s,i+1,o)}if("function"==typeof t&&!Uv(t)){var p=function(e){if(e.name)return e.name;var t=gv.call(mv.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),m=Qv(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+Ev.call(m,", ")+" }":"")}if(zv(t)){var g=kv?yv.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Sv.call(t);return"object"!=typeof t||kv?g:qv(g)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var v="<"+_v.call(String(t.nodeName)),y=t.attributes||[],b=0;b<y.length;b++)v+=" "+y[b].name+"="+Nv(Lv(y[b].value),"double",s);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+_v.call(String(t.nodeName))+">"}if(jv(t)){if(0===t.length)return"[]";var _=Qv(t,f);return h&&!function(e){for(var t=0;t<e.length;t++)if(Wv(e[t],"\n")>=0)return!1;return!0}(_)?"["+Zv(_,h)+"]":"[ "+Ev.call(_,", ")+" ]"}if(function(e){return!("[object Error]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}(t)){var w=Qv(t,f);return"cause"in Error.prototype||!("cause"in t)||Rv.call(t,"cause")?0===w.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Ev.call(w,", ")+" }":"{ ["+String(t)+"] "+Ev.call(xv.call("[cause]: "+f(t.cause),w),", ")+" }"}if("object"==typeof t&&a){if(Iv&&"function"==typeof t[Iv]&&Mv)return Mv(t,{depth:d-i});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!iv||!e||"object"!=typeof e)return!1;try{iv.call(e);try{lv.call(e)}catch(v){return!0}return e instanceof Map}catch(she){}return!1}(t)){var x=[];return ov&&ov.call(t,(function(e,r){x.push(f(r,t,!0)+" => "+f(e,t))})),Yv("Map",iv.call(t),x,h)}if(function(e){if(!lv||!e||"object"!=typeof e)return!1;try{lv.call(e);try{iv.call(e)}catch(C5){return!0}return e instanceof Set}catch(she){}return!1}(t)){var E=[];return uv&&uv.call(t,(function(e){E.push(f(e,t))})),Yv("Set",lv.call(t),E,h)}if(function(e){if(!cv||!e||"object"!=typeof e)return!1;try{cv.call(e,cv);try{dv.call(e,dv)}catch(v){return!0}return e instanceof WeakMap}catch(she){}return!1}(t))return Kv("WeakMap");if(function(e){if(!dv||!e||"object"!=typeof e)return!1;try{dv.call(e,dv);try{cv.call(e,cv)}catch(v){return!0}return e instanceof WeakSet}catch(she){}return!1}(t))return Kv("WeakSet");if(function(e){if(!hv||!e||"object"!=typeof e)return!1;try{return hv.call(e),!0}catch(she){}return!1}(t))return Kv("WeakRef");if(function(e){return!("[object Number]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}(t))return qv(f(Number(t)));if(function(e){if(!e||"object"!=typeof e||!Dv)return!1;try{return Dv.call(e),!0}catch(she){}return!1}(t))return qv(f(Dv.call(t)));if(function(e){return!("[object Boolean]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}(t))return qv(fv.call(t));if(function(e){return!("[object String]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}(t))return qv(f(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==Hv(e)||Pv&&"object"==typeof e&&Pv in e)}(t)&&!Uv(t)){var C=Qv(t,f),A=Ov?Ov(t)===Object.prototype:t instanceof Object||t.constructor===Object,D=t instanceof Object?"":"null prototype",T=!A&&Pv&&Object(t)===t&&Pv in t?vv.call(Hv(t),8,-1):D?"Object":"",S=(A||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(T||D?"["+Ev.call(xv.call([],T||[],D||[]),": ")+"] ":"");return 0===C.length?S+"{}":h?S+"{"+Zv(C,h)+"}":S+"{ "+Ev.call(C,", ")+" }"}return String(t)},ry=Jv("%TypeError%"),ny=Jv("%WeakMap%",!0),iy=Jv("%Map%",!0),oy=ey("WeakMap.prototype.get",!0),sy=ey("WeakMap.prototype.set",!0),ay=ey("WeakMap.prototype.has",!0),ly=ey("Map.prototype.get",!0),uy=ey("Map.prototype.set",!0),cy=ey("Map.prototype.has",!0),dy=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},hy=String.prototype.replace,fy=/%20/g,py="RFC3986",my={default:py,formatters:{RFC1738:function(e){return hy.call(e,fy,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:py},gy=my,vy=Object.prototype.hasOwnProperty,yy=Array.isArray,by=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),_y=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},wy={arrayToObject:_y,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(yy(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(she){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",a=0;a<o.length;++a){var l=o.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===gy.RFC1738&&(40===l||41===l)?s+=o.charAt(a):l<128?s+=by[l]:l<2048?s+=by[192|l>>6]+by[128|63&l]:l<55296||l>=57344?s+=by[224|l>>12]+by[128|l>>6&63]+by[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(a)),s+=by[240|l>>18]+by[128|l>>12&63]+by[128|l>>6&63]+by[128|63&l])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(yy(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(yy(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!vy.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return yy(t)&&!yy(r)&&(i=_y(t,n)),yy(t)&&yy(r)?(r.forEach((function(r,i){if(vy.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return vy.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)}},xy=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new ry("Side channel does not contain "+ty(e))},get:function(n){if(ny&&n&&("object"==typeof n||"function"==typeof n)){if(e)return oy(e,n)}else if(iy){if(t)return ly(t,n)}else if(r)return function(e,t){var r=dy(e,t);return r&&r.value}(r,n)},has:function(n){if(ny&&n&&("object"==typeof n||"function"==typeof n)){if(e)return ay(e,n)}else if(iy){if(t)return cy(t,n)}else if(r)return function(e,t){return!!dy(e,t)}(r,n);return!1},set:function(n,i){ny&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new ny),sy(e,n,i)):iy?(t||(t=new iy),uy(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=dy(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n},Ey=wy,Cy=my,Ay=Object.prototype.hasOwnProperty,Dy={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ty=Array.isArray,Sy=Array.prototype.push,ky=function(e,t){Sy.apply(e,Ty(t)?t:[t])},Py=Date.prototype.toISOString,Ry=Cy.default,Oy={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ey.encode,encodeValuesOnly:!1,format:Ry,formatter:Cy.formatters[Ry],indices:!1,serializeDate:function(e){return Py.call(e)},skipNulls:!1,strictNullHandling:!1},By={},My=function e(t,r,n,i,o,s,a,l,u,c,d,h,f,p,m,g){for(var v=t,y=g,b=0,_=!1;void 0!==(y=y.get(By))&&!_;){var w=y.get(t);if(b+=1,void 0!==w){if(w===b)throw new RangeError("Cyclic object value");_=!0}void 0===y.get(By)&&(b=0)}if("function"==typeof l?v=l(r,v):v instanceof Date?v=d(v):"comma"===n&&Ty(v)&&(v=Ey.maybeMap(v,(function(e){return e instanceof Date?d(e):e}))),null===v){if(o)return a&&!p?a(r,Oy.encoder,m,"key",h):r;v=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(v)||Ey.isBuffer(v))return a?[f(p?r:a(r,Oy.encoder,m,"key",h))+"="+f(a(v,Oy.encoder,m,"value",h))]:[f(r)+"="+f(String(v))];var x,E=[];if(void 0===v)return E;if("comma"===n&&Ty(v))p&&a&&(v=Ey.maybeMap(v,a)),x=[{value:v.length>0?v.join(",")||null:void 0}];else if(Ty(l))x=l;else{var C=Object.keys(v);x=u?C.sort(u):C}for(var A=i&&Ty(v)&&1===v.length?r+"[]":r,D=0;D<x.length;++D){var T=x[D],S="object"==typeof T&&void 0!==T.value?T.value:v[T];if(!s||null!==S){var k=Ty(v)?"function"==typeof n?n(A,T):A:A+(c?"."+T:"["+T+"]");g.set(t,b);var P=xy();P.set(By,g),ky(E,e(S,k,n,i,o,s,"comma"===n&&p&&Ty(v)?null:a,l,u,c,d,h,f,p,m,P))}}return E},Fy=wy,Iy=Object.prototype.hasOwnProperty,Ny=Array.isArray,Ly={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Fy.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},jy=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Uy=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},zy=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,l=[];if(a){if(!r.plainObjects&&Iy.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var u=0;r.depth>0&&null!==(s=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&Iy.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:Uy(t,r),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(l,10);r.parseArrays||""!==l?!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(l,t,r,n)}},Vy=function(e,t){var r,n=e,i=function(e){if(!e)return Oy;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Oy.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Cy.default;if(void 0!==e.format){if(!Ay.call(Cy.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Cy.formatters[r],i=Oy.filter;return("function"==typeof e.filter||Ty(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Oy.addQueryPrefix,allowDots:void 0===e.allowDots?Oy.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Oy.charsetSentinel,delimiter:void 0===e.delimiter?Oy.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Oy.encode,encoder:"function"==typeof e.encoder?e.encoder:Oy.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Oy.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Oy.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Oy.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Oy.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):Ty(i.filter)&&(r=i.filter);var o,s=[];if("object"!=typeof n||null===n)return"";o=t&&t.arrayFormat in Dy?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var a=Dy[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l="comma"===a&&t&&t.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var u=xy(),c=0;c<r.length;++c){var d=r[c];i.skipNulls&&null===n[d]||ky(s,My(n[d],d,a,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var h=s.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""},Gy=function(e,t){var r=function(e){if(!e)return Ly;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Ly.charset:e.charset;return{allowDots:void 0===e.allowDots?Ly.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Ly.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Ly.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Ly.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ly.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Ly.comma,decoder:"function"==typeof e.decoder?e.decoder:Ly.decoder,delimiter:"string"==typeof e.delimiter||Fy.isRegExp(e.delimiter)?e.delimiter:Ly.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Ly.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Ly.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Ly.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Ly.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ly.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[r]?l="utf-8":"utf8=%26%2310003%3B"===s[r]&&(l="iso-8859-1"),a=r,r=s.length);for(r=0;r<s.length;++r)if(r!==a){var u,c,d=s[r],h=d.indexOf("]="),f=-1===h?d.indexOf("="):h+1;-1===f?(u=t.decoder(d,Ly.decoder,l,"key"),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),Ly.decoder,l,"key"),c=Fy.maybeMap(Uy(d.slice(f+1),t),(function(e){return t.decoder(e,Ly.decoder,l,"value")}))),c&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=jy(c)),d.indexOf("[]=")>-1&&(c=Ny(c)?[c]:c),Iy.call(n,u)?n[u]=Fy.combine(n[u],c):n[u]=c}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=zy(a,n[a],r,"string"==typeof e);i=Fy.merge(i,l,r)}return!0===r.allowSparse?i:Fy.compact(i)},Hy={formats:my,parse:Gy,stringify:Vy},Wy=Xm;function $y(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Xy=/^([a-z0-9.+-]+:)/i,qy=/:[0-9]*$/,Ky=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Yy=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Zy=["'"].concat(Yy),Qy=["%","/","?",";","#"].concat(Zy),Jy=["/","?","#"],eb=/^[+a-z0-9A-Z_-]{0,63}$/,tb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,rb={javascript:!0,"javascript:":!0},nb={javascript:!0,"javascript:":!0},ib={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ob=Hy;function sb(e,t,r){if(e&&"object"==typeof e&&e instanceof $y)return e;var n=new $y;return n.parse(e,t,r),n}$y.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&1===e.split("#").length){var a=Ky.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?ob.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=Xy.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var c="//"===s.substr(0,2);!c||l&&nb[l]||(s=s.substr(2),this.slashes=!0)}if(!nb[l]&&(c||l&&!ib[l])){for(var d,h,f=-1,p=0;p<Jy.length;p++)-1!==(m=s.indexOf(Jy[p]))&&(-1===f||m<f)&&(f=m);for(-1!==(h=-1===f?s.lastIndexOf("@"):s.lastIndexOf("@",f))&&(d=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(d)),f=-1,p=0;p<Qy.length;p++){var m;-1!==(m=s.indexOf(Qy[p]))&&(-1===f||m<f)&&(f=m)}-1===f&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),y=(p=0,v.length);p<y;p++){var b=v[p];if(b&&!b.match(eb)){for(var _="",w=0,x=b.length;w<x;w++)b.charCodeAt(w)>127?_+="x":_+=b[w];if(!_.match(eb)){var E=v.slice(0,p),C=v.slice(p+1),A=b.match(tb);A&&(E.push(A[1]),C.unshift(A[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Wy.toASCII(this.hostname));var D=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+D,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!rb[u])for(p=0,y=Zy.length;p<y;p++){var S=Zy[p];if(-1!==s.indexOf(S)){var k=encodeURIComponent(S);k===S&&(k=escape(S)),s=s.split(S).join(k)}}var P=s.indexOf("#");-1!==P&&(this.hash=s.substr(P),s=s.slice(0,P));var R=s.indexOf("?");if(-1!==R?(this.search=s.substr(R),this.query=s.substr(R+1),t&&(this.query=ob.parse(this.query)),s=s.slice(0,R)):t&&(this.search="",this.query={}),s&&(this.pathname=s),ib[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var O=this.search||"";this.path=D+O}return this.href=this.format(),this},$y.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=ob.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||ib[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),t+i+r+(s=s.replace("#","%23"))+n},$y.prototype.resolve=function(e){return this.resolveObject(sb(e,!1,!0)).format()},$y.prototype.resolveObject=function(e){if("string"==typeof e){var t=new $y;t.parse(e,!1,!0),e=t}for(var r=new $y,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(r[l]=e[l])}return ib[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!ib[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var d=u[c];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||nb[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",p=r.search||"";r.path=f+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||r.host&&e.pathname,y=v,b=r.pathname&&r.pathname.split("/")||[],_=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!ib[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===b[0]?b[0]=r.host:b.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),v=v&&(""===h[0]||""===b[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,b=h;else if(h.length)b||(b=[]),b.pop(),b=b.concat(h),r.search=e.search,r.query=e.query;else if(null!=e.search)return _&&(r.host=b.shift(),r.hostname=r.host,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=b.slice(-1)[0],x=(r.host||e.host||b.length>1)&&("."===w||".."===w)||""===w,E=0,C=b.length;C>=0;C--)"."===(w=b[C])?b.splice(C,1):".."===w?(b.splice(C,1),E++):E&&(b.splice(C,1),E--);if(!v&&!y)for(;E--;E)b.unshift("..");!v||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),x&&"/"!==b.join("/").substr(-1)&&b.push("");var A,D=""===b[0]||b[0]&&"/"===b[0].charAt(0);return _&&(r.hostname=D?"":b.length?b.shift():"",r.host=r.hostname,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)),(v=v||r.host&&b.length)&&!D&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},$y.prototype.parseHost=function(){var e=this.host,t=qy.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var ab=sb,lb=function(e,t){return sb(e,!1,!0).resolve(t)},ub=function(e){return"string"==typeof e&&(e=sb(e)),e instanceof $y?e.format():$y.prototype.format.call(e)};const cb={};function db(e,t,r=3){if(cb[t])return;let n=(new Error).stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}\nDeprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`),console.warn(n))),cb[t]=!0}const hb={get parse(){return db("7.3.0","utils.url.parse is deprecated, use native URL API instead."),ab},get format(){return db("7.3.0","utils.url.format is deprecated, use native URL API instead."),ub},get resolve(){return db("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),lb}};function fb(e){if("string"!=typeof e)throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function pb(e){return e.split("?")[0].split("#")[0]}const mb={toPosix:e=>function(e,t,r){return e.replace(new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"g"),r)}(e,"\\","/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){fb(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(fb(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const n=pb(this.toPosix(t??Yp.ADAPTER.getBaseUrl())),i=pb(this.toPosix(r??this.rootname(n)));return(e=this.toPosix(e)).startsWith("/")?mb.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(fb(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;let t="";const r=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return e=function(e,t){let r="",n=0,i=-1,o=0,s=-1;for(let a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(47===s)break;s=47}if(47===s){if(i!==a-1&&1!==o)if(i!==a-1&&2===o){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){const e=r.lastIndexOf("/");if(e!==r.length-1){-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(2===r.length||1===r.length){r="",n=0,i=a,o=0;continue}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${e.slice(i+1,a)}`:r=e.slice(i+1,a),n=a-i-1;i=a,o=0}else 46===s&&-1!==o?++o:o=-1}return r}(e,!1),e.length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return fb(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){if(0===e.length)return".";let t;for(let r=0;r<e.length;++r){const n=e[r];if(fb(n),n.length>0)if(void 0===t)t=n;else{const i=e[r-1]??"";this.extname(i)?t+=`/../${n}`:t+=`/${n}`}}return void 0===t?".":this.normalize(t)},dirname(e){if(fb(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const r=47===t;let n=-1,i=!0;const o=this.getProtocol(e),s=e;for(let a=(e=e.slice(o.length)).length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":this.isUrl(s)?o+e:o:r&&1===n?"//":o+e.slice(0,n)},rootname(e){fb(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);t=-1!==r?e.slice(0,r):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){fb(e),t&&fb(t),e=pb(this.toPosix(e));let r,n=0,i=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let s=t.length-1,a=-1;for(r=e.length-1;r>=0;--r){const l=e.charCodeAt(r);if(47===l){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname(e){fb(e);let t=-1,r=0,n=-1,i=!0,o=0;for(let s=(e=pb(this.toPosix(e))).length-1;s>=0;--s){const a=e.charCodeAt(s);if(47!==a)-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){fb(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let r=(e=pb(this.toPosix(e))).charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),i=n||this.hasProtocol(e)?1:0;let o=-1,s=0,a=-1,l=!0,u=e.length-1,c=0;for(;u>=i;--u)if(r=e.charCodeAt(u),47!==r)-1===a&&(l=!1,a=u+1),46===r?-1===o?o=u:1!==c&&(c=1):-1!==o&&(c=-1);else if(!l){s=u+1;break}return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(t.base=t.name=0===s&&n?e.slice(1,a):e.slice(s,a)):(0===s&&n?(t.name=e.slice(1,o),t.base=e.slice(1,a)):(t.name=e.slice(s,o),t.base=e.slice(s,a)),t.ext=e.slice(o,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};let gb,vb;async function yb(){return gb??(gb=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return zp.UNPACK;const t=await new Promise((e=>{const t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()}));if(!t)return zp.UNPACK;const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(n),e.deleteTexture(r),e.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?zp.PMA:zp.UNPACK})()),gb}function bb(){return typeof vb>"u"&&(vb=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:Yp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Yp.ADAPTER.getWebGLRenderingContext())return!1;const t=Yp.ADAPTER.createCanvas();let r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);const n=!!r?.getContextAttributes()?.stencil;if(r){const e=r.getExtension("WEBGL_lose_context");e&&e.loseContext()}return r=null,n}catch{return!1}}()),vb}var _b={grad:.9,turn:360,rad:360/(2*Math.PI)},wb=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},xb=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},Eb=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},Cb=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Ab=function(e){return{r:Eb(e.r,0,255),g:Eb(e.g,0,255),b:Eb(e.b,0,255),a:Eb(e.a)}},Db=function(e){return{r:xb(e.r),g:xb(e.g),b:xb(e.b),a:xb(e.a,3)}},Tb=/^#([0-9a-f]{3,8})$/i,Sb=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},kb=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),a=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},Pb=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),a=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),u=o%6;return{r:255*[n,a,s,s,l,n][u],g:255*[l,n,n,a,s,s][u],b:255*[s,s,l,n,n,a][u],a:i}},Rb=function(e){return{h:Cb(e.h),s:Eb(e.s,0,100),l:Eb(e.l,0,100),a:Eb(e.a)}},Ob=function(e){return{h:xb(e.h),s:xb(e.s),l:xb(e.l),a:xb(e.a,3)}},Bb=function(e){return Pb((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},Mb=function(e){return{h:(t=kb(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},Fb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ib=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Nb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jb={string:[[function(e){var t=Tb.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?xb(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?xb(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Nb.exec(e)||Lb.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Ab({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Fb.exec(e)||Ib.exec(e);if(!t)return null;var r,n,i=Rb({h:(r=t[1],n=t[2],void 0===n&&(n="deg"),Number(r)*(_b[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Bb(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=void 0===i?1:i;return wb(t)&&wb(r)&&wb(n)?Ab({r:Number(t),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,o=void 0===i?1:i;if(!wb(t)||!wb(r)||!wb(n))return null;var s=Rb({h:Number(t),s:Number(r),l:Number(n),a:Number(o)});return Bb(s)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,o=void 0===i?1:i;if(!wb(t)||!wb(r)||!wb(n))return null;var s=function(e){return{h:Cb(e.h),s:Eb(e.s,0,100),v:Eb(e.v,0,100),a:Eb(e.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(o)});return Pb(s)},"hsv"]]},Ub=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},zb=function(e,t){var r=Mb(e);return{h:r.h,s:Eb(r.s+100*t,0,100),l:r.l,a:r.a}},Vb=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Gb=function(e,t){var r=Mb(e);return{h:r.h,s:r.s,l:Eb(r.l+100*t,0,100),a:r.a}},Hb=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Ub(e.trim(),jb.string):"object"==typeof e&&null!==e?Ub(e,jb.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return xb(Vb(this.rgba),2)},e.prototype.isDark=function(){return Vb(this.rgba)<.5},e.prototype.isLight=function(){return Vb(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Db(this.rgba)).r,r=e.g,n=e.b,o=(i=e.a)<1?Sb(xb(255*i)):"","#"+Sb(t)+Sb(r)+Sb(n)+o;var e,t,r,n,i,o},e.prototype.toRgb=function(){return Db(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Db(this.rgba)).r,r=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+n+", "+i+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,i},e.prototype.toHsl=function(){return Ob(Mb(this.rgba))},e.prototype.toHslString=function(){return t=(e=Ob(Mb(this.rgba))).h,r=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+i+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,i},e.prototype.toHsv=function(){return e=kb(this.rgba),{h:xb(e.h),s:xb(e.s),v:xb(e.v),a:xb(e.a,3)};var e},e.prototype.invert=function(){return Wb({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Wb(zb(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Wb(zb(this.rgba,-e))},e.prototype.grayscale=function(){return Wb(zb(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Wb(Gb(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Wb(Gb(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Wb({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):xb(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Mb(this.rgba);return"number"==typeof e?Wb({h:e,s:t.s,l:t.l,a:t.a}):xb(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Wb(e).toHex()},e}(),Wb=function(e){return e instanceof Hb?e:new Hb(e)},$b=[];!function(e){e.forEach((function(e){$b.indexOf(e)<0&&(e(Hb,jb),$b.push(e))}))}([function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,s,a=n[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!o.length)for(var d in r)o[d]=new e(r[d]).toRgb();for(var h in r){var f=(i=l,s=o[h],Math.pow(i.r-s.r,2)+Math.pow(i.g-s.g,2)+Math.pow(i.b-s.b,2));f<u&&(u=f,c=h)}return c}},t.string.push([function(t){var n=t.toLowerCase(),i="transparent"===n?"#0000":r[n];return i?new e(i).toRgb():null},"name"])}]);const Xb=class e{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if("number"===r||"string"===r||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every(((e,r)=>e===t[r]));if(null!==e&&null!==t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((r=>e[r]===t[r]))}return e===t}toRgba(){const[e,t,r,n]=this._components;return{r:e,g:t,b:r,a:n}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,n]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*n),e}toRgbArray(e){e=e??[];const[t,r,n]=this._components;return e[0]=t,e[1]=r,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[r,n,i,o]=e.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=255&this._int;return t&&(r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0),(255*e<<24)+(r<<16)+(n<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,n]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,n,i]=this._components;return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}normalize(t){let r,n,i,o;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215)r=(t>>16&255)/255,n=(t>>8&255)/255,i=(255&t)/255,o=1;else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,n,i,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,n,i,o=255]=t,r/=255,n/=255,i/=255,o/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const r=e.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}const s=Wb(t);s.isValid()&&(({r:r,g:n,b:i,a:o}=s.rgba),r/=255,n/=255,i/=255)}if(void 0===r)throw new Error(`Unable to convert color ${t}`);this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=o,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(e,t=0,r=1){return"number"==typeof e?Math.min(Math.max(e,t),r):(e.forEach(((n,i)=>{e[i]=Math.min(Math.max(n,t),r)})),e)}};Xb.shared=new Xb,Xb.temp=new Xb,Xb.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let qb=Xb;function Kb(e){return db("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),qb.shared.setValue(e).toHex()}function Yb(e){return db("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),qb.shared.setValue(e).toNumber()}const Zb=function(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[Op.NORMAL_NPM]=Op.NORMAL,e[Op.ADD_NPM]=Op.ADD,e[Op.SCREEN_NPM]=Op.SCREEN,t[Op.NORMAL]=Op.NORMAL_NPM,t[Op.ADD]=Op.ADD_NPM,t[Op.SCREEN]=Op.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}();function Qb(e,t){return Zb[t?1:0][e]}const Jb=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function e_(e,t=null){const r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function t_(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}const r_={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function n_(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function i_(e){return!(e&e-1||!e)}function o_(e){let t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,r=((e>>>=r)>15?1:0)<<2,t|=r,r=((e>>>=r)>3?1:0)<<1,t|=r,t|(e>>>=r)>>1}function s_(e,t,r){const n=e.length;let i;if(t>=n||0===r)return;const o=n-(r=t+r>n?n-t:r);for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}function a_(e){return 0===e?0:e<0?-1:1}let l_=0;function u_(){return++l_}const c_=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};c_.EMPTY=new c_(0,0,0,0);let d_=c_;const h_={},f_=Object.create(null),p_=Object.create(null);class m_{constructor(e,t,r){this._canvas=Yp.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Yp.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function g_(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(0!==e[i+3])return!1;return!0}function v_(e,t,r,n,i){const o=4*t;for(let s=n,a=n*o+4*r;s<=i;++s,a+=o)if(0!==e[a+3])return!1;return!0}function y_(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,t,r).data;let o=0,s=0,a=t-1,l=r-1;for(;s<r&&g_(i,t,s);)++s;if(s===r)return d_.EMPTY;for(;g_(i,t,l);)--l;for(;v_(i,t,o,s,l);)++o;for(;v_(i,t,a,s,l);)--a;return++a,++l,new d_(o,s,a,l)}function b_(e){const t=y_(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const o=e.getContext("2d");if(null===o)throw new TypeError("Failed to get canvas 2D context");i=o.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}function __(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function w_(e,t=1){const r=Yp.RETINA_PREFIX?.exec(e);return r?parseFloat(r[1]):t}const x_=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:p_,BoundingBox:d_,CanvasRenderTarget:m_,DATA_URI:Jb,EventEmitter:gm,ProgramCache:h_,TextureCache:f_,clearTextureCache:function(){let e;for(e in f_)delete f_[e];for(e in p_)delete p_[e]},correctBlendMode:Qb,createIndicesForQuads:e_,decomposeDataUri:function(e){const t=Jb.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:db,destroyTextureCache:function(){let e;for(e in f_)f_[e].destroy();for(e in p_)p_[e].destroy()},detectVideoAlphaMode:yb,determineCrossOrigin:__,earcut:Hm,getBufferType:t_,getCanvasBoundingBox:y_,getResolutionOfUrl:w_,hex2rgb:function(e,t=[]){return db("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),qb.shared.setValue(e).toRgbArray(t)},hex2string:Kb,interleaveTypedArrays:function(e,t){let r=0,n=0;const i={};for(let l=0;l<e.length;l++)n+=t[l],r+=e[l].length;const o=new ArrayBuffer(4*r);let s=null,a=0;for(let l=0;l<e.length;l++){const r=t[l],u=e[l],c=t_(u);i[c]||(i[c]=new r_[c](o)),s=i[c];for(let e=0;e<u.length;e++)s[(e/r|0)*n+a+e%r]=u[e];a+=r}return new Float32Array(o)},isMobile:pm,isPow2:i_,isWebGLSupported:bb,log2:o_,nextPow2:n_,path:mb,premultiplyBlendMode:Zb,premultiplyRgba:function(e,t,r,n=!0){return db("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),qb.shared.setValue(e).premultiply(t,n).toArray(r??new Float32Array(4))},premultiplyTint:function(e,t){return db("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),qb.shared.setValue(e).toPremultiplied(t)},premultiplyTintToRgba:function(e,t,r,n=!0){return db("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),qb.shared.setValue(e).premultiply(t,n).toArray(r??new Float32Array(4))},removeItems:s_,rgb2hex:Yb,sayHello:function(){db("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},sign:a_,skipHello:function(){db("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")},string2hex:function(e){return db("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),qb.shared.setValue(e).toNumber()},trimCanvas:b_,uid:u_,url:hb},Symbol.toStringTag,{value:"Module"}));var E_=e("E",(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(E_||{}));const C_=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},A_=(e,t)=>C_(e).priority??t,D_=e("g",{_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(C_).forEach((e=>{e.type.forEach((t=>this._removeHandlers[t]?.(e)))})),this},add(...e){return e.map(C_).forEach((e=>{e.type.forEach((t=>{const r=this._addHandlers,n=this._queue;r[t]?r[t](e):(n[t]=n[t]||[],n[t].push(e))}))})),this},handle(e,t,r){const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const o=this._queue;return o[e]&&(o[e].forEach((e=>t(e))),delete o[e]),this},handleByMap(e,t){return this.handle(e,(e=>{t[e.name]=e.ref}),(e=>{delete t[e.name]}))},handleByList(e,t,r=-1){return this.handle(e,(e=>{t.includes(e.ref)||(t.push(e.ref),t.sort(((e,t)=>A_(t,r)-A_(e,r))))}),(e=>{const r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)}))}});class T_{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const S_=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function k_(e){let t="";for(let r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function P_(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=S_.replace(/%forloop%/gi,k_(e));if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}class R_{constructor(){this.data=0,this.blendMode=Op.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Op.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new R_;return e.depthTest=!1,e.blend=!0,e}}R_.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const O_=[];function B_(e,t){if(!e)return null;let r="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(r=t[1].toLowerCase())}for(let n=O_.length-1;n>=0;--n){const i=O_[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class M_{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,n,i,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let c=0,d=u.length;c<d;c++)u[c][l](e,t,r,n,i,o,s,a);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(M_.prototype,{dispatch:{value:M_.prototype.emit},run:{value:M_.prototype.emit}});class F_{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new M_("setRealSize"),this.onUpdate=new M_("update"),this.onError=new M_("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class I_ extends F_{constructor(e,t){const{width:r,height:n}=t||{};if(!r||!n)throw new Error("BufferResource width or height invalid");super(r,n),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===zp.UNPACK);const i=t.realWidth,o=t.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(t.target,0,0,0,i,o,t.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const N_={scaleMode:Lp.NEAREST,alphaMode:zp.NPM},L_=class e extends gm{constructor(t=null,r=null){super(),r=Object.assign({},e.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:o,scaleMode:s,width:a,height:l,wrapMode:u,format:c,type:d,target:h,resolution:f,resourceOptions:p}=r;t&&!(t instanceof F_)&&((t=B_(t,p)).internal=!0),this.resolution=f||Yp.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=o,this._wrapMode=u,this._scaleMode=s,this.format=c,this.type=d,this.target=h,this.alphaMode=n,this.uid=u_(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=i_(this.realWidth)&&i_(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete p_[this.cacheId],delete f_[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,n=Yp.STRICT_TEXTURE_CACHE){const i="string"==typeof t;let o=null;if(i)o=t;else{if(!t._pixiId){const e=r?.pixiIdPrefix||"pixiid";t._pixiId=`${e}_${u_()}`}o=t._pixiId}let s=p_[o];if(i&&n&&!s)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return s||(s=new e(t,r),s.cacheId=o,e.addToCache(s,o)),s}static fromBuffer(t,r,n,i){t=t||new Float32Array(r*n*4);const o=new I_(t,{width:r,height:n,...i?.resourceOptions});let s,a;return t instanceof Float32Array?(s=Mp.RGBA,a=Ip.FLOAT):t instanceof Int32Array?(s=Mp.RGBA_INTEGER,a=Ip.INT):t instanceof Uint32Array?(s=Mp.RGBA_INTEGER,a=Ip.UNSIGNED_INT):t instanceof Int16Array?(s=Mp.RGBA_INTEGER,a=Ip.SHORT):t instanceof Uint16Array?(s=Mp.RGBA_INTEGER,a=Ip.UNSIGNED_SHORT):t instanceof Int8Array?(s=Mp.RGBA,a=Ip.BYTE):(s=Mp.RGBA,a=Ip.UNSIGNED_BYTE),o.internal=!0,new e(o,Object.assign({},N_,{type:a,format:s},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),p_[t]&&p_[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),p_[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=p_[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete p_[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete p_[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};L_.defaultOptions={mipmap:Up.POW2,anisotropicLevel:0,scaleMode:Lp.LINEAR,wrapMode:jp.CLAMP,alphaMode:zp.UNPACK,target:Fp.TEXTURE_2D,format:Mp.RGBA,type:Ip.UNSIGNED_BYTE},L_._globalBatch=0;let j_=L_;class U_{constructor(){this.texArray=null,this.blend=0,this.type=Bp.TRIANGLES,this.start=0,this.size=0,this.data=null}}let z_=0,V_=class e{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=z_++,this.disposeRunner=new M_("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?qp.ELEMENT_ARRAY_BUFFER:qp.ARRAY_BUFFER}get index(){return this.type===qp.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}};class G_{constructor(e,t=0,r=!1,n=Ip.FLOAT,i,o,s,a=1){this.buffer=e,this.size=t,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=s,this.divisor=a}destroy(){this.buffer=null}static from(e,t,r,n,i){return new G_(e,t,r,n,i)}}const H_={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},W_={5126:4,5123:2,5121:1};let $_=0;const X_={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class q_{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=$_++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new M_("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,n=!1,i,o,s,a=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof V_||(t instanceof Array&&(t=new Float32Array(t)),t=new V_(t));const l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,r,n,i);return this}let u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new G_(u,r,n,i,o,s,a),this.instanced=this.instanced||a,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof V_||(e instanceof Array&&(e=new Uint16Array(e)),e=new V_(e)),e.type=qp.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],r=new V_;let n;for(n in this.attributes){const r=this.attributes[n],i=this.buffers[r.buffer];e.push(i.data),t.push(r.size*W_[r.type]/4),r.buffer=0}for(r.data=function(e,t){let r=0,n=0;const i={};for(let l=0;l<e.length;l++)n+=t[l],r+=e[l].length;const o=new ArrayBuffer(4*r);let s=null,a=0;for(let l=0;l<e.length;l++){const r=t[l],u=e[l],c=t_(u);i[c]||(i[c]=new H_[c](o)),s=i[c];for(let e=0;e<u.length;e++)s[(e/r|0)*n+a+e%r]=u[e];a+=r}return new Float32Array(o)}(e,t),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new q_;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new V_(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new G_(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=qp.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new q_,r=[],n=[],i=[];let o;for(let s=0;s<e.length;s++){o=e[s];for(let e=0;e<o.buffers.length;e++)n[e]=n[e]||0,n[e]+=o.buffers[e].data.length,i[e]=0}for(let s=0;s<o.buffers.length;s++)r[s]=new(X_[t_(o.buffers[s].data)])(n[s]),t.buffers[s]=new V_(r[s]);for(let s=0;s<e.length;s++){o=e[s];for(let e=0;e<o.buffers.length;e++)r[e].set(o.buffers[e].data,i[e]),i[e]+=o.buffers[e].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=qp.ELEMENT_ARRAY_BUFFER;let r=0,n=0,i=0,s=0;for(let e=0;e<o.buffers.length;e++)if(o.buffers[e]!==o.indexBuffer){s=e;break}for(const e in o.attributes){const t=o.attributes[e];(0|t.buffer)===s&&(n+=t.size*W_[t.type]/4)}for(let o=0;o<e.length;o++){const a=e[o].indexBuffer.data;for(let e=0;e<a.length;e++)t.indexBuffer.data[e+i]+=r;r+=e[o].buffers[s].data.length/n,i+=a.length}}return t}}class K_ extends q_{constructor(e=!1){super(),this._buffer=new V_(null,e,!1),this._indexBuffer=new V_(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ip.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ip.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ip.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ip.FLOAT).addIndex(this._indexBuffer)}}const Y_=2*Math.PI,Z_=180/Math.PI,Q_=Math.PI/180;var J_=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(J_||{});let ew=class e{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}};ew.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const tw=[new ew,new ew,new ew,new ew];class rw{constructor(e=0,t=0,r=0,n=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(n),this.type=J_.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new rw(0,0,0,0)}clone(){return new rw(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}const r=this.left,n=this.right,i=this.top,o=this.bottom;if(n<=r||o<=i)return!1;const s=tw[0].set(e.left,e.top),a=tw[1].set(e.left,e.bottom),l=tw[2].set(e.right,e.top),u=tw[3].set(e.right,e.bottom);if(l.x<=s.x||a.y<=s.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(s,s),t.apply(a,a),t.apply(l,l),t.apply(u,u),Math.max(s.x,a.x,l.x,u.x)<=r||Math.min(s.x,a.x,l.x,u.x)>=n||Math.max(s.y,a.y,l.y,u.y)<=i||Math.min(s.y,a.y,l.y,u.y)>=o))return!1;const d=c*(a.y-s.y),h=c*(s.x-a.x),f=d*r+h*i,p=d*n+h*i,m=d*r+h*o,g=d*n+h*o;if(Math.max(f,p,m,g)<=d*s.x+h*s.y||Math.min(f,p,m,g)>=d*u.x+h*u.y)return!1;const v=c*(s.y-l.y),y=c*(l.x-s.x),b=v*r+y*i,_=v*n+y*i,w=v*r+y*o,x=v*n+y*o;return!(Math.max(b,_,w,x)<=v*s.x+y*s.y||Math.min(b,_,w,x)>=v*u.x+y*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this}}e("R",rw),rw.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class nw{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=J_.CIRC}clone(){return new nw(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let n=this.x-e,i=this.y-t;return n*=n,i*=i,n+i<=r}getBounds(){return new rw(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}nw.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class iw{constructor(e=0,t=0,r=0,n=0){this.x=e,this.y=t,this.width=r,this.height=n,this.type=J_.ELIP}clone(){return new iw(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,n=(t-this.y)/this.height;return r*=r,n*=n,r+n<=1}getBounds(){return new rw(this.x-this.width,this.y-this.height,this.width,this.height)}}iw.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ow{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r].x,t[r].y);t=e}this.points=t,this.type=J_.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new ow(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const n=this.points.length/2;for(let i=0,o=n-1;i<n;o=i++){const n=this.points[2*i],s=this.points[2*i+1],a=this.points[2*o],l=this.points[2*o+1];s>t!=l>t&&e<(t-s)/(l-s)*(a-n)+n&&(r=!r)}return r}}ow.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((e,t)=>`${e}, ${t}`),"")}]`};class sw{constructor(e=0,t=0,r=0,n=0,i=20){this.x=e,this.y=t,this.width=r,this.height=n,this.radius=i,this.type=J_.RREC}clone(){return new sw(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let n=e-(this.x+r),i=t-(this.y+r);const o=r*r;if(n*n+i*i<=o||(n=e-(this.x+this.width-r),n*n+i*i<=o)||(i=t-(this.y+this.height-r),n*n+i*i<=o)||(n=e-(this.x+r),n*n+i*i<=o))return!0}return!1}}sw.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class aw{constructor(e=1,t=0,r=0,n=1,i=0,o=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,n,i,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new ew;const r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t}applyInverse(e,t){t=t||new ew;const r=1/(this.a*this.d+this.c*-this.b),n=e.x,i=e.y;return t.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),n=this.a,i=this.c,o=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this}append(e){const t=this.a,r=this.b,n=this.c,i=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this}setTransform(e,t,r,n,i,o,s,a,l){return this.a=Math.cos(s+l)*i,this.b=Math.sin(s+l)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,r=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,n=this.c,i=this.d,o=e.pivot,s=-Math.atan2(-n,i),a=Math.atan2(r,t),l=Math.abs(s+a);return l<1e-5||Math.abs(Y_-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+i*i),e.position.x=this.tx+(o.x*t+o.y*n),e.position.y=this.ty+(o.x*r+o.y*i),e}invert(){const e=this.a,t=this.b,r=this.c,n=this.d,i=this.tx,o=e*n-t*r;return this.a=n/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(e*this.ty-t*i)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new aw;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new aw}static get TEMP_MATRIX(){return new aw}}aw.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const lw=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uw=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],cw=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],dw=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hw=[],fw=[],pw=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];hw.push(t);for(let r=0;r<16;r++){const n=pw(lw[e]*lw[r]+cw[e]*uw[r]),i=pw(uw[e]*lw[r]+dw[e]*uw[r]),o=pw(lw[e]*cw[r]+cw[e]*dw[r]),s=pw(uw[e]*cw[r]+dw[e]*dw[r]);for(let e=0;e<16;e++)if(lw[e]===n&&uw[e]===i&&cw[e]===o&&dw[e]===s){t.push(e);break}}}for(let e=0;e<16;e++){const t=new aw;t.set(lw[e],uw[e],cw[e],dw[e],0,0),fw.push(t)}}();const mw={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>lw[e],uY:e=>uw[e],vX:e=>cw[e],vY:e=>dw[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>hw[e][t],sub:(e,t)=>hw[e][mw.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?mw.S:mw.N:2*Math.abs(t)<=Math.abs(e)?e>0?mw.E:mw.W:t>0?e>0?mw.SE:mw.SW:e>0?mw.NE:mw.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=fw[mw.inv(t)];i.tx=r,i.ty=n,e.append(i)}};class gw{constructor(e,t,r=0,n=0){this._x=r,this._y=n,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new gw(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}gw.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const vw=class{constructor(){this.worldTransform=new aw,this.localTransform=new aw,this.position=new gw(this.onChange,this,0,0),this.scale=new gw(this.onChange,this,1,1),this.pivot=new gw(this.onChange,this,0,0),this.skew=new gw(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};vw.IDENTITY=new vw;let yw=vw;function bw(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function _w(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function ww(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return _w(2*t);case"bvec3":return _w(3*t);case"bvec4":return _w(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}yw.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};const xw=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`\n            if(uv["${e}"] !== ud["${e}"].value)\n            {\n                ud["${e}"].value = uv["${e}"]\n                gl.uniform1f(ud["${e}"].location, uv["${e}"])\n            }\n            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${e}"], t);\n\n            if(ud["${e}"].value !== t)\n            {\n                ud["${e}"].value = t;\n                gl.uniform1i(ud["${e}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`\n            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));\n            `,codeUbo:e=>`\n                var ${e}_matrix = uv.${e}.toArray(true);\n\n                data[offset] = ${e}_matrix[0];\n                data[offset+1] = ${e}_matrix[1];\n                data[offset+2] = ${e}_matrix[2];\n        \n                data[offset + 4] = ${e}_matrix[3];\n                data[offset + 5] = ${e}_matrix[4];\n                data[offset + 6] = ${e}_matrix[5];\n        \n                data[offset + 8] = ${e}_matrix[6];\n                data[offset + 9] = ${e}_matrix[7];\n                data[offset + 10] = ${e}_matrix[8];\n            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${e}"].location, v.x, v.y);\n                }`,codeUbo:e=>`\n                v = uv.${e};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);\n                }\n            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])\n                }`}],Ew={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Cw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Aw={};let Dw,Tw=Aw;function Sw(){if(Tw===Aw||Tw?.isContextLost()){const e=Yp.ADAPTER.createCanvas();let t;Yp.PREFER_ENV>=kp.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Tw=t}return Tw}function kw(e,t){const r=e.getShaderSource(t).split("\n").map(((e,t)=>`${t}: ${e}`)),n=e.getShaderInfoLog(t),i=n.split("\n"),o={},s=i.map((e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((e=>!(!e||o[e]||(o[e]=!0,0)))),a=[""];s.forEach((e=>{r[e-1]=`%c${r[e-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const l=r.join("\n");a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}const Pw={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Rw(e){return Pw[e]}let Ow=null;const Bw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Mw(e,t){if(!Ow){const t=Object.keys(Bw);Ow={};for(let r=0;r<t.length;++r){const n=t[r];Ow[e[n]]=Bw[n]}}return Ow[t]}function Fw(e,t,r){if("precision"!==e.substring(0,9)){let n=t;return t===Hp.HIGH&&r!==Hp.HIGH&&(n=Hp.MEDIUM),`precision ${n} float;\n${e}`}return r!==Hp.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let Iw;function Nw(){if("boolean"==typeof Iw)return Iw;try{Iw=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{Iw=!1}return Iw}let Lw=0;const jw={},Uw=class e{constructor(t,r,n="pixi-shader",i={}){this.extra={},this.id=Lw++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),jw[n]?(jw[n]++,n+=`-${jw[n]}`):jw[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}\n${this.fragmentSrc}`,this.vertexSrc=Fw(this.vertexSrc,e.defaultVertexPrecision,Hp.HIGH),this.fragmentSrc=Fw(this.fragmentSrc,e.defaultFragmentPrecision,function(){if(!Dw){Dw=Hp.MEDIUM;const e=Sw();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(Dw=t.precision?Hp.HIGH:Hp.MEDIUM)}}return Dw}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(t,r,n){const i=t+r;let o=h_[i];return o||(h_[i]=o=new e(t,r,n)),o}};Uw.defaultVertexPrecision=Hp.HIGH,Uw.defaultFragmentPrecision=pm.apple.device?Hp.HIGH:Hp.MEDIUM;let zw=Uw,Vw=0;class Gw{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Vw++,this.static=!!t,this.ubo=!!r,e instanceof V_?(this.buffer=e,this.buffer.type=qp.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new V_(new Float32Array(1)),this.buffer.type=qp.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new Gw(t,r)}static from(e,t,r){return new Gw(e,t,r)}static uboFrom(e,t){return new Gw(e,t??!0,!0)}}class Hw{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof Gw?t:new Gw(t):new Gw({}),this.disposeRunner=new M_("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const n=t.uniforms[r];if(!0===n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const n=zw.from(e,t);return new Hw(n,r)}}class Ww{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Gw.from({uSamplers:t},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,`${e}`),r=r.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new zw(this.vertexSrc,r)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new aw,default:this.defaultGroupCache[e]};return new Hw(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${r}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}class $w{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class Xw{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const qw=class e extends Xw{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=K_,this.vertexSize=6,this.state=R_.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??function(e){let t=!0;const r=Yp.ADAPTER.getNavigator();if(pm.tablet||pm.phone){if(pm.apple.device){const e=r.userAgent.match(/OS (\d+)_(\d+)?/);e&&parseInt(e[1],10)<11&&(t=!1)}if(pm.android.device){const e=r.userAgent.match(/Android\s([0-9.]*)/);e&&parseInt(e[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??!pm.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return db("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:r=e.defaultFragmentTemplate}={}){this.shaderGenerator=new Ww(t,r)}contextChange(){const t=this.renderer.gl;Yp.PREFER_ENV===kp.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=P_(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:r}=e,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new U_);for(;r.length<i;)r.push(new $w);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:r}=this,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count;let a=++j_._globalBatch,l=0,u=n[0],c=0;i.copyBoundTextures(o,r);for(let e=0;e<this._bufferSize;++e){const d=t[e];t[e]=null,d._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,o,a,r),this.buildDrawCalls(u,c,e),c=e,u=n[++l],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(i.boundArray(u,o,a,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++a);for(let e=0;e<o.length;e++)o[e]=null;j_._globalBatch=a}buildDrawCalls(t,r,n){const{_bufferedElements:i,_attributeBuffer:o,_indexBuffer:s,vertexSize:a}=this,l=e._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,h=l[u];h.start=this._iIndex,h.texArray=t;for(let e=r;e<n;++e){const n=i[e],f=n._texture.baseTexture,p=Zb[f.alphaMode?1:0][n.blendMode];i[e]=null,r<e&&h.blend!==p&&(h.size=d-h.start,r=e,h=l[++u],h.texArray=t,h.start=d),this.packInterleavedGeometry(n,o,s,c,d),c+=n.vertexData.length/2*a,d+=n.indices.length,h.blend=p}r<n&&(h.size=d-h.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:n}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:r,state:n}=this.renderer,i=e._drawCallPool;let o=null;for(let e=0;e<t;e++){const{texArray:t,type:s,size:a,start:l,blend:u}=i[e];o!==t&&(o=t,this.bindAndClearTexArray(t)),this.state.blendMode=u,n.set(this.state),r.drawElements(s,a,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=n_(Math.ceil(e/8)),r=o_(t),n=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new T_(n*this.vertexSize*4)),i}getIndexBuffer(e){const t=n_(Math.ceil(e/12)),r=o_(t),n=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(e,t,r,n,i){const{uint32View:o,float32View:s}=t,a=n/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,h=Math.min(e.worldAlpha,1),f=qb.shared.setValue(e._tintRGB).toPremultiplied(h,e._texture.baseTexture.alphaMode>0);for(let p=0;p<c.length;p+=2)s[n++]=c[p],s[n++]=c[p+1],s[n++]=l[p],s[n++]=l[p+1],o[n++]=f,s[n++]=d;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};qw.defaultBatchSize=4096,qw.extension={name:"batch",type:E_.RendererPlugin},qw._drawCallPool=[],qw._textureArrayPool=[];let Kw=qw;D_.add(Kw);const Yw=class e extends Hw{constructor(t,r,n){super(zw.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),n),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new R_}apply(e,t,r,n,i){e.applyFilter(this,t,r,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};Yw.defaultResolution=1,Yw.defaultMultisample=Xp.NONE;let Zw=Yw;class Qw{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new qb(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:n}=e,i=r??t;void 0!==i&&(this.color=i),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Qw.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Qw.extension={type:[E_.RendererSystem,E_.CanvasRendererSystem],name:"background"},D_.add(Qw);class Jw{constructor(e){this.renderer=e,this.emptyRenderer=new Xw(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let n=t-1;n>=0;--n)e[n]=r[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,t,r,n){const{elements:i,ids:o,count:s}=e;let a=0;for(let l=0;l<s;l++){const e=i[l],s=e._batchLocation;if(s>=0&&s<n&&t[s]===e)o[l]=s;else for(;a<n;){const n=t[a];if(!n||n._batchEnabled!==r||n._batchLocation!==a){o[l]=a,e._batchLocation=a,t[a]=e;break}a++}}}destroy(){this.renderer=null}}Jw.extension={type:E_.RendererSystem,name:"batch"},D_.add(Jw);let ex=0;class tx{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ex++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ex++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Yp.PREFER_ENV>=kp.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}tx.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},tx.extension={type:E_.RendererSystem,name:"context"},D_.add(tx);class rx{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new M_("disposeFramebuffer"),this.multisample=Xp.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new j_(null,{scaleMode:Lp.NEAREST,resolution:1,mipmap:Up.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new j_(null,{scaleMode:Lp.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Up.OFF,format:Mp.DEPTH_COMPONENT,type:Ip.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const n=this.colorTextures[r],i=n.resolution;n.setSize(e/i,t/i)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class nx extends j_{constructor(e={}){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Xp.NONE),super(null,e),this.mipmap=Up.OFF,this.valid=!0,this._clear=new qb([0,0,0,0]),this.framebuffer=new rx(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ix extends F_{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.width,t.naturalHeight||t.videoHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=__(t)}upload(e,t,r,n){const i=e.gl,o=t.realWidth,s=t.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===zp.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,t.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,r.type,n),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class ox extends ix{constructor(e,t){if(t=t||{},"string"==typeof e){const r=new Image;ix.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Yp.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(((e,t)=>{const r=this.source;this.url=r.src;const n=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?n():(r.onload=n,r.onerror=e=>{t(e),this.onError.emit(e)})}))),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((e=>e.blob())).then((r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===zp.UNPACK?"premultiply":"none"}))).then((e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0;const n=t._glTextures;for(const i in n){const o=n[i];if(o!==r&&o.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class sx{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const n=t.width,i=t.height;if(r){const t=e.width/2/n,o=e.height/2/i,s=e.x/n+t,a=e.y/i+o;r=mw.add(r,mw.NW),this.x0=s+t*mw.uX(r),this.y0=a+o*mw.uY(r),r=mw.add(r,2),this.x1=s+t*mw.uX(r),this.y1=a+o*mw.uY(r),r=mw.add(r,2),this.x2=s+t*mw.uX(r),this.y2=a+o*mw.uY(r),r=mw.add(r,2),this.x3=s+t*mw.uX(r),this.y3=a+o*mw.uY(r)}else this.x0=e.x/n,this.y0=e.y/i,this.x1=(e.x+e.width)/n,this.y1=e.y/i,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/i,this.x3=e.x/n,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}sx.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const ax=new sx;function lx(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class ux extends gm{constructor(e,t,r,n,i,o,s){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new rw(0,0,1,1)),e instanceof ux&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=ax,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(i||0),!0===i)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ew(o.x,o.y):new ew(0,0),this.defaultBorders=s,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;e?.url&&f_[e.url]&&ux.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ux.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ux(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===ax&&(this._uvs=new sx),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Yp.STRICT_TEXTURE_CACHE){const n="string"==typeof e;let i=null;if(n)i=e;else if(e instanceof j_){if(!e.cacheId){const r=t?.pixiIdPrefix||"pixiid";e.cacheId=`${r}-${u_()}`,j_.addToCache(e,e.cacheId)}i=e.cacheId}else{if(!e._pixiId){const r=t?.pixiIdPrefix||"pixiid";e._pixiId=`${r}_${u_()}`}i=e._pixiId}let o=f_[i];if(n&&r&&!o)throw new Error(`The cacheId "${i}" does not exist in TextureCache.`);return o||e instanceof j_?!o&&e instanceof j_&&(o=new ux(e),ux.addToCache(o,i)):(t.resolution||(t.resolution=w_(e)),o=new ux(new j_(e,t)),o.baseTexture.cacheId=i,j_.addToCache(o.baseTexture,i),ux.addToCache(o,i)),o}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t?.resourceOptions),n=ux.from(e,Object.assign({resourceOptions:r},t),!1),i=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):i.load().then((()=>Promise.resolve(n)))}static fromBuffer(e,t,r,n){return new ux(j_.fromBuffer(e,t,r,n))}static fromLoader(e,t,r,n){const i=new j_(e,Object.assign({scaleMode:j_.defaultOptions.scaleMode,resolution:w_(t)},n)),{resource:o}=i;o instanceof ox&&(o.url=t);const s=new ux(i);return r||(r=t),j_.addToCache(s.baseTexture,r),ux.addToCache(s,r),r!==t&&(j_.addToCache(s.baseTexture,t),ux.addToCache(s,t)),s.baseTexture.valid?Promise.resolve(s):new Promise((e=>{s.baseTexture.once("loaded",(()=>e(s)))}))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),f_[t]&&f_[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),f_[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=f_[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete f_[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)f_[e.textureCacheIds[t]]===e&&delete f_[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:n,height:i}=e,o=t+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){const e=o&&s?"and":"or",a=`X: ${t} + ${n} = ${t+n} > ${this.baseTexture.width}`,l=`Y: ${r} + ${i} = ${r+i} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${a} ${e} ${l}`)}this.valid=n&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ux._EMPTY||(ux._EMPTY=new ux(new j_),lx(ux._EMPTY),lx(ux._EMPTY.baseTexture)),ux._EMPTY}static get WHITE(){if(!ux._WHITE){const e=Yp.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ux._WHITE=new ux(j_.from(e)),lx(ux._WHITE),lx(ux._WHITE.baseTexture)}return ux._WHITE}}e("f",ux);class cx extends ux{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const n=this.baseTexture.resolution,i=Math.round(e*n)/n,o=Math.round(t*n)/n;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(i,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new cx(new nx(e))}}class dx{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=Xp.NONE){const n=new nx(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new cx(n)}getOptimalTexture(e,t,r=1,n=Xp.NONE){let i;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=n>1?-n:-1:(i=((65535&(e=n_(e)))<<16|65535&(t=n_(t)))>>>0,n>1&&(i+=4294967296*n)),this.texturePool[i]||(this.texturePool[i]=[]);let o=this.texturePool[i].pop();return o||(o=this.createTexture(e,t,n)),o.filterPoolKey=i,o.setResolution(r),o}getFilterTexture(e,t,r){const n=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||Xp.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const t in this.texturePool){const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}dx.SCREEN_KEY=-1;class hx extends q_{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class fx extends q_{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new V_(this.vertices),this.uvBuffer=new V_(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class px{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Xp.NONE,this.sourceFrame=new rw,this.destinationFrame=new rw,this.bindingSourceFrame=new rw,this.bindingDestinationFrame=new rw,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const mx=[new ew,new ew,new ew,new ew],gx=new aw;class vx{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new dx,this.statePool=[],this.quad=new hx,this.quadUv=new fx,this.tempRect=new rw,this.activeState={},this.globalUniforms=new Gw({outputFrame:new rw,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new px,o=r.renderTexture;let s,a;if(o.current){const e=o.current;s=e.resolution,a=e.multisample}else s=r.resolution,a=r.multisample;let l=t[0].resolution||s,u=t[0].multisample??a,c=t[0].padding,d=t[0].autoFit,h=t[0].legacy??!0;for(let m=1;m<t.length;m++){const e=t[m];l=Math.min(l,e.resolution||s),u=Math.min(u,e.multisample??a),c=this.useMaxPadding?Math.max(c,e.padding):c+e.padding,d=d&&e.autoFit,h=h||(e.legacy??!0)}1===n.length&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(i),i.resolution=l,i.multisample=u,i.legacy=h,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(c);const f=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(gx.copyFrom(r.projection.transform).invert(),f),d?(i.sourceFrame.fit(f),(i.sourceFrame.width<=0||i.sourceFrame.height<=0)&&(i.sourceFrame.width=0,i.sourceFrame.height=0)):i.sourceFrame.intersects(f)||(i.sourceFrame.width=0,i.sourceFrame.height=0),this.roundFrame(i.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,l,u),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=i.sourceFrame.width,p.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=r.projection.transform,r.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,p),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const n=this.globalUniforms.uniforms;n.outputFrame=t.sourceFrame,n.resolution=t.resolution;const i=n.inputSize,o=n.inputPixel,s=n.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=t.sourceFrame.width*i[2]-.5*o[2],s[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){const e=n.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const a=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,a.renderTexture,Vp.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,n=this.getOptimalFilterTexture(e.width,e.height,t.resolution);n.filterFrame=e.filterFrame;let i=0;for(i=0;i<r.length-1;++i){1===i&&t.multisample>1&&(n=this.getOptimalFilterTexture(e.width,e.height,t.resolution),n.filterFrame=e.filterFrame),r[i].apply(this,e,n,Vp.CLEAR,t);const o=e;e=n,n=o}r[i].apply(this,e,a.renderTexture,Vp.BLEND,t),i>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(n)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Vp.CLEAR){const{renderTexture:r,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,r.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const i=1&n.stateId||this.forceClear;(t===Vp.CLEAR||t===Vp.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,n){const i=this.renderer;i.state.set(e.state),this.bindAndClear(r,n),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(Bp.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(Bp.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:n}=this.activeState,{orig:i}=t._texture,o=e.set(n.width,0,0,n.height,r.x,r.y),s=t.worldTransform.copyTo(aw.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/i.width,1/i.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,n=Xp.NONE){return this.texturePool.getOptimalTexture(e,t,r,n)}getFilterTexture(e,t,r){if("number"==typeof e){const r=e;e=t,t=r}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||Xp.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=mx[0],n=mx[1],i=mx[2],o=mx[3];r.set(t.left,t.top),n.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(r,r),e.apply(n,n),e.apply(i,i),e.apply(o,o);const s=Math.min(r.x,n.x,i.x,o.x),a=Math.min(r.y,n.y,i.y,o.y),l=Math.max(r.x,n.x,i.x,o.x),u=Math.max(r.y,n.y,i.y,o.y);t.x=s,t.y=a,t.width=l-s,t.height=u-a}roundFrame(e,t,r,n,i){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(i){const{a:e,b:t,c:r,d:n}=i;if((Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4))return}(i=i?gx.copyFrom(i):gx.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}vx.extension={type:E_.RendererSystem,name:"filter"},D_.add(vx);class yx{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Xp.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const bx=new rw;class _x{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new rx(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new rw,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Yp.PREFER_ENV===kp.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:n}=this;if(e){const i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=r),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const r=e.colorTextures[t];this.renderer.texture.unbind(r.parentTextureArray||r)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>r,n=t.height>>r,i=e/t.width;this.setViewport(t.x*i,t.y*i,e,n)}else{const t=e.width>>r,n=e.height>>r;this.setViewport(0,0,t,n)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,n){const i=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),(i.width!==r||i.height!==n||i.x!==e||i.y!==t)&&(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,n,i=Rp.COLOR|Rp.DEPTH){const{gl:o}=this;o.clearColor(e,t,r,n),o.clear(i)}initFramebuffer(e){const{gl:t}=this,r=new yx(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let n;t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),n=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,n,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,n,e.width,e.height)}const n=e.colorTextures;let i=n.length;t.drawBuffers||(i=Math.min(i,1));for(let o=0;o<i;o++){const i=n[o],s=i.parentTextureArray||i;this.renderer.texture.bind(s,0),0===o&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,s._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures;let o=i.length;r.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer():n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const s=[];for(let a=0;a<o;a++){const o=i[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),0===a&&n.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,o.target,l._glTextures[this.CONTEXT_UID].texture,t),s.push(r.COLOR_ATTACHMENT0+a))}if(s.length>1&&r.drawBuffers(s),e.depthTexture&&this.writeDepthTexture){const n=e.depthTexture;this.renderer.texture.bind(n,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null);else{let t,i;n.stencil=n.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH_STENCIL):e.depth&&e.stencil?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH24_STENCIL8):e.depth?(t=r.DEPTH_ATTACHMENT,i=r.DEPTH_COMPONENT24):(t=r.STENCIL_ATTACHMENT,i=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,i,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,i,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,n.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=Xp.NONE;if(e<=1||null===t)return r;for(let n=0;n<t.length;n++)if(t[n]<=e){r=t[n];break}return 1===r&&(r=Xp.NONE),r}blit(e,t,r){const{current:n,renderer:i,gl:o,CONTEXT_UID:s}=this;if(2!==i.context.webGLVersion||!n)return;const a=n.glFramebuffers[s];if(!a)return;if(!e){if(!a.msaaBuffer)return;const t=n.colorTextures[0];if(!t)return;a.blitFramebuffer||(a.blitFramebuffer=new rx(n.width,n.height),a.blitFramebuffer.addColorTexture(0,t)),(e=a.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}t||((t=bx).width=n.width,t.height=n.height),r||(r=t);const l=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,n=e.height,i=this.gl,o=t.stencil=i.createRenderbuffer();let s,a;i.bindRenderbuffer(i.RENDERBUFFER,o),1===this.renderer.context.webGLVersion?(s=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH_STENCIL):e.depth?(s=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH24_STENCIL8):(s=i.STENCIL_ATTACHMENT,a=i.STENCIL_INDEX8),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,a,r,n):i.renderbufferStorage(i.RENDERBUFFER,a,r,n),i.framebufferRenderbuffer(i.FRAMEBUFFER,s,i.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new rw}destroy(){this.renderer=null}}_x.extension={type:E_.RendererSystem,name:"framebuffer"},D_.add(_x);const wx={5126:4,5123:2,5121:1};class xx{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;Yp.PREFER_ENV===kp.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,r)=>t.vertexAttribDivisorANGLE(e,r),e.drawElementsInstanced=(e,r,n,i,o)=>t.drawElementsInstancedANGLE(e,r,n,i,o),e.drawArraysInstanced=(e,r,n,i)=>t.drawArraysInstancedANGLE(e,r,n,i)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);const o=n[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const n=e.buffers[r];t.update(n)}}checkCompatibility(e,t){const r=e.attributes,n=t.attributeData;for(const i in n)if(!r[i])throw new Error(`shader and geometry incompatible, geometry missing the "${i}" attribute`)}getSignature(e,t){const r=e.attributes,n=t.attributeData,i=["g",e.id];for(const o in r)n[o]&&i.push(o,n[o].location);return i.join("-")}initGeometryVao(e,t,r=!0){const n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=t.program;s.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);const a=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID];let u=l[a];if(u)return l[s.id]=u,u;const c=e.buffers,d=e.attributes,h={},f={};for(const p in c)h[p]=0,f[p]=0;for(const p in d)!d[p].size&&s.attributeData[p]?d[p].size=s.attributeData[p].size:d[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),h[d[p].buffer]+=d[p].size*wx[d[p].type];for(const p in d){const e=d[p],t=e.size;void 0===e.stride&&(h[e.buffer]===t*wx[e.type]?e.stride=0:e.stride=h[e.buffer]),void 0===e.start&&(e.start=f[e.buffer],f[e.buffer]+=t*wx[e.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let p=0;p<c.length;p++){const e=c[p];o.bind(e),r&&e._glBuffers[i].refCount++}return this.activateVao(e,s),l[s.id]=u,l[a]=u,n.bindVertexArray(null),o.unbind(qp.ARRAY_BUFFER),u}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),r){if(o)for(let e=0;e<i.length;e++){const r=i[e]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0===r.refCount&&!t&&o.dispose(i[e],t))}if(!t)for(const e in r)if("g"===e[0]){const t=r[e];this._activeVao===t&&this.unbind(),n.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let a=null;for(const l in s){const e=s[l],u=o[e.buffer],c=u._glBuffers[n];if(t.attributeData[l]){a!==c&&(i.bind(u),a=c);const n=t.attributeData[l].location;if(r.enableVertexAttribArray(n),r.vertexAttribPointer(n,e.size,e.type||r.FLOAT,e.normalized,e.stride,e.start),e.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(n,e.divisor)}}}}draw(e,t,r,n){const{gl:i}=this,o=this._activeGeometry;if(o.indexBuffer){const s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,n||1):i.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,r,t||o.getSize(),n||1):i.drawArrays(e,r,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}xx.extension={type:E_.RendererSystem,name:"geometry"},D_.add(xx);const Ex=new aw;class Cx{constructor(e,t){this._texture=e,this.mapCoord=new aw,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const r=this.mapCoord;for(let n=0;n<e.length;n+=2){const i=e[n],o=e[n+1];t[n]=i*r.a+o*r.c+r.tx,t[n+1]=i*r.b+o*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=t.orig,i=t.trim;i&&(Ex.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Ex));const o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(t._frame.x+a+l)/o.width,s[1]=(t._frame.y+a+l)/o.height,s[2]=(t._frame.x+t._frame.width-a+l)/o.width,s[3]=(t._frame.y+t._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}class Ax extends Zw{constructor(e,t,r){let n=null;"string"!=typeof e&&void 0===t&&void 0===r&&(n=e,e=void 0,t=void 0,r=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r),this.maskSprite=n,this.maskMatrix=new aw}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,n){const i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Cx(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,n))}}class Dx{constructor(e=null){this.type=Wp.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Zw.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Wp.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Tx{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const e=this.maskDataPool.pop()||new Dx;e.pooled=!0,e.maskObject=t,r=e}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r._colorMask=n?n._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Wp.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Wp.SCISSOR:this.renderer.scissor.push(r);break;case Wp.STENCIL:this.renderer.stencil.push(r);break;case Wp.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Wp.COLOR:this.pushColorMask(r)}r.type===Wp.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case Wp.SCISSOR:this.renderer.scissor.pop(t);break;case Wp.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Wp.SPRITE:this.popSpriteMask(t);break;case Wp.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===Wp.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Wp.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Wp.SCISSOR:e.type=Wp.STENCIL:e.type=Wp.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Ax])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=t;const i=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}destroy(){this.renderer=null}}Tx.extension={type:E_.RendererSystem,name:"mask"},D_.add(Tx);class Sx{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==r&&(0===n?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const kx=new aw,Px=[],Rx=class e extends Sx{constructor(e){super(e),this.glConst=Yp.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:n}=this,i=n.renderTexture,o=r.getBounds(!0,Px.pop()??new rw);this.roundFrameToPixels(o,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:n,d:i}=e;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,r,n,i,o){e.isMatrixRotated(o)||((o=o?kx.copyFrom(o):kx.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&Px.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};Rx.extension={type:E_.RendererSystem,name:"scissor"};let Ox=Rx;D_.add(Ox);class Bx extends Sx{constructor(e){super(e),this.glConst=Yp.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,n=e._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const i=e._colorMask;0!==i&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,r.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,n=r?r._colorMask:15;0!==n&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(r._colorMask=n,t.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Bx.extension={type:E_.RendererSystem,name:"stencil"},D_.add(Bx);class Mx{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(db("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(db("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(db("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Mx.extension={type:[E_.RendererSystem,E_.CanvasRendererSystem],name:"_plugin"},D_.add(Mx);class Fx{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new aw,this.transform=null}update(e,t,r,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);const i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}calculateProjection(e,t,r,n){const i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d}setTransform(e){}destroy(){this.renderer=null}}Fx.extension={type:E_.RendererSystem,name:"projection"},D_.add(Fx);const Ix=new yw,Nx=new rw;class Lx{constructor(e){this.renderer=e,this._tempMatrix=new aw}generateTexture(e,t){const{region:r,...n}=t||{},i=r?.copyTo(Nx)||e.getLocalBounds(Nx,!0),o=n.resolution||this.renderer.resolution;i.width=Math.max(i.width,1/o),i.height=Math.max(i.height,1/o),n.width=i.width,n.height=i.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const s=cx.create(n);this._tempMatrix.tx=-i.x,this._tempMatrix.ty=-i.y;const a=e.transform;return e.transform=Ix,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,s}destroy(){}}Lx.extension={type:[E_.RendererSystem,E_.CanvasRendererSystem],name:"textureGenerator"},D_.add(Lx);const jx=new rw,Ux=new rw;class zx{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new rw,this.destinationFrame=new rw,this.viewportFrame=new rw}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const n=this.renderer;let i,o,s;this.current=e,e?(i=e.baseTexture,s=i.resolution,t||(jx.width=e.frame.width,jx.height=e.frame.height,t=jx),r||(Ux.x=e.frame.x,Ux.y=e.frame.y,Ux.width=t.width,Ux.height=t.height,r=Ux),o=i.framebuffer):(s=n.resolution,t||(jx.width=n._view.screen.width,jx.height=n._view.screen.height,t=jx),r||((r=jx).width=t.width,r.height=t.height));const a=this.viewportFrame;a.x=r.x*s,a.y=r.y*s,a.width=r.width*s,a.height=r.height*s,e||(a.y=n.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(o,a),this.renderer.projection.update(r,t,s,!o),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=qb.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const i=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==o.width||i.height!==o.height;if(s){let{x:e,y:t,width:r,height:n}=this.viewportFrame;e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,r,n)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,t),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}zx.extension={type:E_.RendererSystem,name:"renderTexture"},D_.add(zx);class Vx{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Gx(e,t){const r=bw(e,e.VERTEX_SHADER,t.vertexSrc),n=bw(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const o=t.extra?.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||function(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||kw(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||kw(e,n),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,i,r,n),t.attributeData=function(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const n=t.getActiveAttrib(e,i);if(n.name.startsWith("gl_"))continue;const o=Mw(t,n.type),s={type:o,name:n.name,size:Rw(o),location:t.getAttribLocation(e,n.name)};r[n.name]=s}return r}(i,e),t.uniformData=function(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const n=t.getActiveUniform(e,i),o=n.name.replace(/\[.*?\]$/,""),s=!!n.name.match(/\[.*?\]$/),a=Mw(t,n.type);r[o]={name:o,index:i,type:a,size:n.size,isArray:s,value:ww(a,n.size)}}return r}(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const r=Object.keys(t.attributeData);r.sort(((e,t)=>e>t?1:-1));for(let n=0;n<r.length;n++)t.attributeData[r[n]].location=n,e.bindAttribLocation(i,n,r[n]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const s={};for(const a in t.uniformData){const r=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:ww(r.type,r.size)}}return new Vx(i,s)}function Hx(e,t,r,n,i){r.buffer.update(i)}const Wx={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},$x={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Xx(e){const t=e.map((e=>({data:e,offset:0,dataLen:0,dirty:0})));let r=0,n=0,i=0;for(let o=0;o<t.length;o++){const e=t[o];if(r=$x[e.data.type],e.data.size>1&&(r=Math.max(r,16)*e.data.size),e.dataLen=r,n%r!=0&&n<16){const e=n%r%16;n+=e,i+=e}n+r>16?(i=16*Math.ceil(i/16),e.offset=i,i+=r,n=r):(e.offset=i,n+=r,i+=r)}return i=16*Math.ceil(i/16),{uboElements:t,size:i}}function qx(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort(((e,t)=>e.index-t.index)),r}function Kx(e,t){if(!e.autoManage)return{size:0,syncFunc:Hx};const r=qx(e.uniforms,t),{uboElements:n,size:i}=Xx(r),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let s=0;s<n.length;s++){const t=n[s],r=e.uniforms[t.data.name],i=t.data.name;let a=!1;for(let e=0;e<xw.length;e++){const n=xw[e];if(n.codeUbo&&n.test(t.data,r)){o.push(`offset = ${t.offset/4};`,xw[e].codeUbo(t.data.name,r)),a=!0;break}}if(!a)if(t.data.size>1){const e=Rw(t.data.type),r=Math.max($x[t.data.type]/16,1),n=e/r,s=(4-n%4)%4;o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${t.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${t.data.size*r}; i++)\n                {\n                    for(var j = 0; j < ${n}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${s};\n                }\n\n                `)}else{const e=Wx[t.data.type];o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${t.offset/4};\n                ${e};\n                `)}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}let Yx=0;const Zx={textureCount:0,uboCount:0};class Qx{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Yx++}systemCheck(){if(!Nw())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),t||(Zx.textureCount=0,Zx.uboCount=0,this.syncUniformGroup(e.uniformGroup,Zx)),n}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const n in e.uniforms){const i=t[n];if(!i){!0===e.uniforms[n]?.group&&(e.uniforms[n].ubo?r.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');\n                    `):r.push(`\n                        renderer.shader.syncUniformGroup(uv.${n}, syncData);\n                    `));continue}const o=e.uniforms[n];let s=!1;for(let e=0;e<xw.length;e++)if(xw[e].test(i,o)){r.push(xw[e].code(n,o)),s=!0;break}if(!s){const e=(1!==i.size||i.isArray?Cw:Ew)[i.type].replace("location",`ud["${n}"].location`);r.push(`\n            cu = ud["${n}"];\n            cv = cu.value;\n            v = uv["${n}"];\n            ${e};`)}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;const n=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),n(r.uniformData,e.uniforms,this.renderer,Zx,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const i=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let s=this._uboCache[o];if(s||(s=this._uboCache[o]=Kx(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(s.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const n=e.uniforms,i=[`${r}-`];for(const o in n)i.push(o),t[o]&&i.push(t[o].type);return i.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,n=Gx(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Qx.extension={type:E_.RendererSystem,name:"shader"},D_.add(Qx);class Jx{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.3.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}Jx.defaultOptions={hello:!1},Jx.extension={type:[E_.RendererSystem,E_.CanvasRendererSystem],name:"startup"},D_.add(Jx);const eE=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Op.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new R_,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function(e,t=[]){return t[Op.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.ADD]=[e.ONE,e.ONE],t[Op.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.NONE]=[0,0],t[Op.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Op.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Op.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Op.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Op.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Op.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Op.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Op.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Op.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Op.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):!t&&-1!==r&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};eE.extension={type:E_.RendererSystem,name:"state"};let tE=eE;D_.add(tE);class rE extends gm{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter((t=>e.systems[t])),r=[...t,...Object.keys(e.systems).filter((e=>!t.includes(e)))];for(const n of r)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach((e=>{this.runners[e]=new M_(e)}))}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const n in this.runners)this.runners[n].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach((n=>{const i=r.find((e=>this._systemsHash[e]===n));n[e.name](t[i])}))}destroy(){Object.values(this.runners).forEach((e=>{e.destroy()})),this._systemsHash={}}}const nE=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Gp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let n=0;n<t.length;n++){const i=t[n];i.resource&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&(t[e++]=t[r]);t.length=e}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};nE.defaultMode=Gp.AUTO,nE.defaultMaxIdle=3600,nE.defaultCheckCountMax=600,nE.extension={type:E_.RendererSystem,name:"textureGC"};let iE=nE;D_.add(iE);class oE{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ip.UNSIGNED_BYTE,this.internalFormat=Mp.RGBA,this.samplerType=0}}class sE{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new j_,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[Ip.UNSIGNED_BYTE]:{[Mp.RGBA]:e.RGBA8,[Mp.RGB]:e.RGB8,[Mp.RG]:e.RG8,[Mp.RED]:e.R8,[Mp.RGBA_INTEGER]:e.RGBA8UI,[Mp.RGB_INTEGER]:e.RGB8UI,[Mp.RG_INTEGER]:e.RG8UI,[Mp.RED_INTEGER]:e.R8UI,[Mp.ALPHA]:e.ALPHA,[Mp.LUMINANCE]:e.LUMINANCE,[Mp.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Ip.BYTE]:{[Mp.RGBA]:e.RGBA8_SNORM,[Mp.RGB]:e.RGB8_SNORM,[Mp.RG]:e.RG8_SNORM,[Mp.RED]:e.R8_SNORM,[Mp.RGBA_INTEGER]:e.RGBA8I,[Mp.RGB_INTEGER]:e.RGB8I,[Mp.RG_INTEGER]:e.RG8I,[Mp.RED_INTEGER]:e.R8I},[Ip.UNSIGNED_SHORT]:{[Mp.RGBA_INTEGER]:e.RGBA16UI,[Mp.RGB_INTEGER]:e.RGB16UI,[Mp.RG_INTEGER]:e.RG16UI,[Mp.RED_INTEGER]:e.R16UI,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[Ip.SHORT]:{[Mp.RGBA_INTEGER]:e.RGBA16I,[Mp.RGB_INTEGER]:e.RGB16I,[Mp.RG_INTEGER]:e.RG16I,[Mp.RED_INTEGER]:e.R16I},[Ip.UNSIGNED_INT]:{[Mp.RGBA_INTEGER]:e.RGBA32UI,[Mp.RGB_INTEGER]:e.RGB32UI,[Mp.RG_INTEGER]:e.RG32UI,[Mp.RED_INTEGER]:e.R32UI,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[Ip.INT]:{[Mp.RGBA_INTEGER]:e.RGBA32I,[Mp.RGB_INTEGER]:e.RGB32I,[Mp.RG_INTEGER]:e.RG32I,[Mp.RED_INTEGER]:e.R32I},[Ip.FLOAT]:{[Mp.RGBA]:e.RGBA32F,[Mp.RGB]:e.RGB32F,[Mp.RG]:e.RG32F,[Mp.RED]:e.R32F,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[Ip.HALF_FLOAT]:{[Mp.RGBA]:e.RGBA16F,[Mp.RGB]:e.RGB16F,[Mp.RG]:e.RG16F,[Mp.RED]:e.R16F},[Ip.UNSIGNED_SHORT_5_6_5]:{[Mp.RGB]:e.RGB565},[Ip.UNSIGNED_SHORT_4_4_4_4]:{[Mp.RGBA]:e.RGBA4},[Ip.UNSIGNED_SHORT_5_5_5_1]:{[Mp.RGBA]:e.RGB5_A1},[Ip.UNSIGNED_INT_2_10_10_10_REV]:{[Mp.RGBA]:e.RGB10_A2,[Mp.RGBA_INTEGER]:e.RGB10_A2UI},[Ip.UNSIGNED_INT_10F_11F_11F_REV]:{[Mp.RGB]:e.R11F_G11F_B10F},[Ip.UNSIGNED_INT_5_9_9_9_REV]:{[Mp.RGB]:e.RGB9_E5},[Ip.UNSIGNED_INT_24_8]:{[Mp.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[Ip.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Mp.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[Ip.UNSIGNED_BYTE]:{[Mp.RGBA]:e.RGBA,[Mp.RGB]:e.RGB,[Mp.ALPHA]:e.ALPHA,[Mp.LUMINANCE]:e.LUMINANCE,[Mp.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Ip.UNSIGNED_SHORT_5_6_5]:{[Mp.RGB]:e.RGB},[Ip.UNSIGNED_SHORT_4_4_4_4]:{[Mp.RGBA]:e.RGBA},[Ip.UNSIGNED_SHORT_5_5_5_1]:{[Mp.RGBA]:e.RGBA}},t}(e),this.samplerTypes=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:Np.FLOAT,[e.RGBA]:Np.FLOAT,[e.ALPHA]:Np.FLOAT,[e.LUMINANCE]:Np.FLOAT,[e.LUMINANCE_ALPHA]:Np.FLOAT,[e.R8]:Np.FLOAT,[e.R8_SNORM]:Np.FLOAT,[e.RG8]:Np.FLOAT,[e.RG8_SNORM]:Np.FLOAT,[e.RGB8]:Np.FLOAT,[e.RGB8_SNORM]:Np.FLOAT,[e.RGB565]:Np.FLOAT,[e.RGBA4]:Np.FLOAT,[e.RGB5_A1]:Np.FLOAT,[e.RGBA8]:Np.FLOAT,[e.RGBA8_SNORM]:Np.FLOAT,[e.RGB10_A2]:Np.FLOAT,[e.RGB10_A2UI]:Np.FLOAT,[e.SRGB8]:Np.FLOAT,[e.SRGB8_ALPHA8]:Np.FLOAT,[e.R16F]:Np.FLOAT,[e.RG16F]:Np.FLOAT,[e.RGB16F]:Np.FLOAT,[e.RGBA16F]:Np.FLOAT,[e.R32F]:Np.FLOAT,[e.RG32F]:Np.FLOAT,[e.RGB32F]:Np.FLOAT,[e.RGBA32F]:Np.FLOAT,[e.R11F_G11F_B10F]:Np.FLOAT,[e.RGB9_E5]:Np.FLOAT,[e.R8I]:Np.INT,[e.R8UI]:Np.UINT,[e.R16I]:Np.INT,[e.R16UI]:Np.UINT,[e.R32I]:Np.INT,[e.R32UI]:Np.UINT,[e.RG8I]:Np.INT,[e.RG8UI]:Np.UINT,[e.RG16I]:Np.INT,[e.RG16UI]:Np.UINT,[e.RG32I]:Np.INT,[e.RG32UI]:Np.UINT,[e.RGB8I]:Np.INT,[e.RGB8UI]:Np.UINT,[e.RGB16I]:Np.INT,[e.RGB16UI]:Np.UINT,[e.RGB32I]:Np.INT,[e.RGB32UI]:Np.UINT,[e.RGBA8I]:Np.INT,[e.RGBA8UI]:Np.UINT,[e.RGBA16I]:Np.INT,[e.RGBA16UI]:Np.UINT,[e.RGBA32I]:Np.INT,[e.RGBA32UI]:Np.UINT,[e.DEPTH_COMPONENT16]:Np.FLOAT,[e.DEPTH_COMPONENT24]:Np.FLOAT,[e.DEPTH_COMPONENT32F]:Np.FLOAT,[e.DEPTH_STENCIL]:Np.FLOAT,[e.DEPTH24_STENCIL8]:Np.FLOAT,[e.DEPTH32F_STENCIL8]:Np.FLOAT}:{[e.RGB]:Np.FLOAT,[e.RGBA]:Np.FLOAT,[e.ALPHA]:Np.FLOAT,[e.LUMINANCE]:Np.FLOAT,[e.LUMINANCE_ALPHA]:Np.FLOAT,[e.DEPTH_STENCIL]:Np.FLOAT},t}(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};const r=new oE(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new oE(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,t=0){const{gl:r}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<r.length;e++)r[e]===this.unknownTexture&&this.bind(null,e)}for(let n=0;n<r.length;n++)r[n]===e&&(this.currentLocation!==n&&(t.activeTexture(t.TEXTURE0+n),this.currentLocation=n),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[n]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:n}=this;if(r)for(let i=e-1;i>=0;--i){const e=t[i];e&&e._glTextures[n].samplerType!==Np.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){const t=new oE(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Np.FLOAT,2===this.webGLVersion&&e.type===Ip.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(r,e,t))t.samplerType!==Np.FLOAT&&(this.hasIntegerTextures=!0);else{const n=e.realWidth,i=e.realHeight,o=r.gl;(t.width!==n||t.height!==i||t.dirtyId<0)&&(t.width=n,t.height=i,o.texImage2D(e.target,0,t.internalFormat,n,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&s_(this.managedTextures,t,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==Up.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=jp.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Up.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Lp.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===Lp.LINEAR){const n=Math.min(e.anisotropicLevel,r.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Lp.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Lp.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}sE.extension={type:E_.RendererSystem,name:"texture"},D_.add(sE);class aE{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:n}=this;t&&n.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:n}=this,i=t.createTransformFeedback();e._glTransformFeedbacks[n]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(let o=0;o<e.buffers.length;o++){const i=e.buffers[o];i&&(r.buffer.update(i),i._glBuffers[n].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,i._glBuffers[n].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const i=this.renderer.buffer;if(i)for(let o=0;o<e.buffers.length;o++){const r=e.buffers[o];if(!r)continue;const n=r._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0===n.refCount&&!t&&i.dispose(r,t))}r&&(t||n.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}aE.extension={type:E_.RendererSystem,name:"transformFeedback"},D_.add(aE);class lE{constructor(e){this.renderer=e}init(e){this.screen=new rw(0,0,e.width,e.height),this.element=e.view||Yp.ADAPTER.createCanvas(),this.resolution=e.resolution||Yp.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",r,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}lE.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},lE.extension={type:[E_.RendererSystem,E_.CanvasRendererSystem],name:"_view"},D_.add(lE),Yp.PREFER_ENV=kp.WEBGL2,Yp.STRICT_TEXTURE_CACHE=!1,Yp.RENDER_OPTIONS={...tx.defaultOptions,...Qw.defaultOptions,...lE.defaultOptions,...Jx.defaultOptions},Object.defineProperties(Yp,{WRAP_MODE:{get:()=>j_.defaultOptions.wrapMode,set(e){db("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),j_.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>j_.defaultOptions.scaleMode,set(e){db("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),j_.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>j_.defaultOptions.mipmap,set(e){db("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),j_.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>j_.defaultOptions.anisotropicLevel,set(e){db("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),j_.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(db("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Zw.defaultResolution),set(e){Zw.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(db("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Zw.defaultMultisample),set(e){Zw.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>Kw.defaultMaxTextures,set(e){db("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Kw.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>Kw.defaultBatchSize,set(e){db("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Kw.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>Kw.canUploadSameBuffer,set(e){db("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Kw.canUploadSameBuffer=e}},GC_MODE:{get:()=>iE.defaultMode,set(e){db("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),iE.defaultMode=e}},GC_MAX_IDLE:{get:()=>iE.defaultMaxIdle,set(e){db("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),iE.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>iE.defaultCheckCountMax,set(e){db("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),iE.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>zw.defaultVertexPrecision,set(e){db("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),zw.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>zw.defaultFragmentPrecision,set(e){db("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),zw.defaultFragmentPrecision=e}}});var uE=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(uE||{});class cE{constructor(e,t=null,r=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=n}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const dE=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new cE(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=uE.NORMAL){return this._addListener(new cE(e,t,r))}addOnce(e,t,r=uE.NORMAL){return this._addListener(new cE(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*e.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,e.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};dE.targetFPMS=.06;let hE=e("p",dE);Object.defineProperties(Yp,{TARGET_FPMS:{get:()=>hE.targetFPMS,set(e){db("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),hE.targetFPMS=e}}});class fE{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,uE.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?hE.shared:new hE,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}fE.extension=E_.Application,D_.add(fE);const pE=[];function mE(e){for(const t of pE)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}D_.handleByList(E_.Renderer,pE);const gE="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",vE="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class yE{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=Xp.HIGH?this.multisample=Xp.HIGH:t>=Xp.MEDIUM?this.multisample=Xp.MEDIUM:t>=Xp.LOW?this.multisample=Xp.LOW:this.multisample=Xp.NONE}destroy(){}}yE.extension={type:E_.RendererSystem,name:"_multisample"},D_.add(yE);class bE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _E{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:n}=this;if(this.boundBufferBases[t]!==e){const i=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,i.buffer)}}bindBufferRange(e,t,r){const{gl:n,CONTEXT_UID:i}=this;r=r||0;const o=e._glBuffers[i]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,t||0,o.buffer,256*r,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,t.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const r=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,r)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),r&&(t||n.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new bE(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}_E.extension={type:E_.RendererSystem,name:"buffer"},D_.add(_E);class wE{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let n,i,o,s;if(t&&(n=t.renderTexture,i=t.clear,o=t.transform,s=t.skipUpdateTransform),this.renderingToScreen=!n,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(n||(this.lastObjectRendered=e),!s){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}r.renderTexture.bind(n),r.batch.currentRenderer.start(),(i??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),n&&(t.blit&&r.framebuffer.blit(),n.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}wE.extension={type:E_.RendererSystem,name:"objectRenderer"},D_.add(wE);const xE=class e extends rE{constructor(t){super(),this.type=Pp.WEBGL,t=Object.assign({},Yp.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Gw({projectionMatrix:new aw},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&(db("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&bb()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return db("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return db("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return db("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return db("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){db("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return db("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){db("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return db("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};xE.extension={type:E_.Renderer,priority:1},xE.__plugins={},xE.__systems={};let EE=xE;D_.handleByMap(E_.RendererPlugin,EE.__plugins),D_.handleByMap(E_.RendererSystem,EE.__systems),D_.add(EE);class CE extends F_{constructor(e,t){const{width:r,height:n}=t||{};super(r,n),this.items=[],this.itemDirtyIds=[];for(let i=0;i<e;i++){const e=new j_;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof F_?this.addResourceAt(e[r],r):this.addResourceAt(B_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map((e=>e.resource)).filter((e=>e)).map((e=>e.load()));return this._load=Promise.all(e).then((()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)})),this._load}}class AE extends CE{constructor(e,t){const{width:r,height:n}=t||{};let i,o;Array.isArray(e)?(i=e,o=e.length):o=e,super(o,{width:r,height:n}),i&&this.initFromArray(i,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=Fp.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:n,itemDirtyIds:i,items:o}=this,{gl:s}=e;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,t.format,r.type,null);for(let a=0;a<n;a++){const e=o[a];i[a]<e.dirtyId&&(i[a]=e.dirtyId,e.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,e.resource.width,e.resource.height,1,t.format,r.type,e.resource.source))}return!0}}class DE extends ix{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const TE=class e extends CE{constructor(t,r){const{width:n,height:i,autoLoad:o,linkBaseTexture:s}=r||{};if(t&&t.length!==e.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<e.SIDES;a++)this.items[a].target=Fp.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=!1!==s,t&&this.initFromArray(t,r),!1!==o&&this.load()}bind(e){super.bind(e),e.target=Fp.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Fp.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,n){const i=this.itemDirtyIds;for(let o=0;o<e.SIDES;o++){const e=this.items[o];(i[o]<e.dirtyId||n.dirtyId<r.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,n),i[o]=e.dirtyId):i[o]<-1&&(t.gl.texImage2D(e.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};TE.SIDES=6;let SE=TE;class kE extends ix{constructor(e,t){let r,n,i;t=t||{},"string"==typeof e?(r=kE.EMPTY,n=e,i=!0):(r=e,n=null,i=!1),super(r),this.url=n,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??i,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(e,t)=>{if(null!==this.url)try{const t=await Yp.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const r=await t.blob();if(this.destroyed)return;const n=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===zp.UNPACK?"premultiply":"none"});if(this.destroyed)return void n.close();this.source=n,this.update(),e(this)}catch(she){if(this.destroyed)return;t(she),this.onError.emit(she)}else e(this)}))),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return kE._EMPTY=kE._EMPTY??Yp.ADAPTER.createCanvas(0,0),kE._EMPTY}}const PE=class e extends ix{constructor(e,t){t=t||{},super(Yp.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const e=new Image;ix.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=t*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*t,i=this._overrideHeight||this._overrideWidth/t*r),n=Math.round(n),i=Math.round(i);const o=this.source;o.width=n,o.height=i,o._pixiId=`canvas_${u_()}`,o.getContext("2d").drawImage(e,0,0,t,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};PE.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,PE.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let RE=PE;const OE=class e extends ix{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");!1!==r.autoLoad&&n.setAttribute("preload","auto"),!1!==r.playsinline&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),!0===r.muted&&(n.setAttribute("muted",""),n.muted=!0),!0===r.loop&&n.setAttribute("loop",""),!1!==r.autoPlay&&n.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);const i=t[0].src||t[0];ix.crossOrigin(n,i,r.crossorigin);for(let r=0;r<t.length;++r){const i=document.createElement("source");let{src:o,mime:s}=t[r];if(o=o||t[r],o.startsWith("data:"))s=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const t=o.split("?").shift().toLowerCase(),r=t.slice(t.lastIndexOf(".")+1);s=s||e.MIME_TYPES[r]||`video/${r}`}i.src=o,s&&(i.type=s),n.appendChild(i)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const e=hE.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())})),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(hE.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(hE.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(hE.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}};OE.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],OE.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let BE=OE;O_.push(kE,ox,DE,BE,RE,I_,SE,AE);class ME{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?rw.EMPTY:((e=e||new rw(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:n,c:i,d:o,tx:s,ty:a}=e,l=r*t.x+i*t.y+s,u=n*t.x+o*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=e[0],s=e[1];t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[2],s=e[3],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[4],s=e[5],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[6],s=e[7],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,t,r,n,i){this.addFrameMatrix(e.worldTransform,t,r,n,i)}addFrameMatrix(e,t,r,n,i){const o=e.a,s=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;let d=this.minX,h=this.minY,f=this.maxX,p=this.maxY,m=o*t+a*r+u,g=s*t+l*r+c;d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*n+a*r+u,g=s*n+l*r+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*t+a*i+u,g=s*t+l*i+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*n+a*i+u,g=s*n+l*i+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,this.minX=d,this.minY=h,this.maxX=f,this.maxY=p}addVertexData(e,t,r){let n=this.minX,i=this.minY,o=this.maxX,s=this.maxY;for(let a=t;a<r;a+=2){const t=e[a],r=e[a+1];n=t<n?t:n,i=r<i?r:i,o=t>o?t:o,s=r>s?r:s}this.minX=n,this.minY=i,this.maxX=o,this.maxY=s}addVertices(e,t,r,n){this.addVerticesMatrix(e.worldTransform,t,r,n)}addVerticesMatrix(e,t,r,n,i=0,o=i){const s=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty;let h=this.minX,f=this.minY,p=this.maxX,m=this.maxY;for(let g=r;g<n;g+=2){const e=t[g],r=t[g+1],n=s*e+l*r+c,v=u*r+a*e+d;h=Math.min(h,n-i),p=Math.max(p,n+i),f=Math.min(f,v-o),m=Math.max(m,v+o)}this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}addBounds(e){const t=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>i?e.maxY:i}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&n<=o){const e=this.minX,t=this.minY,s=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=n<t?n:t,this.maxX=i>s?i:s,this.maxY=o>a?o:a}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&n<=o){const e=this.minX,t=this.minY,s=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=n<t?n:t,this.maxX=i>s?i:s,this.maxY=o>a?o:a}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,n,i,o){e-=i,t-=o,r+=i,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n}}class FE extends gm{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new yw,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ME,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const n=t[r];Object.defineProperty(FE.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new rw),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new rw),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ME);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,n=1,i=0,o=0,s=0,a=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new IE),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Z_}set angle(e){this.transform.rotation=e*Q_}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class IE extends FE{constructor(){super(...arguments),this.sortDirty=null}}FE.prototype.displayObjectUpdateTransform=FE.prototype.updateTransform;const NE=new aw;function LE(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const jE=class e extends FE{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);s_(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,s_(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,s_(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,n=t-r;let i;if(n>0&&n<=t){i=this.children.splice(r,n);for(let e=0;e<i.length;++e)i[e].parent=null,i[e].transform&&(i[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<i.length;++e)i[e].emit("removed",this),this.emit("childRemoved",i[e],this,e);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const r=this.children[t];r._lastSortedIndex=t,!e&&0!==r.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(LE),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let n=0,i=this.children.length;n<i;++n){const e=this.children[n];e.visible&&e.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const r=t.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(i?(i=NE.copyFrom(i),i.prepend(o)):i=o),n&&r.intersects(n,i))this._render(t);else if(this.cullArea)return;for(let e=0,s=this.children.length;e<s;++e){const r=this.children[e],n=r.cullable;r.cullable=n||!this.cullArea,r.render(t),r.cullable=n}}render(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}const n=t&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Wp.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:e?.children,r=this.removeChildren(0,this.children.length);if(t)for(let n=0;n<r.length;++n)r[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};jE.defaultSortableChildren=!1;let UE=e("h",jE);UE.prototype.containerUpdateTransform=UE.prototype.updateTransform,Object.defineProperties(Yp,{SORTABLE_CHILDREN:{get:()=>UE.defaultSortableChildren,set(e){db("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),UE.defaultSortableChildren=e}}});const zE=new ew,VE=new Uint16Array([0,1,2,0,2,3]);let GE=class e extends UE{constructor(e){super(),this._anchor=new gw(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new qb(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Op.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ux.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=VE,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Yp.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=a_(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=a_(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,l=this.vertexData,u=e.trim,c=e.orig,d=this._anchor;let h=0,f=0,p=0,m=0;if(u?(f=u.x-d._x*c.width,h=f+u.width,m=u.y-d._y*c.height,p=m+u.height):(f=-d._x*c.width,h=f+c.width,m=-d._y*c.height,p=m+c.height),l[0]=r*f+i*m+s,l[1]=o*m+n*f+a,l[2]=r*h+i*m+s,l[3]=o*m+n*h+a,l[4]=r*h+i*p+s,l[5]=o*p+n*h+a,l[6]=r*f+i*p+s,l[7]=o*p+n*f+a,this._roundPixels){const e=Yp.RESOLUTION;for(let t=0;t<l.length;++t)l[t]=Math.round(l[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,d=-n._x*r.width,h=d+r.width,f=-n._y*r.height,p=f+r.height;if(t[0]=o*d+a*f+u,t[1]=l*f+s*d+c,t[2]=o*h+a*f+u,t[3]=l*f+s*h+c,t[4]=o*h+a*p+u,t[5]=l*p+s*h+c,t[6]=o*d+a*p+u,t[7]=l*p+s*d+c,this._roundPixels){const e=Yp.RESOLUTION;for(let r=0;r<t.length;++r)t[r]=Math.round(t[r]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new ME),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new rw),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,zE);const t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x;let i=0;return zE.x>=n&&zE.x<n+t&&(i=-r*this.anchor.y,zE.y>=i&&zE.y<i+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(t,r){const n=t instanceof ux?t:ux.from(t,r);return new e(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=a_(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=a_(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ux.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};e("S",GE);const HE=new aw;FE.prototype._cacheAsBitmap=!1,FE.prototype._cacheData=null,FE.prototype._cacheAsBitmapResolution=null,FE.prototype._cacheAsBitmapMultisample=null;class WE{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(FE.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;let t;this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new WE),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),FE.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},FE.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(new rw,!0);if(this.filters?.length){const e=this.filters[0].padding;r.pad(e)}const n=this.cacheAsBitmapResolution||e.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=cx.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${u_()}`;this._cacheData.textureCacheId=u,j_.addToCache(l.baseTexture,u),ux.addToCache(l,u);const c=this.transform.localTransform.copyTo(HE).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const d=new GE(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-r.x/r.width,d.anchor.y=-r.y/r.height,d.alpha=t,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)},FE.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},FE.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new rw,!0),r=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,i=e._projTransform,o=this.cacheAsBitmapResolution||e.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const s=cx.create({width:t.width,height:t.height,resolution:o}),a=`cacheAsBitmap_${u_()}`;this._cacheData.textureCacheId=a,j_.addToCache(s.baseTexture,a),ux.addToCache(s,a);const l=HE;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new GE(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-t.x/t.width,u.anchor.y=-t.y/t.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)},FE.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},FE.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},FE.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,j_.removeFromCache(this._cacheData.textureCacheId),ux.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},FE.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},FE.prototype.name=null,UE.prototype.getChildByName=function(e,t){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(let r=0,n=this.children.length;r<n;r++){const t=this.children[r];if(!t.getChildByName)continue;const n=t.getChildByName(e,!0);if(n)return n}return null},FE.prototype.getGlobalPosition=function(e=new ew,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};class $E extends Zw{constructor(e=1){super(gE,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const XE={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qE=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class KE extends Zw{constructor(e,t=8,r=4,n=Zw.defaultResolution,i=5){const o=function(e,t){const r=Math.ceil(e/2);let n,i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let s=0;s<e;s++){let e=n.replace("%index%",s.toString());e=e.replace("%sampleIndex%",s-(r-1)+".0"),o+=e,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i}(i,e),s=function(e){const t=XE[e],r=t.length;let n,i=qE,o="";for(let s=0;s<e;s++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());n=s,s>=r&&(n=e-s-1),i=i.replace("%value%",t[n].toString()),o+=i,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i}(i);super(o,s),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{const i=e.getFilterTexture(),o=e.renderer;let s=t,a=i;this.state.blend=!1,e.applyFilter(this,s,a,Vp.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(s,Vp.BLIT),this.uniforms.uSampler=a;const t=a;a=s,s=t,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,r,n),e.returnFilterTexture(i)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let YE=class extends Zw{constructor(e=8,t=4,r=Zw.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new KE(!0,e,t,r,n),this.blurYFilter=new KE(!1,e,t,r,n),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,n){const i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){const i=e.getFilterTexture();this.blurXFilter.apply(e,t,i,Vp.CLEAR),this.blurYFilter.apply(e,i,r,n),e.returnFilterTexture(i)}else o?this.blurYFilter.apply(e,t,r,n):this.blurXFilter.apply(e,t,r,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};e("B",YE);class ZE extends Zw{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(vE,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,n,i]=qb.shared.setValue(e).toArray(),o=[r,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),n=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,t)}contrast(e,t){const r=(e||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,t)}saturate(e=0,t){const r=2*e/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,r,n,i){e=e||.2,t=t||.15,r=r||16770432,n=n||3375104;const o=qb.shared,[s,a,l]=o.setValue(r).toArray(),[u,c,d]=o.setValue(n).toArray(),h=[.3,.59,.11,0,0,s,a,l,e,0,u,c,d,t,0,s-u,a-c,l-d,0,0];this._loadMatrix(h,i)}night(e,t){const r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}e("C",ZE),ZE.prototype.grayscale=ZE.prototype.greyscale;class QE extends Zw{constructor(e,t){const r=new aw;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==t&&(t=20),this.scale=new ew(t,t)}apply(e,t,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),e.applyFilter(this,t,r,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}class JE extends Zw{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}let eC=class extends Zw{constructor(e=.5,t=Math.random()){super(vE,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};e("N",eC);const tC={AlphaFilter:$E,BlurFilter:YE,BlurFilterPass:KE,ColorMatrixFilter:ZE,DisplacementFilter:QE,FXAAFilter:JE,NoiseFilter:eC};Object.entries(tC).forEach((([e,t])=>{Object.defineProperty(tC,e,{get:()=>(db("7.1.0",`filters.${e} has moved to ${e}`),t)})}));const rC=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(hE.system.add(this.tickerUpdate,this,uE.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(hE.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class nC{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=nC.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ew,this.page=new ew,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,n,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class iC extends nC{constructor(){super(...arguments),this.client=new ew,this.movement=new ew,this.offset=new ew,this.global=new ew,this.screen=new ew}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,n,i,o,s,a,l,u,c,d,h,f,p){throw new Error("Method not implemented.")}}class oC extends iC{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class sC extends iC{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}sC.DOM_DELTA_PIXEL=0,sC.DOM_DELTA_LINE=1,sC.DOM_DELTA_PAGE=2;const aC=new ew,lC=new ew;class uC{constructor(e){this.dispatch=new gm,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(((e,t)=>e.priority-t.priority))}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,n=t.length;r<n;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){rC.pauseUpdate=!0;const r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,aC.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,i=r.length-1;n<i;n++)if(e.currentTarget=r[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let n=r.length-2;n>=0;n--)if(e.currentTarget=r[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(0===r.length)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(t)?t:[t];for(let i=r.length-1;i>=0;i--)n.forEach((t=>{e.currentTarget=r[i],this.notifyTarget(e,t)}))}propagationPath(e){const t=[e];for(let r=0;r<2048&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,n,i,o=!1){let s=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(rC.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let l=a.length-1;l>=0;l--){const u=a[l],c=this.hitTestMoveRecursive(u,this._isInteractive(t)?t:u.eventMode,r,n,i,o||i(e,r));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const t=e.isInteractive();(c.length>0||t)&&(t&&this._allInteractiveElements.push(e),c.push(e)),0===this._hitElements.length&&(this._hitElements=c),s=!0}}}const a=this._isInteractive(t),l=e.isInteractive();return a&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:s?this._hitElements:a&&!i(e,r)&&n(e,r)?l?[e]:[]:null}hitTestRecursive(e,t,r,n,i){if(this._interactivePrune(e)||i(e,r))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(rC.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children;for(let s=o.length-1;s>=0;s--){const a=o[s],l=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,r,n,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const o=this._isInteractive(t),s=e.isInteractive();return o&&n(e,r)?s?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,lC),!e.hitArea.contains(lC.x,lC.y)))return!0;if(e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&!r.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){const r=`on${t=t??e.type}`;e.currentTarget[r]?.(e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r="mouse"===t.pointerType||"pen"===t.pointerType,n=this.trackingData(e.pointerId),i=this.findMountedTarget(n.overTargets);if(n.overTargets?.length>0&&i!==t.target){const n="mousemove"===e.type?"mouseout":"pointerout",o=this.createPointerEvent(e,n,i);if(this.dispatchEvent(o,"pointerout"),r&&this.dispatchEvent(o,"mouseout"),!t.composedPath().includes(i)){const n=this.createPointerEvent(e,"pointerleave",i);for(n.eventPhase=n.AT_TARGET;n.target&&!t.composedPath().includes(n.target);)n.currentTarget=n.target,this.notifyTarget(n),r&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;this.freeEvent(n)}this.freeEvent(o)}if(i!==t.target){const n="mousemove"===e.type?"mouseover":"pointerover",o=this.clonePointerEvent(t,n);this.dispatchEvent(o,"pointerover"),r&&this.dispatchEvent(o,"mouseover");let s=i?.parent;for(;s&&s!==this.rootTarget.parent&&s!==t.target;)s=s.parent;if(!s||s===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==i&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),r&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(o)}const o=[],s=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),s&&o.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),s&&o.push("globaltouchmove")),r&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),s&&o.push("globalmousemove"),this.cursor=t.target?.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),n="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),n&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=r.target?.cursor);const i=this.clonePointerEvent(r,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==this.rootTarget.parent;)i.currentTarget=i.target,this.notifyTarget(i),n&&this.notifyTarget(i,"mouseenter"),i.target=i.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(i)}mapPointerOut(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const r="mouse"===e.pointerType||"pen"===e.pointerType,n=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){const e=2===r.button;this.dispatchEvent(r,e?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),i=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=i;if(i&&!r.composedPath().includes(i)){let t=i;for(;t&&!r.composedPath().includes(t);){if(r.currentTarget=t,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){const e=2===r.button;this.notifyTarget(r,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete n.pressTargetsByButton[e.button],o=t}if(o){const i=this.clonePointerEvent(r,"click");i.target=o,i.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});const s=n.clicksByButton[e.button];if(s.target===i.target&&t-s.timeStamp<200?++s.clickCount:s.clickCount=1,s.target=i.target,s.timeStamp=t,i.detail=s.clickCount,"mouse"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof oC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(r){let i=r;for(;i;)n.currentTarget=i,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const n=this.allocateEvent(oC);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=r??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],"string"==typeof t&&(n.type=t),n}createWheelEvent(e){const t=this.allocateEvent(sC);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(oC);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof oC&&t instanceof oC&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof iC&&t instanceof iC&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let n=0,i=r.length;n<i&&!e.propagationImmediatelyStopped;n++)r[n].once&&e.currentTarget.removeListener(t,r[n].fn,void 0,!0),r[n].fn.call(r[n].context,e)}}const cC={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},dC=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new uC(null),rC.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new oC(null),this.rootWheelEvent=new sC(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,r)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,e._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,n=t.length;r<n;r++){const e=t[r],n=this.bootstrapEvent(this.rootPointerEvent,e);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,rC.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const e=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let i=0,o=n.length;i<o;i++){const e=this.bootstrapEvent(this.rootPointerEvent,n[i]);e.type+=r,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const e=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,rC.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;rC.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;rC.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-n.left)*(this.domElement.width/n.width)*i,e.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,n=e.changedTouches.length;r<n;r++){const n=e.changedTouches[r];typeof n.button>"u"&&(n.button=0),typeof n.buttons>"u"&&(n.buttons=1),typeof n.isPrimary>"u"&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof n.width>"u"&&(n.width=n.radiusX||1),typeof n.height>"u"&&(n.height=n.radiusY||1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="touch"),typeof n.pointerId>"u"&&(n.pointerId=n.identifier||0),typeof n.pressure>"u"&&(n.pressure=n.force||.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),typeof n.layerX>"u"&&(n.layerX=n.offsetX=n.clientX),typeof n.layerY>"u"&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=e.type,t.push(n)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=1),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=cC[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};dC.extension={name:"events",type:[E_.RendererSystem,E_.CanvasRendererSystem]},dC.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let hC=dC;function fC(e){return"dynamic"===e||"static"===e}D_.add(hC);const pC={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??fC(hC.defaultEventMode)},set interactive(e){db("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??hC.defaultEventMode},set eventMode(e){this._internalInteractive=fC(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){const n="function"==typeof t?void 0:t;e="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.on(e,t,n)},removeEventListener(e,t,r){const n="function"==typeof t?void 0:t;e="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,n)},dispatchEvent(e){if(!(e instanceof nC))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};FE.mixin(pC);const mC={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};FE.mixin(mC);class gC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(pm.tablet||pm.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(pm.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:n,height:i}=this.renderer.view.getBoundingClientRect(),{width:o,height:s,resolution:a}=this.renderer,l=n/o*a,u=i/s*a;let c=this.div;c.style.left=`${t}px`,c.style.top=`${r}px`,c.style.width=`${o}px`,c.style.height=`${s}px`;for(let d=0;d<this.children.length;d++){const e=this.children[d];if(e.renderId!==this.renderId)e._accessibleActive=!1,s_(this.children,d,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,d--;else{c=e._accessibleDiv;let t=e.hitArea;const r=e.worldTransform;e.hitArea?(c.style.left=(r.tx+t.x*r.a)*l+"px",c.style.top=(r.ty+t.y*r.d)*u+"px",c.style.width=t.width*r.a*l+"px",c.style.height=t.height*r.d*u+"px"):(t=e.getBounds(),this.capHitArea(t),c.style.left=t.x*l+"px",c.style.top=t.y*u+"px",c.style.width=t.width*l+"px",c.style.height=t.height*u+"px",c.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(c.title=e.accessibleTitle),c.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&c.setAttribute("aria-label",e.accessibleHint)),(e.accessibleTitle!==c.title||e.tabIndex!==c.tabIndex)&&(c.title=e.accessibleTitle,c.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,n=this.renderer.events.rootBoundary,i=Object.assign(new nC(n),{target:r});n.rootTarget=this.renderer.lastObjectRendered,t.forEach((e=>n.dispatchEvent(i,e)))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}gC.extension={name:"accessibility",type:[E_.RendererPlugin,E_.CanvasRendererPlugin]},D_.add(gC);const vC=class e{constructor(t){this.stage=new UE,t=Object.assign({forceCanvas:!1},t),this.renderer=mE(t),e._plugins.forEach((e=>{e.init.call(this,t)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,r){const n=e._plugins.slice(0);n.reverse(),n.forEach((e=>{e.destroy.call(this)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};vC._plugins=[];let yC=e("s",vC);D_.handleByList(E_.Application,yC._plugins);class bC{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:n}=this._resizeTo;e=r,t=n}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bC.extension=E_.Application,D_.add(bC);const _C={loader:E_.LoadParser,resolver:E_.ResolveParser,cache:E_.CacheParser,detection:E_.DetectionParser};D_.handle(E_.Asset,(e=>{const t=e.ref;Object.entries(_C).filter((([e])=>!!t[e])).forEach((([e,r])=>D_.add(Object.assign(t[e],{extension:t[e].extension??r}))))}),(e=>{const t=e.ref;Object.keys(_C).filter((e=>!!t[e])).forEach((e=>D_.remove(t[e])))}));class wC{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach((e=>{this._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function xC(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function EC(e,t){const r=e.split("?")[0],n=mb.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const CC=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map((e=>"string"==typeof e||r?t(e):e)):e),AC=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e};function DC(e,t,r,n,i){const o=t[r];for(let s=0;s<o.length;s++){const a=o[s];r<t.length-1?DC(e.replace(n[r],a),t,r+1,n,i):i.push(e.replace(n[r],a))}}function TC(e){const t=e.match(/\{(.*?)\}/g),r=[];if(t){const n=[];t.forEach((e=>{const t=e.substring(1,e.length-1).split(",");n.push(t)})),DC(e,n,0,t,r)}else r.push(e);return r}const SC=e=>!Array.isArray(e),kC=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=CC(e);let n;for(let s=0;s<this.parsers.length;s++){const e=this.parsers[s];if(e.test(t)){n=e.getCacheableAssets(r,t);break}}n||(n={},r.forEach((e=>{n[e]=t})));const i=Object.keys(n),o={cacheKeys:i,keys:r};if(r.forEach((e=>{this._cacheMap.set(e,o)})),i.forEach((e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,n[e])})),t instanceof ux){const e=t;r.forEach((t=>{e.baseTexture!==ux.EMPTY.baseTexture&&j_.addToCache(e.baseTexture,t),ux.addToCache(e,t)}))}}remove(e){if(!this._cacheMap.has(e))return void console.warn(`[Assets] Asset id ${e} was not found in the Cache`);const t=this._cacheMap.get(e);t.cacheKeys.forEach((e=>{this._cache.delete(e)})),t.keys.forEach((e=>{this._cacheMap.delete(e)}))}get parsers(){return this._parsers}};class PC{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{let n=null,i=null;if(t.loadParser&&(i=this._parserHash[t.loadParser],i||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!i){for(let r=0;r<this.parsers.length;r++){const n=this.parsers[r];if(n.load&&n.test?.(e,t,this)){i=n;break}}if(!i)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await i.load(e,t,this),r.parser=i;for(let e=0;e<this.parsers.length;e++){const i=this.parsers[e];i.parse&&i.parse&&await(i.testParse?.(n,t,this))&&(n=await i.parse(n,t,this)||n,r.parser=i)}return n})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const n={},i=SC(e),o=CC(e,(e=>({alias:[e],src:e}))),s=o.length,a=o.map((async e=>{const i=mb.toAbsolute(e.src);if(!n[e.src])try{this.promiseCache[i]||(this.promiseCache[i]=this._getLoadPromiseAndParser(i,e)),n[e.src]=await this.promiseCache[i].promise,t&&t(++r/s)}catch(she){throw delete this.promiseCache[i],delete n[e.src],new Error(`[Loader.load] Failed to load ${i}.\n${she}`)}}));return await Promise.all(a),i?n[o[0].src]:n}async unload(e){const t=CC(e,(e=>({alias:[e],src:e}))).map((async e=>{const t=mb.toAbsolute(e.src),r=this.promiseCache[t];if(r){const n=await r.promise;delete this.promiseCache[t],r.parser?.unload?.(n,e,this)}}));await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((e=>e.name)).reduce(((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t})),{})}}var RC=e("e",(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(RC||{}));const OC={extension:{type:E_.LoadParser,priority:RC.Low},name:"loadJson",test:e=>xC(e,"application/json")||EC(e,".json"),load:async e=>await(await Yp.ADAPTER.fetch(e)).json()};D_.add(OC);const BC={name:"loadTxt",extension:{type:E_.LoadParser,priority:RC.Low},test:e=>xC(e,"text/plain")||EC(e,".txt"),load:async e=>await(await Yp.ADAPTER.fetch(e)).text()};D_.add(BC);const MC=["normal","bold","100","200","300","400","500","600","700","800","900"],FC=[".ttf",".otf",".woff",".woff2"],IC=["font/ttf","font/otf","font/woff","font/woff2"],NC=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function LC(e){const t=mb.extname(e),r=mb.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1)));let n=r.length>0;for(const o of r)if(!o.match(NC)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const jC=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,UC={extension:{type:E_.LoadParser,priority:RC.Low},name:"loadWebFont",test:e=>xC(e,IC)||EC(e,FC),async load(e,t){const r=Yp.ADAPTER.getFontFaceSet();if(r){const i=[],o=t.data?.family??LC(e),s=t.data?.weights?.filter((e=>MC.includes(e)))??["normal"],a=t.data??{};for(let t=0;t<s.length;t++){const l=s[t],u=new FontFace(o,`url(${n=e,jC.test(n)?n:encodeURI(n)})`,{...a,weight:l});await u.load(),r.add(u),i.push(u)}return 1===i.length?i[0]:i}var n;return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach((e=>Yp.ADAPTER.getFontFaceSet().delete(e)))}};D_.add(UC);let zC,VC=0;const GC={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},HC={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let WC;const $C=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((e=>{const t=URL.createObjectURL(new Blob([GC.code],{type:"application/javascript"})),r=new Worker(t);r.addEventListener("message",(n=>{r.terminate(),URL.revokeObjectURL(t),e(n.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===zC&&(zC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<zC&&(WC||(WC=URL.createObjectURL(new Blob([HC.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(WC),e.addEventListener("message",(e=>{this.complete(e.data),this.returnWorker(e.target),this.next()}))),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise(((r,n)=>{this.queue.push({id:e,arguments:t,resolve:r,reject:n})}));return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[VC]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:VC++,id:r})}};function XC(e,t,r){e.resource.internal=!0;const n=new ux(e),i=()=>{delete t.promiseCache[r],kC.has(r)&&kC.remove(r)};return n.baseTexture.once("destroyed",(()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())})),n.once("destroyed",(()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())})),n}const qC=[".jpeg",".jpg",".png",".webp",".avif"],KC=["image/jpeg","image/png","image/webp","image/avif"];async function YC(e){const t=await Yp.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const ZC={name:"loadTextures",extension:{type:E_.LoadParser,priority:RC.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>xC(e,KC)||EC(e,qC),async load(e,t,r){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;i=n?this.config.preferWorkers&&await $C.isImageBitmapSupported()?await $C.loadImageBitmap(e):await YC(e):await new Promise(((t,r)=>{const n=new Image;n.crossOrigin=this.config.crossOrigin,n.src=e,n.complete?t(n):(n.onload=()=>t(n),n.onerror=e=>r(e))}));const o={...t.data};o.resolution??(o.resolution=w_(e)),n&&void 0===o.resourceOptions?.ownsImageBitmap&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const s=new j_(i,o);return s.resource.src=e,XC(s,r,e)},unload(e){e.destroy(!0)}};D_.add(ZC);const QC={extension:{type:E_.LoadParser,priority:RC.High},name:"loadSVG",test:e=>xC(e,"image/svg+xml")||EC(e,".svg"),testParse:async e=>RE.test(e),async parse(e,t,r){const n=new RE(e,t?.data?.resourceOptions);await n.load();const i=new j_(n,{resolution:w_(e),...t?.data});return i.resource.src=t.src,XC(i,r,t.src)},load:async(e,t)=>(await Yp.ADAPTER.fetch(e)).text(),unload:ZC.unload};D_.add(QC);const JC=[".mp4",".m4v",".webm",".ogv"],eA=["video/mp4","video/webm","video/ogg"],tA={name:"loadVideo",extension:{type:E_.LoadParser,priority:RC.High},config:{defaultAutoPlay:!0},test:e=>xC(e,eA)||EC(e,JC),async load(e,t,r){let n;const i=await(await Yp.ADAPTER.fetch(e)).blob(),o=URL.createObjectURL(i);try{const i={autoPlay:this.config.defaultAutoPlay,...t?.data?.resourceOptions},s=new BE(o,i);await s.load();const a=new j_(s,{alphaMode:await yb(),resolution:w_(e),...t?.data});a.resource.src=e,n=XC(a,r,e),n.baseTexture.once("destroyed",(()=>{URL.revokeObjectURL(o)}))}catch(she){throw URL.revokeObjectURL(o),she}return n},unload(e){e.destroy(!0)}};D_.add(tA);class rA{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach((e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))})),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}}getAlias(e){const{alias:t,name:r,src:n,srcs:i}=e;return CC(t||r||n||i,(e=>"string"==typeof e?e:Array.isArray(e)?e.map((e=>e?.src??e?.srcs??e)):e?.src||e?.srcs?e.src??e.srcs:e),!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((e=>{this.addBundle(e.name,e.assets)}))}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach((t=>{const n=t.src??t.srcs,i=t.alias??t.name;let o;if("string"==typeof i){const t=this._createBundleAssetId(e,i);r.push(t),o=[i,t]}else{const t=i.map((t=>this._createBundleAssetId(e,t)));r.push(...t),o=[...i,...t]}this.add({...t,alias:o,src:n})})):Object.keys(t).forEach((n=>{const i=[n,this._createBundleAssetId(e,n)];if("string"==typeof t[n])this.add({alias:i,src:t[n]});else if(Array.isArray(t[n]))this.add({alias:i,src:t[n]});else{const e=t[n],r=e.src??e.srcs;this.add({...e,alias:i,src:Array.isArray(r)?r:[r]})}r.push(...i)})),this._bundles[e]=r}add(e,t,r,n,i){const o=[];let s;"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(db("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:t,data:r,format:n,loadParser:i})):Array.isArray(e)?o.push(...e):o.push(e),s=e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)},CC(o).forEach((e=>{const{src:t,srcs:r}=e;let{data:n,format:i,loadParser:o}=e;const a=CC(t||r).map((e=>"string"==typeof e?TC(e):Array.isArray(e)?e:[e])),l=this.getAlias(e);Array.isArray(l)?l.forEach(s):s(l);const u=[];a.forEach((e=>{e.forEach((e=>{let t={};if("object"!=typeof e){t.src=e;for(let r=0;r<this._parsers.length;r++){const n=this._parsers[r];if(n.test(e)){t=n.parse(e);break}}}else n=e.data??n,i=e.format??i,o=e.loadParser??o,t={...t,...e};if(!l)throw new Error(`[Resolver] alias is undefined for this asset: ${t.src}`);t=this.buildResolvedAsset(t,{aliases:l,data:n,format:i,loadParser:o}),u.push(t)}))})),l.forEach((e=>{this._assetMap[e]=u}))}))}resolveBundle(e){const t=SC(e);e=CC(e);const r={};return e.forEach((e=>{const t=this._bundles[e];if(t){const n=this.resolve(t),i={};for(const t in n){const r=n[t];i[this._extractAssetIdFromBundle(e,t)]=r}r[e]=i}})),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const e={};for(const r in t)e[r]=t[r].src;return e}return t.src}resolve(e){const t=SC(e);e=CC(e);const r={};return e.forEach((e=>{if(!this._resolverHash[e])if(this._assetMap[e]){let t=this._assetMap[e];const r=t[0],n=this._getPreferredOrder(t);n?.priority.forEach((e=>{n.params[e].forEach((r=>{const n=t.filter((t=>!!t[e]&&t[e]===r));n.length&&(t=n)}))})),this._resolverHash[e]=t[0]??r}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{});r[e]=this._resolverHash[e]})),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const t=e[0],r=this._preferredOrder.find((e=>e.params.format.includes(t.format)));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`:e}buildResolvedAsset(e,t){const{aliases:r,data:n,loadParser:i,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=mb.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=i??e.loadParser,e.format=o??mb.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class nA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new rA,this.loader=new PC,this.cache=kC,this._backgroundLoader=new wC(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}const t=e.texturePreference?.resolution??1,r="number"==typeof t?[t]:t,n=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,n,i){this.resolver.add(e,t,r,n,i)}async load(e,t){this._initialized||await this.init();const r=SC(e),n=CC(e).map((e=>{if("string"!=typeof e){const t=this.resolver.getAlias(e);return t.some((e=>!this.resolver.hasKey(e)))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e})),i=this.resolver.resolve(n),o=await this._mapLoadToResolve(i,t);return r?o[n[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;"string"==typeof e&&(r=!0,e=[e]);const n=this.resolver.resolveBundle(e),i={},o=Object.keys(n);let s=0,a=0;const l=()=>{t?.(++s/a)},u=o.map((e=>{const t=n[e];return a+=Object.keys(t).length,this._mapLoadToResolve(t,l).then((t=>{i[e]=t}))}));return await Promise.all(u),r?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach((e=>{this._backgroundLoader.add(Object.values(e))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return kC.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=kC.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const i=await this.loader.load(r,t);this._backgroundLoader.active=!0;const o={};return r.forEach(((e,t)=>{const r=i[e.src],s=[e.src];e.alias&&s.push(...e.alias),o[n[t]]=r,kC.set(s,r)})),o}async unload(e){this._initialized||await this.init();const t=CC(e).map((e=>"string"!=typeof e?e.src:e)),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=CC(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map((e=>this._unloadFromResolved(t[e])));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach((e=>{kC.remove(e.src)})),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter(((e,r)=>t.indexOf(e)===r)),t}get detections(){return this._detections}get preferWorkers(){return ZC.config.preferWorkers}set preferWorkers(e){db("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach((t=>{t.config&&Object.keys(t.config).filter((t=>t in e)).forEach((r=>{t.config[r]=e[r]}))}))}}const iA=e("A",new nA);D_.handleByList(E_.LoadParser,iA.loader.parsers).handleByList(E_.ResolveParser,iA.resolver.parsers).handleByList(E_.CacheParser,iA.cache.parsers).handleByList(E_.DetectionParser,iA.detections);const oA={extension:E_.CacheParser,test:e=>Array.isArray(e)&&e.every((e=>e instanceof ux)),getCacheableAssets:(e,t)=>{const r={};return e.forEach((e=>{t.forEach(((t,n)=>{r[e+(0===n?"":n+1)]=t}))})),r}};async function sA(e){if("Image"in globalThis)return new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}));if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}D_.add(oA);const aA={extension:{type:E_.DetectionParser,priority:1},test:async()=>sA("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter((e=>"avif"!==e))};D_.add(aA);const lA={extension:{type:E_.DetectionParser,priority:0},test:async()=>sA("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter((e=>"webp"!==e))};D_.add(lA);const uA=["png","jpg","jpeg"],cA={extension:{type:E_.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...uA],remove:async e=>e.filter((e=>!uA.includes(e)))};D_.add(cA);const dA="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function hA(e){return!dA&&""!==document.createElement("video").canPlayType(e)}const fA={extension:{type:E_.DetectionParser,priority:0},test:async()=>hA("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter((e=>"webm"!==e))};D_.add(fA);const pA={extension:{type:E_.DetectionParser,priority:0},test:async()=>hA("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter((e=>"mp4"!==e&&"m4v"!==e))};D_.add(pA);const mA={extension:{type:E_.DetectionParser,priority:0},test:async()=>hA("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter((e=>"ogv"!==e))};D_.add(mA);const gA={extension:E_.ResolveParser,test:ZC.test,parse:e=>({resolution:parseFloat(Yp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:mb.extname(e).slice(1),src:e})};D_.add(gA);var vA=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))(vA||{});const yA={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let bA,_A;function wA(){_A={s3tc:bA.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:bA.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:bA.getExtension("WEBGL_compressed_texture_etc"),etc1:bA.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:bA.getExtension("WEBGL_compressed_texture_pvrtc")||bA.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:bA.getExtension("WEBGL_compressed_texture_atc"),astc:bA.getExtension("WEBGL_compressed_texture_astc")}}const xA={extension:{type:E_.DetectionParser,priority:2},test:async()=>{const e=Yp.ADAPTER.createCanvas().getContext("webgl");return e?(bA=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{_A||wA();const t=[];for(const r in _A)_A[r]&&t.push(r);return[...t,...e]},remove:async e=>(_A||wA(),e.filter((e=>!(e in _A))))};D_.add(xA);class EA extends I_{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,n;"string"==typeof e?(r=e,n=new Uint8Array):(r=null,n=e),super(n,t),this.origin=r,this.buffer=n?new T_(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then((e=>e.blob())).then((e=>e.arrayBuffer())).then((e=>(this.data=new Uint32Array(e),this.buffer=new T_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)))),this._load}}class CA extends EA{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=CA._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||CA._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let i=0,o=this.levels;i<o;i++){const{levelID:e,levelWidth:t,levelHeight:r,levelBuffer:o}=this._levelBuffers[i];n.compressedTexImage2D(n.TEXTURE_2D,e,this.format,t,r,0,o)}return!0}onBlobLoaded(){this._levelBuffers=CA._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,r,n,i,o,s){const a=new Array(r);let l=e.byteOffset,u=o,c=s,d=u+n-1&~(n-1),h=c+i-1&~(i-1),f=d*h*yA[t];for(let p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?u:d,levelHeight:r>1?c:h,levelBuffer:new Uint8Array(e.buffer,l,f)},l+=f,u=u>>1||1,c=c>>1||1,d=u+n-1&~(n-1),h=c+i-1&~(i-1),f=d*h*yA[t];return a}}const AA=124,DA=3,TA=4,SA=7,kA=19,PA=2,RA=0,OA=1,BA=2,MA=3,FA={827611204:vA.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:vA.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:vA.COMPRESSED_RGBA_S3TC_DXT5_EXT},IA={70:vA.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:vA.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:vA.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:vA.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:vA.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:vA.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:vA.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:vA.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:vA.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function NA(e){const t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");const r=new Uint32Array(e,0,AA/Uint32Array.BYTES_PER_ELEMENT),n=r[DA],i=r[TA],o=r[SA],s=new Uint32Array(e,kA*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){const r=s[PA];if(808540228!==r){const t=FA[r],s=new Uint8Array(e,128);return[new CA(s,{format:t,width:i,height:n,levels:o})]}const a=128,l=new Uint32Array(t.buffer,a,20/Uint32Array.BYTES_PER_ELEMENT),u=l[RA],c=l[OA],d=l[BA],h=l[MA],f=IA[u];if(void 0===f)throw new Error(`DDSParser cannot parse texture data with DXGI format ${u}`);if(4===d)throw new Error("DDSParser does not support cubemap textures");if(6===c)throw new Error("DDSParser does not supported 3D texture data");const p=new Array,m=148;if(1===h)p.push(new Uint8Array(e,m));else{const t=yA[f];let r=0,s=i,a=n;for(let e=0;e<o;e++)r+=Math.max(1,s+3&-4)*Math.max(1,a+3&-4)*t,s>>>=1,a>>>=1;let l=m;for(let n=0;n<h;n++)p.push(new Uint8Array(e,l,r)),l+=r}return p.map((e=>new CA(e,{format:f,width:i,height:n,levels:o})))}throw 64&a?new Error("DDSParser does not support uncompressed texture data."):512&a?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const LA=[171,75,84,88,32,49,49,187,13,10,26,10],jA=12,UA=16,zA=24,VA=28,GA=36,HA=40,WA=44,$A=48,XA=52,qA=56,KA=60,YA=64,ZA={[Ip.UNSIGNED_BYTE]:1,[Ip.UNSIGNED_SHORT]:2,[Ip.INT]:4,[Ip.UNSIGNED_INT]:4,[Ip.FLOAT]:4,[Ip.HALF_FLOAT]:8},QA={[Mp.RGBA]:4,[Mp.RGB]:3,[Mp.RG]:2,[Mp.RED]:1,[Mp.LUMINANCE]:1,[Mp.LUMINANCE_ALPHA]:2,[Mp.ALPHA]:1},JA={[Ip.UNSIGNED_SHORT_4_4_4_4]:2,[Ip.UNSIGNED_SHORT_5_5_5_1]:2,[Ip.UNSIGNED_SHORT_5_6_5]:2};function eD(e,t,r=!1){const n=new DataView(t);if(!function(e,t){for(let r=0;r<LA.length;r++)if(t.getUint8(r)!==LA[r])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}(e,n))return null;const i=67305985===n.getUint32(jA,!0),o=n.getUint32(UA,i),s=n.getUint32(zA,i),a=n.getUint32(VA,i),l=n.getUint32(GA,i),u=n.getUint32(HA,i)||1,c=n.getUint32(WA,i)||1,d=n.getUint32($A,i)||1,h=n.getUint32(XA,i),f=n.getUint32(qA,i),p=n.getUint32(KA,i);if(0===u||1!==c)throw new Error("Only 2D textures are supported");if(1!==h)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");const m=l+3&-4,g=u+3&-4,v=new Array(d);let y,b=l*u;if(0===o&&(b=m*g),y=0!==o?ZA[o]?ZA[o]*QA[s]:JA[o]:yA[a],void 0===y)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const _=r?function(e,t,r){const n=new Map;let i=0;for(;i<t;){const o=e.getUint32(YA+i,r),s=YA+i+4,a=3-(o+3)%4;if(0===o||o>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<o&&0!==e.getUint8(s+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=(new TextDecoder).decode(new Uint8Array(e.buffer,s,l)),c=new DataView(e.buffer,s+l+1,o-l-1);n.set(u,c),i+=4+o+a}return n}(n,p,i):null;let w=b*y,x=l,E=u,C=m,A=g,D=YA+p;for(let T=0;T<f;T++){const e=n.getUint32(D,i);let r=D+4;for(let n=0;n<d;n++){let e=v[n];e||(e=v[n]=new Array(f)),e[T]={levelID:T,levelWidth:f>1||0!==o?x:C,levelHeight:f>1||0!==o?E:A,levelBuffer:new Uint8Array(t,r,w)},r+=w}D+=e+4,D=D%4!=0?D+4-D%4:D,x=x>>1||1,E=E>>1||1,C=x+4-1&-4,A=E+4-1&-4,w=C*A*y}return 0!==o?{uncompressed:v.map((e=>{let t=e[0].levelBuffer,r=!1;return o===Ip.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===Ip.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===Ip.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new I_(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:r?tD(s):s}})),kvData:_}:{compressed:v.map((e=>new CA(null,{format:a,width:l,height:u,levels:f,levelBuffers:e}))),kvData:_}}function tD(e){switch(e){case Mp.RGBA:return Mp.RGBA_INTEGER;case Mp.RGB:return Mp.RGB_INTEGER;case Mp.RG:return Mp.RG_INTEGER;case Mp.RED:return Mp.RED_INTEGER;default:return e}}const rD={extension:{type:E_.LoadParser,priority:RC.High},name:"loadDDS",test:e=>EC(e,".dds"),async load(e,t,r){const n=NA(await(await Yp.ADAPTER.fetch(e)).arrayBuffer()).map((n=>XC(new j_(n,{mipmap:Up.OFF,alphaMode:zp.NO_PREMULTIPLIED_ALPHA,resolution:w_(e),...t.data}),r,e)));return 1===n.length?n[0]:n},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};D_.add(rD);const nD={extension:{type:E_.LoadParser,priority:RC.High},name:"loadKTX",test:e=>EC(e,".ktx"),async load(e,t,r){const n=await(await Yp.ADAPTER.fetch(e)).arrayBuffer(),{compressed:i,uncompressed:o,kvData:s}=eD(e,n),a=i??o,l={mipmap:Up.OFF,alphaMode:zp.NO_PREMULTIPLIED_ALPHA,resolution:w_(e),...t.data},u=a.map((t=>{a===o&&Object.assign(l,{type:t.type,format:t.format});const n=t.resource??t,i=new j_(n,l);return i.ktxKeyValueData=s,XC(i,r,e)}));return 1===u.length?u[0]:u},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};D_.add(nD);const iD={extension:E_.ResolveParser,test:e=>{const t=mb.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:e=>{const t=mb.extname(e).slice(1);if("ktx"===t){const t=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(t.some((t=>e.endsWith(t))))return{resolution:parseFloat(Yp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t.find((t=>e.endsWith(t))),src:e}}return{resolution:parseFloat(Yp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t,src:e}}};D_.add(iD);const oD=new rw,sD=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,n){const i=new Image;return i.src=await this.base64(e,t,r,n),i}async base64(e,t,r,n){const i=this.canvas(e,n);if(void 0!==i.toBlob)return new Promise(((e,n)=>{i.toBlob((t=>{if(!t)return void n(new Error("ICanvas.toBlob failed!"));const r=new FileReader;r.onload=()=>e(r.result),r.onerror=n,r.readAsDataURL(t)}),t,r)}));if(void 0!==i.toDataURL)return i.toDataURL(t,r);if(void 0!==i.convertToBlob){const e=await i.convertToBlob({type:t,quality:r});return new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,r){const{pixels:n,width:i,height:o,flipY:s,premultipliedAlpha:a}=this._rawPixels(t,r);s&&e._flipY(n,i,o),a&&e._unpremultiplyAlpha(n);const l=new m_(i,o,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,o);return l.context.putImageData(u,0,0),l.canvas}pixels(t,r){const{pixels:n,width:i,height:o,flipY:s,premultipliedAlpha:a}=this._rawPixels(t,r);return s&&e._flipY(n,i,o),a&&e._unpremultiplyAlpha(n),n}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i,o=!1,s=!1,a=!1;e&&(e instanceof cx?i=e:(i=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),a=!0,t&&(oD.width=t.width,oD.height=t.height,t=oD)));const l=r.gl;if(i){if(n=i.baseTexture.resolution,t=t??i.frame,o=!1,s=i.baseTexture.alphaMode>0&&i.baseTexture.format===Mp.RGBA,!a){r.renderTexture.bind(i);const e=i.framebuffer.glFramebuffers[r.CONTEXT_UID];e.blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer)}}else n=r.resolution,t||((t=oD).width=r.width/n,t.height=r.height/n),o=!0,s=this._rendererPremultipliedAlpha,r.renderTexture.bind();const u=Math.max(Math.round(t.width*n),1),c=Math.max(Math.round(t.height*n),1),d=new Uint8Array(4*u*c);return l.readPixels(Math.round(t.x*n),Math.round(t.y*n),u,c,l.RGBA,l.UNSIGNED_BYTE,d),a&&i?.destroy(!0),{pixels:d,width:u,height:c,flipY:o,premultipliedAlpha:s}}destroy(){this.renderer=null}static _flipY(e,t,r){const n=t<<2,i=r>>1,o=new Uint8Array(n);for(let s=0;s<i;s++){const t=s*n,i=(r-s-1)*n;o.set(e.subarray(t,t+n)),e.copyWithin(t,i,i+n),e.set(o,i)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const t=e[r+3];if(0!==t){const n=255.001/t;e[r]=e[r]*n+.5,e[r+1]=e[r+1]*n+.5,e[r+2]=e[r+2]*n+.5}}}};sD.extension={name:"extract",type:E_.RendererSystem};let aD=sD;D_.add(aD);const lD={build(e){const t=e.points;let r,n,i,o,s,a;if(e.type===J_.CIRC){const t=e.shape;r=t.x,n=t.y,s=a=t.radius,i=o=0}else if(e.type===J_.ELIP){const t=e.shape;r=t.x,n=t.y,s=t.width,a=t.height,i=o=0}else{const t=e.shape,l=t.width/2,u=t.height/2;r=t.x+l,n=t.y+u,s=a=Math.max(0,Math.min(t.radius,Math.min(l,u))),i=l-s,o=u-a}if(!(s>=0&&a>=0&&i>=0&&o>=0))return void(t.length=0);const l=Math.ceil(2.3*Math.sqrt(s+a)),u=8*l+(i?4:0)+(o?4:0);if(t.length=u,0===u)return;if(0===l)return t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,void(t[5]=t[7]=n-o);let c=0,d=4*l+(i?2:0)+2,h=d,f=u;{const e=i+s,a=o,l=r+e,u=r-e,p=n+a;if(t[c++]=l,t[c++]=p,t[--d]=p,t[--d]=u,o){const e=n-a;t[h++]=u,t[h++]=e,t[--f]=e,t[--f]=l}}for(let p=1;p<l;p++){const e=Math.PI/2*(p/l),u=i+Math.cos(e)*s,m=o+Math.sin(e)*a,g=r+u,v=r-u,y=n+m,b=n-m;t[c++]=g,t[c++]=y,t[--d]=y,t[--d]=v,t[h++]=v,t[h++]=b,t[--f]=b,t[--f]=g}{const e=o+a,s=r+i,l=r-i,u=n+e,d=n-e;t[c++]=s,t[c++]=u,t[--f]=d,t[--f]=s,i&&(t[c++]=l,t[c++]=u,t[--f]=d,t[--f]=l)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(0===r.length)return;let o=n.length/2;const s=o;let a,l;if(e.type!==J_.RREC){const t=e.shape;a=t.x,l=t.y}else{const t=e.shape;a=t.x+t.width/2,l=t.y+t.height/2}const u=e.matrix;n.push(e.matrix?u.a*a+u.c*l+u.tx:a,e.matrix?u.b*a+u.d*l+u.ty:l),o++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(o++,s,o);i.push(s+1,s,o)}};function uD(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,o=e[r-2],s=e[r-1];i<r;i+=2){const t=e[i],r=e[i+1];n+=(t-o)*(r+s),o=t,s=r}if(!t&&n>0||t&&n<=0){const t=r/2;for(let n=t+t%2;n<r;n+=2){const t=r-n-2,i=r-n-1,o=n,s=n+1;[e[t],e[o]]=[e[o],e[t]],[e[i],e[s]]=[e[s],e[i]]}}}const cD={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,o=t.indices;if(r.length>=6){uD(r,!1);const e=[];for(let i=0;i<n.length;i++){const t=n[i];uD(t.points,!0),e.push(r.length/2),r=r.concat(t.points)}const t=Hm(r,e,2);if(!t)return;const s=i.length/2;for(let r=0;r<t.length;r+=3)o.push(t[r]+s),o.push(t[r+1]+s),o.push(t[r+2]+s);for(let n=0;n<r.length;n++)i.push(r[n])}}},dD={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,s=e.points;s.length=0,i>=0&&o>=0&&s.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate(e,t){const r=e.points,n=t.points;if(0===r.length)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},hD={build(e){lD.build(e)},triangulate(e,t){lD.triangulate(e,t)}};var fD=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(fD||{}),pD=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(pD||{});const mD={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},gD=mD;class vD{static curveTo(e,t,r,n,i,o){const s=o[o.length-2],a=o[o.length-1]-t,l=s-e,u=n-t,c=r-e,d=Math.abs(a*c-l*u);if(d<1e-8||0===i)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const h=a*a+l*l,f=u*u+c*c,p=a*u+l*c,m=i*Math.sqrt(h)/d,g=i*Math.sqrt(f)/d,v=m*p/h,y=g*p/f,b=m*c+g*l,_=m*u+g*a,w=l*(g+v),x=a*(g+v),E=c*(m+y),C=u*(m+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(x-_,w-b),endAngle:Math.atan2(C-_,E-b),anticlockwise:l*u>c*a}}static arc(e,t,r,n,i,o,s,a,l){const u=s-o,c=mD._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/Y_)),d=u/(2*c),h=2*d,f=Math.cos(d),p=Math.sin(d),m=c-1,g=m%1/m;for(let v=0;v<=m;++v){const e=d+o+h*(v+g*v),t=Math.cos(e),s=-Math.sin(e);l.push((f*t+p*s)*i+r,(f*-s+p*t)*i+n)}}}class yD{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class bD{static curveLength(e,t,r,n,i,o,s,a){let l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,b=e,_=t;for(let w=1;w<=10;++w)u=w/10,c=u*u,d=c*u,h=1-u,f=h*h,p=f*h,m=p*e+3*f*u*r+3*h*c*i+d*s,g=p*t+3*f*u*n+3*h*c*o+d*a,v=b-m,y=_-g,b=m,_=g,l+=Math.sqrt(v*v+y*y);return l}static curveTo(e,t,r,n,i,o,s){const a=s[s.length-2],l=s[s.length-1];s.length-=2;const u=mD._segmentsCount(bD.curveLength(a,l,e,t,r,n,i,o));let c=0,d=0,h=0,f=0,p=0;s.push(a,l);for(let m=1,g=0;m<=u;++m)g=m/u,c=1-g,d=c*c,h=d*c,f=g*g,p=f*g,s.push(h*a+3*d*g*e+3*c*f*r+p*i,h*l+3*d*g*t+3*c*f*n+p*o)}}function _D(e,t,r,n,i,o,s,a){let l,u;s?(l=n,u=-r):(l=-n,u=r);const c=e-r*i+l,d=t-n*i+u,h=e+r*o+l,f=t+n*o+u;return a.push(c,d,h,f),2}function wD(e,t,r,n,i,o,s,a){const l=r-e,u=n-t;let c=Math.atan2(l,u),d=Math.atan2(i-e,o-t);a&&c<d?c+=2*Math.PI:!a&&c>d&&(d+=2*Math.PI);let h=c;const f=d-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=f/g;if(h+=v,a){s.push(e,t,r,n);for(let r=1,n=h;r<g;r++,n+=v)s.push(e,t,e+Math.sin(n)*m,t+Math.cos(n)*m);s.push(e,t,i,o)}else{s.push(r,n,e,t);for(let r=1,n=h;r<g;r++,n+=v)s.push(e+Math.sin(n)*m,t+Math.cos(n)*m,e,t);s.push(i,o,e,t)}return 2*g}function xD(e,t){e.lineStyle.native?function(e,t){let r=0;const n=e.shape,i=e.points||n.points,o=n.type!==J_.POLY||n.closeStroke;if(0===i.length)return;const s=t.points,a=t.indices,l=i.length/2,u=s.length/2;let c=u;for(s.push(i[0],i[1]),r=1;r<l;r++)s.push(i[2*r],i[2*r+1]),a.push(c,c+1),c++;o&&a.push(c,u)}(e,t):function(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(0===n.length)return;const o=e.lineStyle,s=new ew(n[0],n[1]),a=new ew(n[n.length-2],n[n.length-1]),l=r.type!==J_.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const e=.5*(s.x+a.x),t=.5*(a.y+s.y);n.unshift(e,t),n.push(e,t)}const c=t.points,d=n.length/2;let h=n.length;const f=c.length/2,p=o.width/2,m=p*p,g=o.miterLimit*o.miterLimit;let v=n[0],y=n[1],b=n[2],_=n[3],w=0,x=0,E=-(y-_),C=v-b,A=0,D=0,T=Math.sqrt(E*E+C*C);E/=T,C/=T,E*=p,C*=p;const S=o.alignment,k=2*(1-S),P=2*S;l||(o.cap===pD.ROUND?h+=wD(v-E*(k-P)*.5,y-C*(k-P)*.5,v-E*k,y-C*k,v+E*P,y+C*P,c,!0)+2:o.cap===pD.SQUARE&&(h+=_D(v,y,E,C,k,P,!0,c))),c.push(v-E*k,y-C*k,v+E*P,y+C*P);for(let B=1;B<d-1;++B){v=n[2*(B-1)],y=n[2*(B-1)+1],b=n[2*B],_=n[2*B+1],w=n[2*(B+1)],x=n[2*(B+1)+1],E=-(y-_),C=v-b,T=Math.sqrt(E*E+C*C),E/=T,C/=T,E*=p,C*=p,A=-(_-x),D=b-w,T=Math.sqrt(A*A+D*D),A/=T,D/=T,A*=p,D*=p;const e=b-v,t=y-_,r=b-w,i=x-_,s=e*r+t*i,a=t*r-i*e,l=a<0;if(Math.abs(a)<.001*Math.abs(s)){c.push(b-E*k,_-C*k,b+E*P,_+C*P),s>=0&&(o.join===fD.ROUND?h+=wD(b,_,b-E*k,_-C*k,b-A*k,_-D*k,c,!1)+4:h+=2,c.push(b-A*P,_-D*P,b+A*k,_+D*k));continue}const u=(-E+v)*(-C+_)-(-E+b)*(-C+y),d=(-A+w)*(-D+_)-(-A+b)*(-D+x),f=(e*d-r*u)/a,S=(i*u-t*d)/a,R=(f-b)*(f-b)+(S-_)*(S-_),O=b+(f-b)*k,M=_+(S-_)*k,F=b-(f-b)*P,I=_-(S-_)*P,N=l?k:P,L=R<=Math.min(e*e+t*t,r*r+i*i)+N*N*m;let j=o.join;if(j===fD.MITER&&R/m>g&&(j=fD.BEVEL),L)switch(j){case fD.MITER:c.push(O,M,F,I);break;case fD.BEVEL:l?c.push(O,M,b+E*P,_+C*P,O,M,b+A*P,_+D*P):c.push(b-E*k,_-C*k,F,I,b-A*k,_-D*k,F,I),h+=2;break;case fD.ROUND:l?(c.push(O,M,b+E*P,_+C*P),h+=wD(b,_,b+E*P,_+C*P,b+A*P,_+D*P,c,!0)+4,c.push(O,M,b+A*P,_+D*P)):(c.push(b-E*k,_-C*k,F,I),h+=wD(b,_,b-E*k,_-C*k,b-A*k,_-D*k,c,!1)+4,c.push(b-A*k,_-D*k,F,I))}else{switch(c.push(b-E*k,_-C*k,b+E*P,_+C*P),j){case fD.MITER:l?c.push(F,I,F,I):c.push(O,M,O,M),h+=2;break;case fD.ROUND:h+=l?wD(b,_,b+E*P,_+C*P,b+A*P,_+D*P,c,!0)+2:wD(b,_,b-E*k,_-C*k,b-A*k,_-D*k,c,!1)+2}c.push(b-A*k,_-D*k,b+A*P,_+D*P),h+=2}}v=n[2*(d-2)],y=n[2*(d-2)+1],b=n[2*(d-1)],_=n[2*(d-1)+1],E=-(y-_),C=v-b,T=Math.sqrt(E*E+C*C),E/=T,C/=T,E*=p,C*=p,c.push(b-E*k,_-C*k,b+E*P,_+C*P),l||(o.cap===pD.ROUND?h+=wD(b-E*(k-P)*.5,_-C*(k-P)*.5,b-E*k,_-C*k,b+E*P,_+C*P,c,!1)+2:o.cap===pD.SQUARE&&(h+=_D(b,_,E,C,k,P,!1,c)));const R=t.indices,O=mD.epsilon*mD.epsilon;for(let B=f;B<h+f-2;++B)v=c[2*B],y=c[2*B+1],b=c[2*(B+1)],_=c[2*(B+1)+1],w=c[2*(B+2)],x=c[2*(B+2)+1],!(Math.abs(v*(_-x)+b*(x-y)+w*(y-_))<O)&&R.push(B,B+1,B+2)}(e,t)}class ED{static curveLength(e,t,r,n,i,o){const s=e-2*r+i,a=t-2*n+o,l=2*r-2*e,u=2*n-2*t,c=4*(s*s+a*a),d=4*(s*l+a*u),h=l*l+u*u,f=2*Math.sqrt(c+d+h),p=Math.sqrt(c),m=2*c*p,g=2*Math.sqrt(h),v=d/p;return(m*f+p*d*(f-g)+(4*h*c-d*d)*Math.log((2*p+v+f)/(v+g)))/(4*m)}static curveTo(e,t,r,n,i){const o=i[i.length-2],s=i[i.length-1],a=mD._segmentsCount(ED.curveLength(o,s,e,t,r,n));let l=0,u=0;for(let c=1;c<=a;++c){const d=c/a;l=o+(e-o)*d,u=s+(t-s)*d,i.push(l+(e+(r-e)*d-l)*d,u+(t+(n-t)*d-u)*d)}}}const CD={[J_.POLY]:cD,[J_.CIRC]:lD,[J_.ELIP]:lD,[J_.RECT]:dD,[J_.RREC]:hD},AD=[],DD=[];class TD{constructor(e,t=null,r=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=n,this.type=e.type}clone(){return new TD(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}e("d",TD);const SD=new ew,kD=class e extends K_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ME,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),DD.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),AD.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,n=null){const i=new TD(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new TD(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const n=t[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,SD):SD.copyFrom(e),n.shape.contains(SD.x,SD.y))){let e=!1;if(n.holes)for(let t=0;t<n.holes.length;t++)if(n.holes[t].shape.contains(SD.x,SD.y)){e=!0;break}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<t.length;a++){this.shapeIndex++;const i=t[a],o=i.fillStyle,s=i.lineStyle;CD[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix),(o.visible||s.visible)&&this.processHoles(i.holes);for(let t=0;t<2;t++){const a=0===t?o:s;if(!a.visible)continue;const l=a.texture.baseTexture,u=this.indices.length,c=this.points.length/2;l.wrapMode=jp.REPEAT,0===t?this.processFill(i):this.processLine(i);const d=this.points.length/2-c;0!==d&&(r&&!this._compareStyles(n,a)&&(r.end(u,c),r=null),r||(r=AD.pop()||new yD,r.begin(a,u,c),this.batches.push(r),n=a),this.addUvs(this.points,e,a.texture,c,d,a.matrix))}}const i=this.indices.length,o=this.points.length/2;if(r&&r.end(i,o),0===this.batches.length)return void(this.batchable=!0);const s=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&s===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=s?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const t=this.graphicsData[e],r=t.fillStyle,n=t.lineStyle;if(r&&!r.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const r=e[t];for(let e=0;e<r.size;e++){const t=r.start+e;this.indicesUint16[t]=this.indicesUint16[t]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++j_._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),DD.push(this.drawCalls[c]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let n=DD.pop();n||(n=new U_,n.texArray=new $w),n.texArray.count=0,n.start=0,n.size=0,n.type=Bp.TRIANGLES;let i=0,o=null,s=0,a=!1,l=Bp.TRIANGLES,u=0;this.drawCalls.push(n);for(let c=0;c<this.batches.length;c++){const d=this.batches[c],h=8,f=d.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Bp.LINES:Bp.TRIANGLES,o=null,i=h,e++),o!==p&&(o=p,p._batchEnabled!==e&&(i===h&&(e++,i=0,n.size>0&&(n=DD.pop(),n||(n=new U_,n.texArray=new $w),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=e,p._batchLocation=i,p.wrapMode=jp.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=d.size,u+=d.size,s=p._batchLocation,this.addColors(t,f.color,f.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,s,d.attribSize,d.attribStart)}j_._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),s=new Uint32Array(i);let a=0;for(let l=0;l<e.length/2;l++)o[a++]=e[2*l],o[a++]=e[2*l+1],o[a++]=t[2*l],o[a++]=t[2*l+1],s[a++]=r[l],o[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?cD.triangulate(e,this):CD[e.type].triangulate(e,this)}processLine(e){xD(e,this);for(let t=0;t<e.holes.length;t++)xD(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];CD[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const n=e[2*r],i=e[2*r+1];e[2*r]=t.a*n+t.c*i+t.tx,e[2*r+1]=t.b*n+t.d*i+t.ty}}addColors(e,t,r,n,i=0){const o=qb.shared.setValue(t).toLittleEndianNumber(),s=qb.shared.setValue(o).toPremultiplied(r);e.length=Math.max(e.length,i+n);for(let a=0;a<n;a++)e[i+a]=s}addTextureIds(e,t,r,n=0){e.length=Math.max(e.length,n+r);for(let i=0;i<r;i++)e[n+i]=t}addUvs(e,t,r,n,i,o=null){let s=0;const a=t.length,l=r.frame;for(;s<i;){let r=e[2*(n+s)],i=e[2*(n+s)+1];if(o){const e=o.a*r+o.c*i+o.tx;i=o.b*r+o.d*i+o.ty,r=e}s++,t.push(r/l.width,i/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(t,r,a,i)}adjustUvs(e,t,r,n){const i=t.baseTexture,o=1e-6,s=r+2*n,a=t.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,d=a.y/a.height,h=Math.floor(e[r]+o),f=Math.floor(e[r+1]+o);for(let p=r+2;p<s;p+=2)h=Math.min(h,Math.floor(e[p]+o)),f=Math.min(f,Math.floor(e[p+1]+o));c-=h,d-=f;for(let p=r;p<s;p+=2)e[p]=(e[p]+c)*l,e[p+1]=(e[p+1]+d)*u}};kD.BATCHABLE_SIZE=100;let PD=e("b",kD);class RD{constructor(){this.color=16777215,this.alpha=1,this.texture=ux.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new RD;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ux.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}e("F",RD);class OD extends RD{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=pD.BUTT,this.join=fD.MITER,this.miterLimit=10}clone(){const e=new OD;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=pD.BUTT,this.join=fD.MITER,this.miterLimit=10}}e("L",OD);const BD={},MD=class e extends UE{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new RD,this._lineStyle=new OD,this._matrix=null,this._holeMode=!1,this.state=R_.for2d(),this._geometry=e||new PD,this._geometry.refCount++,this._transformID=-1,this._tintColor=new qb(16777215),this.blendMode=Op.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,n=.5,i=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:n,native:i}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ux.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:pD.BUTT,join:fD.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new ow,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new ow,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==e||i!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,n){this._initCurve();const i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),ED.curveTo(e,t,r,n,i),this}bezierCurveTo(e,t,r,n,i,o){return this._initCurve(),bD.curveTo(e,t,r,n,i,o,this.currentPath.points),this}arcTo(e,t,r,n,i){this._initCurve(e,t);const o=this.currentPath.points,s=vD.curveTo(e,t,r,n,i,o);if(s){const{cx:e,cy:t,radius:r,startAngle:n,endAngle:i,anticlockwise:o}=s;this.arc(e,t,r,n,i,o)}return this}arc(e,t,r,n,i,o=!1){if(n===i)return this;if(!o&&i<=n?i+=Y_:o&&n<=i&&(n+=Y_),i-n==0)return this;const s=e+Math.cos(n)*r,a=t+Math.sin(n)*r,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const e=Math.abs(u[u.length-2]-s),t=Math.abs(u[u.length-1]-a);e<l&&t<l||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return vD.arc(s,a,e,t,r,n,i,o,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:ux.WHITE,color:e,alpha:t})}normalizeColor(e){const t=qb.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ux.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,n){return this.drawShape(new rw(e,t,r,n))}drawRoundedRect(e,t,r,n,i){return this.drawShape(new sw(e,t,r,n,i))}drawCircle(e,t,r){return this.drawShape(new nw(e,t,r))}drawEllipse(e,t,r,n){return this.drawShape(new iw(e,t,r,n))}drawPolygon(...e){let t,r=!0;const n=e[0];n.points?(r=n.closeStroke,t=n.points):t=Array.isArray(e[0])?e[0]:e;const i=new ow(t);return i.closeStroke=r,this.drawShape(i),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==J_.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let n=0;n<r;n++){const r=e.batches[n],i=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),a={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*r.start,r.size),uvs:s,_batchRGB:qb.shared.setValue(i).toRgbArray(),_tintRGB:i,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=a}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,n=this.worldAlpha,i=t.uniforms,o=r.drawCalls;i.translationMatrix=this.transform.worldTransform,qb.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let s=0,a=o.length;s<a;s++)this._renderDrawCallDirect(e,r.drawCalls[s])}_renderDrawCallDirect(e,t){const{texArray:r,type:n,size:i,start:o}=t,s=r.count;for(let a=0;a<s;a++)e.texture.bind(r.elements[a],a);e.geometry.draw(n,i,o)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!BD[r]){const{maxTextures:t}=e.plugins[r],n=new Int32Array(t);for(let e=0;e<t;e++)n[e]=e;const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new aw,default:Gw.from({uSamplers:n},!0)},o=e.plugins[r]._shader.program;BD[r]=new Hw(o,i)}t=BD[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:n,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=qb.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let d=0;d<l.length;d+=2){const e=l[d],t=l[d+1];u[c++]=r*e+i*t+s,u[c++]=o*t+n*e+a}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};MD.curves=mD,MD._TEMP_POINT=new ew;let FD=e("G",MD);const ID={buildPoly:cD,buildCircle:lD,buildRectangle:dD,buildRoundedRectangle:hD,buildLine:xD,ArcUtils:vD,BezierUtils:bD,QuadraticUtils:ED,BatchPart:yD,FILL_COMMANDS:CD,BATCH_POOL:AD,DRAW_CALL_POOL:DD};class ND{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const LD=new ew,jD=new ow,UD=class e extends UE{constructor(e,t,r,n=Bp.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||R_.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Yp.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Bp.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const n=this.transform.worldTransform,i=n.a,o=n.b,s=n.c,a=n.d,l=n.tx,u=n.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const e=t[2*d],r=t[2*d+1];c[2*d]=i*e+s*r+l,c[2*d+1]=o*e+a*r+u}if(this._roundPixels){const e=Yp.RESOLUTION;for(let t=0;t<c.length;++t)c[t]=Math.round(c[t]*e)/e}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ND(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,LD);const t=this.geometry.getBuffer("aVertexPosition").data,r=jD.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1;for(let s=0;s+2<i;s+=o){const e=2*n[s],i=2*n[s+1],o=2*n[s+2];if(r[0]=t[e],r[1]=t[e+1],r[2]=t[i],r[3]=t[i+1],r[4]=t[o],r[5]=t[o+1],jD.contains(LD.x,LD.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};UD.BATCHABLE_SIZE=100;let zD=UD;class VD extends q_{constructor(e,t,r){super();const n=new V_(e),i=new V_(t,!0),o=new V_(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,Ip.FLOAT).addAttribute("aTextureCoord",i,2,!1,Ip.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class GD extends Hw{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:aw.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(r,t.uniforms),super(t.program||zw.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r),this._colorDirty=!1,this.uvMatrix=new Cx(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new qb(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;qb.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class HD extends VD{constructor(e=100,t=100,r=10,n=10){super(),this.segWidth=r,this.segHeight=n,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o;for(let u=0;u<e;u++){const e=u%this.segWidth,n=u/this.segWidth|0;t.push(e*s,n*a),r.push(e/i,n/o)}const l=i*o;for(let u=0;u<l;u++){const e=u%i,t=u/i|0,r=t*this.segWidth+e,o=t*this.segWidth+e+1,s=(t+1)*this.segWidth+e,a=(t+1)*this.segWidth+e+1;n.push(r,o,s,o,a,s)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class WD extends VD{constructor(e=200,t,r=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1))),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),n.data=new Uint16Array(6*(e.length-1)));const i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;let s=0,a=e[0];const l=this._width*this.textureScale,u=e.length;for(let d=0;d<u;d++){const t=4*d;if(this.textureScale>0){const t=a.x-e[d].x,r=a.y-e[d].y,n=Math.sqrt(t*t+r*r);a=e[d],s+=n/l}else s=d/(u-1);i[t]=s,i[t+1]=0,i[t+2]=s,i[t+3]=1}let c=0;for(let d=0;d<u-1;d++){const e=2*d;o[c++]=e,o[c++]=e+1,o[c++]=e+2,o[c++]=e+2,o[c++]=e+1,o[c++]=e+3}r.update(),n.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t,r=e[0],n=0,i=0;const o=this.buffers[0].data,s=e.length,a=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<s;l++){const s=e[l],u=4*l;t=l<e.length-1?e[l+1]:s,i=-(t.x-r.x),n=t.y-r.y;const c=Math.sqrt(n*n+i*i);c<1e-6?(n=0,i=0):(n/=c,i/=c,n*=a,i*=a),o[u]=s.x+n,o[u+1]=s.y+i,o[u+2]=s.x-n,o[u+3]=s.y-i,r=s}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class $D extends zD{constructor(e,t,r){super(new HD(e.width,e.height,t,r),new GD(ux.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}class XD{constructor(e,t,r){this.geometry=new q_,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let r=e[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||Ip.FLOAT,offset:r.offset},t[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new V_(e_(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const e=this.dynamicProperties[o];e.offset=t,t+=e.size,this.dynamicStride+=e.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new V_(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const e=this.staticProperties[o];e.offset=n,n+=e.size,this.staticStride+=e.size}const i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new V_(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const t=this.dynamicProperties[o];e.addAttribute(t.attributeName,this.dynamicBuffer,0,t.type===Ip.UNSIGNED_BYTE,t.type,4*this.dynamicStride,4*t.offset)}for(let o=0;o<this.staticProperties.length;++o){const t=this.staticProperties[o];e.addAttribute(t.attributeName,this.staticBuffer,0,t.type===Ip.UNSIGNED_BYTE,t.type,4*this.staticStride,4*t.offset)}}uploadDynamic(e,t,r){for(let n=0;n<this.dynamicProperties.length;n++){const i=this.dynamicProperties[n];i.uploadFunction(e,t,r,i.type===Ip.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let n=0;n<this.staticProperties.length;n++){const i=this.staticProperties[n];i.uploadFunction(e,t,r,i.type===Ip.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class qD extends Xw{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new aw,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ip.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Hw.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=R_.for2d()}render(e){const t=e.children,r=e._maxSize,n=e._batchSize,i=this.renderer;let o=t.length;if(0===o)return;o>r&&!e.autoResize&&(o=r);let s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));const a=t[0]._texture.baseTexture,l=a.alphaMode>0;this.state.blendMode=Qb(e.blendMode,l),i.state.set(this.state);const u=i.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=qb.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);let d=!1;for(let h=0,f=0;h<o;h+=n,f+=1){let r=o-h;r>n&&(r=n),f>=s.length&&s.push(this._generateOneMoreBuffer(e));const a=s[f];a.uploadDynamic(t,h,r);const l=e._bufferUpdateIDs[f]||0;d=d||a._updateID<l,d&&(a._updateID=e._updateID,a.uploadStatic(t,h,r)),i.geometry.bind(a.geometry),u.drawElements(u.TRIANGLES,6*r,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,n=e._batchSize,i=e._properties;for(let o=0;o<r;o+=n)t.push(new XD(this.properties,i,n));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new XD(this.properties,r,t)}uploadVertices(e,t,r,n,i,o){let s=0,a=0,l=0,u=0;for(let c=0;c<r;++c){const r=e[t+c],d=r._texture,h=r.scale.x,f=r.scale.y,p=d.trim,m=d.orig;p?(a=p.x-r.anchor.x*m.width,s=a+p.width,u=p.y-r.anchor.y*m.height,l=u+p.height):(s=m.width*(1-r.anchor.x),a=m.width*-r.anchor.x,l=m.height*(1-r.anchor.y),u=m.height*-r.anchor.y),n[o]=a*h,n[o+1]=u*f,n[o+i]=s*h,n[o+i+1]=u*f,n[o+2*i]=s*h,n[o+2*i+1]=l*f,n[o+3*i]=a*h,n[o+3*i+1]=l*f,o+=4*i}}uploadPosition(e,t,r,n,i,o){for(let s=0;s<r;s++){const r=e[t+s].position;n[o]=r.x,n[o+1]=r.y,n[o+i]=r.x,n[o+i+1]=r.y,n[o+2*i]=r.x,n[o+2*i+1]=r.y,n[o+3*i]=r.x,n[o+3*i+1]=r.y,o+=4*i}}uploadRotation(e,t,r,n,i,o){for(let s=0;s<r;s++){const r=e[t+s].rotation;n[o]=r,n[o+i]=r,n[o+2*i]=r,n[o+3*i]=r,o+=4*i}}uploadUvs(e,t,r,n,i,o){for(let s=0;s<r;++s){const r=e[t+s]._texture._uvs;r?(n[o]=r.x0,n[o+1]=r.y0,n[o+i]=r.x1,n[o+i+1]=r.y1,n[o+2*i]=r.x2,n[o+2*i+1]=r.y2,n[o+3*i]=r.x3,n[o+3*i+1]=r.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}}uploadTint(e,t,r,n,i,o){for(let s=0;s<r;++s){const r=e[t+s],a=qb.shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}qD.extension={name:"particle",type:E_.RendererPlugin},D_.add(qD);var KD=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(KD||{});const YD={willReadFrequently:!0},ZD=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){const r=Yp.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(e,t,r,n,i,o,s,a,l){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,r,n,i=e._canvas){n=n??r.wordWrap;const o=r.toFontString(),s=e.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);const a=i.getContext("2d",YD);a.font=o;const l=(n?e.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const t=e._measureText(l[p],r.letterSpacing,a);u[p]=t,c=Math.max(c,t)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const h=r.lineHeight||s.fontSize+r.strokeThickness;let f=Math.max(h,s.fontSize+2*r.strokeThickness)+r.leading+(l.length-1)*(h+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new e(t,r,d,f,l,u,h+r.leading,c,s)}static _measureText(t,r,n){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(i?o-=r:o+=(e.graphemeSegmenter(t).length-1)*r),o}static wordWrap(t,r,n=e._canvas){const i=n.getContext("2d",YD);let o=0,s="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=e.collapseSpaces(c),h=e.collapseNewlines(c);let f=!d;const p=r.wordWrapWidth+u,m=e.tokenize(t);for(let g=0;g<m.length;g++){let t=m[g];if(e.isNewline(t)){if(!h){a+=e.addLine(s),f=!d,s="",o=0;continue}t=" "}if(d){const r=e.isBreakingSpace(t),n=e.isBreakingSpace(s[s.length-1]);if(r&&n)continue}const n=e.getFromCache(t,u,l,i);if(n>p)if(""!==s&&(a+=e.addLine(s),s="",o=0),e.canBreakWords(t,r.breakWords)){const n=e.wordWrapSplit(t);for(let c=0;c<n.length;c++){let d=n[c],h=d,m=1;for(;n[c+m];){const i=n[c+m];if(e.canBreakChars(h,i,t,c,r.breakWords))break;d+=i,h=i,m++}c+=m-1;const g=e.getFromCache(d,u,l,i);g+o>p&&(a+=e.addLine(s),f=!1,s="",o=0),s+=d,o+=g}}else{s.length>0&&(a+=e.addLine(s),s="",o=0);const r=g===m.length-1;a+=e.addLine(t,!r),f=!1,s="",o=0}else n+o>p&&(f=!1,a+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace(t)||f)&&(s+=t,o+=n)}return a+=e.addLine(s,!1),a}static addLine(t,r=!0){return t=e.trimRight(t),t=r?`${t}\n`:t}static getFromCache(t,r,n,i){let o=n[t];return"number"!=typeof o&&(o=e._measureText(t,r,i)+r,n[t]=o),o}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){const n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const r=[];let n="";if("string"!=typeof t)return r;for(let i=0;i<t.length;i++){const o=t[i],s=t[i+1];e.isBreakingSpace(o,s)||e.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,n,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;const o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width);let a=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width);const l=Math.ceil(e.HEIGHT_MULTIPLIER*a);if(a=a*e.BASELINE_MULTIPLIER|0,0===s||0===l)return e._fonts[t]=r,r;n.width=s,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,s,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);const u=i.getImageData(0,0,s,l).data,c=u.length,d=4*s;let h=0,f=0,p=!1;for(h=0;h<a;++h){for(let e=0;e<d;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f+=d}for(r.ascent=a-h,f=c-d,p=!1,h=l;h>a;--h){for(let e=0;e<d;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f-=d}return r.descent=h-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if(r.getContext("2d",YD)?.measureText)return e.__canvas=r,r;t=Yp.ADAPTER.createCanvas()}catch{t=Yp.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",YD)),e.__context}};ZD.METRICS_STRING="|q",ZD.BASELINE_SYMBOL="M",ZD.BASELINE_MULTIPLIER=1.4,ZD.HEIGHT_MULTIPLIER=2,ZD.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map((e=>e.segment))}return e=>[...e]})(),ZD.experimentalLetterSpacing=!1,ZD._fonts={},ZD._newlines=[10,13],ZD._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let QD=ZD;const JD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],eT=class e{constructor(e){this.styleID=0,this.reset(),nT(this,e,e)}clone(){const t={};return nT(t,this,e.defaultStyle),new e(t)}reset(){nT(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=rT(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=rT(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=rT(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let e=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(e)&&!JD.includes(e)&&(e=`"${e}"`),t[r]=e}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};eT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:KD.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let tT=eT;function rT(e){const t=qb.shared,r=e=>{const r=t.setValue(e);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function nT(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const iT={texture:!0,children:!1,baseTexture:!0},oT=class e extends GE{constructor(t,r,n){let i=!1;n||(n=Yp.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const o=ux.from(n);o.orig=new rw,o.trim=new rw,super(o),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=e.defaultResolution??Yp.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return QD.experimentalLetterSpacing}static set experimentalLetterSpacing(e){db("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),QD.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,n=QD.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,c=n.fontProperties;let d,h;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;const f=t.dropShadow?2:1;for(let p=0;p<f;++p){const e=t.dropShadow&&0===p,i=e?Math.ceil(Math.max(1,o)+2*t.padding):0,f=i*this._resolution;if(e){r.fillStyle="black",r.strokeStyle="black";const e=t.dropShadowColor,n=t.dropShadowBlur*this._resolution,i=t.dropShadowDistance*this._resolution;r.shadowColor=qb.shared.setValue(e).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=n,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*i,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*i+f}else r.fillStyle=this._generateFillStyle(t,s,n),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let m=(a-c.fontSize)/2;a-c.fontSize<0&&(m=0);for(let r=0;r<s.length;r++)d=t.strokeThickness/2,h=t.strokeThickness/2+r*a+c.ascent+m,"right"===t.align?d+=u-l[r]:"center"===t.align&&(d+=(u-l[r])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(s[r],d+t.padding,h+t.padding-i,!0),t.fill&&this.drawLetterSpacing(s[r],d+t.padding,h+t.padding-i)}this.updateTexture()}drawLetterSpacing(e,t,r,n=!1){const i=this._style.letterSpacing;let o=!1;if(QD.experimentalLetterSpacingSupported&&(QD.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||o)return void(n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));let s=t;const a=QD.graphemeSegmenter(e);let l=this.context.measureText(e).width,u=0;for(let c=0;c<a.length;++c){const e=a[c];n?this.context.strokeText(e,s,r):this.context.fillText(e,s,r);let t="";for(let r=c+1;r<a.length;++r)t+=a[r];u=this.context.measureText(t).width,s+=l-u+i,l=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const t=b_(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}const t=this._texture,r=this._style,n=r.trim?0:r.padding,i=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),i.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const n=e.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];let i;const o=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,a=this.canvas.width/this._resolution-o-2*s,l=this.canvas.height/this._resolution-o-2*s,u=n.slice(),c=e.fillGradientStops.slice();if(!c.length){const e=u.length+1;for(let t=1;t<e;++t)c.push(t/e)}if(u.unshift(n[0]),c.unshift(0),u.push(n[n.length-1]),c.push(1),e.fillGradientType===KD.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,l+s);const n=r.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){const o=r.lineHeight*(e-1)+n,s=r.lineHeight*e;let a=s;e>0&&o>s&&(a=(s+o)/2);const d=s+n,h=r.lineHeight*(e+1);let f=d;e+1<t.length&&h<d&&(f=(d+h)/2);const p=(f-a)/l;for(let e=0;e<u.length;e++){let t=0;t="number"==typeof c[e]?c[e]:e/u.length;let r=Math.min(1,Math.max(0,a/l+t*p));r=Number(r.toFixed(5)),i.addColorStop(r,u[e])}}}else{i=this.context.createLinearGradient(s,l/2,a+s,l/2);const e=u.length+1;let t=1;for(let r=0;r<u.length;r++){let n;n="number"==typeof c[r]?c[r]:t/e,i.addColorStop(n,u[r]),t++}}return i}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},iT,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=a_(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=a_(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},this._style=e instanceof tT?e:new tT(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};oT.defaultAutoResolution=!0;let sT=e("T",oT);class aT{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function lT(e,t){let r=!1;if(e?._textures?.length)for(let n=0;n<e._textures.length;n++)if(e._textures[n]instanceof ux){const i=e._textures[n].baseTexture;t.includes(i)||(t.push(i),r=!0)}return r}function uT(e,t){if(e.baseTexture instanceof j_){const r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function cT(e,t){if(e._texture&&e._texture instanceof ux){const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function dT(e,t){return t instanceof sT&&(t.updateText(!0),!0)}function hT(e,t){if(t instanceof tT){const e=t.toFontString();return QD.measureFont(e),!0}return!1}function fT(e,t){if(e instanceof sT){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function pT(e,t){return e instanceof tT&&(t.includes(e)||t.push(e),!0)}const mT=class e{constructor(t){this.limiter=new aT(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(fT),this.registerFindHook(pT),this.registerFindHook(lT),this.registerFindHook(uT),this.registerFindHook(cT),this.registerUploadHook(dT),this.registerUploadHook(hT)}upload(e){return new Promise((t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,hE.system.addOnce(this.tick,this,uE.UTILITY))):t()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)hE.system.addOnce(this.tick,this,uE.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof UE)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&hE.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};mT.uploadsPerFrame=4;let gT=mT;function vT(e,t){return t instanceof j_&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function yT(e,t){if(!(t instanceof FD))return!1;const{geometry:r}=t;t.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:t}=n[i].style;t&&vT(e,t.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function bT(e,t){return e instanceof FD&&(t.push(e),!0)}Object.defineProperties(Yp,{UPLOADS_PER_FRAME:{get:()=>gT.uploadsPerFrame,set(e){db("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),gT.uploadsPerFrame=e}}});class _T extends gT{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(bT),this.registerUploadHook(vT),this.registerUploadHook(yT)}}_T.extension={name:"prepare",type:E_.RendererSystem},D_.add(_T);class wT extends GE{constructor(e,t=!0){super(e[0]instanceof ux?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(hE.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(hE.shared.add(this.update,this,uE.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];const n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ux.from(e[r]));return new wT(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ux.from(e[r]));return new wT(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ux)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(hE.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(hE.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xT=new ew;class ET extends GE{constructor(e,t=100,r=100){super(e),this.tileTransform=new yw,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Cx(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new rw),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xT);const t=this._width,r=this._height,n=-t*this.anchor._x;if(xT.x>=n&&xT.x<n+t){const e=-r*this.anchor._y;if(xT.y>=e&&xT.y<e+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ux?e:ux.from(e,t);return new ET(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var CT="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const AT=new aw;class DT extends Xw{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new fx,this.state=R_.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Hw.from(CT,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Hw.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Hw.from(CT,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){const t=this.renderer,r=this.quad;let n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=r.uvs,n[0]=n[6]=-i,n[1]=n[3]=-o,n[2]=n[4]=1-i,n[5]=n[7]=1-o,r.invalidate();const s=e._texture,a=s.baseTexture,l=a.alphaMode>0,u=e.tileTransform.localTransform,c=e.uvMatrix;let d=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;d&&(a._glTextures[t.CONTEXT_UID]?d=a.wrapMode!==jp.CLAMP:a.wrapMode===jp.CLAMP&&(a.wrapMode=jp.REPEAT));const h=d?this.simpleShader:this.shader,f=s.width,p=s.height,m=e._width,g=e._height;AT.set(u.a*f/m,u.b*f/g,u.c*p/m,u.d*p/g,u.tx/m,u.ty/g),AT.invert(),d?AT.prepend(c.mapCoord):(h.uniforms.uMapCoord=c.mapCoord.toArray(!0),h.uniforms.uClampFrame=c.uClampFrame,h.uniforms.uClampOffset=c.uClampOffset),h.uniforms.uTransform=AT.toArray(!0),h.uniforms.uColor=qb.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(h.uniforms.uColor),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.uSampler=s,t.shader.bind(h),t.geometry.bind(r),this.state.blendMode=Qb(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}DT.extension={name:"tilingSprite",type:E_.RendererPlugin},D_.add(DT);const TT=class e{constructor(e,t,r=null){this.linkedSheets=[],this._texture=e instanceof ux?e:null,this.baseTexture=e instanceof j_?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=w_(e,null);return null===r&&(r=parseFloat(t??"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise((t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(t){let r=t;const n=e.BATCH_SIZE;for(;r-t<n&&r<this._frameKeys.length;){const e=this._frameKeys[r],t=this._frames[e],n=t.frame;if(n){let r=null,i=null;const o=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,s=new rw(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);r=t.rotated?new rw(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new rw(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(i=new rw(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[e]=new ux(this.baseTexture,r,s,i,t.rotated?2:0,t.anchor,t.borders),ux.addToCache(this.textures[e],e.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const n=e[t][r];this.animations[t].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};TT.BATCH_SIZE=1e3;let ST=TT;const kT=["jpg","png","jpeg","avif","webp"];function PT(e,t,r){const n={};if(e.forEach((e=>{n[e]=t})),Object.keys(t.textures).forEach((e=>{n[e]=t.textures[e]})),!r){const r=mb.dirname(e[0]);t.linkedSheets.forEach(((e,i)=>{const o=PT([`${r}/${t.data.meta.related_multi_packs[i]}`],e,!0);Object.assign(n,o)}))}return n}const RT={extension:E_.Asset,cache:{test:e=>e instanceof ST,getCacheableAssets:(e,t)=>PT(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),r=t.pop(),n=t.pop();return"json"===r&&kT.includes(n)},parse:e=>{const t=e.split(".");return{resolution:parseFloat(Yp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:E_.LoadParser,priority:RC.Normal},testParse:async(e,t)=>".json"===mb.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,r){let n=mb.dirname(t.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+e.meta.image;i=AC(i,t.src);const o=(await r.load([i]))[i],s=new ST(o.baseTexture,e,t.src);await s.parse();const a=e?.meta?.related_multi_packs;if(Array.isArray(a)){const e=[];for(const o of a){if("string"!=typeof o)continue;let i=n+o;t.data?.ignoreMultiPack||(i=AC(i,t.src),e.push(r.load({src:i,data:{ignoreMultiPack:!0}})))}const i=await Promise.all(e);s.linkedSheets=i,i.forEach((e=>{e.linkedSheets=[s].concat(s.linkedSheets.filter((t=>t!==e)))}))}return s},unload(e){e.destroy(!0)}}};D_.add(RT);class OT{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class BT{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const i in t){const e=t[i].match(/^[a-z]+/gm)[0],n=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(const t in n){const e=n[t].split("="),r=e[0],i=e[1].replace(/"/gm,""),s=parseFloat(i),a=isNaN(s)?i:s;o[r]=a}r[e].push(o)}const n=new OT;return r.info.forEach((e=>n.info.push({face:e.face,size:parseInt(e.size,10)}))),r.common.forEach((e=>n.common.push({lineHeight:parseInt(e.lineHeight,10)}))),r.page.forEach((e=>n.page.push({id:parseInt(e.id,10),file:e.file}))),r.char.forEach((e=>n.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)}))),r.kerning.forEach((e=>n.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)}))),r.distanceField.forEach((e=>n.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType}))),n}}class MT{static test(e){const t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new OT,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),a=e.getElementsByTagName("distanceField");for(let l=0;l<r.length;l++)t.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(let l=0;l<n.length;l++)t.common.push({lineHeight:parseInt(n[l].getAttribute("lineHeight"),10)});for(let l=0;l<i.length;l++)t.page.push({id:parseInt(i[l].getAttribute("id"),10)||0,file:i[l].getAttribute("file")});for(let l=0;l<o.length;l++){const e=o[l];t.char.push({id:parseInt(e.getAttribute("id"),10),page:parseInt(e.getAttribute("page"),10)||0,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10),xoffset:parseInt(e.getAttribute("xoffset"),10),yoffset:parseInt(e.getAttribute("yoffset"),10),xadvance:parseInt(e.getAttribute("xadvance"),10)})}for(let l=0;l<s.length;l++)t.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(let l=0;l<a.length;l++)t.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return t}}class FT{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&MT.test(Yp.ADAPTER.parseXML(e))}static parse(e){return MT.parse(Yp.ADAPTER.parseXML(e))}}const IT=[BT,MT,FT];function NT(e){for(let t=0;t<IT.length;t++)if(IT[t].test(e))return IT[t];return null}function LT(e,t,r,n,i,o,s){const a=r.text,l=r.fontProperties;t.translate(n,i),t.scale(o,o);const u=s.strokeThickness/2,c=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,r,n,i,o){const s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=e.width/n-l-2*u,d=e.height/n-l-2*u,h=s.slice(),f=r.fillGradientStops.slice();if(!f.length){const e=h.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(h.unshift(s[0]),f.unshift(0),h.push(s[s.length-1]),f.push(1),r.fillGradientType===KD.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,d+u);let e=0;const n=(o.fontProperties.fontSize+r.strokeThickness)/d;for(let t=0;t<i.length;t++){const r=o.lineHeight*t;for(let t=0;t<h.length;t++){let i=0;i="number"==typeof f[t]?f[t]:t/h.length;const o=r/d+i*n;let s=Math.max(e,o);s=Math.min(s,1),a.addColorStop(s,h[t]),e=s}}}else{a=t.createLinearGradient(u,d/2,c+u,d/2);const e=h.length+1;let r=1;for(let t=0;t<h.length;t++){let n;n="number"==typeof f[t]?f[t]:r/e,a.addColorStop(n,h[t]),r++}}return a}(e,t,s,o,[a],r),t.strokeStyle=s.stroke,s.dropShadow){const e=s.dropShadowColor,r=s.dropShadowBlur*o,n=s.dropShadowDistance*o;t.shadowColor=qb.shared.setValue(e).setAlpha(s.dropShadowAlpha).toRgbaString(),t.shadowBlur=r,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*n,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*n}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,u,c+r.lineHeight-l.descent),s.fill&&t.fillText(a,u,c+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function jT(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}function UT(e){return Array.from?Array.from(e):e.split("")}const zT=class e{constructor(e,t,r){const[n]=e.info,[i]=e.common,[o]=e.page,[s]=e.distanceField,a=w_(o.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let u=0;u<e.page.length;u++){const{id:r,file:n}=e.page[u];l[r]=t instanceof Array?t[u]:t[n],s?.fieldType&&"none"!==s.fieldType&&(l[r].baseTexture.alphaMode=zp.NO_PREMULTIPLIED_ALPHA,l[r].baseTexture.mipmap=Up.OFF)}for(let u=0;u<e.char.length;u++){const{id:t,page:r}=e.char[u];let{x:n,y:i,width:o,height:s,xoffset:c,yoffset:d,xadvance:h}=e.char[u];n/=a,i/=a,o/=a,s/=a,c/=a,d/=a,h/=a;const f=new rw(n+l[r].frame.x/a,i+l[r].frame.y/a,o,s);this.chars[t]={xOffset:c,yOffset:d,xAdvance:h,kerning:{},texture:new ux(l[r].baseTexture,f),page:r}}for(let u=0;u<e.kerning.length;u++){let{first:t,second:r,amount:n}=e.kerning[u];t/=a,r/=a,n/=a,this.chars[r]&&(this.chars[r].kerning[t]=n)}this.distanceFieldRange=s?.distanceRange,this.distanceFieldType=s?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,r,n){let i;if(t instanceof OT)i=t;else{const e=NT(t);if(!e)throw new Error("Unrecognized data format for font.");i=e.parse(t)}r instanceof ux&&(r=[r]);const o=new e(i,r,n);return e.available[o.font]=o,o}static uninstall(t){const r=e.available[t];if(!r)throw new Error(`No font found named '${t}'`);r.destroy(),delete e.available[t]}static from(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:o,resolution:s,textureWidth:a,textureHeight:l,...u}=Object.assign({},e.defaultOptions,n),c=function(e){"string"==typeof e&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const e=n[0].charCodeAt(0),r=n[1].charCodeAt(0);if(r<e)throw new Error("[BitmapFont]: Invalid character range.");for(let n=e,i=r;n<=i;n++)t.push(String.fromCharCode(n))}else t.push(...UT(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(i),d=r instanceof tT?r:new tT(r),h=a,f=new OT;f.info[0]={face:d.fontFamily,size:d.fontSize},f.common[0]={lineHeight:d.fontSize};let p,m,g,v=0,y=0,b=0;const _=[];for(let e=0;e<c.length;e++){p||(p=Yp.ADAPTER.createCanvas(),p.width=a,p.height=l,m=p.getContext("2d"),g=new j_(p,{resolution:s,...u}),_.push(new ux(g)),f.page.push({id:_.length-1,file:""}));const t=c[e],r=QD.measureText(t,d,!1,p),n=r.width,i=Math.ceil(r.height),w=Math.ceil(("italic"===d.fontStyle?2:1)*n);if(y>=l-i*s){if(0===y)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${t}')`);--e,p=null,m=null,g=null,y=0,v=0,b=0;continue}if(b=Math.max(i+r.fontProperties.descent,b),w*s+v>=h){if(0===v)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${t}')`);--e,y+=b*s,y=Math.ceil(y),v=0,b=0;continue}LT(p,m,r,v,y,s,d);const x=jT(r.text);f.char.push({id:x,page:_.length-1,x:v/s,y:y/s,width:w,height:i,xoffset:0,yoffset:0,xadvance:n-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),v+=(w+2*o)*s,v=Math.ceil(v)}if(!n?.skipKerning)for(let e=0,x=c.length;e<x;e++){const t=c[e];for(let e=0;e<x;e++){const r=c[e],n=m.measureText(t).width,i=m.measureText(r).width,o=m.measureText(t+r).width-(n+i);o&&f.kerning.push({first:jT(t),second:jT(r),amount:o})}}const w=new e(f,_,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=w,w}};zT.ALPHA=[["a","z"],["A","Z"]," "],zT.NUMERIC=[["0","9"]],zT.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],zT.ASCII=[[" ","~"]],zT.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:zT.ALPHANUMERIC},zT.available={};let VT=zT;const GT=[],HT=[],WT=[],$T=class e extends UE{constructor(t,r={}){super();const{align:n,tint:i,maxWidth:o,letterSpacing:s,fontName:a,fontSize:l}=Object.assign({},e.styleDefaults,r);if(!VT.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new qb(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new gw((()=>{this.dirty=!0}),this,0,0),this._roundPixels=Yp.ROUND_PIXELS,this.dirty=!0,this._resolution=Yp.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=VT.available[this._fontName],t=this.fontSize,r=t/e.size,n=new ew,i=[],o=[],s=[],a=UT(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,u="none"===e.distanceFieldType?GT:HT;let c=null,d=0,h=0,f=0,p=-1,m=0,g=0,v=0,y=0;for(let A=0;A<a.length;A++){const t=a[A],r=jT(t);if(/(?:\s)/.test(t)&&(p=A,m=d,y++),"\r"===t||"\n"===t){o.push(d),s.push(-1),h=Math.max(h,d),++f,++g,n.x=0,n.y+=e.lineHeight,c=null,y=0;continue}const u=e.chars[r];if(!u)continue;c&&u.kerning[c]&&(n.x+=u.kerning[c]);const b=WT.pop()||{texture:ux.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ew};b.texture=u.texture,b.line=f,b.charCode=r,b.position.x=Math.round(n.x+u.xOffset+this._letterSpacing/2),b.position.y=Math.round(n.y+u.yOffset),b.prevSpaces=y,i.push(b),d=b.position.x+Math.max(u.xAdvance-u.xOffset,u.texture.orig.width),n.x+=u.xAdvance+this._letterSpacing,v=Math.max(v,u.yOffset+u.texture.height),c=r,-1!==p&&l>0&&n.x>l&&(++g,s_(i,1+p-g,1+A-p),A=p,p=-1,o.push(m),s.push(i.length>0?i[i.length-1].prevSpaces:0),h=Math.max(h,m),f++,n.x=0,n.y+=e.lineHeight,c=null,y=0)}const b=a[a.length-1];"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(d=m),o.push(d),h=Math.max(h,d),s.push(-1));const _=[];for(let A=0;A<=f;A++){let e=0;"right"===this._align?e=h-o[A]:"center"===this._align?e=(h-o[A])/2:"justify"===this._align&&(e=s[A]<0?0:(h-o[A])/s[A]),_.push(e)}const w=i.length,x={},E=[],C=this._activePagesMeshData;u.push(...C);for(let A=0;A<w;A++){const t=i[A].texture,r=t.baseTexture.uid;if(!x[r]){let n=u.pop();if(!n){const t=new VD;let r,i;"none"===e.distanceFieldType?(r=new GD(ux.EMPTY),i=Op.NORMAL):(r=new GD(ux.EMPTY,{program:zw.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),i=Op.NORMAL_NPM);const o=new zD(t,r);o.blendMode=i,n={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:o,vertices:null,uvs:null,indices:null}}n.index=0,n.indexCount=0,n.vertexCount=0,n.uvsCount=0,n.total=0;const{_textureCache:i}=this;i[r]=i[r]||new ux(t.baseTexture),n.mesh.texture=i[r],n.mesh.tint=this._tintColor.value,E.push(n),x[r]=n}x[r].total++}for(let A=0;A<C.length;A++)E.includes(C[A])||this.removeChild(C[A].mesh);for(let A=0;A<E.length;A++)E[A].mesh.parent!==this&&this.addChild(E[A].mesh);this._activePagesMeshData=E;for(const A in x){const e=x[A],t=e.total;if(!(e.indices?.length>6*t)||e.vertices.length<2*zD.BATCHABLE_SIZE)e.vertices=new Float32Array(8*t),e.uvs=new Float32Array(8*t),e.indices=new Uint16Array(6*t);else{const t=e.total,r=e.vertices;for(let e=4*t*2;e<r.length;e++)r[e]=0}e.mesh.size=6*t}for(let A=0;A<w;A++){const e=i[A];let t=e.position.x+_[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(t=Math.round(t));const n=t*r,o=e.position.y*r,s=e.texture,a=x[s.baseTexture.uid],l=s.frame,u=s._uvs,c=a.index++;a.indices[6*c+0]=0+4*c,a.indices[6*c+1]=1+4*c,a.indices[6*c+2]=2+4*c,a.indices[6*c+3]=0+4*c,a.indices[6*c+4]=2+4*c,a.indices[6*c+5]=3+4*c,a.vertices[8*c+0]=n,a.vertices[8*c+1]=o,a.vertices[8*c+2]=n+l.width*r,a.vertices[8*c+3]=o,a.vertices[8*c+4]=n+l.width*r,a.vertices[8*c+5]=o+l.height*r,a.vertices[8*c+6]=n,a.vertices[8*c+7]=o+l.height*r,a.uvs[8*c+0]=u.x0,a.uvs[8*c+1]=u.y0,a.uvs[8*c+2]=u.x1,a.uvs[8*c+3]=u.y1,a.uvs[8*c+4]=u.x2,a.uvs[8*c+5]=u.y2,a.uvs[8*c+6]=u.x3,a.uvs[8*c+7]=u.y3}this._textWidth=h*r,this._textHeight=(n.y+e.lineHeight)*r;for(const A in x){const e=x[A];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const r=this._textWidth*this.anchor.x,n=this._textHeight*this.anchor.y;for(let i=0;i<e.total;i++)e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n}this._maxLineHeight=v*r;const t=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),i=e.mesh.geometry.getIndex();t.data=e.vertices,n.data=e.uvs,i.data=e.indices,t.update(),n.update(),i.update()}for(let A=0;A<i.length;A++)WT.push(i[A]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:n}=VT.available[this._fontName];if("none"!==r){const{a:r,b:i,c:o,d:s}=this.worldTransform,a=Math.sqrt(r*r+i*i),l=Math.sqrt(o*o+s*s),u=(Math.abs(a)+Math.abs(l))/2,c=this.fontSize/n,d=e._view.resolution;for(const e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=u*t*c*d}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=VT.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!VT.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??VT.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r="none"===VT.available[this._fontName].distanceFieldType?GT:HT;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter((e=>t[e.mesh.texture.baseTexture.uid])).forEach((e=>{e.mesh.texture=ux.EMPTY}));for(const n in t)t[n].destroy(),delete t[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};$T.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let XT=$T;const qT=[".xml",".fnt"],KT={extension:{type:E_.LoadParser,priority:RC.Normal},name:"loadBitmapFont",test:e=>qT.includes(mb.extname(e).toLowerCase()),testParse:async e=>BT.test(e)||FT.test(e),async parse(e,t,r){const n=BT.test(e)?BT.parse(e):FT.parse(e),{src:i}=t,{page:o}=n,s=[];for(let u=0;u<o.length;++u){const e=o[u].file;let t=mb.join(mb.dirname(i),e);t=AC(t,i),s.push(t)}const a=await r.load(s),l=s.map((e=>a[e]));return VT.install(n,l,!0)},load:async(e,t)=>(await Yp.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};D_.add(KT);const YT=class e extends tT{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce(((e,r)=>({...e,[r]:t[r]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,r={}){const{availableFonts:n}=e;if(n[t]){const e=n[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Yp.ADAPTER.fetch(t).then((e=>e.blob())).then((async e=>new Promise(((t,r)=>{const n=URL.createObjectURL(e),i=new FileReader;i.onload=()=>t([n,i.result]),i.onerror=r,i.readAsDataURL(e)})))).then((async([e,i])=>{const o=Object.assign({family:mb.basename(t,mb.extname(t)),weight:"normal",style:"normal",display:"auto",src:e,dataSrc:i,refs:1,originalUrl:t,fontFace:null},r);n[t]=o,this._fonts.push(o),this.styleID++;const s=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=s,await s.load(),document.fonts.add(s),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...e){const t=e.filter((e=>!this._overrides.includes(e)));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter((e=>this._overrides.includes(e)));t.length>0&&(this._overrides=this._overrides.filter((e=>!t.includes(e))),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((e,t)=>`${e}\n            @font-face {\n                font-family: "${t.family}";\n                src: url('${t.dataSrc}');\n                font-weight: ${t.weight};\n                font-style: ${t.style};\n                font-display: ${t.display};\n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Yb(e)),"number"==typeof e?Kb(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${i} ${e}`}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((e=>setTimeout(e,100))):Promise.resolve()}get isSafari(){const{userAgent:e}=Yp.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};YT.availableFonts={},YT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ZT=YT;const QT=class e extends GE{constructor(t="",r={}){super(ux.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ux.from(n,{scaleMode:Yp.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new rw,i.trim=new rw,this.texture=i;const o="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject"),u=document.createElementNS(s,"div"),c=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=e.defaultResolution??Yp.RESOLUTION,this.text=t,this.style=r}measureText(e){const{text:t,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:s}=i;(o>this.maxWidth||s>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const a=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(s));return this._svgRoot.setAttribute("width",a.toString()),this._svgRoot.setAttribute("height",l.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(n)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:a+2*r.padding,height:l+2*r.padding}}async updateText(e=!0){const{style:t,_image:r,_loadImage:n}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:i,height:o}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const s=this._updateID;await new Promise((e=>{n.onload=async()=>{s<this._updateID||(await t.onBeforeDraw(),r.src=n.src,n.onload=null,n.src="",this.updateTexture()),e()};const i=(new XMLSerializer).serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(i)}`}))}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:n}=this,{padding:i}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=r.width/n,t.trim.height=t._frame.height=r.height/n,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(r.width,r.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t);const r=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=r,this._svgRoot?.remove(),this._svgRoot=r,this._domElement?.remove(),this._domElement=r,this._foreignObject?.remove(),this._foreignObject=r,this._styleElement?.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=a_(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=a_(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof ZT?(this.ownsStyle=!1,this._style=e):e instanceof tT?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ZT.from(e)):(this.ownsStyle=!0,this._style=new ZT(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};QT.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},QT.defaultMaxWidth=2024,QT.defaultMaxHeight=2024,QT.defaultAutoResolution=!0;let JT=QT;const eS=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:zp,AbstractMultiResource:CE,AccessibilityManager:gC,AlphaFilter:$E,AnimatedSprite:wT,Application:yC,ArrayResource:AE,Assets:iA,AssetsClass:nA,Attribute:G_,BLEND_MODES:Op,BUFFER_BITS:Rp,BUFFER_TYPE:qp,BackgroundSystem:Qw,BaseImageResource:ix,BasePrepare:gT,BaseRenderTexture:nx,BaseTexture:j_,BatchDrawCall:U_,BatchGeometry:K_,BatchRenderer:Kw,BatchShaderGenerator:Ww,BatchSystem:Jw,BatchTextureArray:$w,BitmapFont:VT,BitmapFontData:OT,BitmapText:XT,BlobResource:EA,BlurFilter:YE,BlurFilterPass:KE,Bounds:ME,BrowserAdapter:Kp,Buffer:V_,BufferResource:I_,BufferSystem:_E,CLEAR_MODES:Vp,COLOR_MASK_BITS:$p,Cache:kC,CanvasResource:DE,Circle:nw,Color:qb,ColorMatrixFilter:ZE,CompressedTextureResource:CA,Container:UE,ContextSystem:tx,CountLimiter:aT,CubeResource:SE,DEG_TO_RAD:Q_,DRAW_MODES:Bp,DisplacementFilter:QE,DisplayObject:FE,ENV:kp,Ellipse:iw,EventBoundary:uC,EventSystem:hC,ExtensionType:E_,Extract:aD,FORMATS:Mp,FORMATS_TO_COMPONENTS:QA,FXAAFilter:JE,FederatedDisplayObject:pC,FederatedEvent:nC,FederatedMouseEvent:iC,FederatedPointerEvent:oC,FederatedWheelEvent:sC,FillStyle:RD,Filter:Zw,FilterState:px,FilterSystem:vx,Framebuffer:rx,FramebufferSystem:_x,GC_MODES:Gp,GLFramebuffer:yx,GLProgram:Vx,GLTexture:oE,GRAPHICS_CURVES:gD,GenerateTextureSystem:Lx,Geometry:q_,GeometrySystem:xx,Graphics:FD,GraphicsData:TD,GraphicsGeometry:PD,HTMLText:JT,HTMLTextStyle:ZT,IGLUniformData:class{},INSTALLED:O_,INTERNAL_FORMATS:vA,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:yA,ImageBitmapResource:kE,ImageResource:ox,LINE_CAP:pD,LINE_JOIN:fD,LineStyle:OD,LoaderParserPriority:RC,MASK_TYPES:Wp,MIPMAP_MODES:Up,MSAA_QUALITY:Xp,MaskData:Dx,MaskSystem:Tx,Matrix:aw,Mesh:zD,MeshBatchUvs:ND,MeshGeometry:VD,MeshMaterial:GD,MultisampleSystem:yE,NineSlicePlane:class extends $D{constructor(e,t,r,n,i){super(ux.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??10,this._rightWidth=n??e.defaultBorders?.right??10,this._topHeight=r??e.defaultBorders?.top??10,this._bottomHeight=i??e.defaultBorders?.bottom??10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(t,n)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}},NoiseFilter:eC,ObjectRenderer:Xw,ObjectRendererSystem:wE,ObservablePoint:gw,PI_2:Y_,PRECISION:Hp,ParticleContainer:class extends UE{constructor(e=1500,t,r=16384,n=!1){super(),r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Op.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new qb(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}},ParticleRenderer:qD,PlaneGeometry:HD,PluginSystem:Mx,Point:ew,Polygon:ow,Prepare:_T,Program:zw,ProjectionSystem:Fx,Quad:hx,QuadUv:fx,RAD_TO_DEG:Z_,RENDERER_TYPE:Pp,Rectangle:rw,RenderTexture:cx,RenderTexturePool:dx,RenderTextureSystem:zx,Renderer:EE,ResizePlugin:bC,Resource:F_,RopeGeometry:WD,RoundedRectangle:sw,Runner:M_,SAMPLER_TYPES:Np,SCALE_MODES:Lp,SHAPES:J_,SVGResource:RE,ScissorSystem:Ox,Shader:Hw,ShaderSystem:Qx,SimpleMesh:class extends zD{constructor(e=ux.EMPTY,t,r,n,i){const o=new VD(t,r,n);o.getBuffer("aVertexPosition").static=!1,super(o,new GD(e),null,i),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}},SimplePlane:$D,SimpleRope:class extends zD{constructor(e,t,r=0){const n=new WD(e.height,t,r),i=new GD(e);r>0&&(e.baseTexture.wrapMode=jp.REPEAT),super(n,i),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}},Sprite:GE,SpriteMaskFilter:Ax,Spritesheet:ST,StartupSystem:Jx,State:R_,StateSystem:tE,StencilSystem:Bx,SystemManager:rE,TARGETS:Fp,TEXT_GRADIENT:KD,TYPES:Ip,TYPES_TO_BYTES_PER_COMPONENT:ZA,TYPES_TO_BYTES_PER_PIXEL:JA,TemporaryDisplayObject:IE,Text:sT,TextFormat:BT,TextMetrics:QD,TextStyle:tT,Texture:ux,TextureGCSystem:iE,TextureMatrix:Cx,TextureSystem:sE,TextureUvs:sx,Ticker:hE,TickerPlugin:fE,TilingSprite:ET,TilingSpriteRenderer:DT,TimeLimiter:class{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}},Transform:yw,TransformFeedback:class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new M_("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}},TransformFeedbackSystem:aE,UPDATE_PRIORITY:uE,UniformGroup:Gw,VERSION:"7.3.2",VideoResource:BE,ViewSystem:lE,ViewableBuffer:T_,WRAP_MODES:jp,XMLFormat:MT,XMLStringFormat:FT,accessibleTarget:mC,autoDetectFormat:NT,autoDetectRenderer:mE,autoDetectResource:B_,cacheTextureArray:oA,checkDataUrl:xC,checkExtension:EC,checkMaxIfStatementsInShader:P_,convertToList:CC,copySearchParams:AC,createStringVariations:TC,createTexture:XC,createUBOElements:Xx,curves:mD,defaultFilterVertex:vE,defaultVertex:gE,detectAvif:aA,detectCompressedTextures:xA,detectDefaults:cA,detectMp4:pA,detectOgv:mA,detectWebm:fA,detectWebp:lA,extensions:D_,filters:tC,generateProgram:Gx,generateUniformBufferSync:Kx,getFontFamilyName:LC,getTestContext:Sw,getUBOData:qx,graphicsUtils:ID,groupD8:mw,isMobile:pm,isSingleItem:SC,loadBitmapFont:KT,loadDDS:rD,loadImageBitmap:YC,loadJson:OC,loadKTX:nD,loadSVG:QC,loadTextures:ZC,loadTxt:BC,loadVideo:tA,loadWebFont:UC,parseDDS:NA,parseKTX:eD,resolveCompressedTextureUrl:iD,resolveTextureUrl:gA,settings:Yp,spritesheetAsset:RT,uniformParsers:xw,unsafeEvalSupported:Nw,utils:x_},Symbol.toStringTag,{value:"Module"}));e("o",eS),e("n",((e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t}));var tS={exports:{}};!function(e){!function(t,r){e.exports?e.exports=r():t.log=r()}(n,(function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(she){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function a(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(n,s,l){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?o:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||a.apply(this,arguments)}function u(e,r,i){var o,a=this;r=null==r?"WARN":r;var u="loglevel";function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(i){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||l,a.getLevel=function(){return o},a.setLevel=function(r,i){if("string"==typeof r&&void 0!==a.levels[r.toUpperCase()]&&(r=a.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==i&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(i){}}}(r),s.call(a,r,e),typeof console===t&&r<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){r=e,c()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(r,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var d=c();null==d&&(d=r),a.setLevel(d,!1)}var c=new u,d={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,c.getLevel(),c.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=h),c},c.getLoggers=function(){return d},c.default=c,c}))}(tS),e("l",i(tS.exports));const rS=class extends Zw{constructor(e,t=0){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n"),this.seed=0,this.uniforms.dimensions=new Float32Array(2),"number"==typeof e?(this.seed=e,e=void 0):this.seed=t,Object.assign(this,rS.defaults,e)}apply(e,t,r,n){var i,o;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(o=t.filterFrame)?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,r,n)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};e("a",rS).defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};const nS="object"==typeof global&&global&&global.Object===Object&&global;var iS="object"==typeof self&&self&&self.Object===Object&&self;const oS=nS||iS||Function("return this")(),sS=oS.Symbol;var aS=Object.prototype,lS=aS.hasOwnProperty,uS=aS.toString,cS=sS?sS.toStringTag:void 0,dS=Object.prototype.toString,hS="[object Null]",fS="[object Undefined]",pS=sS?sS.toStringTag:void 0;function mS(e){return null==e?void 0===e?fS:hS:pS&&pS in Object(e)?function(e){var t=lS.call(e,cS),r=e[cS];try{e[cS]=void 0;var n=!0}catch(she){}var i=uS.call(e);return n&&(t?e[cS]=r:delete e[cS]),i}(e):function(e){return dS.call(e)}(e)}function gS(e){return null!=e&&"object"==typeof e}const vS=Array.isArray;function yS(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function bS(e){return e}var _S="[object AsyncFunction]",wS="[object Function]",xS="[object GeneratorFunction]",ES="[object Proxy]";function CS(e){if(!yS(e))return!1;var t=mS(e);return t==wS||t==xS||t==_S||t==ES}const AS=oS["__core-js_shared__"];var DS=function(){var e=/[^.]+$/.exec(AS&&AS.keys&&AS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),TS=Function.prototype.toString;function SS(e){if(null!=e){try{return TS.call(e)}catch(she){}try{return e+""}catch(she){}}return""}var kS=/^\[object .+?Constructor\]$/,PS=Function.prototype,RS=Object.prototype,OS=PS.toString,BS=RS.hasOwnProperty,MS=RegExp("^"+OS.call(BS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FS(e){return!(!yS(e)||(t=e,DS&&DS in t))&&(CS(e)?MS:kS).test(SS(e));var t}function IS(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return FS(r)?r:void 0}const NS=IS(oS,"WeakMap");var LS=Object.create;const jS=function(){function e(){}return function(t){if(!yS(t))return{};if(LS)return LS(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function US(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var zS=Date.now;const VS=function(){try{var e=IS(Object,"defineProperty");return e({},"",{}),e}catch(she){}}();var GS=VS?function(e,t){return VS(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:bS,HS=function(e){var t=0,r=0;return function(){var n=zS(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(GS);const WS=HS;var $S=9007199254740991,XS=/^(?:0|[1-9]\d*)$/;function qS(e,t){var r=typeof e;return!!(t=null==t?$S:t)&&("number"==r||"symbol"!=r&&XS.test(e))&&e>-1&&e%1==0&&e<t}function KS(e,t,r){"__proto__"==t&&VS?VS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function YS(e,t){return e===t||e!=e&&t!=t}var ZS=Object.prototype.hasOwnProperty;function QS(e,t,r){var n=e[t];ZS.call(e,t)&&YS(n,r)&&(void 0!==r||t in e)||KS(e,t,r)}function JS(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?KS(r,a,l):QS(r,a,l)}return r}var ek=Math.max;function tk(e,t){return WS(function(e,t,r){return t=ek(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=ek(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(e,t,bS),e+"")}var rk=9007199254740991;function nk(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=rk}function ik(e){return null!=e&&nk(e.length)&&!CS(e)}var ok=Object.prototype;function sk(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ok)}function ak(e){return gS(e)&&"[object Arguments]"==mS(e)}var lk=Object.prototype,uk=lk.hasOwnProperty,ck=lk.propertyIsEnumerable,dk=ak(function(){return arguments}())?ak:function(e){return gS(e)&&uk.call(e,"callee")&&!ck.call(e,"callee")};const hk=dk;var fk="object"==typeof e&&e&&!e.nodeType&&e,pk=fk&&"object"==typeof t&&t&&!t.nodeType&&t,mk=pk&&pk.exports===fk?oS.Buffer:void 0;const gk=(mk?mk.isBuffer:void 0)||function(){return!1};var vk={};function yk(e){return function(t){return e(t)}}vk["[object Float32Array]"]=vk["[object Float64Array]"]=vk["[object Int8Array]"]=vk["[object Int16Array]"]=vk["[object Int32Array]"]=vk["[object Uint8Array]"]=vk["[object Uint8ClampedArray]"]=vk["[object Uint16Array]"]=vk["[object Uint32Array]"]=!0,vk["[object Arguments]"]=vk["[object Array]"]=vk["[object ArrayBuffer]"]=vk["[object Boolean]"]=vk["[object DataView]"]=vk["[object Date]"]=vk["[object Error]"]=vk["[object Function]"]=vk["[object Map]"]=vk["[object Number]"]=vk["[object Object]"]=vk["[object RegExp]"]=vk["[object Set]"]=vk["[object String]"]=vk["[object WeakMap]"]=!1;var bk="object"==typeof e&&e&&!e.nodeType&&e,_k=bk&&"object"==typeof t&&t&&!t.nodeType&&t,wk=_k&&_k.exports===bk&&nS.process;const xk=function(){try{var e=_k&&_k.require&&_k.require("util").types;return e||wk&&wk.binding&&wk.binding("util")}catch(she){}}();var Ek=xk&&xk.isTypedArray;const Ck=Ek?yk(Ek):function(e){return gS(e)&&nk(e.length)&&!!vk[mS(e)]};var Ak=Object.prototype.hasOwnProperty;function Dk(e,t){var r=vS(e),n=!r&&hk(e),i=!r&&!n&&gk(e),o=!r&&!n&&!i&&Ck(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=a.length;for(var u in e)!t&&!Ak.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||qS(u,l))||a.push(u);return a}function Tk(e,t){return function(r){return e(t(r))}}const Sk=Tk(Object.keys,Object);var kk=Object.prototype.hasOwnProperty;function Pk(e){return ik(e)?Dk(e):function(e){if(!sk(e))return Sk(e);var t=[];for(var r in Object(e))kk.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var Rk=Object.prototype.hasOwnProperty;function Ok(e){if(!yS(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=sk(e),r=[];for(var n in e)("constructor"!=n||!t&&Rk.call(e,n))&&r.push(n);return r}function Bk(e){return ik(e)?Dk(e,!0):Ok(e)}const Mk=IS(Object,"create");var Fk=Object.prototype.hasOwnProperty,Ik=Object.prototype.hasOwnProperty;function Nk(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Lk(e,t){for(var r=e.length;r--;)if(YS(e[r][0],t))return r;return-1}Nk.prototype.clear=function(){this.__data__=Mk?Mk(null):{},this.size=0},Nk.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nk.prototype.get=function(e){var t=this.__data__;if(Mk){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Fk.call(t,e)?t[e]:void 0},Nk.prototype.has=function(e){var t=this.__data__;return Mk?void 0!==t[e]:Ik.call(t,e)},Nk.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Mk&&void 0===t?"__lodash_hash_undefined__":t,this};var jk=Array.prototype.splice;function Uk(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uk.prototype.clear=function(){this.__data__=[],this.size=0},Uk.prototype.delete=function(e){var t=this.__data__,r=Lk(t,e);return!(r<0||(r==t.length-1?t.pop():jk.call(t,r,1),--this.size,0))},Uk.prototype.get=function(e){var t=this.__data__,r=Lk(t,e);return r<0?void 0:t[r][1]},Uk.prototype.has=function(e){return Lk(this.__data__,e)>-1},Uk.prototype.set=function(e,t){var r=this.__data__,n=Lk(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};const zk=IS(oS,"Map");function Vk(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Gk(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hk(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}Gk.prototype.clear=function(){this.size=0,this.__data__={hash:new Nk,map:new(zk||Uk),string:new Nk}},Gk.prototype.delete=function(e){var t=Vk(this,e).delete(e);return this.size-=t?1:0,t},Gk.prototype.get=function(e){return Vk(this,e).get(e)},Gk.prototype.has=function(e){return Vk(this,e).has(e)},Gk.prototype.set=function(e,t){var r=Vk(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};const Wk=Tk(Object.getPrototypeOf,Object);var $k="[object Object]",Xk=Function.prototype,qk=Object.prototype,Kk=Xk.toString,Yk=qk.hasOwnProperty,Zk=Kk.call(Object);function Qk(e){var t=this.__data__=new Uk(e);this.size=t.size}Qk.prototype.clear=function(){this.__data__=new Uk,this.size=0},Qk.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Qk.prototype.get=function(e){return this.__data__.get(e)},Qk.prototype.has=function(e){return this.__data__.has(e)},Qk.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Uk){var n=r.__data__;if(!zk||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gk(n)}return r.set(e,t),this.size=r.size,this};var Jk="object"==typeof e&&e&&!e.nodeType&&e,eP=Jk&&"object"==typeof t&&t&&!t.nodeType&&t,tP=eP&&eP.exports===Jk?oS.Buffer:void 0,rP=tP?tP.allocUnsafe:void 0;function nP(e,t){if(t)return e.slice();var r=e.length,n=rP?rP(r):new e.constructor(r);return e.copy(n),n}function iP(){return[]}var oP=Object.prototype.propertyIsEnumerable,sP=Object.getOwnPropertySymbols,aP=sP?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}(sP(e),(function(t){return oP.call(e,t)})))}:iP;const lP=aP,uP=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Hk(t,lP(e)),e=Wk(e);return t}:iP;function cP(e,t,r){var n=t(e);return vS(e)?n:Hk(n,r(e))}function dP(e){return cP(e,Pk,lP)}function hP(e){return cP(e,Bk,uP)}const fP=IS(oS,"DataView"),pP=IS(oS,"Promise"),mP=IS(oS,"Set");var gP="[object Map]",vP="[object Promise]",yP="[object Set]",bP="[object WeakMap]",_P="[object DataView]",wP=SS(fP),xP=SS(zk),EP=SS(pP),CP=SS(mP),AP=SS(NS),DP=mS;(fP&&DP(new fP(new ArrayBuffer(1)))!=_P||zk&&DP(new zk)!=gP||pP&&DP(pP.resolve())!=vP||mP&&DP(new mP)!=yP||NS&&DP(new NS)!=bP)&&(DP=function(e){var t=mS(e),r="[object Object]"==t?e.constructor:void 0,n=r?SS(r):"";if(n)switch(n){case wP:return _P;case xP:return gP;case EP:return vP;case CP:return yP;case AP:return bP}return t});const TP=DP;var SP=Object.prototype.hasOwnProperty;const kP=oS.Uint8Array;function PP(e){var t=new e.constructor(e.byteLength);return new kP(t).set(new kP(e)),t}var RP=/\w*$/,OP=sS?sS.prototype:void 0,BP=OP?OP.valueOf:void 0;function MP(e,t){var r=t?PP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var FP="[object Boolean]",IP="[object Date]",NP="[object Map]",LP="[object Number]",jP="[object RegExp]",UP="[object Set]",zP="[object String]",VP="[object Symbol]",GP="[object ArrayBuffer]",HP="[object DataView]",WP="[object Float32Array]",$P="[object Float64Array]",XP="[object Int8Array]",qP="[object Int16Array]",KP="[object Int32Array]",YP="[object Uint8Array]",ZP="[object Uint8ClampedArray]",QP="[object Uint16Array]",JP="[object Uint32Array]";function eR(e,t,r){var n,i,o,s=e.constructor;switch(t){case GP:return PP(e);case FP:case IP:return new s(+e);case HP:return function(e,t){var r=t?PP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case WP:case $P:case XP:case qP:case KP:case YP:case ZP:case QP:case JP:return MP(e,r);case NP:return new s;case LP:case zP:return new s(e);case jP:return(o=new(i=e).constructor(i.source,RP.exec(i))).lastIndex=i.lastIndex,o;case UP:return new s;case VP:return n=e,BP?Object(BP.call(n)):{}}}function tR(e){return"function"!=typeof e.constructor||sk(e)?{}:jS(Wk(e))}var rR=xk&&xk.isMap;const nR=rR?yk(rR):function(e){return gS(e)&&"[object Map]"==TP(e)};var iR=xk&&xk.isSet;const oR=iR?yk(iR):function(e){return gS(e)&&"[object Set]"==TP(e)};var sR=1,aR=2,lR=4,uR="[object Arguments]",cR="[object Function]",dR="[object GeneratorFunction]",hR="[object Object]",fR={};function pR(e,t,r,n,i,o){var s,a=t&sR,l=t&aR,u=t&lR;if(r&&(s=i?r(e,n,i,o):r(e)),void 0!==s)return s;if(!yS(e))return e;var c=vS(e);if(c){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&SP.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!a)return US(e,s)}else{var d=TP(e),h=d==cR||d==dR;if(gk(e))return nP(e,a);if(d==hR||d==uR||h&&!i){if(s=l||h?{}:tR(e),!a)return l?function(e,t){return JS(e,uP(e),t)}(e,function(e,t){return e&&JS(t,Bk(t),e)}(s,e)):function(e,t){return JS(e,lP(e),t)}(e,function(e,t){return e&&JS(t,Pk(t),e)}(s,e))}else{if(!fR[d])return i?e:{};s=eR(e,d,a)}}o||(o=new Qk);var f=o.get(e);if(f)return f;o.set(e,s),oR(e)?e.forEach((function(n){s.add(pR(n,t,r,n,e,o))})):nR(e)&&e.forEach((function(n,i){s.set(i,pR(n,t,r,i,e,o))}));var p=c?void 0:(u?l?hP:dP:l?Bk:Pk)(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(p||e,(function(n,i){p&&(n=e[i=n]),QS(s,i,pR(n,t,r,i,e,o))})),s}fR[uR]=fR["[object Array]"]=fR["[object ArrayBuffer]"]=fR["[object DataView]"]=fR["[object Boolean]"]=fR["[object Date]"]=fR["[object Float32Array]"]=fR["[object Float64Array]"]=fR["[object Int8Array]"]=fR["[object Int16Array]"]=fR["[object Int32Array]"]=fR["[object Map]"]=fR["[object Number]"]=fR[hR]=fR["[object RegExp]"]=fR["[object Set]"]=fR["[object String]"]=fR["[object Symbol]"]=fR["[object Uint8Array]"]=fR["[object Uint8ClampedArray]"]=fR["[object Uint16Array]"]=fR["[object Uint32Array]"]=!0,fR["[object Error]"]=fR[cR]=fR["[object WeakMap]"]=!1;var mR,gR=1,vR=4,yR=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[mR?s:++n];if(!1===t(i[a],a,i))break}return e};const bR=yR;function _R(e,t,r){(void 0!==r&&!YS(e[t],r)||void 0===r&&!(t in e))&&KS(e,t,r)}function wR(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function xR(e,t,r,n,i,o,s){var a=wR(e,r),l=wR(t,r),u=s.get(l);if(u)_R(e,r,u);else{var c,d=o?o(a,l,r+"",e,t,s):void 0,h=void 0===d;if(h){var f=vS(l),p=!f&&gk(l),m=!f&&!p&&Ck(l);d=l,f||p||m?vS(a)?d=a:gS(c=a)&&ik(c)?d=US(a):p?(h=!1,d=nP(l,!0)):m?(h=!1,d=MP(l,!0)):d=[]:function(e){if(!gS(e)||mS(e)!=$k)return!1;var t=Wk(e);if(null===t)return!0;var r=Yk.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Kk.call(r)==Zk}(l)||hk(l)?(d=a,hk(a)?d=function(e){return JS(e,Bk(e))}(a):yS(a)&&!CS(a)||(d=tR(l))):h=!1}h&&(s.set(l,d),i(d,l,n,o,s),s.delete(l)),_R(e,r,d)}}function ER(e,t,r,n,i){e!==t&&bR(t,(function(o,s){if(i||(i=new Qk),yS(o))xR(e,t,s,r,ER,n,i);else{var a=n?n(wR(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),_R(e,s,a)}}),Bk)}var CR,AR=(CR=function(e,t,r){ER(e,t,r)},tk((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=CR.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!yS(r))return!1;var n=typeof t;return!!("number"==n?ik(r)&&qS(t,r.length):"string"==n&&t in r)&&YS(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var s=t[r];s&&CR(e,s,r,i)}return e})));function DR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
			 * GSAP 3.12.2
			 * https://greensock.com
			 *
			 * @license Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/e("m",AR);var SR,kR,PR,RR,OR,BR,MR,FR,IR,NR,LR,jR={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},UR={duration:.5,overwrite:!1,delay:0},zR=1e8,VR=1e-8,GR=2*Math.PI,HR=GR/4,WR=0,$R=Math.sqrt,XR=Math.cos,qR=Math.sin,KR=function(e){return"string"==typeof e},YR=function(e){return"function"==typeof e},ZR=function(e){return"number"==typeof e},QR=function(e){return void 0===e},JR=function(e){return"object"==typeof e},eO=function(e){return!1!==e},tO=function(){return"undefined"!=typeof window},rO=function(e){return YR(e)||KR(e)},nO="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},iO=Array.isArray,oO=/(?:-?\.?\d|\.)+/gi,sO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,aO=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,lO=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,uO=/[+-]=-?[.\d]+/,cO=/[^,'"\[\]\s]+/gi,dO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,hO={},fO={},pO=function(e){return(fO=GO(e,hO))&&HM},mO=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},gO=function(e,t){return!t&&console.warn(e)},vO=function(e,t){return e&&(hO[e]=t)&&fO&&(fO[e]=t)||hO},yO=function(){return 0},bO={suppressEvents:!0,isStart:!0,kill:!1},_O={suppressEvents:!0,kill:!1},wO={suppressEvents:!0},xO={},EO=[],CO={},AO={},DO={},TO=30,SO=[],kO="",PO=function(e){var t,r,n=e[0];if(JR(n)||YR(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=SO.length;r--&&!SO[r].targetTest(n););t=SO[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new iM(e[r],t)))||e.splice(r,1);return e},RO=function(e){return e._gsap||PO(wB(e))[0]._gsap},OO=function(e,t,r){return(r=e[t])&&YR(r)?e[t]():QR(r)&&e.getAttribute&&e.getAttribute(t)||r},BO=function(e,t){return(e=e.split(",")).forEach(t)||e},MO=function(e){return Math.round(1e5*e)/1e5||0},FO=function(e){return Math.round(1e7*e)/1e7||0},IO=function(e,t){var r=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+n:"-"===r?e-n:"*"===r?e*n:e/n},NO=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},LO=function(){var e,t,r=EO.length,n=EO.slice(0);for(CO={},EO.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},jO=function(e,t,r,n){EO.length&&!kR&&LO(),e.render(t,r,n||kR&&t<0&&(e._initted||e._startAt)),EO.length&&!kR&&LO()},UO=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(cO).length<2?t:KR(e)?e.trim():e},zO=function(e){return e},VO=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},GO=function(e,t){for(var r in t)e[r]=t[r];return e},HO=function e(t,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=JR(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},WO=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},$O=function(e){var t,r=e.parent||RR,n=e.keyframes?(t=iO(e.keyframes),function(e,r){for(var n in r)n in e||"duration"===n&&t||"ease"===n||(e[n]=r[n])}):VO;if(eO(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},XO=function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var o,s=e[n];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=s,t.parent=t._dp=e,t},qO=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,o=t._next;i?i._next=o:e[r]===t&&(e[r]=o),o?o._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},KO=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},YO=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},ZO=function(e,t,r,n){return e._startAt&&(kR?e._startAt.revert(_O):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},QO=function e(t){return!t||t._ts&&e(t.parent)},JO=function(e){return e._repeat?eB(e._tTime,e=e.duration()+e._rDelay)*e:0},eB=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},tB=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},rB=function(e){return e._end=FO(e._start+(e._tDur/Math.abs(e._ts||e._rts||VR)||0))},nB=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=FO(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),rB(e),r._dirty||YO(r,e)),e},iB=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=tB(e.rawTime(),t),(!t._dur||gB(0,t.totalDuration(),r)-t._tTime>VR)&&t.render(r,!0)),YO(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},oB=function(e,t,r,n){return t.parent&&KO(t),t._start=FO((ZR(r)?r:r||e!==RR?fB(e,r,t):e._time)+t._delay),t._end=FO(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),XO(e,t,"_first","_last",e._sort?"_start":0),uB(t)||(e._recent=t),n||iB(e,t),e._ts<0&&nB(e,e._tTime),e},sB=function(e,t){return(hO.ScrollTrigger||mO("scrollTrigger",t))&&hO.ScrollTrigger.create(t,e)},aB=function(e,t,r,n,i){return hM(e,t,i),e._initted?!r&&e._pt&&!kR&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&IR!==WB.frame?(EO.push(e),e._lazy=[i,n],1):void 0:1},lB=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},uB=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},cB=function(e,t,r,n){var i=e._repeat,o=FO(t)||0,s=e._tTime/e._tDur;return s&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:FO(o*(i+1)+e._rDelay*i):o,s>0&&!n&&nB(e,e._tTime=e._tDur*s),e.parent&&rB(e),r||YO(e.parent,e),e},dB=function(e){return e instanceof sM?YO(e):cB(e,e._dur)},hB={_start:0,endTime:yO,totalDuration:yO},fB=function e(t,r,n){var i,o,s,a=t.labels,l=t._recent||hB,u=t.duration()>=zR?l.endTime(!1):t._dur;return KR(r)&&(isNaN(r)||r in a)?(o=r.charAt(0),s="%"===r.substr(-1),i=r.indexOf("="),"<"===o||">"===o?(i>=0&&(r=r.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(s?(i<0?l:n).totalDuration()/100:1)):i<0?(r in a||(a[r]=u),a[r]):(o=parseFloat(r.charAt(i-1)+r.substr(i+1)),s&&n&&(o=o/100*(iO(n)?n[0]:n).totalDuration()),i>1?e(t,r.substr(0,i-1),n)+o:u+o)):null==r?u:+r},pB=function(e,t,r){var n,i,o=ZR(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=r,e){for(n=a,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=eO(i.vars.inherit)&&i.parent;a.immediateRender=eO(n.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new vM(t[0],a,t[s+1])},mB=function(e,t){return e||0===e?t(e):t},gB=function(e,t,r){return r<e?e:r>t?t:r},vB=function(e,t){return KR(e)&&(t=dO.exec(e))?t[1]:""},yB=[].slice,bB=function(e,t){return e&&JR(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&JR(e[0]))&&!e.nodeType&&e!==OR},_B=function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return KR(e)&&!t||bB(e,1)?(n=r).push.apply(n,wB(e)):r.push(e)}))||r},wB=function(e,t,r){return PR&&!t&&PR.selector?PR.selector(e):!KR(e)||r||!BR&&$B()?iO(e)?_B(e,r):bB(e)?yB.call(e,0):e?[e]:[]:yB.call((t||MR).querySelectorAll(e),0)},xB=function(e){return e=wB(e)[0]||gO("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return wB(t,r.querySelectorAll?r:r===e?gO("Invalid scope")||MR.createElement("div"):e)}},EB=function(e){return e.sort((function(){return.5-Math.random()}))},CB=function(e){if(YR(e))return e;var t=JR(e)?e:{each:e},r=JB(t.ease),n=t.from||0,i=parseFloat(t.base)||0,o={},s=n>0&&n<1,a=isNaN(n)||s,l=t.axis,u=n,c=n;return KR(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!s&&a&&(u=n[0],c=n[1]),function(e,s,d){var h,f,p,m,g,v,y,b,_,w=(d||t).length,x=o[w];if(!x){if(!(_="auto"===t.grid?0:(t.grid||[1,zR])[1])){for(y=-1e8;y<(y=d[_++].getBoundingClientRect().left)&&_<w;);_--}for(x=o[w]=[],h=a?Math.min(_,w)*u-.5:n%_,f=_===zR?0:a?w*c/_-.5:n/_|0,y=0,b=zR,v=0;v<w;v++)p=v%_-h,m=f-(v/_|0),x[v]=g=l?Math.abs("y"===l?m:p):$R(p*p+m*m),g>y&&(y=g),g<b&&(b=g);"random"===n&&EB(x),x.max=y-b,x.min=b,x.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(_>w?w-1:l?"y"===l?w/_:_:Math.max(_,w/_))||0)*("edges"===n?-1:1),x.b=w<0?i-w:i,x.u=vB(t.amount||t.each)||0,r=r&&w<0?ZB(r):r}return w=(x[e]-x.min)/x.max||0,FO(x.b+(r?r(w):w)*x.v)+x.u}},AB=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var n=FO(Math.round(parseFloat(r)/e)*e*t);return(n-n%1)/t+(ZR(r)?0:vB(r))}},DB=function(e,t){var r,n,i=iO(e);return!i&&JR(e)&&(r=i=e.radius||zR,e.values?(e=wB(e.values),(n=!ZR(e[0]))&&(r*=r)):e=AB(e.increment)),mB(t,i?YR(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,o,s=parseFloat(n?t.x:t),a=parseFloat(n?t.y:0),l=zR,u=0,c=e.length;c--;)(i=n?(i=e[c].x-s)*i+(o=e[c].y-a)*o:Math.abs(e[c]-s))<l&&(l=i,u=c);return u=!r||l<=r?e[u]:t,n||u===t||ZR(t)?u:u+vB(t)}:AB(e))},TB=function(e,t,r,n){return mB(iO(e)?!t:!0===r?!!(r=0):!n,(function(){return iO(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*n)/n}))},SB=function(e,t,r){return mB(r,(function(r){return e[~~t(r)]}))},kB=function(e){for(var t,r,n,i,o=0,s="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?cO:oO),s+=e.substr(o,t-o)+TB(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),o=n+1;return s+e.substr(o,e.length-o)},PB=function(e,t,r,n,i){var o=t-e,s=n-r;return mB(i,(function(t){return r+((t-e)/o*s||0)}))},RB=function(e,t,r){var n,i,o,s=e.labels,a=zR;for(n in s)(i=s[n]-t)<0==!!r&&i&&a>(i=Math.abs(i))&&(o=n,a=i);return o},OB=function(e,t,r){var n,i,o,s=e.vars,a=s[t],l=PR,u=e._ctx;if(a)return n=s[t+"Params"],i=s.callbackScope||e,r&&EO.length&&LO(),u&&(PR=u),o=n?a.apply(i,n):a.call(i),PR=l,o},BB=function(e){return KO(e),e.scrollTrigger&&e.scrollTrigger.kill(!!kR),e.progress()<1&&OB(e,"onInterrupt"),e},MB=[],FB=function(e){if(tO()&&e){var t=(e=!e.name&&e.default||e).name,r=YR(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:yO,render:DM,add:cM,kill:SM,modifier:TM,rawVars:0},o={targetTest:0,get:0,getSetter:xM,aliases:{},register:0};if($B(),e!==n){if(AO[t])return;VO(n,VO(WO(e,i),o)),GO(n.prototype,GO(i,WO(e,o))),AO[n.prop=t]=n,e.targetTest&&(SO.push(n),xO[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}vO(t,n),e.register&&e.register(HM,n,RM)}else e&&MB.push(e)},IB=255,NB={aqua:[0,IB,IB],lime:[0,IB,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,IB],navy:[0,0,128],white:[IB,IB,IB],olive:[128,128,0],yellow:[IB,IB,0],orange:[IB,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[IB,0,0],pink:[IB,192,203],cyan:[0,IB,IB],transparent:[IB,IB,IB,0]},LB=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*IB+.5|0},jB=function(e,t,r){var n,i,o,s,a,l,u,c,d,h,f=e?ZR(e)?[e>>16,e>>8&IB,e&IB]:0:NB.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),NB[e])f=NB[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+n+n+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&IB,f&IB,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&IB,e&IB]}else if("hsl"===e.substr(0,3))if(f=h=e.match(oO),t){if(~e.indexOf("="))return f=e.match(sO),r&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,a=+f[1]/100,n=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=LB(s+1/3,n,i),f[1]=LB(s,n,i),f[2]=LB(s-1/3,n,i);else f=e.match(oO)||NB.transparent;f=f.map(Number)}return t&&!h&&(n=f[0]/IB,i=f[1]/IB,o=f[2]/IB,l=((u=Math.max(n,i,o))+(c=Math.min(n,i,o)))/2,u===c?s=a=0:(d=u-c,a=l>.5?d/(2-u-c):d/(u+c),s=u===n?(i-o)/d+(i<o?6:0):u===i?(o-n)/d+2:(n-i)/d+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),r&&f.length<4&&(f[3]=1),f},UB=function(e){var t=[],r=[],n=-1;return e.split(VB).forEach((function(e){var i=e.match(aO)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},zB=function(e,t,r){var n,i,o,s,a="",l=(e+a).match(VB),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=jB(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(o=UB(e),(n=r.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(VB,"1").split(aO)).length-1;c<s;c++)a+=i[c]+(~n.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:r).shift());if(!i)for(s=(i=e.split(VB)).length-1;c<s;c++)a+=i[c]+l[c];return a+i[s]},VB=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in NB)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),GB=/hsl[a]?\(/,HB=function(e){var t,r=e.join(" ");if(VB.lastIndex=0,VB.test(r))return t=GB.test(r),e[1]=zB(e[1],t),e[0]=zB(e[0],t,UB(e[1])),!0},WB=function(){var e,t,r,n,i,o,s=Date.now,a=500,l=33,u=s(),c=u,d=1e3/240,h=d,f=[],p=function r(p){var m,g,v,y,b=s()-c,_=!0===p;if(b>a&&(u+=b-l),((m=(v=(c+=b)-u)-h)>0||_)&&(y=++n.frame,i=v-1e3*n.time,n.time=v/=1e3,h+=m+(m>=d?4:d-m),g=1),_||(e=t(r)),g)for(o=0;o<f.length;o++)f[o](v,i,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){FR&&(!BR&&tO()&&(OR=BR=window,MR=OR.document||{},hO.gsap=HM,(OR.gsapVersions||(OR.gsapVersions=[])).push(HM.version),pO(fO||OR.GreenSockGlobals||!OR.gsap&&OR||{}),r=OR.requestAnimationFrame,MB.forEach(FB)),e&&n.sleep(),t=r||function(e){return setTimeout(e,h-1e3*n.time+1|0)},LR=1,p(2))},sleep:function(){(r?OR.cancelAnimationFrame:clearTimeout)(e),LR=0,t=yO},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){d=1e3/(e||240),h=1e3*n.time+d},add:function(e,t,r){var i=t?function(t,r,o,s){e(t,r,o,s),n.remove(i)}:e;return n.remove(e),f[r?"unshift":"push"](i),$B(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&o>=t&&o--},_listeners:f},n}(),$B=function(){return!LR&&WB.wake()},XB={},qB=/^[\d.\-M][\d.\-,\s]/,KB=/["']/g,YB=function(e){for(var t,r,n,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)r=o[a],t=a!==l-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[s]=isNaN(n)?n.replace(KB,"").trim():+n,s=r.substr(t+1).trim();return i},ZB=function(e){return function(t){return 1-e(1-t)}},QB=function e(t,r){for(var n,i=t._first;i;)i instanceof sM?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},JB=function(e,t){return e&&(YR(e)?e:XB[e]||function(e){var t,r,n,i,o=(e+"").split("("),s=XB[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[YB(o[1])]:(t=e,r=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",r),t.substring(r,~i&&i<n?t.indexOf(")",n+1):n)).split(",").map(UO)):XB._CE&&qB.test(e)?XB._CE("",e):s}(e))||t},eM=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:r,easeInOut:n};return BO(e,(function(e){for(var t in XB[e]=hO[e]=o,XB[i=e.toLowerCase()]=r,o)XB[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=XB[e+"."+t]=o[t]})),o},tM=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},rM=function e(t,r,n){var i=r>=1?r:1,o=(n||(t?.3:.45))/(r<1?r:1),s=o/GR*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*qR((e-s)*o)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:tM(a);return o=GR/o,l.config=function(r,n){return e(t,r,n)},l},nM=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:tM(n);return i.config=function(r){return e(t,r)},i};BO("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;eM(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),XB.Linear.easeNone=XB.none=XB.Linear.easeIn,eM("Elastic",rM("in"),rM("out"),rM()),function(e,t){var r=1/t,n=function(n){return n<r?e*n*n:n<.7272727272727273?e*Math.pow(n-1.5/t,2)+.75:n<.9090909090909092?e*(n-=2.25/t)*n+.9375:e*Math.pow(n-2.625/t,2)+.984375};eM("Bounce",(function(e){return 1-n(1-e)}),n)}(7.5625,2.75),eM("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),eM("Circ",(function(e){return-($R(1-e*e)-1)})),eM("Sine",(function(e){return 1===e?1:1-XR(e*HR)})),eM("Back",nM("in"),nM("out"),nM()),XB.SteppedEase=XB.steps=hO.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*gB(0,.99999999,e)|0)+i)*r}}},UR.ease=XB["quad.out"],BO("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return kO+=e+","+e+"Params,"}));var iM=function(e,t){this.id=WR++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:OO,this.set=t?t.getSetter:xM},oM=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,cB(this,+e.duration,1,1),this.data=e.data,PR&&(this._ctx=PR,PR.data.push(this)),LR||WB.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,cB(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if($B(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(nB(this,e),!r._dp||r.parent||iB(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&oB(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===VR||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),jO(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+JO(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+JO(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?eB(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?tB(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(gB(-Math.abs(this._delay),this._tDur,t),!0),rB(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($B(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==VR&&(this._tTime-=VR)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&oB(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(eO(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?tB(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=wO);var t=kR;return kR=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),kR=t,this},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,dB(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,dB(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(fB(this,e),eO(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,eO(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-VR))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=YR(e)?e:zO,i=function(){var e=t.then;t.then=null,YR(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){BB(this)},e}();VO(oM.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var sM=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=eO(t.sortChildren),RR&&oB(t.parent||RR,DR(n),r),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&sB(DR(n),t.scrollTrigger),n}TR(t,e);var r=t.prototype;return r.to=function(e,t,r){return pB(0,arguments,this),this},r.from=function(e,t,r){return pB(1,arguments,this),this},r.fromTo=function(e,t,r,n){return pB(2,arguments,this),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,$O(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new vM(e,t,fB(this,r),1),this},r.call=function(e,t,r){return oB(this,vM.delayedCall(0,e,t),r)},r.staggerTo=function(e,t,r,n,i,o,s){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=o,r.onCompleteParams=s,r.parent=this,new vM(e,r,fB(this,i)),this},r.staggerFrom=function(e,t,r,n,i,o,s){return r.runBackwards=1,$O(r).immediateRender=eO(r.immediateRender),this.staggerTo(e,t,r,n,i,o,s)},r.staggerFromTo=function(e,t,r,n,i,o,s,a){return n.startAt=r,$O(n).immediateRender=eO(n.immediateRender),this.staggerTo(e,t,n,i,o,s,a)},r.render=function(e,t,r){var n,i,o,s,a,l,u,c,d,h,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:FO(e),b=this._zTime<0!=e<0&&(this._initted||!v);if(this!==RR&&y>g&&e>=0&&(y=g),y!==this._tTime||r||b){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),n=y,d=this._start,l=!(c=this._ts),b&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,r);if(n=FO(y%a),y===g?(s=this._repeat,n=v):((s=~~(y/a))&&s===y/a&&(n=v,s--),n>v&&(n=v)),h=eB(this._tTime,a),!m&&this._tTime&&h!==s&&this._tTime-h*a-this._dur<=0&&(h=s),f&&1&s&&(n=v-n,p=1),s!==h&&!this._lock){var _=f&&1&h,w=_===(f&&1&s);if(s<h&&(_=!_),m=_?0:y%v?v:y,this._lock=1,this.render(m||(p?0:FO(s*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&OB(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,w&&(this._lock=2,m=_?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;QB(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,FO(m),FO(n)),u&&(y-=n-(n=u._start))),this._tTime=y,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&n&&!t&&!s&&(OB(this,"onStart"),this._tTime!==y))return this;if(n>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var x=e<0?e:n;i;){if(o=i._prev,(i._act||x<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,r||kR&&(i._initted||i._startAt)),n!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=x?-1e-8:VR);break}}i=o}}if(u&&!t&&(this.pause(),u.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=d,rB(this),this.render(e,t,r);this._onUpdate&&!t&&OB(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(d!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&KO(this,1),t||e<0&&!m||!y&&!m&&g||(OB(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(ZR(t)||(t=fB(this,t,e)),!(e instanceof oM)){if(iO(e))return e.forEach((function(e){return r.add(e,t)})),this;if(KR(e))return this.addLabel(e,t);if(!YR(e))return this;e=vM.delayedCall(0,e)}return this!==e?oB(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-1e8);for(var i=[],o=this._first;o;)o._start>=n&&(o instanceof vM?t&&i.push(o):(r&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,r)))),o=o._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return KR(e)?this.removeLabel(e):YR(e)?this.killTweensOf(e):(qO(this,e),e===this._recent&&(this._recent=this._last),YO(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=FO(WB.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=fB(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=vM.delayedCall(0,t||yO,r);return n.data="isPause",this._hasPause=1,oB(this,n,fB(this,e))},r.removePause=function(e){var t=this._first;for(e=fB(this,e);t;)t._start===e&&"isPause"===t.data&&KO(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)aM!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=wB(e),o=this._first,s=ZR(t);o;)o instanceof vM?NO(o._targets,i)&&(s?(!aM||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&n.push(o):(r=o.getTweensOf(i,t)).length&&n.push.apply(n,r),o=o._next;return n},r.tweenTo=function(e,t){t=t||{};var r,n=this,i=fB(n,e),o=t,s=o.startAt,a=o.onStart,l=o.onStartParams,u=o.immediateRender,c=vM.to(n,VO({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale())||VR,onStart:function(){if(n.pause(),!r){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale());c._dur!==e&&cB(c,e,0,1).render(c._time,!0,!0),r=1}a&&a.apply(c,l||[])}},t));return u?c.render(0):c},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,VO({startAt:{time:fB(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),RB(this,fB(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),RB(this,fB(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+VR)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,o=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in o)o[n]>=r&&(o[n]+=e);return YO(this)},r.invalidate=function(t){var r=this._first;for(this._lock=0;r;)r.invalidate(t),r=r._next;return e.prototype.invalidate.call(this,t)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),YO(this)},r.totalDuration=function(e){var t,r,n,i=0,o=this,s=o._last,a=zR;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(n=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,oB(o,s,r-s._delay,1)._lock=0):a=r,r<0&&s._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;cB(o,o===RR&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(RR._ts&&(jO(RR,tB(e,RR)),IR=WB.frame),WB.frame>=TO){TO+=jR.autoSleep||120;var t=RR._first;if((!t||!t._ts)&&jR.autoSleep&&WB._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||WB.sleep()}}},t}(oM);VO(sM.prototype,{_lock:0,_hasPause:0,_forcing:0});var aM,lM,uM=function(e,t,r,n,i,o,s){var a,l,u,c,d,h,f,p,m=new RM(this._pt,e,t,0,1,AM,null,i),g=0,v=0;for(m.b=r,m.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=kB(n)),o&&(o(p=[r,n],e,t),r=p[0],n=p[1]),l=r.match(lO)||[];a=lO.exec(n);)c=a[0],d=n.substring(g,a.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),c!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===c.charAt(1)?IO(h,c)-h:parseFloat(c)-h,m:u&&u<4?Math.round:0},g=lO.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=s,(uO.test(n)||f)&&(m.e=0),this._pt=m,m},cM=function(e,t,r,n,i,o,s,a,l,u){YR(n)&&(n=n(i||0,e,o));var c,d=e[t],h="get"!==r?r:YR(d)?l?e[t.indexOf("set")||!YR(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,f=YR(d)?l?_M:bM:yM;if(KR(n)&&(~n.indexOf("random(")&&(n=kB(n)),"="===n.charAt(1)&&((c=IO(h,n)+(vB(h)||0))||0===c)&&(n=c)),!u||h!==n||lM)return isNaN(h*n)||""===n?(!d&&!(t in e)&&mO(t,n),uM.call(this,e,t,h,n,f,a||jR.stringFilter,l)):(c=new RM(this._pt,e,t,+h||0,n-(h||0),"boolean"==typeof d?CM:EM,0,f),l&&(c.fp=l),s&&c.modifier(s,this,e),this._pt=c)},dM=function(e,t,r,n,i,o){var s,a,l,u;if(AO[e]&&!1!==(s=new AO[e]).init(i,s.rawVars?t[e]:function(e,t,r,n,i){if(YR(e)&&(e=pM(e,i,t,r,n)),!JR(e)||e.style&&e.nodeType||iO(e)||nO(e))return KR(e)?pM(e,i,t,r,n):e;var o,s={};for(o in e)s[o]=pM(e[o],i,t,r,n);return s}(t[e],n,i,o,r),r,n,o)&&(r._pt=a=new RM(r._pt,i,e,0,1,s.render,s,0,s.priority),r!==NR))for(l=r._ptLookup[r._targets.indexOf(i)],u=s._props.length;u--;)l[s._props[u]]=a;return s},hM=function e(t,r,n){var i,o,s,a,l,u,c,d,h,f,p,m,g,v=t.vars,y=v.ease,b=v.startAt,_=v.immediateRender,w=v.lazy,x=v.onUpdate,E=v.onUpdateParams,C=v.callbackScope,A=v.runBackwards,D=v.yoyoEase,T=v.keyframes,S=v.autoRevert,k=t._dur,P=t._startAt,R=t._targets,O=t.parent,B=O&&"nested"===O.data?O.vars.targets:R,M="auto"===t._overwrite&&!SR,F=t.timeline;if(F&&(!T||!y)&&(y="none"),t._ease=JB(y,UR.ease),t._yEase=D?ZB(JB(!0===D?y:D,UR.ease)):0,D&&t._yoyo&&!t._repeat&&(D=t._yEase,t._yEase=t._ease,t._ease=D),t._from=!F&&!!v.runBackwards,!F||T&&!v.stagger){if(m=(d=R[0]?RO(R[0]).harness:0)&&v[d.prop],i=WO(v,xO),P&&(P._zTime<0&&P.progress(1),r<0&&A&&_&&!S?P.render(-1,!0):P.revert(A&&k?_O:bO),P._lazy=0),b){if(KO(t._startAt=vM.set(R,VO({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!P&&eO(w),startAt:null,delay:0,onUpdate:x,onUpdateParams:E,callbackScope:C,stagger:0},b))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(kR||!_&&!S)&&t._startAt.revert(_O),_&&k&&r<=0&&n<=0)return void(r&&(t._zTime=r))}else if(A&&k&&!P)if(r&&(_=!1),s=VO({overwrite:!1,data:"isFromStart",lazy:_&&!P&&eO(w),immediateRender:_,stagger:0,parent:O},i),m&&(s[d.prop]=m),KO(t._startAt=vM.set(R,s)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(kR?t._startAt.revert(_O):t._startAt.render(-1,!0)),t._zTime=r,_){if(!r)return}else e(t._startAt,VR,VR);for(t._pt=t._ptCache=0,w=k&&eO(w)||w&&!k,o=0;o<R.length;o++){if(c=(l=R[o])._gsap||PO(R)[o]._gsap,t._ptLookup[o]=f={},CO[c.id]&&EO.length&&LO(),p=B===R?o:B.indexOf(l),d&&!1!==(h=new d).init(l,m||i,t,p,B)&&(t._pt=a=new RM(t._pt,l,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(e){f[e]=a})),h.priority&&(u=1)),!d||m)for(s in i)AO[s]&&(h=dM(s,i,t,p,l,B))?h.priority&&(u=1):f[s]=a=cM.call(t,l,s,"get",i[s],p,B,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),M&&t._pt&&(aM=t,RR.killTweensOf(l,f,t.globalTime(r)),g=!t.parent,aM=0),t._pt&&w&&(CO[c.id]=1)}u&&PM(t),t._onInit&&t._onInit(t)}t._onUpdate=x,t._initted=(!t._op||t._pt)&&!g,T&&r<=0&&F.render(zR,!0,!0)},fM=function(e,t,r,n){var i,o,s=t.ease||n||"power1.inOut";if(iO(t))o=r[e]||(r[e]=[]),t.forEach((function(e,r){return o.push({t:r/(t.length-1)*100,v:e,e:s})}));else for(i in t)o=r[i]||(r[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},pM=function(e,t,r,n,i){return YR(e)?e.call(t,r,n,i):KR(e)&&~e.indexOf("random(")?kB(e):e},mM=kO+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gM={};BO(mM+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return gM[e]=1}));var vM=function(e){function t(t,r,n,i){var o;"number"==typeof r&&(n.duration=r,r=n,n=null);var s,a,l,u,c,d,h,f,p=(o=e.call(this,i?r:$O(r))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,b=p.overwrite,_=p.keyframes,w=p.defaults,x=p.scrollTrigger,E=p.yoyoEase,C=r.parent||RR,A=(iO(t)||nO(t)?ZR(t[0]):"length"in r)?[t]:wB(t);if(o._targets=A.length?PO(A):gO("GSAP target "+t+" not found. https://greensock.com",!jR.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,_||y||rO(m)||rO(g)){if(r=o.vars,(s=o.timeline=new sM({data:"nested",defaults:w||{},targets:C&&"nested"===C.data?C.vars.targets:A})).kill(),s.parent=s._dp=DR(o),s._start=0,y||rO(m)||rO(g)){if(u=A.length,h=y&&CB(y),JR(y))for(c in y)~mM.indexOf(c)&&(f||(f={}),f[c]=y[c]);for(a=0;a<u;a++)(l=WO(r,gM)).stagger=0,E&&(l.yoyoEase=E),f&&GO(l,f),d=A[a],l.duration=+pM(m,DR(o),a,d,A),l.delay=(+pM(g,DR(o),a,d,A)||0)-o._delay,!y&&1===u&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),s.to(d,l,h?h(a,d,A):0),s._ease=XB.none;s.duration()?m=g=0:o.timeline=0}else if(_){$O(VO(s.vars.defaults,{ease:"none"})),s._ease=JB(_.ease||r.ease||"none");var D,T,S,k=0;if(iO(_))_.forEach((function(e){return s.to(A,e,">")})),s.duration();else{for(c in l={},_)"ease"===c||"easeEach"===c||fM(c,_[c],l,_.easeEach);for(c in l)for(D=l[c].sort((function(e,t){return e.t-t.t})),k=0,a=0;a<D.length;a++)(S={ease:(T=D[a]).e,duration:(T.t-(a?D[a-1].t:0))/100*m})[c]=T.v,s.to(A,S,k),k+=S.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==b||SR||(aM=DR(o),RR.killTweensOf(A),aM=0),oB(C,DR(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(v||!m&&!_&&o._start===FO(C._time)&&eO(v)&&QO(DR(o))&&"nested"!==C.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),x&&sB(DR(o),x),o}TR(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,o,s,a,l,u,c,d,h=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-VR&&!m?f:e<VR?0:e;if(p){if(g!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(n=g,c=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,r);if(n=FO(g%s),g===f?(o=this._repeat,n=p):((o=~~(g/s))&&o===g/s&&(n=p,o--),n>p&&(n=p)),(l=this._yoyo&&1&o)&&(d=this._yEase,n=p-n),a=eB(this._tTime,s),n===h&&!r&&this._initted)return this._tTime=g,this;o!==a&&(c&&this._yEase&&QB(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=r=1,this.render(FO(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(aB(this,m?e:n,r,t,g))return this._tTime=0,this;if(h!==this._time)return this;if(p!==this._dur)return this.render(e,t,r)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(n/p),this._from&&(this.ratio=u=1-u),n&&!h&&!t&&!o&&(OB(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;c&&c.render(e<0?e:!n&&l?-1e-8:c._dur*c._ease(n/this._dur),t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&ZO(this,e,0,r),OB(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&OB(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&ZO(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&KO(this,1),t||m&&!h||!(g||h||l)||(OB(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,n){var i,o,s,a=e.ratio,l=t<0||!t&&(!e._start&&lB(e)&&(e._initted||!uB(e))||(e._ts<0||e._dp._ts<0)&&!uB(e))?0:1,u=e._rDelay,c=0;if(u&&e._repeat&&(c=gB(0,e._tDur,t),o=eB(c,u),e._yoyo&&1&o&&(l=1-l),o!==eB(e._tTime,u)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||kR||n||e._zTime===VR||!t&&e._zTime){if(!e._initted&&aB(e,t,n,r,c))return;for(s=e._zTime,e._zTime=t||(r?VR:0),r||(r=t&&!s),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&ZO(e,t,0,!0),e._onUpdate&&!r&&OB(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&OB(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&KO(e,1),r||kR||(OB(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},r.resetTo=function(e,t,r,n){LR||WB.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||hM(this,i),function(e,t,r,n,i,o,s){var a,l,u,c,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if((a=u[c][t])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==t&&a.fp!==t;)a=a._next;if(!a)return lM=1,e.vars[t]="+=0",hM(e,s),lM=0,1;d.push(a)}for(c=d.length;c--;)(a=(l=d[c])._pt||l).s=!n&&0!==n||i?a.s+(n||0)+o*a.c:n,a.c=r-a.s,l.e&&(l.e=MO(r)+vB(l.e)),l.b&&(l.b=a.s+vB(l.b))}(this,e,t,r,n,this._ease(i/this._dur),i)?this.resetTo(e,t,r,n):(nB(this,0),this.parent||XO(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?BB(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,aM&&!0!==aM.vars.overwrite)._first||BB(this),this.parent&&r!==this.timeline.totalDuration()&&cB(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,o,s,a,l,u,c=this._targets,d=e?wB(e):c,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(c,d))return"all"===t&&(this._pt=0),BB(this);for(n=this._op=this._op||[],"all"!==t&&(KR(t)&&(a={},BO(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var r,n,i,o,s=e[0]?RO(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(n in r=GO({},t),a)if(n in r)for(i=(o=a[n].split(",")).length;i--;)r[o[i]]=r[n];return r}(c,t)),u=c.length;u--;)if(~d.indexOf(c[u]))for(a in i=h[u],"all"===t?(n[u]=t,s=i,o={}):(o=n[u]=n[u]||{},s=t),s)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||qO(this,l,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&f&&BB(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,t){return pB(1,arguments)},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,t,r){return pB(2,arguments)},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return RR.killTweensOf(e,t,r)},t}(oM);VO(vM.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),BO("staggerTo,staggerFrom,staggerFromTo",(function(e){vM[e]=function(){var t=new sM,r=yB.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var yM=function(e,t,r){return e[t]=r},bM=function(e,t,r){return e[t](r)},_M=function(e,t,r,n){return e[t](n.fp,r)},wM=function(e,t,r){return e.setAttribute(t,r)},xM=function(e,t){return YR(e[t])?bM:QR(e[t])&&e.setAttribute?wM:yM},EM=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},CM=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},AM=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},DM=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},TM=function(e,t,r,n){for(var i,o=this._pt;o;)i=o._next,o.p===n&&o.modifier(e,t,r),o=i},SM=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?qO(this,n,"_pt"):n.dep||(t=1),n=r;return!t},kM=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},PM=function(e){for(var t,r,n,i,o=e._pt;o;){for(t=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:i)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:i=o,o=t}e._pt=n},RM=function(){function e(e,t,r,n,i,o,s,a,l){this.t=t,this.s=n,this.c=i,this.p=r,this.r=o||EM,this.d=s||this,this.set=a||yM,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=kM,this.m=e,this.mt=r,this.tween=t},e}();BO(kO+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return xO[e]=1})),hO.TweenMax=hO.TweenLite=vM,hO.TimelineLite=hO.TimelineMax=sM,RR=new sM({sortChildren:!1,defaults:UR,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),jR.stringFilter=HB;var OM=[],BM={},MM=[],FM=0,IM=0,NM=function(e){return(BM[e]||MM).map((function(e){return e()}))},LM=function(){var e=Date.now(),t=[];e-FM>2&&(NM("matchMediaInit"),OM.forEach((function(e){var r,n,i,o,s=e.queries,a=e.conditions;for(n in s)(r=OR.matchMedia(s[n]).matches)&&(i=1),r!==a[n]&&(a[n]=r,o=1);o&&(e.revert(),i&&t.push(e))})),NM("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),FM=e,NM("matchMedia"))},jM=function(){function e(e,t){this.selector=t&&xB(t),this.data=[],this._r=[],this.isReverted=!1,this.id=IM++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,r){YR(e)&&(r=t,t=e,e=YR);var n=this,i=function(){var e,i=PR,o=n.selector;return i&&i!==n&&i.data.push(n),r&&(n.selector=xB(r)),PR=n,e=t.apply(n,arguments),YR(e)&&n._r.push(e),PR=i,n.selector=o,n.isReverted=!1,e};return n.last=i,e===YR?i(n):e?n[e]=i:i},t.ignore=function(e){var t=PR;PR=null,e(this),PR=t},t.getTweens=function(){var t=[];return this.data.forEach((function(r){return r instanceof e?t.push.apply(t,r.getTweens()):r instanceof vM&&!(r.parent&&"nested"===r.parent.data)&&t.push(r)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var r=this;if(e){var n=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return n.splice(n.indexOf(e),1)})))})),n.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof vM)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,r)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t)for(var i=OM.length;i--;)OM[i].id===this.id&&OM.splice(i,1)},t.revert=function(e){this.kill(e||{})},e}(),UM=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,r){JR(e)||(e={matches:e});var n,i,o,s=new jM(0,r||this.scope),a=s.conditions={};for(i in PR&&!s.selector&&(s.selector=PR.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(n=OR.matchMedia(e[i]))&&(OM.indexOf(s)<0&&OM.push(s),(a[i]=n.matches)&&(o=1),n.addListener?n.addListener(LM):n.addEventListener("change",LM));return o&&t(s),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),zM={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return FB(e)}))},timeline:function(e){return new sM(e)},getTweensOf:function(e,t){return RR.getTweensOf(e,t)},getProperty:function(e,t,r,n){KR(e)&&(e=wB(e)[0]);var i=RO(e||{}).get,o=r?zO:UO;return"native"===r&&(r=""),e?t?o((AO[t]&&AO[t].get||i)(e,t,r,n)):function(t,r,n){return o((AO[t]&&AO[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=wB(e)).length>1){var n=e.map((function(e){return HM.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var o=AO[t],s=RO(e),a=s.harness&&(s.harness.aliases||{})[t]||t,l=o?function(t){var n=new o;NR._pt=0,n.init(e,r?t+r:t,NR,0,[e]),n.render(1,n),NR._pt&&DM(1,NR)}:s.set(e,a);return o?l:function(t){return l(e,a,r?t+r:t,s,1)}},quickTo:function(e,t,r){var n,i=HM.to(e,GO(((n={})[t]="+=0.1",n.paused=!0,n),r||{})),o=function(e,r,n){return i.resetTo(t,e,r,n)};return o.tween=i,o},isTweening:function(e){return RR.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=JB(e.ease,UR.ease)),HO(UR,e||{})},config:function(e){return HO(jR,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!AO[e]&&!hO[e]&&gO(t+" effect requires "+e+" plugin.")})),DO[t]=function(e,t,n){return r(wB(e),VO(t||{},i),n)},o&&(sM.prototype[t]=function(e,r,n){return this.add(DO[t](e,JR(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){XB[e]=JB(t)},parseEase:function(e,t){return arguments.length?JB(e,t):XB},getById:function(e){return RR.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new sM(e);for(i.smoothChildTiming=eO(e.smoothChildTiming),RR.remove(i),i._dp=0,i._time=i._tTime=RR._time,r=RR._first;r;)n=r._next,!t&&!r._dur&&r instanceof vM&&r.vars.onComplete===r._targets[0]||oB(i,r,r._start-r._delay),r=n;return oB(RR,i,0),i},context:function(e,t){return e?new jM(e,t):PR},matchMedia:function(e){return new UM(e)},matchMediaRefresh:function(){return OM.forEach((function(e){var t,r,n=e.conditions;for(r in n)n[r]&&(n[r]=!1,t=1);t&&e.revert()}))||LM()},addEventListener:function(e,t){var r=BM[e]||(BM[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=BM[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},utils:{wrap:function e(t,r,n){var i=r-t;return iO(t)?SB(t,e(0,t.length),r):mB(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,o=2*i;return iO(t)?SB(t,e(0,t.length-1),r):mB(n,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},distribute:CB,random:TB,snap:DB,normalize:function(e,t,r){return PB(e,t,0,1,r)},getUnit:vB,clamp:function(e,t,r){return mB(r,(function(r){return gB(e,t,r)}))},splitColor:jB,toArray:wB,selector:xB,mapRange:PB,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||vB(r))}},interpolate:function e(t,r,n,i){var o=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!o){var s,a,l,u,c,d=KR(t),h={};if(!0===n&&(i=1)&&(n=null),d)t={p:t},r={p:r};else if(iO(t)&&!iO(r)){for(l=[],u=t.length,c=u-2,a=1;a<u;a++)l.push(e(t[a-1],t[a]));u--,o=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},n=r}else i||(t=GO(iO(t)?[]:{},t));if(!l){for(s in r)cM.call(h,t,s,"get",r[s]);o=function(e){return DM(e,h)||(d?t.p:t)}}}return mB(n,o)},shuffle:EB},install:pO,effects:DO,ticker:WB,updateRoot:sM.updateRoot,plugins:AO,globalTimeline:RR,core:{PropTween:RM,globals:vO,Tween:vM,Timeline:sM,Animation:oM,getCache:RO,_removeLinkedListItem:qO,reverting:function(){return kR},context:function(e){return e&&PR&&(PR.data.push(e),e._ctx=PR),PR},suppressOverwrites:function(e){return SR=e}}};BO("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return zM[e]=vM[e]})),WB.add(sM.updateRoot),NR=zM.to({},{duration:0});var VM=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},GM=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if(KR(r)&&(n={},BO(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}!function(e,t){var r,n,i,o=e._targets;for(r in t)for(n=o.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=VM(i,r)),i&&i.modifier&&i.modifier(t[r],e,o[n],r))}(e,r)}}}},HM=zM.registerPlugin({name:"attr",init:function(e,t,r,n,i){var o,s,a;for(o in this.tween=r,t)a=e.getAttribute(o)||"",(s=this.add(e,"setAttribute",(a||0)+"",t[o],n,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)kR?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},GM("roundProps",AB),GM("modifiers"),GM("snap",DB))||zM;vM.version=sM.version=HM.version="3.12.2",FR=1,tO()&&$B(),XB.Power0,XB.Power1,XB.Power2,XB.Power3,XB.Power4,XB.Linear,XB.Quad,XB.Cubic,XB.Quart,XB.Quint,XB.Strong,XB.Elastic,XB.Back,XB.SteppedEase,XB.Bounce,XB.Sine,XB.Expo,XB.Circ;
/*!
			 * CSSPlugin 3.12.2
			 * https://greensock.com
			 *
			 * Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/
var WM,$M,XM,qM,KM,YM,ZM,QM,JM={},eF=180/Math.PI,tF=Math.PI/180,rF=Math.atan2,nF=/([A-Z])/g,iF=/(left|right|width|margin|padding|x)/i,oF=/[\s,\(]\S/,sF={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},aF=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},lF=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},uF=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},cF=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},dF=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},hF=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},fF=function(e,t,r){return e.style[t]=r},pF=function(e,t,r){return e.style.setProperty(t,r)},mF=function(e,t,r){return e._gsap[t]=r},gF=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},vF=function(e,t,r,n,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},yF=function(e,t,r,n,i){var o=e._gsap;o[t]=r,o.renderTransform(i,o)},bF="transform",_F=bF+"Origin",wF=function e(t,r){var n=this,i=this.target,o=i.style;if(t in JM&&o){if(this.tfm=this.tfm||{},"transform"===t)return sF.transform.split(",").forEach((function(t){return e.call(n,t,r)}));if(~(t=sF[t]||t).indexOf(",")?t.split(",").forEach((function(e){return n.tfm[e]=jF(i,e)})):this.tfm[t]=i._gsap.x?i._gsap[t]:jF(i,t),this.props.indexOf(bF)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(_F,r,"")),t=bF}(o||r)&&this.props.push(t,r,o[t])},xF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},EF=function(){var e,t,r=this.props,n=this.target,i=n.style,o=n._gsap;for(e=0;e<r.length;e+=3)r[e+1]?n[r[e]]=r[e+2]:r[e+2]?i[r[e]]=r[e+2]:i.removeProperty("--"===r[e].substr(0,2)?r[e]:r[e].replace(nF,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(e=ZM())&&e.isStart||i[bF]||(xF(i),o.uncache=1)}},CF=function(e,t){var r={target:e,props:[],revert:EF,save:wF};return e._gsap||HM.core.getCache(e),t&&t.split(",").forEach((function(e){return r.save(e)})),r},AF=function(e,t){var r=$M.createElementNS?$M.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$M.createElement(e);return r.style?r:$M.createElement(e)},DF=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(nF,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,SF(r)||r,1)||""},TF="O,Moz,ms,Ms,Webkit".split(","),SF=function(e,t,r){var n=(t||KM).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(TF[i]+e in n););return i<0?null:(3===i?"ms":i>=0?TF[i]:"")+e},kF=function(){"undefined"!=typeof window&&window.document&&(WM=window,$M=WM.document,XM=$M.documentElement,KM=AF("div")||{style:{}},AF("div"),bF=SF(bF),_F=bF+"Origin",KM.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",QM=!!SF("perspective"),ZM=HM.core.reverting,qM=1)},PF=function e(t){var r,n=AF("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(XM.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(she){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),XM.removeChild(n),this.style.cssText=s,r},RF=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},OF=function(e){var t;try{t=e.getBBox()}catch(r){t=PF.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===PF||(t=PF.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+RF(e,["x","cx","x1"])||0,y:+RF(e,["y","cy","y1"])||0,width:0,height:0}},BF=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!OF(e))},MF=function(e,t){if(t){var r=e.style;t in JM&&t!==_F&&(t=bF),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(nF,"-$1").toLowerCase())):r.removeAttribute(t)}},FF=function(e,t,r,n,i,o){var s=new RM(e._pt,t,r,0,1,o?hF:dF);return e._pt=s,s.b=n,s.e=i,e._props.push(r),s},IF={deg:1,rad:1,turn:1},NF={grid:1,flex:1},LF=function e(t,r,n,i){var o,s,a,l,u=parseFloat(n)||0,c=(n+"").trim().substr((u+"").length)||"px",d=KM.style,h=iF.test(r),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===i,v="%"===i;return i===c||!u||IF[i]||IF[c]?u:("px"!==c&&!g&&(u=e(t,r,n,"px")),l=t.getCTM&&BF(t),!v&&"%"!==c||!JM[r]&&!~r.indexOf("adius")?(d[h?"width":"height"]=m+(g?c:i),s=~r.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==$M&&s.appendChild||(s=$M.body),(a=s._gsap)&&v&&a.width&&h&&a.time===WB.time&&!a.uncache?MO(u/a.width*m):((v||"%"===c)&&!NF[DF(s,"display")]&&(d.position=DF(t,"position")),s===t&&(d.position="static"),s.appendChild(KM),o=KM[p],s.removeChild(KM),d.position="absolute",h&&v&&((a=RO(s)).time=WB.time,a.width=s[p]),MO(g?o*u/m:o&&u?m/o*u:0))):(o=l?t.getBBox()[h?"width":"height"]:t[p],MO(v?u/o*m:u/100*o)))},jF=function(e,t,r,n){var i;return qM||kF(),t in sF&&"transform"!==t&&~(t=sF[t]).indexOf(",")&&(t=t.split(",")[0]),JM[t]&&"transform"!==t?(i=ZF(e,n),i="transformOrigin"!==t?i[t]:i.svg?i.origin:QF(DF(e,_F))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=HF[t]&&HF[t](e,t,r)||DF(e,t)||OO(e,t)||("opacity"===t?1:0)),r&&!~(i+"").trim().indexOf(" ")?LF(e,t,i,r)+r:i},UF=function(e,t,r,n){if(!r||"none"===r){var i=SF(t,e,1),o=i&&DF(e,i,1);o&&o!==r?(t=i,r=o):"borderColor"===t&&(r=DF(e,"borderTopColor"))}var s,a,l,u,c,d,h,f,p,m,g,v=new RM(this._pt,e.style,t,0,1,AM),y=0,b=0;if(v.b=r,v.e=n,r+="","auto"==(n+="")&&(e.style[t]=n,n=DF(e,t)||n,e.style[t]=r),HB(s=[r,n]),n=s[1],l=(r=s[0]).match(aO)||[],(n.match(aO)||[]).length){for(;a=aO.exec(n);)h=a[0],p=n.substring(y,a.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),h!==(d=l[b++]||"")&&(u=parseFloat(d)||0,g=d.substr((u+"").length),"="===h.charAt(1)&&(h=IO(u,h)+g),f=parseFloat(h),m=h.substr((f+"").length),y=aO.lastIndex-m.length,m||(m=m||jR.units[t]||g,y===n.length&&(n+=m,v.e+=m)),g!==m&&(u=LF(e,t,d,m)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:u,c:f-u,m:c&&c<4||"zIndex"===t?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===t&&"none"===n?hF:dF;return uO.test(n)&&(v.e=0),this._pt=v,v},zF={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},VF=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=zF[r]||r,t[1]=zF[n]||n,t.join(" ")},GF=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,o=t.t,s=o.style,a=t.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",n=1;else for(i=(a=a.split(",")).length;--i>-1;)r=a[i],JM[r]&&(n=1,r="transformOrigin"===r?_F:bF),MF(o,r);n&&(MF(o,bF),l&&(l.svg&&o.removeAttribute("transform"),ZF(o,1),l.uncache=1,xF(s)))}},HF={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var o=e._pt=new RM(e._pt,t,r,0,0,GF);return o.u=n,o.pr=-10,o.tween=i,e._props.push(r),1}}},WF=[1,0,0,1,0,0],$F={},XF=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},qF=function(e){var t=DF(e,bF);return XF(t)?WF:t.substr(7).match(sO).map(MO)},KF=function(e,t){var r,n,i,o,s=e._gsap||RO(e),a=e.style,l=qF(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?WF:l:(l!==WF||e.offsetParent||e===XM||s.svg||(i=a.display,a.display="block",(r=e.parentNode)&&e.offsetParent||(o=1,n=e.nextElementSibling,XM.appendChild(e)),l=qF(e),i?a.display=i:MF(e,"display"),o&&(n?r.insertBefore(e,n):r?r.appendChild(e):XM.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},YF=function(e,t,r,n,i,o){var s,a,l,u=e._gsap,c=i||KF(e,!0),d=u.xOrigin||0,h=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,m=c[0],g=c[1],v=c[2],y=c[3],b=c[4],_=c[5],w=t.split(" "),x=parseFloat(w[0])||0,E=parseFloat(w[1])||0;r?c!==WF&&(a=m*y-g*v)&&(l=x*(-g/a)+E*(m/a)-(m*_-g*b)/a,x=x*(y/a)+E*(-v/a)+(v*_-y*b)/a,E=l):(x=(s=OF(e)).x+(~w[0].indexOf("%")?x/100*s.width:x),E=s.y+(~(w[1]||w[0]).indexOf("%")?E/100*s.height:E)),n||!1!==n&&u.smooth?(b=x-d,_=E-h,u.xOffset=f+(b*m+_*v)-b,u.yOffset=p+(b*g+_*y)-_):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=E,u.smooth=!!n,u.origin=t,u.originIsAbsolute=!!r,e.style[_F]="0px 0px",o&&(FF(o,u,"xOrigin",d,x),FF(o,u,"yOrigin",h,E),FF(o,u,"xOffset",f,u.xOffset),FF(o,u,"yOffset",p,u.yOffset)),e.setAttribute("data-svg-origin",x+" "+E)},ZF=function(e,t){var r=e._gsap||new iM(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,o,s,a,l,u,c,d,h,f,p,m,g,v,y,b,_,w,x,E,C,A,D,T,S,k,P,R,O,B,M,F=e.style,I=r.scaleX<0,N="px",L="deg",j=getComputedStyle(e),U=DF(e,_F)||"0";return n=i=o=l=u=c=d=h=f=0,s=a=1,r.svg=!(!e.getCTM||!BF(e)),j.translate&&("none"===j.translate&&"none"===j.scale&&"none"===j.rotate||(F[bF]=("none"!==j.translate?"translate3d("+(j.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==j.rotate?"rotate("+j.rotate+") ":"")+("none"!==j.scale?"scale("+j.scale.split(" ").join(",")+") ":"")+("none"!==j[bF]?j[bF]:"")),F.scale=F.rotate=F.translate="none"),g=KF(e,r.svg),r.svg&&(r.uncache?(T=e.getBBox(),U=r.xOrigin-T.x+"px "+(r.yOrigin-T.y)+"px",D=""):D=!t&&e.getAttribute("data-svg-origin"),YF(e,D||U,!!D||r.originIsAbsolute,!1!==r.smooth,g)),p=r.xOrigin||0,m=r.yOrigin||0,g!==WF&&(_=g[0],w=g[1],x=g[2],E=g[3],n=C=g[4],i=A=g[5],6===g.length?(s=Math.sqrt(_*_+w*w),a=Math.sqrt(E*E+x*x),l=_||w?rF(w,_)*eF:0,(d=x||E?rF(x,E)*eF+l:0)&&(a*=Math.abs(Math.cos(d*tF))),r.svg&&(n-=p-(p*_+m*x),i-=m-(p*w+m*E))):(M=g[6],O=g[7],k=g[8],P=g[9],R=g[10],B=g[11],n=g[12],i=g[13],o=g[14],u=(v=rF(M,R))*eF,v&&(D=C*(y=Math.cos(-v))+k*(b=Math.sin(-v)),T=A*y+P*b,S=M*y+R*b,k=C*-b+k*y,P=A*-b+P*y,R=M*-b+R*y,B=O*-b+B*y,C=D,A=T,M=S),c=(v=rF(-x,R))*eF,v&&(y=Math.cos(-v),B=E*(b=Math.sin(-v))+B*y,_=D=_*y-k*b,w=T=w*y-P*b,x=S=x*y-R*b),l=(v=rF(w,_))*eF,v&&(D=_*(y=Math.cos(v))+w*(b=Math.sin(v)),T=C*y+A*b,w=w*y-_*b,A=A*y-C*b,_=D,C=T),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),s=MO(Math.sqrt(_*_+w*w+x*x)),a=MO(Math.sqrt(A*A+M*M)),v=rF(C,A),d=Math.abs(v)>2e-4?v*eF:0,f=B?1/(B<0?-B:B):0),r.svg&&(D=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!XF(DF(e,bF)),D&&e.setAttribute("transform",D))),Math.abs(d)>90&&Math.abs(d)<270&&(I?(s*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||r.uncache,r.x=n-((r.xPercent=n&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+N,r.y=i-((r.yPercent=i&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+N,r.z=o+N,r.scaleX=MO(s),r.scaleY=MO(a),r.rotation=MO(l)+L,r.rotationX=MO(u)+L,r.rotationY=MO(c)+L,r.skewX=d+L,r.skewY=h+L,r.transformPerspective=f+N,(r.zOrigin=parseFloat(U.split(" ")[2])||0)&&(F[_F]=QF(U)),r.xOffset=r.yOffset=0,r.force3D=jR.force3D,r.renderTransform=r.svg?oI:QM?iI:eI,r.uncache=0,r},QF=function(e){return(e=e.split(" "))[0]+" "+e[1]},JF=function(e,t,r){var n=vB(t);return MO(parseFloat(t)+parseFloat(LF(e,"x",r+"px",n)))+n},eI=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,iI(e,t)},tI="0deg",rI="0px",nI=") ",iI=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,o=r.x,s=r.y,a=r.z,l=r.rotation,u=r.rotationY,c=r.rotationX,d=r.skewX,h=r.skewY,f=r.scaleX,p=r.scaleY,m=r.transformPerspective,g=r.force3D,v=r.target,y=r.zOrigin,b="",_="auto"===g&&e&&1!==e||!0===g;if(y&&(c!==tI||u!==tI)){var w,x=parseFloat(u)*tF,E=Math.sin(x),C=Math.cos(x);x=parseFloat(c)*tF,w=Math.cos(x),o=JF(v,o,E*w*-y),s=JF(v,s,-Math.sin(x)*-y),a=JF(v,a,C*w*-y+y)}m!==rI&&(b+="perspective("+m+nI),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(_||o!==rI||s!==rI||a!==rI)&&(b+=a!==rI||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+nI),l!==tI&&(b+="rotate("+l+nI),u!==tI&&(b+="rotateY("+u+nI),c!==tI&&(b+="rotateX("+c+nI),d===tI&&h===tI||(b+="skew("+d+", "+h+nI),1===f&&1===p||(b+="scale("+f+", "+p+nI),v.style[bF]=b||"translate(0, 0)"},oI=function(e,t){var r,n,i,o,s,a=t||this,l=a.xPercent,u=a.yPercent,c=a.x,d=a.y,h=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,_=a.xOffset,w=a.yOffset,x=a.forceCSS,E=parseFloat(c),C=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=tF,f*=tF,r=Math.cos(h)*m,n=Math.sin(h)*m,i=Math.sin(h-f)*-g,o=Math.cos(h-f)*g,f&&(p*=tF,s=Math.tan(f-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),n*=s)),r=MO(r),n=MO(n),i=MO(i),o=MO(o)):(r=m,o=g,n=i=0),(E&&!~(c+"").indexOf("px")||C&&!~(d+"").indexOf("px"))&&(E=LF(v,"x",c,"px"),C=LF(v,"y",d,"px")),(y||b||_||w)&&(E=MO(E+y-(y*r+b*i)+_),C=MO(C+b-(y*n+b*o)+w)),(l||u)&&(s=v.getBBox(),E=MO(E+l/100*s.width),C=MO(C+u/100*s.height)),s="matrix("+r+","+n+","+i+","+o+","+E+","+C+")",v.setAttribute("transform",s),x&&(v.style[bF]=s)},sI=function(e,t,r,n,i){var o,s,a=360,l=KR(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?eF:1)-n,c=n+u+"deg";return l&&("short"===(o=i.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-360),"cw"===o&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===o&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),e._pt=s=new RM(e._pt,t,r,n,u,lF),s.e=c,s.u="deg",e._props.push(r),s},aI=function(e,t){for(var r in t)e[r]=t[r];return e},lI=function(e,t,r){var n,i,o,s,a,l,u,c=aI({},r._gsap),d=r.style;for(i in c.svg?(o=r.getAttribute("transform"),r.setAttribute("transform",""),d[bF]=t,n=ZF(r,1),MF(r,bF),r.setAttribute("transform",o)):(o=getComputedStyle(r)[bF],d[bF]=t,n=ZF(r,1),d[bF]=o),JM)(o=c[i])!==(s=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=vB(o)!==(u=vB(s))?LF(r,i,o,u):parseFloat(o),l=parseFloat(s),e._pt=new RM(e._pt,n,i,a,l-a,aF),e._pt.u=u||0,e._props.push(i));aI(n,c)};BO("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",o="Left",s=(t<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map((function(r){return t<2?e+r:"border"+r+e}));HF[t>1?"border"+e:e]=function(e,t,r,n,i){var o,a;if(arguments.length<4)return o=s.map((function(t){return jF(e,t,r)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},s.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,i)}}));var uI,cI,dI,hI={name:"css",register:kF,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var o,s,a,l,u,c,d,h,f,p,m,g,v,y,b,_,w=this._props,x=e.style,E=r.vars.startAt;for(d in qM||kF(),this.styles=this.styles||CF(e),_=this.styles.props,this.tween=r,t)if("autoRound"!==d&&(s=t[d],!AO[d]||!dM(d,t,r,n,e,i)))if(u=typeof s,c=HF[d],"function"===u&&(u=typeof(s=s.call(r,n,e,i))),"string"===u&&~s.indexOf("random(")&&(s=kB(s)),c)c(this,e,d,s,r)&&(b=1);else if("--"===d.substr(0,2))o=(getComputedStyle(e).getPropertyValue(d)+"").trim(),s+="",VB.lastIndex=0,VB.test(o)||(h=vB(o),f=vB(s)),f?h!==f&&(o=LF(e,d,o,f)+f):h&&(s+=h),this.add(x,"setProperty",o,s,n,i,0,0,d),w.push(d),_.push(d,0,x[d]);else if("undefined"!==u){if(E&&d in E?(o="function"==typeof E[d]?E[d].call(r,n,e,i):E[d],KR(o)&&~o.indexOf("random(")&&(o=kB(o)),vB(o+"")||(o+=jR.units[d]||vB(jF(e,d))||""),"="===(o+"").charAt(1)&&(o=jF(e,d))):o=jF(e,d),l=parseFloat(o),(p="string"===u&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),d in sF&&("autoAlpha"===d&&(1===l&&"hidden"===jF(e,"visibility")&&a&&(l=0),_.push("visibility",0,x.visibility),FF(this,x,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=sF[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in JM)if(this.styles.save(d),g||((v=e._gsap).renderTransform&&!t.parseTransform||ZF(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new RM(this._pt,x,bF,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new RM(this._pt,v,"scaleY",v.scaleY,(p?IO(v.scaleY,p+a):a)-v.scaleY||0,aF),this._pt.u=0,w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){_.push(_F,0,x[_F]),s=VF(s),v.svg?YF(e,s,0,y,0,this):((f=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&FF(this,v,"zOrigin",v.zOrigin,f),FF(this,x,d,QF(o),QF(s)));continue}if("svgOrigin"===d){YF(e,s,1,y,0,this);continue}if(d in $F){sI(this,v,d,l,p?IO(l,p+s):s);continue}if("smoothOrigin"===d){FF(this,v,"smooth",v.smooth,s);continue}if("force3D"===d){v[d]=s;continue}if("transform"===d){lI(this,s,e);continue}}else d in x||(d=SF(d)||d);if(m||(a||0===a)&&(l||0===l)&&!oF.test(s)&&d in x)a||(a=0),(h=(o+"").substr((l+"").length))!==(f=vB(s)||(d in jR.units?jR.units[d]:h))&&(l=LF(e,d,o,f)),this._pt=new RM(this._pt,m?v:x,d,l,(p?IO(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==d||!1===t.autoRound?aF:cF),this._pt.u=f||0,h!==f&&"%"!==f&&(this._pt.b=o,this._pt.r=uF);else if(d in x)UF.call(this,e,d,o,p?p+s:s);else if(d in e)this.add(e,d,o||e[d],p?p+s:s,n,i);else if("parseTransform"!==d){mO(d,s);continue}m||(d in x?_.push(d,0,x[d]):_.push(d,1,o||e[d])),w.push(d)}b&&PM(this)},render:function(e,t){if(t.tween._time||!ZM())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:jF,aliases:sF,getSetter:function(e,t,r){var n=sF[t];return n&&n.indexOf(",")<0&&(t=n),t in JM&&t!==_F&&(e._gsap.x||jF(e,"x"))?r&&YM===r?"scale"===t?gF:mF:(YM=r||{})&&("scale"===t?vF:yF):e.style&&!QR(e.style[t])?fF:~t.indexOf("-")?pF:xM(e,t)},core:{_removeProperty:MF,_getMatrix:KF}};HM.utils.checkPrefix=SF,HM.core.getStyleSaver=CF,dI=BO((uI="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(cI="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){JM[e]=1})),BO(cI,(function(e){jR.units[e]="deg",$F[e]=1})),sF[dI[13]]=uI+","+cI,BO("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");sF[t[1]]=dI[t[0]]})),BO("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){jR.units[e]="px"})),HM.registerPlugin(hI),e("k",HM.registerPlugin(hI)||HM).core.Tween;
/*!
			 * PixiPlugin 3.12.2
			 * https://greensock.com
			 *
			 * @license Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/var fI,pI,mI,gI,vI,yI,bI,_I,wI,xI=function(){return"undefined"!=typeof window},EI=function(){return fI||xI()&&(fI=window.gsap)&&fI.registerPlugin&&fI},CI=function(e){return"function"==typeof e},AI=function(e){return console.warn(e)},DI=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],TI=.212671,SI=.71516,kI=.072169,PI=function(e){return CI(gI[e])?gI[e]:gI.filters[e]},RI=function(e,t){var r,n,i=[],o=0,s=0;for(r=0;r<4;r++){for(n=0;n<5;n++)s=4===n?e[o+4]:0,i[o+n]=e[o]*t[n]+e[o+1]*t[n+5]+e[o+2]*t[n+10]+e[o+3]*t[n+15]+s;o+=5}return i},OI=function(e,t){var r=1-t,n=r*TI,i=r*SI,o=r*kI;return RI([n+t,i,o,0,0,n,i+t,o,0,0,n,i,o+t,0,0,0,0,0,1,0],e)},BI=function(e,t,r){var n=mI(t),i=n[0]/255,o=n[1]/255,s=n[2]/255,a=1-r;return RI([a+r*i*TI,r*i*SI,r*i*kI,0,0,r*o*TI,a+r*o*SI,r*o*kI,0,0,r*s*TI,r*s*SI,a+r*s*kI,0,0,0,0,0,1,0],e)},MI=function(e,t){t*=Math.PI/180;var r=Math.cos(t),n=Math.sin(t);return RI([TI+r*(1-TI)+n*-TI,SI+r*-SI+n*-SI,kI+r*-kI+n*(1-kI),0,0,TI+r*-TI+.143*n,SI+.28484*r+.14*n,kI+r*-kI+-.283*n,0,0,TI+r*-TI+-.787329*n,SI+r*-SI+n*SI,kI+r*(1-kI)+n*kI,0,0,0,0,0,1,0,0,0,0,0,1],e)},FI=function(e,t){return RI([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},II=function(e,t){var r,n=PI(t),i=e.filters||[],o=i.length;for(n||AI(t+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(i[o]instanceof n)return i[o];return r=new n,"BlurFilter"===t&&(r.blur=0),i.push(r),e.filters=i,r},NI=function(e,t,r,n){t.add(r,e,r[e],n[e]),t._props.push(e)},LI=function(e,t){var r=new(PI("ColorMatrixFilter"));return r.matrix=t,r.brightness(e,!0),r.matrix},jI={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},UI=function(e,t,r){var n,i,o,s=II(e,"ColorMatrixFilter"),a=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var t,r={};for(t in e)r[t]=e[t];return r}(jI),l=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);o=s.matrix,t.resolution&&(s.resolution=t.resolution),t.matrix&&t.matrix.length===o.length?(i=t.matrix,1!==a.contrast&&NI("contrast",r,a,jI),a.hue&&NI("hue",r,a,jI),1!==a.brightness&&NI("brightness",r,a,jI),a.colorizeAmount&&(NI("colorize",r,a,jI),NI("colorizeAmount",r,a,jI)),1!==a.saturation&&NI("saturation",r,a,jI)):(i=DI.slice(),null!=t.contrast?(i=FI(i,+t.contrast),NI("contrast",r,a,t)):1!==a.contrast&&(l?i=FI(i,a.contrast):NI("contrast",r,a,jI)),null!=t.hue?(i=MI(i,+t.hue),NI("hue",r,a,t)):a.hue&&(l?i=MI(i,a.hue):NI("hue",r,a,jI)),null!=t.brightness?(i=LI(+t.brightness,i),NI("brightness",r,a,t)):1!==a.brightness&&(l?i=LI(a.brightness,i):NI("brightness",r,a,jI)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,i=BI(i,t.colorize,t.colorizeAmount),NI("colorize",r,a,t),NI("colorizeAmount",r,a,t)):a.colorizeAmount&&(l?i=BI(i,a.colorize,a.colorizeAmount):(NI("colorize",r,a,jI),NI("colorizeAmount",r,a,jI))),null!=t.saturation?(i=OI(i,+t.saturation),NI("saturation",r,a,t)):1!==a.saturation&&(l?i=OI(i,a.saturation):NI("saturation",r,a,jI))),n=i.length;for(;--n>-1;)i[n]!==o[n]&&r.add(o,n,o[n],i[n],"colorMatrixFilter");r._props.push("colorMatrixFilter")},zI=function(e,t){var r=t.t,n=t.p,i=t.color;(0,t.set)(r,n,i[0]<<16|i[1]<<8|i[2])},VI=function(e,t){var r=t.g;r&&(r.dirty++,r.clearDirty++)},GI=function(e,t){t.t.visible=!!t.t.alpha},HI=function(e,t,r,n){var i=e[t],o=mI(CI(i)?e[t.indexOf("set")||!CI(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():i),s=mI(r);n._pt=new vI(n._pt,e,t,0,0,zI,{t:e,p:t,color:o,set:yI(e,t)}),n.add(o,0,o[0],s[0]),n.add(o,1,o[1],s[1]),n.add(o,2,o[2],s[2])},WI={tint:1,lineColor:1,fillColor:1},$I="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),XI={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},qI={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},KI=Math.PI/180,YI=function(e){return"string"==typeof e},ZI=function(e){return YI(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*KI:e*KI},QI=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},JI=function(e,t,r,n,i,o){var s,a,l=360*(o?KI:1),u=YI(i),c=u&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,d=parseFloat(c?i.substr(2):i)*(o?KI:1),h=c?d*c:d-n,f=n+h;return u&&("short"===(s=i.split("_")[1])&&(h%=l)!=h%(l/2)&&(h+=h<0?l:-l),"cw"===s&&h<0?h=(h+1e10*l)%l-~~(h/l)*l:"ccw"===s&&h>0&&(h=(h-1e10*l)%l-~~(h/l)*l)),e._pt=a=new vI(e._pt,t,r,n,h,QI),a.e=f,a},eN=function(){xI()&&(pI=window,fI=EI(),gI=gI||pI.PIXI,bI=gI&&gI.VERSION&&"4"===gI.VERSION.charAt(0),mI=function(e){return fI.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(_I=0;_I<$I.length;_I++)wI=$I[_I],XI[wI+"X"]=wI,XI[wI+"Y"]=wI;var tN=e("P",{version:"3.12.2",name:"pixi",register:function(e,t,r){fI=e,vI=r,yI=t.getSetter,eN()},registerPIXI:function(e){gI=e},init:function(e,t,r,n,i){if(gI||eN(),!(gI&&e instanceof gI.DisplayObject))return AI(e),!1;var o,s,a,l,u,c,d,h,f;for(c in t){if(o=XI[c],a=t[c],o)s=~c.charAt(c.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],s,e[o][s],"skew"===o?ZI(a):a,0,0,0,0,0,1);else if("scale"===c||"anchor"===c||"pivot"===c||"tileScale"===c)this.add(e[c],"x",e[c].x,a),this.add(e[c],"y",e[c].y,a);else if("rotation"===c||"angle"===c)JI(this,e,c,e[c],a,"rotation"===c);else if(qI[c])l||(UI(e,t.colorMatrixFilter||t,this),l=!0);else if("blur"===c||"blurX"===c||"blurY"===c||"blurPadding"===c){if(u=II(e,"BlurFilter"),this.add(u,c,u[c],a),0!==t.blurPadding)for(d=t.blurPadding||2*Math.max(u[c],a),h=e.filters.length;--h>-1;)e.filters[h].padding=Math.max(e.filters[h].padding,d)}else if(WI[c])if(("lineColor"===c||"fillColor"===c)&&e instanceof gI.Graphics)for(f=(e.geometry||e).graphicsData,this._pt=new vI(this._pt,e,c,0,0,VI,{g:e.geometry||e}),h=f.length;--h>-1;)HI(bI?f[h]:f[h][c.substr(0,4)+"Style"],bI?c:"color",a,this);else HI(e,c,a,this);else"autoAlpha"===c?(this._pt=new vI(this._pt,e,"visible",0,0,GI),this.add(e,"alpha",e.alpha,a),this._props.push("alpha","visible")):"resolution"!==c&&this.add(e,c,"get",a);this._props.push(c)}}});EI()&&fI.registerPlugin(tN);class rN{constructor(e=0,t=0,r=0,n=0){this._x=Number(e),this._y=Number(t),this._width=Number(r),this._height=Number(n),this._hull=[new ew,new ew,new ew,new ew],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,t,r,n]=this._hull;e.set(this._x,this._y),t.set(this._x+this._width,this._y),r.set(this._x+this._width,this._y+this._height),n.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new rN(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}equals(e){return!!e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this}}const nN=new ew;class iN{constructor(e=0,t=0,r=0,n=0,i=0){e instanceof rN&&(i=t||0,t=e.y,r=e.width,n=e.height,e=e.x),this.innerBounds=new rN(e,t,r,n),this._rotation=i,this._center=new gw(this.updateCenter,this),this._hull=[new ew,new ew,new ew,new ew],this._matrix=new aw,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return!!e&&this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation}contains(e,t){"number"==typeof e&&(e=nN.set(e,t));const r=this._matrix.applyInverse(e,nN);return this.innerBounds.contains(r.x,r.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,t=this._rotation,r=this._center,[n,i,o,s]=this._hull,a=this._matrix;r._x=e.x+e.width/2,r._y=e.y+e.height/2,a.identity().translate(-r.x,-r.y).rotate(t).translate(r.x,r.y),a.apply(e.topLeft,n),a.apply(e.topRight,i),a.apply(e.bottomRight,o),a.apply(e.bottomLeft,s),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,t=this.innerBounds;t.x=e.x-t.width/2,t.y=e.y-t.height/2}}class oN{constructor(e,t){this._history=new Array(e),this._decayRatio=t,this._currentIndex=0;for(let r=0;r<e;r++)this._history[r]=0}next(e){const{_history:t,_decayRatio:r}=this,n=t.length;this._currentIndex=this._currentIndex<n-1?this._currentIndex+1:0,t[this._currentIndex]=e;let i=0,o=0;for(let s=this._currentIndex+1;s<n;s++)i=(i+t[s])*r,o=(o+1)*r;for(let s=0;s<=this._currentIndex;s++)i=(i+t[s])*r,o=(o+1)*r;return this._average=i/o,this._average}absDev(){let e=0;for(let t=0,r=this._history.length;t<r;t++)e+=Math.abs(this._history[t]-this._average);return e/this._history.length}}class sN{constructor(e={}){sN.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new oN(128,this._decayRatio),this._marginAverageProvider=new oN(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let t,r;Array.isArray(e)?(t=e,r=e.length):(r=e,t=new Array(r)),this._borrowRate+=r,this._flowRate+=r;let n=0;if(this._freeCount>0){const e=this._freeList,i=Math.min(this._freeCount,r);let o=this._freeCount;for(let r=0;r<i;r++)t[n]=e[o-1],++n,--o;this._freeCount=o}for(;n<r;)t[n]=this.create(),++n;return t}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let t=0,r=e.length;t<r;t++)this._freeList[this._freeCount]=e[t],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const t=this._freeCount-e;for(let e=0;e<t;e++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const t=Math.min(this._freeCount,this.capacity);for(let r=e;r<t;r++)this._freeList[r]=null}}startGC(e=hE.shared){e.add(this._gcTick,null,uE.UTILITY)}stopGC(e=hE.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const t=this._freeCount,r=this._freeList.length;if(t<128&&this._borrowRateAverage<128&&r<128)return;const n=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>n+e){const t=n+e;this.capacity=Math.min(this._freeList.length,Math.ceil(t)),this._freeCount=this._freeList.length}}}}var aN;const lN=new Map;class uN{static build(e){let t=lN.get(e);return t||(t=new class extends sN{create(){return new e}},lN.set(e,t),t)}static buildFunctional(e){return new(aN=class extends sN{constructor(...e){super(...e),aN.prototype.__init.call(this)}__init(){this.create=e}})}}const cN={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},dN=FD;class hN extends dN{constructor(e,t,r={},n,i,o){super(),this.transformer=e;const s=Object.assign({},cN,r);this._handle=t,this._style=s,this.onHandleDelta=n,this.onHandleCommit=i,this._dirty=!0,this.interactive=!0,this.cursor=o||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ew,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},cN,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,t=this._style,r=t.radius;if(this.clear().lineStyle(t.outlineThickness,t.outlineColor).beginFill(t.color),"square"===t.shape)this.drawRect(-r/2,-r/2,r,r);else if("tooth"===t.shape)switch(e){case"middleLeft":this.drawPolygon([-r/2,-r/2,-r/2,r/2,r/2,r/2,1.1*r,0,r/2,-r/2]);break;case"topCenter":this.drawPolygon([-r/2,-r/2,r/2,-r/2,r/2,r/2,0,1.1*r,-r/2,r/2]);break;case"middleRight":this.drawPolygon([-r/2,r/2,1.1*-r,0,-r/2,-r/2,r/2,-r/2,r/2,r/2]);break;case"bottomCenter":this.drawPolygon([0,1.1*-r,r/2,-r/2,r/2,r/2,-r/2,r/2,-r/2,-r/2]);break;case"rotator":this.drawCircle(0,0,r/Math.sqrt(2));break;default:this.drawRect(-r/2,-r/2,r,r)}else this.drawCircle(0,0,r);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const t=e.data.global;this.onHandleDelta&&this.onHandleDelta(t),this._pointerPosition.copyFrom(t)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function fN(e,t,r,n){const{x:i,y:o}=r,{x:s,y:a}=n;if(Math.abs(s-i)<.01)return Math.abs(e-i);if(Math.abs(a-o)<.01)return Math.abs(t-o);const l=(a-o)/(s-i);return Math.abs((l*e-t+(a-l*s))/Math.sqrt(l*l+1))}const pN=uN.build(ew),mN=[new ew,new ew,new ew,new ew],gN=new aw,vN=new ew,yN=new Array(12),bN=[[0,0,0,1,-1,1,-1,-1,1,-1,1,0],[0,0,-1,0,-1,-1,1,-1,1,1,0,1],[0,0,1,0,1,1,-1,1,-1,-1,0,-1],[0,0,0,-1,1,-1,1,1,-1,1,-1,0]],_N=FD;class wN extends _N{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new FD),this.addChild(new FD),this.addChild(new FD),this.addChild(new FD)],this.boxScalingHandles.forEach((e=>{e.interactive=!0})),this.boxScalingHandles[0].cursor=jN.topCenter,this.boxScalingHandles[1].cursor=jN.middleRight,this.boxScalingHandles[2].cursor=jN.bottomCenter,this.boxScalingHandles[3].cursor=jN.middleLeft}hitHandleType(e,t,r){const{boxRotationEnabled:n,boxRotationTolerance:i,boxScalingEnabled:o,boxScalingTolerance:s}=this.transformer,[a,l,u,c]=e.hull,{x:d,y:h}=t.applyInverse(r,vN);if(o){const e=fN(d,h,a,l)*t.d,r=fN(d,h,a,c)*t.a,n=fN(d,h,l,u)*t.a,i=fN(d,h,c,u)*t.d,o=Math.min(e,r,n,i);if(o<s)switch(o){case e:return"topCenter";case r:return"middleLeft";case n:return"middleRight";case i:return"bottomCenter"}}if(n&&!e.contains(d,h)){const e=Math.sqrt((a.x-d)**2+(a.y-h)**2),t=Math.sqrt((l.x-d)**2+(l.y-h)**2),r=Math.sqrt((c.x-d)**2+(c.y-h)**2),n=Math.sqrt((u.x-d)**2+(u.y-h)**2),o=Math.min(e,t,r,n);if(o<1.45*i)switch(o){case e:return"boxRotateTopLeft";case t:return"boxRotateTopRight";case r:return"boxRotateBottomLeft";case n:return"boxRotateBottomRight"}}return null}drawBounds(e){const t=mN;for(let r=0;r<4;r++)this.transformer.projectToLocal(e.hull[r],t[r]);this.drawPolygon(t)}drawBoxScalingTolerance(e,t=this.transformer.boxScalingTolerance){e.innerBounds.pad(-t);const r=pN.allocateArray(4);r.forEach(((t,r)=>{this.projectToLocal(e.hull[r],t)})),e.innerBounds.pad(2.5*t);const n=pN.allocateArray(4);n.forEach(((t,r)=>{this.projectToLocal(e.hull[r],t)})),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let i=0;i<4;i++){const e=r[i],t=r[(i+1)%4],o=n[i],s=n[(i+1)%4];this.boxScalingHandles[i].clear().beginFill(16777215,1e-4).drawPolygon(e,o,s,t).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:t,boxRotateBottomLeft:r,boxRotateBottomRight:n}=this.transformer.handleAnchors,i=2*this.transformer.boxRotationTolerance,o=gN.identity().scale(i,i).rotate(this.transformer.getGroupBounds().rotation);for(let s=0;s<4;s++){const i=bN[s];let a;switch(s){case 0:a=e;break;case 1:a=t;break;case 2:a=r;break;case 3:a=n}for(let e=0;e<i.length;e+=2){const t=i[e],r=i[e+1];vN.set(t,r),o.apply(vN,vN),yN[e]=vN.x+a.x,yN[e+1]=vN.y+a.y}this.drawPolygon(yN.slice())}}projectToLocal(e,t){return this.transformer.projectToLocal(e,t)}}const xN=new aw;function EN(e){const t=xN.identity();return t.c=Math.tan(e),t}function CN(e){const t=xN.identity();return t.b=Math.tan(e),t}function AN(e,t,r,n=e.pivot){const i=t.a,o=t.b,s=t.c,a=t.d,l=-Math.atan2(-s,a),u=Math.atan2(o,i);return r=null!=r?r:u,e.pivot.set(n.x,n.y),e.rotation=r,e.skew.x=r+l,e.skew.y=-r+u,e.scale.x=Math.sqrt(i*i+o*o),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=t.tx+(n.x*t.a+n.y*t.c),e.position.y=t.ty+(n.x*t.b+n.y*t.d),e}const DN=new aw,TN=new aw;function SN(e,t,r){if(!r){const t=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}const n=e.worldTransform,i=e.parent?TN.copyFrom(e.parent.worldTransform):aw.IDENTITY;DN.copyFrom(n),DN.prepend(t),DN.prepend(i.invert()),AN(e.transform,DN)}const kN=new yw,PN=[new ew,new ew,new ew,new ew],RN=new aw,ON=new ew,BN=new iN,MN=new rw,FN=[new ew,new ew,new ew,new ew],IN=new ew,NN=new aw,LN=uN.build(ew),jN={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},UN=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],zN={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},VN=[...UN,"rotator","skewHorizontal","skewVertical"],GN=[Math.PI/4,Math.PI/2,3*Math.PI/4,Math.PI,0,-Math.PI/4,-Math.PI/2,3*-Math.PI/4,-Math.PI],HN=Math.PI/90,WN=[Math.PI/4,-Math.PI/4],$N=Math.PI/90,XN={color:0,thickness:2},qN=UE;class KN extends qN{constructor(e={}){super(),KN.prototype.__init.call(this),KN.prototype.__init2.call(this),KN.prototype.__init3.call(this),KN.prototype.__init4.call(this),KN.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||16,this.boxScalingTolerance=e.boxScalingTolerance||4,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new aw,this.lockAspectRatio=!0===e.lockAspectRatio,this.rotationSnaps=e.rotationSnaps||GN,this.rotationSnapTolerance=void 0!==e.rotationSnapTolerance?e.rotationSnapTolerance:HN,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||WN,this.skewSnapTolerance=void 0!==e.skewSnapTolerance?e.skewSnapTolerance:$N,this.boxRotationEnabled=!0===e.boxRotationEnabled,this.boxScalingEnabled=!0===e.boxScalingEnabled,this._rotateEnabled=!1!==e.rotateEnabled,this._scaleEnabled=!1!==e.scaleEnabled,this._skewEnabled=!0===e.skewEnabled,this.translateEnabled=!1!==e.translateEnabled,this.transientGroupTilt=void 0===e.transientGroupTilt||e.transientGroupTilt,this.wireframe=this.addChild(new wN(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},XN,e.wireframeStyle||{});const t=e.handleConstructor||hN,r=e.handleStyle||{};this._handleStyle=r;const n={rotator:this.addChild(new t(this,"rotator",r,(e=>{this.rotateGroup("rotator",e)}),this.commitGroup))},i=UN.reduce(((e,n)=>{const i=new t(this,n,r,null,this.commitGroup,jN[n]);return i.onHandleDelta=e=>{this.scaleGroup(i.handle,e)},i.visible=this._scaleEnabled,e[n]=i,this.addChild(e[n]),e}),{}),o={skewHorizontal:this.addChild(new t(this,"skewHorizontal",r,(e=>{this.skewGroup("skewHorizontal",e)}),this.commitGroup,"pointer")),skewVertical:this.addChild(new t(this,"skewVertical",r,(e=>{this.skewGroup("skewVertical",e)}),this.commitGroup,"pointer"))};this.handles=Object.assign({},i,n,o),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new ew,boxRotateTopLeft:new ew,boxRotateTopRight:new ew,boxRotateBottomLeft:new ew,boxRotateBottomRight:new ew,topLeft:new ew,topCenter:new ew,topRight:new ew,middleLeft:new ew,middleCenter:new ew,middleRight:new ew,bottomLeft:new ew,bottomCenter:new ew,bottomRight:new ew,skewHorizontal:new ew,skewVertical:new ew},this.groupBounds=new iN,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ew,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){(this._enabledHandles||e)&&(this._enabledHandles=e,VN.forEach((e=>{this.handles[e].visible=!1})),e?e.forEach((e=>{this.handles[e].visible=!0})):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,UN.forEach((e=>{"middleCenter"!==e&&(this.handles[e].visible=this._scaleEnabled)}))))}get handleStyle(){return this._handleStyle}set handleStyle(e){const t=this.handles;for(const r in t)t[r].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;UN.forEach((t=>{"middleCenter"!==t&&(this.handles[t].visible=e)}))}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},XN,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const t=RN.identity().translate(e.x,e.y);this.prependTransform(t)}}__init2(){this.rotateGroup=(e,t)=>{this._transformHandle=e,this._transformType="rotate";const r=this.groupBounds,n=this.worldTransform.apply(this.handleAnchors[e],ON);this.projectionTransform.applyInverse(n,n),t=this.projectionTransform.applyInverse(t,IN);const i=r.center,o=Math.atan2(n.y-i.y,n.x-i.x);let s=Math.atan2(t.y-i.y,t.x-i.x)-o,a=this.groupBounds.rotation+s;a=this.snapAngle(a,this.rotationSnapTolerance,this.rotationSnaps),s=a-this.groupBounds.rotation;const l=RN.identity().translate(-i.x,-i.y).rotate(s).translate(i.x,i.y);this.prependTransform(l,!0),this.updateGroupBounds(a),this._skewX+=s,this._skewY+=s}}__init3(){this.scaleGroup=(e,t)=>{this._transformHandle=e,this._transformType="scale";const r=zN[e].x,n=zN[e].y,i=this.handles,o=this.groupBounds,s=o.rotation,a=o.innerBounds,l=this.worldTransform.apply(this.handleAnchors[e],ON);this.projectionTransform.applyInverse(l,l);const u=(t=this.projectionTransform.applyInverse(t,IN)).x-l.x,c=t.y-l.y,d=(o.topRight.x-o.topLeft.x)/a.width,h=(o.topRight.y-o.topLeft.y)/a.width,f=u*((o.bottomLeft.x-o.topLeft.x)/a.height)+c*((o.bottomLeft.y-o.topLeft.y)/a.height);let p=1+(u*d+c*h)*r/a.width,m=1+f*n/a.height;this.lockAspectRatio&&("topLeft"===e||"topRight"===e||"bottomLeft"===e||"bottomRight"===e)&&(p>m?m=p:p=m);const g=RN.identity();if(0!==r&&0!==p){const e=this.centeredScaling?o.center:1===r?o.topLeft:o.topRight;g.translate(-e.x,-e.y).rotate(-s).scale(p,1).rotate(s).translate(e.x,e.y)}if(0!==n&&0!==m){const e=this.centeredScaling?o.center:1===n?o.topLeft:o.bottomLeft;g.translate(-e.x,-e.y).rotate(-s).scale(1,m).rotate(s).translate(e.x,e.y)}if((m<0||p<0)&&!(m<0&&p<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(i.topLeft,i.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(i.topCenter,i.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(i.topRight,i.bottomRight)}this.prependTransform(g)}}__init4(){this.skewGroup=(e,t)=>{this._transformHandle=e,this._transformType="skew";const r=this.groupBounds,n=ON.copyFrom(t);this.projectionTransform.applyInverse(n,n);const i=r.center,o=RN.identity().translate(-i.x,-i.y);let s=this.groupBounds.rotation;if("skewHorizontal"===e){const e=this._skewX;this._skewX=Math.atan2(n.y-i.y,n.x-i.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),o.prepend(CN(-e)),o.prepend(CN(this._skewX))}else{const e=this._skewY,t=Math.atan2(n.y-i.y,n.x-i.x)-Math.PI/2;this._skewY=t,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),o.prepend(EN(e)),o.prepend(EN(-this._skewY)),s-=this._skewY-e}o.translate(i.x,i.y),this.prependTransform(o,!0),this.updateGroupBounds(s)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",!1!==this.transientGroupTilt&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:t,thickness:r}=this._wireframeStyle;this.wireframe.clear(),"none"!==this.boundingBoxes&&this.wireframe.lineStyle(r,t),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let i=0,o=e.length;i<o&&"all"===this.boundingBoxes;i++)this.wireframe.drawBounds(KN.calculateOrientedBounds(e[i],BN));const n=1!==e.length?KN.calculateGroupOrientedBounds(e,this.groupBounds.rotation,BN,!0):KN.calculateOrientedBounds(e[0],BN);this.wireframe.drawBounds(n),this.drawHandles(n),this.groupBounds.copyFrom(n),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(n)),this.lazyDirty=!1}drawHandles(e){const t=this.handles,r=this.handleAnchors,{topLeft:n,topRight:i,bottomLeft:o,bottomRight:s,center:a}=e,[l,u,c,d]=FN,h=ON;if(this.projectToLocal(n,l),this.projectToLocal(i,u),this.projectToLocal(o,c),this.projectToLocal(s,d),this.projectToLocal(a,h),r.topLeft.copyFrom(l),r.topCenter.set((l.x+u.x)/2,(l.y+u.y)/2),r.topRight.copyFrom(u),r.middleLeft.set((l.x+c.x)/2,(l.y+c.y)/2),r.middleCenter.set((l.x+d.x)/2,(l.y+d.y)/2),r.middleRight.set((u.x+d.x)/2,(u.y+d.y)/2),r.bottomLeft.copyFrom(c),r.bottomCenter.set((c.x+d.x)/2,(c.y+d.y)/2),r.bottomRight.copyFrom(d),this.boxRotationEnabled&&(r.boxRotateTopLeft.copyFrom(r.topLeft),r.boxRotateTopRight.copyFrom(r.topRight),r.boxRotateBottomLeft.copyFrom(r.bottomLeft),r.boxRotateBottomRight.copyFrom(r.bottomRight)),this._rotateEnabled){const e=(l.x+u.x)/2,r=(l.y+u.y)/2;let n=-(l.y-u.y),i=l.x-u.x;const o=Math.sqrt(n*n+i*i);n*=32/o,i*=32/o,t.rotator.position.x=e+n,t.rotator.position.y=r+i,this.wireframe.moveTo(e,r).lineTo(t.rotator.position.x,t.rotator.position.y),this.handleAnchors.rotator.copyFrom(t.rotator.position)}if(this._skewEnabled){const e=h.x,n=h.y;this.worldTransform.apply(h,h),r.skewHorizontal.set(h.x+Math.cos(this._skewX)*this.skewRadius,h.y+Math.sin(this._skewX)*this.skewRadius),r.skewVertical.set(h.x+-Math.sin(this._skewY)*this.skewRadius,h.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(r.skewHorizontal,r.skewHorizontal),this.worldTransform.applyInverse(r.skewVertical,r.skewVertical),h.set(e,n),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(h.x,h.y,2*this.wireframeStyle.thickness).endFill(),this.wireframe.moveTo(h.x,h.y).lineTo(t.skewHorizontal.x,t.skewHorizontal.y).moveTo(h.x,h.y).lineTo(t.skewVertical.x,t.skewVertical.y)}for(const f in t){let e=this.groupBounds.rotation;"skewHorizontal"===f?e=this._skewX:"skewVertical"===f&&(e=this._skewY);const n=t[f];n.rotation=e,n.position.copyFrom(r[f]),n.getBounds(!1,MN)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const t=this._pointerPosition,r=LN.allocate().copyFrom(e.data.global),n=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,r);if(this._pointerDown){const i=r.x,o=r.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,r);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,r);break;default:if(this.translateEnabled){const[e,n,i]=FN;e.set(0,0),n.set(r.x-t.x,r.y-t.y),this.projectionTransform.applyInverse(e,e),this.projectionTransform.applyInverse(n,n),i.set(n.x-e.x,n.y-e.y),this.translateGroup(i)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,r),this.setCursorFromHoveredHandle(n);this._pointerPosition.x=i,this._pointerPosition.y=o,this._pointerDragging=!0,e.stopPropagation()}else this.setCursorFromHoveredHandle(n);LN.release(r)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,t=!1){const r=this.group;for(let n=0,i=r.length;n<i;n++)SN(r[n],e,!1);NN.copyFrom(e),t||this.updateGroupBounds(),this.emit("transformchange",NN)}updateGroupBounds(e=this.groupBounds.rotation){KN.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,t,r){if(e%=2*Math.PI,!r||1===r.length||!t)return e;for(let n=0,i=r.length;n<i;n++)if(Math.abs(e-r[n])<=t)return r[n];return e}swapHandles(e,t){const r=e.handle,n=t.handle,i=e.cursor,o=t.cursor,s=e.x,a=t.x,l=e.y,u=t.y;e.handle=n,t.handle=r,e.position.set(a,u),t.position.set(s,l),e.cursor=o,t.cursor=i,this.handles[r]=t,this.handles[n]=e,this._transformHandle===r?this._transformHandle=n:this._transformHandle===n&&(this._transformHandle=r)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,t){return t||(t=new ew),this.projectionTransform.apply(e,t),this.worldTransform.applyInverse(t,t),t}static calculateTransformedCorners(e,t=e.worldTransform,r,n=0){const i=e.getLocalBounds();return e.getBounds(),(r=r||[new ew,new ew,new ew,new ew])[n].set(i.x,i.y),r[n+1].set(i.x+i.width,i.y),r[n+2].set(i.x+i.width,i.y+i.height),r[n+3].set(i.x,i.y+i.height),t.apply(r[n],r[n]),t.apply(r[n+1],r[n+1]),t.apply(r[n+2],r[n+2]),t.apply(r[n+3],r[n+3]),r}static calculateOrientedBounds(e,t){const r=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(r),AN(kN,e.worldTransform),kN.updateLocalTransform();const n=kN.rotation,i=KN.calculateTransformedCorners(e,e.worldTransform,PN),o=(i[0].x+i[1].x+i[2].x+i[3].x)/4,s=(i[0].y+i[1].y+i[2].y+i[3].y)/4,a=RN.identity().translate(-o,-s).rotate(-kN.rotation).translate(o,s);return a.apply(i[0],i[0]),a.apply(i[1],i[1]),a.apply(i[2],i[2]),a.apply(i[3],i[3]),(t=t||new iN).rotation=n,t.innerBounds.x=Math.min(i[0].x,i[1].x,i[2].x,i[3].x),t.innerBounds.y=Math.min(i[0].y,i[1].y,i[2].y,i[3].y),t.innerBounds.width=Math.max(i[0].x,i[1].x,i[2].x,i[3].x)-t.innerBounds.x,t.innerBounds.height=Math.max(i[0].y,i[1].y,i[2].y,i[3].y)-t.innerBounds.y,t}static calculateGroupOrientedBounds(e,t,r,n=!1){const i=e.length,o=LN.allocateArray(4*i);for(let d=0;d<i;d++){const t=e[d];if(!n){const e=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(e)}KN.calculateTransformedCorners(t,t.worldTransform,o,4*d)}const s=RN.identity().rotate(-t);let a=Number.MAX_VALUE,l=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=-Number.MAX_VALUE;for(let d=0,h=o.length;d<h;d++){const e=o[d];s.apply(e,e);const t=e.x,r=e.y;a=t<a?t:a,l=r<l?r:l,u=t>u?t:u,c=r>c?r:c}return LN.releaseArray(o),(r=r||new iN).innerBounds.x=a,r.innerBounds.y=l,r.innerBounds.width=u-a,r.innerBounds.height=c-l,r.rotation=t,s.applyInverse(r.center,ON),r.center.copyFrom(ON),r}}e("u",KN);var YN=Symbol.for("immer-nothing"),ZN=Symbol.for("immer-draftable"),QN=Symbol.for("immer-state");function JN(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var eL=Object.getPrototypeOf;function tL(e){return!!e&&!!e[QN]}function rL(e){return!!e&&(iL(e)||Array.isArray(e)||!!e[ZN]||!!e.constructor?.[ZN]||uL(e)||cL(e))}var nL=Object.prototype.constructor.toString();function iL(e){if(!e||"object"!=typeof e)return!1;const t=eL(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===nL}function oL(e,t){0===sL(e)?Reflect.ownKeys(e).forEach((r=>{t(r,e[r],e)})):e.forEach(((r,n)=>t(n,r,e)))}function sL(e){const t=e[QN];return t?t.type_:Array.isArray(e)?1:uL(e)?2:cL(e)?3:0}function aL(e,t){return 2===sL(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lL(e,t,r){const n=sL(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function uL(e){return e instanceof Map}function cL(e){return e instanceof Set}function dL(e){return e.copy_||e.base_}function hL(e,t){if(uL(e))return new Map(e);if(cL(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=iL(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[QN];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(eL(e),t)}{const t=eL(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function fL(e,t=!1){return mL(e)||tL(e)||!rL(e)||(sL(e)>1&&(e.set=e.add=e.clear=e.delete=pL),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>fL(t,!0)))),e}function pL(){JN(2)}function mL(e){return Object.isFrozen(e)}var gL,vL={};function yL(e){const t=vL[e];return t||JN(0),t}function bL(){return gL}function _L(e,t){t&&(yL("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wL(e){xL(e),e.drafts_.forEach(CL),e.drafts_=null}function xL(e){e===gL&&(gL=e.parent_)}function EL(e){return gL={drafts_:[],parent_:gL,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CL(e){const t=e[QN];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function AL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[QN].modified_&&(wL(t),JN(4)),rL(e)&&(e=DL(t,e),t.parent_||SL(t,e)),t.patches_&&yL("Patches").generateReplacementPatches_(r[QN].base_,e,t.patches_,t.inversePatches_)):e=DL(t,r,[]),wL(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YN?e:void 0}function DL(e,t,r){if(mL(t))return t;const n=t[QN];if(!n)return oL(t,((i,o)=>TL(e,n,t,i,o,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return SL(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,o=!1;3===n.type_&&(i=new Set(t),t.clear(),o=!0),oL(i,((i,s)=>TL(e,n,t,i,s,r,o))),SL(e,t,!1),r&&e.patches_&&yL("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function TL(e,t,r,n,i,o,s){if(tL(i)){const s=DL(e,i,o&&t&&3!==t.type_&&!aL(t.assigned_,n)?o.concat(n):void 0);if(lL(r,n,s),!tL(s))return;e.canAutoFreeze_=!1}else s&&r.add(i);if(rL(i)&&!mL(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;DL(e,i),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||SL(e,i)}}function SL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fL(t,r)}var kL={get(e,t){if(t===QN)return e;const r=dL(e);if(!aL(r,t))return function(e,t,r){const n=OL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!rL(n)?n:n===RL(e.base_,t)?(ML(e),e.copy_[t]=FL(n,e)):n},has:(e,t)=>t in dL(e),ownKeys:e=>Reflect.ownKeys(dL(e)),set(e,t,r){const n=OL(dL(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=RL(dL(e),t),i=n?.[QN];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,n)&&(void 0!==r||aL(e.base_,t)))return!0;ML(e),BL(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==RL(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ML(e),BL(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=dL(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){JN(11)},getPrototypeOf:e=>eL(e.base_),setPrototypeOf(){JN(12)}},PL={};function RL(e,t){const r=e[QN];return(r?dL(r):e)[t]}function OL(e,t){if(!(t in e))return;let r=eL(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=eL(r)}}function BL(e){e.modified_||(e.modified_=!0,e.parent_&&BL(e.parent_))}function ML(e){e.copy_||(e.copy_=hL(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function FL(e,t){const r=uL(e)?yL("MapSet").proxyMap_(e,t):cL(e)?yL("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=kL;r&&(i=[n],o=PL);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return n.draft_=a,n.revoke_=s,a}(e,t);return(t?t.scope_:bL()).drafts_.push(r),r}function IL(e){if(!rL(e)||mL(e))return e;const t=e[QN];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hL(e,t.scope_.immer_.useStrictShallowCopy_)}else r=hL(e,!0);return oL(r,((e,t)=>{lL(r,e,IL(t))})),t&&(t.finalized_=!1),r}function NL(){class e extends Map{constructor(e,t){super(),this[QN]={type_:2,parent_:t,scope_:t?t.scope_:bL(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return dL(this[QN]).size}has(e){return dL(this[QN]).has(e)}set(e,r){const n=this[QN];return i(n),dL(n).has(e)&&dL(n).get(e)===r||(t(n),BL(n),n.assigned_.set(e,!0),n.copy_.set(e,r),n.assigned_.set(e,!0)),this}delete(e){if(!this.has(e))return!1;const r=this[QN];return i(r),t(r),BL(r),r.base_.has(e)?r.assigned_.set(e,!1):r.assigned_.delete(e),r.copy_.delete(e),!0}clear(){const e=this[QN];i(e),dL(e).size&&(t(e),BL(e),e.assigned_=new Map,oL(e.base_,(t=>{e.assigned_.set(t,!1)})),e.copy_.clear())}forEach(e,t){dL(this[QN]).forEach(((r,n,i)=>{e.call(t,this.get(n),n,this)}))}get(e){const r=this[QN];i(r);const n=dL(r).get(e);if(r.finalized_||!rL(n))return n;if(n!==r.base_.get(e))return n;const o=FL(n,r);return t(r),r.copy_.set(e,o),o}keys(){return dL(this[QN]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:!1,value:[t.value,r]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.copy_||(e.assigned_=new Map,e.copy_=new Map(e.base_))}class r extends Set{constructor(e,t){super(),this[QN]={type_:3,parent_:t,scope_:t?t.scope_:bL(),modified_:!1,finalized_:!1,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return dL(this[QN]).size}has(e){const t=this[QN];return i(t),t.copy_?!!t.copy_.has(e)||!(!t.drafts_.has(e)||!t.copy_.has(t.drafts_.get(e))):t.base_.has(e)}add(e){const t=this[QN];return i(t),this.has(e)||(n(t),BL(t),t.copy_.add(e)),this}delete(e){if(!this.has(e))return!1;const t=this[QN];return i(t),n(t),BL(t),t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[QN];i(e),dL(e).size&&(n(e),BL(e),e.copy_.clear())}values(){const e=this[QN];return i(e),n(e),e.copy_.values()}entries(){const e=this[QN];return i(e),n(e),e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){const r=this.values();let n=r.next();for(;!n.done;)e.call(t,n.value,n.value,this),n=r.next()}}function n(e){e.copy_||(e.copy_=new Set,e.base_.forEach((t=>{if(rL(t)){const r=FL(t,e);e.drafts_.set(t,r),e.copy_.add(r)}else e.copy_.add(t)})))}function i(e){e.revoked_&&JN(3,JSON.stringify(dL(e)))}!function(e,t){vL[e]||(vL[e]=t)}("MapSet",{proxyMap_:function(t,r){return new e(t,r)},proxySet_:function(e,t){return new r(e,t)}})}oL(kL,((e,t)=>{PL[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),PL.deleteProperty=function(e,t){return PL.set.call(this,e,t,void 0)},PL.set=function(e,t,r){return kL.set.call(this,e[0],t,r,e[0])};var LL=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,(e=>t.call(this,e,...i)))}}let n;if("function"!=typeof t&&JN(6),void 0!==r&&"function"!=typeof r&&JN(7),rL(e)){const i=EL(this),o=FL(e,void 0);let s=!0;try{n=t(o),s=!1}finally{s?wL(i):xL(i)}return _L(i,r),AL(n,i)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===YN&&(n=void 0),this.autoFreeze_&&fL(n,!0),r){const t=[],i=[];yL("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}JN(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;const i=this.produce(e,t,((e,t)=>{r=e,n=t}));return[i,r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;rL(e)||JN(8),tL(e)&&(tL(t=e)||JN(10),e=IL(t));const r=EL(this),n=FL(e,void 0);return n[QN].isManual_=!0,xL(r),n}finishDraft(e,t){const r=e&&e[QN];r&&r.isManual_||JN(9);const{scope_:n}=r;return _L(n,t),AL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=yL("Patches").applyPatches_;return tL(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},jL=LL.produce;LL.produceWithPatches.bind(LL);var UL=LL.setAutoFreeze.bind(LL);LL.setUseStrictShallowCopy.bind(LL),LL.applyPatches.bind(LL);var zL=LL.createDraft.bind(LL),VL=LL.finishDraft.bind(LL);function GL(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function HL(...e){return G.useCallback(GL(...e),e)}e("w",(e=>(t,r,n)=>(n.setState=(e,r,...n)=>{const i="function"==typeof e?jL(e):e;return t(i,r,...n)},e(n.setState,r,n))));var WL=e("bG",G.forwardRef(((e,t)=>{const{children:r,...n}=e,i=G.Children.toArray(r),o=i.find(qL);if(o){const e=o.props.children,r=i.map((t=>t===o?G.Children.count(e)>1?G.Children.only(null):G.isValidElement(e)?e.props.children:null:t));return J.jsx($L,{...n,ref:t,children:G.isValidElement(e)?G.cloneElement(e,void 0,r):null})}return J.jsx($L,{...n,ref:t,children:r})})));WL.displayName="Slot";var $L=G.forwardRef(((e,t)=>{const{children:r,...n}=e;if(G.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(r);return G.cloneElement(r,{...KL(n,r.props),ref:t?GL(t,e):e})}return G.Children.count(r)>1?G.Children.only(null):null}));$L.displayName="SlotClone";var XL=({children:e})=>J.jsx(J.Fragment,{children:e});function qL(e){return G.isValidElement(e)&&e.type===XL}function KL(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}var YL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=G.forwardRef(((e,r)=>{const{asChild:n,...i}=e,o=n?WL:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),J.jsx(o,{...i,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function ZL(e,t){e&&ad.flushSync((()=>e.dispatchEvent(t)))}var QL=Boolean(globalThis?.document)?G.useLayoutEffect:()=>{},JL=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=G.useState(),n=G.useRef({}),i=G.useRef(e),o=G.useRef("none"),s=e?"mounted":"unmounted",[a,l]=function(e,t){return G.useReducer(((e,r)=>t[e][r]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return G.useEffect((()=>{const e=ej(n.current);o.current="mounted"===a?e:"none"}),[a]),QL((()=>{const t=n.current,r=i.current;if(r!==e){const n=o.current,s=ej(t);l(e?"MOUNT":"none"===s||"none"===t?.display?"UNMOUNT":r&&n!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}}),[e,l]),QL((()=>{if(t){const e=e=>{const r=ej(n.current).includes(e.animationName);e.target===t&&r&&ad.flushSync((()=>l("ANIMATION_END")))},r=e=>{e.target===t&&(o.current=ej(n.current))};return t.addEventListener("animationstart",r),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",r),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:G.useCallback((e=>{e&&(n.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:n.isPresent}):G.Children.only(r),o=HL(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof r||n.isPresent?G.cloneElement(i,{ref:o}):null};function ej(e){return e?.animationName||"none"}function tj(e,t=[]){let r=[];const n=()=>{const t=r.map((e=>G.createContext(e)));return function(r){const n=r?.[e]||t;return G.useMemo((()=>({[`__scope${e}`]:{...r,[e]:n}})),[r,n])}};return n.scopeName=e,[function(t,n){const i=G.createContext(n),o=r.length;function s(t){const{scope:r,children:n,...s}=t,a=r?.[e][o]||i,l=G.useMemo((()=>s),Object.values(s));return J.jsx(a.Provider,{value:l,children:n})}return r=[...r,n],s.displayName=t+"Provider",[s,function(r,s){const a=s?.[e][o]||i,l=G.useContext(a);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},rj(n,...t)]}function rj(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return G.useMemo((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return r.scopeName=t.scopeName,r}function nj(e){const t=G.useRef(e);return G.useEffect((()=>{t.current=e})),G.useMemo((()=>(...e)=>t.current?.(...e)),[])}JL.displayName="Presence";var ij=G.createContext(void 0);function oj(e){const t=G.useContext(ij);return e||t||"ltr"}function sj(e,[t,r]){return Math.min(r,Math.max(t,e))}function aj(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}var lj="ScrollArea",[uj,cj]=tj(lj),[dj,hj]=uj(lj),fj=G.forwardRef(((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=G.useState(null),[u,c]=G.useState(null),[d,h]=G.useState(null),[f,p]=G.useState(null),[m,g]=G.useState(null),[v,y]=G.useState(0),[b,_]=G.useState(0),[w,x]=G.useState(!1),[E,C]=G.useState(!1),A=HL(t,(e=>l(e))),D=oj(i);return J.jsx(dj,{scope:r,type:n,dir:D,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:x,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:_,children:J.jsx(YL.div,{dir:D,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})}));fj.displayName=lj;var pj="ScrollAreaViewport",mj=G.forwardRef(((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...o}=e,s=hj(pj,r),a=HL(t,G.useRef(null),s.onViewportChange);return J.jsxs(J.Fragment,{children:[J.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),J.jsx(YL.div,{"data-radix-scroll-area-viewport":"",...o,ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:J.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})}));mj.displayName=pj;var gj="ScrollAreaScrollbar",vj=e("z",G.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=hj(gj,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a="horizontal"===e.orientation;return G.useEffect((()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)})),[a,o,s]),"hover"===i.type?J.jsx(yj,{...n,ref:t,forceMount:r}):"scroll"===i.type?J.jsx(bj,{...n,ref:t,forceMount:r}):"auto"===i.type?J.jsx(_j,{...n,ref:t,forceMount:r}):"always"===i.type?J.jsx(wj,{...n,ref:t}):null})));vj.displayName=gj;var yj=G.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=hj(gj,e.__scopeScrollArea),[o,s]=G.useState(!1);return G.useEffect((()=>{const e=i.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),s(!0)},n=()=>{t=window.setTimeout((()=>s(!1)),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}}),[i.scrollArea,i.scrollHideDelay]),J.jsx(JL,{present:r||o,children:J.jsx(_j,{"data-state":o?"visible":"hidden",...n,ref:t})})})),bj=G.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=hj(gj,e.__scopeScrollArea),o="horizontal"===e.orientation,s=Uj((()=>l("SCROLL_END")),100),[a,l]=function(e,t){return G.useReducer(((e,r)=>t[e][r]??e),e)}("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return G.useEffect((()=>{if("idle"===a){const e=window.setTimeout((()=>l("HIDE")),i.scrollHideDelay);return()=>window.clearTimeout(e)}}),[a,i.scrollHideDelay,l]),G.useEffect((()=>{const e=i.viewport,t=o?"scrollLeft":"scrollTop";if(e){let r=e[t];const n=()=>{const n=e[t];r!==n&&(l("SCROLL"),s()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}}),[i.viewport,o,l,s]),J.jsx(JL,{present:r||"hidden"!==a,children:J.jsx(wj,{"data-state":"hidden"===a?"hidden":"visible",...n,ref:t,onPointerEnter:aj(e.onPointerEnter,(()=>l("POINTER_ENTER"))),onPointerLeave:aj(e.onPointerLeave,(()=>l("POINTER_LEAVE")))})})})),_j=G.forwardRef(((e,t)=>{const r=hj(gj,e.__scopeScrollArea),{forceMount:n,...i}=e,[o,s]=G.useState(!1),a="horizontal"===e.orientation,l=Uj((()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;s(a?e:t)}}),10);return zj(r.viewport,l),zj(r.content,l),J.jsx(JL,{present:n||o,children:J.jsx(wj,{"data-state":o?"visible":"hidden",...i,ref:t})})})),wj=G.forwardRef(((e,t)=>{const{orientation:r="vertical",...n}=e,i=hj(gj,e.__scopeScrollArea),o=G.useRef(null),s=G.useRef(0),[a,l]=G.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Mj(a.viewport,a.content),c={...n,sizes:a,onSizesChange:l,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function d(e,t){return function(e,t,r,n="ltr"){const i=Fj(r),o=i/2,s=t||o,a=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,c=r.content-r.viewport,d="ltr"===n?[0,c]:[-1*c,0],h=Nj([l,u],d);return h(e)}(e,s.current,a,t)}return"horizontal"===r?J.jsx(xj,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const e=Ij(i.viewport.scrollLeft,a,i.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=d(e,i.dir))}}):"vertical"===r?J.jsx(Ej,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const e=Ij(i.viewport.scrollTop,a);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=d(e))}}):null})),xj=G.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=hj(gj,e.__scopeScrollArea),[s,a]=G.useState(),l=G.useRef(null),u=HL(t,l,o.onScrollbarXChange);return G.useEffect((()=>{l.current&&a(getComputedStyle(l.current))}),[l]),J.jsx(Dj,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fj(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(o.viewport){const n=o.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),Lj(n,r)&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Bj(s.paddingLeft),paddingEnd:Bj(s.paddingRight)}})}})})),Ej=G.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=hj(gj,e.__scopeScrollArea),[s,a]=G.useState(),l=G.useRef(null),u=HL(t,l,o.onScrollbarYChange);return G.useEffect((()=>{l.current&&a(getComputedStyle(l.current))}),[l]),J.jsx(Dj,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fj(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(o.viewport){const n=o.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),Lj(n,r)&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Bj(s.paddingTop),paddingEnd:Bj(s.paddingBottom)}})}})})),[Cj,Aj]=uj(gj),Dj=G.forwardRef(((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=e,f=hj(gj,r),[p,m]=G.useState(null),g=HL(t,(e=>m(e))),v=G.useRef(null),y=G.useRef(""),b=f.viewport,_=n.content-n.viewport,w=nj(c),x=nj(l),E=Uj(d,10);function C(e){if(v.current){const t=e.clientX-v.current.left,r=e.clientY-v.current.top;u({x:t,y:r})}}return G.useEffect((()=>{const e=e=>{const t=e.target,r=p?.contains(t);r&&w(e,_)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[b,p,_,w]),G.useEffect(x,[n,x]),zj(p,E),zj(f.content,E),J.jsx(Cj,{scope:r,scrollbar:p,hasThumb:i,onThumbChange:nj(o),onThumbPointerUp:nj(s),onThumbPositionChange:x,onThumbPointerDown:nj(a),children:J.jsx(YL.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:aj(e.onPointerDown,(e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),v.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(e))})),onPointerMove:aj(e.onPointerMove,C),onPointerUp:aj(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null}))})})})),Tj="ScrollAreaThumb",Sj=e("D",G.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=Aj(Tj,e.__scopeScrollArea);return J.jsx(JL,{present:r||i.hasThumb,children:J.jsx(kj,{ref:t,...n})})}))),kj=G.forwardRef(((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,o=hj(Tj,r),s=Aj(Tj,r),{onThumbPositionChange:a}=s,l=HL(t,(e=>s.onThumbChange(e))),u=G.useRef(),c=Uj((()=>{u.current&&(u.current(),u.current=void 0)}),100);return G.useEffect((()=>{const e=o.viewport;if(e){const t=()=>{if(c(),!u.current){const t=jj(e,a);u.current=t,a()}};return a(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[o.viewport,c,a]),J.jsx(YL.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:aj(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;s.onThumbPointerDown({x:r,y:n})})),onPointerUp:aj(e.onPointerUp,s.onThumbPointerUp)})}));Sj.displayName=Tj;var Pj="ScrollAreaCorner",Rj=G.forwardRef(((e,t)=>{const r=hj(Pj,e.__scopeScrollArea),n=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?J.jsx(Oj,{...e,ref:t}):null}));Rj.displayName=Pj;var Oj=G.forwardRef(((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=hj(Pj,r),[o,s]=G.useState(0),[a,l]=G.useState(0),u=Boolean(o&&a);return zj(i.scrollbarX,(()=>{const e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),l(e)})),zj(i.scrollbarY,(()=>{const e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),s(e)})),u?J.jsx(YL.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null}));function Bj(e){return e?parseInt(e,10):0}function Mj(e,t){const r=e/t;return isNaN(r)?0:r}function Fj(e){const t=Mj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ij(e,t,r="ltr"){const n=Fj(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-n,l=sj(e,"ltr"===r?[0,s]:[-1*s,0]);return Nj([0,s],[0,a])(l)}function Nj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Lj(e,t){return e>0&&e<t}var jj=(e,t=(()=>{}))=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=r.left!==o.left,a=r.top!==o.top;(s||a)&&t(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Uj(e,t){const r=nj(e),n=G.useRef(0);return G.useEffect((()=>()=>window.clearTimeout(n.current)),[]),G.useCallback((()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)}),[r,t])}function zj(e,t){const r=nj(t);QL((()=>{let t=0;if(e){const n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)}));return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}}),[e,r])}function Vj(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Vj(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}e("x",fj),e("V",mj),e("y",Rj);const Gj=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,Hj=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Vj(e))&&(n&&(n+=" "),n+=t);return n},Wj=(e("bF",((e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return Hj(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map((e=>{const t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;const s=Gj(t)||Gj(n);return i[e][s]})),a=r&&Object.entries(r).reduce(((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e}),{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce(((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every((e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...a}[t]):{...o,...a}[t]===r}))?[...e,r,n]:e}),[]);return Hj(e,s,l,null==r?void 0:r.class,null==r?void 0:r.className)})),e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),$j=(...e)=>e.filter(((e,t,r)=>Boolean(e)&&r.indexOf(e)===t)).join(" ")
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */;var Xj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */const qj=G.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:s,...a},l)=>G.createElement("svg",{ref:l,...Xj,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:$j("lucide",i),...a},[...s.map((([e,t])=>G.createElement(e,t))),...Array.isArray(o)?o:[o]]))),Kj=(e,t)=>{const r=G.forwardRef((({className:r,...n},i)=>G.createElement(qj,{ref:i,iconNode:t,className:$j(`lucide-${Wj(e)}`,r),...n})));return r.displayName=`${e}`,r};
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */function Yj({prop:e,defaultProp:t,onChange:r=(()=>{})}){const[n,i]=function({defaultProp:e,onChange:t}){const r=G.useState(e),[n]=r,i=G.useRef(n),o=nj(t);return G.useEffect((()=>{i.current!==n&&(o(n),i.current=n)}),[n,i,o]),r}({defaultProp:t,onChange:r}),o=void 0!==e,s=o?e:n,a=nj(r);return[s,G.useCallback((t=>{if(o){const r="function"==typeof t?t(e):t;r!==e&&a(r)}else i(t)}),[o,e,i,a])]}function Zj(e){const t=e+"CollectionProvider",[r,n]=tj(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:r}=e,n=H.useRef(null),o=H.useRef(new Map).current;return J.jsx(i,{scope:t,itemMap:o,collectionRef:n,children:r})};s.displayName=t;const a=e+"CollectionSlot",l=H.forwardRef(((e,t)=>{const{scope:r,children:n}=e,i=HL(t,o(a,r).collectionRef);return J.jsx(WL,{ref:i,children:n})}));l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=H.forwardRef(((e,t)=>{const{scope:r,children:n,...i}=e,s=H.useRef(null),a=HL(t,s),l=o(u,r);return H.useEffect((()=>(l.itemMap.set(s,{ref:s,...i}),()=>{l.itemMap.delete(s)}))),J.jsx(WL,{[c]:"",ref:a,children:n})}));return d.displayName=u,[{Provider:s,Slot:l,ItemSlot:d},function(t){const r=o(e+"CollectionConsumer",t),n=H.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`)),n=Array.from(r.itemMap.values()).sort(((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current)));return n}),[r.collectionRef,r.itemMap]);return n},n]}function Qj(e,t=globalThis?.document){const r=nj(e);G.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}e("aL",Kj("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]])),e("I",Kj("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]])),e("J",Kj("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]])),e("K",Kj("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]])),e("M",Kj("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]])),e("aP",Kj("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])),e("aO",Kj("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])),e("a1",Kj("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]])),e("W",Kj("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])),e("aM",Kj("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]])),e("aS",Kj("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])),e("X",Kj("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])),e("O",Kj("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])),e("Y",Kj("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])),e("Z",Kj("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])),e("$",Kj("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])),e("a3",Kj("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]])),e("aN",Kj("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])),e("aU",Kj("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])),e("ap",Kj("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])),e("ab",Kj("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])),e("aH",Kj("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])),e("aG",Kj("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])),e("a0",Kj("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])),e("dm",Kj("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]])),e("aR",Kj("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])),e("a8",Kj("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])),e("ac",Kj("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]])),e("ad",Kj("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]])),e("ae",Kj("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]])),e("af",Kj("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]])),e("ag",Kj("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]])),e("ah",Kj("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]])),e("ai",Kj("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])),e("aY",Kj("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]])),e("ar",Kj("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]])),e("aj",Kj("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]])),e("ak",Kj("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])),e("al",Kj("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]])),e("aW",Kj("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]])),e("a_",Kj("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])),e("aF",Kj("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])),e("an",Kj("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])),e("aq",Kj("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])),e("aD",Kj("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])),e("bQ",Kj("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])),e("aJ",Kj("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])),e("aI",Kj("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])),e("a6",Kj("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]])),e("a5",Kj("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])),e("aT",Kj("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])),e("ao",Kj("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])),e("aZ",Kj("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]])),e("a$",Kj("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])),e("Q",Kj("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]])),e("dk",Kj("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])),e("a9",Kj("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])),e("as",Kj("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]])),e("dl",Kj("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])),e("H",Kj("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])),e("U",Kj("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]])),e("au",Kj("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]])),e("a2",Kj("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]])),e("at",Kj("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])),e("av",Kj("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])),e("aw",Kj("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])),e("aa",Kj("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])),e("aV",Kj("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])),e("aQ",Kj("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])),e("ax",Kj("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]])),e("ay",Kj("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]])),e("b0",Kj("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]])),e("az",Kj("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]])),e("aA",Kj("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])),e("aB",Kj("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]])),e("aC",Kj("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])),e("a7",Kj("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])),e("aK",Kj("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])),e("aE",Kj("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]])),e("a4",Kj("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]])),e("aX",Kj("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]])),e("am",Kj("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]])),e("_",Kj("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]));var Jj,eU="dismissableLayer.update",tU="dismissableLayer.pointerDownOutside",rU="dismissableLayer.focusOutside",nU=G.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iU=G.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=G.useContext(nU),[c,d]=G.useState(null),h=c?.ownerDocument??globalThis?.document,[,f]=G.useState({}),p=HL(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,w=function(e,t=globalThis?.document){const r=nj(e),n=G.useRef(!1),i=G.useRef((()=>{}));return G.useEffect((()=>{const e=e=>{if(e.target&&!n.current){let n=function(){aU(tU,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,r=[...u.branches].some((e=>e.contains(t)));_&&!r&&(i?.(e),s?.(e),e.defaultPrevented||a?.())}),h),x=function(e,t=globalThis?.document){const r=nj(e),n=G.useRef(!1);return G.useEffect((()=>{const e=e=>{e.target&&!n.current&&aU(rU,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(o?.(e),s?.(e),e.defaultPrevented||a?.())}),h);return Qj((e=>{y===u.layers.size-1&&(n?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),G.useEffect((()=>{if(c)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Jj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),sU(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=Jj)}}),[c,h,r,u]),G.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),sU())}),[c,u]),G.useEffect((()=>{const e=()=>f({});return document.addEventListener(eU,e),()=>document.removeEventListener(eU,e)}),[]),J.jsx(YL.div,{...l,ref:p,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:aj(e.onFocusCapture,x.onFocusCapture),onBlurCapture:aj(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:aj(e.onPointerDownCapture,w.onPointerDownCapture)})}));iU.displayName="DismissableLayer";var oU=G.forwardRef(((e,t)=>{const r=G.useContext(nU),n=G.useRef(null),i=HL(t,n);return G.useEffect((()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),J.jsx(YL.div,{...e,ref:i})}));function sU(){const e=new CustomEvent(eU);document.dispatchEvent(e)}function aU(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?ZL(i,o):i.dispatchEvent(o)}oU.displayName="DismissableLayerBranch";var lU=0;function uU(){G.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cU()),document.body.insertAdjacentElement("beforeend",e[1]??cU()),lU++,()=>{1===lU&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),lU--}}),[])}function cU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var dU="focusScope.autoFocusOnMount",hU="focusScope.autoFocusOnUnmount",fU={bubbles:!1,cancelable:!0},pU=G.forwardRef(((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=G.useState(null),u=nj(i),c=nj(o),d=G.useRef(null),h=HL(t,(e=>l(e))),f=G.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;G.useEffect((()=>{if(n){let e=function(e){if(f.paused||!a)return;const t=e.target;a.contains(t)?d.current=t:yU(d.current,{select:!0})},t=function(e){if(f.paused||!a)return;const t=e.relatedTarget;null!==t&&(a.contains(t)||yU(d.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&yU(a)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return a&&n.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}}),[n,a,f.paused]),G.useEffect((()=>{if(a){bU.add(f);const e=document.activeElement;if(!a.contains(e)){const t=new CustomEvent(dU,fU);a.addEventListener(dU,u),a.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yU(n,{select:t}),document.activeElement!==r)return}(mU(a).filter((e=>"A"!==e.tagName)),{select:!0}),document.activeElement===e&&yU(a))}return()=>{a.removeEventListener(dU,u),setTimeout((()=>{const t=new CustomEvent(hU,fU);a.addEventListener(hU,c),a.dispatchEvent(t),t.defaultPrevented||yU(e??document.body,{select:!0}),a.removeEventListener(hU,c),bU.remove(f)}),0)}}}),[a,u,c,f]);const p=G.useCallback((e=>{if(!r&&!n)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[n,o]=function(e){const t=mU(e),r=gU(t,e),n=gU(t.reverse(),e);return[r,n]}(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&yU(o,{select:!0})):(e.preventDefault(),r&&yU(n,{select:!0})):i===t&&e.preventDefault()}}),[r,n,f.paused]);return J.jsx(YL.div,{tabIndex:-1,...s,ref:h,onKeyDown:p})}));function mU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gU(e,t){for(const r of e)if(!vU(r,{upTo:t}))return r}function vU(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function yU(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}pU.displayName="FocusScope";var bU=function(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=_U(e,t),e.unshift(t)},remove(t){e=_U(e,t),e[0]?.resume()}}}();function _U(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var wU=W["useId".toString()]||(()=>{}),xU=0;function EU(e){const[t,r]=G.useState(wU());return QL((()=>{e||r((e=>e??String(xU++)))}),[e]),e||(t?`radix-${t}`:"")}const CU=["top","right","bottom","left"],AU=Math.min,DU=Math.max,TU=Math.round,SU=Math.floor,kU=e=>({x:e,y:e}),PU={left:"right",right:"left",bottom:"top",top:"bottom"},RU={start:"end",end:"start"};function OU(e,t,r){return DU(e,AU(t,r))}function BU(e,t){return"function"==typeof e?e(t):e}function MU(e){return e.split("-")[0]}function FU(e){return e.split("-")[1]}function IU(e){return"x"===e?"y":"x"}function NU(e){return"y"===e?"height":"width"}function LU(e){return["top","bottom"].includes(MU(e))?"y":"x"}function jU(e){return IU(LU(e))}function UU(e){return e.replace(/start|end/g,(e=>RU[e]))}function zU(e){return e.replace(/left|right|bottom|top/g,(e=>PU[e]))}function VU(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function GU(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function HU(e,t,r){let{reference:n,floating:i}=e;const o=LU(t),s=jU(t),a=NU(s),l=MU(t),u="y"===o,c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(FU(t)){case"start":f[s]-=h*(r&&u?-1:1);break;case"end":f[s]+=h*(r&&u?-1:1)}return f}async function WU(e,t){var r;void 0===t&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=BU(t,e),p=VU(f),m=a[h?"floating"===d?"reference":"floating":d],g=GU(await o.getClippingRect({element:null==(r=await(null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},_=GU(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-_.top+p.top)/b.y,bottom:(_.bottom-g.bottom+p.bottom)/b.y,left:(g.left-_.left+p.left)/b.x,right:(_.right-g.right+p.right)/b.x}}function $U(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XU(e){return CU.some((t=>e[t]>=0))}function qU(){return"undefined"!=typeof window}function KU(e){return QU(e)?(e.nodeName||"").toLowerCase():"#document"}function YU(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ZU(e){var t;return null==(t=(QU(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function QU(e){return!!qU()&&(e instanceof Node||e instanceof YU(e).Node)}function JU(e){return!!qU()&&(e instanceof Element||e instanceof YU(e).Element)}function ez(e){return!!qU()&&(e instanceof HTMLElement||e instanceof YU(e).HTMLElement)}function tz(e){return!(!qU()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof YU(e).ShadowRoot)}function rz(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=lz(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function nz(e){return["table","td","th"].includes(KU(e))}function iz(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(she){return!1}}))}function oz(e){const t=sz(),r=JU(e)?lz(e):e;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function sz(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function az(e){return["html","body","#document"].includes(KU(e))}function lz(e){return YU(e).getComputedStyle(e)}function uz(e){return JU(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cz(e){if("html"===KU(e))return e;const t=e.assignedSlot||e.parentNode||tz(e)&&e.host||ZU(e);return tz(t)?t.host:t}function dz(e){const t=cz(e);return az(t)?e.ownerDocument?e.ownerDocument.body:e.body:ez(t)&&rz(t)?t:dz(t)}function hz(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=dz(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=YU(i);if(o){const e=fz(s);return t.concat(s,s.visualViewport||[],rz(i)?i:[],e&&r?hz(e):[])}return t.concat(i,hz(i,[],r))}function fz(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pz(e){const t=lz(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ez(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=TU(r)!==o||TU(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function mz(e){return JU(e)?e:e.contextElement}function gz(e){const t=mz(e);if(!ez(t))return kU(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=pz(t);let s=(o?TU(r.width):r.width)/n,a=(o?TU(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const vz=kU(0);function yz(e){const t=YU(e);return sz()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:vz}function bz(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),o=mz(e);let s=kU(1);t&&(n?JU(n)&&(s=gz(n)):s=gz(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==YU(e))&&t}(o,r,n)?yz(o):kU(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const e=YU(o),t=n&&JU(n)?YU(n):n;let r=e,i=fz(r);for(;i&&n&&t!==r;){const e=gz(i),t=i.getBoundingClientRect(),n=lz(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=s,r=YU(i),i=fz(r)}}return GU({width:c,height:d,x:l,y:u})}function _z(e){return bz(ZU(e)).left+uz(e).scrollLeft}function wz(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=YU(e),n=ZU(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=sz();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=ZU(e),r=uz(e),n=e.ownerDocument.body,i=DU(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=DU(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+_z(e);const a=-r.scrollTop;return"rtl"===lz(n).direction&&(s+=DU(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}(ZU(e));else if(JU(t))n=function(e,t){const r=bz(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=ez(e)?gz(e):kU(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{const r=yz(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return GU(n)}function xz(e,t){const r=cz(e);return!(r===t||!JU(r)||az(r))&&("fixed"===lz(r).position||xz(r,t))}function Ez(e,t,r){const n=ez(t),i=ZU(t),o="fixed"===r,s=bz(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=kU(0);if(n||!n&&!o)if(("body"!==KU(t)||rz(i))&&(a=uz(t)),n){const e=bz(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=_z(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Cz(e){return"static"===lz(e).position}function Az(e,t){return ez(e)&&"fixed"!==lz(e).position?t?t(e):e.offsetParent:null}function Dz(e,t){const r=YU(e);if(iz(e))return r;if(!ez(e)){let t=cz(e);for(;t&&!az(t);){if(JU(t)&&!Cz(t))return t;t=cz(t)}return r}let n=Az(e,t);for(;n&&nz(n)&&Cz(n);)n=Az(n,t);return n&&az(n)&&Cz(n)&&!oz(n)?r:n||function(e){let t=cz(e);for(;ez(t)&&!az(t);){if(oz(t))return t;if(iz(t))return null;t=cz(t)}return null}(e)||r}const Tz={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o="fixed"===i,s=ZU(n),a=!!t&&iz(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=kU(1);const c=kU(0),d=ez(n);if((d||!d&&!o)&&(("body"!==KU(n)||rz(s))&&(l=uz(n)),ez(n))){const e=bz(n);u=gz(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x,y:r.y*u.y-l.scrollTop*u.y+c.y}},getDocumentElement:ZU,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o="clippingAncestors"===r?iz(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=hz(e,[],!1).filter((e=>JU(e)&&"body"!==KU(e))),i=null;const o="fixed"===lz(e).position;let s=o?cz(e):e;for(;JU(s)&&!az(s);){const t=lz(s),r=oz(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||rz(s)&&!r&&xz(e,s))?n=n.filter((e=>e!==s)):i=t,s=cz(s)}return t.set(e,n),n}(t,this._c):[].concat(r),s=[...o,n],a=s[0],l=s.reduce(((e,r)=>{const n=wz(t,r,i);return e.top=DU(n.top,e.top),e.right=AU(n.right,e.right),e.bottom=AU(n.bottom,e.bottom),e.left=DU(n.left,e.left),e}),wz(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Dz,getElementRects:async function(e){const t=this.getOffsetParent||Dz,r=this.getDimensions,n=await r(e.floating);return{reference:Ez(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=pz(e);return{width:t,height:r}},getScale:gz,isElement:JU,isRTL:function(e){return"rtl"===lz(e).direction}};function Sz(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,u=mz(e),c=i||o?[...u?hz(u):[],...hz(t)]:[];c.forEach((e=>{i&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)}));const d=u&&a?function(e,t){let r,n=null;const i=ZU(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const{left:u,top:c,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const f={rootMargin:-SU(c)+"px "+-SU(i.clientWidth-(u+d))+"px "+-SU(i.clientHeight-(c+h))+"px "+-SU(u)+"px",threshold:DU(0,AU(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}p=!1}try{n=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(she){n=new IntersectionObserver(m,f)}n.observe(e)}(!0),o}(u,r):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[n]=e;n&&n.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),r()})),u&&!l&&p.observe(u),p.observe(t));let m=l?bz(e):null;return l&&function t(){const n=bz(e);!m||n.x===m.x&&n.y===m.y&&n.width===m.width&&n.height===m.height||r(),m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;c.forEach((e=>{i&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const kz=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:r,platform:n,elements:i}=e,o=await(null==n.isRTL?void 0:n.isRTL(i.floating)),s=MU(r),a=FU(r),l="y"===LU(r),u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=BU(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Pz=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=BU(e,t),u={x:r,y:n},c=await WU(t,l),d=LU(MU(i)),h=IU(d);let f=u[h],p=u[d];if(o){const e="y"===h?"bottom":"right";f=OU(f+c["y"===h?"top":"left"],f,f-c[e])}if(s){const e="y"===d?"bottom":"right";p=OU(p+c["y"===d?"top":"left"],p,p-c[e])}const m=a.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-r,y:m.y-n}}}}},Rz=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=BU(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const v=MU(i),y=LU(a),b=MU(a)===a,_=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=h||(b||!m?[zU(a)]:function(e){const t=zU(e);return[UU(e),t,UU(t)]}(a)),x="none"!==p;!h&&x&&w.push(...function(e,t,r,n){const i=FU(e);let o=function(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:s;default:return[]}}(MU(e),"start"===r,n);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(UU)))),o}(a,m,p,_));const E=[a,...w],C=await WU(t,g),A=[];let D=(null==(n=o.flip)?void 0:n.overflows)||[];if(c&&A.push(C[v]),d){const e=function(e,t,r){void 0===r&&(r=!1);const n=FU(e),i=jU(e),o=NU(i);let s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=zU(s)),[s,zU(s)]}(i,s,_);A.push(C[e[0]],C[e[1]])}if(D=[...D,{placement:i,overflows:A}],!A.every((e=>e<=0))){var T,S;const e=((null==(T=o.flip)?void 0:T.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:D},reset:{placement:t}};let r=null==(S=D.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:S.placement;if(!r)switch(f){case"bestFit":{var k;const e=null==(k=D.filter((e=>{if(x){const t=LU(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(r=e);break}case"initialPlacement":r=a}if(i!==r)return{reset:{placement:r}}}return{}}}},Oz=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:r,rects:n,platform:i,elements:o}=t,{apply:s=(()=>{}),...a}=BU(e,t),l=await WU(t,a),u=MU(r),c=FU(r),d="y"===LU(r),{width:h,height:f}=n.floating;let p,m;"top"===u||"bottom"===u?(p=u,m=c===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=u,p="end"===c?"top":"bottom");const g=f-l.top-l.bottom,v=h-l.left-l.right,y=AU(f-l[p],g),b=AU(h-l[m],v),_=!t.middlewareData.shift;let w=y,x=b;if(d?x=c||_?AU(b,v):v:w=c||_?AU(y,g):g,_&&!c){const e=DU(l.left,0),t=DU(l.right,0),r=DU(l.top,0),n=DU(l.bottom,0);d?x=h-2*(0!==e||0!==t?e+t:DU(l.left,l.right)):w=f-2*(0!==r||0!==n?r+n:DU(l.top,l.bottom))}await s({...t,availableWidth:x,availableHeight:w});const E=await i.getDimensions(o.floating);return h!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}},Bz=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=BU(e,t);switch(n){case"referenceHidden":{const e=$U(await WU(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:XU(e)}}}case"escaped":{const e=$U(await WU(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:XU(e)}}}default:return{}}}}},Mz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=BU(e,t)||{};if(null==u)return{};const d=VU(c),h={x:r,y:n},f=jU(i),p=NU(f),m=await s.getDimensions(u),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=o.reference[p]+o.reference[f]-h[f]-o.floating[p],w=h[f]-o.reference[f],x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let E=x?x[b]:0;E&&await(null==s.isElement?void 0:s.isElement(x))||(E=a.floating[b]||o.floating[p]);const C=_/2-w/2,A=E/2-m[p]/2-1,D=AU(d[v],A),T=AU(d[y],A),S=D,k=E-m[p]-T,P=E/2-m[p]/2+C,R=OU(S,P,k),O=!l.arrow&&null!=FU(i)&&P!==R&&o.reference[p]/2-(P<S?D:T)-m[p]/2<0,B=O?P<S?P-S:P-k:0;return{[f]:h[f]+B,data:{[f]:R,centerOffset:P-R-B,...O&&{alignmentOffset:B}},reset:O}}}),Fz=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=BU(e,t),c={x:r,y:n},d=LU(i),h=IU(d);let f=c[h],p=c[d];const m=BU(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,r=o.reference[h]+o.reference[e]-g.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(MU(i)),r=o.reference[d]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[h]:f,[d]:p}}}},Iz=(e,t,r)=>{const n=new Map,i={platform:Tz,...r},o={...i.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=HU(u,n,l),h=n,f={},p=0;for(let m=0;m<a.length;m++){const{name:r,fn:o}=a[m],{x:g,y:v,data:y,reset:b}=await o({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=v?v:d,f={...f,[r]:{...f[r],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:c,y:d}=HU(u,h,l))),m=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var Nz="undefined"!=typeof document?G.useLayoutEffect:G.useEffect;function Lz(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!=n--;)if(!Lz(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){const r=i[n];if(!("_owner"===r&&e.$$typeof||Lz(e[r],t[r])))return!1}return!0}return e!=e&&t!=t}function jz(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uz(e,t){const r=jz(e);return Math.round(t*r)/r}function zz(e){const t=G.useRef(e);return Nz((()=>{t.current=e})),t}function Vz(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=G.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=G.useState(n);Lz(h,n)||f(n);const[p,m]=G.useState(null),[g,v]=G.useState(null),y=G.useCallback((e=>{e!==x.current&&(x.current=e,m(e))}),[]),b=G.useCallback((e=>{e!==E.current&&(E.current=e,v(e))}),[]),_=o||p,w=s||g,x=G.useRef(null),E=G.useRef(null),C=G.useRef(c),A=null!=l,D=zz(l),T=zz(i),S=zz(u),k=G.useCallback((()=>{if(!x.current||!E.current)return;const e={placement:t,strategy:r,middleware:h};T.current&&(e.platform=T.current),Iz(x.current,E.current,e).then((e=>{const t={...e,isPositioned:!1!==S.current};P.current&&!Lz(C.current,t)&&(C.current=t,ad.flushSync((()=>{d(t)})))}))}),[h,t,r,T,S]);Nz((()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[u]);const P=G.useRef(!1);Nz((()=>(P.current=!0,()=>{P.current=!1})),[]),Nz((()=>{if(_&&(x.current=_),w&&(E.current=w),_&&w){if(D.current)return D.current(_,w,k);k()}}),[_,w,k,D,A]);const R=G.useMemo((()=>({reference:x,floating:E,setReference:y,setFloating:b})),[y,b]),O=G.useMemo((()=>({reference:_,floating:w})),[_,w]),B=G.useMemo((()=>{const e={position:r,left:0,top:0};if(!O.floating)return e;const t=Uz(O.floating,c.x),n=Uz(O.floating,c.y);return a?{...e,transform:"translate("+t+"px, "+n+"px)",...jz(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,a,O.floating,c.x,c.y]);return G.useMemo((()=>({...c,update:k,refs:R,elements:O,floatingStyles:B})),[c,k,R,O,B])}const Gz=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(i=r,{}.hasOwnProperty.call(i,"current"))?null!=r.current?Mz({element:r.current,padding:n}).fn(t):{}:r?Mz({element:r,padding:n}).fn(t):{};var i}}),Hz=e("dd",((e,t)=>({...kz(e),options:[e,t]}))),Wz=(e,t)=>({...Pz(e),options:[e,t]}),$z=(e,t)=>({...Fz(e),options:[e,t]}),Xz=e("de",((e,t)=>({...Rz(e),options:[e,t]}))),qz=(e,t)=>({...Oz(e),options:[e,t]}),Kz=(e,t)=>({...Bz(e),options:[e,t]}),Yz=(e,t)=>({...Gz(e),options:[e,t]});var Zz=G.forwardRef(((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return J.jsx(YL.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:J.jsx("polygon",{points:"0,0 30,0 15,10"})})}));Zz.displayName="Arrow";var Qz=Zz;function Jz(e){const[t,r]=G.useState(void 0);return QL((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}var eV="Popper",[tV,rV]=tj(eV),[nV,iV]=tV(eV),oV=e=>{const{__scopePopper:t,children:r}=e,[n,i]=G.useState(null);return J.jsx(nV,{scope:t,anchor:n,onAnchorChange:i,children:r})};oV.displayName=eV;var sV="PopperAnchor",aV=G.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=iV(sV,r),s=G.useRef(null),a=HL(t,s);return G.useEffect((()=>{o.onAnchorChange(n?.current||s.current)})),n?null:J.jsx(YL.div,{...i,ref:a})}));aV.displayName=sV;var lV="PopperContent",[uV,cV]=tV(lV),dV=G.forwardRef(((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=e,g=iV(lV,r),[v,y]=G.useState(null),b=HL(t,(e=>y(e))),[_,w]=G.useState(null),x=Jz(_),E=x?.width??0,C=x?.height??0,A=n+("center"!==o?"-"+o:""),D="number"==typeof c?c:{top:0,right:0,bottom:0,left:0,...c},T=Array.isArray(u)?u:[u],S=T.length>0,k={padding:D,boundary:T.filter(mV),altBoundary:S},{refs:P,floatingStyles:R,placement:O,isPositioned:B,middlewareData:M}=Vz({strategy:"fixed",placement:A,whileElementsMounted:(...e)=>Sz(...e,{animationFrame:"always"===f}),elements:{reference:g.anchor},middleware:[Hz({mainAxis:i+C,alignmentAxis:s}),l&&Wz({mainAxis:!0,crossAxis:!1,limiter:"partial"===d?$z():void 0,...k}),l&&Xz({...k}),qz({...k,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}}),_&&Yz({element:_,padding:a}),gV({arrowWidth:E,arrowHeight:C}),h&&Kz({strategy:"referenceHidden",...k})]}),[F,I]=vV(O),N=nj(p);QL((()=>{B&&N?.()}),[B,N]);const L=M.arrow?.x,j=M.arrow?.y,U=0!==M.arrow?.centerOffset,[z,V]=G.useState();return QL((()=>{v&&V(window.getComputedStyle(v).zIndex)}),[v]),J.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:B?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:J.jsx(uV,{scope:r,placedSide:F,onArrowChange:w,arrowX:L,arrowY:j,shouldHideArrow:U,children:J.jsx(YL.div,{"data-side":F,"data-align":I,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})}));dV.displayName=lV;var hV="PopperArrow",fV={top:"bottom",right:"left",bottom:"top",left:"right"},pV=G.forwardRef((function(e,t){const{__scopePopper:r,...n}=e,i=cV(hV,r),o=fV[i.placedSide];return J.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:J.jsx(Qz,{...n,ref:t,style:{...n.style,display:"block"}})})}));function mV(e){return null!==e}pV.displayName=hV;var gV=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,u]=vV(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+a/2;let f="",p="";return"bottom"===l?(f=o?c:`${d}px`,p=-a+"px"):"top"===l?(f=o?c:`${d}px`,p=`${n.floating.height+a}px`):"right"===l?(f=-a+"px",p=o?c:`${h}px`):"left"===l&&(f=`${n.floating.width+a}px`,p=o?c:`${h}px`),{data:{x:f,y:p}}}});function vV(e){const[t,r="center"]=e.split("-");return[t,r]}var yV=oV,bV=aV,_V=dV,wV=pV,xV=G.forwardRef(((e,t)=>{const{container:r,...n}=e,[i,o]=G.useState(!1);QL((()=>o(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?ld.createPortal(J.jsx(YL.div,{...n,ref:t}),s):null}));xV.displayName="Portal";var EV="rovingFocusGroup.onEntryFocus",CV={bubbles:!1,cancelable:!0},AV="RovingFocusGroup",[DV,TV,SV]=Zj(AV),[kV,PV]=tj(AV,[SV]),[RV,OV]=kV(AV),BV=G.forwardRef(((e,t)=>J.jsx(DV.Provider,{scope:e.__scopeRovingFocusGroup,children:J.jsx(DV.Slot,{scope:e.__scopeRovingFocusGroup,children:J.jsx(MV,{...e,ref:t})})})));BV.displayName=AV;var MV=G.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=e,h=G.useRef(null),f=HL(t,h),p=oj(o),[m=null,g]=Yj({prop:s,defaultProp:a,onChange:l}),[v,y]=G.useState(!1),b=nj(u),_=TV(r),w=G.useRef(!1),[x,E]=G.useState(0);return G.useEffect((()=>{const e=h.current;if(e)return e.addEventListener(EV,b),()=>e.removeEventListener(EV,b)}),[b]),J.jsx(RV,{scope:r,orientation:n,dir:p,loop:i,currentTabStopId:m,onItemFocus:G.useCallback((e=>g(e)),[g]),onItemShiftTab:G.useCallback((()=>y(!0)),[]),onFocusableItemAdd:G.useCallback((()=>E((e=>e+1))),[]),onFocusableItemRemove:G.useCallback((()=>E((e=>e-1))),[]),children:J.jsx(YL.div,{tabIndex:v||0===x?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...e.style},onMouseDown:aj(e.onMouseDown,(()=>{w.current=!0})),onFocus:aj(e.onFocus,(e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(EV,CV);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=_().filter((e=>e.focusable));LV([e.find((e=>e.active)),e.find((e=>e.id===m)),...e].filter(Boolean).map((e=>e.ref.current)),c)}}w.current=!1})),onBlur:aj(e.onBlur,(()=>y(!1)))})})})),FV="RovingFocusGroupItem",IV=G.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,...s}=e,a=EU(),l=o||a,u=OV(FV,r),c=u.currentTabStopId===l,d=TV(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return G.useEffect((()=>{if(n)return h(),()=>f()}),[n,h,f]),J.jsx(DV.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:J.jsx(YL.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:aj(e.onMouseDown,(e=>{n?u.onItemFocus(l):e.preventDefault()})),onFocus:aj(e.onFocus,(()=>u.onItemFocus(l))),onKeyDown:aj(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:NV[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=d().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const o=i.indexOf(e.currentTarget);i=u.loop?(n=o+1,(r=i).map(((e,t)=>r[(n+t)%r.length]))):i.slice(o+1)}setTimeout((()=>LV(i)))}var r,n}))})})}));IV.displayName=FV;var NV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LV(e,t=!1){const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var jV=BV,UV=IV,zV=new WeakMap,VV=new WeakMap,GV={},HV=0,WV=function(e){return e&&(e.host||WV(e.parentNode))},$V=function(e,t,r,n){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var r=WV(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);GV[r]||(GV[r]=new WeakMap);var o=GV[r],s=[],a=new Set,l=new Set(i),u=function(e){e&&!a.has(e)&&(a.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))c(e);else{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(zV.get(e)||0)+1,u=(o.get(e)||0)+1;zV.set(e,l),o.set(e,u),s.push(e),1===l&&i&&VV.set(e,!0),1===u&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}}))};return c(t),a.clear(),HV++,function(){s.forEach((function(e){var t=zV.get(e)-1,i=o.get(e)-1;zV.set(e,t),o.set(e,i),t||(VV.has(e)||e.removeAttribute(n),VV.delete(e)),i||e.removeAttribute(r)})),--HV||(zV=new WeakMap,zV=new WeakMap,VV=new WeakMap,GV={})}},XV=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),$V(n,i,r,"aria-hidden")):function(){return null}},qV=function(){return qV=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qV.apply(this,arguments)};function KV(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function YV(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ZV="right-scroll-bar-position",QV="width-before-scroll-bar";function JV(e,t){return r=t||null,n=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},i=G.useState((function(){return{value:r,callback:n,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0],i.callback=n,i.facade;var r,n,i}function eG(e){return e}function tG(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=eG);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),r={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),r}}}};return i}(null);return t.options=qV({async:!0,ssr:!1},e),t}var rG=function(e){var t=e.sideCar,r=KV(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return G.createElement(n,qV({},r))};function nG(e,t){return e.useMedium(t),rG}rG.isSideCarExport=!0;var iG=tG(),oG=function(){},sG=G.forwardRef((function(e,t){var r=G.useRef(null),n=G.useState({onScrollCapture:oG,onWheelCapture:oG,onTouchMoveCapture:oG}),i=n[0],o=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=e.gapMode,b=KV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=JV([r,t]),x=qV(qV({},b),i);return G.createElement(G.Fragment,null,c&&G.createElement(_,{sideCar:iG,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?G.cloneElement(G.Children.only(a),qV(qV({},x),{ref:w})):G.createElement(v,qV({},x,{className:l,ref:w}),a))}));function aG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}sG.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},sG.classNames={fullWidth:QV,zeroRight:ZV};var lG=function(){var e=0,t=null;return{add:function(r){var n,i;0==e&&(t=aG())&&(i=r,(n=t).styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uG=function(){var e,t=(e=lG(),function(t,r){G.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},cG={left:0,top:0,right:0,gap:0},dG=function(e){return parseInt(e||"",10)||0},hG=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return cG;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[dG(r),dG(n),dG(i)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},fG=uG(),pG="data-scroll-locked",mG=function(e,t,r,n){var i=e.left,o=e.top,s=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(pG,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ZV," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(QV," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(ZV," .").concat(ZV," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(QV," .").concat(QV," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(pG,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},gG=function(){var e=parseInt(document.body.getAttribute(pG)||"0",10);return isFinite(e)?e:0},vG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;G.useEffect((function(){return document.body.setAttribute(pG,(gG()+1).toString()),function(){var e=gG()-1;e<=0?document.body.removeAttribute(pG):document.body.setAttribute(pG,e.toString())}}),[]);var o=G.useMemo((function(){return hG(i)}),[i]);return G.createElement(fG,{styles:mG(o,!t,i,r?"":"!important")})},yG=!1;if("undefined"!=typeof window)try{var bG=Object.defineProperty({},"passive",{get:function(){return yG=!0,!0}});window.addEventListener("test",bG,bG),window.removeEventListener("test",bG,bG)}catch(HEe){yG=!1}var _G=!!yG&&{passive:!1},wG=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},xG=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),EG(e,n)){var i=CG(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},EG=function(e,t){return"v"===e?function(e){return wG(e,"overflowY")}(t):function(e){return wG(e,"overflowX")}(t)},CG=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},AG=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DG=function(e){return[e.deltaX,e.deltaY]},TG=function(e){return e&&"current"in e?e.current:e},SG=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},kG=0,PG=[];function RG(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const OG=nG(iG,(function(e){var t=G.useRef([]),r=G.useRef([0,0]),n=G.useRef(),i=G.useState(kG++)[0],o=G.useState(uG)[0],s=G.useRef(e);G.useEffect((function(){s.current=e}),[e]),G.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=YV([e.lockRef.current],(e.shards||[]).map(TG),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=G.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=AG(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=xG(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=xG(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var f=n.current||i;return function(e,t,r,n,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=CG(e,a),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&EG(e,a)&&(d+=m,h+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&Math.abs(d)<1||!i&&s>d)||!c&&(i&&Math.abs(h)<1||!i&&-s>h))&&(u=!0),u}(f,t,e,"h"===f?l:u,!0)}),[]),l=G.useCallback((function(e){var r=e;if(PG.length&&PG[PG.length-1]===o){var n="deltaY"in r?DG(r):AG(r),i=t.current.filter((function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)}))[0];if(i&&i.should)r.cancelable&&r.preventDefault();else if(!i){var l=(s.current.shards||[]).map(TG).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?a(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}}),[]),u=G.useCallback((function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:RG(n)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=G.useCallback((function(e){r.current=AG(e),n.current=void 0}),[]),d=G.useCallback((function(t){u(t.type,DG(t),t.target,a(t,e.lockRef.current))}),[]),h=G.useCallback((function(t){u(t.type,AG(t),t.target,a(t,e.lockRef.current))}),[]);G.useEffect((function(){return PG.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,_G),document.addEventListener("touchmove",l,_G),document.addEventListener("touchstart",c,_G),function(){PG=PG.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,_G),document.removeEventListener("touchmove",l,_G),document.removeEventListener("touchstart",c,_G)}}),[]);var f=e.removeScrollBar,p=e.inert;return G.createElement(G.Fragment,null,p?G.createElement(o,{styles:SG(i)}):null,f?G.createElement(vG,{gapMode:e.gapMode}):null)}));var BG=G.forwardRef((function(e,t){return G.createElement(sG,qV({},e,{ref:t,sideCar:OG}))}));BG.classNames=sG.classNames;const MG=BG;var FG=["Enter"," "],IG=["ArrowUp","PageDown","End"],NG=["ArrowDown","PageUp","Home",...IG],LG={ltr:[...FG,"ArrowRight"],rtl:[...FG,"ArrowLeft"]},jG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},UG="Menu",[zG,VG,GG]=Zj(UG),[HG,WG]=tj(UG,[GG,rV,PV]),$G=rV(),XG=PV(),[qG,KG]=HG(UG),[YG,ZG]=HG(UG),QG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:s=!0}=e,a=$G(t),[l,u]=G.useState(null),c=G.useRef(!1),d=nj(o),h=oj(i);return G.useEffect((()=>{const e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),J.jsx(yV,{...a,children:J.jsx(qG,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:J.jsx(YG,{scope:t,onClose:G.useCallback((()=>d(!1)),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};QG.displayName=UG;var JG=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=$G(r);return J.jsx(bV,{...i,...n,ref:t})}));JG.displayName="MenuAnchor";var eH="MenuPortal",[tH,rH]=HG(eH,{forceMount:void 0}),nH=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=KG(eH,t);return J.jsx(tH,{scope:t,forceMount:r,children:J.jsx(JL,{present:r||o.open,children:J.jsx(xV,{asChild:!0,container:i,children:n})})})};nH.displayName=eH;var iH="MenuContent",[oH,sH]=HG(iH),aH=G.forwardRef(((e,t)=>{const r=rH(iH,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=KG(iH,e.__scopeMenu),s=ZG(iH,e.__scopeMenu);return J.jsx(zG.Provider,{scope:e.__scopeMenu,children:J.jsx(JL,{present:n||o.open,children:J.jsx(zG.Slot,{scope:e.__scopeMenu,children:s.modal?J.jsx(lH,{...i,ref:t}):J.jsx(uH,{...i,ref:t})})})})})),lH=G.forwardRef(((e,t)=>{const r=KG(iH,e.__scopeMenu),n=G.useRef(null),i=HL(t,n);return G.useEffect((()=>{const e=n.current;if(e)return XV(e)}),[]),J.jsx(cH,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:aj(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),uH=G.forwardRef(((e,t)=>{const r=KG(iH,e.__scopeMenu);return J.jsx(cH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})})),cH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...m}=e,g=KG(iH,r),v=ZG(iH,r),y=$G(r),b=XG(r),_=VG(r),[w,x]=G.useState(null),E=G.useRef(null),C=HL(t,E,g.onContentChange),A=G.useRef(0),D=G.useRef(""),T=G.useRef(0),S=G.useRef(null),k=G.useRef("right"),P=G.useRef(0),R=p?MG:G.Fragment,O=p?{as:WL,allowPinchZoom:!0}:void 0,B=e=>{const t=D.current+e,r=_().filter((e=>!e.disabled)),n=document.activeElement,i=r.find((e=>e.ref.current===n))?.textValue,o=function(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0])),i=n?t[0]:t,o=r?e.indexOf(r):-1;let s=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===i.length&&(s=s.filter((e=>e!==r)));const u=s.find((e=>e.toLowerCase().startsWith(i.toLowerCase())));return u!==r?u:void 0}(r.map((e=>e.textValue)),t,i),s=r.find((e=>e.textValue===o))?.ref.current;!function e(t){D.current=t,window.clearTimeout(A.current),""!==t&&(A.current=window.setTimeout((()=>e("")),1e3))}(t),s&&setTimeout((()=>s.focus()))};G.useEffect((()=>()=>window.clearTimeout(A.current)),[]),uU();const M=G.useCallback((e=>k.current===S.current?.side&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,t)}(e,S.current?.area)),[]);return J.jsx(oH,{scope:r,searchRef:D,onItemEnter:G.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),onItemLeave:G.useCallback((e=>{M(e)||(E.current?.focus(),x(null))}),[M]),onTriggerLeave:G.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),pointerGraceTimerRef:T,onPointerGraceIntentChange:G.useCallback((e=>{S.current=e}),[]),children:J.jsx(R,{...O,children:J.jsx(pU,{asChild:!0,trapped:i,onMountAutoFocus:aj(o,(e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:J.jsx(iU,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:J.jsx(jV,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:x,onEntryFocus:aj(l,(e=>{v.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:J.jsx(_V,{role:"menu","aria-orientation":"vertical","data-state":LH(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:aj(m.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&B(e.key));const i=E.current;if(e.target!==i)return;if(!NG.includes(e.key))return;e.preventDefault();const o=_().filter((e=>!e.disabled)).map((e=>e.ref.current));IG.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)})),onBlur:aj(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(A.current),D.current="")})),onPointerMove:aj(e.onPointerMove,zH((e=>{const t=e.target,r=P.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>P.current?"right":"left";k.current=t,P.current=e.clientX}})))})})})})})})}));aH.displayName=iH;var dH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{role:"group",...n,ref:t})}));dH.displayName="MenuGroup";var hH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{...n,ref:t})}));hH.displayName="MenuLabel";var fH="MenuItem",pH="menu.itemSelect",mH=G.forwardRef(((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=G.useRef(null),s=ZG(fH,e.__scopeMenu),a=sH(fH,e.__scopeMenu),l=HL(t,o),u=G.useRef(!1);return J.jsx(gH,{...i,ref:l,disabled:r,onClick:aj(e.onClick,(()=>{const e=o.current;if(!r&&e){const t=new CustomEvent(pH,{bubbles:!0,cancelable:!0});e.addEventListener(pH,(e=>n?.(e)),{once:!0}),ZL(e,t),t.defaultPrevented?u.current=!1:s.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:aj(e.onPointerUp,(e=>{u.current||e.currentTarget?.click()})),onKeyDown:aj(e.onKeyDown,(e=>{const t=""!==a.searchRef.current;r||t&&" "===e.key||FG.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));mH.displayName=fH;var gH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,s=sH(fH,r),a=XG(r),l=G.useRef(null),u=HL(t,l),[c,d]=G.useState(!1),[h,f]=G.useState("");return G.useEffect((()=>{const e=l.current;e&&f((e.textContent??"").trim())}),[o.children]),J.jsx(zG.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:J.jsx(UV,{asChild:!0,...a,focusable:!n,children:J.jsx(YL.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:aj(e.onPointerMove,zH((e=>{n?s.onItemLeave(e):(s.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))}))),onPointerLeave:aj(e.onPointerLeave,zH((e=>s.onItemLeave(e)))),onFocus:aj(e.onFocus,(()=>d(!0))),onBlur:aj(e.onBlur,(()=>d(!1)))})})})})),vH=G.forwardRef(((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return J.jsx(AH,{scope:e.__scopeMenu,checked:r,children:J.jsx(mH,{role:"menuitemcheckbox","aria-checked":jH(r)?"mixed":r,...i,ref:t,"data-state":UH(r),onSelect:aj(i.onSelect,(()=>n?.(!!jH(r)||!r)),{checkForDefaultPrevented:!1})})})}));vH.displayName="MenuCheckboxItem";var yH="MenuRadioGroup",[bH,_H]=HG(yH,{value:void 0,onValueChange:()=>{}}),wH=G.forwardRef(((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=nj(n);return J.jsx(bH,{scope:e.__scopeMenu,value:r,onValueChange:o,children:J.jsx(dH,{...i,ref:t})})}));wH.displayName=yH;var xH="MenuRadioItem",EH=G.forwardRef(((e,t)=>{const{value:r,...n}=e,i=_H(xH,e.__scopeMenu),o=r===i.value;return J.jsx(AH,{scope:e.__scopeMenu,checked:o,children:J.jsx(mH,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":UH(o),onSelect:aj(n.onSelect,(()=>i.onValueChange?.(r)),{checkForDefaultPrevented:!1})})})}));EH.displayName=xH;var CH="MenuItemIndicator",[AH,DH]=HG(CH,{checked:!1}),TH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=DH(CH,r);return J.jsx(JL,{present:n||jH(o.checked)||!0===o.checked,children:J.jsx(YL.span,{...i,ref:t,"data-state":UH(o.checked)})})}));TH.displayName=CH;var SH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})}));SH.displayName="MenuSeparator";var kH=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=$G(r);return J.jsx(wV,{...i,...n,ref:t})}));kH.displayName="MenuArrow";var PH="MenuSub",[RH,OH]=HG(PH),BH=e=>{const{__scopeMenu:t,children:r,open:n=!1,onOpenChange:i}=e,o=KG(PH,t),s=$G(t),[a,l]=G.useState(null),[u,c]=G.useState(null),d=nj(i);return G.useEffect((()=>(!1===o.open&&d(!1),()=>d(!1))),[o.open,d]),J.jsx(yV,{...s,children:J.jsx(qG,{scope:t,open:n,onOpenChange:d,content:u,onContentChange:c,children:J.jsx(RH,{scope:t,contentId:EU(),triggerId:EU(),trigger:a,onTriggerChange:l,children:r})})})};BH.displayName=PH;var MH="MenuSubTrigger",FH=G.forwardRef(((e,t)=>{const r=KG(MH,e.__scopeMenu),n=ZG(MH,e.__scopeMenu),i=OH(MH,e.__scopeMenu),o=sH(MH,e.__scopeMenu),s=G.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},c=G.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return G.useEffect((()=>c),[c]),G.useEffect((()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}}),[a,l]),J.jsx(JG,{asChild:!0,...u,children:J.jsx(gH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":LH(r.open),...e,ref:GL(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:aj(e.onPointerMove,zH((t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||s.current||(o.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{r.onOpenChange(!0),c()}),100))}))),onPointerLeave:aj(e.onPointerLeave,zH((e=>{c();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,i="right"===n,s=i?-5:5,l=t[i?"left":"right"],u=t[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:l,y:t.top},{x:u,y:t.top},{x:u,y:t.bottom},{x:l,y:t.bottom}],side:n}),window.clearTimeout(a.current),a.current=window.setTimeout((()=>o.onPointerGraceIntentChange(null)),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}}))),onKeyDown:aj(e.onKeyDown,(t=>{const i=""!==o.searchRef.current;e.disabled||i&&" "===t.key||LG[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));FH.displayName=MH;var IH="MenuSubContent",NH=G.forwardRef(((e,t)=>{const r=rH(iH,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=KG(iH,e.__scopeMenu),s=ZG(iH,e.__scopeMenu),a=OH(IH,e.__scopeMenu),l=G.useRef(null),u=HL(t,l);return J.jsx(zG.Provider,{scope:e.__scopeMenu,children:J.jsx(JL,{present:n||o.open,children:J.jsx(zG.Slot,{scope:e.__scopeMenu,children:J.jsx(cH,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{s.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:aj(e.onFocusOutside,(e=>{e.target!==a.trigger&&o.onOpenChange(!1)})),onEscapeKeyDown:aj(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:aj(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),r=jG[s.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())}))})})})})}));function LH(e){return e?"open":"closed"}function jH(e){return"indeterminate"===e}function UH(e){return jH(e)?"indeterminate":e?"checked":"unchecked"}function zH(e){return t=>"mouse"===t.pointerType?e(t):void 0}NH.displayName=IH;var VH=QG,GH=JG,HH=nH,WH=aH,$H=dH,XH=hH,qH=mH,KH=vH,YH=wH,ZH=EH,QH=TH,JH=SH,eW=kH,tW=BH,rW=FH,nW=NH,iW="DropdownMenu",[oW,sW]=tj(iW,[WG]),aW=WG(),[lW,uW]=oW(iW),cW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=aW(t),u=G.useRef(null),[c=!1,d]=Yj({prop:i,defaultProp:o,onChange:s});return J.jsx(lW,{scope:t,triggerId:EU(),triggerRef:u,contentId:EU(),open:c,onOpenChange:d,onOpenToggle:G.useCallback((()=>d((e=>!e))),[d]),modal:a,children:J.jsx(VH,{...l,open:c,onOpenChange:d,dir:n,modal:a,children:r})})};cW.displayName=iW;var dW="DropdownMenuTrigger",hW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,o=uW(dW,r),s=aW(r);return J.jsx(GH,{asChild:!0,...s,children:J.jsx(YL.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:GL(t,o.triggerRef),onPointerDown:aj(e.onPointerDown,(e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())})),onKeyDown:aj(e.onKeyDown,(e=>{n||(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})})}));hW.displayName=dW;var fW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=aW(t);return J.jsx(HH,{...n,...r})};fW.displayName="DropdownMenuPortal";var pW="DropdownMenuContent",mW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=uW(pW,r),o=aW(r),s=G.useRef(!1);return J.jsx(WH,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...n,ref:t,onCloseAutoFocus:aj(e.onCloseAutoFocus,(e=>{s.current||i.triggerRef.current?.focus(),s.current=!1,e.preventDefault()})),onInteractOutside:aj(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;i.modal&&!n||(s.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));mW.displayName=pW,G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx($H,{...i,...n,ref:t})})).displayName="DropdownMenuGroup";var gW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(XH,{...i,...n,ref:t})}));gW.displayName="DropdownMenuLabel";var vW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(qH,{...i,...n,ref:t})}));vW.displayName="DropdownMenuItem";var yW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(KH,{...i,...n,ref:t})}));yW.displayName="DropdownMenuCheckboxItem",G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(YH,{...i,...n,ref:t})})).displayName="DropdownMenuRadioGroup";var bW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(ZH,{...i,...n,ref:t})}));bW.displayName="DropdownMenuRadioItem";var _W=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(QH,{...i,...n,ref:t})}));_W.displayName="DropdownMenuItemIndicator";var wW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(JH,{...i,...n,ref:t})}));wW.displayName="DropdownMenuSeparator",G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(eW,{...i,...n,ref:t})})).displayName="DropdownMenuArrow";var xW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(rW,{...i,...n,ref:t})}));xW.displayName="DropdownMenuSubTrigger";var EW=G.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=aW(r);return J.jsx(nW,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));function CW(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}EW.displayName="DropdownMenuSubContent",e("be",cW),e("bf",hW),e("b4",fW),e("b5",mW),e("bc",gW),e("b6",vW),e("b7",yW),e("ba",bW),e("b8",_W),e("bd",wW),e("bg",(e=>{const{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:i,defaultOpen:o}=e,s=aW(t),[a=!1,l]=Yj({prop:n,defaultProp:o,onChange:i});return J.jsx(tW,{...s,open:a,onOpenChange:l,children:r})})),e("b1",xW),e("b3",EW);var AW=["color"],DW=(e("c3",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,AW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),TW=(e("b9",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,DW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),SW=(e("c7",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,TW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),kW=(e("b2",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,SW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),PW=(e("c5",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,kW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),RW=(e("bz",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,PW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]);e("bb",G.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=CW(e,RW);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),G.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))})));const OW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,BW=Object.keys,MW=Array.isArray;function FW(e,t){return"object"!=typeof t||BW(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||OW.Promise||(OW.Promise=Promise);const IW=Object.getPrototypeOf,NW={}.hasOwnProperty;function LW(e,t){return NW.call(e,t)}function jW(e,t){"function"==typeof t&&(t=t(IW(e))),("undefined"==typeof Reflect?BW:Reflect.ownKeys)(t).forEach((r=>{zW(e,r,t[r])}))}const UW=Object.defineProperty;function zW(e,t,r,n){UW(e,t,FW(r&&LW(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function VW(e){return{from:function(t){return e.prototype=Object.create(t.prototype),zW(e.prototype,"constructor",e),{extend:jW.bind(null,e.prototype)}}}}const GW=Object.getOwnPropertyDescriptor;function HW(e,t){let r;return GW(e,t)||(r=IW(e))&&HW(r,t)}const WW=[].slice;function $W(e,t,r){return WW.call(e,t,r)}function XW(e,t){return t(e)}function qW(e){if(!e)throw new Error("Assertion Failed")}function KW(e){OW.setImmediate?setImmediate(e):setTimeout(e,0)}function YW(e,t){return e.reduce(((e,r,n)=>{var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function ZW(e,t){if(LW(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var o=ZW(e,t[n]);r.push(o)}return r}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:ZW(a,t.substr(s+1))}}function QW(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){qW("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)QW(e,t[n],r[n])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===r?MW(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var l=e[s];l&&LW(e,s)||(l=e[s]={}),QW(l,a,r)}}else void 0===r?MW(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function JW(e){var t={};for(var r in e)LW(e,r)&&(t[r]=e[r]);return t}const e$=[].concat;function t$(e){return e$.apply([],e)}const r$="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(t$([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>OW[e])),n$=r$.map((e=>OW[e]));YW(r$,(e=>[e,!0]));let i$=null;function o$(e){i$="undefined"!=typeof WeakMap&&new WeakMap;const t=s$(e);return i$=null,t}function s$(e){if(!e||"object"!=typeof e)return e;let t=i$&&i$.get(e);if(t)return t;if(MW(e)){t=[],i$&&i$.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(s$(e[r]))}else if(n$.indexOf(e.constructor)>=0)t=e;else{const r=IW(e);for(var i in t=r===Object.prototype?{}:Object.create(r),i$&&i$.set(e,t),e)LW(e,i)&&(t[i]=s$(e[i]))}return t}const{toString:a$}={};function l$(e){return a$.call(e).slice(8,-1)}const u$="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",c$="symbol"==typeof u$?function(e){var t;return null!=e&&(t=e[u$])&&t.apply(e)}:function(){return null},d$={};function h$(e){var t,r,n,i;if(1===arguments.length){if(MW(e))return e.slice();if(this===d$&&"string"==typeof e)return[e];if(i=c$(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const f$="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var p$="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function m$(e,t){p$=e,g$=t}var g$=()=>!0;const v$=!new Error("").stack;function y$(){if(v$)try{throw y$.arguments,new Error}catch(she){return she}return new Error}function b$(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(g$).map((e=>"\n"+e)).join("")):""}var _$=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],w$=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_$),x$={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function E$(e,t){this._e=y$(),this.name=e,this.message=t}function C$(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,r)=>r.indexOf(e)===t)).join("\n")}function A$(e,t,r,n){this._e=y$(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=C$(e,t)}function D$(e,t){this._e=y$(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=C$(e,t)}VW(E$).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+b$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),VW(A$).from(E$),VW(D$).from(E$);var T$=w$.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const S$=E$;var k$=w$.reduce(((e,t)=>{var r=t+"Error";function n(e,n){this._e=y$(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=x$[t]||r,this.inner=null)}return VW(n).from(S$),e[t]=n,e}),{});k$.Syntax=SyntaxError,k$.Type=TypeError,k$.Range=RangeError;var P$=_$.reduce(((e,t)=>(e[t+"Error"]=k$[t],e)),{}),R$=w$.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=k$[t]),e)),{});function O$(){}function B$(e){return e}function M$(e,t){return null==e||e===B$?t:function(r){return t(e(r))}}function F$(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function I$(e,t){return e===O$?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?F$(n,this.onsuccess):n),i&&(this.onerror=this.onerror?F$(i,this.onerror):i),void 0!==o?o:r}}function N$(e,t){return e===O$?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?F$(r,this.onsuccess):r),n&&(this.onerror=this.onerror?F$(n,this.onerror):n)}}function L$(e,t){return e===O$?t:function(r){var n=e.apply(this,arguments);FW(r,n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?F$(i,this.onsuccess):i),o&&(this.onerror=this.onerror?F$(o,this.onerror):o),void 0===n?void 0===s?void 0:s:FW(n,s)}}function j$(e,t){return e===O$?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function U$(e,t){return e===O$?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then((function(){return t.apply(n,o)}))}return t.apply(this,arguments)}}R$.ModifyError=A$,R$.DexieError=E$,R$.BulkError=D$;var z$={};const V$=100,[G$,H$,W$]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,IW(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,IW(t),e]})(),$$=H$&&H$.then,X$=G$&&G$.constructor,q$=!!W$;var K$=!1,Y$=W$?()=>{W$.then(bX)}:OW.setImmediate?setImmediate.bind(null,bX):OW.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{bX(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(bX,0)},Z$=function(e,t){sX.push([e,t]),J$&&(Y$(),J$=!1)},Q$=!0,J$=!0,eX=[],tX=[],rX=null,nX=B$,iX={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:HX,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{HX(e[0],e[1])}catch(e){}}))}},oX=iX,sX=[],aX=0,lX=[];function uX(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=O$,this._lib=!1;var t=this._PSD=oX;if(p$&&(this._stackHolder=y$(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==z$)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&fX(this,this._value))}this._state=null,this._value=null,++t.ref,hX(this,e)}const cX={get:function(){var e=oX,t=kX;function r(r,n){var i=!e.global&&(e!==oX||t!==kX);const o=i&&!BX();var s=new uX(((t,s)=>{mX(this,new dX(zX(r,e,i,o),zX(n,e,i,o),t,s,e))}));return p$&&yX(s,this),s}return r.prototype=z$,r},set:function(e){zW(this,"then",e&&e.prototype===z$?cX:{get:function(){return e},set:cX.set})}};function dX(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function hX(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&_X();t&&"function"==typeof t.then?hX(e,((e,r)=>{t instanceof uX?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,pX(e)),r&&wX()}}),fX.bind(null,e))}catch(t){fX(e,t)}}function fX(e,t){if(tX.push(t),null===e._state){var r=e._lib&&_X();t=nX(t),e._state=!1,e._value=t,p$&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,r){try{e.apply(null,void 0)}catch(e){}}((()=>{var r=HW(t,"stack");t._promise=e,zW(t,"stack",{get:()=>K$?r&&(r.get?r.get.apply(t):r.value):e.stack})})),function(e){eX.some((t=>t._value===e._value))||eX.push(e)}(e),pX(e),r&&wX()}}function pX(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)mX(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===aX&&(++aX,Z$((()=>{0==--aX&&xX()}),[]))}function mX(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++aX,Z$(gX,[r,e,t])}else e._listeners.push(t)}function gX(e,t,r){try{rX=t;var n,i=t._value;t._state?n=e(i):(tX.length&&(tX=[]),n=e(i),-1===tX.indexOf(i)&&function(e){for(var t=eX.length;t;)if(eX[--t]._value===e._value)return void eX.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{rX=null,0==--aX&&xX(),--r.psd.ref||r.psd.finalize()}}function vX(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,n=b$(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+n)}return p$&&((n=b$(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&vX(e._prev,t,r)),t}function yX(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function bX(){_X()&&wX()}function _X(){var e=Q$;return Q$=!1,J$=!1,e}function wX(){var e,t,r;do{for(;sX.length>0;)for(e=sX,sX=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(sX.length>0);Q$=!0,J$=!0}function xX(){var e=eX;eX=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=lX.slice(0),r=t.length;r;)t[--r]()}function EX(e){return new uX(z$,!1,e)}function CX(e,t){var r=oX;return function(){var n=_X(),i=oX;try{return NX(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{NX(i,!1),n&&wX()}}}jW(uX.prototype,{then:cX,_then:function(e,t){mX(this,new dX(null,null,e,t,oX))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?r(e):EX(e))):this.then(null,(e=>e&&e.name===t?r(e):EX(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),EX(t))))},stack:{get:function(){if(this._stack)return this._stack;try{K$=!0;var e=vX(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{K$=!1}}},timeout:function(e,t){return e<1/0?new uX(((r,n)=>{var i=setTimeout((()=>n(new k$.Timeout(t))),e);this.then(r,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&zW(uX.prototype,Symbol.toStringTag,"Dexie.Promise"),iX.env=LX(),jW(uX,{all:function(){var e=h$.apply(null,arguments).map(MX);return new uX((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(((i,o)=>uX.resolve(i).then((r=>{e[o]=r,--n||t(e)}),r)))}))},resolve:e=>{if(e instanceof uX)return e;if(e&&"function"==typeof e.then)return new uX(((t,r)=>{e.then(t,r)}));var t=new uX(z$,!0,e);return yX(t,rX),t},reject:EX,race:function(){var e=h$.apply(null,arguments).map(MX);return new uX(((t,r)=>{e.map((e=>uX.resolve(e).then(t,r)))}))},PSD:{get:()=>oX,set:e=>oX=e},totalEchoes:{get:()=>kX},newPSD:RX,usePSD:jX,scheduler:{get:()=>Z$,set:e=>{Z$=e}},rejectionMapper:{get:()=>nX,set:e=>{nX=e}},follow:(e,t)=>new uX(((r,n)=>RX(((t,r)=>{var n=oX;n.unhandleds=[],n.onunhandled=r,n.finalize=F$((function(){!function(e){lX.push((function t(){e(),lX.splice(lX.indexOf(t),1)})),++aX,Z$((()=>{0==--aX&&xX()}),[])}((()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])}))}),n.finalize),e()}),t,r,n)))}),X$&&(X$.allSettled&&zW(uX,"allSettled",(function(){const e=h$.apply(null,arguments).map(MX);return new uX((t=>{0===e.length&&t([]);let r=e.length;const n=new Array(r);e.forEach(((e,i)=>uX.resolve(e).then((e=>n[i]={status:"fulfilled",value:e}),(e=>n[i]={status:"rejected",reason:e})).then((()=>--r||t(n)))))}))})),X$.any&&"undefined"!=typeof AggregateError&&zW(uX,"any",(function(){const e=h$.apply(null,arguments).map(MX);return new uX(((t,r)=>{0===e.length&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach(((e,o)=>uX.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--n||r(new AggregateError(i))}))))}))})));const AX={awaits:0,echoes:0,id:0};var DX=0,TX=[],SX=0,kX=0,PX=0;function RX(e,t,r,n){var i=oX,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++PX;var s=iX.env;o.env=q$?{Promise:uX,PromiseProp:{value:uX,configurable:!0,writable:!0},all:uX.all,race:uX.race,allSettled:uX.allSettled,any:uX.any,resolve:uX.resolve,reject:uX.reject,nthen:VX(s.nthen,o),gthen:VX(s.gthen,o)}:{},t&&FW(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=jX(o,e,r,n);return 0===o.ref&&o.finalize(),a}function OX(){return AX.id||(AX.id=++DX),++AX.awaits,AX.echoes+=V$,AX.id}function BX(){return!!AX.awaits&&(0==--AX.awaits&&(AX.id=0),AX.echoes=AX.awaits*V$,!0)}function MX(e){return AX.echoes&&e&&e.constructor===X$?(OX(),e.then((e=>(BX(),e)),(e=>(BX(),WX(e))))):e}function FX(e){++kX,AX.echoes&&0!=--AX.echoes||(AX.echoes=AX.id=0),TX.push(oX),NX(e,!0)}function IX(){var e=TX[TX.length-1];TX.pop(),NX(e,!1)}function NX(e,t){var r=oX;if((t?!AX.echoes||SX++&&e===oX:!SX||--SX&&e===oX)||UX(t?FX.bind(null,e):IX),e!==oX&&(oX=e,r===iX&&(iX.env=LX()),q$)){var n=iX.env.Promise,i=e.env;H$.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(OW,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function LX(){var e=OW.Promise;return q$?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(OW,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:H$.then,gthen:e.prototype.then}:{}}function jX(e,t,r,n,i){var o=oX;try{return NX(e,!0),t(r,n,i)}finally{NX(o,!1)}}function UX(e){$$.call(G$,e)}function zX(e,t,r,n){return"function"!=typeof e?e:function(){var i=oX;r&&OX(),NX(t,!0);try{return e.apply(this,arguments)}finally{NX(i,!1),n&&UX(BX)}}}function VX(e,t){return function(r,n){return e.call(this,zX(r,t),zX(n,t))}}-1===(""+$$).indexOf("[native code]")&&(OX=BX=O$);const GX="unhandledrejection";function HX(e,t){var r;try{r=t.onuncatched(e)}catch(she){}if(!1!==r)try{var n,i={promise:t,reason:e};if(OW.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(GX,!0,!0),FW(n,i)):OW.CustomEvent&&FW(n=new CustomEvent(GX,{detail:i}),i),n&&OW.dispatchEvent&&(dispatchEvent(n),!OW.PromiseRejectionEvent&&OW.onunhandledrejection))try{OW.onunhandledrejection(n)}catch(she){}p$&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(she){}}var WX=uX.reject;function $X(e,t,r,n){if(e.idbdb&&(e._state.openComplete||oX.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===T$.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>$X(e,t,r,n)))):WX(i)}return i._promise(t,((e,t)=>RX((()=>(oX.trans=i,n(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return WX(new k$.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return WX(new k$.DatabaseClosed);e.open().catch(O$)}return e._state.dbReadyPromise.then((()=>$X(e,t,r,n)))}const XX="3.2.4",qX=String.fromCharCode(65535),KX=-1/0,YX="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ZX="String expected.",QX=[],JX="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),eq=JX,tq=JX,rq=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),nq="__dbnames",iq="readonly",oq="readwrite";function sq(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const aq={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lq(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=o$(t))[e],t)}class uq{_trans(e,t,r){const n=this._tx||oX.trans,i=this.name;function o(e,r,n){if(!n.schema[i])throw new k$.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}const s=_X();try{return n&&n.db===this.db?n===oX.trans?n._promise(e,o,r):RX((()=>n._promise(e,o,r)),{trans:n,transless:oX.transless||oX}):$X(this.db,e,[this.name],o)}finally{s&&wX()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(MW(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=BW(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(r&&this.db._maxKey!==qX)return this.where(r.name).equals(r.keyPath.map((t=>e[t])));!r&&p$&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:n}=this.schema,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[s,a]=t.reduce((([t,r],i)=>{const s=n[i],a=e[i];return[t||s,t||!s?sq(r,s&&s.multi?e=>{const t=ZW(e,i);return MW(t)&&t.some((e=>o(a,e)))}:e=>o(a,ZW(e,i))):r]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(a):r?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,MW(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const r=Object.create(e.prototype);for(var n in t)if(LW(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){FW(this,e)}))}add(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=lq(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?uX.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{QW(e,n,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||MW(e))return this.where(":id").equals(e).modify(t);{const r=ZW(e,this.schema.primKey.keyPath);if(void 0===r)return WX(new k$.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?BW(t).forEach((r=>{QW(e,r,t[r])})):t(e,{value:e,primKey:r})}catch(e){}return this.where(":id").equals(r).modify(t)}}put(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=lq(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?uX.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{QW(e,n,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?uX.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:aq}))).then((e=>e.numFailures?uX.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new k$.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new k$.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(lq(o)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new D$(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,n)}))}))}bulkPut(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new k$.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new k$.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(lq(o)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new D$(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,n)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new D$(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,n)}))}}function cq(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[r].subscribe.apply(null,o),e}if("string"==typeof r)return t[r]};r.addEventType=o;for(var n=1,i=arguments.length;n<i;++n)o(arguments[n]);return r;function o(e,n,i){if("object"!=typeof e){var s;n||(n=j$),i||(i=O$);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=n(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(n,i)}};return t[e]=r[e]=a,a}BW(s=e).forEach((function(e){var t=s[e];if(MW(t))o(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new k$.InvalidArgument("Invalid event config");var r=o(e,B$,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){KW((function(){e.apply(null,t)}))}))}))}}))}}function dq(e,t){return VW(t).from({prototype:e}),t}function hq(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function fq(e,t){e.filter=sq(e.filter,t)}function pq(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>sq(n(),t()):t,e.justLimit=r&&!n}function mq(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new k$.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function gq(e,t,r){const n=mq(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function vq(e,t,r,n){const i=e.replayFilter?sq(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,r,n)=>{if(!i||i(r,n,(e=>r.stop(e)),(e=>r.fail(e)))){var s=r.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),LW(o,a)||(o[a]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(s,r),yq(gq(e,n,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return yq(gq(e,n,r),sq(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function yq(e,t,r,n){var i=CX(n?(e,t,i)=>r(n(e),t,i):r);return e.then((e=>{if(e)return e.start((()=>{var r=()=>e.continue();t&&!t(e,(e=>r=e),(t=>{e.stop(t),r=O$}),(t=>{e.fail(t),r=O$}))||i(e.value,e,(e=>r=e)),r()}))}))}function bq(e,t){try{const r=_q(e),n=_q(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return r===n?0:r<n?-1:1}(wq(e),wq(t));case"Array":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o){const r=bq(e[o],t[o]);if(0!==r)return r}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function _q(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const r=l$(e);return"ArrayBuffer"===r?"binary":r}function wq(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class xq{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,WX.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,WX.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=sq(t.algorithm,e)}_iterate(e,t){return vq(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&FW(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((r=>vq(t,e,r,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,r=t.table.core;if(hq(t,!0))return r.count({trans:e,query:{index:mq(t,r.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var n=0;return vq(t,(()=>(++n,!1)),e,r).then((()=>n))})).then(e)}sortBy(e,t){const r=e.split(".").reverse(),n=r[0],i=r.length-1;function o(e,t){return t?o(e[r[t]],t-1):e[n]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var r=o(e,i),n=o(t,i);return r<n?-s:r>n?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&hq(t,!0)&&t.limit>0){const{valueMapper:r}=t,n=mq(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then((({result:e})=>r?e.map(r):e))}{const r=[];return vq(t,(e=>r.push(e)),e,t.table.core).then((()=>r))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,hq(t)?pq(t,(()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r((()=>{e.advance(t),t=0})),!1))})):pq(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),pq(this._ctx,(()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this}until(e,t){return fq(this._ctx,(function(r,n,i){return!e(r.value)||(n(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return fq(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=sq(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&hq(t,!0)&&t.limit>0)return this._read((e=>{var r=mq(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return fq(this._ctx,(function(e){var t=e.primaryKey.toString(),n=LW(r,t);return r[t]=!0,!n})),this}modify(e){var t=this._ctx;return this._write((r=>{var n;if("function"==typeof e)n=e;else{var i=BW(e),o=i.length;n=function(t){for(var r=!1,n=0;n<o;++n){var s=i[n],a=e[s];ZW(t,s)!==a&&(QW(t,s,a),r=!0)}return r}}const s=t.table.core,{outbound:a,extractKey:l}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,c=[];let d=0;const h=[],f=(e,t)=>{const{failures:r,numFailures:n}=t;d+=e-n;for(let i of BW(r))c.push(r[i])};return this.clone().primaryKeys().then((i=>{const o=c=>{const d=Math.min(u,i.length-c);return s.getMany({trans:r,keys:i.slice(c,c+d),cache:"immutable"}).then((h=>{const p=[],m=[],g=a?[]:null,v=[];for(let e=0;e<d;++e){const t=h[e],r={value:o$(t),primKey:i[c+e]};!1!==n.call(r,r.value,r)&&(null==r.value?v.push(i[c+e]):a||0===bq(l(t),l(r.value))?(m.push(r.value),a&&g.push(i[c+e])):(v.push(i[c+e]),p.push(r.value)))}const y=hq(t)&&t.limit===1/0&&("function"!=typeof e||e===Eq)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&s.mutate({trans:r,type:"add",values:p}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(m.length>0||y&&"object"==typeof e)&&s.mutate({trans:r,type:"put",keys:g,values:m,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>f(m.length,e))))).then((()=>(v.length>0||y&&e===Eq)&&s.mutate({trans:r,type:"delete",keys:v,criteria:y}).then((e=>f(v.length,e))))).then((()=>i.length>c+d&&o(c+u)))}))};return o(0).then((()=>{if(c.length>0)throw new A$("Error modifying one or more objects",c,d,h);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return hq(e)&&(e.isPrimKey&&!tq||3===t.type)?this._write((r=>{const{primaryKey:n}=e.table.core.schema,i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((t=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((({failures:e,lastResult:r,results:n,numFailures:i})=>{if(i)throw new A$("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Eq)}}const Eq=(e,t)=>t.value=null;function Cq(e,t){return e<t?-1:e===t?0:1}function Aq(e,t){return e>t?-1:e===t?0:1}function Dq(e,t,r){var n=e instanceof Oq?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Tq(e){return new e.Collection(e,(()=>Rq(""))).limit(0)}function Sq(e,t,r,n,i,o){for(var s=Math.min(e.length,n.length),a=-1,l=0;l<s;++l){var u=t[l];if(u!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[l],u)<0&&(a=l)}return s<n.length&&"next"===o?e+r.substr(e.length):s<e.length&&"prev"===o?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function kq(e,t,r,n){var i,o,s,a,l,u,c,d=r.length;if(!r.every((e=>"string"==typeof e)))return Dq(e,ZX);function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?Cq:Aq;var t=r.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),u=e,c="next"===e?"":n}h("next");var f=new e.Collection(e,(()=>Pq(a[0],l[d-1]+n)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,l,p))return!0;for(var f=null,m=p;m<d;++m){var g=Sq(i,h,a[m],l[m],s,u);null===g&&null===f?p=m+1:(null===f||s(f,g)>0)&&(f=g)}return r(null!==f?function(){e.continue(f+c)}:n),!1})),f}function Pq(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function Rq(e){return{type:1,lower:e,upper:e}}class Oq{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?Tq(this):new this.Collection(this,(()=>Pq(e,t,!r,!n)))}catch(e){return Dq(this,YX)}}equals(e){return null==e?Dq(this,YX):new this.Collection(this,(()=>Rq(e)))}above(e){return null==e?Dq(this,YX):new this.Collection(this,(()=>Pq(e,void 0,!0)))}aboveOrEqual(e){return null==e?Dq(this,YX):new this.Collection(this,(()=>Pq(e,void 0,!1)))}below(e){return null==e?Dq(this,YX):new this.Collection(this,(()=>Pq(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Dq(this,YX):new this.Collection(this,(()=>Pq(void 0,e)))}startsWith(e){return"string"!=typeof e?Dq(this,ZX):this.between(e,e+qX,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):kq(this,((e,t)=>0===e.indexOf(t[0])),[e],qX)}equalsIgnoreCase(e){return kq(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=h$.apply(d$,arguments);return 0===e.length?Tq(this):kq(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=h$.apply(d$,arguments);return 0===e.length?Tq(this):kq(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,qX)}anyOf(){const e=h$.apply(d$,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Dq(this,YX)}if(0===e.length)return Tq(this);const r=new this.Collection(this,(()=>Pq(e[0],e[e.length-1])));r._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let n=0;return r._addAlgorithm(((r,i,o)=>{const s=r.key;for(;t(s,e[n])>0;)if(++n,n===e.length)return i(o),!1;return 0===t(s,e[n])||(i((()=>{r.continue(e[n])})),!1)})),r}notEqual(e){return this.inAnyRange([[KX,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=h$.apply(d$,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Dq(this,YX)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[KX,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,n=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===e.length)return Tq(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0)))return Dq(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",k$.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let u,c=n;function d(e,t){return c(e[0],t[0])}try{u=e.reduce((function(e,t){let n=0,i=e.length;for(;n<i;++n){const i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return n===i&&e.push(t),e}),[]),u.sort(d)}catch(e){return Dq(this,YX)}let h=0;const f=l?e=>n(e,u[h][1])>0:e=>n(e,u[h][1])>=0,p=a?e=>i(e,u[h][0])>0:e=>i(e,u[h][0])>=0;let m=f;const g=new this.Collection(this,(()=>Pq(u[0][0],u[u.length-1][1],!a,!l)));return g._ondirectionchange=e=>{"next"===e?(m=f,c=n):(m=p,c=i),u.sort(d)},g._addAlgorithm(((e,t,r)=>{for(var i=e.key;m(i);)if(++h,h===u.length)return t(r),!1;return!!function(e){return!f(e)&&!p(e)}(i)||(0===this._cmp(i,u[h][1])||0===this._cmp(i,u[h][0])||t((()=>{c===n?e.continue(u[h][0]):e.continue(u[h][1])})),!1)})),g}startsWithAnyOf(){const e=h$.apply(d$,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Tq(this):this.inAnyRange(e.map((e=>[e,e+qX]))):Dq(this,"startsWithAnyOf() only works with strings")}}function Bq(e){return CX((function(t){return Mq(t),e(t.target.error),!1}))}function Mq(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Fq="storagemutated",Iq="x-storagemutated-1",Nq=cq(null,Fq);class Lq{_lock(){return qW(!oX.global),++this._reculock,1!==this._reculock||oX.global||(oX.lockOwnerFor=this),this}_unlock(){if(qW(!oX.global),0==--this._reculock)for(oX.global||(oX.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{jX(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&oX.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if(qW(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new k$.DatabaseClosed(r);case"MissingAPIError":throw new k$.MissingAPI(r.message,r);default:throw new k$.OpenFailed(r)}if(!this.active)throw new k$.TransactionInactive;return qW(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=CX((t=>{Mq(t),this._reject(e.error)})),e.onabort=CX((t=>{Mq(t),this.active&&this._reject(new k$.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=CX((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Nq.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return WX(new k$.ReadOnly("Transaction is readonly"));if(!this.active)return WX(new k$.TransactionInactive);if(this._locked())return new uX(((n,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,i)},oX])}));if(r)return RX((()=>{var e=new uX(((e,r)=>{this._lock();const n=t(e,r,this);n&&n.then&&n.then(e,r)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var n=new uX(((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=uX.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>r));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new uX(((e,n)=>{r.then((r=>t._waitingQueue.push(CX(e.bind(null,r)))),(e=>t._waitingQueue.push(CX(n.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new k$.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(LW(t,e))return t[e];const r=this.schema[e];if(!r)throw new k$.NotFound("Table "+e+" not part of transaction");const n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function jq(e,t,r,n,i,o,s){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:o,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+Uq(t)}}function Uq(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function zq(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:YW(r,(e=>[e.name,e]))}}let Vq=e=>{try{return e.only([[]]),Vq=()=>[[]],[[]]}catch(e){return Vq=()=>qX,qX}};function Gq(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>ZW(t,e)}(e):t=>ZW(t,e)}function Hq(e){return[].slice.call(e)}let Wq=0;function $q(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Xq({_novip:e},t){const r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:i,upperOpen:o}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const r=Hq(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,n=MW(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:Gq(t)},indexes:Hq(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:n,keyPath:i}=e,s={name:t,compound:MW(i),keyPath:i,unique:r,multiEntry:n,extractKey:Gq(i)};return o[$q(i)]=s,s})),getIndexByKeyPath:e=>o[$q(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[$q(t)]=s.primaryKey),s}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),s=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:i,values:o,range:s}){return new Promise(((a,l)=>{a=CX(a);const u=e.objectStore(t),c=null==u.keyPath,d="put"===r||"add"===r;if(!d&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:h}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const v=e=>{++g,Mq(e)};if("deleteRange"===r){if(4===s.type)return a({numFailures:g,failures:m,results:[],lastResult:void 0});3===s.type?p.push(f=u.clear()):p.push(f=u.delete(n(s)))}else{const[e,t]=d?c?[o,i]:[o,null]:[i,null];if(d)for(let n=0;n<h;++n)p.push(f=t&&void 0!==t[n]?u[r](e[n],t[n]):u[r](e[n])),f.onerror=v;else for(let n=0;n<h;++n)p.push(f=u[r](e[n])),f.onerror=v}const y=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:g,failures:m,results:"delete"===r?i:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{v(e),y(e)},f.onsuccess=y}))},getMany:({trans:e,keys:r})=>new Promise(((n,i)=>{n=CX(n);const o=e.objectStore(t),s=r.length,a=new Array(s);let l,u=0,c=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++c===u&&n(a)},h=Bq(i);for(let e=0;e<s;++e)null!=r[e]&&(l=o.get(r[e]),l._pos=e,l.onsuccess=d,l.onerror=h,++u);0===u&&n(a)})),get:({trans:e,key:r})=>new Promise(((n,i)=>{n=CX(n);const o=e.objectStore(t).get(r);o.onsuccess=e=>n(e.target.result),o.onerror=Bq(i)})),query:function(e){return r=>new Promise(((i,o)=>{i=CX(i);const{trans:s,values:a,limit:l,query:u}=r,c=l===1/0?void 0:l,{index:d,range:h}=u,f=s.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=n(h);if(0===l)return i({result:[]});if(e){const e=a?p.getAll(m,c):p.getAllKeys(m,c);e.onsuccess=e=>i({result:e.target.result}),e.onerror=Bq(o)}else{let e=0;const t=a||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),r=[];t.onsuccess=n=>{const o=t.result;return o?(r.push(a?o.value:o.primaryKey),++e===l?i({result:r}):void o.continue()):i({result:r})},t.onerror=Bq(o)}}))}(o),openCursor:function({trans:e,values:r,query:i,reverse:o,unique:s}){return new Promise(((a,l)=>{a=CX(a);const{index:u,range:c}=i,d=e.objectStore(t),h=u.isPrimaryKey?d:d.index(u.name),f=o?s?"prevunique":"prev":s?"nextunique":"next",p=r||!("openKeyCursor"in h)?h.openCursor(n(c),f):h.openKeyCursor(n(c),f);p.onerror=Bq(l),p.onsuccess=CX((t=>{const r=p.result;if(!r)return void a(null);r.___id=++Wq,r.done=!1;const n=r.continue.bind(r);let i=r.continuePrimaryKey;i&&(i=i.bind(r));const o=r.advance.bind(r),s=()=>{throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=CX(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=CX(e),p.onerror=Bq(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=CX((e=>{p.onsuccess=a,a()})),r.continue=n,r.continuePrimaryKey=i,r.advance=o,a(),t},a(r)}),l)}))},count({query:e,trans:r}){const{index:i,range:o}=e;return new Promise(((e,s)=>{const a=r.objectStore(t),l=i.isPrimaryKey?a:a.index(i.name),u=n(o),c=u?l.count(u):l.count();c.onsuccess=CX((t=>e(t.target.result))),c.onerror=Bq(s)}))}}}(e))),a={};return s.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:Vq(t),schema:i}}(t,r,i),e.dbcore);return{dbcore:o}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((t=>{const r=t.name;e.core.schema.tables.some((e=>e.name===r))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function qq({_novip:e},t,r,n){r.forEach((r=>{const i=n[r];t.forEach((t=>{const n=HW(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?zW(t,r,{get(){return this.table(r)},set(e){UW(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))}))}))}function Kq({_novip:e},t){t.forEach((t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]}))}function Yq(e,t){return e._cfg.version-t._cfg.version}function Zq(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],o=t[n];if(i){const e={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!JX)e.recreate=!0,r.change.push(e);else{const t=i.idxByName,n=o.idxByName;let s;for(s in t)n[s]||e.del.push(s);for(s in n){const r=t[s],i=n[s];r?r.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}}else r.add.push([n,o])}return r}function Qq(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((e=>Jq(i,e))),i}function Jq(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function eK(e,t,r){const n={};return $W(t.objectStoreNames,0).forEach((e=>{const t=r.objectStore(e);let i=t.keyPath;const o=jq(Uq(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let r=0;r<t.indexNames.length;++r){const e=t.index(t.indexNames[r]);i=e.keyPath;var a=jq(e.name,i,!!e.unique,!!e.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}n[e]=zq(e,o,s)})),n}function tK({_novip:e},t,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const o=n[i],s=r.objectStore(o);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const r=s.indexNames[e],n=s.index(r).keyPath,i="string"==typeof n?n:"["+$W(n).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=r,delete t[o].idxByName[i],t[o].idxByName[r]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&OW.WorkerGlobalScope&&OW instanceof OW.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class rK{_parseStoresSpec(e,t){BW(e).forEach((r=>{if(null!==e[r]){var n=e[r].split(",").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return jq(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),MW(n),0===t)})),i=n.shift();if(i.multi)throw new k$.Schema("Primary key cannot be multi-valued");n.forEach((e=>{if(e.auto)throw new k$.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new k$.Schema("Index must have a name and cannot be an empty string")})),t[r]=zq(r,i,n)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?FW(this._cfg.storesSource,e):e;const r=t._versions,n={};let i={};return r.forEach((e=>{FW(n,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(n,i)})),t._dbSchema=i,Kq(t,[t._allTables,t,t.Transaction.prototype]),qq(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],BW(i),i),t._storeNames=BW(i),this}upgrade(e){return this._cfg.contentUpgrade=U$(this._cfg.contentUpgrade||O$,e),this}}function nK(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new AK(nq,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function iK(e){return e&&"function"==typeof e.databases}function oK(e){return RX((function(){return oX.letThrough=!0,e()}))}function sK(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function aK(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?WX(t.dbOpenError):e));p$&&(t.openCanceller._stackHolder=y$()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new k$.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,a=!1;return uX.race([n,("undefined"==typeof navigator?uX.resolve():sK()).then((()=>new uX(((n,o)=>{if(i(),!r)throw new k$.MissingAPI;const l=e.name,u=t.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!u)throw new k$.MissingAPI;u.onerror=Bq(o),u.onblocked=CX(e._fireOnBlocked),u.onupgradeneeded=CX((n=>{if(s=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=Mq,s.abort(),u.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=CX((()=>{o(new k$.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{s.onerror=Bq(o);var i=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;a=i<1,e._novip.idbdb=u.result,function(e,t,r,n){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(n);const s=o._reject.bind(o),a=oX.transless||oX;RX((()=>{oX.trans=o,oX.transless=a,0===t?(BW(i).forEach((e=>{Qq(r,e,i[e].primKey,i[e].indexes)})),Xq(e,r),uX.follow((()=>e.on.populate.fire(o))).catch(s)):function({_novip:e},t,r,n){const i=[],o=e._versions;let s=e._dbSchema=eK(0,e.idbdb,n),a=!1;const l=o.filter((e=>e._cfg.version>=t));return l.forEach((o=>{i.push((()=>{const i=s,l=o._cfg.dbschema;tK(e,i,n),tK(e,l,n),s=e._dbSchema=l;const u=Zq(i,l);u.add.forEach((e=>{Qq(n,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new k$.Upgrade("Not yet support for changing primary key");{const t=n.objectStore(e.name);e.add.forEach((e=>Jq(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Jq(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const c=o._cfg.contentUpgrade;if(c&&o._cfg.version>t){Xq(e,n),r._memoizedTables={},a=!0;let t=JW(l);u.del.forEach((e=>{t[e]=i[e]})),Kq(e,[e.Transaction.prototype]),qq(e,[e.Transaction.prototype],BW(t),t),r.schema=t;const o=f$(c);let s;o&&OX();const d=uX.follow((()=>{if(s=c(r),s&&o){var e=BX.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?uX.resolve(s):d.then((()=>s))}})),i.push((t=>{a&&eq||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((r=>null==e[r]&&t.db.deleteObjectStore(r)))}(o._cfg.dbschema,t),Kq(e,[e.Transaction.prototype]),qq(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return i.length?uX.resolve(i.shift()(r.idbtrans)).then(e):uX.resolve()}().then((()=>{var e,t;t=n,BW(e=s).forEach((r=>{t.db.objectStoreNames.contains(r)||Qq(t,r,e[r].primKey,e[r].indexes)}))}))}(e,t,o,r).catch(s)}))}(e,i/10,s,o)}}),o),u.onsuccess=CX((()=>{s=null;const r=e._novip.idbdb=u.result,i=$W(r.objectStoreNames);if(i.length>0)try{const n=r.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,r){e.verno=t.version/10;const n=e._dbSchema=eK(0,t,r);e._storeNames=$W(t.objectStoreNames,0),qq(e,[e._allTables],BW(n),n)}(e,r,n):(tK(e,e._dbSchema,n),function(e,t){const r=Zq(eK(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((e=>e.add.length||e.change.length)))}(e,n)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Xq(e,n)}catch(e){}var o;QX.push(e),r.onversionchange=CX((r=>{t.vcFired=!0,e.on("versionchange").fire(r)})),r.onclose=CX((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},r){!iK(e)&&r!==nq&&nK(e,t).put({name:r}).catch(O$)}(e._deps,l),n()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],uX.resolve(oK((()=>e.on.ready.fire(e.vip)))).then((function r(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(U$,O$);return t.onReadyBeingFired=[],uX.resolve(oK((()=>n(e.vip)))).then(r)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((r=>{t.dbOpenError=r;try{s&&s.abort()}catch(e){}return n===t.openCanceller&&e._close(),WX(r)})).finally((()=>{t.openComplete=!0,o()}))}function lK(e){var t=t=>e.next(t),r=i(t),n=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(r,n):MW(o)?Promise.all(o).then(r,n):r(o)}}return i(t)()}function uK(e,t,r){var n=arguments.length;if(n<2)throw new k$.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,t$(i),r]}function cK(e,t,r,n,i){return uX.resolve().then((()=>{const o=oX.transless||oX,s=e._createTransaction(t,r,e._dbSchema,n),a={trans:s,transless:o};if(n)s.idbtrans=n.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(n){return n.name===T$.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>cK(e,t,r,null,i)))):WX(n)}const l=f$(i);let u;l&&OX();const c=uX.follow((()=>{if(u=i.call(s,s),u)if(l){var e=BX.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=lK(u))}),a);return(u&&"function"==typeof u.then?uX.resolve(u).then((e=>s.active?e:WX(new k$.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):c.then((()=>u))).then((e=>(n&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),WX(e))))}))}function dK(e,t,r){const n=MW(e)?e.slice():[e];for(let i=0;i<r;++i)n.push(t);return n}const hK={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,i={},o=[];function s(e,t,r){const n=$q(e),a=i[n]=i[n]||[],l=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...r,isVirtual:u,keyTail:t,keyLength:l,extractKey:Gq(e),unique:!u&&r.unique};return a.push(c),c.isPrimaryKey||o.push(c),l>1&&s(2===l?e[0]:e.slice(0,l-1),t+1,r),a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(const e of n.indexes)s(e.keyPath,0,e);function l(t){const r=t.query.index;return r.isVirtual?{...t,query:{index:r,range:(n=t.query.range,i=r.keyTail,{type:1===n.type?2:n.type,lower:dK(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:dK(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var n,i}const u={...r,schema:{...n,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=i[$q(e)];return t&&t[0]}},count:e=>r.count(l(e)),query:e=>r.query(l(e)),openCursor(t){const{keyTail:n,isVirtual:i,keyLength:o}=t.query.index;return i?r.openCursor(l(t)).then((r=>r&&function(r){const i=Object.create(r,{continue:{value:function(i){null!=i?r.continue(dK(i,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,i){r.continuePrimaryKey(dK(t,e.MAX_KEY,n),i)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const e=r.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>r.value}});return i}(r))):r.openCursor(t)}};return u}}}};function fK(e,t,r,n){return r=r||{},n=n||"",BW(e).forEach((i=>{if(LW(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=l$(o);e!==l$(s)?r[n+i]=t[i]:"Object"===e?fK(o,s,r,n+i+"."):o!==s&&(r[n+i]=t[i])}else o!==s&&(r[n+i]=t[i])}else r[n+i]=void 0})),BW(t).forEach((i=>{LW(e,i)||(r[n+i]=t[i])})),r}const pK={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema,i={...r,mutate(e){const i=oX.trans,{deleting:o,creating:s,updating:a}=i.table(t).hook;switch(e.type){case"add":if(s.fire===O$)break;return i._promise("readwrite",(()=>l(e)),!0);case"put":if(s.fire===O$&&a.fire===O$)break;return i._promise("readwrite",(()=>l(e)),!0);case"delete":if(o.fire===O$)break;return i._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(o.fire===O$)break;return i._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return r.mutate(e);function l(e){const t=oX.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(n,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,i).then((l=>{const u=i.map(((r,i)=>{const u=l[i],c={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(c,r,u,t);else if("add"===e.type||void 0===u){const o=s.fire.call(c,r,e.values[i],t);null==r&&null!=o&&(r=o,e.keys[i]=r,n.outbound||QW(e.values[i],n.keyPath,r))}else{const n=fK(u,e.values[i]),o=a.fire.call(c,n,r,u,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{LW(t,e)?t[e]=o[e]:QW(t,e,o[e])}))}}return c}));return r.mutate(e).then((({failures:t,results:r,numFailures:n,lastResult:o})=>{for(let s=0;s<i.length;++s){const n=r?r[s]:i[s],o=u[s];null==n?o.onerror&&o.onerror(t[s]):o.onsuccess&&o.onsuccess("put"===e.type&&l[s]?e.values[s]:n)}return{failures:t,results:r,numFailures:n,lastResult:o}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,i){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:i}).then((({result:r})=>l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:r[r.length-1],lowerOpen:!0},i)))))}}};return i}})};function mK(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;const n=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===bq(t.keys[i],e[o])&&(n.push(r?o$(t.values[i]):t.values[i]),++o);return n.length===e.length?n:null}catch(e){return null}}const gK={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:e=>{if(!e.cache)return r.getMany(e);const t=mK(e.keys,e.trans._cache,"clone"===e.cache);return t?uX.resolve(t):r.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?o$(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))}}})};function vK(e){return!("from"in e)}const yK=function(e,t){if(!this){const t=new yK;return e&&"d"in e&&FW(t,e),t}FW(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function bK(e,t,r){const n=bq(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(vK(e))return FW(e,{from:t,to:r,d:1});const i=e.l,o=e.r;if(bq(r,e.from)<0)return i?bK(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},xK(e);if(bq(t,e.to)>0)return o?bK(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},xK(e);bq(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),bq(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;i&&!e.l&&_K(e,i),o&&s&&_K(e,o)}function _K(e,t){vK(t)||function e(t,{from:r,to:n,l:i,r:o}){bK(t,r,n),i&&e(t,i),o&&e(t,o)}(e,t)}function wK(e){let t=vK(e)?null:{s:0,n:e};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&bq(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||bq(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function xK(e){var t,r;const n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const t="r"===i?"l":"r",r={...e},n=e[i];e.from=n.from,e.to=n.to,e[i]=n[i],r[i]=n[t],e[t]=r,r.d=EK(r)}e.d=EK(e)}function EK({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}jW(yK.prototype,{add(e){return _K(this,e),this},addKey(e){return bK(this,e,e),this},addKeys(e){return e.forEach((e=>bK(this,e,e))),this},[u$](){return wK(this)}});const CK={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new yK(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const i=e.table(n),{schema:o}=i,{primaryKey:s}=o,{extractKey:a,outbound:l}=s,u={...i,mutate:e=>{const s=e.trans,a=s.mutatedParts||(s.mutatedParts={}),l=e=>{const r=`idb://${t}/${n}/${e}`;return a[r]||(a[r]=new yK)},u=l(""),c=l(":dels"),{type:d}=e;let[h,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(MW(h)){"delete"!==d&&(h=e.results),u.addKeys(h);const t=mK(h,p);t||"add"===d||c.addKeys(h),(t||f)&&function(e,t,r,n){t.indexes.forEach((function(t){const i=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&MW(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||n).forEach(((e,t)=>{const i=r&&o(r[t]),a=n&&o(n[t]);0!==bq(i,a)&&(null!=i&&s(i),null!=a&&s(a))}))}))}(l,o,t,f)}else if(h){const e={from:h.lower,to:h.upper};c.add(e),u.add(e)}else u.add(r),c.add(r),o.indexes.forEach((e=>l(e.name).add(r)));return e}))}},c=({query:{index:t,range:r}})=>{var n,i;return[t,new yK(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(i=r.upper)&&void 0!==i?i:e.MAX_KEY)]},d={get:e=>[s,new yK(e.key)],getMany:e=>[s,(new yK).addKeys(e.keys)],count:c,query:c,openCursor:c};return BW(d).forEach((e=>{u[e]=function(o){const{subscr:s}=oX;if(s){const u=e=>{const r=`idb://${t}/${n}/${e}`;return s[r]||(s[r]=new yK)},c=u(""),h=u(":dels"),[f,p]=d[e](o);if(u(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((r=>{if("query"===e){if(l&&o.values)return t.then((({result:e})=>(c.addKeys(e),r)));const e=o.values?r.result.map(a):r.result;o.values?c.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=r,t=o.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return r}))}h.add(r)}}return i[e].apply(this,arguments)}})),u}}}};class AK{constructor(e,t){this._middlewares={},this.verno=0;const r=AK.dependencies;this._options=t={addons:AK.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:n}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:O$,dbReadyPromise:null,cancelOpen:O$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new uX((e=>{i.dbReadyResolve=e})),i.openCanceller=new uX(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=cq(this,"populate","blocked","versionchange","close",{ready:[U$,O$]}),this.on.ready.subscribe=XW(this.on.ready.subscribe,(e=>(t,r)=>{AK.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||uX.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);const n=this;r||e((function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,dq(xq.prototype,(function(e,t){this.db=o;let r=aq,n=null;if(t)try{r=t()}catch(e){n=e}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a!==B$?a:null}}))),this.Table=function(e){return dq(uq.prototype,(function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:cq(null,{creating:[I$,O$],reading:[M$,B$],updating:[L$,O$],deleting:[N$,O$]})}))}(this),this.Transaction=function(e){return dq(Lq.prototype,(function(t,r,n,i,o){this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=cq(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new uX(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),WX(e)}))}))}(this),this.Version=function(e){return dq(rK.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return dq(Oq.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};const i=e._deps.indexedDB;if(!i)throw new k$.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Vq(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),QX.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(hK),this.use(pK),this.use(CK),this.use(gK),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new k$.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new k$.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter((t=>t._cfg.version===e))[0];return r||(r=new this.Version(e),t.push(r),t.sort(Yq),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||oX.letThrough||this._vip)?e():new uX(((e,t)=>{if(this._state.openComplete)return t(new k$.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new k$.DatabaseClosed);this.open().catch(O$)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==r?10:r,name:n}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>r?e.create!==r:!!t&&e.name!==t))),this}open(){return aK(this)}_close(){const e=this._state,t=QX.indexOf(this);if(t>=0&&QX.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new uX((t=>{e.dbReadyResolve=t})),e.openCanceller=new uX(((t,r)=>{e.cancelOpen=r}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new k$.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new uX(((r,n)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=CX((()=>{!function({indexedDB:e,IDBKeyRange:t},r){!iK(e)&&r!==nq&&nK(e,t).delete(r).catch(O$)}(this._deps,this.name),r()})),e.onerror=Bq(n),e.onblocked=this._fireOnBlocked};if(e)throw new k$.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return BW(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=uK.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n=oX.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===iq)o=iq;else{if("rw"!=e&&e!=oq)throw new k$.InvalidArgument("Invalid transaction mode: "+e);o=oq}if(n){if(n.mode===iq&&o===oq){if(!i)throw new k$.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((e=>{if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new k$.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,((t,r)=>{r(e)})):WX(e)}const a=cK.bind(null,this,o,s,n,r);return n?n._promise(o,a,"lock"):oX.trans?jX(oX.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!LW(this._allTables,e))throw new k$.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}e("bh",AK);const DK="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class TK{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[DK](){return this}}function SK(e,t){return BW(t).forEach((r=>{_K(e[r]||(e[r]=new yK),t[r])})),e}function kK(e){let t,r=!1;const n=new TK((n=>{const i=f$(e);let o=!1,s={},a={};const l={get closed(){return o},unsubscribe:()=>{o=!0,Nq.storagemutated.unsubscribe(h)}};n.start&&n.start(l);let u=!1,c=!1;function d(){return BW(a).some((e=>s[e]&&function(e,t){const r=wK(t);let n=r.next();if(n.done)return!1;let i=n.value;const o=wK(e);let s=o.next(i.from),a=s.value;for(;!n.done&&!s.done;){if(bq(a.from,i.to)<=0&&bq(a.to,i.from)>=0)return!0;bq(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}(s[e],a[e])))}const h=e=>{SK(s,e),d()&&f()},f=()=>{if(u||o)return;s={};const p={},m=function(t){i&&OX();const r=()=>RX(e,{subscr:t,trans:null}),n=oX.trans?jX(oX.transless,r):r();return i&&n.then(BX,BX),n}(p);c||(Nq(Fq,h),c=!0),u=!0,Promise.resolve(m).then((e=>{r=!0,t=e,u=!1,o||(d()?f():(s={},a=p,n.next&&n.next(e)))}),(e=>{u=!1,r=!1,n.error&&n.error(e),l.unsubscribe()}))};return f(),l}));return n.hasValue=()=>r,n.getValue=()=>t,n}let PK;try{PK={indexedDB:OW.indexedDB||OW.mozIndexedDB||OW.webkitIndexedDB||OW.msIndexedDB,IDBKeyRange:OW.IDBKeyRange||OW.webkitIDBKeyRange}}catch(she){PK={indexedDB:null,IDBKeyRange:null}}const RK=AK;function OK(e){let t=BK;try{BK=!0,Nq.storagemutated.fire(e)}finally{BK=t}}jW(RK,{...R$,delete:e=>new RK(e,{addons:[]}).delete(),exists:e=>new RK(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return iK(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==nq)))):nK(e,t).toCollection().primaryKeys()}(RK.dependencies).then(e)}catch(e){return WX(new k$.MissingAPI)}},defineClass:()=>function(e){FW(this,e)},ignoreTransaction:e=>oX.trans?jX(oX.transless,e):e(),vip:oK,async:function(e){return function(){try{var t=lK(e.apply(this,arguments));return t&&"function"==typeof t.then?t:uX.resolve(t)}catch(e){return WX(e)}}},spawn:function(e,t,r){try{var n=lK(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:uX.resolve(n)}catch(e){return WX(e)}},currentTransaction:{get:()=>oX.trans||null},waitFor:function(e,t){const r=uX.resolve("function"==typeof e?RK.ignoreTransaction(e):e).timeout(t||6e4);return oX.trans?oX.trans.waitFor(r):r},Promise:uX,debug:{get:()=>p$,set:e=>{m$(e,"dexie"===e?()=>!0:rq)}},derive:VW,extend:FW,props:jW,override:XW,Events:cq,on:Nq,liveQuery:kK,extendObservabilitySet:SK,getByKeyPath:ZW,setByKeyPath:QW,delByKeyPath:function(e,t){"string"==typeof t?QW(e,t,void 0):"length"in t&&[].map.call(t,(function(t){QW(e,t,void 0)}))},shallowClone:JW,deepClone:o$,getObjectDiff:fK,cmp:bq,asap:KW,minKey:KX,addons:[],connections:QX,errnames:T$,dependencies:PK,semVer:XX,version:XX.split(".").map((e=>parseInt(e))).reduce(((e,t,r)=>e+t/Math.pow(10,2*r)))}),RK.maxKey=Vq(RK.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Nq(Fq,(e=>{if(!BK){let t;JX?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Iq,!0,!0,e)):t=new CustomEvent(Iq,{detail:e}),BK=!0,dispatchEvent(t),BK=!1}})),addEventListener(Iq,(({detail:e})=>{BK||OK(e)})));let BK=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Iq);"function"==typeof e.unref&&e.unref(),Nq(Fq,(t=>{BK||e.postMessage(t)})),e.onmessage=e=>{e.data&&OK(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Nq(Fq,(e=>{try{BK||("undefined"!=typeof localStorage&&localStorage.setItem(Iq,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Iq,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===Iq){const t=JSON.parse(e.newValue);t&&OK(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===Iq&&OK(e.changedParts)}))}function MK(e,t=[]){let r=[];const n=()=>{const t=r.map((e=>G.createContext(e)));return function(r){const n=r?.[e]||t;return G.useMemo((()=>({[`__scope${e}`]:{...r,[e]:n}})),[r,n])}};return n.scopeName=e,[function(t,n){const i=G.createContext(n),o=r.length;r=[...r,n];const s=t=>{const{scope:r,children:n,...s}=t,a=r?.[e]?.[o]||i,l=G.useMemo((()=>s),Object.values(s));return J.jsx(a.Provider,{value:l,children:n})};return s.displayName=t+"Provider",[s,function(r,s){const a=s?.[e]?.[o]||i,l=G.useContext(a);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},FK(n,...t)]}function FK(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return G.useMemo((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return r.scopeName=t.scopeName,r}uX.rejectionMapper=function(e,t){if(!e||e instanceof E$||e instanceof TypeError||e instanceof SyntaxError||!e.name||!P$[e.name])return e;var r=new P$[e.name](t||e.message,e);return"stack"in e&&zW(r,"stack",{get:function(){return this.inner.stack}}),r},m$(p$,rq);var IK,NK="dismissableLayer.update",LK="dismissableLayer.pointerDownOutside",jK="dismissableLayer.focusOutside",UK=G.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zK=G.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=G.useContext(UK),[c,d]=G.useState(null),h=c?.ownerDocument??globalThis?.document,[,f]=G.useState({}),p=HL(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,w=function(e,t=globalThis?.document){const r=nj(e),n=G.useRef(!1),i=G.useRef((()=>{}));return G.useEffect((()=>{const e=e=>{if(e.target&&!n.current){let n=function(){HK(LK,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,r=[...u.branches].some((e=>e.contains(t)));_&&!r&&(i?.(e),s?.(e),e.defaultPrevented||a?.())}),h),x=function(e,t=globalThis?.document){const r=nj(e),n=G.useRef(!1);return G.useEffect((()=>{const e=e=>{e.target&&!n.current&&HK(jK,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(o?.(e),s?.(e),e.defaultPrevented||a?.())}),h);return Qj((e=>{y===u.layers.size-1&&(n?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),G.useEffect((()=>{if(c)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(IK=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),GK(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=IK)}}),[c,h,r,u]),G.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),GK())}),[c,u]),G.useEffect((()=>{const e=()=>f({});return document.addEventListener(NK,e),()=>document.removeEventListener(NK,e)}),[]),J.jsx(YL.div,{...l,ref:p,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:aj(e.onFocusCapture,x.onFocusCapture),onBlurCapture:aj(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:aj(e.onPointerDownCapture,w.onPointerDownCapture)})}));zK.displayName="DismissableLayer";var VK=G.forwardRef(((e,t)=>{const r=G.useContext(UK),n=G.useRef(null),i=HL(t,n);return G.useEffect((()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),J.jsx(YL.div,{...e,ref:i})}));function GK(){const e=new CustomEvent(NK);document.dispatchEvent(e)}function HK(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?ZL(i,o):i.dispatchEvent(o)}VK.displayName="DismissableLayerBranch";var WK=zK,$K=VK,XK=0;function qK(){G.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KK()),document.body.insertAdjacentElement("beforeend",e[1]??KK()),XK++,()=>{1===XK&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),XK--}}),[])}function KK(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var YK=G.forwardRef(((e,t)=>{const{container:r,...n}=e,[i,o]=G.useState(!1);QL((()=>o(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?ld.createPortal(J.jsx(YL.div,{...n,ref:t}),s):null}));YK.displayName="Portal";var ZK=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=G.useState(),n=G.useRef({}),i=G.useRef(e),o=G.useRef("none"),s=e?"mounted":"unmounted",[a,l]=function(e,t){return G.useReducer(((e,r)=>t[e][r]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return G.useEffect((()=>{const e=QK(n.current);o.current="mounted"===a?e:"none"}),[a]),QL((()=>{const t=n.current,r=i.current;if(r!==e){const n=o.current,s=QK(t);l(e?"MOUNT":"none"===s||"none"===t?.display?"UNMOUNT":r&&n!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}}),[e,l]),QL((()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,s=o=>{const s=QK(n.current).includes(o.animationName);if(o.target===t&&s&&(l("ANIMATION_END"),!i.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)}))}},a=e=>{e.target===t&&(o.current=QK(n.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:G.useCallback((e=>{e&&(n.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:n.isPresent}):G.Children.only(r),o=HL(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof r||n.isPresent?G.cloneElement(i,{ref:o}):null};function QK(e){return e?.animationName||"none"}ZK.displayName="Presence";var JK=tG(),eY=function(){},tY=G.forwardRef((function(e,t){var r=G.useRef(null),n=G.useState({onScrollCapture:eY,onWheelCapture:eY,onTouchMoveCapture:eY}),i=n[0],o=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=e.gapMode,b=KV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=JV([r,t]),x=qV(qV({},b),i);return G.createElement(G.Fragment,null,c&&G.createElement(_,{sideCar:JK,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?G.cloneElement(G.Children.only(a),qV(qV({},x),{ref:w})):G.createElement(v,qV({},x,{className:l,ref:w}),a))}));tY.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},tY.classNames={fullWidth:QV,zeroRight:ZV};var rY=!1;if("undefined"!=typeof window)try{var nY=Object.defineProperty({},"passive",{get:function(){return rY=!0,!0}});window.addEventListener("test",nY,nY),window.removeEventListener("test",nY,nY)}catch(HEe){rY=!1}var iY=!!rY&&{passive:!1},oY=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},sY=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),aY(e,n)){var i=lY(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aY=function(e,t){return"v"===e?function(e){return oY(e,"overflowY")}(t):function(e){return oY(e,"overflowX")}(t)},lY=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},uY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cY=function(e){return[e.deltaX,e.deltaY]},dY=function(e){return e&&"current"in e?e.current:e},hY=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},fY=0,pY=[];function mY(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gY=nG(JK,(function(e){var t=G.useRef([]),r=G.useRef([0,0]),n=G.useRef(),i=G.useState(fY++)[0],o=G.useState(uG)[0],s=G.useRef(e);G.useEffect((function(){s.current=e}),[e]),G.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=YV([e.lockRef.current],(e.shards||[]).map(dY),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=G.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=uY(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=sY(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=sY(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var f=n.current||i;return function(e,t,r,n,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=lY(e,a),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&aY(e,a)&&(d+=m,h+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&Math.abs(d)<1||!i&&s>d)||!c&&(i&&Math.abs(h)<1||!i&&-s>h))&&(u=!0),u}(f,t,e,"h"===f?l:u,!0)}),[]),l=G.useCallback((function(e){var r=e;if(pY.length&&pY[pY.length-1]===o){var n="deltaY"in r?cY(r):uY(r),i=t.current.filter((function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)}))[0];if(i&&i.should)r.cancelable&&r.preventDefault();else if(!i){var l=(s.current.shards||[]).map(dY).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?a(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}}),[]),u=G.useCallback((function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:mY(n)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=G.useCallback((function(e){r.current=uY(e),n.current=void 0}),[]),d=G.useCallback((function(t){u(t.type,cY(t),t.target,a(t,e.lockRef.current))}),[]),h=G.useCallback((function(t){u(t.type,uY(t),t.target,a(t,e.lockRef.current))}),[]);G.useEffect((function(){return pY.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,iY),document.addEventListener("touchmove",l,iY),document.addEventListener("touchstart",c,iY),function(){pY=pY.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,iY),document.removeEventListener("touchmove",l,iY),document.removeEventListener("touchstart",c,iY)}}),[]);var f=e.removeScrollBar,p=e.inert;return G.createElement(G.Fragment,null,p?G.createElement(o,{styles:hY(i)}):null,f?G.createElement(vG,{gapMode:e.gapMode}):null)}));var vY=G.forwardRef((function(e,t){return G.createElement(tY,qV({},e,{ref:t,sideCar:gY}))}));vY.classNames=tY.classNames;const yY=vY;var bY=["Enter"," "],_Y=["ArrowUp","PageDown","End"],wY=["ArrowDown","PageUp","Home",..._Y],xY={ltr:[...bY,"ArrowRight"],rtl:[...bY,"ArrowLeft"]},EY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},CY="Menu",[AY,DY,TY]=Zj(CY),[SY,kY]=MK(CY,[TY,rV,PV]),PY=rV(),RY=PV(),[OY,BY]=SY(CY),[MY,FY]=SY(CY),IY=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:s=!0}=e,a=PY(t),[l,u]=G.useState(null),c=G.useRef(!1),d=nj(o),h=oj(i);return G.useEffect((()=>{const e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),J.jsx(yV,{...a,children:J.jsx(OY,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:J.jsx(MY,{scope:t,onClose:G.useCallback((()=>d(!1)),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};IY.displayName=CY;var NY=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=PY(r);return J.jsx(bV,{...i,...n,ref:t})}));NY.displayName="MenuAnchor";var LY="MenuPortal",[jY,UY]=SY(LY,{forceMount:void 0}),zY=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=BY(LY,t);return J.jsx(jY,{scope:t,forceMount:r,children:J.jsx(ZK,{present:r||o.open,children:J.jsx(YK,{asChild:!0,container:i,children:n})})})};zY.displayName=LY;var VY="MenuContent",[GY,HY]=SY(VY),WY=G.forwardRef(((e,t)=>{const r=UY(VY,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=BY(VY,e.__scopeMenu),s=FY(VY,e.__scopeMenu);return J.jsx(AY.Provider,{scope:e.__scopeMenu,children:J.jsx(ZK,{present:n||o.open,children:J.jsx(AY.Slot,{scope:e.__scopeMenu,children:s.modal?J.jsx($Y,{...i,ref:t}):J.jsx(XY,{...i,ref:t})})})})})),$Y=G.forwardRef(((e,t)=>{const r=BY(VY,e.__scopeMenu),n=G.useRef(null),i=HL(t,n);return G.useEffect((()=>{const e=n.current;if(e)return XV(e)}),[]),J.jsx(qY,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:aj(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),XY=G.forwardRef(((e,t)=>{const r=BY(VY,e.__scopeMenu);return J.jsx(qY,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})})),qY=G.forwardRef(((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...m}=e,g=BY(VY,r),v=FY(VY,r),y=PY(r),b=RY(r),_=DY(r),[w,x]=G.useState(null),E=G.useRef(null),C=HL(t,E,g.onContentChange),A=G.useRef(0),D=G.useRef(""),T=G.useRef(0),S=G.useRef(null),k=G.useRef("right"),P=G.useRef(0),R=p?yY:G.Fragment,O=p?{as:WL,allowPinchZoom:!0}:void 0,B=e=>{const t=D.current+e,r=_().filter((e=>!e.disabled)),n=document.activeElement,i=r.find((e=>e.ref.current===n))?.textValue,o=function(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0])),i=n?t[0]:t,o=r?e.indexOf(r):-1;let s=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===i.length&&(s=s.filter((e=>e!==r)));const u=s.find((e=>e.toLowerCase().startsWith(i.toLowerCase())));return u!==r?u:void 0}(r.map((e=>e.textValue)),t,i),s=r.find((e=>e.textValue===o))?.ref.current;!function e(t){D.current=t,window.clearTimeout(A.current),""!==t&&(A.current=window.setTimeout((()=>e("")),1e3))}(t),s&&setTimeout((()=>s.focus()))};G.useEffect((()=>()=>window.clearTimeout(A.current)),[]),qK();const M=G.useCallback((e=>k.current===S.current?.side&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,t)}(e,S.current?.area)),[]);return J.jsx(GY,{scope:r,searchRef:D,onItemEnter:G.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),onItemLeave:G.useCallback((e=>{M(e)||(E.current?.focus(),x(null))}),[M]),onTriggerLeave:G.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),pointerGraceTimerRef:T,onPointerGraceIntentChange:G.useCallback((e=>{S.current=e}),[]),children:J.jsx(R,{...O,children:J.jsx(pU,{asChild:!0,trapped:i,onMountAutoFocus:aj(o,(e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:J.jsx(zK,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:J.jsx(jV,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:x,onEntryFocus:aj(l,(e=>{v.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:J.jsx(_V,{role:"menu","aria-orientation":"vertical","data-state":_Z(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:aj(m.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&B(e.key));const i=E.current;if(e.target!==i)return;if(!wY.includes(e.key))return;e.preventDefault();const o=_().filter((e=>!e.disabled)).map((e=>e.ref.current));_Y.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)})),onBlur:aj(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(A.current),D.current="")})),onPointerMove:aj(e.onPointerMove,EZ((e=>{const t=e.target,r=P.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>P.current?"right":"left";k.current=t,P.current=e.clientX}})))})})})})})})}));WY.displayName=VY;var KY=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{role:"group",...n,ref:t})}));KY.displayName="MenuGroup";var YY=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{...n,ref:t})}));YY.displayName="MenuLabel";var ZY="MenuItem",QY="menu.itemSelect",JY=G.forwardRef(((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=G.useRef(null),s=FY(ZY,e.__scopeMenu),a=HY(ZY,e.__scopeMenu),l=HL(t,o),u=G.useRef(!1);return J.jsx(eZ,{...i,ref:l,disabled:r,onClick:aj(e.onClick,(()=>{const e=o.current;if(!r&&e){const t=new CustomEvent(QY,{bubbles:!0,cancelable:!0});e.addEventListener(QY,(e=>n?.(e)),{once:!0}),ZL(e,t),t.defaultPrevented?u.current=!1:s.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:aj(e.onPointerUp,(e=>{u.current||e.currentTarget?.click()})),onKeyDown:aj(e.onKeyDown,(e=>{const t=""!==a.searchRef.current;r||t&&" "===e.key||bY.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));JY.displayName=ZY;var eZ=G.forwardRef(((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,s=HY(ZY,r),a=RY(r),l=G.useRef(null),u=HL(t,l),[c,d]=G.useState(!1),[h,f]=G.useState("");return G.useEffect((()=>{const e=l.current;e&&f((e.textContent??"").trim())}),[o.children]),J.jsx(AY.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:J.jsx(UV,{asChild:!0,...a,focusable:!n,children:J.jsx(YL.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:aj(e.onPointerMove,EZ((e=>{n?s.onItemLeave(e):(s.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))}))),onPointerLeave:aj(e.onPointerLeave,EZ((e=>s.onItemLeave(e)))),onFocus:aj(e.onFocus,(()=>d(!0))),onBlur:aj(e.onBlur,(()=>d(!1)))})})})})),tZ=G.forwardRef(((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return J.jsx(uZ,{scope:e.__scopeMenu,checked:r,children:J.jsx(JY,{role:"menuitemcheckbox","aria-checked":wZ(r)?"mixed":r,...i,ref:t,"data-state":xZ(r),onSelect:aj(i.onSelect,(()=>n?.(!!wZ(r)||!r)),{checkForDefaultPrevented:!1})})})}));tZ.displayName="MenuCheckboxItem";var rZ="MenuRadioGroup",[nZ,iZ]=SY(rZ,{value:void 0,onValueChange:()=>{}}),oZ=G.forwardRef(((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=nj(n);return J.jsx(nZ,{scope:e.__scopeMenu,value:r,onValueChange:o,children:J.jsx(KY,{...i,ref:t})})}));oZ.displayName=rZ;var sZ="MenuRadioItem",aZ=G.forwardRef(((e,t)=>{const{value:r,...n}=e,i=iZ(sZ,e.__scopeMenu),o=r===i.value;return J.jsx(uZ,{scope:e.__scopeMenu,checked:o,children:J.jsx(JY,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":xZ(o),onSelect:aj(n.onSelect,(()=>i.onValueChange?.(r)),{checkForDefaultPrevented:!1})})})}));aZ.displayName=sZ;var lZ="MenuItemIndicator",[uZ,cZ]=SY(lZ,{checked:!1}),dZ=G.forwardRef(((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=cZ(lZ,r);return J.jsx(ZK,{present:n||wZ(o.checked)||!0===o.checked,children:J.jsx(YL.span,{...i,ref:t,"data-state":xZ(o.checked)})})}));dZ.displayName=lZ;var hZ=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return J.jsx(YL.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})}));hZ.displayName="MenuSeparator";var fZ=G.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=PY(r);return J.jsx(wV,{...i,...n,ref:t})}));fZ.displayName="MenuArrow";var[pZ,mZ]=SY("MenuSub"),gZ="MenuSubTrigger",vZ=G.forwardRef(((e,t)=>{const r=BY(gZ,e.__scopeMenu),n=FY(gZ,e.__scopeMenu),i=mZ(gZ,e.__scopeMenu),o=HY(gZ,e.__scopeMenu),s=G.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},c=G.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return G.useEffect((()=>c),[c]),G.useEffect((()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}}),[a,l]),J.jsx(NY,{asChild:!0,...u,children:J.jsx(eZ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":_Z(r.open),...e,ref:GL(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:aj(e.onPointerMove,EZ((t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||s.current||(o.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{r.onOpenChange(!0),c()}),100))}))),onPointerLeave:aj(e.onPointerLeave,EZ((e=>{c();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,i="right"===n,s=i?-5:5,l=t[i?"left":"right"],u=t[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:l,y:t.top},{x:u,y:t.top},{x:u,y:t.bottom},{x:l,y:t.bottom}],side:n}),window.clearTimeout(a.current),a.current=window.setTimeout((()=>o.onPointerGraceIntentChange(null)),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}}))),onKeyDown:aj(e.onKeyDown,(t=>{const i=""!==o.searchRef.current;e.disabled||i&&" "===t.key||xY[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));vZ.displayName=gZ;var yZ="MenuSubContent",bZ=G.forwardRef(((e,t)=>{const r=UY(VY,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=BY(VY,e.__scopeMenu),s=FY(VY,e.__scopeMenu),a=mZ(yZ,e.__scopeMenu),l=G.useRef(null),u=HL(t,l);return J.jsx(AY.Provider,{scope:e.__scopeMenu,children:J.jsx(ZK,{present:n||o.open,children:J.jsx(AY.Slot,{scope:e.__scopeMenu,children:J.jsx(qY,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{s.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:aj(e.onFocusOutside,(e=>{e.target!==a.trigger&&o.onOpenChange(!1)})),onEscapeKeyDown:aj(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:aj(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),r=EY[s.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())}))})})})})}));function _Z(e){return e?"open":"closed"}function wZ(e){return"indeterminate"===e}function xZ(e){return wZ(e)?"indeterminate":e?"checked":"unchecked"}function EZ(e){return t=>"mouse"===t.pointerType?e(t):void 0}bZ.displayName=yZ;var CZ=IY,AZ=NY,DZ=zY,TZ=WY,SZ=KY,kZ=YY,PZ=JY,RZ=tZ,OZ=oZ,BZ=aZ,MZ=dZ,FZ=hZ,IZ=fZ,NZ=vZ,LZ=bZ,jZ="Menubar",[UZ,zZ,VZ]=Zj(jZ),[GZ,HZ]=MK(jZ,[VZ,PV]),WZ=kY(),$Z=PV(),[XZ,qZ]=GZ(jZ),KZ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:i,defaultValue:o,loop:s=!0,dir:a,...l}=e,u=oj(a),c=$Z(r),[d="",h]=Yj({prop:n,onChange:i,defaultProp:o}),[f,p]=G.useState(null);return J.jsx(XZ,{scope:r,value:d,onMenuOpen:G.useCallback((e=>{h(e),p(e)}),[h]),onMenuClose:G.useCallback((()=>h("")),[h]),onMenuToggle:G.useCallback((e=>{h((t=>Boolean(t)?"":e)),p(e)}),[h]),dir:u,loop:s,children:J.jsx(UZ.Provider,{scope:r,children:J.jsx(UZ.Slot,{scope:r,children:J.jsx(jV,{asChild:!0,...c,orientation:"horizontal",loop:s,dir:u,currentTabStopId:f,onCurrentTabStopIdChange:p,children:J.jsx(YL.div,{role:"menubar",...l,ref:t})})})})})}));KZ.displayName=jZ;var YZ="MenubarMenu",[ZZ,QZ]=GZ(YZ),JZ=e=>{const{__scopeMenubar:t,value:r,...n}=e,i=EU(),o=r||i||"LEGACY_REACT_AUTO_VALUE",s=qZ(YZ,t),a=WZ(t),l=G.useRef(null),u=G.useRef(!1),c=s.value===o;return G.useEffect((()=>{c||(u.current=!1)}),[c]),J.jsx(ZZ,{scope:t,value:o,triggerId:EU(),triggerRef:l,contentId:EU(),wasKeyboardTriggerOpenRef:u,children:J.jsx(CZ,{...a,open:c,onOpenChange:e=>{e||s.onMenuClose()},modal:!1,dir:s.dir,...n})})};JZ.displayName=YZ;var eQ="MenubarTrigger",tQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...i}=e,o=$Z(r),s=WZ(r),a=qZ(eQ,r),l=QZ(eQ,r),u=G.useRef(null),c=HL(t,u,l.triggerRef),[d,h]=G.useState(!1),f=a.value===l.value;return J.jsx(UZ.ItemSlot,{scope:r,value:l.value,disabled:n,children:J.jsx(UV,{asChild:!0,...o,focusable:!n,tabStopId:l.value,children:J.jsx(AZ,{asChild:!0,...s,children:J.jsx(YL.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?l.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":f?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:c,onPointerDown:aj(e.onPointerDown,(e=>{n||0!==e.button||!1!==e.ctrlKey||(a.onMenuOpen(l.value),f||e.preventDefault())})),onPointerEnter:aj(e.onPointerEnter,(()=>{Boolean(a.value)&&!f&&(a.onMenuOpen(l.value),u.current?.focus())})),onKeyDown:aj(e.onKeyDown,(e=>{n||(["Enter"," "].includes(e.key)&&a.onMenuToggle(l.value),"ArrowDown"===e.key&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(e.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,e.preventDefault()))})),onFocus:aj(e.onFocus,(()=>h(!0))),onBlur:aj(e.onBlur,(()=>h(!1)))})})})})}));tQ.displayName=eQ;var rQ=e=>{const{__scopeMenubar:t,...r}=e,n=WZ(t);return J.jsx(DZ,{...n,...r})};rQ.displayName="MenubarPortal";var nQ="MenubarContent",iQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,align:n="start",...i}=e,o=WZ(r),s=qZ(nQ,r),a=QZ(nQ,r),l=zZ(r),u=G.useRef(!1);return J.jsx(TZ,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...o,...i,ref:t,align:n,onCloseAutoFocus:aj(e.onCloseAutoFocus,(e=>{Boolean(s.value)||u.current||a.triggerRef.current?.focus(),u.current=!1,e.preventDefault()})),onFocusOutside:aj(e.onFocusOutside,(e=>{const t=e.target;l().some((e=>e.ref.current?.contains(t)))&&e.preventDefault()})),onInteractOutside:aj(e.onInteractOutside,(()=>{u.current=!0})),onEntryFocus:e=>{a.wasKeyboardTriggerOpenRef.current||e.preventDefault()},onKeyDown:aj(e.onKeyDown,(e=>{if(["ArrowRight","ArrowLeft"].includes(e.key)){const n=e.target,i=n.hasAttribute("data-radix-menubar-subtrigger"),o=n.closest("[data-radix-menubar-content]")!==e.currentTarget,u=("rtl"===s.dir?"ArrowRight":"ArrowLeft")===e.key;if(!u&&i)return;if(o&&u)return;let c=l().filter((e=>!e.disabled)).map((e=>e.value));u&&c.reverse();const d=c.indexOf(a.value);c=s.loop?(r=d+1,(t=c).map(((e,n)=>t[(r+n)%t.length]))):c.slice(d+1);const[h]=c;h&&s.onMenuOpen(h)}var t,r}),{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})}));iQ.displayName=nQ,G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(SZ,{...i,...n,ref:t})})).displayName="MenubarGroup";var oQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(kZ,{...i,...n,ref:t})}));oQ.displayName="MenubarLabel";var sQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(PZ,{...i,...n,ref:t})}));sQ.displayName="MenubarItem";var aQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(RZ,{...i,...n,ref:t})}));aQ.displayName="MenubarCheckboxItem",G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(OZ,{...i,...n,ref:t})})).displayName="MenubarRadioGroup";var lQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(BZ,{...i,...n,ref:t})}));lQ.displayName="MenubarRadioItem";var uQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(MZ,{...i,...n,ref:t})}));uQ.displayName="MenubarItemIndicator";var cQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(FZ,{...i,...n,ref:t})}));cQ.displayName="MenubarSeparator",G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(IZ,{...i,...n,ref:t})})).displayName="MenubarArrow";var dQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(NZ,{"data-radix-menubar-subtrigger":"",...i,...n,ref:t})}));dQ.displayName="MenubarSubTrigger";var hQ=G.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=WZ(r);return J.jsx(LZ,{...i,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})}));hQ.displayName="MenubarSubContent",e("bj",KZ),e("bv",JZ),e("bk",tQ),e("bn",rQ),e("bo",iQ),e("bt",oQ),e("bp",sQ),e("bq",aQ),e("bs",lQ),e("br",uQ),e("bu",cQ),e("bl",dQ),e("bm",hQ);var fQ=e=>"checkbox"===e.type,pQ=e=>e instanceof Date,mQ=e=>null==e;const gQ=e=>"object"==typeof e;var vQ=e=>!mQ(e)&&!Array.isArray(e)&&gQ(e)&&!pQ(e),yQ=e=>vQ(e)&&e.target?fQ(e.target)?e.target.checked:e.target.value:e,bQ=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),_Q=e=>{const t=e.constructor&&e.constructor.prototype;return vQ(t)&&t.hasOwnProperty("isPrototypeOf")},wQ="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function xQ(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(wQ&&(e instanceof Blob||e instanceof FileList)||!r&&!vQ(e))return e;if(t=r?[]:{},r||_Q(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=xQ(e[r]));else t=e}return t}var EQ=e=>Array.isArray(e)?e.filter(Boolean):[],CQ=e=>void 0===e,AQ=(e,t,r)=>{if(!t||!vQ(e))return r;const n=EQ(t.split(/[,[\].]+?/)).reduce(((e,t)=>mQ(e)?e:e[t]),e);return CQ(n)||n===e?CQ(e[t])?r:e[t]:n},DQ=e=>"boolean"==typeof e,TQ=e=>/^\w*$/.test(e),SQ=e=>EQ(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kQ=(e,t,r)=>{let n=-1;const i=TQ(t)?[t]:SQ(t),o=i.length,s=o-1;for(;++n<o;){const t=i[n];let o=r;if(n!==s){const r=e[t];o=vQ(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t)return;e[t]=o,e=e[t]}return e};const PQ={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},RQ={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},OQ="max",BQ="min",MQ="maxLength",FQ="minLength",IQ="pattern",NQ="required",LQ="validate",jQ=H.createContext(null),UQ=e("bI",(()=>H.useContext(jQ)));e("bJ",(e=>{const{children:t,...r}=e;return H.createElement(jQ.Provider,{value:r},t)}));var zQ=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==RQ.all&&(t._proxyFormState[i]=!n||RQ.all),r&&(r[i]=!0),e[i]}});return i},VQ=e=>vQ(e)&&!Object.keys(e).length,GQ=(e,t,r,n)=>{r(e);const{name:i,...o}=e;return VQ(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!n||RQ.all)))},HQ=e=>Array.isArray(e)?e:[e],WQ=(e,t,r)=>!e||!t||e===t||HQ(e).some((e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))));function $Q(e){const t=H.useRef(e);t.current=e,H.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}var XQ=e=>"string"==typeof e,qQ=(e,t,r,n,i)=>XQ(e)?(n&&t.watch.add(e),AQ(r,e,i)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),AQ(r,e)))):(n&&(t.watchAll=!0),r);function KQ(e){const t=UQ(),{control:r=t.control,name:n,defaultValue:i,disabled:o,exact:s}=e||{},a=H.useRef(n);a.current=n,$Q({disabled:o,subject:r._subjects.values,next:e=>{WQ(a.current,e.name,s)&&u(xQ(qQ(a.current,r._names,e.values||r._formValues,!1,i)))}});const[l,u]=H.useState(r._getWatch(n,i));return H.useEffect((()=>r._removeUnmounted())),l}function YQ(e){const t=UQ(),{name:r,disabled:n,control:i=t.control,shouldUnregister:o}=e,s=bQ(i._names.array,r),a=KQ({control:i,name:r,defaultValue:AQ(i._formValues,r,AQ(i._defaultValues,r,e.defaultValue)),exact:!0}),l=function(e){const t=UQ(),{control:r=t.control,disabled:n,name:i,exact:o}=e||{},[s,a]=H.useState(r._formState),l=H.useRef(!0),u=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=H.useRef(i);return c.current=i,$Q({disabled:n,next:e=>l.current&&WQ(c.current,e.name,o)&&GQ(e,u.current,r._updateFormState)&&a({...r._formState,...e}),subject:r._subjects.state}),H.useEffect((()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1})),[r]),zQ(s,r,u.current,!1)}({control:i,name:r,exact:!0}),u=H.useRef(i.register(r,{...e.rules,value:a,...DQ(e.disabled)?{disabled:e.disabled}:{}}));return H.useEffect((()=>{const e=i._options.shouldUnregister||o,t=(e,t)=>{const r=AQ(i._fields,e);r&&r._f&&(r._f.mount=t)};if(t(r,!0),e){const e=xQ(AQ(i._options.defaultValues,r));kQ(i._defaultValues,r,e),CQ(AQ(i._formValues,r))&&kQ(i._formValues,r,e)}return()=>{(s?e&&!i._state.action:e)?i.unregister(r):t(r,!1)}}),[r,i,s,o]),H.useEffect((()=>{AQ(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:AQ(i._fields,r)._f.value})}),[n,r,i]),{field:{name:r,value:a,...DQ(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:H.useCallback((e=>u.current.onChange({target:{value:yQ(e),name:r},type:PQ.CHANGE})),[r]),onBlur:H.useCallback((()=>u.current.onBlur({target:{value:AQ(i._formValues,r),name:r},type:PQ.BLUR})),[r,i]),ref:H.useCallback((e=>{const t=AQ(i._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[i._fields,r])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!AQ(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!AQ(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!AQ(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!AQ(l.validatingFields,r)},error:{enumerable:!0,get:()=>AQ(l.errors,r)}})}}e("bH",(e=>e.render(YQ(e))));var ZQ=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},QQ=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},JQ=(e,t,r={})=>r.shouldFocus||CQ(r.shouldFocus)?r.focusName||`${e}.${CQ(r.focusIndex)?t:r.focusIndex}.`:"",eJ=e=>({isOnSubmit:!e||e===RQ.onSubmit,isOnBlur:e===RQ.onBlur,isOnChange:e===RQ.onChange,isOnAll:e===RQ.all,isOnTouch:e===RQ.onTouched}),tJ=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const rJ=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const r=AQ(e,i);if(r){const{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(rJ(o,t))break}else if(vQ(o)&&rJ(o,t))break}}};var nJ=(e,t,r)=>{const n=HQ(AQ(e,r));return kQ(n,"root",t[r]),kQ(e,r,n),e},iJ=e=>"file"===e.type,oJ=e=>"function"==typeof e,sJ=e=>{if(!wQ)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aJ=e=>XQ(e),lJ=e=>"radio"===e.type,uJ=e=>e instanceof RegExp;const cJ={value:!1,isValid:!1},dJ={value:!0,isValid:!0};var hJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!CQ(e[0].attributes.value)?CQ(e[0].value)||""===e[0].value?dJ:{value:e[0].value,isValid:!0}:dJ:cJ}return cJ};const fJ={isValid:!1,value:null};var pJ=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),fJ):fJ;function mJ(e,t,r="validate"){if(aJ(e)||Array.isArray(e)&&e.every(aJ)||DQ(e)&&!e)return{type:r,message:aJ(e)?e:"",ref:t}}var gJ=e=>vQ(e)&&!uJ(e)?e:{value:e,message:""},vJ=async(e,t,r,n,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=AQ(t,p);if(!g||v)return{};const b=s?s[0]:o,_=e=>{n&&b.reportValidity&&(b.setCustomValidity(DQ(e)?"":e||""),b.reportValidity())},w={},x=lJ(o),E=fQ(o),C=x||E,A=(m||iJ(o))&&CQ(o.value)&&CQ(y)||sJ(o)&&""===o.value||""===y||Array.isArray(y)&&!y.length,D=ZQ.bind(null,p,r,w),T=(e,t,r,n=MQ,i=FQ)=>{const s=e?t:r;w[p]={type:e?n:i,message:s,ref:o,...D(e?n:i,s)}};if(i?!Array.isArray(y)||!y.length:a&&(!C&&(A||mQ(y))||DQ(y)&&!y||E&&!hJ(s).isValid||x&&!pJ(s).isValid)){const{value:e,message:t}=aJ(a)?{value:!!a,message:a}:gJ(a);if(e&&(w[p]={type:NQ,message:t,ref:b,...D(NQ,t)},!r))return _(t),w}if(!(A||mQ(c)&&mQ(d))){let e,t;const n=gJ(d),i=gJ(c);if(mQ(y)||isNaN(y)){const r=o.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;XQ(n.value)&&y&&(e=a?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),XQ(i.value)&&y&&(t=a?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(y?+y:y);mQ(n.value)||(e=r>n.value),mQ(i.value)||(t=r<i.value)}if((e||t)&&(T(!!e,n.message,i.message,OQ,BQ),!r))return _(w[p].message),w}if((l||u)&&!A&&(XQ(y)||i&&Array.isArray(y))){const e=gJ(l),t=gJ(u),n=!mQ(e.value)&&y.length>+e.value,i=!mQ(t.value)&&y.length<+t.value;if((n||i)&&(T(n,e.message,t.message),!r))return _(w[p].message),w}if(h&&!A&&XQ(y)){const{value:e,message:t}=gJ(h);if(uJ(e)&&!y.match(e)&&(w[p]={type:IQ,message:t,ref:o,...D(IQ,t)},!r))return _(t),w}if(f)if(oJ(f)){const e=mJ(await f(y,t),b);if(e&&(w[p]={...e,...D(LQ,e.message)},!r))return _(e.message),w}else if(vQ(f)){let e={};for(const n in f){if(!VQ(e)&&!r)break;const i=mJ(await f[n](y,t),b,n);i&&(e={...i,...D(n,i.message)},_(i.message),r&&(w[p]=e))}if(!VQ(e)&&(w[p]={ref:b,...e},!r))return w}return _(!0),w},yJ=(e,t)=>[...e,...HQ(t)],bJ=e=>Array.isArray(e)?e.map((()=>{})):void 0;function _J(e,t,r){return[...e.slice(0,t),...HQ(r),...e.slice(t)]}var wJ=(e,t,r)=>Array.isArray(e)?(CQ(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],xJ=(e,t)=>[...HQ(t),...HQ(e)],EJ=(e,t)=>CQ(t)?[]:function(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return EQ(n).length?n:[]}(e,HQ(t).sort(((e,t)=>e-t))),CJ=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function AJ(e,t){const r=Array.isArray(t)?t:TQ(t)?[t]:SQ(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=CQ(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(vQ(n)&&VQ(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!CQ(e[t]))return!1;return!0}(n))&&AJ(e,r.slice(0,-1)),e}var DJ=(e,t,r)=>(e[t]=r,e),TJ=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},SJ=e=>mQ(e)||!gQ(e);function kJ(e,t){if(SJ(e)||SJ(t))return e===t;if(pQ(e)&&pQ(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const r=e[i];if(!n.includes(i))return!1;if("ref"!==i){const e=t[i];if(pQ(r)&&pQ(e)||vQ(r)&&vQ(e)||Array.isArray(r)&&Array.isArray(e)?!kJ(r,e):r!==e)return!1}}return!0}var PJ=e=>"select-multiple"===e.type,RJ=e=>lJ(e)||fQ(e),OJ=e=>sJ(e)&&e.isConnected,BJ=e=>{for(const t in e)if(oJ(e[t]))return!0;return!1};function MJ(e,t={}){const r=Array.isArray(e);if(vQ(e)||r)for(const n in e)Array.isArray(e[n])||vQ(e[n])&&!BJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},MJ(e[n],t[n])):mQ(e[n])||(t[n]=!0);return t}function FJ(e,t,r){const n=Array.isArray(e);if(vQ(e)||n)for(const i in e)Array.isArray(e[i])||vQ(e[i])&&!BJ(e[i])?CQ(t)||SJ(r[i])?r[i]=Array.isArray(e[i])?MJ(e[i],[]):{...MJ(e[i])}:FJ(e[i],mQ(t)?{}:t[i],r[i]):r[i]=!kJ(e[i],t[i]);return r}var IJ=(e,t)=>FJ(e,t,MJ(t)),NJ=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>CQ(e)?e:t?""===e?NaN:e?+e:e:r&&XQ(e)?new Date(e):n?n(e):e;function LJ(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return iJ(t)?t.files:lJ(t)?pJ(e.refs).value:PJ(t)?[...t.selectedOptions].map((({value:e})=>e)):fQ(t)?hJ(e.refs).value:NJ(CQ(t.value)?e.ref.value:t.value,e)}var jJ=(e,t,r,n)=>{const i={};for(const o of e){const e=AQ(t,o);e&&kQ(i,o,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},UJ=e=>CQ(e)?e:uJ(e)?e.source:vQ(e)?uJ(e.value)?e.value.source:e.value:e;const zJ="AsyncFunction";var VJ=e=>!(e&&e.validate||!(oJ(e.validate)&&e.validate.constructor.name===zJ||vQ(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===zJ)))),GJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function HJ(e,t,r){const n=AQ(e,r);if(n||TQ(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),o=AQ(t,n),s=AQ(e,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(s&&s.type)return{name:n,error:s};i.pop()}return{name:r}}var WJ=(e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:!(r?n.isOnChange:i.isOnChange)||e),$J=(e,t)=>!EQ(AQ(e,t)).length&&AJ(e,t);const XJ={mode:RQ.onSubmit,reValidateMode:RQ.onChange,shouldFocusError:!0};function qJ(e={}){let t,r={...XJ,...e},n={submitCount:0,isDirty:!1,isLoading:oJ(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(vQ(r.defaultValues)||vQ(r.values))&&xQ(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:xQ(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:TJ(),array:TJ(),state:TJ()},h=eJ(r.mode),f=eJ(r.reValidateMode),p=r.criteriaMode===RQ.all,m=async e=>{if(c.isValid||e){const e=r.resolver?VQ((await _()).errors):await w(i,!0);e!==n.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(t?kQ(n.validatingFields,e,t):AJ(n.validatingFields,e))})),d.state.next({validatingFields:n.validatingFields,isValidating:!VQ(n.validatingFields)}))},v=(e,t,r,n)=>{const l=AQ(i,e);if(l){const i=AQ(s,e,CQ(r)?AQ(o,e):r);CQ(i)||n&&n.defaultChecked||t?kQ(s,e,t?i:LJ(l._f)):C(e,i),a.mount&&m()}},y=(e,t,r,s,a)=>{let l=!1,u=!1;const h={name:e},f=!!(AQ(i,e)&&AQ(i,e)._f&&AQ(i,e)._f.disabled);if(!r||s){c.isDirty&&(u=n.isDirty,n.isDirty=h.isDirty=x(),l=u!==h.isDirty);const r=f||kJ(AQ(o,e),t);u=!(f||!AQ(n.dirtyFields,e)),r||f?AJ(n.dirtyFields,e):kQ(n.dirtyFields,e,!0),h.dirtyFields=n.dirtyFields,l=l||c.dirtyFields&&u!==!r}if(r){const t=AQ(n.touchedFields,e);t||(kQ(n.touchedFields,e,r),h.touchedFields=n.touchedFields,l=l||c.touchedFields&&t!==r)}return l&&a&&d.state.next(h),l?h:{}},b=(r,i,o,s)=>{const a=AQ(n.errors,r),l=c.isValid&&DQ(i)&&n.isValid!==i;var h;if(e.delayError&&o?(h=()=>((e,t)=>{kQ(n.errors,e,t),d.state.next({errors:n.errors})})(r,o),t=e=>{clearTimeout(u),u=setTimeout(h,e)},t(e.delayError)):(clearTimeout(u),t=null,o?kQ(n.errors,r,o):AJ(n.errors,r)),(o?!kJ(a,o):a)||!VQ(s)||l){const e={...s,...l&&DQ(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},d.state.next(e)}},_=async e=>{g(e,!0);const t=await r.resolver(s,r.context,jJ(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return g(e),t},w=async(e,t,i={valid:!0})=>{for(const o in e){const a=e[o];if(a){const{_f:e,...u}=a;if(e){const u=l.array.has(e.name),d=a._f&&VJ(a._f);d&&c.validatingFields&&g([o],!0);const h=await vJ(a,s,p,r.shouldUseNativeValidation&&!t,u);if(d&&c.validatingFields&&g([o]),h[e.name]&&(i.valid=!1,t))break;!t&&(AQ(h,e.name)?u?nJ(n.errors,h,e.name):kQ(n.errors,e.name,h[e.name]):AJ(n.errors,e.name))}!VQ(u)&&await w(u,t,i)}}return i.valid},x=(e,t)=>(e&&t&&kQ(s,e,t),!kJ(P(),o)),E=(e,t,r)=>qQ(e,l,{...a.mount?s:CQ(t)?o:XQ(e)?{[e]:t}:t},r,t),C=(e,t,r={})=>{const n=AQ(i,e);let o=t;if(n){const r=n._f;r&&(!r.disabled&&kQ(s,e,NJ(t,r)),o=sJ(r.ref)&&mQ(t)?"":t,PJ(r.ref)?[...r.ref.options].forEach((e=>e.selected=o.includes(e.value))):r.refs?fQ(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):r.refs[0]&&(r.refs[0].checked=!!o):r.refs.forEach((e=>e.checked=e.value===o)):iJ(r.ref)?r.ref.value="":(r.ref.value=o,r.ref.type||d.values.next({name:e,values:{...s}})))}(r.shouldDirty||r.shouldTouch)&&y(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&k(e)},A=(e,t,r)=>{for(const n in t){const o=t[n],s=`${e}.${n}`,a=AQ(i,s);!l.array.has(e)&&SJ(o)&&(!a||a._f)||pQ(o)?C(s,o,r):A(s,o,r)}},D=(e,t,r={})=>{const u=AQ(i,e),h=l.array.has(e),f=xQ(t);kQ(s,e,f),h?(d.array.next({name:e,values:{...s}}),(c.isDirty||c.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:IJ(o,s),isDirty:x(e,f)})):!u||u._f||mQ(f)?C(e,f,r):A(e,f,r),tJ(e,l)&&d.state.next({...n}),d.values.next({name:a.mount?e:void 0,values:{...s}})},T=async o=>{a.mount=!0;const u=o.target;let v=u.name,x=!0;const E=AQ(i,v),C=e=>{x=Number.isNaN(e)||kJ(e,AQ(s,v,e))};if(E){let a,A;const D=u.type?LJ(E._f):yQ(o),T=o.type===PQ.BLUR||o.type===PQ.FOCUS_OUT,S=!GJ(E._f)&&!r.resolver&&!AQ(n.errors,v)&&!E._f.deps||WJ(T,AQ(n.touchedFields,v),n.isSubmitted,f,h),P=tJ(v,l,T);kQ(s,v,D),T?(E._f.onBlur&&E._f.onBlur(o),t&&t(0)):E._f.onChange&&E._f.onChange(o);const R=y(v,D,T,!1),O=!VQ(R)||P;if(!T&&d.values.next({name:v,type:o.type,values:{...s}}),S)return c.isValid&&("onBlur"===e.mode?T&&m():m()),O&&d.state.next({name:v,...P?{}:R});if(!T&&P&&d.state.next({...n}),r.resolver){const{errors:e}=await _([v]);if(C(D),x){const t=HJ(n.errors,i,v),r=HJ(e,i,t.name||v);a=r.error,v=r.name,A=VQ(e)}}else g([v],!0),a=(await vJ(E,s,p,r.shouldUseNativeValidation))[v],g([v]),C(D),x&&(a?A=!1:c.isValid&&(A=await w(i,!0)));x&&(E._f.deps&&k(E._f.deps),b(v,A,a,R))}},S=(e,t)=>{if(AQ(n.errors,t)&&e.focus)return e.focus(),1},k=async(e,t={})=>{let o,s;const a=HQ(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await _(e);if(e)for(const r of e){const e=AQ(t,r);e?kQ(n.errors,r,e):AJ(n.errors,r)}else n.errors=t;return t})(CQ(e)?e:a);o=VQ(t),s=e?!a.some((e=>AQ(t,e))):o}else e?(s=(await Promise.all(a.map((async e=>{const t=AQ(i,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&m()):s=o=await w(i);return d.state.next({...!XQ(e)||c.isValid&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!s&&rJ(i,S,e?a:l.mount),s},P=e=>{const t={...a.mount?s:o};return CQ(e)?t:XQ(e)?AQ(t,e):e.map((e=>AQ(t,e)))},R=(e,t)=>({invalid:!!AQ((t||n).errors,e),isDirty:!!AQ((t||n).dirtyFields,e),error:AQ((t||n).errors,e),isValidating:!!AQ(n.validatingFields,e),isTouched:!!AQ((t||n).touchedFields,e)}),O=(e,t,r)=>{const o=(AQ(i,e,{_f:{}})._f||{}).ref,s=AQ(n.errors,e)||{},{ref:a,message:l,type:u,...c}=s;kQ(n.errors,e,{...c,...t,ref:o}),d.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},B=(e,t={})=>{for(const a of e?HQ(e):l.mount)l.mount.delete(a),l.array.delete(a),t.keepValue||(AJ(i,a),AJ(s,a)),!t.keepError&&AJ(n.errors,a),!t.keepDirty&&AJ(n.dirtyFields,a),!t.keepTouched&&AJ(n.touchedFields,a),!t.keepIsValidating&&AJ(n.validatingFields,a),!r.shouldUnregister&&!t.keepDefaultValue&&AJ(o,a);d.values.next({values:{...s}}),d.state.next({...n,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&m()},M=({disabled:e,name:t,field:r,fields:n,value:i})=>{if(DQ(e)&&a.mount||e){const o=e?void 0:CQ(i)?LJ(r?r._f:AQ(n,t)._f):i;kQ(s,t,o),y(t,o,!1,!1,!0)}},F=(t,n={})=>{let s=AQ(i,t);const u=DQ(n.disabled)||DQ(e.disabled);return kQ(i,t,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:t}},name:t,mount:!0,...n}}),l.mount.add(t),s?M({field:s,disabled:DQ(n.disabled)?n.disabled:e.disabled,name:t,value:n.value}):v(t,!0,n.value),{...u?{disabled:n.disabled||e.disabled}:{},...r.progressive?{required:!!n.required,min:UJ(n.min),max:UJ(n.max),minLength:UJ(n.minLength),maxLength:UJ(n.maxLength),pattern:UJ(n.pattern)}:{},name:t,onChange:T,onBlur:T,ref:e=>{if(e){F(t,n),s=AQ(i,t);const r=CQ(e.value)&&e.querySelectorAll&&e.querySelectorAll("input,select,textarea")[0]||e,a=RJ(r),l=s._f.refs||[];if(a?l.find((e=>e===r)):r===s._f.ref)return;kQ(i,t,{_f:{...s._f,...a?{refs:[...l.filter(OJ),r,...Array.isArray(AQ(o,t))?[{}]:[]],ref:{type:r.type,name:t}}:{ref:r}}}),v(t,!1,void 0,r)}else s=AQ(i,t,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!bQ(l.array,t)||!a.action)&&l.unMount.add(t)}}},I=()=>r.shouldFocusError&&rJ(i,S,l.mount),N=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let l=xQ(s);if(d.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await _();n.errors=e,l=t}else await w(i);if(AJ(n.errors,"root"),VQ(n.errors)){d.state.next({errors:{}});try{await e(l,o)}catch(u){a=u}}else t&&await t({...n.errors},o),I(),setTimeout(I);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:VQ(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},L=(t,r={})=>{const u=t?xQ(t):o,h=xQ(u),f=VQ(t),p=f?o:h;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues)for(const e of l.mount)AQ(n.dirtyFields,e)?kQ(p,e,AQ(s,e)):D(e,AQ(p,e));else{if(wQ&&CQ(t))for(const e of l.mount){const t=AQ(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(sJ(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}s=e.shouldUnregister?r.keepDefaultValues?xQ(o):{}:xQ(p),d.array.next({values:{...p}}),d.values.next({values:{...p}})}l={mount:r.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!r.keepIsValid||!!r.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!f&&(r.keepDirty?n.isDirty:!(!r.keepDefaultValues||kJ(t,o))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:r.keepDirtyValues?r.keepDefaultValues&&s?IJ(o,s):n.dirtyFields:r.keepDefaultValues&&t?IJ(o,t):r.keepDirty?n.dirtyFields:{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},j=(e,t)=>L(oJ(e)?e(s):e,t);return{control:{register:F,unregister:B,getFieldState:R,handleSubmit:N,setError:O,_executeSchema:_,_getWatch:E,_getDirty:x,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=AQ(i,e);t&&(t._f.refs?t._f.refs.every((e=>!OJ(e))):!OJ(t._f.ref))&&B(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],r,l,u=!0,h=!0)=>{if(l&&r){if(a.action=!0,h&&Array.isArray(AQ(i,e))){const t=r(AQ(i,e),l.argA,l.argB);u&&kQ(i,e,t)}if(h&&Array.isArray(AQ(n.errors,e))){const t=r(AQ(n.errors,e),l.argA,l.argB);u&&kQ(n.errors,e,t),$J(n.errors,e)}if(c.touchedFields&&h&&Array.isArray(AQ(n.touchedFields,e))){const t=r(AQ(n.touchedFields,e),l.argA,l.argB);u&&kQ(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=IJ(o,s)),d.state.next({name:e,isDirty:x(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kQ(s,e,t)},_updateDisabledField:M,_getFieldArray:t=>EQ(AQ(a.mount?s:o,t,e.shouldUnregister?AQ(o,t,[]):[])),_reset:L,_resetDefaultValues:()=>oJ(r.defaultValues)&&r.defaultValues().then((e=>{j(e,r.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{DQ(e)&&(d.state.next({disabled:e}),rJ(i,((t,r)=>{const n=AQ(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach((t=>{t.disabled=n._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:k,register:F,handleSubmit:N,watch:(e,t)=>oJ(e)?d.values.subscribe({next:r=>e(E(void 0,t),r)}):E(e,t,!0),setValue:D,getValues:P,reset:j,resetField:(e,t={})=>{AQ(i,e)&&(CQ(t.defaultValue)?D(e,xQ(AQ(o,e))):(D(e,t.defaultValue),kQ(o,e,xQ(t.defaultValue))),t.keepTouched||AJ(n.touchedFields,e),t.keepDirty||(AJ(n.dirtyFields,e),n.isDirty=t.defaultValue?x(e,xQ(AQ(o,e))):x()),t.keepError||(AJ(n.errors,e),c.isValid&&m()),d.state.next({...n}))},clearErrors:e=>{e&&HQ(e).forEach((e=>AJ(n.errors,e))),d.state.next({errors:e?n.errors:{}})},unregister:B,setError:O,setFocus:(e,t={})=>{const r=AQ(i,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:R}}const KJ=(e,t,r)=>{if(e&&"reportValidity"in e){const n=AQ(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},YJ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?KJ(n.ref,r,e):n.refs&&n.refs.forEach((t=>KJ(t,r,e)))}},ZJ=(e,t)=>{t.shouldUseNativeValidation&&YJ(e,t);const r={};for(const n in e){const i=AQ(t.fields,n),o=Object.assign(e[n]||{},{ref:i&&i.ref});if(QJ(t.names||Object.keys(e),n)){const e=Object.assign({},AQ(r,n));kQ(e,"root",o),kQ(r,n,e)}else kQ(r,n,o)}return r},QJ=(e,t)=>e.some((e=>e.startsWith(t+".")));var JJ,e0,t0=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=r[s].types,u=l&&l[n.code];r[s]=ZQ(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r};e("bN",(function(e,t,r){return void 0===r&&(r={}),function(n,i,o){try{return Promise.resolve(function(i,s){try{var a=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then((function(e){return o.shouldUseNativeValidation&&YJ({},o),{errors:{},values:r.raw?n:e}}))}catch(Wce){return s(Wce)}return a&&a.then?a.then(void 0,s):a}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:ZJ(t0(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e})))}catch(Wce){return Promise.reject(Wce)}}})),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(JJ||(JJ={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(e0||(e0={}));const r0=JJ.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),n0=e=>{switch(typeof e){case"undefined":return r0.undefined;case"string":return r0.string;case"number":return isNaN(e)?r0.nan:r0.number;case"boolean":return r0.boolean;case"function":return r0.function;case"bigint":return r0.bigint;case"symbol":return r0.symbol;case"object":return Array.isArray(e)?r0.array:null===e?r0.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?r0.promise:"undefined"!=typeof Map&&e instanceof Map?r0.map:"undefined"!=typeof Set&&e instanceof Set?r0.set:"undefined"!=typeof Date&&e instanceof Date?r0.date:r0.object;default:return r0.unknown}},i0=JJ.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class o0 extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof o0))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,JJ.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}o0.create=e=>new o0(e);const s0=(e,t)=>{let r;switch(e.code){case i0.invalid_type:r=e.received===r0.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case i0.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,JJ.jsonStringifyReplacer)}`;break;case i0.unrecognized_keys:r=`Unrecognized key(s) in object: ${JJ.joinValues(e.keys,", ")}`;break;case i0.invalid_union:r="Invalid input";break;case i0.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${JJ.joinValues(e.options)}`;break;case i0.invalid_enum_value:r=`Invalid enum value. Expected ${JJ.joinValues(e.options)}, received '${e.received}'`;break;case i0.invalid_arguments:r="Invalid function arguments";break;case i0.invalid_return_type:r="Invalid function return type";break;case i0.invalid_date:r="Invalid date";break;case i0.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:JJ.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case i0.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case i0.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case i0.custom:r="Invalid input";break;case i0.invalid_intersection_types:r="Intersection results could not be merged";break;case i0.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case i0.not_finite:r="Number must be finite";break;default:r=t.defaultError,JJ.assertNever(e)}return{message:r}};let a0=s0;function l0(){return a0}const u0=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let a="";const l=n.filter((e=>!!e)).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function c0(e,t){const r=l0(),n=u0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===s0?void 0:s0].filter((e=>!!e))});e.common.issues.push(n)}class d0{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return h0;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return d0.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status)return h0;if("aborted"===i.status)return h0;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!n.alwaysSet||(r[t.value]=i.value)}return{status:e.value,value:r}}}const h0=Object.freeze({status:"aborted"}),f0=e=>({status:"dirty",value:e}),p0=e=>({status:"valid",value:e}),m0=e=>"aborted"===e.status,g0=e=>"dirty"===e.status,v0=e=>"valid"===e.status,y0=e=>"undefined"!=typeof Promise&&e instanceof Promise;function b0(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function _0(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}var w0,x0,E0;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(w0||(w0={}));class C0{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A0=(e,t)=>{if(v0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new o0(e.common.issues);return this._error=t,this._error}}};function D0(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:i.defaultError}:void 0===i.data?{message:null!==(o=null!=a?a:n)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=a?a:r)&&void 0!==s?s:i.defaultError}},description:i}}class T0{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return n0(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:n0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d0,ctx:{common:e.parent.common,data:e.data,parsedType:n0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(y0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n0(e)},i=this._parseSync({data:e,path:n.path,parent:n});return A0(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n0(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(y0(n)?n:Promise.resolve(n));return A0(r,i)}refine(e,t){const r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),o=()=>n.addIssue({code:i0.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1)))}_refinement(e){return new w1({schema:this,typeName:B1.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return x1.create(this,this._def)}nullable(){return E1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return r1.create(this,this._def)}promise(){return _1.create(this,this._def)}or(e){return o1.create([this,e],this._def)}and(e){return u1.create(this,e,this._def)}transform(e){return new w1({...D0(this._def),schema:this,typeName:B1.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new C1({...D0(this._def),innerType:this,defaultValue:t,typeName:B1.ZodDefault})}brand(){return new S1({typeName:B1.ZodBranded,type:this,...D0(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new A1({...D0(this._def),innerType:this,catchValue:t,typeName:B1.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return k1.create(this,e)}readonly(){return P1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const S0=/^c[^\s-]{8,}$/i,k0=/^[0-9a-z]+$/,P0=/^[0-9A-HJKMNP-TV-Z]{26}$/,R0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,O0=/^[a-z0-9_-]{21}$/i,B0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let F0;const I0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N0=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,L0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,j0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U0=new RegExp(`^${j0}$`);function z0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function V0(e){let t=`${j0}T${z0(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}class G0 extends T0{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==r0.string){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.string,received:t.parsedType}),h0}const t=new d0;let r;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const n=e.data.length>o.value,i=e.data.length<o.value;(n||i)&&(r=this._getOrReturnCtx(e,r),n?c0(r,{code:i0.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&c0(r,{code:i0.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)M0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"email",code:i0.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)F0||(F0=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),F0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"emoji",code:i0.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)R0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"uuid",code:i0.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)O0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"nanoid",code:i0.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)S0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"cuid",code:i0.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)k0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"cuid2",code:i0.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)P0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"ulid",code:i0.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(tge){r=this._getOrReturnCtx(e,r),c0(r,{validation:"url",code:i0.invalid_string,message:o.message}),t.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"regex",code:i0.invalid_string,message:o.message}),t.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty()):"datetime"===o.kind?V0(o).test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:"datetime",message:o.message}),t.dirty()):"date"===o.kind?U0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:"date",message:o.message}),t.dirty()):"time"===o.kind?new RegExp(`^${z0(o)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.invalid_string,validation:"time",message:o.message}),t.dirty()):"duration"===o.kind?B0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"duration",code:i0.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?(n=e.data,("v4"!==(i=o.version)&&i||!I0.test(n))&&("v6"!==i&&i||!N0.test(n))&&(r=this._getOrReturnCtx(e,r),c0(r,{validation:"ip",code:i0.invalid_string,message:o.message}),t.dirty())):"base64"===o.kind?L0.test(e.data)||(r=this._getOrReturnCtx(e,r),c0(r,{validation:"base64",code:i0.invalid_string,message:o.message}),t.dirty()):JJ.assertNever(o);var n,i;return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:i0.invalid_string,...w0.errToObj(r)})}_addCheck(e){return new G0({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...w0.errToObj(e)})}url(e){return this._addCheck({kind:"url",...w0.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...w0.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...w0.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...w0.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...w0.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...w0.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...w0.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...w0.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...w0.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...w0.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...w0.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...w0.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...w0.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...w0.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...w0.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...w0.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...w0.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...w0.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...w0.errToObj(t)})}nonempty(e){return this.min(1,w0.errToObj(e))}trim(){return new G0({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new G0({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new G0({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function H0(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}G0.create=e=>{var t;return new G0({checks:[],typeName:B1.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...D0(e)})};class W0 extends T0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==r0.number){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.number,received:t.parsedType}),h0}let t;const r=new d0;for(const n of this._def.checks)"int"===n.kind?JJ.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==H0(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.not_finite,message:n.message}),r.dirty()):JJ.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,w0.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w0.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w0.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w0.toString(t))}setLimit(e,t,r,n){return new W0({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w0.toString(n)}]})}_addCheck(e){return new W0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:w0.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w0.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w0.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w0.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w0.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w0.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:w0.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w0.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w0.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&JJ.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}W0.create=e=>new W0({checks:[],typeName:B1.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...D0(e)});class $0 extends T0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==r0.bigint){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.bigint,received:t.parsedType}),h0}let t;const r=new d0;for(const n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),c0(t,{code:i0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):JJ.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,w0.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w0.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w0.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w0.toString(t))}setLimit(e,t,r,n){return new $0({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w0.toString(n)}]})}_addCheck(e){return new $0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w0.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w0.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w0.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w0.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w0.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}$0.create=e=>{var t;return new $0({checks:[],typeName:B1.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...D0(e)})};class X0 extends T0{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==r0.boolean){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.boolean,received:t.parsedType}),h0}return p0(e.data)}}X0.create=e=>new X0({typeName:B1.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...D0(e)});class q0 extends T0{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==r0.date){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.date,received:t.parsedType}),h0}if(isNaN(e.data.getTime()))return c0(this._getOrReturnCtx(e),{code:i0.invalid_date}),h0;const t=new d0;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),c0(r,{code:i0.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):JJ.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new q0({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:w0.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:w0.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}q0.create=e=>new q0({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:B1.ZodDate,...D0(e)});class K0 extends T0{_parse(e){if(this._getType(e)!==r0.symbol){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.symbol,received:t.parsedType}),h0}return p0(e.data)}}K0.create=e=>new K0({typeName:B1.ZodSymbol,...D0(e)});class Y0 extends T0{_parse(e){if(this._getType(e)!==r0.undefined){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.undefined,received:t.parsedType}),h0}return p0(e.data)}}Y0.create=e=>new Y0({typeName:B1.ZodUndefined,...D0(e)});class Z0 extends T0{_parse(e){if(this._getType(e)!==r0.null){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.null,received:t.parsedType}),h0}return p0(e.data)}}Z0.create=e=>new Z0({typeName:B1.ZodNull,...D0(e)});class Q0 extends T0{constructor(){super(...arguments),this._any=!0}_parse(e){return p0(e.data)}}Q0.create=e=>new Q0({typeName:B1.ZodAny,...D0(e)});class J0 extends T0{constructor(){super(...arguments),this._unknown=!0}_parse(e){return p0(e.data)}}J0.create=e=>new J0({typeName:B1.ZodUnknown,...D0(e)});class e1 extends T0{_parse(e){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.never,received:t.parsedType}),h0}}e1.create=e=>new e1({typeName:B1.ZodNever,...D0(e)});class t1 extends T0{_parse(e){if(this._getType(e)!==r0.undefined){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.void,received:t.parsedType}),h0}return p0(e.data)}}t1.create=e=>new t1({typeName:B1.ZodVoid,...D0(e)});class r1 extends T0{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==r0.array)return c0(t,{code:i0.invalid_type,expected:r0.array,received:t.parsedType}),h0;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(c0(t,{code:e?i0.too_big:i0.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(c0(t,{code:i0.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(c0(t,{code:i0.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new C0(t,e,t.path,r))))).then((e=>d0.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new C0(t,e,t.path,r))));return d0.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new r1({...this._def,minLength:{value:e,message:w0.toString(t)}})}max(e,t){return new r1({...this._def,maxLength:{value:e,message:w0.toString(t)}})}length(e,t){return new r1({...this._def,exactLength:{value:e,message:w0.toString(t)}})}nonempty(e){return this.min(1,e)}}function n1(e){if(e instanceof i1){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=x1.create(n1(n))}return new i1({...e._def,shape:()=>t})}return e instanceof r1?new r1({...e._def,type:n1(e.element)}):e instanceof x1?x1.create(n1(e.unwrap())):e instanceof E1?E1.create(n1(e.unwrap())):e instanceof c1?c1.create(e.items.map((e=>n1(e)))):e}r1.create=(e,t)=>new r1({type:e,minLength:null,maxLength:null,exactLength:null,typeName:B1.ZodArray,...D0(t)});class i1 extends T0{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=JJ.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==r0.object){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.object,received:t.parsedType}),h0}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof e1&&"strip"===this._def.unknownKeys))for(const a in r.data)i.includes(a)||o.push(a);const s=[];for(const a of i){const e=n[a],t=r.data[a];s.push({key:{status:"valid",value:a},value:e._parse(new C0(r,t,r.path,a)),alwaysSet:a in r.data})}if(this._def.catchall instanceof e1){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)s.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)o.length>0&&(c0(r,{code:i0.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new C0(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>d0.mergeObjectSync(t,e))):d0.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return w0.errToObj,new i1({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,s;const a=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=w0.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new i1({...this._def,unknownKeys:"strip"})}passthrough(){return new i1({...this._def,unknownKeys:"passthrough"})}extend(e){return new i1({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new i1({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B1.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new i1({...this._def,catchall:e})}pick(e){const t={};return JJ.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new i1({...this._def,shape:()=>t})}omit(e){const t={};return JJ.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new i1({...this._def,shape:()=>t})}deepPartial(){return n1(this)}partial(e){const t={};return JJ.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new i1({...this._def,shape:()=>t})}required(e){const t={};return JJ.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof x1;)e=e._def.innerType;t[r]=e}})),new i1({...this._def,shape:()=>t})}keyof(){return v1(JJ.objectKeys(this.shape))}}i1.create=(e,t)=>new i1({shape:()=>e,unknownKeys:"strip",catchall:e1.create(),typeName:B1.ZodObject,...D0(t)}),i1.strictCreate=(e,t)=>new i1({shape:()=>e,unknownKeys:"strict",catchall:e1.create(),typeName:B1.ZodObject,...D0(t)}),i1.lazycreate=(e,t)=>new i1({shape:e,unknownKeys:"strip",catchall:e1.create(),typeName:B1.ZodObject,...D0(t)});class o1 extends T0{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new o0(e.ctx.common.issues)));return c0(t,{code:i0.invalid_union,unionErrors:r}),h0}));{let e;const n=[];for(const o of r){const r={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new o0(e)));return c0(t,{code:i0.invalid_union,unionErrors:i}),h0}}get options(){return this._def.options}}o1.create=(e,t)=>new o1({options:e,typeName:B1.ZodUnion,...D0(t)});const s1=e=>e instanceof m1?s1(e.schema):e instanceof w1?s1(e.innerType()):e instanceof g1?[e.value]:e instanceof y1?e.options:e instanceof b1?JJ.objectValues(e.enum):e instanceof C1?s1(e._def.innerType):e instanceof Y0?[void 0]:e instanceof Z0?[null]:e instanceof x1?[void 0,...s1(e.unwrap())]:e instanceof E1?[null,...s1(e.unwrap())]:e instanceof S1||e instanceof P1?s1(e.unwrap()):e instanceof A1?s1(e._def.innerType):[];class a1 extends T0{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r0.object)return c0(t,{code:i0.invalid_type,expected:r0.object,received:t.parsedType}),h0;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(c0(t,{code:i0.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),h0)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const i of t){const t=s1(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(n.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);n.set(r,i)}}return new a1({typeName:B1.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...D0(r)})}}function l1(e,t){const r=n0(e),n=n0(t);if(e===t)return{valid:!0,data:e};if(r===r0.object&&n===r0.object){const r=JJ.objectKeys(t),n=JJ.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const o of n){const r=l1(e[o],t[o]);if(!r.valid)return{valid:!1};i[o]=r.data}return{valid:!0,data:i}}if(r===r0.array&&n===r0.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=l1(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===r0.date&&n===r0.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class u1 extends T0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(m0(e)||m0(n))return h0;const i=l1(e.value,n.value);return i.valid?((g0(e)||g0(n))&&t.dirty(),{status:t.value,value:i.data}):(c0(r,{code:i0.invalid_intersection_types}),h0)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}u1.create=(e,t,r)=>new u1({left:e,right:t,typeName:B1.ZodIntersection,...D0(r)});class c1 extends T0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r0.array)return c0(r,{code:i0.invalid_type,expected:r0.array,received:r.parsedType}),h0;if(r.data.length<this._def.items.length)return c0(r,{code:i0.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h0;!this._def.rest&&r.data.length>this._def.items.length&&(c0(r,{code:i0.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new C0(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>d0.mergeArray(t,e))):d0.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new c1({...this._def,rest:e})}}c1.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new c1({items:e,typeName:B1.ZodTuple,rest:null,...D0(t)})};class d1 extends T0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r0.object)return c0(r,{code:i0.invalid_type,expected:r0.object,received:r.parsedType}),h0;const n=[],i=this._def.keyType,o=this._def.valueType;for(const s in r.data)n.push({key:i._parse(new C0(r,s,r.path,s)),value:o._parse(new C0(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?d0.mergeObjectAsync(t,n):d0.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new d1(t instanceof T0?{keyType:e,valueType:t,typeName:B1.ZodRecord,...D0(r)}:{keyType:G0.create(),valueType:e,typeName:B1.ZodRecord,...D0(t)})}}class h1 extends T0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r0.map)return c0(r,{code:i0.invalid_type,expected:r0.map,received:r.parsedType}),h0;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map((([e,t],o)=>({key:n._parse(new C0(r,e,r.path,[o,"key"])),value:i._parse(new C0(r,t,r.path,[o,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of o){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return h0;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of o){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return h0;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}h1.create=(e,t,r)=>new h1({valueType:t,keyType:e,typeName:B1.ZodMap,...D0(r)});class f1 extends T0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r0.set)return c0(r,{code:i0.invalid_type,expected:r0.set,received:r.parsedType}),h0;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(c0(r,{code:i0.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(c0(r,{code:i0.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const r=new Set;for(const n of e){if("aborted"===n.status)return h0;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const s=[...r.data.values()].map(((e,t)=>i._parse(new C0(r,e,r.path,t))));return r.common.async?Promise.all(s).then((e=>o(e))):o(s)}min(e,t){return new f1({...this._def,minSize:{value:e,message:w0.toString(t)}})}max(e,t){return new f1({...this._def,maxSize:{value:e,message:w0.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}f1.create=(e,t)=>new f1({valueType:e,minSize:null,maxSize:null,typeName:B1.ZodSet,...D0(t)});class p1 extends T0{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r0.function)return c0(t,{code:i0.invalid_type,expected:r0.function,received:t.parsedType}),h0;function r(e,r){return u0({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l0(),s0].filter((e=>!!e)),issueData:{code:i0.invalid_arguments,argumentsError:r}})}function n(e,r){return u0({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l0(),s0].filter((e=>!!e)),issueData:{code:i0.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof _1){const e=this;return p0((async function(...t){const s=new o0([]),a=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(r(t,e)),s})),l=await Reflect.apply(o,this,a),u=await e._def.returns._def.type.parseAsync(l,i).catch((e=>{throw s.addIssue(n(l,e)),s}));return u}))}{const e=this;return p0((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new o0([r(t,s.error)]);const a=Reflect.apply(o,this,s.data),l=e._def.returns.safeParse(a,i);if(!l.success)throw new o0([n(a,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new p1({...this._def,args:c1.create(e).rest(J0.create())})}returns(e){return new p1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new p1({args:e||c1.create([]).rest(J0.create()),returns:t||J0.create(),typeName:B1.ZodFunction,...D0(r)})}}class m1 extends T0{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}m1.create=(e,t)=>new m1({getter:e,typeName:B1.ZodLazy,...D0(t)});class g1 extends T0{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return c0(t,{received:t.data,code:i0.invalid_literal,expected:this._def.value}),h0}return{status:"valid",value:e.data}}get value(){return this._def.value}}function v1(e,t){return new y1({values:e,typeName:B1.ZodEnum,...D0(t)})}g1.create=(e,t)=>new g1({value:e,typeName:B1.ZodLiteral,...D0(t)});class y1 extends T0{constructor(){super(...arguments),x0.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return c0(t,{expected:JJ.joinValues(r),received:t.parsedType,code:i0.invalid_type}),h0}if(b0(this,x0,"f")||_0(this,x0,new Set(this._def.values),"f"),!b0(this,x0,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return c0(t,{received:t.data,code:i0.invalid_enum_value,options:r}),h0}return p0(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return y1.create(e,{...this._def,...t})}exclude(e,t=this._def){return y1.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}x0=new WeakMap,y1.create=v1;class b1 extends T0{constructor(){super(...arguments),E0.set(this,void 0)}_parse(e){const t=JJ.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==r0.string&&r.parsedType!==r0.number){const e=JJ.objectValues(t);return c0(r,{expected:JJ.joinValues(e),received:r.parsedType,code:i0.invalid_type}),h0}if(b0(this,E0,"f")||_0(this,E0,new Set(JJ.getValidEnumValues(this._def.values)),"f"),!b0(this,E0,"f").has(e.data)){const e=JJ.objectValues(t);return c0(r,{received:r.data,code:i0.invalid_enum_value,options:e}),h0}return p0(e.data)}get enum(){return this._def.values}}E0=new WeakMap,b1.create=(e,t)=>new b1({values:e,typeName:B1.ZodNativeEnum,...D0(t)});class _1 extends T0{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r0.promise&&!1===t.common.async)return c0(t,{code:i0.invalid_type,expected:r0.promise,received:t.parsedType}),h0;const r=t.parsedType===r0.promise?t.data:Promise.resolve(t.data);return p0(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}_1.create=(e,t)=>new _1({type:e,typeName:B1.ZodPromise,...D0(t)});class w1 extends T0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{c0(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){const e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return h0;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?h0:"dirty"===n.status||"dirty"===t.value?f0(n.value):n}));{if("aborted"===t.value)return h0;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?h0:"dirty"===n.status||"dirty"===t.value?f0(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?h0:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?h0:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!v0(e))return e;const o=n.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>v0(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}JJ.assertNever(n)}}w1.create=(e,t,r)=>new w1({schema:e,typeName:B1.ZodEffects,effect:t,...D0(r)}),w1.createWithPreprocess=(e,t,r)=>new w1({schema:t,effect:{type:"preprocess",transform:e},typeName:B1.ZodEffects,...D0(r)});class x1 extends T0{_parse(e){return this._getType(e)===r0.undefined?p0(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}x1.create=(e,t)=>new x1({innerType:e,typeName:B1.ZodOptional,...D0(t)});class E1 extends T0{_parse(e){return this._getType(e)===r0.null?p0(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}E1.create=(e,t)=>new E1({innerType:e,typeName:B1.ZodNullable,...D0(t)});class C1 extends T0{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===r0.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}C1.create=(e,t)=>new C1({innerType:e,typeName:B1.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...D0(t)});class A1 extends T0{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return y0(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new o0(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new o0(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}A1.create=(e,t)=>new A1({innerType:e,typeName:B1.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...D0(t)});class D1 extends T0{_parse(e){if(this._getType(e)!==r0.nan){const t=this._getOrReturnCtx(e);return c0(t,{code:i0.invalid_type,expected:r0.nan,received:t.parsedType}),h0}return{status:"valid",value:e.data}}}D1.create=e=>new D1({typeName:B1.ZodNaN,...D0(e)});const T1=Symbol("zod_brand");class S1 extends T0{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class k1 extends T0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?h0:"dirty"===e.status?(t.dirty(),f0(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?h0:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new k1({in:e,out:t,typeName:B1.ZodPipeline})}}class P1 extends T0{_parse(e){const t=this._def.innerType._parse(e),r=e=>(v0(e)&&(e.value=Object.freeze(e.value)),e);return y0(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function R1(e,t={},r){return e?Q0.create().superRefine(((n,i)=>{var o,s;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:a})}})):Q0.create()}P1.create=(e,t)=>new P1({innerType:e,typeName:B1.ZodReadonly,...D0(t)});const O1={object:i1.lazycreate};var B1;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(B1||(B1={}));const M1=e("bL",G0.create),F1=W0.create,I1=D1.create,N1=$0.create,L1=X0.create,j1=q0.create,U1=K0.create,z1=Y0.create,V1=Z0.create,G1=Q0.create,H1=J0.create,W1=e1.create,$1=t1.create,X1=r1.create,q1=e("bK",i1.create),K1=i1.strictCreate,Y1=o1.create,Z1=a1.create,Q1=u1.create,J1=c1.create,e2=d1.create,t2=h1.create,r2=f1.create,n2=p1.create,i2=m1.create,o2=g1.create,s2=y1.create,a2=b1.create,l2=_1.create,u2=w1.create,c2=x1.create,d2=E1.create,h2=w1.createWithPreprocess,f2=k1.create,p2={string:e=>G0.create({...e,coerce:!0}),number:e=>W0.create({...e,coerce:!0}),boolean:e=>X0.create({...e,coerce:!0}),bigint:e=>$0.create({...e,coerce:!0}),date:e=>q0.create({...e,coerce:!0})},m2=h0;e("d5",Object.freeze({__proto__:null,defaultErrorMap:s0,setErrorMap:function(e){a0=e},getErrorMap:l0,makeIssue:u0,EMPTY_PATH:[],addIssueToContext:c0,ParseStatus:d0,INVALID:h0,DIRTY:f0,OK:p0,isAborted:m0,isDirty:g0,isValid:v0,isAsync:y0,get util(){return JJ},get objectUtil(){return e0},ZodParsedType:r0,getParsedType:n0,ZodType:T0,datetimeRegex:V0,ZodString:G0,ZodNumber:W0,ZodBigInt:$0,ZodBoolean:X0,ZodDate:q0,ZodSymbol:K0,ZodUndefined:Y0,ZodNull:Z0,ZodAny:Q0,ZodUnknown:J0,ZodNever:e1,ZodVoid:t1,ZodArray:r1,ZodObject:i1,ZodUnion:o1,ZodDiscriminatedUnion:a1,ZodIntersection:u1,ZodTuple:c1,ZodRecord:d1,ZodMap:h1,ZodSet:f1,ZodFunction:p1,ZodLazy:m1,ZodLiteral:g1,ZodEnum:y1,ZodNativeEnum:b1,ZodPromise:_1,ZodEffects:w1,ZodTransformer:w1,ZodOptional:x1,ZodNullable:E1,ZodDefault:C1,ZodCatch:A1,ZodNaN:D1,BRAND:T1,ZodBranded:S1,ZodPipeline:k1,ZodReadonly:P1,custom:R1,Schema:T0,ZodSchema:T0,late:O1,get ZodFirstPartyTypeKind(){return B1},coerce:p2,any:G1,array:X1,bigint:N1,boolean:L1,date:j1,discriminatedUnion:Z1,effect:u2,enum:s2,function:n2,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>R1((t=>t instanceof e),t),intersection:Q1,lazy:i2,literal:o2,map:t2,nan:I1,nativeEnum:a2,never:W1,null:V1,nullable:d2,number:F1,object:q1,oboolean:()=>L1().optional(),onumber:()=>F1().optional(),optional:c2,ostring:()=>M1().optional(),pipeline:f2,preprocess:h2,promise:l2,record:e2,set:r2,strictObject:K1,string:M1,symbol:U1,transformer:u2,tuple:J1,undefined:z1,union:Y1,unknown:H1,void:$1,NEVER:m2,ZodIssueCode:i0,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:o0}));var g2="Dialog",[v2,y2]=MK(g2),[b2,_2]=v2(g2),w2=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=G.useRef(null),l=G.useRef(null),[u=!1,c]=Yj({prop:n,defaultProp:i,onChange:o});return J.jsx(b2,{scope:t,triggerRef:a,contentRef:l,contentId:EU(),titleId:EU(),descriptionId:EU(),open:u,onOpenChange:c,onOpenToggle:G.useCallback((()=>c((e=>!e))),[c]),modal:s,children:r})};w2.displayName=g2;var x2="DialogTrigger",E2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=_2(x2,r),o=HL(t,i.triggerRef);return J.jsx(YL.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":V2(i.open),...n,ref:o,onClick:aj(e.onClick,i.onOpenToggle)})}));E2.displayName=x2;var C2="DialogPortal",[A2,D2]=v2(C2,{forceMount:void 0}),T2=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=_2(C2,t);return J.jsx(A2,{scope:t,forceMount:r,children:G.Children.map(n,(e=>J.jsx(ZK,{present:r||o.open,children:J.jsx(YK,{asChild:!0,container:i,children:e})})))})};T2.displayName=C2;var S2="DialogOverlay",k2=G.forwardRef(((e,t)=>{const r=D2(S2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=_2(S2,e.__scopeDialog);return o.modal?J.jsx(ZK,{present:n||o.open,children:J.jsx(P2,{...i,ref:t})}):null}));k2.displayName=S2;var P2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=_2(S2,r);return J.jsx(yY,{as:WL,allowPinchZoom:!0,shards:[i.contentRef],children:J.jsx(YL.div,{"data-state":V2(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})})),R2="DialogContent",O2=G.forwardRef(((e,t)=>{const r=D2(R2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=_2(R2,e.__scopeDialog);return J.jsx(ZK,{present:n||o.open,children:o.modal?J.jsx(B2,{...i,ref:t}):J.jsx(M2,{...i,ref:t})})}));O2.displayName=R2;var B2=G.forwardRef(((e,t)=>{const r=_2(R2,e.__scopeDialog),n=G.useRef(null),i=HL(t,r.contentRef,n);return G.useEffect((()=>{const e=n.current;if(e)return XV(e)}),[]),J.jsx(F2,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:aj(e.onCloseAutoFocus,(e=>{e.preventDefault(),r.triggerRef.current?.focus()})),onPointerDownOutside:aj(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()})),onFocusOutside:aj(e.onFocusOutside,(e=>e.preventDefault()))})})),M2=G.forwardRef(((e,t)=>{const r=_2(R2,e.__scopeDialog),n=G.useRef(!1),i=G.useRef(!1);return J.jsx(F2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target,s=r.triggerRef.current?.contains(o);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),F2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=_2(R2,r),l=G.useRef(null),u=HL(t,l);return qK(),J.jsxs(J.Fragment,{children:[J.jsx(pU,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:J.jsx(zK,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":V2(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),J.jsxs(J.Fragment,{children:[J.jsx($2,{titleId:a.titleId}),J.jsx(X2,{contentRef:l,descriptionId:a.descriptionId})]})]})})),I2="DialogTitle",N2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=_2(I2,r);return J.jsx(YL.h2,{id:i.titleId,...n,ref:t})}));N2.displayName=I2;var L2="DialogDescription",j2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=_2(L2,r);return J.jsx(YL.p,{id:i.descriptionId,...n,ref:t})}));j2.displayName=L2;var U2="DialogClose",z2=G.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=_2(U2,r);return J.jsx(YL.button,{type:"button",...n,ref:t,onClick:aj(e.onClick,(()=>i.onOpenChange(!1)))})}));function V2(e){return e?"open":"closed"}z2.displayName=U2;var G2="DialogTitleWarning",[H2,W2]=function(e,t){const r=G.createContext(t),n=e=>{const{children:t,...n}=e,i=G.useMemo((()=>n),Object.values(n));return J.jsx(r.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(n){const i=G.useContext(r);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(G2,{contentName:R2,titleName:I2,docsSlug:"dialog"}),$2=({titleId:e})=>{const t=W2(G2),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return G.useEffect((()=>{e&&(document.getElementById(e)||console.error(r))}),[r,e]),null},X2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${W2("DialogDescriptionWarning").contentName}}.`;return G.useEffect((()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))}),[r,e,t]),null},q2=e("bC",w2),K2=E2,Y2=e("bD",T2),Z2=e("bw",k2),Q2=e("bx",O2),J2=e("bA",N2),e3=e("bB",j2),t3=e("by",z2),r3=G.forwardRef(((e,t)=>J.jsx(YL.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));r3.displayName="Label",e("bE",r3);var n3="Progress",i3=100,[o3,s3]=tj(n3),[a3,l3]=o3(n3),u3=G.forwardRef(((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:o=h3,...s}=e;!i&&0!==i||m3(i)||console.error(`Invalid prop \`max\` of value \`${i}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const a=m3(i)?i:i3;null===n||g3(n,a)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${n}`,"Progress"));const l=g3(n,a)?n:null,u=p3(l)?o(l,a):void 0;return J.jsx(a3,{scope:r,value:l,max:a,children:J.jsx(YL.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":p3(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":f3(l,a),"data-value":l??void 0,"data-max":a,...s,ref:t})})}));u3.displayName=n3;var c3="ProgressIndicator",d3=G.forwardRef(((e,t)=>{const{__scopeProgress:r,...n}=e,i=l3(c3,r);return J.jsx(YL.div,{"data-state":f3(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})}));function h3(e,t){return`${Math.round(e/t*100)}%`}function f3(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function p3(e){return"number"==typeof e}function m3(e){return p3(e)&&!isNaN(e)&&e>0}function g3(e,t){return p3(e)&&!isNaN(e)&&e<=t&&e>=0}d3.displayName=c3,e("bO",u3),e("bP",d3);var v3="AlertDialog",[y3,b3]=MK(v3,[y2]),_3=y2(),w3=e=>{const{__scopeAlertDialog:t,...r}=e,n=_3(t);return J.jsx(q2,{...n,...r,modal:!0})};w3.displayName=v3,G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=_3(r);return J.jsx(K2,{...i,...n,ref:t})})).displayName="AlertDialogTrigger";var x3=e=>{const{__scopeAlertDialog:t,...r}=e,n=_3(t);return J.jsx(Y2,{...n,...r})};x3.displayName="AlertDialogPortal";var E3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=_3(r);return J.jsx(Z2,{...i,...n,ref:t})}));E3.displayName="AlertDialogOverlay";var C3="AlertDialogContent",[A3,D3]=y3(C3),T3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,o=_3(r),s=G.useRef(null),a=HL(t,s),l=G.useRef(null);return J.jsx(H2,{contentName:C3,titleName:S3,docsSlug:"alert-dialog",children:J.jsx(A3,{scope:r,cancelRef:l,children:J.jsxs(Q2,{role:"alertdialog",...o,...i,ref:a,onOpenAutoFocus:aj(i.onOpenAutoFocus,(e=>{e.preventDefault(),l.current?.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[J.jsx(XL,{children:n}),J.jsx(F3,{contentRef:s})]})})})}));T3.displayName=C3;var S3="AlertDialogTitle",k3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=_3(r);return J.jsx(J2,{...i,...n,ref:t})}));k3.displayName=S3;var P3="AlertDialogDescription",R3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=_3(r);return J.jsx(e3,{...i,...n,ref:t})}));R3.displayName=P3;var O3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=_3(r);return J.jsx(t3,{...i,...n,ref:t})}));O3.displayName="AlertDialogAction";var B3="AlertDialogCancel",M3=G.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=D3(B3,r),o=_3(r),s=HL(t,i);return J.jsx(t3,{...o,...n,ref:s})}));M3.displayName=B3;var F3=({contentRef:e})=>{const t=`\`${C3}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${C3}\` by passing a \`${P3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${C3}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return G.useEffect((()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)}),[t,e]),null};function I3(e){const t=G.useRef({value:e,previous:e});return G.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}e("bY",w3),e("bX",x3),e("bR",E3),e("bS",T3),e("bV",O3),e("bW",M3),e("bT",k3),e("bU",R3);var N3=["PageUp","PageDown"],L3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},U3="Slider",[z3,V3,G3]=Zj(U3),[H3,W3]=MK(U3,[G3]),[$3,X3]=H3(U3),q3=G.forwardRef(((e,t)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:c,onValueChange:d=(()=>{}),onValueCommit:h=(()=>{}),inverted:f=!1,form:p,...m}=e,g=G.useRef(new Set),v=G.useRef(0),y="horizontal"===s?Z3:Q3,[b=[],_]=Yj({prop:c,defaultProp:u,onChange:e=>{const t=[...g.current];t[v.current]?.focus(),d(e)}}),w=G.useRef(b);function x(e,t,{commit:r}={commit:!1}){const s=function(e){return(String(e).split(".")[1]||"").length}(o),a=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-n)/o)*o+n,s),u=sj(a,[n,i]);_(((e=[])=>{const n=function(e=[],t,r){const n=[...e];return n[r]=t,n.sort(((e,t)=>e-t))}(e,u,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map(((t,r)=>e[r+1]-t))}(e);return Math.min(...r)>=t}return!0}(n,l*o)){v.current=n.indexOf(u);const t=String(n)!==String(e);return t&&r&&h(n),t?n:e}return e}))}return J.jsx($3,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:b,orientation:s,form:p,children:J.jsx(z3.Provider,{scope:e.__scopeSlider,children:J.jsx(z3.Slot,{scope:e.__scopeSlider,children:J.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:t,onPointerDown:aj(m.onPointerDown,(()=>{a||(w.current=b)})),min:n,max:i,inverted:f,onSlideStart:a?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map((e=>Math.abs(e-t))),n=Math.min(...r);return r.indexOf(n)}(b,e);x(e,t)},onSlideMove:a?void 0:function(e){x(e,v.current)},onSlideEnd:a?void 0:function(){const e=w.current[v.current];b[v.current]!==e&&h(b)},onHomeKeyDown:()=>!a&&x(n,0,{commit:!0}),onEndKeyDown:()=>!a&&x(i,b.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!a){const r=N3.includes(e.key)||e.shiftKey&&L3.includes(e.key)?10:1,n=v.current;x(b[n]+o*r*t,n,{commit:!0})}}})})})})}));q3.displayName=U3;var[K3,Y3]=H3(U3,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z3=G.forwardRef(((e,t)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...c}=e,[d,h]=G.useState(null),f=HL(t,(e=>h(e))),p=G.useRef(),m=oj(i),g="ltr"===m,v=g&&!o||!g&&o;function y(e){const t=p.current||d.getBoundingClientRect(),i=u4([0,t.width],v?[r,n]:[n,r]);return p.current=t,i(e-t.left)}return J.jsx(K3,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:J.jsx(J3,{dir:m,"data-orientation":"horizontal",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=y(e.clientX);s?.(t)},onSlideMove:e=>{const t=y(e.clientX);a?.(t)},onSlideEnd:()=>{p.current=void 0,l?.()},onStepKeyDown:e=>{const t=j3[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})})),Q3=G.forwardRef(((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...u}=e,c=G.useRef(null),d=HL(t,c),h=G.useRef(),f=!i;function p(e){const t=h.current||c.current.getBoundingClientRect(),i=u4([0,t.height],f?[n,r]:[r,n]);return h.current=t,i(e-t.top)}return J.jsx(K3,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:J.jsx(J3,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=p(e.clientY);o?.(t)},onSlideMove:e=>{const t=p(e.clientY);s?.(t)},onSlideEnd:()=>{h.current=void 0,a?.()},onStepKeyDown:e=>{const t=j3[f?"from-bottom":"from-top"].includes(e.key);l?.({event:e,direction:t?-1:1})}})})})),J3=G.forwardRef(((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...u}=e,c=X3(U3,r);return J.jsx(YL.span,{...u,ref:t,onKeyDown:aj(e.onKeyDown,(e=>{"Home"===e.key?(s(e),e.preventDefault()):"End"===e.key?(a(e),e.preventDefault()):N3.concat(L3).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:aj(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),c.thumbs.has(t)?t.focus():n(e)})),onPointerMove:aj(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)})),onPointerUp:aj(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))}))})})),e4="SliderTrack",t4=G.forwardRef(((e,t)=>{const{__scopeSlider:r,...n}=e,i=X3(e4,r);return J.jsx(YL.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})}));t4.displayName=e4;var r4="SliderRange",n4=G.forwardRef(((e,t)=>{const{__scopeSlider:r,...n}=e,i=X3(r4,r),o=Y3(r4,r),s=HL(t,G.useRef(null)),a=i.values.length,l=i.values.map((e=>l4(e,i.min,i.max))),u=a>1?Math.min(...l):0,c=100-Math.max(...l);return J.jsx(YL.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:c+"%"}})}));n4.displayName=r4;var i4="SliderThumb",o4=G.forwardRef(((e,t)=>{const r=V3(e.__scopeSlider),[n,i]=G.useState(null),o=HL(t,(e=>i(e))),s=G.useMemo((()=>n?r().findIndex((e=>e.ref.current===n)):-1),[r,n]);return J.jsx(s4,{...e,ref:o,index:s})})),s4=G.forwardRef(((e,t)=>{const{__scopeSlider:r,index:n,name:i,...o}=e,s=X3(i4,r),a=Y3(i4,r),[l,u]=G.useState(null),c=HL(t,(e=>u(e))),d=!l||s.form||!!l.closest("form"),h=Jz(l),f=s.values[n],p=void 0===f?0:l4(f,s.min,s.max),m=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,s.values.length),g=h?.[a.size],v=g?function(e,t,r){const n=e/2,i=u4([0,50],[0,n]);return(n-i(t)*r)*r}(g,p,a.direction):0;return G.useEffect((()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}}),[l,s.thumbs]),J.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${v}px)`},children:[J.jsx(z3.ItemSlot,{scope:e.__scopeSlider,children:J.jsx(YL.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":f,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:c,style:void 0===f?{display:"none"}:e.style,onFocus:aj(e.onFocus,(()=>{s.valueIndexToChangeRef.current=n}))})}),d&&J.jsx(a4,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:f},n)]})}));o4.displayName=i4;var a4=e=>{const{value:t,...r}=e,n=G.useRef(null),i=I3(t);return G.useEffect((()=>{const e=n.current,r=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(r,"value").set;if(i!==t&&o){const r=new Event("input",{bubbles:!0});o.call(e,t),e.dispatchEvent(r)}}),[i,t]),J.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function l4(e,t,r){return sj(100/(r-t)*(e-t),[0,100])}function u4(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}e("bZ",q3),e("b_",t4),e("b$",n4),e("c0",o4);var c4=G.forwardRef(((e,t)=>J.jsx(YL.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));c4.displayName="VisuallyHidden";var d4=c4,h4=[" ","Enter","ArrowUp","ArrowDown"],f4=[" ","Enter"],p4="Select",[m4,g4,v4]=Zj(p4),[y4,b4]=tj(p4,[v4,rV]),_4=rV(),[w4,x4]=y4(p4),[E4,C4]=y4(p4),A4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:d,disabled:h,required:f}=e,p=_4(t),[m,g]=G.useState(null),[v,y]=G.useState(null),[b,_]=G.useState(!1),w=oj(u),[x=!1,E]=Yj({prop:n,defaultProp:i,onChange:o}),[C,A]=Yj({prop:s,defaultProp:a,onChange:l}),D=G.useRef(null),T=!m||Boolean(m.closest("form")),[S,k]=G.useState(new Set),P=Array.from(S).map((e=>e.props.value)).join(";");return J.jsx(yV,{...p,children:J.jsxs(w4,{required:f,scope:t,trigger:m,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:_,contentId:EU(),value:C,onValueChange:A,open:x,onOpenChange:E,dir:w,triggerPointerDownPosRef:D,disabled:h,children:[J.jsx(m4.Provider,{scope:t,children:J.jsx(E4,{scope:e.__scopeSelect,onNativeOptionAdd:G.useCallback((e=>{k((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:G.useCallback((e=>{k((t=>{const r=new Set(t);return r.delete(e),r}))}),[]),children:r})}),T?J.jsxs(f5,{"aria-hidden":!0,required:f,tabIndex:-1,name:c,autoComplete:d,value:C,onChange:e=>A(e.target.value),disabled:h,children:[void 0===C?J.jsx("option",{value:""}):null,Array.from(S)]},P):null]})})};A4.displayName=p4;var D4="SelectTrigger",T4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=_4(r),s=x4(D4,r),a=s.disabled||n,l=HL(t,s.onTriggerChange),u=g4(r),[c,d,h]=p5((e=>{const t=u().filter((e=>!e.disabled)),r=t.find((e=>e.value===s.value)),n=m5(t,e,r);void 0!==n&&s.onValueChange(n.value)})),f=()=>{a||(s.onOpenChange(!0),h())};return J.jsx(bV,{asChild:!0,...o,children:J.jsx(YL.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":h5(s.value)?"":void 0,...i,ref:l,onClick:aj(i.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:aj(i.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(f(),s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:aj(i.onKeyDown,(e=>{const t=""!==c.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||d(e.key),t&&" "===e.key||h4.includes(e.key)&&(f(),e.preventDefault())}))})})}));T4.displayName=D4;var S4="SelectValue",k4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:s="",...a}=e,l=x4(S4,r),{onValueNodeHasChildrenChange:u}=l,c=void 0!==o,d=HL(t,l.onValueNodeChange);return QL((()=>{u(c)}),[u,c]),J.jsx(YL.span,{...a,ref:d,style:{pointerEvents:"none"},children:h5(l.value)?J.jsx(J.Fragment,{children:s}):o})}));k4.displayName=S4;var P4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return J.jsx(YL.span,{"aria-hidden":!0,...i,ref:t,children:n||""})}));P4.displayName="SelectIcon";var R4=e=>J.jsx(xV,{asChild:!0,...e});R4.displayName="SelectPortal";var O4="SelectContent",B4=G.forwardRef(((e,t)=>{const r=x4(O4,e.__scopeSelect),[n,i]=G.useState();if(QL((()=>{i(new DocumentFragment)}),[]),!r.open){const t=n;return t?ad.createPortal(J.jsx(F4,{scope:e.__scopeSelect,children:J.jsx(m4.Slot,{scope:e.__scopeSelect,children:J.jsx("div",{children:e.children})})}),t):null}return J.jsx(N4,{...e,ref:t})}));B4.displayName=O4;var M4=10,[F4,I4]=y4(O4),N4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...v}=e,y=x4(O4,r),[b,_]=G.useState(null),[w,x]=G.useState(null),E=HL(t,(e=>_(e))),[C,A]=G.useState(null),[D,T]=G.useState(null),S=g4(r),[k,P]=G.useState(!1),R=G.useRef(!1);G.useEffect((()=>{if(b)return XV(b)}),[b]),uU();const O=G.useCallback((e=>{const[t,...r]=S().map((e=>e.ref.current)),[n]=r.slice(-1),i=document.activeElement;for(const o of e){if(o===i)return;if(o?.scrollIntoView({block:"nearest"}),o===t&&w&&(w.scrollTop=0),o===n&&w&&(w.scrollTop=w.scrollHeight),o?.focus(),document.activeElement!==i)return}}),[S,w]),B=G.useCallback((()=>O([C,b])),[O,C,b]);G.useEffect((()=>{k&&B()}),[k,B]);const{onOpenChange:M,triggerPointerDownPosRef:F}=y;G.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(F.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():b.contains(r.target)||M(!1),document.removeEventListener("pointermove",t),F.current=null};return null!==F.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}}),[b,M,F]),G.useEffect((()=>{const e=()=>M(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[M]);const[I,N]=p5((e=>{const t=S().filter((e=>!e.disabled)),r=t.find((e=>e.ref.current===document.activeElement)),n=m5(t,e,r);n&&setTimeout((()=>n.ref.current.focus()))})),L=G.useCallback(((e,t,r)=>{const n=!R.current&&!r;(void 0!==y.value&&y.value===t||n)&&(A(e),n&&(R.current=!0))}),[y.value]),j=G.useCallback((()=>b?.focus()),[b]),U=G.useCallback(((e,t,r)=>{const n=!R.current&&!r;(void 0!==y.value&&y.value===t||n)&&T(e)}),[y.value]),z="popper"===n?j4:L4,V=z===j4?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return J.jsx(F4,{scope:r,content:b,viewport:w,onViewportChange:x,itemRefCallback:L,selectedItem:C,onItemLeave:j,itemTextRefCallback:U,focusSelectedItem:B,selectedItemText:D,position:n,isPositioned:k,searchRef:I,children:J.jsx(MG,{as:WL,allowPinchZoom:!0,children:J.jsx(pU,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:aj(i,(e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:J.jsx(iU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:J.jsx(z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...V,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:aj(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||N(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=S().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout((()=>O(t))),e.preventDefault()}}))})})})})})}));N4.displayName="SelectContentImpl";var L4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=x4(O4,r),s=I4(O4,r),[a,l]=G.useState(null),[u,c]=G.useState(null),d=HL(t,(e=>c(e))),h=g4(r),f=G.useRef(!1),p=G.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=s,b=G.useCallback((()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&g&&v){const e=o.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),i=v.getBoundingClientRect();if("rtl"!==o.dir){const n=i.left-t.left,o=r.left-n,s=e.left-o,l=e.width+s,u=Math.max(l,t.width),c=window.innerWidth-M4,d=sj(o,[M4,c-u]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{const n=t.right-i.right,o=window.innerWidth-r.right-n,s=window.innerWidth-e.right-o,l=e.width+s,u=Math.max(l,t.width),c=window.innerWidth-M4,d=sj(o,[M4,c-u]);a.style.minWidth=l+"px",a.style.right=d+"px"}const s=h(),l=window.innerHeight-2*M4,c=m.scrollHeight,d=window.getComputedStyle(u),p=parseInt(d.borderTopWidth,10),y=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),_=p+y+c+parseInt(d.paddingBottom,10)+b,w=Math.min(5*g.offsetHeight,_),x=window.getComputedStyle(m),E=parseInt(x.paddingTop,10),C=parseInt(x.paddingBottom,10),A=e.top+e.height/2-M4,D=l-A,T=g.offsetHeight/2,S=p+y+(g.offsetTop+T),k=_-S;if(S<=A){const e=g===s[s.length-1].ref.current;a.style.bottom="0px";const t=u.clientHeight-m.offsetTop-m.offsetHeight,r=S+Math.max(D,T+(e?C:0)+t+b);a.style.height=r+"px"}else{const e=g===s[0].ref.current;a.style.top="0px";const t=Math.max(A,p+m.offsetTop+(e?E:0)+T)+k;a.style.height=t+"px",m.scrollTop=S-A+m.offsetTop}a.style.margin=`${M4}px 0`,a.style.minHeight=w+"px",a.style.maxHeight=l+"px",n?.(),requestAnimationFrame((()=>f.current=!0))}}),[h,o.trigger,o.valueNode,a,u,m,g,v,o.dir,n]);QL((()=>b()),[b]);const[_,w]=G.useState();QL((()=>{u&&w(window.getComputedStyle(u).zIndex)}),[u]);const x=G.useCallback((e=>{e&&!0===p.current&&(b(),y?.(),p.current=!1)}),[b,y]);return J.jsx(U4,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:x,children:J.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:J.jsx(YL.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));L4.displayName="SelectItemAlignedPosition";var j4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=M4,...o}=e,s=_4(r);return J.jsx(_V,{...s,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));j4.displayName="SelectPopperPosition";var[U4,z4]=y4(O4,{}),V4="SelectViewport",G4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=I4(V4,r),s=z4(V4,r),a=HL(t,o.onViewportChange),l=G.useRef(0);return J.jsxs(J.Fragment,{children:[J.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),J.jsx(m4.Slot,{scope:r,children:J.jsx(YL.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:aj(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(n?.current&&r){const e=Math.abs(l.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*M4,i=parseFloat(r.style.minHeight),o=parseFloat(r.style.height),s=Math.max(i,o);if(s<n){const i=s+e,o=Math.min(n,i),a=i-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=a>0?a:0,r.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));G4.displayName=V4;var H4="SelectGroup",[W4,$4]=y4(H4),X4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=EU();return J.jsx(W4,{scope:r,id:i,children:J.jsx(YL.div,{role:"group","aria-labelledby":i,...n,ref:t})})}));X4.displayName=H4;var q4="SelectLabel",K4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=$4(q4,r);return J.jsx(YL.div,{id:i.id,...n,ref:t})}));K4.displayName=q4;var Y4="SelectItem",[Z4,Q4]=y4(Y4),J4=G.forwardRef(((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...s}=e,a=x4(Y4,r),l=I4(Y4,r),u=a.value===n,[c,d]=G.useState(o??""),[h,f]=G.useState(!1),p=HL(t,(e=>l.itemRefCallback?.(e,n,i))),m=EU(),g=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return J.jsx(Z4,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:G.useCallback((e=>{d((t=>t||(e?.textContent??"").trim()))}),[]),children:J.jsx(m4.ItemSlot,{scope:r,value:n,disabled:i,textValue:c,children:J.jsx(YL.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:aj(s.onFocus,(()=>f(!0))),onBlur:aj(s.onBlur,(()=>f(!1))),onPointerUp:aj(s.onPointerUp,g),onPointerMove:aj(s.onPointerMove,(e=>{i?l.onItemLeave?.():e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:aj(s.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&l.onItemLeave?.()})),onKeyDown:aj(s.onKeyDown,(e=>{""!==l.searchRef?.current&&" "===e.key||(f4.includes(e.key)&&g()," "===e.key&&e.preventDefault())}))})})})}));J4.displayName=Y4;var e5="SelectItemText",t5=G.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,s=x4(e5,r),a=I4(e5,r),l=Q4(e5,r),u=C4(e5,r),[c,d]=G.useState(null),h=HL(t,(e=>d(e)),l.onItemTextChange,(e=>a.itemTextRefCallback?.(e,l.value,l.disabled))),f=c?.textContent,p=G.useMemo((()=>J.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value)),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return QL((()=>(m(p),()=>g(p))),[m,g,p]),J.jsxs(J.Fragment,{children:[J.jsx(YL.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ad.createPortal(o.children,s.valueNode):null]})}));t5.displayName=e5;var r5="SelectItemIndicator",n5=G.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e;return Q4(r5,r).isSelected?J.jsx(YL.span,{"aria-hidden":!0,...n,ref:t}):null}));n5.displayName=r5;var i5="SelectScrollUpButton",o5=G.forwardRef(((e,t)=>{const r=I4(i5,e.__scopeSelect),n=z4(i5,e.__scopeSelect),[i,o]=G.useState(!1),s=HL(t,n.onScrollButtonChange);return QL((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?J.jsx(l5,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));o5.displayName=i5;var s5="SelectScrollDownButton",a5=G.forwardRef(((e,t)=>{const r=I4(s5,e.__scopeSelect),n=z4(s5,e.__scopeSelect),[i,o]=G.useState(!1),s=HL(t,n.onScrollButtonChange);return QL((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;o(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?J.jsx(l5,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));a5.displayName=s5;var l5=G.forwardRef(((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=I4("SelectScrollButton",r),s=G.useRef(null),a=g4(r),l=G.useCallback((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return G.useEffect((()=>()=>l()),[l]),QL((()=>{const e=a().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[a]),J.jsx(YL.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:aj(i.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(n,50))})),onPointerMove:aj(i.onPointerMove,(()=>{o.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(n,50))})),onPointerLeave:aj(i.onPointerLeave,(()=>{l()}))})})),u5=G.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e;return J.jsx(YL.div,{"aria-hidden":!0,...n,ref:t})}));u5.displayName="SelectSeparator";var c5="SelectArrow",d5=G.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=_4(r),o=x4(c5,r),s=I4(c5,r);return o.open&&"popper"===s.position?J.jsx(wV,{...i,...n,ref:t}):null}));function h5(e){return""===e||void 0===e}d5.displayName=c5;var f5=G.forwardRef(((e,t)=>{const{value:r,...n}=e,i=G.useRef(null),o=HL(t,i),s=I3(r);return G.useEffect((()=>{const e=i.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[s,r]),J.jsx(c4,{asChild:!0,children:J.jsx("select",{...n,ref:o,defaultValue:r})})}));function p5(e){const t=nj(e),r=G.useRef(""),n=G.useRef(0),i=G.useCallback((e=>{const i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout((()=>e("")),1e3))}(i)}),[t]),o=G.useCallback((()=>{r.current="",window.clearTimeout(n.current)}),[]);return G.useEffect((()=>()=>window.clearTimeout(n.current)),[]),[r,i,o]}function m5(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=r?e.indexOf(r):-1;let o=(s=e,a=Math.max(i,0),s.map(((e,t)=>s[(a+t)%s.length])));var s,a;1===n.length&&(o=o.filter((e=>e!==r)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(n.toLowerCase())));return l!==r?l:void 0}function g5(){return(g5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v5(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function y5(e){var t=G.useRef(e),r=G.useRef((function(e){t.current&&t.current(e)}));return t.current=e,r.current}f5.displayName="BubbleSelect",e("cg",A4),e("c1",T4),e("ci",k4),e("c2",P4),e("c8",R4),e("c9",B4),e("ca",G4),e("ch",X4),e("cb",K4),e("cc",J4),e("ce",t5),e("cd",n5),e("c4",o5),e("c6",a5),e("cf",u5);var b5=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},_5=function(e){return"touches"in e},w5=function(e){return e&&e.ownerDocument.defaultView||self},x5=function(e,t,r){var n=e.getBoundingClientRect(),i=_5(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:b5((i.pageX-(n.left+w5(e).pageXOffset))/n.width),top:b5((i.pageY-(n.top+w5(e).pageYOffset))/n.height)}},E5=function(e){!_5(e)&&e.preventDefault()},C5=H.memo((function(e){var t=e.onMove,r=e.onKey,n=v5(e,["onMove","onKey"]),i=G.useRef(null),o=y5(t),s=y5(r),a=G.useRef(null),l=G.useRef(!1),u=G.useMemo((function(){var e=function(e){E5(e),(_5(e)?e.touches.length>0:e.buttons>0)&&i.current?o(x5(i.current,e,a.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=l.current,o=w5(i.current),s=r?o.addEventListener:o.removeEventListener;s(n?"touchmove":"mousemove",e),s(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=i.current;if(n&&(E5(t),!function(e,t){return t&&!_5(e)}(t,l.current)&&n)){if(_5(t)){l.current=!0;var s=t.changedTouches||[];s.length&&(a.current=s[0].identifier)}n.focus(),o(x5(n,t,a.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]}),[s,o]),c=u[0],d=u[1],h=u[2];return G.useEffect((function(){return h}),[h]),H.createElement("div",g5({},n,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))})),A5=function(e){return e.filter(Boolean).join(" ")},D5=function(e){var t=e.color,r=e.left,n=e.top,i=void 0===n?.5:n,o=A5(["react-colorful__pointer",e.className]);return H.createElement("div",{className:o,style:{top:100*i+"%",left:100*r+"%"}},H.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},T5=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},S5=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?T5(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?T5(parseInt(e.substring(6,8),16)/255,2):1}},k5=function(e){var t=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:T5(e.h),s:T5(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:T5(i/2),a:T5(n,2)}}(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},P5=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),a=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),u=o%6;return{r:T5(255*[n,a,s,s,l,n][u]),g:T5(255*[l,n,n,a,s,s][u]),b:T5(255*[s,s,l,n,n,a][u]),a:T5(i,2)}},R5=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},O5=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=i<1?R5(T5(255*i)):"";return"#"+R5(t)+R5(r)+R5(n)+o},B5=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),a=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:T5(60*(a<0?a+6:a)),s:T5(o?s/o*100:0),v:T5(o/255*100),a:i}},M5=H.memo((function(e){var t=e.hue,r=e.onChange,n=A5(["react-colorful__hue",e.className]);return H.createElement("div",{className:n},H.createElement(C5,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:b5(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":T5(t),"aria-valuemax":"360","aria-valuemin":"0"},H.createElement(D5,{className:"react-colorful__hue-pointer",left:t/360,color:k5({h:t,s:100,v:100,a:1})})))})),F5=H.memo((function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:k5({h:t.h,s:100,v:100,a:1})};return H.createElement("div",{className:"react-colorful__saturation",style:n},H.createElement(C5,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:b5(t.s+100*e.left,0,100),v:b5(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+T5(t.s)+"%, Brightness "+T5(t.v)+"%"},H.createElement(D5,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:k5(t)})))})),I5=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},N5="undefined"!=typeof window?G.useLayoutEffect:G.useEffect,L5=new Map,j5=function(e){N5((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!L5.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',L5.set(t,r);var n="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0;n&&r.setAttribute("nonce",n),t.head.appendChild(r)}}),[])},U5=function(e){var t=e.className,r=e.colorModel,n=e.color,i=void 0===n?r.defaultColor:n,o=e.onChange,s=v5(e,["className","colorModel","color","onChange"]),a=G.useRef(null);j5(a);var l=function(e,t,r){var n=y5(r),i=G.useState((function(){return e.toHsva(t)})),o=i[0],s=i[1],a=G.useRef({color:t,hsva:o});G.useEffect((function(){if(!e.equal(t,a.current.color)){var r=e.toHsva(t);a.current={hsva:r,color:t},s(r)}}),[t,e]),G.useEffect((function(){var t;I5(o,a.current.hsva)||e.equal(t=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:t},n(t))}),[o,e,n]);var l=G.useCallback((function(e){s((function(t){return Object.assign({},t,e)}))}),[]);return[o,l]}(r,i,o),u=l[0],c=l[1],d=A5(["react-colorful",t]);return H.createElement("div",g5({},s,{ref:a,className:d}),H.createElement(F5,{hsva:u,onChange:c}),H.createElement(M5,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},z5={defaultColor:"000",toHsva:function(e){return B5(S5(e))},fromHsva:function(e){return function(e){return O5(P5(e))}({h:e.h,s:e.s,v:e.v,a:1})},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||I5(S5(e),S5(t))}},V5=(e("cn",(function(e){return H.createElement(U5,g5({},e,{colorModel:z5}))})),"Popover"),[G5,H5]=tj(V5,[rV]),W5=rV(),[$5,X5]=G5(V5),q5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=W5(t),l=G.useRef(null),[u,c]=G.useState(!1),[d=!1,h]=Yj({prop:n,defaultProp:i,onChange:o});return J.jsx(yV,{...a,children:J.jsx($5,{scope:t,contentId:EU(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:G.useCallback((()=>h((e=>!e))),[h]),hasCustomAnchor:u,onCustomAnchorAdd:G.useCallback((()=>c(!0)),[]),onCustomAnchorRemove:G.useCallback((()=>c(!1)),[]),modal:s,children:r})})};q5.displayName=V5;var K5="PopoverAnchor",Y5=G.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=X5(K5,r),o=W5(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return G.useEffect((()=>(s(),()=>a())),[s,a]),J.jsx(bV,{...o,...n,ref:t})}));Y5.displayName=K5;var Z5="PopoverTrigger",Q5=G.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=X5(Z5,r),o=W5(r),s=HL(t,i.triggerRef),a=J.jsx(YL.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":c8(i.open),...n,ref:s,onClick:aj(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:J.jsx(bV,{asChild:!0,...o,children:a})}));Q5.displayName=Z5;var J5="PopoverPortal",[e8,t8]=G5(J5,{forceMount:void 0}),r8=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,o=X5(J5,t);return J.jsx(e8,{scope:t,forceMount:r,children:J.jsx(JL,{present:r||o.open,children:J.jsx(xV,{asChild:!0,container:i,children:n})})})};r8.displayName=J5;var n8="PopoverContent",i8=G.forwardRef(((e,t)=>{const r=t8(n8,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,o=X5(n8,e.__scopePopover);return J.jsx(JL,{present:n||o.open,children:o.modal?J.jsx(o8,{...i,ref:t}):J.jsx(s8,{...i,ref:t})})}));i8.displayName=n8;var o8=G.forwardRef(((e,t)=>{const r=X5(n8,e.__scopePopover),n=G.useRef(null),i=HL(t,n),o=G.useRef(!1);return G.useEffect((()=>{const e=n.current;if(e)return XV(e)}),[]),J.jsx(MG,{as:WL,allowPinchZoom:!0,children:J.jsx(a8,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:aj(e.onCloseAutoFocus,(e=>{e.preventDefault(),o.current||r.triggerRef.current?.focus()})),onPointerDownOutside:aj(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;o.current=n}),{checkForDefaultPrevented:!1}),onFocusOutside:aj(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})})})),s8=G.forwardRef(((e,t)=>{const r=X5(n8,e.__scopePopover),n=G.useRef(!1),i=G.useRef(!1);return J.jsx(a8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target,s=r.triggerRef.current?.contains(o);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),a8=G.forwardRef(((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,h=X5(n8,r),f=W5(r);return uU(),J.jsx(pU,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:J.jsx(iU,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:J.jsx(_V,{"data-state":c8(h.open),role:"dialog",id:h.contentId,...f,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),l8="PopoverClose",u8=G.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=X5(l8,r);return J.jsx(YL.button,{type:"button",...n,ref:t,onClick:aj(e.onClick,(()=>i.onOpenChange(!1)))})}));function c8(e){return e?"open":"closed"}u8.displayName=l8,G.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=W5(r);return J.jsx(wV,{...i,...n,ref:t})})).displayName="PopoverArrow",e("cl",q5),e("cm",Q5),e("cj",r8),e("ck",i8);var d8=G.forwardRef(((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:i,...o}=e,[s=!1,a]=Yj({prop:r,onChange:i,defaultProp:n});return J.jsx(YL.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:aj(e.onClick,(()=>{e.disabled||a(!s)}))})}));d8.displayName="Toggle",e("co",d8);var h8="ToggleGroup",[f8,p8]=tj(h8,[PV]),m8=PV(),g8=H.forwardRef(((e,t)=>{const{type:r,...n}=e;if("single"===r){const e=n;return J.jsx(b8,{...e,ref:t})}if("multiple"===r){const e=n;return J.jsx(_8,{...e,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${h8}\``)}));g8.displayName=h8;var[v8,y8]=f8(h8),b8=H.forwardRef(((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=(()=>{}),...o}=e,[s,a]=Yj({prop:r,defaultProp:n,onChange:i});return J.jsx(v8,{scope:e.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:H.useCallback((()=>a("")),[a]),children:J.jsx(E8,{...o,ref:t})})})),_8=H.forwardRef(((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=(()=>{}),...o}=e,[s=[],a]=Yj({prop:r,defaultProp:n,onChange:i}),l=H.useCallback((e=>a(((t=[])=>[...t,e]))),[a]),u=H.useCallback((e=>a(((t=[])=>t.filter((t=>t!==e))))),[a]);return J.jsx(v8,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:u,children:J.jsx(E8,{...o,ref:t})})}));g8.displayName=h8;var[w8,x8]=f8(h8),E8=H.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:a=!0,...l}=e,u=m8(r),c=oj(s),d={role:"group",dir:c,...l};return J.jsx(w8,{scope:r,rovingFocus:i,disabled:n,children:i?J.jsx(jV,{asChild:!0,...u,orientation:o,dir:c,loop:a,children:J.jsx(YL.div,{...d,ref:t})}):J.jsx(YL.div,{...d,ref:t})})})),C8="ToggleGroupItem",A8=H.forwardRef(((e,t)=>{const r=y8(C8,e.__scopeToggleGroup),n=x8(C8,e.__scopeToggleGroup),i=m8(e.__scopeToggleGroup),o=r.value.includes(e.value),s=n.disabled||e.disabled,a={...e,pressed:o,disabled:s},l=H.useRef(null);return n.rovingFocus?J.jsx(UV,{asChild:!0,...i,focusable:!s,active:o,ref:l,children:J.jsx(D8,{...a,ref:t})}):J.jsx(D8,{...a,ref:t})}));A8.displayName=C8;var D8=H.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,value:n,...i}=e,o=y8(C8,r),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a="single"===o.type?s:void 0;return J.jsx(d8,{...a,...i,ref:t,onPressedChange:e=>{e?o.onItemActivate(n):o.onItemDeactivate(n)}})})),T8=e("cp",g8),S8=e("cq",A8),k8="Tabs",[P8,R8]=tj(k8,[PV]),O8=PV(),[B8,M8]=P8(k8),F8=G.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=e,c=oj(a),[d,h]=Yj({prop:n,onChange:i,defaultProp:o});return J.jsx(B8,{scope:r,baseId:EU(),value:d,onValueChange:h,orientation:s,dir:c,activationMode:l,children:J.jsx(YL.div,{dir:c,"data-orientation":s,...u,ref:t})})}));F8.displayName=k8;var I8="TabsList",N8=G.forwardRef(((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=M8(I8,r),s=O8(r);return J.jsx(jV,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:n,children:J.jsx(YL.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})}));N8.displayName=I8;var L8="TabsTrigger",j8=G.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,s=M8(L8,r),a=O8(r),l=V8(s.baseId,n),u=G8(s.baseId,n),c=n===s.value;return J.jsx(UV,{asChild:!0,...a,focusable:!i,active:c,children:J.jsx(YL.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:aj(e.onMouseDown,(e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(n)})),onKeyDown:aj(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(n)})),onFocus:aj(e.onFocus,(()=>{const e="manual"!==s.activationMode;c||i||!e||s.onValueChange(n)}))})})}));j8.displayName=L8;var U8="TabsContent",z8=G.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...s}=e,a=M8(U8,r),l=V8(a.baseId,n),u=G8(a.baseId,n),c=n===a.value,d=G.useRef(c);return G.useEffect((()=>{const e=requestAnimationFrame((()=>d.current=!1));return()=>cancelAnimationFrame(e)}),[]),J.jsx(JL,{present:i||c,children:({present:r})=>J.jsx(YL.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!r,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:r&&o})})}));function V8(e,t){return`${e}-trigger-${t}`}function G8(e,t){return`${e}-content-${t}`}z8.displayName=U8,e("cu",F8),e("cr",N8),e("cs",j8),e("ct",z8);var H8=Object.defineProperty,W8=Object.defineProperties,$8=Object.getOwnPropertyDescriptors,X8=Object.getOwnPropertySymbols,q8=Object.prototype.hasOwnProperty,K8=Object.prototype.propertyIsEnumerable,Y8=(e,t,r)=>t in e?H8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z8=(e,t)=>{for(var r in t||(t={}))q8.call(t,r)&&Y8(e,r,t[r]);if(X8)for(var r of X8(t))K8.call(t,r)&&Y8(e,r,t[r]);return e},Q8=(e,t)=>W8(e,$8(t)),J8=G.createContext(void 0),e6=()=>G.useContext(J8);function t6(e,t){return e&&t&&"object"==typeof e&&"object"==typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(((r,n)=>r&&t6(e[n],t[n])),!0):e===t}var r6=G.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),n6=()=>G.useContext(r6),i6=new Set(["shift","alt","meta","mod","ctrl","control"]),o6={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function s6(e){return(o6[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function a6(e,t=","){return e.toLowerCase().split(t)}function l6(e,t="+",r=!1,n){const i=e.toLocaleLowerCase().split(t).map((e=>s6(e))),o={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),meta:i.includes("meta"),mod:i.includes("mod"),shift:i.includes("shift"),useKey:r},s=i.filter((e=>!i6.has(e)));return Q8(Z8({},o),{description:n,keys:s})}"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{void 0!==e.code&&d6([s6(e.code)])})),document.addEventListener("keyup",(e=>{void 0!==e.code&&h6([s6(e.code)])}))),"undefined"!=typeof window&&window.addEventListener("blur",(()=>{u6.clear()}));var u6=new Set;function c6(e){return Array.isArray(e)}function d6(e){const t=Array.isArray(e)?e:[e];u6.has("meta")&&u6.forEach((e=>!function(e){return i6.has(e)}(e)&&u6.delete(e.toLowerCase()))),t.forEach((e=>u6.add(e.toLowerCase())))}function h6(e){const t=Array.isArray(e)?e:[e];"meta"===e?u6.clear():t.forEach((e=>u6.delete(e.toLowerCase())))}var f6="Alt",p6="Mod",m6="Shift";function g6(e){const t=G.useRef();return t6(t.current,e)||(t.current=e),t.current}function v6({target:e},t=!1){const r=e&&e.tagName;return c6(t)?Boolean(r&&(null==t?void 0:t.some((e=>e.toLowerCase()===r.toLowerCase())))):Boolean(r&&t&&t)}var y6=(e,t,r=!1)=>{const{alt:n,ctrl:i,keys:o,meta:s,mod:a,shift:l,useKey:u}=t,{altKey:c,code:d,ctrlKey:h,key:f,metaKey:p,shiftKey:m}=e,g=s6(d);if(u&&1===(null==o?void 0:o.length)&&o.includes(f))return!0;if(!(null==o?void 0:o.includes(g))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(g))return!1;if(!r){if(n!==c&&"alt"!==g)return!1;if(l!==m&&"shift"!==g)return!1;if(a){if(!p&&!h)return!1}else{if(s!==p&&"meta"!==g&&"os"!==g)return!1;if(i!==h&&"ctrl"!==g&&"control"!==g)return!1}}return!(!o||1!==o.length||!o.includes(g))||(o?function(e,t=","){return(c6(e)?e:e.split(t)).every((e=>u6.has(e.trim().toLowerCase())))}(o):!o)},b6=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},_6="undefined"==typeof window?G.useEffect:G.useLayoutEffect;function w6(e,t,r,n){const[i,o]=G.useState(null),s=G.useRef(!1),a=Array.isArray(r)?Array.isArray(n)?void 0:n:r,l=G.useMemo((()=>Array.isArray(e)&&e.length>0&&Array.isArray(e[0])?e.map((e=>e.map((e=>e.toString())).join((null==a?void 0:a.splitKey)||"+"))).join((null==a?void 0:a.delimiter)||","):Array.isArray(e)?e.join((null==a?void 0:a.delimiter)||","):e),[e,null==a?void 0:a.splitKey,null==a?void 0:a.delimiter]),u=Array.isArray(r)?r:Array.isArray(n)?n:void 0,c=G.useCallback(t,null!=u?u:[]),d=G.useRef(c);d.current=u?c:t;const h=g6(a),{activeScopes:f}=n6(),p=e6();return _6((()=>{if(!1===(null==h?void 0:h.enabled)||!function(e,t){return 0===e.length&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!t||e.some((e=>t.includes(e)))||e.includes("*")}(f,null==h?void 0:h.scopes))return;const e=(e,t=!1)=>{var r;if(!v6(e,["input","textarea","select"])||v6(e,null==h?void 0:h.enableOnFormTags)){if(null!==i){const t=i.getRootNode();if((t instanceof Document||t instanceof ShadowRoot)&&t.activeElement!==i&&!i.contains(t.activeElement))return void b6(e)}(null==(r=e.target)?void 0:r.isContentEditable)&&!(null==h?void 0:h.enableOnContentEditable)||a6(l,null==h?void 0:h.delimiter).forEach((r=>{var n,i,o;const a=l6(r,null==h?void 0:h.splitKey,null==h?void 0:h.useKey);if(y6(e,a,null==h?void 0:h.ignoreModifiers)||(null==(n=a.keys)?void 0:n.includes("*"))){if((null==(i=null==h?void 0:h.ignoreEventWhenPrevented)||i)&&e.defaultPrevented)return;if(null==(o=null==h?void 0:h.ignoreEventWhen)?void 0:o.call(h,e))return;if(t&&s.current)return;if(!function(e,t,r){return"function"==typeof r?r(e,t):!0===r||void 0===r}(e,a,null==h?void 0:h.enabled))return void b6(e);d.current(e,a),function(e,t,r){("function"==typeof r&&r(e,t)||!0===r)&&e.preventDefault()}(e,a,null==h?void 0:h.preventDefault),t||(s.current=!0)}}))}},t=t=>{void 0!==t.code&&(d6(s6(t.code)),(void 0===(null==h?void 0:h.keydown)&&!0!==(null==h?void 0:h.keyup)||(null==h?void 0:h.keydown))&&e(t))},r=t=>{void 0!==t.code&&(h6(s6(t.code)),s.current=!1,(null==h?void 0:h.keyup)&&e(t,!0))},n=i||(null==a?void 0:a.document)||document;return n.addEventListener("keyup",r),n.addEventListener("keydown",t),p&&a6(l,null==h?void 0:h.delimiter).forEach((e=>p.addHotkey(l6(e,null==h?void 0:h.splitKey,null==h?void 0:h.useKey,null==h?void 0:h.description)))),()=>{n.removeEventListener("keyup",r),n.removeEventListener("keydown",t),p&&a6(l,null==h?void 0:h.delimiter).forEach((e=>p.removeHotkey(l6(e,null==h?void 0:h.splitKey,null==h?void 0:h.useKey,null==h?void 0:h.description))))}}),[i,l,h,f]),o}var x6="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),E6=e=>{return!((e=>void 0===e)(t=e)||(e=>null===e)(t));var t};function C6(e,t){return(...r)=>e(t,...r)}let A6=0;function D6(e,t){const r="atom"+ ++A6,n={toString:()=>r};return"function"==typeof e?n.read=e:(n.init=e,n.read=T6,n.write=S6),t&&(n.write=t),n}function T6(e){return e(this)}function S6(e,t,r){return t(this,"function"==typeof r?r(e(this)):r)}const k6=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,P6=e=>"init"in e,R6=e=>!!e.write,O6=new WeakMap,B6=(e,t)=>{const r=O6.get(e);r&&(O6.delete(e),r(t))},M6=(e,t)=>{e.status="fulfilled",e.value=t},F6=(e,t)=>{e.status="rejected",e.reason=t},I6=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),N6=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),L6=e=>!!e&&"v"in e&&e.v instanceof Promise,j6=e=>{if("e"in e)throw e.e;return e.v},U6=()=>{const e=new WeakMap,t=new WeakMap,r=[],n=new WeakMap,i=t=>e.get(t),o=(e,t)=>{t.d.forEach(((t,r)=>{if(!n.has(r)){const e=i(r);n.set(r,[e,new Set]),e&&o(r,e)}n.get(r)[1].add(e)}))},s=(t,s)=>{var a;const l=i(t);if(e.set(t,s),null==(a=r[r.length-1])||a.add(t),n.has(t)||(n.set(t,[l,new Set]),o(t,s)),L6(l)){const e="v"in s?s.v instanceof Promise?s.v:Promise.resolve(s.v):Promise.reject(s.e);l.v!==e&&B6(l.v,e)}},a=(e,t,r,n)=>{const i=new Map(n?t.d:null);let o=!1;r.forEach(((r,n)=>{!r&&k6(e,n)&&(r=t),r&&(i.set(n,r),t.d.get(n)!==r&&(o=!0))})),(o||t.d.size!==i.size)&&(t.d=i)},l=(e,t,r,n)=>{const o=i(e),l={d:(null==o?void 0:o.d)||new Map,v:t};if(r&&a(e,l,r,n),I6(o,l)&&o.d===l.d)return o;if(L6(o)&&L6(l)&&((e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig)(o,l)){if(o.d===l.d)return o;l.v=o.v}return s(e,l),l},u=(e,r,n,o)=>{if((e=>"function"==typeof(null==e?void 0:e.then))(r)){let s;const a=()=>{const r=i(e);if(!L6(r)||r.v!==u)return;const o=l(e,u,n);t.has(e)&&r.d!==o.d&&v(e,o,r.d)},u=new Promise(((e,t)=>{let n=!1;r.then((t=>{n||(n=!0,M6(u,t),e(t),a())}),(e=>{n||(n=!0,F6(u,e),t(e),a())})),s=t=>{n||(n=!0,t.then((e=>M6(u,e)),(e=>F6(u,e))),e(t))}}));return u.orig=r,u.status="pending",((e,t)=>{O6.set(e,t),e.catch((()=>{})).finally((()=>O6.delete(e)))})(u,(e=>{e&&(s(e),null==o||o())})),l(e,u,n,!0)}return l(e,r,n)},c=(e,r)=>{const n=i(e);if(!(null==r?void 0:r(e))&&n){if(t.has(e))return n;if(Array.from(n.d).every((([t,n])=>{if(t===e)return!0;const i=c(t,r);return i===n||I6(i,n)})))return n}const o=new Map;let l=!0;const d=t=>{if(k6(e,t)){const e=i(t);if(e)return o.set(t,e),j6(e);if(P6(t))return o.set(t,void 0),t.init;throw new Error("no atom init")}const n=c(t,r);return o.set(t,n),j6(n)};let h,f;const m={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){return!f&&R6(e)&&(f=(...t)=>{if(!l)return p(e,...t)}),f}};try{const t=e.read(d,m);return u(e,t,o,(()=>null==h?void 0:h.abort()))}catch(g){return((e,t,r)=>{const n=i(e),o={d:(null==n?void 0:n.d)||new Map,e:t};return r&&a(e,o,r),N6(n,o)&&n.d===o.d?n:(s(e,o),o)})(e,g,o)}finally{l=!1}},d=e=>j6(c(e)),h=e=>{const r=new Array,s=new Set,a=e=>{if(!s.has(e)){s.add(e);for(const r of(e=>{var r,i;const o=new Set(null==(r=t.get(e))?void 0:r.t);return null==(i=n.get(e))||i[1].forEach((e=>{o.add(e)})),o})(e))e!==r&&a(r);r.push(e)}};a(e);const l=new Set([e]),u=e=>s.has(e);for(let t=r.length-1;t>=0;--t){const e=r[t],n=i(e);if(!n)continue;let a=!1;for(const t of n.d.keys())if(t!==e&&l.has(t)){a=!0;break}if(a){const t=c(e,u);o(e,t),I6(n,t)||l.add(e)}s.delete(e)}},f=(e,...t)=>{const n=e.write((e=>j6(c(e))),((t,...n)=>{const o=r.length>0;let s;if(o||r.push(new Set([t])),k6(e,t)){if(!P6(t))throw new Error("atom not writable");const e=i(t),r=u(t,n[0]);I6(e,r)||h(t)}else s=f(t,...n);return o||y(r.pop()),s}),...t);return n},p=(e,...t)=>{r.push(new Set([e]));const n=f(e,...t);return y(r.pop()),n},m=(e,r,n)=>{var o;const s=t.get(e);if(s)return r&&s.t.add(r),s;const a=n||[];null==(o=i(e))||o.d.forEach(((t,r)=>{r!==e&&m(r,e,a)})),c(e);const l={t:new Set(r&&[r]),l:new Set};if(t.set(e,l),R6(e)&&e.onMount){const{onMount:t}=e;a.push((()=>{const r=t(((...t)=>p(e,...t)));r&&(l.u=r)}))}return n||a.forEach((e=>e())),l},g=(e,r)=>{if(!((e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)))(e,r))return;const n=r.u;n&&n(),t.delete(e);const o=i(e);o&&(L6(o)&&B6(o.v),o.d.forEach(((r,n)=>{if(n!==e){const r=t.get(n);r&&(r.t.delete(e),g(n,r))}})))},v=(e,r,n)=>{const i=new Set(r.d.keys()),o=new Set;null==n||n.forEach(((r,n)=>{if(i.has(n))return void i.delete(n);o.add(n);const s=t.get(n);s&&s.t.delete(e)})),i.forEach((t=>{m(t,e)})),o.forEach((e=>{const r=t.get(e);r&&g(e,r)}))},y=e=>{const r=[],o=e=>{var t;if(!n.has(e))return;const[s,a]=n.get(e);n.delete(e),r.push([e,s]),a.forEach(o),null==(t=i(e))||t.d.forEach(((e,t)=>o(t)))};e.forEach(o),r.forEach((([e,r])=>{const n=i(e);if(n&&n!==r){const i=t.get(e);i&&n.d!==(null==r?void 0:r.d)&&v(e,n,null==r?void 0:r.d),i&&(L6(r)||!I6(r,n)&&!N6(r,n))&&i.l.forEach((e=>e()))}}))},b=(e,t)=>{const r=m(e),n=(y([e]),r.l);return n.add(t),()=>{n.delete(t),g(e,r)}};return{get:d,set:p,sub:b}};let z6;Symbol("");const V6=U6,G6=()=>(z6||(z6=U6()),z6),H6=G.createContext(void 0),W6=e=>{const t=G.useContext(H6);return(null==e?void 0:e.store)||t||G6()},$6=e=>"function"==typeof(null==e?void 0:e.then),X6=H.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)});function q6(e,t){const r=W6(t),[[n,i,o],s]=G.useReducer((t=>{const n=r.get(e);return Object.is(t[0],n)&&t[1]===r&&t[2]===e?t:[n,r,e]}),void 0,(()=>[r.get(e),r,e]));let a=n;i===r&&o===e||(s(),a=r.get(e));const l=null==t?void 0:t.delay;return G.useEffect((()=>{const t=r.sub(e,(()=>{"number"!=typeof l?s():setTimeout(s,l)}));return s(),t}),[r,e,l]),G.useDebugValue(a),$6(a)?X6(a):a}function K6(e,t){const r=W6(t);return G.useCallback(((...t)=>r.set(e,...t)),[r,e])}const Y6=new WeakMap,Z6=e=>{let t=Y6.get(e);return t||(t=new WeakSet,Y6.set(e,t)),t};var Q6=Object.defineProperty,J6=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,t7=Object.getOwnPropertySymbols,r7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,i7=(e,t,r)=>t in e?Q6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o7=(e,t)=>{for(var r in t||(t={}))r7.call(t,r)&&i7(e,r,t[r]);if(t7)for(var r of t7(t))n7.call(t,r)&&i7(e,r,t[r]);return e},s7=(e,t)=>J6(e,e7(t)),a7=(e,t)=>{var r={};for(var n in e)r7.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&t7)for(var n of t7(e))t.indexOf(n)<0&&n7.call(e,n)&&(r[n]=e[n]);return r},l7=e=>"function"==typeof e?{__fn:e}:e,u7=e=>{const t=D6(l7(e));return D6((e=>{return(r=e(t))&&"object"==typeof r&&"__fn"in r?r.__fn:r;var r}),((e,r,n)=>r(t,l7(n))))},c7=(e,t,r={})=>{const n=[];for(const i of Object.keys(e)){const r=t[i];void 0!==r&&n.push([e[i],r])}!function(e,t){const r=W6(t),n=Z6(r);for(const[i,o]of e)n.has(i)&&!(null==t?void 0:t.dangerouslyForceHydrate)||(n.add(i),r.set(i,o))}(n,r)},d7=(e,t)=>`${e}:${t}`,h7="provider",f7=H.createContext(new Map),p7=e=>{var t=e,{initialValues:r,children:n,store:i,atoms:o}=t,s=a7(t,["initialValues","children","store","atoms"]);return c7(o,o7(o7({},r),s),{store:i}),((e,t,{store:r}={})=>{for(const n of Object.keys(e)){const i=t[n],o=K6(e[n],{store:r});H.useEffect((()=>{null!=i&&o(i)}),[o,i])}})(o,s,{store:i}),H.createElement(H.Fragment,null,n)},m7=(e="")=>e.length>0?e[0].toUpperCase()+e.slice(1):"",g7=(e,t)=>Object.fromEntries(Object.entries(e).map((([e,r])=>[e,(e={})=>r(o7(o7({},t),e))]))),v7=(e={})=>"string"==typeof e?{scope:e}:e,y7=(e,{name:t,delay:r,effect:n,extend:i})=>{const o=((e="")=>`${m7(e)}Provider`)(t),s=((e="")=>`use${m7(e)}Store`)(t),a=((e="")=>e.length>0?`${e}Store`:"store")(t),l={},u={},c={};for(const[w,x]of Object.entries(e)){const e=(d=x)&&"object"==typeof d&&"read"in d&&"function"==typeof d.read?x:u7(x);l[w]=e;const t="write"in e;c[w]=t,t&&(u[w]=e)}var d;const h=o7({},l);if(i){const e=i(l);for(const[t,r]of Object.entries(e))h[t]=r,c[t]="write"in r}const f={},p={},m={},g=(e={})=>{const{scope:r,store:n,warnIfNoStore:i=!0}=v7(e),o=((e,t=h7,r=!0)=>{var n;const i=H.useContext(f7),o=null!=(n=i.get(d7(e,t)))?n:i.get(d7(e,h7));return!o&&r&&console.warn(`Tried to access jotai store '${e}' outside of a matching provider.`),o})(t,r,!n&&i);return null!=n?n:o},v=(e,t)=>{var n;const i=v7(t);return q6(e,{store:g(o7({warnIfNoStore:!1},i)),delay:null!=(n=i.delay)?n:r})},y=(e,t)=>K6(e,{store:g(t)}),b=(e,t)=>{const n=g(t),{delay:i=r}=v7(t);return function(e,t){return[q6(e,t),K6(e,t)]}(e,{store:n,delay:i})};for(const w of Object.keys(h)){const e=h[w],t=c[w];f[w]=(t={})=>v(e,t),t&&(p[w]=(t={})=>y(e,t),m[w]=(t={})=>b(e,t))}const _=((e,t,r={})=>{const n=r.effect;return r=>{var i=r,{store:o,scope:s,children:a,resetKey:l}=i,u=a7(i,["store","scope","children","resetKey"]);const[c,d]=H.useState(V6());H.useEffect((()=>{l&&d(V6())}),[l]);const h=H.useContext(f7),f=H.useMemo((()=>{const t=new Map(h);return s&&t.set(d7(e,s),c),t.set(d7(e,h7),c),t}),[h,s,c]);return H.createElement(f7.Provider,{value:f},H.createElement(p7,o7({store:c,atoms:t},u),!!n&&H.createElement(n,null),a))}})(t,u,{effect:n});return{[o]:_,[s]:(e={})=>({get:s7(o7({},g7(f,v7(e))),{atom:(t,r)=>v(t,o7(o7({},v7(e)),v7(r)))}),set:s7(o7({},g7(p,v7(e))),{atom:(t,r)=>y(t,o7(o7({},v7(e)),v7(r)))}),use:s7(o7({},g7(m,v7(e))),{atom:(t,r)=>b(t,o7(o7({},v7(e)),v7(r)))}),store:t=>g(o7(o7({},v7(e)),v7(t)))}),[a]:{atom:h,name:t},name:t}};
/*!
			 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
			 *
			 * Copyright (c) 2014-2017, Jon Schlinkert.
			 * Released under the MIT License.
			 */
function b7(e){return"[object Object]"===Object.prototype.toString.call(e)}function _7(e){var t,r;return!1!==b7(e)&&(void 0===(t=e.constructor)||!1!==b7(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}var w7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=R7.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},x7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=o9.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},E7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=H7.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},C7=new WeakMap,A7=new WeakMap,D7=new WeakMap,T7=new WeakMap,S7=new WeakMap,k7=new WeakMap,P7=new WeakMap,R7={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=R7.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var i=e[n];if(i!==t[n])break;r.push(i)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),i=t.slice(0,r),o=e[r],s=t[r];return R7.equals(n,i)&&o>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),i=t.slice(0,r);return R7.equals(n,i)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),i=t.slice(0,r),o=e[r],s=t[r];return R7.equals(n,i)&&o<s},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===R7.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===R7.compare(e,t),isBefore:(e,t)=>-1===R7.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===R7.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===R7.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===R7.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===R7.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&R7.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],i=0;i<=e.length;i++)n.push(e.slice(0,i));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!R7.isAncestor(t,e)&&!R7.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:i="forward"}=r;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:o}=t;(R7.equals(o,n)||R7.endsBefore(o,n)||R7.isAncestor(o,n))&&(n[o.length-1]+=1);break;case"remove_node":var{path:s}=t;if(R7.equals(s,n)||R7.isAncestor(s,n))return null;R7.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var{path:a,position:l}=t;R7.equals(a,n)||R7.endsBefore(a,n)?n[a.length-1]-=1:R7.isAncestor(a,n)&&(n[a.length-1]-=1,n[a.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(R7.equals(u,n)){if("forward"===i)n[n.length-1]+=1;else if("backward"!==i)return null}else R7.endsBefore(u,n)?n[u.length-1]+=1:R7.isAncestor(u,n)&&e[u.length]>=c&&(n[u.length-1]+=1,n[u.length]-=c);break;case"move_node":var{path:d,newPath:h}=t;if(R7.equals(d,h))return n;if(R7.isAncestor(d,n)||R7.equals(d,n)){var f=h.slice();return R7.endsBefore(d,h)&&d.length<h.length&&(f[d.length-1]-=1),f.concat(n.slice(d.length))}R7.isSibling(d,h)&&(R7.isAncestor(h,n)||R7.equals(h,n))?R7.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:R7.endsBefore(h,n)||R7.equals(h,n)||R7.isAncestor(h,n)?(R7.endsBefore(d,n)&&(n[d.length-1]-=1),n[h.length-1]+=1):R7.endsBefore(d,n)&&(R7.equals(h,n)&&(n[h.length-1]+=1),n[d.length-1]-=1)}return n}};function O7(e){return O7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O7(e)}function B7(e){var t=function(e,t){if("object"!==O7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O7(t)?t:String(t)}function M7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F7(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N7={transform(e,t){e.children=zL(e.children);var r=e.selection&&zL(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:i}=r,o=Y7.parent(e,n),s=n[n.length-1];if(s>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(s,0,i),t)for(var[a,l]of H7.points(t))t[l]=o9.transform(a,r);break;case"insert_text":var{path:u,offset:c,text:d}=r;if(0===d.length)break;var h=Y7.leaf(e,u),f=h.text.slice(0,c),p=h.text.slice(c);if(h.text=f+d+p,t)for(var[m,g]of H7.points(t))t[g]=o9.transform(m,r);break;case"merge_node":var{path:v}=r,y=Y7.get(e,v),b=R7.previous(v),_=Y7.get(e,b),w=Y7.parent(e,v),x=v[v.length-1];if(f9.isText(y)&&f9.isText(_))_.text+=y.text;else{if(f9.isText(y)||f9.isText(_))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interfaces: ").concat(a9.stringify(y)," ").concat(a9.stringify(_)));_.children.push(...y.children)}if(w.children.splice(x,1),t)for(var[E,C]of H7.points(t))t[C]=o9.transform(E,r);break;case"move_node":var{path:A,newPath:D}=r;if(R7.isAncestor(A,D))throw new Error("Cannot move a path [".concat(A,"] to new path [").concat(D,"] because the destination is inside itself."));var T=Y7.get(e,A),S=Y7.parent(e,A),k=A[A.length-1];S.children.splice(k,1);var P=R7.transform(A,r),R=Y7.get(e,R7.parent(P)),O=P[P.length-1];if(R.children.splice(O,0,T),t)for(var[B,M]of H7.points(t))t[M]=o9.transform(B,r);break;case"remove_node":var{path:F}=r,I=F[F.length-1];if(Y7.parent(e,F).children.splice(I,1),t)for(var[N,L]of H7.points(t)){var j=o9.transform(N,r);if(null!=t&&null!=j)t[L]=j;else{var U=void 0,z=void 0;for(var[V,G]of Y7.texts(e)){if(-1!==R7.compare(G,F)){z=[V,G];break}U=[V,G]}var H=!1;U&&z&&(H=R7.equals(z[1],F)?!R7.hasPrevious(z[1]):R7.common(U[1],F).length<R7.common(z[1],F).length),U&&!H?(N.path=U[1],N.offset=U[0].text.length):z?(N.path=z[1],N.offset=0):t=null}}break;case"remove_text":var{path:W,offset:$,text:X}=r;if(0===X.length)break;var q=Y7.leaf(e,W),K=q.text.slice(0,$),Y=q.text.slice($+X.length);if(q.text=K+Y,t)for(var[Z,Q]of H7.points(t))t[Q]=o9.transform(Z,r);break;case"set_node":var{path:J,properties:ee,newProperties:te}=r;if(0===J.length)throw new Error("Cannot set properties on the root node!");var re=Y7.get(e,J);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var ie=te[ne];null==ie?delete re[ne]:re[ne]=ie}for(var oe in ee)te.hasOwnProperty(oe)||delete re[oe];break;case"set_selection":var{newProperties:se}=r;if(null==se)t=se;else{if(null==t){if(!H7.isRange(se))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(a9.stringify(se)," when there is no current selection."));t=I7({},se)}for(var ae in se){var le=se[ae];if(null==le){if("anchor"===ae||"focus"===ae)throw new Error('Cannot remove the "'.concat(ae,'" selection property'));delete t[ae]}else t[ae]=le}}break;case"split_node":var{path:ue,position:ce,properties:de}=r;if(0===ue.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ue,"] because the root node cannot be split."));var he,fe=Y7.get(e,ue),pe=Y7.parent(e,ue),me=ue[ue.length-1];if(f9.isText(fe)){var ge=fe.text.slice(0,ce),ve=fe.text.slice(ce);fe.text=ge,he=I7(I7({},de),{},{text:ve})}else{var ye=fe.children.slice(0,ce),be=fe.children.slice(ce);fe.children=ye,he=I7(I7({},de),{},{children:be})}if(pe.children.splice(me+1,0,he),t)for(var[_e,we]of H7.points(t))t[we]=o9.transform(_e,r)}return t})(e,r,t)}finally{e.children=VL(e.children),e.selection=r?tL(r)?VL(r):r:null}}},L7={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},j7={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},U7=(e,t)=>{for(var r in e){var n=e[r],i=t[r];if(_7(n)&&_7(i)){if(!U7(n,i))return!1}else if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==i[o])return!1}else if(n!==i)return!1}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0};function z7(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var V7=["anchor","focus"];function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var H7={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:i}=e;return H7.isBackward(e)===r?[n,i]:[i,n]},end(e){var[,t]=H7.edges(e);return t},equals:(e,t)=>o9.equals(e.anchor,t.anchor)&&o9.equals(e.focus,t.focus),includes(e,t){if(H7.isRange(t)){if(H7.includes(e,t.anchor)||H7.includes(e,t.focus))return!0;var[r,n]=H7.edges(e),[i,o]=H7.edges(t);return o9.isBefore(r,i)&&o9.isAfter(n,o)}var[s,a]=H7.edges(e),l=!1,u=!1;return o9.isPoint(t)?(l=o9.compare(t,s)>=0,u=o9.compare(t,a)<=0):(l=R7.compare(t,s.path)>=0,u=R7.compare(t,a.path)<=0),l&&u},intersection(e,t){var r=z7(e,V7),[n,i]=H7.edges(e),[o,s]=H7.edges(t),a=o9.isBefore(n,o)?o:n,l=o9.isBefore(i,s)?i:s;return o9.isBefore(l,a)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G7(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:a,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return o9.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return o9.equals(t,r)},isExpanded:e=>!H7.isCollapsed(e),isForward:e=>!H7.isBackward(e),isRange:e=>_7(e)&&o9.isPoint(e.anchor)&&o9.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=H7.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return jL(e,(e=>{if(null===e)return null;var n,i,{affinity:o="inward"}=r;if("inward"===o){var s=H7.isCollapsed(e);H7.isForward(e)?(n="forward",i=s?n:"backward"):(n="backward",i=s?n:"forward")}else"outward"===o?H7.isForward(e)?(n="backward",i="forward"):(n="forward",i="backward"):(n=o,i=o);var a=o9.transform(e.anchor,t,{affinity:n}),l=o9.transform(e.focus,t,{affinity:i});if(!a||!l)return null;e.anchor=a,e.focus=l}))}},W7=e=>_7(e)&&Y7.isNodeList(e.children)&&!t9.isEditor(e),$7={isAncestor:e=>_7(e)&&Y7.isNodeList(e.children),isElement:W7,isElementList:e=>Array.isArray(e)&&e.every((e=>$7.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return W7(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},X7=["children"],q7=["text"],K7=new WeakMap,Y7={ancestor(e,t){var r=Y7.get(e,t);if(f9.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(a9.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of R7.ancestors(t,r)){var i=[Y7.ancestor(e,n),n];yield i}}()},child(e,t){if(f9.isText(e))throw new Error("Cannot get the child of a text node: ".concat(a9.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(a9.stringify(e)));return r},children(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,i=Y7.ancestor(e,t),{children:o}=i,s=n?o.length-1:0;n?s>=0:s<o.length;){var a=Y7.child(i,s),l=t.concat(s);yield[a,l],s=n?s-1:s+1}}()},common(e,t,r){var n=R7.common(t,r);return[Y7.get(e,n),n]},descendant(e,t){var r=Y7.get(e,t);if(t9.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(a9.stringify(r)));return r},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of Y7.nodes(e,t))0!==n.length&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of Y7.nodes(e,t))$7.isElement(r)&&(yield[r,n])}()},extractProps:e=>$7.isAncestor(e)?z7(e,X7):z7(e,q7),first(e,t){for(var r=t.slice(),n=Y7.get(e,r);n&&!f9.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(f9.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(a9.stringify(e)));var r=jL({children:e.children},(e=>{var[r,n]=H7.edges(t),i=Y7.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!H7.includes(t,r)}});for(var[,o]of i){if(!H7.includes(t,o)){var s=Y7.parent(e,o),a=o[o.length-1];s.children.splice(a,1)}if(R7.equals(o,n.path)){var l=Y7.leaf(e,o);l.text=l.text.slice(0,n.offset)}if(R7.equals(o,r.path)){var u=Y7.leaf(e,o);u.text=u.text.slice(r.offset)}}t9.isEditor(e)&&(e.selection=null)}));return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(f9.isText(r)||!r.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(a9.stringify(e)));r=r.children[i]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(f9.isText(r)||!r.children[i])return!1;r=r.children[i]}return!0},isNode:e=>f9.isText(e)||$7.isElement(e)||t9.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=K7.get(e);if(void 0!==t)return t;var r=e.every((e=>Y7.isNode(e)));return K7.set(e,r),r},last(e,t){for(var r=t.slice(),n=Y7.get(e,r);n&&!f9.isText(n)&&0!==n.children.length;){var i=n.children.length-1;n=n.children[i],r.push(i)}return[n,r]},leaf(e,t){var r=Y7.get(e,t);if(!f9.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(a9.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of R7.levels(t,r)){var i=Y7.get(e,n);yield[i,n]}}()},matches:(e,t)=>$7.isElement(e)&&$7.isElementProps(t)&&$7.matches(e,t)||f9.isText(e)&&f9.isTextProps(t)&&f9.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:i=[],to:o}=t,s=new Set,a=[],l=e;!o||!(n?R7.isBefore(a,o):R7.isAfter(a,o));)if(s.has(l)||(yield[l,a]),s.has(l)||f9.isText(l)||0===l.children.length||null!=r&&!1!==r([l,a])){if(0===a.length)break;if(!n){var u=R7.next(a);if(Y7.has(e,u)){a=u,l=Y7.get(e,a);continue}}n&&0!==a[a.length-1]?(a=R7.previous(a),l=Y7.get(e,a)):(a=R7.parent(a),l=Y7.get(e,a),s.add(l))}else{s.add(l);var c=n?l.children.length-1:0;R7.isAncestor(a,i)&&(c=i[a.length]),a=a.concat(c),l=Y7.get(e,a)}}()},parent(e,t){var r=R7.parent(t),n=Y7.get(e,r);if(f9.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>f9.isText(e)?e.text:e.children.map(Y7.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of Y7.nodes(e,t))f9.isText(r)&&(yield[r,n])}()}};function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z7(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J7={isNodeOperation:e=>J7.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!_7(e))return!1;switch(e.type){case"insert_node":case"remove_node":return R7.isPath(e.path)&&Y7.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&R7.isPath(e.path);case"merge_node":return"number"==typeof e.position&&R7.isPath(e.path)&&_7(e.properties);case"move_node":return R7.isPath(e.path)&&R7.isPath(e.newPath);case"set_node":return R7.isPath(e.path)&&_7(e.properties)&&_7(e.newProperties);case"set_selection":return null===e.properties&&H7.isRange(e.newProperties)||null===e.newProperties&&H7.isRange(e.properties)||_7(e.properties)&&_7(e.newProperties);case"split_node":return R7.isPath(e.path)&&"number"==typeof e.position&&_7(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>J7.isOperation(e))),isSelectionOperation:e=>J7.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>J7.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Q7(Q7({},e),{},{type:"remove_node"});case"insert_text":return Q7(Q7({},e),{},{type:"remove_text"});case"merge_node":return Q7(Q7({},e),{},{type:"split_node",path:R7.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(R7.equals(t,r))return e;if(R7.isSibling(r,t))return Q7(Q7({},e),{},{path:t,newPath:r});var n=R7.transform(r,e),i=R7.transform(R7.next(r),e);return Q7(Q7({},e),{},{path:n,newPath:i});case"remove_node":return Q7(Q7({},e),{},{type:"insert_node"});case"remove_text":return Q7(Q7({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:s}=e;return Q7(Q7({},e),{},{properties:s,newProperties:o});case"set_selection":var{properties:a,newProperties:l}=e;return Q7(Q7({},e),{},null==a?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:a}:{properties:l,newProperties:a});case"split_node":return Q7(Q7({},e),{},{type:"merge_node",path:R7.next(e.path)})}}},e9=new WeakMap,t9={above:(e,t)=>e.above(t),addMark(e,t,r){e.addMark(t,r)},after:(e,t,r)=>e.after(t,r),before:(e,t,r)=>e.before(t,r),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,r)=>e.isEdge(t,r),isEditor:e=>(e=>{var t=e9.get(e);if(void 0!==t)return t;if(!_7(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||_7(e.marks))&&(null===e.selection||H7.isRange(e.selection))&&Y7.isNodeList(e.children)&&J7.isOperationList(e.operations);return e9.set(e,r),r})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,r)=>e.isEnd(t,r),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,r)=>e.isStart(t,r),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,r)=>e.leaf(t,r),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,r)=>e.node(t,r),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,r)=>e.parent(t,r),path:(e,t,r)=>e.path(t,r),pathRef:(e,t,r)=>e.pathRef(t,r),pathRefs:e=>e.pathRefs(),point:(e,t,r)=>e.point(t,r),pointRef:(e,t,r)=>e.pointRef(t,r),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,r)=>e.range(t,r),rangeRef:(e,t,r)=>e.rangeRef(t,r),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,r)=>e.string(t,r),unhangRange:(e,t,r)=>e.unhangRange(t,r),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)},r9={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(R7.isPath)};function n9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o9={compare(e,t){var r=R7.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===o9.compare(e,t),isBefore:(e,t)=>-1===o9.compare(e,t),equals:(e,t)=>e.offset===t.offset&&R7.equals(e.path,t.path),isPoint:e=>_7(e)&&"number"==typeof e.offset&&R7.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return jL(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=R7.transform(i,t,r);break;case"insert_text":R7.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":R7.equals(t.path,i)&&(e.offset+=t.position),e.path=R7.transform(i,t,r);break;case"remove_text":R7.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(R7.equals(t.path,i)||R7.isAncestor(t.path,i))return null;e.path=R7.transform(i,t,r);break;case"split_node":if(R7.equals(t.path,i)){if(t.position===o&&null==n)return null;(t.position<o||t.position===o&&"forward"===n)&&(e.offset-=t.position,e.path=R7.transform(i,t,i9(i9({},r),{},{affinity:"forward"})))}else e.path=R7.transform(i,t,r)}}))}},s9=void 0,a9={setScrubber(e){s9=e},stringify:e=>JSON.stringify(e,s9)},l9=["text"],u9=["anchor","focus"];function c9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h9,f9={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function i(e){return z7(e,l9)}return U7(n?i(e):e,n?i(t):t)},isText:e=>_7(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>f9.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[d9({},e)];for(var n of t){var i=z7(n,u9),[o,s]=H7.edges(n),a=[],l=0,u=o.offset,c=s.offset;for(var d of r){var{length:h}=d.text,f=l;if(l+=h,u<=f&&l<=c)Object.assign(d,i),a.push(d);else if(u!==c&&(u===l||c===f)||u>l||c<f||c===f&&0!==f)a.push(d);else{var p=d,m=void 0,g=void 0;if(c<l){var v=c-f;g=d9(d9({},p),{},{text:p.text.slice(v)}),p=d9(d9({},p),{},{text:p.text.slice(0,v)})}if(u>f){var y=u-f;m=d9(d9({},p),{},{text:p.text.slice(0,y)}),p=d9(d9({},p),{},{text:p.text.slice(y)})}Object.assign(p,i),m&&a.push(m),a.push(p),g&&a.push(g)}}r=a}return r}},p9=e=>e.selection?e.selection:e.children.length>0?t9.end(e,[]):[0],m9=(e,t)=>{var[r]=t9.node(e,t);return e=>e===r},g9=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!t,n=t?x9(e):e,i=h9.None,o=h9.None,s=0,a=null;for(var l of n){var u=l.codePointAt(0);if(!u)break;var c=M9(l,u);if([i,o]=r?[o,c]:[c,i],F9(i,h9.ZWJ)&&F9(o,h9.ExtPict)&&!j9(r?e.substring(0,s):e.substring(0,e.length-s)))break;if(F9(i,h9.RI)&&F9(o,h9.RI)&&!(a=null!==a?!a:!!r||z9(e.substring(0,e.length-s))))break;if(i!==h9.None&&o!==h9.None&&N9(i,o))break;s+=l.length}return s||1},v9=/\s/,y9=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,b9=/['\u2018\u2019]/,_9=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},w9=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(v9.test(t))return!1;if(b9.test(t)){var i=g9(r,n),[o,s]=_9(r,i,n);if(e(o,s,n))return!0}return!y9.test(t)},x9=function*(e){for(var t=e.length-1,r=0;r<e.length;r++){var n=e.charAt(t-r);if(C9(n.charCodeAt(0))){var i=e.charAt(t-r-1);if(E9(i.charCodeAt(0))){yield i+n,r++;continue}}yield n}},E9=e=>e>=55296&&e<=56319,C9=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(h9||(h9={}));var A9=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,D9=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,T9=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,S9=/^[\u1100-\u115F\uA960-\uA97C]$/,k9=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,P9=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,R9=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,O9=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,B9=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,M9=(e,t)=>{var r=h9.Any;return-1!==e.search(A9)&&(r|=h9.Extend),8205===t&&(r|=h9.ZWJ),t>=127462&&t<=127487&&(r|=h9.RI),-1!==e.search(D9)&&(r|=h9.Prepend),-1!==e.search(T9)&&(r|=h9.SpacingMark),-1!==e.search(S9)&&(r|=h9.L),-1!==e.search(k9)&&(r|=h9.V),-1!==e.search(P9)&&(r|=h9.T),-1!==e.search(R9)&&(r|=h9.LV),-1!==e.search(O9)&&(r|=h9.LVT),-1!==e.search(B9)&&(r|=h9.ExtPict),r};function F9(e,t){return 0!=(e&t)}var I9=[[h9.L,h9.L|h9.V|h9.LV|h9.LVT],[h9.LV|h9.V,h9.V|h9.T],[h9.LVT|h9.T,h9.T],[h9.Any,h9.Extend|h9.ZWJ],[h9.Any,h9.SpacingMark],[h9.Prepend,h9.Any],[h9.ZWJ,h9.ExtPict],[h9.RI,h9.RI]];function N9(e,t){return-1===I9.findIndex((r=>F9(e,r[0])&&F9(t,r[1])))}var L9=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,j9=e=>-1!==e.search(L9),U9=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,z9=e=>{var t=e.match(U9);return null!==t&&t[0].length/2%2==1},V9={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t9.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:i=p9(e)}=r;if(R7.isPath(i)&&(i=t9.range(e,i)),H7.isRange(i))if(H7.isCollapsed(i))i=i.anchor;else{var o=H7.end(i);if(!n&&t9.void(e,{at:o}))return;var s=H7.start(i),a=t9.pointRef(e,s),l=t9.pointRef(e,o);W9.delete(e,{at:i,voids:n});var u=a.unref(),c=l.unref();i=u||c,W9.setSelection(e,{anchor:i,focus:i})}if(!(!n&&t9.void(e,{at:i})||t9.elementReadOnly(e,{at:i}))){var{path:d,offset:h}=i;t.length>0&&e.apply({type:"insert_text",path:d,offset:h,text:t})}}))}};function G9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W9=H9(H9(H9(H9({},N7),L7),j7),V9),$9=new WeakMap;function X9(e,t,r){var n,i,o=C7.get(e)||[],s=A7.get(e)||new Set,a=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),n.push(e))}};if(r)for(var l of(n=[],i=new Set,o))a(r(l));else n=o,i=s;for(var u of t)a(u);C7.set(e,n),A7.set(e,i)}var q9=(e,t)=>{for(var r of t9.pathRefs(e))w7.transform(r,t);for(var n of t9.pointRefs(e))x7.transform(n,t);for(var i of t9.rangeRefs(e))E7.transform(i,t);if(!(e=>$9.get(e)||!1)(e)){var o=R7.operationCanTransformPath(t)?e=>R7.transform(e,t):void 0;X9(e,e.getDirtyPaths(t),o)}W9.transform(e,t),e.operations.push(t),t9.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),D7.get(e)||(D7.set(e,!0),Promise.resolve().then((()=>{D7.set(e,!1),e.onChange({operation:t}),e.operations=[]})))};function K9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J9(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ree(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var see=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n,marks:i}=e;if(n){if(i){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({text:t},i);W9.insertNodes(e,o,{at:r.at,voids:r.voids})}else W9.insertText(e,t,r);e.marks=null}},aee=["text"],lee=["text"],uee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1,operation:n}=t,i=e=>C7.get(e)||[],o=e=>{var t=i(e).pop(),r=t.join(",");return(e=>A7.get(e)||new Set)(e).delete(r),t};if(t9.isNormalizing(e)){if(r){var s=Array.from(Y7.nodes(e),(e=>{var[,t]=e;return t})),a=new Set(s.map((e=>e.join(","))));C7.set(e,s),A7.set(e,a)}0!==i(e).length&&t9.withoutNormalizing(e,(()=>{for(var t of i(e))if(Y7.has(e,t)){var r=t9.node(e,t),[s,a]=r;$7.isElement(s)&&0===s.children.length&&e.normalizeNode(r,{operation:n})}for(var l=i(e),u=l.length,c=0;0!==l.length;){if(!e.shouldNormalize({dirtyPaths:l,iteration:c,initialDirtyPathsLength:u,operation:n}))return;var d=o(e);if(Y7.has(e,d)){var h=t9.node(e,d);e.normalizeNode(h,{operation:n})}c++,l=i(e)}}))}};function cee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,unit:n="offset",reverse:i=!1,voids:o=!1,ignoreNonSelectable:s=!1}=t;if(r){var a=t9.range(e,r),[l,u]=H7.edges(a),c=i?u:l,d=!1,h="",f=0,p=0,m=0;for(var[g,v]of t9.nodes(e,{at:r,reverse:i,voids:o,ignoreNonSelectable:s})){if($7.isElement(g)){if(!o&&(e.isVoid(g)||e.isElementReadOnly(g))){yield t9.start(e,v);continue}if(e.isInline(g))continue;if(t9.hasInlines(e,g)){var y=R7.isAncestor(v,u.path)?u:t9.end(e,v),b=R7.isAncestor(v,l.path)?l:t9.start(e,v);h=t9.string(e,{anchor:b,focus:y},{voids:o}),d=!0}}if(f9.isText(g)){var _=R7.equals(v,c.path);for(_?(p=i?c.offset:g.text.length-c.offset,m=c.offset):(p=g.text.length,m=i?p:0),(_||d||"offset"===n)&&(yield{path:v,offset:m},d=!1);;){if(0===f){if(""===h)break;f=w(h,n,i),h=_9(h,f,i)[1]}if(m=i?m-f:m+f,(p-=f)<0){f=-p;break}f=0,yield{path:v,offset:m}}}}}function w(e,t,r){return"character"===t?g9(e,r):"word"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=!1;e.length>0;){var i=g9(e,t),[o,s]=_9(e,i,t);if(w9(o,s,t))n=!0,r+=i;else{if(n)break;r+=i}e=s}return r}(e,r):"line"===t||"block"===t?e.length:1}}()}function dee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var hee=(e,t)=>{var{selection:r}=e;if(r){var n=(t,r)=>{if(!f9.isText(t))return!1;var[n,i]=t9.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},i=H7.isExpanded(r),o=!1;if(!i){var[s,a]=t9.node(e,r);if(s&&n(s,a)){var[l]=t9.parent(e,a);o=l&&e.markableVoid(l)}}if(i||o)W9.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t9.marks(e)||{});delete u[t],e.marks=u,D7.get(e)||e.onChange()}}},fee=(e,t)=>{var r=t9.isNormalizing(e);t9.setNormalizing(e,!1);try{t()}finally{t9.setNormalizing(e,r)}t9.normalize(e)};function pee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gee=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t9.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:i=!1,mode:o="lowest",batchDirty:s=!0}=r,{at:a,match:l,select:u}=r;if(Y7.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(a||(a=p9(e),!1!==u&&(u=!0)),null==u&&(u=!1),H7.isRange(a))if(n||(a=t9.unhangRange(e,a,{voids:i})),H7.isCollapsed(a))a=a.anchor;else{var[,d]=H7.edges(a),h=t9.pointRef(e,d);W9.delete(e,{at:a}),a=h.unref()}if(o9.isPoint(a)){null==l&&(l=f9.isText(c)?e=>f9.isText(e):e.isInline(c)?t=>f9.isText(t)||t9.isInline(e,t):t=>$7.isElement(t)&&t9.isBlock(e,t));var[f]=t9.nodes(e,{at:a.path,match:l,mode:o,voids:i});if(!f)return;var[,p]=f,m=t9.pathRef(e,p),g=t9.isEnd(e,a,p);W9.splitNodes(e,{at:a,match:l,mode:o,voids:i});var v=m.unref();a=g?R7.next(v):v}var y=R7.parent(a),b=a[a.length-1];if(i||!t9.void(e,{at:y})){if(s){var _=[],w=R7.levels(y);((e,t,r)=>{var n=$9.get(e)||!1;$9.set(e,!0);try{t(),r()}finally{$9.set(e,n)}})(e,(()=>{var r=function(){var t=y.concat(b);b++;var r={type:"insert_node",path:t,node:n};e.apply(r),a=R7.next(a),_.push(r),f9.isText?w.push(...Array.from(Y7.nodes(n),(e=>{var[,r]=e;return t.concat(r)}))):w.push(t)};for(var n of t)r()}),(()=>{X9(e,w,(e=>{var t=e;for(var r of _)if(R7.operationCanTransformPath(r)&&!(t=R7.transform(t,r)))return null;return t}))}))}else for(var x of t){var E=y.concat(b);b++,e.apply({type:"insert_node",path:E,node:x}),a=R7.next(a)}if(a=R7.previous(a),u){var C=t9.end(e,a);C&&W9.select(e,C)}}}}))},vee=["text"],yee=["children"],bee=(e,t)=>{if($7.isElement(t)){var r=t;return!!t9.isVoid(e,t)||1===r.children.length&&bee(e,r.children[0])}return!t9.isEditor(t)},_ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:i="lowest"}=t,{at:o=e.selection,match:s}=t;if(o){null==s&&(s=R7.isPath(o)?m9(e,o):t=>$7.isElement(t)&&t9.isBlock(e,t)),!r&&H7.isRange(o)&&(o=t9.unhangRange(e,o,{voids:n}));var a=t9.nodes(e,{at:o,match:s,mode:i,voids:n}),l=Array.from(a,(t=>{var[,r]=t;return t9.pathRef(e,r)}));for(var u of l){var c=u.unref();if(c){var[d]=t9.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}}))},wee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection,height:s=0,always:a=!1}=t;if(null==i&&(i=t=>$7.isElement(t)&&t9.isBlock(e,t)),H7.isRange(o)&&(o=((e,t)=>{if(H7.isCollapsed(t))return t.anchor;var[,r]=H7.edges(t),n=t9.pointRef(e,r);return W9.delete(e,{at:t}),n.unref()})(e,o)),R7.isPath(o)){var l=o,u=t9.point(e,l),[c]=t9.parent(e,l);i=e=>e===c,s=u.path.length-l.length+1,o=u,a=!0}if(o){var d,h=t9.pointRef(e,o,{affinity:"backward"});try{var[f]=t9.nodes(e,{at:o,match:i,mode:r,voids:n});if(!f)return;var p=t9.void(e,{at:o,mode:"highest"});if(!n&&p){var[m,g]=p;if($7.isElement(m)&&e.isInline(m)){var v=t9.after(e,g);if(!v){var y=R7.next(g);W9.insertNodes(e,{text:""},{at:y,voids:n}),v=t9.point(e,y)}o=v,a=!0}s=o.path.length-g.length+1,a=!0}d=t9.pointRef(e,o);var b=o.path.length-s,[,_]=f,w=o.path.slice(0,b),x=0===s?o.offset:o.path[b]+0;for(var[E,C]of t9.levels(e,{at:w,reverse:!0,voids:n})){var A=!1;if(C.length<_.length||0===C.length||!n&&$7.isElement(E)&&t9.isVoid(e,E))break;var D=h.current,T=t9.isEnd(e,D,C);if(a||!h||!t9.isEdge(e,D,C)){A=!0;var S=Y7.extractProps(E);e.apply({type:"split_node",path:C,position:x,properties:S})}x=C[C.length-1]+(A||T?1:0)}if(null==t.at){var k=d.current||t9.end(e,[]);W9.select(e,k)}}finally{var P;h.unref(),null===(P=d)||void 0===P||P.unref()}}}))};function xee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xee(Object(r),!0).forEach((function(t){M7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cee=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return q9(e,...r)},addMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var{selection:n}=e;if(n){var i=(t,r)=>{if(!f9.isText(t))return!1;var[n,i]=t9.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},o=H7.isExpanded(n),s=!1;if(!o){var[a,l]=t9.node(e,n);if(a&&i(a,l)){var[u]=t9.parent(e,l);s=u&&e.markableVoid(u)}}if(o||s)W9.setNodes(e,{[t]:r},{match:i,split:!0,voids:!0});else{var c=Y9(Y9({},t9.marks(e)||{}),{},{[t]:r});e.marks=c,D7.get(e)||e.onChange()}}})(e,...r)},deleteBackward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;r&&H7.isCollapsed(r)&&W9.delete(e,{unit:t,reverse:!0})})(e,...r)},deleteForward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;r&&H7.isCollapsed(r)&&W9.delete(e,{unit:t})})(e,...r)},deleteFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var{direction:t="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e;r&&H7.isExpanded(r)&&W9.delete(e,{reverse:"backward"===t})}(e,...r)},getFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var{selection:t}=e;return t?Y7.fragment(e,t):[]})(e,...r)},insertBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{W9.splitNodes(e,{always:!0})})(e,...r)},insertSoftBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{W9.splitNodes(e,{always:!0})})(e,...r)},insertFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t9.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:i=!1}=r,{at:o=p9(e),batchDirty:s=!0}=r;if(t.length){if(H7.isRange(o))if(n||(o=t9.unhangRange(e,o,{voids:i})),H7.isCollapsed(o))o=o.anchor;else{var[,a]=H7.edges(o);if(!i&&t9.void(e,{at:a}))return;var l=t9.pointRef(e,a);W9.delete(e,{at:o}),o=l.unref()}else R7.isPath(o)&&(o=t9.start(e,o));if(i||!t9.void(e,{at:o})){var u=t9.above(e,{at:o,match:t=>$7.isElement(t)&&t9.isInline(e,t),mode:"highest",voids:i});if(u){var[,c]=u;t9.isEnd(e,o,c)?o=t9.after(e,c):t9.isStart(e,o,c)&&(o=t9.before(e,c))}var d=t9.above(e,{match:t=>$7.isElement(t)&&t9.isBlock(e,t),at:o,voids:i}),[,h]=d,f=t9.isStart(e,o,h),p=t9.isEnd(e,o,h),m=f&&p,g=!f||f&&p,v=!p,[,y]=Y7.first({children:t},[]),[,b]=Y7.last({children:t},[]),_=[],w=t=>{var[r,n]=t;return!(0===n.length||!m&&(g&&R7.isAncestor(n,y)&&$7.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)||v&&R7.isAncestor(n,b)&&$7.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))};for(var x of Y7.nodes({children:t},{pass:w}))w(x)&&_.push(x);var E=[],C=[],A=[],D=!0,T=!1;for(var[S]of _)$7.isElement(S)&&!e.isInline(S)?(D=!1,T=!0,C.push(S)):D?E.push(S):A.push(S);var[k]=t9.nodes(e,{at:o,match:t=>f9.isText(t)||t9.isInline(e,t),mode:"highest",voids:i}),[,P]=k,R=t9.isStart(e,o,P),O=t9.isEnd(e,o,P),B=t9.pathRef(e,p&&!A.length?R7.next(h):h),M=t9.pathRef(e,O?R7.next(P):P);W9.splitNodes(e,{at:o,match:t=>T?$7.isElement(t)&&t9.isBlock(e,t):f9.isText(t)||t9.isInline(e,t),mode:T?"lowest":"highest",always:T&&(!f||E.length>0)&&(!p||A.length>0),voids:i});var F,I=t9.pathRef(e,!R||R&&O?R7.next(P):P);if(W9.insertNodes(e,E,{at:I.current,match:t=>f9.isText(t)||t9.isInline(e,t),mode:"highest",voids:i,batchDirty:s}),m&&!E.length&&C.length&&!A.length&&W9.delete(e,{at:h,voids:i}),W9.insertNodes(e,C,{at:B.current,match:t=>$7.isElement(t)&&t9.isBlock(e,t),mode:"lowest",voids:i,batchDirty:s}),W9.insertNodes(e,A,{at:M.current,match:t=>f9.isText(t)||t9.isInline(e,t),mode:"highest",voids:i,batchDirty:s}),!r.at&&(A.length>0&&M.current?F=R7.previous(M.current):C.length>0&&B.current?F=R7.previous(B.current):I.current&&(F=R7.previous(I.current)),F)){var N=t9.end(e,F);W9.select(e,N)}I.unref(),B.unref(),M.unref()}}}))}(e,...r)},insertNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{W9.insertNodes(e,t,r)})(e,...r)},insertText:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return see(e,...r)},normalizeNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var[r,n]=t;if(!f9.isText(r))if($7.isElement(r)&&0===r.children.length)W9.insertNodes(e,{text:""},{at:n.concat(0),voids:!0});else for(var i=!t9.isEditor(r)&&$7.isElement(r)&&(e.isInline(r)||0===r.children.length||f9.isText(r.children[0])||e.isInline(r.children[0])),o=0,s=0;s<r.children.length;s++,o++){var a=Y7.get(e,n);if(!f9.isText(a)){var l=a.children[o],u=a.children[o-1],c=s===r.children.length-1;(f9.isText(l)||$7.isElement(l)&&e.isInline(l))!==i?(W9.removeNodes(e,{at:n.concat(o),voids:!0}),o--):$7.isElement(l)?e.isInline(l)&&(null!=u&&f9.isText(u)?c&&(W9.insertNodes(e,{text:""},{at:n.concat(o+1),voids:!0}),o++):(W9.insertNodes(e,{text:""},{at:n.concat(o),voids:!0}),o++)):(f9.isText(l)||"children"in l||(l.children=[]),null!=u&&f9.isText(u)&&(f9.equals(l,u,{loose:!0})?(W9.mergeNodes(e,{at:n.concat(o),voids:!0}),o--):""===u.text?(W9.removeNodes(e,{at:n.concat(o-1),voids:!0}),o--):""===l.text&&(W9.removeNodes(e,{at:n.concat(o),voids:!0}),o--)))}}})(e,...r)},removeMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hee(e,...r)},getDirtyPaths:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":var{path:r}=t;return R7.levels(r);case"insert_node":var{node:n,path:i}=t,o=R7.levels(i),s=f9.isText(n)?[]:Array.from(Y7.nodes(n),(e=>{var[,t]=e;return i.concat(t)}));return[...o,...s];case"merge_node":var{path:a}=t;return[...R7.ancestors(a),R7.previous(a)];case"move_node":var{path:l,newPath:u}=t;if(R7.equals(l,u))return[];var c=[],d=[];for(var h of R7.ancestors(l)){var f=R7.transform(h,t);c.push(f)}for(var p of R7.ancestors(u)){var m=R7.transform(p,t);d.push(m)}var g=d[d.length-1],v=u[u.length-1],y=g.concat(v);return[...c,...d,y];case"remove_node":var{path:b}=t;return[...R7.ancestors(b)];case"split_node":var{path:_}=t;return[...R7.levels(_),R7.next(_)];default:return[]}})(e,...r)},shouldNormalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{iteration:r,initialDirtyPathsLength:n}=t,i=42*n;if(r>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0})(e,...r)},above:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:i=e.selection,match:o}=t;if(i){var s=t9.path(e,i),a="lowest"===n;for(var[l,u]of t9.levels(e,{at:s,voids:r,match:o,reverse:a}))if(!f9.isText(l))if(H7.isRange(i)){if(R7.isAncestor(u,i.anchor.path)&&R7.isAncestor(u,i.focus.path))return[l,u]}else if(!R7.equals(s,u))return[l,u]}}(e,...r)},after:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:t9.point(e,t,{edge:"end"}),focus:t9.end(e,[])},{distance:o=1}=n,s=0;for(var a of t9.positions(e,Q9(Q9({},n),{},{at:i}))){if(s>o)break;0!==s&&(r=a),s++}return r}(e,...r)},before:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:t9.start(e,[]),focus:t9.point(e,t,{edge:"start"})},{distance:o=1}=n,s=0;for(var a of t9.positions(e,eee(eee({},n),{},{at:i,reverse:!0}))){if(s>o)break;0!==s&&(r=a),s++}return r}(e,...r)},collapse:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)W9.select(e,n.anchor);else if("focus"===r)W9.select(e,n.focus);else if("start"===r){var[i]=H7.edges(n);W9.select(e,i)}else if("end"===r){var[,o]=H7.edges(n);W9.select(e,o)}}(e,...r)},delete:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var r,n,{reverse:i=!1,unit:o="character",distance:s=1,voids:a=!1}=t,{at:l=e.selection,hanging:u=!1}=t;if(l){var c=!1;if(H7.isRange(l)&&H7.isCollapsed(l)&&(c=!0,l=l.anchor),o9.isPoint(l)){var d=t9.void(e,{at:l,mode:"highest"});if(!a&&d){var[,h]=d;l=h}else{var f={unit:o,distance:s};l={anchor:l,focus:i?t9.before(e,l,f)||t9.start(e,[]):t9.after(e,l,f)||t9.end(e,[])},u=!0}}if(R7.isPath(l))W9.removeNodes(e,{at:l,voids:a});else if(!H7.isCollapsed(l)){if(!u){var[,p]=H7.edges(l),m=t9.end(e,[]);o9.equals(p,m)||(l=t9.unhangRange(e,l,{voids:a}))}var[g,v]=H7.edges(l),y=t9.above(e,{match:t=>$7.isElement(t)&&t9.isBlock(e,t),at:g,voids:a}),b=t9.above(e,{match:t=>$7.isElement(t)&&t9.isBlock(e,t),at:v,voids:a}),_=y&&b&&!R7.equals(y[1],b[1]),w=R7.equals(g.path,v.path),x=a?null:null!==(r=t9.void(e,{at:g,mode:"highest"}))&&void 0!==r?r:t9.elementReadOnly(e,{at:g,mode:"highest"}),E=a?null:null!==(n=t9.void(e,{at:v,mode:"highest"}))&&void 0!==n?n:t9.elementReadOnly(e,{at:v,mode:"highest"});if(x){var C=t9.before(e,g);C&&y&&R7.isAncestor(y[1],C.path)&&(g=C)}if(E){var A=t9.after(e,v);A&&b&&R7.isAncestor(b[1],A.path)&&(v=A)}var D,T=[];for(var S of t9.nodes(e,{at:l,voids:a})){var[k,P]=S;D&&0===R7.compare(P,D)||(!a&&$7.isElement(k)&&(t9.isVoid(e,k)||t9.isElementReadOnly(e,k))||!R7.isCommon(P,g.path)&&!R7.isCommon(P,v.path))&&(T.push(S),D=P)}var R=Array.from(T,(t=>{var[,r]=t;return t9.pathRef(e,r)})),O=t9.pointRef(e,g),B=t9.pointRef(e,v),M="";if(!w&&!x){var F=O.current,[I]=t9.leaf(e,F),{path:N}=F,{offset:L}=g,j=I.text.slice(L);j.length>0&&(e.apply({type:"remove_text",path:N,offset:L,text:j}),M=j)}if(R.reverse().map((e=>e.unref())).filter((e=>null!==e)).forEach((t=>W9.removeNodes(e,{at:t,voids:a}))),!E){var U=B.current,[z]=t9.leaf(e,U),{path:V}=U,G=w?g.offset:0,H=z.text.slice(G,v.offset);H.length>0&&(e.apply({type:"remove_text",path:V,offset:G,text:H}),M=H)}!w&&_&&B.current&&O.current&&W9.mergeNodes(e,{at:B.current,hanging:!0,voids:a}),c&&i&&"character"===o&&M.length>1&&M.match(/[\u0E00-\u0E7F]+/)&&W9.insertText(e,M.slice(0,M.length-s));var W=O.unref(),$=B.unref(),X=i?W||$:$||W;null==t.at&&X&&W9.select(e,X)}}}))}(e,...r)},deselect:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})})(e,...r)},edges:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>[t9.start(e,t),t9.end(e,t)])(e,...r)},elementReadOnly:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t9.above(e,ree(ree({},t),{},{match:t=>$7.isElement(t)&&t9.isElementReadOnly(e,t)}))}(e,...r)},end:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t9.point(e,t,{edge:"end"}))(e,...r)},first:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=t9.path(e,t,{edge:"start"});return t9.node(e,r)})(e,...r)},fragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=t9.range(e,t);return Y7.fragment(e,r)})(e,...r)},getMarks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var{marks:t,selection:r}=e;if(!r)return null;var{anchor:n,focus:i}=r;if(t)return t;if(H7.isExpanded(r)){if(t9.isEnd(e,n,n.path)){var o=t9.after(e,n);o&&(n=o)}var[s]=t9.nodes(e,{match:f9.isText,at:{anchor:n,focus:i}});if(s){var[a]=s;return z7(a,aee)}return{}}var{path:l}=n,[u]=t9.leaf(e,l);if(0===n.offset){var c=t9.previous(e,{at:l,match:f9.isText}),d=t9.above(e,{match:t=>$7.isElement(t)&&t9.isVoid(e,t)&&e.markableVoid(t)});if(!d){var h=t9.above(e,{match:t=>$7.isElement(t)&&t9.isBlock(e,t)});if(c&&h){var[f,p]=c,[,m]=h;R7.isAncestor(m,p)&&(u=f)}}}return z7(u,lee)}(e,...r)},hasBlocks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.some((t=>$7.isElement(t)&&t9.isBlock(e,t))))(e,...r)},hasInlines:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.some((t=>f9.isText(t)||t9.isInline(e,t))))(e,...r)},hasPath:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>Y7.has(e,t))(e,...r)},hasTexts:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.every((e=>f9.isText(e))))(e,...r)},insertNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gee(e,...r)},isBlock:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>!e.isInline(t))(e,...r)},isEdge:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>t9.isStart(e,t,r)||t9.isEnd(e,t,r))(e,...r)},isEmpty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&f9.isText(n)&&""===n.text&&!e.isVoid(t)})(e,...r)},isEnd:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var n=t9.end(e,r);return o9.equals(t,n)})(e,...r)},isNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=T7.get(e);return void 0===t||t})(e,...r)},isStart:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{if(0!==t.offset)return!1;var n=t9.start(e,r);return o9.equals(t,n)})(e,...r)},last:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=t9.path(e,t,{edge:"end"});return t9.node(e,r)})(e,...r)},leaf:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t9.path(e,t,r);return[Y7.leaf(e,n),n]}(e,...r)},levels:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,reverse:n=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),r){var s=[],a=t9.path(e,r);for(var[l,u]of Y7.levels(e,a))if(o(l,u)&&(s.push([l,u]),!i&&$7.isElement(l)&&t9.isVoid(e,l)))break;n&&s.reverse(),yield*s}}()}(e,...r)},liftNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=R7.isPath(r)?m9(e,r):t=>$7.isElement(t)&&t9.isBlock(e,t)),r){var s=t9.nodes(e,{at:r,match:o,mode:n,voids:i}),a=Array.from(s,(t=>{var[,r]=t;return t9.pathRef(e,r)}));for(var l of a){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var c=t9.node(e,R7.parent(u)),[d,h]=c,f=u[u.length-1],{length:p}=d.children;if(1===p){var m=R7.next(h);W9.moveNodes(e,{at:u,to:m,voids:i}),W9.removeNodes(e,{at:h,voids:i})}else if(0===f)W9.moveNodes(e,{at:u,to:h,voids:i});else if(f===p-1){var g=R7.next(h);W9.moveNodes(e,{at:u,to:g,voids:i})}else{var v=R7.next(u),y=R7.next(h);W9.splitNodes(e,{at:v,voids:i}),W9.moveNodes(e,{at:u,to:y,voids:i})}}}}))}(e,...r)},mergeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:i=!1,voids:o=!1,mode:s="lowest"}=t;if(n){if(null==r)if(R7.isPath(n)){var[a]=t9.parent(e,n);r=e=>a.children.includes(e)}else r=t=>$7.isElement(t)&&t9.isBlock(e,t);if(!i&&H7.isRange(n)&&(n=t9.unhangRange(e,n,{voids:o})),H7.isRange(n))if(H7.isCollapsed(n))n=n.anchor;else{var[,l]=H7.edges(n),u=t9.pointRef(e,l);W9.delete(e,{at:n}),n=u.unref(),null==t.at&&W9.select(e,n)}var[c]=t9.nodes(e,{at:n,match:r,voids:o,mode:s}),d=t9.previous(e,{at:n,match:r,voids:o,mode:s});if(c&&d){var[h,f]=c,[p,m]=d;if(0!==f.length&&0!==m.length){var g,v,y=R7.next(m),b=R7.common(f,m),_=R7.isSibling(f,m),w=Array.from(t9.levels(e,{at:f}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),x=t9.above(e,{at:f,mode:"highest",match:t=>w.includes(t)&&bee(e,t)}),E=x&&t9.pathRef(e,x[1]);if(f9.isText(h)&&f9.isText(p)){var C=z7(h,vee);v=p.text.length,g=C}else{if(!$7.isElement(h)||!$7.isElement(p))throw new Error("Cannot merge the node at path [".concat(f,"] with the previous sibling because it is not the same kind: ").concat(a9.stringify(h)," ").concat(a9.stringify(p)));C=z7(h,yee),v=p.children.length,g=C}_||W9.moveNodes(e,{at:f,to:y,voids:o}),E&&W9.removeNodes(e,{at:E.current,voids:o}),t9.shouldMergeNodesRemovePrevNode(e,d,c)?W9.removeNodes(e,{at:m,voids:o}):e.apply({type:"merge_node",path:y,position:v,properties:g}),E&&E.unref()}}}}))}(e,...r)},move:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:i="character",reverse:o=!1}=t,{edge:s=null}=t;if(r){"start"===s&&(s=H7.isBackward(r)?"focus":"anchor"),"end"===s&&(s=H7.isBackward(r)?"anchor":"focus");var{anchor:a,focus:l}=r,u={distance:n,unit:i,ignoreNonSelectable:!0},c={};if(null==s||"anchor"===s){var d=o?t9.before(e,a,u):t9.after(e,a,u);d&&(c.anchor=d)}if(null==s||"focus"===s){var h=o?t9.before(e,l,u):t9.after(e,l,u);h&&(c.focus=h)}W9.setSelection(e,c)}}(e,...r)},moveNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{t9.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:i="lowest",voids:o=!1}=t,{match:s}=t;if(n){null==s&&(s=R7.isPath(n)?m9(e,n):t=>$7.isElement(t)&&t9.isBlock(e,t));var a=t9.pathRef(e,r),l=t9.nodes(e,{at:n,match:s,mode:i,voids:o}),u=Array.from(l,(t=>{var[,r]=t;return t9.pathRef(e,r)}));for(var c of u){var d=c.unref(),h=a.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:h}),a.current&&R7.isSibling(h,d)&&R7.isAfter(h,d)&&(a.current=R7.next(a.current))}a.unref()}}))})(e,...r)},next:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection}=t;if(o){var s=t9.after(e,o,{voids:n});if(s){var[,a]=t9.last(e,[]),l=[s.path,a];if(R7.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(R7.isPath(o)){var[u]=t9.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=t9.nodes(e,{at:l,match:i,mode:r,voids:n});return c}}}(e,...r)},node:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t9.path(e,t,r),i=Y7.get(e,n);return[i,n]}(e,...r)},nodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,mode:n="all",universal:i=!1,reverse:o=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),r){var u,c;if(r9.isSpan(r))u=r[0],c=r[1];else{var d=t9.path(e,r,{edge:"start"}),h=t9.path(e,r,{edge:"end"});u=o?h:d,c=o?d:h}var f,p=Y7.nodes(e,{reverse:o,from:u,to:c,pass:t=>{var[r]=t;return!(!$7.isElement(r)||(s||!t9.isVoid(e,r)&&!t9.isElementReadOnly(e,r))&&(!a||t9.isSelectable(e,r)))}}),m=[];for(var[g,v]of p)if(!a||!$7.isElement(g)||t9.isSelectable(e,g)){var y=f&&0===R7.compare(v,f[1]);if("highest"!==n||!y)if(l(g,v))if("lowest"===n&&y)f=[g,v];else{var b="lowest"===n?f:[g,v];b&&(i?m.push(b):yield b),f=[g,v]}else if(i&&!y&&f9.isText(g))return}"lowest"===n&&f&&(i?m.push(f):yield f),i&&(yield*m)}}()}(e,...r)},normalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return uee(e,...r)},parent:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t9.path(e,t,r),i=R7.parent(n);return t9.node(e,i)}(e,...r)},path:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:i}=r;if(R7.isPath(t))if("start"===i){var[,o]=Y7.first(e,t);t=o}else if("end"===i){var[,s]=Y7.last(e,t);t=s}return H7.isRange(t)&&(t="start"===i?H7.start(t):"end"===i?H7.end(t):R7.common(t.anchor.path,t.focus.path)),o9.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t}(e,...r)},pathRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return t9.pathRefs(e).delete(i),i.current=null,t}};return t9.pathRefs(e).add(i),i}(e,...r)},pathRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=S7.get(e);return t||(t=new Set,S7.set(e,t)),t})(e,...r)},point:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(R7.isPath(t)){var i;if("end"===n){var[,o]=Y7.last(e,t);i=o}else{var[,s]=Y7.first(e,t);i=s}var a=Y7.get(e,i);if(!f9.isText(a))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:i,offset:"end"===n?a.text.length:0}}if(H7.isRange(t)){var[l,u]=H7.edges(t);return"start"===n?l:u}return t}(e,...r)},pointRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return t9.pointRefs(e).delete(i),i.current=null,t}};return t9.pointRefs(e).add(i),i}(e,...r)},pointRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=k7.get(e);return t||(t=new Set,k7.set(e,t)),t})(e,...r)},positions:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cee(e,...r)},previous:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection}=t;if(o){var s=t9.before(e,o,{voids:n});if(s){var[,a]=t9.first(e,[]),l=[s.path,a];if(R7.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(R7.isPath(o)){var[u]=t9.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=t9.nodes(e,{reverse:!0,at:l,match:i,mode:r,voids:n});return c}}}(e,...r)},range:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>H7.isRange(t)&&!r?t:{anchor:t9.start(e,t),focus:t9.end(e,r||t)})(e,...r)},rangeRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return t9.rangeRefs(e).delete(i),i.current=null,t}};return t9.rangeRefs(e).add(i),i}(e,...r)},rangeRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=P7.get(e);return t||(t=new Set,P7.set(e,t)),t})(e,...r)},removeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _ee(e,...r)},select:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;if(t=t9.range(e,t),r)W9.setSelection(e,t);else{if(!H7.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(a9.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}})(e,...r)},setNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t9.withoutNormalizing(e,(()=>{var{match:n,at:i=e.selection,compare:o,merge:s}=r,{hanging:a=!1,mode:l="lowest",split:u=!1,voids:c=!1}=r;if(i){if(null==n&&(n=R7.isPath(i)?m9(e,i):t=>$7.isElement(t)&&t9.isBlock(e,t)),!a&&H7.isRange(i)&&(i=t9.unhangRange(e,i,{voids:c})),u&&H7.isRange(i)){if(H7.isCollapsed(i)&&t9.leaf(e,i.anchor)[0].text.length>0)return;var d=t9.rangeRef(e,i,{affinity:"inward"}),[h,f]=H7.edges(i),p="lowest"===l?"lowest":"highest",m=t9.isEnd(e,f,f.path);W9.splitNodes(e,{at:f,match:n,mode:p,voids:c,always:!m});var g=t9.isStart(e,h,h.path);W9.splitNodes(e,{at:h,match:n,mode:p,voids:c,always:!g}),i=d.unref(),null==r.at&&W9.select(e,i)}for(var[v,y]of(o||(o=(e,t)=>e!==t),t9.nodes(e,{at:i,match:n,mode:l,voids:c}))){var b={},_={};if(0!==y.length){var w=!1;for(var x in t)"children"!==x&&"text"!==x&&o(t[x],v[x])&&(w=!0,v.hasOwnProperty(x)&&(b[x]=v[x]),s?null!=t[x]&&(_[x]=s(v[x],t[x])):null!=t[x]&&(_[x]=t[x]));w&&e.apply({type:"set_node",path:y,properties:b,newProperties:_})}}}}))}(e,...r)},setNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{T7.set(e,t)})(e,...r)},setPoint:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n}=e,{edge:i="both"}=r;if(n){"start"===i&&(i=H7.isBackward(n)?"focus":"anchor"),"end"===i&&(i=H7.isBackward(n)?"anchor":"focus");var{anchor:o,focus:s}=n,a="anchor"===i?o:s;W9.setSelection(e,{["anchor"===i?"anchor":"focus"]:mee(mee({},a),t)})}}(e,...r)},setSelection:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e,n={},i={};if(r){for(var o in t)("anchor"===o&&null!=t.anchor&&!o9.equals(t.anchor,r.anchor)||"focus"===o&&null!=t.focus&&!o9.equals(t.focus,r.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==r[o])&&(n[o]=r[o],i[o]=t[o]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:i})}})(e,...r)},splitNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wee(e,...r)},start:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t9.point(e,t,{edge:"start"}))(e,...r)},string:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,i=t9.range(e,t),[o,s]=H7.edges(i),a="";for(var[l,u]of t9.nodes(e,{at:i,match:f9.isText,voids:n})){var c=l.text;R7.equals(u,s.path)&&(c=c.slice(0,s.offset)),R7.equals(u,o.path)&&(c=c.slice(o.offset)),a+=c}return a}(e,...r)},unhangRange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[i,o]=H7.edges(t);if(0!==i.offset||0!==o.offset||H7.isCollapsed(t)||R7.hasPrevious(o.path))return t;var s=t9.above(e,{at:o,match:t=>$7.isElement(t)&&t9.isBlock(e,t),voids:n}),a=s?s[1]:[],l={anchor:t9.start(e,i),focus:o},u=!0;for(var[c,d]of t9.nodes(e,{at:l,match:f9.isText,reverse:!0,voids:n}))if(u)u=!1;else if(""!==c.text||R7.isBefore(d,a)){o={path:d,offset:c.text.length};break}return{anchor:i,focus:o}}(e,...r)},unsetNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var i of t)n[i]=null;W9.setNodes(e,n,r)}(e,...r)},unwrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t9.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:i=!1}=t,{at:o=e.selection,match:s}=t;if(o){null==s&&(s=R7.isPath(o)?m9(e,o):t=>$7.isElement(t)&&t9.isBlock(e,t)),R7.isPath(o)&&(o=t9.range(e,o));var a=H7.isRange(o)?t9.rangeRef(e,o):null,l=t9.nodes(e,{at:o,match:s,mode:r,voids:i}),u=Array.from(l,(t=>{var[,r]=t;return t9.pathRef(e,r)})).reverse(),c=function(){var t=d.unref(),[r]=t9.node(e,t),o=t9.range(e,t);n&&a&&(o=H7.intersection(a.current,o)),W9.liftNodes(e,{at:o,match:e=>$7.isAncestor(r)&&r.children.includes(e),voids:i})};for(var d of u)c();a&&a.unref()}}))}(e,...r)},void:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t9.above(e,iee(iee({},t),{},{match:t=>$7.isElement(t)&&t9.isVoid(e,t)}))}(e,...r)},withoutNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fee(e,...r)},wrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t9.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:i=!1,voids:o=!1}=r,{match:s,at:a=e.selection}=r;if(a){if(null==s&&(s=R7.isPath(a)?m9(e,a):e.isInline(t)?t=>$7.isElement(t)&&t9.isInline(e,t)||f9.isText(t):t=>$7.isElement(t)&&t9.isBlock(e,t)),i&&H7.isRange(a)){var[l,u]=H7.edges(a),c=t9.rangeRef(e,a,{affinity:"inward"});W9.splitNodes(e,{at:u,match:s,voids:o}),W9.splitNodes(e,{at:l,match:s,voids:o}),a=c.unref(),null==r.at&&W9.select(e,a)}var d=Array.from(t9.nodes(e,{at:a,match:e.isInline(t)?t=>$7.isElement(t)&&t9.isBlock(e,t):e=>t9.isEditor(e),mode:"lowest",voids:o})),h=function(){var r=H7.isRange(a)?H7.intersection(a,t9.range(e,f)):a;if(!r)return 0;var i=Array.from(t9.nodes(e,{at:r,match:s,mode:n,voids:o}));if(i.length>0){var[l]=i,u=i[i.length-1],[,c]=l,[,d]=u;if(0===c.length&&0===d.length)return 0;var h=R7.equals(c,d)?R7.parent(c):R7.common(c,d),p=t9.range(e,c,d),m=t9.node(e,h),[g]=m,v=h.length+1,y=R7.next(d.slice(0,v)),b=Eee(Eee({},t),{},{children:[]});W9.insertNodes(e,b,{at:y,voids:o}),W9.moveNodes(e,{at:p,match:e=>$7.isAncestor(g)&&g.children.includes(e),to:y.concat(0),voids:o})}};for(var[,f]of d)h()}}))}(e,...r)},shouldMergeNodesRemovePrevNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var[n,i]=t;return $7.isElement(n)&&t9.isEmpty(e,n)||f9.isText(n)&&""===n.text&&0!==i[i.length-1]})(e,...r)}};return e},Aee={isHistory:e=>_7(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||J7.isOperationList(e.redos[0].operations))&&(0===e.undos.length||J7.isOperationList(e.undos[0].operations))},Dee=new WeakMap,Tee=new WeakMap,See={isHistoryEditor:e=>Aee.isHistory(e.history)&&t9.isEditor(e),isMerging:e=>Tee.get(e),isSaving:e=>Dee.get(e),redo(e){e.redo()},undo(e){e.undo()},withMerging(e,t){var r=See.isMerging(e);Tee.set(e,!0),t(),Tee.set(e,r)},withoutMerging(e,t){var r=See.isMerging(e);Tee.set(e,!1),t(),Tee.set(e,r)},withoutSaving(e,t){var r=See.isSaving(e);Dee.set(e,!1),t(),Dee.set(e,r)}},kee=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];n.selectionBefore&&W9.setSelection(t,n.selectionBefore),See.withoutSaving(t,(()=>{t9.withoutNormalizing(t,(()=>{for(var e of n.operations)t.apply(e)}))})),e.redos.pop(),t.writeHistory("undos",n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];See.withoutSaving(t,(()=>{t9.withoutNormalizing(t,(()=>{var e=n.operations.map(J7.inverse).reverse();for(var r of e)t.apply(r);n.selectionBefore&&W9.setSelection(t,n.selectionBefore)}))})),t.writeHistory("redos",n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:i}=t,{undos:o}=i,s=o[o.length-1],a=s&&s.operations[s.operations.length-1],l=See.isSaving(t),u=See.isMerging(t);if(null==l&&(l=Ree(e)),l){if(null==u&&(u=null!=s&&(0!==n.length||Pee(e,a))),s&&u)s.operations.push(e);else{var c={operations:[e],selectionBefore:t.selection};t.writeHistory("undos",c)}for(;o.length>100;)o.shift();i.redos=[]}r(e)},t.writeHistory=(e,r)=>{t.history[e].push(r)},t},Pee=(e,t)=>!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!R7.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!R7.equals(e.path,t.path)),Ree=(e,t)=>"set_selection"!==e.type,Oee=Object.defineProperty,Bee=Object.defineProperties,Mee=Object.getOwnPropertyDescriptors,Fee=Object.getOwnPropertySymbols,Iee=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,Lee=(e,t,r)=>t in e?Oee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jee=(e,t)=>{for(var r in t||(t={}))Iee.call(t,r)&&Lee(e,r,t[r]);if(Fee)for(var r of Fee(t))Nee.call(t,r)&&Lee(e,r,t[r]);return e},Uee=(e,t)=>()=>(console.warn(`[OVERRIDE_MISSING] The method editor.${e}() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.`),t),zee=()=>{const e=Cee();return e.hasEditableTarget=Uee("hasEditableTarget",!1),e.hasRange=Uee("hasRange",!1),e.hasSelectableTarget=Uee("hasSelectableTarget",!1),e.hasTarget=Uee("hasTarget",!1),e.insertData=Uee("insertData"),e.insertFragmentData=Uee("insertFragmentData"),e.insertTextData=Uee("insertTextData",!1),e.isTargetInsideNonReadonlyVoid=Uee("isTargetInsideNonReadonlyVoid",!1),e.setFragmentData=Uee("setFragmentData"),e.history={redos:[],undos:[]},e.undo=Uee("undo"),e.redo=Uee("redo"),e.writeHistory=Uee("writeHistory"),e},Vee=e=>$7.isElement(e),Gee=(e,t,r)=>!r||("object"==typeof r?Object.entries(r).every((([t,r])=>{const n=function(e){return Array.isArray(e)?e:[e]}(r);return n.includes(e[t])})):r(e,t)),Hee=(e,t={})=>{const{block:r,match:n}=t;return((e,t)=>Bee(e,Mee(t)))(jee({},t),{match:n||r?(t,i)=>Gee(t,i,n)&&(!r||((e,t)=>Vee(t)&&t9.isBlock(e,t))(e,t)):void 0})},Wee=(e,t)=>t9.above(e,Hee(e,t)),$ee=(e,t)=>(((e,t,r={})=>{const{unhang:n=!0,voids:i}=r;H7.isRange(t)&&n&&t9.unhangRange(e,t,{voids:i})})(e,null==t?void 0:t.at,t),t9.nodes(e,Hee(e,t))),Xee=(e,t)=>{let r=!1;return t9.withoutNormalizing(e,(()=>{r=!!t()})),r},qee=e=>f9.isText(e),Kee=(e,t)=>W9.removeNodes(e,t),Yee=(e,t)=>{W9.select(e,t)},Zee=(e,t)=>t9.end(e,t),Qee=(e,t)=>t9.start(e,t),Jee=(e,t,r)=>{if(!t)return"";try{return t9.string(e,t,r)}catch(she){return""}},ete=e=>t9.marks(e),tte=(e,t)=>Vee(t)&&t9.isInline(e,t),rte=(e,t,r)=>!!t&&t9.isStart(e,t,r),nte=e=>Y7.string(e),ite=e=>$7.isAncestor(e),ote=e=>!!e&&H7.isCollapsed(e),ste=e=>!!e&&H7.isExpanded(e);function ate(e){return Array.isArray(e)?e:[e]}var lte=(e,{allow:t,exclude:r,filter:n,level:i,maxLevel:o}={})=>{if(!e)return!1;const[s,a]=e;if(i&&!ate(i).includes(a.length))return!1;if(o&&a.length>o)return!1;if(n&&!n(e))return!1;if(t){const e=ate(t);if(e.length>0&&!e.includes(s.type))return!1}if(r){const e=ate(r);if(e.length>0&&e.includes(s.type))return!1}return!0},ute=e("cS",((e,t,r={})=>{var n=r,{nextBlock:i,removeEmpty:o}=n,s=((e,t)=>{var r={};for(var n in e)Iee.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Fee)for(var n of Fee(e))t.indexOf(n)<0&&Nee.call(e,n)&&(r[n]=e[n]);return r})(n,["nextBlock","removeEmpty"]);fee(e,(()=>{if(o){const t=Wee(e,{at:s.at});if(t){const r=!0===o?{allow:["p"]}:o,{filter:n}=r;r.filter=([t,r])=>!nte(t)&&(!t.children.some((t=>tte(e,t)))&&(!n||n([t,r]))),lte(t,r)&&(_ee(e,{at:t[1]}),i=!1)}}if(i){const{at:t=e.selection}=s;if(t){const r=Zee(e,t),n=Wee(e,{at:r,block:!0});n&&(s.at=R7.next(n[1]))}}W9.insertNodes(e,t,s)}))})),cte=(e("d0",((e,t)=>{W9.move(e,t)})),e("cT",((e,t,r)=>W9.setNodes(e,t,r))),e("d1",((e,t={})=>{try{const r=$ee(e,jee({at:e.selection||[]},Hee(e,t)));for(const[e,t]of r)return[e,t]}catch(r){return}}))),dte=(e,t)=>!!cte(e,t),hte=function(){this.__data__=[],this.size=0},fte=function(e,t){return e===t||e!=e&&t!=t},pte=fte,mte=function(e,t){for(var r=e.length;r--;)if(pte(e[r][0],t))return r;return-1},gte=mte,vte=Array.prototype.splice,yte=function(e){var t=this.__data__,r=gte(t,e);return!(r<0||(r==t.length-1?t.pop():vte.call(t,r,1),--this.size,0))},bte=mte,_te=function(e){var t=this.__data__,r=bte(t,e);return r<0?void 0:t[r][1]},wte=mte,xte=mte,Ete=function(e,t){var r=this.__data__,n=xte(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Cte=hte,Ate=yte,Dte=_te,Tte=function(e){return wte(this.__data__,e)>-1},Ste=Ete;function kte(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kte.prototype.clear=Cte,kte.prototype.delete=Ate,kte.prototype.get=Dte,kte.prototype.has=Tte,kte.prototype.set=Ste;var Pte=kte,Rte=Pte,Ote=function(){this.__data__=new Rte,this.size=0},Bte=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Mte=function(e){return this.__data__.get(e)},Fte=function(e){return this.__data__.has(e)},Ite="object"==typeof n&&n&&n.Object===Object&&n,Nte=Ite,Lte="object"==typeof self&&self&&self.Object===Object&&self,jte=Nte||Lte||Function("return this")(),Ute=jte.Symbol,zte=Ute,Vte=Object.prototype,Gte=Vte.hasOwnProperty,Hte=Vte.toString,Wte=zte?zte.toStringTag:void 0,$te=function(e){var t=Gte.call(e,Wte),r=e[Wte];try{e[Wte]=void 0;var n=!0}catch(she){}var i=Hte.call(e);return n&&(t?e[Wte]=r:delete e[Wte]),i},Xte=Object.prototype.toString,qte=$te,Kte=function(e){return Xte.call(e)},Yte=Ute?Ute.toStringTag:void 0,Zte=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Yte&&Yte in Object(e)?qte(e):Kte(e)},Qte=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Jte=Zte,ere=Qte,tre=function(e){if(!ere(e))return!1;var t=Jte(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},rre=jte["__core-js_shared__"],nre=function(){var e=/[^.]+$/.exec(rre&&rre.keys&&rre.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ire=function(e){return!!nre&&nre in e},ore=Function.prototype.toString,sre=function(e){if(null!=e){try{return ore.call(e)}catch(she){}try{return e+""}catch(she){}}return""},are=tre,lre=ire,ure=Qte,cre=sre,dre=/^\[object .+?Constructor\]$/,hre=Function.prototype,fre=Object.prototype,pre=hre.toString,mre=fre.hasOwnProperty,gre=RegExp("^"+pre.call(mre).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vre=function(e){return!(!ure(e)||lre(e))&&(are(e)?gre:dre).test(cre(e))},yre=function(e,t){return null==e?void 0:e[t]},bre=function(e,t){var r=yre(e,t);return vre(r)?r:void 0},_re=bre(jte,"Map"),wre=bre(Object,"create"),xre=wre,Ere=function(){this.__data__=xre?xre(null):{},this.size=0},Cre=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Are=wre,Dre=Object.prototype.hasOwnProperty,Tre=function(e){var t=this.__data__;if(Are){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Dre.call(t,e)?t[e]:void 0},Sre=wre,kre=Object.prototype.hasOwnProperty,Pre=wre,Rre=Ere,Ore=Cre,Bre=Tre,Mre=function(e){var t=this.__data__;return Sre?void 0!==t[e]:kre.call(t,e)},Fre=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pre&&void 0===t?"__lodash_hash_undefined__":t,this};function Ire(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ire.prototype.clear=Rre,Ire.prototype.delete=Ore,Ire.prototype.get=Bre,Ire.prototype.has=Mre,Ire.prototype.set=Fre;var Nre=Ire,Lre=Pte,jre=_re,Ure=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},zre=function(e,t){var r=e.__data__;return Ure(t)?r["string"==typeof t?"string":"hash"]:r.map},Vre=zre,Gre=zre,Hre=zre,Wre=zre,$re=function(e,t){var r=Wre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Xre=function(){this.size=0,this.__data__={hash:new Nre,map:new(jre||Lre),string:new Nre}},qre=function(e){var t=Vre(this,e).delete(e);return this.size-=t?1:0,t},Kre=function(e){return Gre(this,e).get(e)},Yre=function(e){return Hre(this,e).has(e)},Zre=$re;function Qre(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qre.prototype.clear=Xre,Qre.prototype.delete=qre,Qre.prototype.get=Kre,Qre.prototype.has=Yre,Qre.prototype.set=Zre;var Jre=Qre,ene=Pte,tne=_re,rne=Jre,nne=Pte,ine=Ote,one=Bte,sne=Mte,ane=Fte,lne=function(e,t){var r=this.__data__;if(r instanceof ene){var n=r.__data__;if(!tne||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rne(n)}return r.set(e,t),this.size=r.size,this};function une(e){var t=this.__data__=new nne(e);this.size=t.size}une.prototype.clear=ine,une.prototype.delete=one,une.prototype.get=sne,une.prototype.has=ane,une.prototype.set=lne;var cne=une,dne=bre,hne=function(){try{var e=dne(Object,"defineProperty");return e({},"",{}),e}catch(she){}}(),fne=hne,pne=function(e,t,r){"__proto__"==t&&fne?fne(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},mne=pne,gne=fte,vne=function(e,t,r){(void 0!==r&&!gne(e[t],r)||void 0===r&&!(t in e))&&mne(e,t,r)},yne=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===r(o[l],l,o))break}return t}},bne=yne(),_ne={exports:{}};!function(e,t){var r=jte,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}(_ne,_ne.exports);var wne=_ne.exports,xne=jte.Uint8Array,Ene=xne,Cne=function(e){var t=new e.constructor(e.byteLength);return new Ene(t).set(new Ene(e)),t},Ane=Cne,Dne=function(e,t){var r=t?Ane(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Tne=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Sne=Qte,kne=Object.create,Pne=function(){function e(){}return function(t){if(!Sne(t))return{};if(kne)return kne(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Rne=function(e,t){return function(r){return e(t(r))}},One=Rne(Object.getPrototypeOf,Object),Bne=Object.prototype,Mne=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Bne)},Fne=Pne,Ine=One,Nne=Mne,Lne=function(e){return"function"!=typeof e.constructor||Nne(e)?{}:Fne(Ine(e))},jne=function(e){return null!=e&&"object"==typeof e},Une=Zte,zne=jne,Vne=function(e){return zne(e)&&"[object Arguments]"==Une(e)},Gne=jne,Hne=Object.prototype,Wne=Hne.hasOwnProperty,$ne=Hne.propertyIsEnumerable,Xne=Vne(function(){return arguments}())?Vne:function(e){return Gne(e)&&Wne.call(e,"callee")&&!$ne.call(e,"callee")},qne=Xne,Kne=Array.isArray,Yne=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zne=tre,Qne=Yne,Jne=function(e){return null!=e&&Qne(e.length)&&!Zne(e)},eie=Jne,tie=jne,rie=function(e){return tie(e)&&eie(e)},nie={exports:{}},iie=function(){return!1};!function(e,t){var r=jte,n=iie,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;e.exports=a}(nie,nie.exports);var oie=nie.exports,sie=Zte,aie=One,lie=jne,uie=Function.prototype,cie=Object.prototype,die=uie.toString,hie=cie.hasOwnProperty,fie=die.call(Object),pie=function(e){if(!lie(e)||"[object Object]"!=sie(e))return!1;var t=aie(e);if(null===t)return!0;var r=hie.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&die.call(r)==fie},mie=Zte,gie=Yne,vie=jne,yie={};yie["[object Float32Array]"]=yie["[object Float64Array]"]=yie["[object Int8Array]"]=yie["[object Int16Array]"]=yie["[object Int32Array]"]=yie["[object Uint8Array]"]=yie["[object Uint8ClampedArray]"]=yie["[object Uint16Array]"]=yie["[object Uint32Array]"]=!0,yie["[object Arguments]"]=yie["[object Array]"]=yie["[object ArrayBuffer]"]=yie["[object Boolean]"]=yie["[object DataView]"]=yie["[object Date]"]=yie["[object Error]"]=yie["[object Function]"]=yie["[object Map]"]=yie["[object Number]"]=yie["[object Object]"]=yie["[object RegExp]"]=yie["[object Set]"]=yie["[object String]"]=yie["[object WeakMap]"]=!1;var bie=function(e){return vie(e)&&gie(e.length)&&!!yie[mie(e)]},_ie=function(e){return function(t){return e(t)}},wie={exports:{}};!function(e,t){var r=Ite,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(she){}}();e.exports=s}(wie,wie.exports);var xie=wie.exports,Eie=bie,Cie=_ie,Aie=xie&&xie.isTypedArray,Die=Aie?Cie(Aie):Eie,Tie=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Sie=pne,kie=fte,Pie=Object.prototype.hasOwnProperty,Rie=function(e,t,r){var n=e[t];Pie.call(e,t)&&kie(n,r)&&(void 0!==r||t in e)||Sie(e,t,r)},Oie=Rie,Bie=pne,Mie=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?Bie(r,a,l):Oie(r,a,l)}return r},Fie=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Iie=/^(?:0|[1-9]\d*)$/,Nie=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Iie.test(e))&&e>-1&&e%1==0&&e<t},Lie=Fie,jie=qne,Uie=Kne,zie=oie,Vie=Nie,Gie=Die,Hie=Object.prototype.hasOwnProperty,Wie=function(e,t){var r=Uie(e),n=!r&&jie(e),i=!r&&!n&&zie(e),o=!r&&!n&&!i&&Gie(e),s=r||n||i||o,a=s?Lie(e.length,String):[],l=a.length;for(var u in e)!t&&!Hie.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Vie(u,l))||a.push(u);return a},$ie=Qte,Xie=Mne,qie=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Kie=Object.prototype.hasOwnProperty,Yie=Wie,Zie=function(e){if(!$ie(e))return qie(e);var t=Xie(e),r=[];for(var n in e)("constructor"!=n||!t&&Kie.call(e,n))&&r.push(n);return r},Qie=Jne,Jie=function(e){return Qie(e)?Yie(e,!0):Zie(e)},eoe=Mie,toe=Jie,roe=vne,noe=wne,ioe=Dne,ooe=Tne,soe=Lne,aoe=qne,loe=Kne,uoe=rie,coe=oie,doe=tre,hoe=Qte,foe=pie,poe=Die,moe=Tie,goe=function(e){return eoe(e,toe(e))},voe=cne,yoe=vne,boe=bne,_oe=function(e,t,r,n,i,o,s){var a=moe(e,r),l=moe(t,r),u=s.get(l);if(u)roe(e,r,u);else{var c=o?o(a,l,r+"",e,t,s):void 0,d=void 0===c;if(d){var h=loe(l),f=!h&&coe(l),p=!h&&!f&&poe(l);c=l,h||f||p?loe(a)?c=a:uoe(a)?c=ooe(a):f?(d=!1,c=noe(l,!0)):p?(d=!1,c=ioe(l,!0)):c=[]:foe(l)||aoe(l)?(c=a,aoe(a)?c=goe(a):hoe(a)&&!doe(a)||(c=soe(l))):d=!1}d&&(s.set(l,c),i(c,l,n,o,s),s.delete(l)),roe(e,r,c)}},woe=Qte,xoe=Jie,Eoe=Tie,Coe=function e(t,r,n,i,o){t!==r&&boe(r,(function(s,a){if(o||(o=new voe),woe(s))_oe(t,r,a,n,e,i,o);else{var l=i?i(Eoe(t,a),s,a+"",t,r,o):void 0;void 0===l&&(l=s),yoe(t,a,l)}}),xoe)},Aoe=function(e){return e},Doe=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Toe=Doe,Soe=Math.max,koe=function(e,t,r){return t=Soe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Soe(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),Toe(e,this,a)}},Poe=function(e){return function(){return e}},Roe=hne,Ooe=Roe?function(e,t){return Roe(e,"toString",{configurable:!0,enumerable:!1,value:Poe(t),writable:!0})}:Aoe,Boe=Ooe,Moe=Date.now,Foe=function(e){var t=0,r=0;return function(){var n=Moe(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ioe=Foe(Boe),Noe=Aoe,Loe=koe,joe=Ioe,Uoe=function(e,t){return joe(Loe(e,t,Noe),e+"")},zoe=fte,Voe=Jne,Goe=Nie,Hoe=Qte,Woe=function(e,t,r){if(!Hoe(r))return!1;var n=typeof t;return!!("number"==n?Voe(r)&&Goe(t,r.length):"string"==n&&t in r)&&zoe(r[t],e)},$oe=Uoe,Xoe=Woe,qoe=function(e){return $oe((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&Xoe(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t}))},Koe=Coe,Yoe=qoe((function(e,t,r,n){Koe(e,t,r,n)}));const Zoe=i(Yoe);var Qoe={};Object.defineProperty(Qoe,"__esModule",{value:!0});for(var Joe="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ese={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},tse={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Joe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},rse={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},nse=1;nse<20;nse++)rse["f"+nse]=111+nse;function ise(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return ose(e,t)})),i=function(e){return n.some((function(t){return sse(t,e)}))};return null==r?i:i(r)}function ose(e,t){var r=t&&t.byKey,n={},i=(e=e.replace("++","+add")).split("+"),o=i.length;for(var s in ese)n[ese[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,f=h.endsWith("?")&&h.length>1;f&&(h=h.slice(0,-1));var p=lse(h),m=ese[p];if(h.length>1&&!m&&!tse[h]&&!rse[p])throw new TypeError('Unknown modifier: "'+h+'"');1!==o&&m||(r?n.key=p:n.which=ase(h)),m&&(n[m]=!f||null)}}catch(HEe){l=!0,u=HEe}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return n}function sse(e,t){for(var r in e){var n=e[r],i=void 0;if(null!=n&&(null!=(i="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&i!==n)return!1}return!0}function ase(e){return e=lse(e),rse[e]||e.toUpperCase().charCodeAt(0)}function lse(e){return e=e.toLowerCase(),e=tse[e]||e}Qoe.default=ise;var use=Qoe.isHotkey=ise;Qoe.isCodeHotkey=function(e,t){return ise(e,t)};var cse=Qoe.isKeyHotkey=function(e,t){return ise(e,{byKey:!0},t)};Qoe.parseHotkey=ose,Qoe.compareHotkey=sse,Qoe.toKeyCode=ase,Qoe.toKeyName=lse;var dse=Coe;const hse=i(qoe((function(e,t,r){dse(e,t,r)})));var fse=Kne,pse=function(){if(!arguments.length)return[];var e=arguments[0];return fse(e)?e:[e]};const mse=i(pse);var gse=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},vse=Jre,yse=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},bse=function(e){return this.__data__.has(e)};function _se(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new vse;++t<r;)this.add(e[t])}_se.prototype.add=_se.prototype.push=yse,_se.prototype.has=bse;var wse=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},xse=function(e,t){return e.has(t)},Ese=_se,Cse=wse,Ase=xse,Dse=function(e,t,r,n,i,o){var s=1&r,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&r?new Ese:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],m=t[d];if(n)var g=s?n(m,p,d,t,e,o):n(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Cse(t,(function(e,t){if(!Ase(f,t)&&(p===e||i(p,e,r,n,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Tse=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Sse=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},kse=xne,Pse=fte,Rse=Dse,Ose=Tse,Bse=Sse,Mse=Ute?Ute.prototype:void 0,Fse=Mse?Mse.valueOf:void 0,Ise=function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new kse(e),new kse(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pse(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ose;case"[object Set]":var l=1&n;if(a||(a=Bse),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var c=Rse(a(e),a(t),n,i,o,s);return s.delete(e),c;case"[object Symbol]":if(Fse)return Fse.call(e)==Fse.call(t)}return!1},Nse=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},Lse=Nse,jse=Kne,Use=function(e,t,r){var n=t(e);return jse(e)?n:Lse(n,r(e))},zse=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o},Vse=function(){return[]},Gse=zse,Hse=Vse,Wse=Object.prototype.propertyIsEnumerable,$se=Object.getOwnPropertySymbols,Xse=$se?function(e){return null==e?[]:(e=Object(e),Gse($se(e),(function(t){return Wse.call(e,t)})))}:Hse,qse=Rne(Object.keys,Object),Kse=Mne,Yse=qse,Zse=Object.prototype.hasOwnProperty,Qse=Wie,Jse=function(e){if(!Kse(e))return Yse(e);var t=[];for(var r in Object(e))Zse.call(e,r)&&"constructor"!=r&&t.push(r);return t},eae=Jne,tae=function(e){return eae(e)?Qse(e):Jse(e)},rae=Use,nae=Xse,iae=tae,oae=function(e){return rae(e,iae,nae)},sae=oae,aae=Object.prototype.hasOwnProperty,lae=function(e,t,r,n,i,o){var s=1&r,a=sae(e),l=a.length;if(l!=sae(t).length&&!s)return!1;for(var u=l;u--;){var c=a[u];if(!(s?c in t:aae.call(t,c)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<l;){var m=e[c=a[u]],g=t[c];if(n)var v=s?n(g,m,c,t,e,o):n(m,g,c,e,t,o);if(!(void 0===v?m===g||i(m,g,r,n,o):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f},uae=bre(jte,"DataView"),cae=_re,dae=bre(jte,"Promise"),hae=bre(jte,"Set"),fae=bre(jte,"WeakMap"),pae=Zte,mae=sre,gae="[object Map]",vae="[object Promise]",yae="[object Set]",bae="[object WeakMap]",_ae="[object DataView]",wae=mae(uae),xae=mae(cae),Eae=mae(dae),Cae=mae(hae),Aae=mae(fae),Dae=pae;(uae&&Dae(new uae(new ArrayBuffer(1)))!=_ae||cae&&Dae(new cae)!=gae||dae&&Dae(dae.resolve())!=vae||hae&&Dae(new hae)!=yae||fae&&Dae(new fae)!=bae)&&(Dae=function(e){var t=pae(e),r="[object Object]"==t?e.constructor:void 0,n=r?mae(r):"";if(n)switch(n){case wae:return _ae;case xae:return gae;case Eae:return vae;case Cae:return yae;case Aae:return bae}return t});var Tae=Dae,Sae=cne,kae=Dse,Pae=Ise,Rae=lae,Oae=Tae,Bae=Kne,Mae=oie,Fae=Die,Iae="[object Arguments]",Nae="[object Array]",Lae="[object Object]",jae=Object.prototype.hasOwnProperty,Uae=function(e,t,r,n,i,o){var s=Bae(e),a=Bae(t),l=s?Nae:Oae(e),u=a?Nae:Oae(t),c=(l=l==Iae?Lae:l)==Lae,d=(u=u==Iae?Lae:u)==Lae,h=l==u;if(h&&Mae(e)){if(!Mae(t))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Sae),s||Fae(e)?kae(e,t,r,n,i,o):Pae(e,t,l,r,n,i,o);if(!(1&r)){var f=c&&jae.call(e,"__wrapped__"),p=d&&jae.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Sae),i(m,g,r,n,o)}}return!!h&&(o||(o=new Sae),Rae(e,t,r,n,i,o))},zae=jne,Vae=function e(t,r,n,i,o){return t===r||(null==t||null==r||!zae(t)&&!zae(r)?t!=t&&r!=r:Uae(t,r,n,i,e,o))},Gae=Zte,Hae=jne,Wae=function(e){return"symbol"==typeof e||Hae(e)&&"[object Symbol]"==Gae(e)},$ae=Kne,Xae=Wae,qae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kae=/^\w*$/,Yae=function(e,t){if($ae(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Xae(e))||Kae.test(e)||!qae.test(e)||null!=t&&e in Object(t)},Zae=Jre;function Qae(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Qae.Cache||Zae),r}Qae.Cache=Zae;var Jae=Qae,ele=function(e){var t=Jae(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},tle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rle=/\\(\\)?/g,nle=ele((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(tle,(function(e,r,n,i){t.push(n?i.replace(rle,"$1"):r||e)})),t})),ile=nle,ole=gse,sle=Kne,ale=Wae,lle=Ute?Ute.prototype:void 0,ule=lle?lle.toString:void 0,cle=function e(t){if("string"==typeof t)return t;if(sle(t))return ole(t,e)+"";if(ale(t))return ule?ule.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},dle=cle,hle=Kne,fle=Yae,ple=ile,mle=function(e){return null==e?"":dle(e)},gle=function(e,t){return hle(e)?e:fle(e,t)?[e]:ple(mle(e))},vle=Wae,yle=function(e){if("string"==typeof e||vle(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ble=gle,_le=yle,wle=function(e,t){for(var r=0,n=(t=ble(t,e)).length;null!=e&&r<n;)e=e[_le(t[r++])];return r&&r==n?e:void 0},xle=gle,Ele=qne,Cle=Kne,Ale=Nie,Dle=Yne,Tle=yle,Sle=function(e,t,r){for(var n=-1,i=(t=xle(t,e)).length,o=!1;++n<i;){var s=Tle(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Dle(i)&&Ale(s,i)&&(Cle(e)||Ele(e))},kle=function(e,t){return null!=e&&t in Object(e)},Ple=Sle,Rle=function(e,t){return null!=e&&Ple(e,t,kle)},Ole=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Ble=Object.defineProperty,Mle=Object.defineProperties,Fle=Object.getOwnPropertyDescriptors,Ile=Object.getOwnPropertySymbols,Nle=Object.prototype.hasOwnProperty,Lle=Object.prototype.propertyIsEnumerable,jle=(e,t,r)=>t in e?Ble(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ule=(e,t)=>{for(var r in t||(t={}))Nle.call(t,r)&&jle(e,r,t[r]);if(Ile)for(var r of Ile(t))Lle.call(t,r)&&jle(e,r,t[r]);return e},zle=(e,t)=>Mle(e,Fle(t)),Vle=(e,t={})=>Wee(e,zle(Ule({},t),{block:!0})),Gle=e=>{var t;const r=null==(t=Vle(e))?void 0:t[0];return!!r&&((e,t)=>!nte(t)&&!t.children.some((t=>tte(e,t))))(e,r)},Hle=(e,t)=>E6(((e,t)=>{if(!e)return;const r=ete(e);return null==r?void 0:r[t]})(e,t)),Wle=(e,t)=>{var r;const{selection:n}=e;if(!n)return!1;const i=null==(r=Vle(e,t))?void 0:r[1];return!!i&&(rte(e,n.focus,i)||ste(e.selection)&&rte(e,n.anchor,i))},$le=(e,t)=>{var r,n=t,{key:i,at:o,shouldChange:s=!0}=n,a=((e,t)=>{var r={};for(var n in e)Nle.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ile)for(var n of Ile(e))t.indexOf(n)<0&&Lle.call(e,n)&&(r[n]=e[n]);return r})(n,["key","at","shouldChange"]);const l=null!=o?o:e.selection;if(i=mse(i),l)if(H7.isRange(l)&&H7.isExpanded(l))((e,t,r)=>{W9.unsetNodes(e,t,r)})(e,i,Ule({at:l,match:qee,split:!0},a));else if(e.selection){const t=null!=(r=ete(e))?r:{};i.forEach((e=>{delete t[e]})),e.marks=t,s&&e.onChange()}},Xle=(e,t,r)=>{Xee(e,(()=>{for(const[,n]of((e,t,r)=>Y7.children(e,t,r))(e,t,{reverse:!0}))Kee(e,zle(Ule({},r),{at:n}))}))},qle=e=>{const t=ete(e);t&&Object.keys(t).forEach((t=>{((e,t)=>{t9.removeMark(e,t)})(e,t)}))},Kle=(e,{at:t,insertOptions:r,nodes:n,removeOptions:i})=>{Xee(e,(()=>{Xle(e,t,i),ute(e,n,zle(Ule({},r),{at:t.concat([0])}))}))},Yle=(e,{key:t,clear:r})=>{e.selection&&Xee(e,(()=>{if(Hle(e,t))e.removeMark(t);else{if(r){const t=mse(r);$le(e,{key:t})}e.addMark(t,!0)}}))};function Zle(e){return Zle="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zle(e)}function Qle(e){var t=function(e,t){if("object"!==Zle(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zle(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zle(t)?t:String(t)}function Jle(e,t,r){return(t=Qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eue=new WeakMap,tue=new WeakMap;class rue{}class nue extends rue{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Jle(this,"offset",void 0),Jle(this,"path",void 0);var{offset:t,path:r}=e;this.offset=t,this.path=r}}class iue extends rue{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Jle(this,"offset",void 0),Jle(this,"path",void 0);var{offset:t,path:r}=e;this.offset=t,this.path=r}}var oue=e=>tue.get(e);function sue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sue(Object(r),!0).forEach((function(t){Jle(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lue=new WeakSet,uue=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"==typeof e){var i={text:e};lue.add(i),e=i}if(f9.isText(e)){var o=e;f9.isText(n)&&lue.has(n)&&lue.has(o)&&f9.equals(n,o,{loose:!0})?n.text+=o.text:t.push(o)}else if($7.isElement(e))t.push(e);else{if(!(e instanceof rue))throw new Error("Unexpected hyperscript child object: ".concat(e));var s=t[t.length-1];f9.isText(s)||(r(""),s=t[t.length-1]),e instanceof nue?((e,t)=>{var r=e.text.length;eue.set(e,[r,t])})(s,e):e instanceof iue&&((e,t)=>{var r=e.text.length;tue.set(e,[r,t])})(s,e)}}};for(var n of e.flat(1/0))r(n);return t};function cue(e,t,r){return aue(aue({},t),{},{children:uue(r)})}function due(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?due(Object(r),!0).forEach((function(t){Jle(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):due(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fue,pue={anchor:function(e,t,r){return new nue(t)},cursor:function(e,t,r){return[new nue(t),new iue(t)]},editor:(fue=Cee,(e,t,r)=>{var n,i=[];for(var o of r)H7.isRange(o)?n=o:i.push(o);var s,a=uue(i),l={},u=fue();for(var[c,d]of(Object.assign(u,t),u.children=a,Y7.texts(u))){var h=(s=c,eue.get(s)),f=oue(c);if(null!=h){var[p]=h;l.anchor={path:d,offset:p}}if(null!=f){var[m]=f;l.focus={path:d,offset:m}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?u.selection=n:H7.isRange(l)&&(u.selection=l),u}),element:cue,focus:function(e,t,r){return new iue(t)},fragment:function(e,t,r){return uue(r)},selection:function(e,t,r){var n=r.find((e=>e instanceof nue)),i=r.find((e=>e instanceof iue));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!i||null==i.offset||null==i.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return aue({anchor:{offset:n.offset,path:n.path},focus:{offset:i.offset,path:i.path}},t)},text:function(e,t,r){var n=uue(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=n;if(null==i&&(i={text:""}),!f9.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return lue.delete(i),Object.assign(i,t),i}},mue=e=>function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=e[t];if(!s)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));return null==r&&(r={}),_7(r)||(i=[r].concat(i),r={}),s(t,r,i=i.filter((e=>Boolean(e))).flat())},gue=e=>{var t={},r=function(){var r=e[n];if("object"!=typeof r)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>cue(0,hue(hue({},r),t),n)};for(var n in e)r();return t},vue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=gue(t),n=hue(hue(hue({},pue),r),e.creators);return mue(n)}(),yue=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},bue=Mie,_ue=tae,wue=function(e,t){return e&&bue(t,_ue(t),e)},xue=Mie,Eue=Jie,Cue=function(e,t){return e&&xue(t,Eue(t),e)},Aue=Mie,Due=Xse,Tue=function(e,t){return Aue(e,Due(e),t)},Sue=Nse,kue=One,Pue=Xse,Rue=Vse,Oue=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Sue(t,Pue(e)),e=kue(e);return t}:Rue,Bue=Mie,Mue=Oue,Fue=function(e,t){return Bue(e,Mue(e),t)},Iue=Use,Nue=Oue,Lue=Jie,jue=function(e){return Iue(e,Lue,Nue)},Uue=Object.prototype.hasOwnProperty,zue=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Uue.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Vue=Cne,Gue=function(e,t){var r=t?Vue(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Hue=/\w*$/,Wue=function(e){var t=new e.constructor(e.source,Hue.exec(e));return t.lastIndex=e.lastIndex,t},$ue=Ute?Ute.prototype:void 0,Xue=$ue?$ue.valueOf:void 0,que=Cne,Kue=Gue,Yue=Wue,Zue=function(e){return Xue?Object(Xue.call(e)):{}},Que=Dne,Jue=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return que(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Kue(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Que(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Yue(e);case"[object Symbol]":return Zue(e)}},ece=Tae,tce=jne,rce=function(e){return tce(e)&&"[object Map]"==ece(e)},nce=_ie,ice=xie&&xie.isMap,oce=ice?nce(ice):rce,sce=Tae,ace=jne,lce=function(e){return ace(e)&&"[object Set]"==sce(e)},uce=_ie,cce=xie&&xie.isSet,dce=cce?uce(cce):lce,hce=cne,fce=yue,pce=Rie,mce=wue,gce=Cue,vce=wne,yce=Tne,bce=Tue,_ce=Fue,wce=oae,xce=jue,Ece=Tae,Cce=zue,Ace=Jue,Dce=Lne,Tce=Kne,Sce=oie,kce=oce,Pce=Qte,Rce=dce,Oce=tae,Bce=Jie,Mce="[object Arguments]",Fce="[object Function]",Ice="[object Object]",Nce={};Nce[Mce]=Nce["[object Array]"]=Nce["[object ArrayBuffer]"]=Nce["[object DataView]"]=Nce["[object Boolean]"]=Nce["[object Date]"]=Nce["[object Float32Array]"]=Nce["[object Float64Array]"]=Nce["[object Int8Array]"]=Nce["[object Int16Array]"]=Nce["[object Int32Array]"]=Nce["[object Map]"]=Nce["[object Number]"]=Nce[Ice]=Nce["[object RegExp]"]=Nce["[object Set]"]=Nce["[object String]"]=Nce["[object Symbol]"]=Nce["[object Uint8Array]"]=Nce["[object Uint8ClampedArray]"]=Nce["[object Uint16Array]"]=Nce["[object Uint32Array]"]=!0,Nce["[object Error]"]=Nce[Fce]=Nce["[object WeakMap]"]=!1;var Lce=function e(t,r,n,i,o,s){var a,l=1&r,u=2&r,c=4&r;if(n&&(a=o?n(t,i,o,s):n(t)),void 0!==a)return a;if(!Pce(t))return t;var d=Tce(t);if(d){if(a=Cce(t),!l)return yce(t,a)}else{var h=Ece(t),f=h==Fce||"[object GeneratorFunction]"==h;if(Sce(t))return vce(t,l);if(h==Ice||h==Mce||f&&!o){if(a=u||f?{}:Dce(t),!l)return u?_ce(t,gce(a,t)):bce(t,mce(a,t))}else{if(!Nce[h])return o?t:{};a=Ace(t,h,l)}}s||(s=new hce);var p=s.get(t);if(p)return p;s.set(t,a),Rce(t)?t.forEach((function(i){a.add(e(i,r,n,i,t,s))})):kce(t)&&t.forEach((function(i,o){a.set(o,e(i,r,n,o,t,s))}));var m=d?void 0:(c?u?xce:wce:u?Bce:Oce)(t);return fce(m||t,(function(i,o){m&&(i=t[o=i]),pce(a,o,e(i,r,n,o,t,s))})),a},jce=Lce;const Uce=i((function(e){return jce(e,5)}));var zce=Vae;const Vce=i((function(e,t){return zce(e,t)})),Gce=Symbol(),Hce=Symbol(),Wce="a",$ce="w",Xce=Object.getPrototypeOf,qce=new WeakMap,Kce=e=>e&&(qce.has(e)?qce.get(e):Xce(e)===Object.prototype||Xce(e)===Array.prototype),Yce=e=>"object"==typeof e&&null!==e,Zce=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(Xce(e),t)},Qce=e=>e[Hce]||e,Jce=(e,t,r,n)=>{if(!Kce(e))return e;let i=n&&n.get(e);if(!i){const t=Qce(e);i=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some((e=>!e.configurable&&!e.writable)))(t)?[t,Zce(t)]:[t],null==n||n.set(e,i)}const[o,s]=i;let a=r&&r.get(o);return a&&a[1].f===!!s||(a=((e,t)=>{const r={f:t};let n=!1;const i=(t,i)=>{if(!n){let n=r[Wce].get(e);if(n||(n={},r[Wce].set(e,n)),t===$ce)n[$ce]=!0;else{let e=n[t];e||(e=new Set,n[t]=e),e.add(i)}}},o={get:(t,n)=>n===Hce?e:(i("k",n),Jce(Reflect.get(t,n),r[Wce],r.c,r.t)),has:(t,o)=>o===Gce?(n=!0,r[Wce].delete(e),!0):(i("h",o),Reflect.has(t,o)),getOwnPropertyDescriptor:(e,t)=>(i("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(i($ce),Reflect.ownKeys(e))};return t&&(o.set=o.deleteProperty=()=>!1),[o,r]})(o,!!s),a[1].p=((e,t)=>new Proxy(e,t))(s||o,a[0]),r&&r.set(o,a)),a[1][Wce]=t,a[1].c=r,a[1].t=n,a[1].p},ede=(e,t,r,n,i=Object.is)=>{if(i(e,t))return!1;if(!Yce(e)||!Yce(t))return!0;const o=r.get(Qce(e));if(!o)return!0;if(n){const r=n.get(e);if(r&&r.n===t)return r.g;n.set(e,{n:t,g:!1})}let s=null;try{for(const r of o.h||[])if(s=Reflect.has(e,r)!==Reflect.has(t,r),s)return s;if(!0===o[$ce]){if(s=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some(((e,t)=>e!==n[t]))})(e,t),s)return s}else for(const r of o.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),s)return s;for(const a of o.k||[])if(s=ede(e[a],t[a],r,n,i),s)return s;return null===s&&(s=!0),s}finally{n&&n.set(e,{n:t,g:s})}},tde=new Map,rde=e=>{const t=tde.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},nde=(e,t={})=>(r,n,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=null!=o&&o&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(Q$){}if(!u)return e(r,n,i);const{connection:c,...d}=((e,t,r)=>{if(void 0===e)return{type:"untracked",connection:t.connect(r)};const n=tde.get(r.name);if(n)return{type:"tracked",store:e,...n};const i={connection:t.connect(r),stores:{}};return tde.set(r.name,i),{type:"tracked",store:e,...i}})(a,u,l);let h=!0;i.setState=(e,t,o)=>{const u=r(e,t);if(!h)return u;const d=void 0===o?{type:s||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===a?(null==c||c.send(d,n()),u):(null==c||c.send({...d,type:`${a}/${d.type}`},{...rde(l.name),[a]:i.getState()}),u)};const f=(...e)=>{const t=h;h=!1,r(...e),h=t},p=e(i.setState,n,i);if("untracked"===d.type?null==c||c.init(p):(d.stores[d.store]=i,null==c||c.init(Object.fromEntries(Object.entries(d.stores).map((([e,t])=>[e,e===d.store?p:t.getState()]))))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){const e=i.dispatch;i.dispatch=(...t)=>{e(...t)}}return c.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):ide(e.payload,(e=>{if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===a)return void f(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[a];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&f(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return f(p),void 0===a?null==c?void 0:c.init(i.getState()):null==c?void 0:c.init(rde(l.name));case"COMMIT":return void 0===a?void(null==c||c.init(i.getState())):null==c?void 0:c.init(rde(l.name));case"ROLLBACK":return ide(e.state,(e=>{if(void 0===a)return f(e),void(null==c||c.init(i.getState()));f(e[a]),null==c||c.init(rde(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ide(e.state,(e=>{void 0!==a?JSON.stringify(i.getState())!==JSON.stringify(e[a])&&f(e[a]):f(e)}));case"IMPORT_STATE":{const{nextLiftedState:r}=e.payload,n=null==(t=r.computedStates.slice(-1)[0])?void 0:t.state;if(!n)return;return f(void 0===a?n:n[a]),void(null==c||c.send(null,r))}case"PAUSE_RECORDING":return h=!h}return}})),p},ide=(e,t)=>{let r;try{r=JSON.parse(e)}catch(she){console.error("[zustand devtools middleware] Could not parse the received json",she)}void 0!==r&&t(r)};function ode(e,t){let r;try{r=e()}catch(Q$){return}const n={getItem:e=>{var n;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(n=r.getItem(e))?n:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)};return n}const sde=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>sde(e)(r),catch(e){return this}}}catch(she){return{then(e){return this},catch:t=>sde(t)(she)}}},ade=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(r,n,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch(Q$){}if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,i);const c=sde(o.serialize),d=()=>{const e=o.partialize({...n()});let t;const r=c({state:e,version:o.version}).then((e=>u.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return r},h=i.setState;i.setState=(e,t)=>{h(e,t),d()};const f=e(((...e)=>{r(...e),d()}),n,i);let p;const m=()=>{var e;if(!u)return;s=!1,a.forEach((e=>e(n())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,n()))||void 0;return sde(u.getItem.bind(u))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=o.merge(e,null!=(t=n())?t:f),r(p,!0),d()})).then((()=>{null==t||t(p,void 0),s=!0,l.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),p||f})(e,t):((e,t)=>(r,n,i)=>{let o={storage:ode((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,i);const c=()=>{const e=o.partialize({...n()});return u.setItem(o.name,{state:e,version:o.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),c()};const h=e(((...e)=>{r(...e),c()}),n,i);let f;i.getInitialState=()=>h;const p=()=>{var e,t;if(!u)return;s=!1,a.forEach((e=>{var t;return e(null!=(t=n())?t:h)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:h))||void 0;return sde(u.getItem.bind(u))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,s]=e;if(f=o.merge(s,null!=(t=n())?t:h),r(f,!0),i)return c()})).then((()=>{null==i||i(f,void 0),f=n(),s=!0,l.forEach((e=>e(f)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||p(),f||h})(e,t),{useDebugValue:lde}=H,{useSyncExternalStoreWithSelector:ude}=Cp,cde=e=>e;var dde={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",i=1,o=2,s=1/0,a=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object Promise]",b="[object RegExp]",_="[object Set]",w="[object String]",x="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",A="[object DataView]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,S=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,R=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[l]=B[u]=B[C]=B[c]=B[A]=B[d]=B[h]=B[f]=B[m]=B[g]=B[v]=B[b]=B[_]=B[w]=B[E]=!1;var M="object"==typeof n&&n&&n.Object===Object&&n,F="object"==typeof self&&self&&self.Object===Object&&self,I=M||F||Function("return this")(),N=t&&!t.nodeType&&t,L=N&&e&&!e.nodeType&&e,j=L&&L.exports===N&&M.process,U=function(){try{return j&&j.binding("util")}catch(she){}}(),z=U&&U.isTypedArray;function V(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(she){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var $,X,q=Array.prototype,K=Function.prototype,Y=Object.prototype,Z=I["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=K.toString,ee=Y.hasOwnProperty,te=Y.toString,re=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=I.Symbol,ie=I.Uint8Array,oe=Y.propertyIsEnumerable,se=q.splice,ae=($=Object.keys,X=Object,function(e){return $(X(e))}),le=je(I,"DataView"),ue=je(I,"Map"),ce=je(I,"Promise"),de=je(I,"Set"),he=je(I,"WeakMap"),fe=je(Object,"create"),pe=Xe(le),me=Xe(ue),ge=Xe(ce),ve=Xe(de),ye=Xe(he),be=ne?ne.prototype:void 0,_e=be?be.valueOf:void 0,we=be?be.toString:void 0;function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ce;++t<r;)this.add(e[t])}function De(e){this.__data__=new Ee(e)}function Te(e,t){var r=Ze(e)||Ye(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!ee.call(e,o)||i&&("length"==o||ze(o,n))||r.push(o);return r}function Se(e,t){for(var r=e.length;r--;)if(Ke(e[r][0],t))return r;return-1}xe.prototype.clear=function(){this.__data__=fe?fe(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:ee.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,r=Se(t,e);return!(r<0||(r==t.length-1?t.pop():se.call(t,r,1),0))},Ee.prototype.get=function(e){var t=this.__data__,r=Se(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Se(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Se(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new xe,map:new(ue||Ee),string:new xe}},Ce.prototype.delete=function(e){return Le(this,e).delete(e)},Ce.prototype.get=function(e){return Le(this,e).get(e)},Ce.prototype.has=function(e){return Le(this,e).has(e)},Ce.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,r),this},Ae.prototype.has=function(e){return this.__data__.has(e)},De.prototype.clear=function(){this.__data__=new Ee},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var n=r.__data__;if(!ue||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var ke=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===r(o[l],l,o))break}return t}}();function Pe(e,t){for(var r=0,n=(t=Ve(t,e)?[t]:Ie(t)).length;null!=e&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function Re(e,t){return null!=e&&t in Object(e)}function Oe(e,t,r,n,s){return e===t||(null==e||null==t||!tt(e)&&!rt(t)?e!=e&&t!=t:function(e,t,r,n,s,a){var f=Ze(e),p=Ze(t),y=u,E=u;f||(y=(y=Ue(e))==l?v:y),p||(E=(E=Ue(t))==l?v:E);var D=y==v&&!G(e),T=E==v&&!G(t),S=y==E;if(S&&!D)return a||(a=new De),f||it(e)?Ne(e,t,r,n,s,a):function(e,t,r,n,s,a,l){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!n(new ie(e),new ie(t)));case c:case d:case g:return Ke(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case w:return e==t+"";case m:var u=H;case _:var f=a&o;if(u||(u=W),e.size!=t.size&&!f)return!1;var p=l.get(e);if(p)return p==t;a|=i,l.set(e,t);var v=Ne(u(e),u(t),n,s,a,l);return l.delete(e),v;case x:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,y,r,n,s,a);if(!(s&o)){var k=D&&ee.call(e,"__wrapped__"),P=T&&ee.call(t,"__wrapped__");if(k||P){var R=k?e.value():e,O=P?t.value():t;return a||(a=new De),r(R,O,n,s,a)}}return!!S&&(a||(a=new De),function(e,t,r,n,i,s){var a=i&o,l=ot(e),u=l.length,c=ot(t),d=c.length;if(u!=d&&!a)return!1;for(var h=u;h--;){var f=l[h];if(!(a?f in t:ee.call(t,f)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var m=!0;s.set(e,t),s.set(t,e);for(var g=a;++h<u;){var v=e[f=l[h]],y=t[f];if(n)var b=a?n(y,v,f,t,e,s):n(v,y,f,e,t,s);if(!(void 0===b?v===y||r(v,y,n,i,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}(e,t,r,n,s,a))}(e,t,Oe,r,n,s))}function Be(e){return!(!tt(e)||function(e){return!!Q&&Q in e}(e))&&(Je(e)||G(e)?re:R).test(Xe(e))}function Me(e){return"function"==typeof e?e:null==e?st:"object"==typeof e?Ze(e)?function(e,t){return Ve(e)&&Ge(t)?He($e(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:Pe(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Ve(t,e)?[t]:Ie(t);for(var n,i=-1,o=t.length;++i<o;){var s=$e(t[i]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}return n||!!(o=e?e.length:0)&&et(o)&&ze(s,o)&&(Ze(e)||Ye(e))}(e,t,Re)}(r,e):Oe(t,n,void 0,i|o)}}(e[0],e[1]):(r=function(e){for(var t=ot(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ge(i)]}return t}(t=e),1==r.length&&r[0][2]?He(r[0][0],r[0][1]):function(e){return e===t||function(e,t,r,n){var s=r.length,a=s,l=!n;if(null==e)return!a;for(e=Object(e);s--;){var u=r[s];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var c=(u=r[s])[0],d=e[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var f=new De;if(n)var p=n(d,h,c,e,t,f);if(!(void 0===p?Oe(h,d,n,i|o,f):p))return!1}}return!0}(e,t,r)}):function(e){return Ve(e)?(t=$e(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Pe(t,e)}}(e);var t}(e);var t,r}function Fe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Y,t!==n)return ae(e);var t,r,n,i=[];for(var o in Object(e))ee.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Ie(e){return Ze(e)?e:We(e)}function Ne(e,t,r,n,s,a){var l=s&o,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var h=-1,f=!0,p=s&i?new Ae:void 0;for(a.set(e,t),a.set(t,e);++h<u;){var m=e[h],g=t[h];if(n)var v=l?n(g,m,h,t,e,a):n(m,g,h,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!V(t,(function(e,t){if(!p.has(t)&&(m===e||r(m,e,n,s,a)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!r(m,g,n,s,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Le(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function je(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Be(r)?r:void 0}var Ue=function(e){return te.call(e)};function ze(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e,t){if(Ze(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!nt(e))||T.test(e)||!D.test(e)||null!=t&&e in Object(t)}function Ge(e){return e==e&&!tt(e)}function He(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}(le&&Ue(new le(new ArrayBuffer(1)))!=A||ue&&Ue(new ue)!=m||ce&&Ue(ce.resolve())!=y||de&&Ue(new de)!=_||he&&Ue(new he)!=E)&&(Ue=function(e){var t=te.call(e),r=t==v?e.constructor:void 0,n=r?Xe(r):void 0;if(n)switch(n){case pe:return A;case me:return m;case ge:return y;case ve:return _;case ye:return E}return t});var We=qe((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(nt(e))return we?we.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var r=[];return S.test(e)&&r.push(""),e.replace(k,(function(e,t,n,i){r.push(n?i.replace(P,"$1"):t||e)})),r}));function $e(e){if("string"==typeof e||nt(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function Xe(e){if(null!=e){try{return J.call(e)}catch(she){}try{return e+""}catch(she){}}return""}function qe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(qe.Cache||Ce),r}function Ke(e,t){return e===t||e!=e&&t!=t}function Ye(e){return function(e){return rt(e)&&Qe(e)}(e)&&ee.call(e,"callee")&&(!oe.call(e,"callee")||te.call(e)==l)}qe.Cache=Ce;var Ze=Array.isArray;function Qe(e){return null!=e&&et(e.length)&&!Je(e)}function Je(e){var t=tt(e)?te.call(e):"";return t==f||t==p}function et(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function tt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function rt(e){return!!e&&"object"==typeof e}function nt(e){return"symbol"==typeof e||rt(e)&&te.call(e)==x}var it=z?function(e){return function(t){return e(t)}}(z):function(e){return rt(e)&&et(e.length)&&!!B[te.call(e)]};function ot(e){return Qe(e)?Te(e):Fe(e)}function st(e){return e}e.exports=function(e,t){var r={};return t=Me(t),function(e,t){e&&ke(e,t,ot)}(e,(function(e,n,i){r[n]=t(e,n,i)})),r}}(dde,dde.exports);var hde=Object.defineProperty,fde=Object.defineProperties,pde=Object.getOwnPropertyDescriptors,mde=Object.getOwnPropertySymbols,gde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable,yde=(e,t,r)=>t in e?hde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bde=(e,t)=>{for(var r in t||(t={}))gde.call(t,r)&&yde(e,r,t[r]);if(mde)for(var r of mde(t))vde.call(t,r)&&yde(e,r,t[r]);return e},_de=(e,t)=>fde(e,pde(t)),wde=e=>(t,r,n)=>{const i=(e,r)=>t(jL(e),!0,r);return n.setState=i,e(i,r,n)},xde=e=>_de(bde({},e),{extendSelectors:t=>xde(((e,t)=>{const r=bde({},t.use),n=bde({},t.useTracked),i=bde({},t.get);return Object.keys(e(t.store.getState(),t.get,t)).forEach((o=>{r[o]=(...r)=>t.useStore((n=>(0,e(n,t.get,t)[o])(...r))),n[o]=(...r)=>{const n=t.useTrackedStore();return(0,e(n,t.get,t)[o])(...r)},i[o]=(...r)=>(0,e(t.store.getState(),t.get,t)[o])(...r)})),_de(bde({},t),{get:i,use:r,useTracked:n})})(t,e)),extendActions:t=>xde(((e,t)=>{const r=e(t.set,t.get,t);return _de(bde({},t),{set:bde(bde({},t.set),r)})})(t,e))}),Ede=e=>(t,r={})=>{var n,i;const{middlewares:o=[],devtools:s,persist:a,immer:l}=r;UL(null!=(n=null==l?void 0:l.enabledAutoFreeze)&&n),(null==l?void 0:l.enableMapSet)&&NL();const u=[wde,...o];if(null==a?void 0:a.enabled){const t=_de(bde({},a),{name:null!=(i=a.name)?i:e});u.push((e=>ade(e,t)))}(null==s?void 0:s.enabled)&&u.push((t=>nde(t,_de(bde({},s),{name:e})))),u.push(rp);const c=function(e,...t){return t.reduce(((e,t)=>t(e)),e)}((()=>t),...u),d=(e,t)=>function(e,t=cde,r){const n=ude(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return lde(n),n}(c,e,t),h=((e,t)=>{const r={};return Object.keys(e.getState()).forEach((n=>{r[n]=r=>{if(e.getState()[n]===r)return;const i=n.replace(/^\S/,(e=>e.toUpperCase()));e.setState((e=>{e[n]=r}),`@@${t}/set${i}`)}})),r})(c,e),f=((e,t)=>{const r={};return Object.keys(t.getState()).forEach((t=>{r[t]=r=>e((e=>e[t]),r)})),r})(d,c),p=(e=>{const t={};return Object.keys(e.getState()).forEach((r=>{t[r]=()=>e.getState()[r]})),t})(c),m=(g=d,()=>{const[,e]=G.useReducer((e=>e+1),0),t=new WeakMap,r=G.useRef(),n=G.useRef(),i=G.useRef();G.useEffect((()=>{r.current=t,n.current!==i.current&&ede(n.current,i.current,t,new WeakMap)&&(n.current=i.current,e())}));const o=G.useCallback((e=>(i.current=e,n.current&&n.current!==e&&r.current&&!ede(n.current,e,r.current,new WeakMap)?n.current:(n.current=e,e))),[]),s=g(o),a=G.useMemo((()=>new WeakMap),[]);return Jce(s,t,a)});var g;const v=((e,t)=>{const r={};return Object.keys(t.getState()).forEach((t=>{r[t]=()=>e()[t]})),r})(m,c),y={get:bde({state:c.getState},p),name:e,set:bde({state:(t,r)=>{c.setState(t,r||`@@${e}/setState`)},mergeState:(t,r)=>{c.setState((e=>{Object.assign(e,t)}),r||`@@${e}/mergeState`)}},h),store:c,use:f,useTracked:v,useStore:d,useTrackedStore:m,extendSelectors:()=>y,extendActions:()=>y};return xde(y)},Cde=function(e){return e=String(e||""),Tde.test(e)?"rtl":Sde.test(e)?"ltr":"neutral"},Ade="---",Dde="A-Za-z--------",Tde=new RegExp("^[^"+Dde+"]*["+Ade+"]"),Sde=new RegExp("^[^"+Ade+"]*["+Dde+"]");const kde=i(Cde);var Pde=jte,Rde=/\s/,Ode=function(e){for(var t=e.length;t--&&Rde.test(e.charAt(t)););return t},Bde=Ode,Mde=/^\s+/,Fde=function(e){return e?e.slice(0,Bde(e)+1).replace(Mde,""):e},Ide=Fde,Nde=Qte,Lde=Wae,jde=/^[-+]0x[0-9a-f]+$/i,Ude=/^0b[01]+$/i,zde=/^0o[0-7]+$/i,Vde=parseInt,Gde=Qte,Hde=function(){return Pde.Date.now()},Wde=function(e){if("number"==typeof e)return e;if(Lde(e))return NaN;if(Nde(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Nde(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ide(e);var r=Ude.test(e);return r||zde.test(e)?Vde(e.slice(2),r?2:8):jde.test(e)?NaN:+e},$de=Math.max,Xde=Math.min,qde=function(e,t,r){var n,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,o=i;return n=i=void 0,u=t,s=e.apply(o,r)}function p(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-u>=o}function m(){var e=Hde();if(p(e))return g(e);a=setTimeout(m,function(e){var r=t-(e-l);return d?Xde(r,o-(e-u)):r}(e))}function g(e){return a=void 0,h&&n?f(e):(n=i=void 0,s)}function v(){var e=Hde(),r=p(e);if(n=arguments,i=this,l=e,r){if(void 0===a)return function(e){return u=e,a=setTimeout(m,t),c?f(e):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,t),f(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=Wde(t)||0,Gde(r)&&(c=!!r.leading,o=(d="maxWait"in r)?$de(Wde(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=l=i=a=void 0},v.flush=function(){return void 0===a?s:g(Hde())},v};const Kde=i(qde);var Yde=qde,Zde=Qte,Qde=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Zde(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Yde(e,t,{leading:n,maxWait:t,trailing:i})};const Jde=i(Qde),ehe=e=>"object"==typeof e&&null!=e&&1===e.nodeType,the=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,rhe=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return the(r.overflowY,t)||the(r.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},nhe=(e,t,r,n,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=r||s>=t&&a>=r?o-e-n:s>t&&a<r||o<e&&a>r?s-t+i:0,ihe=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},ohe=(e,t)=>{var r,n,i,o;if("undefined"==typeof document)return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!ehe(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;ehe(p)&&d(p);){if(p=ihe(p),p===h){f.push(p);break}null!=p&&p===document.body&&rhe(p)&&!rhe(document.documentElement)||null!=p&&rhe(p,c)&&f.push(p)}const m=null!=(n=null==(r=window.visualViewport)?void 0:r.width)?n:innerWidth,g=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:v,scrollY:y}=window,{height:b,width:_,top:w,right:x,bottom:E,left:C}=e.getBoundingClientRect();let A="start"===a||"nearest"===a?w:"end"===a?E:w+b/2,D="center"===l?C+_/2:"end"===l?x:C;const T=[];for(let S=0;S<f.length;S++){const e=f[S],{height:t,width:r,top:n,right:i,bottom:o,left:u}=e.getBoundingClientRect();if("if-needed"===s&&w>=0&&C>=0&&E<=g&&x<=m&&w>=n&&E<=o&&C>=u&&x<=i)return T;const c=getComputedStyle(e),d=parseInt(c.borderLeftWidth,10),p=parseInt(c.borderTopWidth,10),k=parseInt(c.borderRightWidth,10),P=parseInt(c.borderBottomWidth,10);let R=0,O=0;const B="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-k:0,M="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-P:0,F="offsetWidth"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,I="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)R="start"===a?A:"end"===a?A-g:"nearest"===a?nhe(y,y+g,g,p,P,y+A,y+A+b,b):A-g/2,O="start"===l?D:"center"===l?D-m/2:"end"===l?D-m:nhe(v,v+m,m,d,k,v+D,v+D+_,_),R=Math.max(0,R+y),O=Math.max(0,O+v);else{R="start"===a?A-n-p:"end"===a?A-o+P+M:"nearest"===a?nhe(n,o,t,p,P+M,A,A+b,b):A-(n+t/2)+M/2,O="start"===l?D-u-d:"center"===l?D-(u+r/2)+B/2:"end"===l?D-i+k+B:nhe(u,i,r,d,k+B,D,D+_,_);const{scrollLeft:s,scrollTop:c}=e;R=Math.max(0,Math.min(c+R/I,e.scrollHeight-t/I+M)),O=Math.max(0,Math.min(s+O/F,e.scrollWidth-r/F+B)),A+=c-R,D+=s-O}T.push({el:e,top:R,left:O})}return T};function she(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const r=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(ohe(e,t));const n="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:o,left:s}of ohe(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=o-r.top+r.bottom,t=s-r.left+r.right;i.scroll({top:e,left:t,behavior:n})}}var ahe,lhe=[],uhe="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ahe||(ahe={}));var che,dhe=function(e){return Object.freeze(e)},hhe=function(e,t){this.inlineSize=e,this.blockSize=t,dhe(this)},fhe=function(){function e(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,dhe(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),phe=function(e){return e instanceof SVGElement&&"getBBox"in e},mhe=function(e){if(phe(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||e.getClientRects().length)},ghe=function(e){var t;if(e instanceof Element)return!0;var r=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},vhe="undefined"!=typeof window?window:{},yhe=new WeakMap,bhe=/auto|scroll/,_he=/^tb|vertical/,whe=/msie|trident/i.test(vhe.navigator&&vhe.navigator.userAgent),xhe=function(e){return parseFloat(e||"0")},Ehe=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new hhe((r?t:e)||0,(r?e:t)||0)},Che=dhe({devicePixelContentBoxSize:Ehe(),borderBoxSize:Ehe(),contentBoxSize:Ehe(),contentRect:new fhe(0,0,0,0)}),Ahe=function(e,t){if(void 0===t&&(t=!1),yhe.has(e)&&!t)return yhe.get(e);if(mhe(e))return yhe.set(e,Che),Che;var r=getComputedStyle(e),n=phe(e)&&e.ownerSVGElement&&e.getBBox(),i=!whe&&"border-box"===r.boxSizing,o=_he.test(r.writingMode||""),s=!n&&bhe.test(r.overflowY||""),a=!n&&bhe.test(r.overflowX||""),l=n?0:xhe(r.paddingTop),u=n?0:xhe(r.paddingRight),c=n?0:xhe(r.paddingBottom),d=n?0:xhe(r.paddingLeft),h=n?0:xhe(r.borderTopWidth),f=n?0:xhe(r.borderRightWidth),p=n?0:xhe(r.borderBottomWidth),m=d+u,g=l+c,v=(n?0:xhe(r.borderLeftWidth))+f,y=h+p,b=a?e.offsetHeight-y-e.clientHeight:0,_=s?e.offsetWidth-v-e.clientWidth:0,w=i?m+v:0,x=i?g+y:0,E=n?n.width:xhe(r.width)-w-_,C=n?n.height:xhe(r.height)-x-b,A=E+m+_+v,D=C+g+b+y,T=dhe({devicePixelContentBoxSize:Ehe(Math.round(E*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Ehe(A,D,o),contentBoxSize:Ehe(E,C,o),contentRect:new fhe(d,l,E,C)});return yhe.set(e,T),T},Dhe=function(e,t,r){var n=Ahe(e,r),i=n.borderBoxSize,o=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case ahe.DEVICE_PIXEL_CONTENT_BOX:return s;case ahe.BORDER_BOX:return i;default:return o}},The=function(e){var t=Ahe(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=dhe([t.borderBoxSize]),this.contentBoxSize=dhe([t.contentBoxSize]),this.devicePixelContentBoxSize=dhe([t.devicePixelContentBoxSize])},She=function(e){if(mhe(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},khe=function(){var e=1/0,t=[];lhe.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(t){var r=new The(t.target),i=She(t.target);n.push(r),t.lastReportedSize=Dhe(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){r.callback.call(r.observer,n,r.observer)})),r.activeTargets.splice(0,r.activeTargets.length)}}));for(var r=0,n=t;r<n.length;r++)(0,n[r])();return e},Phe=function(e){lhe.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(r){r.isActive()&&(She(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))}))}))},Rhe=function(){var e,t=0;for(Phe(t);lhe.some((function(e){return e.activeTargets.length>0}));)t=khe(),Phe(t);return lhe.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:uhe}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=uhe),window.dispatchEvent(e)),t>0},Ohe=[],Bhe=function(e){if(!che){var t=0,r=document.createTextNode("");new MutationObserver((function(){return Ohe.splice(0).forEach((function(e){return e()}))})).observe(r,{characterData:!0}),che=function(){r.textContent="".concat(t?t--:t++)}}Ohe.push(e),che()},Mhe=0,Fhe={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ihe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Nhe=function(e){return void 0===e&&(e=0),Date.now()+e},Lhe=!1,jhe=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Lhe){Lhe=!0;var r=Nhe(e);!function(e){Bhe((function(){requestAnimationFrame(e)}))}((function(){var n=!1;try{n=Rhe()}finally{if(Lhe=!1,e=r-Nhe(),!Mhe)return;n?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Fhe)};document.body?t():vhe.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ihe.forEach((function(t){return vhe.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ihe.forEach((function(t){return vhe.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),Uhe=new jhe,zhe=function(e){!Mhe&&e>0&&Uhe.start(),!(Mhe+=e)&&Uhe.stop()},Vhe=function(){function e(e,t){this.target=e,this.observedBox=t||ahe.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=Dhe(this.target,this.observedBox,!0);return e=this.target,phe(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Ghe=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Hhe=new WeakMap,Whe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},$he=function(){function e(){}return e.connect=function(e,t){var r=new Ghe(e,t);Hhe.set(e,r)},e.observe=function(e,t,r){var n=Hhe.get(e),i=0===n.observationTargets.length;Whe(n.observationTargets,t)<0&&(i&&lhe.push(n),n.observationTargets.push(new Vhe(t,r&&r.box)),zhe(1),Uhe.schedule())},e.unobserve=function(e,t){var r=Hhe.get(e),n=Whe(r.observationTargets,t),i=1===r.observationTargets.length;n>=0&&(i&&lhe.splice(lhe.indexOf(r),1),r.observationTargets.splice(n,1),zhe(-1))},e.disconnect=function(e){var t=this,r=Hhe.get(e);r.observationTargets.slice().forEach((function(r){return t.unobserve(e,r.target)})),r.activeTargets.splice(0,r.activeTargets.length)},e}(),Xhe=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");$he.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ghe(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");$he.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ghe(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");$he.unobserve(this,e)},e.prototype.disconnect=function(){$he.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function qhe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Khe(e){return Khe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Khe(e)}function Yhe(e){var t=function(e,t){if("object"!==Khe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Khe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Khe(t)?t:String(t)}function Zhe(e,t,r){return(t=Yhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qhe,Jhe,efe=G.createContext(null),tfe=()=>{var e=G.useContext(efe);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},rfe=parseInt(H.version.split(".")[0],10),nfe="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ife="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),ofe="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),sfe="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),afe="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),lfe="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),ufe="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),cfe="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),dfe=ofe&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),hfe="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),ffe="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),pfe="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),mfe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&null!==(Qhe=navigator.userAgent.match(/Version\/(\d+)/))&&void 0!==Qhe&&Qhe[1]&&parseInt(null===(Jhe=navigator.userAgent.match(/Version\/(\d+)/))||void 0===Jhe?void 0:Jhe[1],10);var gfe=(!cfe||!dfe)&&!lfe&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,vfe=new WeakMap,yfe=new WeakMap,bfe=new WeakMap,_fe=new WeakMap,wfe=new WeakMap,xfe=new WeakMap,Efe=new WeakMap,Cfe=new WeakMap,Afe=new WeakMap,Dfe=new WeakMap,Tfe=new WeakMap,Sfe=new WeakMap,kfe=new WeakMap,Pfe=new WeakMap,Rfe=new WeakMap,Ofe=new WeakMap,Bfe=new WeakMap,Mfe=new WeakMap,Ffe=new WeakMap,Ife=new WeakMap,Nfe=new WeakMap,Lfe=Symbol("placeholder"),jfe=Symbol("mark-placeholder"),Ufe=globalThis.Node,zfe=globalThis.Text,Vfe=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Gfe=e=>Hfe(e)&&1===e.nodeType,Hfe=e=>{var t=Vfe(e);return!!t&&e instanceof t.Node},Wfe=e=>{var t=e&&e.anchorNode&&Vfe(e.anchorNode);return!!t&&e instanceof t.Selection},$fe=e=>Hfe(e)&&3===e.nodeType,Xfe=(e,t,r)=>{for(var n,{childNodes:i}=e,o=i[t],s=t,a=!1,l=!1;(Hfe(n=o)&&8===n.nodeType||Gfe(o)&&0===o.childNodes.length||Gfe(o)&&"false"===o.getAttribute("contenteditable"))&&(!a||!l);)s>=i.length?(a=!0,s=t-1,r="backward"):s<0?(l=!0,s=t+1,r="forward"):(o=i[s],t=s,s+="forward"===r?1:-1);return[o,t]},qfe=(e,t,r)=>{var[n]=Xfe(e,t,r);return n},Kfe=e=>{var t="";if($fe(e)&&e.nodeValue)return e.nodeValue;if(Gfe(e)){for(var r of Array.from(e.childNodes))t+=Kfe(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},Yfe=/data-slate-fragment="(.+?)"/m,Zfe=e=>null!=e.getSelection?e.getSelection():document.getSelection(),Qfe=(e,t,r)=>{var{target:n}=t;if(Gfe(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:i}=rpe.getWindow(e);if(i.contains(n))return rpe.hasDOMNode(e,n,{editable:!0});var o=r.find((e=>{var{addedNodes:t,removedNodes:r}=e;for(var i of t)if(i===n||i.contains(n))return!0;for(var o of r)if(o===n||o.contains(n))return!0}));return!(!o||o===t)&&Qfe(e,o,r)},Jfe=(e,t)=>Boolean(e.compareDocumentPosition(t)&Ufe.DOCUMENT_POSITION_PRECEDING),epe=0;class tpe{constructor(){Zhe(this,"id",void 0),this.id="".concat(epe++)}}var rpe={androidPendingDiffs:e=>Mfe.get(e),androidScheduleFlush:e=>{var t;null===(t=Rfe.get(e))||void 0===t||t()},blur:e=>{var t=rpe.toDOMNode(e,e),r=rpe.findDocumentOrShadowRoot(e);Tfe.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=rpe.findDocumentOrShadowRoot(e),n=Zfe(r);n&&n.rangeCount>0&&n.removeAllRanges(),t&&W9.deselect(e)},findDocumentOrShadowRoot:e=>{var t=rpe.toDOMNode(e,e),r=t.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:i}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o,s=rpe.toSlateNode(e,t.target),a=rpe.findPath(e,s);if($7.isElement(s)&&t9.isVoid(e,s)){var l=i.getBoundingClientRect(),u=e.isInline(s)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,c=t9.point(e,a,{edge:u?"start":"end"}),d=u?t9.before(e,c):t9.after(e,c);if(d)return t9.range(e,d)}var{document:h}=rpe.getWindow(e);if(h.caretRangeFromPoint)o=h.caretRangeFromPoint(r,n);else{var f=h.caretPositionFromPoint(r,n);f&&((o=h.createRange()).setStart(f.offsetNode,f.offset),o.setEnd(f.offsetNode,f.offset))}if(!o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return rpe.toSlateRange(e,o,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var r=Cfe.get(t);return r||(r=new tpe,Cfe.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var i=yfe.get(n);if(null==i){if(t9.isEditor(n))return r;break}var o=vfe.get(n);if(null==o)break;r.unshift(o),n=i}throw new Error("Unable to find the path for Slate node: ".concat(a9.stringify(t)))},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!Tfe.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0)setTimeout((()=>{rpe.focus(e,{retries:t.retries-1})}),10);else{var r=rpe.toDOMNode(e,e),n=rpe.findDocumentOrShadowRoot(e);if(n.activeElement!==r){if(e.selection&&n instanceof Document){var i=Zfe(n),o=rpe.toDOMRange(e,e.selection);null==i||i.removeAllRanges(),null==i||i.addRange(o)}e.selection||W9.select(e,t9.start(e,[])),Tfe.set(e,!0),r.focus({preventScroll:!0})}}}},getWindow:e=>{var t=bfe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=n,o=rpe.toDOMNode(e,e);try{r=Gfe(t)?t:t.parentElement}catch(HEe){if(HEe instanceof Error&&!HEe.message.includes('Permission denied to access property "nodeType"'))throw HEe}return!!r&&!(r.closest("[data-slate-editor]")!==o||i&&!r.isContentEditable&&("boolean"!=typeof r.isContentEditable||r.closest('[contenteditable="false"]')!==o)&&!r.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>Hfe(t)&&rpe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return t9.hasPath(e,r.path)&&t9.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>rpe.hasEditableTarget(e,t)||rpe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Hfe(t)&&rpe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Sfe.get(e),isFocused:e=>!!Tfe.get(e),isReadOnly:e=>!!Dfe.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Dfe.get(e))return!1;var r=rpe.hasTarget(e,t)&&rpe.toSlateNode(e,t);return $7.isElement(r)&&t9.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=Afe.get(e),n=t9.isEditor(t)?_fe.get(e):null==r?void 0:r.get(rpe.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(a9.stringify(t)));return n},toDOMPoint:(e,t)=>{var r,[n]=t9.node(e,t.path),i=rpe.toDOMNode(e,n);t9.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o=Array.from(i.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0,a=0;a<o.length;a++){var l=o[a],u=l.childNodes[0];if(null!=u&&null!=u.textContent){var{length:c}=u.textContent,d=l.getAttribute("data-slate-length"),h=s+(null==d?c:parseInt(d,10)),f=o[a+1];if(t.offset===h&&null!=f&&f.hasAttribute("data-slate-mark-placeholder")){var p,m=f.childNodes[0];r=[m instanceof zfe?m:f,null!==(p=f.textContent)&&void 0!==p&&p.startsWith("\ufeff")?1:0];break}if(t.offset<=h){r=[u,Math.min(c,Math.max(0,t.offset-s))];break}s=h}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(a9.stringify(t)));return r},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,i=H7.isBackward(t),o=rpe.toDOMPoint(e,r),s=H7.isCollapsed(t)?o:rpe.toDOMPoint(e,n),a=rpe.getWindow(e).document.createRange(),[l,u]=i?s:o,[c,d]=i?o:s,h=!!(Gfe(l)?l:l.parentElement).getAttribute("data-slate-zero-width"),f=!!(Gfe(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return a.setStart(l,h?1:u),a.setEnd(c,f?1:d),a},toSlateNode:(e,t)=>{var r=Gfe(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?xfe.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:i,searchDirection:o="backward"}=r,[s,a]=n?t:(e=>{var[t,r]=e;if(Gfe(t)&&t.childNodes.length){var n=r===t.childNodes.length,i=n?r-1:r;for([t,i]=Xfe(t,i,n?"backward":"forward"),n=i<r;Gfe(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=qfe(t,o,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),l=s.parentNode,u=null,c=0;if(l){var d,h,f=rpe.toDOMNode(e,e),p=l.closest('[data-slate-void="true"]'),m=p&&f.contains(p)?p:null,g=l.closest('[contenteditable="false"]'),v=g&&f.contains(g)?g:null,y=l.closest("[data-slate-leaf]"),b=null;if(y){if(u=y.closest('[data-slate-node="text"]')){var _=rpe.getWindow(e).document.createRange();_.setStart(u,0),_.setEnd(s,a);var w=_.cloneContents();[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))].forEach((e=>{ofe&&!n&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),c=w.textContent.length,b=u}}else if(m){for(var x=m.querySelectorAll("[data-slate-leaf]"),E=0;E<x.length;E++){var C=x[E];if(rpe.hasDOMNode(e,C)){y=C;break}}y?(u=y.closest('[data-slate-node="text"]'),c=(b=y).textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))):c=1}else if(v){var A,D,T=e=>e?e.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],S=v.closest('[data-slate-node="element"]');y="forward"===o?null!==(A=[...T(S),...T(null==S?void 0:S.nextElementSibling)].find((e=>((e,t)=>Boolean(e.compareDocumentPosition(t)&Ufe.DOCUMENT_POSITION_FOLLOWING))(v,e))))&&void 0!==A?A:null:null!==(D=[...T(null==S?void 0:S.previousElementSibling),...T(S)].findLast((e=>Jfe(v,e))))&&void 0!==D?D:null,y&&(u=y.closest('[data-slate-node="text"]'),b=y,"forward"===o?c=0:(c=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))))}b&&c===b.textContent.length&&ofe&&"z"===b.getAttribute("data-slate-zero-width")&&null!==(d=b.textContent)&&void 0!==d&&d.startsWith("\ufeff")&&(l.hasAttribute("data-slate-zero-width")||sfe&&null!==(h=b.textContent)&&void 0!==h&&h.endsWith("\n\n"))&&c--}if(ofe&&!u&&!n){var k=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(k&&rpe.hasDOMNode(e,k,{editable:!0})){var P=rpe.toSlateNode(e,k),{path:R,offset:O}=t9.start(e,rpe.findPath(e,P));return k.querySelector("[data-slate-leaf]")||(O=a),{path:R,offset:O}}}if(!u){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var B=rpe.toSlateNode(e,u);return{path:rpe.findPath(e,B),offset:c}},toSlateRange:(e,t,r)=>{var n,i,o,s,a,l,{exactMatch:u,suppressThrow:c}=r;if(Wfe(t)?t.anchorNode:t.startContainer)if(Wfe(t)){if(sfe&&t.rangeCount>1){s=t.focusNode;var d=t.getRangeAt(0),h=t.getRangeAt(t.rangeCount-1);if(s instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement){function w(e){return e.childElementCount>0?w(e.children[0]):e}var f=d.startContainer,p=h.startContainer,m=w(f.children[d.startOffset]),g=w(p.children[h.startOffset]);a=0,i=g.childNodes.length>0?g.childNodes[0]:g,s=m.childNodes.length>0?m.childNodes[0]:m,o=g instanceof HTMLElement?g.innerHTML.length:0}else d.startContainer===s?(i=h.endContainer,o=h.endOffset,a=d.startOffset):(i=d.startContainer,o=d.endOffset,a=h.startOffset)}else i=t.anchorNode,o=t.anchorOffset,s=t.focusNode,a=t.focusOffset;l=ufe&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(i)||sfe?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else i=t.startContainer,o=t.startOffset,s=t.endContainer,a=t.endOffset,l=t.collapsed;if(null==i||null==s||null==o||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));sfe&&null!==(n=s.textContent)&&void 0!==n&&n.endsWith("\n\n")&&a===s.textContent.length&&a--;var v=rpe.toSlatePoint(e,[i,o],{exactMatch:u,suppressThrow:c});if(!v)return null;var y=Jfe(i,s)||i===s&&a<o,b=l?v:rpe.toSlatePoint(e,[s,a],{exactMatch:u,suppressThrow:c,searchDirection:y?"forward":"backward"});if(!b)return null;var _={anchor:v,focus:b};return H7.isExpanded(_)&&H7.isForward(_)&&Gfe(s)&&t9.void(e,{at:_.focus,mode:"highest"})&&(_=t9.unhangRange(e,_,{voids:!0})),_}};function npe(e,t){var{path:r,diff:n}=t;if(!t9.hasPath(e,r))return!1;var i=Y7.get(e,r);if(!f9.isText(i))return!1;if(n.start!==i.text.length||0===n.text.length)return i.text.slice(n.start,n.start+n.text.length)===n.text;var o=R7.next(r);if(!t9.hasPath(e,o))return!1;var s=Y7.get(e,o);return f9.isText(s)&&s.text.startsWith(n.text)}function ipe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end)),e)}function ope(e,t){var{start:r,end:n,text:i}=t,o=e.slice(r,n),s=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}(o,i),a=function(e,t,r){for(var n=Math.min(e.length,t.length,r),i=0;i<n;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return n}(o,i,Math.min(o.length-s,i.length-s)),l={start:r+s,end:n-a,text:i.slice(s,i.length-a)};return l.start===l.end&&0===l.text.length?null:l}function spe(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}function ape(e,t){var{path:r,offset:n}=t;if(!t9.hasPath(e,r))return null;var i=Y7.get(e,r);if(!f9.isText(i))return null;var o=t9.above(e,{match:t=>$7.isElement(t)&&t9.isBlock(e,t),at:r});if(!o)return null;for(;n>i.text.length;){var s=t9.next(e,{at:r,match:f9.isText});if(!s||!R7.isDescendant(s[1],o[1]))return null;n-=i.text.length,i=s[0],r=s[1]}return{path:r,offset:n}}function lpe(e,t){var r=ape(e,t.anchor);if(!r)return null;if(H7.isCollapsed(t))return{anchor:r,focus:r};var n=ape(e,t.focus);return n?{anchor:r,focus:n}:null}function upe(e,t,r){var n=Mfe.get(e),i=null==n?void 0:n.find((e=>{var{path:r}=e;return R7.equals(r,t.path)}));if(!i||t.offset<=i.diff.start)return o9.transform(t,r,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var s={path:t.path,offset:o.start},a=o9.transform(s,r,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-o.start}:null}var l={path:t.path,offset:t.offset-o.text.length+o.end-o.start},u=o9.transform(l,r,{affinity:"backward"});return u?"split_node"===r.type&&R7.equals(r.path,t.path)&&l.offset<r.position&&o.start<r.position?u:{path:u.path,offset:u.offset+o.text.length-o.end+o.start}:null}function cpe(e,t,r){var n=upe(e,t.anchor,r);if(!n)return null;if(H7.isCollapsed(t))return{anchor:n,focus:n};var i=upe(e,t.focus,r);return i?{anchor:n,focus:i}:null}function dpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hpe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dpe(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fpe(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,i=!1,o=null,s=null,a=null,l=0,u=!1,c=()=>{var e=Ife.get(t);if(Ife.delete(t),e){var{selection:r}=t,n=lpe(t,e);!n||r&&H7.equals(n,r)||W9.select(t,n)}},d=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),g()||m()){i||(i=!0,setTimeout((()=>i=!1))),m()&&(i="action");var e=t.selection&&t9.rangeRef(t,t.selection,{affinity:"forward"});Bfe.set(t,t.marks),Ffe.get(t),Mfe.get(t);for(var o,l=g();o=null===(d=Mfe.get(t))||void 0===d?void 0:d[0];){var d,h,f=Ofe.get(t);void 0!==f&&(Ofe.delete(t),t.marks=f),f&&!1===u&&(u=null);var p=spe(o);t.selection&&H7.equals(t.selection,p)||W9.select(t,p),o.diff.text?t9.insertText(t,o.diff.text):t9.deleteFragment(t),Mfe.set(t,null===(h=Mfe.get(t))||void 0===h?void 0:h.filter((e=>{var{id:t}=e;return t!==o.id}))),npe(t,o)||(l=!1,Ffe.delete(t),Bfe.delete(t),i="action",Ife.delete(t),r.cancel(),n.cancel(),null==e||e.unref())}var v=null==e?void 0:e.unref();if(!v||Ife.get(t)||t.selection&&H7.equals(v,t.selection)||W9.select(t,v),m())(()=>{var e=Ffe.get(t);if(Ffe.delete(t),e){if(e.at){var r=o9.isPoint(e.at)?ape(t,e.at):lpe(t,e.at);if(!r)return;var n=t9.range(t,r);t.selection&&H7.equals(t.selection,n)||W9.select(t,r)}e.run()}})();else{l&&r(),r.flush(),n.flush(),c();var y=Bfe.get(t);Bfe.delete(t),void 0!==y&&(t.marks=y,t.onChange())}}else c()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=wfe.get(t);r&&(g()||e?r.style.display="none":r.style.removeProperty("display"))},f=(e,r)=>{var n,i=null!==(n=Mfe.get(t))&&void 0!==n?n:[];Mfe.set(t,i);var o=Y7.leaf(t,e),s=i.findIndex((t=>R7.equals(t.path,e)));if(s<0)return ope(o.text,r)&&i.push({path:e,diff:r,id:l++}),void h();var a=function(e,t,r){var n=Math.min(t.start,r.start),i=Math.max(0,Math.min(t.start+t.text.length,r.end)-r.start),o=ipe(e,t,r),s=Math.max(r.start+r.text.length,t.start+t.text.length+(t.start+t.text.length>r.start?r.text.length:0)-i),a=o.slice(n,s);return ope(e,{start:n,end:Math.max(t.end,r.end-t.text.length+(t.end-t.start)),text:a})}(o.text,i[s].diff,r);if(!a)return i.splice(s,1),void h();i[s]=hpe(hpe({},i[s]),{},{diff:a})},p=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=!1,Ife.delete(t),r.cancel(),n.cancel(),m()&&d(),Ffe.set(t,{at:i,run:e}),a=setTimeout(d)},m=()=>!!Ffe.get(t),g=()=>{var e;return!(null===(e=Mfe.get(t))||void 0===e||!e.length)},v=e=>{Ife.set(t,e),s&&(clearTimeout(s),s=null);var{selection:r}=t;if(e){var n=!r||!R7.equals(r.anchor.path,e.anchor.path),i=!r||!R7.equals(r.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(n&&u||i)&&(u=!1),(n||g())&&(s=setTimeout(d,200))}},y=()=>{m()||(a=setTimeout(d))};return{flush:d,scheduleFlush:y,hasPendingDiffs:g,hasPendingAction:m,hasPendingChanges:()=>m()||g(),isFlushing:()=>i,handleUserSelect:v,handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout((()=>{Sfe.set(t,!1),d()}),25)},handleCompositionStart:e=>{Sfe.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{var r;s&&(clearTimeout(s),s=null);var{inputType:n}=e,i=null,o=e.dataTransfer||e.data||void 0;!1!==u&&"insertText"!==n&&"insertCompositionText"!==n&&(u=!1);var[a]=e.getTargetRanges();a&&(i=rpe.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!0}));var l=rpe.getWindow(t).getSelection();if(!i&&l&&(a=l,i=rpe.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0})),i=null!==(r=i)&&void 0!==r?r:t.selection){var c,d=!0;if(n.startsWith("delete")){if(H7.isExpanded(i)){var[h,m]=H7.edges(i);if(Y7.leaf(t,h.path).text.length===h.offset&&0===m.offset){var g=t9.next(t,{at:h.path,match:f9.isText});g&&R7.equals(g[1],m.path)&&(i={anchor:m,focus:m})}}var b=n.endsWith("Backward")?"backward":"forward",[_,w]=H7.edges(i),[x,E]=t9.leaf(t,_.path),C={text:"",start:_.offset,end:w.offset},A=Mfe.get(t),D=null==A?void 0:A.find((e=>R7.equals(e.path,E))),T=D?[D.diff,C]:[C];if(0===ipe(x.text,...T).length&&(d=!1),H7.isExpanded(i)){if(d&&R7.equals(i.anchor.path,i.focus.path)){var S={path:i.anchor.path,offset:_.offset},k=t9.range(t,S,S);return v(k),f(i.anchor.path,{text:"",end:w.offset,start:_.offset})}return p((()=>t9.deleteFragment(t,{direction:b})),{at:i})}}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((()=>t9.deleteFragment(t)),{at:i});case"deleteContent":case"deleteContentForward":var{anchor:P}=i;if(d&&H7.isCollapsed(i)){var R=Y7.leaf(t,P.path);if(P.offset<R.text.length)return f(P.path,{text:"",start:P.offset,end:P.offset+1})}return p((()=>t9.deleteForward(t)),{at:i});case"deleteContentBackward":var O,{anchor:B}=i,M=Wfe(a)?a.isCollapsed:!(null===(O=a)||void 0===O||!O.collapsed);return d&&M&&H7.isCollapsed(i)&&B.offset>0?f(B.path,{text:"",start:B.offset-1,end:B.offset}):p((()=>t9.deleteBackward(t)),{at:i});case"deleteEntireSoftLine":return p((()=>{t9.deleteBackward(t,{unit:"line"}),t9.deleteForward(t,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return p((()=>t9.deleteBackward(t,{unit:"block"})),{at:i});case"deleteSoftLineBackward":return p((()=>t9.deleteBackward(t,{unit:"line"})),{at:i});case"deleteHardLineForward":return p((()=>t9.deleteForward(t,{unit:"block"})),{at:i});case"deleteSoftLineForward":return p((()=>t9.deleteForward(t,{unit:"line"})),{at:i});case"deleteWordBackward":return p((()=>t9.deleteBackward(t,{unit:"word"})),{at:i});case"deleteWordForward":return p((()=>t9.deleteForward(t,{unit:"word"})),{at:i});case"insertLineBreak":return p((()=>t9.insertSoftBreak(t)),{at:i});case"insertParagraph":return p((()=>t9.insertBreak(t)),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(c=o)?void 0:c.constructor.name))return p((()=>rpe.insertData(t,o)),{at:i});var F=null!=o?o:"";if(Ofe.get(t)&&(F=F.replace("\ufeff","")),"insertText"===n&&/.*\n.*\n$/.test(F)&&(F=F.slice(0,-1)),F.includes("\n"))return p((()=>{var e=F.split("\n");e.forEach(((r,n)=>{r&&t9.insertText(t,r),n!==e.length-1&&t9.insertSoftBreak(t)}))}),{at:i});if(R7.equals(i.anchor.path,i.focus.path)){var[I,N]=H7.edges(i),L={start:I.offset,end:N.offset,text:F};if(F&&u&&"insertCompositionText"===n){var j=u.start+u.text.search(/\S|$/);L.start+L.text.search(/\S|$/)===j+1&&L.end===u.start+u.text.length?(L.start-=1,u=null,y()):u=!1}else u="insertText"===n&&(null===u?L:!(!u||!H7.isCollapsed(i)||u.end+u.text.length!==I.offset)&&hpe(hpe({},u),{},{text:u.text+F}));if(d)return void f(I.path,L)}return p((()=>t9.insertText(t,F)),{at:i})}}},handleKeyDown:e=>{g()||(h(!0),setTimeout(h))},handleDomMutations:e=>{var r;g()||m()||e.some((r=>Qfe(t,r,e)))&&(null===(r=Nfe.get(t))||void 0===r||r())},handleInput:()=>{!m()&&g()||d()}}}var ppe=mfe?G.useLayoutEffect:G.useEffect,mpe=["node"];function gpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var vpe={subtree:!0,childList:!0,characterData:!0},ype=ofe?e=>{var{node:t}=e,r=qhe(e,mpe);if(!ofe)return null;var n,i=tfe(),o=(n=G.useRef(!1),G.useEffect((()=>(n.current=!0,()=>{n.current=!1})),[]),n.current),[s]=G.useState((()=>fpe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gpe(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({editor:i},r))));return function(e,t,r){var[n]=G.useState((()=>new MutationObserver(t)));ppe((()=>{n.takeRecords()})),G.useEffect((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()}),[n,e,r])}(t,s.handleDomMutations,vpe),Rfe.set(i,s.scheduleFlush),o&&s.flush(),s}:()=>null,bpe=["anchor","focus"],_pe=["anchor","focus"],wpe=(e,t)=>{var r,n,i=qhe(e,bpe),o=qhe(t,_pe);return e[Lfe]===t[Lfe]&&(r=i,n=o,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>n.hasOwnProperty(e)&&r[e]===n[e])))};function xpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Epe=e=>{var{isLast:t,leaf:r,parent:n,text:i}=e,o=tfe(),s=rpe.findPath(o,i),a=R7.parent(s),l=Boolean(r[jfe]);return o.isVoid(n)?H.createElement(Dpe,{length:Y7.string(n).length}):""!==r.text||n.children[n.children.length-1]!==i||o.isInline(n)||""!==t9.string(o,a)?""===r.text?H.createElement(Dpe,{isMarkPlaceholder:l}):t&&"\n"===r.text.slice(-1)?H.createElement(Cpe,{isTrailing:!0,text:r.text}):H.createElement(Cpe,{text:r.text}):H.createElement(Dpe,{isLineBreak:!0,isMarkPlaceholder:l})},Cpe=e=>{var{text:t,isTrailing:r=!1}=e,n=G.useRef(null),i=()=>"".concat(null!=t?t:"").concat(r?"\n":""),[o]=G.useState(i);return ppe((()=>{var e=i();n.current&&n.current.textContent!==e&&(n.current.textContent=e)})),H.createElement(Ape,{ref:n},o)},Ape=G.memo(G.forwardRef(((e,t)=>H.createElement("span",{"data-slate-string":!0,ref:t},e.children)))),Dpe=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,i={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(i["data-slate-mark-placeholder"]=!0),H.createElement("span",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xpe(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i),(ofe||nfe)&&r?null:"\ufeff",r?H.createElement("br",null):null)};function Tpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Spe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tpe(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kpe=ofe?300:0;function Ppe(e){e.current&&(clearTimeout(e.current),e.current=null)}var Rpe=e=>{var{leaf:t,isLast:r,text:n,parent:i,renderPlaceholder:o,renderLeaf:s=(e=>H.createElement(Bpe,Spe({},e)))}=e,a=tfe(),l=G.useRef(null),u=G.useRef(null),[c,d]=G.useState(!1),h=G.useRef(null),f=G.useCallback((e=>{if(function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(l,null==e),null==e){var r;wfe.delete(a),null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,null)}else{if(wfe.set(a,e),!l.current){var n=window.ResizeObserver||Xhe;l.current=new n((()=>{var r;null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,e)}))}l.current.observe(e),u.current=e}}),[u,t,a]),p=H.createElement(Epe,{isLast:r,leaf:t,parent:i,text:n}),m=Boolean(t[Lfe]);if(G.useEffect((()=>(m?h.current||(h.current=setTimeout((()=>{d(!0),h.current=null}),kpe)):(Ppe(h),d(!1)),()=>Ppe(h))),[m,d]),m&&c){var g={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:afe?"inherit":void 0},contentEditable:!1,ref:f}};p=H.createElement(H.Fragment,null,o(g),p)}return s({attributes:{"data-slate-leaf":!0},children:p,leaf:t,text:n})},Ope=H.memo(Rpe,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&f9.equals(t.leaf,e.leaf)&&t.leaf[Lfe]===e.leaf[Lfe])),Bpe=e=>{var{attributes:t,children:r}=e;return H.createElement("span",Spe({},t),r)},Mpe=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:i,renderLeaf:o,text:s}=e,a=tfe(),l=G.useRef(null),u=f9.decorations(s,t),c=rpe.findKey(a,s),d=[],h=0;h<u.length;h++){var f=u[h];d.push(H.createElement(Ope,{isLast:r&&h===u.length-1,key:"".concat(c.id,"-").concat(h),renderPlaceholder:i,leaf:f,text:s,parent:n,renderLeaf:o}))}var p=G.useCallback((e=>{var t=Afe.get(a);e?(null==t||t.set(c,e),Efe.set(s,e),xfe.set(e,s)):(null==t||t.delete(c),Efe.delete(s),l.current&&xfe.delete(l.current)),l.current=e}),[l,a,c,s]);return H.createElement("span",{"data-slate-node":"text",ref:p},d)},Fpe=H.memo(Mpe,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],i=t[r];if(n.anchor.offset!==i.anchor.offset||n.focus.offset!==i.focus.offset||!wpe(n,i))return!1}return!0})(t.decorations,e.decorations)));function Ipe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Npe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ipe(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ipe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lpe=e=>{var{decorations:t,element:r,renderElement:n=(e=>H.createElement(Upe,Npe({},e))),renderPlaceholder:i,renderLeaf:o,selection:s}=e,a=tfe(),l=$pe(),u=a.isInline(r),c=rpe.findKey(a,r),d=G.useCallback((e=>{var t=Afe.get(a);e?(null==t||t.set(c,e),Efe.set(r,e),xfe.set(e,r)):(null==t||t.delete(c),Efe.delete(r))}),[a,c,r]),h=Hpe({decorations:t,node:r,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:s}),f={"data-slate-node":"element",ref:d};if(u&&(f["data-slate-inline"]=!0),!u&&t9.hasInlines(a,r)){var p=Y7.string(r),m=kde(p);"rtl"===m&&(f.dir=m)}if(t9.isVoid(a,r)){f["data-slate-void"]=!0,!l&&u&&(f.contentEditable=!1);var g=u?"span":"div",[[v]]=Y7.texts(r);h=H.createElement(g,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},H.createElement(Fpe,{renderPlaceholder:i,decorations:[],isLast:!1,parent:r,text:v})),vfe.set(v,0),yfe.set(v,r)}return n({attributes:f,children:h,element:r})},jpe=H.memo(Lpe,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],i=t[r];if(!H7.equals(n,i)||!wpe(n,i))return!1}return!0})(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&H7.equals(e.selection,t.selection)))),Upe=e=>{var{attributes:t,children:r,element:n}=e,i=tfe().isInline(n)?"span":"div";return H.createElement(i,Npe(Npe({},t),{},{style:{position:"relative"}}),r)},zpe=G.createContext((()=>[])),Vpe=G.createContext(!1),Gpe=e("dc",(()=>G.useContext(Vpe))),Hpe=e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:s}=e,a=G.useContext(zpe),l=tfe(),u=rpe.findPath(l,r),c=[],d=$7.isElement(r)&&!l.isInline(r)&&t9.hasInlines(l,r),h=0;h<r.children.length;h++){var f=u.concat(h),p=r.children[h],m=rpe.findKey(l,p),g=t9.range(l,f),v=s&&H7.intersection(g,s),y=a([p,f]);for(var b of t){var _=H7.intersection(b,g);_&&y.push(_)}$7.isElement(p)?c.push(H.createElement(Vpe.Provider,{key:"provider-".concat(m.id),value:!!v},H.createElement(jpe,{decorations:y,element:p,key:m.id,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:v}))):c.push(H.createElement(Fpe,{decorations:y,key:m.id,isLast:d&&h===r.children.length-1,parent:r,renderPlaceholder:i,renderLeaf:o,text:p})),vfe.set(p,h),yfe.set(p,r)}return c},Wpe=G.createContext(!1),$pe=()=>G.useContext(Wpe),Xpe=G.createContext(null),qpe=()=>{var e=G.useContext(Xpe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},Kpe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Ype={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Zpe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Qpe=e=>{var t=Kpe[e],r=Ype[e],n=Zpe[e],i=t&&use(t),o=r&&use(r),s=n&&use(n);return e=>!(!i||!i(e))||!!(ife&&o&&o(e))||!(ife||!s||!s(e))},Jpe={isBold:Qpe("bold"),isCompose:Qpe("compose"),isMoveBackward:Qpe("moveBackward"),isMoveForward:Qpe("moveForward"),isDeleteBackward:Qpe("deleteBackward"),isDeleteForward:Qpe("deleteForward"),isDeleteLineBackward:Qpe("deleteLineBackward"),isDeleteLineForward:Qpe("deleteLineForward"),isDeleteWordBackward:Qpe("deleteWordBackward"),isDeleteWordForward:Qpe("deleteWordForward"),isExtendBackward:Qpe("extendBackward"),isExtendForward:Qpe("extendForward"),isExtendLineBackward:Qpe("extendLineBackward"),isExtendLineForward:Qpe("extendLineForward"),isItalic:Qpe("italic"),isMoveLineBackward:Qpe("moveLineBackward"),isMoveLineForward:Qpe("moveLineForward"),isMoveWordBackward:Qpe("moveWordBackward"),isMoveWordForward:Qpe("moveWordForward"),isRedo:Qpe("redo"),isSoftBreak:Qpe("insertSoftBreak"),isSplitBlock:Qpe("splitBlock"),isTransposeCharacter:Qpe("transposeCharacter"),isUndo:Qpe("undo")},eme={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class tme extends G.Component{constructor(){super(...arguments),Zhe(this,"context",null),Zhe(this,"manager",null),Zhe(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,eme)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=((e,t)=>{var r=[],n=()=>{r=[]};return{registerMutations:n=>{if(t.current){var i=n.filter((t=>Qfe(e,t,n)));r.push(...i)}},restoreDOM:function(){r.length>0&&(r.reverse().forEach((e=>{"characterData"!==e.type&&(e.removedNodes.forEach((t=>{e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((t=>{e.target.removeChild(t)})))})),n())},clear:n}})(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,r,n,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();return null!=i&&i.length&&(null===(n=this.manager)||void 0===n||n.registerMutations(i)),null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(r=this.manager)||void 0===r||r.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}Zhe(tme,"contextType",efe);var rme=ofe?tme:e=>{var{children:t}=e;return H.createElement(H.Fragment,null,t)},nme=G.createContext(!1),ime=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ome=["text"];function sme(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ame(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sme(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sme(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lme=e=>H.createElement(H.Fragment,null,Hpe(e)),ume=G.forwardRef(((e,t)=>{var r=G.useCallback((e=>H.createElement(cme,ame({},e))),[]),{autoFocus:n,decorate:i=dme,onDOMBeforeInput:o,placeholder:s,readOnly:a=!1,renderElement:l,renderLeaf:u,renderPlaceholder:c=r,scrollSelectionIntoView:d=hme,style:h={},as:f="div",disableDefaultStyles:p=!1}=e,m=qhe(e,ime),g=qpe(),[v,y]=G.useState(!1),b=G.useRef(null),_=G.useRef([]),[w,x]=G.useState(),E=G.useRef(!1),{onUserInput:C,receivedUserInput:A}=function(){var e=tfe(),t=G.useRef(!1),r=G.useRef(0),n=G.useCallback((()=>{if(!t.current){t.current=!0;var n=rpe.getWindow(e);n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame((()=>{t.current=!1}))}}),[e]);return G.useEffect((()=>()=>cancelAnimationFrame(r.current)),[]),{receivedUserInput:t,onUserInput:n}}(),[,D]=G.useReducer((e=>e+1),0);Nfe.set(g,D),Dfe.set(g,a);var T=G.useMemo((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);G.useEffect((()=>{b.current&&n&&b.current.focus()}),[n]);var S=G.useRef(),k=G.useMemo((()=>Jde((()=>{var e=rpe.toDOMNode(g,g).getRootNode();if(!E.current&&afe&&e instanceof ShadowRoot){E.current=!0;var t=(()=>{for(var e=document.activeElement;null!==(t=e)&&void 0!==t&&t.shadowRoot&&null!==(r=e.shadowRoot)&&void 0!==r&&r.activeElement;){var t,r,n;e=null===(n=e)||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.activeElement}return e})();return t?document.execCommand("indent"):W9.deselect(g),void(E.current=!1)}var r=S.current;if((ofe||!rpe.isComposing(g))&&(!T.isUpdatingSelection||null!=r&&r.isFlushing())&&!T.isDraggingInternally){var n=rpe.findDocumentOrShadowRoot(g),{activeElement:i}=n,o=rpe.toDOMNode(g,g),s=Zfe(n);if(i===o?(T.latestElement=i,Tfe.set(g,!0)):Tfe.delete(g),!s)return W9.deselect(g);var{anchorNode:l,focusNode:u}=s,c=rpe.hasEditableTarget(g,l)||rpe.isTargetInsideNonReadonlyVoid(g,l),d=rpe.hasTarget(g,u);if(c&&d){var h=rpe.toSlateRange(g,s,{exactMatch:!1,suppressThrow:!0});h&&(rpe.isComposing(g)||null!=r&&r.hasPendingChanges()||null!=r&&r.isFlushing()?null==r||r.handleUserSelect(h):W9.select(g,h))}!a||c&&d||W9.deselect(g)}}),100)),[g,a,T]),P=G.useMemo((()=>Kde(k,0)),[k]);S.current=ype({node:b,onDOMSelectionChange:k,scheduleOnDOMSelectionChange:P}),ppe((()=>{var e,t,r;b.current&&(r=Vfe(b.current))?(bfe.set(g,r),_fe.set(g,b.current),Efe.set(g,b.current),xfe.set(b.current,g)):Efe.delete(g);var{selection:n}=g,i=rpe.findDocumentOrShadowRoot(g),o=Zfe(i);if(o&&rpe.isFocused(g)&&(null===(e=S.current)||void 0===e||!e.hasPendingAction())){var s=e=>{var t="None"!==o.type;if(n||t){var r,i=o.focusNode;if(sfe&&o.rangeCount>1){var s=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);r=s.startContainer===i?a.endContainer:s.startContainer}else r=o.anchorNode;var l=_fe.get(g),u=!1;if(l.contains(r)&&l.contains(i)&&(u=!0),t&&u&&n&&!e){var c=rpe.toSlateRange(g,o,{exactMatch:!0,suppressThrow:!0});if(c&&H7.equals(c,n)){var h;if(!T.hasMarkPlaceholder)return;if(null!==(h=r)&&void 0!==h&&null!==(h=h.parentElement)&&void 0!==h&&h.hasAttribute("data-slate-mark-placeholder"))return}}if(!n||rpe.hasRange(g,n)){T.isUpdatingSelection=!0;var f=n&&rpe.toDOMRange(g,n);return f?(rpe.isComposing(g)&&!ofe?o.collapseToEnd():H7.isBackward(n)?o.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):o.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset),d(g,f)):o.removeAllRanges(),f}g.selection=rpe.toSlateRange(g,o,{exactMatch:!1,suppressThrow:!0})}};o.rangeCount<=1&&s();var a="action"===(null===(t=S.current)||void 0===t?void 0:t.isFlushing());if(ofe&&a){var l=null,u=requestAnimationFrame((()=>{if(a){var e=e=>{try{rpe.toDOMNode(g,g).focus(),s(e)}catch(she){}};e(),l=setTimeout((()=>{e(!0),T.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(u),l&&clearTimeout(l)}}setTimeout((()=>{T.isUpdatingSelection=!1}))}}));var R=G.useCallback((e=>{var t=rpe.toDOMNode(g,g).getRootNode();if(null!=E&&E.current&&afe&&t instanceof ShadowRoot){var r=e.getTargetRanges()[0],n=new window.Range;n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset);var i=rpe.toSlateRange(g,n,{exactMatch:!1,suppressThrow:!1});return W9.select(g,i),e.preventDefault(),void e.stopImmediatePropagation()}if(C(),!a&&rpe.hasEditableTarget(g,e.target)&&!mme(e,o)){var s;if(S.current)return S.current.handleDOMBeforeInput(e);P.flush(),k.flush();var{selection:l}=g,{inputType:u}=e,c=e.dataTransfer||e.data||void 0,d="insertCompositionText"===u||"deleteCompositionText"===u;if(d&&rpe.isComposing(g))return;var h=!1;if("insertText"===u&&l&&H7.isCollapsed(l)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==l.anchor.offset){var f,p;h=!0,g.marks&&(h=!1);var{anchor:m}=l,[v,b]=rpe.toDOMPoint(g,m),w=null===(f=v.parentElement)||void 0===f?void 0:f.closest("a"),x=rpe.getWindow(g);if(h&&w&&rpe.hasDOMNode(g,w)){var A,D=null==x?void 0:x.document.createTreeWalker(w,NodeFilter.SHOW_TEXT).lastChild();D===v&&(null===(A=D.textContent)||void 0===A?void 0:A.length)===b&&(h=!1)}if(h&&v.parentElement&&"pre"===(null==x||null===(p=x.getComputedStyle(v.parentElement))||void 0===p?void 0:p.whiteSpace)){var T=t9.above(g,{at:m.path,match:e=>$7.isElement(e)&&t9.isBlock(g,e)});T&&Y7.string(T[0]).includes("\t")&&(h=!1)}}if(!u.startsWith("delete")||u.startsWith("deleteBy")){var[R]=e.getTargetRanges();if(R){var O=rpe.toSlateRange(g,R,{exactMatch:!1,suppressThrow:!1});if(!l||!H7.equals(l,O)){h=!1;var B=!d&&g.selection&&t9.rangeRef(g,g.selection);W9.select(g,O),B&&kfe.set(g,B)}}}if(d)return;if(h||e.preventDefault(),l&&H7.isExpanded(l)&&u.startsWith("delete")){var M=u.endsWith("Backward")?"backward":"forward";return void t9.deleteFragment(g,{direction:M})}switch(u){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":t9.deleteFragment(g);break;case"deleteContent":case"deleteContentForward":t9.deleteForward(g);break;case"deleteContentBackward":t9.deleteBackward(g);break;case"deleteEntireSoftLine":t9.deleteBackward(g,{unit:"line"}),t9.deleteForward(g,{unit:"line"});break;case"deleteHardLineBackward":t9.deleteBackward(g,{unit:"block"});break;case"deleteSoftLineBackward":t9.deleteBackward(g,{unit:"line"});break;case"deleteHardLineForward":t9.deleteForward(g,{unit:"block"});break;case"deleteSoftLineForward":t9.deleteForward(g,{unit:"line"});break;case"deleteWordBackward":t9.deleteBackward(g,{unit:"word"});break;case"deleteWordForward":t9.deleteForward(g,{unit:"word"});break;case"insertLineBreak":t9.insertSoftBreak(g);break;case"insertParagraph":t9.insertBreak(g);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===u&&rpe.isComposing(g)&&(y(!1),Sfe.set(g,!1)),"DataTransfer"===(null==c?void 0:c.constructor.name)?rpe.insertData(g,c):"string"==typeof c&&(h?_.current.push((()=>t9.insertText(g,c))):t9.insertText(g,c))}var F=null===(s=kfe.get(g))||void 0===s?void 0:s.unref();kfe.delete(g),!F||g.selection&&H7.equals(g.selection,F)||W9.select(g,F)}}),[g,k,C,o,a,P]),O=G.useCallback((e=>{null==e?(k.cancel(),P.cancel(),_fe.delete(g),Efe.delete(g),b.current&&gfe&&b.current.removeEventListener("beforeinput",R)):gfe&&e.addEventListener("beforeinput",R),b.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[k,P,g,R,t]);ppe((()=>{var e=rpe.getWindow(g);e.document.addEventListener("selectionchange",P);var t=()=>{T.isDraggingInternally=!1};return e.document.addEventListener("dragend",t),e.document.addEventListener("drop",t),()=>{e.document.removeEventListener("selectionchange",P),e.document.removeEventListener("dragend",t),e.document.removeEventListener("drop",t)}}),[P,T]);var B=i([g,[]]),M=s&&1===g.children.length&&1===Array.from(Y7.texts(g)).length&&""===Y7.string(g)&&!v,F=G.useCallback((e=>{var t;x(e&&M?null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height:void 0)}),[M]);if(M){var I=t9.start(g,[]);B.push({[Lfe]:!0,placeholder:s,onPlaceholderResize:F,anchor:I,focus:I})}var{marks:N}=g;if(T.hasMarkPlaceholder=!1,g.selection&&H7.isCollapsed(g.selection)&&N){var{anchor:L}=g.selection,j=Y7.leaf(g,L.path),U=qhe(j,ome);if(!f9.equals(j,N,{loose:!0})){T.hasMarkPlaceholder=!0;var z=Object.fromEntries(Object.keys(U).map((e=>[e,null])));B.push(ame(ame(ame({[jfe]:!0},z),N),{},{anchor:L,focus:L}))}}return G.useEffect((()=>{setTimeout((()=>{var{selection:e}=g;if(e){var{anchor:t}=e,r=Y7.leaf(g,t.path);if(N&&!f9.equals(r,N,{loose:!0}))return void Ofe.set(g,N)}Ofe.delete(g)}))})),H.createElement(Wpe.Provider,{value:a},H.createElement(nme.Provider,{value:v},H.createElement(zpe.Provider,{value:i},H.createElement(rme,{node:b,receivedUserInput:A},H.createElement(f,ame(ame({role:a?void 0:"textbox","aria-multiline":!a||void 0},m),{},{spellCheck:!(!gfe&&mfe)&&m.spellCheck,autoCorrect:gfe||!mfe?m.autoCorrect:"false",autoCapitalize:gfe||!mfe?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:ame(ame({},p?{}:ame({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},w?{minHeight:w}:{})),h),onBeforeInput:G.useCallback((e=>{if(!gfe&&!a&&!fme(e,m.onBeforeInput)&&rpe.hasSelectableTarget(g,e.target)&&(e.preventDefault(),!rpe.isComposing(g))){var t=e.data;t9.insertText(g,t)}}),[m.onBeforeInput,g,a]),onInput:G.useCallback((e=>{if(!fme(e,m.onInput))if(S.current)S.current.handleInput();else{for(var t of _.current)t();_.current=[]}}),[m.onInput]),onBlur:G.useCallback((e=>{if(!a&&!T.isUpdatingSelection&&rpe.hasSelectableTarget(g,e.target)&&!fme(e,m.onBlur)){var t=rpe.findDocumentOrShadowRoot(g);if(T.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===rpe.toDOMNode(g,g)||Gfe(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&Hfe(r)&&rpe.hasDOMNode(g,r)){var n=rpe.toSlateNode(g,r);if($7.isElement(n)&&!g.isVoid(n))return}if(afe){var i=Zfe(t);null==i||i.removeAllRanges()}Tfe.delete(g)}}}}),[a,T.isUpdatingSelection,T.latestElement,g,m.onBlur]),onClick:G.useCallback((e=>{if(rpe.hasTarget(g,e.target)&&!fme(e,m.onClick)&&Hfe(e.target)){var t=rpe.toSlateNode(g,e.target),r=rpe.findPath(g,t);if(!t9.hasPath(g,r)||Y7.get(g,r)!==t)return;if(3===e.detail&&r.length>=1){var n=r;if(!$7.isElement(t)||!t9.isBlock(g,t)){var i,o=t9.above(g,{match:e=>$7.isElement(e)&&t9.isBlock(g,e),at:r});n=null!==(i=null==o?void 0:o[1])&&void 0!==i?i:r.slice(0,1)}var s=t9.range(g,n);return void W9.select(g,s)}if(a)return;var l=t9.start(g,r),u=t9.end(g,r),c=t9.void(g,{at:l}),d=t9.void(g,{at:u});if(c&&d&&R7.equals(c[1],d[1])){var h=t9.range(g,l);W9.select(g,h)}}}),[g,m.onClick,a]),onCompositionEnd:G.useCallback((e=>{if(rpe.hasSelectableTarget(g,e.target)){var t;if(rpe.isComposing(g)&&Promise.resolve().then((()=>{y(!1),Sfe.set(g,!1)})),null===(t=S.current)||void 0===t||t.handleCompositionEnd(e),fme(e,m.onCompositionEnd)||ofe)return;if(!afe&&!hfe&&!nfe&&!pfe&&!ffe&&e.data){var r=Ofe.get(g);Ofe.delete(g),void 0!==r&&(Bfe.set(g,g.marks),g.marks=r),t9.insertText(g,e.data);var n=Bfe.get(g);Bfe.delete(g),void 0!==n&&(g.marks=n)}}}),[m.onCompositionEnd,g]),onCompositionUpdate:G.useCallback((e=>{rpe.hasSelectableTarget(g,e.target)&&!fme(e,m.onCompositionUpdate)&&(rpe.isComposing(g)||(y(!0),Sfe.set(g,!0)))}),[m.onCompositionUpdate,g]),onCompositionStart:G.useCallback((e=>{if(rpe.hasSelectableTarget(g,e.target)){var t;if(null===(t=S.current)||void 0===t||t.handleCompositionStart(e),fme(e,m.onCompositionStart)||ofe)return;y(!0);var{selection:r}=g;if(r&&H7.isExpanded(r))return void t9.deleteFragment(g)}}),[m.onCompositionStart,g]),onCopy:G.useCallback((e=>{!rpe.hasSelectableTarget(g,e.target)||fme(e,m.onCopy)||pme(e)||(e.preventDefault(),rpe.setFragmentData(g,e.clipboardData,"copy"))}),[m.onCopy,g]),onCut:G.useCallback((e=>{if(!a&&rpe.hasSelectableTarget(g,e.target)&&!fme(e,m.onCut)&&!pme(e)){e.preventDefault(),rpe.setFragmentData(g,e.clipboardData,"cut");var{selection:t}=g;if(t)if(H7.isExpanded(t))t9.deleteFragment(g);else{var r=Y7.parent(g,t.anchor.path);t9.isVoid(g,r)&&W9.delete(g)}}}),[a,g,m.onCut]),onDragOver:G.useCallback((e=>{if(rpe.hasTarget(g,e.target)&&!fme(e,m.onDragOver)){var t=rpe.toSlateNode(g,e.target);$7.isElement(t)&&t9.isVoid(g,t)&&e.preventDefault()}}),[m.onDragOver,g]),onDragStart:G.useCallback((e=>{if(!a&&rpe.hasTarget(g,e.target)&&!fme(e,m.onDragStart)){var t=rpe.toSlateNode(g,e.target),r=rpe.findPath(g,t);if($7.isElement(t)&&t9.isVoid(g,t)||t9.void(g,{at:r,voids:!0})){var n=t9.range(g,r);W9.select(g,n)}T.isDraggingInternally=!0,rpe.setFragmentData(g,e.dataTransfer,"drag")}}),[a,g,m.onDragStart,T]),onDrop:G.useCallback((e=>{if(!a&&rpe.hasTarget(g,e.target)&&!fme(e,m.onDrop)){e.preventDefault();var t=g.selection,r=rpe.findEventRange(g,e),n=e.dataTransfer;W9.select(g,r),T.isDraggingInternally&&(!t||H7.equals(t,r)||t9.void(g,{at:r,voids:!0})||W9.delete(g,{at:t})),rpe.insertData(g,n),rpe.isFocused(g)||rpe.focus(g)}}),[a,g,m.onDrop,T]),onDragEnd:G.useCallback((e=>{!a&&T.isDraggingInternally&&m.onDragEnd&&rpe.hasTarget(g,e.target)&&m.onDragEnd(e)}),[a,T,m,g]),onFocus:G.useCallback((e=>{if(!a&&!T.isUpdatingSelection&&rpe.hasEditableTarget(g,e.target)&&!fme(e,m.onFocus)){var t=rpe.toDOMNode(g,g),r=rpe.findDocumentOrShadowRoot(g);if(T.latestElement=r.activeElement,sfe&&e.target!==t)return void t.focus();Tfe.set(g,!0)}}),[a,T,g,m.onFocus]),onKeyDown:G.useCallback((e=>{if(!a&&rpe.hasEditableTarget(g,e.target)){var t;null===(t=S.current)||void 0===t||t.handleKeyDown(e);var{nativeEvent:r}=e;if(rpe.isComposing(g)&&!1===r.isComposing&&(Sfe.set(g,!1),y(!1)),fme(e,m.onKeyDown)||rpe.isComposing(g))return;var{selection:n}=g,i=g.children[null!==n?n.focus.path[0]:0],o="rtl"===kde(Y7.string(i));if(Jpe.isRedo(r)){e.preventDefault();var s=g;return void("function"==typeof s.redo&&s.redo())}if(Jpe.isUndo(r)){e.preventDefault();var l=g;return void("function"==typeof l.undo&&l.undo())}if(Jpe.isMoveLineBackward(r))return e.preventDefault(),void W9.move(g,{unit:"line",reverse:!0});if(Jpe.isMoveLineForward(r))return e.preventDefault(),void W9.move(g,{unit:"line"});if(Jpe.isExtendLineBackward(r))return e.preventDefault(),void W9.move(g,{unit:"line",edge:"focus",reverse:!0});if(Jpe.isExtendLineForward(r))return e.preventDefault(),void W9.move(g,{unit:"line",edge:"focus"});if(Jpe.isMoveBackward(r))return e.preventDefault(),void(n&&H7.isCollapsed(n)?W9.move(g,{reverse:!o}):W9.collapse(g,{edge:o?"end":"start"}));if(Jpe.isMoveForward(r))return e.preventDefault(),void(n&&H7.isCollapsed(n)?W9.move(g,{reverse:o}):W9.collapse(g,{edge:o?"start":"end"}));if(Jpe.isMoveWordBackward(r))return e.preventDefault(),n&&H7.isExpanded(n)&&W9.collapse(g,{edge:"focus"}),void W9.move(g,{unit:"word",reverse:!o});if(Jpe.isMoveWordForward(r))return e.preventDefault(),n&&H7.isExpanded(n)&&W9.collapse(g,{edge:"focus"}),void W9.move(g,{unit:"word",reverse:o});if(gfe){if((ufe||afe)&&n&&(Jpe.isDeleteBackward(r)||Jpe.isDeleteForward(r))&&H7.isCollapsed(n)){var u=Y7.parent(g,n.anchor.path);if($7.isElement(u)&&t9.isVoid(g,u)&&(t9.isInline(g,u)||t9.isBlock(g,u)))return e.preventDefault(),void t9.deleteBackward(g,{unit:"block"})}}else{if(Jpe.isBold(r)||Jpe.isItalic(r)||Jpe.isTransposeCharacter(r))return void e.preventDefault();if(Jpe.isSoftBreak(r))return e.preventDefault(),void t9.insertSoftBreak(g);if(Jpe.isSplitBlock(r))return e.preventDefault(),void t9.insertBreak(g);if(Jpe.isDeleteBackward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"backward"}):t9.deleteBackward(g));if(Jpe.isDeleteForward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"forward"}):t9.deleteForward(g));if(Jpe.isDeleteLineBackward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"backward"}):t9.deleteBackward(g,{unit:"line"}));if(Jpe.isDeleteLineForward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"forward"}):t9.deleteForward(g,{unit:"line"}));if(Jpe.isDeleteWordBackward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"backward"}):t9.deleteBackward(g,{unit:"word"}));if(Jpe.isDeleteWordForward(r))return e.preventDefault(),void(n&&H7.isExpanded(n)?t9.deleteFragment(g,{direction:"forward"}):t9.deleteForward(g,{unit:"word"}))}}}),[a,g,m.onKeyDown]),onPaste:G.useCallback((e=>{a||!rpe.hasEditableTarget(g,e.target)||fme(e,m.onPaste)||(!gfe||(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||afe)&&(e.preventDefault(),rpe.insertData(g,e.clipboardData))}),[a,g,m.onPaste])}),H.createElement(lme,{decorations:B,node:g,renderElement:l,renderPlaceholder:c,renderLeaf:u,selection:g.selection}))))))})),cme=e=>{var{attributes:t,children:r}=e;return H.createElement("span",ame({},t),r,ofe&&H.createElement("br",null))},dme=()=>[],hme=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&H7.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),she(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},fme=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},pme=e=>Hfe(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),mme=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented},gme=G.createContext(!1),vme=e("cY",(()=>G.useContext(gme))),yme=G.createContext({}),bme=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],_me=e=>{var{editor:t,children:r,onChange:n,onSelectionChange:i,onValueChange:o,initialValue:s}=e,a=qhe(e,bme),[l,u]=H.useState((()=>{if(!Y7.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(a9.stringify(s)));if(!t9.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(a9.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}})),{selectorContext:c,onChange:d}=function(e){var t=G.useRef([]).current,r=G.useRef({editor:e}).current,n=G.useCallback((e=>{r.editor=e,t.forEach((t=>t(e)))}),[t,r]);return{selectorContext:G.useMemo((()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,r]),onChange:n}}(t),h=G.useCallback((e=>{var r;n&&n(t.children),"set_selection"===(null==e||null===(r=e.operation)||void 0===r?void 0:r.type)?null==i||i(t.selection):null==o||o(t.children),u((e=>({v:e.v+1,editor:t}))),d(t)}),[t,d,n,i,o]);G.useEffect((()=>(Pfe.set(t,h),()=>{Pfe.set(t,(()=>{}))})),[t,h]);var[f,p]=G.useState(rpe.isFocused(t));return G.useEffect((()=>{p(rpe.isFocused(t))}),[t]),ppe((()=>{var e=()=>p(rpe.isFocused(t));return rfe>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),H.createElement(yme.Provider,{value:c},H.createElement(Xpe.Provider,{value:l},H.createElement(efe.Provider,{value:l.editor},H.createElement(gme.Provider,{value:f},r))))},wme=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},xme=(e,t,r)=>{var n=rpe.toDOMRange(e,t).getBoundingClientRect(),i=rpe.toDOMRange(e,r).getBoundingClientRect();return wme(n,i)&&wme(i,n)};function Eme(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cme(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eme(Object(r),!0).forEach((function(t){Zhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eme(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ame=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",r=e,{apply:n,onChange:i,deleteBackward:o,addMark:s,removeMark:a}=r;return Afe.set(r,new WeakMap),r.addMark=(e,t)=>{var n,i;null===(n=Rfe.get(r))||void 0===n||n(),!Ofe.get(r)&&null!==(i=Mfe.get(r))&&void 0!==i&&i.length&&Ofe.set(r,null),Bfe.delete(r),s(e,t)},r.removeMark=e=>{var t;!Ofe.get(r)&&null!==(t=Mfe.get(r))&&void 0!==t&&t.length&&Ofe.set(r,null),Bfe.delete(r),a(e)},r.deleteBackward=e=>{if("line"!==e)return o(e);if(r.selection&&H7.isCollapsed(r.selection)){var t=t9.above(r,{match:e=>$7.isElement(e)&&t9.isBlock(r,e),at:r.selection});if(t){var[,n]=t,i=t9.range(r,n,r.selection.anchor),s=((e,t)=>{var r=t9.range(e,H7.end(t)),n=Array.from(t9.positions(e,{at:t})),i=0,o=n.length,s=Math.floor(o/2);if(xme(e,t9.range(e,n[i]),r))return t9.range(e,n[i],r);if(n.length<2)return t9.range(e,n[n.length-1],r);for(;s!==n.length&&s!==i;)xme(e,t9.range(e,n[s]),r)?o=s:i=s,s=Math.floor((i+o)/2);return t9.range(e,n[o],r)})(r,i);H7.isCollapsed(s)||W9.delete(r,{at:s})}}},r.apply=t=>{var i=[],o=[],s=Mfe.get(r);if(null!=s&&s.length){var a=s.map((e=>function(e,t){var{path:r,diff:n,id:i}=e;switch(t.type){case"insert_text":return!R7.equals(t.path,r)||t.offset>=n.end?e:t.offset<=n.start?{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:i,path:r}:{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:i,path:r};case"remove_text":return!R7.equals(t.path,r)||t.offset>=n.end?e:t.offset+t.text.length<=n.start?{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:i,path:r}:{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:i,path:r};case"split_node":return!R7.equals(t.path,r)||t.position>=n.end?{diff:n,id:i,path:R7.transform(r,t,{affinity:"backward"})}:t.position>n.start?{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:i,path:r}:{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:i,path:R7.transform(r,t,{affinity:"forward"})};case"merge_node":return R7.equals(t.path,r)?{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:i,path:R7.transform(r,t)}:{diff:n,id:i,path:R7.transform(r,t)}}var o=R7.transform(r,t);return o?{diff:n,path:o,id:i}:null}(e,t))).filter(Boolean);Mfe.set(r,a)}var l=Ife.get(r);l&&Ife.set(r,cpe(r,l,t));var u=Ffe.get(r);if(null!=u&&u.at){var c=o9.isPoint(null==u?void 0:u.at)?upe(r,u.at,t):cpe(r,u.at,t);Ffe.set(r,c?Cme(Cme({},u),{},{at:c}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...Dme(r,t.path));break;case"set_selection":var d;null===(d=kfe.get(r))||void 0===d||d.unref(),kfe.delete(r);break;case"insert_node":case"remove_node":i.push(...Dme(r,R7.parent(t.path)));break;case"merge_node":var h=R7.previous(t.path);i.push(...Dme(r,h));break;case"move_node":var f,p=R7.common(R7.parent(t.path),R7.parent(t.newPath));i.push(...Dme(r,p)),R7.isBefore(t.path,t.newPath)?(i.push(...Dme(r,R7.parent(t.path))),f=t.newPath):(i.push(...Dme(r,R7.parent(t.newPath))),f=t.path);var m=Y7.get(e,R7.parent(f)),g=rpe.findKey(r,m),v=t9.pathRef(r,R7.parent(f));o.push([v,g])}for(var[y,b]of(n(t),i)){var[_]=t9.node(r,y);Cfe.set(_,b)}for(var[w,x]of o)if(w.current){var[E]=t9.node(r,w.current);Cfe.set(E,x)}},r.setFragmentData=e=>{var{selection:n}=r;if(n){var[i,o]=H7.edges(n),s=t9.void(r,{at:i.path}),a=t9.void(r,{at:o.path});if(!H7.isCollapsed(n)||s){var l=rpe.toDOMRange(r,n),u=l.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)})),a){var[d]=a,h=l.cloneRange(),f=rpe.toDOMNode(r,d);h.setEndAfter(f),u=h.cloneContents()}if(s&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),$fe(c)){var p=c.ownerDocument.createElement("span");p.style.whiteSpace="pre",p.appendChild(c),u.appendChild(p),c=p}var m=r.getFragment(),g=JSON.stringify(m),v=window.btoa(encodeURIComponent(g));c.setAttribute("data-slate-fragment",v),e.setData("application/".concat(t),v);var y=u.ownerDocument.createElement("div");return y.appendChild(u),y.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(y),e.setData("text/html",y.innerHTML),e.setData("text/plain",Kfe(y)),u.ownerDocument.body.removeChild(y),e}}},r.insertData=e=>{r.insertFragmentData(e)||r.insertTextData(e)},r.insertFragmentData=e=>{var n=e.getData("application/".concat(t))||(e=>{var t=e.getData("text/html"),[,r]=t.match(Yfe)||[];return r})(e);if(n){var i=decodeURIComponent(window.atob(n)),o=JSON.parse(i);return r.insertFragment(o),!0}return!1},r.insertTextData=e=>{var t=e.getData("text/plain");if(t){var n=t.split(/\r\n|\r|\n/),i=!1;for(var o of n)i&&W9.splitNodes(r,{always:!0}),r.insertText(o),i=!0;return!0}return!1},r.onChange=e=>{(rfe<18?ld.unstable_batchedUpdates:e=>e())((()=>{var t=Pfe.get(r);t&&t(e),i(e)}))},r},Dme=(e,t)=>{var r=[];for(var[n,i]of t9.levels(e,{at:t})){var o=rpe.findKey(e,n);r.push([i,o])}return r},Tme=(e,t)=>{try{return rpe.findPath(e,t)}catch(r){}},Sme=e("c$",((e,t)=>{t&&Xee(e,(()=>{(e=>{W9.deselect(e)})(e),Yee(e,t)})),rpe.focus(e)})),kme=Rie,Pme=gle,Rme=Nie,Ome=Qte,Bme=yle,Mme=function(e,t,r,n){if(!Ome(e))return e;for(var i=-1,o=(t=Pme(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=Bme(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var c=a[l];void 0===(u=n?n(c,l,a):void 0)&&(u=Ome(c)?c:Rme(t[i+1])?[]:{})}kme(a,l,u),a=a[l]}return e},Fme=wle,Ime=Mme,Nme=gle,Lme=function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Fme(e,s);r(a,s)&&Ime(o,Nme(s,e),a)}return o},jme=Lme,Ume=Rle,zme=function(e,t){return jme(e,t,(function(t,r){return Ume(e,r)}))},Vme=qne,Gme=Kne,Hme=Ute?Ute.isConcatSpreadable:void 0,Wme=Nse,$me=function(e){return Gme(e)||Vme(e)||!!(Hme&&e&&e[Hme])},Xme=function e(t,r,n,i,o){var s=-1,a=t.length;for(n||(n=$me),o||(o=[]);++s<a;){var l=t[s];r>0&&n(l)?r>1?e(l,r-1,n,i,o):Wme(o,l):i||(o[o.length]=l)}return o},qme=Xme,Kme=function(e){return null!=e&&e.length?qme(e,1):[]},Yme=koe,Zme=Ioe,Qme=function(e){return Zme(Yme(e,void 0,Kme),e+"")},Jme=zme;const ege=i(Qme((function(e,t){return null==e?{}:Jme(e,t)})));var tge,rge=Object.defineProperty,nge=Object.defineProperties,ige=Object.getOwnPropertyDescriptors,oge=Object.getOwnPropertySymbols,sge=Object.prototype.hasOwnProperty,age=Object.prototype.propertyIsEnumerable,lge=(e,t,r)=>t in e?rge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uge=(e,t)=>{for(var r in t||(t={}))sge.call(t,r)&&lge(e,r,t[r]);if(oge)for(var r of oge(t))age.call(t,r)&&lge(e,r,t[r]);return e},cge=(e,t)=>nge(e,ige(t)),dge=e=>H.forwardRef(((t,r)=>{var n=t,{as:i,asChild:o=!1}=n,s=((e,t)=>{var r={};for(var n in e)sge.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&oge)for(var n of oge(e))t.indexOf(n)<0&&age.call(e,n)&&(r[n]=e[n]);return r})(n,["as","asChild"]);const a=o?WL:i||e;return H.createElement(a,uge({ref:r},s))})),hge=dge("div"),fge=dge("span"),pge=e("c_",((...e)=>H.useCallback(((...e)=>t=>e.forEach((e=>((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t))))(...e),e))),mge="undefined"!=typeof window&&void 0!==(null==(tge=window.document)?void 0:tge.createElement)?H.useLayoutEffect:H.useEffect,gge=(e,t)=>{var r;return null==(r=e.classList)?void 0:r.contains(t)},vge=(e,t)=>{let r=e.target||e;for(;r;){if(Array.isArray(t)){if(t.some((e=>gge(r,e))))return!0}else if(gge(r,t))return!0;r=r.parentElement}return!1},yge=e=>!(!e.includes("touch")||!(()=>{if("undefined"==typeof window||"function"!=typeof window.addEventListener)return!1;let e=!1;const t=Object.defineProperty({},"passive",{get(){e=!0}}),r=()=>null;return window.addEventListener("test",r,t),window.removeEventListener("test",r,t),e})())&&{passive:!0};e("cZ",((e,{detectIFrame:t=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:i,ignoreClass:o="ignore-onclickoutside",refs:s}={})=>{const[a,l]=H.useState([]),u=H.useRef(e);u.current=e;const c=H.useCallback((e=>l((t=>[...t,{current:e}]))),[]);return H.useEffect((()=>{if(!(null==s?void 0:s.length)&&0===a.length)return;const e=()=>{const e=[];return(s||a).forEach((({current:t})=>t&&e.push(t))),e},l=t=>{vge(t,o)||i&&(e=>document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)(t)||!e().every((e=>!e.contains(t.target)))||u.current(t)},c=t=>setTimeout((()=>{const{activeElement:r}=document;"IFRAME"!==(null==r?void 0:r.tagName)||vge(r,o)||e().includes(r)||u.current(t)}),0),d=()=>{n.forEach((e=>document.removeEventListener(e,l,yge(e)))),t&&window.removeEventListener("blur",c)};if(!r)return n.forEach((e=>document.addEventListener(e,l,yge(e)))),t&&window.addEventListener("blur",c),()=>d();d()}),[a,o,i,r,t,JSON.stringify(n)]),c}));var bge=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o},_ge=wle,wge=bge,xge=function(e,t){return t.length<2?e:_ge(e,wge(t,0,-1))},Ege=gle,Cge=Ole,Age=xge,Dge=yle,Tge=function(e,t){return t=Ege(t,e),null==(e=Age(e,t))||delete e[Dge(Cge(t))]},Sge=pie,kge=gse,Pge=Lce,Rge=Tge,Oge=gle,Bge=Mie,Mge=function(e){return Sge(e)?void 0:e},Fge=jue,Ige=Qme((function(e,t){var r={};if(null==e)return r;var n=!1;t=kge(t,(function(t){return t=Oge(t,e),n||(n=t.length>1),t})),Bge(e,Fge(e),r),n&&(r=Pge(r,7,Mge));for(var i=t.length;i--;)Rge(r,t[i]);return r}));const Nge=i(Ige);var Lge=Object.prototype.hasOwnProperty;function jge(e,t,r){for(r of e.keys())if(Uge(r,t))return r}function Uge(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Uge(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;for(n of e){if((i=n)&&"object"==typeof i&&!(i=jge(t,i)))return!1;if(!t.has(i))return!1}return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e){if((i=n[0])&&"object"==typeof i&&!(i=jge(t,i)))return!1;if(!Uge(n[1],t.get(i)))return!1}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"==typeof e){for(r in n=0,e){if(Lge.call(e,r)&&++n&&!Lge.call(t,r))return!1;if(!(r in t)||!Uge(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!=e&&t!=t}function zge(e,t){return H.useMemo(e,function(e){const t=H.useRef(e),r=H.useRef(0);return Uge(e,t.current)||(t.current=e,r.current+=1),H.useMemo((()=>t.current),[r.current])}(t))}globalThis&&globalThis.__rest;const Vge=e=>e,Gge=e=>({_tag:"Left",value:e}),Hge=e=>({_tag:"Right",value:e}),Wge={dimap:(e,t,r)=>n=>t(r(e(n))),first:e=>([t,r])=>[e(t),r],right:e=>t=>"Left"===t._tag?t:Hge(e(t.value)),wander:e=>t=>t.map(e)},$ge={empty:()=>{},foldMap:(e,t)=>{for(let r=0;r<t.length;r++){const n=e(t[r]);if(null!=n)return n}}},Xge={empty:()=>[],foldMap:(e,t)=>{let r=[];return t.forEach((t=>{r=r.concat(e(t))})),r}},qge=e=>({dimap:(e,t,r)=>t=>r(e(t)),first:e=>([t,r])=>e(t),right:t=>r=>"Left"===r._tag?e.empty():t(r.value),wander:t=>r=>e.foldMap(t,r)}),Kge={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},Yge=(e,t)=>{const r=t;return r._tag=e,r},Zge=e=>(e._removable=!0,e);function Qge(e,t,r){if(2===arguments.length){const r=(r,n)=>e(r,t(r,n));return r._tag=Kge[e._tag][t._tag],r._removable=t._removable||!1,r}{const n=Kge[e._tag][t._tag],i=(n,i)=>e(n,t(n,r(n,i)));return i._tag=Kge[n][r._tag],i._removable=r._removable||!1,i}}const Jge=Yge("Equivalence",((e,t)=>t)),eve=(e,t)=>Yge("Iso",((r,n)=>r.dimap(e,t,n))),tve=(e,t)=>Yge("Lens",((r,n)=>r.dimap((t=>[e(t),t]),t,r.first(n)))),rve=(e,t)=>Yge("Prism",((r,n)=>r.dimap(e,(e=>((e,t,r)=>"Left"===r._tag?e(r.value):t(r.value))(Vge,t,e)),r.right(n)))),nve=Yge("Traversal",((e,t)=>e.dimap(Vge,Vge,e.wander(t)))),ive=(e,t,r)=>e(Wge,t)(r),ove=(e,t,r)=>e(Wge,(()=>t))(r),sve=(e,t)=>e(qge(Xge),(e=>[e]))(t),ave=eve((e=>e.map(((e,t)=>[t,e]))),(e=>{const t=[...e].sort(((e,t)=>e[0]-t[0])),r=[];for(let n=0;n<t.length;++n)n!==t.length-1&&t[n][0]===t[n+1][0]||r.push(t[n][1]);return r})),lve=e=>tve((t=>t[e]),(([t,r])=>Object.assign(Object.assign({},r),{[e]:t}))),uve=e=>tve((t=>t[e]),(([t,r])=>{const n=r.slice();return n[e]=t,n})),cve=uve(0),dve=e=>rve((t=>e(t)?Hge(t):Gge(t)),Vge),hve=Symbol("__no_match__"),fve=dve((e=>e!==hve)),pve=Symbol("__remove_me__"),mve=e=>Zge(Qge(tve((t=>0<=e&&e<t.length?t[e]:hve),(([t,r])=>{if(t===hve)return r;if(t===pve)return"string"==typeof r?r.substring(0,e)+r.substring(e+1):[...r.slice(0,e),...r.slice(e+1)];if("string"==typeof r)return 0===e?t+r.substring(1):e===r.length?r.substring(0,e-1)+t:r.substring(0,e)+t+r.substring(e+1);{const n=r.slice();return n[e]=t,n}})),fve)),gve=rve((e=>void 0===e?Gge(void 0):Hge(e)),Vge),vve=tve((e=>{}),(([e,t])=>void 0===e?t:[e,...t])),yve=tve((e=>{}),(([e,t])=>void 0===e?t:[...t,e])),bve=Qge(eve((e=>e.split("")),(e=>e.join(""))),nve),_ve=Qge(eve((e=>e.split(/\b/)),(e=>e.join(""))),nve,dve((e=>!/\s+/.test(e))));class wve{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new wve(Qge(this._ref,e._ref))}iso(e,t){return new wve(Qge(this._ref,eve(e,t)))}lens(e,t){return new wve(Qge(this._ref,tve(e,(([e,r])=>t(r,e)))))}indexed(){return new wve(Qge(this._ref,ave))}prop(e){return new wve(Qge(this._ref,lve(e)))}path(...e){return 1===e.length&&(e=e[0].split(".")),new wve(e.reduce(((e,t)=>Qge(e,lve(t))),this._ref))}pick(e){return new wve(Qge(this._ref,(e=>tve((t=>{const r={};for(const n of e)r[n]=t[n];return r}),(([t,r])=>{const n=Object.assign({},r);for(const i of e)delete n[i];return Object.assign(n,t)})))(e)))}nth(e){return new wve(Qge(this._ref,uve(e)))}filter(e){return new wve(Qge(this._ref,(e=>Qge(tve((t=>{const r=t.map(((t,r)=>e(t)?r:null)).filter((e=>null!=e));return[r.map((e=>t[e])),r]}),(([[e,t],r])=>{const n=r.length,i=e.length;let o=0,s=0,a=0;const l=[];for(;o<n;)t[s]===o?(++s,a<i&&(l.push(e[a]),++a)):l.push(r[o]),++o;for(;a<i;)l.push(e[a++]);return l})),cve))(e)))}valueOr(e){return new wve(Qge(this._ref,(e=>tve((t=>void 0===t?e:t),(([e,t])=>e)))(e)))}partsOf(e){const t="function"==typeof e?e(xve):e;return new wve(Qge(this._ref,(e=>Qge(tve((t=>{const r=sve(e,t);return[r,r.length]}),(([[t,r],n])=>{if(t.length!==r)throw new Error("cannot add/remove elements through partsOf");let i=0;return ive(e,(()=>t[i++]),n)})),cve))(t._ref)))}reread(e){return new wve(Qge(this._ref,(e=>tve((t=>e(t)),(([e,t])=>e)))(e)))}rewrite(e){return new wve(Qge(this._ref,(e=>tve((e=>e),(([t,r])=>e(t))))(e)))}optional(){return new wve(Qge(this._ref,gve))}guard_(){return e=>this.guard(e)}guard(e){return new wve(Qge(this._ref,(e=>rve((t=>e(t)?Hge(t):Gge(t)),Vge))(e)))}at(e){return new wve(Qge(this._ref,mve(e)))}head(){return new wve(Qge(this._ref,mve(0)))}index(e){return new wve(Qge(this._ref,mve(e)))}find(e){return new wve(Qge(this._ref,(e=>Zge(Qge(tve((t=>{const r=t.findIndex(e);return-1===r?[hve,-1]:[t[r],r]}),(([[e,t],r])=>{if(e===hve)return r;if(e===pve)return[...r.slice(0,t),...r.slice(t+1)];const n=r.slice();return n[t]=e,n})),cve,fve)))(e)))}elems(){return new wve(Qge(this._ref,nve))}to(e){return new wve(Qge(this._ref,(e=>Yge("Getter",((t,r)=>t.dimap(e,Vge,r))))(e)))}when(e){return new wve(Qge(this._ref,dve(e)))}chars(){return new wve(Qge(this._ref,bve))}words(){return new wve(Qge(this._ref,_ve))}prependTo(){return new wve(Qge(this._ref,vve))}appendTo(){return new wve(Qge(this._ref,yve))}}const xve=new wve(Jge);function Eve(e){return t=>((e,t)=>e(qge({}),Vge)(t))(e._ref,t)}function Cve(e){return t=>((e,t)=>e(qge($ge),Vge)(t))(e._ref,t)}function Ave(e){return t=>r=>ove(e._ref,t,r)}const Dve=(e,t,r)=>(t.has(r)?t:t.set(r,e())).get(r),Tve=new WeakMap;function Sve(e,t){return((e,t,r)=>{const n=Dve((()=>new WeakMap),Tve,t);return Dve(e,n,r)})((()=>{const r=t(xve),n=D6((t=>{const n=t(e);return n instanceof Promise?n.then((e=>kve(r,e))):kve(r,n)}),((t,n,i)=>{const o=(e=>"function"==typeof e)(i)?function(e){return t=>r=>ive(e._ref,t,r)}(r)(i):Ave(r)(i),s=t(e);return n(e,s instanceof Promise?s.then(o):o(s))}));return n}),e,t)}const kve=(e,t)=>{if("Traversal"===e._tag){const r=function(e){return t=>sve(e._ref,t)}(e)(t);return r}return"Prism"===e._tag?Cve(e)(t):Eve(e)(t)};var Pve=Object.defineProperty,Rve=Object.defineProperties,Ove=Object.getOwnPropertyDescriptors,Bve=Object.getOwnPropertySymbols,Mve=Object.prototype.hasOwnProperty,Fve=Object.prototype.propertyIsEnumerable,Ive=(e,t,r)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nve=(e,t)=>{for(var r in t||(t={}))Mve.call(t,r)&&Ive(e,r,t[r]);if(Bve)for(var r of Bve(t))Fve.call(t,r)&&Ive(e,r,t[r]);return e},Lve=(e,t)=>Rve(e,Ove(t)),jve=(e,t)=>{var r={};for(var n in e)Mve.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Bve)for(var n of Bve(e))t.indexOf(n)<0&&Fve.call(e,n)&&(r[n]=e[n]);return r};function Uve(e){var t=e,{attributes:r,children:n,editor:i,leaf:o,nodeProps:s,text:a}=t,l=jve(t,["attributes","children","editor","leaf","nodeProps","text"]);return H.createElement("span",Nve(Nve({},r),l),n)}var zve=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:Vve,plateControllerStore:Gve,usePlateControllerStore:Hve}=y7({activeId:D6(null),editorStores:D6({}),primaryEditorIds:D6([])},{name:"plateController"}),Wve=()=>Hve().set,$ve=e=>{const t=H.useMemo((()=>D6((t=>{const r=t(Gve.atom.editorStores),n=e=>{var t;return e&&null!=(t=r[e])?t:null};if(e)return n(e);const i=[t(Gve.atom.activeId),...t(Gve.atom.primaryEditorIds)];for(const e of i){const t=n(e);if(t)return t}return null}))),[e]);return Hve().get.atom(t)},{PlateProvider:Xve,plateStore:qve,usePlateStore:Kve}=((e={})=>{var t=e,{id:r,decorate:n=null,editor:i,isMounted:o=!1,primary:s=!0,readOnly:a=null,renderElement:l=null,renderLeaf:u=null,versionDecorate:c=1,versionEditor:d=1,versionSelection:h=1,versionValue:f=1,onChange:p=null,onSelectionChange:m=null,onValueChange:g=null}=t,v=jve(t,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return y7(Nve({decorate:n,editor:i,isMounted:o,primary:s,readOnly:a,renderElement:l,renderLeaf:u,versionDecorate:c,versionEditor:d,versionSelection:h,versionValue:f,onChange:p,onSelectionChange:m,onValueChange:g},v),{extend:e=>({trackedEditor:D6((t=>({editor:t(e.editor),version:t(e.versionEditor)}))),trackedSelection:D6((t=>({selection:t(e.editor).selection,version:t(e.versionSelection)}))),trackedValue:D6((t=>({value:t(e.editor).children,version:t(e.versionValue)})))}),name:"plate"})})(),Yve=(e,{debugHookName:t="usePlateEditorStore"}={})=>{var r;const n=null!=(r=Kve(e).store({warnIfNoStore:!1}))?r:null,[i]=H.useState(!!n),o=i?n:$ve(e),s=!!Hve().store({warnIfNoStore:!1}),a=H.useMemo((()=>V6()),[]);if(!o){if(s)return a;throw new Error(`${t} must be used inside a Plate or PlateController`)}return o},Zve=(e,t)=>{const r=Yve(e,Nve({debugHookName:"usePlateSelectors"},t));return Kve({store:r}).get},Qve=(e,t)=>{const r=Yve(e,Nve({debugHookName:"usePlateActions"},t));return Kve({store:r}).set},Jve=(e,t,r={})=>{const n=H.useRef(1),i=Qve(t,Nve({debugHookName:"useIncrementVersion"},r))[e]();return H.useCallback((()=>{const e=n.current+1;i(e),n.current=e}),[i])};function eye(e,...t){return Zoe({},e,...t,((e,t,r)=>Array.isArray(t)?t:"options"===r?Nve(Nve({},e),t):void 0))}function tye(e){return"function"==typeof e}function rye(e={}){var t;let r,n;tye(e)?(r={key:""},n=t=>e(t)):r=e;const i=null!=(t=r.key)?t:"",o=eye({key:i,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:i},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},e);return o.configure=e=>{const t=Nve({},o);return t.__configuration=t=>tye(e)?e(t):e,rye(t)},o.configurePlugin=(e,t)=>{const r=Nve({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,rye(Lve(Nve({},r),{__configuration:e=>tye(t)?t(e):t}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Lve(Nve({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,rye(r)},o.extendEditorApi=e=>{const t=Nve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1}],rye(t)},o.extendOptions=e=>{const t=Nve({},o);return t.__optionExtensions=[...t.__optionExtensions,e],rye(t)},o.extendApi=e=>{const t=Nve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0}],rye(t)},o.extendEditorTransforms=e=>{const t=Nve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1,isTransform:!0}],rye(t)},o.extendTransforms=e=>{const t=Nve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0,isTransform:!0}],rye(t)},o.extend=e=>{let t=Nve({},o);return tye(e)?t.__extensions=[...t.__extensions,e]:t=eye(t,e),rye(t)},o.clone=()=>eye(o),o.extendPlugin=(e,t)=>{const r=Nve({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,rye(Lve(Nve({},r),{__extensions:[...r.__extensions,e=>tye(t)?t(e):t]}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Lve(Nve({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,i.found||r.plugins.push(rye({key:e.key,__extensions:[e=>tye(t)?t(e):t]})),rye(r)},o}function nye(e={}){return rye(e)}var iye=({apply:e,node:t,path:r=[],query:n,source:i})=>{lte([t,r],n)&&e(t,i instanceof Function?i():i),ite(t)&&t.children.forEach(((t,o)=>{iye({apply:e,node:t,path:r.concat([o]),query:n,source:i})}))},oye=(e,t)=>{const r=[];return[...e.pluginList].reverse().forEach((e=>{var n;const i=null==(n=e.inject.plugins)?void 0:n[t.key];i&&r.push(i)})),[t,...r]},sye={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},aye={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},lye={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},uye=e=>{const t=sye[e],r=aye[e],n=lye[e],i=t&&cse(t),o=r&&cse(r),s=n&&cse(n);return e=>!!(null==i?void 0:i(e))||!(!x6||!(null==o?void 0:o(e)))||!(x6||!(null==s?void 0:s(e)))},cye={isBold:uye("bold"),isCompose:uye("compose"),isDeleteBackward:uye("deleteBackward"),isDeleteForward:uye("deleteForward"),isDeleteLineBackward:uye("deleteLineBackward"),isDeleteLineForward:uye("deleteLineForward"),isDeleteWordBackward:uye("deleteWordBackward"),isDeleteWordForward:uye("deleteWordForward"),isExtendBackward:uye("extendBackward"),isExtendForward:uye("extendForward"),isExtendLineBackward:uye("extendLineBackward"),isExtendLineForward:uye("extendLineForward"),isItalic:uye("italic"),isMoveBackward:uye("moveBackward"),isMoveForward:uye("moveForward"),isMoveLineBackward:uye("moveLineBackward"),isMoveLineForward:uye("moveLineForward"),isMoveWordBackward:uye("moveWordBackward"),isMoveWordForward:uye("moveWordForward"),isRedo:uye("redo"),isSoftBreak:uye("insertSoftBreak"),isSplitBlock:uye("splitBlock"),isTransposeCharacter:uye("transposeCharacter"),isUndo:uye("undo")};function dye(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,getOption:(t,...n)=>e.getOption(r,t,...n),getOptions:()=>e.getOptions(r),plugin:r,setOption:(t,n)=>e.setOption(r,t,n),setOptions:t=>e.setOptions(r,t),tf:e.transforms,type:r.node.type}}var hye=rye({key:"ast",parser:{deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch(she){}return r},format:"application/x-slate-fragment"}}),fye=rye({key:"dom"}),pye=rye({key:"history",extendEditor:({editor:e})=>kee(e)}),mye=rye({key:"inlineVoid",extendEditor:({editor:e})=>{const{isInline:t,isVoid:r,markableVoid:n}=e,i=[],o=[],s=[];return e.pluginList.forEach((e=>{e.node.isInline&&o.push(e.node.type),e.node.isVoid&&i.push(e.node.type),e.node.isMarkableVoid&&s.push(e.node.type)})),e.isInline=e=>!!o.includes(e.type)||t(e),e.isVoid=e=>!!i.includes(e.type)||r(e),e.markableVoid=e=>!!s.includes(e.type)||n(e),e}}),gye=rye({key:"parser",extendEditor:({editor:e})=>{const{insertData:t}=e;return e.insertData=r=>{const n=[...e.pluginList].reverse().some((t=>{const n=t.parser;if(!n)return!1;const i=oye(e,t),{deserialize:o,format:s,mimeTypes:a}=n;if(!s)return!1;const l=Array.isArray(s)?s:[s],u=a||l.map((e=>e.includes("/")?e:`text/${e}`));for(const c of u){let n=r.getData(c);if(!n)continue;if(!Wye(e,i,{data:n,dataTransfer:r}))continue;n=Xye(e,i,{data:n,dataTransfer:r});let s=null==o?void 0:o(Lve(Nve({},dye(e,t)),{data:n,dataTransfer:r}));if((null==s?void 0:s.length)&&(s=qye(e,i,{data:n,dataTransfer:r,fragment:s}),0!==s.length))return $ye(e,i,{data:n,dataTransfer:r,fragment:s}),!0}return!1}));n||t(r)},e}}),vye=class extends Error{constructor(e,t="DEFAULT"){super(`[${t}] ${e}`),this.type=t,this.name="PlateError"}},yye=nye({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},throwErrors:!0}}).extendEditorApi((({getOptions:e})=>{const t=["error","warn","info","log"],r=(r,n,i,o)=>{var s,a;const l=e();if((!l.isProduction||"log"!==r)&&t.indexOf(r)<=t.indexOf(l.logLevel)){if("error"===r&&l.throwErrors)throw n instanceof Error?n:new vye(n,i);null==(a=(s=l.logger)[r])||a.call(s,n,i,o)}};return{debug:{error:(e,t,n)=>r("error",e,t,n),info:(e,t,n)=>r("info",e,t,n),log:(e,t,n)=>r("log",e,t,n),warn:(e,t,n)=>r("warn",e,t,n)}}})),bye=e=>{((e,t)=>{Kle(e,Nve({at:[],nodes:e.api.create.value()},t))})(e),e.history.undos=[],e.history.redos=[],e.operations=[]},_ye=(e,t,r)=>{var n;const{defaultType:i=e.getType(wye),type:o}=t,s=null!=(n=null==r?void 0:r.at)?n:e.selection;if(!o||!s)return;const a=dte(e,Lve(Nve({},r),{match:{type:o}}));a&&o===i||e.setNodes({type:a?i:o},{at:s})},wye=rye({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:e})=>"Consolas"!==e.style.fontFamily,rules:[{validNodeName:"P"}]}}}}),xye=nye({key:"slateNext",extendEditor:({editor:e})=>{const{apply:t,deleteBackward:r,deleteForward:n,deleteFragment:i}=e;e.prevSelection=null,e.currentKeyboardEvent=null;const o=()=>{Wle(e)&&qle(e)};return e.deleteBackward=e=>{r(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{i(e),o()},e.apply=r=>{if("set_selection"===r.type){const{properties:n}=r;return e.prevSelection=n,t(r),void(e.currentKeyboardEvent=null)}t(r)},e}}).extendEditorApi((({editor:e})=>({create:{block:(t,r)=>Nve({children:[{text:""}],type:e.getType(wye)},t)}}))).extendEditorApi((({api:e})=>({create:{value:()=>[e.create.block()]}}))).extendEditorTransforms((({editor:e})=>({reset:()=>{bye(e)},setValue:t=>{let r=t;"string"==typeof t?r=e.api.html.deserialize({element:t}):t&&0!==t.length||(r=e.api.create.value()),Kle(e,{at:[],nodes:r})},toggle:{block:C6(_ye,e),mark:C6(Yle,e)}}))),Eye=e=>e.nodeType===Node.ELEMENT_NODE,Cye=e=>e.nodeType===Node.TEXT_NODE,Aye=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),Dye=e=>{if(!Eye(e))return!1;const t=e,r=Aye.has(t.tagName),n=t.style.display.split(" ")[0];return""===n?r:!!n.startsWith("inline")||("inherit"===n&&t.parentElement?Dye(t.parentElement):!!["contents","initial","none","revert","revert-layer","unset"].includes(n)&&r)},Tye=e=>!!Eye(e)&&!Dye(e),Sye=e=>{e.inlineFormattingContext=null},kye=(e,t)=>{const r=e.textContent||"",n=""===r.trim();!t.inlineFormattingContext&&n||(e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}})(t);const{whiteSpaceRule:i}=t,o="normal"!==i?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",s="normal"===i?"collapse":(e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&Tye(t))return!0;t=(null==t?void 0:t.nextSibling)||null}if(!t)return!0;if(Tye(t))return!0;if((t.textContent||"").length>0)return!1}})(e)?"single-newline":"collapse",a={normal:!0,pre:!1,"pre-line":!0}[i],l=((e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:i=!0}={})=>("all"===n&&(e=e.replace(/^\s+/,"")),"single-newline"===r&&(e=e.replace(/\n$/,"")),t&&(e=i?e.replaceAll(/\s+/g," "):(e=(e=e.replaceAll(/[^\S\n\r]+/g," ")).replaceAll(/^[^\S\n\r]+/gm,"")).replaceAll(/[^\S\n\r]+$/gm,"")),e))(r||"",{shouldCollapseWhiteSpace:a,trimEnd:s,trimStart:o,whiteSpaceIncludesNewlines:"pre-line"!==i});t.inlineFormattingContext&&a&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=l.endsWith(" ")),e.textContent=l},Pye=(e,t)=>{Eye(e)?Oye(e,t):Cye(e)?kye(e,t):Rye(e,t)},Rye=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)Pye(n,t)},Oye=(e,t)=>{const r=Dye(e),n=t.whiteSpaceRule,i=(e=>{const t=e.style.whiteSpace;switch(t){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return"PRE"===e.tagName?"pre":"initial"===t?"normal":null})(e);i&&(t.whiteSpaceRule=i),r||Sye(t),Rye(e,t),r||Sye(t),t.whiteSpaceRule=n},Bye=(e,t)=>Array.from(t.childNodes).flatMap(Nye(e)),Mye=(e,t,{deserializeLeaf:r,element:n})=>{var i,o;const{node:{isElement:s,isLeaf:a,type:l},parsers:u}=t,c=null==(i=null==u?void 0:u.html)?void 0:i.deserializer;if(!c)return;const{attributeNames:d,isElement:h,isLeaf:f,query:p,rules:m}=c;let{parse:g}=c;const v=h||s,y=f||a;if(!r&&!v)return;if(r&&!y)return;if(m&&!m.some((({validAttribute:e,validClassName:r,validNodeName:i="*",validStyle:o})=>{var s;if(i){const e=mse(i);if(e.length>0&&!e.includes(n.nodeName)&&"*"!==i)return!1}if(r&&!n.classList.contains(r))return!1;if(o)for(const[a,l]of Object.entries(o)){if(!mse(l).includes(n.style[a])&&"*"!==l)return;if("*"===l&&!n.style[a])return;const e=null==(s=t.inject.nodeProps)?void 0:s.defaultNodeValue;if(e&&e===n.style[a])return!1}if(e)if("string"==typeof e){if(!n.getAttributeNames().includes(e))return!1}else for(const[t,a]of Object.entries(e)){const e=mse(a),r=n.getAttribute(t);if(!E6(r)||!e.includes(r))return!1}return!0})))return;if(p&&!p(Lve(Nve({},dye(e,t)),{element:n})))return;if(!g)if(v)g=()=>({type:l});else{if(!y)return;g=()=>({[l]:!0})}let b=null!=(o=g(Lve(Nve({},dye(e,t)),{element:n,node:{}})))?o:{};if(0!==Object.keys(b).length){if(oye(e,t).forEach((r=>{var i,o,s,a;const l=null==(a=null==(s=null==(o=null==(i=r.parsers)?void 0:i.html)?void 0:o.deserializer)?void 0:s.parse)?void 0:a.call(s,Lve(Nve({},dye(e,t)),{element:n,node:b}));l&&(b=Nve(Nve({},b),l))})),d){const e={},t=n.getAttributeNames();for(const r of t)d.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length>0&&(b.attributes=e)}return Lve(Nve({},c),{node:b})}},Fye=(e,t)=>{var r;const n=((e,t)=>{let r;return[...e.pluginList].reverse().some((n=>(r=Mye(e,n,{element:t}),!!r))),r})(e,t);if(n){const{node:i,withoutChildren:o}=n;let s=null!=(r=i.children)?r:Bye(e,t);return(0===s.length||o)&&(s=[{text:""}]),vue("element",i,s)}},Iye=(e,t)=>{const r=((e,t)=>{let r={};return[...e.pluginList].reverse().forEach((n=>{const i=Mye(e,n,{deserializeLeaf:!0,element:t});i&&(r=Nve(Nve({},r),i.node))})),r})(e,t);return Bye(e,t).reduce(((e,t)=>{if(!t)return e;if(Vee(t))Object.keys(r).length>0&&(e=>{iye(Lve(Nve({},e),{apply:hse}))})({node:t,query:{filter:([e])=>qee(e)},source:r}),e.push(t);else{const n=Nve({},r);qee(t)&&t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(vue("text",n,t))}return e}),[])},Nye=e=>t=>{const r=(e=>{if(Cye(e))return e.textContent||""})(t);if(r)return r;if(!Eye(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const i=((e,t)=>{if("BODY"===t.nodeName)return vue("fragment",{},Bye(e,t))})(e,t);if(i)return i;const o=Fye(e,t);return o||Iye(e,t)},Lye=(e,{collapseWhiteSpace:t=!0,element:r})=>{"string"==typeof r&&(r=(e=>{const t=document.createElement("body");return t.innerHTML=e,t})(r)),t&&(r=(e=>{const t=e.cloneNode(!0);return Oye(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t})(r));const n=((e,t)=>Nye(e)(t))(e,r);return Vye(e,{descendants:n})},jye=rye({key:"html"}).extendApi((({editor:e})=>({deserialize:C6(Lye,e)}))).extend({parser:{deserialize:({api:e,data:t})=>{const r=(n=t,(new DOMParser).parseFromString(n,"text/html"));var n;return e.html.deserialize({element:r.body})},format:"text/html"}}),Uye=nye({key:"length",extendEditor:({editor:e,getOptions:t})=>{const{apply:r}=e;return e.apply=n=>{Xee(e,(()=>{r(n);const i=t();if(i.maxLength){const t=Jee(e,[]).length;if(t>i.maxLength){const r=t-i.maxLength;e.delete({distance:r,reverse:!0,unit:"character"})}}}))},e}}),zye=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const i=n[r-1];return 0!==r&&t(e)!==t(i)})))(e,t),{fragment:i}=e.reduce(((e,i)=>{if(n&&t(i)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(i)}else e.fragment.push(i),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return i})(e=(e=>0===e.length?[{text:""}]:e)(e),t,r),e=e.map((e=>Vee(e)?Lve(Nve({},e),{children:zye(e.children,t,r)}):e)),e),Vye=(e,{descendants:t})=>{const r=(e=>t=>qee(t)||Vee(t)&&e.isInline(t))(e),n=e.getType(wye),i=(o=n,()=>({children:[],type:o}));var o;return zye(t,r,i)},Gye=(e,t,r)=>{var n,i,o,s;const{key:a,inject:{nodeProps:l,targetPlugins:u}}=t,{className:c,element:d,style:h,text:f}=r,p=null!=d?d:f;if(!p)return;if(!l)return;const{classNames:m,defaultNodeValue:g,nodeKey:v=a,query:y,styleKey:b=v,transformClassName:_,transformNodeValue:w,transformProps:x,transformStyle:E,validNodeValues:C}=l,A=null==y?void 0:y(Lve(Nve(Nve({},l),dye(e,t)),{nodeProps:r}));if(!A&&u&&Vee(p)&&p.type&&!u.includes(((e,t)=>{var r;const n=Object.values(e.plugins).find((e=>e.node.type===t));return null!=(r=null==n?void 0:n.key)?r:t})(e,p.type)))return;const D=p[v];if(!A&&(!E6(D)||C&&!C.includes(D)||D===g))return;const T=Lve(Nve(Nve({},r),dye(e,t)),{nodeValue:D}),S=null!=(n=null==w?void 0:w(T))?n:D;T.value=S;let k={};return d&&(k.className=lf(c,`slate-${v}-${D}`)),((null==m?void 0:m[D])||_)&&(k.className=null!=(i=null==_?void 0:_(T))?i:lf(c,null==m?void 0:m[S])),b&&(k.style=null!=(o=null==E?void 0:E(T))?o:Lve(Nve({},h),{[b]:S})),x&&(k=null!=(s=x(Lve(Nve({},T),{props:k})))?s:k),k},Hye=(e,t)=>(e.pluginList.forEach((r=>{if(r.inject.nodeProps){const n=Gye(e,r,t);n&&(t=Nve(Nve({},t),n))}})),Lve(Nve({},t),{editor:e})),Wye=(e,t,{data:r,dataTransfer:n})=>t.every((t=>{var i;const o=null==(i=t.parser)?void 0:i.query;return!o||o(Lve(Nve({},dye(e,t)),{data:r,dataTransfer:n}))})),$ye=(e,t,r)=>{var n=r,{fragment:i}=n,o=jve(n,["fragment"]);Xee(e,(()=>{t.some((t=>{var r,n;return!0===(null==(n=null==(r=t.parser)?void 0:r.preInsert)?void 0:n.call(r,Nve(Lve(Nve({},dye(e,t)),{fragment:i}),o)))})),e.insertFragment(i)}))},Xye=(e,t,{data:r,dataTransfer:n})=>(t.forEach((t=>{var i;const o=null==(i=t.parser)?void 0:i.transformData;o&&(r=o(Lve(Nve({},dye(e,t)),{data:r,dataTransfer:n})))})),r),qye=(e,t,r)=>{var n=r,{fragment:i}=n,o=jve(n,["fragment"]);return t.forEach((t=>{var r;const n=null==(r=t.parser)?void 0:r.transformFragment;n&&(i=n(Nve(Nve({fragment:i},o),dye(e,t))))})),i},Kye=(e,t)=>{var r,n,i,o;let s=eye({},t);if(s.__resolved=!0,s.__configuration){const t=s.__configuration(dye(e,s));s=eye(s,t),delete s.__configuration}s.__extensions&&s.__extensions.length>0&&(s.__extensions.forEach((t=>{s=eye(s,t(dye(e,s)))})),s.__extensions=[]);const a=null==(r=s.inject)?void 0:r.targetPluginToInject,l=null==(n=s.inject)?void 0:n.targetPlugins;return a&&l&&l.length>0&&(s.inject=s.inject||{},s.inject.plugins=hse({},s.inject.plugins,Object.fromEntries(l.map((t=>[t,a(Lve(Nve({},dye(e,s)),{targetPlugin:t}))]))))),(null==(i=s.node)?void 0:i.component)&&(s.render.node=s.node.component),(null==(o=s.render)?void 0:o.node)&&(s.node.component=s.render.node),Yye(e,s),s},Yye=(e,t)=>{t.__extensions||e.api.debug.error(`Invalid plugin '${t.key}', you should use createSlatePlugin.`,"USE_CREATE_PLUGIN"),t.node.isElement&&t.node.isLeaf&&e.api.debug.error(`Plugin ${t.key} cannot be both an element and a leaf.`,"PLUGIN_NODE_TYPE")},Zye=e=>{e.pluginList.forEach((t=>{let r=Ede(t.key)(t.options,{immer:{enableMapSet:!0}});t.__optionExtensions&&t.__optionExtensions.length>0&&t.__optionExtensions.forEach((n=>{const i=n(dye(e,t));r=r.extendSelectors((()=>i))})),t.optionsStore=r}))},Qye=e=>{const t=[];e.pluginList.forEach((r=>{Object.entries(r.api).forEach((([t,r])=>{e.api[t]=r})),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach((({extension:t,isPluginSpecific:n,isTransform:i})=>{const o=t(dye(e,r));i?n?(e.transforms[r.key]||(e.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),hse(e.transforms[r.key],o),hse(r.transforms[r.key],o)):(hse(e.transforms,o),hse(r.transforms,o)):n?(e.api[r.key]||(e.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),hse(e.api[r.key],o),hse(r.api[r.key],o)):(hse(e.api,o),hse(r.api,o))})),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach((([e,n])=>{var i;if(null===n){const r=t.findIndex((t=>t.key===e));-1!==r&&t.splice(r,1)}else{const o=null!=(i=n.priority)?i:r.priority,s=t.findIndex((t=>t.key===e));(-1===s||o>=t[s].priority)&&(-1!==s&&t.splice(s,1),t.push({key:e,hotkey:n,priority:o}))}}))})),t.sort(((e,t)=>t.hotkey.priority-e.hotkey.priority)),e.shortcuts=Object.fromEntries(t.map((({key:e,hotkey:t})=>[e,jve(t,["priority"])])))},Jye=(e,t)=>{const r=((e,t)=>{const r=new Map,n=t=>{const i=Kye(e,t),o=r.get(i.key);o?r.set(i.key,eye(o,i)):r.set(i.key,i),i.plugins&&i.plugins.length>0&&i.plugins.forEach(n)};return t.forEach(n),r})(e,t),n=Array.from(r.values()).filter((e=>!1!==e.enabled));n.sort(((e,t)=>t.priority-e.priority));const i=[],o=new Set,s=t=>{var n;o.has(t.key)||(o.add(t.key),null==(n=t.dependencies)||n.forEach((n=>{const i=r.get(n);i?s(i):e.api.debug.warn(`Plugin "${t.key}" depends on missing plugin "${n}"`,"PLUGIN_DEPENDENCY_MISSING")})),i.push(t))};return n.forEach(s),i},ebe=(e,t)=>{e.pluginList=t,e.plugins=Object.fromEntries(t.map((e=>[e.key,e])))},tbe=e=>{const t=e=>{let r=[...e];const n={},i={},o={};for(const t of e)t.override.enabled&&Object.assign(n,t.override.enabled),t.override.components&&Object.entries(t.override.components).forEach((([e,r])=>{(!i[e]||t.priority>i[e].priority)&&(i[e]={component:r,priority:t.priority})})),t.override.plugins&&Object.entries(t.override.plugins).forEach((([e,t])=>{o[e]=eye(o[e],t),void 0!==t.enabled&&(n[e]=t.enabled)}));return r=r.map((e=>{var t;let r=Nve({},e);o[e.key]&&(r=eye(r,o[e.key])),i[e.key]&&(!e.render.node&&!e.node.component||i[e.key].priority>e.priority)&&(r.render.node=i[e.key].component,r.node.component=i[e.key].component);const s=null!=(t=n[e.key])?t:r.enabled;return E6(s)&&(r.enabled=s),r})),r.filter((e=>!1!==e.enabled)).map((e=>Lve(Nve({},e),{plugins:t(e.plugins||[])})))};e.pluginList=t(e.pluginList),e.plugins=Object.fromEntries(e.pluginList.map((e=>[e.key,e])))},rbe=(e,t={})=>{var r,n,i=t,{id:o,autoSelect:s,maxLength:a,plugins:l=[],rootPlugin:u,selection:c,shouldNormalizeEditor:d,value:h}=i,f=jve(i,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]);const p=e;p.id=null!=o?o:p.id,p.key=null!=(r=p.key)?r:Math.random(),p.isFallback=!1,p.getApi=()=>p.api,p.getTransforms=()=>p.transforms,p.getPlugin=e=>function(e,t){let r=t;const n=e.plugins[t.key];return n||(r.node||(r=rye(r)),r.__resolved?r:Kye(e,r))}(p,e),p.getType=e=>function(e,t){var r,n;const i=e.getPlugin(t);return null!=(n=null!=(r=i.node.type)?r:i.key)?n:""}(p,e),p.getInjectProps=e=>{var t,r;return null!=(r=null==(t=p.getPlugin(e).inject)?void 0:t.nodeProps)?r:{}},p.getOptionsStore=e=>p.getPlugin(e).optionsStore,p.getOptions=e=>p.getOptionsStore(e)?p.getOptionsStore(e).get.state():p.getPlugin(e).options,p.getOption=(e,t,...r)=>{const n=p.getOptionsStore(e);if(!n)return p.getPlugin(e).options[t];const i=n.get[t];if(i)return i(...r);p.api.debug.error(`editor.getOption: ${t} option is not defined in plugin ${e.key}.`,"OPTION_UNDEFINED")},p.setOption=(e,t,r)=>{const n=p.getOptionsStore(e);if(!n)return;const i=n.set[t];i?i(r):p.api.debug.error(`editor.setOption: ${t} option is not defined in plugin ${e.key}.`,"OPTION_UNDEFINED")},p.setOptions=(e,t)=>{const r=p.getOptionsStore(e);r&&("object"==typeof t?r.set.mergeState(t):"function"==typeof t&&r.set.state(t))};const m=(({maxLength:e,plugins:t=[]})=>{let r=[yye,xye,fye,pye,mye,gye,e?Uye.configure({options:{maxLength:e}}):Uye,jye,hye,wye];const n=new Map(t.map((e=>[e.key,e])));return r=r.map((e=>{const r=n.get(e.key);if(r){const n=t.findIndex((t=>t.key===e.key));return-1!==n&&t.splice(n,1),r}return e})),r})({maxLength:a,plugins:l});let g=rye(Lve(Nve({key:"root",priority:1e4},f),{plugins:[...m,...l]}));if(u&&(g=u(g)),((e,t=[])=>{e.pluginList=[],e.plugins={},e.api={},e.transforms={},e.tf=e.transforms,e.shortcuts={};const r=Jye(e,t);ebe(e,r),tbe(e),Zye(e),Qye(e),e.pluginList.forEach((t=>{t.extendEditor&&(e=t.extendEditor(dye(e,t)))}))})(p,[g]),"string"==typeof h?p.children=p.api.html.deserialize({element:h}):h&&(p.children=h),0===(null==(n=p.children)?void 0:n.length)&&(p.children=p.api.create.value()),c)p.selection=c;else if(s){const e="start"==("start"===s?"start":"end")?Qee(p,[]):Zee(p,[]);Yee(p,e)}return h&&(e=>{const t=e.children;let r=Uce(t);e.pluginList.forEach((t=>{var n;const i=null==(n=t.normalizeInitialValue)?void 0:n.call(t,Lve(Nve({},dye(e,t)),{value:r}));i&&(r=i)})),!Vce(t,r)&&r&&(e.children=r)})(p),d&&((e,t)=>{t9.normalize(e,t)})(p,{force:!0}),p},nbe=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function ibe(e,t){const r=Nve({},e);return nbe.forEach((e=>{const t=r[e];r[e]=(...e)=>ibe(t(...e))})),r.withComponent=e=>r.extend({node:{component:e},render:{node:e}}),t?r.extend(t):r}var obe=(e={})=>ibe(rye(e));function sbe(e,t){return Lve(Nve({},dye(e,t)),{useOption:(r,...n)=>e.useOption(t,r,...n)})}var abe=e=>jve(e,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),lbe=function(e={}){return obe(e)}({key:"plateApi",dependencies:["debug"]}).extendEditorApi((({editor:e})=>({redecorate:()=>{e.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}}))),ube=ibe(xye,{handlers:{onKeyDown:({editor:e,event:t})=>{t.persist(),e.currentKeyboardEvent=t}}}),cbe=Ede("event-editor")({blur:null,focus:null,last:null}),dbe=cbe.set,hbe=cbe.get;cbe.use;var fbe=obe({key:"eventEditor",handlers:{onBlur:({editor:e})=>{hbe.focus()===e.id&&dbe.focus(null),dbe.blur(e.id),document.dispatchEvent(new CustomEvent("blur-editor-event",{detail:{id:e.id}}))},onFocus:({editor:e})=>{dbe.focus(e.id),document.dispatchEvent(new CustomEvent("focus-editor-event",{detail:{id:e.id}}))}}}),pbe=e("d9",ibe(wye,(({editor:e,type:t})=>({shortcuts:{toggleParagraph:{keys:[[p6,f6,"0"],[p6,m6,"0"]],preventDefault:!0,handler:()=>{e.tf.toggle.block({type:t})}}}})))),mbe=rye({key:"dom",extendEditor:({editor:e})=>Ame(e)}).extendEditorTransforms((({editor:e})=>{const{reset:t}=e.tf;return{reset:()=>{const r=(e=>rpe.isFocused(e))(e);t(),r&&((e,{edge:t="start"}={})=>{const r="start"===t?Qee(e,[]):Zee(e,[]);Sme(e,r)})(e,{edge:"start"})}}})),gbe=(e={})=>{var t=e,{editor:r=zee()}=t;return((e,t={})=>{var r=t,{plugins:n=[]}=r,i=jve(r,["plugins"]);const o=rbe(e,Lve(Nve({},i),{plugins:[ube,mbe,fbe,lbe,pbe,...n]}));return o.useOptions=(e,t,r)=>{const n=o.getOptionsStore(e);return n||o.api.debug.error(`editor.useOptions: ${e.key} plugin is missing`,"PLUGIN_MISSING"),n.useStore(t,r)},o.useOption=(e,t,...r)=>{const n=o.getOptionsStore(e);n||o.api.debug.error(`editor.useOption: ${e.key} plugin is missing`,"PLUGIN_MISSING");const i=null==n?void 0:n.use[t];if(i)return i(...r);o.api.debug.error(`editor.useOption: ${t} option is not defined in plugin ${e.key}`,"OPTION_UNDEFINED")},o})(r,jve(t,["editor"]))},vbe=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ybe=({attributes:e,editor:t,plugin:r,props:n})=>{var i,o;let s={};r.node.props&&(s=null!=(i="function"==typeof r.node.props?r.node.props(n):r.node.props)?i:{}),!s.nodeProps&&e&&(s.nodeProps=ege(e,null!=(o=r.node.dangerouslyAllowAttributes)?o:[])),(n=Nve(Nve({},n),s)).nodeProps&&Object.keys(n.nodeProps).forEach((e=>{var t,r;void 0===(null==(t=n.nodeProps)?void 0:t[e])&&(null==(r=n.nodeProps)||delete r[e])}));const{className:a}=n;return Nve(Lve(Nve({},n),{className:lf((l=r.node.type,`slate-${l}`),a)}),sbe(t,r));var l},bbe=e=>(t,r,{composing:n}={})=>!!uye(e)(r)&&!!n===(e=>rpe.isComposing(e))(t);Lve(Nve({},cye),{isTab:bbe("tab"),isUntab:bbe("untab")});var _be=(e,{editableProps:t,handlerKey:r})=>{const n=null==t?void 0:t[r],i=e.pluginList.filter((e=>{var t;return null==(t=e.handlers)?void 0:t[r]}));if(0!==i.length||n)return t=>{const o=t instanceof Event?(e=>{let t=!1;return Lve(Nve({},e),{bubbles:e.bubbles,cancelable:e.cancelable,currentTarget:e.currentTarget,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>t,isTrusted:e.isTrusted,nativeEvent:e,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>e.preventDefault(),stopPropagation:()=>{t=!0,e.stopPropagation()},target:e.target,timeStamp:e.timeStamp,type:e.type})})(t):t;return!!i.some((t=>{const n=(0,t.handlers[r])(Lve(Nve({},sbe(e,t)),{event:o}));return null!=n&&n}))||((e,t)=>{if(!t)return!1;const r=t(e);return null!=r?r:e.isPropagationStopped()})(o,n)}},{ElementProvider:wbe,useElementStore:xbe}=y7({element:null},{name:"element"}),Ebe=(e,t)=>{const r=[];return e.pluginList.forEach((t=>{t.node.isElement&&r.push(((e,t)=>function(r){const{key:n,render:{node:i}}=t,{children:o,element:s}=r;if(s.type===t.node.type){const a=null!=i?i:Upe,l=e.pluginList.flatMap((e=>{var t,r;return null!=(r=null==(t=e.render)?void 0:t.aboveNodes)?r:[]})),u=e.pluginList.flatMap((e=>{var t,r;return null!=(r=null==(t=e.render)?void 0:t.belowNodes)?r:[]}));r=ybe({attributes:s.attributes,editor:e,plugin:t,props:r});let c=o;u.forEach((e=>{const t=e(Lve(Nve({},r),{key:n}));t&&(c=t(Lve(Nve({},r),{children:c})))}));let d=H.createElement(a,Nve({},r),c);return l.forEach((e=>{const t=e(Lve(Nve({},r),{key:n}));t&&(d=t(Lve(Nve({},r),{children:d})))})),H.createElement(wbe,{element:s,scope:n},d)}})(e,t))})),function(n){const i=Hye(e,n);let o;return r.some((e=>(o=e(i),!!o))),o||(t?t(i):H.createElement(Upe,Nve({},i)))}},Cbe=(e,t)=>{const r=[];return e.pluginList.forEach((t=>{t.node.isLeaf&&t.key&&r.push(((e,t)=>function(r){var n;const{render:{node:i}}=t,{children:o,leaf:s}=r;if(s[null!=(n=t.node.type)?n:t.key]){const n=null!=i?i:Uve,a=ybe({attributes:s.attributes,editor:e,plugin:t,props:r});return H.createElement(n,Nve({},a),o)}return o})(e,t))})),function(n){const i=Hye(e,n);return r.forEach((e=>{const t=e(i);void 0!==t&&(i.children=t)})),t?t(i):H.createElement(Uve,Nve({},i))}},Abe=e("d2",((e,t={})=>{var r;return null!=(r=Zve(e,Nve({debugHookName:"useEditorRef"},t)).editor())?r:((e={})=>{const t=gbe(e);return t.isFallback=!0,t.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},t})()}));function Dbe({id:e,editableRef:t}){const r=Abe(e);return H.createElement(H.Fragment,null,Object.entries(r.shortcuts).map((([r,n])=>n&&E6(n.keys)&&n.handler?H.createElement(Tbe,{id:e,key:r,editableRef:t,hotkeyConfig:n}):null)))}function Tbe({id:e,editableRef:t,hotkeyConfig:r}){const n=Abe(e),i=r,{keys:o,handler:s}=i,a=jve(i,["keys","handler"]),l=w6(o,((e,t)=>{s({editor:n,event:e,eventDetails:t})}),Nve({enableOnContentEditable:!0},a),[]);return G.useEffect((()=>{t.current&&l(t.current)}),[l,t]),null}e("db",((e="element")=>{const t=Abe(),r=xbe(e).get.element();return r||(t.api.debug.warn(`useElement(${e}) hook must be used inside the node component's context`,"USE_ELEMENT_CONTEXT"),{})}));var Sbe=({id:e})=>{const t=Abe(e),r=((e,t={})=>{const r=Jve("versionDecorate",e,Nve({debugHookName:"useRedecorate"},t));return H.useCallback((()=>{r()}),[r])})(e),n=Kve(e),i=Object.fromEntries(zve.map((e=>[e,n.set[e]()]))),o=H.useMemo((()=>i),[]);return H.useEffect((()=>{t.api.redecorate=r,t.setPlateState=(e,t)=>{var r;const n=o;null==(r=n[e])||r.call(n,t)}}),[t,r,o]),null};function kbe({id:e,plugin:t}){var r;const n=Abe(e);return null==(r=t.useHooks)||r.call(t,sbe(n,t)),null}function Pbe({id:e}){const t=Zve(e).editor(),r=Qve(e).isMounted();return H.useEffect((()=>(r(!0),()=>{r(!1)})),[r]),H.createElement(H.Fragment,null,t.pluginList.map((t=>H.createElement(kbe,{id:e,key:t.key,plugin:t}))))}var Rbe=H.memo((({id:e})=>{const t=qpe(),r=Jve("versionEditor",e);H.useEffect((()=>{r()}));const n=Jve("versionSelection",e),i=H.useRef(t.selection),o=Obe(i.current,t.selection);return H.useEffect((()=>{o||n(),i.current=t.selection}),[t.selection,o,n]),null})),Obe=(e,t)=>!e&&!t||!(!e||!t)&&H7.equals(e,t);function Bbe({children:e,decorate:t,editor:r,primary:n,readOnly:i,renderElement:o,renderLeaf:s,onChange:a,onSelectionChange:l,onValueChange:u}){return H.createElement(Xve,{readOnly:i,onChange:a,onSelectionChange:l,onValueChange:u,decorate:t,editor:r,primary:n,renderElement:o,renderLeaf:s,scope:r.id},e)}var Mbe=(e={})=>{const{id:t}=e,r=Abe(t),n=Zve(t),i=n.versionDecorate(),o=n.readOnly(),s=n.decorate(),a=n.renderLeaf(),l=n.renderElement(),u=H.useMemo((()=>((e,t)=>{const r=e.pluginList.filter((e=>e.decorate));if(0!==r.length||t)return n=>{let i=[];const o=e=>{(null==e?void 0:e.length)&&(i=[...i,...e])};return r.forEach((t=>{o(t.decorate(Lve(Nve({},sbe(e,t)),{entry:n})))})),t&&o(t({editor:e,entry:n})),i}})(r,null!=s?s:null==e?void 0:e.decorate)),[null==e?void 0:e.decorate,r,s]),c=H.useMemo((()=>{if(i&&u)return e=>u(e)}),[u,i]),d=H.useMemo((()=>Ebe(r,null!=l?l:null==e?void 0:e.renderElement)),[null==e?void 0:e.renderElement,r,l]),h=H.useMemo((()=>Cbe(r,null!=a?a:null==e?void 0:e.renderLeaf)),[null==e?void 0:e.renderLeaf,r,a]),f=zge((()=>{const t={decorate:c,renderElement:d,renderLeaf:h};return E6(o)&&(t.readOnly=o),vbe.forEach((n=>{const i=_be(r,{editableProps:e,handlerKey:n});i&&(t[n]=i)})),t}),[c,e,d,h,o]);return zge((()=>Nve(Nve({},Nge(e,[...vbe,"renderElement","renderLeaf","decorate"])),f)),[e,f])},Fbe=({id:e})=>{const t=Abe(e),r=Zve(e).onChange(),n=Zve(e).onValueChange(),i=Zve(e).onSelectionChange(),o=H.useCallback((e=>{const n=((e,t)=>e.pluginList.some((r=>{const n=r.handlers.onChange;if(!n)return!1;const i=n(Lve(Nve({},sbe(e,r)),{value:t}));return null!=i&&i})))(t,e);n||null==r||r({editor:t,value:e})}),[t,r]),s=H.useMemo((()=>e=>{null==n||n({editor:t,value:e})}),[t,n]),a=H.useMemo((()=>e=>{null==i||i({editor:t,selection:e})}),[t,i]);return H.useMemo((()=>({key:t.key,editor:t,initialValue:t.children,value:t.children,onChange:o,onSelectionChange:a,onValueChange:s})),[t,o,a,s])},Ibe=({id:e})=>{const t=Zve(void 0,{debugHookName:"useEditorId"}).editor().id,r=null!=e?e:t,n=H.useMemo((()=>Sve(Gve.atom.editorStores,(e=>e.prop(r)))),[r]),i=Wve().atom(n,{warnIfNoStore:!1}),o=Kve(r).store(),s=Zve(r).primary(),a=Wve().primaryEditorIds({warnIfNoStore:!1}),l=vme(),u=Wve().activeId({warnIfNoStore:!1});return H.useEffect((()=>(i(null!=o?o:null),()=>{i(null),u((e=>e===r?null:e))})),[o,i,u,r]),H.useEffect((()=>{if(s)return a((e=>[...e,r])),()=>{a((e=>e.filter((e=>e!==r))))}}),[r,s,a]),H.useEffect((()=>{r&&l&&u(r)}),[r,l,u]),null};function Nbe({id:e,children:t}){var r;const n=Fbe({id:e}),i=Abe(e);let o=H.createElement(_me,Nve({},n),t);return null==(r=i.pluginList)||r.forEach((e=>{const{render:{aboveSlate:t}}=e;t&&(o=H.createElement(t,null,o))})),o}var Lbe=e("cz",H.forwardRef(((e,t)=>{var r=e,{renderEditable:n}=r,i=jve(r,["renderEditable"]);const{id:o}=i,s=Abe(o);if(!s)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const a=Mbe(i),l=G.useRef(null),u=pge(t,l),c=H.createElement(ume,Nve({ref:u},a));let d=null,h=null;s.pluginList.forEach((e=>{const{render:{afterEditable:t,beforeEditable:r}}=e;t&&(d=H.createElement(H.Fragment,null,d,H.createElement(t,Nve({},a)))),r&&(h=H.createElement(H.Fragment,null,h,H.createElement(r,Nve({},a))))}));let f=H.createElement(H.Fragment,null,h,n?n(c):c,H.createElement(Sbe,{id:o}),H.createElement(Dbe,{id:o,editableRef:l}),H.createElement(Rbe,{id:o}),H.createElement(Pbe,{id:o}),H.createElement(Ibe,{id:o}),d);return s.pluginList.forEach((e=>{const{render:{aboveEditable:t}}=e;t&&(f=H.createElement(t,null,f))})),H.createElement(Nbe,{id:o},f)})));Lbe.displayName="PlateContent";var jbe=Object.defineProperty,Ube=Object.defineProperties,zbe=Object.getOwnPropertyDescriptors,Vbe=Object.getOwnPropertySymbols,Gbe=Object.prototype.hasOwnProperty,Hbe=Object.prototype.propertyIsEnumerable,Wbe=(e,t,r)=>t in e?jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$be=(e,t)=>{for(var r in t||(t={}))Gbe.call(t,r)&&Wbe(e,r,t[r]);if(Vbe)for(var r of Vbe(t))Hbe.call(t,r)&&Wbe(e,r,t[r]);return e},Xbe=(e,t)=>Ube(e,zbe(t)),qbe=(e,t)=>{var r={};for(var n in e)Gbe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Vbe)for(var n of Vbe(e))t.indexOf(n)<0&&Hbe.call(e,n)&&(r[n]=e[n]);return r},Kbe=e("cw",H.forwardRef(((e,t)=>{const{props:r,ref:n}=(e=>{const t=abe(e),{attributes:r,element:n,elementToAttributes:i,nodeProps:o}=t,s=qbe(t,["attributes","element","elementToAttributes","nodeProps"]);return{props:Xbe($be($be($be($be({},r),s),o),null==i?void 0:i(n)),{className:lf(e.className,null==o?void 0:o.className)}),ref:pge(e.ref,r.ref)}})(Xbe($be({},e),{ref:t}));return H.createElement(hge,Xbe($be({},r),{ref:n}))})));Kbe.displayName="PlateElement";var Ybe=H.forwardRef(((e,t)=>{const{props:r,ref:n}=(e=>{const t=abe(e),{attributes:r,leaf:n,leafToAttributes:i,nodeProps:o,text:s}=t,a=qbe(t,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:Xbe($be($be($be($be({},r),a),o),null==i?void 0:i(n)),{className:lf(e.className,null==o?void 0:o.className)}),ref:pge(e.ref,r.ref)}})(Xbe($be({},e),{ref:t}));return H.createElement(fge,Xbe($be({},r),{ref:n}))}));Ybe.displayName="PlateLeaf",e("d7",(e=>{return t=(e=>(t,r)=>function(n){return H.createElement(e,$be({},$be($be({},n),r)),H.createElement(t,$be({},n)))})(e),(e,r)=>{const n=$be({},e),i={};return mse(r).forEach((e=>{var t=e,{key:r,keys:o}=t,s=qbe(t,["key","keys"]);(r?[r]:null!=o?o:Object.keys(n)).forEach((e=>{i[e]=hse(i[e],s)}))})),Object.keys(i).forEach((e=>{n[e]&&(n[e]=t(n[e],i[e]))})),n};var t})),e("dg",(e=>{if(!e)return{props:{}};const{preventDefaultOnEnterKeydown:t}=e;return{props:{onKeyDownCapture:t?e=>(e=>{"Enter"!==e.key&&13!==e.keyCode||e.preventDefault()})(e):void 0}}})),e("d8",(({element:e,hideOnBlur:t=!0,query:r})=>{const n=vme(),i=Gpe(),o=G.useContext(nme),s=Abe(),a=((e,t)=>t9.isEmpty(e,t))(s,e)&&!o;return{enabled:a&&(!r||lte([e,Tme(s,e)],r))&&(!t||ote(s.selection)&&t&&n&&i)}}));var Zbe=Coe,Qbe=Qte,Jbe=function e(t,r,n,i,o,s){return Qbe(t)&&Qbe(r)&&(s.set(r,t),Zbe(t,r,void 0,e,s),s.delete(r)),t},e_e=Doe,t_e=Jbe,r_e=Yoe;Uoe((function(e){return e.push(void 0,t_e),e_e(r_e,void 0,e)}));var n_e=Object.defineProperty,i_e=Object.defineProperties,o_e=Object.getOwnPropertyDescriptors,s_e=Object.getOwnPropertySymbols,a_e=Object.prototype.hasOwnProperty,l_e=Object.prototype.propertyIsEnumerable,u_e=(e,t,r)=>t in e?n_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c_e=(e,t)=>{for(var r in t||(t={}))a_e.call(t,r)&&u_e(e,r,t[r]);if(s_e)for(var r of s_e(t))l_e.call(t,r)&&u_e(e,r,t[r]);return e},d_e=(e,t)=>i_e(e,o_e(t)),h_e=(e,t)=>{var r={};for(var n in e)a_e.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s_e)for(var n of s_e(e))t.indexOf(n)<0&&l_e.call(e,n)&&(r[n]=e[n]);return r};function f_e(e,...t){return Zoe({},e,...t,((e,t,r)=>Array.isArray(t)?t:"options"===r?c_e(c_e({},e),t):void 0))}function p_e(e){return"function"==typeof e}function m_e(e={}){var t;let r,n;p_e(e)?(r={key:""},n=t=>e(t)):r=e;const i=null!=(t=r.key)?t:"",o=f_e({key:i,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:i},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},e);return o.configure=e=>{const t=c_e({},o);return t.__configuration=t=>p_e(e)?e(t):e,m_e(t)},o.configurePlugin=(e,t)=>{const r=c_e({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,m_e(d_e(c_e({},r),{__configuration:e=>p_e(t)?t(e):t}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,d_e(c_e({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,m_e(r)},o.extendEditorApi=e=>{const t=c_e({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1}],m_e(t)},o.extendOptions=e=>{const t=c_e({},o);return t.__optionExtensions=[...t.__optionExtensions,e],m_e(t)},o.extendApi=e=>{const t=c_e({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0}],m_e(t)},o.extendEditorTransforms=e=>{const t=c_e({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1,isTransform:!0}],m_e(t)},o.extendTransforms=e=>{const t=c_e({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0,isTransform:!0}],m_e(t)},o.extend=e=>{let t=c_e({},o);return p_e(e)?t.__extensions=[...t.__extensions,e]:t=f_e(t,e),m_e(t)},o.clone=()=>f_e(o),o.extendPlugin=(e,t)=>{const r=c_e({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,m_e(d_e(c_e({},r),{__extensions:[...r.__extensions,e=>p_e(t)?t(e):t]}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,d_e(c_e({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,i.found||r.plugins.push(m_e({key:e.key,__extensions:[e=>p_e(t)?t(e):t]})),m_e(r)},o}function g_e(e={}){return m_e(e)}var v_e=({apply:e,node:t,path:r=[],query:n,source:i})=>{lte([t,r],n)&&e(t,i instanceof Function?i():i),ite(t)&&t.children.forEach(((t,o)=>{v_e({apply:e,node:t,path:r.concat([o]),query:n,source:i})}))},y_e=(e,t)=>{const r=[];return[...e.pluginList].reverse().forEach((e=>{var n;const i=null==(n=e.inject.plugins)?void 0:n[t.key];i&&r.push(i)})),[t,...r]},b_e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},__e={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},w_e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},x_e=e=>{const t=b_e[e],r=__e[e],n=w_e[e],i=t&&cse(t),o=r&&cse(r),s=n&&cse(n);return e=>!!(null==i?void 0:i(e))||!(!x6||!(null==o?void 0:o(e)))||!(x6||!(null==s?void 0:s(e)))};function E_e(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,getOption:(t,...n)=>e.getOption(r,t,...n),getOptions:()=>e.getOptions(r),plugin:r,setOption:(t,n)=>e.setOption(r,t,n),setOptions:t=>e.setOptions(r,t),tf:e.transforms,type:r.node.type}}x_e("bold"),x_e("compose"),x_e("deleteBackward"),x_e("deleteForward"),x_e("deleteLineBackward"),x_e("deleteLineForward"),x_e("deleteWordBackward"),x_e("deleteWordForward"),x_e("extendBackward"),x_e("extendForward"),x_e("extendLineBackward"),x_e("extendLineForward"),x_e("italic"),x_e("moveBackward"),x_e("moveForward"),x_e("moveLineBackward"),x_e("moveLineForward"),x_e("moveWordBackward"),x_e("moveWordForward"),x_e("redo"),x_e("insertSoftBreak"),x_e("splitBlock"),x_e("transposeCharacter"),x_e("undo"),m_e({key:"ast",parser:{deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch(she){}return r},format:"application/x-slate-fragment"}}),m_e({key:"dom"}),m_e({key:"history",extendEditor:({editor:e})=>kee(e)}),m_e({key:"inlineVoid",extendEditor:({editor:e})=>{const{isInline:t,isVoid:r,markableVoid:n}=e,i=[],o=[],s=[];return e.pluginList.forEach((e=>{e.node.isInline&&o.push(e.node.type),e.node.isVoid&&i.push(e.node.type),e.node.isMarkableVoid&&s.push(e.node.type)})),e.isInline=e=>!!o.includes(e.type)||t(e),e.isVoid=e=>!!i.includes(e.type)||r(e),e.markableVoid=e=>!!s.includes(e.type)||n(e),e}}),m_e({key:"parser",extendEditor:({editor:e})=>{const{insertData:t}=e;return e.insertData=r=>{const n=[...e.pluginList].reverse().some((t=>{const n=t.parser;if(!n)return!1;const i=y_e(e,t),{deserialize:o,format:s,mimeTypes:a}=n;if(!s)return!1;const l=Array.isArray(s)?s:[s],u=a||l.map((e=>e.includes("/")?e:`text/${e}`));for(const c of u){let n=r.getData(c);if(!n)continue;if(!$_e(e,i,{data:n,dataTransfer:r}))continue;n=q_e(e,i,{data:n,dataTransfer:r});let s=null==o?void 0:o(d_e(c_e({},E_e(e,t)),{data:n,dataTransfer:r}));if((null==s?void 0:s.length)&&(s=K_e(e,i,{data:n,dataTransfer:r,fragment:s}),0!==s.length))return X_e(e,i,{data:n,dataTransfer:r,fragment:s}),!0}return!1}));n||t(r)},e}});var C_e=class extends Error{constructor(e,t="DEFAULT"){super(`[${t}] ${e}`),this.type=t,this.name="PlateError"}};g_e({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},throwErrors:!0}}).extendEditorApi((({getOptions:e})=>{const t=["error","warn","info","log"],r=(r,n,i,o)=>{var s,a;const l=e();if((!l.isProduction||"log"!==r)&&t.indexOf(r)<=t.indexOf(l.logLevel)){if("error"===r&&l.throwErrors)throw n instanceof Error?n:new C_e(n,i);null==(a=(s=l.logger)[r])||a.call(s,n,i,o)}};return{debug:{error:(e,t,n)=>r("error",e,t,n),info:(e,t,n)=>r("info",e,t,n),log:(e,t,n)=>r("log",e,t,n),warn:(e,t,n)=>r("warn",e,t,n)}}}));var A_e=e=>{((e,t)=>{Kle(e,c_e({at:[],nodes:e.api.create.value()},t))})(e),e.history.undos=[],e.history.redos=[],e.operations=[]},D_e=(e,t,r)=>{var n;const{defaultType:i=e.getType(T_e),type:o}=t,s=null!=(n=null==r?void 0:r.at)?n:e.selection;if(!o||!s)return;const a=dte(e,d_e(c_e({},r),{match:{type:o}}));a&&o===i||e.setNodes({type:a?i:o},{at:s})},T_e=m_e({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:e})=>"Consolas"!==e.style.fontFamily,rules:[{validNodeName:"P"}]}}}});g_e({key:"slateNext",extendEditor:({editor:e})=>{const{apply:t,deleteBackward:r,deleteForward:n,deleteFragment:i}=e;e.prevSelection=null,e.currentKeyboardEvent=null;const o=()=>{Wle(e)&&qle(e)};return e.deleteBackward=e=>{r(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{i(e),o()},e.apply=r=>{if("set_selection"===r.type){const{properties:n}=r;return e.prevSelection=n,t(r),void(e.currentKeyboardEvent=null)}t(r)},e}}).extendEditorApi((({editor:e})=>({create:{block:(t,r)=>c_e({children:[{text:""}],type:e.getType(T_e)},t)}}))).extendEditorApi((({api:e})=>({create:{value:()=>[e.create.block()]}}))).extendEditorTransforms((({editor:e})=>({reset:()=>{A_e(e)},setValue:t=>{let r=t;"string"==typeof t?r=e.api.html.deserialize({element:t}):t&&0!==t.length||(r=e.api.create.value()),Kle(e,{at:[],nodes:r})},toggle:{block:C6(D_e,e),mark:C6(Yle,e)}})));var S_e=e=>e.nodeType===Node.ELEMENT_NODE,k_e=e=>e.nodeType===Node.TEXT_NODE,P_e=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),R_e=e=>{if(!S_e(e))return!1;const t=e,r=P_e.has(t.tagName),n=t.style.display.split(" ")[0];return""===n?r:!!n.startsWith("inline")||("inherit"===n&&t.parentElement?R_e(t.parentElement):!!["contents","initial","none","revert","revert-layer","unset"].includes(n)&&r)},O_e=e=>!!S_e(e)&&!R_e(e),B_e=e=>{e.inlineFormattingContext=null},M_e=(e,t)=>{const r=e.textContent||"",n=""===r.trim();!t.inlineFormattingContext&&n||(e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}})(t);const{whiteSpaceRule:i}=t,o="normal"!==i?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",s="normal"===i?"collapse":(e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&O_e(t))return!0;t=(null==t?void 0:t.nextSibling)||null}if(!t)return!0;if(O_e(t))return!0;if((t.textContent||"").length>0)return!1}})(e)?"single-newline":"collapse",a={normal:!0,pre:!1,"pre-line":!0}[i],l=((e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:i=!0}={})=>("all"===n&&(e=e.replace(/^\s+/,"")),"single-newline"===r&&(e=e.replace(/\n$/,"")),t&&(e=i?e.replaceAll(/\s+/g," "):(e=(e=e.replaceAll(/[^\S\n\r]+/g," ")).replaceAll(/^[^\S\n\r]+/gm,"")).replaceAll(/[^\S\n\r]+$/gm,"")),e))(r||"",{shouldCollapseWhiteSpace:a,trimEnd:s,trimStart:o,whiteSpaceIncludesNewlines:"pre-line"!==i});t.inlineFormattingContext&&a&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=l.endsWith(" ")),e.textContent=l},F_e=(e,t)=>{S_e(e)?N_e(e,t):k_e(e)?M_e(e,t):I_e(e,t)},I_e=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)F_e(n,t)},N_e=(e,t)=>{const r=R_e(e),n=t.whiteSpaceRule,i=(e=>{const t=e.style.whiteSpace;switch(t){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return"PRE"===e.tagName?"pre":"initial"===t?"normal":null})(e);i&&(t.whiteSpaceRule=i),r||B_e(t),I_e(e,t),r||B_e(t),t.whiteSpaceRule=n},L_e=(e,t)=>Array.from(t.childNodes).flatMap(V_e(e)),j_e=(e,t,{deserializeLeaf:r,element:n})=>{var i,o;const{node:{isElement:s,isLeaf:a,type:l},parsers:u}=t,c=null==(i=null==u?void 0:u.html)?void 0:i.deserializer;if(!c)return;const{attributeNames:d,isElement:h,isLeaf:f,query:p,rules:m}=c;let{parse:g}=c;const v=h||s,y=f||a;if(!r&&!v)return;if(r&&!y)return;if(m&&!m.some((({validAttribute:e,validClassName:r,validNodeName:i="*",validStyle:o})=>{var s;if(i){const e=mse(i);if(e.length>0&&!e.includes(n.nodeName)&&"*"!==i)return!1}if(r&&!n.classList.contains(r))return!1;if(o)for(const[a,l]of Object.entries(o)){if(!mse(l).includes(n.style[a])&&"*"!==l)return;if("*"===l&&!n.style[a])return;const e=null==(s=t.inject.nodeProps)?void 0:s.defaultNodeValue;if(e&&e===n.style[a])return!1}if(e)if("string"==typeof e){if(!n.getAttributeNames().includes(e))return!1}else for(const[t,a]of Object.entries(e)){const e=mse(a),r=n.getAttribute(t);if(!E6(r)||!e.includes(r))return!1}return!0})))return;if(p&&!p(d_e(c_e({},E_e(e,t)),{element:n})))return;if(!g)if(v)g=()=>({type:l});else{if(!y)return;g=()=>({[l]:!0})}let b=null!=(o=g(d_e(c_e({},E_e(e,t)),{element:n,node:{}})))?o:{};if(0!==Object.keys(b).length){if(y_e(e,t).forEach((r=>{var i,o,s,a;const l=null==(a=null==(s=null==(o=null==(i=r.parsers)?void 0:i.html)?void 0:o.deserializer)?void 0:s.parse)?void 0:a.call(s,d_e(c_e({},E_e(e,t)),{element:n,node:b}));l&&(b=c_e(c_e({},b),l))})),d){const e={},t=n.getAttributeNames();for(const r of t)d.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length>0&&(b.attributes=e)}return d_e(c_e({},c),{node:b})}},U_e=(e,t)=>{var r;const n=((e,t)=>{let r;return[...e.pluginList].reverse().some((n=>(r=j_e(e,n,{element:t}),!!r))),r})(e,t);if(n){const{node:i,withoutChildren:o}=n;let s=null!=(r=i.children)?r:L_e(e,t);return(0===s.length||o)&&(s=[{text:""}]),vue("element",i,s)}},z_e=(e,t)=>{const r=((e,t)=>{let r={};return[...e.pluginList].reverse().forEach((n=>{const i=j_e(e,n,{deserializeLeaf:!0,element:t});i&&(r=c_e(c_e({},r),i.node))})),r})(e,t);return L_e(e,t).reduce(((e,t)=>{if(!t)return e;if(Vee(t))Object.keys(r).length>0&&(e=>{v_e(d_e(c_e({},e),{apply:hse}))})({node:t,query:{filter:([e])=>qee(e)},source:r}),e.push(t);else{const n=c_e({},r);qee(t)&&t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(vue("text",n,t))}return e}),[])},V_e=e=>t=>{const r=(e=>{if(k_e(e))return e.textContent||""})(t);if(r)return r;if(!S_e(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const i=((e,t)=>{if("BODY"===t.nodeName)return vue("fragment",{},L_e(e,t))})(e,t);if(i)return i;const o=U_e(e,t);return o||z_e(e,t)},G_e=(e,{collapseWhiteSpace:t=!0,element:r})=>{"string"==typeof r&&(r=(e=>{const t=document.createElement("body");return t.innerHTML=e,t})(r)),t&&(r=(e=>{const t=e.cloneNode(!0);return N_e(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t})(r));const n=((e,t)=>V_e(e)(t))(e,r);return W_e(e,{descendants:n})};m_e({key:"html"}).extendApi((({editor:e})=>({deserialize:C6(G_e,e)}))).extend({parser:{deserialize:({api:e,data:t})=>{const r=(n=t,(new DOMParser).parseFromString(n,"text/html"));var n;return e.html.deserialize({element:r.body})},format:"text/html"}}),g_e({key:"length",extendEditor:({editor:e,getOptions:t})=>{const{apply:r}=e;return e.apply=n=>{Xee(e,(()=>{r(n);const i=t();if(i.maxLength){const t=Jee(e,[]).length;if(t>i.maxLength){const r=t-i.maxLength;e.delete({distance:r,reverse:!0,unit:"character"})}}}))},e}});var H_e=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const i=n[r-1];return 0!==r&&t(e)!==t(i)})))(e,t),{fragment:i}=e.reduce(((e,i)=>{if(n&&t(i)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(i)}else e.fragment.push(i),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return i})(e=(e=>0===e.length?[{text:""}]:e)(e),t,r),e=e.map((e=>Vee(e)?d_e(c_e({},e),{children:H_e(e.children,t,r)}):e)),e),W_e=(e,{descendants:t})=>{const r=(e=>t=>qee(t)||Vee(t)&&e.isInline(t))(e),n=e.getType(T_e),i=(o=n,()=>({children:[],type:o}));var o;return H_e(t,r,i)},$_e=(e,t,{data:r,dataTransfer:n})=>t.every((t=>{var i;const o=null==(i=t.parser)?void 0:i.query;return!o||o(d_e(c_e({},E_e(e,t)),{data:r,dataTransfer:n}))})),X_e=(e,t,r)=>{var n=r,{fragment:i}=n,o=h_e(n,["fragment"]);Xee(e,(()=>{t.some((t=>{var r,n;return!0===(null==(n=null==(r=t.parser)?void 0:r.preInsert)?void 0:n.call(r,c_e(d_e(c_e({},E_e(e,t)),{fragment:i}),o)))})),e.insertFragment(i)}))},q_e=(e,t,{data:r,dataTransfer:n})=>(t.forEach((t=>{var i;const o=null==(i=t.parser)?void 0:i.transformData;o&&(r=o(d_e(c_e({},E_e(e,t)),{data:r,dataTransfer:n})))})),r),K_e=(e,t,r)=>{var n=r,{fragment:i}=n,o=h_e(n,["fragment"]);return t.forEach((t=>{var r;const n=null==(r=t.parser)?void 0:r.transformFragment;n&&(i=n(c_e(c_e({fragment:i},o),E_e(e,t))))})),i};e("di",g_e({key:"delete",extendEditor:({editor:e,getOptions:t})=>{const{deleteForward:r}=e;return e.deleteForward=n=>{if(!e.selection)return;const{query:i}=t(),o=!i||lte(Wee(e),i);!(e=>ste(e.selection))(e)&&Gle(e)&&o?Kee(e):r(n)},e},options:{query:{allow:[T_e.key]}}})),g_e({key:"selectOnBackspace",extendEditor:({editor:e,getOptions:t})=>{const{deleteBackward:r}=e;return e.deleteBackward=n=>{const{selection:i}=e,{query:o,removeNodeIfEmpty:s}=t();if("character"===n&&ote(i)){const t=((e,t,r)=>t9.before(e,t,r))(e,i,{unit:n});if(t){const[a]=$ee(e,{at:t,match:e=>lte([e,t.path],o)});if(a&&t){const r=((e,t,r)=>t9.point(e,t,r))(e,i),n=((e,t)=>{try{for(let r=0;r<t.length;r++){const n=t[r];if(qee(e)||!e.children[n])return null;e=e.children[n]}return e}catch(r){return null}})(e,r.path);s&&n&&!nte(n)&&Kee(e),Yee(e,t)}else r(n)}else r(n)}else r(n)},e},options:{removeNodeIfEmpty:!1}});var Y_e=Object.defineProperty,Z_e=Object.defineProperties,Q_e=Object.getOwnPropertyDescriptors,J_e=Object.getOwnPropertySymbols,ewe=Object.prototype.hasOwnProperty,twe=Object.prototype.propertyIsEnumerable,rwe=(e,t,r)=>t in e?Y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nwe=(e,t)=>{for(var r in t||(t={}))ewe.call(t,r)&&rwe(e,r,t[r]);if(J_e)for(var r of J_e(t))twe.call(t,r)&&rwe(e,r,t[r]);return e},iwe=(e,t)=>Z_e(e,Q_e(t)),owe=(e,t)=>{var r={};for(var n in e)ewe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&J_e)for(var n of J_e(e))t.indexOf(n)<0&&twe.call(e,n)&&(r[n]=e[n]);return r};function swe(...e){return ep(Hj(e))}function awe(e,t){const r=e;return H.forwardRef((function(e,n){return H.createElement(r,iwe(nwe(nwe({ref:n},t),e),{className:swe(t.className,e.className)}))}))}var lwe="horizontal",uwe=["horizontal","vertical"],cwe=G.forwardRef(((e,t)=>{const{decorative:r,orientation:n=lwe,...i}=e,o=function(e){return uwe.includes(e)}(n)?n:lwe,s=r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return J.jsx(YL.div,{"data-orientation":o,...s,...i,ref:t})}));cwe.displayName="Separator";var dwe=e("cC",cwe),hwe="Toolbar",[fwe,pwe]=tj(hwe,[PV,p8]),mwe=PV(),gwe=p8(),[vwe,ywe]=fwe(hwe),bwe=G.forwardRef(((e,t)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:i,loop:o=!0,...s}=e,a=mwe(r),l=oj(i);return J.jsx(vwe,{scope:r,orientation:n,dir:l,children:J.jsx(jV,{asChild:!0,...a,orientation:n,dir:l,loop:o,children:J.jsx(YL.div,{role:"toolbar","aria-orientation":n,dir:l,...s,ref:t})})})}));bwe.displayName=hwe;var _we="ToolbarSeparator",wwe=G.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=ywe(_we,r);return J.jsx(dwe,{orientation:"horizontal"===i.orientation?"vertical":"horizontal",...n,ref:t})}));wwe.displayName=_we;var xwe=G.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=mwe(r);return J.jsx(UV,{asChild:!0,...i,focusable:!e.disabled,children:J.jsx(YL.button,{type:"button",...n,ref:t})})}));xwe.displayName="ToolbarButton";var Ewe=G.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=mwe(r);return J.jsx(UV,{asChild:!0,...i,focusable:!0,children:J.jsx(YL.a,{...n,ref:t,onKeyDown:aj(e.onKeyDown,(e=>{" "===e.key&&e.currentTarget.click()}))})})}));Ewe.displayName="ToolbarLink";var Cwe="ToolbarToggleGroup",Awe=e("cL",G.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=ywe(Cwe,r),o=gwe(r);return J.jsx(T8,{"data-orientation":i.orientation,dir:i.dir,...o,...n,ref:t,rovingFocus:!1})})));Awe.displayName=Cwe;var Dwe=G.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=gwe(r),o={__scopeToolbar:e.__scopeToolbar};return J.jsx(xwe,{asChild:!0,...o,children:J.jsx(S8,{...i,...n,ref:t})})}));Dwe.displayName="ToolbarToggleItem",e("cK",bwe),e("cN",wwe),e("cI",xwe),e("cM",Ewe),e("cO",Dwe);var[Twe,Swe]=tj("Tooltip",[rV]),kwe=rV(),Pwe="TooltipProvider",Rwe=700,Owe="tooltip.open",[Bwe,Mwe]=Twe(Pwe),Fwe=e=>{const{__scopeTooltip:t,delayDuration:r=Rwe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:o}=e,[s,a]=G.useState(!0),l=G.useRef(!1),u=G.useRef(0);return G.useEffect((()=>{const e=u.current;return()=>window.clearTimeout(e)}),[]),J.jsx(Bwe,{scope:t,isOpenDelayed:s,delayDuration:r,onOpen:G.useCallback((()=>{window.clearTimeout(u.current),a(!1)}),[]),onClose:G.useCallback((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>a(!0)),n)}),[n]),isPointerInTransitRef:l,onPointerInTransitChange:G.useCallback((e=>{l.current=e}),[]),disableHoverableContent:i,children:o})};Fwe.displayName=Pwe;var Iwe="Tooltip",[Nwe,Lwe]=Twe(Iwe),jwe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,l=Mwe(Iwe,e.__scopeTooltip),u=kwe(t),[c,d]=G.useState(null),h=EU(),f=G.useRef(0),p=s??l.disableHoverableContent,m=a??l.delayDuration,g=G.useRef(!1),[v=!1,y]=Yj({prop:n,defaultProp:i,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(Owe))):l.onClose(),o?.(e)}}),b=G.useMemo((()=>v?g.current?"delayed-open":"instant-open":"closed"),[v]),_=G.useCallback((()=>{window.clearTimeout(f.current),g.current=!1,y(!0)}),[y]),w=G.useCallback((()=>{window.clearTimeout(f.current),y(!1)}),[y]),x=G.useCallback((()=>{window.clearTimeout(f.current),f.current=window.setTimeout((()=>{g.current=!0,y(!0)}),m)}),[m,y]);return G.useEffect((()=>()=>window.clearTimeout(f.current)),[]),J.jsx(yV,{...u,children:J.jsx(Nwe,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:c,onTriggerChange:d,onTriggerEnter:G.useCallback((()=>{l.isOpenDelayed?x():_()}),[l.isOpenDelayed,x,_]),onTriggerLeave:G.useCallback((()=>{p?w():window.clearTimeout(f.current)}),[w,p]),onOpen:_,onClose:w,disableHoverableContent:p,children:r})})};jwe.displayName=Iwe;var Uwe="TooltipTrigger",zwe=G.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Lwe(Uwe,r),o=Mwe(Uwe,r),s=kwe(r),a=HL(t,G.useRef(null),i.onTriggerChange),l=G.useRef(!1),u=G.useRef(!1),c=G.useCallback((()=>l.current=!1),[]);return G.useEffect((()=>()=>document.removeEventListener("pointerup",c)),[c]),J.jsx(bV,{asChild:!0,...s,children:J.jsx(YL.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:a,onPointerMove:aj(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(u.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))})),onPointerLeave:aj(e.onPointerLeave,(()=>{i.onTriggerLeave(),u.current=!1})),onPointerDown:aj(e.onPointerDown,(()=>{l.current=!0,document.addEventListener("pointerup",c,{once:!0})})),onFocus:aj(e.onFocus,(()=>{l.current||i.onOpen()})),onBlur:aj(e.onBlur,i.onClose),onClick:aj(e.onClick,i.onClose)})})}));zwe.displayName=Uwe;var Vwe="TooltipPortal",[Gwe,Hwe]=Twe(Vwe,{forceMount:void 0}),Wwe=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,o=Lwe(Vwe,t);return J.jsx(Gwe,{scope:t,forceMount:r,children:J.jsx(JL,{present:r||o.open,children:J.jsx(xV,{asChild:!0,container:i,children:n})})})};Wwe.displayName=Vwe;var $we="TooltipContent",Xwe=G.forwardRef(((e,t)=>{const r=Hwe($we,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,s=Lwe($we,e.__scopeTooltip);return J.jsx(JL,{present:n||s.open,children:s.disableHoverableContent?J.jsx(Zwe,{side:i,...o,ref:t}):J.jsx(qwe,{side:i,...o,ref:t})})})),qwe=G.forwardRef(((e,t)=>{const r=Lwe($we,e.__scopeTooltip),n=Mwe($we,e.__scopeTooltip),i=G.useRef(null),o=HL(t,i),[s,a]=G.useState(null),{trigger:l,onClose:u}=r,c=i.current,{onPointerInTransitChange:d}=n,h=G.useCallback((()=>{a(null),d(!1)}),[d]),f=G.useCallback(((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect()),o=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,i),s=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...o,...function(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())]);a(s),d(!0)}),[d]);return G.useEffect((()=>()=>h()),[h]),G.useEffect((()=>{if(l&&c){const e=e=>f(e,c),t=e=>f(e,l);return l.addEventListener("pointerleave",e),c.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),c.removeEventListener("pointerleave",t)}}}),[l,c,f,h]),G.useEffect((()=>{if(s){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=l?.contains(t)||c?.contains(t),i=!function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,s);n?h():i&&(h(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[l,c,s,u,h]),J.jsx(Zwe,{...e,ref:o})})),[Kwe,Ywe]=Twe(Iwe,{isInside:!1}),Zwe=G.forwardRef(((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=e,l=Lwe($we,r),u=kwe(r),{onClose:c}=l;return G.useEffect((()=>(document.addEventListener(Owe,c),()=>document.removeEventListener(Owe,c))),[c]),G.useEffect((()=>{if(l.trigger){const e=e=>{const t=e.target;t?.contains(l.trigger)&&c()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[l.trigger,c]),J.jsx(iU,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:c,children:J.jsxs(_V,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[J.jsx(XL,{children:n}),J.jsx(Kwe,{scope:r,isInside:!0,children:J.jsx(d4,{id:l.contentId,role:"tooltip",children:i||n})})]})})}));Xwe.displayName=$we;var Qwe="TooltipArrow";G.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=kwe(r);return Ywe(Qwe,r).isInside?null:J.jsx(wV,{...i,...n,ref:t})})).displayName=Qwe,e("cE",Fwe),e("cF",jwe),e("cG",zwe),e("cH",Wwe),e("cD",Xwe);
/*!
			* tabbable 6.2.0
			* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
			*/
var Jwe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),exe="undefined"==typeof Element,txe=exe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rxe=!exe&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},nxe=function e(t,r){var n;void 0===r&&(r=!0);var i=null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===i||"true"===i||r&&t&&e(t.parentNode)},ixe=function e(t,r,n){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!nxe(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,n);n.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{txe.call(s,Jwe)&&n.filter(s)&&(r||!t.includes(s))&&i.push(s);var u=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),c=!nxe(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(u&&c){var d=e(!0===u?s.children:u.children,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else o.unshift.apply(o,s.children)}}return i},oxe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},sxe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,r=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===r||"true"===r}(e))&&!oxe(e)?0:e.tabIndex},axe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},lxe=function(e){return"INPUT"===e.tagName},uxe=function(e){return function(e){return lxe(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,r=e.form||rxe(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(HEe){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",HEe.message),!1}var i=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]}(t,e.form);return!i||i===e}(e)},cxe=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},dxe=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=txe.call(e,"details>summary:first-of-type")?e.parentElement:e;if(txe.call(i,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return cxe(e)}else{if("function"==typeof n){for(var o=e;e;){var s=e.parentElement,a=rxe(e);if(s&&!s.shadowRoot&&!0===n(s))return cxe(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,r,n,i,o=e&&rxe(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(r=s)&&void 0!==r&&null!==(n=r.ownerDocument)&&void 0!==n&&n.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&s;){var l,u,c;a=!(null===(u=s=null===(l=o=rxe(s))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},hxe=function(e,t){return!(t.disabled||nxe(t)||function(e){return lxe(e)&&"hidden"===e.type}(t)||dxe(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!txe.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},fxe=function(e,t){return!(uxe(t)||sxe(t)<0||!hxe(e,t))},pxe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},mxe=function e(t){var r=[],n=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var r=sxe(e);return r<0&&t&&!oxe(e)?0:r}(s,o),l=o?e(t.candidates):s;0===a?o?r.push.apply(r,l):r.push(s):n.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:l})})),n.sort(axe).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(r)},gxe=function(e,t){var r;return r=(t=t||{}).getShadowRoot?ixe([e],t.includeContainer,{filter:fxe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:pxe}):function(e,t,r){if(nxe(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(Jwe));return t&&txe.call(e,Jwe)&&n.unshift(e),n.filter(r)}(e,t.includeContainer,fxe.bind(null,t)),mxe(r)};const vxe={...W},yxe=vxe.useInsertionEffect||(e=>e());var bxe="undefined"!=typeof document?G.useLayoutEffect:G.useEffect;function _xe(){return _xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_xe.apply(this,arguments)}let wxe=!1,xxe=0;const Exe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xxe++,Cxe=vxe.useId||function(){const[e,t]=G.useState((()=>wxe?Exe():void 0));return bxe((()=>{null==e&&t(Exe())}),[]),G.useEffect((()=>{wxe=!0}),[]),e},Axe=G.createContext(null),Dxe=G.createContext(null),Txe=()=>{var e;return(null==(e=G.useContext(Axe))?void 0:e.id)||null};function Sxe(e){return"data-floating-ui-"+e}const kxe=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Pxe(e,t){const r=gxe(e,kxe());"prev"===t&&r.reverse();const n=r.indexOf(function(e){let t=e.activeElement;for(;null!=(null==(r=t)||null==(r=r.shadowRoot)?void 0:r.activeElement);){var r;t=t.shadowRoot.activeElement}return t}(function(e){return(null==e?void 0:e.ownerDocument)||document}(e)));return r.slice(n+1)[0]}function Rxe(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!function(e,t){if(!e||!t)return!1;const r=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&tz(r)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}(r,n)}function Oxe(e){gxe(e,kxe()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Bxe(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Mxe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Fxe(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const Ixe=G.forwardRef((function(e,t){const[r,n]=G.useState();bxe((()=>(/apple/i.test(navigator.vendor)&&n("button"),document.addEventListener("keydown",Fxe),()=>{document.removeEventListener("keydown",Fxe)})),[]);const i={ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,[Sxe("focus-guard")]:"",style:Mxe};return G.createElement("span",_xe({},e,i))})),Nxe=G.createContext(null),Lxe=Sxe("portal"),jxe=()=>G.useContext(Nxe);function Uxe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=Cxe(),o=G.useRef({}),[s]=G.useState((()=>function(){const e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach((e=>e(r)))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter((e=>e!==r)))||[])}}}())),a=null!=Txe(),[l,u]=G.useState(n.reference),c=function(e){const t=G.useRef((()=>{}));return yxe((()=>{t.current=e})),G.useCallback((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)}),[])}(((e,t,n)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:n,nested:a}),null==r||r(e,t,n)})),d=G.useMemo((()=>({setPositionReference:u})),[]),h=G.useMemo((()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference})),[l,n.reference,n.floating]);return G.useMemo((()=>({dataRef:o,open:t,onOpenChange:c,elements:h,events:s,floatingId:i,refs:d})),[t,c,h,s,i,d])}function zxe(e){void 0===e&&(e={});const{nodeId:t}=e,r=Uxe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[o,s]=G.useState(null),[a,l]=G.useState(null),u=(null==i?void 0:i.reference)||o,c=G.useRef(null),d=G.useContext(Dxe);bxe((()=>{u&&(c.current=u)}),[u]);const h=Vz({...e,elements:{...i,...a&&{reference:a}}}),f=G.useCallback((e=>{const t=JU(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)}),[h.refs]),p=G.useCallback((e=>{(JU(e)||null===e)&&(c.current=e,s(e)),(JU(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!JU(e))&&h.refs.setReference(e)}),[h.refs]),m=G.useMemo((()=>({...h.refs,setReference:p,setPositionReference:f,domReference:c})),[h.refs,p,f]),g=G.useMemo((()=>({...h.elements,domReference:u})),[h.elements,u]),v=G.useMemo((()=>({...h,...n,refs:m,elements:g,nodeId:t})),[h,m,g,t,n]);return bxe((()=>{n.dataRef.current.floatingContext=v;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),G.useMemo((()=>({...h,context:v,refs:m,elements:g})),[h,m,g,v])}var Vxe=Object.defineProperty,Gxe=Object.defineProperties,Hxe=Object.getOwnPropertyDescriptors,Wxe=Object.getOwnPropertySymbols,$xe=Object.prototype.hasOwnProperty,Xxe=Object.prototype.propertyIsEnumerable,qxe=(e,t,r)=>t in e?Vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kxe=(e,t)=>{for(var r in t||(t={}))$xe.call(t,r)&&qxe(e,r,t[r]);if(Wxe)for(var r of Wxe(t))Xxe.call(t,r)&&qxe(e,r,t[r]);return e},Yxe=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),Zxe=e("cX",(()=>{const e=window.getSelection();return!e||e.rangeCount<1?{bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}:e.getRangeAt(0).getBoundingClientRect()})),Qxe=(e("cW",(e=>{var t=e,{getBoundingClientRect:r=Zxe}=t,n=((e,t)=>{var r={};for(var n in e)$xe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Wxe)for(var n of Wxe(e))t.indexOf(n)<0&&Xxe.call(e,n)&&(r[n]=e[n]);return r})(t,["getBoundingClientRect"]);const i=H.useRef({getBoundingClientRect:Yxe}),[o,s]=H.useState(!0),a=zxe(Kxe({whileElementsMounted:Sz},n)),{middlewareData:l,refs:u,strategy:c,update:d,x:h,y:f}=a;return mge((()=>{i.current.getBoundingClientRect=r}),[r,d]),mge((()=>{u.setReference(i.current)}),[u]),mge((()=>{if(!(null==l?void 0:l.hide))return;const{referenceHidden:e}=l.hide;s(!e)}),[l.hide]),((e,t)=>Gxe(e,Hxe(t)))(Kxe({},a),{style:{display:!1===n.open?"none":void 0,left:null!=h?h:0,position:c,top:null!=f?f:0,visibility:o?void 0:"hidden"},virtualElementRef:i})})),"Switch"),[Jxe,eEe]=tj(Qxe),[tEe,rEe]=Jxe(Qxe),nEe=G.forwardRef(((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:u,...c}=e,[d,h]=G.useState(null),f=HL(t,(e=>h(e))),p=G.useRef(!1),m=!d||Boolean(d.closest("form")),[g=!1,v]=Yj({prop:i,defaultProp:o,onChange:u});return J.jsxs(tEe,{scope:r,checked:g,disabled:a,children:[J.jsx(YL.button,{type:"button",role:"switch","aria-checked":g,"aria-required":s,"data-state":aEe(g),"data-disabled":a?"":void 0,disabled:a,value:l,...c,ref:f,onClick:aj(e.onClick,(e=>{v((e=>!e)),m&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),m&&J.jsx(sEe,{control:d,bubbles:!p.current,name:n,value:l,checked:g,required:s,disabled:a,style:{transform:"translateX(-100%)"}})]})}));nEe.displayName=Qxe;var iEe="SwitchThumb",oEe=G.forwardRef(((e,t)=>{const{__scopeSwitch:r,...n}=e,i=rEe(iEe,r);return J.jsx(YL.span,{"data-state":aEe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})}));oEe.displayName=iEe;var sEe=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,o=G.useRef(null),s=I3(r),a=Jz(t);return G.useEffect((()=>{const e=o.current,t=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(t,"checked").set;if(s!==r&&i){const t=new Event("click",{bubbles:n});i.call(e,r),e.dispatchEvent(t)}}),[s,r,n]),J.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aEe(e){return e?"checked":"unchecked"}e("d3",nEe),e("d4",oEe);var lEe=e("da",{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"}),uEe=[lEe.h1,lEe.h2,lEe.h3,lEe.h4,lEe.h5,lEe.h6];g_e({key:"heading",options:{levels:[1,2,3,4,5,6]}}).extend((({plugin:e})=>{const{options:{levels:t}}=e,r=[],n=Array.isArray(t)?t:Array.from({length:t||6},((e,t)=>t+1));return n.forEach((e=>{const t=m_e({key:uEe[e-1],node:{isElement:!0},parsers:{html:{deserializer:{rules:[{validNodeName:`H${e}`}]}}}});r.push(t)})),{plugins:r}})),g_e({key:"toc",node:{isElement:!0,isVoid:!0}});var cEe="ToastProvider",[dEe,hEe,fEe]=Zj("Toast"),[pEe,mEe]=MK("Toast",[fEe]),[gEe,vEe]=pEe(cEe),yEe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=G.useState(null),[u,c]=G.useState(0),d=G.useRef(!1),h=G.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cEe}\`. Expected non-empty \`string\`.`),J.jsx(dEe.Provider,{scope:t,children:J.jsx(gEe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:G.useCallback((()=>c((e=>e+1))),[]),onToastRemove:G.useCallback((()=>c((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};yEe.displayName=cEe;var bEe="ToastViewport",_Ee=["F8"],wEe="toast.viewportPause",xEe="toast.viewportResume",EEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,hotkey:n=_Ee,label:i="Notifications ({hotkey})",...o}=e,s=vEe(bEe,r),a=hEe(r),l=G.useRef(null),u=G.useRef(null),c=G.useRef(null),d=G.useRef(null),h=HL(t,d,s.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;G.useEffect((()=>{const e=e=>{0!==n.length&&n.every((t=>e[t]||e.code===t))&&d.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]),G.useEffect((()=>{const e=l.current,t=d.current;if(p&&e&&t){const r=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(wEe);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},n=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(xEe);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}}),[p,s.isClosePausedRef]);const m=G.useCallback((({tabbingDirection:e})=>{const t=a().map((t=>{const r=t.ref.current,n=[r,...VEe(r)];return"forwards"===e?n:n.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return G.useEffect((()=>{const e=d.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,n=t.shiftKey;if(t.target===e&&n)return void u.current?.focus();const i=m({tabbingDirection:n?"backwards":"forwards"}),o=i.findIndex((e=>e===r));GEe(i.slice(o+1))?t.preventDefault():n?u.current?.focus():c.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,m]),J.jsxs($K,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&J.jsx(AEe,{ref:u,onFocusFromOutsideViewport:()=>{GEe(m({tabbingDirection:"forwards"}))}}),J.jsx(dEe.Slot,{scope:r,children:J.jsx(YL.ol,{tabIndex:-1,...o,ref:h})}),p&&J.jsx(AEe,{ref:c,onFocusFromOutsideViewport:()=>{GEe(m({tabbingDirection:"backwards"}))}})]})}));EEe.displayName=bEe;var CEe="ToastFocusProxy",AEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,o=vEe(CEe,r);return J.jsx(c4,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!o.viewport?.contains(t)&&n()}})}));AEe.displayName=CEe;var DEe="Toast",TEe=G.forwardRef(((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,l]=Yj({prop:n,defaultProp:i,onChange:o});return J.jsx(ZK,{present:r||a,children:J.jsx(PEe,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:nj(e.onPause),onResume:nj(e.onResume),onSwipeStart:aj(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:aj(e.onSwipeMove,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:aj(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:aj(e.onSwipeEnd,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)}))})})}));TEe.displayName=DEe;var[SEe,kEe]=pEe(DEe,{onClose(){}}),PEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=e,m=vEe(DEe,r),[g,v]=G.useState(null),y=HL(t,(e=>v(e))),b=G.useRef(null),_=G.useRef(null),w=i||m.duration,x=G.useRef(0),E=G.useRef(w),C=G.useRef(0),{onToastAdd:A,onToastRemove:D}=m,T=nj((()=>{const e=g?.contains(document.activeElement);e&&m.viewport?.focus(),s()})),S=G.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(C.current),x.current=(new Date).getTime(),C.current=window.setTimeout(T,e))}),[T]);G.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{S(E.current),u?.()},r=()=>{const e=(new Date).getTime()-x.current;E.current=E.current-e,window.clearTimeout(C.current),l?.()};return e.addEventListener(wEe,r),e.addEventListener(xEe,t),()=>{e.removeEventListener(wEe,r),e.removeEventListener(xEe,t)}}}),[m.viewport,w,l,u,S]),G.useEffect((()=>{o&&!m.isClosePausedRef.current&&S(w)}),[o,w,m.isClosePausedRef,S]),G.useEffect((()=>(A(),()=>D())),[A,D]);const k=G.useMemo((()=>g?jEe(g):null),[g]);return m.viewport?J.jsxs(J.Fragment,{children:[k&&J.jsx(REe,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:k}),J.jsx(SEe,{scope:r,onClose:T,children:ad.createPortal(J.jsx(dEe.ItemSlot,{scope:r,children:J.jsx(WK,{asChild:!0,onEscapeKeyDown:aj(a,(()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:J.jsx(YL.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:aj(e.onKeyDown,(e=>{"Escape"===e.key&&(a?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))})),onPointerDown:aj(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:aj(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,r=e.clientY-b.current.y,n=Boolean(_.current),i=["left","right"].includes(m.swipeDirection),o=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,r),l="touch"===e.pointerType?10:2,u={x:s,y:a},h={originalEvent:e,delta:u};n?(_.current=u,UEe("toast.swipeMove",d,h,{discrete:!1})):zEe(u,m.swipeDirection,l)?(_.current=u,UEe("toast.swipeStart",c,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(b.current=null)})),onPointerUp:aj(e.onPointerUp,(e=>{const t=_.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),_.current=null,b.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};zEe(t,m.swipeDirection,m.swipeThreshold)?UEe("toast.swipeEnd",f,n,{discrete:!0}):UEe("toast.swipeCancel",h,n,{discrete:!0}),r.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),REe=e=>{const{__scopeToast:t,children:r,...n}=e,i=vEe(DEe,t),[o,s]=G.useState(!1),[a,l]=G.useState(!1);return function(e=(()=>{})){const t=nj(e);QL((()=>{let e=0,r=0;return e=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}}),[t])}((()=>s(!0))),G.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:J.jsx(YK,{asChild:!0,children:J.jsx(c4,{...n,children:o&&J.jsxs(J.Fragment,{children:[i.label," ",r]})})})},OEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e;return J.jsx(YL.div,{...n,ref:t})}));OEe.displayName="ToastTitle";var BEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e;return J.jsx(YL.div,{...n,ref:t})}));BEe.displayName="ToastDescription";var MEe="ToastAction",FEe=G.forwardRef(((e,t)=>{const{altText:r,...n}=e;return r.trim()?J.jsx(LEe,{altText:r,asChild:!0,children:J.jsx(NEe,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MEe}\`. Expected non-empty \`string\`.`),null)}));FEe.displayName=MEe;var IEe="ToastClose",NEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e,i=kEe(IEe,r);return J.jsx(LEe,{asChild:!0,children:J.jsx(YL.button,{type:"button",...n,ref:t,onClick:aj(e.onClick,i.onClose)})})}));NEe.displayName=IEe;var LEe=G.forwardRef(((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return J.jsx(YL.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})}));function jEe(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...jEe(e))}})),t}function UEe(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?ZL(i,o):i.dispatchEvent(o)}var zEe=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),o=n>i;return"left"===t||"right"===t?o&&n>r:!o&&i>r};function VEe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function GEe(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}e("dv",yEe),e("dp",EEe),e("dq",TEe),e("dt",OEe),e("du",BEe),e("dr",FEe),e("ds",NEe)}}}));
