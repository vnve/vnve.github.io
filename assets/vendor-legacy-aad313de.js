System.register([],(function(e,t){"use strict";return{execute:function(){function r(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}e({bR:function(e={}){const t=W.useRef(),r=W.useRef(),[n,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:wJ(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:wJ(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...d0(e),formState:n});const o=t.current.control;return o._options=e,uJ({subject:o._subjects.state,next:e=>{sJ(e,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),W.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),W.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,n.isDirty]),W.useEffect((()=>{e.values&&!$J(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,i((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),W.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),W.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),W.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=iJ(n,o),t.current},bn:function(e,t,r){return function(e,t,r){var n,i;"function"==typeof e?(n=t||[],i=r):(n=[],i=t);var o=W.useRef({hasResult:!1,result:i,error:null}),s=W.useReducer((function(e){return e+1}),0);s[0];var a=s[1],l=W.useMemo((function(){var t="function"==typeof e?e():e;if(!t||"function"!=typeof t.subscribe)throw e===t?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&"undefined"!=typeof window&&("function"!=typeof t.hasValue||t.hasValue()))if("function"==typeof t.getValue)o.current.result=t.getValue(),o.current.hasResult=!0;else{var r=t.subscribe((function(e){o.current.result=e,o.current.hasResult=!0}));"function"==typeof r?r():r.unsubscribe()}return t}),n);if(W.useDebugValue(o.current.result),W.useEffect((function(){var e=l.subscribe((function(e){var t=o.current;null===t.error&&t.result===e||(t.error=null,t.result=e,t.hasResult=!0,a())}),(function(e){var t=o.current;t.error!==e&&(t.error=e,a())}));return"function"==typeof e?e:e.unsubscribe.bind(e)}),n),o.current.error)throw o.current.error;return o.current.result}((function(){return $q(e)}),t||[],r)},c:uf,cA:bxe,cD:function(e,t,r){const n=e;return W.forwardRef((function(e,i){const o=e,{className:s}=o,a=_xe(o,["className"]),l=vxe({},a);return r&&r.forEach((e=>{void 0!==a[e]&&delete l[e]})),W.createElement(n,vxe({ref:i,className:bxe(t(a),s)},l))}))},cE:xxe,cG:function(e,...t){return xxe(e,{className:bxe(t)})},cN:function(e){return W.forwardRef(e)},cT:function(e){return W.forwardRef((function(t,r){return W.createElement(e,Cge(Ege({},t),{ref:r}))}))},cU:y_e,cV:kbe,cY:Nbe,cZ:function(e,t){const r=U_e(t);return b_e(r,e)},dA:function(e){let{fallbackElement:t,router:r,future:n}=e,[i,o]=H.useState(r.state),[s,a]=H.useState(),[l,u]=H.useState({isTransitioning:!1}),[c,d]=H.useState(),[h,f]=H.useState(),[p,m]=H.useState(),g=H.useRef(new Map),{v7_startTransition:v}=n||{},y=H.useCallback((e=>{v?function(e){rf?rf(e):e()}(e):e()}),[v]),_=H.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_viewTransitionOpts:i}=t;n.forEach((e=>g.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),i&&null!=r.window&&"function"==typeof r.window.document.startViewTransition?h&&c?(c.resolve(),h.skipTransition(),m({state:e,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):(a(e),u({isTransitioning:!0,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):y((()=>o(e)))}),[r.window,h,c,g,y]);H.useLayoutEffect((()=>r.subscribe(_)),[r,_]),H.useEffect((()=>{l.isTransitioning&&d(new nf)}),[l.isTransitioning]),H.useEffect((()=>{if(c&&s&&r.window){let e=s,t=c.promise,n=r.window.document.startViewTransition((async()=>{y((()=>o(e))),await t}));n.finished.finally((()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})),f(n)}}),[y,s,c,r.window]),H.useEffect((()=>{c&&s&&i.location.key===s.location.key&&c.resolve()}),[c,h,i.location,s]),H.useEffect((()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))}),[l.isTransitioning,p]);let b=H.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),x=r.basename||"/",w=H.useMemo((()=>({router:r,navigator:b,static:!1,basename:x})),[r,b,x]);return H.createElement(H.Fragment,null,H.createElement(Ih.Provider,{value:w},H.createElement(Nh.Provider,{value:i},H.createElement(tf.Provider,{value:g.current},H.createElement(ef.Provider,{value:l},H.createElement(qh,{basename:x,location:i.location,navigationType:i.historyAction,navigator:b},i.initialized?H.createElement(of,{routes:r.routes,state:i}):t))))),null)},da:hJ,dh:function(e){const{children:t,id:r,root:n=null,preserveTabOrder:i=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:r}=e,n=Lwe(),i=Jwe(),[o,s]=H.useState(null),a=H.useRef(null);return Owe((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{a.current=null}))}),[o]),Owe((()=>{if(!n)return;if(a.current)return;const e=t?document.getElementById(t):null;if(!e)return;const r=document.createElement("div");r.id=n,r.setAttribute(Qwe,""),e.appendChild(r),a.current=r,s(r)}),[t,n]),Owe((()=>{if(!n)return;if(a.current)return;let e=r||(null==i?void 0:i.portalNode);e&&!gz(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const l=document.createElement("div");l.id=n,l.setAttribute(Qwe,""),e=o||e,e.appendChild(l),a.current=l,s(l)}),[t,r,n,i]),o}({id:r,root:n}),[s,a]=H.useState(null),l=H.useRef(null),u=H.useRef(null),c=H.useRef(null),d=H.useRef(null),h=null==s?void 0:s.modal,f=null==s?void 0:s.open,p=!!s&&!s.modal&&s.open&&i&&!(!n&&!o);return H.useEffect((()=>{if(o&&i&&!h)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&Wwe(e)&&("focusin"===e.type?Ywe:$we)(o)}}),[o,i,h]),H.useEffect((()=>{o&&(f||Ywe(o))}),[f,o]),H.createElement(Zwe.Provider,{value:H.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:d,portalNode:o,setFocusManagerState:a})),[i,o])},p&&o&&H.createElement(Kwe,{"data-type":"outside",ref:l,onFocus:e=>{if(Wwe(e,o)){var t;null==(t=c.current)||t.focus()}else{const e=Hwe(document.body,"prev")||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),p&&o&&H.createElement("span",{"aria-owns":o.id,style:Xwe}),o&&ld.createPortal(t,o),p&&o&&H.createElement(Kwe,{"data-type":"outside",ref:u,onFocus:e=>{if(Wwe(e,o)){var t;null==(t=d.current)||t.focus()}else{const t=Hwe(document.body,"next")||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))},dj:function(e={},t=[]){return W.useMemo((()=>!1===e.enabled?null:P_e(e)),[e.id,e.enabled,...t])},dm:function(e){return e.editor?W.createElement(Y_e,Zve({key:e.editor.key},e)):null},dr:function(e){const t=nJ(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:o}=e,[s,a]=W.useState(r._getFieldArray(n)),l=W.useRef(r._getFieldArray(n).map(mJ)),u=W.useRef(s),c=W.useRef(n),d=W.useRef(!1);c.current=n,u.current=s,r._names.array.add(n),e.rules&&r.register(n,e.rules),uJ({next:({values:e,name:t})=>{if(t===c.current||!t){const t=GQ(e,c.current);Array.isArray(t)&&(a(t),l.current=t.map(mJ))}},subject:r._subjects.array});const h=W.useCallback((e=>{d.current=!0,r._updateFieldArray(n,e)}),[r,n]);return W.useEffect((()=>{if(r._state.action=!1,yJ(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!vJ(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then((e=>{const t=GQ(e.errors,n),i=GQ(r._formState.errors,n);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?$Q(r._formState.errors,n,t):GJ(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=GQ(r._fields,n);!e||!e._f||vJ(r._options.reValidateMode).isOnSubmit&&vJ(r._options.mode).isOnSubmit||FJ(e,r._formValues,r._options.criteriaMode===XQ.all,r._options.shouldUseNativeValidation,!0).then((e=>!oJ(e)&&r._subjects.state.next({errors:bJ(r._formState.errors,e,n)})))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&_J(r._fields,((e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1})),r._names.focus="",r._updateValid(),d.current=!1}),[s,n,r]),W.useEffect((()=>(!GQ(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)})),[n,r,i,o]),{swap:W.useCallback(((e,t)=>{const i=r._getFieldArray(n);zJ(i,e,t),zJ(l.current,e,t),h(i),a(i),r._updateFieldArray(n,i,zJ,{argA:e,argB:t},!1)}),[h,n,r]),move:W.useCallback(((e,t)=>{const i=r._getFieldArray(n);LJ(i,e,t),LJ(l.current,e,t),h(i),a(i),r._updateFieldArray(n,i,LJ,{argA:e,argB:t},!1)}),[h,n,r]),prepend:W.useCallback(((e,t)=>{const i=aJ(UQ(e)),o=UJ(r._getFieldArray(n),i);r._names.focus=gJ(n,0,t),l.current=UJ(l.current,i.map(mJ)),h(o),a(o),r._updateFieldArray(n,o,UJ,{argA:IJ(e)})}),[h,n,r]),append:W.useCallback(((e,t)=>{const i=aJ(UQ(e)),o=MJ(r._getFieldArray(n),i);r._names.focus=gJ(n,o.length-1,t),l.current=MJ(l.current,i.map(mJ)),h(o),a(o),r._updateFieldArray(n,o,MJ,{argA:IJ(e)})}),[h,n,r]),remove:W.useCallback((e=>{const t=jJ(r._getFieldArray(n),e);l.current=jJ(l.current,e),h(t),a(t),r._updateFieldArray(n,t,jJ,{argA:e})}),[h,n,r]),insert:W.useCallback(((e,t,i)=>{const o=aJ(UQ(t)),s=NJ(r._getFieldArray(n),e,o);r._names.focus=gJ(n,e,i),l.current=NJ(l.current,e,o.map(mJ)),h(s),a(s),r._updateFieldArray(n,s,NJ,{argA:e,argB:IJ(t)})}),[h,n,r]),update:W.useCallback(((e,t)=>{const i=UQ(t),o=VJ(r._getFieldArray(n),e,i);l.current=[...o].map(((t,r)=>t&&r!==e?l.current[r]:mJ())),h(o),a([...o]),r._updateFieldArray(n,o,VJ,{argA:e,argB:i},!0,!1)}),[h,n,r]),replace:W.useCallback((e=>{const t=aJ(UQ(e));l.current=t.map(mJ),h([...t]),a([...t]),r._updateFieldArray(n,[...t],(e=>e),{},!0,!1)}),[h,n,r]),fields:W.useMemo((()=>s.map(((e,t)=>({...e,[i]:l.current[t]||mJ()})))),[s,i])}},dz:function(e,t){return function(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,r=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,n=!r;let i;if(md(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=ih;let o,s={},a=Ed(e.routes,i,void 0,s),l=e.basename||"/",u=hd({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,h=null,f=null,p=null,m=null!=e.hydrationData,g=Cd(a,e.history.location,l),v=null;if(null==g){let t=bh(404,{pathname:e.history.location.pathname}),{matches:r,route:n}=_h(a);g=r,v={[n.id]:t}}let y,_,b=!(g.some((e=>e.route.lazy))||g.some((e=>e.route.loader))&&null==e.hydrationData),x={historyAction:e.history.action,location:e.history.location,matches:g,initialized:b,navigation:eh,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},w=cd.Pop,E=!1,C=!1,S=new Map,A=null,T=!1,D=!1,k=[],P=[],B=new Map,R=0,O=-1,F=new Map,M=new Set,I=new Map,N=new Map,L=new Set,U=new Map,j=new Map,z=!1;function G(){if(c=e.history.listen((t=>{let{action:r,location:n,delta:i}=t;if(z)return void(z=!1);gd(0===j.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=me({currentLocation:x.location,nextLocation:n,historyAction:r});return o&&null!=i?(z=!0,e.history.go(-1*i),void pe(o,{state:"blocked",location:n,proceed(){pe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),e.history.go(i)},reset(){let e=new Map(x.blockers);e.set(o,rh),W({blockers:e})}})):q(r,n)})),r){!function(e,t){try{let r=e.sessionStorage.getItem(oh);if(r){let e=JSON.parse(r);for(let[r,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(r,new Set(n||[]))}}catch(whe){}}(t,S);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(oh,JSON.stringify(n))}catch(r){gd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}
/**
			 * React Router v6.18.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */(t,S);t.addEventListener("pagehide",e),A=()=>t.removeEventListener("pagehide",e)}return x.initialized||q(cd.Pop,x.location),y}function V(){c&&c(),A&&A(),d.clear(),_&&_.abort(),x.fetchers.forEach(((e,t)=>se(t))),x.blockers.forEach(((e,t)=>fe(t)))}function H(e){return d.add(e),()=>d.delete(e)}function W(e,t){x=hd({},x,e);let r=[],n=[];u.v7_fetcherPersist&&x.fetchers.forEach(((e,t)=>{"idle"===e.state&&(L.has(t)?n.push(t):r.push(t))})),d.forEach((e=>e(x,{deletedFetchers:n,unstable_viewTransitionOpts:t}))),u.v7_fetcherPersist&&(r.forEach((e=>x.fetchers.delete(e))),n.forEach((e=>se(e))))}function $(t,r){var n,i;let s,l=null!=x.actionData&&null!=x.navigation.formMethod&&Ah(x.navigation.formMethod)&&"loading"===x.navigation.state&&!0!==(null==(n=t.state)?void 0:n._isRedirect);s=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:l?x.actionData:null;let u=r.loaderData?vh(x.loaderData,r.loaderData,r.matches||[],r.errors):x.loaderData,c=x.blockers;c.size>0&&(c=new Map(c),c.forEach(((e,t)=>c.set(t,rh))));let d,h=!0===E||null!=x.navigation.formMethod&&Ah(x.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(o&&(a=o,o=void 0),T||w===cd.Pop||(w===cd.Push?e.history.push(t,t.state):w===cd.Replace&&e.history.replace(t,t.state)),w===cd.Pop){let e=S.get(x.location.pathname);e&&e.has(t.pathname)?d={currentLocation:x.location,nextLocation:t}:S.has(t.pathname)&&(d={currentLocation:t,nextLocation:x.location})}else if(C){let e=S.get(x.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),S.set(x.location.pathname,e)),d={currentLocation:x.location,nextLocation:t}}W(hd({},r,{actionData:s,loaderData:u,historyAction:w,location:t,initialized:!0,navigation:eh,revalidation:"idle",restoreScrollPosition:be(t,r.matches||x.matches),preventScrollReset:h,blockers:c}),d),w=cd.Pop,E=!1,C=!1,T=!1,D=!1,k=[],P=[]}async function Y(t,r){if("number"==typeof t)return void e.history.go(t);let n=sh(x.location,x.matches,l,u.v7_prependBasename,t,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:i,submission:o,error:s}=ah(u.v7_normalizeFormMethod,!1,n,r),a=x.location,c=yd(x.location,i,r&&r.state);c=hd({},c,e.history.encodeLocation(c));let d=r&&null!=r.replace?r.replace:void 0,h=cd.Push;!0===d?h=cd.Replace:!1===d||null!=o&&Ah(o.formMethod)&&o.formAction===x.location.pathname+x.location.search&&(h=cd.Replace);let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,p=me({currentLocation:a,nextLocation:c,historyAction:h});if(!p)return await q(h,c,{submission:o,pendingError:s,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition});pe(p,{state:"blocked",location:c,proceed(){pe(p,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),Y(t,r)},reset(){let e=new Map(x.blockers);e.set(p,rh),W({blockers:e})}})}function X(){ie(),W({revalidation:"loading"}),"submitting"!==x.navigation.state&&("idle"!==x.navigation.state?q(w||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation}):q(x.historyAction,x.location,{startUninterruptedRevalidation:!0}))}async function q(t,r,n){_&&_.abort(),_=null,w=t,T=!0===(n&&n.startUninterruptedRevalidation),_e(x.location,x.matches),E=!0===(n&&n.preventScrollReset),C=!0===(n&&n.enableViewTransition);let i=o||a,s=n&&n.overrideNavigation,u=Cd(i,r,l);if(!u){let e=bh(404,{pathname:r.pathname}),{matches:t,route:n}=_h(i);return ge(),void $(r,{matches:t,loaderData:{},errors:{[n.id]:e}})}if(x.initialized&&!D&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}(x.location,r)&&!(n&&n.submission&&Ah(n.submission.formMethod)))return void $(r,{matches:u});_=new AbortController;let c,d,h=fh(e.history,r,_.signal,n&&n.submission);if(n&&n.pendingError)d={[yh(u).route.id]:n.pendingError};else if(n&&n.submission&&Ah(n.submission.formMethod)){let e=await K(h,r,n.submission,u,{replace:n.replace});if(e.shortCircuited)return;c=e.pendingActionData,d=e.pendingActionError,s=Rh(r,n.submission),h=new Request(h.url,{signal:h.signal})}let{shortCircuited:f,loaderData:p,errors:m}=await Z(h,r,u,s,n&&n.submission,n&&n.fetcherSubmission,n&&n.replace,c,d);f||(_=null,$(r,hd({matches:u},c?{actionData:c}:{},{loaderData:p,errors:m})))}async function K(e,t,r,n,o){void 0===o&&(o={}),ie();let a,u=function(e,t){let r={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return r}(t,r);W({navigation:u});let c=Ph(n,t);if(c.route.action||c.route.lazy){if(a=await hh("action",e,c,n,s,i,l),e.signal.aborted)return{shortCircuited:!0}}else a={type:xd.error,error:bh(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Sh(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===x.location.pathname+x.location.search,await re(x,a,{submission:r,replace:e}),{shortCircuited:!0}}if(Ch(a)){let e=yh(n,c.route.id);return!0!==(o&&o.replace)&&(w=cd.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(Eh(a))throw bh(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:a.data}}}async function Z(t,r,n,i,s,u,c,d,h){let f=i||Rh(r,s),p=s||u||Bh(f),m=o||a,[g,v]=lh(e.history,x,n,p,r,D,k,P,I,M,m,l,d,h);if(ge((e=>!(n&&n.some((t=>t.route.id===e)))||g&&g.some((t=>t.route.id===e)))),O=++R,0===g.length&&0===v.length){let e=ce();return $(r,hd({matches:n,loaderData:{},errors:h||null},d?{actionData:d}:{},e?{fetchers:new Map(x.fetchers)}:{})),{shortCircuited:!0}}if(!T){v.forEach((e=>{let t=x.fetchers.get(e.key),r=Oh(void 0,t?t.data:void 0);x.fetchers.set(e.key,r)}));let e=d||x.actionData;W(hd({navigation:f},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},v.length>0?{fetchers:new Map(x.fetchers)}:{}))}v.forEach((e=>{B.has(e.key)&&le(e.key),e.controller&&B.set(e.key,e.controller)}));let y=()=>v.forEach((e=>le(e.key)));_&&_.signal.addEventListener("abort",y);let{results:b,loaderResults:w,fetcherResults:E}=await ne(x.matches,n,g,v,t);if(t.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",y),v.forEach((e=>B.delete(e.key)));let C=xh(b);if(C){if(C.idx>=g.length){let e=v[C.idx-g.length].key;M.add(e)}return await re(x,C.result,{replace:c}),{shortCircuited:!0}}let{loaderData:S,errors:A}=gh(x,n,g,w,h,v,E,U);U.forEach(((e,t)=>{e.subscribe((r=>{(r||e.done)&&U.delete(t)}))}));let F=ce(),N=de(O);return hd({loaderData:S,errors:A},F||N||v.length>0?{fetchers:new Map(x.fetchers)}:{})}function Q(e){return u.v7_fetcherPersist&&(N.set(e,(N.get(e)||0)+1),L.has(e)&&L.delete(e)),x.fetchers.get(e)||th}function J(e,t,r,i){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(e)&&le(e);let s=o||a,c=sh(x.location,x.matches,l,u.v7_prependBasename,r,t,null==i?void 0:i.relative),d=Cd(s,c,l);if(!d)return void oe(e,t,bh(404,{pathname:c}));let{path:h,submission:f,error:p}=ah(u.v7_normalizeFormMethod,!0,c,i);if(p)return void oe(e,t,p);let m=Ph(d,h);E=!0===(i&&i.preventScrollReset),f&&Ah(f.formMethod)?ee(e,t,h,m,d,f):(I.set(e,{routeId:t,path:h}),te(e,t,h,m,d,f))}async function ee(t,r,n,u,c,d){if(ie(),I.delete(t),!u.route.action&&!u.route.lazy){let e=bh(405,{method:d.formMethod,pathname:n,routeId:r});return void oe(t,r,e)}let h=function(e,t){let r={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return r}(d,x.fetchers.get(t));x.fetchers.set(t,h),W({fetchers:new Map(x.fetchers)});let f=new AbortController,p=fh(e.history,n,f.signal,d);B.set(t,f);let m=R,g=await hh("action",p,u,c,s,i,l);if(p.signal.aborted)return void(B.get(t)===f&&B.delete(t));if(L.has(t))return x.fetchers.set(t,Fh(void 0)),void W({fetchers:new Map(x.fetchers)});if(Sh(g)){if(B.delete(t),O>m){let e=Fh(void 0);return x.fetchers.set(t,e),void W({fetchers:new Map(x.fetchers)})}{M.add(t);let e=Oh(d);return x.fetchers.set(t,e),W({fetchers:new Map(x.fetchers)}),re(x,g,{fetcherSubmission:d})}}if(Ch(g))return void oe(t,r,g.error);if(Eh(g))throw bh(400,{type:"defer-action"});let v=x.navigation.location||x.location,y=fh(e.history,v,f.signal),b=o||a,E="idle"!==x.navigation.state?Cd(b,x.navigation.location,l):x.matches;md(E,"Didn't find any matches after fetcher action");let C=++R;F.set(t,C);let S=Oh(d,g.data);x.fetchers.set(t,S);let[A,T]=lh(e.history,x,E,d,v,D,k,P,I,M,b,l,{[u.route.id]:g.data},void 0);T.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,r=x.fetchers.get(t),n=Oh(void 0,r?r.data:void 0);x.fetchers.set(t,n),B.has(t)&&le(t),e.controller&&B.set(t,e.controller)})),W({fetchers:new Map(x.fetchers)});let N=()=>T.forEach((e=>le(e.key)));f.signal.addEventListener("abort",N);let{results:j,loaderResults:z,fetcherResults:G}=await ne(x.matches,E,A,T,y);if(f.signal.aborted)return;f.signal.removeEventListener("abort",N),F.delete(t),B.delete(t),T.forEach((e=>B.delete(e.key)));let V=xh(j);if(V){if(V.idx>=A.length){let e=T[V.idx-A.length].key;M.add(e)}return re(x,V.result)}let{loaderData:H,errors:Y}=gh(x,x.matches,A,z,void 0,T,G,U);if(x.fetchers.has(t)){let e=Fh(g.data);x.fetchers.set(t,e)}de(C),"loading"===x.navigation.state&&C>O?(md(w,"Expected pending action"),_&&_.abort(),$(x.navigation.location,{matches:E,loaderData:H,errors:Y,fetchers:new Map(x.fetchers)})):(W({errors:Y,loaderData:vh(x.loaderData,H,E,Y),fetchers:new Map(x.fetchers)}),D=!1)}async function te(t,r,n,o,a,u){let c=x.fetchers.get(t),d=Oh(u,c?c.data:void 0);x.fetchers.set(t,d),W({fetchers:new Map(x.fetchers)});let h=new AbortController,f=fh(e.history,n,h.signal);B.set(t,h);let p=R,m=await hh("loader",f,o,a,s,i,l);if(Eh(m)&&(m=await Dh(m,f.signal,!0)||m),B.get(t)===h&&B.delete(t),f.signal.aborted)return;if(L.has(t))return x.fetchers.set(t,Fh(void 0)),void W({fetchers:new Map(x.fetchers)});if(Sh(m)){if(O>p){let e=Fh(void 0);return x.fetchers.set(t,e),void W({fetchers:new Map(x.fetchers)})}return M.add(t),void(await re(x,m))}if(Ch(m))return void oe(t,r,m.error);md(!Eh(m),"Unhandled fetcher deferred data");let g=Fh(m.data);x.fetchers.set(t,g),W({fetchers:new Map(x.fetchers)})}async function re(n,i,o){let{submission:s,fetcherSubmission:a,replace:u}=void 0===o?{}:o;i.revalidate&&(D=!0);let c=yd(n.location,i.location,{_isRedirect:!0});if(md(c,"Expected a location on the redirect navigation"),r){let r=!1;if(i.reloadDocument)r=!0;else if(nh.test(i.location)){const n=e.history.createURL(i.location);r=n.origin!==t.location.origin||null==Ld(n.pathname,l)}if(r)return void(u?t.location.replace(i.location):t.location.assign(i.location))}_=null;let d=!0===u?cd.Replace:cd.Push,{formMethod:h,formAction:f,formEncType:p}=n.navigation;!s&&!a&&h&&f&&p&&(s=Bh(n.navigation));let m=s||a;if(Jd.has(i.status)&&m&&Ah(m.formMethod))await q(d,c,{submission:hd({},m,{formAction:i.location}),preventScrollReset:E});else{let e=Rh(c,s);await q(d,c,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:E})}}async function ne(t,r,n,o,a){let u=await Promise.all([...n.map((e=>hh("loader",a,e,r,s,i,l))),...o.map((t=>t.matches&&t.match&&t.controller?hh("loader",fh(e.history,t.path,t.controller.signal),t.match,t.matches,s,i,l):{type:xd.error,error:bh(404,{pathname:t.path})}))]),c=u.slice(0,n.length),d=u.slice(n.length);return await Promise.all([Th(t,n,c,c.map((()=>a.signal)),!1,x.loaderData),Th(t,o.map((e=>e.match)),d,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:u,loaderResults:c,fetcherResults:d}}function ie(){D=!0,k.push(...ge()),I.forEach(((e,t)=>{B.has(t)&&(P.push(t),le(t))}))}function oe(e,t,r){let n=yh(x.matches,t);se(e),W({errors:{[n.route.id]:r},fetchers:new Map(x.fetchers)})}function se(e){let t=x.fetchers.get(e);!B.has(e)||t&&"loading"===t.state&&F.has(e)||le(e),I.delete(e),F.delete(e),M.delete(e),L.delete(e),x.fetchers.delete(e)}function ae(e){if(u.v7_fetcherPersist){let t=(N.get(e)||0)-1;t<=0?(N.delete(e),L.add(e)):N.set(e,t)}else se(e);W({fetchers:new Map(x.fetchers)})}function le(e){let t=B.get(e);md(t,"Expected fetch controller: "+e),t.abort(),B.delete(e)}function ue(e){for(let t of e){let e=Fh(Q(t).data);x.fetchers.set(t,e)}}function ce(){let e=[],t=!1;for(let r of M){let n=x.fetchers.get(r);md(n,"Expected fetcher: "+r),"loading"===n.state&&(M.delete(r),e.push(r),t=!0)}return ue(e),t}function de(e){let t=[];for(let[r,n]of F)if(n<e){let e=x.fetchers.get(r);md(e,"Expected fetcher: "+r),"loading"===e.state&&(le(r),F.delete(r),t.push(r))}return ue(t),t.length>0}function he(e,t){let r=x.blockers.get(e)||rh;return j.get(e)!==t&&j.set(e,t),r}function fe(e){x.blockers.delete(e),j.delete(e)}function pe(e,t){let r=x.blockers.get(e)||rh;md("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,"Invalid blocker state transition: "+r.state+" -> "+t.state);let n=new Map(x.blockers);n.set(e,t),W({blockers:n})}function me(e){let{currentLocation:t,nextLocation:r,historyAction:n}=e;if(0===j.size)return;j.size>1&&gd(!1,"A router only supports one blocker at a time");let i=Array.from(j.entries()),[o,s]=i[i.length-1],a=x.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:r,historyAction:n})?o:void 0}function ge(e){let t=[];return U.forEach(((r,n)=>{e&&!e(n)||(r.cancel(),t.push(n),U.delete(n))})),t}function ve(e,t,r){if(h=e,p=t,f=r||null,!m&&x.navigation===eh){m=!0;let e=be(x.location,x.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{h=null,p=null,f=null}}function ye(e,t){if(f){let r=f(e,t.map((e=>function(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}(e,x.loaderData))));return r||e.key}return e.key}function _e(e,t){if(h&&p){let r=ye(e,t);h[r]=p()}}function be(e,t){if(h){let r=ye(e,t),n=h[r];if("number"==typeof n)return n}return null}function xe(e){s={},o=Ed(e,i,void 0,s)}return y={get basename(){return l},get state(){return x},get routes(){return a},get window(){return t},initialize:G,subscribe:H,enableScrollRestoration:ve,navigate:Y,fetch:J,revalidate:X,createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Q,deleteFetcher:ae,dispose:V,getBlocker:he,deleteBlocker:fe,_internalFetchControllers:B,_internalActiveDeferreds:U,_internalSetRoutes:xe},y}({basename:null==t?void 0:t.basename,future:Zh({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:pd({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||Qh(),routes:e,mapRouteProperties:Kh,window:null==t?void 0:t.window}).initialize()},o:function(e){return BB(e,OB|FB)},v:gE});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var a={exports:{}},l={},u={exports:{}},c={},d=Symbol.for("react.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator,E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function A(e,t,r){this.props=e,this.context=t,this.refs=S,this.updater=r||E}function T(){}function D(e,t,r){this.props=e,this.context=t,this.refs=S,this.updater=r||E}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=A.prototype;var k=D.prototype=new T;k.constructor=D,C(k,A.prototype),k.isPureReactComponent=!0;var P=Array.isArray,B=Object.prototype.hasOwnProperty,R={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function F(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)B.call(t,n)&&!O.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:d,type:e,key:o,ref:s,props:i,_owner:R.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var I=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,r,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case d:case h:s=!0}}if(s)return i=i(s=e),e=""===n?"."+N(s,0):n,P(i)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),L(i,t,r,"",(function(e){return e}))):null!=i&&(M(i)&&(i=function(e,t){return{$$typeof:d,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=""===n?".":n+":",P(e))for(var a=0;a<e.length;a++){var l=n+N(o=e[a],a);s+=L(o,t,r,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(o=e.next()).done;)s+=L(o=o.value,t,r,l=n+N(o,a++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function U(e,t,r){if(null==e)return e;var n=[],i=0;return L(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z={current:null},G={transition:null},V={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:G,ReactCurrentOwner:R};c.Children={map:U,forEach:function(e,t,r){U(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return U(e,(function(){t++})),t},toArray:function(e){return U(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},c.Component=A,c.Fragment=f,c.Profiler=m,c.PureComponent=D,c.StrictMode=p,c.Suspense=_,c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,c.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=R.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)B.call(t,l)&&!O.hasOwnProperty(l)&&(n[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:d,type:e.type,key:i,ref:o,props:n,_owner:s}},c.createContext=function(e){return(e={$$typeof:v,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:g,_context:e},e.Consumer=e},c.createElement=F,c.createFactory=function(e){var t=F.bind(null,e);return t.type=e,t},c.createRef=function(){return{current:null}},c.forwardRef=function(e){return{$$typeof:y,render:e}},c.isValidElement=M,c.lazy=function(e){return{$$typeof:x,_payload:{_status:-1,_result:e},_init:j}},c.memo=function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},c.startTransition=function(e){var t=G.transition;G.transition={};try{e()}finally{G.transition=t}},c.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},c.useCallback=function(e,t){return z.current.useCallback(e,t)},c.useContext=function(e){return z.current.useContext(e)},c.useDebugValue=function(){},c.useDeferredValue=function(e){return z.current.useDeferredValue(e)},c.useEffect=function(e,t){return z.current.useEffect(e,t)},c.useId=function(){return z.current.useId()},c.useImperativeHandle=function(e,t,r){return z.current.useImperativeHandle(e,t,r)},c.useInsertionEffect=function(e,t){return z.current.useInsertionEffect(e,t)},c.useLayoutEffect=function(e,t){return z.current.useLayoutEffect(e,t)},c.useMemo=function(e,t){return z.current.useMemo(e,t)},c.useReducer=function(e,t,r){return z.current.useReducer(e,t,r)},c.useRef=function(e){return z.current.useRef(e)},c.useState=function(e){return z.current.useState(e)},c.useSyncExternalStore=function(e,t,r){return z.current.useSyncExternalStore(e,t,r)},c.useTransition=function(){return z.current.useTransition()},c.version="18.2.0",u.exports=c;var H=e("r",u.exports);const W=e("cB",o(H)),$=r({__proto__:null,default:W},[H]);
/**
			 * @license React
			 * react-jsx-runtime.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */
var Y=H,X=Symbol.for("react.element"),q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,Z=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,r){var n,i={},o=null,s=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)K.call(t,n)&&!Q.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:X,type:e,key:o,ref:s,props:i,_owner:Z.current}}l.Fragment=q,l.jsx=J,l.jsxs=J,a.exports=l;var ee=e("j",a.exports),te=e("dB",{}),re={exports:{}},ne={},ie={exports:{}},oe={};
/**
			 * @license React
			 * scheduler.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,r))u<o&&0>i(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[a]=r,n=a);else{if(!(u<o&&0>i(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var i=r(u);null!==i;){if(null===i.callback)n(u);else{if(!(i.startTime<=e))break;n(u),i.sortIndex=i.expirationTime,t(l,i)}i=r(u)}}function b(e){if(m=!1,_(e),!p)if(null!==r(l))p=!0,R(x);else{var t=r(u);null!==t&&O(b,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(S),S=-1),f=!0;var o=h;try{for(_(i),d=r(l);null!==d&&(!(d.expirationTime>i)||t&&!D());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?d.callback=a:d===r(l)&&n(l),_(i)}else n(l);d=r(l)}if(null!==d)var c=!0;else{var g=r(u);null!==g&&O(b,g.startTime-i),c=!1}return c}finally{d=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,C=null,S=-1,A=5,T=-1;function D(){return!(e.unstable_now()-T<A)}function k(){if(null!==C){var t=e.unstable_now();T=t;var r=!0;try{r=C(!0,t)}finally{r?w():(E=!1,C=null)}}else E=!1}if("function"==typeof y)w=function(){y(k)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,B=P.port2;P.port1.onmessage=k,w=function(){B.postMessage(null)}}else w=function(){g(k,0)};function R(e){C=e,E||(E=!0,w())}function O(t,r){S=g((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,i,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,n){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return n={id:c++,callback:i,priorityLevel:n,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(n.sortIndex=o,t(u,n),null===r(l)&&n===r(u)&&(m?(v(S),S=-1):m=!0,O(b,o-s))):(n.sortIndex=a,t(l,n),p||f||(p=!0,R(x))),n},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(oe),ie.exports=oe;var se=ie.exports,ae=H,le=se;
/**
			 * @license React
			 * react-dom.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ce=new Set,de={};function he(e,t){fe(e,t),fe(e+"Capture",t)}function fe(e,t){for(de[e]=t,e=0;e<t.length;e++)ce.add(t[e])}var pe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),me=Object.prototype.hasOwnProperty,ge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ve={},ye={};function _e(e,t,r,n,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){be[e]=new _e(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];be[t]=new _e(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){be[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){be[e]=new _e(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){be[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){be[e]=new _e(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){be[e]=new _e(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){be[e]=new _e(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){be[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)}));var xe=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function Ee(e,t,r,n){var i=be.hasOwnProperty(t)?be[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!me.call(ye,e)||!me.call(ve,e)&&(ge.test(e)?ye[e]=!0:(ve[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(xe,we);be[t]=new _e(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(xe,we);be[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(xe,we);be[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){be[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)})),be.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){be[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Ce=ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),De=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),Be=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),Le=Symbol.iterator;function Ue(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Le&&e[Le]||e["@@iterator"])?e:null}var je,ze=Object.assign;function Ge(e){if(void 0===je)try{throw Error()}catch(cde){var t=cde.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||""}return"\n"+je+e}var Ve=!1;function He(e,t){if(!e||Ve)return"";Ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(xhe){var n=xhe}Reflect.construct(e,[],t)}else{try{t.call()}catch(xhe){n=xhe}e.call(t.prototype)}else{try{throw Error()}catch(xhe){n=xhe}e()}}catch(xhe){if(xhe&&n&&"string"==typeof xhe.stack){for(var i=xhe.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{Ve=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ge(e):""}function We(e){switch(e.tag){case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 2:case 15:return e=He(e.type,!1);case 11:return e=He(e.type.render,!1);case 1:return e=He(e.type,!0);default:return""}}function $e(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Te:return"Fragment";case Ae:return"Portal";case ke:return"Profiler";case De:return"StrictMode";case Oe:return"Suspense";case Fe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Be:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return null!==(t=e.displayName||null)?t:$e(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return $e(e(t))}catch(cde){}}return null}function Ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(t);case 8:return t===De?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function qe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ke(e){e._valueTracker||(e._valueTracker=function(e){var t=qe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qe(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Qe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(H8){return e.body}}function Je(e,t){var r=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function et(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Xe(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function tt(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function rt(e,t){tt(e,t);var r=Xe(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?it(e,t.type,r):t.hasOwnProperty("defaultValue")&&it(e,t.type,Xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function nt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function it(e,t,r){"number"===t&&Qe(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ot=Array.isArray;function st(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function at(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ue(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lt(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(ue(92));if(ot(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Xe(r)}}function ut(e,t){var r=Xe(t.value),n=Xe(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function dt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?dt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ft,pt=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ft=ft||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function mt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];function yt(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||gt.hasOwnProperty(e)&&gt[e]?(""+t).trim():t+"px"}function _t(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=yt(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(gt).forEach((function(e){vt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gt[t]=gt[e]}))}));var bt=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(e,t){if(t){if(bt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ue(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ue(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ue(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var St=null,At=null,Tt=null;function Dt(e){if(e=Eo(e)){if("function"!=typeof St)throw Error(ue(280));var t=e.stateNode;t&&(t=So(t),St(e.stateNode,e.type,t))}}function kt(e){At?Tt?Tt.push(e):Tt=[e]:At=e}function Pt(){if(At){var e=At,t=Tt;if(Tt=At=null,Dt(e),t)for(e=0;e<t.length;e++)Dt(t[e])}}function Bt(e,t){return e(t)}function Rt(){}var Ot=!1;function Ft(e,t,r){if(Ot)return e(t,r);Ot=!0;try{return Bt(e,t,r)}finally{Ot=!1,(null!==At||null!==Tt)&&(Rt(),Pt())}}function Mt(e,t){var r=e.stateNode;if(null===r)return null;var n=So(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(ue(231,t,typeof r));return r}var It=!1;if(pe)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(mde){It=!1}function Lt(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(z8){this.onError(z8)}}var Ut=!1,jt=null,zt=!1,Gt=null,Vt={onError:function(e){Ut=!0,jt=e}};function Ht(e,t,r,n,i,o,s,a,l){Ut=!1,jt=null,Lt.apply(Vt,arguments)}function Wt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $t(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Yt(e){if(Wt(e)!==e)throw Error(ue(188))}function Xt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Wt(e)))throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Yt(i),e;if(o===n)return Yt(i),t;o=o.sibling}throw Error(ue(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(3!==r.tag)throw Error(ue(188));return r.stateNode.current===r?e:t}(e),null!==e?qt(e):null}function qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=le.unstable_scheduleCallback,Zt=le.unstable_cancelCallback,Qt=le.unstable_shouldYield,Jt=le.unstable_requestPaint,er=le.unstable_now,tr=le.unstable_getCurrentPriorityLevel,rr=le.unstable_ImmediatePriority,nr=le.unstable_UserBlockingPriority,ir=le.unstable_NormalPriority,or=le.unstable_LowPriority,sr=le.unstable_IdlePriority,ar=null,lr=null,ur=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(cr(e)/dr|0)|0},cr=Math.log,dr=Math.LN2,hr=64,fr=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mr(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=pr(a):0!=(o&=s)&&(n=pr(o))}else 0!=(s=r&~i)?n=pr(s):0!==o&&(n=pr(o));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ur(t)),n|=e[r],t&=~i;return n}function gr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vr(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yr(){var e=hr;return 0==(4194240&(hr<<=1))&&(hr=64),e}function _r(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function br(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ur(t)]=r}function xr(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var wr=0;function Er(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Cr,Sr,Ar,Tr,Dr,kr=!1,Pr=[],Br=null,Rr=null,Or=null,Fr=new Map,Mr=new Map,Ir=[],Nr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lr(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function Ur(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=Eo(t))&&Sr(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jr(e){var t=wo(e.target);if(null!==t){var r=Wt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=$t(r)))return e.blockedOn=t,void Dr(e.priority,(function(){Ar(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Eo(r))&&Sr(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Et=n,r.target.dispatchEvent(n),Et=null,t.shift()}return!0}function Gr(e,t,r){zr(e)&&r.delete(t)}function Vr(){kr=!1,null!==Br&&zr(Br)&&(Br=null),null!==Rr&&zr(Rr)&&(Rr=null),null!==Or&&zr(Or)&&(Or=null),Fr.forEach(Gr),Mr.forEach(Gr)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,kr||(kr=!0,le.unstable_scheduleCallback(le.unstable_NormalPriority,Vr)))}function Wr(e){function t(t){return Hr(t,e)}if(0<Pr.length){Hr(Pr[0],e);for(var r=1;r<Pr.length;r++){var n=Pr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Br&&Hr(Br,e),null!==Rr&&Hr(Rr,e),null!==Or&&Hr(Or,e),Fr.forEach(t),Mr.forEach(t),r=0;r<Ir.length;r++)(n=Ir[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Ir.length&&null===(r=Ir[0]).blockedOn;)jr(r),null===r.blockedOn&&Ir.shift()}var $r=Ce.ReactCurrentBatchConfig,Yr=!0;function Xr(e,t,r,n){var i=wr,o=$r.transition;$r.transition=null;try{wr=1,Kr(e,t,r,n)}finally{wr=i,$r.transition=o}}function qr(e,t,r,n){var i=wr,o=$r.transition;$r.transition=null;try{wr=4,Kr(e,t,r,n)}finally{wr=i,$r.transition=o}}function Kr(e,t,r,n){if(Yr){var i=Qr(e,t,r,n);if(null===i)Yi(e,t,n,Zr,r),Lr(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Br=Ur(Br,e,t,r,n,i),!0;case"dragenter":return Rr=Ur(Rr,e,t,r,n,i),!0;case"mouseover":return Or=Ur(Or,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Fr.set(o,Ur(Fr.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Mr.set(o,Ur(Mr.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Lr(e,n),4&t&&-1<Nr.indexOf(e)){for(;null!==i;){var o=Eo(i);if(null!==o&&Cr(o),null===(o=Qr(e,t,r,n))&&Yi(e,t,n,Zr,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Yi(e,t,n,null,r)}}var Zr=null;function Qr(e,t,r,n){if(Zr=null,null!==(e=wo(e=Ct(n))))if(null===(t=Wt(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=$t(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zr=e,null}function Jr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case rr:return 1;case nr:return 4;case ir:case or:return 16;case sr:return 536870912;default:return 16}default:return 16}}var en=null,tn=null,rn=null;function nn(){if(rn)return rn;var e,t,r=tn,n=r.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[o-t];t++);return rn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function ln(e){function t(t,r,n,i,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var un,cn,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(hn),pn=ze({},hn,{view:0,detail:0}),mn=ln(pn),gn=ze({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=ln(gn),yn=ln(ze({},gn,{dataTransfer:0})),_n=ln(ze({},pn,{relatedTarget:0})),bn=ln(ze({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=ze({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=ln(xn),En=ln(ze({},hn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Dn(){return Tn}var kn=ze({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=ln(kn),Bn=ln(ze({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=ln(ze({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),On=ln(ze({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=ze({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=ln(Fn),In=[9,13,27,32],Nn=pe&&"CompositionEvent"in window,Ln=null;pe&&"documentMode"in document&&(Ln=document.documentMode);var Un=pe&&"TextEvent"in window&&!Ln,jn=pe&&(!Nn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),Gn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Xn(e,t,r,n){kt(n),0<(t=qi(t,"onChange")).length&&(r=new fn("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qn=null,Kn=null;function Zn(e){zi(e,0)}function Qn(e){if(Ze(Co(e)))return e}function Jn(e,t){if("change"===e)return t}var ei=!1;if(pe){var ti;if(pe){var ri="oninput"in document;if(!ri){var ni=document.createElement("div");ni.setAttribute("oninput","return;"),ri="function"==typeof ni.oninput}ti=ri}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function ii(){qn&&(qn.detachEvent("onpropertychange",oi),Kn=qn=null)}function oi(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Xn(t,Kn,e,Ct(e)),Ft(Zn,t)}}function si(e,t,r){"focusin"===e?(ii(),Kn=r,(qn=t).attachEvent("onpropertychange",oi)):"focusout"===e&&ii()}function ai(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function li(e,t){if("click"===e)return Qn(t)}function ui(e,t){if("input"===e||"change"===e)return Qn(t)}var ci="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function di(e,t){if(ci(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!me.call(t,i)||!ci(e[i],t[i]))return!1}return!0}function hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fi(e,t){var r,n=hi(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hi(n)}}function pi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mi(){for(var e=window,t=Qe();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(U8){r=!1}if(!r)break;t=Qe((e=t.contentWindow).document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vi(e){var t=mi(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pi(r.ownerDocument.documentElement,r)){if(null!==n&&gi(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=fi(r,o);var s=fi(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yi=pe&&"documentMode"in document&&11>=document.documentMode,_i=null,bi=null,xi=null,wi=!1;function Ei(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wi||null==_i||_i!==Qe(n)||(n="selectionStart"in(n=_i)&&gi(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xi&&di(xi,n)||(xi=n,0<(n=qi(bi,"onSelect")).length&&(t=new fn("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_i)))}function Ci(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Si={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},Ai={},Ti={};function Di(e){if(Ai[e])return Ai[e];if(!Si[e])return e;var t,r=Si[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ti)return Ai[e]=r[t];return e}pe&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var ki=Di("animationend"),Pi=Di("animationiteration"),Bi=Di("animationstart"),Ri=Di("transitionend"),Oi=new Map,Fi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Oi.set(e,t),he(t,[e])}for(var Ii=0;Ii<Fi.length;Ii++){var Ni=Fi[Ii];Mi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Mi(ki,"onAnimationEnd"),Mi(Pi,"onAnimationIteration"),Mi(Bi,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ri,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),he("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),he("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),he("onBeforeInput",["compositionend","keypress","textInput","paste"]),he("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function ji(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,a,l){if(Ht.apply(this,arguments),Ut){if(!Ut)throw Error(ue(198));var u=jt;Ut=!1,jt=null,zt||(zt=!0,Gt=u)}}(n,t,void 0,e),e.currentTarget=null}function zi(e,t){t=0!=(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,u),o=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,u),o=l}}}if(zt)throw e=Gt,zt=!1,Gt=null,e}function Gi(e,t){var r=t[_o];void 0===r&&(r=t[_o]=new Set);var n=e+"__bubble";r.has(n)||($i(t,e,2,!1),r.add(n))}function Vi(e,t,r){var n=0;t&&(n|=4),$i(r,e,n,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Hi]){e[Hi]=!0,ce.forEach((function(t){"selectionchange"!==t&&(Ui.has(t)||Vi(t,!1,e),Vi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Vi("selectionchange",!1,t))}}function $i(e,t,r,n){switch(Jr(t)){case 1:var i=Xr;break;case 4:i=qr;break;default:i=Kr}r=i.bind(null,t,r,e),i=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Yi(e,t,r,n,i){var o=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(l=s.tag)||6===l){n=o=s;continue e}a=a.parentNode}}n=n.return}Ft((function(){var n=o,i=Ct(r),s=[];e:{var a=Oi.get(e);if(void 0!==a){var l=fn,u=e;switch(e){case"keypress":if(0===on(r))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=_n;break;case"focusout":u="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case ki:case Pi:case Bi:l=bn;break;case Ri:l=On;break;case"scroll":l=mn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Bn}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Mt(p,h))&&c.push(Xi(p,m,f))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,r,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===Et||!(u=r.relatedTarget||r.fromElement)||!wo(u)&&!u[yo])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?wo(u):null)&&(u!==(d=Wt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=vn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Bn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:Co(l),f=null==u?a:Co(u),(a=new c(m,p+"leave",l,r,i)).target=d,a.relatedTarget=f,m=null,wo(i)===n&&((c=new c(h,p+"enter",u,r,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Ki(f))p++;for(f=0,m=h;m;m=Ki(m))f++;for(;0<p-f;)c=Ki(c),p--;for(;0<f-p;)h=Ki(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ki(c),h=Ki(h)}c=null}else c=null;null!==l&&Zi(s,a,l,c,!1),null!==u&&null!==d&&Zi(s,d,u,c,!0)}if("select"===(l=(a=n?Co(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Yn(a))if(ei)g=ui;else{g=ai;var v=si}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=li);switch(g&&(g=g(e,n))?Xn(s,g,r,i):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&it(a,"number",a.value)),v=n?Co(n):window,e){case"focusin":(Yn(v)||"true"===v.contentEditable)&&(_i=v,bi=n,xi=null);break;case"focusout":xi=bi=_i=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Ei(s,r,i);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Ei(s,r,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?Vn(e,r)&&(_="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==r.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(y=nn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(v=qi(n,_)).length&&(_=new En(_,e,null,r,i),s.push({event:_,listeners:v}),(y||null!==(y=Hn(r)))&&(_.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Gn=!0,zn);case"textInput":return(e=t.data)===zn&&Gn?null:e;default:return null}}(e,r):function(e,t){if(Wn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=nn(),rn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(n=qi(n,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y)}zi(s,t)}))}function Xi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qi(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Mt(e,r))&&n.unshift(Xi(e,o,i)),null!=(o=Mt(e,t))&&n.push(Xi(e,o,i))),e=e.return}return n}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zi(e,t,r,n,i){for(var o=t._reactName,s=[];null!==r&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Mt(r,o))&&s.unshift(Xi(r,l,a)):i||null!=(l=Mt(r,o))&&s.push(Xi(r,l,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Qi=/\r\n?/g,Ji=/\u0000|\uFFFD/g;function eo(e){return("string"==typeof e?e:""+e).replace(Qi,"\n").replace(Ji,"")}function to(e,t,r){if(t=eo(t),eo(e)!==t&&r)throw Error(ue(425))}function ro(){}var no=null,io=null;function oo(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var so="function"==typeof setTimeout?setTimeout:void 0,ao="function"==typeof clearTimeout?clearTimeout:void 0,lo="function"==typeof Promise?Promise:void 0,uo="function"==typeof queueMicrotask?queueMicrotask:void 0!==lo?function(e){return lo.resolve(null).then(e).catch(co)}:so;function co(e){setTimeout((function(){throw e}))}function ho(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Wr(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Wr(t)}function fo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function po(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),go="__reactFiber$"+mo,vo="__reactProps$"+mo,yo="__reactContainer$"+mo,_o="__reactEvents$"+mo,bo="__reactListeners$"+mo,xo="__reactHandles$"+mo;function wo(e){var t=e[go];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yo]||r[go]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=po(e);null!==e;){if(r=e[go])return r;e=po(e)}return t}r=(e=r).parentNode}return null}function Eo(e){return!(e=e[go]||e[yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ue(33))}function So(e){return e[vo]||null}var Ao=[],To=-1;function Do(e){return{current:e}}function ko(e){0>To||(e.current=Ao[To],Ao[To]=null,To--)}function Po(e,t){To++,Ao[To]=e.current,e.current=t}var Bo={},Ro=Do(Bo),Oo=Do(!1),Fo=Bo;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Io(e){return null!=(e=e.childContextTypes)}function No(){ko(Oo),ko(Ro)}function Lo(e,t,r){if(Ro.current!==Bo)throw Error(ue(168));Po(Ro,t),Po(Oo,r)}function Uo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(ue(108,Ye(e)||"Unknown",i));return ze({},r,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,Fo=Ro.current,Po(Ro,e),Po(Oo,Oo.current),!0}function zo(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=Uo(e,t,Fo),n.__reactInternalMemoizedMergedChildContext=e,ko(Oo),ko(Ro),Po(Ro,e)):ko(Oo),Po(Oo,r)}var Go=null,Vo=!1,Ho=!1;function Wo(e){null===Go?Go=[e]:Go.push(e)}function $o(){if(!Ho&&null!==Go){Ho=!0;var e=0,t=wr;try{var r=Go;for(wr=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Go=null,Vo=!1}catch(whe){throw null!==Go&&(Go=Go.slice(e+1)),Kt(rr,$o),whe}finally{wr=t,Ho=!1}}return null}var Yo=[],Xo=0,qo=null,Ko=0,Zo=[],Qo=0,Jo=null,es=1,ts="";function rs(e,t){Yo[Xo++]=Ko,Yo[Xo++]=qo,qo=e,Ko=t}function ns(e,t,r){Zo[Qo++]=es,Zo[Qo++]=ts,Zo[Qo++]=Jo,Jo=e;var n=es;e=ts;var i=32-ur(n)-1;n&=~(1<<i),r+=1;var o=32-ur(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,es=1<<32-ur(t)+i|r<<i|n,ts=o+e}else es=1<<o|r<<i|n,ts=e}function is(e){null!==e.return&&(rs(e,1),ns(e,1,0))}function os(e){for(;e===qo;)qo=Yo[--Xo],Yo[Xo]=null,Ko=Yo[--Xo],Yo[Xo]=null;for(;e===Jo;)Jo=Zo[--Qo],Zo[Qo]=null,ts=Zo[--Qo],Zo[Qo]=null,es=Zo[--Qo],Zo[Qo]=null}var ss=null,as=null,ls=!1,us=null;function cs(e,t){var r=Mc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ds(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ss=e,as=fo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ss=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Jo?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ss=e,as=null,!0);default:return!1}}function hs(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function fs(e){if(ls){var t=as;if(t){var r=t;if(!ds(e,t)){if(hs(e))throw Error(ue(418));t=fo(r.nextSibling);var n=ss;t&&ds(e,t)?cs(n,r):(e.flags=-4097&e.flags|2,ls=!1,ss=e)}}else{if(hs(e))throw Error(ue(418));e.flags=-4097&e.flags|2,ls=!1,ss=e}}}function ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ss=e}function ms(e){if(e!==ss)return!1;if(!ls)return ps(e),ls=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oo(e.type,e.memoizedProps)),t&&(t=as)){if(hs(e))throw gs(),Error(ue(418));for(;t;)cs(e,t),t=fo(t.nextSibling)}if(ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=fo(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=ss?fo(e.stateNode.nextSibling):null;return!0}function gs(){for(var e=as;e;)e=fo(e.nextSibling)}function vs(){as=ss=null,ls=!1}function ys(e){null===us?us=[e]:us.push(e)}var _s=Ce.ReactCurrentBatchConfig;function bs(e,t){if(e&&e.defaultProps){for(var r in t=ze({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var xs=Do(null),ws=null,Es=null,Cs=null;function Ss(){Cs=Es=ws=null}function As(e){var t=xs.current;ko(xs),e._currentValue=t}function Ts(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){ws=e,Cs=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(El=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===ws)throw Error(ue(308));Es=e,ws.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function Bs(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Bs(t)):(r.next=i.next,i.next=r),t.interleaved=r,Os(e,n)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Fs=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!=(2&Ru)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Os(e,r)}return null===(i=n.interleaved)?(t.next=t,Bs(n)):(t.next=i.next,i.next=t),n.interleaved=t,Os(e,r)}function Us(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xr(e,r)}}function js(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zs(e,t,r,n){var i=e.updateQueue;Fs=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((n&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=r,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=ze({},d,h);break e;case 2:Fs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=s,e.lanes=s,e.memoizedState=d}}function Gs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(ue(191,i));i.call(n)}}}var Vs=(new ae.Component).refs;function Hs(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:ze({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Ws={isMounted:function(e){return!!(e=e._reactInternals)&&Wt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ic(),i=oc(e),o=Ns(n,i);o.payload=t,null!=r&&(o.callback=r),null!==(t=Ls(e,o,i))&&(sc(t,e,i,n),Us(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ic(),i=oc(e),o=Ns(n,i);o.tag=1,o.payload=t,null!=r&&(o.callback=r),null!==(t=Ls(e,o,i))&&(sc(t,e,i,n),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ic(),n=oc(e),i=Ns(r,n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ls(e,i,n))&&(sc(t,e,n,r),Us(t,e,n))}};function $s(e,t,r,n,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&di(r,n)&&di(i,o))}function Ys(e,t,r){var n=!1,i=Bo,o=t.contextType;return"object"==typeof o&&null!==o?o=ks(o):(i=Io(t)?Fo:Ro.current,o=(n=null!=(n=t.contextTypes))?Mo(e,i):Bo),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ws,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xs(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function qs(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Vs,Ms(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ks(o):(o=Io(t)?Fo:Ro.current,i.context=Mo(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Hs(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ws.enqueueReplaceState(i,i.state,null),zs(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Js(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,r,n){return null===t||6!==t.tag?((t=zc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var o=r.type;return o===Te?c(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Ie&&Qs(o)===t.type)?((n=i(t,r.props)).ref=Ks(e,t,r),n.return=e,n):((n=Lc(r.type,r.key,r.props,null,e.mode,n)).ref=Ks(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Gc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function c(e,t,r,n,o){return null===t||7!==t.tag?((t=Uc(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Se:return(r=Lc(t.type,t.key,t.props,null,e.mode,r)).ref=Ks(e,null,t),r.return=e,r;case Ae:return(t=Gc(t,e.mode,r)).return=e,t;case Ie:return d(e,(0,t._init)(t._payload),r)}if(ot(t)||Ue(t))return(t=Uc(t,e.mode,r,null)).return=e,t;Zs(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:a(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Se:return r.key===i?l(e,t,r,n):null;case Ae:return r.key===i?u(e,t,r,n):null;case Ie:return h(e,t,(i=r._init)(r._payload),n)}if(ot(r)||Ue(r))return null!==i?null:c(e,t,r,n,null);Zs(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return a(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Se:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Ae:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Ie:return f(e,t,r,(0,n._init)(n._payload),i)}if(ot(n)||Ue(n))return c(t,e=e.get(r)||null,n,i,null);Zs(t,n)}return null}function p(i,s,a,l){for(var u=null,c=null,p=s,m=s=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,a[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,p=g}if(m===a.length)return r(i,p),ls&&rs(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=d(i,a[m],l))&&(s=o(p,s,m),null===c?u=p:c.sibling=p,c=p);return ls&&rs(i,m),u}for(p=n(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),ls&&rs(i,m),u}function m(i,s,a,l){var u=Ue(a);if("function"!=typeof u)throw Error(ue(150));if(null==(a=u.call(a)))throw Error(ue(151));for(var c=u=null,p=s,m=s=0,g=null,v=a.next();null!==p&&!v.done;m++,v=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,p=g}if(v.done)return r(i,p),ls&&rs(i,m),u;if(null===p){for(;!v.done;m++,v=a.next())null!==(v=d(i,v.value,l))&&(s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return ls&&rs(i,m),u}for(p=n(i,p);!v.done;m++,v=a.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(i,e)})),ls&&rs(i,m),u}return function e(n,o,a,l){if("object"==typeof a&&null!==a&&a.type===Te&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case Se:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===Te){if(7===c.tag){r(n,c.sibling),(o=i(c,a.props.children)).return=n,n=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===Ie&&Qs(u)===c.type){r(n,c.sibling),(o=i(c,a.props)).ref=Ks(n,c,a),o.return=n,n=o;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===Te?((o=Uc(a.props.children,n.mode,l,a.key)).return=n,n=o):((l=Lc(a.type,a.key,a.props,null,n.mode,l)).ref=Ks(n,o,a),l.return=n,n=l)}return s(n);case Ae:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){r(n,o.sibling),(o=i(o,a.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Gc(a,n.mode,l)).return=n,n=o}return s(n);case Ie:return e(n,o,(c=a._init)(a._payload),l)}if(ot(a))return p(n,o,a,l);if(Ue(a))return m(n,o,a,l);Zs(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,a)).return=n,n=o):(r(n,o),(o=zc(a,n.mode,l)).return=n,n=o),s(n)):r(n,o)}}var ea=Js(!0),ta=Js(!1),ra={},na=Do(ra),ia=Do(ra),oa=Do(ra);function sa(e){if(e===ra)throw Error(ue(174));return e}function aa(e,t){switch(Po(oa,t),Po(ia,e),Po(na,ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:t=ht(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(na),Po(na,t)}function la(){ko(na),ko(ia),ko(oa)}function ua(e){sa(oa.current);var t=sa(na.current),r=ht(t,e.type);t!==r&&(Po(ia,e),Po(na,r))}function ca(e){ia.current===e&&(ko(na),ko(ia))}var da=Do(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function pa(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var ma=Ce.ReactCurrentDispatcher,ga=Ce.ReactCurrentBatchConfig,va=0,ya=null,_a=null,ba=null,xa=!1,wa=!1,Ea=0,Ca=0;function Sa(){throw Error(ue(321))}function Aa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ci(e[r],t[r]))return!1;return!0}function Ta(e,t,r,n,i,o){if(va=o,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=null===e||null===e.memoizedState?cl:dl,e=r(n,i),wa){o=0;do{if(wa=!1,Ea=0,25<=o)throw Error(ue(301));o+=1,ba=_a=null,t.updateQueue=null,ma.current=hl,e=r(n,i)}while(wa)}if(ma.current=ul,t=null!==_a&&null!==_a.next,va=0,ba=_a=ya=null,xa=!1,t)throw Error(ue(300));return e}function Da(){var e=0!==Ea;return Ea=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ya.memoizedState=ba=e:ba=ba.next=e,ba}function Pa(){if(null===_a){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===ba?ya.memoizedState:ba.next;if(null!==t)ba=t,_a=e;else{if(null===e)throw Error(ue(310));e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===ba?ya.memoizedState=ba=e:ba=ba.next=e}return ba}function Ba(e,t){return"function"==typeof t?t(e):t}function Ra(e){var t=Pa(),r=t.queue;if(null===r)throw Error(ue(311));r.lastRenderedReducer=e;var n=_a,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((va&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=d,s=n):l=l.next=d,ya.lanes|=c,ju|=c}u=u.next}while(null!==u&&u!==o);null===l?s=n:l.next=a,ci(n,t.memoizedState)||(El=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,ya.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oa(e){var t=Pa(),r=t.queue;if(null===r)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ci(o,t.memoizedState)||(El=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Fa(){}function Ma(e,t){var r=ya,n=Pa(),i=t(),o=!ci(n.memoizedState,i);if(o&&(n.memoizedState=i,El=!0),n=n.queue,Ya(La.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==ba&&1&ba.memoizedState.tag){if(r.flags|=2048,Ga(9,Na.bind(null,r,n,i,t),void 0,null),null===Ou)throw Error(ue(349));0!=(30&va)||Ia(r,t,i)}return i}function Ia(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Na(e,t,r,n){t.value=r,t.getSnapshot=n,Ua(t)&&ja(e)}function La(e,t,r){return r((function(){Ua(t)&&ja(e)}))}function Ua(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ci(e,r)}catch(U8){return!0}}function ja(e){var t=Os(e,1);null!==t&&sc(t,e,1,-1)}function za(e){var t=ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t.queue=e,e=e.dispatch=ol.bind(null,ya,e),[t.memoizedState,e]}function Ga(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Va(){return Pa().memoizedState}function Ha(e,t,r,n){var i=ka();ya.flags|=e,i.memoizedState=Ga(1|t,r,void 0,void 0===n?null:n)}function Wa(e,t,r,n){var i=Pa();n=void 0===n?null:n;var o=void 0;if(null!==_a){var s=_a.memoizedState;if(o=s.destroy,null!==n&&Aa(n,s.deps))return void(i.memoizedState=Ga(t,r,o,n))}ya.flags|=e,i.memoizedState=Ga(1|t,r,o,n)}function $a(e,t){return Ha(8390656,8,e,t)}function Ya(e,t){return Wa(2048,8,e,t)}function Xa(e,t){return Wa(4,2,e,t)}function qa(e,t){return Wa(4,4,e,t)}function Ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(e,t,r){return r=null!=r?r.concat([e]):null,Wa(4,4,Ka.bind(null,t,e),r)}function Qa(){}function Ja(e,t){var r=Pa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function el(e,t){var r=Pa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tl(e,t,r){return 0==(21&va)?(e.baseState&&(e.baseState=!1,El=!0),e.memoizedState=r):(ci(r,t)||(r=yr(),ya.lanes|=r,ju|=r,e.baseState=!0),t)}function rl(e,t){var r=wr;wr=0!==r&&4>r?r:4,e(!0);var n=ga.transition;ga.transition={};try{e(!1),t()}finally{wr=r,ga.transition=n}}function nl(){return Pa().memoizedState}function il(e,t,r){var n=oc(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sl(e)?al(t,r):null!==(r=Rs(e,t,r,n))&&(sc(r,e,n,ic()),ll(r,t,n))}function ol(e,t,r){var n=oc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sl(e))al(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ci(a,s)){var l=t.interleaved;return null===l?(i.next=i,Bs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(xhe){}null!==(r=Rs(e,t,i,n))&&(sc(r,e,n,i=ic()),ll(r,t,n))}}function sl(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function al(e,t){wa=xa=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ll(e,t,r){if(0!=(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xr(e,r)}}var ul={readContext:ks,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},cl={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:$a,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Ha(4194308,4,Ka.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var r=ka();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ka();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=il.bind(null,ya,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:za,useDebugValue:Qa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=rl.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ya,i=ka();if(ls){if(void 0===r)throw Error(ue(407));r=r()}else{if(r=t(),null===Ou)throw Error(ue(349));0!=(30&va)||Ia(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,$a(La.bind(null,n,o,e),[e]),n.flags|=2048,Ga(9,Na.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ka(),t=Ou.identifierPrefix;if(ls){var r=ts;t=":"+t+"R"+(r=(es&~(1<<32-ur(es)-1)).toString(32)+r),0<(r=Ea++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Ca++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dl={readContext:ks,useCallback:Ja,useContext:ks,useEffect:Ya,useImperativeHandle:Za,useInsertionEffect:Xa,useLayoutEffect:qa,useMemo:el,useReducer:Ra,useRef:Va,useState:function(){return Ra(Ba)},useDebugValue:Qa,useDeferredValue:function(e){return tl(Pa(),_a.memoizedState,e)},useTransition:function(){return[Ra(Ba)[0],Pa().memoizedState]},useMutableSource:Fa,useSyncExternalStore:Ma,useId:nl,unstable_isNewReconciler:!1},hl={readContext:ks,useCallback:Ja,useContext:ks,useEffect:Ya,useImperativeHandle:Za,useInsertionEffect:Xa,useLayoutEffect:qa,useMemo:el,useReducer:Oa,useRef:Va,useState:function(){return Oa(Ba)},useDebugValue:Qa,useDeferredValue:function(e){var t=Pa();return null===_a?t.memoizedState=e:tl(t,_a.memoizedState,e)},useTransition:function(){return[Oa(Ba)[0],Pa().memoizedState]},useMutableSource:Fa,useSyncExternalStore:Ma,useId:nl,unstable_isNewReconciler:!1};function fl(e,t){try{var r="",n=t;do{r+=We(n),n=n.return}while(n);var i=r}catch(hde){i="\nError generating stack: "+hde.message+"\n"+hde.stack}return{value:e,source:t,stack:i,digest:null}}function pl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ml(e,t){try{console.error(t.value)}catch(cde){setTimeout((function(){throw cde}))}}var gl="function"==typeof WeakMap?WeakMap:Map;function vl(e,t,r){(r=Ns(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xu||(Xu=!0,qu=n),ml(0,t)},r}function yl(e,t,r){(r=Ns(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ml(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){ml(0,t),"function"!=typeof n&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function _l(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new gl;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function bl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,r,n,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ns(-1,1)).tag=2,Ls(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wl=Ce.ReactCurrentOwner,El=!1;function Cl(e,t,r,n){t.child=null===e?ta(t,null,r,n):ea(t,e.child,r,n)}function Sl(e,t,r,n,i){r=r.render;var o=t.ref;return Ds(t,i),n=Ta(e,t,r,n,o,i),r=Da(),null===e||El?(ls&&r&&is(t),t.flags|=1,Cl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Al(e,t,r,n,i){if(null===e){var o=r.type;return"function"!=typeof o||Ic(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Tl(e,t,o,n,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:di)(s,n)&&e.ref===t.ref)return Xl(e,t,i)}return t.flags|=1,(e=Nc(o,n)).ref=t.ref,e.return=t,t.child=e}function Tl(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(di(o,n)&&e.ref===t.ref){if(El=!1,t.pendingProps=n=o,0==(e.lanes&i))return t.lanes=e.lanes,Xl(e,t,i);0!=(131072&e.flags)&&(El=!0)}}return Pl(e,t,r,n,i)}function Dl(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(Nu,Iu),Iu|=r;else{if(0==(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(Nu,Iu),Iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Po(Nu,Iu),Iu|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Po(Nu,Iu),Iu|=n;return Cl(e,t,i,r),t.child}function kl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,r,n,i){var o=Io(r)?Fo:Ro.current;return o=Mo(t,o),Ds(t,i),r=Ta(e,t,r,n,o,i),n=Da(),null===e||El?(ls&&n&&is(t),t.flags|=1,Cl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Bl(e,t,r,n,i){if(Io(r)){var o=!0;jo(t)}else o=!1;if(Ds(t,i),null===t.stateNode)Yl(e,t),Ys(t,r,n),qs(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;u="object"==typeof u&&null!==u?ks(u):Mo(t,u=Io(r)?Fo:Ro.current);var c=r.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==n||l!==u)&&Xs(t,s,n,u),Fs=!1;var h=t.memoizedState;s.state=h,zs(t,n,s,i),l=t.memoizedState,a!==n||h!==l||Oo.current||Fs?("function"==typeof c&&(Hs(t,r,c,n),l=t.memoizedState),(a=Fs||$s(t,r,a,n,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Is(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bs(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l="object"==typeof(l=r.contextType)&&null!==l?ks(l):Mo(t,l=Io(r)?Fo:Ro.current);var f=r.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Xs(t,s,n,l),Fs=!1,h=t.memoizedState,s.state=h,zs(t,n,s,i);var p=t.memoizedState;a!==d||h!==p||Oo.current||Fs?("function"==typeof f&&(Hs(t,r,f,n),p=t.memoizedState),(u=Fs||$s(t,r,u,n,h,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Rl(e,t,r,n,o,i)}function Rl(e,t,r,n,i,o){kl(e,t);var s=0!=(128&t.flags);if(!n&&!s)return i&&zo(t,r,!1),Xl(e,t,o);n=t.stateNode,wl.current=t;var a=s&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=ea(t,e.child,null,o),t.child=ea(t,null,a,o)):Cl(e,t,a,o),t.memoizedState=n.state,i&&zo(t,r,!0),t.child}function Ol(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),aa(e,t.containerInfo)}function Fl(e,t,r,n,i){return vs(),ys(i),t.flags|=256,Cl(e,t,r,n),t.child}var Ml,Il,Nl,Ll,Ul={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,t,r){var n,i=t.pendingProps,o=da.current,s=!1,a=0!=(128&t.flags);if((n=a)||(n=(null===e||null!==e.memoizedState)&&0!=(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Po(da,1&o),null===e)return fs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=jc(a,i,0,null),e=Uc(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jl(r),t.memoizedState=Ul,e):Gl(t,a));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,Vl(e,t,s,n=pl(Error(ue(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=jc({mode:"visible",children:n.children},i,0,null),(o=Uc(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!=(1&t.mode)&&ea(t,e.child,null,s),t.child.memoizedState=jl(s),t.memoizedState=Ul,o);if(0==(1&t.mode))return Vl(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var a=n.dgst;return n=a,Vl(e,t,s,n=pl(o=Error(ue(419)),n,void 0))}if(a=0!=(s&e.childLanes),El||a){if(null!==(n=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(n.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),sc(n,e,i,-1))}return _c(),Vl(e,t,s,n=pl(Error(ue(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Bc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,as=fo(i.nextSibling),ss=t,ls=!0,us=null,null!==e&&(Zo[Qo++]=es,Zo[Qo++]=ts,Zo[Qo++]=Jo,es=e.id,ts=e.overflow,Jo=t),(t=Gl(t,n.children)).flags|=4096,t)}(e,t,a,i,n,o,r);if(s){s=i.fallback,a=t.mode,n=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&a)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nc(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Nc(n,s):(s=Uc(s,a,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?jl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Ul,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Gl(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,r,n){return null!==n&&ys(n),ea(t,e.child,null,r),(e=Gl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ts(e.return,t,r)}function Wl(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function $l(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Cl(e,t,n.children,r),0!=(2&(n=da.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hl(e,r,t);else if(19===e.tag)Hl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Po(da,n),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ha(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Wl(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Wl(t,!0,r,null,o);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yl(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ue(153));if(null!==t.child){for(r=Nc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Nc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ql(e,t){if(!ls)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zl(e,t,r){var n=t.pendingProps;switch(os(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return Io(t.type)&&No(),Kl(t),null;case 3:return n=t.stateNode,la(),ko(Oo),ko(Ro),pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==us&&(cc(us),us=null))),Il(e,t),Kl(t),null;case 5:ca(t);var i=sa(oa.current);if(r=t.type,null!==e&&null!=t.stateNode)Nl(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(ue(166));return Kl(t),null}if(e=sa(na.current),ms(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[go]=t,n[vo]=o,e=0!=(1&t.mode),r){case"dialog":Gi("cancel",n),Gi("close",n);break;case"iframe":case"object":case"embed":Gi("load",n);break;case"video":case"audio":for(i=0;i<Li.length;i++)Gi(Li[i],n);break;case"source":Gi("error",n);break;case"img":case"image":case"link":Gi("error",n),Gi("load",n);break;case"details":Gi("toggle",n);break;case"input":et(n,o),Gi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Gi("invalid",n);break;case"textarea":lt(n,o),Gi("invalid",n)}for(var s in xt(r,o),i=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?n.textContent!==a&&(!0!==o.suppressHydrationWarning&&to(n.textContent,a,e),i=["children",a]):"number"==typeof a&&n.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&to(n.textContent,a,e),i=["children",""+a]):de.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&Gi("scroll",n)}switch(r){case"input":Ke(n),nt(n,o,!0);break;case"textarea":Ke(n),ct(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=ro)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=dt(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),"select"===r&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[go]=t,e[vo]=n,Ml(e,t,!1,!1),t.stateNode=e;e:{switch(s=wt(r,n),r){case"dialog":Gi("cancel",e),Gi("close",e),i=n;break;case"iframe":case"object":case"embed":Gi("load",e),i=n;break;case"video":case"audio":for(i=0;i<Li.length;i++)Gi(Li[i],e);i=n;break;case"source":Gi("error",e),i=n;break;case"img":case"image":case"link":Gi("error",e),Gi("load",e),i=n;break;case"details":Gi("toggle",e),i=n;break;case"input":et(e,n),i=Je(e,n),Gi("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ze({},n,{value:void 0}),Gi("invalid",e);break;case"textarea":lt(e,n),i=at(e,n),Gi("invalid",e)}for(o in xt(r,i),a=i)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?_t(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&pt(e,l):"children"===o?"string"==typeof l?("textarea"!==r||""!==l)&&mt(e,l):"number"==typeof l&&mt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(de.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Gi("scroll",e):null!=l&&Ee(e,o,l,s))}switch(r){case"input":Ke(e),nt(e,n,!1);break;case"textarea":Ke(e),ct(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Xe(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?st(e,!!n.multiple,o,!1):null!=n.defaultValue&&st(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ro)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(ue(166));if(r=sa(oa.current),sa(na.current),ms(t)){if(n=t.stateNode,r=t.memoizedProps,n[go]=t,(o=n.nodeValue!==r)&&null!==(e=ss))switch(e.tag){case 3:to(n.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&to(n.nodeValue,r,0!=(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[go]=t,t.stateNode=n}return Kl(t),null;case 13:if(ko(da),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ls&&null!==as&&0!=(1&t.mode)&&0==(128&t.flags))gs(),vs(),t.flags|=98560,o=!1;else if(o=ms(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(ue(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(ue(317));o[go]=t}else vs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),o=!1}else null!==us&&(cc(us),us=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((n=null!==n)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&da.current)?0===Lu&&(Lu=3):_c())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return la(),Il(e,t),null===e&&Wi(t.stateNode.containerInfo),Kl(t),null;case 10:return As(t.type._context),Kl(t),null;case 19:if(ko(da),null===(o=t.memoizedState))return Kl(t),null;if(n=0!=(128&t.flags),null===(s=o.rendering))if(n)ql(o,!1);else{if(0!==Lu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ha(e))){for(t.flags|=128,ql(o,!1),null!==(n=s.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Po(da,1&da.current|2),t.child}e=e.sibling}null!==o.tail&&er()>$u&&(t.flags|=128,n=!0,ql(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ha(s))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ls)return Kl(t),null}else 2*er()-o.renderingStartTime>$u&&1073741824!==r&&(t.flags|=128,n=!0,ql(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=o.last)?r.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=er(),t.sibling=null,r=da.current,Po(da,n?1&r|2:1&r),t):(Kl(t),null);case 22:case 23:return mc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&Iu)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(ue(156,t.tag))}function Ql(e,t){switch(os(t),t.tag){case 1:return Io(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return la(),ko(Oo),ko(Ro),pa(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ca(t),null;case 13:if(ko(da),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ue(340));vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(da),null;case 4:return la(),null;case 10:return As(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ml=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Il=function(){},Nl=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,sa(na.current);var o,s=null;switch(r){case"input":i=Je(e,i),n=Je(e,n),s=[];break;case"select":i=ze({},i,{value:void 0}),n=ze({},n,{value:void 0}),s=[];break;case"textarea":i=at(e,i),n=at(e,n),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(e.onclick=ro)}for(u in xt(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(de.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(de.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Gi("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ll=function(e,t,r,n){r!==n&&(t.flags|=4)};var Jl=!1,eu=!1,tu="function"==typeof WeakSet?WeakSet:Set,ru=null;function nu(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(U8){Dc(e,t,U8)}else r.current=null}function iu(e,t,r){try{r()}catch(U8){Dc(e,t,U8)}}var ou=!1;function su(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&iu(t,r,o)}i=i.next}while(i!==n)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lu(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function uu(e){var t=e.alternate;null!==t&&(e.alternate=null,uu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[go],delete t[vo],delete t[_o],delete t[bo],delete t[xo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cu(e){return 5===e.tag||3===e.tag||4===e.tag}function du(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function hu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=ro));else if(4!==n&&null!==(e=e.child))for(hu(e,t,r),e=e.sibling;null!==e;)hu(e,t,r),e=e.sibling}function fu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(fu(e,t,r),e=e.sibling;null!==e;)fu(e,t,r),e=e.sibling}var pu=null,mu=!1;function gu(e,t,r){for(r=r.child;null!==r;)vu(e,t,r),r=r.sibling}function vu(e,t,r){if(lr&&"function"==typeof lr.onCommitFiberUnmount)try{lr.onCommitFiberUnmount(ar,r)}catch(j8){}switch(r.tag){case 5:eu||nu(r,t);case 6:var n=pu,i=mu;pu=null,gu(e,t,r),mu=i,null!==(pu=n)&&(mu?(e=pu,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):pu.removeChild(r.stateNode));break;case 18:null!==pu&&(mu?(e=pu,r=r.stateNode,8===e.nodeType?ho(e.parentNode,r):1===e.nodeType&&ho(e,r),Wr(e)):ho(pu,r.stateNode));break;case 4:n=pu,i=mu,pu=r.stateNode.containerInfo,mu=!0,gu(e,t,r),pu=n,mu=i;break;case 0:case 11:case 14:case 15:if(!eu&&null!==(n=r.updateQueue)&&null!==(n=n.lastEffect)){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&iu(r,t,s),i=i.next}while(i!==n)}gu(e,t,r);break;case 1:if(!eu&&(nu(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(j8){Dc(r,t,j8)}gu(e,t,r);break;case 21:gu(e,t,r);break;case 22:1&r.mode?(eu=(n=eu)||null!==r.memoizedState,gu(e,t,r),eu=n):gu(e,t,r);break;default:gu(e,t,r)}}function yu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new tu),t.forEach((function(t){var n=Rc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function _u(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:pu=a.stateNode,mu=!1;break e;case 3:case 4:pu=a.stateNode.containerInfo,mu=!0;break e}a=a.return}if(null===pu)throw Error(ue(160));vu(o,s,i),pu=null,mu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(xhe){Dc(i,t,xhe)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bu(t,e),t=t.sibling}function bu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_u(t,e),xu(e),4&n){try{su(3,e,e.return),au(3,e)}catch(ghe){Dc(e,e.return,ghe)}try{su(5,e,e.return)}catch(ghe){Dc(e,e.return,ghe)}}break;case 1:_u(t,e),xu(e),512&n&&null!==r&&nu(r,r.return);break;case 5:if(_u(t,e),xu(e),512&n&&null!==r&&nu(r,r.return),32&e.flags){var i=e.stateNode;try{mt(i,"")}catch(ghe){Dc(e,e.return,ghe)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&tt(i,o),wt(a,s);var u=wt(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];"style"===c?_t(i,d):"dangerouslySetInnerHTML"===c?pt(i,d):"children"===c?mt(i,d):Ee(i,c,d,u)}switch(a){case"input":rt(i,o);break;case"textarea":ut(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?st(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?st(i,!!o.multiple,o.defaultValue,!0):st(i,!!o.multiple,o.multiple?[]:"",!1))}i[vo]=o}catch(ghe){Dc(e,e.return,ghe)}}break;case 6:if(_u(t,e),xu(e),4&n){if(null===e.stateNode)throw Error(ue(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(ghe){Dc(e,e.return,ghe)}}break;case 3:if(_u(t,e),xu(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(ghe){Dc(e,e.return,ghe)}break;case 4:default:_u(t,e),xu(e);break;case 13:_u(t,e),xu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=er())),4&n&&yu(e);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&e.mode?(eu=(u=eu)||c,_u(t,e),eu=u):_u(t,e),xu(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(ru=e,c=e.child;null!==c;){for(d=ru=c;null!==ru;){switch(f=(h=ru).child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:nu(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(ghe){Dc(n,r,ghe)}}break;case 5:nu(h,h.return);break;case 22:if(null!==h.memoizedState){Su(d);continue}}null!==f?(f.return=h,ru=f):Su(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=d.stateNode,s=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=yt("display",s))}catch(ghe){Dc(e,e.return,ghe)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(ghe){Dc(e,e.return,ghe)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_u(t,e),xu(e),4&n&&yu(e);case 21:}}function xu(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(cu(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(mt(i,""),n.flags&=-33),fu(e,du(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;hu(e,du(e),o);break;default:throw Error(ue(161))}}catch(y$){Dc(e,e.return,y$)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,r){ru=e,Eu(e)}function Eu(e,t,r){for(var n=0!=(1&e.mode);null!==ru;){var i=ru,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Jl;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||eu;a=Jl;var u=eu;if(Jl=s,(eu=l)&&!u)for(ru=i;null!==ru;)l=(s=ru).child,22===s.tag&&null!==s.memoizedState?Au(i):null!==l?(l.return=s,ru=l):Au(i);for(;null!==o;)ru=o,Eu(o),o=o.sibling;ru=i,Jl=a,eu=u}Cu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,ru=o):Cu(e)}}function Cu(e){for(;null!==ru;){var t=ru;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:eu||au(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!eu)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:bs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gs(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Gs(t,s,r)}break;case 5:var a=t.stateNode;if(null===r&&4&t.flags){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Wr(d)}}}break;default:throw Error(ue(163))}eu||512&t.flags&&lu(t)}catch(ade){Dc(t,t.return,ade)}}if(t===e){ru=null;break}if(null!==(r=t.sibling)){r.return=t.return,ru=r;break}ru=t.return}}function Su(e){for(;null!==ru;){var t=ru;if(t===e){ru=null;break}var r=t.sibling;if(null!==r){r.return=t.return,ru=r;break}ru=t.return}}function Au(e){for(;null!==ru;){var t=ru;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{au(4,t)}catch(y$){Dc(t,r,y$)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(y$){Dc(t,i,y$)}}var o=t.return;try{lu(t)}catch(y$){Dc(t,o,y$)}break;case 5:var s=t.return;try{lu(t)}catch(y$){Dc(t,s,y$)}}}catch(y$){Dc(t,t.return,y$)}if(t===e){ru=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ru=a;break}ru=t.return}}var Tu,Du=Math.ceil,ku=Ce.ReactCurrentDispatcher,Pu=Ce.ReactCurrentOwner,Bu=Ce.ReactCurrentBatchConfig,Ru=0,Ou=null,Fu=null,Mu=0,Iu=0,Nu=Do(0),Lu=0,Uu=null,ju=0,zu=0,Gu=0,Vu=null,Hu=null,Wu=0,$u=1/0,Yu=null,Xu=!1,qu=null,Ku=null,Zu=!1,Qu=null,Ju=0,ec=0,tc=null,rc=-1,nc=0;function ic(){return 0!=(6&Ru)?er():-1!==rc?rc:rc=er()}function oc(e){return 0==(1&e.mode)?1:0!=(2&Ru)&&0!==Mu?Mu&-Mu:null!==_s.transition?(0===nc&&(nc=yr()),nc):0!==(e=wr)?e:e=void 0===(e=window.event)?16:Jr(e.type)}function sc(e,t,r,n){if(50<ec)throw ec=0,tc=null,Error(ue(185));br(e,r,n),0!=(2&Ru)&&e===Ou||(e===Ou&&(0==(2&Ru)&&(zu|=r),4===Lu&&dc(e,Mu)),ac(e,n),1===r&&0===Ru&&0==(1&t.mode)&&($u=er()+500,Vo&&$o()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ur(o),a=1<<s,l=i[s];-1===l?0!=(a&r)&&0==(a&n)||(i[s]=gr(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var n=mr(e,e===Ou?Mu:0);if(0===n)null!==r&&Zt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Zt(r),1===t)0===e.tag?function(e){Vo=!0,Wo(e)}(hc.bind(null,e)):Wo(hc.bind(null,e)),uo((function(){0==(6&Ru)&&$o()})),r=null;else{switch(Er(n)){case 1:r=rr;break;case 4:r=nr;break;case 16:default:r=ir;break;case 536870912:r=sr}r=Oc(r,lc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lc(e,t){if(rc=-1,nc=0,0!=(6&Ru))throw Error(ue(327));var r=e.callbackNode;if(Ac()&&e.callbackNode!==r)return null;var n=mr(e,e===Ou?Mu:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=bc(e,n);else{t=n;var i=Ru;Ru|=2;var o=yc();for(Ou===e&&Mu===t||(Yu=null,$u=er()+500,gc(e,t));;)try{wc();break}catch(j8){vc(e,j8)}Ss(),ku.current=o,Ru=i,null!==Fu?t=0:(Ou=null,Mu=0,t=Lu)}if(0!==t){if(2===t&&0!==(i=vr(e))&&(n=i,t=uc(e,i)),1===t)throw r=Uu,gc(e,0),dc(e,n),ac(e,er()),r;if(6===t)dc(e,n);else{if(i=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ci(o(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=bc(e,n))&&0!==(o=vr(e))&&(n=o,t=uc(e,o)),1===t))throw r=Uu,gc(e,0),dc(e,n),ac(e,er()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:case 5:Sc(e,Hu,Yu);break;case 3:if(dc(e,n),(130023424&n)===n&&10<(t=Wu+500-er())){if(0!==mr(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ic(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=so(Sc.bind(null,e,Hu,Yu),t);break}Sc(e,Hu,Yu);break;case 4:if(dc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ur(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=er()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Du(n/1960))-n)){e.timeoutHandle=so(Sc.bind(null,e,Hu,Yu),n);break}Sc(e,Hu,Yu);break;default:throw Error(ue(329))}}}return ac(e,er()),e.callbackNode===r?lc.bind(null,e):null}function uc(e,t){var r=Vu;return e.current.memoizedState.isDehydrated&&(gc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Hu,Hu=r,null!==t&&cc(t)),e}function cc(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function dc(e,t){for(t&=~Gu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function hc(e){if(0!=(6&Ru))throw Error(ue(327));Ac();var t=mr(e,0);if(0==(1&t))return ac(e,er()),null;var r=bc(e,t);if(0!==e.tag&&2===r){var n=vr(e);0!==n&&(t=n,r=uc(e,n))}if(1===r)throw r=Uu,gc(e,0),dc(e,t),ac(e,er()),r;if(6===r)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Hu,Yu),ac(e,er()),null}function fc(e,t){var r=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=r)&&($u=er()+500,Vo&&$o())}}function pc(e){null!==Qu&&0===Qu.tag&&0==(6&Ru)&&Ac();var t=Ru;Ru|=1;var r=Bu.transition,n=wr;try{if(Bu.transition=null,wr=1,e)return e()}finally{wr=n,Bu.transition=r,0==(6&(Ru=t))&&$o()}}function mc(){Iu=Nu.current,ko(Nu)}function gc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ao(r)),null!==Fu)for(r=Fu.return;null!==r;){var n=r;switch(os(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&No();break;case 3:la(),ko(Oo),ko(Ro),pa();break;case 5:ca(n);break;case 4:la();break;case 13:case 19:ko(da);break;case 10:As(n.type._context);break;case 22:case 23:mc()}r=r.return}if(Ou=e,Fu=e=Nc(e.current,null),Mu=Iu=t,Lu=0,Uu=null,Gu=zu=ju=0,Hu=Vu=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(n=(r=Ps[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}Ps=null}return e}function vc(e,t){for(;;){var r=Fu;try{if(Ss(),ma.current=ul,xa){for(var n=ya.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}xa=!1}if(va=0,ba=_a=ya=null,wa=!1,Ea=0,Pu.current=null,null===r||null===r.return){Lu=1,Uu=t,Fu=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Mu,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=bl(s);if(null!==f){f.flags&=-257,xl(f,s,a,0,t),1&f.mode&&_l(o,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(0==(1&t)){_l(o,u,t),_c();break e}l=Error(ue(426))}else if(ls&&1&a.mode){var g=bl(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),xl(g,s,a,0,t),ys(fl(l,a));break e}}o=l=fl(l,a),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,vl(0,l,t));break e;case 1:a=l;var v=o.type,y=o.stateNode;if(0==(128&o.flags)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Ku||!Ku.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,yl(o,a,t));break e}}o=o.return}while(null!==o)}Cc(r)}catch(_){t=_,Fu===r&&null!==r&&(Fu=r=r.return);continue}break}}function yc(){var e=ku.current;return ku.current=ul,null===e?ul:e}function _c(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ou||0==(268435455&ju)&&0==(268435455&zu)||dc(Ou,Mu)}function bc(e,t){var r=Ru;Ru|=2;var n=yc();for(Ou===e&&Mu===t||(Yu=null,gc(e,t));;)try{xc();break}catch(whe){vc(e,whe)}if(Ss(),Ru=r,ku.current=n,null!==Fu)throw Error(ue(261));return Ou=null,Mu=0,Lu}function xc(){for(;null!==Fu;)Ec(Fu)}function wc(){for(;null!==Fu&&!Qt();)Ec(Fu)}function Ec(e){var t=Tu(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?Cc(e):Fu=t,Pu.current=null}function Cc(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(r=Zl(r,t,Iu)))return void(Fu=r)}else{if(null!==(r=Ql(r,t)))return r.flags&=32767,void(Fu=r);if(null===e)return Lu=6,void(Fu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fu=t);Fu=t=e}while(null!==t);0===Lu&&(Lu=5)}function Sc(e,t,r){var n=wr,i=Bu.transition;try{Bu.transition=null,wr=1,function(e,t,r,n){do{Ac()}while(null!==Qu);if(0!=(6&Ru))throw Error(ue(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ur(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,o),e===Ou&&(Fu=Ou=null,Mu=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Zu||(Zu=!0,Oc(ir,(function(){return Ac(),null}))),o=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||o){o=Bu.transition,Bu.transition=null;var s=wr;wr=1;var a=Ru;Ru|=4,Pu.current=null,function(e,t){if(no=Yr,gi(e=mi())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(J8){r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==r||0!==i&&3!==d.nodeType||(a=s+i),d!==o||0!==n&&3!==d.nodeType||(l=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++u===i&&(a=s),h===o&&++c===n&&(l=s),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}r=-1===a||-1===l?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(io={focusedElem:e,selectionRange:r},Yr=!1,ru=t;null!==ru;)if(e=(t=ru).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,ru=e;else for(;null!==ru;){t=ru;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:bs(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(ue(163))}}catch(J8){Dc(t,t.return,J8)}if(null!==(e=t.sibling)){e.return=t.return,ru=e;break}ru=t.return}p=ou,ou=!1}(e,r),bu(r,e),vi(io),Yr=!!no,io=no=null,e.current=r,wu(r),Jt(),Ru=a,wr=s,Bu.transition=o}else e.current=r;if(Zu&&(Zu=!1,Qu=e,Ju=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(lr&&"function"==typeof lr.onCommitFiberRoot)try{lr.onCommitFiberRoot(ar,e,void 0,128==(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,er()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,e=qu,qu=null,e;0!=(1&Ju)&&0!==e.tag&&Ac(),0!=(1&(o=e.pendingLanes))?e===tc?ec++:(ec=0,tc=e):ec=0,$o()}(e,t,r,n)}finally{Bu.transition=i,wr=n}return null}function Ac(){if(null!==Qu){var e=Er(Ju),t=Bu.transition,r=wr;try{if(Bu.transition=null,wr=16>e?16:e,null===Qu)var n=!1;else{if(e=Qu,Qu=null,Ju=0,0!=(6&Ru))throw Error(ue(331));var i=Ru;for(Ru|=4,ru=e.current;null!==ru;){var o=ru,s=o.child;if(0!=(16&ru.flags)){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(ru=u;null!==ru;){var c=ru;switch(c.tag){case 0:case 11:case 15:su(8,c,o)}var d=c.child;if(null!==d)d.return=c,ru=d;else for(;null!==ru;){var h=(c=ru).sibling,f=c.return;if(uu(c),c===u){ru=null;break}if(null!==h){h.return=f,ru=h;break}ru=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ru=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,ru=s;else e:for(;null!==ru;){if(0!=(2048&(o=ru).flags))switch(o.tag){case 0:case 11:case 15:su(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,ru=v;break e}ru=o.return}}var y=e.current;for(ru=y;null!==ru;){var _=(s=ru).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,ru=_;else e:for(s=y;null!==ru;){if(0!=(2048&(a=ru).flags))try{switch(a.tag){case 0:case 11:case 15:au(9,a)}}catch(x){Dc(a,a.return,x)}if(a===s){ru=null;break e}var b=a.sibling;if(null!==b){b.return=a.return,ru=b;break e}ru=a.return}}if(Ru=i,$o(),lr&&"function"==typeof lr.onPostCommitFiberRoot)try{lr.onPostCommitFiberRoot(ar,e)}catch(x){}n=!0}return n}finally{wr=r,Bu.transition=t}}return!1}function Tc(e,t,r){e=Ls(e,t=vl(0,t=fl(r,t),1),1),t=ic(),null!==e&&(br(e,1,t),ac(e,t))}function Dc(e,t,r){if(3===e.tag)Tc(e,e,r);else for(;null!==t;){if(3===t.tag){Tc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ku||!Ku.has(n))){t=Ls(t,e=yl(t,e=fl(r,e),1),1),e=ic(),null!==t&&(br(t,1,e),ac(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&r,Ou===e&&(Mu&r)===r&&(4===Lu||3===Lu&&(130023424&Mu)===Mu&&500>er()-Wu?gc(e,0):Gu|=r),ac(e,t)}function Pc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=fr,0==(130023424&(fr<<=1))&&(fr=4194304)));var r=ic();null!==(e=Os(e,t))&&(br(e,t,r),ac(e,r))}function Bc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Pc(e,r)}function Rc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}null!==n&&n.delete(t),Pc(e,r)}function Oc(e,t){return Kt(e,t)}function Fc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,r,n){return new Fc(e,t,r,n)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var r=e.alternate;return null===r?((r=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Ic(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Te:return Uc(r.children,i,o,t);case De:s=8,i|=8;break;case ke:return(e=Mc(12,r,t,2|i)).elementType=ke,e.lanes=o,e;case Oe:return(e=Mc(13,r,t,i)).elementType=Oe,e.lanes=o,e;case Fe:return(e=Mc(19,r,t,i)).elementType=Fe,e.lanes=o,e;case Ne:return jc(r,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Pe:s=10;break e;case Be:s=9;break e;case Re:s=11;break e;case Me:s=14;break e;case Ie:s=16,n=null;break e}throw Error(ue(130,null==e?e:typeof e,""))}return(t=Mc(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Uc(e,t,r,n){return(e=Mc(7,e,n,t)).lanes=r,e}function jc(e,t,r,n){return(e=Mc(22,e,n,t)).elementType=Ne,e.lanes=r,e.stateNode={isHidden:!1},e}function zc(e,t,r){return(e=Mc(6,e,null,t)).lanes=r,e}function Gc(e,t,r){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,r,n,i,o,s,a,l){return e=new Vc(e,t,r,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(o),e}function Wc(e){if(!e)return Bo;e:{if(Wt(e=e._reactInternals)!==e||1!==e.tag)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ue(171))}if(1===e.tag){var r=e.type;if(Io(r))return Uo(e,r,t)}return t}function $c(e,t,r,n,i,o,s,a,l){return(e=Hc(r,n,!0,e,0,o,0,a,l)).context=Wc(null),r=e.current,(o=Ns(n=ic(),i=oc(r))).callback=null!=t?t:null,Ls(r,o,i),e.current.lanes=i,br(e,i,n),ac(e,n),e}function Yc(e,t,r,n){var i=t.current,o=ic(),s=oc(i);return r=Wc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ns(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ls(i,t,s))&&(sc(e,i,s,o),Us(e,i,s)),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Tu=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oo.current)El=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return El=!1,function(e,t,r){switch(t.tag){case 3:Ol(t),vs();break;case 5:ua(t);break;case 1:Io(t.type)&&jo(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Po(xs,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Po(da,1&da.current),t.flags|=128,null):0!=(r&t.child.childLanes)?zl(e,t,r):(Po(da,1&da.current),null!==(e=Xl(e,t,r))?e.sibling:null);Po(da,1&da.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return $l(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Po(da,da.current),n)break;return null;case 22:case 23:return t.lanes=0,Dl(e,t,r)}return Xl(e,t,r)}(e,t,r);El=0!=(131072&e.flags)}else El=!1,ls&&0!=(1048576&t.flags)&&ns(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yl(e,t),e=t.pendingProps;var i=Mo(t,Ro.current);Ds(t,r),i=Ta(null,t,n,e,i,r);var o=Da();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(n)?(o=!0,jo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=Ws,t.stateNode=i,i._reactInternals=t,qs(t,n,e,r),t=Rl(null,t,n,!0,o,r)):(t.tag=0,ls&&o&&is(t),Cl(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yl(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"==typeof e)return Ic(e)?1:0;if(null!=e){if((e=e.$$typeof)===Re)return 11;if(e===Me)return 14}return 2}(n),e=bs(n,e),i){case 0:t=Pl(null,t,n,e,r);break e;case 1:t=Bl(null,t,n,e,r);break e;case 11:t=Sl(null,t,n,e,r);break e;case 14:t=Al(null,t,n,bs(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Pl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 1:return n=t.type,i=t.pendingProps,Bl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 3:e:{if(Ol(t),null===e)throw Error(ue(387));n=t.pendingProps,i=(o=t.memoizedState).element,Is(e,t),zs(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fl(e,t,n,r,i=fl(Error(ue(423)),t));break e}if(n!==i){t=Fl(e,t,n,r,i=fl(Error(ue(424)),t));break e}for(as=fo(t.stateNode.containerInfo.firstChild),ss=t,ls=!0,us=null,r=ta(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(vs(),n===i){t=Xl(e,t,r);break e}Cl(e,t,n,r)}t=t.child}return t;case 5:return ua(t),null===e&&fs(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,oo(n,i)?s=null:null!==o&&oo(n,o)&&(t.flags|=32),kl(e,t),Cl(e,t,s,r),t.child;case 6:return null===e&&fs(t),null;case 13:return zl(e,t,r);case 4:return aa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ea(t,null,n,r):Cl(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Sl(e,t,n,i=t.elementType===n?i:bs(n,i),r);case 7:return Cl(e,t,t.pendingProps,r),t.child;case 8:case 12:return Cl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Po(xs,n._currentValue),n._currentValue=s,null!==o)if(ci(o.value,s)){if(o.children===i.children&&!Oo.current){t=Xl(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=Ns(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ts(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(ue(341));s.lanes|=r,null!==(a=s.alternate)&&(a.lanes|=r),Ts(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Cl(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ds(t,r),n=n(i=ks(i)),t.flags|=1,Cl(e,t,n,r),t.child;case 14:return i=bs(n=t.type,t.pendingProps),Al(e,t,n,i=bs(n.type,i),r);case 15:return Tl(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bs(n,i),Yl(e,t),t.tag=1,Io(n)?(e=!0,jo(t)):e=!1,Ds(t,r),Ys(t,n,i),qs(t,n,i,r),Rl(null,t,n,!0,e,r);case 19:return $l(e,t,r);case 22:return Dl(e,t,r)}throw Error(ue(156,t.tag))};var Zc="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function ed(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function td(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rd(){}function nd(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Xc(s);a.call(e)}}Yc(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"==typeof n){var o=n;n=function(){var e=Xc(s);o.call(e)}}var s=$c(t,n,e,0,null,!1,0,"",rd);return e._reactRootContainer=s,e[yo]=s.current,Wi(8===e.nodeType?e.parentNode:e),pc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof n){var a=n;n=function(){var e=Xc(l);a.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",rd);return e._reactRootContainer=l,e[yo]=l.current,Wi(8===e.nodeType?e.parentNode:e),pc((function(){Yc(t,l,r,n)})),l}(r,t,e,i,n);return Xc(s)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ue(409));Yc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pc((function(){Yc(null,e,null,null)})),t[yo]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ir.length&&0!==t&&t<Ir[r].priority;r++);Ir.splice(r,0,e),0===r&&jr(e)}},Cr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pr(t.pendingLanes);0!==r&&(xr(t,1|r),ac(t,er()),0==(6&Ru)&&($u=er()+500,$o()))}break;case 13:pc((function(){var t=Os(e,1);if(null!==t){var r=ic();sc(t,e,1,r)}})),Kc(e,1)}},Sr=function(e){if(13===e.tag){var t=Os(e,134217728);null!==t&&sc(t,e,134217728,ic()),Kc(e,134217728)}},Ar=function(e){if(13===e.tag){var t=oc(e),r=Os(e,t);null!==r&&sc(r,e,t,ic()),Kc(e,t)}},Tr=function(){return wr},Dr=function(e,t){var r=wr;try{return wr=e,t()}finally{wr=r}},St=function(e,t,r){switch(t){case"input":if(rt(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=So(n);if(!i)throw Error(ue(90));Ze(n),rt(n,i)}}}break;case"textarea":ut(e,r);break;case"select":null!=(t=r.value)&&st(e,!!r.multiple,t,!1)}},Bt=fc,Rt=pc;var id={usingClientEntryPoint:!1,Events:[Eo,Co,So,kt,Pt,fc]},od={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sd={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xt(e))?null:e.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{ar=ad.inject(sd),lr=ad}catch(mde){}}ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=id,ne.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ed(t))throw Error(ue(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ae,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},ne.createRoot=function(e,t){if(!ed(e))throw Error(ue(299));var r=!1,n="",i=Zc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,r,0,n,i),e[yo]=t.current,Wi(8===e.nodeType?e.parentNode:e),new Qc(t)},ne.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ue(188));throw e=Object.keys(e).join(","),Error(ue(268,e))}return e=null===(e=Xt(t))?null:e.stateNode},ne.flushSync=function(e){return pc(e)},ne.hydrate=function(e,t,r){if(!td(t))throw Error(ue(200));return nd(null,e,t,!0,r)},ne.hydrateRoot=function(e,t,r){if(!ed(e))throw Error(ue(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Zc;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=$c(t,null,e,1,null!=r?r:null,i,0,o,s),e[yo]=t.current,Wi(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Jc(t)},ne.render=function(e,t,r){if(!td(t))throw Error(ue(200));return nd(null,e,t,!1,r)},ne.unmountComponentAtNode=function(e){if(!td(e))throw Error(ue(40));return!!e._reactRootContainer&&(pc((function(){nd(null,null,e,!1,(function(){e._reactRootContainer=null,e[yo]=null}))})),!0)},ne.unstable_batchedUpdates=fc,ne.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!td(r))throw Error(ue(200));if(null==e||void 0===e._reactInternals)throw Error(ue(38));return nd(e,t,r,!1,n)},ne.version="18.2.0-next-9e3b772b8-20220608",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),re.exports=ne;var ld=re.exports;const ud=o(ld);var cd,dd=ld;
/**
			 * @remix-run/router v1.11.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */
function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}te.createRoot=dd.createRoot,te.hydrateRoot=dd.hydrateRoot,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(cd||(cd={}));const fd="popstate";function pd(e){return void 0===e&&(e={}),function(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=cd.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function d(){a=cd.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function h(e,t){a=cd.Push;let n=yd(m.location,e,t);r&&r(n,e),u=c()+1;let d=vd(n,u),h=m.createHref(n);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:a,location:m.location,delta:1})}function f(e,t){a=cd.Replace;let n=yd(m.location,e,t);r&&r(n,e),u=c();let i=vd(n,u),d=m.createHref(n);s.replaceState(i,"",d),o&&l&&l({action:a,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"==typeof e?e:_d(e);return md(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==u&&(u=0,s.replaceState(hd({},s.state,{idx:u}),""));let m={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fd,d),l=e,()=>{i.removeEventListener(fd,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>s.go(e)};return m}((function(e,t){let{pathname:r="/",search:n="",hash:i=""}=bd(e.location.hash.substr(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),yd("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"==typeof t?t:_d(t))}),(function(e,t){gd("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function md(e,t){if(!1===e||null==e)throw new Error(t)}function gd(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(whe){}}}function vd(e,t){return{usr:e.state,key:e.key,idx:t}}function yd(e,t,r,n){return void 0===r&&(r=null),hd({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?bd(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function _d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var xd;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(xd||(xd={}));const wd=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ed(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n={}),e.map(((e,i)=>{let o=[...r,i],s="string"==typeof e.id?e.id:o.join("-");if(md(!0!==e.index||!e.children,"Cannot specify children on an index route"),md(!n[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let r=hd({},e,t(e),{id:s});return n[s]=r,r}{let r=hd({},e,t(e),{id:s,children:void 0});return n[s]=r,e.children&&(r.children=Ed(e.children,t,o,n)),r}}))}function Cd(e,t,r){void 0===r&&(r="/");let n=Ld(("string"==typeof t?bd(t):t).pathname||"/",r);if(null==n)return null;let i=Sd(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=Md(i[s],Nd(n));return o}function Sd(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(md(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let a=Gd([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(md(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Sd(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Fd(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of Ad(e.path))i(e,t,n);else i(e,t)})),t}function Ad(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return i?[o,""]:[o];let s=Ad(n.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Td=/^:\w+$/,Dd=3,kd=2,Pd=1,Bd=10,Rd=-2,Od=e=>"*"===e;function Fd(e,t){let r=e.split("/"),n=r.length;return r.some(Od)&&(n+=Rd),t&&(n+=kd),r.filter((e=>!Od(e))).reduce(((e,t)=>e+(Td.test(t)?Dd:""===t?Pd:Bd)),n)}function Md(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],a=s===r.length-1,l="/"===i?t:t.slice(i.length)||"/",u=Id({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(n,u.params);let c=e.route;o.push({params:n,pathname:Gd([i,u.pathname]),pathnameBase:Vd(Gd([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=Gd([i,u.pathnameBase]))}return o}function Id(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),gd("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=a[r]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[r];return e[n]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(r){return gd(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(l||"",n),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function Nd(e){try{return decodeURI(e)}catch(t){return gd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ld(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Ud(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function jd(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function zd(e,t,r,n){let i;void 0===n&&(n=!1),"string"==typeof e?i=bd(e):(i=hd({},e),md(!i.pathname||!i.pathname.includes("?"),Ud("?","pathname","search",i)),md(!i.pathname||!i.pathname.includes("#"),Ud("#","pathname","hash",i)),md(!i.search||!i.search.includes("#"),Ud("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(n||null==a)o=r;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"==typeof e?bd(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:Hd(n),hash:Wd(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Gd=e=>e.join("/").replace(/\/\/+/g,"/"),Vd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Wd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class $d{constructor(e,t,r,n){void 0===n&&(n=!1),this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yd(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const Xd=["post","put","patch","delete"],qd=new Set(Xd),Kd=["get",...Xd],Zd=new Set(Kd),Qd=new Set([301,302,303,307,308]),Jd=new Set([307,308]),eh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},th={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ih=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),oh="remix-router-transitions";function sh(e,t,r,n,i,o,s){let a,l;if(null!=o&&"path"!==s){a=[];for(let e of t)if(a.push(e),e.route.id===o){l=e;break}}else a=t,l=t[t.length-1];let u=zd(i||".",jd(a).map((e=>e.pathnameBase)),Ld(e.pathname,r)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||kh(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&"/"!==r&&(u.pathname="/"===u.pathname?r:Gd([r,u.pathname])),_d(u)}function ah(e,t,r,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:r};if(n.formMethod&&(i=n.formMethod,!Zd.has(i.toLowerCase())))return{path:r,error:bh(405,{method:n.formMethod})};var i;let o,s,a=()=>({path:r,error:bh(400,{type:"invalid-body"})}),l=n.formMethod||"get",u=e?l.toUpperCase():l.toLowerCase(),c=wh(r);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Ah(u))return a();let e="string"==typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[r,n]=t;return""+e+r+"="+n+"\n"}),""):String(n.body);return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Ah(u))return a();try{let e="string"==typeof n.body?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(whe){return a()}}}if(md("function"==typeof FormData,"FormData is not available in this environment"),n.formData)o=ph(n.formData),s=n.formData;else if(n.body instanceof FormData)o=ph(n.body),s=n.body;else if(n.body instanceof URLSearchParams)o=n.body,s=mh(o);else if(null==n.body)o=new URLSearchParams,s=new FormData;else try{o=new URLSearchParams(n.body),s=mh(o)}catch(whe){return a()}let d={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ah(d.formMethod))return{path:r,submission:d};let h=bd(r);return t&&h.search&&kh(h.search)&&o.append("index",""),h.search="?"+o,{path:_d(h),submission:d}}function lh(e,t,r,n,i,o,s,a,l,u,c,d,h,f){let p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,m=e.createURL(t.location),g=e.createURL(i),v=f?Object.keys(f)[0]:void 0,y=function(e,t){let r=e;if(t){let n=e.findIndex((e=>e.route.id===t));n>=0&&(r=e.slice(0,n))}return r}(r,v),_=y.filter(((e,r)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,r){let n=!t||r.route.id!==t.route.id,i=void 0===e[r.route.id];return n||i}(t.loaderData,t.matches[r],e)||s.some((t=>t===e.route.id)))return!0;let i=t.matches[r],a=e;return ch(e,hd({currentUrl:m,currentParams:i.params,nextUrl:g,nextParams:a.params},n,{actionResult:p,defaultShouldRevalidate:o||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||uh(i,a)}))})),b=[];return l.forEach(((e,i)=>{if(!r.some((t=>t.route.id===e.routeId)))return;let s=Cd(c,e.path,d);if(!s)return void b.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),h=Ph(s,e.path),f=!1;f=!u.has(i)&&(!!a.includes(i)||(l&&"idle"!==l.state&&void 0===l.data?o:ch(h,hd({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:p,defaultShouldRevalidate:o})))),f&&b.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})})),[_,b]}function uh(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function ch(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"==typeof r)return r}return t.defaultShouldRevalidate}async function dh(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];md(i,"No route found in manifest");let o={};for(let s in n){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;gd(!e,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||wd.has(s)||(o[s]=n[s])}Object.assign(i,o),Object.assign(i,hd({},t(i),{lazy:void 0}))}async function hh(e,t,r,n,i,o,s,a){let l,u,c;void 0===a&&(a={});let d=e=>{let n,i=new Promise(((e,t)=>n=t));return c=()=>n(),t.signal.addEventListener("abort",c),Promise.race([e({request:t,params:r.params,context:a.requestContext}),i])};try{let n=r.route[e];if(r.route.lazy)if(n){let e,t=await Promise.all([d(n).catch((t=>{e=t})),dh(r.route,o,i)]);if(e)throw e;u=t[0]}else{if(await dh(r.route,o,i),n=r.route[e],!n){if("action"===e){let e=new URL(t.url),n=e.pathname+e.search;throw bh(405,{method:t.method,pathname:n,routeId:r.route.id})}return{type:xd.data,data:void 0}}u=await d(n)}else{if(!n){let e=new URL(t.url);throw bh(404,{pathname:e.pathname+e.search})}u=await d(n)}md(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(whe){l=xd.error,u=whe}finally{c&&t.signal.removeEventListener("abort",c)}if(null!=(h=u)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,i=u.status;if(Qd.has(i)){let e=u.headers.get("Location");if(md(e,"Redirects returned/thrown from loaders/actions must have a Location header"),nh.test(e)){if(!a.isStaticRequest){let r=new URL(t.url),n=e.startsWith("//")?new URL(r.protocol+e):new URL(e),i=null!=Ld(n.pathname,s);n.origin===r.origin&&i&&(e=n.pathname+n.search+n.hash)}}else e=sh(new URL(t.url),n.slice(0,n.indexOf(r)+1),s,!0,e);if(a.isStaticRequest)throw u.headers.set("Location",e),u;return{type:xd.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(a.isRouteRequest)throw{type:l===xd.error?xd.error:xd.data,response:u};let o=u.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await u.json():await u.text(),l===xd.error?{type:l,error:new $d(i,u.statusText,e),headers:u.headers}:{type:xd.data,data:e,statusCode:u.status,headers:u.headers}}var h,f,p;return l===xd.error?{type:l,error:u}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(u)?{type:xd.deferred,deferredData:u,statusCode:null==(f=u.init)?void 0:f.status,headers:(null==(p=u.init)?void 0:p.headers)&&new Headers(u.init.headers)}:{type:xd.data,data:u}}function fh(e,t,r,n){let i=e.createURL(wh(t)).toString(),o={signal:r};if(n&&Ah(n.formMethod)){let{formMethod:e,formEncType:t}=n;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(n.json)):"text/plain"===t?o.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?o.body=ph(n.formData):o.body=n.formData}return new Request(i,o)}function ph(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,"string"==typeof n?n:n.name);return t}function mh(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function gh(e,t,r,n,i,o,s,a){let{loaderData:l,errors:u}=function(e,t,r,n,i){let o,s={},a=null,l=!1,u={};return r.forEach(((r,c)=>{let d=t[c].route.id;if(md(!Sh(r),"Cannot handle redirect results in processLoaderData"),Ch(r)){let t=yh(e,d),i=r.error;n&&(i=Object.values(n)[0],n=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),s[d]=void 0,l||(l=!0,o=Yd(r.error)?r.error.status:500),r.headers&&(u[d]=r.headers)}else Eh(r)?(i.set(d,r.deferredData),s[d]=r.deferredData.data):s[d]=r.data,null==r.statusCode||200===r.statusCode||l||(o=r.statusCode),r.headers&&(u[d]=r.headers)})),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}(t,r,n,i,a);for(let c=0;c<o.length;c++){let{key:t,match:r,controller:n}=o[c];md(void 0!==s&&void 0!==s[c],"Did not find corresponding fetcher result");let i=s[c];if(!n||!n.signal.aborted)if(Ch(i)){let n=yh(e.matches,null==r?void 0:r.route.id);u&&u[n.route.id]||(u=hd({},u,{[n.route.id]:i.error})),e.fetchers.delete(t)}else if(Sh(i))md(!1,"Unhandled fetcher revalidation redirect");else if(Eh(i))md(!1,"Unhandled fetcher deferred data");else{let r=Fh(i.data);e.fetchers.set(t,r)}}return{loaderData:l,errors:u}}function vh(e,t,r,n){let i=hd({},t);for(let o of r){let r=o.route.id;if(t.hasOwnProperty(r)?void 0!==t[r]&&(i[r]=t[r]):void 0!==e[r]&&o.route.loader&&(i[r]=e[r]),n&&n.hasOwnProperty(r))break}return i}function yh(e,t){let r=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return r.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function _h(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bh(e,t){let{pathname:r,routeId:n,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):404===e?(s="Not Found",a='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $d(e||500,s,new Error(a),!0)}function xh(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Sh(r))return{result:r,idx:t}}}function wh(e){return _d(hd({},"string"==typeof e?bd(e):e,{hash:""}))}function Eh(e){return e.type===xd.deferred}function Ch(e){return e.type===xd.error}function Sh(e){return(e&&e.type)===xd.redirect}function Ah(e){return qd.has(e.toLowerCase())}async function Th(e,t,r,n,i,o){for(let s=0;s<r.length;s++){let a=r[s],l=t[s];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!uh(u,l)&&void 0!==(o&&o[l.route.id]);if(Eh(a)&&(i||c)){let e=n[s];md(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Dh(a,e,i).then((e=>{e&&(r[s]=e||r[s])}))}}}async function Dh(e,t,r){if(void 0===r&&(r=!1),!(await e.deferredData.resolveData(t))){if(r)try{return{type:xd.data,data:e.deferredData.unwrappedData}}catch(whe){return{type:xd.error,error:whe}}return{type:xd.data,data:e.deferredData.data}}}function kh(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ph(e,t){let r="string"==typeof t?bd(t).search:t.search;if(e[e.length-1].route.index&&kh(r||""))return e[e.length-1];let n=jd(e);return n[n.length-1]}function Bh(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:s}=e;if(t&&r&&n)return null!=i?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}:void 0}function Rh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Oh(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Fh(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}const Ih=H.createContext(null),Nh=H.createContext(null),Lh=H.createContext(null),Uh=H.createContext(null),jh=H.createContext({outlet:null,matches:[],isDataRoute:!1}),zh=H.createContext(null);function Gh(){return null!=H.useContext(Uh)}function Vh(e,t,r){Gh()||md(!1);let{navigator:n}=H.useContext(Lh),{matches:i}=H.useContext(jh),o=i[i.length-1],s=o?o.params:{};!o||o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l,u=(Gh()||md(!1),H.useContext(Uh).location);if(t){var c;let e="string"==typeof t?bd(t):t;"/"===a||(null==(c=e.pathname)?void 0:c.startsWith(a))||md(!1),l=e}else l=u;let d=l.pathname||"/",h=Cd(e,{pathname:"/"===a?d:d.slice(a.length)||"/"}),f=function(e,t,r){var n,i;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==e){if(null==(i=r)||!i.errors)return null;e=r.matches}let o=e,s=null==(n=r)?void 0:n.errors;if(null!=s){let e=o.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||md(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,n,i)=>{let a=n.route.id?null==s?void 0:s[n.route.id]:null,l=null;r&&(l=n.route.errorElement||Wh);let u=t.concat(o.slice(0,i+1)),c=()=>{let t;return t=a?l:n.route.Component?H.createElement(n.route.Component,null):n.route.element?n.route.element:e,H.createElement(Yh,{match:n,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?H.createElement($h,{location:r.location,revalidation:r.revalidation,component:l,error:a,children:c(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):c()}),null)}(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Gd([a,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?a:Gd([a,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r);return t&&f?H.createElement(Uh.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:cd.Pop}},f):f}function Hh(){let e=function(){var e;let t=H.useContext(zh),r=function(e){let t=H.useContext(Nh);return t||md(!1),t}(Xh.UseRouteError),n=function(e){let t=function(e){let t=H.useContext(jh);return t||md(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||md(!1),r.route.id}(Xh.UseRouteError);return t||(null==(e=r.errors)?void 0:e[n])}(),t=Yd(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:n},r):null,null)}const Wh=H.createElement(Hh,null);class $h extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?H.createElement(jh.Provider,{value:this.props.routeContext},H.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yh(e){let{routeContext:t,match:r,children:n}=e,i=H.useContext(Ih);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(jh.Provider,{value:t},n)}var Xh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xh||{});function qh(e){let{basename:t="/",children:r=null,location:n,navigationType:i=cd.Pop,navigator:o,static:s=!1}=e;Gh()&&md(!1);let a=t.replace(/^\/*/,"/"),l=H.useMemo((()=>({basename:a,navigator:o,static:s})),[a,o,s]);"string"==typeof n&&(n=bd(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=H.useMemo((()=>{let e=Ld(u,a);return null==e?null:{location:{pathname:e,search:c,hash:d,state:h,key:f},navigationType:i}}),[a,u,c,d,h,f,i]);return null==p?null:H.createElement(Lh.Provider,{value:l},H.createElement(Uh.Provider,{children:r,value:p}))}function Kh(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:H.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:H.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}
/**
			 * React Router DOM v6.18.0
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(this,arguments)}function Qh(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Zh({},t,{errors:Jh(t.errors)})),t}function Jh(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&"RouteErrorResponse"===i.__type)r[n]=new $d(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"==typeof e)try{let t=new e(i.message);t.stack="",r[n]=t}catch(whe){}}if(null==r[n]){let e=new Error(i.message);e.stack="",r[n]=e}}else r[n]=i;return r}new Promise((()=>{}));const ef=H.createContext({isTransitioning:!1}),tf=H.createContext(new Map),rf=$.startTransition;class nf{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function of(e){let{routes:t,state:r}=e;return Vh(t,void 0,r)}var sf,af;function lf(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=lf(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function uf(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=lf(e))&&(n&&(n+=" "),n+=t);return n}!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"}(sf||(sf={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(af||(af={}));const cf=e=>{const t=pf(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),df(r,t)||ff(e)},getConflictingClassGroupIds:(e,t)=>{const i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}},df=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?df(e.slice(1),n):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return t.validators.find((({validator:e})=>e(o)))?.classGroupId},hf=/^\[(.+)\]$/,ff=e=>{if(hf.test(e)){const t=hf.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pf=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yf(Object.entries(e.classGroups),r).forEach((([e,r])=>{mf(r,n,e,t)})),n},mf=(e,t,r,n)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return vf(e)?void mf(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((([e,i])=>{mf(i,gf(t,e),r,n)}))}else(""===e?t:gf(t,e)).classGroupId=r}))},gf=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},vf=e=>e.isThemeGetter,yf=(e,t)=>t?e.map((([e,r])=>[e,r.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,r])=>[t+e,r]))):e))])):e,_f=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},bf=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],o=t.length,s=e=>{const r=[];let s,a=0,l=0;for(let d=0;d<e.length;d++){let u=e[d];if(0===a){if(u===i&&(n||e.slice(d,d+o)===t)){r.push(e.slice(l,d)),l=d+o;continue}if("/"===u){s=d;continue}}"["===u?a++:"]"===u&&a--}const u=0===r.length?e:e.substring(l),c=u.startsWith("!");return{modifiers:r,hasImportantModifier:c,baseClassName:c?u.substring(1):u,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return r?e=>r({className:e,parseClassName:s}):s},xf=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},wf=/\s+/;function Ef(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Cf(e))&&(n&&(n+=" "),n+=t);return n}const Cf=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Cf(e[n]))&&(r&&(r+=" "),r+=t);return r};function Sf(e,...t){let r,n,i,o=function(a){const l=t.reduce(((e,t)=>t(e)),e());return r=(e=>({cache:_f(e.cacheSize),parseClassName:bf(e),...cf(e)}))(l),n=r.cache.get,i=r.cache.set,o=s,s(a)};function s(e){const t=n(e);if(t)return t;const o=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(wf);let a="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:d}=r(e);let h=Boolean(d),f=n(h?c.substring(0,d):c);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=n(c),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=xf(t).join(":"),m=u?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const v=i(f,h);for(let r=0;r<v.length;++r){const e=v[r];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,r);return i(e,o),o}return function(){return o(Ef.apply(null,arguments))}}const Af=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Tf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Df=/^\d+\/\d+$/,kf=new Set(["px","full","screen"]),Pf=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bf=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rf=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Of=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ff=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mf=e=>Nf(e)||kf.has(e)||Df.test(e),If=e=>Kf(e,"length",Zf),Nf=e=>Boolean(e)&&!Number.isNaN(Number(e)),Lf=e=>Kf(e,"number",Nf),Uf=e=>Boolean(e)&&Number.isInteger(Number(e)),jf=e=>e.endsWith("%")&&Nf(e.slice(0,-1)),zf=e=>Tf.test(e),Gf=e=>Pf.test(e),Vf=new Set(["length","size","percentage"]),Hf=e=>Kf(e,Vf,Qf),Wf=e=>Kf(e,"position",Qf),$f=new Set(["image","url"]),Yf=e=>Kf(e,$f,ep),Xf=e=>Kf(e,"",Jf),qf=()=>!0,Kf=(e,t,r)=>{const n=Tf.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Zf=e=>Bf.test(e)&&!Rf.test(e),Qf=()=>!1,Jf=e=>Of.test(e),ep=e=>Ff.test(e),tp=e("t",Sf((()=>{const e=Af("colors"),t=Af("spacing"),r=Af("blur"),n=Af("brightness"),i=Af("borderColor"),o=Af("borderRadius"),s=Af("borderSpacing"),a=Af("borderWidth"),l=Af("contrast"),u=Af("grayscale"),c=Af("hueRotate"),d=Af("invert"),h=Af("gap"),f=Af("gradientColorStops"),p=Af("gradientColorStopPositions"),m=Af("inset"),g=Af("margin"),v=Af("opacity"),y=Af("padding"),_=Af("saturate"),b=Af("scale"),x=Af("sepia"),w=Af("skew"),E=Af("space"),C=Af("translate"),S=()=>["auto",zf,t],A=()=>[zf,t],T=()=>["",Mf,If],D=()=>["auto",Nf,zf],k=()=>["","0",zf],P=()=>[Nf,zf];return{cacheSize:500,separator:":",theme:{colors:[qf],spacing:[Mf,If],blur:["none","",Gf,zf],brightness:P(),borderColor:[e],borderRadius:["none","","full",Gf,zf],borderSpacing:A(),borderWidth:T(),contrast:P(),grayscale:k(),hueRotate:P(),invert:k(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[jf,If],inset:S(),margin:S(),opacity:P(),padding:A(),saturate:P(),scale:P(),sepia:k(),skew:P(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",zf]}],container:["container"],columns:[{columns:[Gf]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",zf]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uf,zf]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zf]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Uf,zf]}],"grid-cols":[{"grid-cols":[qf]}],"col-start-end":[{col:["auto",{span:["full",Uf,zf]},zf]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[qf]}],"row-start-end":[{row:["auto",{span:[Uf,zf]},zf]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zf]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zf]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zf,t]}],"min-w":[{"min-w":[zf,t,"min","max","fit"]}],"max-w":[{"max-w":[zf,t,"none","full","min","max","fit","prose",{screen:[Gf]},Gf]}],h:[{h:[zf,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zf,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zf,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zf,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gf,If]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lf]}],"font-family":[{font:[qf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zf]}],"line-clamp":[{"line-clamp":["none",Nf,Lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mf,zf]}],"list-image":[{"list-image":["none",zf]}],"list-style-type":[{list:["none","disc","decimal",zf]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mf,If]}],"underline-offset":[{"underline-offset":["auto",Mf,zf]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zf]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zf]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Wf]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hf]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yf]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Mf,zf]}],"outline-w":[{outline:[Mf,If]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Mf,If]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gf,Xf]}],"shadow-color":[{shadow:[qf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Gf,zf]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zf]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",zf]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",zf]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Uf,zf]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zf]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zf]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zf]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mf,If,Lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}))),rp=e=>{let t;const r=new Set,n=(e,n)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach((r=>r(t,e)))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}},s=t=e(n,i,o);return o},np=e=>e?rp(e):rp;var ip={exports:{}},op={},sp={exports:{}},ap={},lp=H,up="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cp=lp.useState,dp=lp.useEffect,hp=lp.useLayoutEffect,fp=lp.useDebugValue;function pp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!up(e,r)}catch(hde){return!0}}var mp="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=cp({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return hp((function(){i.value=r,i.getSnapshot=t,pp(i)&&o({inst:i})}),[e,r,t]),dp((function(){return pp(i)&&o({inst:i}),e((function(){pp(i)&&o({inst:i})}))}),[e]),fp(r),r};ap.useSyncExternalStore=void 0!==lp.useSyncExternalStore?lp.useSyncExternalStore:mp,sp.exports=ap;var gp=sp.exports,vp=H,yp=gp,_p="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},bp=yp.useSyncExternalStore,xp=vp.useRef,wp=vp.useEffect,Ep=vp.useMemo,Cp=vp.useDebugValue;
/**
			 * @license React
			 * use-sync-external-store-shim/with-selector.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */op.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=xp(null);if(null===o.current){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Ep((function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&s.hasValue){var t=s.value;if(i(t,e))return a=t}return a=e}if(t=a,_p(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,a=r)}var o,a,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,i]);var a=bp(e,o[0],o[1]);return wp((function(){s.hasValue=!0,s.value=a}),[a]),Cp(a),a},ip.exports=op;const Sp=o(ip.exports),{useDebugValue:Ap}=W,{useSyncExternalStoreWithSelector:Tp}=Sp,Dp=e=>e,kp=e=>{const t="function"==typeof e?np(e):e,r=(e,r)=>function(e,t=Dp,r){const n=Tp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Ap(n),n}(t,e,r);return Object.assign(r,t),r};e("y",(e=>e?kp(e):kp));var Pp=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(Pp||{}),Bp=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(Bp||{}),Rp=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(Rp||{}),Op=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(Op||{}),Fp=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Fp||{}),Mp=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(Mp||{}),Ip=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(Ip||{}),Np=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(Np||{}),Lp=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(Lp||{}),Up=e("h",(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(Up||{})),jp=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(jp||{}),zp=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(zp||{}),Gp=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(Gp||{}),Vp=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(Vp||{}),Hp=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(Hp||{}),Wp=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(Wp||{}),$p=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))($p||{}),Yp=(e=>(e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e))(Yp||{}),Xp=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(Xp||{}),qp=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(qp||{});const Kp={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")},Zp={ADAPTER:Kp,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Qp=/iPhone/i,Jp=/iPod/i,em=/iPad/i,tm=/\biOS-universal(?:.+)Mac\b/i,rm=/\bAndroid(?:.+)Mobile\b/i,nm=/Android/i,im=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,om=/Silk/i,sm=/Windows Phone/i,am=/\bWindows(?:.+)ARM\b/i,lm=/BlackBerry/i,um=/BB10/i,cm=/Opera Mini/i,dm=/\b(CriOS|Chrome)(?:.+)Mobile/i,hm=/Mobile(?:.+)Firefox\b/i,fm=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function pm(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(e){return function(t){return t.test(e)}}(r),o={apple:{phone:i(Qp)&&!i(sm),ipod:i(Jp),tablet:!i(Qp)&&(i(em)||fm(t))&&!i(sm),universal:i(tm),device:(i(Qp)||i(Jp)||i(em)||i(tm)||fm(t))&&!i(sm)},amazon:{phone:i(im),tablet:!i(im)&&i(om),device:i(im)||i(om)},android:{phone:!i(sm)&&i(im)||!i(sm)&&i(rm),tablet:!i(sm)&&!i(im)&&!i(rm)&&(i(om)||i(nm)),device:!i(sm)&&(i(im)||i(om)||i(rm)||i(nm))||i(/\bokhttp\b/i)},windows:{phone:i(sm),tablet:i(am),device:i(sm)||i(am)},other:{blackberry:i(lm),blackberry10:i(um),opera:i(cm),firefox:i(hm),chrome:i(dm),device:i(lm)||i(um)||i(cm)||i(hm)||i(dm)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const mm=(pm.default??pm)(globalThis.navigator);Zp.RETINA_PREFIX=/@([0-9\.]+)x/,Zp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var gm={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(gm);const vm=o(gm.exports);var ym={exports:{}};function _m(e,t,r){r=r||2;var n,i,o,s,a,l,u,c=t&&t.length,d=c?t[0]*r:e.length,h=bm(e,0,d,r,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,r,n){var i,o,s,a=[];for(i=0,o=t.length;i<o;i++)(s=bm(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===s.next&&(s.steiner=!0),a.push(Bm(s));for(a.sort(Tm),i=0;i<a.length;i++)r=Dm(a[i],r);return r}(e,t,h,r)),e.length>80*r){n=o=e[0],i=s=e[1];for(var p=r;p<d;p+=r)(a=e[p])<n&&(n=a),(l=e[p+1])<i&&(i=l),a>o&&(o=a),l>s&&(s=l);u=0!==(u=Math.max(o-n,s-i))?32767/u:0}return wm(h,f,r,n,i,u,0),f}function bm(e,t,r,n,i){var o,s;if(i===Hm(e,t,r,n)>0)for(o=t;o<r;o+=n)s=zm(o,e[o],e[o+1],s);else for(o=r-n;o>=t;o-=n)s=zm(o,e[o],e[o+1],s);return s&&Mm(s,s.next)&&(Gm(s),s=s.next),s}function xm(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Mm(n,n.next)&&0!==Fm(n.prev,n,n.next))n=n.next;else{if(Gm(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function wm(e,t,r,n,i,o,s){if(e){!s&&o&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=Pm(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,s,a,l,u=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,n=r,a=0,t=0;t<u&&(a++,n=n.nextZ);t++);for(l=u;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,u*=2}while(s>1)}(i)}(e,n,i,o);for(var a,l,u=e;e.prev!==e.next;)if(a=e.prev,l=e.next,o?Cm(e,n,i,o):Em(e))t.push(a.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),Gm(e),e=l.next,u=l.next;else if((e=l)===u){s?1===s?wm(e=Sm(xm(e),t,r),t,r,n,i,o,2):2===s&&Am(e,t,r,n,i,o):wm(xm(e),t,r,n,i,o,1);break}}}function Em(e){var t=e.prev,r=e,n=e.next;if(Fm(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,s=n.x,a=t.y,l=r.y,u=n.y,c=i<o?i<s?i:s:o<s?o:s,d=a<l?a<u?a:u:l<u?l:u,h=i>o?i>s?i:s:o>s?o:s,f=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==t;){if(p.x>=c&&p.x<=h&&p.y>=d&&p.y<=f&&Rm(i,a,o,l,s,u,p.x,p.y)&&Fm(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Cm(e,t,r,n){var i=e.prev,o=e,s=e.next;if(Fm(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,u=s.x,c=i.y,d=o.y,h=s.y,f=a<l?a<u?a:u:l<u?l:u,p=c<d?c<h?c:h:d<h?d:h,m=a>l?a>u?a:u:l>u?l:u,g=c>d?c>h?c:h:d>h?d:h,v=Pm(f,p,t,r,n),y=Pm(m,g,t,r,n),_=e.prevZ,b=e.nextZ;_&&_.z>=v&&b&&b.z<=y;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&Rm(a,c,l,d,u,h,_.x,_.y)&&Fm(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Rm(a,c,l,d,u,h,b.x,b.y)&&Fm(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&Rm(a,c,l,d,u,h,_.x,_.y)&&Fm(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Rm(a,c,l,d,u,h,b.x,b.y)&&Fm(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Sm(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Mm(i,o)&&Im(i,n,n.next,o)&&Um(i,o)&&Um(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),Gm(n),Gm(n.next),n=e=o),n=n.next}while(n!==e);return xm(n)}function Am(e,t,r,n,i,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Om(s,a)){var l=jm(s,a);return s=xm(s,s.next),l=xm(l,l.next),wm(s,t,r,n,i,o,0),void wm(l,t,r,n,i,o,0)}a=a.next}s=s.next}while(s!==e)}function Tm(e,t){return e.x-t.x}function Dm(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s&&(s=a,r=n.x<n.next.x?n:n.next,a===i))return r}n=n.next}while(n!==t);if(!r)return null;var l,u=r,c=r.x,d=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Rm(o<d?i:s,o,c,d,o<d?s:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),Um(n,e)&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&km(r,n)))&&(r=n,h=l)),n=n.next}while(n!==u);return r}(e,t);if(!r)return t;var n=jm(r,e);return xm(n,n.next),xm(r,r.next)}function km(e,t){return Fm(e.prev,e,t.prev)<0&&Fm(t.next,e,e.next)<0}function Pm(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Bm(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Rm(e,t,r,n,i,o,s,a){return(i-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(n-a)>=(r-s)*(t-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function Om(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Im(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Um(e,t)&&Um(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Fm(e.prev,e,t.prev)||Fm(e,t.prev,t))||Mm(e,t)&&Fm(e.prev,e,e.next)>0&&Fm(t.prev,t,t.next)>0)}function Fm(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Mm(e,t){return e.x===t.x&&e.y===t.y}function Im(e,t,r,n){var i=Lm(Fm(e,t,r)),o=Lm(Fm(e,t,n)),s=Lm(Fm(r,n,e)),a=Lm(Fm(r,n,t));return i!==o&&s!==a||!(0!==i||!Nm(e,r,t))||!(0!==o||!Nm(e,n,t))||!(0!==s||!Nm(r,e,n))||!(0!==a||!Nm(r,t,n))}function Nm(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Lm(e){return e>0?1:e<0?-1:0}function Um(e,t){return Fm(e.prev,e,e.next)<0?Fm(e,t,e.next)>=0&&Fm(e,e.prev,t)>=0:Fm(e,t,e.prev)<0||Fm(e,e.next,t)<0}function jm(e,t){var r=new Vm(e.i,e.x,e.y),n=new Vm(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function zm(e,t,r,n){var i=new Vm(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Gm(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Vm(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Hm(e,t,r,n){for(var i=0,o=t,s=r-n;o<r;o+=n)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}ym.exports=_m,ym.exports.default=_m,_m.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,s=Math.abs(Hm(e,0,o,r));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*r,c=a<l-1?t[a+1]*r:e.length;s-=Math.abs(Hm(e,u,c,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;d+=Math.abs((e[h]-e[p])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[p+1]-e[h+1]))}return 0===s&&0===d?0:Math.abs((d-s)/s)},_m.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[i][o][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};const Wm=o(ym.exports);var $m={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */!function(e,t){!function(r){var i=t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,l,u=2147483647,c=36,d=1,h=26,f=38,p=700,m=72,g=128,v="-",y=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,E=Math.floor,C=String.fromCharCode;function S(e){throw new RangeError(x[e])}function A(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function T(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+A((e=e.replace(b,".")).split("."),t).join(".")}function D(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function k(e){return A(e,(function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function B(e,t,r){var n=0;for(e=r?E(e/p):e>>1,e+=E(e/t);e>w*h>>1;n+=c)e=E(e/w);return E(n+(w+1)*e/(e+f))}function R(e){var t,r,n,i,o,s,a,l,f,p,y,_=[],b=e.length,x=0,w=g,C=m;for((r=e.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&S("not-basic"),_.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=x,s=1,a=c;i>=b&&S("invalid-input"),((l=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||l>E((u-x)/s))&&S("overflow"),x+=l*s,!(l<(f=a<=C?d:a>=C+h?h:a-C));a+=c)s>E(u/(p=c-f))&&S("overflow"),s*=p;C=B(x-o,t=_.length+1,0==o),E(x/t)>u-w&&S("overflow"),w+=E(x/t),x%=t,_.splice(x++,0,w)}return k(_)}function O(e){var t,r,n,i,o,s,a,l,f,p,y,_,b,x,w,A=[];for(_=(e=D(e)).length,t=g,r=0,o=m,s=0;s<_;++s)(y=e[s])<128&&A.push(C(y));for(n=i=A.length,i&&A.push(v);n<_;){for(a=u,s=0;s<_;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>E((u-r)/(b=n+1))&&S("overflow"),r+=(a-t)*b,t=a,s=0;s<_;++s)if((y=e[s])<t&&++r>u&&S("overflow"),y==t){for(l=r,f=c;!(l<(p=f<=o?d:f>=o+h?h:f-o));f+=c)w=l-p,x=c-p,A.push(C(P(p+w%x,0))),l=E(w/x);A.push(C(P(l,0))),o=B(r,b,n==i),r=0,++n}++r,++t}return A.join("")}if(a={version:"1.4.1",ucs2:{decode:D,encode:k},decode:R,encode:O,toASCII:function(e){return T(e,(function(e){return _.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return T(e,(function(e){return y.test(e)?R(e.slice(4).toLowerCase()):e}))}},i&&o)if(e.exports==i)o.exports=a;else for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);else r.punycode=a}(n)}($m,$m.exports);var Ym,Xm=$m.exports,qm="undefined"!=typeof Symbol&&Symbol,Km=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},Zm={foo:{}},Qm=Object,Jm=Object.prototype.toString,eg=Math.max,tg=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},rg=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Jm.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),i=eg(0,t.length-n.length),o=[],s=0;s<i;s++)o[s]="$"+s;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(o,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var i=t.apply(this,tg(n,arguments));return Object(i)===i?i:this}return t.apply(e,tg(n,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,r.prototype=new a,a.prototype=null}return r},ng=Function.prototype.bind||rg,ig=Function.prototype.call,og=Object.prototype.hasOwnProperty,sg=ng.call(ig,og),ag=SyntaxError,lg=Function,ug=TypeError,cg=function(e){try{return lg('"use strict"; return ('+e+").constructor;")()}catch(whe){}},dg=Object.getOwnPropertyDescriptor;if(dg)try{dg({},"")}catch(whe){dg=null}var hg=function(){throw new ug},fg=dg?function(){try{return hg}catch(e){try{return dg(arguments,"callee").get}catch(t){return hg}}}():hg,pg="function"==typeof qm&&"function"==typeof Symbol&&"symbol"==typeof qm("foo")&&"symbol"==typeof Symbol("bar")&&Km(),mg={__proto__:Zm}.foo===Zm.foo&&!({__proto__:null}instanceof Qm),gg=Object.getPrototypeOf||(mg?function(e){return e.__proto__}:null),vg={},yg="undefined"!=typeof Uint8Array&&gg?gg(Uint8Array):Ym,_g={"%AggregateError%":"undefined"==typeof AggregateError?Ym:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Ym:ArrayBuffer,"%ArrayIteratorPrototype%":pg&&gg?gg([][Symbol.iterator]()):Ym,"%AsyncFromSyncIteratorPrototype%":Ym,"%AsyncFunction%":vg,"%AsyncGenerator%":vg,"%AsyncGeneratorFunction%":vg,"%AsyncIteratorPrototype%":vg,"%Atomics%":"undefined"==typeof Atomics?Ym:Atomics,"%BigInt%":"undefined"==typeof BigInt?Ym:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Ym:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Ym:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Ym:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Ym:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Ym:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Ym:FinalizationRegistry,"%Function%":lg,"%GeneratorFunction%":vg,"%Int8Array%":"undefined"==typeof Int8Array?Ym:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Ym:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Ym:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":pg&&gg?gg(gg([][Symbol.iterator]())):Ym,"%JSON%":"object"==typeof JSON?JSON:Ym,"%Map%":"undefined"==typeof Map?Ym:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&pg&&gg?gg((new Map)[Symbol.iterator]()):Ym,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Ym:Promise,"%Proxy%":"undefined"==typeof Proxy?Ym:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Ym:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Ym:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&pg&&gg?gg((new Set)[Symbol.iterator]()):Ym,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Ym:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":pg&&gg?gg(""[Symbol.iterator]()):Ym,"%Symbol%":pg?Symbol:Ym,"%SyntaxError%":ag,"%ThrowTypeError%":fg,"%TypedArray%":yg,"%TypeError%":ug,"%Uint8Array%":"undefined"==typeof Uint8Array?Ym:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Ym:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Ym:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Ym:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Ym:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Ym:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Ym:WeakSet};if(gg)try{null.error}catch(whe){var bg=gg(gg(whe));_g["%Error.prototype%"]=bg}var xg=function e(t){var r;if("%AsyncFunction%"===t)r=cg("async function () {}");else if("%GeneratorFunction%"===t)r=cg("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=cg("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&gg&&(r=gg(i.prototype))}return _g[t]=r,r},wg={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Eg=ng,Cg=sg,Sg=Eg.call(Function.call,Array.prototype.concat),Ag=Eg.call(Function.apply,Array.prototype.splice),Tg=Eg.call(Function.call,String.prototype.replace),Dg=Eg.call(Function.call,String.prototype.slice),kg=Eg.call(Function.call,RegExp.prototype.exec),Pg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bg=/\\(\\)?/g,Rg=function(e,t){var r,n=e;if(Cg(wg,n)&&(n="%"+(r=wg[n])[0]+"%"),Cg(_g,n)){var i=_g[n];if(i===vg&&(i=xg(n)),void 0===i&&!t)throw new ug("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new ag("intrinsic "+e+" does not exist!")},Og=function(e,t){if("string"!=typeof e||0===e.length)throw new ug("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new ug('"allowMissing" argument must be a boolean');if(null===kg(/^%?[^%]*%?$/,e))throw new ag("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Dg(e,0,1),r=Dg(e,-1);if("%"===t&&"%"!==r)throw new ag("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new ag("invalid intrinsic syntax, expected opening `%`");var n=[];return Tg(e,Pg,(function(e,t,r,i){n[n.length]=r?Tg(i,Bg,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=Rg("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],Ag(r,Sg([0,1],l)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],h=Dg(d,0,1),f=Dg(d,-1);if(('"'===h||"'"===h||"`"===h||'"'===f||"'"===f||"`"===f)&&h!==f)throw new ag("property names with quotes must have matching quotes");if("constructor"!==d&&c||(a=!0),Cg(_g,o="%"+(n+="."+d)+"%"))s=_g[o];else if(null!=s){if(!(d in s)){if(!t)throw new ug("base intrinsic for "+e+" exists, but the property is not available.");return}if(dg&&u+1>=r.length){var p=dg(s,d);s=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[d]}else c=Cg(s,d),s=s[d];c&&!a&&(_g[o]=s)}}return s},Fg={exports:{}},Mg=Og("%Object.defineProperty%",!0),Ig=function(){if(Mg)try{return Mg({},"a",{value:1}),!0}catch(whe){return!1}return!1};Ig.hasArrayLengthDefineBug=function(){if(!Ig())return null;try{return 1!==Mg([],"length",{value:1}).length}catch(whe){return!0}};var Ng=Ig,Lg=Og("%Object.getOwnPropertyDescriptor%",!0);if(Lg)try{Lg([],"length")}catch(whe){Lg=null}var Ug=Lg,jg=Ng(),zg=Og,Gg=jg&&zg("%Object.defineProperty%",!0);if(Gg)try{Gg({},"a",{value:1})}catch(whe){Gg=!1}var Vg=zg("%SyntaxError%"),Hg=zg("%TypeError%"),Wg=Ug,$g=Og,Yg=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Hg("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Hg("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Hg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Hg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Hg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Hg("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],a=!!Wg&&Wg(e,t);if(Gg)Gg(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===n&&a?a.enumerable:!n,value:r,writable:null===i&&a?a.writable:!i});else{if(!s&&(n||i||o))throw new Vg("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},Xg=Ng(),qg=Ug,Kg=$g("%TypeError%"),Zg=$g("%Math.floor%"),Qg=function(e,t){if("function"!=typeof e)throw new Kg("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||Zg(t)!==t)throw new Kg("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&qg){var o=qg(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(Xg?Yg(e,"length",t,!0,!0):Yg(e,"length",t)),e};!function(e){var t=ng,r=Og,n=Qg,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(s,o),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(whe){l=null}e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var r=a(t,s,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return a(t,o,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c}(Fg);var Jg=Og,ev=Fg.exports,tv=ev(Jg("String.prototype.indexOf"));const rv=s(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var nv="function"==typeof Map&&Map.prototype,iv=Object.getOwnPropertyDescriptor&&nv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ov=nv&&iv&&"function"==typeof iv.get?iv.get:null,sv=nv&&Map.prototype.forEach,av="function"==typeof Set&&Set.prototype,lv=Object.getOwnPropertyDescriptor&&av?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,uv=av&&lv&&"function"==typeof lv.get?lv.get:null,cv=av&&Set.prototype.forEach,dv="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,hv="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,fv="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,pv=Boolean.prototype.valueOf,mv=Object.prototype.toString,gv=Function.prototype.toString,vv=String.prototype.match,yv=String.prototype.slice,_v=String.prototype.replace,bv=String.prototype.toUpperCase,xv=String.prototype.toLowerCase,wv=RegExp.prototype.test,Ev=Array.prototype.concat,Cv=Array.prototype.join,Sv=Array.prototype.slice,Av=Math.floor,Tv="function"==typeof BigInt?BigInt.prototype.valueOf:null,Dv=Object.getOwnPropertySymbols,kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Pv="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Bv="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Rv=Object.prototype.propertyIsEnumerable,Ov=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Fv(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||wv.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-Av(-e):Av(e);if(n!==e){var i=String(n),o=yv.call(t,i.length+1);return _v.call(i,r,"$&_")+"."+_v.call(_v.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _v.call(t,r,"$&_")}var Mv=rv,Iv=Mv.custom,Nv=Gv(Iv)?Iv:null;function Lv(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function Uv(e){return _v.call(String(e),/"/g,"&quot;")}function jv(e){return!("[object Array]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}function zv(e){return!("[object RegExp]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}function Gv(e){if(Pv)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!kv)return!1;try{return kv.call(e),!0}catch(whe){}return!1}var Vv=Object.prototype.hasOwnProperty||function(e){return e in this};function Hv(e,t){return Vv.call(e,t)}function Wv(e){return mv.call(e)}function $v(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Yv(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Yv(yv.call(e,0,t.maxStringLength),t)+n}return Lv(_v.call(_v.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xv),"single",t)}function Xv(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+bv.call(t.toString(16))}function qv(e){return"Object("+e+")"}function Kv(e){return e+" { ? }"}function Zv(e,t,r,n){return e+" ("+t+") {"+(n?Qv(r,n):Cv.call(r,", "))+"}"}function Qv(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+Cv.call(e,","+r)+"\n"+t.prev}function Jv(e,t){var r=jv(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Hv(e,i)?t(e[i],e):""}var o,s="function"==typeof Dv?Dv(e):[];if(Pv){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)Hv(e,l)&&(r&&String(Number(l))===l&&l<e.length||Pv&&o["$"+l]instanceof Symbol||(wv.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof Dv)for(var u=0;u<s.length;u++)Rv.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}var ey=Og,ty=function(e,t){var r=Jg(e,!!t);return"function"==typeof r&&tv(e,".prototype.")>-1?ev(r):r},ry=function e(t,r,i,o){var s=r||{};if(Hv(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Hv(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Hv(s,"customInspect")||s.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Hv(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Hv(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Yv(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var u=String(t);return l?Fv(t,u):u}if("bigint"==typeof t){var c=String(t)+"n";return l?Fv(t,c):c}var d=void 0===s.depth?5:s.depth;if(void 0===i&&(i=0),i>=d&&d>0&&"object"==typeof t)return jv(t)?"[Array]":"[Object]";var h=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Cv.call(Array(e.indent+1)," ")}return{base:r,prev:Cv.call(Array(t+1),r)}}(s,i);if(void 0===o)o=[];else if($v(o,t)>=0)return"[Circular]";function f(t,r,n){if(r&&(o=Sv.call(o)).push(r),n){var a={depth:s.depth};return Hv(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,i+1,o)}return e(t,s,i+1,o)}if("function"==typeof t&&!zv(t)){var p=function(e){if(e.name)return e.name;var t=vv.call(gv.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),m=Jv(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+Cv.call(m,", ")+" }":"")}if(Gv(t)){var g=Pv?_v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):kv.call(t);return"object"!=typeof t||Pv?g:qv(g)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var v="<"+xv.call(String(t.nodeName)),y=t.attributes||[],_=0;_<y.length;_++)v+=" "+y[_].name+"="+Lv(Uv(y[_].value),"double",s);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+xv.call(String(t.nodeName))+">"}if(jv(t)){if(0===t.length)return"[]";var b=Jv(t,f);return h&&!function(e){for(var t=0;t<e.length;t++)if($v(e[t],"\n")>=0)return!1;return!0}(b)?"["+Qv(b,h)+"]":"[ "+Cv.call(b,", ")+" ]"}if(function(e){return!("[object Error]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}(t)){var x=Jv(t,f);return"cause"in Error.prototype||!("cause"in t)||Rv.call(t,"cause")?0===x.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Cv.call(x,", ")+" }":"{ ["+String(t)+"] "+Cv.call(Ev.call("[cause]: "+f(t.cause),x),", ")+" }"}if("object"==typeof t&&a){if(Nv&&"function"==typeof t[Nv]&&Mv)return Mv(t,{depth:d-i});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!ov||!e||"object"!=typeof e)return!1;try{ov.call(e);try{uv.call(e)}catch(v){return!0}return e instanceof Map}catch(whe){}return!1}(t)){var w=[];return sv&&sv.call(t,(function(e,r){w.push(f(r,t,!0)+" => "+f(e,t))})),Zv("Map",ov.call(t),w,h)}if(function(e){if(!uv||!e||"object"!=typeof e)return!1;try{uv.call(e);try{ov.call(e)}catch(z8){return!0}return e instanceof Set}catch(whe){}return!1}(t)){var E=[];return cv&&cv.call(t,(function(e){E.push(f(e,t))})),Zv("Set",uv.call(t),E,h)}if(function(e){if(!dv||!e||"object"!=typeof e)return!1;try{dv.call(e,dv);try{hv.call(e,hv)}catch(v){return!0}return e instanceof WeakMap}catch(whe){}return!1}(t))return Kv("WeakMap");if(function(e){if(!hv||!e||"object"!=typeof e)return!1;try{hv.call(e,hv);try{dv.call(e,dv)}catch(v){return!0}return e instanceof WeakSet}catch(whe){}return!1}(t))return Kv("WeakSet");if(function(e){if(!fv||!e||"object"!=typeof e)return!1;try{return fv.call(e),!0}catch(whe){}return!1}(t))return Kv("WeakRef");if(function(e){return!("[object Number]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}(t))return qv(f(Number(t)));if(function(e){if(!e||"object"!=typeof e||!Tv)return!1;try{return Tv.call(e),!0}catch(whe){}return!1}(t))return qv(f(Tv.call(t)));if(function(e){return!("[object Boolean]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}(t))return qv(pv.call(t));if(function(e){return!("[object String]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}(t))return qv(f(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==Wv(e)||Bv&&"object"==typeof e&&Bv in e)}(t)&&!zv(t)){var C=Jv(t,f),S=Ov?Ov(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",T=!S&&Bv&&Object(t)===t&&Bv in t?yv.call(Wv(t),8,-1):A?"Object":"",D=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(T||A?"["+Cv.call(Ev.call([],T||[],A||[]),": ")+"] ":"");return 0===C.length?D+"{}":h?D+"{"+Qv(C,h)+"}":D+"{ "+Cv.call(C,", ")+" }"}return String(t)},ny=ey("%TypeError%"),iy=ey("%WeakMap%",!0),oy=ey("%Map%",!0),sy=ty("WeakMap.prototype.get",!0),ay=ty("WeakMap.prototype.set",!0),ly=ty("WeakMap.prototype.has",!0),uy=ty("Map.prototype.get",!0),cy=ty("Map.prototype.set",!0),dy=ty("Map.prototype.has",!0),hy=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},fy=String.prototype.replace,py=/%20/g,my="RFC3986",gy={default:my,formatters:{RFC1738:function(e){return fy.call(e,py,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:my},vy=gy,yy=Object.prototype.hasOwnProperty,_y=Array.isArray,by=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),xy=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},wy={arrayToObject:xy,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(_y(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(whe){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",a=0;a<o.length;++a){var l=o.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===vy.RFC1738&&(40===l||41===l)?s+=o.charAt(a):l<128?s+=by[l]:l<2048?s+=by[192|l>>6]+by[128|63&l]:l<55296||l>=57344?s+=by[224|l>>12]+by[128|l>>6&63]+by[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(a)),s+=by[240|l>>18]+by[128|l>>12&63]+by[128|l>>6&63]+by[128|63&l])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(_y(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(_y(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!yy.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return _y(t)&&!_y(r)&&(i=xy(t,n)),_y(t)&&_y(r)?(r.forEach((function(r,i){if(yy.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return yy.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)}},Ey=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new ny("Side channel does not contain "+ry(e))},get:function(n){if(iy&&n&&("object"==typeof n||"function"==typeof n)){if(e)return sy(e,n)}else if(oy){if(t)return uy(t,n)}else if(r)return function(e,t){var r=hy(e,t);return r&&r.value}(r,n)},has:function(n){if(iy&&n&&("object"==typeof n||"function"==typeof n)){if(e)return ly(e,n)}else if(oy){if(t)return dy(t,n)}else if(r)return function(e,t){return!!hy(e,t)}(r,n);return!1},set:function(n,i){iy&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new iy),ay(e,n,i)):oy?(t||(t=new oy),cy(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=hy(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n},Cy=wy,Sy=gy,Ay=Object.prototype.hasOwnProperty,Ty={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Dy=Array.isArray,ky=Array.prototype.push,Py=function(e,t){ky.apply(e,Dy(t)?t:[t])},By=Date.prototype.toISOString,Ry=Sy.default,Oy={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Cy.encode,encodeValuesOnly:!1,format:Ry,formatter:Sy.formatters[Ry],indices:!1,serializeDate:function(e){return By.call(e)},skipNulls:!1,strictNullHandling:!1},Fy={},My=function e(t,r,n,i,o,s,a,l,u,c,d,h,f,p,m,g){for(var v=t,y=g,_=0,b=!1;void 0!==(y=y.get(Fy))&&!b;){var x=y.get(t);if(_+=1,void 0!==x){if(x===_)throw new RangeError("Cyclic object value");b=!0}void 0===y.get(Fy)&&(_=0)}if("function"==typeof l?v=l(r,v):v instanceof Date?v=d(v):"comma"===n&&Dy(v)&&(v=Cy.maybeMap(v,(function(e){return e instanceof Date?d(e):e}))),null===v){if(o)return a&&!p?a(r,Oy.encoder,m,"key",h):r;v=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(v)||Cy.isBuffer(v))return a?[f(p?r:a(r,Oy.encoder,m,"key",h))+"="+f(a(v,Oy.encoder,m,"value",h))]:[f(r)+"="+f(String(v))];var w,E=[];if(void 0===v)return E;if("comma"===n&&Dy(v))p&&a&&(v=Cy.maybeMap(v,a)),w=[{value:v.length>0?v.join(",")||null:void 0}];else if(Dy(l))w=l;else{var C=Object.keys(v);w=u?C.sort(u):C}for(var S=i&&Dy(v)&&1===v.length?r+"[]":r,A=0;A<w.length;++A){var T=w[A],D="object"==typeof T&&void 0!==T.value?T.value:v[T];if(!s||null!==D){var k=Dy(v)?"function"==typeof n?n(S,T):S:S+(c?"."+T:"["+T+"]");g.set(t,_);var P=Ey();P.set(Fy,g),Py(E,e(D,k,n,i,o,s,"comma"===n&&p&&Dy(v)?null:a,l,u,c,d,h,f,p,m,P))}}return E},Iy=wy,Ny=Object.prototype.hasOwnProperty,Ly=Array.isArray,Uy={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Iy.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},jy=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},zy=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Gy=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,l=[];if(a){if(!r.plainObjects&&Ny.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var u=0;r.depth>0&&null!==(s=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&Ny.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:zy(t,r),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(l,10);r.parseArrays||""!==l?!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(l,t,r,n)}},Vy=function(e,t){var r,n=e,i=function(e){if(!e)return Oy;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Oy.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Sy.default;if(void 0!==e.format){if(!Ay.call(Sy.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Sy.formatters[r],i=Oy.filter;return("function"==typeof e.filter||Dy(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Oy.addQueryPrefix,allowDots:void 0===e.allowDots?Oy.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Oy.charsetSentinel,delimiter:void 0===e.delimiter?Oy.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Oy.encode,encoder:"function"==typeof e.encoder?e.encoder:Oy.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Oy.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Oy.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Oy.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Oy.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):Dy(i.filter)&&(r=i.filter);var o,s=[];if("object"!=typeof n||null===n)return"";o=t&&t.arrayFormat in Ty?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var a=Ty[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l="comma"===a&&t&&t.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var u=Ey(),c=0;c<r.length;++c){var d=r[c];i.skipNulls&&null===n[d]||Py(s,My(n[d],d,a,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var h=s.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""},Hy=function(e,t){var r=function(e){if(!e)return Uy;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Uy.charset:e.charset;return{allowDots:void 0===e.allowDots?Uy.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Uy.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Uy.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Uy.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Uy.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Uy.comma,decoder:"function"==typeof e.decoder?e.decoder:Uy.decoder,delimiter:"string"==typeof e.delimiter||Iy.isRegExp(e.delimiter)?e.delimiter:Uy.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Uy.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Uy.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Uy.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Uy.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Uy.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[r]?l="utf-8":"utf8=%26%2310003%3B"===s[r]&&(l="iso-8859-1"),a=r,r=s.length);for(r=0;r<s.length;++r)if(r!==a){var u,c,d=s[r],h=d.indexOf("]="),f=-1===h?d.indexOf("="):h+1;-1===f?(u=t.decoder(d,Uy.decoder,l,"key"),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),Uy.decoder,l,"key"),c=Iy.maybeMap(zy(d.slice(f+1),t),(function(e){return t.decoder(e,Uy.decoder,l,"value")}))),c&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=jy(c)),d.indexOf("[]=")>-1&&(c=Ly(c)?[c]:c),Ny.call(n,u)?n[u]=Iy.combine(n[u],c):n[u]=c}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=Gy(a,n[a],r,"string"==typeof e);i=Iy.merge(i,l,r)}return!0===r.allowSparse?i:Iy.compact(i)},Wy={formats:gy,parse:Hy,stringify:Vy},$y=Xm;function Yy(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Xy=/^([a-z0-9.+-]+:)/i,qy=/:[0-9]*$/,Ky=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Zy=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Qy=["'"].concat(Zy),Jy=["%","/","?",";","#"].concat(Qy),e_=["/","?","#"],t_=/^[+a-z0-9A-Z_-]{0,63}$/,r_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,n_={javascript:!0,"javascript:":!0},i_={javascript:!0,"javascript:":!0},o_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},s_=Wy;function a_(e,t,r){if(e&&"object"==typeof e&&e instanceof Yy)return e;var n=new Yy;return n.parse(e,t,r),n}Yy.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&1===e.split("#").length){var a=Ky.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?s_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=Xy.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var c="//"===s.substr(0,2);!c||l&&i_[l]||(s=s.substr(2),this.slashes=!0)}if(!i_[l]&&(c||l&&!o_[l])){for(var d,h,f=-1,p=0;p<e_.length;p++)-1!==(m=s.indexOf(e_[p]))&&(-1===f||m<f)&&(f=m);for(-1!==(h=-1===f?s.lastIndexOf("@"):s.lastIndexOf("@",f))&&(d=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(d)),f=-1,p=0;p<Jy.length;p++){var m;-1!==(m=s.indexOf(Jy[p]))&&(-1===f||m<f)&&(f=m)}-1===f&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),y=(p=0,v.length);p<y;p++){var _=v[p];if(_&&!_.match(t_)){for(var b="",x=0,w=_.length;x<w;x++)_.charCodeAt(x)>127?b+="x":b+=_[x];if(!b.match(t_)){var E=v.slice(0,p),C=v.slice(p+1),S=_.match(r_);S&&(E.push(S[1]),C.unshift(S[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=$y.toASCII(this.hostname));var A=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+A,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!n_[u])for(p=0,y=Qy.length;p<y;p++){var D=Qy[p];if(-1!==s.indexOf(D)){var k=encodeURIComponent(D);k===D&&(k=escape(D)),s=s.split(D).join(k)}}var P=s.indexOf("#");-1!==P&&(this.hash=s.substr(P),s=s.slice(0,P));var B=s.indexOf("?");if(-1!==B?(this.search=s.substr(B),this.query=s.substr(B+1),t&&(this.query=s_.parse(this.query)),s=s.slice(0,B)):t&&(this.search="",this.query={}),s&&(this.pathname=s),o_[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var R=this.search||"";this.path=A+R}return this.href=this.format(),this},Yy.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=s_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||o_[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),t+i+r+(s=s.replace("#","%23"))+n},Yy.prototype.resolve=function(e){return this.resolveObject(a_(e,!1,!0)).format()},Yy.prototype.resolveObject=function(e){if("string"==typeof e){var t=new Yy;t.parse(e,!1,!0),e=t}for(var r=new Yy,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(r[l]=e[l])}return o_[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!o_[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var d=u[c];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||i_[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",p=r.search||"";r.path=f+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||r.host&&e.pathname,y=v,_=r.pathname&&r.pathname.split("/")||[],b=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!o_[r.protocol]);if(b&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),v=v&&(""===h[0]||""===_[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),r.search=e.search,r.query=e.query;else if(null!=e.search)return b&&(r.host=_.shift(),r.hostname=r.host,(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=_.slice(-1)[0],w=(r.host||e.host||_.length>1)&&("."===x||".."===x)||""===x,E=0,C=_.length;C>=0;C--)"."===(x=_[C])?_.splice(C,1):".."===x?(_.splice(C,1),E++):E&&(_.splice(C,1),E--);if(!v&&!y)for(;E--;E)_.unshift("..");!v||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),w&&"/"!==_.join("/").substr(-1)&&_.push("");var S,A=""===_[0]||_[0]&&"/"===_[0].charAt(0);return b&&(r.hostname=A?"":_.length?_.shift():"",r.host=r.hostname,(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)),(v=v||r.host&&_.length)&&!A&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Yy.prototype.parseHost=function(){var e=this.host,t=qy.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var l_=a_,u_=function(e,t){return a_(e,!1,!0).resolve(t)},c_=function(e){return"string"==typeof e&&(e=a_(e)),e instanceof Yy?e.format():Yy.prototype.format.call(e)};const d_={};function h_(e,t,r=3){if(d_[t])return;let n=(new Error).stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}\nDeprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`),console.warn(n))),d_[t]=!0}const f_={get parse(){return h_("7.3.0","utils.url.parse is deprecated, use native URL API instead."),l_},get format(){return h_("7.3.0","utils.url.format is deprecated, use native URL API instead."),c_},get resolve(){return h_("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),u_}};function p_(e){if("string"!=typeof e)throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function m_(e){return e.split("?")[0].split("#")[0]}const g_={toPosix:e=>function(e,t,r){return e.replace(new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"g"),r)}(e,"\\","/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){p_(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(p_(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const n=m_(this.toPosix(t??Zp.ADAPTER.getBaseUrl())),i=m_(this.toPosix(r??this.rootname(n)));return(e=this.toPosix(e)).startsWith("/")?g_.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(p_(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;let t="";const r=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return(e=function(e,t){let r="",n=0,i=-1,o=0,s=-1;for(let a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(47===s)break;s=47}if(47===s){if(i!==a-1&&1!==o)if(i!==a-1&&2===o){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){const e=r.lastIndexOf("/");if(e!==r.length-1){-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(2===r.length||1===r.length){r="",n=0,i=a,o=0;continue}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${e.slice(i+1,a)}`:r=e.slice(i+1,a),n=a-i-1;i=a,o=0}else 46===s&&-1!==o?++o:o=-1}return r}(e,!1)).length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return p_(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){if(0===e.length)return".";let t;for(let r=0;r<e.length;++r){const n=e[r];if(p_(n),n.length>0)if(void 0===t)t=n;else{const i=e[r-1]??"";this.extname(i)?t+=`/../${n}`:t+=`/${n}`}}return void 0===t?".":this.normalize(t)},dirname(e){if(p_(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const r=47===t;let n=-1,i=!0;const o=this.getProtocol(e),s=e;for(let a=(e=e.slice(o.length)).length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":this.isUrl(s)?o+e:o:r&&1===n?"//":o+e.slice(0,n)},rootname(e){p_(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);t=-1!==r?e.slice(0,r):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){p_(e),t&&p_(t),e=m_(this.toPosix(e));let r,n=0,i=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let s=t.length-1,a=-1;for(r=e.length-1;r>=0;--r){const l=e.charCodeAt(r);if(47===l){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname(e){p_(e);let t=-1,r=0,n=-1,i=!0,o=0;for(let s=(e=m_(this.toPosix(e))).length-1;s>=0;--s){const a=e.charCodeAt(s);if(47!==a)-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){p_(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let r=(e=m_(this.toPosix(e))).charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),i=n||this.hasProtocol(e)?1:0;let o=-1,s=0,a=-1,l=!0,u=e.length-1,c=0;for(;u>=i;--u)if(r=e.charCodeAt(u),47!==r)-1===a&&(l=!1,a=u+1),46===r?-1===o?o=u:1!==c&&(c=1):-1!==o&&(c=-1);else if(!l){s=u+1;break}return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(t.base=t.name=0===s&&n?e.slice(1,a):e.slice(s,a)):(0===s&&n?(t.name=e.slice(1,o),t.base=e.slice(1,a)):(t.name=e.slice(s,o),t.base=e.slice(s,a)),t.ext=e.slice(o,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};let v_,y_;async function __(){return v_??(v_=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return Gp.UNPACK;const t=await new Promise((e=>{const t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()}));if(!t)return Gp.UNPACK;const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(n),e.deleteTexture(r),e.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?Gp.PMA:Gp.UNPACK})()),v_}function b_(){return typeof y_>"u"&&(y_=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:Zp.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Zp.ADAPTER.getWebGLRenderingContext())return!1;const t=Zp.ADAPTER.createCanvas();let r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);const n=!!r?.getContextAttributes()?.stencil;if(r){const e=r.getExtension("WEBGL_lose_context");e&&e.loseContext()}return r=null,n}catch{return!1}}()),y_}var x_={grad:.9,turn:360,rad:360/(2*Math.PI)},w_=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},E_=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},C_=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},S_=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},A_=function(e){return{r:C_(e.r,0,255),g:C_(e.g,0,255),b:C_(e.b,0,255),a:C_(e.a)}},T_=function(e){return{r:E_(e.r),g:E_(e.g),b:E_(e.b),a:E_(e.a,3)}},D_=/^#([0-9a-f]{3,8})$/i,k_=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},P_=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),a=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},B_=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),a=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),u=o%6;return{r:255*[n,a,s,s,l,n][u],g:255*[l,n,n,a,s,s][u],b:255*[s,s,l,n,n,a][u],a:i}},R_=function(e){return{h:S_(e.h),s:C_(e.s,0,100),l:C_(e.l,0,100),a:C_(e.a)}},O_=function(e){return{h:E_(e.h),s:E_(e.s),l:E_(e.l),a:E_(e.a,3)}},F_=function(e){return B_((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},M_=function(e){return{h:(t=P_(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},I_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,U_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,j_={string:[[function(e){var t=D_.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?E_(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?E_(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=L_.exec(e)||U_.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:A_({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=I_.exec(e)||N_.exec(e);if(!t)return null;var r,n,i=R_({h:(r=t[1],n=t[2],void 0===n&&(n="deg"),Number(r)*(x_[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return F_(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=void 0===i?1:i;return w_(t)&&w_(r)&&w_(n)?A_({r:Number(t),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,o=void 0===i?1:i;if(!w_(t)||!w_(r)||!w_(n))return null;var s=R_({h:Number(t),s:Number(r),l:Number(n),a:Number(o)});return F_(s)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,o=void 0===i?1:i;if(!w_(t)||!w_(r)||!w_(n))return null;var s=function(e){return{h:S_(e.h),s:C_(e.s,0,100),v:C_(e.v,0,100),a:C_(e.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(o)});return B_(s)},"hsv"]]},z_=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},G_=function(e,t){var r=M_(e);return{h:r.h,s:C_(r.s+100*t,0,100),l:r.l,a:r.a}},V_=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},H_=function(e,t){var r=M_(e);return{h:r.h,s:r.s,l:C_(r.l+100*t,0,100),a:r.a}},W_=function(){function e(e){this.parsed=function(e){return"string"==typeof e?z_(e.trim(),j_.string):"object"==typeof e&&null!==e?z_(e,j_.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return E_(V_(this.rgba),2)},e.prototype.isDark=function(){return V_(this.rgba)<.5},e.prototype.isLight=function(){return V_(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=T_(this.rgba)).r,r=e.g,n=e.b,o=(i=e.a)<1?k_(E_(255*i)):"","#"+k_(t)+k_(r)+k_(n)+o;var e,t,r,n,i,o},e.prototype.toRgb=function(){return T_(this.rgba)},e.prototype.toRgbString=function(){return t=(e=T_(this.rgba)).r,r=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+n+", "+i+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,i},e.prototype.toHsl=function(){return O_(M_(this.rgba))},e.prototype.toHslString=function(){return t=(e=O_(M_(this.rgba))).h,r=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+i+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,i},e.prototype.toHsv=function(){return e=P_(this.rgba),{h:E_(e.h),s:E_(e.s),v:E_(e.v),a:E_(e.a,3)};var e},e.prototype.invert=function(){return $_({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),$_(G_(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),$_(G_(this.rgba,-e))},e.prototype.grayscale=function(){return $_(G_(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),$_(H_(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),$_(H_(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?$_({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):E_(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=M_(this.rgba);return"number"==typeof e?$_({h:e,s:t.s,l:t.l,a:t.a}):E_(t.h)},e.prototype.isEqual=function(e){return this.toHex()===$_(e).toHex()},e}(),$_=function(e){return e instanceof W_?e:new W_(e)},Y_=[];!function(e){e.forEach((function(e){Y_.indexOf(e)<0&&(e(W_,j_),Y_.push(e))}))}([function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,s,a=n[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!o.length)for(var d in r)o[d]=new e(r[d]).toRgb();for(var h in r){var f=(i=l,s=o[h],Math.pow(i.r-s.r,2)+Math.pow(i.g-s.g,2)+Math.pow(i.b-s.b,2));f<u&&(u=f,c=h)}return c}},t.string.push([function(t){var n=t.toLowerCase(),i="transparent"===n?"#0000":r[n];return i?new e(i).toRgb():null},"name"])}]);const X_=class e{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if("number"===r||"string"===r||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every(((e,r)=>e===t[r]));if(null!==e&&null!==t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((r=>e[r]===t[r]))}return e===t}toRgba(){const[e,t,r,n]=this._components;return{r:e,g:t,b:r,a:n}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,n]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*n),e}toRgbArray(e){e=e??[];const[t,r,n]=this._components;return e[0]=t,e[1]=r,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[r,n,i,o]=e.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=255&this._int;return t&&(r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0),(255*e<<24)+(r<<16)+(n<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,n]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,n,i]=this._components;return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}normalize(t){let r,n,i,o;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215)r=(t>>16&255)/255,n=(t>>8&255)/255,i=(255&t)/255,o=1;else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,n,i,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,n,i,o=255]=t,r/=255,n/=255,i/=255,o/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const r=e.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}const s=$_(t);s.isValid()&&(({r:r,g:n,b:i,a:o}=s.rgba),r/=255,n/=255,i/=255)}if(void 0===r)throw new Error(`Unable to convert color ${t}`);this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=o,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(e,t=0,r=1){return"number"==typeof e?Math.min(Math.max(e,t),r):(e.forEach(((n,i)=>{e[i]=Math.min(Math.max(n,t),r)})),e)}};X_.shared=new X_,X_.temp=new X_,X_.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let q_=X_;function K_(e){return h_("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),q_.shared.setValue(e).toHex()}function Z_(e){return h_("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),q_.shared.setValue(e).toNumber()}const Q_=function(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[Op.NORMAL_NPM]=Op.NORMAL,e[Op.ADD_NPM]=Op.ADD,e[Op.SCREEN_NPM]=Op.SCREEN,t[Op.NORMAL]=Op.NORMAL_NPM,t[Op.ADD]=Op.ADD_NPM,t[Op.SCREEN]=Op.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}();function J_(e,t){return Q_[t?1:0][e]}const eb=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function tb(e,t=null){const r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function rb(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}const nb={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function ib(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function ob(e){return!(e&e-1||!e)}function sb(e){let t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,r=((e>>>=r)>15?1:0)<<2,t|=r,r=((e>>>=r)>3?1:0)<<1,t|=r,t|(e>>>=r)>>1}function ab(e,t,r){const n=e.length;let i;if(t>=n||0===r)return;const o=n-(r=t+r>n?n-t:r);for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}function lb(e){return 0===e?0:e<0?-1:1}let ub=0;function cb(){return++ub}const db=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};db.EMPTY=new db(0,0,0,0);let hb=db;const fb={},pb=Object.create(null),mb=Object.create(null);class gb{constructor(e,t,r){this._canvas=Zp.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Zp.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function vb(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(0!==e[i+3])return!1;return!0}function yb(e,t,r,n,i){const o=4*t;for(let s=n,a=n*o+4*r;s<=i;++s,a+=o)if(0!==e[a+3])return!1;return!0}function _b(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,t,r).data;let o=0,s=0,a=t-1,l=r-1;for(;s<r&&vb(i,t,s);)++s;if(s===r)return hb.EMPTY;for(;vb(i,t,l);)--l;for(;yb(i,t,o,s,l);)++o;for(;yb(i,t,a,s,l);)--a;return++a,++l,new hb(o,s,a,l)}function bb(e){const t=_b(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const o=e.getContext("2d");if(null===o)throw new TypeError("Failed to get canvas 2D context");i=o.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}function xb(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function wb(e,t=1){const r=Zp.RETINA_PREFIX?.exec(e);return r?parseFloat(r[1]):t}const Eb=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:mb,BoundingBox:hb,CanvasRenderTarget:gb,DATA_URI:eb,EventEmitter:vm,ProgramCache:fb,TextureCache:pb,clearTextureCache:function(){let e;for(e in pb)delete pb[e];for(e in mb)delete mb[e]},correctBlendMode:J_,createIndicesForQuads:tb,decomposeDataUri:function(e){const t=eb.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:h_,destroyTextureCache:function(){let e;for(e in pb)pb[e].destroy();for(e in mb)mb[e].destroy()},detectVideoAlphaMode:__,determineCrossOrigin:xb,earcut:Wm,getBufferType:rb,getCanvasBoundingBox:_b,getResolutionOfUrl:wb,hex2rgb:function(e,t=[]){return h_("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),q_.shared.setValue(e).toRgbArray(t)},hex2string:K_,interleaveTypedArrays:function(e,t){let r=0,n=0;const i={};for(let l=0;l<e.length;l++)n+=t[l],r+=e[l].length;const o=new ArrayBuffer(4*r);let s=null,a=0;for(let l=0;l<e.length;l++){const r=t[l],u=e[l],c=rb(u);i[c]||(i[c]=new nb[c](o)),s=i[c];for(let e=0;e<u.length;e++)s[(e/r|0)*n+a+e%r]=u[e];a+=r}return new Float32Array(o)},isMobile:mm,isPow2:ob,isWebGLSupported:b_,log2:sb,nextPow2:ib,path:g_,premultiplyBlendMode:Q_,premultiplyRgba:function(e,t,r,n=!0){return h_("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),q_.shared.setValue(e).premultiply(t,n).toArray(r??new Float32Array(4))},premultiplyTint:function(e,t){return h_("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),q_.shared.setValue(e).toPremultiplied(t)},premultiplyTintToRgba:function(e,t,r,n=!0){return h_("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),q_.shared.setValue(e).premultiply(t,n).toArray(r??new Float32Array(4))},removeItems:ab,rgb2hex:Z_,sayHello:function(){h_("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},sign:lb,skipHello:function(){h_("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")},string2hex:function(e){return h_("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),q_.shared.setValue(e).toNumber()},trimCanvas:bb,uid:cb,url:f_},Symbol.toStringTag,{value:"Module"}));var Cb=e("E",(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(Cb||{}));const Sb=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},Ab=(e,t)=>Sb(e).priority??t,Tb=e("g",{_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(Sb).forEach((e=>{e.type.forEach((t=>this._removeHandlers[t]?.(e)))})),this},add(...e){return e.map(Sb).forEach((e=>{e.type.forEach((t=>{const r=this._addHandlers,n=this._queue;r[t]?r[t](e):(n[t]=n[t]||[],n[t].push(e))}))})),this},handle(e,t,r){const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const o=this._queue;return o[e]&&(o[e].forEach((e=>t(e))),delete o[e]),this},handleByMap(e,t){return this.handle(e,(e=>{t[e.name]=e.ref}),(e=>{delete t[e.name]}))},handleByList(e,t,r=-1){return this.handle(e,(e=>{t.includes(e.ref)||(t.push(e.ref),t.sort(((e,t)=>Ab(t,r)-Ab(e,r))))}),(e=>{const r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)}))}});class Db{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const kb=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Pb(e){let t="";for(let r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function Bb(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=kb.replace(/%forloop%/gi,Pb(e));if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}class Rb{constructor(){this.data=0,this.blendMode=Op.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Op.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Rb;return e.depthTest=!1,e.blend=!0,e}}Rb.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Ob=[];function Fb(e,t){if(!e)return null;let r="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(r=t[1].toLowerCase())}for(let n=Ob.length-1;n>=0;--n){const i=Ob[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Mb{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,n,i,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let c=0,d=u.length;c<d;c++)u[c][l](e,t,r,n,i,o,s,a);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(Mb.prototype,{dispatch:{value:Mb.prototype.emit},run:{value:Mb.prototype.emit}});class Ib{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Mb("setRealSize"),this.onUpdate=new Mb("update"),this.onError=new Mb("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Nb extends Ib{constructor(e,t){const{width:r,height:n}=t||{};if(!r||!n)throw new Error("BufferResource width or height invalid");super(r,n),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Gp.UNPACK);const i=t.realWidth,o=t.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(t.target,0,0,0,i,o,t.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Lb={scaleMode:Up.NEAREST,alphaMode:Gp.NPM},Ub=class e extends vm{constructor(t=null,r=null){super(),r=Object.assign({},e.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:o,scaleMode:s,width:a,height:l,wrapMode:u,format:c,type:d,target:h,resolution:f,resourceOptions:p}=r;t&&!(t instanceof Ib)&&((t=Fb(t,p)).internal=!0),this.resolution=f||Zp.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=o,this._wrapMode=u,this._scaleMode=s,this.format=c,this.type=d,this.target=h,this.alphaMode=n,this.uid=cb(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=ob(this.realWidth)&&ob(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete mb[this.cacheId],delete pb[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,n=Zp.STRICT_TEXTURE_CACHE){const i="string"==typeof t;let o=null;if(i)o=t;else{if(!t._pixiId){const e=r?.pixiIdPrefix||"pixiid";t._pixiId=`${e}_${cb()}`}o=t._pixiId}let s=mb[o];if(i&&n&&!s)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return s||(s=new e(t,r),s.cacheId=o,e.addToCache(s,o)),s}static fromBuffer(t,r,n,i){t=t||new Float32Array(r*n*4);const o=new Nb(t,{width:r,height:n,...i?.resourceOptions});let s,a;return t instanceof Float32Array?(s=Mp.RGBA,a=Np.FLOAT):t instanceof Int32Array?(s=Mp.RGBA_INTEGER,a=Np.INT):t instanceof Uint32Array?(s=Mp.RGBA_INTEGER,a=Np.UNSIGNED_INT):t instanceof Int16Array?(s=Mp.RGBA_INTEGER,a=Np.SHORT):t instanceof Uint16Array?(s=Mp.RGBA_INTEGER,a=Np.UNSIGNED_SHORT):t instanceof Int8Array?(s=Mp.RGBA,a=Np.BYTE):(s=Mp.RGBA,a=Np.UNSIGNED_BYTE),o.internal=!0,new e(o,Object.assign({},Lb,{type:a,format:s},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),mb[t]&&mb[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),mb[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=mb[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete mb[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete mb[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Ub.defaultOptions={mipmap:zp.POW2,anisotropicLevel:0,scaleMode:Up.LINEAR,wrapMode:jp.CLAMP,alphaMode:Gp.UNPACK,target:Ip.TEXTURE_2D,format:Mp.RGBA,type:Np.UNSIGNED_BYTE},Ub._globalBatch=0;let jb=Ub;class zb{constructor(){this.texArray=null,this.blend=0,this.type=Fp.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Gb=0,Vb=class e{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Gb++,this.disposeRunner=new Mb("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?qp.ELEMENT_ARRAY_BUFFER:qp.ARRAY_BUFFER}get index(){return this.type===qp.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}};class Hb{constructor(e,t=0,r=!1,n=Np.FLOAT,i,o,s,a=1){this.buffer=e,this.size=t,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=s,this.divisor=a}destroy(){this.buffer=null}static from(e,t,r,n,i){return new Hb(e,t,r,n,i)}}const Wb={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},$b={5126:4,5123:2,5121:1};let Yb=0;const Xb={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class qb{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Yb++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Mb("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,n=!1,i,o,s,a=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Vb||(t instanceof Array&&(t=new Float32Array(t)),t=new Vb(t));const l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,r,n,i);return this}let u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new Hb(u,r,n,i,o,s,a),this.instanced=this.instanced||a,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Vb||(e instanceof Array&&(e=new Uint16Array(e)),e=new Vb(e)),e.type=qp.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],r=new Vb;let n;for(n in this.attributes){const r=this.attributes[n],i=this.buffers[r.buffer];e.push(i.data),t.push(r.size*$b[r.type]/4),r.buffer=0}for(r.data=function(e,t){let r=0,n=0;const i={};for(let l=0;l<e.length;l++)n+=t[l],r+=e[l].length;const o=new ArrayBuffer(4*r);let s=null,a=0;for(let l=0;l<e.length;l++){const r=t[l],u=e[l],c=rb(u);i[c]||(i[c]=new Wb[c](o)),s=i[c];for(let e=0;e<u.length;e++)s[(e/r|0)*n+a+e%r]=u[e];a+=r}return new Float32Array(o)}(e,t),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new qb;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Vb(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Hb(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=qp.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new qb,r=[],n=[],i=[];let o;for(let s=0;s<e.length;s++){o=e[s];for(let e=0;e<o.buffers.length;e++)n[e]=n[e]||0,n[e]+=o.buffers[e].data.length,i[e]=0}for(let s=0;s<o.buffers.length;s++)r[s]=new(Xb[rb(o.buffers[s].data)])(n[s]),t.buffers[s]=new Vb(r[s]);for(let s=0;s<e.length;s++){o=e[s];for(let e=0;e<o.buffers.length;e++)r[e].set(o.buffers[e].data,i[e]),i[e]+=o.buffers[e].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=qp.ELEMENT_ARRAY_BUFFER;let r=0,n=0,i=0,s=0;for(let e=0;e<o.buffers.length;e++)if(o.buffers[e]!==o.indexBuffer){s=e;break}for(const e in o.attributes){const t=o.attributes[e];(0|t.buffer)===s&&(n+=t.size*$b[t.type]/4)}for(let o=0;o<e.length;o++){const a=e[o].indexBuffer.data;for(let e=0;e<a.length;e++)t.indexBuffer.data[e+i]+=r;r+=e[o].buffers[s].data.length/n,i+=a.length}}return t}}class Kb extends qb{constructor(e=!1){super(),this._buffer=new Vb(null,e,!1),this._indexBuffer=new Vb(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Np.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Np.FLOAT).addAttribute("aColor",this._buffer,4,!0,Np.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Np.FLOAT).addIndex(this._indexBuffer)}}const Zb=2*Math.PI,Qb=180/Math.PI,Jb=Math.PI/180;var ex=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(ex||{});let tx=class e{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}};tx.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const rx=[new tx,new tx,new tx,new tx];class nx{constructor(e=0,t=0,r=0,n=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(n),this.type=ex.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new nx(0,0,0,0)}clone(){return new nx(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}const r=this.left,n=this.right,i=this.top,o=this.bottom;if(n<=r||o<=i)return!1;const s=rx[0].set(e.left,e.top),a=rx[1].set(e.left,e.bottom),l=rx[2].set(e.right,e.top),u=rx[3].set(e.right,e.bottom);if(l.x<=s.x||a.y<=s.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(s,s),t.apply(a,a),t.apply(l,l),t.apply(u,u),Math.max(s.x,a.x,l.x,u.x)<=r||Math.min(s.x,a.x,l.x,u.x)>=n||Math.max(s.y,a.y,l.y,u.y)<=i||Math.min(s.y,a.y,l.y,u.y)>=o))return!1;const d=c*(a.y-s.y),h=c*(s.x-a.x),f=d*r+h*i,p=d*n+h*i,m=d*r+h*o,g=d*n+h*o;if(Math.max(f,p,m,g)<=d*s.x+h*s.y||Math.min(f,p,m,g)>=d*u.x+h*u.y)return!1;const v=c*(s.y-l.y),y=c*(l.x-s.x),_=v*r+y*i,b=v*n+y*i,x=v*r+y*o,w=v*n+y*o;return!(Math.max(_,b,x,w)<=v*s.x+y*s.y||Math.min(_,b,x,w)>=v*u.x+y*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this}}e("R",nx),nx.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ix{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=ex.CIRC}clone(){return new ix(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let n=this.x-e,i=this.y-t;return n*=n,i*=i,n+i<=r}getBounds(){return new nx(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}ix.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class ox{constructor(e=0,t=0,r=0,n=0){this.x=e,this.y=t,this.width=r,this.height=n,this.type=ex.ELIP}clone(){return new ox(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,n=(t-this.y)/this.height;return r*=r,n*=n,r+n<=1}getBounds(){return new nx(this.x-this.width,this.y-this.height,this.width,this.height)}}ox.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class sx{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r].x,t[r].y);t=e}this.points=t,this.type=ex.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new sx(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const n=this.points.length/2;for(let i=0,o=n-1;i<n;o=i++){const n=this.points[2*i],s=this.points[2*i+1],a=this.points[2*o],l=this.points[2*o+1];s>t!=l>t&&e<(t-s)/(l-s)*(a-n)+n&&(r=!r)}return r}}sx.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((e,t)=>`${e}, ${t}`),"")}]`};class ax{constructor(e=0,t=0,r=0,n=0,i=20){this.x=e,this.y=t,this.width=r,this.height=n,this.radius=i,this.type=ex.RREC}clone(){return new ax(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let n=e-(this.x+r),i=t-(this.y+r);const o=r*r;if(n*n+i*i<=o||(n=e-(this.x+this.width-r),n*n+i*i<=o)||(i=t-(this.y+this.height-r),n*n+i*i<=o)||(n=e-(this.x+r),n*n+i*i<=o))return!0}return!1}}ax.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class lx{constructor(e=1,t=0,r=0,n=1,i=0,o=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,n,i,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new tx;const r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t}applyInverse(e,t){t=t||new tx;const r=1/(this.a*this.d+this.c*-this.b),n=e.x,i=e.y;return t.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),n=this.a,i=this.c,o=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this}append(e){const t=this.a,r=this.b,n=this.c,i=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this}setTransform(e,t,r,n,i,o,s,a,l){return this.a=Math.cos(s+l)*i,this.b=Math.sin(s+l)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,r=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,n=this.c,i=this.d,o=e.pivot,s=-Math.atan2(-n,i),a=Math.atan2(r,t),l=Math.abs(s+a);return l<1e-5||Math.abs(Zb-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+i*i),e.position.x=this.tx+(o.x*t+o.y*n),e.position.y=this.ty+(o.x*r+o.y*i),e}invert(){const e=this.a,t=this.b,r=this.c,n=this.d,i=this.tx,o=e*n-t*r;return this.a=n/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(e*this.ty-t*i)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new lx;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new lx}static get TEMP_MATRIX(){return new lx}}lx.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],cx=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],dx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],hx=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],fx=[],px=[],mx=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];fx.push(t);for(let r=0;r<16;r++){const n=mx(ux[e]*ux[r]+dx[e]*cx[r]),i=mx(cx[e]*ux[r]+hx[e]*cx[r]),o=mx(ux[e]*dx[r]+dx[e]*hx[r]),s=mx(cx[e]*dx[r]+hx[e]*hx[r]);for(let e=0;e<16;e++)if(ux[e]===n&&cx[e]===i&&dx[e]===o&&hx[e]===s){t.push(e);break}}}for(let e=0;e<16;e++){const t=new lx;t.set(ux[e],cx[e],dx[e],hx[e],0,0),px.push(t)}}();const gx={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>ux[e],uY:e=>cx[e],vX:e=>dx[e],vY:e=>hx[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>fx[e][t],sub:(e,t)=>fx[e][gx.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?gx.S:gx.N:2*Math.abs(t)<=Math.abs(e)?e>0?gx.E:gx.W:t>0?e>0?gx.SE:gx.SW:e>0?gx.NE:gx.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=px[gx.inv(t)];i.tx=r,i.ty=n,e.append(i)}};class vx{constructor(e,t,r=0,n=0){this._x=r,this._y=n,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new vx(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}vx.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const yx=class{constructor(){this.worldTransform=new lx,this.localTransform=new lx,this.position=new vx(this.onChange,this,0,0),this.scale=new vx(this.onChange,this,1,1),this.pivot=new vx(this.onChange,this,0,0),this.skew=new vx(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};yx.IDENTITY=new yx;let _x=yx;function bx(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function xx(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function wx(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return xx(2*t);case"bvec3":return xx(3*t);case"bvec4":return xx(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}_x.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};const Ex=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`\n            if(uv["${e}"] !== ud["${e}"].value)\n            {\n                ud["${e}"].value = uv["${e}"]\n                gl.uniform1f(ud["${e}"].location, uv["${e}"])\n            }\n            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${e}"], t);\n\n            if(ud["${e}"].value !== t)\n            {\n                ud["${e}"].value = t;\n                gl.uniform1i(ud["${e}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`\n            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));\n            `,codeUbo:e=>`\n                var ${e}_matrix = uv.${e}.toArray(true);\n\n                data[offset] = ${e}_matrix[0];\n                data[offset+1] = ${e}_matrix[1];\n                data[offset+2] = ${e}_matrix[2];\n        \n                data[offset + 4] = ${e}_matrix[3];\n                data[offset + 5] = ${e}_matrix[4];\n                data[offset + 6] = ${e}_matrix[5];\n        \n                data[offset + 8] = ${e}_matrix[6];\n                data[offset + 9] = ${e}_matrix[7];\n                data[offset + 10] = ${e}_matrix[8];\n            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${e}"].location, v.x, v.y);\n                }`,codeUbo:e=>`\n                v = uv.${e};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);\n                }\n            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])\n                }`}],Cx={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Sx={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Ax={};let Tx,Dx=Ax;function kx(){if(Dx===Ax||Dx?.isContextLost()){const e=Zp.ADAPTER.createCanvas();let t;Zp.PREFER_ENV>=Pp.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Dx=t}return Dx}function Px(e,t){const r=e.getShaderSource(t).split("\n").map(((e,t)=>`${t}: ${e}`)),n=e.getShaderInfoLog(t),i=n.split("\n"),o={},s=i.map((e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((e=>!(!e||o[e]||(o[e]=!0,0)))),a=[""];s.forEach((e=>{r[e-1]=`%c${r[e-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const l=r.join("\n");a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}const Bx={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Rx(e){return Bx[e]}let Ox=null;const Fx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Mx(e,t){if(!Ox){const t=Object.keys(Fx);Ox={};for(let r=0;r<t.length;++r){const n=t[r];Ox[e[n]]=Fx[n]}}return Ox[t]}function Ix(e,t,r){if("precision"!==e.substring(0,9)){let n=t;return t===Wp.HIGH&&r!==Wp.HIGH&&(n=Wp.MEDIUM),`precision ${n} float;\n${e}`}return r!==Wp.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let Nx;function Lx(){if("boolean"==typeof Nx)return Nx;try{Nx=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{Nx=!1}return Nx}let Ux=0;const jx={},zx=class e{constructor(t,r,n="pixi-shader",i={}){this.extra={},this.id=Ux++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),jx[n]?(jx[n]++,n+=`-${jx[n]}`):jx[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}\n${this.fragmentSrc}`,this.vertexSrc=Ix(this.vertexSrc,e.defaultVertexPrecision,Wp.HIGH),this.fragmentSrc=Ix(this.fragmentSrc,e.defaultFragmentPrecision,function(){if(!Tx){Tx=Wp.MEDIUM;const e=kx();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(Tx=t.precision?Wp.HIGH:Wp.MEDIUM)}}return Tx}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(t,r,n){const i=t+r;let o=fb[i];return o||(fb[i]=o=new e(t,r,n)),o}};zx.defaultVertexPrecision=Wp.HIGH,zx.defaultFragmentPrecision=mm.apple.device?Wp.HIGH:Wp.MEDIUM;let Gx=zx,Vx=0;class Hx{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Vx++,this.static=!!t,this.ubo=!!r,e instanceof Vb?(this.buffer=e,this.buffer.type=qp.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Vb(new Float32Array(1)),this.buffer.type=qp.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new Hx(t,r)}static from(e,t,r){return new Hx(e,t,r)}static uboFrom(e,t){return new Hx(e,t??!0,!0)}}class Wx{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof Hx?t:new Hx(t):new Hx({}),this.disposeRunner=new Mb("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const n=t.uniforms[r];if(!0===n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const n=Gx.from(e,t);return new Wx(n,r)}}class $x{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Hx.from({uSamplers:t},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,`${e}`),r=r.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Gx(this.vertexSrc,r)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new lx,default:this.defaultGroupCache[e]};return new Wx(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${r}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}class Yx{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class Xx{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const qx=class e extends Xx{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Kb,this.vertexSize=6,this.state=Rb.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??function(e){let t=!0;const r=Zp.ADAPTER.getNavigator();if(mm.tablet||mm.phone){if(mm.apple.device){const e=r.userAgent.match(/OS (\d+)_(\d+)?/);e&&parseInt(e[1],10)<11&&(t=!1)}if(mm.android.device){const e=r.userAgent.match(/Android\s([0-9.]*)/);e&&parseInt(e[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??!mm.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return h_("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:r=e.defaultFragmentTemplate}={}){this.shaderGenerator=new $x(t,r)}contextChange(){const t=this.renderer.gl;Zp.PREFER_ENV===Pp.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=Bb(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:r}=e,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new zb);for(;r.length<i;)r.push(new Yx);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:r}=this,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count;let a=++jb._globalBatch,l=0,u=n[0],c=0;i.copyBoundTextures(o,r);for(let e=0;e<this._bufferSize;++e){const d=t[e];t[e]=null,d._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,o,a,r),this.buildDrawCalls(u,c,e),c=e,u=n[++l],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(i.boundArray(u,o,a,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++a);for(let e=0;e<o.length;e++)o[e]=null;jb._globalBatch=a}buildDrawCalls(t,r,n){const{_bufferedElements:i,_attributeBuffer:o,_indexBuffer:s,vertexSize:a}=this,l=e._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,h=l[u];h.start=this._iIndex,h.texArray=t;for(let e=r;e<n;++e){const n=i[e],f=n._texture.baseTexture,p=Q_[f.alphaMode?1:0][n.blendMode];i[e]=null,r<e&&h.blend!==p&&(h.size=d-h.start,r=e,h=l[++u],h.texArray=t,h.start=d),this.packInterleavedGeometry(n,o,s,c,d),c+=n.vertexData.length/2*a,d+=n.indices.length,h.blend=p}r<n&&(h.size=d-h.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:n}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:r,state:n}=this.renderer,i=e._drawCallPool;let o=null;for(let e=0;e<t;e++){const{texArray:t,type:s,size:a,start:l,blend:u}=i[e];o!==t&&(o=t,this.bindAndClearTexArray(t)),this.state.blendMode=u,n.set(this.state),r.drawElements(s,a,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=ib(Math.ceil(e/8)),r=sb(t),n=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Db(n*this.vertexSize*4)),i}getIndexBuffer(e){const t=ib(Math.ceil(e/12)),r=sb(t),n=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(e,t,r,n,i){const{uint32View:o,float32View:s}=t,a=n/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,h=Math.min(e.worldAlpha,1),f=q_.shared.setValue(e._tintRGB).toPremultiplied(h,e._texture.baseTexture.alphaMode>0);for(let p=0;p<c.length;p+=2)s[n++]=c[p],s[n++]=c[p+1],s[n++]=l[p],s[n++]=l[p+1],o[n++]=f,s[n++]=d;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};qx.defaultBatchSize=4096,qx.extension={name:"batch",type:Cb.RendererPlugin},qx._drawCallPool=[],qx._textureArrayPool=[];let Kx=qx;Tb.add(Kx);const Zx=class e extends Wx{constructor(t,r,n){super(Gx.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),n),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Rb}apply(e,t,r,n,i){e.applyFilter(this,t,r,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};Zx.defaultResolution=1,Zx.defaultMultisample=Xp.NONE;let Qx=Zx;class Jx{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new q_(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:n}=e,i=r??t;void 0!==i&&(this.color=i),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Jx.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Jx.extension={type:[Cb.RendererSystem,Cb.CanvasRendererSystem],name:"background"},Tb.add(Jx);class ew{constructor(e){this.renderer=e,this.emptyRenderer=new Xx(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let n=t-1;n>=0;--n)e[n]=r[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,t,r,n){const{elements:i,ids:o,count:s}=e;let a=0;for(let l=0;l<s;l++){const e=i[l],s=e._batchLocation;if(s>=0&&s<n&&t[s]===e)o[l]=s;else for(;a<n;){const n=t[a];if(!n||n._batchEnabled!==r||n._batchLocation!==a){o[l]=a,e._batchLocation=a,t[a]=e;break}a++}}}destroy(){this.renderer=null}}ew.extension={type:Cb.RendererSystem,name:"batch"},Tb.add(ew);let tw=0;class rw{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=tw++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=tw++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Zp.PREFER_ENV>=Pp.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}rw.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},rw.extension={type:Cb.RendererSystem,name:"context"},Tb.add(rw);class nw{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Mb("disposeFramebuffer"),this.multisample=Xp.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new jb(null,{scaleMode:Up.NEAREST,resolution:1,mipmap:zp.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new jb(null,{scaleMode:Up.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:zp.OFF,format:Mp.DEPTH_COMPONENT,type:Np.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const n=this.colorTextures[r],i=n.resolution;n.setSize(e/i,t/i)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class iw extends jb{constructor(e={}){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Xp.NONE),super(null,e),this.mipmap=zp.OFF,this.valid=!0,this._clear=new q_([0,0,0,0]),this.framebuffer=new nw(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ow extends Ib{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.width,t.naturalHeight||t.videoHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=xb(t)}upload(e,t,r,n){const i=e.gl,o=t.realWidth,s=t.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Gp.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,t.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,r.type,n),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class sw extends ow{constructor(e,t){if(t=t||{},"string"==typeof e){const r=new Image;ow.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Zp.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(((e,t)=>{const r=this.source;this.url=r.src;const n=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?n():(r.onload=n,r.onerror=e=>{t(e),this.onError.emit(e)})}))),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((e=>e.blob())).then((r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Gp.UNPACK?"premultiply":"none"}))).then((e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0;const n=t._glTextures;for(const i in n){const o=n[i];if(o!==r&&o.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class aw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const n=t.width,i=t.height;if(r){const t=e.width/2/n,o=e.height/2/i,s=e.x/n+t,a=e.y/i+o;r=gx.add(r,gx.NW),this.x0=s+t*gx.uX(r),this.y0=a+o*gx.uY(r),r=gx.add(r,2),this.x1=s+t*gx.uX(r),this.y1=a+o*gx.uY(r),r=gx.add(r,2),this.x2=s+t*gx.uX(r),this.y2=a+o*gx.uY(r),r=gx.add(r,2),this.x3=s+t*gx.uX(r),this.y3=a+o*gx.uY(r)}else this.x0=e.x/n,this.y0=e.y/i,this.x1=(e.x+e.width)/n,this.y1=e.y/i,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/i,this.x3=e.x/n,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}aw.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const lw=new aw;function uw(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class cw extends vm{constructor(e,t,r,n,i,o,s){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new nx(0,0,1,1)),e instanceof cw&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=lw,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(i||0),!0===i)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new tx(o.x,o.y):new tx(0,0),this.defaultBorders=s,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;e?.url&&pb[e.url]&&cw.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,cw.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new cw(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===lw&&(this._uvs=new aw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Zp.STRICT_TEXTURE_CACHE){const n="string"==typeof e;let i=null;if(n)i=e;else if(e instanceof jb){if(!e.cacheId){const r=t?.pixiIdPrefix||"pixiid";e.cacheId=`${r}-${cb()}`,jb.addToCache(e,e.cacheId)}i=e.cacheId}else{if(!e._pixiId){const r=t?.pixiIdPrefix||"pixiid";e._pixiId=`${r}_${cb()}`}i=e._pixiId}let o=pb[i];if(n&&r&&!o)throw new Error(`The cacheId "${i}" does not exist in TextureCache.`);return o||e instanceof jb?!o&&e instanceof jb&&(o=new cw(e),cw.addToCache(o,i)):(t.resolution||(t.resolution=wb(e)),o=new cw(new jb(e,t)),o.baseTexture.cacheId=i,jb.addToCache(o.baseTexture,i),cw.addToCache(o,i)),o}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t?.resourceOptions),n=cw.from(e,Object.assign({resourceOptions:r},t),!1),i=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):i.load().then((()=>Promise.resolve(n)))}static fromBuffer(e,t,r,n){return new cw(jb.fromBuffer(e,t,r,n))}static fromLoader(e,t,r,n){const i=new jb(e,Object.assign({scaleMode:jb.defaultOptions.scaleMode,resolution:wb(t)},n)),{resource:o}=i;o instanceof sw&&(o.url=t);const s=new cw(i);return r||(r=t),jb.addToCache(s.baseTexture,r),cw.addToCache(s,r),r!==t&&(jb.addToCache(s.baseTexture,t),cw.addToCache(s,t)),s.baseTexture.valid?Promise.resolve(s):new Promise((e=>{s.baseTexture.once("loaded",(()=>e(s)))}))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),pb[t]&&pb[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),pb[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=pb[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete pb[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)pb[e.textureCacheIds[t]]===e&&delete pb[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:n,height:i}=e,o=t+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){const e=o&&s?"and":"or",a=`X: ${t} + ${n} = ${t+n} > ${this.baseTexture.width}`,l=`Y: ${r} + ${i} = ${r+i} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${a} ${e} ${l}`)}this.valid=n&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return cw._EMPTY||(cw._EMPTY=new cw(new jb),uw(cw._EMPTY),uw(cw._EMPTY.baseTexture)),cw._EMPTY}static get WHITE(){if(!cw._WHITE){const e=Zp.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),cw._WHITE=new cw(jb.from(e)),uw(cw._WHITE),uw(cw._WHITE.baseTexture)}return cw._WHITE}}e("f",cw);class dw extends cw{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const n=this.baseTexture.resolution,i=Math.round(e*n)/n,o=Math.round(t*n)/n;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(i,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new dw(new iw(e))}}class hw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=Xp.NONE){const n=new iw(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new dw(n)}getOptimalTexture(e,t,r=1,n=Xp.NONE){let i;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=n>1?-n:-1:(i=((65535&(e=ib(e)))<<16|65535&(t=ib(t)))>>>0,n>1&&(i+=4294967296*n)),this.texturePool[i]||(this.texturePool[i]=[]);let o=this.texturePool[i].pop();return o||(o=this.createTexture(e,t,n)),o.filterPoolKey=i,o.setResolution(r),o}getFilterTexture(e,t,r){const n=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||Xp.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const t in this.texturePool){const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}hw.SCREEN_KEY=-1;class fw extends qb{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class pw extends qb{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Vb(this.vertices),this.uvBuffer=new Vb(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class mw{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Xp.NONE,this.sourceFrame=new nx,this.destinationFrame=new nx,this.bindingSourceFrame=new nx,this.bindingDestinationFrame=new nx,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const gw=[new tx,new tx,new tx,new tx],vw=new lx;class yw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new hw,this.statePool=[],this.quad=new fw,this.quadUv=new pw,this.tempRect=new nx,this.activeState={},this.globalUniforms=new Hx({outputFrame:new nx,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new mw,o=r.renderTexture;let s,a;if(o.current){const e=o.current;s=e.resolution,a=e.multisample}else s=r.resolution,a=r.multisample;let l=t[0].resolution||s,u=t[0].multisample??a,c=t[0].padding,d=t[0].autoFit,h=t[0].legacy??!0;for(let m=1;m<t.length;m++){const e=t[m];l=Math.min(l,e.resolution||s),u=Math.min(u,e.multisample??a),c=this.useMaxPadding?Math.max(c,e.padding):c+e.padding,d=d&&e.autoFit,h=h||(e.legacy??!0)}1===n.length&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(i),i.resolution=l,i.multisample=u,i.legacy=h,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(c);const f=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(vw.copyFrom(r.projection.transform).invert(),f),d?(i.sourceFrame.fit(f),(i.sourceFrame.width<=0||i.sourceFrame.height<=0)&&(i.sourceFrame.width=0,i.sourceFrame.height=0)):i.sourceFrame.intersects(f)||(i.sourceFrame.width=0,i.sourceFrame.height=0),this.roundFrame(i.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,l,u),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=i.sourceFrame.width,p.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=r.projection.transform,r.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,p),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const n=this.globalUniforms.uniforms;n.outputFrame=t.sourceFrame,n.resolution=t.resolution;const i=n.inputSize,o=n.inputPixel,s=n.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=t.sourceFrame.width*i[2]-.5*o[2],s[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){const e=n.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const a=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,a.renderTexture,Vp.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,n=this.getOptimalFilterTexture(e.width,e.height,t.resolution);n.filterFrame=e.filterFrame;let i=0;for(i=0;i<r.length-1;++i){1===i&&t.multisample>1&&(n=this.getOptimalFilterTexture(e.width,e.height,t.resolution),n.filterFrame=e.filterFrame),r[i].apply(this,e,n,Vp.CLEAR,t);const o=e;e=n,n=o}r[i].apply(this,e,a.renderTexture,Vp.BLEND,t),i>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(n)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Vp.CLEAR){const{renderTexture:r,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,r.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const i=1&n.stateId||this.forceClear;(t===Vp.CLEAR||t===Vp.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,n){const i=this.renderer;i.state.set(e.state),this.bindAndClear(r,n),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(Fp.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(Fp.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:n}=this.activeState,{orig:i}=t._texture,o=e.set(n.width,0,0,n.height,r.x,r.y),s=t.worldTransform.copyTo(lx.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/i.width,1/i.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,n=Xp.NONE){return this.texturePool.getOptimalTexture(e,t,r,n)}getFilterTexture(e,t,r){if("number"==typeof e){const r=e;e=t,t=r}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||Xp.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=gw[0],n=gw[1],i=gw[2],o=gw[3];r.set(t.left,t.top),n.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(r,r),e.apply(n,n),e.apply(i,i),e.apply(o,o);const s=Math.min(r.x,n.x,i.x,o.x),a=Math.min(r.y,n.y,i.y,o.y),l=Math.max(r.x,n.x,i.x,o.x),u=Math.max(r.y,n.y,i.y,o.y);t.x=s,t.y=a,t.width=l-s,t.height=u-a}roundFrame(e,t,r,n,i){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(i){const{a:e,b:t,c:r,d:n}=i;if((Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4))return}(i=i?vw.copyFrom(i):vw.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}yw.extension={type:Cb.RendererSystem,name:"filter"},Tb.add(yw);class _w{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Xp.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const bw=new nx;class xw{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new nw(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new nx,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Zp.PREFER_ENV===Pp.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:n}=this;if(e){const i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=r),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const r=e.colorTextures[t];this.renderer.texture.unbind(r.parentTextureArray||r)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>r,n=t.height>>r,i=e/t.width;this.setViewport(t.x*i,t.y*i,e,n)}else{const t=e.width>>r,n=e.height>>r;this.setViewport(0,0,t,n)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,n){const i=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),(i.width!==r||i.height!==n||i.x!==e||i.y!==t)&&(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,n,i=Rp.COLOR|Rp.DEPTH){const{gl:o}=this;o.clearColor(e,t,r,n),o.clear(i)}initFramebuffer(e){const{gl:t}=this,r=new _w(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let n;t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),n=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,n,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,n,e.width,e.height)}const n=e.colorTextures;let i=n.length;t.drawBuffers||(i=Math.min(i,1));for(let o=0;o<i;o++){const i=n[o],s=i.parentTextureArray||i;this.renderer.texture.bind(s,0),0===o&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,s._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures;let o=i.length;r.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer():n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const s=[];for(let a=0;a<o;a++){const o=i[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),0===a&&n.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,o.target,l._glTextures[this.CONTEXT_UID].texture,t),s.push(r.COLOR_ATTACHMENT0+a))}if(s.length>1&&r.drawBuffers(s),e.depthTexture&&this.writeDepthTexture){const n=e.depthTexture;this.renderer.texture.bind(n,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null);else{let t,i;n.stencil=n.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH_STENCIL):e.depth&&e.stencil?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH24_STENCIL8):e.depth?(t=r.DEPTH_ATTACHMENT,i=r.DEPTH_COMPONENT24):(t=r.STENCIL_ATTACHMENT,i=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,i,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,i,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,n.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=Xp.NONE;if(e<=1||null===t)return r;for(let n=0;n<t.length;n++)if(t[n]<=e){r=t[n];break}return 1===r&&(r=Xp.NONE),r}blit(e,t,r){const{current:n,renderer:i,gl:o,CONTEXT_UID:s}=this;if(2!==i.context.webGLVersion||!n)return;const a=n.glFramebuffers[s];if(!a)return;if(!e){if(!a.msaaBuffer)return;const t=n.colorTextures[0];if(!t)return;a.blitFramebuffer||(a.blitFramebuffer=new nw(n.width,n.height),a.blitFramebuffer.addColorTexture(0,t)),(e=a.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}t||((t=bw).width=n.width,t.height=n.height),r||(r=t);const l=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,n=e.height,i=this.gl,o=t.stencil=i.createRenderbuffer();let s,a;i.bindRenderbuffer(i.RENDERBUFFER,o),1===this.renderer.context.webGLVersion?(s=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH_STENCIL):e.depth?(s=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH24_STENCIL8):(s=i.STENCIL_ATTACHMENT,a=i.STENCIL_INDEX8),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,a,r,n):i.renderbufferStorage(i.RENDERBUFFER,a,r,n),i.framebufferRenderbuffer(i.FRAMEBUFFER,s,i.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new nx}destroy(){this.renderer=null}}xw.extension={type:Cb.RendererSystem,name:"framebuffer"},Tb.add(xw);const ww={5126:4,5123:2,5121:1};class Ew{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;Zp.PREFER_ENV===Pp.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,r)=>t.vertexAttribDivisorANGLE(e,r),e.drawElementsInstanced=(e,r,n,i,o)=>t.drawElementsInstancedANGLE(e,r,n,i,o),e.drawArraysInstanced=(e,r,n,i)=>t.drawArraysInstancedANGLE(e,r,n,i)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);const o=n[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const n=e.buffers[r];t.update(n)}}checkCompatibility(e,t){const r=e.attributes,n=t.attributeData;for(const i in n)if(!r[i])throw new Error(`shader and geometry incompatible, geometry missing the "${i}" attribute`)}getSignature(e,t){const r=e.attributes,n=t.attributeData,i=["g",e.id];for(const o in r)n[o]&&i.push(o,n[o].location);return i.join("-")}initGeometryVao(e,t,r=!0){const n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=t.program;s.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);const a=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID];let u=l[a];if(u)return l[s.id]=u,u;const c=e.buffers,d=e.attributes,h={},f={};for(const p in c)h[p]=0,f[p]=0;for(const p in d)!d[p].size&&s.attributeData[p]?d[p].size=s.attributeData[p].size:d[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),h[d[p].buffer]+=d[p].size*ww[d[p].type];for(const p in d){const e=d[p],t=e.size;void 0===e.stride&&(h[e.buffer]===t*ww[e.type]?e.stride=0:e.stride=h[e.buffer]),void 0===e.start&&(e.start=f[e.buffer],f[e.buffer]+=t*ww[e.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let p=0;p<c.length;p++){const e=c[p];o.bind(e),r&&e._glBuffers[i].refCount++}return this.activateVao(e,s),l[s.id]=u,l[a]=u,n.bindVertexArray(null),o.unbind(qp.ARRAY_BUFFER),u}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),r){if(o)for(let e=0;e<i.length;e++){const r=i[e]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0===r.refCount&&!t&&o.dispose(i[e],t))}if(!t)for(const e in r)if("g"===e[0]){const t=r[e];this._activeVao===t&&this.unbind(),n.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let a=null;for(const l in s){const e=s[l],u=o[e.buffer],c=u._glBuffers[n];if(t.attributeData[l]){a!==c&&(i.bind(u),a=c);const n=t.attributeData[l].location;if(r.enableVertexAttribArray(n),r.vertexAttribPointer(n,e.size,e.type||r.FLOAT,e.normalized,e.stride,e.start),e.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(n,e.divisor)}}}}draw(e,t,r,n){const{gl:i}=this,o=this._activeGeometry;if(o.indexBuffer){const s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,n||1):i.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,r,t||o.getSize(),n||1):i.drawArrays(e,r,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Ew.extension={type:Cb.RendererSystem,name:"geometry"},Tb.add(Ew);const Cw=new lx;class Sw{constructor(e,t){this._texture=e,this.mapCoord=new lx,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const r=this.mapCoord;for(let n=0;n<e.length;n+=2){const i=e[n],o=e[n+1];t[n]=i*r.a+o*r.c+r.tx,t[n+1]=i*r.b+o*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=t.orig,i=t.trim;i&&(Cw.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Cw));const o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(t._frame.x+a+l)/o.width,s[1]=(t._frame.y+a+l)/o.height,s[2]=(t._frame.x+t._frame.width-a+l)/o.width,s[3]=(t._frame.y+t._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}class Aw extends Qx{constructor(e,t,r){let n=null;"string"!=typeof e&&void 0===t&&void 0===r&&(n=e,e=void 0,t=void 0,r=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r),this.maskSprite=n,this.maskMatrix=new lx}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,n){const i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Sw(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,n))}}class Tw{constructor(e=null){this.type=$p.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Qx.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=$p.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Dw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const e=this.maskDataPool.pop()||new Tw;e.pooled=!0,e.maskObject=t,r=e}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r._colorMask=n?n._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==$p.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case $p.SCISSOR:this.renderer.scissor.push(r);break;case $p.STENCIL:this.renderer.stencil.push(r);break;case $p.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case $p.COLOR:this.pushColorMask(r)}r.type===$p.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case $p.SCISSOR:this.renderer.scissor.pop(t);break;case $p.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case $p.SPRITE:this.popSpriteMask(t);break;case $p.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===$p.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=$p.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=$p.SCISSOR:e.type=$p.STENCIL:e.type=$p.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Aw])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=t;const i=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))}destroy(){this.renderer=null}}Dw.extension={type:Cb.RendererSystem,name:"mask"},Tb.add(Dw);class kw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==r&&(0===n?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Pw=new lx,Bw=[],Rw=class e extends kw{constructor(e){super(e),this.glConst=Zp.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:n}=this,i=n.renderTexture,o=r.getBounds(!0,Bw.pop()??new nx);this.roundFrameToPixels(o,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:n,d:i}=e;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,r,n,i,o){e.isMatrixRotated(o)||((o=o?Pw.copyFrom(o):Pw.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&Bw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};Rw.extension={type:Cb.RendererSystem,name:"scissor"};let Ow=Rw;Tb.add(Ow);class Fw extends kw{constructor(e){super(e),this.glConst=Zp.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,n=e._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const i=e._colorMask;0!==i&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,r.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,n=r?r._colorMask:15;0!==n&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(r._colorMask=n,t.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Fw.extension={type:Cb.RendererSystem,name:"stencil"},Tb.add(Fw);class Mw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(h_("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(h_("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(h_("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Mw.extension={type:[Cb.RendererSystem,Cb.CanvasRendererSystem],name:"_plugin"},Tb.add(Mw);class Iw{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new lx,this.transform=null}update(e,t,r,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);const i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}calculateProjection(e,t,r,n){const i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d}setTransform(e){}destroy(){this.renderer=null}}Iw.extension={type:Cb.RendererSystem,name:"projection"},Tb.add(Iw);const Nw=new _x,Lw=new nx;class Uw{constructor(e){this.renderer=e,this._tempMatrix=new lx}generateTexture(e,t){const{region:r,...n}=t||{},i=r?.copyTo(Lw)||e.getLocalBounds(Lw,!0),o=n.resolution||this.renderer.resolution;i.width=Math.max(i.width,1/o),i.height=Math.max(i.height,1/o),n.width=i.width,n.height=i.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const s=dw.create(n);this._tempMatrix.tx=-i.x,this._tempMatrix.ty=-i.y;const a=e.transform;return e.transform=Nw,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,s}destroy(){}}Uw.extension={type:[Cb.RendererSystem,Cb.CanvasRendererSystem],name:"textureGenerator"},Tb.add(Uw);const jw=new nx,zw=new nx;class Gw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new nx,this.destinationFrame=new nx,this.viewportFrame=new nx}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const n=this.renderer;let i,o,s;this.current=e,e?(i=e.baseTexture,s=i.resolution,t||(jw.width=e.frame.width,jw.height=e.frame.height,t=jw),r||(zw.x=e.frame.x,zw.y=e.frame.y,zw.width=t.width,zw.height=t.height,r=zw),o=i.framebuffer):(s=n.resolution,t||(jw.width=n._view.screen.width,jw.height=n._view.screen.height,t=jw),r||((r=jw).width=t.width,r.height=t.height));const a=this.viewportFrame;a.x=r.x*s,a.y=r.y*s,a.width=r.width*s,a.height=r.height*s,e||(a.y=n.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(o,a),this.renderer.projection.update(r,t,s,!o),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=q_.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const i=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==o.width||i.height!==o.height;if(s){let{x:e,y:t,width:r,height:n}=this.viewportFrame;e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,r,n)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,t),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Gw.extension={type:Cb.RendererSystem,name:"renderTexture"},Tb.add(Gw);class Vw{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Hw(e,t){const r=bx(e,e.VERTEX_SHADER,t.vertexSrc),n=bx(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const o=t.extra?.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||function(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Px(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||Px(e,n),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,i,r,n),t.attributeData=function(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const n=t.getActiveAttrib(e,i);if(n.name.startsWith("gl_"))continue;const o=Mx(t,n.type),s={type:o,name:n.name,size:Rx(o),location:t.getAttribLocation(e,n.name)};r[n.name]=s}return r}(i,e),t.uniformData=function(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const n=t.getActiveUniform(e,i),o=n.name.replace(/\[.*?\]$/,""),s=!!n.name.match(/\[.*?\]$/),a=Mx(t,n.type);r[o]={name:o,index:i,type:a,size:n.size,isArray:s,value:wx(a,n.size)}}return r}(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const r=Object.keys(t.attributeData);r.sort(((e,t)=>e>t?1:-1));for(let n=0;n<r.length;n++)t.attributeData[r[n]].location=n,e.bindAttribLocation(i,n,r[n]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const s={};for(const a in t.uniformData){const r=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:wx(r.type,r.size)}}return new Vw(i,s)}function Ww(e,t,r,n,i){r.buffer.update(i)}const $w={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Yw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Xw(e){const t=e.map((e=>({data:e,offset:0,dataLen:0,dirty:0})));let r=0,n=0,i=0;for(let o=0;o<t.length;o++){const e=t[o];if(r=Yw[e.data.type],e.data.size>1&&(r=Math.max(r,16)*e.data.size),e.dataLen=r,n%r!=0&&n<16){const e=n%r%16;n+=e,i+=e}n+r>16?(i=16*Math.ceil(i/16),e.offset=i,i+=r,n=r):(e.offset=i,n+=r,i+=r)}return i=16*Math.ceil(i/16),{uboElements:t,size:i}}function qw(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort(((e,t)=>e.index-t.index)),r}function Kw(e,t){if(!e.autoManage)return{size:0,syncFunc:Ww};const r=qw(e.uniforms,t),{uboElements:n,size:i}=Xw(r),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let s=0;s<n.length;s++){const t=n[s],r=e.uniforms[t.data.name],i=t.data.name;let a=!1;for(let e=0;e<Ex.length;e++){const n=Ex[e];if(n.codeUbo&&n.test(t.data,r)){o.push(`offset = ${t.offset/4};`,Ex[e].codeUbo(t.data.name,r)),a=!0;break}}if(!a)if(t.data.size>1){const e=Rx(t.data.type),r=Math.max(Yw[t.data.type]/16,1),n=e/r,s=(4-n%4)%4;o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${t.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${t.data.size*r}; i++)\n                {\n                    for(var j = 0; j < ${n}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${s};\n                }\n\n                `)}else{const e=$w[t.data.type];o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${t.offset/4};\n                ${e};\n                `)}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}let Zw=0;const Qw={textureCount:0,uboCount:0};class Jw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Zw++}systemCheck(){if(!Lx())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),t||(Qw.textureCount=0,Qw.uboCount=0,this.syncUniformGroup(e.uniformGroup,Qw)),n}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const n in e.uniforms){const i=t[n];if(!i){!0===e.uniforms[n]?.group&&(e.uniforms[n].ubo?r.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');\n                    `):r.push(`\n                        renderer.shader.syncUniformGroup(uv.${n}, syncData);\n                    `));continue}const o=e.uniforms[n];let s=!1;for(let e=0;e<Ex.length;e++)if(Ex[e].test(i,o)){r.push(Ex[e].code(n,o)),s=!0;break}if(!s){const e=(1!==i.size||i.isArray?Sx:Cx)[i.type].replace("location",`ud["${n}"].location`);r.push(`\n            cu = ud["${n}"];\n            cv = cu.value;\n            v = uv["${n}"];\n            ${e};`)}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;const n=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),n(r.uniformData,e.uniforms,this.renderer,Qw,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const i=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let s=this._uboCache[o];if(s||(s=this._uboCache[o]=Kw(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(s.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const n=e.uniforms,i=[`${r}-`];for(const o in n)i.push(o),t[o]&&i.push(t[o].type);return i.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,n=Hw(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Jw.extension={type:Cb.RendererSystem,name:"shader"},Tb.add(Jw);class eE{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.3.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}eE.defaultOptions={hello:!1},eE.extension={type:[Cb.RendererSystem,Cb.CanvasRendererSystem],name:"startup"},Tb.add(eE);const tE=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Op.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Rb,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function(e,t=[]){return t[Op.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.ADD]=[e.ONE,e.ONE],t[Op.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.NONE]=[0,0],t[Op.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Op.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Op.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Op.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Op.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Op.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Op.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Op.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Op.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Op.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Op.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):!t&&-1!==r&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};tE.extension={type:Cb.RendererSystem,name:"state"};let rE=tE;Tb.add(rE);class nE extends vm{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter((t=>e.systems[t])),r=[...t,...Object.keys(e.systems).filter((e=>!t.includes(e)))];for(const n of r)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach((e=>{this.runners[e]=new Mb(e)}))}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const n in this.runners)this.runners[n].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach((n=>{const i=r.find((e=>this._systemsHash[e]===n));n[e.name](t[i])}))}destroy(){Object.values(this.runners).forEach((e=>{e.destroy()})),this._systemsHash={}}}const iE=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Hp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let n=0;n<t.length;n++){const i=t[n];i.resource&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&(t[e++]=t[r]);t.length=e}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};iE.defaultMode=Hp.AUTO,iE.defaultMaxIdle=3600,iE.defaultCheckCountMax=600,iE.extension={type:Cb.RendererSystem,name:"textureGC"};let oE=iE;Tb.add(oE);class sE{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Np.UNSIGNED_BYTE,this.internalFormat=Mp.RGBA,this.samplerType=0}}class aE{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new jb,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[Np.UNSIGNED_BYTE]:{[Mp.RGBA]:e.RGBA8,[Mp.RGB]:e.RGB8,[Mp.RG]:e.RG8,[Mp.RED]:e.R8,[Mp.RGBA_INTEGER]:e.RGBA8UI,[Mp.RGB_INTEGER]:e.RGB8UI,[Mp.RG_INTEGER]:e.RG8UI,[Mp.RED_INTEGER]:e.R8UI,[Mp.ALPHA]:e.ALPHA,[Mp.LUMINANCE]:e.LUMINANCE,[Mp.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Np.BYTE]:{[Mp.RGBA]:e.RGBA8_SNORM,[Mp.RGB]:e.RGB8_SNORM,[Mp.RG]:e.RG8_SNORM,[Mp.RED]:e.R8_SNORM,[Mp.RGBA_INTEGER]:e.RGBA8I,[Mp.RGB_INTEGER]:e.RGB8I,[Mp.RG_INTEGER]:e.RG8I,[Mp.RED_INTEGER]:e.R8I},[Np.UNSIGNED_SHORT]:{[Mp.RGBA_INTEGER]:e.RGBA16UI,[Mp.RGB_INTEGER]:e.RGB16UI,[Mp.RG_INTEGER]:e.RG16UI,[Mp.RED_INTEGER]:e.R16UI,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[Np.SHORT]:{[Mp.RGBA_INTEGER]:e.RGBA16I,[Mp.RGB_INTEGER]:e.RGB16I,[Mp.RG_INTEGER]:e.RG16I,[Mp.RED_INTEGER]:e.R16I},[Np.UNSIGNED_INT]:{[Mp.RGBA_INTEGER]:e.RGBA32UI,[Mp.RGB_INTEGER]:e.RGB32UI,[Mp.RG_INTEGER]:e.RG32UI,[Mp.RED_INTEGER]:e.R32UI,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[Np.INT]:{[Mp.RGBA_INTEGER]:e.RGBA32I,[Mp.RGB_INTEGER]:e.RGB32I,[Mp.RG_INTEGER]:e.RG32I,[Mp.RED_INTEGER]:e.R32I},[Np.FLOAT]:{[Mp.RGBA]:e.RGBA32F,[Mp.RGB]:e.RGB32F,[Mp.RG]:e.RG32F,[Mp.RED]:e.R32F,[Mp.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[Np.HALF_FLOAT]:{[Mp.RGBA]:e.RGBA16F,[Mp.RGB]:e.RGB16F,[Mp.RG]:e.RG16F,[Mp.RED]:e.R16F},[Np.UNSIGNED_SHORT_5_6_5]:{[Mp.RGB]:e.RGB565},[Np.UNSIGNED_SHORT_4_4_4_4]:{[Mp.RGBA]:e.RGBA4},[Np.UNSIGNED_SHORT_5_5_5_1]:{[Mp.RGBA]:e.RGB5_A1},[Np.UNSIGNED_INT_2_10_10_10_REV]:{[Mp.RGBA]:e.RGB10_A2,[Mp.RGBA_INTEGER]:e.RGB10_A2UI},[Np.UNSIGNED_INT_10F_11F_11F_REV]:{[Mp.RGB]:e.R11F_G11F_B10F},[Np.UNSIGNED_INT_5_9_9_9_REV]:{[Mp.RGB]:e.RGB9_E5},[Np.UNSIGNED_INT_24_8]:{[Mp.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[Np.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Mp.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[Np.UNSIGNED_BYTE]:{[Mp.RGBA]:e.RGBA,[Mp.RGB]:e.RGB,[Mp.ALPHA]:e.ALPHA,[Mp.LUMINANCE]:e.LUMINANCE,[Mp.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Np.UNSIGNED_SHORT_5_6_5]:{[Mp.RGB]:e.RGB},[Np.UNSIGNED_SHORT_4_4_4_4]:{[Mp.RGBA]:e.RGBA},[Np.UNSIGNED_SHORT_5_5_5_1]:{[Mp.RGBA]:e.RGBA}},t}(e),this.samplerTypes=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:Lp.FLOAT,[e.RGBA]:Lp.FLOAT,[e.ALPHA]:Lp.FLOAT,[e.LUMINANCE]:Lp.FLOAT,[e.LUMINANCE_ALPHA]:Lp.FLOAT,[e.R8]:Lp.FLOAT,[e.R8_SNORM]:Lp.FLOAT,[e.RG8]:Lp.FLOAT,[e.RG8_SNORM]:Lp.FLOAT,[e.RGB8]:Lp.FLOAT,[e.RGB8_SNORM]:Lp.FLOAT,[e.RGB565]:Lp.FLOAT,[e.RGBA4]:Lp.FLOAT,[e.RGB5_A1]:Lp.FLOAT,[e.RGBA8]:Lp.FLOAT,[e.RGBA8_SNORM]:Lp.FLOAT,[e.RGB10_A2]:Lp.FLOAT,[e.RGB10_A2UI]:Lp.FLOAT,[e.SRGB8]:Lp.FLOAT,[e.SRGB8_ALPHA8]:Lp.FLOAT,[e.R16F]:Lp.FLOAT,[e.RG16F]:Lp.FLOAT,[e.RGB16F]:Lp.FLOAT,[e.RGBA16F]:Lp.FLOAT,[e.R32F]:Lp.FLOAT,[e.RG32F]:Lp.FLOAT,[e.RGB32F]:Lp.FLOAT,[e.RGBA32F]:Lp.FLOAT,[e.R11F_G11F_B10F]:Lp.FLOAT,[e.RGB9_E5]:Lp.FLOAT,[e.R8I]:Lp.INT,[e.R8UI]:Lp.UINT,[e.R16I]:Lp.INT,[e.R16UI]:Lp.UINT,[e.R32I]:Lp.INT,[e.R32UI]:Lp.UINT,[e.RG8I]:Lp.INT,[e.RG8UI]:Lp.UINT,[e.RG16I]:Lp.INT,[e.RG16UI]:Lp.UINT,[e.RG32I]:Lp.INT,[e.RG32UI]:Lp.UINT,[e.RGB8I]:Lp.INT,[e.RGB8UI]:Lp.UINT,[e.RGB16I]:Lp.INT,[e.RGB16UI]:Lp.UINT,[e.RGB32I]:Lp.INT,[e.RGB32UI]:Lp.UINT,[e.RGBA8I]:Lp.INT,[e.RGBA8UI]:Lp.UINT,[e.RGBA16I]:Lp.INT,[e.RGBA16UI]:Lp.UINT,[e.RGBA32I]:Lp.INT,[e.RGBA32UI]:Lp.UINT,[e.DEPTH_COMPONENT16]:Lp.FLOAT,[e.DEPTH_COMPONENT24]:Lp.FLOAT,[e.DEPTH_COMPONENT32F]:Lp.FLOAT,[e.DEPTH_STENCIL]:Lp.FLOAT,[e.DEPTH24_STENCIL8]:Lp.FLOAT,[e.DEPTH32F_STENCIL8]:Lp.FLOAT}:{[e.RGB]:Lp.FLOAT,[e.RGBA]:Lp.FLOAT,[e.ALPHA]:Lp.FLOAT,[e.LUMINANCE]:Lp.FLOAT,[e.LUMINANCE_ALPHA]:Lp.FLOAT,[e.DEPTH_STENCIL]:Lp.FLOAT},t}(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};const r=new sE(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new sE(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,t=0){const{gl:r}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<r.length;e++)r[e]===this.unknownTexture&&this.bind(null,e)}for(let n=0;n<r.length;n++)r[n]===e&&(this.currentLocation!==n&&(t.activeTexture(t.TEXTURE0+n),this.currentLocation=n),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[n]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:n}=this;if(r)for(let i=e-1;i>=0;--i){const e=t[i];e&&e._glTextures[n].samplerType!==Lp.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){const t=new sE(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Lp.FLOAT,2===this.webGLVersion&&e.type===Np.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(r,e,t))t.samplerType!==Lp.FLOAT&&(this.hasIntegerTextures=!0);else{const n=e.realWidth,i=e.realHeight,o=r.gl;(t.width!==n||t.height!==i||t.dirtyId<0)&&(t.width=n,t.height=i,o.texImage2D(e.target,0,t.internalFormat,n,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&ab(this.managedTextures,t,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==zp.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=jp.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==zp.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Up.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===Up.LINEAR){const n=Math.min(e.anisotropicLevel,r.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Up.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Up.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}aE.extension={type:Cb.RendererSystem,name:"texture"},Tb.add(aE);class lE{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:n}=this;t&&n.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:n}=this,i=t.createTransformFeedback();e._glTransformFeedbacks[n]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(let o=0;o<e.buffers.length;o++){const i=e.buffers[o];i&&(r.buffer.update(i),i._glBuffers[n].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,i._glBuffers[n].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const i=this.renderer.buffer;if(i)for(let o=0;o<e.buffers.length;o++){const r=e.buffers[o];if(!r)continue;const n=r._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0===n.refCount&&!t&&i.dispose(r,t))}r&&(t||n.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}lE.extension={type:Cb.RendererSystem,name:"transformFeedback"},Tb.add(lE);class uE{constructor(e){this.renderer=e}init(e){this.screen=new nx(0,0,e.width,e.height),this.element=e.view||Zp.ADAPTER.createCanvas(),this.resolution=e.resolution||Zp.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",r,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}uE.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},uE.extension={type:[Cb.RendererSystem,Cb.CanvasRendererSystem],name:"_view"},Tb.add(uE),Zp.PREFER_ENV=Pp.WEBGL2,Zp.STRICT_TEXTURE_CACHE=!1,Zp.RENDER_OPTIONS={...rw.defaultOptions,...Jx.defaultOptions,...uE.defaultOptions,...eE.defaultOptions},Object.defineProperties(Zp,{WRAP_MODE:{get:()=>jb.defaultOptions.wrapMode,set(e){h_("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),jb.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>jb.defaultOptions.scaleMode,set(e){h_("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),jb.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>jb.defaultOptions.mipmap,set(e){h_("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),jb.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>jb.defaultOptions.anisotropicLevel,set(e){h_("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),jb.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(h_("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Qx.defaultResolution),set(e){Qx.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(h_("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Qx.defaultMultisample),set(e){Qx.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>Kx.defaultMaxTextures,set(e){h_("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Kx.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>Kx.defaultBatchSize,set(e){h_("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Kx.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>Kx.canUploadSameBuffer,set(e){h_("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Kx.canUploadSameBuffer=e}},GC_MODE:{get:()=>oE.defaultMode,set(e){h_("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),oE.defaultMode=e}},GC_MAX_IDLE:{get:()=>oE.defaultMaxIdle,set(e){h_("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),oE.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>oE.defaultCheckCountMax,set(e){h_("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),oE.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>Gx.defaultVertexPrecision,set(e){h_("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Gx.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>Gx.defaultFragmentPrecision,set(e){h_("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Gx.defaultFragmentPrecision=e}}});var cE=e("U",(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(cE||{}));class dE{constructor(e,t=null,r=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=n}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const hE=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dE(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=cE.NORMAL){return this._addListener(new dE(e,t,r))}addOnce(e,t,r=cE.NORMAL){return this._addListener(new dE(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*e.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,e.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};hE.targetFPMS=.06;let fE=e("k",hE);Object.defineProperties(Zp,{TARGET_FPMS:{get:()=>fE.targetFPMS,set(e){h_("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),fE.targetFPMS=e}}});class pE{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,cE.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?fE.shared:new fE,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}pE.extension=Cb.Application,Tb.add(pE);const mE=[];function gE(e){for(const t of mE)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}Tb.handleByList(Cb.Renderer,mE);const vE="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",yE="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class _E{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=Xp.HIGH?this.multisample=Xp.HIGH:t>=Xp.MEDIUM?this.multisample=Xp.MEDIUM:t>=Xp.LOW?this.multisample=Xp.LOW:this.multisample=Xp.NONE}destroy(){}}_E.extension={type:Cb.RendererSystem,name:"_multisample"},Tb.add(_E);class bE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class xE{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:n}=this;if(this.boundBufferBases[t]!==e){const i=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,i.buffer)}}bindBufferRange(e,t,r){const{gl:n,CONTEXT_UID:i}=this;r=r||0;const o=e._glBuffers[i]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,t||0,o.buffer,256*r,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,n=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,t.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const r=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,r)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),r&&(t||n.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new bE(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}xE.extension={type:Cb.RendererSystem,name:"buffer"},Tb.add(xE);class wE{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let n,i,o,s;if(t&&(n=t.renderTexture,i=t.clear,o=t.transform,s=t.skipUpdateTransform),this.renderingToScreen=!n,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(n||(this.lastObjectRendered=e),!s){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}r.renderTexture.bind(n),r.batch.currentRenderer.start(),(i??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),n&&(t.blit&&r.framebuffer.blit(),n.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}wE.extension={type:Cb.RendererSystem,name:"objectRenderer"},Tb.add(wE);const EE=class e extends nE{constructor(t){super(),this.type=Bp.WEBGL,t=Object.assign({},Zp.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Hx({projectionMatrix:new lx},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&(h_("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&b_()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return h_("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return h_("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return h_("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return h_("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){h_("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return h_("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){h_("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return h_("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};EE.extension={type:Cb.Renderer,priority:1},EE.__plugins={},EE.__systems={};let CE=EE;Tb.handleByMap(Cb.RendererPlugin,CE.__plugins),Tb.handleByMap(Cb.RendererSystem,CE.__systems),Tb.add(CE);class SE extends Ib{constructor(e,t){const{width:r,height:n}=t||{};super(r,n),this.items=[],this.itemDirtyIds=[];for(let i=0;i<e;i++){const e=new jb;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Ib?this.addResourceAt(e[r],r):this.addResourceAt(Fb(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map((e=>e.resource)).filter((e=>e)).map((e=>e.load()));return this._load=Promise.all(e).then((()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)})),this._load}}class AE extends SE{constructor(e,t){const{width:r,height:n}=t||{};let i,o;Array.isArray(e)?(i=e,o=e.length):o=e,super(o,{width:r,height:n}),i&&this.initFromArray(i,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=Ip.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:n,itemDirtyIds:i,items:o}=this,{gl:s}=e;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,t.format,r.type,null);for(let a=0;a<n;a++){const e=o[a];i[a]<e.dirtyId&&(i[a]=e.dirtyId,e.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,e.resource.width,e.resource.height,1,t.format,r.type,e.resource.source))}return!0}}class TE extends ow{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const DE=class e extends SE{constructor(t,r){const{width:n,height:i,autoLoad:o,linkBaseTexture:s}=r||{};if(t&&t.length!==e.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<e.SIDES;a++)this.items[a].target=Ip.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=!1!==s,t&&this.initFromArray(t,r),!1!==o&&this.load()}bind(e){super.bind(e),e.target=Ip.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Ip.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,n){const i=this.itemDirtyIds;for(let o=0;o<e.SIDES;o++){const e=this.items[o];(i[o]<e.dirtyId||n.dirtyId<r.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,n),i[o]=e.dirtyId):i[o]<-1&&(t.gl.texImage2D(e.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};DE.SIDES=6;let kE=DE;class PE extends ow{constructor(e,t){let r,n,i;t=t||{},"string"==typeof e?(r=PE.EMPTY,n=e,i=!0):(r=e,n=null,i=!1),super(r),this.url=n,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??i,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(e,t)=>{if(null!==this.url)try{const t=await Zp.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const r=await t.blob();if(this.destroyed)return;const n=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Gp.UNPACK?"premultiply":"none"});if(this.destroyed)return void n.close();this.source=n,this.update(),e(this)}catch(whe){if(this.destroyed)return;t(whe),this.onError.emit(whe)}else e(this)}))),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return PE._EMPTY=PE._EMPTY??Zp.ADAPTER.createCanvas(0,0),PE._EMPTY}}const BE=class e extends ow{constructor(e,t){t=t||{},super(Zp.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const e=new Image;ow.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=t*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*t,i=this._overrideHeight||this._overrideWidth/t*r),n=Math.round(n),i=Math.round(i);const o=this.source;o.width=n,o.height=i,o._pixiId=`canvas_${cb()}`,o.getContext("2d").drawImage(e,0,0,t,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};BE.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,BE.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let RE=BE;const OE=class e extends ow{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");!1!==r.autoLoad&&n.setAttribute("preload","auto"),!1!==r.playsinline&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),!0===r.muted&&(n.setAttribute("muted",""),n.muted=!0),!0===r.loop&&n.setAttribute("loop",""),!1!==r.autoPlay&&n.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);const i=t[0].src||t[0];ow.crossOrigin(n,i,r.crossorigin);for(let r=0;r<t.length;++r){const i=document.createElement("source");let{src:o,mime:s}=t[r];if(o=o||t[r],o.startsWith("data:"))s=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const t=o.split("?").shift().toLowerCase(),r=t.slice(t.lastIndexOf(".")+1);s=s||e.MIME_TYPES[r]||`video/${r}`}i.src=o,s&&(i.type=s),n.appendChild(i)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const e=fE.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())})),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(fE.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(fE.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(fE.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}};OE.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],OE.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let FE=OE;Ob.push(PE,sw,TE,FE,RE,Nb,kE,AE);class ME{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?nx.EMPTY:((e=e||new nx(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:n,c:i,d:o,tx:s,ty:a}=e,l=r*t.x+i*t.y+s,u=n*t.x+o*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=e[0],s=e[1];t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[2],s=e[3],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[4],s=e[5],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=e[6],s=e[7],t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,t,r,n,i){this.addFrameMatrix(e.worldTransform,t,r,n,i)}addFrameMatrix(e,t,r,n,i){const o=e.a,s=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;let d=this.minX,h=this.minY,f=this.maxX,p=this.maxY,m=o*t+a*r+u,g=s*t+l*r+c;d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*n+a*r+u,g=s*n+l*r+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*t+a*i+u,g=s*t+l*i+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,m=o*n+a*i+u,g=s*n+l*i+c,d=m<d?m:d,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,this.minX=d,this.minY=h,this.maxX=f,this.maxY=p}addVertexData(e,t,r){let n=this.minX,i=this.minY,o=this.maxX,s=this.maxY;for(let a=t;a<r;a+=2){const t=e[a],r=e[a+1];n=t<n?t:n,i=r<i?r:i,o=t>o?t:o,s=r>s?r:s}this.minX=n,this.minY=i,this.maxX=o,this.maxY=s}addVertices(e,t,r,n){this.addVerticesMatrix(e.worldTransform,t,r,n)}addVerticesMatrix(e,t,r,n,i=0,o=i){const s=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty;let h=this.minX,f=this.minY,p=this.maxX,m=this.maxY;for(let g=r;g<n;g+=2){const e=t[g],r=t[g+1],n=s*e+l*r+c,v=u*r+a*e+d;h=Math.min(h,n-i),p=Math.max(p,n+i),f=Math.min(f,v-o),m=Math.max(m,v+o)}this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}addBounds(e){const t=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>i?e.maxY:i}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&n<=o){const e=this.minX,t=this.minY,s=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=n<t?n:t,this.maxX=i>s?i:s,this.maxY=o>a?o:a}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&n<=o){const e=this.minX,t=this.minY,s=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=n<t?n:t,this.maxX=i>s?i:s,this.maxY=o>a?o:a}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,n,i,o){e-=i,t-=o,r+=i,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n}}class IE extends vm{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new _x,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ME,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const n=t[r];Object.defineProperty(IE.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new nx),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new nx),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ME);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,n=1,i=0,o=0,s=0,a=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new NE),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Qb}set angle(e){this.transform.rotation=e*Jb}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class NE extends IE{constructor(){super(...arguments),this.sortDirty=null}}IE.prototype.displayObjectUpdateTransform=IE.prototype.updateTransform;const LE=new lx;function UE(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const jE=class e extends IE{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);ab(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,ab(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,ab(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,n=t-r;let i;if(n>0&&n<=t){i=this.children.splice(r,n);for(let e=0;e<i.length;++e)i[e].parent=null,i[e].transform&&(i[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<i.length;++e)i[e].emit("removed",this),this.emit("childRemoved",i[e],this,e);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const r=this.children[t];r._lastSortedIndex=t,!e&&0!==r.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(UE),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let n=0,i=this.children.length;n<i;++n){const e=this.children[n];e.visible&&e.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const r=t.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(i?(i=LE.copyFrom(i),i.prepend(o)):i=o),n&&r.intersects(n,i))this._render(t);else if(this.cullArea)return;for(let e=0,s=this.children.length;e<s;++e){const r=this.children[e],n=r.cullable;r.cullable=n||!this.cullArea,r.render(t),r.cullable=n}}render(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}const n=t&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==$p.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:e?.children,r=this.removeChildren(0,this.children.length);if(t)for(let n=0;n<r.length;++n)r[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};jE.defaultSortableChildren=!1;let zE=e("m",jE);zE.prototype.containerUpdateTransform=zE.prototype.updateTransform,Object.defineProperties(Zp,{SORTABLE_CHILDREN:{get:()=>zE.defaultSortableChildren,set(e){h_("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),zE.defaultSortableChildren=e}}});const GE=new tx,VE=new Uint16Array([0,1,2,0,2,3]);let HE=class e extends zE{constructor(e){super(),this._anchor=new vx(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new q_(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Op.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||cw.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=VE,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Zp.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=lb(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=lb(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,l=this.vertexData,u=e.trim,c=e.orig,d=this._anchor;let h=0,f=0,p=0,m=0;if(u?(f=u.x-d._x*c.width,h=f+u.width,m=u.y-d._y*c.height,p=m+u.height):(f=-d._x*c.width,h=f+c.width,m=-d._y*c.height,p=m+c.height),l[0]=r*f+i*m+s,l[1]=o*m+n*f+a,l[2]=r*h+i*m+s,l[3]=o*m+n*h+a,l[4]=r*h+i*p+s,l[5]=o*p+n*h+a,l[6]=r*f+i*p+s,l[7]=o*p+n*f+a,this._roundPixels){const e=Zp.RESOLUTION;for(let t=0;t<l.length;++t)l[t]=Math.round(l[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,d=-n._x*r.width,h=d+r.width,f=-n._y*r.height,p=f+r.height;if(t[0]=o*d+a*f+u,t[1]=l*f+s*d+c,t[2]=o*h+a*f+u,t[3]=l*f+s*h+c,t[4]=o*h+a*p+u,t[5]=l*p+s*h+c,t[6]=o*d+a*p+u,t[7]=l*p+s*d+c,this._roundPixels){const e=Zp.RESOLUTION;for(let r=0;r<t.length;++r)t[r]=Math.round(t[r]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new ME),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new nx),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,GE);const t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x;let i=0;return GE.x>=n&&GE.x<n+t&&(i=-r*this.anchor.y,GE.y>=i&&GE.y<i+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(t,r){const n=t instanceof cw?t:cw.from(t,r);return new e(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=lb(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=lb(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||cw.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};e("S",HE);const WE=new lx;IE.prototype._cacheAsBitmap=!1,IE.prototype._cacheData=null,IE.prototype._cacheAsBitmapResolution=null,IE.prototype._cacheAsBitmapMultisample=null;class $E{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(IE.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;let t;this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new $E),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),IE.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},IE.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(new nx,!0);if(this.filters?.length){const e=this.filters[0].padding;r.pad(e)}const n=this.cacheAsBitmapResolution||e.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=dw.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${cb()}`;this._cacheData.textureCacheId=u,jb.addToCache(l.baseTexture,u),cw.addToCache(l,u);const c=this.transform.localTransform.copyTo(WE).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const d=new HE(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-r.x/r.width,d.anchor.y=-r.y/r.height,d.alpha=t,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)},IE.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},IE.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new nx,!0),r=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,i=e._projTransform,o=this.cacheAsBitmapResolution||e.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const s=dw.create({width:t.width,height:t.height,resolution:o}),a=`cacheAsBitmap_${cb()}`;this._cacheData.textureCacheId=a,jb.addToCache(s.baseTexture,a),cw.addToCache(s,a);const l=WE;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new HE(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-t.x/t.width,u.anchor.y=-t.y/t.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)},IE.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},IE.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},IE.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,jb.removeFromCache(this._cacheData.textureCacheId),cw.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},IE.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},IE.prototype.name=null,zE.prototype.getChildByName=function(e,t){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(let r=0,n=this.children.length;r<n;r++){const t=this.children[r];if(!t.getChildByName)continue;const n=t.getChildByName(e,!0);if(n)return n}return null},IE.prototype.getGlobalPosition=function(e=new tx,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};class YE extends Qx{constructor(e=1){super(vE,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const XE={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qE=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class KE extends Qx{constructor(e,t=8,r=4,n=Qx.defaultResolution,i=5){const o=function(e,t){const r=Math.ceil(e/2);let n,i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let s=0;s<e;s++){let e=n.replace("%index%",s.toString());e=e.replace("%sampleIndex%",s-(r-1)+".0"),o+=e,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i}(i,e),s=function(e){const t=XE[e],r=t.length;let n,i=qE,o="";for(let s=0;s<e;s++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());n=s,s>=r&&(n=e-s-1),i=i.replace("%value%",t[n].toString()),o+=i,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i}(i);super(o,s),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{const i=e.getFilterTexture(),o=e.renderer;let s=t,a=i;this.state.blend=!1,e.applyFilter(this,s,a,Vp.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(s,Vp.BLIT),this.uniforms.uSampler=a;const t=a;a=s,s=t,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,r,n),e.returnFilterTexture(i)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let ZE=class extends Qx{constructor(e=8,t=4,r=Qx.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new KE(!0,e,t,r,n),this.blurYFilter=new KE(!1,e,t,r,n),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,n){const i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){const i=e.getFilterTexture();this.blurXFilter.apply(e,t,i,Vp.CLEAR),this.blurYFilter.apply(e,i,r,n),e.returnFilterTexture(i)}else o?this.blurYFilter.apply(e,t,r,n):this.blurXFilter.apply(e,t,r,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};e("B",ZE);class QE extends Qx{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(yE,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,n,i]=q_.shared.setValue(e).toArray(),o=[r,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),n=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,t)}contrast(e,t){const r=(e||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,t)}saturate(e=0,t){const r=2*e/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,r,n,i){e=e||.2,t=t||.15,r=r||16770432,n=n||3375104;const o=q_.shared,[s,a,l]=o.setValue(r).toArray(),[u,c,d]=o.setValue(n).toArray(),h=[.3,.59,.11,0,0,s,a,l,e,0,u,c,d,t,0,s-u,a-c,l-d,0,0];this._loadMatrix(h,i)}night(e,t){const r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}e("C",QE),QE.prototype.grayscale=QE.prototype.greyscale;class JE extends Qx{constructor(e,t){const r=new lx;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==t&&(t=20),this.scale=new tx(t,t)}apply(e,t,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),e.applyFilter(this,t,r,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}class eC extends Qx{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}let tC=class extends Qx{constructor(e=.5,t=Math.random()){super(yE,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};e("N",tC);const rC={AlphaFilter:YE,BlurFilter:ZE,BlurFilterPass:KE,ColorMatrixFilter:QE,DisplacementFilter:JE,FXAAFilter:eC,NoiseFilter:tC};Object.entries(rC).forEach((([e,t])=>{Object.defineProperty(rC,e,{get:()=>(h_("7.1.0",`filters.${e} has moved to ${e}`),t)})}));const nC=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(fE.system.add(this.tickerUpdate,this,cE.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(fE.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class iC{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=iC.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new tx,this.page=new tx,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,n,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class oC extends iC{constructor(){super(...arguments),this.client=new tx,this.movement=new tx,this.offset=new tx,this.global=new tx,this.screen=new tx}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,n,i,o,s,a,l,u,c,d,h,f,p){throw new Error("Method not implemented.")}}class sC extends oC{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class aC extends oC{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}aC.DOM_DELTA_PIXEL=0,aC.DOM_DELTA_LINE=1,aC.DOM_DELTA_PAGE=2;const lC=new tx,uC=new tx;class cC{constructor(e){this.dispatch=new vm,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(((e,t)=>e.priority-t.priority))}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,n=t.length;r<n;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){nC.pauseUpdate=!0;const r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,lC.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,i=r.length-1;n<i;n++)if(e.currentTarget=r[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let n=r.length-2;n>=0;n--)if(e.currentTarget=r[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(0===r.length)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(t)?t:[t];for(let i=r.length-1;i>=0;i--)n.forEach((t=>{e.currentTarget=r[i],this.notifyTarget(e,t)}))}propagationPath(e){const t=[e];for(let r=0;r<2048&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,n,i,o=!1){let s=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(nC.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let l=a.length-1;l>=0;l--){const u=a[l],c=this.hitTestMoveRecursive(u,this._isInteractive(t)?t:u.eventMode,r,n,i,o||i(e,r));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const t=e.isInteractive();(c.length>0||t)&&(t&&this._allInteractiveElements.push(e),c.push(e)),0===this._hitElements.length&&(this._hitElements=c),s=!0}}}const a=this._isInteractive(t),l=e.isInteractive();return a&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:s?this._hitElements:a&&!i(e,r)&&n(e,r)?l?[e]:[]:null}hitTestRecursive(e,t,r,n,i){if(this._interactivePrune(e)||i(e,r))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(nC.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children;for(let s=o.length-1;s>=0;s--){const a=o[s],l=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,r,n,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const o=this._isInteractive(t),s=e.isInteractive();return o&&n(e,r)?s?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,uC),!e.hitArea.contains(uC.x,uC.y)))return!0;if(e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&!r.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){const r=`on${t=t??e.type}`;e.currentTarget[r]?.(e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r="mouse"===t.pointerType||"pen"===t.pointerType,n=this.trackingData(e.pointerId),i=this.findMountedTarget(n.overTargets);if(n.overTargets?.length>0&&i!==t.target){const n="mousemove"===e.type?"mouseout":"pointerout",o=this.createPointerEvent(e,n,i);if(this.dispatchEvent(o,"pointerout"),r&&this.dispatchEvent(o,"mouseout"),!t.composedPath().includes(i)){const n=this.createPointerEvent(e,"pointerleave",i);for(n.eventPhase=n.AT_TARGET;n.target&&!t.composedPath().includes(n.target);)n.currentTarget=n.target,this.notifyTarget(n),r&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;this.freeEvent(n)}this.freeEvent(o)}if(i!==t.target){const n="mousemove"===e.type?"mouseover":"pointerover",o=this.clonePointerEvent(t,n);this.dispatchEvent(o,"pointerover"),r&&this.dispatchEvent(o,"mouseover");let s=i?.parent;for(;s&&s!==this.rootTarget.parent&&s!==t.target;)s=s.parent;if(!s||s===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==i&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),r&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(o)}const o=[],s=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),s&&o.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),s&&o.push("globaltouchmove")),r&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),s&&o.push("globalmousemove"),this.cursor=t.target?.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),n="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),n&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=r.target?.cursor);const i=this.clonePointerEvent(r,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==this.rootTarget.parent;)i.currentTarget=i.target,this.notifyTarget(i),n&&this.notifyTarget(i,"mouseenter"),i.target=i.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(i)}mapPointerOut(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const r="mouse"===e.pointerType||"pen"===e.pointerType,n=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){const e=2===r.button;this.dispatchEvent(r,e?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),i=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=i;if(i&&!r.composedPath().includes(i)){let t=i;for(;t&&!r.composedPath().includes(t);){if(r.currentTarget=t,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){const e=2===r.button;this.notifyTarget(r,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete n.pressTargetsByButton[e.button],o=t}if(o){const i=this.clonePointerEvent(r,"click");i.target=o,i.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});const s=n.clicksByButton[e.button];if(s.target===i.target&&t-s.timeStamp<200?++s.clickCount:s.clickCount=1,s.target=i.target,s.timeStamp=t,i.detail=s.clickCount,"mouse"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof sC))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(r){let i=r;for(;i;)n.currentTarget=i,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof aC))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const n=this.allocateEvent(sC);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=r??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],"string"==typeof t&&(n.type=t),n}createWheelEvent(e){const t=this.allocateEvent(aC);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(sC);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof sC&&t instanceof sC&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof oC&&t instanceof oC&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let n=0,i=r.length;n<i&&!e.propagationImmediatelyStopped;n++)r[n].once&&e.currentTarget.removeListener(t,r[n].fn,void 0,!0),r[n].fn.call(r[n].context,e)}}const dC={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},hC=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new cC(null),nC.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new sC(null),this.rootWheelEvent=new aC(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,r)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,e._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,n=t.length;r<n;r++){const e=t[r],n=this.bootstrapEvent(this.rootPointerEvent,e);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,nC.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const e=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let i=0,o=n.length;i<o;i++){const e=this.bootstrapEvent(this.rootPointerEvent,n[i]);e.type+=r,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const e=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,nC.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;nC.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;nC.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-n.left)*(this.domElement.width/n.width)*i,e.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,n=e.changedTouches.length;r<n;r++){const n=e.changedTouches[r];typeof n.button>"u"&&(n.button=0),typeof n.buttons>"u"&&(n.buttons=1),typeof n.isPrimary>"u"&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof n.width>"u"&&(n.width=n.radiusX||1),typeof n.height>"u"&&(n.height=n.radiusY||1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="touch"),typeof n.pointerId>"u"&&(n.pointerId=n.identifier||0),typeof n.pressure>"u"&&(n.pressure=n.force||.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),typeof n.layerX>"u"&&(n.layerX=n.offsetX=n.clientX),typeof n.layerY>"u"&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=e.type,t.push(n)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=1),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=dC[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};hC.extension={name:"events",type:[Cb.RendererSystem,Cb.CanvasRendererSystem]},hC.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let fC=hC;function pC(e){return"dynamic"===e||"static"===e}Tb.add(fC);const mC={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??pC(fC.defaultEventMode)},set interactive(e){h_("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??fC.defaultEventMode},set eventMode(e){this._internalInteractive=pC(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){const n="function"==typeof t?void 0:t;e="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.on(e,t,n)},removeEventListener(e,t,r){const n="function"==typeof t?void 0:t;e="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,n)},dispatchEvent(e){if(!(e instanceof iC))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};IE.mixin(mC);const gC={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};IE.mixin(gC);class vC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(mm.tablet||mm.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(mm.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:n,height:i}=this.renderer.view.getBoundingClientRect(),{width:o,height:s,resolution:a}=this.renderer,l=n/o*a,u=i/s*a;let c=this.div;c.style.left=`${t}px`,c.style.top=`${r}px`,c.style.width=`${o}px`,c.style.height=`${s}px`;for(let d=0;d<this.children.length;d++){const e=this.children[d];if(e.renderId!==this.renderId)e._accessibleActive=!1,ab(this.children,d,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,d--;else{c=e._accessibleDiv;let t=e.hitArea;const r=e.worldTransform;e.hitArea?(c.style.left=(r.tx+t.x*r.a)*l+"px",c.style.top=(r.ty+t.y*r.d)*u+"px",c.style.width=t.width*r.a*l+"px",c.style.height=t.height*r.d*u+"px"):(t=e.getBounds(),this.capHitArea(t),c.style.left=t.x*l+"px",c.style.top=t.y*u+"px",c.style.width=t.width*l+"px",c.style.height=t.height*u+"px",c.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(c.title=e.accessibleTitle),c.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&c.setAttribute("aria-label",e.accessibleHint)),(e.accessibleTitle!==c.title||e.tabIndex!==c.tabIndex)&&(c.title=e.accessibleTitle,c.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,n=this.renderer.events.rootBoundary,i=Object.assign(new iC(n),{target:r});n.rootTarget=this.renderer.lastObjectRendered,t.forEach((e=>n.dispatchEvent(i,e)))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}vC.extension={name:"accessibility",type:[Cb.RendererPlugin,Cb.CanvasRendererPlugin]},Tb.add(vC);const yC=class e{constructor(t){this.stage=new zE,t=Object.assign({forceCanvas:!1},t),this.renderer=gE(t),e._plugins.forEach((e=>{e.init.call(this,t)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,r){const n=e._plugins.slice(0);n.reverse(),n.forEach((e=>{e.destroy.call(this)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};yC._plugins=[];let _C=e("w",yC);Tb.handleByList(Cb.Application,_C._plugins);class bC{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:n}=this._resizeTo;e=r,t=n}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bC.extension=Cb.Application,Tb.add(bC);const xC={loader:Cb.LoadParser,resolver:Cb.ResolveParser,cache:Cb.CacheParser,detection:Cb.DetectionParser};Tb.handle(Cb.Asset,(e=>{const t=e.ref;Object.entries(xC).filter((([e])=>!!t[e])).forEach((([e,r])=>Tb.add(Object.assign(t[e],{extension:t[e].extension??r}))))}),(e=>{const t=e.ref;Object.keys(xC).filter((e=>!!t[e])).forEach((e=>Tb.remove(t[e])))}));class wC{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach((e=>{this._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function EC(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function CC(e,t){const r=e.split("?")[0],n=g_.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const SC=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map((e=>"string"==typeof e||r?t(e):e)):e),AC=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e};function TC(e,t,r,n,i){const o=t[r];for(let s=0;s<o.length;s++){const a=o[s];r<t.length-1?TC(e.replace(n[r],a),t,r+1,n,i):i.push(e.replace(n[r],a))}}function DC(e){const t=e.match(/\{(.*?)\}/g),r=[];if(t){const n=[];t.forEach((e=>{const t=e.substring(1,e.length-1).split(",");n.push(t)})),TC(e,n,0,t,r)}else r.push(e);return r}const kC=e=>!Array.isArray(e),PC=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=SC(e);let n;for(let s=0;s<this.parsers.length;s++){const e=this.parsers[s];if(e.test(t)){n=e.getCacheableAssets(r,t);break}}n||(n={},r.forEach((e=>{n[e]=t})));const i=Object.keys(n),o={cacheKeys:i,keys:r};if(r.forEach((e=>{this._cacheMap.set(e,o)})),i.forEach((e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,n[e])})),t instanceof cw){const e=t;r.forEach((t=>{e.baseTexture!==cw.EMPTY.baseTexture&&jb.addToCache(e.baseTexture,t),cw.addToCache(e,t)}))}}remove(e){if(!this._cacheMap.has(e))return void console.warn(`[Assets] Asset id ${e} was not found in the Cache`);const t=this._cacheMap.get(e);t.cacheKeys.forEach((e=>{this._cache.delete(e)})),t.keys.forEach((e=>{this._cacheMap.delete(e)}))}get parsers(){return this._parsers}};class BC{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{let n=null,i=null;if(t.loadParser&&(i=this._parserHash[t.loadParser],i||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!i){for(let r=0;r<this.parsers.length;r++){const n=this.parsers[r];if(n.load&&n.test?.(e,t,this)){i=n;break}}if(!i)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await i.load(e,t,this),r.parser=i;for(let e=0;e<this.parsers.length;e++){const i=this.parsers[e];i.parse&&i.parse&&await(i.testParse?.(n,t,this))&&(n=await i.parse(n,t,this)||n,r.parser=i)}return n})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const n={},i=kC(e),o=SC(e,(e=>({alias:[e],src:e}))),s=o.length,a=o.map((async e=>{const i=g_.toAbsolute(e.src);if(!n[e.src])try{this.promiseCache[i]||(this.promiseCache[i]=this._getLoadPromiseAndParser(i,e)),n[e.src]=await this.promiseCache[i].promise,t&&t(++r/s)}catch(whe){throw delete this.promiseCache[i],delete n[e.src],new Error(`[Loader.load] Failed to load ${i}.\n${whe}`)}}));return await Promise.all(a),i?n[o[0].src]:n}async unload(e){const t=SC(e,(e=>({alias:[e],src:e}))).map((async e=>{const t=g_.toAbsolute(e.src),r=this.promiseCache[t];if(r){const n=await r.promise;delete this.promiseCache[t],r.parser?.unload?.(n,e,this)}}));await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((e=>e.name)).reduce(((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t})),{})}}var RC=e("e",(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(RC||{}));const OC={extension:{type:Cb.LoadParser,priority:RC.Low},name:"loadJson",test:e=>EC(e,"application/json")||CC(e,".json"),load:async e=>await(await Zp.ADAPTER.fetch(e)).json()};Tb.add(OC);const FC={name:"loadTxt",extension:{type:Cb.LoadParser,priority:RC.Low},test:e=>EC(e,"text/plain")||CC(e,".txt"),load:async e=>await(await Zp.ADAPTER.fetch(e)).text()};Tb.add(FC);const MC=["normal","bold","100","200","300","400","500","600","700","800","900"],IC=[".ttf",".otf",".woff",".woff2"],NC=["font/ttf","font/otf","font/woff","font/woff2"],LC=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function UC(e){const t=g_.extname(e),r=g_.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1)));let n=r.length>0;for(const o of r)if(!o.match(LC)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const jC=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,zC={extension:{type:Cb.LoadParser,priority:RC.Low},name:"loadWebFont",test:e=>EC(e,NC)||CC(e,IC),async load(e,t){const r=Zp.ADAPTER.getFontFaceSet();if(r){const i=[],o=t.data?.family??UC(e),s=t.data?.weights?.filter((e=>MC.includes(e)))??["normal"],a=t.data??{};for(let t=0;t<s.length;t++){const l=s[t],u=new FontFace(o,`url(${n=e,jC.test(n)?n:encodeURI(n)})`,{...a,weight:l});await u.load(),r.add(u),i.push(u)}return 1===i.length?i[0]:i}var n;return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach((e=>Zp.ADAPTER.getFontFaceSet().delete(e)))}};Tb.add(zC);let GC,VC=0;const HC={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},WC={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let $C;const YC=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((e=>{const t=URL.createObjectURL(new Blob([HC.code],{type:"application/javascript"})),r=new Worker(t);r.addEventListener("message",(n=>{r.terminate(),URL.revokeObjectURL(t),e(n.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===GC&&(GC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<GC&&($C||($C=URL.createObjectURL(new Blob([WC.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker($C),e.addEventListener("message",(e=>{this.complete(e.data),this.returnWorker(e.target),this.next()}))),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise(((r,n)=>{this.queue.push({id:e,arguments:t,resolve:r,reject:n})}));return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[VC]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:VC++,id:r})}};function XC(e,t,r){e.resource.internal=!0;const n=new cw(e),i=()=>{delete t.promiseCache[r],PC.has(r)&&PC.remove(r)};return n.baseTexture.once("destroyed",(()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())})),n.once("destroyed",(()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())})),n}const qC=[".jpeg",".jpg",".png",".webp",".avif"],KC=["image/jpeg","image/png","image/webp","image/avif"];async function ZC(e){const t=await Zp.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const QC={name:"loadTextures",extension:{type:Cb.LoadParser,priority:RC.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>EC(e,KC)||CC(e,qC),async load(e,t,r){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;i=n?this.config.preferWorkers&&await YC.isImageBitmapSupported()?await YC.loadImageBitmap(e):await ZC(e):await new Promise(((t,r)=>{const n=new Image;n.crossOrigin=this.config.crossOrigin,n.src=e,n.complete?t(n):(n.onload=()=>t(n),n.onerror=e=>r(e))}));const o={...t.data};o.resolution??(o.resolution=wb(e)),n&&void 0===o.resourceOptions?.ownsImageBitmap&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const s=new jb(i,o);return s.resource.src=e,XC(s,r,e)},unload(e){e.destroy(!0)}};Tb.add(QC);const JC={extension:{type:Cb.LoadParser,priority:RC.High},name:"loadSVG",test:e=>EC(e,"image/svg+xml")||CC(e,".svg"),testParse:async e=>RE.test(e),async parse(e,t,r){const n=new RE(e,t?.data?.resourceOptions);await n.load();const i=new jb(n,{resolution:wb(e),...t?.data});return i.resource.src=t.src,XC(i,r,t.src)},load:async(e,t)=>(await Zp.ADAPTER.fetch(e)).text(),unload:QC.unload};Tb.add(JC);const eS=[".mp4",".m4v",".webm",".ogv"],tS=["video/mp4","video/webm","video/ogg"],rS={name:"loadVideo",extension:{type:Cb.LoadParser,priority:RC.High},config:{defaultAutoPlay:!0},test:e=>EC(e,tS)||CC(e,eS),async load(e,t,r){let n;const i=await(await Zp.ADAPTER.fetch(e)).blob(),o=URL.createObjectURL(i);try{const i={autoPlay:this.config.defaultAutoPlay,...t?.data?.resourceOptions},s=new FE(o,i);await s.load();const a=new jb(s,{alphaMode:await __(),resolution:wb(e),...t?.data});a.resource.src=e,n=XC(a,r,e),n.baseTexture.once("destroyed",(()=>{URL.revokeObjectURL(o)}))}catch(whe){throw URL.revokeObjectURL(o),whe}return n},unload(e){e.destroy(!0)}};Tb.add(rS);class nS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach((e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))})),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}}getAlias(e){const{alias:t,name:r,src:n,srcs:i}=e;return SC(t||r||n||i,(e=>"string"==typeof e?e:Array.isArray(e)?e.map((e=>e?.src??e?.srcs??e)):e?.src||e?.srcs?e.src??e.srcs:e),!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((e=>{this.addBundle(e.name,e.assets)}))}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach((t=>{const n=t.src??t.srcs,i=t.alias??t.name;let o;if("string"==typeof i){const t=this._createBundleAssetId(e,i);r.push(t),o=[i,t]}else{const t=i.map((t=>this._createBundleAssetId(e,t)));r.push(...t),o=[...i,...t]}this.add({...t,alias:o,src:n})})):Object.keys(t).forEach((n=>{const i=[n,this._createBundleAssetId(e,n)];if("string"==typeof t[n])this.add({alias:i,src:t[n]});else if(Array.isArray(t[n]))this.add({alias:i,src:t[n]});else{const e=t[n],r=e.src??e.srcs;this.add({...e,alias:i,src:Array.isArray(r)?r:[r]})}r.push(...i)})),this._bundles[e]=r}add(e,t,r,n,i){const o=[];let s;"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(h_("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:t,data:r,format:n,loadParser:i})):Array.isArray(e)?o.push(...e):o.push(e),s=e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)},SC(o).forEach((e=>{const{src:t,srcs:r}=e;let{data:n,format:i,loadParser:o}=e;const a=SC(t||r).map((e=>"string"==typeof e?DC(e):Array.isArray(e)?e:[e])),l=this.getAlias(e);Array.isArray(l)?l.forEach(s):s(l);const u=[];a.forEach((e=>{e.forEach((e=>{let t={};if("object"!=typeof e){t.src=e;for(let r=0;r<this._parsers.length;r++){const n=this._parsers[r];if(n.test(e)){t=n.parse(e);break}}}else n=e.data??n,i=e.format??i,o=e.loadParser??o,t={...t,...e};if(!l)throw new Error(`[Resolver] alias is undefined for this asset: ${t.src}`);t=this.buildResolvedAsset(t,{aliases:l,data:n,format:i,loadParser:o}),u.push(t)}))})),l.forEach((e=>{this._assetMap[e]=u}))}))}resolveBundle(e){const t=kC(e);e=SC(e);const r={};return e.forEach((e=>{const t=this._bundles[e];if(t){const n=this.resolve(t),i={};for(const t in n){const r=n[t];i[this._extractAssetIdFromBundle(e,t)]=r}r[e]=i}})),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const e={};for(const r in t)e[r]=t[r].src;return e}return t.src}resolve(e){const t=kC(e);e=SC(e);const r={};return e.forEach((e=>{if(!this._resolverHash[e])if(this._assetMap[e]){let t=this._assetMap[e];const r=t[0],n=this._getPreferredOrder(t);n?.priority.forEach((e=>{n.params[e].forEach((r=>{const n=t.filter((t=>!!t[e]&&t[e]===r));n.length&&(t=n)}))})),this._resolverHash[e]=t[0]??r}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{});r[e]=this._resolverHash[e]})),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const t=e[0],r=this._preferredOrder.find((e=>e.params.format.includes(t.format)));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`:e}buildResolvedAsset(e,t){const{aliases:r,data:n,loadParser:i,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=g_.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=i??e.loadParser,e.format=o??g_.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class iS{constructor(){this._detections=[],this._initialized=!1,this.resolver=new nS,this.loader=new BC,this.cache=PC,this._backgroundLoader=new wC(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}const t=e.texturePreference?.resolution??1,r="number"==typeof t?[t]:t,n=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,n,i){this.resolver.add(e,t,r,n,i)}async load(e,t){this._initialized||await this.init();const r=kC(e),n=SC(e).map((e=>{if("string"!=typeof e){const t=this.resolver.getAlias(e);return t.some((e=>!this.resolver.hasKey(e)))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e})),i=this.resolver.resolve(n),o=await this._mapLoadToResolve(i,t);return r?o[n[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;"string"==typeof e&&(r=!0,e=[e]);const n=this.resolver.resolveBundle(e),i={},o=Object.keys(n);let s=0,a=0;const l=()=>{t?.(++s/a)},u=o.map((e=>{const t=n[e];return a+=Object.keys(t).length,this._mapLoadToResolve(t,l).then((t=>{i[e]=t}))}));return await Promise.all(u),r?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach((e=>{this._backgroundLoader.add(Object.values(e))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return PC.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=PC.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const i=await this.loader.load(r,t);this._backgroundLoader.active=!0;const o={};return r.forEach(((e,t)=>{const r=i[e.src],s=[e.src];e.alias&&s.push(...e.alias),o[n[t]]=r,PC.set(s,r)})),o}async unload(e){this._initialized||await this.init();const t=SC(e).map((e=>"string"!=typeof e?e.src:e)),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=SC(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map((e=>this._unloadFromResolved(t[e])));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach((e=>{PC.remove(e.src)})),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter(((e,r)=>t.indexOf(e)===r)),t}get detections(){return this._detections}get preferWorkers(){return QC.config.preferWorkers}set preferWorkers(e){h_("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach((t=>{t.config&&Object.keys(t.config).filter((t=>t in e)).forEach((r=>{t.config[r]=e[r]}))}))}}const oS=e("A",new iS);Tb.handleByList(Cb.LoadParser,oS.loader.parsers).handleByList(Cb.ResolveParser,oS.resolver.parsers).handleByList(Cb.CacheParser,oS.cache.parsers).handleByList(Cb.DetectionParser,oS.detections);const sS={extension:Cb.CacheParser,test:e=>Array.isArray(e)&&e.every((e=>e instanceof cw)),getCacheableAssets:(e,t)=>{const r={};return e.forEach((e=>{t.forEach(((t,n)=>{r[e+(0===n?"":n+1)]=t}))})),r}};async function aS(e){if("Image"in globalThis)return new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}));if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}Tb.add(sS);const lS={extension:{type:Cb.DetectionParser,priority:1},test:async()=>aS("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter((e=>"avif"!==e))};Tb.add(lS);const uS={extension:{type:Cb.DetectionParser,priority:0},test:async()=>aS("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter((e=>"webp"!==e))};Tb.add(uS);const cS=["png","jpg","jpeg"],dS={extension:{type:Cb.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...cS],remove:async e=>e.filter((e=>!cS.includes(e)))};Tb.add(dS);const hS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function fS(e){return!hS&&""!==document.createElement("video").canPlayType(e)}const pS={extension:{type:Cb.DetectionParser,priority:0},test:async()=>fS("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter((e=>"webm"!==e))};Tb.add(pS);const mS={extension:{type:Cb.DetectionParser,priority:0},test:async()=>fS("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter((e=>"mp4"!==e&&"m4v"!==e))};Tb.add(mS);const gS={extension:{type:Cb.DetectionParser,priority:0},test:async()=>fS("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter((e=>"ogv"!==e))};Tb.add(gS);const vS={extension:Cb.ResolveParser,test:QC.test,parse:e=>({resolution:parseFloat(Zp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:g_.extname(e).slice(1),src:e})};Tb.add(vS);var yS=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))(yS||{});const _S={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let bS,xS;function wS(){xS={s3tc:bS.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:bS.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:bS.getExtension("WEBGL_compressed_texture_etc"),etc1:bS.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:bS.getExtension("WEBGL_compressed_texture_pvrtc")||bS.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:bS.getExtension("WEBGL_compressed_texture_atc"),astc:bS.getExtension("WEBGL_compressed_texture_astc")}}const ES={extension:{type:Cb.DetectionParser,priority:2},test:async()=>{const e=Zp.ADAPTER.createCanvas().getContext("webgl");return e?(bS=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{xS||wS();const t=[];for(const r in xS)xS[r]&&t.push(r);return[...t,...e]},remove:async e=>(xS||wS(),e.filter((e=>!(e in xS))))};Tb.add(ES);class CS extends Nb{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,n;"string"==typeof e?(r=e,n=new Uint8Array):(r=null,n=e),super(n,t),this.origin=r,this.buffer=n?new Db(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then((e=>e.blob())).then((e=>e.arrayBuffer())).then((e=>(this.data=new Uint32Array(e),this.buffer=new Db(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)))),this._load}}class SS extends CS{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=SS._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||SS._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let i=0,o=this.levels;i<o;i++){const{levelID:e,levelWidth:t,levelHeight:r,levelBuffer:o}=this._levelBuffers[i];n.compressedTexImage2D(n.TEXTURE_2D,e,this.format,t,r,0,o)}return!0}onBlobLoaded(){this._levelBuffers=SS._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,r,n,i,o,s){const a=new Array(r);let l=e.byteOffset,u=o,c=s,d=u+n-1&~(n-1),h=c+i-1&~(i-1),f=d*h*_S[t];for(let p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?u:d,levelHeight:r>1?c:h,levelBuffer:new Uint8Array(e.buffer,l,f)},l+=f,u=u>>1||1,c=c>>1||1,d=u+n-1&~(n-1),h=c+i-1&~(i-1),f=d*h*_S[t];return a}}const AS=124,TS=3,DS=4,kS=7,PS=19,BS=2,RS=0,OS=1,FS=2,MS=3,IS={827611204:yS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:yS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:yS.COMPRESSED_RGBA_S3TC_DXT5_EXT},NS={70:yS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:yS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:yS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:yS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:yS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:yS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:yS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:yS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:yS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function LS(e){const t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");const r=new Uint32Array(e,0,AS/Uint32Array.BYTES_PER_ELEMENT),n=r[TS],i=r[DS],o=r[kS],s=new Uint32Array(e,PS*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){const r=s[BS];if(808540228!==r){const t=IS[r],s=new Uint8Array(e,128);return[new SS(s,{format:t,width:i,height:n,levels:o})]}const a=128,l=new Uint32Array(t.buffer,a,20/Uint32Array.BYTES_PER_ELEMENT),u=l[RS],c=l[OS],d=l[FS],h=l[MS],f=NS[u];if(void 0===f)throw new Error(`DDSParser cannot parse texture data with DXGI format ${u}`);if(4===d)throw new Error("DDSParser does not support cubemap textures");if(6===c)throw new Error("DDSParser does not supported 3D texture data");const p=new Array,m=148;if(1===h)p.push(new Uint8Array(e,m));else{const t=_S[f];let r=0,s=i,a=n;for(let e=0;e<o;e++)r+=Math.max(1,s+3&-4)*Math.max(1,a+3&-4)*t,s>>>=1,a>>>=1;let l=m;for(let n=0;n<h;n++)p.push(new Uint8Array(e,l,r)),l+=r}return p.map((e=>new SS(e,{format:f,width:i,height:n,levels:o})))}throw 64&a?new Error("DDSParser does not support uncompressed texture data."):512&a?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const US=[171,75,84,88,32,49,49,187,13,10,26,10],jS=12,zS=16,GS=24,VS=28,HS=36,WS=40,$S=44,YS=48,XS=52,qS=56,KS=60,ZS=64,QS={[Np.UNSIGNED_BYTE]:1,[Np.UNSIGNED_SHORT]:2,[Np.INT]:4,[Np.UNSIGNED_INT]:4,[Np.FLOAT]:4,[Np.HALF_FLOAT]:8},JS={[Mp.RGBA]:4,[Mp.RGB]:3,[Mp.RG]:2,[Mp.RED]:1,[Mp.LUMINANCE]:1,[Mp.LUMINANCE_ALPHA]:2,[Mp.ALPHA]:1},eA={[Np.UNSIGNED_SHORT_4_4_4_4]:2,[Np.UNSIGNED_SHORT_5_5_5_1]:2,[Np.UNSIGNED_SHORT_5_6_5]:2};function tA(e,t,r=!1){const n=new DataView(t);if(!function(e,t){for(let r=0;r<US.length;r++)if(t.getUint8(r)!==US[r])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}(e,n))return null;const i=67305985===n.getUint32(jS,!0),o=n.getUint32(zS,i),s=n.getUint32(GS,i),a=n.getUint32(VS,i),l=n.getUint32(HS,i),u=n.getUint32(WS,i)||1,c=n.getUint32($S,i)||1,d=n.getUint32(YS,i)||1,h=n.getUint32(XS,i),f=n.getUint32(qS,i),p=n.getUint32(KS,i);if(0===u||1!==c)throw new Error("Only 2D textures are supported");if(1!==h)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");const m=l+3&-4,g=u+3&-4,v=new Array(d);let y,_=l*u;if(0===o&&(_=m*g),y=0!==o?QS[o]?QS[o]*JS[s]:eA[o]:_S[a],void 0===y)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const b=r?function(e,t,r){const n=new Map;let i=0;for(;i<t;){const o=e.getUint32(ZS+i,r),s=ZS+i+4,a=3-(o+3)%4;if(0===o||o>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<o&&0!==e.getUint8(s+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=(new TextDecoder).decode(new Uint8Array(e.buffer,s,l)),c=new DataView(e.buffer,s+l+1,o-l-1);n.set(u,c),i+=4+o+a}return n}(n,p,i):null;let x=_*y,w=l,E=u,C=m,S=g,A=ZS+p;for(let T=0;T<f;T++){const e=n.getUint32(A,i);let r=A+4;for(let n=0;n<d;n++){let e=v[n];e||(e=v[n]=new Array(f)),e[T]={levelID:T,levelWidth:f>1||0!==o?w:C,levelHeight:f>1||0!==o?E:S,levelBuffer:new Uint8Array(t,r,x)},r+=x}A+=e+4,A=A%4!=0?A+4-A%4:A,w=w>>1||1,E=E>>1||1,C=w+4-1&-4,S=E+4-1&-4,x=C*S*y}return 0!==o?{uncompressed:v.map((e=>{let t=e[0].levelBuffer,r=!1;return o===Np.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===Np.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===Np.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new Nb(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:r?rA(s):s}})),kvData:b}:{compressed:v.map((e=>new SS(null,{format:a,width:l,height:u,levels:f,levelBuffers:e}))),kvData:b}}function rA(e){switch(e){case Mp.RGBA:return Mp.RGBA_INTEGER;case Mp.RGB:return Mp.RGB_INTEGER;case Mp.RG:return Mp.RG_INTEGER;case Mp.RED:return Mp.RED_INTEGER;default:return e}}const nA={extension:{type:Cb.LoadParser,priority:RC.High},name:"loadDDS",test:e=>CC(e,".dds"),async load(e,t,r){const n=LS(await(await Zp.ADAPTER.fetch(e)).arrayBuffer()).map((n=>XC(new jb(n,{mipmap:zp.OFF,alphaMode:Gp.NO_PREMULTIPLIED_ALPHA,resolution:wb(e),...t.data}),r,e)));return 1===n.length?n[0]:n},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};Tb.add(nA);const iA={extension:{type:Cb.LoadParser,priority:RC.High},name:"loadKTX",test:e=>CC(e,".ktx"),async load(e,t,r){const n=await(await Zp.ADAPTER.fetch(e)).arrayBuffer(),{compressed:i,uncompressed:o,kvData:s}=tA(e,n),a=i??o,l={mipmap:zp.OFF,alphaMode:Gp.NO_PREMULTIPLIED_ALPHA,resolution:wb(e),...t.data},u=a.map((t=>{a===o&&Object.assign(l,{type:t.type,format:t.format});const n=t.resource??t,i=new jb(n,l);return i.ktxKeyValueData=s,XC(i,r,e)}));return 1===u.length?u[0]:u},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};Tb.add(iA);const oA={extension:Cb.ResolveParser,test:e=>{const t=g_.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:e=>{const t=g_.extname(e).slice(1);if("ktx"===t){const t=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(t.some((t=>e.endsWith(t))))return{resolution:parseFloat(Zp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t.find((t=>e.endsWith(t))),src:e}}return{resolution:parseFloat(Zp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t,src:e}}};Tb.add(oA);const sA=new nx,aA=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,n){const i=new Image;return i.src=await this.base64(e,t,r,n),i}async base64(e,t,r,n){const i=this.canvas(e,n);if(void 0!==i.toBlob)return new Promise(((e,n)=>{i.toBlob((t=>{if(!t)return void n(new Error("ICanvas.toBlob failed!"));const r=new FileReader;r.onload=()=>e(r.result),r.onerror=n,r.readAsDataURL(t)}),t,r)}));if(void 0!==i.toDataURL)return i.toDataURL(t,r);if(void 0!==i.convertToBlob){const e=await i.convertToBlob({type:t,quality:r});return new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,r){const{pixels:n,width:i,height:o,flipY:s,premultipliedAlpha:a}=this._rawPixels(t,r);s&&e._flipY(n,i,o),a&&e._unpremultiplyAlpha(n);const l=new gb(i,o,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,o);return l.context.putImageData(u,0,0),l.canvas}pixels(t,r){const{pixels:n,width:i,height:o,flipY:s,premultipliedAlpha:a}=this._rawPixels(t,r);return s&&e._flipY(n,i,o),a&&e._unpremultiplyAlpha(n),n}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i,o=!1,s=!1,a=!1;e&&(e instanceof dw?i=e:(i=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),a=!0,t&&(sA.width=t.width,sA.height=t.height,t=sA)));const l=r.gl;if(i){if(n=i.baseTexture.resolution,t=t??i.frame,o=!1,s=i.baseTexture.alphaMode>0&&i.baseTexture.format===Mp.RGBA,!a){r.renderTexture.bind(i);const e=i.framebuffer.glFramebuffers[r.CONTEXT_UID];e.blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer)}}else n=r.resolution,t||((t=sA).width=r.width/n,t.height=r.height/n),o=!0,s=this._rendererPremultipliedAlpha,r.renderTexture.bind();const u=Math.max(Math.round(t.width*n),1),c=Math.max(Math.round(t.height*n),1),d=new Uint8Array(4*u*c);return l.readPixels(Math.round(t.x*n),Math.round(t.y*n),u,c,l.RGBA,l.UNSIGNED_BYTE,d),a&&i?.destroy(!0),{pixels:d,width:u,height:c,flipY:o,premultipliedAlpha:s}}destroy(){this.renderer=null}static _flipY(e,t,r){const n=t<<2,i=r>>1,o=new Uint8Array(n);for(let s=0;s<i;s++){const t=s*n,i=(r-s-1)*n;o.set(e.subarray(t,t+n)),e.copyWithin(t,i,i+n),e.set(o,i)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const t=e[r+3];if(0!==t){const n=255.001/t;e[r]=e[r]*n+.5,e[r+1]=e[r+1]*n+.5,e[r+2]=e[r+2]*n+.5}}}};aA.extension={name:"extract",type:Cb.RendererSystem};let lA=aA;Tb.add(lA);const uA={build(e){const t=e.points;let r,n,i,o,s,a;if(e.type===ex.CIRC){const t=e.shape;r=t.x,n=t.y,s=a=t.radius,i=o=0}else if(e.type===ex.ELIP){const t=e.shape;r=t.x,n=t.y,s=t.width,a=t.height,i=o=0}else{const t=e.shape,l=t.width/2,u=t.height/2;r=t.x+l,n=t.y+u,s=a=Math.max(0,Math.min(t.radius,Math.min(l,u))),i=l-s,o=u-a}if(!(s>=0&&a>=0&&i>=0&&o>=0))return void(t.length=0);const l=Math.ceil(2.3*Math.sqrt(s+a)),u=8*l+(i?4:0)+(o?4:0);if(t.length=u,0===u)return;if(0===l)return t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,void(t[5]=t[7]=n-o);let c=0,d=4*l+(i?2:0)+2,h=d,f=u;{const e=i+s,a=o,l=r+e,u=r-e,p=n+a;if(t[c++]=l,t[c++]=p,t[--d]=p,t[--d]=u,o){const e=n-a;t[h++]=u,t[h++]=e,t[--f]=e,t[--f]=l}}for(let p=1;p<l;p++){const e=Math.PI/2*(p/l),u=i+Math.cos(e)*s,m=o+Math.sin(e)*a,g=r+u,v=r-u,y=n+m,_=n-m;t[c++]=g,t[c++]=y,t[--d]=y,t[--d]=v,t[h++]=v,t[h++]=_,t[--f]=_,t[--f]=g}{const e=o+a,s=r+i,l=r-i,u=n+e,d=n-e;t[c++]=s,t[c++]=u,t[--f]=d,t[--f]=s,i&&(t[c++]=l,t[c++]=u,t[--f]=d,t[--f]=l)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(0===r.length)return;let o=n.length/2;const s=o;let a,l;if(e.type!==ex.RREC){const t=e.shape;a=t.x,l=t.y}else{const t=e.shape;a=t.x+t.width/2,l=t.y+t.height/2}const u=e.matrix;n.push(e.matrix?u.a*a+u.c*l+u.tx:a,e.matrix?u.b*a+u.d*l+u.ty:l),o++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(o++,s,o);i.push(s+1,s,o)}};function cA(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,o=e[r-2],s=e[r-1];i<r;i+=2){const t=e[i],r=e[i+1];n+=(t-o)*(r+s),o=t,s=r}if(!t&&n>0||t&&n<=0){const t=r/2;for(let n=t+t%2;n<r;n+=2){const t=r-n-2,i=r-n-1,o=n,s=n+1;[e[t],e[o]]=[e[o],e[t]],[e[i],e[s]]=[e[s],e[i]]}}}const dA={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,o=t.indices;if(r.length>=6){cA(r,!1);const e=[];for(let i=0;i<n.length;i++){const t=n[i];cA(t.points,!0),e.push(r.length/2),r=r.concat(t.points)}const t=Wm(r,e,2);if(!t)return;const s=i.length/2;for(let r=0;r<t.length;r+=3)o.push(t[r]+s),o.push(t[r+1]+s),o.push(t[r+2]+s);for(let n=0;n<r.length;n++)i.push(r[n])}}},hA={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,s=e.points;s.length=0,i>=0&&o>=0&&s.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate(e,t){const r=e.points,n=t.points;if(0===r.length)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},fA={build(e){uA.build(e)},triangulate(e,t){uA.triangulate(e,t)}};var pA=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(pA||{}),mA=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(mA||{});const gA={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},vA=gA;class yA{static curveTo(e,t,r,n,i,o){const s=o[o.length-2],a=o[o.length-1]-t,l=s-e,u=n-t,c=r-e,d=Math.abs(a*c-l*u);if(d<1e-8||0===i)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const h=a*a+l*l,f=u*u+c*c,p=a*u+l*c,m=i*Math.sqrt(h)/d,g=i*Math.sqrt(f)/d,v=m*p/h,y=g*p/f,_=m*c+g*l,b=m*u+g*a,x=l*(g+v),w=a*(g+v),E=c*(m+y),C=u*(m+y);return{cx:_+e,cy:b+t,radius:i,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(C-b,E-_),anticlockwise:l*u>c*a}}static arc(e,t,r,n,i,o,s,a,l){const u=s-o,c=gA._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/Zb)),d=u/(2*c),h=2*d,f=Math.cos(d),p=Math.sin(d),m=c-1,g=m%1/m;for(let v=0;v<=m;++v){const e=d+o+h*(v+g*v),t=Math.cos(e),s=-Math.sin(e);l.push((f*t+p*s)*i+r,(f*-s+p*t)*i+n)}}}class _A{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class bA{static curveLength(e,t,r,n,i,o,s,a){let l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,_=e,b=t;for(let x=1;x<=10;++x)u=x/10,c=u*u,d=c*u,h=1-u,f=h*h,p=f*h,m=p*e+3*f*u*r+3*h*c*i+d*s,g=p*t+3*f*u*n+3*h*c*o+d*a,v=_-m,y=b-g,_=m,b=g,l+=Math.sqrt(v*v+y*y);return l}static curveTo(e,t,r,n,i,o,s){const a=s[s.length-2],l=s[s.length-1];s.length-=2;const u=gA._segmentsCount(bA.curveLength(a,l,e,t,r,n,i,o));let c=0,d=0,h=0,f=0,p=0;s.push(a,l);for(let m=1,g=0;m<=u;++m)g=m/u,c=1-g,d=c*c,h=d*c,f=g*g,p=f*g,s.push(h*a+3*d*g*e+3*c*f*r+p*i,h*l+3*d*g*t+3*c*f*n+p*o)}}function xA(e,t,r,n,i,o,s,a){let l,u;s?(l=n,u=-r):(l=-n,u=r);const c=e-r*i+l,d=t-n*i+u,h=e+r*o+l,f=t+n*o+u;return a.push(c,d,h,f),2}function wA(e,t,r,n,i,o,s,a){const l=r-e,u=n-t;let c=Math.atan2(l,u),d=Math.atan2(i-e,o-t);a&&c<d?c+=2*Math.PI:!a&&c>d&&(d+=2*Math.PI);let h=c;const f=d-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=f/g;if(h+=v,a){s.push(e,t,r,n);for(let r=1,n=h;r<g;r++,n+=v)s.push(e,t,e+Math.sin(n)*m,t+Math.cos(n)*m);s.push(e,t,i,o)}else{s.push(r,n,e,t);for(let r=1,n=h;r<g;r++,n+=v)s.push(e+Math.sin(n)*m,t+Math.cos(n)*m,e,t);s.push(i,o,e,t)}return 2*g}function EA(e,t){e.lineStyle.native?function(e,t){let r=0;const n=e.shape,i=e.points||n.points,o=n.type!==ex.POLY||n.closeStroke;if(0===i.length)return;const s=t.points,a=t.indices,l=i.length/2,u=s.length/2;let c=u;for(s.push(i[0],i[1]),r=1;r<l;r++)s.push(i[2*r],i[2*r+1]),a.push(c,c+1),c++;o&&a.push(c,u)}(e,t):function(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(0===n.length)return;const o=e.lineStyle,s=new tx(n[0],n[1]),a=new tx(n[n.length-2],n[n.length-1]),l=r.type!==ex.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const e=.5*(s.x+a.x),t=.5*(a.y+s.y);n.unshift(e,t),n.push(e,t)}const c=t.points,d=n.length/2;let h=n.length;const f=c.length/2,p=o.width/2,m=p*p,g=o.miterLimit*o.miterLimit;let v=n[0],y=n[1],_=n[2],b=n[3],x=0,w=0,E=-(y-b),C=v-_,S=0,A=0,T=Math.sqrt(E*E+C*C);E/=T,C/=T,E*=p,C*=p;const D=o.alignment,k=2*(1-D),P=2*D;l||(o.cap===mA.ROUND?h+=wA(v-E*(k-P)*.5,y-C*(k-P)*.5,v-E*k,y-C*k,v+E*P,y+C*P,c,!0)+2:o.cap===mA.SQUARE&&(h+=xA(v,y,E,C,k,P,!0,c))),c.push(v-E*k,y-C*k,v+E*P,y+C*P);for(let O=1;O<d-1;++O){v=n[2*(O-1)],y=n[2*(O-1)+1],_=n[2*O],b=n[2*O+1],x=n[2*(O+1)],w=n[2*(O+1)+1],E=-(y-b),C=v-_,T=Math.sqrt(E*E+C*C),E/=T,C/=T,E*=p,C*=p,S=-(b-w),A=_-x,T=Math.sqrt(S*S+A*A),S/=T,A/=T,S*=p,A*=p;const e=_-v,t=y-b,r=_-x,i=w-b,s=e*r+t*i,a=t*r-i*e,l=a<0;if(Math.abs(a)<.001*Math.abs(s)){c.push(_-E*k,b-C*k,_+E*P,b+C*P),s>=0&&(o.join===pA.ROUND?h+=wA(_,b,_-E*k,b-C*k,_-S*k,b-A*k,c,!1)+4:h+=2,c.push(_-S*P,b-A*P,_+S*k,b+A*k));continue}const u=(-E+v)*(-C+b)-(-E+_)*(-C+y),d=(-S+x)*(-A+b)-(-S+_)*(-A+w),f=(e*d-r*u)/a,D=(i*u-t*d)/a,B=(f-_)*(f-_)+(D-b)*(D-b),R=_+(f-_)*k,F=b+(D-b)*k,M=_-(f-_)*P,I=b-(D-b)*P,N=l?k:P,L=B<=Math.min(e*e+t*t,r*r+i*i)+N*N*m;let U=o.join;if(U===pA.MITER&&B/m>g&&(U=pA.BEVEL),L)switch(U){case pA.MITER:c.push(R,F,M,I);break;case pA.BEVEL:l?c.push(R,F,_+E*P,b+C*P,R,F,_+S*P,b+A*P):c.push(_-E*k,b-C*k,M,I,_-S*k,b-A*k,M,I),h+=2;break;case pA.ROUND:l?(c.push(R,F,_+E*P,b+C*P),h+=wA(_,b,_+E*P,b+C*P,_+S*P,b+A*P,c,!0)+4,c.push(R,F,_+S*P,b+A*P)):(c.push(_-E*k,b-C*k,M,I),h+=wA(_,b,_-E*k,b-C*k,_-S*k,b-A*k,c,!1)+4,c.push(_-S*k,b-A*k,M,I))}else{switch(c.push(_-E*k,b-C*k,_+E*P,b+C*P),U){case pA.MITER:l?c.push(M,I,M,I):c.push(R,F,R,F),h+=2;break;case pA.ROUND:h+=l?wA(_,b,_+E*P,b+C*P,_+S*P,b+A*P,c,!0)+2:wA(_,b,_-E*k,b-C*k,_-S*k,b-A*k,c,!1)+2}c.push(_-S*k,b-A*k,_+S*P,b+A*P),h+=2}}v=n[2*(d-2)],y=n[2*(d-2)+1],_=n[2*(d-1)],b=n[2*(d-1)+1],E=-(y-b),C=v-_,T=Math.sqrt(E*E+C*C),E/=T,C/=T,E*=p,C*=p,c.push(_-E*k,b-C*k,_+E*P,b+C*P),l||(o.cap===mA.ROUND?h+=wA(_-E*(k-P)*.5,b-C*(k-P)*.5,_-E*k,b-C*k,_+E*P,b+C*P,c,!1)+2:o.cap===mA.SQUARE&&(h+=xA(_,b,E,C,k,P,!1,c)));const B=t.indices,R=gA.epsilon*gA.epsilon;for(let O=f;O<h+f-2;++O)v=c[2*O],y=c[2*O+1],_=c[2*(O+1)],b=c[2*(O+1)+1],x=c[2*(O+2)],w=c[2*(O+2)+1],!(Math.abs(v*(b-w)+_*(w-y)+x*(y-b))<R)&&B.push(O,O+1,O+2)}(e,t)}class CA{static curveLength(e,t,r,n,i,o){const s=e-2*r+i,a=t-2*n+o,l=2*r-2*e,u=2*n-2*t,c=4*(s*s+a*a),d=4*(s*l+a*u),h=l*l+u*u,f=2*Math.sqrt(c+d+h),p=Math.sqrt(c),m=2*c*p,g=2*Math.sqrt(h),v=d/p;return(m*f+p*d*(f-g)+(4*h*c-d*d)*Math.log((2*p+v+f)/(v+g)))/(4*m)}static curveTo(e,t,r,n,i){const o=i[i.length-2],s=i[i.length-1],a=gA._segmentsCount(CA.curveLength(o,s,e,t,r,n));let l=0,u=0;for(let c=1;c<=a;++c){const d=c/a;l=o+(e-o)*d,u=s+(t-s)*d,i.push(l+(e+(r-e)*d-l)*d,u+(t+(n-t)*d-u)*d)}}}const SA={[ex.POLY]:dA,[ex.CIRC]:uA,[ex.ELIP]:uA,[ex.RECT]:hA,[ex.RREC]:fA},AA=[],TA=[];class DA{constructor(e,t=null,r=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=n,this.type=e.type}clone(){return new DA(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}e("d",DA);const kA=new tx,PA=class e extends Kb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ME,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),TA.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),AA.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,n=null){const i=new DA(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new DA(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const n=t[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,kA):kA.copyFrom(e),n.shape.contains(kA.x,kA.y))){let e=!1;if(n.holes)for(let t=0;t<n.holes.length;t++)if(n.holes[t].shape.contains(kA.x,kA.y)){e=!0;break}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<t.length;a++){this.shapeIndex++;const i=t[a],o=i.fillStyle,s=i.lineStyle;SA[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix),(o.visible||s.visible)&&this.processHoles(i.holes);for(let t=0;t<2;t++){const a=0===t?o:s;if(!a.visible)continue;const l=a.texture.baseTexture,u=this.indices.length,c=this.points.length/2;l.wrapMode=jp.REPEAT,0===t?this.processFill(i):this.processLine(i);const d=this.points.length/2-c;0!==d&&(r&&!this._compareStyles(n,a)&&(r.end(u,c),r=null),r||(r=AA.pop()||new _A,r.begin(a,u,c),this.batches.push(r),n=a),this.addUvs(this.points,e,a.texture,c,d,a.matrix))}}const i=this.indices.length,o=this.points.length/2;if(r&&r.end(i,o),0===this.batches.length)return void(this.batchable=!0);const s=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&s===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=s?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const t=this.graphicsData[e],r=t.fillStyle,n=t.lineStyle;if(r&&!r.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const r=e[t];for(let e=0;e<r.size;e++){const t=r.start+e;this.indicesUint16[t]=this.indicesUint16[t]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++jb._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),TA.push(this.drawCalls[c]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let n=TA.pop();n||(n=new zb,n.texArray=new Yx),n.texArray.count=0,n.start=0,n.size=0,n.type=Fp.TRIANGLES;let i=0,o=null,s=0,a=!1,l=Fp.TRIANGLES,u=0;this.drawCalls.push(n);for(let c=0;c<this.batches.length;c++){const d=this.batches[c],h=8,f=d.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Fp.LINES:Fp.TRIANGLES,o=null,i=h,e++),o!==p&&(o=p,p._batchEnabled!==e&&(i===h&&(e++,i=0,n.size>0&&(n=TA.pop(),n||(n=new zb,n.texArray=new Yx),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=e,p._batchLocation=i,p.wrapMode=jp.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=d.size,u+=d.size,s=p._batchLocation,this.addColors(t,f.color,f.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,s,d.attribSize,d.attribStart)}jb._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),s=new Uint32Array(i);let a=0;for(let l=0;l<e.length/2;l++)o[a++]=e[2*l],o[a++]=e[2*l+1],o[a++]=t[2*l],o[a++]=t[2*l+1],s[a++]=r[l],o[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?dA.triangulate(e,this):SA[e.type].triangulate(e,this)}processLine(e){EA(e,this);for(let t=0;t<e.holes.length;t++)EA(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];SA[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const n=e[2*r],i=e[2*r+1];e[2*r]=t.a*n+t.c*i+t.tx,e[2*r+1]=t.b*n+t.d*i+t.ty}}addColors(e,t,r,n,i=0){const o=q_.shared.setValue(t).toLittleEndianNumber(),s=q_.shared.setValue(o).toPremultiplied(r);e.length=Math.max(e.length,i+n);for(let a=0;a<n;a++)e[i+a]=s}addTextureIds(e,t,r,n=0){e.length=Math.max(e.length,n+r);for(let i=0;i<r;i++)e[n+i]=t}addUvs(e,t,r,n,i,o=null){let s=0;const a=t.length,l=r.frame;for(;s<i;){let r=e[2*(n+s)],i=e[2*(n+s)+1];if(o){const e=o.a*r+o.c*i+o.tx;i=o.b*r+o.d*i+o.ty,r=e}s++,t.push(r/l.width,i/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(t,r,a,i)}adjustUvs(e,t,r,n){const i=t.baseTexture,o=1e-6,s=r+2*n,a=t.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,d=a.y/a.height,h=Math.floor(e[r]+o),f=Math.floor(e[r+1]+o);for(let p=r+2;p<s;p+=2)h=Math.min(h,Math.floor(e[p]+o)),f=Math.min(f,Math.floor(e[p+1]+o));c-=h,d-=f;for(let p=r;p<s;p+=2)e[p]=(e[p]+c)*l,e[p+1]=(e[p+1]+d)*u}};PA.BATCHABLE_SIZE=100;let BA=e("b",PA);class RA{constructor(){this.color=16777215,this.alpha=1,this.texture=cw.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new RA;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=cw.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}e("F",RA);class OA extends RA{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=mA.BUTT,this.join=pA.MITER,this.miterLimit=10}clone(){const e=new OA;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=mA.BUTT,this.join=pA.MITER,this.miterLimit=10}}e("L",OA);const FA={},MA=class e extends zE{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new RA,this._lineStyle=new OA,this._matrix=null,this._holeMode=!1,this.state=Rb.for2d(),this._geometry=e||new BA,this._geometry.refCount++,this._transformID=-1,this._tintColor=new q_(16777215),this.blendMode=Op.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,n=.5,i=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:n,native:i}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:cw.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:mA.BUTT,join:pA.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new sx,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new sx,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==e||i!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,n){this._initCurve();const i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),CA.curveTo(e,t,r,n,i),this}bezierCurveTo(e,t,r,n,i,o){return this._initCurve(),bA.curveTo(e,t,r,n,i,o,this.currentPath.points),this}arcTo(e,t,r,n,i){this._initCurve(e,t);const o=this.currentPath.points,s=yA.curveTo(e,t,r,n,i,o);if(s){const{cx:e,cy:t,radius:r,startAngle:n,endAngle:i,anticlockwise:o}=s;this.arc(e,t,r,n,i,o)}return this}arc(e,t,r,n,i,o=!1){if(n===i)return this;if(!o&&i<=n?i+=Zb:o&&n<=i&&(n+=Zb),i-n==0)return this;const s=e+Math.cos(n)*r,a=t+Math.sin(n)*r,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const e=Math.abs(u[u.length-2]-s),t=Math.abs(u[u.length-1]-a);e<l&&t<l||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return yA.arc(s,a,e,t,r,n,i,o,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:cw.WHITE,color:e,alpha:t})}normalizeColor(e){const t=q_.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:cw.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,n){return this.drawShape(new nx(e,t,r,n))}drawRoundedRect(e,t,r,n,i){return this.drawShape(new ax(e,t,r,n,i))}drawCircle(e,t,r){return this.drawShape(new ix(e,t,r))}drawEllipse(e,t,r,n){return this.drawShape(new ox(e,t,r,n))}drawPolygon(...e){let t,r=!0;const n=e[0];n.points?(r=n.closeStroke,t=n.points):t=Array.isArray(e[0])?e[0]:e;const i=new sx(t);return i.closeStroke=r,this.drawShape(i),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==ex.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let n=0;n<r;n++){const r=e.batches[n],i=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),a={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*r.start,r.size),uvs:s,_batchRGB:q_.shared.setValue(i).toRgbArray(),_tintRGB:i,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=a}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,n=this.worldAlpha,i=t.uniforms,o=r.drawCalls;i.translationMatrix=this.transform.worldTransform,q_.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let s=0,a=o.length;s<a;s++)this._renderDrawCallDirect(e,r.drawCalls[s])}_renderDrawCallDirect(e,t){const{texArray:r,type:n,size:i,start:o}=t,s=r.count;for(let a=0;a<s;a++)e.texture.bind(r.elements[a],a);e.geometry.draw(n,i,o)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!FA[r]){const{maxTextures:t}=e.plugins[r],n=new Int32Array(t);for(let e=0;e<t;e++)n[e]=e;const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new lx,default:Hx.from({uSamplers:n},!0)},o=e.plugins[r]._shader.program;FA[r]=new Wx(o,i)}t=FA[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:n,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=q_.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let d=0;d<l.length;d+=2){const e=l[d],t=l[d+1];u[c++]=r*e+i*t+s,u[c++]=o*t+n*e+a}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};MA.curves=gA,MA._TEMP_POINT=new tx;let IA=e("G",MA);const NA={buildPoly:dA,buildCircle:uA,buildRectangle:hA,buildRoundedRectangle:fA,buildLine:EA,ArcUtils:yA,BezierUtils:bA,QuadraticUtils:CA,BatchPart:_A,FILL_COMMANDS:SA,BATCH_POOL:AA,DRAW_CALL_POOL:TA};class LA{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const UA=new tx,jA=new sx,zA=class e extends zE{constructor(e,t,r,n=Fp.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Rb.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Zp.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Fp.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const n=this.transform.worldTransform,i=n.a,o=n.b,s=n.c,a=n.d,l=n.tx,u=n.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const e=t[2*d],r=t[2*d+1];c[2*d]=i*e+s*r+l,c[2*d+1]=o*e+a*r+u}if(this._roundPixels){const e=Zp.RESOLUTION;for(let t=0;t<c.length;++t)c[t]=Math.round(c[t]*e)/e}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new LA(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,UA);const t=this.geometry.getBuffer("aVertexPosition").data,r=jA.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1;for(let s=0;s+2<i;s+=o){const e=2*n[s],i=2*n[s+1],o=2*n[s+2];if(r[0]=t[e],r[1]=t[e+1],r[2]=t[i],r[3]=t[i+1],r[4]=t[o],r[5]=t[o+1],jA.contains(UA.x,UA.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};zA.BATCHABLE_SIZE=100;let GA=zA;class VA extends qb{constructor(e,t,r){super();const n=new Vb(e),i=new Vb(t,!0),o=new Vb(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,Np.FLOAT).addAttribute("aTextureCoord",i,2,!1,Np.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class HA extends Wx{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:lx.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(r,t.uniforms),super(t.program||Gx.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r),this._colorDirty=!1,this.uvMatrix=new Sw(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new q_(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;q_.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class WA extends VA{constructor(e=100,t=100,r=10,n=10){super(),this.segWidth=r,this.segHeight=n,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o;for(let u=0;u<e;u++){const e=u%this.segWidth,n=u/this.segWidth|0;t.push(e*s,n*a),r.push(e/i,n/o)}const l=i*o;for(let u=0;u<l;u++){const e=u%i,t=u/i|0,r=t*this.segWidth+e,o=t*this.segWidth+e+1,s=(t+1)*this.segWidth+e,a=(t+1)*this.segWidth+e+1;n.push(r,o,s,o,a,s)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class $A extends VA{constructor(e=200,t,r=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1))),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),n.data=new Uint16Array(6*(e.length-1)));const i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;let s=0,a=e[0];const l=this._width*this.textureScale,u=e.length;for(let d=0;d<u;d++){const t=4*d;if(this.textureScale>0){const t=a.x-e[d].x,r=a.y-e[d].y,n=Math.sqrt(t*t+r*r);a=e[d],s+=n/l}else s=d/(u-1);i[t]=s,i[t+1]=0,i[t+2]=s,i[t+3]=1}let c=0;for(let d=0;d<u-1;d++){const e=2*d;o[c++]=e,o[c++]=e+1,o[c++]=e+2,o[c++]=e+2,o[c++]=e+1,o[c++]=e+3}r.update(),n.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t,r=e[0],n=0,i=0;const o=this.buffers[0].data,s=e.length,a=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<s;l++){const s=e[l],u=4*l;t=l<e.length-1?e[l+1]:s,i=-(t.x-r.x),n=t.y-r.y;const c=Math.sqrt(n*n+i*i);c<1e-6?(n=0,i=0):(n/=c,i/=c,n*=a,i*=a),o[u]=s.x+n,o[u+1]=s.y+i,o[u+2]=s.x-n,o[u+3]=s.y-i,r=s}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class YA extends GA{constructor(e,t,r){super(new WA(e.width,e.height,t,r),new HA(cw.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}class XA{constructor(e,t,r){this.geometry=new qb,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let r=e[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||Np.FLOAT,offset:r.offset},t[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new Vb(tb(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const e=this.dynamicProperties[o];e.offset=t,t+=e.size,this.dynamicStride+=e.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Vb(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const e=this.staticProperties[o];e.offset=n,n+=e.size,this.staticStride+=e.size}const i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new Vb(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const t=this.dynamicProperties[o];e.addAttribute(t.attributeName,this.dynamicBuffer,0,t.type===Np.UNSIGNED_BYTE,t.type,4*this.dynamicStride,4*t.offset)}for(let o=0;o<this.staticProperties.length;++o){const t=this.staticProperties[o];e.addAttribute(t.attributeName,this.staticBuffer,0,t.type===Np.UNSIGNED_BYTE,t.type,4*this.staticStride,4*t.offset)}}uploadDynamic(e,t,r){for(let n=0;n<this.dynamicProperties.length;n++){const i=this.dynamicProperties[n];i.uploadFunction(e,t,r,i.type===Np.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let n=0;n<this.staticProperties.length;n++){const i=this.staticProperties[n];i.uploadFunction(e,t,r,i.type===Np.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class qA extends Xx{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new lx,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Np.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Wx.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=Rb.for2d()}render(e){const t=e.children,r=e._maxSize,n=e._batchSize,i=this.renderer;let o=t.length;if(0===o)return;o>r&&!e.autoResize&&(o=r);let s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));const a=t[0]._texture.baseTexture,l=a.alphaMode>0;this.state.blendMode=J_(e.blendMode,l),i.state.set(this.state);const u=i.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=q_.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);let d=!1;for(let h=0,f=0;h<o;h+=n,f+=1){let r=o-h;r>n&&(r=n),f>=s.length&&s.push(this._generateOneMoreBuffer(e));const a=s[f];a.uploadDynamic(t,h,r);const l=e._bufferUpdateIDs[f]||0;d=d||a._updateID<l,d&&(a._updateID=e._updateID,a.uploadStatic(t,h,r)),i.geometry.bind(a.geometry),u.drawElements(u.TRIANGLES,6*r,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,n=e._batchSize,i=e._properties;for(let o=0;o<r;o+=n)t.push(new XA(this.properties,i,n));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new XA(this.properties,r,t)}uploadVertices(e,t,r,n,i,o){let s=0,a=0,l=0,u=0;for(let c=0;c<r;++c){const r=e[t+c],d=r._texture,h=r.scale.x,f=r.scale.y,p=d.trim,m=d.orig;p?(a=p.x-r.anchor.x*m.width,s=a+p.width,u=p.y-r.anchor.y*m.height,l=u+p.height):(s=m.width*(1-r.anchor.x),a=m.width*-r.anchor.x,l=m.height*(1-r.anchor.y),u=m.height*-r.anchor.y),n[o]=a*h,n[o+1]=u*f,n[o+i]=s*h,n[o+i+1]=u*f,n[o+2*i]=s*h,n[o+2*i+1]=l*f,n[o+3*i]=a*h,n[o+3*i+1]=l*f,o+=4*i}}uploadPosition(e,t,r,n,i,o){for(let s=0;s<r;s++){const r=e[t+s].position;n[o]=r.x,n[o+1]=r.y,n[o+i]=r.x,n[o+i+1]=r.y,n[o+2*i]=r.x,n[o+2*i+1]=r.y,n[o+3*i]=r.x,n[o+3*i+1]=r.y,o+=4*i}}uploadRotation(e,t,r,n,i,o){for(let s=0;s<r;s++){const r=e[t+s].rotation;n[o]=r,n[o+i]=r,n[o+2*i]=r,n[o+3*i]=r,o+=4*i}}uploadUvs(e,t,r,n,i,o){for(let s=0;s<r;++s){const r=e[t+s]._texture._uvs;r?(n[o]=r.x0,n[o+1]=r.y0,n[o+i]=r.x1,n[o+i+1]=r.y1,n[o+2*i]=r.x2,n[o+2*i+1]=r.y2,n[o+3*i]=r.x3,n[o+3*i+1]=r.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}}uploadTint(e,t,r,n,i,o){for(let s=0;s<r;++s){const r=e[t+s],a=q_.shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}qA.extension={name:"particle",type:Cb.RendererPlugin},Tb.add(qA);var KA=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(KA||{});const ZA={willReadFrequently:!0},QA=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){const r=Zp.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(e,t,r,n,i,o,s,a,l){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,r,n,i=e._canvas){n=n??r.wordWrap;const o=r.toFontString(),s=e.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);const a=i.getContext("2d",ZA);a.font=o;const l=(n?e.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const t=e._measureText(l[p],r.letterSpacing,a);u[p]=t,c=Math.max(c,t)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const h=r.lineHeight||s.fontSize+r.strokeThickness;let f=Math.max(h,s.fontSize+2*r.strokeThickness)+r.leading+(l.length-1)*(h+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new e(t,r,d,f,l,u,h+r.leading,c,s)}static _measureText(t,r,n){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(i?o-=r:o+=(e.graphemeSegmenter(t).length-1)*r),o}static wordWrap(t,r,n=e._canvas){const i=n.getContext("2d",ZA);let o=0,s="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=e.collapseSpaces(c),h=e.collapseNewlines(c);let f=!d;const p=r.wordWrapWidth+u,m=e.tokenize(t);for(let g=0;g<m.length;g++){let t=m[g];if(e.isNewline(t)){if(!h){a+=e.addLine(s),f=!d,s="",o=0;continue}t=" "}if(d){const r=e.isBreakingSpace(t),n=e.isBreakingSpace(s[s.length-1]);if(r&&n)continue}const n=e.getFromCache(t,u,l,i);if(n>p)if(""!==s&&(a+=e.addLine(s),s="",o=0),e.canBreakWords(t,r.breakWords)){const n=e.wordWrapSplit(t);for(let c=0;c<n.length;c++){let d=n[c],h=d,m=1;for(;n[c+m];){const i=n[c+m];if(e.canBreakChars(h,i,t,c,r.breakWords))break;d+=i,h=i,m++}c+=m-1;const g=e.getFromCache(d,u,l,i);g+o>p&&(a+=e.addLine(s),f=!1,s="",o=0),s+=d,o+=g}}else{s.length>0&&(a+=e.addLine(s),s="",o=0);const r=g===m.length-1;a+=e.addLine(t,!r),f=!1,s="",o=0}else n+o>p&&(f=!1,a+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace(t)||f)&&(s+=t,o+=n)}return a+=e.addLine(s,!1),a}static addLine(t,r=!0){return t=e.trimRight(t),t=r?`${t}\n`:t}static getFromCache(t,r,n,i){let o=n[t];return"number"!=typeof o&&(o=e._measureText(t,r,i)+r,n[t]=o),o}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){const n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const r=[];let n="";if("string"!=typeof t)return r;for(let i=0;i<t.length;i++){const o=t[i],s=t[i+1];e.isBreakingSpace(o,s)||e.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,n,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;const o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width);let a=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width);const l=Math.ceil(e.HEIGHT_MULTIPLIER*a);if(a=a*e.BASELINE_MULTIPLIER|0,0===s||0===l)return e._fonts[t]=r,r;n.width=s,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,s,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);const u=i.getImageData(0,0,s,l).data,c=u.length,d=4*s;let h=0,f=0,p=!1;for(h=0;h<a;++h){for(let e=0;e<d;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f+=d}for(r.ascent=a-h,f=c-d,p=!1,h=l;h>a;--h){for(let e=0;e<d;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f-=d}return r.descent=h-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if(r.getContext("2d",ZA)?.measureText)return e.__canvas=r,r;t=Zp.ADAPTER.createCanvas()}catch{t=Zp.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",ZA)),e.__context}};QA.METRICS_STRING="|q",QA.BASELINE_SYMBOL="M",QA.BASELINE_MULTIPLIER=1.4,QA.HEIGHT_MULTIPLIER=2,QA.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map((e=>e.segment))}return e=>[...e]})(),QA.experimentalLetterSpacing=!1,QA._fonts={},QA._newlines=[10,13],QA._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let JA=QA;const eT=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],tT=class e{constructor(e){this.styleID=0,this.reset(),iT(this,e,e)}clone(){const t={};return iT(t,this,e.defaultStyle),new e(t)}reset(){iT(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=nT(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=nT(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=nT(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let e=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(e)&&!eT.includes(e)&&(e=`"${e}"`),t[r]=e}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};tT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:KA.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let rT=tT;function nT(e){const t=q_.shared,r=e=>{const r=t.setValue(e);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function iT(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const oT={texture:!0,children:!1,baseTexture:!0},sT=class e extends HE{constructor(t,r,n){let i=!1;n||(n=Zp.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const o=cw.from(n);o.orig=new nx,o.trim=new nx,super(o),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=e.defaultResolution??Zp.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return JA.experimentalLetterSpacing}static set experimentalLetterSpacing(e){h_("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),JA.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,n=JA.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,c=n.fontProperties;let d,h;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;const f=t.dropShadow?2:1;for(let p=0;p<f;++p){const e=t.dropShadow&&0===p,i=e?Math.ceil(Math.max(1,o)+2*t.padding):0,f=i*this._resolution;if(e){r.fillStyle="black",r.strokeStyle="black";const e=t.dropShadowColor,n=t.dropShadowBlur*this._resolution,i=t.dropShadowDistance*this._resolution;r.shadowColor=q_.shared.setValue(e).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=n,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*i,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*i+f}else r.fillStyle=this._generateFillStyle(t,s,n),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let m=(a-c.fontSize)/2;a-c.fontSize<0&&(m=0);for(let r=0;r<s.length;r++)d=t.strokeThickness/2,h=t.strokeThickness/2+r*a+c.ascent+m,"right"===t.align?d+=u-l[r]:"center"===t.align&&(d+=(u-l[r])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(s[r],d+t.padding,h+t.padding-i,!0),t.fill&&this.drawLetterSpacing(s[r],d+t.padding,h+t.padding-i)}this.updateTexture()}drawLetterSpacing(e,t,r,n=!1){const i=this._style.letterSpacing;let o=!1;if(JA.experimentalLetterSpacingSupported&&(JA.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||o)return void(n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));let s=t;const a=JA.graphemeSegmenter(e);let l=this.context.measureText(e).width,u=0;for(let c=0;c<a.length;++c){const e=a[c];n?this.context.strokeText(e,s,r):this.context.fillText(e,s,r);let t="";for(let r=c+1;r<a.length;++r)t+=a[r];u=this.context.measureText(t).width,s+=l-u+i,l=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const t=bb(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}const t=this._texture,r=this._style,n=r.trim?0:r.padding,i=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),i.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const n=e.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];let i;const o=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,a=this.canvas.width/this._resolution-o-2*s,l=this.canvas.height/this._resolution-o-2*s,u=n.slice(),c=e.fillGradientStops.slice();if(!c.length){const e=u.length+1;for(let t=1;t<e;++t)c.push(t/e)}if(u.unshift(n[0]),c.unshift(0),u.push(n[n.length-1]),c.push(1),e.fillGradientType===KA.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,l+s);const n=r.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){const o=r.lineHeight*(e-1)+n,s=r.lineHeight*e;let a=s;e>0&&o>s&&(a=(s+o)/2);const d=s+n,h=r.lineHeight*(e+1);let f=d;e+1<t.length&&h<d&&(f=(d+h)/2);const p=(f-a)/l;for(let e=0;e<u.length;e++){let t=0;t="number"==typeof c[e]?c[e]:e/u.length;let r=Math.min(1,Math.max(0,a/l+t*p));r=Number(r.toFixed(5)),i.addColorStop(r,u[e])}}}else{i=this.context.createLinearGradient(s,l/2,a+s,l/2);const e=u.length+1;let t=1;for(let r=0;r<u.length;r++){let n;n="number"==typeof c[r]?c[r]:t/e,i.addColorStop(n,u[r]),t++}}return i}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},oT,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=lb(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=lb(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},this._style=e instanceof rT?e:new rT(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};sT.defaultAutoResolution=!0;let aT=e("T",sT);class lT{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function uT(e,t){let r=!1;if(e?._textures?.length)for(let n=0;n<e._textures.length;n++)if(e._textures[n]instanceof cw){const i=e._textures[n].baseTexture;t.includes(i)||(t.push(i),r=!0)}return r}function cT(e,t){if(e.baseTexture instanceof jb){const r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function dT(e,t){if(e._texture&&e._texture instanceof cw){const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function hT(e,t){return t instanceof aT&&(t.updateText(!0),!0)}function fT(e,t){if(t instanceof rT){const e=t.toFontString();return JA.measureFont(e),!0}return!1}function pT(e,t){if(e instanceof aT){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function mT(e,t){return e instanceof rT&&(t.includes(e)||t.push(e),!0)}const gT=class e{constructor(t){this.limiter=new lT(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(pT),this.registerFindHook(mT),this.registerFindHook(uT),this.registerFindHook(cT),this.registerFindHook(dT),this.registerUploadHook(hT),this.registerUploadHook(fT)}upload(e){return new Promise((t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,fE.system.addOnce(this.tick,this,cE.UTILITY))):t()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)fE.system.addOnce(this.tick,this,cE.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof zE)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&fE.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};gT.uploadsPerFrame=4;let vT=gT;function yT(e,t){return t instanceof jb&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function _T(e,t){if(!(t instanceof IA))return!1;const{geometry:r}=t;t.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:t}=n[i].style;t&&yT(e,t.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function bT(e,t){return e instanceof IA&&(t.push(e),!0)}Object.defineProperties(Zp,{UPLOADS_PER_FRAME:{get:()=>vT.uploadsPerFrame,set(e){h_("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),vT.uploadsPerFrame=e}}});class xT extends vT{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(bT),this.registerUploadHook(yT),this.registerUploadHook(_T)}}xT.extension={name:"prepare",type:Cb.RendererSystem},Tb.add(xT);class wT extends HE{constructor(e,t=!0){super(e[0]instanceof cw?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(fE.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(fE.shared.add(this.update,this,cE.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];const n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(cw.from(e[r]));return new wT(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(cw.from(e[r]));return new wT(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof cw)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(fE.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(fE.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const ET=new tx;class CT extends HE{constructor(e,t=100,r=100){super(e),this.tileTransform=new _x,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Sw(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new nx),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ET);const t=this._width,r=this._height,n=-t*this.anchor._x;if(ET.x>=n&&ET.x<n+t){const e=-r*this.anchor._y;if(ET.y>=e&&ET.y<e+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof cw?e:cw.from(e,t);return new CT(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var ST="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const AT=new lx;class TT extends Xx{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new pw,this.state=Rb.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Wx.from(ST,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Wx.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Wx.from(ST,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){const t=this.renderer,r=this.quad;let n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=r.uvs,n[0]=n[6]=-i,n[1]=n[3]=-o,n[2]=n[4]=1-i,n[5]=n[7]=1-o,r.invalidate();const s=e._texture,a=s.baseTexture,l=a.alphaMode>0,u=e.tileTransform.localTransform,c=e.uvMatrix;let d=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;d&&(a._glTextures[t.CONTEXT_UID]?d=a.wrapMode!==jp.CLAMP:a.wrapMode===jp.CLAMP&&(a.wrapMode=jp.REPEAT));const h=d?this.simpleShader:this.shader,f=s.width,p=s.height,m=e._width,g=e._height;AT.set(u.a*f/m,u.b*f/g,u.c*p/m,u.d*p/g,u.tx/m,u.ty/g),AT.invert(),d?AT.prepend(c.mapCoord):(h.uniforms.uMapCoord=c.mapCoord.toArray(!0),h.uniforms.uClampFrame=c.uClampFrame,h.uniforms.uClampOffset=c.uClampOffset),h.uniforms.uTransform=AT.toArray(!0),h.uniforms.uColor=q_.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(h.uniforms.uColor),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.uSampler=s,t.shader.bind(h),t.geometry.bind(r),this.state.blendMode=J_(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}TT.extension={name:"tilingSprite",type:Cb.RendererPlugin},Tb.add(TT);const DT=class e{constructor(e,t,r=null){this.linkedSheets=[],this._texture=e instanceof cw?e:null,this.baseTexture=e instanceof jb?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=wb(e,null);return null===r&&(r=parseFloat(t??"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise((t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(t){let r=t;const n=e.BATCH_SIZE;for(;r-t<n&&r<this._frameKeys.length;){const e=this._frameKeys[r],t=this._frames[e],n=t.frame;if(n){let r=null,i=null;const o=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,s=new nx(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);r=t.rotated?new nx(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new nx(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(i=new nx(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[e]=new cw(this.baseTexture,r,s,i,t.rotated?2:0,t.anchor,t.borders),cw.addToCache(this.textures[e],e.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const n=e[t][r];this.animations[t].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};DT.BATCH_SIZE=1e3;let kT=DT;const PT=["jpg","png","jpeg","avif","webp"];function BT(e,t,r){const n={};if(e.forEach((e=>{n[e]=t})),Object.keys(t.textures).forEach((e=>{n[e]=t.textures[e]})),!r){const r=g_.dirname(e[0]);t.linkedSheets.forEach(((e,i)=>{const o=BT([`${r}/${t.data.meta.related_multi_packs[i]}`],e,!0);Object.assign(n,o)}))}return n}const RT={extension:Cb.Asset,cache:{test:e=>e instanceof kT,getCacheableAssets:(e,t)=>BT(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),r=t.pop(),n=t.pop();return"json"===r&&PT.includes(n)},parse:e=>{const t=e.split(".");return{resolution:parseFloat(Zp.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:Cb.LoadParser,priority:RC.Normal},testParse:async(e,t)=>".json"===g_.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,r){let n=g_.dirname(t.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+e.meta.image;i=AC(i,t.src);const o=(await r.load([i]))[i],s=new kT(o.baseTexture,e,t.src);await s.parse();const a=e?.meta?.related_multi_packs;if(Array.isArray(a)){const e=[];for(const o of a){if("string"!=typeof o)continue;let i=n+o;t.data?.ignoreMultiPack||(i=AC(i,t.src),e.push(r.load({src:i,data:{ignoreMultiPack:!0}})))}const i=await Promise.all(e);s.linkedSheets=i,i.forEach((e=>{e.linkedSheets=[s].concat(s.linkedSheets.filter((t=>t!==e)))}))}return s},unload(e){e.destroy(!0)}}};Tb.add(RT);class OT{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class FT{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const i in t){const e=t[i].match(/^[a-z]+/gm)[0],n=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(const t in n){const e=n[t].split("="),r=e[0],i=e[1].replace(/"/gm,""),s=parseFloat(i),a=isNaN(s)?i:s;o[r]=a}r[e].push(o)}const n=new OT;return r.info.forEach((e=>n.info.push({face:e.face,size:parseInt(e.size,10)}))),r.common.forEach((e=>n.common.push({lineHeight:parseInt(e.lineHeight,10)}))),r.page.forEach((e=>n.page.push({id:parseInt(e.id,10),file:e.file}))),r.char.forEach((e=>n.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)}))),r.kerning.forEach((e=>n.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)}))),r.distanceField.forEach((e=>n.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType}))),n}}class MT{static test(e){const t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new OT,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),a=e.getElementsByTagName("distanceField");for(let l=0;l<r.length;l++)t.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(let l=0;l<n.length;l++)t.common.push({lineHeight:parseInt(n[l].getAttribute("lineHeight"),10)});for(let l=0;l<i.length;l++)t.page.push({id:parseInt(i[l].getAttribute("id"),10)||0,file:i[l].getAttribute("file")});for(let l=0;l<o.length;l++){const e=o[l];t.char.push({id:parseInt(e.getAttribute("id"),10),page:parseInt(e.getAttribute("page"),10)||0,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10),xoffset:parseInt(e.getAttribute("xoffset"),10),yoffset:parseInt(e.getAttribute("yoffset"),10),xadvance:parseInt(e.getAttribute("xadvance"),10)})}for(let l=0;l<s.length;l++)t.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(let l=0;l<a.length;l++)t.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return t}}class IT{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&MT.test(Zp.ADAPTER.parseXML(e))}static parse(e){return MT.parse(Zp.ADAPTER.parseXML(e))}}const NT=[FT,MT,IT];function LT(e){for(let t=0;t<NT.length;t++)if(NT[t].test(e))return NT[t];return null}function UT(e,t,r,n,i,o,s){const a=r.text,l=r.fontProperties;t.translate(n,i),t.scale(o,o);const u=s.strokeThickness/2,c=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,r,n,i,o){const s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=e.width/n-l-2*u,d=e.height/n-l-2*u,h=s.slice(),f=r.fillGradientStops.slice();if(!f.length){const e=h.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(h.unshift(s[0]),f.unshift(0),h.push(s[s.length-1]),f.push(1),r.fillGradientType===KA.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,d+u);let e=0;const n=(o.fontProperties.fontSize+r.strokeThickness)/d;for(let t=0;t<i.length;t++){const r=o.lineHeight*t;for(let t=0;t<h.length;t++){let i=0;i="number"==typeof f[t]?f[t]:t/h.length;const o=r/d+i*n;let s=Math.max(e,o);s=Math.min(s,1),a.addColorStop(s,h[t]),e=s}}}else{a=t.createLinearGradient(u,d/2,c+u,d/2);const e=h.length+1;let r=1;for(let t=0;t<h.length;t++){let n;n="number"==typeof f[t]?f[t]:r/e,a.addColorStop(n,h[t]),r++}}return a}(e,t,s,o,[a],r),t.strokeStyle=s.stroke,s.dropShadow){const e=s.dropShadowColor,r=s.dropShadowBlur*o,n=s.dropShadowDistance*o;t.shadowColor=q_.shared.setValue(e).setAlpha(s.dropShadowAlpha).toRgbaString(),t.shadowBlur=r,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*n,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*n}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,u,c+r.lineHeight-l.descent),s.fill&&t.fillText(a,u,c+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function jT(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}function zT(e){return Array.from?Array.from(e):e.split("")}const GT=class e{constructor(e,t,r){const[n]=e.info,[i]=e.common,[o]=e.page,[s]=e.distanceField,a=wb(o.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let u=0;u<e.page.length;u++){const{id:r,file:n}=e.page[u];l[r]=t instanceof Array?t[u]:t[n],s?.fieldType&&"none"!==s.fieldType&&(l[r].baseTexture.alphaMode=Gp.NO_PREMULTIPLIED_ALPHA,l[r].baseTexture.mipmap=zp.OFF)}for(let u=0;u<e.char.length;u++){const{id:t,page:r}=e.char[u];let{x:n,y:i,width:o,height:s,xoffset:c,yoffset:d,xadvance:h}=e.char[u];n/=a,i/=a,o/=a,s/=a,c/=a,d/=a,h/=a;const f=new nx(n+l[r].frame.x/a,i+l[r].frame.y/a,o,s);this.chars[t]={xOffset:c,yOffset:d,xAdvance:h,kerning:{},texture:new cw(l[r].baseTexture,f),page:r}}for(let u=0;u<e.kerning.length;u++){let{first:t,second:r,amount:n}=e.kerning[u];t/=a,r/=a,n/=a,this.chars[r]&&(this.chars[r].kerning[t]=n)}this.distanceFieldRange=s?.distanceRange,this.distanceFieldType=s?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,r,n){let i;if(t instanceof OT)i=t;else{const e=LT(t);if(!e)throw new Error("Unrecognized data format for font.");i=e.parse(t)}r instanceof cw&&(r=[r]);const o=new e(i,r,n);return e.available[o.font]=o,o}static uninstall(t){const r=e.available[t];if(!r)throw new Error(`No font found named '${t}'`);r.destroy(),delete e.available[t]}static from(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:o,resolution:s,textureWidth:a,textureHeight:l,...u}=Object.assign({},e.defaultOptions,n),c=function(e){"string"==typeof e&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const e=n[0].charCodeAt(0),r=n[1].charCodeAt(0);if(r<e)throw new Error("[BitmapFont]: Invalid character range.");for(let n=e,i=r;n<=i;n++)t.push(String.fromCharCode(n))}else t.push(...zT(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(i),d=r instanceof rT?r:new rT(r),h=a,f=new OT;f.info[0]={face:d.fontFamily,size:d.fontSize},f.common[0]={lineHeight:d.fontSize};let p,m,g,v=0,y=0,_=0;const b=[];for(let e=0;e<c.length;e++){p||(p=Zp.ADAPTER.createCanvas(),p.width=a,p.height=l,m=p.getContext("2d"),g=new jb(p,{resolution:s,...u}),b.push(new cw(g)),f.page.push({id:b.length-1,file:""}));const t=c[e],r=JA.measureText(t,d,!1,p),n=r.width,i=Math.ceil(r.height),x=Math.ceil(("italic"===d.fontStyle?2:1)*n);if(y>=l-i*s){if(0===y)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${t}')`);--e,p=null,m=null,g=null,y=0,v=0,_=0;continue}if(_=Math.max(i+r.fontProperties.descent,_),x*s+v>=h){if(0===v)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${t}')`);--e,y+=_*s,y=Math.ceil(y),v=0,_=0;continue}UT(p,m,r,v,y,s,d);const w=jT(r.text);f.char.push({id:w,page:b.length-1,x:v/s,y:y/s,width:x,height:i,xoffset:0,yoffset:0,xadvance:n-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),v+=(x+2*o)*s,v=Math.ceil(v)}if(!n?.skipKerning)for(let e=0,w=c.length;e<w;e++){const t=c[e];for(let e=0;e<w;e++){const r=c[e],n=m.measureText(t).width,i=m.measureText(r).width,o=m.measureText(t+r).width-(n+i);o&&f.kerning.push({first:jT(t),second:jT(r),amount:o})}}const x=new e(f,b,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=x,x}};GT.ALPHA=[["a","z"],["A","Z"]," "],GT.NUMERIC=[["0","9"]],GT.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],GT.ASCII=[[" ","~"]],GT.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:GT.ALPHANUMERIC},GT.available={};let VT=GT;const HT=[],WT=[],$T=[],YT=class e extends zE{constructor(t,r={}){super();const{align:n,tint:i,maxWidth:o,letterSpacing:s,fontName:a,fontSize:l}=Object.assign({},e.styleDefaults,r);if(!VT.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new q_(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new vx((()=>{this.dirty=!0}),this,0,0),this._roundPixels=Zp.ROUND_PIXELS,this.dirty=!0,this._resolution=Zp.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=VT.available[this._fontName],t=this.fontSize,r=t/e.size,n=new tx,i=[],o=[],s=[],a=zT(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,u="none"===e.distanceFieldType?HT:WT;let c=null,d=0,h=0,f=0,p=-1,m=0,g=0,v=0,y=0;for(let S=0;S<a.length;S++){const t=a[S],r=jT(t);if(/(?:\s)/.test(t)&&(p=S,m=d,y++),"\r"===t||"\n"===t){o.push(d),s.push(-1),h=Math.max(h,d),++f,++g,n.x=0,n.y+=e.lineHeight,c=null,y=0;continue}const u=e.chars[r];if(!u)continue;c&&u.kerning[c]&&(n.x+=u.kerning[c]);const _=$T.pop()||{texture:cw.EMPTY,line:0,charCode:0,prevSpaces:0,position:new tx};_.texture=u.texture,_.line=f,_.charCode=r,_.position.x=Math.round(n.x+u.xOffset+this._letterSpacing/2),_.position.y=Math.round(n.y+u.yOffset),_.prevSpaces=y,i.push(_),d=_.position.x+Math.max(u.xAdvance-u.xOffset,u.texture.orig.width),n.x+=u.xAdvance+this._letterSpacing,v=Math.max(v,u.yOffset+u.texture.height),c=r,-1!==p&&l>0&&n.x>l&&(++g,ab(i,1+p-g,1+S-p),S=p,p=-1,o.push(m),s.push(i.length>0?i[i.length-1].prevSpaces:0),h=Math.max(h,m),f++,n.x=0,n.y+=e.lineHeight,c=null,y=0)}const _=a[a.length-1];"\r"!==_&&"\n"!==_&&(/(?:\s)/.test(_)&&(d=m),o.push(d),h=Math.max(h,d),s.push(-1));const b=[];for(let S=0;S<=f;S++){let e=0;"right"===this._align?e=h-o[S]:"center"===this._align?e=(h-o[S])/2:"justify"===this._align&&(e=s[S]<0?0:(h-o[S])/s[S]),b.push(e)}const x=i.length,w={},E=[],C=this._activePagesMeshData;u.push(...C);for(let S=0;S<x;S++){const t=i[S].texture,r=t.baseTexture.uid;if(!w[r]){let n=u.pop();if(!n){const t=new VA;let r,i;"none"===e.distanceFieldType?(r=new HA(cw.EMPTY),i=Op.NORMAL):(r=new HA(cw.EMPTY,{program:Gx.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),i=Op.NORMAL_NPM);const o=new GA(t,r);o.blendMode=i,n={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:o,vertices:null,uvs:null,indices:null}}n.index=0,n.indexCount=0,n.vertexCount=0,n.uvsCount=0,n.total=0;const{_textureCache:i}=this;i[r]=i[r]||new cw(t.baseTexture),n.mesh.texture=i[r],n.mesh.tint=this._tintColor.value,E.push(n),w[r]=n}w[r].total++}for(let S=0;S<C.length;S++)E.includes(C[S])||this.removeChild(C[S].mesh);for(let S=0;S<E.length;S++)E[S].mesh.parent!==this&&this.addChild(E[S].mesh);this._activePagesMeshData=E;for(const S in w){const e=w[S],t=e.total;if(!(e.indices?.length>6*t)||e.vertices.length<2*GA.BATCHABLE_SIZE)e.vertices=new Float32Array(8*t),e.uvs=new Float32Array(8*t),e.indices=new Uint16Array(6*t);else{const t=e.total,r=e.vertices;for(let e=4*t*2;e<r.length;e++)r[e]=0}e.mesh.size=6*t}for(let S=0;S<x;S++){const e=i[S];let t=e.position.x+b[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(t=Math.round(t));const n=t*r,o=e.position.y*r,s=e.texture,a=w[s.baseTexture.uid],l=s.frame,u=s._uvs,c=a.index++;a.indices[6*c+0]=0+4*c,a.indices[6*c+1]=1+4*c,a.indices[6*c+2]=2+4*c,a.indices[6*c+3]=0+4*c,a.indices[6*c+4]=2+4*c,a.indices[6*c+5]=3+4*c,a.vertices[8*c+0]=n,a.vertices[8*c+1]=o,a.vertices[8*c+2]=n+l.width*r,a.vertices[8*c+3]=o,a.vertices[8*c+4]=n+l.width*r,a.vertices[8*c+5]=o+l.height*r,a.vertices[8*c+6]=n,a.vertices[8*c+7]=o+l.height*r,a.uvs[8*c+0]=u.x0,a.uvs[8*c+1]=u.y0,a.uvs[8*c+2]=u.x1,a.uvs[8*c+3]=u.y1,a.uvs[8*c+4]=u.x2,a.uvs[8*c+5]=u.y2,a.uvs[8*c+6]=u.x3,a.uvs[8*c+7]=u.y3}this._textWidth=h*r,this._textHeight=(n.y+e.lineHeight)*r;for(const S in w){const e=w[S];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const r=this._textWidth*this.anchor.x,n=this._textHeight*this.anchor.y;for(let i=0;i<e.total;i++)e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n}this._maxLineHeight=v*r;const t=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),i=e.mesh.geometry.getIndex();t.data=e.vertices,n.data=e.uvs,i.data=e.indices,t.update(),n.update(),i.update()}for(let S=0;S<i.length;S++)$T.push(i[S]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:n}=VT.available[this._fontName];if("none"!==r){const{a:r,b:i,c:o,d:s}=this.worldTransform,a=Math.sqrt(r*r+i*i),l=Math.sqrt(o*o+s*s),u=(Math.abs(a)+Math.abs(l))/2,c=this.fontSize/n,d=e._view.resolution;for(const e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=u*t*c*d}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=VT.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!VT.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??VT.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r="none"===VT.available[this._fontName].distanceFieldType?HT:WT;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter((e=>t[e.mesh.texture.baseTexture.uid])).forEach((e=>{e.mesh.texture=cw.EMPTY}));for(const n in t)t[n].destroy(),delete t[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};YT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let XT=YT;const qT=[".xml",".fnt"],KT={extension:{type:Cb.LoadParser,priority:RC.Normal},name:"loadBitmapFont",test:e=>qT.includes(g_.extname(e).toLowerCase()),testParse:async e=>FT.test(e)||IT.test(e),async parse(e,t,r){const n=FT.test(e)?FT.parse(e):IT.parse(e),{src:i}=t,{page:o}=n,s=[];for(let u=0;u<o.length;++u){const e=o[u].file;let t=g_.join(g_.dirname(i),e);t=AC(t,i),s.push(t)}const a=await r.load(s),l=s.map((e=>a[e]));return VT.install(n,l,!0)},load:async(e,t)=>(await Zp.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};Tb.add(KT);const ZT=class e extends rT{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce(((e,r)=>({...e,[r]:t[r]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,r={}){const{availableFonts:n}=e;if(n[t]){const e=n[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Zp.ADAPTER.fetch(t).then((e=>e.blob())).then((async e=>new Promise(((t,r)=>{const n=URL.createObjectURL(e),i=new FileReader;i.onload=()=>t([n,i.result]),i.onerror=r,i.readAsDataURL(e)})))).then((async([e,i])=>{const o=Object.assign({family:g_.basename(t,g_.extname(t)),weight:"normal",style:"normal",display:"auto",src:e,dataSrc:i,refs:1,originalUrl:t,fontFace:null},r);n[t]=o,this._fonts.push(o),this.styleID++;const s=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=s,await s.load(),document.fonts.add(s),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...e){const t=e.filter((e=>!this._overrides.includes(e)));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter((e=>this._overrides.includes(e)));t.length>0&&(this._overrides=this._overrides.filter((e=>!t.includes(e))),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((e,t)=>`${e}\n            @font-face {\n                font-family: "${t.family}";\n                src: url('${t.dataSrc}');\n                font-weight: ${t.weight};\n                font-style: ${t.style};\n                font-display: ${t.display};\n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Z_(e)),"number"==typeof e?K_(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${i} ${e}`}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((e=>setTimeout(e,100))):Promise.resolve()}get isSafari(){const{userAgent:e}=Zp.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};ZT.availableFonts={},ZT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let QT=ZT;const JT=class e extends HE{constructor(t="",r={}){super(cw.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=cw.from(n,{scaleMode:Zp.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new nx,i.trim=new nx,this.texture=i;const o="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject"),u=document.createElementNS(s,"div"),c=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=e.defaultResolution??Zp.RESOLUTION,this.text=t,this.style=r}measureText(e){const{text:t,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:s}=i;(o>this.maxWidth||s>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const a=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(s));return this._svgRoot.setAttribute("width",a.toString()),this._svgRoot.setAttribute("height",l.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(n)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:a+2*r.padding,height:l+2*r.padding}}async updateText(e=!0){const{style:t,_image:r,_loadImage:n}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:i,height:o}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const s=this._updateID;await new Promise((e=>{n.onload=async()=>{s<this._updateID||(await t.onBeforeDraw(),r.src=n.src,n.onload=null,n.src="",this.updateTexture()),e()};const i=(new XMLSerializer).serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(i)}`}))}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:n}=this,{padding:i}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=r.width/n,t.trim.height=t._frame.height=r.height/n,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(r.width,r.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t);const r=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=r,this._svgRoot?.remove(),this._svgRoot=r,this._domElement?.remove(),this._domElement=r,this._foreignObject?.remove(),this._foreignObject=r,this._styleElement?.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=lb(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=lb(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof QT?(this.ownsStyle=!1,this._style=e):e instanceof rT?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=QT.from(e)):(this.ownsStyle=!0,this._style=new QT(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};JT.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},JT.defaultMaxWidth=2024,JT.defaultMaxHeight=2024,JT.defaultAutoResolution=!0;let eD=JT;const tD=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Gp,AbstractMultiResource:SE,AccessibilityManager:vC,AlphaFilter:YE,AnimatedSprite:wT,Application:_C,ArrayResource:AE,Assets:oS,AssetsClass:iS,Attribute:Hb,BLEND_MODES:Op,BUFFER_BITS:Rp,BUFFER_TYPE:qp,BackgroundSystem:Jx,BaseImageResource:ow,BasePrepare:vT,BaseRenderTexture:iw,BaseTexture:jb,BatchDrawCall:zb,BatchGeometry:Kb,BatchRenderer:Kx,BatchShaderGenerator:$x,BatchSystem:ew,BatchTextureArray:Yx,BitmapFont:VT,BitmapFontData:OT,BitmapText:XT,BlobResource:CS,BlurFilter:ZE,BlurFilterPass:KE,Bounds:ME,BrowserAdapter:Kp,Buffer:Vb,BufferResource:Nb,BufferSystem:xE,CLEAR_MODES:Vp,COLOR_MASK_BITS:Yp,Cache:PC,CanvasResource:TE,Circle:ix,Color:q_,ColorMatrixFilter:QE,CompressedTextureResource:SS,Container:zE,ContextSystem:rw,CountLimiter:lT,CubeResource:kE,DEG_TO_RAD:Jb,DRAW_MODES:Fp,DisplacementFilter:JE,DisplayObject:IE,ENV:Pp,Ellipse:ox,EventBoundary:cC,EventSystem:fC,ExtensionType:Cb,Extract:lA,FORMATS:Mp,FORMATS_TO_COMPONENTS:JS,FXAAFilter:eC,FederatedDisplayObject:mC,FederatedEvent:iC,FederatedMouseEvent:oC,FederatedPointerEvent:sC,FederatedWheelEvent:aC,FillStyle:RA,Filter:Qx,FilterState:mw,FilterSystem:yw,Framebuffer:nw,FramebufferSystem:xw,GC_MODES:Hp,GLFramebuffer:_w,GLProgram:Vw,GLTexture:sE,GRAPHICS_CURVES:vA,GenerateTextureSystem:Uw,Geometry:qb,GeometrySystem:Ew,Graphics:IA,GraphicsData:DA,GraphicsGeometry:BA,HTMLText:eD,HTMLTextStyle:QT,IGLUniformData:class{},INSTALLED:Ob,INTERNAL_FORMATS:yS,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:_S,ImageBitmapResource:PE,ImageResource:sw,LINE_CAP:mA,LINE_JOIN:pA,LineStyle:OA,LoaderParserPriority:RC,MASK_TYPES:$p,MIPMAP_MODES:zp,MSAA_QUALITY:Xp,MaskData:Tw,MaskSystem:Dw,Matrix:lx,Mesh:GA,MeshBatchUvs:LA,MeshGeometry:VA,MeshMaterial:HA,MultisampleSystem:_E,NineSlicePlane:class extends YA{constructor(e,t,r,n,i){super(cw.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??10,this._rightWidth=n??e.defaultBorders?.right??10,this._topHeight=r??e.defaultBorders?.top??10,this._bottomHeight=i??e.defaultBorders?.bottom??10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(t,n)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}},NoiseFilter:tC,ObjectRenderer:Xx,ObjectRendererSystem:wE,ObservablePoint:vx,PI_2:Zb,PRECISION:Wp,ParticleContainer:class extends zE{constructor(e=1500,t,r=16384,n=!1){super(),r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Op.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new q_(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}},ParticleRenderer:qA,PlaneGeometry:WA,PluginSystem:Mw,Point:tx,Polygon:sx,Prepare:xT,Program:Gx,ProjectionSystem:Iw,Quad:fw,QuadUv:pw,RAD_TO_DEG:Qb,RENDERER_TYPE:Bp,Rectangle:nx,RenderTexture:dw,RenderTexturePool:hw,RenderTextureSystem:Gw,Renderer:CE,ResizePlugin:bC,Resource:Ib,RopeGeometry:$A,RoundedRectangle:ax,Runner:Mb,SAMPLER_TYPES:Lp,SCALE_MODES:Up,SHAPES:ex,SVGResource:RE,ScissorSystem:Ow,Shader:Wx,ShaderSystem:Jw,SimpleMesh:class extends GA{constructor(e=cw.EMPTY,t,r,n,i){const o=new VA(t,r,n);o.getBuffer("aVertexPosition").static=!1,super(o,new HA(e),null,i),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}},SimplePlane:YA,SimpleRope:class extends GA{constructor(e,t,r=0){const n=new $A(e.height,t,r),i=new HA(e);r>0&&(e.baseTexture.wrapMode=jp.REPEAT),super(n,i),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}},Sprite:HE,SpriteMaskFilter:Aw,Spritesheet:kT,StartupSystem:eE,State:Rb,StateSystem:rE,StencilSystem:Fw,SystemManager:nE,TARGETS:Ip,TEXT_GRADIENT:KA,TYPES:Np,TYPES_TO_BYTES_PER_COMPONENT:QS,TYPES_TO_BYTES_PER_PIXEL:eA,TemporaryDisplayObject:NE,Text:aT,TextFormat:FT,TextMetrics:JA,TextStyle:rT,Texture:cw,TextureGCSystem:oE,TextureMatrix:Sw,TextureSystem:aE,TextureUvs:aw,Ticker:fE,TickerPlugin:pE,TilingSprite:CT,TilingSpriteRenderer:TT,TimeLimiter:class{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}},Transform:_x,TransformFeedback:class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Mb("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}},TransformFeedbackSystem:lE,UPDATE_PRIORITY:cE,UniformGroup:Hx,VERSION:"7.3.2",VideoResource:FE,ViewSystem:uE,ViewableBuffer:Db,WRAP_MODES:jp,XMLFormat:MT,XMLStringFormat:IT,accessibleTarget:gC,autoDetectFormat:LT,autoDetectRenderer:gE,autoDetectResource:Fb,cacheTextureArray:sS,checkDataUrl:EC,checkExtension:CC,checkMaxIfStatementsInShader:Bb,convertToList:SC,copySearchParams:AC,createStringVariations:DC,createTexture:XC,createUBOElements:Xw,curves:gA,defaultFilterVertex:yE,defaultVertex:vE,detectAvif:lS,detectCompressedTextures:ES,detectDefaults:dS,detectMp4:mS,detectOgv:gS,detectWebm:pS,detectWebp:uS,extensions:Tb,filters:rC,generateProgram:Hw,generateUniformBufferSync:Kw,getFontFamilyName:UC,getTestContext:kx,getUBOData:qw,graphicsUtils:NA,groupD8:gx,isMobile:mm,isSingleItem:kC,loadBitmapFont:KT,loadDDS:nA,loadImageBitmap:ZC,loadJson:OC,loadKTX:iA,loadSVG:JC,loadTextures:QC,loadTxt:FC,loadVideo:rS,loadWebFont:zC,parseDDS:LS,parseKTX:tA,resolveCompressedTextureUrl:oA,resolveTextureUrl:vS,settings:Zp,spritesheetAsset:RT,uniformParsers:Ex,unsafeEvalSupported:Lx,utils:Eb},Symbol.toStringTag,{value:"Module"}));e("u",tD),e("n",((e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t}));var rD={exports:{}};!function(e){!function(t,r){e.exports?e.exports=r():t.log=r()}(n,(function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(whe){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function a(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(n,s,l){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?o:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||a.apply(this,arguments)}function u(e,r,i){var o,a=this;r=null==r?"WARN":r;var u="loglevel";function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(i){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||l,a.getLevel=function(){return o},a.setLevel=function(r,i){if("string"==typeof r&&void 0!==a.levels[r.toUpperCase()]&&(r=a.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==i&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(i){}}}(r),s.call(a,r,e),typeof console===t&&r<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){r=e,c()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(r,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var d=c();null==d&&(d=r),a.setLevel(d,!1)}var c=new u,d={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,c.getLevel(),c.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=h),c},c.getLoggers=function(){return d},c.default=c,c}))}(rD),e("l",o(rD.exports));const nD=class extends Qx{constructor(e,t=0){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n"),this.seed=0,this.uniforms.dimensions=new Float32Array(2),"number"==typeof e?(this.seed=e,e=void 0):this.seed=t,Object.assign(this,nD.defaults,e)}apply(e,t,r,n){var i,o;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(o=t.filterFrame)?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,r,n)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};e("a",nD).defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var iD={},oD={},sD={};Object.defineProperty(sD,"__esModule",{value:!0}),sD.loop=sD.conditional=sD.parse=void 0,sD.parse=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return e(t,r,n,i)}));else if("function"==typeof r)r(t,n,i,e);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(i[o]={},e(t,r[o],n,i[o])):i[o]=r[o](t,n,i,e)}return n},sD.conditional=function(e,t){return function(r,n,i,o){t(r,n,i)&&o(r,e,n,i)}},sD.loop=function(e,t){return function(r,n,i,o){for(var s=[],a=r.pos;t(r,n,i);){var l={};if(o(r,e,n,l),r.pos===a)break;a=r.pos,s.push(l)}return s}};var aD={};Object.defineProperty(aD,"__esModule",{value:!0}),aD.readBits=aD.readArray=aD.readUnsigned=aD.readString=aD.peekBytes=aD.readBytes=aD.peekByte=aD.readByte=aD.buildStream=void 0,aD.buildStream=function(e){return{data:e,pos:0}};var lD=function(){return function(e){return e.data[e.pos++]}};aD.readByte=lD,aD.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var uD=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};aD.readBytes=uD,aD.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}},aD.readString=function(e){return function(t){return Array.from(uD(e)(t)).map((function(e){return String.fromCharCode(e)})).join("")}},aD.readUnsigned=function(e){return function(t){var r=uD(2)(t);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}},aD.readArray=function(e,t){return function(r,n,i){for(var o="function"==typeof t?t(r,n,i):t,s=uD(e),a=new Array(o),l=0;l<o;l++)a[l]=s(r);return a}},aD.readBits=function(e){return function(t){for(var r=function(e){return e.data[e.pos++]}(t),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(e).reduce((function(t,r){var i=e[r];return i.length?t[r]=function(e,t,r){for(var n=0,i=0;i<r;i++)n+=e[t+i]&&Math.pow(2,r-i-1);return n}(n,i.index,i.length):t[r]=n[i.index],t}),{})}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=sD,r=aD,n={blocks:function(e){for(var t=[],n=e.data.length,i=0,o=(0,r.readByte)()(e);0!==o&&o;o=(0,r.readByte)()(e)){if(e.pos+o>=n){var s=n-e.pos;t.push((0,r.readBytes)(s)(e)),i+=s;break}t.push((0,r.readBytes)(o)(e)),i+=o}for(var a=new Uint8Array(i),l=0,u=0;u<t.length;u++)a.set(t[u],l),l+=t[u].length;return a}},i=(0,t.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&249===t[1]})),o=(0,t.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,t.conditional)({lct:(0,r.readArray)(3,(function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(e,t,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,r.readByte)()},n]}]},(function(e){return 44===(0,r.peekByte)()(e)})),s=(0,t.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(e,t,n){return(0,r.readBytes)(n.text.blockSize)(e)}},n]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&1===t[1]})),a=(0,t.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(e,t,n){return(0,r.readString)(n.blockSize)(e)}},n]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&255===t[1]})),l=(0,t.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&254===t[1]})),u=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,t.conditional)({gct:(0,r.readArray)(3,(function(e,t){return Math.pow(2,t.lsd.gct.size+1)}))},(function(e,t){return t.lsd.gct.exists})),{frames:(0,t.loop)([i,a,l,o,s],(function(e){var t=(0,r.peekByte)()(e);return 33===t||44===t}))}];e.default=u}(oD);var cD={};Object.defineProperty(cD,"__esModule",{value:!0}),cD.deinterlace=void 0,cD.deinterlace=function(e,t){for(var r=new Array(e.length),n=e.length/t,i=function(n,i){var o=e.slice(i*t,(i+1)*t);r.splice.apply(r,[n*t,t].concat(o))},o=[0,4,2,1],s=[8,8,4,2],a=0,l=0;l<4;l++)for(var u=o[l];u<n;u+=s[l])i(u,a),a++;return r};var dD={};Object.defineProperty(dD,"__esModule",{value:!0}),dD.lzw=void 0,dD.lzw=function(e,t,r){var n,i,o,s,a,l,u,c,d,h,f,p,m,g,v,y,_=4096,b=r,x=new Array(r),w=new Array(_),E=new Array(_),C=new Array(4097);for(a=1+(i=1<<(h=e)),n=i+2,u=-1,o=(1<<(s=h+1))-1,c=0;c<i;c++)w[c]=0,E[c]=c;for(f=p=m=g=v=y=0,d=0;d<b;){if(0===g){if(p<s){f+=t[y]<<p,p+=8,y++;continue}if(c=f&o,f>>=s,p-=s,c>n||c==a)break;if(c==i){o=(1<<(s=h+1))-1,n=i+2,u=-1;continue}if(-1==u){C[g++]=E[c],u=c,m=c;continue}for(l=c,c==n&&(C[g++]=m,c=u);c>i;)C[g++]=E[c],c=w[c];m=255&E[c],C[g++]=m,n<_&&(w[n]=u,E[n]=m,0==(++n&o)&&n<_&&(s++,o+=n)),u=l}g--,x[v++]=C[g],d++}for(d=v;d<b;d++)x[d]=0;return x},Object.defineProperty(iD,"__esModule",{value:!0}),e("i",iD.decompressFrames=iD.decompressFrame=e("p",iD.parseGIF=void 0));var hD,fD=(hD=oD)&&hD.__esModule?hD:{default:hD},pD=sD,mD=aD,gD=cD,vD=dD;e("p",iD.parseGIF=function(e){var t=new Uint8Array(e);return(0,pD.parse)((0,mD.buildStream)(t),fD.default)});var yD=function(e,t,r){if(e.image){var n=e.image,i=n.descriptor.width*n.descriptor.height,o=(0,vD.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(o=(0,gD.deinterlace)(o,n.descriptor.width));var s={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?s.colorTable=n.lct:s.colorTable=t,e.gce&&(s.delay=10*(e.gce.delay||10),s.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(s.transparentIndex=e.gce.transparentColorIndex)),r&&(s.patch=function(e){for(var t=e.pixels.length,r=new Uint8ClampedArray(4*t),n=0;n<t;n++){var i=4*n,o=e.pixels[n],s=e.colorTable[o]||[0,0,0];r[i]=s[0],r[i+1]=s[1],r[i+2]=s[2],r[i+3]=o!==e.transparentIndex?255:0}return r}(s)),s}console.warn("gif frame does not have associated image.")};iD.decompressFrame=yD,e("i",iD.decompressFrames=function(e,t){return e.frames.filter((function(e){return e.image})).map((function(r){return yD(r,e.gct,t)}))});var _D={};!function(e){var t=function(){var e=new Date,r=4,n={setLogLevel:function(e){r=e==this.debug?1:e==this.info?2:e==this.warn?3:(this.error,4)},debug:function(n,i){void 0===console.debug&&(console.debug=console.log),1>=r&&console.debug("["+t.getDurationString(new Date-e,1e3)+"]","["+n+"]",i)},log:function(e,t){this.debug(e.msg)},info:function(n,i){2>=r&&console.info("["+t.getDurationString(new Date-e,1e3)+"]","["+n+"]",i)},warn:function(n,i){3>=r&&console.warn("["+t.getDurationString(new Date-e,1e3)+"]","["+n+"]",i)},error:function(n,i){4>=r&&console.error("["+t.getDurationString(new Date-e,1e3)+"]","["+n+"]",i)}};return n}();t.getDurationString=function(e,t){var r;function n(e,t){for(var r=(""+e).split(".");r[0].length<t;)r[0]="0"+r[0];return r.join(".")}e<0?(r=!0,e=-e):r=!1;var i=e/(t||1),o=Math.floor(i/3600);i-=3600*o;var s=Math.floor(i/60),a=1e3*(i-=60*s);return a-=1e3*(i=Math.floor(i)),a=Math.floor(a),(r?"-":"")+o+":"+n(s,2)+":"+n(i,2)+"."+n(a,3)},t.printRanges=function(e){var r=e.length;if(r>0){for(var n="",i=0;i<r;i++)i>0&&(n+=","),n+="["+t.getDurationString(e.start(i))+","+t.getDurationString(e.end(i))+"]";return n}return"(empty)"},e.Log=t;var r=function(e){if(!(e instanceof ArrayBuffer))throw"Needs an array buffer";this.buffer=e,this.dataview=new DataView(e),this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(e){var t=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(t)||!isFinite(t)?0:t,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(e,t){var r=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:r=t?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:r=t?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(t)throw"No method for reading signed 24 bits values";r=this.dataview.getUint8(this.position)<<16,r|=this.dataview.getUint8(this.position+1)<<8,r|=this.dataview.getUint8(this.position+2);break;case 4:r=t?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(t)throw"No method for reading signed 64 bits values";r=this.dataview.getUint32(this.position)<<32,r|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+e}return this.position+=e,r}throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.readUint8());return t}throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var e=[];;){var t=this.readUint8();if(0===t)break;e.push(t)}return String.fromCharCode.apply(null,e)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(e){for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=this.readUint8();return t},r.prototype.readInt16Array=function(e){for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=this.readInt16();return t},r.prototype.readUint16Array=function(e){for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=this.readUint16();return t},r.prototype.readUint32Array=function(e){for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.readUint32();return t},r.prototype.readInt32Array=function(e){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=this.readInt32();return t},e.MP4BoxStream=r;var n=function(e,t,r){this._byteOffset=t||0,e instanceof ArrayBuffer?this.buffer=e:"object"==typeof e?(this.dataView=e,t&&(this._byteOffset+=t)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=null==r?n.LITTLE_ENDIAN:r};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(e){if(this._dynamicSize){var t=this._byteOffset+this.position+e,r=this._buffer.byteLength;if(t<=r)t>this._byteLength&&(this._byteLength=t);else{for(r<1&&(r=1);t>r;)r*=2;var n=new ArrayBuffer(r),i=new Uint8Array(this._buffer);new Uint8Array(n,0,i.length).set(i),this.buffer=n,this._byteLength=t}}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),r=new Uint8Array(this._buffer,0,t.length);t.set(r),this.buffer=e}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),n.prototype.seek=function(e){var t=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(t)||!isFinite(t)?0:t},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(e){this._realloc(1*e);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},n.prototype.readInt32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var r=new Int32Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readInt16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var r=new Int16Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readInt8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Int8Array(e);return n.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},n.prototype.readUint32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var r=new Uint32Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readUint16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var r=new Uint16Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readUint8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Uint8Array(e);return n.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},n.prototype.readFloat64Array=function(e,t){e=null==e?this.byteLength-this.position/8:e;var r=new Float64Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readFloat32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var r=new Float32Array(e);return n.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),n.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},n.prototype.readInt32=function(e){var t=this._dataView.getInt32(this.position,null==e?this.endianness:e);return this.position+=4,t},n.prototype.readInt16=function(e){var t=this._dataView.getInt16(this.position,null==e?this.endianness:e);return this.position+=2,t},n.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},n.prototype.readUint32=function(e){var t=this._dataView.getUint32(this.position,null==e?this.endianness:e);return this.position+=4,t},n.prototype.readUint16=function(e){var t=this._dataView.getUint16(this.position,null==e?this.endianness:e);return this.position+=2,t},n.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},n.prototype.readFloat32=function(e){var t=this._dataView.getFloat32(this.position,null==e?this.endianness:e);return this.position+=4,t},n.prototype.readFloat64=function(e){var t=this._dataView.getFloat64(this.position,null==e?this.endianness:e);return this.position+=8,t},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(e,t,r,n,i){var o=new Uint8Array(e,t,i),s=new Uint8Array(r,n,i);o.set(s)},n.arrayToNative=function(e,t){return t==this.endianness?e:this.flipArrayEndianness(e)},n.nativeToEndian=function(e,t){return this.endianness==t?e:this.flipArrayEndianness(e)},n.flipArrayEndianness=function(e){for(var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=0;r<e.byteLength;r+=e.BYTES_PER_ELEMENT)for(var n=r+e.BYTES_PER_ELEMENT-1,i=r;n>i;n--,i++){var o=t[i];t[i]=t[n],t[n]=o}return e},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return String.fromCharCode.apply(null,t)},n.prototype.readString=function(e,t){return null==t||"ASCII"==t?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(null==e?this.byteLength-this.position:e)]):new TextDecoder(t).decode(this.mapUint8Array(e))},n.prototype.readCString=function(e){var t=this.byteLength-this.position,r=new Uint8Array(this._buffer,this._byteOffset+this.position),n=t;null!=e&&(n=Math.min(e,t));for(var i=0;i<n&&0!==r[i];i++);var o=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(i)]);return null!=e?this.position+=n-i:i!=t&&(this.position+=1),o};var o=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*o+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*o+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*o+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},e.DataStream=n,n.prototype.save=function(e){var t=new Blob([this.buffer]);if(!window.URL||!URL.createObjectURL)throw"DataStream.save: Can't create object URL.";var r=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",r),n.setAttribute("download",e),n.setAttribute("target","_self"),n.click(),window.URL.revokeObjectURL(r)},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),n.prototype.shift=function(e){var t=new ArrayBuffer(this._byteLength-e),r=new Uint8Array(t),n=new Uint8Array(this._buffer,e,r.length);r.set(n),this.buffer=t,this.position-=e},n.prototype.writeInt32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeInt32(e[r],t)},n.prototype.writeInt16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeInt16(e[r],t)},n.prototype.writeInt8Array=function(e){if(this._realloc(1*e.length),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var t=0;t<e.length;t++)this.writeInt8(e[t])},n.prototype.writeUint32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeUint32(e[r],t)},n.prototype.writeUint16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeUint16(e[r],t)},n.prototype.writeUint8Array=function(e){if(this._realloc(1*e.length),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t])},n.prototype.writeFloat64Array=function(e,t){if(this._realloc(8*e.length),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeFloat64(e[r],t)},n.prototype.writeFloat32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeFloat32(e[r],t)},n.prototype.writeInt32=function(e,t){this._realloc(4),this._dataView.setInt32(this.position,e,null==t?this.endianness:t),this.position+=4},n.prototype.writeInt16=function(e,t){this._realloc(2),this._dataView.setInt16(this.position,e,null==t?this.endianness:t),this.position+=2},n.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},n.prototype.writeUint32=function(e,t){this._realloc(4),this._dataView.setUint32(this.position,e,null==t?this.endianness:t),this.position+=4},n.prototype.writeUint16=function(e,t){this._realloc(2),this._dataView.setUint16(this.position,e,null==t?this.endianness:t),this.position+=2},n.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},n.prototype.writeFloat32=function(e,t){this._realloc(4),this._dataView.setFloat32(this.position,e,null==t?this.endianness:t),this.position+=4},n.prototype.writeFloat64=function(e,t){this._realloc(8),this._dataView.setFloat64(this.position,e,null==t?this.endianness:t),this.position+=8},n.prototype.writeUCS2String=function(e,t,r){null==r&&(r=e.length);for(var n=0;n<e.length&&n<r;n++)this.writeUint16(e.charCodeAt(n),t);for(;n<r;n++)this.writeUint16(0)},n.prototype.writeString=function(e,t,r){var n=0;if(null==t||"ASCII"==t)if(null!=r){var i=Math.min(e.length,r);for(n=0;n<i;n++)this.writeUint8(e.charCodeAt(n));for(;n<r;n++)this.writeUint8(0)}else for(n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0,r)))},n.prototype.writeCString=function(e,t){var r=0;if(null!=t){var n=Math.min(e.length,t);for(r=0;r<n;r++)this.writeUint8(e.charCodeAt(r));for(;r<t;r++)this.writeUint8(0)}else{for(r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));this.writeUint8(0)}},n.prototype.writeStruct=function(e,t){for(var r=0;r<e.length;r+=2){var n=e[r+1];this.writeType(n,t[e[r]],t)}},n.prototype.writeType=function(e,t,r){var i;if("function"==typeof e)return e(this,t);if("object"==typeof e&&!(e instanceof Array))return e.set(this,t,r);var o=null,s="ASCII",a=this.position;switch("string"==typeof e&&/:/.test(e)&&(i=e.split(":"),e=i[0],o=parseInt(i[1])),"string"==typeof e&&/,/.test(e)&&(i=e.split(","),e=i[0],s=parseInt(i[1])),e){case"uint8":this.writeUint8(t);break;case"int8":this.writeInt8(t);break;case"uint16":this.writeUint16(t,this.endianness);break;case"int16":this.writeInt16(t,this.endianness);break;case"uint32":this.writeUint32(t,this.endianness);break;case"int32":this.writeInt32(t,this.endianness);break;case"float32":this.writeFloat32(t,this.endianness);break;case"float64":this.writeFloat64(t,this.endianness);break;case"uint16be":this.writeUint16(t,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(t,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(t,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(t,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(t,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(t,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(t,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(t,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(t,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(t,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(t,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(t,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(t,o);break;case"string":this.writeString(t,s,o);break;case"u16string":this.writeUCS2String(t,this.endianness,o);break;case"u16stringle":this.writeUCS2String(t,n.LITTLE_ENDIAN,o);break;case"u16stringbe":this.writeUCS2String(t,n.BIG_ENDIAN,o);break;default:if(3==e.length){for(var l=e[1],u=0;u<t.length;u++)this.writeType(l,t[u]);break}this.writeStruct(e,t)}null!=o&&(this.position=a,this._realloc(o),this.position=a+o)},n.prototype.writeUint64=function(e){var t=Math.floor(e/o);this.writeUint32(t),this.writeUint32(4294967295&e)},n.prototype.writeUint24=function(e){this.writeUint8((16711680&e)>>16),this.writeUint8((65280&e)>>8),this.writeUint8(255&e)},n.prototype.adjustUint32=function(e,t){var r=this.position;this.seek(e),this.writeUint32(t),this.seek(r)},n.prototype.mapInt32Array=function(e,t){this._realloc(4*e);var r=new Int32Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r},n.prototype.mapInt16Array=function(e,t){this._realloc(2*e);var r=new Int16Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=2*e,r},n.prototype.mapInt8Array=function(e){this._realloc(1*e);var t=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},n.prototype.mapUint32Array=function(e,t){this._realloc(4*e);var r=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r},n.prototype.mapUint16Array=function(e,t){this._realloc(2*e);var r=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=2*e,r},n.prototype.mapFloat64Array=function(e,t){this._realloc(8*e);var r=new Float64Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=8*e,r},n.prototype.mapFloat32Array=function(e,t){this._realloc(4*e);var r=new Float32Array(this._buffer,this.byteOffset+this.position,e);return n.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r};var s=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};(s.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN)).initialized=function(){var e;return this.bufferIndex>-1||(this.buffers.length>0?0===(e=this.buffers[0]).fileStart?(this.buffer=e,this.bufferIndex=0,t.debug("MultiBufferStream","Stream ready for parsing"),!0):(t.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1):(t.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(e,r){t.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+r.byteLength));var n=new Uint8Array(e.byteLength+r.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(r),e.byteLength),n.buffer},s.prototype.reduceBuffer=function(e,t,r){var n;return(n=new Uint8Array(r)).set(new Uint8Array(e,t,r)),n.buffer.fileStart=e.fileStart+t,n.buffer.usedBytes=0,n.buffer},s.prototype.insertBuffer=function(e){for(var r=!0,n=0;n<this.buffers.length;n++){var i=this.buffers[n];if(e.fileStart<=i.fileStart){if(e.fileStart===i.fileStart){if(e.byteLength>i.byteLength){this.buffers.splice(n,1),n--;continue}t.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring")}else e.fileStart+e.byteLength<=i.fileStart||(e=this.reduceBuffer(e,0,i.fileStart-e.fileStart)),t.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(n,0,e),0===n&&(this.buffer=e);r=!1;break}if(e.fileStart<i.fileStart+i.byteLength){var o=i.fileStart+i.byteLength-e.fileStart,s=e.byteLength-o;if(!(s>0)){r=!1;break}e=this.reduceBuffer(e,o,s)}}r&&(t.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),0===n&&(this.buffer=e))},s.prototype.logBufferLevel=function(e){var r,n,i,o,s,a=[],l="";for(i=0,o=0,r=0;r<this.buffers.length;r++)n=this.buffers[r],0===r?(s={},a.push(s),s.start=n.fileStart,s.end=n.fileStart+n.byteLength,l+="["+s.start+"-"):s.end===n.fileStart?s.end=n.fileStart+n.byteLength:((s={}).start=n.fileStart,l+=a[a.length-1].end-1+"], ["+s.start+"-",s.end=n.fileStart+n.byteLength,a.push(s)),i+=n.usedBytes,o+=n.byteLength;a.length>0&&(l+=s.end-1+"]");var u=e?t.info:t.debug;0===this.buffers.length?u("MultiBufferStream","No more buffer in memory"):u("MultiBufferStream",this.buffers.length+" stored buffer(s) ("+i+"/"+o+" bytes), continuous ranges: "+l)},s.prototype.cleanBuffers=function(){var e,r;for(e=0;e<this.buffers.length;e++)(r=this.buffers[e]).usedBytes===r.byteLength&&(t.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)},s.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length){if((e=this.buffers[this.bufferIndex+1]).fileStart===this.buffer.fileStart+this.buffer.byteLength){var r=this.buffer.byteLength,n=this.buffer.usedBytes,i=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=n,this.buffer.fileStart=i,t.debug("ISOFile","Concatenating buffer for box parsing (length: "+r+"->"+this.buffer.byteLength+")"),!0}return!1}return!1},s.prototype.findPosition=function(e,r,n){var i,o=null,s=-1;for(i=!0===e?0:this.bufferIndex;i<this.buffers.length&&(o=this.buffers[i]).fileStart<=r;)s=i,n&&(o.fileStart+o.byteLength<=r?o.usedBytes=o.byteLength:o.usedBytes=r-o.fileStart,this.logBufferLevel()),i++;return-1!==s&&(o=this.buffers[s]).fileStart+o.byteLength>=r?(t.debug("MultiBufferStream","Found position in existing buffer #"+s),s):-1},s.prototype.findEndContiguousBuf=function(e){var t,r,n,i=void 0!==e?e:this.bufferIndex;if(r=this.buffers[i],this.buffers.length>i+1)for(t=i+1;t<this.buffers.length&&(n=this.buffers[t]).fileStart===r.fileStart+r.byteLength;t++)r=n;return r.fileStart+r.byteLength},s.prototype.getEndFilePositionAfter=function(e){var t=this.findPosition(!0,e,!1);return-1!==t?this.findEndContiguousBuf(t):e},s.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},s.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},s.prototype.seek=function(e,r,n){var i;return-1!==(i=this.findPosition(r,e,n))?(this.buffer=this.buffers[i],this.bufferIndex=i,this.position=e-this.buffer.fileStart,t.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(t.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)},s.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},s.prototype.getLength=function(){return this.byteLength},s.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},e.MultiBufferStream=s;var a=function(){var e=[];e[3]="ES_Descriptor",e[4]="DecoderConfigDescriptor",e[5]="DecoderSpecificInfo",e[6]="SLConfigDescriptor",this.getDescriptorName=function(t){return e[t]};var r=this,n={};return this.parseOneDescriptor=function(r){var i,o,s,a=0;for(i=r.readUint8(),s=r.readUint8();128&s;)a=(a<<7)+(127&s),s=r.readUint8();return a=(a<<7)+(127&s),t.debug("MPEG4DescriptorParser","Found "+(e[i]||"Descriptor "+i)+", size "+a+" at position "+r.getPosition()),(o=e[i]?new n[e[i]](a):new n.Descriptor(a)).parse(r),o},n.Descriptor=function(e,t){this.tag=e,this.size=t,this.descs=[]},n.Descriptor.prototype.parse=function(e){this.data=e.readUint8Array(this.size)},n.Descriptor.prototype.findDescriptor=function(e){for(var t=0;t<this.descs.length;t++)if(this.descs[t].tag==e)return this.descs[t];return null},n.Descriptor.prototype.parseRemainingDescriptors=function(e){for(var t=e.position;e.position<t+this.size;){var n=r.parseOneDescriptor(e);this.descs.push(n)}},n.ES_Descriptor=function(e){n.Descriptor.call(this,3,e)},n.ES_Descriptor.prototype=new n.Descriptor,n.ES_Descriptor.prototype.parse=function(e){if(this.ES_ID=e.readUint16(),this.flags=e.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=e.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var t=e.readUint8();this.URL=e.readString(t),this.size-=t+1}else this.URL="";32&this.flags?(this.OCR_ES_ID=e.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(e)},n.ES_Descriptor.prototype.getOTI=function(e){var t=this.findDescriptor(4);return t?t.oti:0},n.ES_Descriptor.prototype.getAudioConfig=function(e){var t=this.findDescriptor(4);if(!t)return null;var r=t.findDescriptor(5);if(r&&r.data){var n=(248&r.data[0])>>3;return 31===n&&r.data.length>=2&&(n=32+((7&r.data[0])<<3)+((224&r.data[1])>>5)),n}return null},n.DecoderConfigDescriptor=function(e){n.Descriptor.call(this,4,e)},n.DecoderConfigDescriptor.prototype=new n.Descriptor,n.DecoderConfigDescriptor.prototype.parse=function(e){this.oti=e.readUint8(),this.streamType=e.readUint8(),this.upStream=0!=(this.streamType>>1&1),this.streamType=this.streamType>>>2,this.bufferSize=e.readUint24(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),this.size-=13,this.parseRemainingDescriptors(e)},n.DecoderSpecificInfo=function(e){n.Descriptor.call(this,5,e)},n.DecoderSpecificInfo.prototype=new n.Descriptor,n.SLConfigDescriptor=function(e){n.Descriptor.call(this,6,e)},n.SLConfigDescriptor.prototype=new n.Descriptor,this};e.MPEG4DescriptorParser=a;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach((function(e){l.createBoxCtor(e)})),l.FULL_BOXES.forEach((function(e){l.createFullBoxCtor(e)})),l.CONTAINER_BOXES.forEach((function(e){l.createContainerBoxCtor(e[0],null,e[1])}))},Box:function(e,t,r){this.type=e,this.size=t,this.uuid=r},FullBox:function(e,t,r){l.Box.call(this,e,t,r),this.flags=0,this.version=0},ContainerBox:function(e,t,r){l.Box.call(this,e,t,r),this.boxes=[]},SampleEntry:function(e,t,r,n){l.ContainerBox.call(this,e,t),this.hdr_size=r,this.start=n},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,t){l.FullBox.call(this,e,t)},createBoxCtor:function(e,t){l.boxCodes.push(e),l[e+"Box"]=function(t){l.Box.call(this,e,t)},l[e+"Box"].prototype=new l.Box,t&&(l[e+"Box"].prototype.parse=t)},createFullBoxCtor:function(e,t){l[e+"Box"]=function(t){l.FullBox.call(this,e,t)},l[e+"Box"].prototype=new l.FullBox,l[e+"Box"].prototype.parse=function(e){this.parseFullHeader(e),t&&t.call(this,e)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var t=e.length,r=0;r<t;r++)this[e[r]+"s"]=[]}},createContainerBoxCtor:function(e,t,r){l[e+"Box"]=function(t){l.ContainerBox.call(this,e,t),l.addSubBoxArrays.call(this,r)},l[e+"Box"].prototype=new l.ContainerBox,t&&(l[e+"Box"].prototype.parse=t)},createMediaSampleEntryCtor:function(e,t,r){l.sampleEntryCodes[e]=[],l[e+"SampleEntry"]=function(e,t){l.SampleEntry.call(this,e,t),l.addSubBoxArrays.call(this,r)},l[e+"SampleEntry"].prototype=new l.SampleEntry,t&&(l[e+"SampleEntry"].prototype.parse=t)},createSampleEntryCtor:function(e,t,r,n){l.sampleEntryCodes[e].push(t),l[t+"SampleEntry"]=function(r){l[e+"SampleEntry"].call(this,t,r),l.addSubBoxArrays.call(this,n)},l[t+"SampleEntry"].prototype=new l[e+"SampleEntry"],r&&(l[t+"SampleEntry"].prototype.parse=r)},createEncryptedSampleEntryCtor:function(e,t,r){l.createSampleEntryCtor.call(this,e,t,r,["sinf"])},createSampleGroupCtor:function(e,t){l[e+"SampleGroupEntry"]=function(t){l.SampleGroupEntry.call(this,e,t)},l[e+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,t&&(l[e+"SampleGroupEntry"].prototype.parse=t)},createTrackGroupCtor:function(e,t){l[e+"TrackGroupTypeBox"]=function(t){l.TrackGroupTypeBox.call(this,e,t)},l[e+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,t&&(l[e+"TrackGroupTypeBox"].prototype.parse=t)},createUUIDBox:function(e,t,r,n){l.UUIDs.push(e),l.UUIDBoxes[e]=function(n){t?l.FullBox.call(this,"uuid",n,e):r?l.ContainerBox.call(this,"uuid",n,e):l.Box.call(this,"uuid",n,e)},l.UUIDBoxes[e].prototype=t?new l.FullBox:r?new l.ContainerBox:new l.Box,n&&(l.UUIDBoxes[e].prototype.parse=t?function(e){this.parseFullHeader(e),n&&n.call(this,e)}:n)}};function u(e,t){this.x=e,this.y=t}function c(e,t){this.bad_pixel_row=e,this.bad_pixel_column=t}l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(e){return this.addBox(new l[e+"Box"])},l.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e},l.Box.prototype.set=function(e,t){return this[e]=t,this},l.Box.prototype.addEntry=function(e,t){var r=t||"entries";return this[r]||(this[r]=[]),this[r].push(e),this},e.BoxParser=l,l.parseUUID=function(e){return l.parseHex16(e)},l.parseHex16=function(e){for(var t="",r=0;r<16;r++){var n=e.readUint8().toString(16);t+=1===n.length?"0"+n:n}return t},l.parseOneBox=function(e,r,n){var i,o,s,a=e.getPosition(),u=0;if(e.getEndPosition()-a<8)return t.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(n&&n<8)return t.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var c=e.readUint32(),d=e.readString(4),h=d;if(t.debug("BoxParser","Found box of type '"+d+"' and size "+c+" at position "+a),u=8,"uuid"==d){if(e.getEndPosition()-e.getPosition()<16||n-u<16)return e.seek(a),t.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};u+=16,h=s=l.parseUUID(e)}if(1==c){if(e.getEndPosition()-e.getPosition()<8||n&&n-u<8)return e.seek(a),t.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+d+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};c=e.readUint64(),u+=8}else if(0===c)if(n)c=n;else if("mdat"!==d)return t.error("BoxParser","Unlimited box size not supported for type: '"+d+"'"),i=new l.Box(d,c),{code:l.OK,box:i,size:i.size};return 0!==c&&c<u?(t.error("BoxParser","Box of type "+d+" has an invalid size "+c+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:d,size:c,hdr_size:u,start:a}):0!==c&&n&&c>n?(t.error("BoxParser","Box of type '"+d+"' has a size "+c+" greater than its container size "+n),{code:l.ERR_NOT_ENOUGH_DATA,type:d,size:c,hdr_size:u,start:a}):0!==c&&a+c>e.getEndPosition()?(e.seek(a),t.info("BoxParser","Not enough data in stream to parse the entire '"+d+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:d,size:c,hdr_size:u,start:a}):r?{code:l.OK,type:d,size:c,hdr_size:u,start:a}:(l[d+"Box"]?i=new l[d+"Box"](c):"uuid"!==d?(t.warn("BoxParser","Unknown box type: '"+d+"'"),(i=new l.Box(d,c)).has_unparsed_data=!0):l.UUIDBoxes[s]?i=new l.UUIDBoxes[s](c):(t.warn("BoxParser","Unknown uuid type: '"+s+"'"),(i=new l.Box(d,c)).uuid=s,i.has_unparsed_data=!0),i.hdr_size=u,i.start=a,i.write===l.Box.prototype.write&&"mdat"!==i.type&&(t.info("BoxParser","'"+h+"' box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),(o=e.getPosition()-(i.start+i.size))<0?(t.warn("BoxParser","Parsing of box '"+h+"' did not read the entire indicated box data size (missing "+-o+" bytes), seeking forward"),e.seek(i.start+i.size)):o>0&&(t.error("BoxParser","Parsing of box '"+h+"' read "+o+" more bytes than the indicated box data size, seeking backwards"),0!==i.size&&e.seek(i.start+i.size)),{code:l.OK,box:i,size:i.size})},l.Box.prototype.parse=function(e){"mdat"!=this.type?this.data=e.readUint8Array(this.size-this.hdr_size):0===this.size?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(e){for(var r,n;e.getPosition()<this.start+this.size;){if((r=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==l.OK)return;if(n=r.box,this.boxes.push(n),this.subBoxNames&&-1!=this.subBoxNames.indexOf(n.type))this[this.subBoxNames[this.subBoxNames.indexOf(n.type)]+"s"].push(n);else{var i="uuid"!==n.type?n.type:n.uuid;this[i]?t.warn("Box of type "+i+" already stored in field of this type"):this[i]=n}}},l.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var t=[];t[0]=this.language>>10&31,t[1]=this.language>>5&31,t[2]=31&this.language,this.languageString=String.fromCharCode(t[0]+96,t[1]+96,t[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(e){l.ContainerBox.prototype.parse.call(this,e)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,(function(e){var t;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),t=Math.min(31,e.readUint8()),this.compressorname=e.readString(t),t<31&&e.readString(31-t),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)})),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,(function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/65536,this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx",(function(e){var t=16*(1+(1&e.readUint8()));this.layer_size=[];for(var r=0;r<3;r++)this.layer_size[r]=16==t?e.readUint16():e.readUint32()})),l.createBoxCtor("a1op",(function(e){this.op_index=e.readUint8()})),l.createFullBoxCtor("auxC",(function(e){this.aux_type=e.readCString();var t=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(t)})),l.createBoxCtor("av1C",(function(e){var r=e.readUint8();if(r>>7&!1)t.error("av1C marker problem");else if(this.version=127&r,1===this.version)if(r=e.readUint8(),this.seq_profile=r>>5&7,this.seq_level_idx_0=31&r,r=e.readUint8(),this.seq_tier_0=r>>7&1,this.high_bitdepth=r>>6&1,this.twelve_bit=r>>5&1,this.monochrome=r>>4&1,this.chroma_subsampling_x=r>>3&1,this.chroma_subsampling_y=r>>2&1,this.chroma_sample_position=3&r,r=e.readUint8(),this.reserved_1=r>>5&7,0===this.reserved_1){if(this.initial_presentation_delay_present=r>>4&1,1===this.initial_presentation_delay_present)this.initial_presentation_delay_minus_one=15&r;else if(this.reserved_2=15&r,0!==this.reserved_2)return void t.error("av1C reserved_2 parsing problem");var n=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(n)}else t.error("av1C reserved_1 parsing problem");else t.error("av1C version "+this.version+" not supported")})),l.createBoxCtor("avcC",(function(e){var t,r;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=3&e.readUint8(),this.nb_SPS_nalus=31&e.readUint8(),r=this.size-this.hdr_size-6,this.SPS=[],t=0;t<this.nb_SPS_nalus;t++)this.SPS[t]={},this.SPS[t].length=e.readUint16(),this.SPS[t].nalu=e.readUint8Array(this.SPS[t].length),r-=2+this.SPS[t].length;for(this.nb_PPS_nalus=e.readUint8(),r--,this.PPS=[],t=0;t<this.nb_PPS_nalus;t++)this.PPS[t]={},this.PPS[t].length=e.readUint16(),this.PPS[t].nalu=e.readUint8Array(this.PPS[t].length),r-=2+this.PPS[t].length;r>0&&(this.ext=e.readUint8Array(r))})),l.createBoxCtor("btrt",(function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()})),l.createFullBoxCtor("ccst",(function(e){var t=e.readUint8();this.all_ref_pics_intra=128==(128&t),this.intra_pred_used=64==(64&t),this.max_ref_per_pic=(63&t)>>2,e.readUint24()})),l.createBoxCtor("cdef",(function(e){var t;for(this.channel_count=e.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],t=0;t<this.channel_count;t++)this.channel_indexes.push(e.readUint16()),this.channel_types.push(e.readUint16()),this.channel_associations.push(e.readUint16())})),l.createBoxCtor("clap",(function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()})),l.createBoxCtor("clli",(function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()})),l.createFullBoxCtor("cmex",(function(e){1&this.flags&&(this.pos_x=e.readInt32()),2&this.flags&&(this.pos_y=e.readInt32()),4&this.flags&&(this.pos_z=e.readInt32()),8&this.flags&&(0==this.version?16&this.flags?(this.quat_x=e.readInt32(),this.quat_y=e.readInt32(),this.quat_z=e.readInt32()):(this.quat_x=e.readInt16(),this.quat_y=e.readInt16(),this.quat_z=e.readInt16()):this.version),32&this.flags&&(this.id=e.readUint32())})),l.createFullBoxCtor("cmin",(function(e){this.focal_length_x=e.readInt32(),this.principal_point_x=e.readInt32(),this.principal_point_y=e.readInt32(),1&this.flags&&(this.focal_length_y=e.readInt32(),this.skew_factor=e.readInt32())})),l.createBoxCtor("cmpd",(function(e){for(this.component_count=e.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var t=e.readUint16();this.component_types.push(t),t>=32768&&this.component_type_urls.push(e.readCString())}})),l.createFullBoxCtor("co64",(function(e){var t,r;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(r=0;r<t;r++)this.chunk_offsets.push(e.readUint64())})),l.createFullBoxCtor("CoLL",(function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()})),l.createBoxCtor("colr",(function(e){if(this.colour_type=e.readString(4),"nclx"===this.colour_type){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var t=e.readUint8();this.full_range_flag=t>>7}else("rICC"===this.colour_type||"prof"===this.colour_type)&&(this.ICC_profile=e.readUint8Array(this.size-4))})),l.createFullBoxCtor("cprt",(function(e){this.parseLanguage(e),this.notice=e.readCString()})),l.createFullBoxCtor("cslg",(function(e){0===this.version&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())})),l.createFullBoxCtor("ctts",(function(e){var r,n;if(r=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(n=0;n<r;n++){this.sample_counts.push(e.readUint32());var i=e.readInt32();i<0&&t.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(i)}else if(1==this.version)for(n=0;n<r;n++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())})),l.createBoxCtor("dac3",(function(e){var t=e.readUint8(),r=e.readUint8(),n=e.readUint8();this.fscod=t>>6,this.bsid=t>>1&31,this.bsmod=(1&t)<<2|r>>6&3,this.acmod=r>>3&7,this.lfeon=r>>2&1,this.bit_rate_code=3&r|n>>5&7})),l.createBoxCtor("dec3",(function(e){var t=e.readUint16();this.data_rate=t>>3,this.num_ind_sub=7&t,this.ind_subs=[];for(var r=0;r<this.num_ind_sub+1;r++){var n={};this.ind_subs.push(n);var i=e.readUint8(),o=e.readUint8(),s=e.readUint8();n.fscod=i>>6,n.bsid=i>>1&31,n.bsmod=(1&i)<<4|o>>4&15,n.acmod=o>>1&7,n.lfeon=1&o,n.num_dep_sub=s>>1&15,n.num_dep_sub>0&&(n.chan_loc=(1&s)<<8|e.readUint8())}})),l.createFullBoxCtor("dfLa",(function(e){for(var t=[],r=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];;){var n=e.readUint8(),i=Math.min(127&n,r.length-1);if(i?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),t.push(r[i]),128&n)break}this.numMetadataBlocks=t.length+" ("+t.join(", ")+")"})),l.createBoxCtor("dimm",(function(e){this.bytessent=e.readUint64()})),l.createBoxCtor("dmax",(function(e){this.time=e.readUint32()})),l.createBoxCtor("dmed",(function(e){this.bytessent=e.readUint64()})),l.createBoxCtor("dOps",(function(e){if(this.Version=e.readUint8(),this.OutputChannelCount=e.readUint8(),this.PreSkip=e.readUint16(),this.InputSampleRate=e.readUint32(),this.OutputGain=e.readInt16(),this.ChannelMappingFamily=e.readUint8(),0!==this.ChannelMappingFamily){this.StreamCount=e.readUint8(),this.CoupledCount=e.readUint8(),this.ChannelMapping=[];for(var t=0;t<this.OutputChannelCount;t++)this.ChannelMapping[t]=e.readUint8()}})),l.createFullBoxCtor("dref",(function(e){var t,r;this.entries=[];for(var n=e.readUint32(),i=0;i<n;i++){if((t=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==l.OK)return;r=t.box,this.entries.push(r)}})),l.createBoxCtor("drep",(function(e){this.bytessent=e.readUint64()})),l.createFullBoxCtor("elng",(function(e){this.extended_language=e.readString(this.size-this.hdr_size)})),l.createFullBoxCtor("elst",(function(e){this.entries=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.entries.push(n),1===this.version?(n.segment_duration=e.readUint64(),n.media_time=e.readInt64()):(n.segment_duration=e.readUint32(),n.media_time=e.readInt32()),n.media_rate_integer=e.readInt16(),n.media_rate_fraction=e.readInt16()}})),l.createFullBoxCtor("emsg",(function(e){1==this.version?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var t=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));1==this.version&&(t-=4),this.message_data=e.readUint8Array(t)})),l.createEntityToGroupCtor=function(e,t){l[e+"Box"]=function(t){l.FullBox.call(this,e,t)},l[e+"Box"].prototype=new l.FullBox,l[e+"Box"].prototype.parse=function(e){if(this.parseFullHeader(e),t)t.call(this,e);else for(this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var r=e.readUint32();this.entity_ids.push(r)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",(function(e){this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[];for(var t=0;t<this.num_entities_in_group;t++){var r=e.readUint32();this.entity_ids.push(r)}for(this.tile_size_x=e.readUint16(),this.tile_size_y=e.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],t=0;t<this.num_entities_in_group;t++)this.layer_binning[t]=e.readUint16(),this.tiles_in_layer_row_minus1[t]=e.readUint16(),this.tiles_in_layer_column_minus1[t]=e.readUint16()})),l.createFullBoxCtor("esds",(function(e){var t=e.readUint8Array(this.size-this.hdr_size);if(void 0!==a){var r=new a;this.esd=r.parseOneDescriptor(new n(t.buffer,0,n.BIG_ENDIAN))}})),l.createBoxCtor("fiel",(function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()})),l.createBoxCtor("frma",(function(e){this.data_format=e.readString(4)})),l.createBoxCtor("ftyp",(function(e){var t=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),t-=8,this.compatible_brands=[];for(var r=0;t>=4;)this.compatible_brands[r]=e.readString(4),t-=4,r++})),l.createFullBoxCtor("hdlr",(function(e){0===this.version&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),"\0"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1)))})),l.createBoxCtor("hvcC",(function(e){var t,r,n,i;this.configurationVersion=e.readUint8(),i=e.readUint8(),this.general_profile_space=i>>6,this.general_tier_flag=(32&i)>>5,this.general_profile_idc=31&i,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),this.chroma_format_idc=3&e.readUint8(),this.bit_depth_luma_minus8=7&e.readUint8(),this.bit_depth_chroma_minus8=7&e.readUint8(),this.avgFrameRate=e.readUint16(),i=e.readUint8(),this.constantFrameRate=i>>6,this.numTemporalLayers=(13&i)>>3,this.temporalIdNested=(4&i)>>2,this.lengthSizeMinusOne=3&i,this.nalu_arrays=[];var o=e.readUint8();for(t=0;t<o;t++){var s=[];this.nalu_arrays.push(s),i=e.readUint8(),s.completeness=(128&i)>>7,s.nalu_type=63&i;var a=e.readUint16();for(r=0;r<a;r++){var l={};s.push(l),n=e.readUint16(),l.data=e.readUint8Array(n)}}})),l.createFullBoxCtor("iinf",(function(e){var r;0===this.version?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var n=0;n<this.entry_count;n++){if((r=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==l.OK)return;"infe"!==r.box.type&&t.error("BoxParser","Expected 'infe' box, got "+r.box.type),this.item_infos[n]=r.box}})),l.createFullBoxCtor("iloc",(function(e){var t;t=e.readUint8(),this.offset_size=t>>4&15,this.length_size=15&t,t=e.readUint8(),this.base_offset_size=t>>4&15,1===this.version||2===this.version?this.index_size=15&t:this.index_size=0,this.items=[];var r=0;if(this.version<2)r=e.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";r=e.readUint32()}for(var n=0;n<r;n++){var i={};if(this.items.push(i),this.version<2)i.item_ID=e.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";i.item_ID=e.readUint32()}switch(1===this.version||2===this.version?i.construction_method=15&e.readUint16():i.construction_method=0,i.data_reference_index=e.readUint16(),this.base_offset_size){case 0:i.base_offset=0;break;case 4:i.base_offset=e.readUint32();break;case 8:i.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var o=e.readUint16();i.extents=[];for(var s=0;s<o;s++){var a={};if(i.extents.push(a),1===this.version||2===this.version)switch(this.index_size){case 0:a.extent_index=0;break;case 4:a.extent_index=e.readUint32();break;case 8:a.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:a.extent_offset=0;break;case 4:a.extent_offset=e.readUint32();break;case 8:a.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:a.extent_length=0;break;case 4:a.extent_length=e.readUint32();break;case 8:a.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}})),l.createBoxCtor("imir",(function(e){var t=e.readUint8();this.reserved=t>>7,this.axis=1&t})),l.createFullBoxCtor("infe",(function(e){if(0!==this.version&&1!==this.version||(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),1===this.version)return this.extension_type=e.readString(4),t.warn("BoxParser","Cannot parse extension type"),void e.seek(this.start+this.size);this.version>=2&&(2===this.version?this.item_ID=e.readUint16():3===this.version&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),"mime"===this.item_type?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):"uri "===this.item_type&&(this.item_uri_type=e.readCString()))})),l.createFullBoxCtor("ipma",(function(e){var t,r;for(entry_count=e.readUint32(),this.associations=[],t=0;t<entry_count;t++){var n={};this.associations.push(n),this.version<1?n.id=e.readUint16():n.id=e.readUint32();var i=e.readUint8();for(n.props=[],r=0;r<i;r++){var o=e.readUint8(),s={};n.props.push(s),s.essential=(128&o)>>7==1,1&this.flags?s.property_index=(127&o)<<8|e.readUint8():s.property_index=127&o}}})),l.createFullBoxCtor("iref",(function(e){var r,n;for(this.references=[];e.getPosition()<this.start+this.size;){if((r=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==l.OK)return;(n=0===this.version?new l.SingleItemTypeReferenceBox(r.type,r.size,r.hdr_size,r.start):new l.SingleItemTypeReferenceBoxLarge(r.type,r.size,r.hdr_size,r.start)).write===l.Box.prototype.write&&"mdat"!==n.type&&(t.warn("BoxParser",n.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),n.parseDataAndRewind(e)),n.parse(e),this.references.push(n)}})),l.createBoxCtor("irot",(function(e){this.angle=3&e.readUint8()})),l.createFullBoxCtor("ispe",(function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()})),l.createFullBoxCtor("kind",(function(e){this.schemeURI=e.readCString(),this.value=e.readCString()})),l.createFullBoxCtor("leva",(function(e){var r=e.readUint8();this.levels=[];for(var n=0;n<r;n++){var i={};this.levels[n]=i,i.track_ID=e.readUint32();var o=e.readUint8();switch(i.padding_flag=o>>7,i.assignment_type=127&o,i.assignment_type){case 0:i.grouping_type=e.readString(4);break;case 1:i.grouping_type=e.readString(4),i.grouping_type_parameter=e.readUint32();break;case 2:case 3:break;case 4:i.sub_track_id=e.readUint32();break;default:t.warn("BoxParser","Unknown leva assignement type")}}})),l.createBoxCtor("lhvC",(function(e){var t,r,n;this.configurationVersion=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),n=e.readUint8(),this.numTemporalLayers=(13&n)>>3,this.temporalIdNested=(4&n)>>2,this.lengthSizeMinusOne=3&n,this.nalu_arrays=[];var i=e.readUint8();for(t=0;t<i;t++){var o=[];this.nalu_arrays.push(o),n=e.readUint8(),o.completeness=(128&n)>>7,o.nalu_type=63&n;var s=e.readUint16();for(r=0;r<s;r++){var a={};o.push(a);var l=e.readUint16();a.data=e.readUint8Array(l)}}})),l.createBoxCtor("lsel",(function(e){this.layer_id=e.readUint16()})),l.createBoxCtor("maxr",(function(e){this.period=e.readUint32(),this.bytes=e.readUint32()})),u.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv",(function(e){this.display_primaries=[],this.display_primaries[0]=new u(e.readUint16(),e.readUint16()),this.display_primaries[1]=new u(e.readUint16(),e.readUint16()),this.display_primaries[2]=new u(e.readUint16(),e.readUint16()),this.white_point=new u(e.readUint16(),e.readUint16()),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()})),l.createFullBoxCtor("mdhd",(function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()})),l.createFullBoxCtor("mehd",(function(e){1&this.flags&&(t.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),1==this.version?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()})),l.createFullBoxCtor("meta",(function(e){this.boxes=[],l.ContainerBox.prototype.parse.call(this,e)})),l.createFullBoxCtor("mfhd",(function(e){this.sequence_number=e.readUint32()})),l.createFullBoxCtor("mfro",(function(e){this._size=e.readUint32()})),l.createFullBoxCtor("mskC",(function(e){this.bits_per_pixel=e.readUint8()})),l.createFullBoxCtor("mvhd",(function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()})),l.createBoxCtor("npck",(function(e){this.packetssent=e.readUint32()})),l.createBoxCtor("nump",(function(e){this.packetssent=e.readUint64()})),l.createFullBoxCtor("padb",(function(e){var t=e.readUint32();this.padbits=[];for(var r=0;r<Math.floor((t+1)/2);r++)this.padbits=e.readUint8()})),l.createBoxCtor("pasp",(function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()})),l.createBoxCtor("payl",(function(e){this.text=e.readString(this.size-this.hdr_size)})),l.createBoxCtor("payt",(function(e){this.payloadID=e.readUint32();var t=e.readUint8();this.rtpmap_string=e.readString(t)})),l.createFullBoxCtor("pdin",(function(e){var t=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var r=0;r<t;r++)this.rate[r]=e.readUint32(),this.initial_delay[r]=e.readUint32()})),l.createFullBoxCtor("pitm",(function(e){0===this.version?this.item_id=e.readUint16():this.item_id=e.readUint32()})),l.createFullBoxCtor("pixi",(function(e){var t;for(this.num_channels=e.readUint8(),this.bits_per_channels=[],t=0;t<this.num_channels;t++)this.bits_per_channels[t]=e.readUint8()})),l.createBoxCtor("pmax",(function(e){this.bytes=e.readUint32()})),l.createFullBoxCtor("prdi",(function(e){if(this.step_count=e.readUint16(),this.item_count=[],2&this.flags)for(var t=0;t<this.step_count;t++)this.item_count[t]=e.readUint16()})),l.createFullBoxCtor("prft",(function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),0===this.version?this.media_time=e.readUint32():this.media_time=e.readUint64()})),l.createFullBoxCtor("pssh",(function(e){if(this.system_id=l.parseHex16(e),this.version>0){var t=e.readUint32();this.kid=[];for(var r=0;r<t;r++)this.kid[r]=l.parseHex16(e)}var n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))})),l.createFullBoxCtor("clef",(function(e){this.width=e.readUint32(),this.height=e.readUint32()})),l.createFullBoxCtor("enof",(function(e){this.width=e.readUint32(),this.height=e.readUint32()})),l.createFullBoxCtor("prof",(function(e){this.width=e.readUint32(),this.height=e.readUint32()})),l.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),l.createBoxCtor("rtp ",(function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)})),l.createFullBoxCtor("saio",(function(e){1&this.flags&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32());var t=e.readUint32();this.offset=[];for(var r=0;r<t;r++)0===this.version?this.offset[r]=e.readUint32():this.offset[r]=e.readUint64()})),l.createFullBoxCtor("saiz",(function(e){if(1&this.flags&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8(),this.sample_count=e.readUint32(),this.sample_info_size=[],0===this.default_sample_info_size)for(var t=0;t<this.sample_count;t++)this.sample_info_size[t]=e.readUint8()})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",(function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",(function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",(function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",(function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",(function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",(function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)})),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",(function(e){this.parseHeader(e),this.parseFooter(e)})),l.createSampleGroupCtor("alst",(function(e){var t,r=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],t=0;t<r;t++)this.sample_offset[t]=e.readUint32();var n=this.description_length-4-4*r;for(this.num_output_samples=[],this.num_total_samples=[],t=0;t<n/4;t++)this.num_output_samples[t]=e.readUint16(),this.num_total_samples[t]=e.readUint16()})),l.createSampleGroupCtor("avll",(function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()})),l.createSampleGroupCtor("avss",(function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var t=e.readUint8();this.durationFlag=t>>7,this.avgRateFlag=t>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var r=e.readUint8(),n=0;n<r;n++){var i={};this.dependency.push(i),i.subSeqDirectionFlag=e.readUint8(),i.layerNumber=e.readUint8(),i.subSequenceIdentifier=e.readUint16()}})),l.createSampleGroupCtor("dtrt",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("mvif",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("prol",(function(e){this.roll_distance=e.readInt16()})),l.createSampleGroupCtor("rap ",(function(e){var t=e.readUint8();this.num_leading_samples_known=t>>7,this.num_leading_samples=127&t})),l.createSampleGroupCtor("rash",(function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)t.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var r=0;r<this.operation_point_count;r++)this.available_bitrate[r]=e.readUint32(),this.target_rate_share[r]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}})),l.createSampleGroupCtor("roll",(function(e){this.roll_distance=e.readInt16()})),l.SampleGroupEntry.prototype.parse=function(e){t.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("scnm",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("seig",(function(e){this.reserved=e.readUint8();var t=e.readUint8();this.crypt_byte_block=t>>4,this.skip_byte_block=15&t,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=l.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))})),l.createSampleGroupCtor("stsa",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("sync",(function(e){var t=e.readUint8();this.NAL_unit_type=63&t})),l.createSampleGroupCtor("tele",(function(e){var t=e.readUint8();this.level_independently_decodable=t>>7})),l.createSampleGroupCtor("tsas",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("tscl",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createSampleGroupCtor("vipr",(function(e){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")})),l.createFullBoxCtor("sbgp",(function(e){this.grouping_type=e.readString(4),1===this.version?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.entries.push(n),n.sample_count=e.readInt32(),n.group_description_index=e.readInt32()}})),c.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm",(function(e){var t;for(this.component_count=e.readUint16(),this.component_index=[],t=0;t<this.component_count;t++)this.component_index.push(e.readUint16());var r=e.readUint8();for(this.correction_applied=128==(128&r),this.num_bad_rows=e.readUint32(),this.num_bad_cols=e.readUint32(),this.num_bad_pixels=e.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],t=0;t<this.num_bad_rows;t++)this.bad_rows.push(e.readUint32());for(t=0;t<this.num_bad_cols;t++)this.bad_columns.push(e.readUint32());for(t=0;t<this.num_bad_pixels;t++){var n=e.readUint32(),i=e.readUint32();this.bad_pixels.push(new c(n,i))}})),l.createFullBoxCtor("schm",(function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),1&this.flags&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))})),l.createBoxCtor("sdp ",(function(e){this.sdptext=e.readString(this.size-this.hdr_size)})),l.createFullBoxCtor("sdtp",(function(e){var t,r=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var n=0;n<r;n++)t=e.readUint8(),this.is_leading[n]=t>>6,this.sample_depends_on[n]=t>>4&3,this.sample_is_depended_on[n]=t>>2&3,this.sample_has_redundancy[n]=3&t})),l.createFullBoxCtor("senc"),l.createFullBoxCtor("sgpd",(function(e){this.grouping_type=e.readString(4),t.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),1===this.version?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var r=e.readUint32(),n=0;n<r;n++){var i;i=l[this.grouping_type+"SampleGroupEntry"]?new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):new l.SampleGroupEntry(this.grouping_type),this.entries.push(i),1===this.version&&0===this.default_length?i.description_length=e.readUint32():i.description_length=this.default_length,i.write===l.SampleGroupEntry.prototype.write&&(t.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),i.data=e.readUint8Array(i.description_length),e.position-=i.description_length),i.parse(e)}})),l.createFullBoxCtor("sidx",(function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),0===this.version?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var t=e.readUint16(),r=0;r<t;r++){var n={};this.references.push(n);var i=e.readUint32();n.reference_type=i>>31&1,n.referenced_size=2147483647&i,n.subsegment_duration=e.readUint32(),i=e.readUint32(),n.starts_with_SAP=i>>31&1,n.SAP_type=i>>28&7,n.SAP_delta_time=268435455&i}})),l.SingleItemTypeReferenceBox=function(e,t,r,n){l.Box.call(this,e,t),this.hdr_size=r,this.start=n},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var t=e.readUint16();this.references=[];for(var r=0;r<t;r++)this.references[r]={},this.references[r].to_item_ID=e.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(e,t,r,n){l.Box.call(this,e,t),this.hdr_size=r,this.start=n},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var t=e.readUint16();this.references=[];for(var r=0;r<t;r++)this.references[r]={},this.references[r].to_item_ID=e.readUint32()},l.createFullBoxCtor("SmDm",(function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()})),l.createFullBoxCtor("smhd",(function(e){this.balance=e.readUint16(),e.readUint16()})),l.createFullBoxCtor("ssix",(function(e){this.subsegments=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.subsegments.push(n),n.ranges=[];for(var i=e.readUint32(),o=0;o<i;o++){var s={};n.ranges.push(s),s.level=e.readUint8(),s.range_size=e.readUint24()}}})),l.createFullBoxCtor("stco",(function(e){var t;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(var r=0;r<t;r++)this.chunk_offsets.push(e.readUint32())})),l.createFullBoxCtor("stdp",(function(e){var t=(this.size-this.hdr_size)/2;this.priority=[];for(var r=0;r<t;r++)this.priority[r]=e.readUint16()})),l.createFullBoxCtor("sthd"),l.createFullBoxCtor("stri",(function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var t=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var r=0;r<t;r++)this.attribute_list[r]=e.readUint32()})),l.createFullBoxCtor("stsc",(function(e){var t,r;if(t=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(r=0;r<t;r++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())})),l.createFullBoxCtor("stsd",(function(e){var r,n,i,o;for(this.entries=[],i=e.readUint32(),r=1;r<=i;r++){if((n=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==l.OK)return;l[n.type+"SampleEntry"]?((o=new l[n.type+"SampleEntry"](n.size)).hdr_size=n.hdr_size,o.start=n.start):(t.warn("BoxParser","Unknown sample entry type: "+n.type),o=new l.SampleEntry(n.type,n.size,n.hdr_size,n.start)),o.write===l.SampleEntry.prototype.write&&(t.info("BoxParser","SampleEntry "+o.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),o.parseDataAndRewind(e)),o.parse(e),this.entries.push(o)}})),l.createFullBoxCtor("stsg",(function(e){this.grouping_type=e.readUint32();var t=e.readUint16();this.group_description_index=[];for(var r=0;r<t;r++)this.group_description_index[r]=e.readUint32()})),l.createFullBoxCtor("stsh",(function(e){var t,r;if(t=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(r=0;r<t;r++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())})),l.createFullBoxCtor("stss",(function(e){var t,r;if(r=e.readUint32(),0===this.version)for(this.sample_numbers=[],t=0;t<r;t++)this.sample_numbers.push(e.readUint32())})),l.createFullBoxCtor("stsz",(function(e){var t;if(this.sample_sizes=[],0===this.version)for(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),t=0;t<this.sample_count;t++)0===this.sample_size?this.sample_sizes.push(e.readUint32()):this.sample_sizes[t]=this.sample_size})),l.createFullBoxCtor("stts",(function(e){var r,n,i;if(r=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(n=0;n<r;n++)this.sample_counts.push(e.readUint32()),(i=e.readInt32())<0&&(t.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),i=1),this.sample_deltas.push(i)})),l.createFullBoxCtor("stvi",(function(e){var t=e.readUint32();this.single_view_allowed=3&t,this.stereo_scheme=e.readUint32();var r,n,i=e.readUint32();for(this.stereo_indication_type=e.readString(i),this.boxes=[];e.getPosition()<this.start+this.size;){if((r=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==l.OK)return;n=r.box,this.boxes.push(n),this[n.type]=n}})),l.createBoxCtor("styp",(function(e){l.ftypBox.prototype.parse.call(this,e)})),l.createFullBoxCtor("stz2",(function(e){var r,n;if(this.sample_sizes=[],0===this.version)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),n=e.readUint32(),4===this.field_size)for(r=0;r<n;r+=2){var i=e.readUint8();this.sample_sizes[r]=i>>4&15,this.sample_sizes[r+1]=15&i}else if(8===this.field_size)for(r=0;r<n;r++)this.sample_sizes[r]=e.readUint8();else if(16===this.field_size)for(r=0;r<n;r++)this.sample_sizes[r]=e.readUint16();else t.error("BoxParser","Error in length field in stz2 box")})),l.createFullBoxCtor("subs",(function(e){var t,r,n,i;for(n=e.readUint32(),this.entries=[],t=0;t<n;t++){var o={};if(this.entries[t]=o,o.sample_delta=e.readUint32(),o.subsamples=[],(i=e.readUint16())>0)for(r=0;r<i;r++){var s={};o.subsamples.push(s),1==this.version?s.size=e.readUint32():s.size=e.readUint16(),s.priority=e.readUint8(),s.discardable=e.readUint8(),s.codec_specific_parameters=e.readUint32()}}})),l.createFullBoxCtor("tenc",(function(e){if(e.readUint8(),0===this.version)e.readUint8();else{var t=e.readUint8();this.default_crypt_byte_block=t>>4&15,this.default_skip_byte_block=15&t}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=l.parseHex16(e),1===this.default_isProtected&&0===this.default_Per_Sample_IV_Size&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))})),l.createFullBoxCtor("tfdt",(function(e){1==this.version?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()})),l.createFullBoxCtor("tfhd",(function(e){var t=0;this.track_id=e.readUint32(),this.size-this.hdr_size>t&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),t+=8):this.base_data_offset=0,this.size-this.hdr_size>t&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),t+=4):this.default_sample_description_index=0,this.size-this.hdr_size>t&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),t+=4):this.default_sample_duration=0,this.size-this.hdr_size>t&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),t+=4):this.default_sample_size=0,this.size-this.hdr_size>t&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),t+=4):this.default_sample_flags=0})),l.createFullBoxCtor("tfra",(function(e){this.track_ID=e.readUint32(),e.readUint24();var t=e.readUint8();this.length_size_of_traf_num=t>>4&3,this.length_size_of_trun_num=t>>2&3,this.length_size_of_sample_num=3&t,this.entries=[];for(var r=e.readUint32(),n=0;n<r;n++)1===this.version?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()})),l.createFullBoxCtor("tkhd",(function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()})),l.createBoxCtor("tmax",(function(e){this.time=e.readUint32()})),l.createBoxCtor("tmin",(function(e){this.time=e.readUint32()})),l.createBoxCtor("totl",(function(e){this.bytessent=e.readUint32()})),l.createBoxCtor("tpay",(function(e){this.bytessent=e.readUint32()})),l.createBoxCtor("tpyl",(function(e){this.bytessent=e.readUint64()})),l.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(e,t,r,n){l.Box.call(this,e,t),this.hdr_size=r,this.start=n},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(e){for(var r,n;e.getPosition()<this.start+this.size;){if((r=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==l.OK)return;(n=new l.TrackReferenceTypeBox(r.type,r.size,r.hdr_size,r.start)).write===l.Box.prototype.write&&"mdat"!==n.type&&(t.info("BoxParser","TrackReference "+n.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),n.parseDataAndRewind(e)),n.parse(e),this.boxes.push(n)}},l.createFullBoxCtor("trep",(function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;){if(ret=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code!==l.OK)return;box=ret.box,this.boxes.push(box)}})),l.createFullBoxCtor("trex",(function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()})),l.createBoxCtor("trpy",(function(e){this.bytessent=e.readUint64()})),l.createFullBoxCtor("trun",(function(e){var t=0;if(this.sample_count=e.readUint32(),t+=4,this.size-this.hdr_size>t&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),t+=4):this.data_offset=0,this.size-this.hdr_size>t&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),t+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>t)for(var r=0;r<this.sample_count;r++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[r]=e.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[r]=e.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[r]=e.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this.sample_composition_time_offset[r]=e.readUint32():this.sample_composition_time_offset[r]=e.readInt32())})),l.createFullBoxCtor("tsel",(function(e){this.switch_group=e.readUint32();var t=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var r=0;r<t;r++)this.attribute_list[r]=e.readUint32()})),l.createFullBoxCtor("txtC",(function(e){this.config=e.readCString()})),l.createBoxCtor("tyco",(function(e){var t=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var r=0;r<t;r++)this.compatible_brands[r]=e.readString(4)})),l.createFullBoxCtor("udes",(function(e){this.lang=e.readCString(),this.name=e.readCString(),this.description=e.readCString(),this.tags=e.readCString()})),l.createFullBoxCtor("uncC",(function(e){var t;if(this.profile=e.readUint32(),1==this.version);else if(0==this.version){for(this.component_count=e.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],t=0;t<this.component_count;t++)this.component_index.push(e.readUint16()),this.component_bit_depth_minus_one.push(e.readUint8()),this.component_format.push(e.readUint8()),this.component_align_size.push(e.readUint8());this.sampling_type=e.readUint8(),this.interleave_type=e.readUint8(),this.block_size=e.readUint8();var r=e.readUint8();this.component_little_endian=r>>7&1,this.block_pad_lsb=r>>6&1,this.block_little_endian=r>>5&1,this.block_reversed=r>>4&1,this.pad_unknown=r>>3&1,this.pixel_size=e.readUint32(),this.row_align_size=e.readUint32(),this.tile_align_size=e.readUint32(),this.num_tile_cols_minus_one=e.readUint32(),this.num_tile_rows_minus_one=e.readUint32()}})),l.createFullBoxCtor("url ",(function(e){1!==this.flags&&(this.location=e.readCString())})),l.createFullBoxCtor("urn ",(function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())})),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,(function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")})),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,(function(e){this.system_id=l.parseHex16(e);var t=e.readUint32();t>0&&(this.data=e.readUint8Array(t))})),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,(function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=l.parseHex16(e)})),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,(function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var t=0;t<this.fragment_count;t++){var r={},n=0,i=0;1===this.version?(n=e.readUint64(),i=e.readUint64()):(n=e.readUint32(),i=e.readUint32()),r.absolute_time=n,r.absolute_duration=i,this.entries.push(r)}})),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,(function(e){1===this.version?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())})),l.createFullBoxCtor("vmhd",(function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)})),l.createFullBoxCtor("vpcC",(function(e){var t;1===this.version?(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4,this.chromaSubsampling=t>>1&7,this.videoFullRangeFlag=1&t,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)):(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4&15,this.colorSpace=15&t,t=e.readUint8(),this.chromaSubsampling=t>>4&15,this.transferFunction=t>>1&7,this.videoFullRangeFlag=1&t,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize))})),l.createBoxCtor("vttC",(function(e){this.text=e.readString(this.size-this.hdr_size)})),l.createFullBoxCtor("vvcC",(function(e){var t,r,n={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(e){this.held_bits=e.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(e){this.held_bits=e.readUint16(),this.num_held_bits=16},extract_bits:function(e){var t=this.held_bits>>this.num_held_bits-e&(1<<e)-1;return this.num_held_bits-=e,t}};if(n.stream_read_1_bytes(e),n.extract_bits(5),this.lengthSizeMinusOne=n.extract_bits(2),this.ptl_present_flag=n.extract_bits(1),this.ptl_present_flag){if(n.stream_read_2_bytes(e),this.ols_idx=n.extract_bits(9),this.num_sublayers=n.extract_bits(3),this.constant_frame_rate=n.extract_bits(2),this.chroma_format_idc=n.extract_bits(2),n.stream_read_1_bytes(e),this.bit_depth_minus8=n.extract_bits(3),n.extract_bits(5),n.stream_read_2_bytes(e),n.extract_bits(2),this.num_bytes_constraint_info=n.extract_bits(6),this.general_profile_idc=n.extract_bits(7),this.general_tier_flag=n.extract_bits(1),this.general_level_idc=e.readUint8(),n.stream_read_1_bytes(e),this.ptl_frame_only_constraint_flag=n.extract_bits(1),this.ptl_multilayer_enabled_flag=n.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(t=0;t<this.num_bytes_constraint_info-1;t++){var i=n.extract_bits(6);n.stream_read_1_bytes(e);var o=n.extract_bits(2);this.general_constraint_info[t]=i<<2|o}this.general_constraint_info[this.num_bytes_constraint_info-1]=n.extract_bits(6)}else n.extract_bits(6);if(this.num_sublayers>1){for(n.stream_read_1_bytes(e),this.ptl_sublayer_present_mask=0,r=this.num_sublayers-2;r>=0;--r){var s=n.extract_bits(1);this.ptl_sublayer_present_mask|=s<<r}for(r=this.num_sublayers;r<=8&&this.num_sublayers>1;++r)n.extract_bits(1);for(this.sublayer_level_idc=[],r=this.num_sublayers-2;r>=0;--r)this.ptl_sublayer_present_mask&1<<r&&(this.sublayer_level_idc[r]=e.readUint8())}if(this.ptl_num_sub_profiles=e.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(t=0;t<this.ptl_num_sub_profiles;t++)this.general_sub_profile_idc.push(e.readUint32());this.max_picture_width=e.readUint16(),this.max_picture_height=e.readUint16(),this.avg_frame_rate=e.readUint16()}this.nalu_arrays=[];var a=e.readUint8();for(t=0;t<a;t++){var l=[];this.nalu_arrays.push(l),n.stream_read_1_bytes(e),l.completeness=n.extract_bits(1),n.extract_bits(2),l.nalu_type=n.extract_bits(5);var u=1;for(13!=l.nalu_type&&12!=l.nalu_type&&(u=e.readUint16()),r=0;r<u;r++){var c=e.readUint16();l.push({data:e.readUint8Array(c),length:c})}}})),l.createFullBoxCtor("vvnC",(function(e){var t=strm.readUint8();this.lengthSizeMinusOne=3&t})),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(e,t){var r=Number(e).toString(16);for(t=null==t?t=2:t;r.length<t;)r="0"+r;return r},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):e},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var e,t=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C"}t+=this.hvcC.general_profile_idc,t+=".";var r=this.hvcC.general_profile_compatibility,n=0;for(e=0;e<32&&(n|=1&r,31!=e);e++)n<<=1,r>>=1;t+=l.decimalToHex(n,0),t+=".",0===this.hvcC.general_tier_flag?t+="L":t+="H",t+=this.hvcC.general_level_idc;var i=!1,o="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||i)&&(o="."+l.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+o,i=!0);t+=o}return t},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var e,t=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){t+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?t+=".H":t+=".L",t+=this.vvcC.general_level_idc;var r="";if(this.vvcC.general_constraint_info){var n,i=[],o=0;for(o|=this.vvcC.ptl_frame_only_constraint<<7,o|=this.vvcC.ptl_multilayer_enabled<<6,e=0;e<this.vvcC.general_constraint_info.length;++e)o|=this.vvcC.general_constraint_info[e]>>2&63,i.push(o),o&&(n=e),o=this.vvcC.general_constraint_info[e]>>2&3;if(void 0===n)r=".CA";else{r=".C";var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",a=0,u=0;for(e=0;e<=n;++e)for(a=a<<8|i[e],u+=8;u>=5;)r+=s[a>>u-5&31],a&=(1<<(u-=5))-1;u&&(r+=s[31&(a<<=5-u)])}}t+=r}return t},l.mp4aSampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var t=this.esds.esd.getOTI(),r=this.esds.esd.getAudioConfig();return e+"."+l.decimalToHex(t)+(r?"."+r:"")}return e},l.stxtSampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this),t=this.vpcC.level;0==t&&(t="00");var r=this.vpcC.bitDepth;return 8==r&&(r="08"),e+".0"+this.vpcC.profile+"."+t+"."+r},l.av01SampleEntry.prototype.getCodec=function(){var e,t=l.SampleEntry.prototype.getCodec.call(this),r=this.av1C.seq_level_idx_0;return r<10&&(r="0"+r),2===this.av1C.seq_profile&&1===this.av1C.high_bitdepth?e=1===this.av1C.twelve_bit?"12":"10":this.av1C.seq_profile<=2&&(e=1===this.av1C.high_bitdepth?"10":"08"),t+"."+this.av1C.seq_profile+"."+r+(this.av1C.seq_tier_0?"H":"M")+"."+e},l.Box.prototype.writeHeader=function(e,r){this.size+=8,this.size>o&&(this.size+=8),"uuid"===this.type&&(this.size+=16),t.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(r||"")),this.size>o?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),"uuid"===this.type&&e.writeUint8Array(this.uuid),this.size>o&&e.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(e){this.size+=4,l.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},l.Box.prototype.write=function(e){"mdat"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var r=0;r<this.boxes.length;r++)this.boxes[r]&&(this.boxes[r].write(e),this.size+=this.boxes[r].size);t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(e){this.size=4*this.track_ids.length,this.writeHeader(e),e.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(e){var t;for(this.size=7,t=0;t<this.SPS.length;t++)this.size+=2+this.SPS[t].length;for(t=0;t<this.PPS.length;t++)this.size+=2+this.PPS[t].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),t=0;t<this.SPS.length;t++)e.writeUint16(this.SPS[t].length),e.writeUint8Array(this.SPS[t].nalu);for(e.writeUint8(this.PPS.length),t=0;t<this.PPS.length;t++)e.writeUint16(this.PPS[t].length),e.writeUint8Array(this.PPS[t].nalu);this.ext&&e.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),t=0;t<this.chunk_offsets.length;t++)e.writeUint64(this.chunk_offsets[t])},l.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),1===this.version?e.writeInt32(this.sample_offsets[t]):e.writeUint32(this.sample_offsets[t])},l.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var r=0;r<this.entries.length;r++)this.entries[r].write(e),this.size+=this.entries[r].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},l.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var r=this.entries[t];e.writeUint32(r.segment_duration),e.writeInt32(r.media_time),e.writeInt16(r.media_rate_integer),e.writeInt16(r.media_rate_fraction)}},l.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var t=0;t<this.compatible_brands.length;t++)e.writeString(this.compatible_brands[t],null,4)},l.hdlrBox.prototype.write=function(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},l.hvcCBox.prototype.write=function(e){var t,r;for(this.size=23,t=0;t<this.nalu_arrays.length;t++)for(this.size+=3,r=0;r<this.nalu_arrays[t].length;r++)this.size+=2+this.nalu_arrays[t][r].data.length;for(this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),e.writeUint32(this.general_profile_compatibility),e.writeUint8Array(this.general_constraint_indicator),e.writeUint8(this.general_level_idc),e.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),e.writeUint8(this.parallelismType+252),e.writeUint8(this.chroma_format_idc+252),e.writeUint8(this.bit_depth_luma_minus8+248),e.writeUint8(this.bit_depth_chroma_minus8+248),e.writeUint16(this.avgFrameRate),e.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),e.writeUint8(this.nalu_arrays.length),t=0;t<this.nalu_arrays.length;t++)for(e.writeUint8((this.nalu_arrays[t].completeness<<7)+this.nalu_arrays[t].nalu_type),e.writeUint16(this.nalu_arrays[t].length),r=0;r<this.nalu_arrays[t].length;r++)e.writeUint16(this.nalu_arrays[t][r].data.length),e.writeUint8Array(this.nalu_arrays[t][r].data)},l.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},l.mdhdBox.prototype.write=function(e){this.size=20,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},l.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=96,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(e){this.size=8,l.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(e){for(var r=0;r<this.boxes.length;r++)this.boxes[r].write(e),this.size+=this.boxes[r].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=70,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},l.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=20,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)},l.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)},l.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var r=this.entries[t];e.writeInt32(r.sample_count),e.writeInt32(r.group_description_index)}},l.sgpdBox.prototype.write=function(e){var t,r;for(this.flags=0,this.size=12,t=0;t<this.entries.length;t++)r=this.entries[t],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=r.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),1===this.version&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),t=0;t<this.entries.length;t++)r=this.entries[t],1===this.version&&0===this.default_length&&e.writeUint32(r.description_length),r.write(e)},l.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var t=0;t<this.references.length;t++){var r=this.references[t];e.writeUint32(r.reference_type<<31|r.referenced_size),e.writeUint32(r.subsegment_duration),e.writeUint32(r.starts_with_SAP<<31|r.SAP_type<<28|r.SAP_delta_time)}},l.smhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=4,this.writeHeader(e),e.writeUint16(this.balance),e.writeUint16(0)},l.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),t=0;t<this.first_chunk.length;t++)e.writeUint32(this.first_chunk[t]),e.writeUint32(this.samples_per_chunk[t]),e.writeUint32(this.sample_description_index[t])},l.stsdBox.prototype.write=function(e){var r;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,r=0;r<this.entries.length;r++)this.entries[r].write(e),this.size+=this.entries[r].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),t=0;t<this.shadowed_sample_numbers.length;t++)e.writeUint32(this.shadowed_sample_numbers[t]),e.writeUint32(this.sync_sample_numbers[t])},l.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(e){var t,r=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(t=0;t+1<this.sample_sizes.length;){if(this.sample_sizes[t+1]!==this.sample_sizes[0]){r=!1;break}t++}else r=!1;this.size=8,r||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),r?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),r||e.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),e.writeUint32(this.sample_deltas[t])},l.tfdtBox.prototype.write=function(e){var t=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>t?1:0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(e),1===this.version?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(e){this.version=0,this.size=80,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},l.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var t=0;t<this.sample_count;t++)this.flags&l.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[t]),this.flags&l.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[t]),this.flags&l.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[t]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?e.writeUint32(this.sample_composition_time_offset[t]):e.writeInt32(this.sample_composition_time_offset[t]))},l["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},l["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},l.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(e){var t,r,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(r=0;r<this.sample_counts[t];r++)e[n].pts=e[n].dts+this.sample_offsets[t],n++},l.sttsBox.prototype.unpack=function(e){var t,r,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(r=0;r<this.sample_counts[t];r++)e[n].dts=0===n?0:e[n-1].dts+this.sample_deltas[t],n++},l.stcoBox.prototype.unpack=function(e){var t;for(t=0;t<this.chunk_offsets.length;t++)e[t].offset=this.chunk_offsets[t]},l.stscBox.prototype.unpack=function(e){var t,r,n,i,o;for(i=0,o=0,t=0;t<this.first_chunk.length;t++)for(r=0;r<(t+1<this.first_chunk.length?this.first_chunk[t+1]:1/0);r++)for(o++,n=0;n<this.samples_per_chunk[t];n++){if(!e[i])return;e[i].description_index=this.sample_description_index[t],e[i].chunk_index=o,i++}},l.stszBox.prototype.unpack=function(e){var t;for(t=0;t<this.sample_sizes.length;t++)e[t].size=this.sample_sizes[t]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(e,t){if(e&&!t)return!1;var r;for(r in e)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(r)>-1||e[r]instanceof l.Box||t[r]instanceof l.Box||void 0===e[r]||void 0===t[r]||"function"==typeof e[r]||"function"==typeof t[r]||e.subBoxNames&&e.subBoxNames.indexOf(r.slice(0,4))>-1||t.subBoxNames&&t.subBoxNames.indexOf(r.slice(0,4))>-1||"data"===r||"start"===r||"size"===r||"creation_time"===r||"modification_time"===r||l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(r)>-1||e[r]===t[r]))return!1;return!0},l.boxEqual=function(e,t){if(!l.boxEqualFields(e,t))return!1;for(var r=0;r<l.DIFF_BOXES_PROP_NAMES.length;r++){var n=l.DIFF_BOXES_PROP_NAMES[r];if(e[n]&&t[n]&&!l.boxEqual(e[n],t[n]))return!1}return!0};var d=function(){};d.prototype.parseSample=function(e){var t,n,i=new r(e.buffer);for(t=[];!i.isEos();)(n=l.parseOneBox(i,!1)).code===l.OK&&"vttc"===n.box.type&&t.push(n.box);return t},d.prototype.getText=function(e,t,r){function n(e,t,r){return r=r||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(r)+e}function i(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*r),o=Math.floor(1e3*(e-3600*t-60*r-i));return n(t,2)+":"+n(r,2)+":"+n(i,2)+"."+n(o,3)}for(var o=this.parseSample(r),s="",a=0;a<o.length;a++){var l=o[a];s+=i(e)+" --\x3e "+i(t)+"\r\n",s+=l.payl.text}return s};var h=function(){};h.prototype.parseSample=function(e){var t,n={resources:[]},i=new r(e.data.buffer);if(e.subsamples&&0!==e.subsamples.length){if(n.documentString=i.readString(e.subsamples[0].size),e.subsamples.length>1)for(t=1;t<e.subsamples.length;t++)n.resources[t]=i.readUint8Array(e.subsamples[t].size)}else n.documentString=i.readString(e.data.length);return"undefined"!=typeof DOMParser&&(n.document=(new DOMParser).parseFromString(n.documentString,"application/xml")),n};var f=function(){};f.prototype.parseSample=function(e){return new r(e.data.buffer).readString(e.data.length)},f.prototype.parseConfig=function(e){var t=new r(e.buffer);return t.readUint32(),t.readCString()},e.VTTin4Parser=d,e.XMLSubtitlein4Parser=h,e.Textin4Parser=f;var p=function(e){this.stream=e||new s,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};p.prototype.setSegmentOptions=function(e,t,r){var n=this.getTrackById(e);if(n){var i={};this.fragmentedTracks.push(i),i.id=e,i.user=t,i.trak=n,n.nextSample=0,i.segmentStream=null,i.nb_samples=1e3,i.rapAlignement=!0,r&&(r.nbSamples&&(i.nb_samples=r.nbSamples),r.rapAlignement&&(i.rapAlignement=r.rapAlignement))}},p.prototype.unsetSegmentOptions=function(e){for(var t=-1,r=0;r<this.fragmentedTracks.length;r++)this.fragmentedTracks[r].id==e&&(t=r);t>-1&&this.fragmentedTracks.splice(t,1)},p.prototype.setExtractionOptions=function(e,t,r){var n=this.getTrackById(e);if(n){var i={};this.extractedTracks.push(i),i.id=e,i.user=t,i.trak=n,n.nextSample=0,i.nb_samples=1e3,i.samples=[],r&&r.nbSamples&&(i.nb_samples=r.nbSamples)}},p.prototype.unsetExtractionOptions=function(e){for(var t=-1,r=0;r<this.extractedTracks.length;r++)this.extractedTracks[r].id==e&&(t=r);t>-1&&this.extractedTracks.splice(t,1)},p.prototype.parse=function(){var e,r;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(e=l.parseOneBox(this.stream,!1)).code===l.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}return}var n;switch(n="uuid"!==(r=e.box).type?r.type:r.uuid,this.boxes.push(r),n){case"mdat":this.mdats.push(r);break;case"moof":this.moofs.push(r);break;case"moov":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[n]&&t.warn("ISOFile","Duplicate Box of type: "+n+", overriding previous occurrence"),this[n]=r}this.updateUsedBytes&&this.updateUsedBytes(r,e)}},p.prototype.checkBuffer=function(e){if(null==e)throw"Buffer must be defined and non empty";if(void 0===e.fileStart)throw"Buffer must have a fileStart property";return 0===e.byteLength?(t.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(t.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),!!this.stream.initialized()||(t.warn("ISOFile","Not ready to start parsing"),!1))},p.prototype.appendBuffer=function(e,r){var n;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(r),this.nextSeekPosition?(n=this.nextSeekPosition,this.nextSeekPosition=void 0):n=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(n=this.stream.getEndFilePositionAfter(n))):n=this.nextParsePosition?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(t.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+n),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),n},p.prototype.getInfo=function(){var e,t,r,n,i,o,s={},a=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(s.hasMoov=!0,s.duration=this.moov.mvhd.duration,s.timescale=this.moov.mvhd.timescale,s.isFragmented=null!=this.moov.mvex,s.isFragmented&&this.moov.mvex.mehd&&(s.fragment_duration=this.moov.mvex.mehd.fragment_duration),s.isProgressive=this.isProgressive,s.hasIOD=null!=this.moov.iods,s.brands=[],s.brands.push(this.ftyp.major_brand),s.brands=s.brands.concat(this.ftyp.compatible_brands),s.created=new Date(a+1e3*this.moov.mvhd.creation_time),s.modified=new Date(a+1e3*this.moov.mvhd.modification_time),s.tracks=[],s.audioTracks=[],s.videoTracks=[],s.subtitleTracks=[],s.metadataTracks=[],s.hintTracks=[],s.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(o=(r=this.moov.traks[e]).mdia.minf.stbl.stsd.entries[0],n={},s.tracks.push(n),n.id=r.tkhd.track_id,n.name=r.mdia.hdlr.name,n.references=[],r.tref)for(t=0;t<r.tref.boxes.length;t++)i={},n.references.push(i),i.type=r.tref.boxes[t].type,i.track_ids=r.tref.boxes[t].track_ids;r.edts&&(n.edits=r.edts.elst.entries),n.created=new Date(a+1e3*r.tkhd.creation_time),n.modified=new Date(a+1e3*r.tkhd.modification_time),n.movie_duration=r.tkhd.duration,n.movie_timescale=s.timescale,n.layer=r.tkhd.layer,n.alternate_group=r.tkhd.alternate_group,n.volume=r.tkhd.volume,n.matrix=r.tkhd.matrix,n.track_width=r.tkhd.width/65536,n.track_height=r.tkhd.height/65536,n.timescale=r.mdia.mdhd.timescale,n.cts_shift=r.mdia.minf.stbl.cslg,n.duration=r.mdia.mdhd.duration,n.samples_duration=r.samples_duration,n.codec=o.getCodec(),n.kind=r.udta&&r.udta.kinds.length?r.udta.kinds[0]:{schemeURI:"",value:""},n.language=r.mdia.elng?r.mdia.elng.extended_language:r.mdia.mdhd.languageString,n.nb_samples=r.samples.length,n.size=r.samples_size,n.bitrate=8*n.size*n.timescale/n.samples_duration,o.isAudio()?(n.type="audio",s.audioTracks.push(n),n.audio={},n.audio.sample_rate=o.getSampleRate(),n.audio.channel_count=o.getChannelCount(),n.audio.sample_size=o.getSampleSize()):o.isVideo()?(n.type="video",s.videoTracks.push(n),n.video={},n.video.width=o.getWidth(),n.video.height=o.getHeight()):o.isSubtitle()?(n.type="subtitles",s.subtitleTracks.push(n)):o.isHint()?(n.type="metadata",s.hintTracks.push(n)):o.isMetadata()?(n.type="metadata",s.metadataTracks.push(n)):(n.type="metadata",s.otherTracks.push(n))}else s.hasMoov=!1;if(s.mime="",s.hasMoov&&s.tracks){for(s.videoTracks&&s.videoTracks.length>0?s.mime+='video/mp4; codecs="':s.audioTracks&&s.audioTracks.length>0?s.mime+='audio/mp4; codecs="':s.mime+='application/mp4; codecs="',e=0;e<s.tracks.length;e++)0!==e&&(s.mime+=","),s.mime+=s.tracks[e].codec;s.mime+='"; profiles="',s.mime+=this.ftyp.compatible_brands.join(),s.mime+='"'}return s},p.prototype.setNextSeekPositionFromSample=function(e){e&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(e.offset+e.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=e.offset+e.alreadyRead)},p.prototype.processSamples=function(e){var r,n;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(r=0;r<this.fragmentedTracks.length;r++){var i=this.fragmentedTracks[r];for(n=i.trak;n.nextSample<n.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Creating media fragment on track #"+i.id+" for sample "+n.nextSample);var o=this.createFragment(i.id,n.nextSample,i.segmentStream);if(!o)break;if(i.segmentStream=o,n.nextSample++,(n.nextSample%i.nb_samples==0||e||n.nextSample>=n.samples.length)&&(t.info("ISOFile","Sending fragmented data on track #"+i.id+" for samples ["+Math.max(0,n.nextSample-i.nb_samples)+","+(n.nextSample-1)+"]"),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(i.id,i.user,i.segmentStream.buffer,n.nextSample,e||n.nextSample>=n.samples.length),i.segmentStream=null,i!==this.fragmentedTracks[r]))break}}if(null!==this.onSamples)for(r=0;r<this.extractedTracks.length;r++){var s=this.extractedTracks[r];for(n=s.trak;n.nextSample<n.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Exporting on track #"+s.id+" sample #"+n.nextSample);var a=this.getSample(n,n.nextSample);if(!a){this.setNextSeekPositionFromSample(n.samples[n.nextSample]);break}if(n.nextSample++,s.samples.push(a),(n.nextSample%s.nb_samples==0||n.nextSample>=n.samples.length)&&(t.debug("ISOFile","Sending samples on track #"+s.id+" for sample "+n.nextSample),this.onSamples&&this.onSamples(s.id,s.user,s.samples),s.samples=[],s!==this.extractedTracks[r]))break}}}},p.prototype.getBox=function(e){var t=this.getBoxes(e,!0);return t.length?t[0]:null},p.prototype.getBoxes=function(e,t){var r=[];return p._sweep.call(this,e,r,t),r},p._sweep=function(e,t,r){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;p._sweep.call(this.boxes[n],e,t,r)}},p.prototype.getTrackSamplesInfo=function(e){var t=this.getTrackById(e);return t?t.samples:void 0},p.prototype.getTrackSample=function(e,t){var r=this.getTrackById(e);return this.getSample(r,t)},p.prototype.releaseUsedSamples=function(e,r){var n=0,i=this.getTrackById(e);i.lastValidSample||(i.lastValidSample=0);for(var o=i.lastValidSample;o<r;o++)n+=this.releaseSample(i,o);t.info("ISOFile","Track #"+e+" released samples up to "+r+" (released size: "+n+", remaining: "+this.samplesDataSize+")"),i.lastValidSample=r},p.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},p.prototype.stop=function(){this.sampleProcessingStarted=!1},p.prototype.flush=function(){t.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},p.prototype.seekTrack=function(e,r,n){var i,o,s,a,l=0,u=0;if(0===n.samples.length)return t.info("ISOFile","No sample in track, cannot seek! Using time "+t.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(i=0;i<n.samples.length;i++){if(o=n.samples[i],0===i)u=0,a=o.timescale;else if(o.cts>e*o.timescale){u=i-1;break}r&&o.is_sync&&(l=i)}for(r&&(u=l),e=n.samples[u].cts,n.nextSample=u;n.samples[u].alreadyRead===n.samples[u].size&&n.samples[u+1];)u++;return s=n.samples[u].offset+n.samples[u].alreadyRead,t.info("ISOFile","Seeking to "+(r?"RAP":"")+" sample #"+n.nextSample+" on track "+n.tkhd.track_id+", time "+t.getDurationString(e,a)+" and offset: "+s),{offset:s,time:e/a}},p.prototype.getTrackDuration=function(e){var t;return e.samples?((t=e.samples[e.samples.length-1]).cts+t.duration)/t.timescale:1/0},p.prototype.seek=function(e,r){var n,i,o,s=this.moov,a={offset:1/0,time:1/0};if(this.moov){for(o=0;o<s.traks.length;o++)n=s.traks[o],e>this.getTrackDuration(n)||((i=this.seekTrack(e,r,n)).offset<a.offset&&(a.offset=i.offset),i.time<a.time&&(a.time=i.time));return t.info("ISOFile","Seeking at time "+t.getDurationString(a.time,1)+" needs a buffer with a fileStart position of "+a.offset),a.offset===1/0?a={offset:this.nextParsePosition,time:0}:a.offset=this.stream.getEndFilePositionAfter(a.offset),t.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+a.offset),a}throw"Cannot seek: moov not received!"},p.prototype.equal=function(e){for(var t=0;t<this.boxes.length&&t<e.boxes.length;){var r=this.boxes[t],n=e.boxes[t];if(!l.boxEqual(r,n))return!1;t++}return!0},e.ISOFile=p,p.prototype.lastBoxStartPosition=0,p.prototype.parsingMdat=null,p.prototype.nextParsePosition=0,p.prototype.discardMdatData=!1,p.prototype.processIncompleteBox=function(e){var t;return"mdat"===e.type?(t=new l[e.type+"Box"](e.size),this.parsingMdat=t,this.boxes.push(t),this.mdats.push(t),t.start=e.start,t.hdr_size=e.hdr_size,this.stream.addUsedBytes(t.hdr_size),this.lastBoxStartPosition=t.start+t.size,this.stream.seek(t.start+t.size,!1,this.discardMdatData)?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=t.start+t.size,!1)):("moov"===e.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer()?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},p.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},p.prototype.processIncompleteMdat=function(){var e;return e=this.parsingMdat,this.stream.seek(e.start+e.size,!1,this.discardMdatData)?(t.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},p.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},p.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},p.prototype.updateUsedBytes=function(e,t){this.stream.addUsedBytes&&("mdat"===e.type?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},p.prototype.add=l.Box.prototype.add,p.prototype.addBox=l.Box.prototype.addBox,p.prototype.init=function(e){var t=e||{};this.add("ftyp").set("major_brand",t.brands&&t.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",t.brands||["iso4"]);var r=this.add("moov");return r.add("mvhd").set("timescale",t.timescale||600).set("rate",t.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",t.duration||0).set("volume",t.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),r.add("mvex"),this},p.prototype.addTrack=function(e){this.moov||this.init(e);var t=e||{};t.width=t.width||320,t.height=t.height||320,t.id=t.id||this.moov.mvhd.next_track_id,t.type=t.type||"avc1";var n=this.moov.add("trak");this.moov.mvhd.next_track_id=t.id+1,n.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",t.id).set("duration",t.duration||0).set("layer",t.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",t.width<<16).set("height",t.height<<16);var i=n.add("mdia");i.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",t.timescale||1).set("duration",t.media_duration||0).set("language",t.language||"und"),i.add("hdlr").set("handler",t.hdlr||"vide").set("name",t.name||"Track created with MP4Box.js"),i.add("elng").set("extended_language",t.language||"fr-FR");var o=i.add("minf");if(void 0!==l[t.type+"SampleEntry"]){var s=new l[t.type+"SampleEntry"];s.data_reference_index=1;var a="";for(var u in l.sampleEntryCodes)for(var c=l.sampleEntryCodes[u],d=0;d<c.length;d++)if(c.indexOf(t.type)>-1){a=u;break}switch(a){case"Visual":if(o.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),s.set("width",t.width).set("height",t.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",t.type+" Compressor").set("depth",24),t.avcDecoderConfigRecord){var h=new l.avcCBox;h.parse(new r(t.avcDecoderConfigRecord)),s.addBox(h)}else if(t.hevcDecoderConfigRecord){var f=new l.hvcCBox;f.parse(new r(t.hevcDecoderConfigRecord)),s.addBox(f)}break;case"Audio":o.add("smhd").set("balance",t.balance||0),s.set("channel_count",t.channel_count||2).set("samplesize",t.samplesize||16).set("samplerate",t.samplerate||65536);break;case"Hint":o.add("hmhd");break;case"Subtitle":o.add("sthd"),"stpp"===t.type&&s.set("namespace",t.namespace||"nonamespace").set("schema_location",t.schema_location||"").set("auxiliary_mime_types",t.auxiliary_mime_types||"");break;default:o.add("nmhd")}t.description&&s.addBox(t.description),t.description_boxes&&t.description_boxes.forEach((function(e){s.addBox(e)})),o.add("dinf").add("dref").addEntry((new l["url Box"]).set("flags",1));var p=o.add("stbl");return p.add("stsd").addEntry(s),p.add("stts").set("sample_counts",[]).set("sample_deltas",[]),p.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),p.add("stco").set("chunk_offsets",[]),p.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",t.id).set("default_sample_description_index",t.default_sample_description_index||1).set("default_sample_duration",t.default_sample_duration||0).set("default_sample_size",t.default_sample_size||0).set("default_sample_flags",t.default_sample_flags||0),this.buildTrakSampleLists(n),t.id}},l.Box.prototype.computeSize=function(e){var t=e||new n;t.endianness=n.BIG_ENDIAN,this.write(t)},p.prototype.addSample=function(e,t,r){var n=r||{},i={},o=this.getTrackById(e);if(null!==o){i.number=o.samples.length,i.track_id=o.tkhd.track_id,i.timescale=o.mdia.mdhd.timescale,i.description_index=n.sample_description_index?n.sample_description_index-1:0,i.description=o.mdia.minf.stbl.stsd.entries[i.description_index],i.data=t,i.size=t.byteLength,i.alreadyRead=i.size,i.duration=n.duration||1,i.cts=n.cts||0,i.dts=n.dts||0,i.is_sync=n.is_sync||!1,i.is_leading=n.is_leading||0,i.depends_on=n.depends_on||0,i.is_depended_on=n.is_depended_on||0,i.has_redundancy=n.has_redundancy||0,i.degradation_priority=n.degradation_priority||0,i.offset=0,i.subsamples=n.subsamples,o.samples.push(i),o.samples_size+=i.size,o.samples_duration+=i.duration,void 0===o.first_dts&&(o.first_dts=n.dts),this.processSamples();var s=this.createSingleSampleMoof(i);return this.addBox(s),s.computeSize(),s.trafs[0].truns[0].data_offset=s.size+8,this.add("mdat").data=new Uint8Array(t),i}},p.prototype.createSingleSampleMoof=function(e){var t=0;t=e.is_sync?1<<25:65536;var r=new l.moofBox;r.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var n=r.add("traf"),i=this.getTrackById(e.track_id);return n.add("tfhd").set("track_id",e.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),n.add("tfdt").set("baseMediaDecodeTime",e.dts-(i.first_dts||0)),n.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[t]).set("sample_composition_time_offset",[e.cts-e.dts]),r},p.prototype.lastMoofIndex=0,p.prototype.samplesDataSize=0,p.prototype.resetTables=function(){var e,t,r,n,i,o;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){(t=this.moov.traks[e]).tkhd.duration=0,t.mdia.mdhd.duration=0,(t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64).chunk_offsets=[],(r=t.mdia.minf.stbl.stsc).first_chunk=[],r.samples_per_chunk=[],r.sample_description_index=[],(t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2).sample_sizes=[],(n=t.mdia.minf.stbl.stts).sample_counts=[],n.sample_deltas=[],(i=t.mdia.minf.stbl.ctts)&&(i.sample_counts=[],i.sample_offsets=[]),o=t.mdia.minf.stbl.stss;var s=t.mdia.minf.stbl.boxes.indexOf(o);-1!=s&&(t.mdia.minf.stbl.boxes[s]=null)}},p.initSampleGroups=function(e,t,r,n,i){var o,s,a,l;function u(e,t,r){this.grouping_type=e,this.grouping_type_parameter=t,this.sbgp=r,this.last_sample_in_run=-1,this.entry_index=-1}for(t&&(t.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),s=0;s<r.length;s++){for(l=r[s].grouping_type+"/"+r[s].grouping_type_parameter,a=new u(r[s].grouping_type,r[s].grouping_type_parameter,r[s]),t&&(t.sample_groups_info[l]=a),e.sample_groups_info[l]||(e.sample_groups_info[l]=a),o=0;o<n.length;o++)n[o].grouping_type===r[s].grouping_type&&(a.description=n[o],a.description.used=!0);if(i)for(o=0;o<i.length;o++)i[o].grouping_type===r[s].grouping_type&&(a.fragment_description=i[o],a.fragment_description.used=!0,a.is_fragment=!0)}if(t){if(i)for(s=0;s<i.length;s++)!i[s].used&&i[s].version>=2&&(l=i[s].grouping_type+"/0",(a=new u(i[s].grouping_type,0)).is_fragment=!0,t.sample_groups_info[l]||(t.sample_groups_info[l]=a))}else for(s=0;s<n.length;s++)!n[s].used&&n[s].version>=2&&(l=n[s].grouping_type+"/0",a=new u(n[s].grouping_type,0),e.sample_groups_info[l]||(e.sample_groups_info[l]=a))},p.setSampleGroupProperties=function(e,t,r,n){var i,o;for(i in t.sample_groups=[],n){var s;t.sample_groups[i]={},t.sample_groups[i].grouping_type=n[i].grouping_type,t.sample_groups[i].grouping_type_parameter=n[i].grouping_type_parameter,r>=n[i].last_sample_in_run&&(n[i].last_sample_in_run<0&&(n[i].last_sample_in_run=0),n[i].entry_index++,n[i].entry_index<=n[i].sbgp.entries.length-1&&(n[i].last_sample_in_run+=n[i].sbgp.entries[n[i].entry_index].sample_count)),n[i].entry_index<=n[i].sbgp.entries.length-1?t.sample_groups[i].group_description_index=n[i].sbgp.entries[n[i].entry_index].group_description_index:t.sample_groups[i].group_description_index=-1,0!==t.sample_groups[i].group_description_index&&(s=n[i].fragment_description?n[i].fragment_description:n[i].description,t.sample_groups[i].group_description_index>0?(o=t.sample_groups[i].group_description_index>65535?(t.sample_groups[i].group_description_index>>16)-1:t.sample_groups[i].group_description_index-1,s&&o>=0&&(t.sample_groups[i].description=s.entries[o])):s&&s.version>=2&&s.default_group_description_index>0&&(t.sample_groups[i].description=s.entries[s.default_group_description_index-1]))}},p.process_sdtp=function(e,t,r){t&&(e?(t.is_leading=e.is_leading[r],t.depends_on=e.sample_depends_on[r],t.is_depended_on=e.sample_is_depended_on[r],t.has_redundancy=e.sample_has_redundancy[r]):(t.is_leading=0,t.depends_on=0,t.is_depended_on=0,t.has_redundancy=0))},p.prototype.buildSampleLists=function(){var e,t;for(e=0;e<this.moov.traks.length;e++)t=this.moov.traks[e],this.buildTrakSampleLists(t)},p.prototype.buildTrakSampleLists=function(e){var t,r,n,i,o,s,a,l,u,c,d,h,f,m,g,v,y,_,b,x,w,E,C,S;if(e.samples=[],e.samples_duration=0,e.samples_size=0,r=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,n=e.mdia.minf.stbl.stsc,i=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,o=e.mdia.minf.stbl.stts,s=e.mdia.minf.stbl.ctts,a=e.mdia.minf.stbl.stss,l=e.mdia.minf.stbl.stsd,u=e.mdia.minf.stbl.subs,h=e.mdia.minf.stbl.stdp,c=e.mdia.minf.stbl.sbgps,d=e.mdia.minf.stbl.sgpds,_=-1,b=-1,x=-1,w=-1,E=0,C=0,S=0,p.initSampleGroups(e,null,c,d),void 0!==i){for(t=0;t<i.sample_sizes.length;t++){var A={};A.number=t,A.track_id=e.tkhd.track_id,A.timescale=e.mdia.mdhd.timescale,A.alreadyRead=0,e.samples[t]=A,A.size=i.sample_sizes[t],e.samples_size+=A.size,0===t?(m=1,f=0,A.chunk_index=m,A.chunk_run_index=f,y=n.samples_per_chunk[f],v=0,g=f+1<n.first_chunk.length?n.first_chunk[f+1]-1:1/0):t<y?(A.chunk_index=m,A.chunk_run_index=f):(m++,A.chunk_index=m,v=0,m<=g||(g=1+ ++f<n.first_chunk.length?n.first_chunk[f+1]-1:1/0),A.chunk_run_index=f,y+=n.samples_per_chunk[f]),A.description_index=n.sample_description_index[A.chunk_run_index]-1,A.description=l.entries[A.description_index],A.offset=r.chunk_offsets[A.chunk_index-1]+v,v+=A.size,t>_&&(b++,_<0&&(_=0),_+=o.sample_counts[b]),t>0?(e.samples[t-1].duration=o.sample_deltas[b],e.samples_duration+=e.samples[t-1].duration,A.dts=e.samples[t-1].dts+e.samples[t-1].duration):A.dts=0,s?(t>=x&&(w++,x<0&&(x=0),x+=s.sample_counts[w]),A.cts=e.samples[t].dts+s.sample_offsets[w]):A.cts=A.dts,a?(t==a.sample_numbers[E]-1?(A.is_sync=!0,E++):(A.is_sync=!1,A.degradation_priority=0),u&&u.entries[C].sample_delta+S==t+1&&(A.subsamples=u.entries[C].subsamples,S+=u.entries[C].sample_delta,C++)):A.is_sync=!0,p.process_sdtp(e.mdia.minf.stbl.sdtp,A,A.number),A.degradation_priority=h?h.priority[t]:0,u&&u.entries[C].sample_delta+S==t&&(A.subsamples=u.entries[C].subsamples,S+=u.entries[C].sample_delta),(c.length>0||d.length>0)&&p.setSampleGroupProperties(e,A,t,e.sample_groups_info)}t>0&&(e.samples[t-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[t-1].dts,0),e.samples_duration+=e.samples[t-1].duration)}},p.prototype.updateSampleLists=function(){var e,t,r,n,i,o,s,a,u,c,d,h,f,m,g;if(void 0!==this.moov)for(;this.lastMoofIndex<this.moofs.length;)if(u=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,"moof"==u.type)for(c=u,e=0;e<c.trafs.length;e++){for(d=c.trafs[e],h=this.getTrackById(d.tfhd.track_id),f=this.getTrexById(d.tfhd.track_id),n=d.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?d.tfhd.default_sample_description_index:f?f.default_sample_description_index:1,i=d.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?d.tfhd.default_sample_duration:f?f.default_sample_duration:0,o=d.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?d.tfhd.default_sample_size:f?f.default_sample_size:0,s=d.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?d.tfhd.default_sample_flags:f?f.default_sample_flags:0,d.sample_number=0,d.sbgps.length>0&&p.initSampleGroups(h,d,d.sbgps,h.mdia.minf.stbl.sgpds,d.sgpds),t=0;t<d.truns.length;t++){var v=d.truns[t];for(r=0;r<v.sample_count;r++){(m={}).moof_number=this.lastMoofIndex,m.number_in_traf=d.sample_number,d.sample_number++,m.number=h.samples.length,d.first_sample_index=h.samples.length,h.samples.push(m),m.track_id=h.tkhd.track_id,m.timescale=h.mdia.mdhd.timescale,m.description_index=n-1,m.description=h.mdia.minf.stbl.stsd.entries[m.description_index],m.size=o,v.flags&l.TRUN_FLAGS_SIZE&&(m.size=v.sample_size[r]),h.samples_size+=m.size,m.duration=i,v.flags&l.TRUN_FLAGS_DURATION&&(m.duration=v.sample_duration[r]),h.samples_duration+=m.duration,h.first_traf_merged||r>0?m.dts=h.samples[h.samples.length-2].dts+h.samples[h.samples.length-2].duration:(d.tfdt?m.dts=d.tfdt.baseMediaDecodeTime:m.dts=0,h.first_traf_merged=!0),m.cts=m.dts,v.flags&l.TRUN_FLAGS_CTS_OFFSET&&(m.cts=m.dts+v.sample_composition_time_offset[r]),g=s,v.flags&l.TRUN_FLAGS_FLAGS?g=v.sample_flags[r]:0===r&&v.flags&l.TRUN_FLAGS_FIRST_FLAG&&(g=v.first_sample_flags),m.is_sync=!(g>>16&1),m.is_leading=g>>26&3,m.depends_on=g>>24&3,m.is_depended_on=g>>22&3,m.has_redundancy=g>>20&3,m.degradation_priority=65535&g;var y=!!(d.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),_=!!(d.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b=!!(v.flags&l.TRUN_FLAGS_DATA_OFFSET),x=0;x=y?d.tfhd.base_data_offset:_||0===t?c.start:a,m.offset=0===t&&0===r?b?x+v.data_offset:x:a,a=m.offset+m.size,(d.sbgps.length>0||d.sgpds.length>0||h.mdia.minf.stbl.sbgps.length>0||h.mdia.minf.stbl.sgpds.length>0)&&p.setSampleGroupProperties(h,m,m.number_in_traf,d.sample_groups_info)}}if(d.subs){h.has_fragment_subsamples=!0;var w=d.first_sample_index;for(t=0;t<d.subs.entries.length;t++)w+=d.subs.entries[t].sample_delta,(m=h.samples[w-1]).subsamples=d.subs.entries[t].subsamples}}},p.prototype.getSample=function(e,r){var i,o=e.samples[r];if(!this.moov)return null;if(o.data){if(o.alreadyRead==o.size)return o}else o.data=new Uint8Array(o.size),o.alreadyRead=0,this.samplesDataSize+=o.size,t.debug("ISOFile","Allocating sample #"+r+" on track #"+e.tkhd.track_id+" of size "+o.size+" (total: "+this.samplesDataSize+")");for(;;){var s=this.stream.findPosition(!0,o.offset+o.alreadyRead,!1);if(!(s>-1))return null;var a=(i=this.stream.buffers[s]).byteLength-(o.offset+o.alreadyRead-i.fileStart);if(o.size-o.alreadyRead<=a)return t.debug("ISOFile","Getting sample #"+r+" data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-i.fileStart)+" read size: "+(o.size-o.alreadyRead)+" full size: "+o.size+")"),n.memcpy(o.data.buffer,o.alreadyRead,i,o.offset+o.alreadyRead-i.fileStart,o.size-o.alreadyRead),i.usedBytes+=o.size-o.alreadyRead,this.stream.logBufferLevel(),o.alreadyRead=o.size,o;if(0===a)return null;t.debug("ISOFile","Getting sample #"+r+" partial data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-i.fileStart)+" read size: "+a+" full size: "+o.size+")"),n.memcpy(o.data.buffer,o.alreadyRead,i,o.offset+o.alreadyRead-i.fileStart,a),o.alreadyRead+=a,i.usedBytes+=a,this.stream.logBufferLevel()}},p.prototype.releaseSample=function(e,t){var r=e.samples[t];return r.data?(this.samplesDataSize-=r.size,r.data=null,r.alreadyRead=0,r.size):0},p.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},p.prototype.getCodecs=function(){var e,t="";for(e=0;e<this.moov.traks.length;e++)e>0&&(t+=","),t+=this.moov.traks[e].mdia.minf.stbl.stsd.entries[0].getCodec();return t},p.prototype.getTrexById=function(e){var t;if(!this.moov||!this.moov.mvex)return null;for(t=0;t<this.moov.mvex.trexs.length;t++){var r=this.moov.mvex.trexs[t];if(r.track_id==e)return r}return null},p.prototype.getTrackById=function(e){if(void 0===this.moov)return null;for(var t=0;t<this.moov.traks.length;t++){var r=this.moov.traks[t];if(r.tkhd.track_id==e)return r}return null},p.prototype.itemsDataSize=0,p.prototype.flattenItemInfo=function(){var e,r,n,i=this.items,o=this.entity_groups,s=this.meta;if(null!=s&&void 0!==s.hdlr&&void 0!==s.iinf){for(e=0;e<s.iinf.item_infos.length;e++)(n={}).id=s.iinf.item_infos[e].item_ID,i[n.id]=n,n.ref_to=[],n.name=s.iinf.item_infos[e].item_name,s.iinf.item_infos[e].protection_index>0&&(n.protection=s.ipro.protections[s.iinf.item_infos[e].protection_index-1]),s.iinf.item_infos[e].item_type?n.type=s.iinf.item_infos[e].item_type:n.type="mime",n.content_type=s.iinf.item_infos[e].content_type,n.content_encoding=s.iinf.item_infos[e].content_encoding;if(s.grpl)for(e=0;e<s.grpl.boxes.length;e++)entity_group={},entity_group.id=s.grpl.boxes[e].group_id,entity_group.entity_ids=s.grpl.boxes[e].entity_ids,entity_group.type=s.grpl.boxes[e].type,o[entity_group.id]=entity_group;if(s.iloc)for(e=0;e<s.iloc.items.length;e++){var a=s.iloc.items[e];switch(n=i[a.item_ID],0!==a.data_reference_index&&(t.warn("Item storage with reference to other files: not supported"),n.source=s.dinf.boxes[a.data_reference_index-1]),a.construction_method){case 0:case 1:break;case 2:t.warn("Item storage with construction_method : not supported")}for(n.extents=[],n.size=0,r=0;r<a.extents.length;r++)n.extents[r]={},n.extents[r].offset=a.extents[r].extent_offset+a.base_offset,1==a.construction_method&&(n.extents[r].offset+=s.idat.start+s.idat.hdr_size),n.extents[r].length=a.extents[r].extent_length,n.extents[r].alreadyRead=0,n.size+=n.extents[r].length}if(s.pitm&&(i[s.pitm.item_id].primary=!0),s.iref)for(e=0;e<s.iref.references.length;e++){var l=s.iref.references[e];for(r=0;r<l.references.length;r++)i[l.from_item_ID].ref_to.push({type:l.type,id:l.references[r]})}if(s.iprp)for(var u=0;u<s.iprp.ipmas.length;u++){var c=s.iprp.ipmas[u];for(e=0;e<c.associations.length;e++){var d=c.associations[e];if((n=i[d.id])||(n=o[d.id]),n)for(void 0===n.properties&&(n.properties={},n.properties.boxes=[]),r=0;r<d.props.length;r++){var h=d.props[r];if(h.property_index>0&&h.property_index-1<s.iprp.ipco.boxes.length){var f=s.iprp.ipco.boxes[h.property_index-1];n.properties[f.type]=f,n.properties.boxes.push(f)}}}}}},p.prototype.getItem=function(e){var r,i;if(!this.meta)return null;if(!(i=this.items[e]).data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,t.debug("ISOFile","Allocating item #"+e+" of size "+i.size+" (total: "+this.itemsDataSize+")");else if(i.alreadyRead===i.size)return i;for(var o=0;o<i.extents.length;o++){var s=i.extents[o];if(s.alreadyRead!==s.length){var a=this.stream.findPosition(!0,s.offset+s.alreadyRead,!1);if(!(a>-1))return null;var l=(r=this.stream.buffers[a]).byteLength-(s.offset+s.alreadyRead-r.fileStart);if(!(s.length-s.alreadyRead<=l))return t.debug("ISOFile","Getting item #"+e+" extent #"+o+" partial data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-r.fileStart)+" read size: "+l+" full extent size: "+s.length+" full item size: "+i.size+")"),n.memcpy(i.data.buffer,i.alreadyRead,r,s.offset+s.alreadyRead-r.fileStart,l),s.alreadyRead+=l,i.alreadyRead+=l,r.usedBytes+=l,this.stream.logBufferLevel(),null;t.debug("ISOFile","Getting item #"+e+" extent #"+o+" data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-r.fileStart)+" read size: "+(s.length-s.alreadyRead)+" full extent size: "+s.length+" full item size: "+i.size+")"),n.memcpy(i.data.buffer,i.alreadyRead,r,s.offset+s.alreadyRead-r.fileStart,s.length-s.alreadyRead),r.usedBytes+=s.length-s.alreadyRead,this.stream.logBufferLevel(),i.alreadyRead+=s.length-s.alreadyRead,s.alreadyRead=s.length}}return i.alreadyRead===i.size?i:null},p.prototype.releaseItem=function(e){var t=this.items[e];if(t.data){this.itemsDataSize-=t.size,t.data=null,t.alreadyRead=0;for(var r=0;r<t.extents.length;r++)t.extents[r].alreadyRead=0;return t.size}return 0},p.prototype.processItems=function(e){for(var t in this.items){var r=this.items[t];this.getItem(r.id),e&&!r.sent&&(e(r),r.sent=!0,r.data=null)}},p.prototype.hasItem=function(e){for(var t in this.items){var r=this.items[t];if(r.name===e)return r.id}return-1},p.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},p.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},p.prototype.itemToFragmentedTrackFile=function(e){var t=e||{},r=null;if(null==(r=t.itemId?this.getItem(t.itemId):this.getPrimaryItem()))return null;var n=new p;n.discardMdatData=!1;var i={type:r.type,description_boxes:r.properties.boxes};r.properties.ispe&&(i.width=r.properties.ispe.image_width,i.height=r.properties.ispe.image_height);var o=n.addTrack(i);return o?(n.addSample(o,r.data),n):null},p.prototype.write=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e)},p.prototype.createFragment=function(e,r,i){var o=this.getTrackById(e),s=this.getSample(o,r);if(null==s)return this.setNextSeekPositionFromSample(o.samples[r]),null;var a=i||new n;a.endianness=n.BIG_ENDIAN;var u=this.createSingleSampleMoof(s);u.write(a),u.trafs[0].truns[0].data_offset=u.size+8,t.debug("MP4Box","Adjusting data_offset with new value "+u.trafs[0].truns[0].data_offset),a.adjustUint32(u.trafs[0].truns[0].data_offset_position,u.trafs[0].truns[0].data_offset);var c=new l.mdatBox;return c.data=s.data,c.write(a),a},p.writeInitializationSegment=function(e,r,i,o){var s;t.debug("ISOFile","Generating initialization segment");var a=new n;a.endianness=n.BIG_ENDIAN,e.write(a);var l=r.add("mvex");for(i&&l.add("mehd").set("fragment_duration",i),s=0;s<r.traks.length;s++)l.add("trex").set("track_id",r.traks[s].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",o).set("default_sample_size",0).set("default_sample_flags",65536);return r.write(a),a.buffer},p.prototype.save=function(e){var t=new n;t.endianness=n.BIG_ENDIAN,this.write(t),t.save(e)},p.prototype.getBuffer=function(){var e=new n;return e.endianness=n.BIG_ENDIAN,this.write(e),e.buffer},p.prototype.initializeSegmentation=function(){var e,r,n,i;for(null===this.onSegment&&t.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),r=[],e=0;e<this.fragmentedTracks.length;e++){var o=new l.moovBox;o.mvhd=this.moov.mvhd,o.boxes.push(o.mvhd),n=this.getTrackById(this.fragmentedTracks[e].id),o.boxes.push(n),o.traks.push(n),(i={}).id=n.tkhd.track_id,i.user=this.fragmentedTracks[e].user,i.buffer=p.writeInitializationSegment(this.ftyp,o,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),r.push(i)}return r},l.Box.prototype.printHeader=function(e){this.size+=8,this.size>o&&(this.size+=8),"uuid"===this.type&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(e){this.size+=4,l.Box.prototype.printHeader.call(this,e),e.log(e.indent+"version:"+this.version),e.log(e.indent+"flags:"+this.flags)},l.Box.prototype.print=function(e){this.printHeader(e)},l.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var t=0;t<this.boxes.length;t++)if(this.boxes[t]){var r=e.indent;e.indent+=" ",this.boxes[t].print(e),e.indent=r}},p.prototype.print=function(e){e.indent="";for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&this.boxes[t].print(e)},l.mvhdBox.prototype.print=function(e){l.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(e){l.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)};var m={createFile:function(e,t){var r=void 0===e||e,n=new p(t);return n.discardMdatData=!r,n}};e.createFile=m.createFile}(_D),e("M",o(_D));const bD="object"==typeof global&&global&&global.Object===Object&&global;var xD="object"==typeof self&&self&&self.Object===Object&&self;const wD=bD||xD||Function("return this")(),ED=wD.Symbol;var CD=Object.prototype,SD=CD.hasOwnProperty,AD=CD.toString,TD=ED?ED.toStringTag:void 0,DD=Object.prototype.toString,kD="[object Null]",PD="[object Undefined]",BD=ED?ED.toStringTag:void 0;function RD(e){return null==e?void 0===e?PD:kD:BD&&BD in Object(e)?function(e){var t=SD.call(e,TD),r=e[TD];try{e[TD]=void 0;var n=!0}catch(whe){}var i=AD.call(e);return n&&(t?e[TD]=r:delete e[TD]),i}(e):function(e){return DD.call(e)}(e)}function OD(e){return null!=e&&"object"==typeof e}const FD=Array.isArray;function MD(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ID(e){return e}var ND="[object AsyncFunction]",LD="[object Function]",UD="[object GeneratorFunction]",jD="[object Proxy]";function zD(e){if(!MD(e))return!1;var t=RD(e);return t==LD||t==UD||t==ND||t==jD}const GD=wD["__core-js_shared__"];var VD=function(){var e=/[^.]+$/.exec(GD&&GD.keys&&GD.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),HD=Function.prototype.toString;function WD(e){if(null!=e){try{return HD.call(e)}catch(whe){}try{return e+""}catch(whe){}}return""}var $D=/^\[object .+?Constructor\]$/,YD=Function.prototype,XD=Object.prototype,qD=YD.toString,KD=XD.hasOwnProperty,ZD=RegExp("^"+qD.call(KD).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QD(e){return!(!MD(e)||(t=e,VD&&VD in t))&&(zD(e)?ZD:$D).test(WD(e));var t}function JD(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return QD(r)?r:void 0}const ek=JD(wD,"WeakMap");var tk=Object.create;const rk=function(){function e(){}return function(t){if(!MD(t))return{};if(tk)return tk(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function nk(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ik=Date.now;const ok=function(){try{var e=JD(Object,"defineProperty");return e({},"",{}),e}catch(whe){}}();var sk=ok?function(e,t){return ok(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:ID,ak=function(e){var t=0,r=0;return function(){var n=ik(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(sk);const lk=ak;var uk=9007199254740991,ck=/^(?:0|[1-9]\d*)$/;function dk(e,t){var r=typeof e;return!!(t=null==t?uk:t)&&("number"==r||"symbol"!=r&&ck.test(e))&&e>-1&&e%1==0&&e<t}function hk(e,t,r){"__proto__"==t&&ok?ok(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function fk(e,t){return e===t||e!=e&&t!=t}var pk=Object.prototype.hasOwnProperty;function mk(e,t,r){var n=e[t];pk.call(e,t)&&fk(n,r)&&(void 0!==r||t in e)||hk(e,t,r)}function gk(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?hk(r,a,l):mk(r,a,l)}return r}var vk=Math.max;function yk(e,t){return lk(function(e,t,r){return t=vk(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=vk(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(e,t,ID),e+"")}var _k=9007199254740991;function bk(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_k}function xk(e){return null!=e&&bk(e.length)&&!zD(e)}var wk=Object.prototype;function Ek(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wk)}function Ck(e){return OD(e)&&"[object Arguments]"==RD(e)}var Sk=Object.prototype,Ak=Sk.hasOwnProperty,Tk=Sk.propertyIsEnumerable,Dk=Ck(function(){return arguments}())?Ck:function(e){return OD(e)&&Ak.call(e,"callee")&&!Tk.call(e,"callee")};const kk=Dk;var Pk="object"==typeof e&&e&&!e.nodeType&&e,Bk=Pk&&"object"==typeof t&&t&&!t.nodeType&&t,Rk=Bk&&Bk.exports===Pk?wD.Buffer:void 0;const Ok=(Rk?Rk.isBuffer:void 0)||function(){return!1};var Fk={};function Mk(e){return function(t){return e(t)}}Fk["[object Float32Array]"]=Fk["[object Float64Array]"]=Fk["[object Int8Array]"]=Fk["[object Int16Array]"]=Fk["[object Int32Array]"]=Fk["[object Uint8Array]"]=Fk["[object Uint8ClampedArray]"]=Fk["[object Uint16Array]"]=Fk["[object Uint32Array]"]=!0,Fk["[object Arguments]"]=Fk["[object Array]"]=Fk["[object ArrayBuffer]"]=Fk["[object Boolean]"]=Fk["[object DataView]"]=Fk["[object Date]"]=Fk["[object Error]"]=Fk["[object Function]"]=Fk["[object Map]"]=Fk["[object Number]"]=Fk["[object Object]"]=Fk["[object RegExp]"]=Fk["[object Set]"]=Fk["[object String]"]=Fk["[object WeakMap]"]=!1;var Ik="object"==typeof e&&e&&!e.nodeType&&e,Nk=Ik&&"object"==typeof t&&t&&!t.nodeType&&t,Lk=Nk&&Nk.exports===Ik&&bD.process;const Uk=function(){try{var e=Nk&&Nk.require&&Nk.require("util").types;return e||Lk&&Lk.binding&&Lk.binding("util")}catch(whe){}}();var jk=Uk&&Uk.isTypedArray;const zk=jk?Mk(jk):function(e){return OD(e)&&bk(e.length)&&!!Fk[RD(e)]};var Gk=Object.prototype.hasOwnProperty;function Vk(e,t){var r=FD(e),n=!r&&kk(e),i=!r&&!n&&Ok(e),o=!r&&!n&&!i&&zk(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=a.length;for(var u in e)!t&&!Gk.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||dk(u,l))||a.push(u);return a}function Hk(e,t){return function(r){return e(t(r))}}const Wk=Hk(Object.keys,Object);var $k=Object.prototype.hasOwnProperty;function Yk(e){return xk(e)?Vk(e):function(e){if(!Ek(e))return Wk(e);var t=[];for(var r in Object(e))$k.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var Xk=Object.prototype.hasOwnProperty;function qk(e){if(!MD(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Ek(e),r=[];for(var n in e)("constructor"!=n||!t&&Xk.call(e,n))&&r.push(n);return r}function Kk(e){return xk(e)?Vk(e,!0):qk(e)}const Zk=JD(Object,"create");var Qk=Object.prototype.hasOwnProperty,Jk=Object.prototype.hasOwnProperty;function eP(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function tP(e,t){for(var r=e.length;r--;)if(fk(e[r][0],t))return r;return-1}eP.prototype.clear=function(){this.__data__=Zk?Zk(null):{},this.size=0},eP.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eP.prototype.get=function(e){var t=this.__data__;if(Zk){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Qk.call(t,e)?t[e]:void 0},eP.prototype.has=function(e){var t=this.__data__;return Zk?void 0!==t[e]:Jk.call(t,e)},eP.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zk&&void 0===t?"__lodash_hash_undefined__":t,this};var rP=Array.prototype.splice;function nP(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nP.prototype.clear=function(){this.__data__=[],this.size=0},nP.prototype.delete=function(e){var t=this.__data__,r=tP(t,e);return!(r<0||(r==t.length-1?t.pop():rP.call(t,r,1),--this.size,0))},nP.prototype.get=function(e){var t=this.__data__,r=tP(t,e);return r<0?void 0:t[r][1]},nP.prototype.has=function(e){return tP(this.__data__,e)>-1},nP.prototype.set=function(e,t){var r=this.__data__,n=tP(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};const iP=JD(wD,"Map");function oP(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function sP(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function aP(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}sP.prototype.clear=function(){this.size=0,this.__data__={hash:new eP,map:new(iP||nP),string:new eP}},sP.prototype.delete=function(e){var t=oP(this,e).delete(e);return this.size-=t?1:0,t},sP.prototype.get=function(e){return oP(this,e).get(e)},sP.prototype.has=function(e){return oP(this,e).has(e)},sP.prototype.set=function(e,t){var r=oP(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};const lP=Hk(Object.getPrototypeOf,Object);var uP="[object Object]",cP=Function.prototype,dP=Object.prototype,hP=cP.toString,fP=dP.hasOwnProperty,pP=hP.call(Object);function mP(e){var t=this.__data__=new nP(e);this.size=t.size}mP.prototype.clear=function(){this.__data__=new nP,this.size=0},mP.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},mP.prototype.get=function(e){return this.__data__.get(e)},mP.prototype.has=function(e){return this.__data__.has(e)},mP.prototype.set=function(e,t){var r=this.__data__;if(r instanceof nP){var n=r.__data__;if(!iP||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new sP(n)}return r.set(e,t),this.size=r.size,this};var gP="object"==typeof e&&e&&!e.nodeType&&e,vP=gP&&"object"==typeof t&&t&&!t.nodeType&&t,yP=vP&&vP.exports===gP?wD.Buffer:void 0,_P=yP?yP.allocUnsafe:void 0;function bP(e,t){if(t)return e.slice();var r=e.length,n=_P?_P(r):new e.constructor(r);return e.copy(n),n}function xP(){return[]}var wP=Object.prototype.propertyIsEnumerable,EP=Object.getOwnPropertySymbols,CP=EP?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}(EP(e),(function(t){return wP.call(e,t)})))}:xP;const SP=CP,AP=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)aP(t,SP(e)),e=lP(e);return t}:xP;function TP(e,t,r){var n=t(e);return FD(e)?n:aP(n,r(e))}function DP(e){return TP(e,Yk,SP)}function kP(e){return TP(e,Kk,AP)}const PP=JD(wD,"DataView"),BP=JD(wD,"Promise"),RP=JD(wD,"Set");var OP="[object Map]",FP="[object Promise]",MP="[object Set]",IP="[object WeakMap]",NP="[object DataView]",LP=WD(PP),UP=WD(iP),jP=WD(BP),zP=WD(RP),GP=WD(ek),VP=RD;(PP&&VP(new PP(new ArrayBuffer(1)))!=NP||iP&&VP(new iP)!=OP||BP&&VP(BP.resolve())!=FP||RP&&VP(new RP)!=MP||ek&&VP(new ek)!=IP)&&(VP=function(e){var t=RD(e),r="[object Object]"==t?e.constructor:void 0,n=r?WD(r):"";if(n)switch(n){case LP:return NP;case UP:return OP;case jP:return FP;case zP:return MP;case GP:return IP}return t});const HP=VP;var WP=Object.prototype.hasOwnProperty;const $P=wD.Uint8Array;function YP(e){var t=new e.constructor(e.byteLength);return new $P(t).set(new $P(e)),t}var XP=/\w*$/,qP=ED?ED.prototype:void 0,KP=qP?qP.valueOf:void 0;function ZP(e,t){var r=t?YP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var QP="[object Boolean]",JP="[object Date]",eB="[object Map]",tB="[object Number]",rB="[object RegExp]",nB="[object Set]",iB="[object String]",oB="[object Symbol]",sB="[object ArrayBuffer]",aB="[object DataView]",lB="[object Float32Array]",uB="[object Float64Array]",cB="[object Int8Array]",dB="[object Int16Array]",hB="[object Int32Array]",fB="[object Uint8Array]",pB="[object Uint8ClampedArray]",mB="[object Uint16Array]",gB="[object Uint32Array]";function vB(e,t,r){var n,i,o,s=e.constructor;switch(t){case sB:return YP(e);case QP:case JP:return new s(+e);case aB:return function(e,t){var r=t?YP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case lB:case uB:case cB:case dB:case hB:case fB:case pB:case mB:case gB:return ZP(e,r);case eB:return new s;case tB:case iB:return new s(e);case rB:return(o=new(i=e).constructor(i.source,XP.exec(i))).lastIndex=i.lastIndex,o;case nB:return new s;case oB:return n=e,KP?Object(KP.call(n)):{}}}function yB(e){return"function"!=typeof e.constructor||Ek(e)?{}:rk(lP(e))}var _B=Uk&&Uk.isMap;const bB=_B?Mk(_B):function(e){return OD(e)&&"[object Map]"==HP(e)};var xB=Uk&&Uk.isSet;const wB=xB?Mk(xB):function(e){return OD(e)&&"[object Set]"==HP(e)};var EB=1,CB=2,SB=4,AB="[object Arguments]",TB="[object Function]",DB="[object GeneratorFunction]",kB="[object Object]",PB={};function BB(e,t,r,n,i,o){var s,a=t&EB,l=t&CB,u=t&SB;if(r&&(s=i?r(e,n,i,o):r(e)),void 0!==s)return s;if(!MD(e))return e;var c=FD(e);if(c){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&WP.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!a)return nk(e,s)}else{var d=HP(e),h=d==TB||d==DB;if(Ok(e))return bP(e,a);if(d==kB||d==AB||h&&!i){if(s=l||h?{}:yB(e),!a)return l?function(e,t){return gk(e,AP(e),t)}(e,function(e,t){return e&&gk(t,Kk(t),e)}(s,e)):function(e,t){return gk(e,SP(e),t)}(e,function(e,t){return e&&gk(t,Yk(t),e)}(s,e))}else{if(!PB[d])return i?e:{};s=vB(e,d,a)}}o||(o=new mP);var f=o.get(e);if(f)return f;o.set(e,s),wB(e)?e.forEach((function(n){s.add(BB(n,t,r,n,e,o))})):bB(e)&&e.forEach((function(n,i){s.set(i,BB(n,t,r,i,e,o))}));var p=c?void 0:(u?l?kP:DP:l?Kk:Yk)(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(p||e,(function(n,i){p&&(n=e[i=n]),mk(s,i,BB(n,t,r,i,e,o))})),s}PB[AB]=PB["[object Array]"]=PB["[object ArrayBuffer]"]=PB["[object DataView]"]=PB["[object Boolean]"]=PB["[object Date]"]=PB["[object Float32Array]"]=PB["[object Float64Array]"]=PB["[object Int8Array]"]=PB["[object Int16Array]"]=PB["[object Int32Array]"]=PB["[object Map]"]=PB["[object Number]"]=PB[kB]=PB["[object RegExp]"]=PB["[object Set]"]=PB["[object String]"]=PB["[object Symbol]"]=PB["[object Uint8Array]"]=PB["[object Uint8ClampedArray]"]=PB["[object Uint16Array]"]=PB["[object Uint32Array]"]=!0,PB["[object Error]"]=PB[TB]=PB["[object WeakMap]"]=!1;var RB,OB=1,FB=4,MB=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[RB?s:++n];if(!1===t(i[a],a,i))break}return e};const IB=MB;function NB(e,t,r){(void 0!==r&&!fk(e[t],r)||void 0===r&&!(t in e))&&hk(e,t,r)}function LB(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function UB(e,t,r,n,i,o,s){var a=LB(e,r),l=LB(t,r),u=s.get(l);if(u)NB(e,r,u);else{var c,d=o?o(a,l,r+"",e,t,s):void 0,h=void 0===d;if(h){var f=FD(l),p=!f&&Ok(l),m=!f&&!p&&zk(l);d=l,f||p||m?FD(a)?d=a:OD(c=a)&&xk(c)?d=nk(a):p?(h=!1,d=bP(l,!0)):m?(h=!1,d=ZP(l,!0)):d=[]:function(e){if(!OD(e)||RD(e)!=uP)return!1;var t=lP(e);if(null===t)return!0;var r=fP.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&hP.call(r)==pP}(l)||kk(l)?(d=a,kk(a)?d=function(e){return gk(e,Kk(e))}(a):MD(a)&&!zD(a)||(d=yB(l))):h=!1}h&&(s.set(l,d),i(d,l,n,o,s),s.delete(l)),NB(e,r,d)}}function jB(e,t,r,n,i){e!==t&&IB(t,(function(o,s){if(i||(i=new mP),MD(o))UB(e,t,s,r,jB,n,i);else{var a=n?n(LB(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),NB(e,s,a)}}),Kk)}var zB,GB=(zB=function(e,t,r){jB(e,t,r)},yk((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=zB.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!MD(r))return!1;var n=typeof t;return!!("number"==n?xk(r)&&dk(t,r.length):"string"==n&&t in r)&&fk(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var s=t[r];s&&zB(e,s,r,i)}return e})));function VB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
			 * GSAP 3.12.2
			 * https://greensock.com
			 *
			 * @license Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/e("s",GB);var WB,$B,YB,XB,qB,KB,ZB,QB,JB,eR,tR,rR={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},nR={duration:.5,overwrite:!1,delay:0},iR=1e8,oR=1e-8,sR=2*Math.PI,aR=sR/4,lR=0,uR=Math.sqrt,cR=Math.cos,dR=Math.sin,hR=function(e){return"string"==typeof e},fR=function(e){return"function"==typeof e},pR=function(e){return"number"==typeof e},mR=function(e){return void 0===e},gR=function(e){return"object"==typeof e},vR=function(e){return!1!==e},yR=function(){return"undefined"!=typeof window},_R=function(e){return fR(e)||hR(e)},bR="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},xR=Array.isArray,wR=/(?:-?\.?\d|\.)+/gi,ER=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,CR=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,SR=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,AR=/[+-]=-?[.\d]+/,TR=/[^,'"\[\]\s]+/gi,DR=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,kR={},PR={},BR=function(e){return(PR=sO(e,kR))&&aM},RR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},OR=function(e,t){return!t&&console.warn(e)},FR=function(e,t){return e&&(kR[e]=t)&&PR&&(PR[e]=t)||kR},MR=function(){return 0},IR={suppressEvents:!0,isStart:!0,kill:!1},NR={suppressEvents:!0,kill:!1},LR={suppressEvents:!0},UR={},jR=[],zR={},GR={},VR={},HR=30,WR=[],$R="",YR=function(e){var t,r,n=e[0];if(gR(n)||fR(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=WR.length;r--&&!WR[r].targetTest(n););t=WR[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new xF(e[r],t)))||e.splice(r,1);return e},XR=function(e){return e._gsap||YR(LO(e))[0]._gsap},qR=function(e,t,r){return(r=e[t])&&fR(r)?e[t]():mR(r)&&e.getAttribute&&e.getAttribute(t)||r},KR=function(e,t){return(e=e.split(",")).forEach(t)||e},ZR=function(e){return Math.round(1e5*e)/1e5||0},QR=function(e){return Math.round(1e7*e)/1e7||0},JR=function(e,t){var r=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+n:"-"===r?e-n:"*"===r?e*n:e/n},eO=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},tO=function(){var e,t,r=jR.length,n=jR.slice(0);for(zR={},jR.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},rO=function(e,t,r,n){jR.length&&!$B&&tO(),e.render(t,r,n||$B&&t<0&&(e._initted||e._startAt)),jR.length&&!$B&&tO()},nO=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(TR).length<2?t:hR(e)?e.trim():e},iO=function(e){return e},oO=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},sO=function(e,t){for(var r in t)e[r]=t[r];return e},aO=function e(t,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=gR(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},lO=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},uO=function(e){var t,r=e.parent||XB,n=e.keyframes?(t=xR(e.keyframes),function(e,r){for(var n in r)n in e||"duration"===n&&t||"ease"===n||(e[n]=r[n])}):oO;if(vR(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},cO=function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var o,s=e[n];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=s,t.parent=t._dp=e,t},dO=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,o=t._next;i?i._next=o:e[r]===t&&(e[r]=o),o?o._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},hO=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},fO=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},pO=function(e,t,r,n){return e._startAt&&($B?e._startAt.revert(NR):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},mO=function e(t){return!t||t._ts&&e(t.parent)},gO=function(e){return e._repeat?vO(e._tTime,e=e.duration()+e._rDelay)*e:0},vO=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},yO=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},_O=function(e){return e._end=QR(e._start+(e._tDur/Math.abs(e._ts||e._rts||oR)||0))},bO=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=QR(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_O(e),r._dirty||fO(r,e)),e},xO=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=yO(e.rawTime(),t),(!t._dur||OO(0,t.totalDuration(),r)-t._tTime>oR)&&t.render(r,!0)),fO(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},wO=function(e,t,r,n){return t.parent&&hO(t),t._start=QR((pR(r)?r:r||e!==XB?PO(e,r,t):e._time)+t._delay),t._end=QR(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),cO(e,t,"_first","_last",e._sort?"_start":0),AO(t)||(e._recent=t),n||xO(e,t),e._ts<0&&bO(e,e._tTime),e},EO=function(e,t){return(kR.ScrollTrigger||RR("scrollTrigger",t))&&kR.ScrollTrigger.create(t,e)},CO=function(e,t,r,n,i){return kF(e,t,i),e._initted?!r&&e._pt&&!$B&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&JB!==lF.frame?(jR.push(e),e._lazy=[i,n],1):void 0:1},SO=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},AO=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},TO=function(e,t,r,n){var i=e._repeat,o=QR(t)||0,s=e._tTime/e._tDur;return s&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:QR(o*(i+1)+e._rDelay*i):o,s>0&&!n&&bO(e,e._tTime=e._tDur*s),e.parent&&_O(e),r||fO(e.parent,e),e},DO=function(e){return e instanceof EF?fO(e):TO(e,e._dur)},kO={_start:0,endTime:MR,totalDuration:MR},PO=function e(t,r,n){var i,o,s,a=t.labels,l=t._recent||kO,u=t.duration()>=iR?l.endTime(!1):t._dur;return hR(r)&&(isNaN(r)||r in a)?(o=r.charAt(0),s="%"===r.substr(-1),i=r.indexOf("="),"<"===o||">"===o?(i>=0&&(r=r.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(s?(i<0?l:n).totalDuration()/100:1)):i<0?(r in a||(a[r]=u),a[r]):(o=parseFloat(r.charAt(i-1)+r.substr(i+1)),s&&n&&(o=o/100*(xR(n)?n[0]:n).totalDuration()),i>1?e(t,r.substr(0,i-1),n)+o:u+o)):null==r?u:+r},BO=function(e,t,r){var n,i,o=pR(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=r,e){for(n=a,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=vR(i.vars.inherit)&&i.parent;a.immediateRender=vR(n.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new FF(t[0],a,t[s+1])},RO=function(e,t){return e||0===e?t(e):t},OO=function(e,t,r){return r<e?e:r>t?t:r},FO=function(e,t){return hR(e)&&(t=DR.exec(e))?t[1]:""},MO=[].slice,IO=function(e,t){return e&&gR(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&gR(e[0]))&&!e.nodeType&&e!==qB},NO=function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return hR(e)&&!t||IO(e,1)?(n=r).push.apply(n,LO(e)):r.push(e)}))||r},LO=function(e,t,r){return YB&&!t&&YB.selector?YB.selector(e):!hR(e)||r||!KB&&uF()?xR(e)?NO(e,r):IO(e)?MO.call(e,0):e?[e]:[]:MO.call((t||ZB).querySelectorAll(e),0)},UO=function(e){return e=LO(e)[0]||OR("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return LO(t,r.querySelectorAll?r:r===e?OR("Invalid scope")||ZB.createElement("div"):e)}},jO=function(e){return e.sort((function(){return.5-Math.random()}))},zO=function(e){if(fR(e))return e;var t=gR(e)?e:{each:e},r=gF(t.ease),n=t.from||0,i=parseFloat(t.base)||0,o={},s=n>0&&n<1,a=isNaN(n)||s,l=t.axis,u=n,c=n;return hR(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!s&&a&&(u=n[0],c=n[1]),function(e,s,d){var h,f,p,m,g,v,y,_,b,x=(d||t).length,w=o[x];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,iR])[1])){for(y=-1e8;y<(y=d[b++].getBoundingClientRect().left)&&b<x;);b--}for(w=o[x]=[],h=a?Math.min(b,x)*u-.5:n%b,f=b===iR?0:a?x*c/b-.5:n/b|0,y=0,_=iR,v=0;v<x;v++)p=v%b-h,m=f-(v/b|0),w[v]=g=l?Math.abs("y"===l?m:p):uR(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===n&&jO(w),w.max=y-_,w.min=_,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:l?"y"===l?x/b:b:Math.max(b,x/b))||0)*("edges"===n?-1:1),w.b=x<0?i-x:i,w.u=FO(t.amount||t.each)||0,r=r&&x<0?pF(r):r}return x=(w[e]-w.min)/w.max||0,QR(w.b+(r?r(x):x)*w.v)+w.u}},GO=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var n=QR(Math.round(parseFloat(r)/e)*e*t);return(n-n%1)/t+(pR(r)?0:FO(r))}},VO=function(e,t){var r,n,i=xR(e);return!i&&gR(e)&&(r=i=e.radius||iR,e.values?(e=LO(e.values),(n=!pR(e[0]))&&(r*=r)):e=GO(e.increment)),RO(t,i?fR(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,o,s=parseFloat(n?t.x:t),a=parseFloat(n?t.y:0),l=iR,u=0,c=e.length;c--;)(i=n?(i=e[c].x-s)*i+(o=e[c].y-a)*o:Math.abs(e[c]-s))<l&&(l=i,u=c);return u=!r||l<=r?e[u]:t,n||u===t||pR(t)?u:u+FO(t)}:GO(e))},HO=function(e,t,r,n){return RO(xR(e)?!t:!0===r?!!(r=0):!n,(function(){return xR(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*n)/n}))},WO=function(e,t,r){return RO(r,(function(r){return e[~~t(r)]}))},$O=function(e){for(var t,r,n,i,o=0,s="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?TR:wR),s+=e.substr(o,t-o)+HO(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),o=n+1;return s+e.substr(o,e.length-o)},YO=function(e,t,r,n,i){var o=t-e,s=n-r;return RO(i,(function(t){return r+((t-e)/o*s||0)}))},XO=function(e,t,r){var n,i,o,s=e.labels,a=iR;for(n in s)(i=s[n]-t)<0==!!r&&i&&a>(i=Math.abs(i))&&(o=n,a=i);return o},qO=function(e,t,r){var n,i,o,s=e.vars,a=s[t],l=YB,u=e._ctx;if(a)return n=s[t+"Params"],i=s.callbackScope||e,r&&jR.length&&tO(),u&&(YB=u),o=n?a.apply(i,n):a.call(i),YB=l,o},KO=function(e){return hO(e),e.scrollTrigger&&e.scrollTrigger.kill(!!$B),e.progress()<1&&qO(e,"onInterrupt"),e},ZO=[],QO=function(e){if(yR()&&e){var t=(e=!e.name&&e.default||e).name,r=fR(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:MR,render:VF,add:TF,kill:WF,modifier:HF,rawVars:0},o={targetTest:0,get:0,getSetter:UF,aliases:{},register:0};if(uF(),e!==n){if(GR[t])return;oO(n,oO(lO(e,i),o)),sO(n.prototype,sO(i,lO(e,o))),GR[n.prop=t]=n,e.targetTest&&(WR.push(n),UR[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}FR(t,n),e.register&&e.register(aM,n,XF)}else e&&ZO.push(e)},JO=255,eF={aqua:[0,JO,JO],lime:[0,JO,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,JO],navy:[0,0,128],white:[JO,JO,JO],olive:[128,128,0],yellow:[JO,JO,0],orange:[JO,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[JO,0,0],pink:[JO,192,203],cyan:[0,JO,JO],transparent:[JO,JO,JO,0]},tF=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*JO+.5|0},rF=function(e,t,r){var n,i,o,s,a,l,u,c,d,h,f=e?pR(e)?[e>>16,e>>8&JO,e&JO]:0:eF.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),eF[e])f=eF[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+n+n+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&JO,f&JO,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&JO,e&JO]}else if("hsl"===e.substr(0,3))if(f=h=e.match(wR),t){if(~e.indexOf("="))return f=e.match(ER),r&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,a=+f[1]/100,n=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=tF(s+1/3,n,i),f[1]=tF(s,n,i),f[2]=tF(s-1/3,n,i);else f=e.match(wR)||eF.transparent;f=f.map(Number)}return t&&!h&&(n=f[0]/JO,i=f[1]/JO,o=f[2]/JO,l=((u=Math.max(n,i,o))+(c=Math.min(n,i,o)))/2,u===c?s=a=0:(d=u-c,a=l>.5?d/(2-u-c):d/(u+c),s=u===n?(i-o)/d+(i<o?6:0):u===i?(o-n)/d+2:(n-i)/d+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),r&&f.length<4&&(f[3]=1),f},nF=function(e){var t=[],r=[],n=-1;return e.split(oF).forEach((function(e){var i=e.match(CR)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},iF=function(e,t,r){var n,i,o,s,a="",l=(e+a).match(oF),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=rF(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(o=nF(e),(n=r.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(oF,"1").split(CR)).length-1;c<s;c++)a+=i[c]+(~n.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:r).shift());if(!i)for(s=(i=e.split(oF)).length-1;c<s;c++)a+=i[c]+l[c];return a+i[s]},oF=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in eF)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),sF=/hsl[a]?\(/,aF=function(e){var t,r=e.join(" ");if(oF.lastIndex=0,oF.test(r))return t=sF.test(r),e[1]=iF(e[1],t),e[0]=iF(e[0],t,nF(e[1])),!0},lF=function(){var e,t,r,n,i,o,s=Date.now,a=500,l=33,u=s(),c=u,d=1e3/240,h=d,f=[],p=function r(p){var m,g,v,y,_=s()-c,b=!0===p;if(_>a&&(u+=_-l),((m=(v=(c+=_)-u)-h)>0||b)&&(y=++n.frame,i=v-1e3*n.time,n.time=v/=1e3,h+=m+(m>=d?4:d-m),g=1),b||(e=t(r)),g)for(o=0;o<f.length;o++)f[o](v,i,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){QB&&(!KB&&yR()&&(qB=KB=window,ZB=qB.document||{},kR.gsap=aM,(qB.gsapVersions||(qB.gsapVersions=[])).push(aM.version),BR(PR||qB.GreenSockGlobals||!qB.gsap&&qB||{}),r=qB.requestAnimationFrame,ZO.forEach(QO)),e&&n.sleep(),t=r||function(e){return setTimeout(e,h-1e3*n.time+1|0)},tR=1,p(2))},sleep:function(){(r?qB.cancelAnimationFrame:clearTimeout)(e),tR=0,t=MR},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){d=1e3/(e||240),h=1e3*n.time+d},add:function(e,t,r){var i=t?function(t,r,o,s){e(t,r,o,s),n.remove(i)}:e;return n.remove(e),f[r?"unshift":"push"](i),uF(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&o>=t&&o--},_listeners:f},n}(),uF=function(){return!tR&&lF.wake()},cF={},dF=/^[\d.\-M][\d.\-,\s]/,hF=/["']/g,fF=function(e){for(var t,r,n,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)r=o[a],t=a!==l-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[s]=isNaN(n)?n.replace(hF,"").trim():+n,s=r.substr(t+1).trim();return i},pF=function(e){return function(t){return 1-e(1-t)}},mF=function e(t,r){for(var n,i=t._first;i;)i instanceof EF?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},gF=function(e,t){return e&&(fR(e)?e:cF[e]||function(e){var t,r,n,i,o=(e+"").split("("),s=cF[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[fF(o[1])]:(t=e,r=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",r),t.substring(r,~i&&i<n?t.indexOf(")",n+1):n)).split(",").map(nO)):cF._CE&&dF.test(e)?cF._CE("",e):s}(e))||t},vF=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:r,easeInOut:n};return KR(e,(function(e){for(var t in cF[e]=kR[e]=o,cF[i=e.toLowerCase()]=r,o)cF[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=cF[e+"."+t]=o[t]})),o},yF=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},_F=function e(t,r,n){var i=r>=1?r:1,o=(n||(t?.3:.45))/(r<1?r:1),s=o/sR*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*dR((e-s)*o)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:yF(a);return o=sR/o,l.config=function(r,n){return e(t,r,n)},l},bF=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:yF(n);return i.config=function(r){return e(t,r)},i};KR("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;vF(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),cF.Linear.easeNone=cF.none=cF.Linear.easeIn,vF("Elastic",_F("in"),_F("out"),_F()),function(e,t){var r=1/t,n=function(n){return n<r?e*n*n:n<.7272727272727273?e*Math.pow(n-1.5/t,2)+.75:n<.9090909090909092?e*(n-=2.25/t)*n+.9375:e*Math.pow(n-2.625/t,2)+.984375};vF("Bounce",(function(e){return 1-n(1-e)}),n)}(7.5625,2.75),vF("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),vF("Circ",(function(e){return-(uR(1-e*e)-1)})),vF("Sine",(function(e){return 1===e?1:1-cR(e*aR)})),vF("Back",bF("in"),bF("out"),bF()),cF.SteppedEase=cF.steps=kR.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*OO(0,.99999999,e)|0)+i)*r}}},nR.ease=cF["quad.out"],KR("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return $R+=e+","+e+"Params,"}));var xF=function(e,t){this.id=lR++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:qR,this.set=t?t.getSetter:UF},wF=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,TO(this,+e.duration,1,1),this.data=e.data,YB&&(this._ctx=YB,YB.data.push(this)),tR||lF.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,TO(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(uF(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(bO(this,e),!r._dp||r.parent||xO(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&wO(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===oR||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),rO(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+gO(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+gO(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?vO(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?yO(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(OO(-Math.abs(this._delay),this._tDur,t),!0),_O(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(uF(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==oR&&(this._tTime-=oR)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&wO(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(vR(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yO(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=LR);var t=$B;return $B=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),$B=t,this},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,DO(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,DO(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(PO(this,e),vR(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,vR(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-oR))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=fR(e)?e:iO,i=function(){var e=t.then;t.then=null,fR(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){KO(this)},e}();oO(wF.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var EF=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=vR(t.sortChildren),XB&&wO(t.parent||XB,VB(n),r),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&EO(VB(n),t.scrollTrigger),n}HB(t,e);var r=t.prototype;return r.to=function(e,t,r){return BO(0,arguments,this),this},r.from=function(e,t,r){return BO(1,arguments,this),this},r.fromTo=function(e,t,r,n){return BO(2,arguments,this),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,uO(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new FF(e,t,PO(this,r),1),this},r.call=function(e,t,r){return wO(this,FF.delayedCall(0,e,t),r)},r.staggerTo=function(e,t,r,n,i,o,s){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=o,r.onCompleteParams=s,r.parent=this,new FF(e,r,PO(this,i)),this},r.staggerFrom=function(e,t,r,n,i,o,s){return r.runBackwards=1,uO(r).immediateRender=vR(r.immediateRender),this.staggerTo(e,t,r,n,i,o,s)},r.staggerFromTo=function(e,t,r,n,i,o,s,a){return n.startAt=r,uO(n).immediateRender=vR(n.immediateRender),this.staggerTo(e,t,n,i,o,s,a)},r.render=function(e,t,r){var n,i,o,s,a,l,u,c,d,h,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:QR(e),_=this._zTime<0!=e<0&&(this._initted||!v);if(this!==XB&&y>g&&e>=0&&(y=g),y!==this._tTime||r||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),n=y,d=this._start,l=!(c=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,r);if(n=QR(y%a),y===g?(s=this._repeat,n=v):((s=~~(y/a))&&s===y/a&&(n=v,s--),n>v&&(n=v)),h=vO(this._tTime,a),!m&&this._tTime&&h!==s&&this._tTime-h*a-this._dur<=0&&(h=s),f&&1&s&&(n=v-n,p=1),s!==h&&!this._lock){var b=f&&1&h,x=b===(f&&1&s);if(s<h&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:QR(s*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&qO(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;mF(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,QR(m),QR(n)),u&&(y-=n-(n=u._start))),this._tTime=y,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&n&&!t&&!s&&(qO(this,"onStart"),this._tTime!==y))return this;if(n>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var w=e<0?e:n;i;){if(o=i._prev,(i._act||w<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,r||$B&&(i._initted||i._startAt)),n!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=w?-1e-8:oR);break}}i=o}}if(u&&!t&&(this.pause(),u.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=d,_O(this),this.render(e,t,r);this._onUpdate&&!t&&qO(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(d!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&hO(this,1),t||e<0&&!m||!y&&!m&&g||(qO(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(pR(t)||(t=PO(this,t,e)),!(e instanceof wF)){if(xR(e))return e.forEach((function(e){return r.add(e,t)})),this;if(hR(e))return this.addLabel(e,t);if(!fR(e))return this;e=FF.delayedCall(0,e)}return this!==e?wO(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-1e8);for(var i=[],o=this._first;o;)o._start>=n&&(o instanceof FF?t&&i.push(o):(r&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,r)))),o=o._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return hR(e)?this.removeLabel(e):fR(e)?this.killTweensOf(e):(dO(this,e),e===this._recent&&(this._recent=this._last),fO(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=QR(lF.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=PO(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=FF.delayedCall(0,t||MR,r);return n.data="isPause",this._hasPause=1,wO(this,n,PO(this,e))},r.removePause=function(e){var t=this._first;for(e=PO(this,e);t;)t._start===e&&"isPause"===t.data&&hO(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)CF!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=LO(e),o=this._first,s=pR(t);o;)o instanceof FF?eO(o._targets,i)&&(s?(!CF||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&n.push(o):(r=o.getTweensOf(i,t)).length&&n.push.apply(n,r),o=o._next;return n},r.tweenTo=function(e,t){t=t||{};var r,n=this,i=PO(n,e),o=t,s=o.startAt,a=o.onStart,l=o.onStartParams,u=o.immediateRender,c=FF.to(n,oO({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale())||oR,onStart:function(){if(n.pause(),!r){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale());c._dur!==e&&TO(c,e,0,1).render(c._time,!0,!0),r=1}a&&a.apply(c,l||[])}},t));return u?c.render(0):c},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,oO({startAt:{time:PO(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),XO(this,PO(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),XO(this,PO(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+oR)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,o=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in o)o[n]>=r&&(o[n]+=e);return fO(this)},r.invalidate=function(t){var r=this._first;for(this._lock=0;r;)r.invalidate(t),r=r._next;return e.prototype.invalidate.call(this,t)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),fO(this)},r.totalDuration=function(e){var t,r,n,i=0,o=this,s=o._last,a=iR;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(n=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,wO(o,s,r-s._delay,1)._lock=0):a=r,r<0&&s._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;TO(o,o===XB&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(XB._ts&&(rO(XB,yO(e,XB)),JB=lF.frame),lF.frame>=HR){HR+=rR.autoSleep||120;var t=XB._first;if((!t||!t._ts)&&rR.autoSleep&&lF._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||lF.sleep()}}},t}(wF);oO(EF.prototype,{_lock:0,_hasPause:0,_forcing:0});var CF,SF,AF=function(e,t,r,n,i,o,s){var a,l,u,c,d,h,f,p,m=new XF(this._pt,e,t,0,1,GF,null,i),g=0,v=0;for(m.b=r,m.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=$O(n)),o&&(o(p=[r,n],e,t),r=p[0],n=p[1]),l=r.match(SR)||[];a=SR.exec(n);)c=a[0],d=n.substring(g,a.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),c!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===c.charAt(1)?JR(h,c)-h:parseFloat(c)-h,m:u&&u<4?Math.round:0},g=SR.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=s,(AR.test(n)||f)&&(m.e=0),this._pt=m,m},TF=function(e,t,r,n,i,o,s,a,l,u){fR(n)&&(n=n(i||0,e,o));var c,d=e[t],h="get"!==r?r:fR(d)?l?e[t.indexOf("set")||!fR(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,f=fR(d)?l?NF:IF:MF;if(hR(n)&&(~n.indexOf("random(")&&(n=$O(n)),"="===n.charAt(1)&&((c=JR(h,n)+(FO(h)||0))||0===c)&&(n=c)),!u||h!==n||SF)return isNaN(h*n)||""===n?(!d&&!(t in e)&&RR(t,n),AF.call(this,e,t,h,n,f,a||rR.stringFilter,l)):(c=new XF(this._pt,e,t,+h||0,n-(h||0),"boolean"==typeof d?zF:jF,0,f),l&&(c.fp=l),s&&c.modifier(s,this,e),this._pt=c)},DF=function(e,t,r,n,i,o){var s,a,l,u;if(GR[e]&&!1!==(s=new GR[e]).init(i,s.rawVars?t[e]:function(e,t,r,n,i){if(fR(e)&&(e=BF(e,i,t,r,n)),!gR(e)||e.style&&e.nodeType||xR(e)||bR(e))return hR(e)?BF(e,i,t,r,n):e;var o,s={};for(o in e)s[o]=BF(e[o],i,t,r,n);return s}(t[e],n,i,o,r),r,n,o)&&(r._pt=a=new XF(r._pt,i,e,0,1,s.render,s,0,s.priority),r!==eR))for(l=r._ptLookup[r._targets.indexOf(i)],u=s._props.length;u--;)l[s._props[u]]=a;return s},kF=function e(t,r,n){var i,o,s,a,l,u,c,d,h,f,p,m,g,v=t.vars,y=v.ease,_=v.startAt,b=v.immediateRender,x=v.lazy,w=v.onUpdate,E=v.onUpdateParams,C=v.callbackScope,S=v.runBackwards,A=v.yoyoEase,T=v.keyframes,D=v.autoRevert,k=t._dur,P=t._startAt,B=t._targets,R=t.parent,O=R&&"nested"===R.data?R.vars.targets:B,F="auto"===t._overwrite&&!WB,M=t.timeline;if(M&&(!T||!y)&&(y="none"),t._ease=gF(y,nR.ease),t._yEase=A?pF(gF(!0===A?y:A,nR.ease)):0,A&&t._yoyo&&!t._repeat&&(A=t._yEase,t._yEase=t._ease,t._ease=A),t._from=!M&&!!v.runBackwards,!M||T&&!v.stagger){if(m=(d=B[0]?XR(B[0]).harness:0)&&v[d.prop],i=lO(v,UR),P&&(P._zTime<0&&P.progress(1),r<0&&S&&b&&!D?P.render(-1,!0):P.revert(S&&k?NR:IR),P._lazy=0),_){if(hO(t._startAt=FF.set(B,oO({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!P&&vR(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:E,callbackScope:C,stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,r<0&&($B||!b&&!D)&&t._startAt.revert(NR),b&&k&&r<=0&&n<=0)return void(r&&(t._zTime=r))}else if(S&&k&&!P)if(r&&(b=!1),s=oO({overwrite:!1,data:"isFromStart",lazy:b&&!P&&vR(x),immediateRender:b,stagger:0,parent:R},i),m&&(s[d.prop]=m),hO(t._startAt=FF.set(B,s)),t._startAt._dp=0,t._startAt._sat=t,r<0&&($B?t._startAt.revert(NR):t._startAt.render(-1,!0)),t._zTime=r,b){if(!r)return}else e(t._startAt,oR,oR);for(t._pt=t._ptCache=0,x=k&&vR(x)||x&&!k,o=0;o<B.length;o++){if(c=(l=B[o])._gsap||YR(B)[o]._gsap,t._ptLookup[o]=f={},zR[c.id]&&jR.length&&tO(),p=O===B?o:O.indexOf(l),d&&!1!==(h=new d).init(l,m||i,t,p,O)&&(t._pt=a=new XF(t._pt,l,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(e){f[e]=a})),h.priority&&(u=1)),!d||m)for(s in i)GR[s]&&(h=DF(s,i,t,p,l,O))?h.priority&&(u=1):f[s]=a=TF.call(t,l,s,"get",i[s],p,O,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),F&&t._pt&&(CF=t,XB.killTweensOf(l,f,t.globalTime(r)),g=!t.parent,CF=0),t._pt&&x&&(zR[c.id]=1)}u&&YF(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,T&&r<=0&&M.render(iR,!0,!0)},PF=function(e,t,r,n){var i,o,s=t.ease||n||"power1.inOut";if(xR(t))o=r[e]||(r[e]=[]),t.forEach((function(e,r){return o.push({t:r/(t.length-1)*100,v:e,e:s})}));else for(i in t)o=r[i]||(r[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},BF=function(e,t,r,n,i){return fR(e)?e.call(t,r,n,i):hR(e)&&~e.indexOf("random(")?$O(e):e},RF=$R+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",OF={};KR(RF+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return OF[e]=1}));var FF=function(e){function t(t,r,n,i){var o;"number"==typeof r&&(n.duration=r,r=n,n=null);var s,a,l,u,c,d,h,f,p=(o=e.call(this,i?r:uO(r))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,x=p.defaults,w=p.scrollTrigger,E=p.yoyoEase,C=r.parent||XB,S=(xR(t)||bR(t)?pR(t[0]):"length"in r)?[t]:LO(t);if(o._targets=S.length?YR(S):OR("GSAP target "+t+" not found. https://greensock.com",!rR.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,b||y||_R(m)||_R(g)){if(r=o.vars,(s=o.timeline=new EF({data:"nested",defaults:x||{},targets:C&&"nested"===C.data?C.vars.targets:S})).kill(),s.parent=s._dp=VB(o),s._start=0,y||_R(m)||_R(g)){if(u=S.length,h=y&&zO(y),gR(y))for(c in y)~RF.indexOf(c)&&(f||(f={}),f[c]=y[c]);for(a=0;a<u;a++)(l=lO(r,OF)).stagger=0,E&&(l.yoyoEase=E),f&&sO(l,f),d=S[a],l.duration=+BF(m,VB(o),a,d,S),l.delay=(+BF(g,VB(o),a,d,S)||0)-o._delay,!y&&1===u&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),s.to(d,l,h?h(a,d,S):0),s._ease=cF.none;s.duration()?m=g=0:o.timeline=0}else if(b){uO(oO(s.vars.defaults,{ease:"none"})),s._ease=gF(b.ease||r.ease||"none");var A,T,D,k=0;if(xR(b))b.forEach((function(e){return s.to(S,e,">")})),s.duration();else{for(c in l={},b)"ease"===c||"easeEach"===c||PF(c,b[c],l,b.easeEach);for(c in l)for(A=l[c].sort((function(e,t){return e.t-t.t})),k=0,a=0;a<A.length;a++)(D={ease:(T=A[a]).e,duration:(T.t-(a?A[a-1].t:0))/100*m})[c]=T.v,s.to(S,D,k),k+=D.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==_||WB||(CF=VB(o),XB.killTweensOf(S),CF=0),wO(C,VB(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(v||!m&&!b&&o._start===QR(C._time)&&vR(v)&&mO(VB(o))&&"nested"!==C.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),w&&EO(VB(o),w),o}HB(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,o,s,a,l,u,c,d,h=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-oR&&!m?f:e<oR?0:e;if(p){if(g!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(n=g,c=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,r);if(n=QR(g%s),g===f?(o=this._repeat,n=p):((o=~~(g/s))&&o===g/s&&(n=p,o--),n>p&&(n=p)),(l=this._yoyo&&1&o)&&(d=this._yEase,n=p-n),a=vO(this._tTime,s),n===h&&!r&&this._initted)return this._tTime=g,this;o!==a&&(c&&this._yEase&&mF(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=r=1,this.render(QR(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(CO(this,m?e:n,r,t,g))return this._tTime=0,this;if(h!==this._time)return this;if(p!==this._dur)return this.render(e,t,r)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(n/p),this._from&&(this.ratio=u=1-u),n&&!h&&!t&&!o&&(qO(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;c&&c.render(e<0?e:!n&&l?-1e-8:c._dur*c._ease(n/this._dur),t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&pO(this,e,0,r),qO(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&qO(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&pO(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&hO(this,1),t||m&&!h||!(g||h||l)||(qO(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,n){var i,o,s,a=e.ratio,l=t<0||!t&&(!e._start&&SO(e)&&(e._initted||!AO(e))||(e._ts<0||e._dp._ts<0)&&!AO(e))?0:1,u=e._rDelay,c=0;if(u&&e._repeat&&(c=OO(0,e._tDur,t),o=vO(c,u),e._yoyo&&1&o&&(l=1-l),o!==vO(e._tTime,u)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||$B||n||e._zTime===oR||!t&&e._zTime){if(!e._initted&&CO(e,t,n,r,c))return;for(s=e._zTime,e._zTime=t||(r?oR:0),r||(r=t&&!s),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&pO(e,t,0,!0),e._onUpdate&&!r&&qO(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&qO(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&hO(e,1),r||$B||(qO(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},r.resetTo=function(e,t,r,n){tR||lF.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||kF(this,i),function(e,t,r,n,i,o,s){var a,l,u,c,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if((a=u[c][t])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==t&&a.fp!==t;)a=a._next;if(!a)return SF=1,e.vars[t]="+=0",kF(e,s),SF=0,1;d.push(a)}for(c=d.length;c--;)(a=(l=d[c])._pt||l).s=!n&&0!==n||i?a.s+(n||0)+o*a.c:n,a.c=r-a.s,l.e&&(l.e=ZR(r)+FO(l.e)),l.b&&(l.b=a.s+FO(l.b))}(this,e,t,r,n,this._ease(i/this._dur),i)?this.resetTo(e,t,r,n):(bO(this,0),this.parent||cO(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?KO(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,CF&&!0!==CF.vars.overwrite)._first||KO(this),this.parent&&r!==this.timeline.totalDuration()&&TO(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,o,s,a,l,u,c=this._targets,d=e?LO(e):c,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(c,d))return"all"===t&&(this._pt=0),KO(this);for(n=this._op=this._op||[],"all"!==t&&(hR(t)&&(a={},KR(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var r,n,i,o,s=e[0]?XR(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(n in r=sO({},t),a)if(n in r)for(i=(o=a[n].split(",")).length;i--;)r[o[i]]=r[n];return r}(c,t)),u=c.length;u--;)if(~d.indexOf(c[u]))for(a in i=h[u],"all"===t?(n[u]=t,s=i,o={}):(o=n[u]=n[u]||{},s=t),s)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||dO(this,l,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&f&&KO(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,t){return BO(1,arguments)},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,t,r){return BO(2,arguments)},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return XB.killTweensOf(e,t,r)},t}(wF);oO(FF.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),KR("staggerTo,staggerFrom,staggerFromTo",(function(e){FF[e]=function(){var t=new EF,r=MO.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var MF=function(e,t,r){return e[t]=r},IF=function(e,t,r){return e[t](r)},NF=function(e,t,r,n){return e[t](n.fp,r)},LF=function(e,t,r){return e.setAttribute(t,r)},UF=function(e,t){return fR(e[t])?IF:mR(e[t])&&e.setAttribute?LF:MF},jF=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},zF=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},GF=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},VF=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},HF=function(e,t,r,n){for(var i,o=this._pt;o;)i=o._next,o.p===n&&o.modifier(e,t,r),o=i},WF=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?dO(this,n,"_pt"):n.dep||(t=1),n=r;return!t},$F=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},YF=function(e){for(var t,r,n,i,o=e._pt;o;){for(t=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:i)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:i=o,o=t}e._pt=n},XF=function(){function e(e,t,r,n,i,o,s,a,l){this.t=t,this.s=n,this.c=i,this.p=r,this.r=o||jF,this.d=s||this,this.set=a||MF,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=$F,this.m=e,this.mt=r,this.tween=t},e}();KR($R+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return UR[e]=1})),kR.TweenMax=kR.TweenLite=FF,kR.TimelineLite=kR.TimelineMax=EF,XB=new EF({sortChildren:!1,defaults:nR,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),rR.stringFilter=aF;var qF=[],KF={},ZF=[],QF=0,JF=0,eM=function(e){return(KF[e]||ZF).map((function(e){return e()}))},tM=function(){var e=Date.now(),t=[];e-QF>2&&(eM("matchMediaInit"),qF.forEach((function(e){var r,n,i,o,s=e.queries,a=e.conditions;for(n in s)(r=qB.matchMedia(s[n]).matches)&&(i=1),r!==a[n]&&(a[n]=r,o=1);o&&(e.revert(),i&&t.push(e))})),eM("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),QF=e,eM("matchMedia"))},rM=function(){function e(e,t){this.selector=t&&UO(t),this.data=[],this._r=[],this.isReverted=!1,this.id=JF++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,r){fR(e)&&(r=t,t=e,e=fR);var n=this,i=function(){var e,i=YB,o=n.selector;return i&&i!==n&&i.data.push(n),r&&(n.selector=UO(r)),YB=n,e=t.apply(n,arguments),fR(e)&&n._r.push(e),YB=i,n.selector=o,n.isReverted=!1,e};return n.last=i,e===fR?i(n):e?n[e]=i:i},t.ignore=function(e){var t=YB;YB=null,e(this),YB=t},t.getTweens=function(){var t=[];return this.data.forEach((function(r){return r instanceof e?t.push.apply(t,r.getTweens()):r instanceof FF&&!(r.parent&&"nested"===r.parent.data)&&t.push(r)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var r=this;if(e){var n=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return n.splice(n.indexOf(e),1)})))})),n.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof FF)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,r)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t)for(var i=qF.length;i--;)qF[i].id===this.id&&qF.splice(i,1)},t.revert=function(e){this.kill(e||{})},e}(),nM=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,r){gR(e)||(e={matches:e});var n,i,o,s=new rM(0,r||this.scope),a=s.conditions={};for(i in YB&&!s.selector&&(s.selector=YB.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(n=qB.matchMedia(e[i]))&&(qF.indexOf(s)<0&&qF.push(s),(a[i]=n.matches)&&(o=1),n.addListener?n.addListener(tM):n.addEventListener("change",tM));return o&&t(s),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),iM={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return QO(e)}))},timeline:function(e){return new EF(e)},getTweensOf:function(e,t){return XB.getTweensOf(e,t)},getProperty:function(e,t,r,n){hR(e)&&(e=LO(e)[0]);var i=XR(e||{}).get,o=r?iO:nO;return"native"===r&&(r=""),e?t?o((GR[t]&&GR[t].get||i)(e,t,r,n)):function(t,r,n){return o((GR[t]&&GR[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=LO(e)).length>1){var n=e.map((function(e){return aM.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var o=GR[t],s=XR(e),a=s.harness&&(s.harness.aliases||{})[t]||t,l=o?function(t){var n=new o;eR._pt=0,n.init(e,r?t+r:t,eR,0,[e]),n.render(1,n),eR._pt&&VF(1,eR)}:s.set(e,a);return o?l:function(t){return l(e,a,r?t+r:t,s,1)}},quickTo:function(e,t,r){var n,i=aM.to(e,sO(((n={})[t]="+=0.1",n.paused=!0,n),r||{})),o=function(e,r,n){return i.resetTo(t,e,r,n)};return o.tween=i,o},isTweening:function(e){return XB.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gF(e.ease,nR.ease)),aO(nR,e||{})},config:function(e){return aO(rR,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!GR[e]&&!kR[e]&&OR(t+" effect requires "+e+" plugin.")})),VR[t]=function(e,t,n){return r(LO(e),oO(t||{},i),n)},o&&(EF.prototype[t]=function(e,r,n){return this.add(VR[t](e,gR(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){cF[e]=gF(t)},parseEase:function(e,t){return arguments.length?gF(e,t):cF},getById:function(e){return XB.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new EF(e);for(i.smoothChildTiming=vR(e.smoothChildTiming),XB.remove(i),i._dp=0,i._time=i._tTime=XB._time,r=XB._first;r;)n=r._next,!t&&!r._dur&&r instanceof FF&&r.vars.onComplete===r._targets[0]||wO(i,r,r._start-r._delay),r=n;return wO(XB,i,0),i},context:function(e,t){return e?new rM(e,t):YB},matchMedia:function(e){return new nM(e)},matchMediaRefresh:function(){return qF.forEach((function(e){var t,r,n=e.conditions;for(r in n)n[r]&&(n[r]=!1,t=1);t&&e.revert()}))||tM()},addEventListener:function(e,t){var r=KF[e]||(KF[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=KF[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},utils:{wrap:function e(t,r,n){var i=r-t;return xR(t)?WO(t,e(0,t.length),r):RO(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,o=2*i;return xR(t)?WO(t,e(0,t.length-1),r):RO(n,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},distribute:zO,random:HO,snap:VO,normalize:function(e,t,r){return YO(e,t,0,1,r)},getUnit:FO,clamp:function(e,t,r){return RO(r,(function(r){return OO(e,t,r)}))},splitColor:rF,toArray:LO,selector:UO,mapRange:YO,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||FO(r))}},interpolate:function e(t,r,n,i){var o=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!o){var s,a,l,u,c,d=hR(t),h={};if(!0===n&&(i=1)&&(n=null),d)t={p:t},r={p:r};else if(xR(t)&&!xR(r)){for(l=[],u=t.length,c=u-2,a=1;a<u;a++)l.push(e(t[a-1],t[a]));u--,o=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},n=r}else i||(t=sO(xR(t)?[]:{},t));if(!l){for(s in r)TF.call(h,t,s,"get",r[s]);o=function(e){return VF(e,h)||(d?t.p:t)}}}return RO(n,o)},shuffle:jO},install:BR,effects:VR,ticker:lF,updateRoot:EF.updateRoot,plugins:GR,globalTimeline:XB,core:{PropTween:XF,globals:FR,Tween:FF,Timeline:EF,Animation:wF,getCache:XR,_removeLinkedListItem:dO,reverting:function(){return $B},context:function(e){return e&&YB&&(YB.data.push(e),e._ctx=YB),YB},suppressOverwrites:function(e){return WB=e}}};KR("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return iM[e]=FF[e]})),lF.add(EF.updateRoot),eR=iM.to({},{duration:0});var oM=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},sM=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if(hR(r)&&(n={},KR(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}!function(e,t){var r,n,i,o=e._targets;for(r in t)for(n=o.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=oM(i,r)),i&&i.modifier&&i.modifier(t[r],e,o[n],r))}(e,r)}}}},aM=iM.registerPlugin({name:"attr",init:function(e,t,r,n,i){var o,s,a;for(o in this.tween=r,t)a=e.getAttribute(o)||"",(s=this.add(e,"setAttribute",(a||0)+"",t[o],n,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)$B?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},sM("roundProps",GO),sM("modifiers"),sM("snap",VO))||iM;FF.version=EF.version=aM.version="3.12.2",QB=1,yR()&&uF(),cF.Power0,cF.Power1,cF.Power2,cF.Power3,cF.Power4,cF.Linear,cF.Quad,cF.Cubic,cF.Quart,cF.Quint,cF.Strong,cF.Elastic,cF.Back,cF.SteppedEase,cF.Bounce,cF.Sine,cF.Expo,cF.Circ;
/*!
			 * CSSPlugin 3.12.2
			 * https://greensock.com
			 *
			 * Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/
var lM,uM,cM,dM,hM,fM,pM,mM,gM={},vM=180/Math.PI,yM=Math.PI/180,_M=Math.atan2,bM=/([A-Z])/g,xM=/(left|right|width|margin|padding|x)/i,wM=/[\s,\(]\S/,EM={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},CM=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},SM=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},AM=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},TM=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},DM=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},kM=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},PM=function(e,t,r){return e.style[t]=r},BM=function(e,t,r){return e.style.setProperty(t,r)},RM=function(e,t,r){return e._gsap[t]=r},OM=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},FM=function(e,t,r,n,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},MM=function(e,t,r,n,i){var o=e._gsap;o[t]=r,o.renderTransform(i,o)},IM="transform",NM=IM+"Origin",LM=function e(t,r){var n=this,i=this.target,o=i.style;if(t in gM&&o){if(this.tfm=this.tfm||{},"transform"===t)return EM.transform.split(",").forEach((function(t){return e.call(n,t,r)}));if(~(t=EM[t]||t).indexOf(",")?t.split(",").forEach((function(e){return n.tfm[e]=rI(i,e)})):this.tfm[t]=i._gsap.x?i._gsap[t]:rI(i,t),this.props.indexOf(IM)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(NM,r,"")),t=IM}(o||r)&&this.props.push(t,r,o[t])},UM=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},jM=function(){var e,t,r=this.props,n=this.target,i=n.style,o=n._gsap;for(e=0;e<r.length;e+=3)r[e+1]?n[r[e]]=r[e+2]:r[e+2]?i[r[e]]=r[e+2]:i.removeProperty("--"===r[e].substr(0,2)?r[e]:r[e].replace(bM,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(e=pM())&&e.isStart||i[IM]||(UM(i),o.uncache=1)}},zM=function(e,t){var r={target:e,props:[],revert:jM,save:LM};return e._gsap||aM.core.getCache(e),t&&t.split(",").forEach((function(e){return r.save(e)})),r},GM=function(e,t){var r=uM.createElementNS?uM.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):uM.createElement(e);return r.style?r:uM.createElement(e)},VM=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(bM,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,WM(r)||r,1)||""},HM="O,Moz,ms,Ms,Webkit".split(","),WM=function(e,t,r){var n=(t||hM).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(HM[i]+e in n););return i<0?null:(3===i?"ms":i>=0?HM[i]:"")+e},$M=function(){"undefined"!=typeof window&&window.document&&(lM=window,uM=lM.document,cM=uM.documentElement,hM=GM("div")||{style:{}},GM("div"),IM=WM(IM),NM=IM+"Origin",hM.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",mM=!!WM("perspective"),pM=aM.core.reverting,dM=1)},YM=function e(t){var r,n=GM("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(cM.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(whe){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),cM.removeChild(n),this.style.cssText=s,r},XM=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},qM=function(e){var t;try{t=e.getBBox()}catch(r){t=YM.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===YM||(t=YM.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+XM(e,["x","cx","x1"])||0,y:+XM(e,["y","cy","y1"])||0,width:0,height:0}},KM=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!qM(e))},ZM=function(e,t){if(t){var r=e.style;t in gM&&t!==NM&&(t=IM),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(bM,"-$1").toLowerCase())):r.removeAttribute(t)}},QM=function(e,t,r,n,i,o){var s=new XF(e._pt,t,r,0,1,o?kM:DM);return e._pt=s,s.b=n,s.e=i,e._props.push(r),s},JM={deg:1,rad:1,turn:1},eI={grid:1,flex:1},tI=function e(t,r,n,i){var o,s,a,l,u=parseFloat(n)||0,c=(n+"").trim().substr((u+"").length)||"px",d=hM.style,h=xM.test(r),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===i,v="%"===i;return i===c||!u||JM[i]||JM[c]?u:("px"!==c&&!g&&(u=e(t,r,n,"px")),l=t.getCTM&&KM(t),!v&&"%"!==c||!gM[r]&&!~r.indexOf("adius")?(d[h?"width":"height"]=m+(g?c:i),s=~r.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==uM&&s.appendChild||(s=uM.body),(a=s._gsap)&&v&&a.width&&h&&a.time===lF.time&&!a.uncache?ZR(u/a.width*m):((v||"%"===c)&&!eI[VM(s,"display")]&&(d.position=VM(t,"position")),s===t&&(d.position="static"),s.appendChild(hM),o=hM[p],s.removeChild(hM),d.position="absolute",h&&v&&((a=XR(s)).time=lF.time,a.width=s[p]),ZR(g?o*u/m:o&&u?m/o*u:0))):(o=l?t.getBBox()[h?"width":"height"]:t[p],ZR(v?u/o*m:u/100*o)))},rI=function(e,t,r,n){var i;return dM||$M(),t in EM&&"transform"!==t&&~(t=EM[t]).indexOf(",")&&(t=t.split(",")[0]),gM[t]&&"transform"!==t?(i=pI(e,n),i="transformOrigin"!==t?i[t]:i.svg?i.origin:mI(VM(e,NM))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=aI[t]&&aI[t](e,t,r)||VM(e,t)||qR(e,t)||("opacity"===t?1:0)),r&&!~(i+"").trim().indexOf(" ")?tI(e,t,i,r)+r:i},nI=function(e,t,r,n){if(!r||"none"===r){var i=WM(t,e,1),o=i&&VM(e,i,1);o&&o!==r?(t=i,r=o):"borderColor"===t&&(r=VM(e,"borderTopColor"))}var s,a,l,u,c,d,h,f,p,m,g,v=new XF(this._pt,e.style,t,0,1,GF),y=0,_=0;if(v.b=r,v.e=n,r+="","auto"==(n+="")&&(e.style[t]=n,n=VM(e,t)||n,e.style[t]=r),aF(s=[r,n]),n=s[1],l=(r=s[0]).match(CR)||[],(n.match(CR)||[]).length){for(;a=CR.exec(n);)h=a[0],p=n.substring(y,a.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),h!==(d=l[_++]||"")&&(u=parseFloat(d)||0,g=d.substr((u+"").length),"="===h.charAt(1)&&(h=JR(u,h)+g),f=parseFloat(h),m=h.substr((f+"").length),y=CR.lastIndex-m.length,m||(m=m||rR.units[t]||g,y===n.length&&(n+=m,v.e+=m)),g!==m&&(u=tI(e,t,d,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:u,c:f-u,m:c&&c<4||"zIndex"===t?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===t&&"none"===n?kM:DM;return AR.test(n)&&(v.e=0),this._pt=v,v},iI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},oI=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=iI[r]||r,t[1]=iI[n]||n,t.join(" ")},sI=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,o=t.t,s=o.style,a=t.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",n=1;else for(i=(a=a.split(",")).length;--i>-1;)r=a[i],gM[r]&&(n=1,r="transformOrigin"===r?NM:IM),ZM(o,r);n&&(ZM(o,IM),l&&(l.svg&&o.removeAttribute("transform"),pI(o,1),l.uncache=1,UM(s)))}},aI={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var o=e._pt=new XF(e._pt,t,r,0,0,sI);return o.u=n,o.pr=-10,o.tween=i,e._props.push(r),1}}},lI=[1,0,0,1,0,0],uI={},cI=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},dI=function(e){var t=VM(e,IM);return cI(t)?lI:t.substr(7).match(ER).map(ZR)},hI=function(e,t){var r,n,i,o,s=e._gsap||XR(e),a=e.style,l=dI(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?lI:l:(l!==lI||e.offsetParent||e===cM||s.svg||(i=a.display,a.display="block",(r=e.parentNode)&&e.offsetParent||(o=1,n=e.nextElementSibling,cM.appendChild(e)),l=dI(e),i?a.display=i:ZM(e,"display"),o&&(n?r.insertBefore(e,n):r?r.appendChild(e):cM.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},fI=function(e,t,r,n,i,o){var s,a,l,u=e._gsap,c=i||hI(e,!0),d=u.xOrigin||0,h=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,m=c[0],g=c[1],v=c[2],y=c[3],_=c[4],b=c[5],x=t.split(" "),w=parseFloat(x[0])||0,E=parseFloat(x[1])||0;r?c!==lI&&(a=m*y-g*v)&&(l=w*(-g/a)+E*(m/a)-(m*b-g*_)/a,w=w*(y/a)+E*(-v/a)+(v*b-y*_)/a,E=l):(w=(s=qM(e)).x+(~x[0].indexOf("%")?w/100*s.width:w),E=s.y+(~(x[1]||x[0]).indexOf("%")?E/100*s.height:E)),n||!1!==n&&u.smooth?(_=w-d,b=E-h,u.xOffset=f+(_*m+b*v)-_,u.yOffset=p+(_*g+b*y)-b):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=E,u.smooth=!!n,u.origin=t,u.originIsAbsolute=!!r,e.style[NM]="0px 0px",o&&(QM(o,u,"xOrigin",d,w),QM(o,u,"yOrigin",h,E),QM(o,u,"xOffset",f,u.xOffset),QM(o,u,"yOffset",p,u.yOffset)),e.setAttribute("data-svg-origin",w+" "+E)},pI=function(e,t){var r=e._gsap||new xF(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,o,s,a,l,u,c,d,h,f,p,m,g,v,y,_,b,x,w,E,C,S,A,T,D,k,P,B,R,O,F,M=e.style,I=r.scaleX<0,N="px",L="deg",U=getComputedStyle(e),j=VM(e,NM)||"0";return n=i=o=l=u=c=d=h=f=0,s=a=1,r.svg=!(!e.getCTM||!KM(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(M[IM]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[IM]?U[IM]:"")),M.scale=M.rotate=M.translate="none"),g=hI(e,r.svg),r.svg&&(r.uncache?(T=e.getBBox(),j=r.xOrigin-T.x+"px "+(r.yOrigin-T.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),fI(e,A||j,!!A||r.originIsAbsolute,!1!==r.smooth,g)),p=r.xOrigin||0,m=r.yOrigin||0,g!==lI&&(b=g[0],x=g[1],w=g[2],E=g[3],n=C=g[4],i=S=g[5],6===g.length?(s=Math.sqrt(b*b+x*x),a=Math.sqrt(E*E+w*w),l=b||x?_M(x,b)*vM:0,(d=w||E?_M(w,E)*vM+l:0)&&(a*=Math.abs(Math.cos(d*yM))),r.svg&&(n-=p-(p*b+m*w),i-=m-(p*x+m*E))):(F=g[6],R=g[7],k=g[8],P=g[9],B=g[10],O=g[11],n=g[12],i=g[13],o=g[14],u=(v=_M(F,B))*vM,v&&(A=C*(y=Math.cos(-v))+k*(_=Math.sin(-v)),T=S*y+P*_,D=F*y+B*_,k=C*-_+k*y,P=S*-_+P*y,B=F*-_+B*y,O=R*-_+O*y,C=A,S=T,F=D),c=(v=_M(-w,B))*vM,v&&(y=Math.cos(-v),O=E*(_=Math.sin(-v))+O*y,b=A=b*y-k*_,x=T=x*y-P*_,w=D=w*y-B*_),l=(v=_M(x,b))*vM,v&&(A=b*(y=Math.cos(v))+x*(_=Math.sin(v)),T=C*y+S*_,x=x*y-b*_,S=S*y-C*_,b=A,C=T),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),s=ZR(Math.sqrt(b*b+x*x+w*w)),a=ZR(Math.sqrt(S*S+F*F)),v=_M(C,S),d=Math.abs(v)>2e-4?v*vM:0,f=O?1/(O<0?-O:O):0),r.svg&&(A=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!cI(VM(e,IM)),A&&e.setAttribute("transform",A))),Math.abs(d)>90&&Math.abs(d)<270&&(I?(s*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||r.uncache,r.x=n-((r.xPercent=n&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+N,r.y=i-((r.yPercent=i&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+N,r.z=o+N,r.scaleX=ZR(s),r.scaleY=ZR(a),r.rotation=ZR(l)+L,r.rotationX=ZR(u)+L,r.rotationY=ZR(c)+L,r.skewX=d+L,r.skewY=h+L,r.transformPerspective=f+N,(r.zOrigin=parseFloat(j.split(" ")[2])||0)&&(M[NM]=mI(j)),r.xOffset=r.yOffset=0,r.force3D=rR.force3D,r.renderTransform=r.svg?wI:mM?xI:vI,r.uncache=0,r},mI=function(e){return(e=e.split(" "))[0]+" "+e[1]},gI=function(e,t,r){var n=FO(t);return ZR(parseFloat(t)+parseFloat(tI(e,"x",r+"px",n)))+n},vI=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,xI(e,t)},yI="0deg",_I="0px",bI=") ",xI=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,o=r.x,s=r.y,a=r.z,l=r.rotation,u=r.rotationY,c=r.rotationX,d=r.skewX,h=r.skewY,f=r.scaleX,p=r.scaleY,m=r.transformPerspective,g=r.force3D,v=r.target,y=r.zOrigin,_="",b="auto"===g&&e&&1!==e||!0===g;if(y&&(c!==yI||u!==yI)){var x,w=parseFloat(u)*yM,E=Math.sin(w),C=Math.cos(w);w=parseFloat(c)*yM,x=Math.cos(w),o=gI(v,o,E*x*-y),s=gI(v,s,-Math.sin(w)*-y),a=gI(v,a,C*x*-y+y)}m!==_I&&(_+="perspective("+m+bI),(n||i)&&(_+="translate("+n+"%, "+i+"%) "),(b||o!==_I||s!==_I||a!==_I)&&(_+=a!==_I||b?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+bI),l!==yI&&(_+="rotate("+l+bI),u!==yI&&(_+="rotateY("+u+bI),c!==yI&&(_+="rotateX("+c+bI),d===yI&&h===yI||(_+="skew("+d+", "+h+bI),1===f&&1===p||(_+="scale("+f+", "+p+bI),v.style[IM]=_||"translate(0, 0)"},wI=function(e,t){var r,n,i,o,s,a=t||this,l=a.xPercent,u=a.yPercent,c=a.x,d=a.y,h=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,b=a.xOffset,x=a.yOffset,w=a.forceCSS,E=parseFloat(c),C=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=yM,f*=yM,r=Math.cos(h)*m,n=Math.sin(h)*m,i=Math.sin(h-f)*-g,o=Math.cos(h-f)*g,f&&(p*=yM,s=Math.tan(f-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),n*=s)),r=ZR(r),n=ZR(n),i=ZR(i),o=ZR(o)):(r=m,o=g,n=i=0),(E&&!~(c+"").indexOf("px")||C&&!~(d+"").indexOf("px"))&&(E=tI(v,"x",c,"px"),C=tI(v,"y",d,"px")),(y||_||b||x)&&(E=ZR(E+y-(y*r+_*i)+b),C=ZR(C+_-(y*n+_*o)+x)),(l||u)&&(s=v.getBBox(),E=ZR(E+l/100*s.width),C=ZR(C+u/100*s.height)),s="matrix("+r+","+n+","+i+","+o+","+E+","+C+")",v.setAttribute("transform",s),w&&(v.style[IM]=s)},EI=function(e,t,r,n,i){var o,s,a=360,l=hR(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?vM:1)-n,c=n+u+"deg";return l&&("short"===(o=i.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-360),"cw"===o&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===o&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),e._pt=s=new XF(e._pt,t,r,n,u,SM),s.e=c,s.u="deg",e._props.push(r),s},CI=function(e,t){for(var r in t)e[r]=t[r];return e},SI=function(e,t,r){var n,i,o,s,a,l,u,c=CI({},r._gsap),d=r.style;for(i in c.svg?(o=r.getAttribute("transform"),r.setAttribute("transform",""),d[IM]=t,n=pI(r,1),ZM(r,IM),r.setAttribute("transform",o)):(o=getComputedStyle(r)[IM],d[IM]=t,n=pI(r,1),d[IM]=o),gM)(o=c[i])!==(s=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=FO(o)!==(u=FO(s))?tI(r,i,o,u):parseFloat(o),l=parseFloat(s),e._pt=new XF(e._pt,n,i,a,l-a,CM),e._pt.u=u||0,e._props.push(i));CI(n,c)};KR("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",o="Left",s=(t<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map((function(r){return t<2?e+r:"border"+r+e}));aI[t>1?"border"+e:e]=function(e,t,r,n,i){var o,a;if(arguments.length<4)return o=s.map((function(t){return rI(e,t,r)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},s.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,i)}}));var AI,TI,DI,kI={name:"css",register:$M,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var o,s,a,l,u,c,d,h,f,p,m,g,v,y,_,b,x=this._props,w=e.style,E=r.vars.startAt;for(d in dM||$M(),this.styles=this.styles||zM(e),b=this.styles.props,this.tween=r,t)if("autoRound"!==d&&(s=t[d],!GR[d]||!DF(d,t,r,n,e,i)))if(u=typeof s,c=aI[d],"function"===u&&(u=typeof(s=s.call(r,n,e,i))),"string"===u&&~s.indexOf("random(")&&(s=$O(s)),c)c(this,e,d,s,r)&&(_=1);else if("--"===d.substr(0,2))o=(getComputedStyle(e).getPropertyValue(d)+"").trim(),s+="",oF.lastIndex=0,oF.test(o)||(h=FO(o),f=FO(s)),f?h!==f&&(o=tI(e,d,o,f)+f):h&&(s+=h),this.add(w,"setProperty",o,s,n,i,0,0,d),x.push(d),b.push(d,0,w[d]);else if("undefined"!==u){if(E&&d in E?(o="function"==typeof E[d]?E[d].call(r,n,e,i):E[d],hR(o)&&~o.indexOf("random(")&&(o=$O(o)),FO(o+"")||(o+=rR.units[d]||FO(rI(e,d))||""),"="===(o+"").charAt(1)&&(o=rI(e,d))):o=rI(e,d),l=parseFloat(o),(p="string"===u&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),d in EM&&("autoAlpha"===d&&(1===l&&"hidden"===rI(e,"visibility")&&a&&(l=0),b.push("visibility",0,w.visibility),QM(this,w,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=EM[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in gM)if(this.styles.save(d),g||((v=e._gsap).renderTransform&&!t.parseTransform||pI(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new XF(this._pt,w,IM,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new XF(this._pt,v,"scaleY",v.scaleY,(p?JR(v.scaleY,p+a):a)-v.scaleY||0,CM),this._pt.u=0,x.push("scaleY",d),d+="X";else{if("transformOrigin"===d){b.push(NM,0,w[NM]),s=oI(s),v.svg?fI(e,s,0,y,0,this):((f=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&QM(this,v,"zOrigin",v.zOrigin,f),QM(this,w,d,mI(o),mI(s)));continue}if("svgOrigin"===d){fI(e,s,1,y,0,this);continue}if(d in uI){EI(this,v,d,l,p?JR(l,p+s):s);continue}if("smoothOrigin"===d){QM(this,v,"smooth",v.smooth,s);continue}if("force3D"===d){v[d]=s;continue}if("transform"===d){SI(this,s,e);continue}}else d in w||(d=WM(d)||d);if(m||(a||0===a)&&(l||0===l)&&!wM.test(s)&&d in w)a||(a=0),(h=(o+"").substr((l+"").length))!==(f=FO(s)||(d in rR.units?rR.units[d]:h))&&(l=tI(e,d,o,f)),this._pt=new XF(this._pt,m?v:w,d,l,(p?JR(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==d||!1===t.autoRound?CM:TM),this._pt.u=f||0,h!==f&&"%"!==f&&(this._pt.b=o,this._pt.r=AM);else if(d in w)nI.call(this,e,d,o,p?p+s:s);else if(d in e)this.add(e,d,o||e[d],p?p+s:s,n,i);else if("parseTransform"!==d){RR(d,s);continue}m||(d in w?b.push(d,0,w[d]):b.push(d,1,o||e[d])),x.push(d)}_&&YF(this)},render:function(e,t){if(t.tween._time||!pM())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:rI,aliases:EM,getSetter:function(e,t,r){var n=EM[t];return n&&n.indexOf(",")<0&&(t=n),t in gM&&t!==NM&&(e._gsap.x||rI(e,"x"))?r&&fM===r?"scale"===t?OM:RM:(fM=r||{})&&("scale"===t?FM:MM):e.style&&!mR(e.style[t])?PM:~t.indexOf("-")?BM:UF(e,t)},core:{_removeProperty:ZM,_getMatrix:hI}};aM.utils.checkPrefix=WM,aM.core.getStyleSaver=zM,DI=KR((AI="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(TI="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){gM[e]=1})),KR(TI,(function(e){rR.units[e]="deg",uI[e]=1})),EM[DI[13]]=AI+","+TI,KR("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");EM[t[1]]=DI[t[0]]})),KR("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){rR.units[e]="px"})),aM.registerPlugin(kI),e("q",aM.registerPlugin(kI)||aM).core.Tween;
/*!
			 * PixiPlugin 3.12.2
			 * https://greensock.com
			 *
			 * @license Copyright 2008-2023, GreenSock. All rights reserved.
			 * Subject to the terms at https://greensock.com/standard-license or for
			 * Club GreenSock members, the agreement issued with that membership.
			 * @author: Jack Doyle, jack@greensock.com
			*/var PI,BI,RI,OI,FI,MI,II,NI,LI,UI=function(){return"undefined"!=typeof window},jI=function(){return PI||UI()&&(PI=window.gsap)&&PI.registerPlugin&&PI},zI=function(e){return"function"==typeof e},GI=function(e){return console.warn(e)},VI=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],HI=.212671,WI=.71516,$I=.072169,YI=function(e){return zI(OI[e])?OI[e]:OI.filters[e]},XI=function(e,t){var r,n,i=[],o=0,s=0;for(r=0;r<4;r++){for(n=0;n<5;n++)s=4===n?e[o+4]:0,i[o+n]=e[o]*t[n]+e[o+1]*t[n+5]+e[o+2]*t[n+10]+e[o+3]*t[n+15]+s;o+=5}return i},qI=function(e,t){var r=1-t,n=r*HI,i=r*WI,o=r*$I;return XI([n+t,i,o,0,0,n,i+t,o,0,0,n,i,o+t,0,0,0,0,0,1,0],e)},KI=function(e,t,r){var n=RI(t),i=n[0]/255,o=n[1]/255,s=n[2]/255,a=1-r;return XI([a+r*i*HI,r*i*WI,r*i*$I,0,0,r*o*HI,a+r*o*WI,r*o*$I,0,0,r*s*HI,r*s*WI,a+r*s*$I,0,0,0,0,0,1,0],e)},ZI=function(e,t){t*=Math.PI/180;var r=Math.cos(t),n=Math.sin(t);return XI([HI+r*(1-HI)+n*-HI,WI+r*-WI+n*-WI,$I+r*-$I+n*(1-$I),0,0,HI+r*-HI+.143*n,WI+.28484*r+.14*n,$I+r*-$I+-.283*n,0,0,HI+r*-HI+-.787329*n,WI+r*-WI+n*WI,$I+r*(1-$I)+n*$I,0,0,0,0,0,1,0,0,0,0,0,1],e)},QI=function(e,t){return XI([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},JI=function(e,t){var r,n=YI(t),i=e.filters||[],o=i.length;for(n||GI(t+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(i[o]instanceof n)return i[o];return r=new n,"BlurFilter"===t&&(r.blur=0),i.push(r),e.filters=i,r},eN=function(e,t,r,n){t.add(r,e,r[e],n[e]),t._props.push(e)},tN=function(e,t){var r=new(YI("ColorMatrixFilter"));return r.matrix=t,r.brightness(e,!0),r.matrix},rN={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},nN=function(e,t,r){var n,i,o,s=JI(e,"ColorMatrixFilter"),a=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var t,r={};for(t in e)r[t]=e[t];return r}(rN),l=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);o=s.matrix,t.resolution&&(s.resolution=t.resolution),t.matrix&&t.matrix.length===o.length?(i=t.matrix,1!==a.contrast&&eN("contrast",r,a,rN),a.hue&&eN("hue",r,a,rN),1!==a.brightness&&eN("brightness",r,a,rN),a.colorizeAmount&&(eN("colorize",r,a,rN),eN("colorizeAmount",r,a,rN)),1!==a.saturation&&eN("saturation",r,a,rN)):(i=VI.slice(),null!=t.contrast?(i=QI(i,+t.contrast),eN("contrast",r,a,t)):1!==a.contrast&&(l?i=QI(i,a.contrast):eN("contrast",r,a,rN)),null!=t.hue?(i=ZI(i,+t.hue),eN("hue",r,a,t)):a.hue&&(l?i=ZI(i,a.hue):eN("hue",r,a,rN)),null!=t.brightness?(i=tN(+t.brightness,i),eN("brightness",r,a,t)):1!==a.brightness&&(l?i=tN(a.brightness,i):eN("brightness",r,a,rN)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,i=KI(i,t.colorize,t.colorizeAmount),eN("colorize",r,a,t),eN("colorizeAmount",r,a,t)):a.colorizeAmount&&(l?i=KI(i,a.colorize,a.colorizeAmount):(eN("colorize",r,a,rN),eN("colorizeAmount",r,a,rN))),null!=t.saturation?(i=qI(i,+t.saturation),eN("saturation",r,a,t)):1!==a.saturation&&(l?i=qI(i,a.saturation):eN("saturation",r,a,rN))),n=i.length;for(;--n>-1;)i[n]!==o[n]&&r.add(o,n,o[n],i[n],"colorMatrixFilter");r._props.push("colorMatrixFilter")},iN=function(e,t){var r=t.t,n=t.p,i=t.color;(0,t.set)(r,n,i[0]<<16|i[1]<<8|i[2])},oN=function(e,t){var r=t.g;r&&(r.dirty++,r.clearDirty++)},sN=function(e,t){t.t.visible=!!t.t.alpha},aN=function(e,t,r,n){var i=e[t],o=RI(zI(i)?e[t.indexOf("set")||!zI(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():i),s=RI(r);n._pt=new FI(n._pt,e,t,0,0,iN,{t:e,p:t,color:o,set:MI(e,t)}),n.add(o,0,o[0],s[0]),n.add(o,1,o[1],s[1]),n.add(o,2,o[2],s[2])},lN={tint:1,lineColor:1,fillColor:1},uN="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),cN={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},dN={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},hN=Math.PI/180,fN=function(e){return"string"==typeof e},pN=function(e){return fN(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*hN:e*hN},mN=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},gN=function(e,t,r,n,i,o){var s,a,l=360*(o?hN:1),u=fN(i),c=u&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,d=parseFloat(c?i.substr(2):i)*(o?hN:1),h=c?d*c:d-n,f=n+h;return u&&("short"===(s=i.split("_")[1])&&(h%=l)!=h%(l/2)&&(h+=h<0?l:-l),"cw"===s&&h<0?h=(h+1e10*l)%l-~~(h/l)*l:"ccw"===s&&h>0&&(h=(h-1e10*l)%l-~~(h/l)*l)),e._pt=a=new FI(e._pt,t,r,n,h,mN),a.e=f,a},vN=function(){UI()&&(BI=window,PI=jI(),OI=OI||BI.PIXI,II=OI&&OI.VERSION&&"4"===OI.VERSION.charAt(0),RI=function(e){return PI.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(NI=0;NI<uN.length;NI++)LI=uN[NI],cN[LI+"X"]=LI,cN[LI+"Y"]=LI;var yN=e("P",{version:"3.12.2",name:"pixi",register:function(e,t,r){PI=e,FI=r,MI=t.getSetter,vN()},registerPIXI:function(e){OI=e},init:function(e,t,r,n,i){if(OI||vN(),!(OI&&e instanceof OI.DisplayObject))return GI(e),!1;var o,s,a,l,u,c,d,h,f;for(c in t){if(o=cN[c],a=t[c],o)s=~c.charAt(c.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],s,e[o][s],"skew"===o?pN(a):a,0,0,0,0,0,1);else if("scale"===c||"anchor"===c||"pivot"===c||"tileScale"===c)this.add(e[c],"x",e[c].x,a),this.add(e[c],"y",e[c].y,a);else if("rotation"===c||"angle"===c)gN(this,e,c,e[c],a,"rotation"===c);else if(dN[c])l||(nN(e,t.colorMatrixFilter||t,this),l=!0);else if("blur"===c||"blurX"===c||"blurY"===c||"blurPadding"===c){if(u=JI(e,"BlurFilter"),this.add(u,c,u[c],a),0!==t.blurPadding)for(d=t.blurPadding||2*Math.max(u[c],a),h=e.filters.length;--h>-1;)e.filters[h].padding=Math.max(e.filters[h].padding,d)}else if(lN[c])if(("lineColor"===c||"fillColor"===c)&&e instanceof OI.Graphics)for(f=(e.geometry||e).graphicsData,this._pt=new FI(this._pt,e,c,0,0,oN,{g:e.geometry||e}),h=f.length;--h>-1;)aN(II?f[h]:f[h][c.substr(0,4)+"Style"],II?c:"color",a,this);else aN(e,c,a,this);else"autoAlpha"===c?(this._pt=new FI(this._pt,e,"visible",0,0,sN),this.add(e,"alpha",e.alpha,a),this._props.push("alpha","visible")):"resolution"!==c&&this.add(e,c,"get",a);this._props.push(c)}}});jI()&&PI.registerPlugin(yN);class _N{constructor(e=0,t=0,r=0,n=0){this._x=Number(e),this._y=Number(t),this._width=Number(r),this._height=Number(n),this._hull=[new tx,new tx,new tx,new tx],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,t,r,n]=this._hull;e.set(this._x,this._y),t.set(this._x+this._width,this._y),r.set(this._x+this._width,this._y+this._height),n.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new _N(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}equals(e){return!!e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this}}const bN=new tx;class xN{constructor(e=0,t=0,r=0,n=0,i=0){e instanceof _N&&(i=t||0,t=e.y,r=e.width,n=e.height,e=e.x),this.innerBounds=new _N(e,t,r,n),this._rotation=i,this._center=new vx(this.updateCenter,this),this._hull=[new tx,new tx,new tx,new tx],this._matrix=new lx,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return!!e&&this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation}contains(e,t){"number"==typeof e&&(e=bN.set(e,t));const r=this._matrix.applyInverse(e,bN);return this.innerBounds.contains(r.x,r.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,t=this._rotation,r=this._center,[n,i,o,s]=this._hull,a=this._matrix;r._x=e.x+e.width/2,r._y=e.y+e.height/2,a.identity().translate(-r.x,-r.y).rotate(t).translate(r.x,r.y),a.apply(e.topLeft,n),a.apply(e.topRight,i),a.apply(e.bottomRight,o),a.apply(e.bottomLeft,s),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,t=this.innerBounds;t.x=e.x-t.width/2,t.y=e.y-t.height/2}}class wN{constructor(e,t){this._history=new Array(e),this._decayRatio=t,this._currentIndex=0;for(let r=0;r<e;r++)this._history[r]=0}next(e){const{_history:t,_decayRatio:r}=this,n=t.length;this._currentIndex=this._currentIndex<n-1?this._currentIndex+1:0,t[this._currentIndex]=e;let i=0,o=0;for(let s=this._currentIndex+1;s<n;s++)i=(i+t[s])*r,o=(o+1)*r;for(let s=0;s<=this._currentIndex;s++)i=(i+t[s])*r,o=(o+1)*r;return this._average=i/o,this._average}absDev(){let e=0;for(let t=0,r=this._history.length;t<r;t++)e+=Math.abs(this._history[t]-this._average);return e/this._history.length}}class EN{constructor(e={}){EN.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new wN(128,this._decayRatio),this._marginAverageProvider=new wN(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let t,r;Array.isArray(e)?(t=e,r=e.length):(r=e,t=new Array(r)),this._borrowRate+=r,this._flowRate+=r;let n=0;if(this._freeCount>0){const e=this._freeList,i=Math.min(this._freeCount,r);let o=this._freeCount;for(let r=0;r<i;r++)t[n]=e[o-1],++n,--o;this._freeCount=o}for(;n<r;)t[n]=this.create(),++n;return t}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let t=0,r=e.length;t<r;t++)this._freeList[this._freeCount]=e[t],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const t=this._freeCount-e;for(let e=0;e<t;e++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const t=Math.min(this._freeCount,this.capacity);for(let r=e;r<t;r++)this._freeList[r]=null}}startGC(e=fE.shared){e.add(this._gcTick,null,cE.UTILITY)}stopGC(e=fE.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const t=this._freeCount,r=this._freeList.length;if(t<128&&this._borrowRateAverage<128&&r<128)return;const n=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>n+e){const t=n+e;this.capacity=Math.min(this._freeList.length,Math.ceil(t)),this._freeCount=this._freeList.length}}}}var CN;const SN=new Map;class AN{static build(e){let t=SN.get(e);return t||(t=new class extends EN{create(){return new e}},SN.set(e,t),t)}static buildFunctional(e){return new(CN=class extends EN{constructor(...e){super(...e),CN.prototype.__init.call(this)}__init(){this.create=e}})}}const TN={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},DN=IA;class kN extends DN{constructor(e,t,r={},n,i,o){super(),this.transformer=e;const s=Object.assign({},TN,r);this._handle=t,this._style=s,this.onHandleDelta=n,this.onHandleCommit=i,this._dirty=!0,this.interactive=!0,this.cursor=o||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new tx,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},TN,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,t=this._style,r=t.radius;if(this.clear().lineStyle(t.outlineThickness,t.outlineColor).beginFill(t.color),"square"===t.shape)this.drawRect(-r/2,-r/2,r,r);else if("tooth"===t.shape)switch(e){case"middleLeft":this.drawPolygon([-r/2,-r/2,-r/2,r/2,r/2,r/2,1.1*r,0,r/2,-r/2]);break;case"topCenter":this.drawPolygon([-r/2,-r/2,r/2,-r/2,r/2,r/2,0,1.1*r,-r/2,r/2]);break;case"middleRight":this.drawPolygon([-r/2,r/2,1.1*-r,0,-r/2,-r/2,r/2,-r/2,r/2,r/2]);break;case"bottomCenter":this.drawPolygon([0,1.1*-r,r/2,-r/2,r/2,r/2,-r/2,r/2,-r/2,-r/2]);break;case"rotator":this.drawCircle(0,0,r/Math.sqrt(2));break;default:this.drawRect(-r/2,-r/2,r,r)}else this.drawCircle(0,0,r);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const t=e.data.global;this.onHandleDelta&&this.onHandleDelta(t),this._pointerPosition.copyFrom(t)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function PN(e,t,r,n){const{x:i,y:o}=r,{x:s,y:a}=n;if(Math.abs(s-i)<.01)return Math.abs(e-i);if(Math.abs(a-o)<.01)return Math.abs(t-o);const l=(a-o)/(s-i);return Math.abs((l*e-t+(a-l*s))/Math.sqrt(l*l+1))}const BN=AN.build(tx),RN=[new tx,new tx,new tx,new tx],ON=new lx,FN=new tx,MN=new Array(12),IN=[[0,0,0,1,-1,1,-1,-1,1,-1,1,0],[0,0,-1,0,-1,-1,1,-1,1,1,0,1],[0,0,1,0,1,1,-1,1,-1,-1,0,-1],[0,0,0,-1,1,-1,1,1,-1,1,-1,0]],NN=IA;class LN extends NN{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new IA),this.addChild(new IA),this.addChild(new IA),this.addChild(new IA)],this.boxScalingHandles.forEach((e=>{e.interactive=!0})),this.boxScalingHandles[0].cursor=rL.topCenter,this.boxScalingHandles[1].cursor=rL.middleRight,this.boxScalingHandles[2].cursor=rL.bottomCenter,this.boxScalingHandles[3].cursor=rL.middleLeft}hitHandleType(e,t,r){const{boxRotationEnabled:n,boxRotationTolerance:i,boxScalingEnabled:o,boxScalingTolerance:s}=this.transformer,[a,l,u,c]=e.hull,{x:d,y:h}=t.applyInverse(r,FN);if(o){const e=PN(d,h,a,l)*t.d,r=PN(d,h,a,c)*t.a,n=PN(d,h,l,u)*t.a,i=PN(d,h,c,u)*t.d,o=Math.min(e,r,n,i);if(o<s)switch(o){case e:return"topCenter";case r:return"middleLeft";case n:return"middleRight";case i:return"bottomCenter"}}if(n&&!e.contains(d,h)){const e=Math.sqrt((a.x-d)**2+(a.y-h)**2),t=Math.sqrt((l.x-d)**2+(l.y-h)**2),r=Math.sqrt((c.x-d)**2+(c.y-h)**2),n=Math.sqrt((u.x-d)**2+(u.y-h)**2),o=Math.min(e,t,r,n);if(o<1.45*i)switch(o){case e:return"boxRotateTopLeft";case t:return"boxRotateTopRight";case r:return"boxRotateBottomLeft";case n:return"boxRotateBottomRight"}}return null}drawBounds(e){const t=RN;for(let r=0;r<4;r++)this.transformer.projectToLocal(e.hull[r],t[r]);this.drawPolygon(t)}drawBoxScalingTolerance(e,t=this.transformer.boxScalingTolerance){e.innerBounds.pad(-t);const r=BN.allocateArray(4);r.forEach(((t,r)=>{this.projectToLocal(e.hull[r],t)})),e.innerBounds.pad(2.5*t);const n=BN.allocateArray(4);n.forEach(((t,r)=>{this.projectToLocal(e.hull[r],t)})),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let i=0;i<4;i++){const e=r[i],t=r[(i+1)%4],o=n[i],s=n[(i+1)%4];this.boxScalingHandles[i].clear().beginFill(16777215,1e-4).drawPolygon(e,o,s,t).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:t,boxRotateBottomLeft:r,boxRotateBottomRight:n}=this.transformer.handleAnchors,i=2*this.transformer.boxRotationTolerance,o=ON.identity().scale(i,i).rotate(this.transformer.getGroupBounds().rotation);for(let s=0;s<4;s++){const i=IN[s];let a;switch(s){case 0:a=e;break;case 1:a=t;break;case 2:a=r;break;case 3:a=n}for(let e=0;e<i.length;e+=2){const t=i[e],r=i[e+1];FN.set(t,r),o.apply(FN,FN),MN[e]=FN.x+a.x,MN[e+1]=FN.y+a.y}this.drawPolygon(MN.slice())}}projectToLocal(e,t){return this.transformer.projectToLocal(e,t)}}const UN=new lx;function jN(e){const t=UN.identity();return t.c=Math.tan(e),t}function zN(e){const t=UN.identity();return t.b=Math.tan(e),t}function GN(e,t,r,n=e.pivot){const i=t.a,o=t.b,s=t.c,a=t.d,l=-Math.atan2(-s,a),u=Math.atan2(o,i);return r=null!=r?r:u,e.pivot.set(n.x,n.y),e.rotation=r,e.skew.x=r+l,e.skew.y=-r+u,e.scale.x=Math.sqrt(i*i+o*o),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=t.tx+(n.x*t.a+n.y*t.c),e.position.y=t.ty+(n.x*t.b+n.y*t.d),e}const VN=new lx,HN=new lx;function WN(e,t,r){if(!r){const t=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}const n=e.worldTransform,i=e.parent?HN.copyFrom(e.parent.worldTransform):lx.IDENTITY;VN.copyFrom(n),VN.prepend(t),VN.prepend(i.invert()),GN(e.transform,VN)}const $N=new _x,YN=[new tx,new tx,new tx,new tx],XN=new lx,qN=new tx,KN=new xN,ZN=new nx,QN=[new tx,new tx,new tx,new tx],JN=new tx,eL=new lx,tL=AN.build(tx),rL={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},nL=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],iL={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},oL=[...nL,"rotator","skewHorizontal","skewVertical"],sL=[Math.PI/4,Math.PI/2,3*Math.PI/4,Math.PI,0,-Math.PI/4,-Math.PI/2,3*-Math.PI/4,-Math.PI],aL=Math.PI/90,lL=[Math.PI/4,-Math.PI/4],uL=Math.PI/90,cL={color:0,thickness:2},dL=zE;class hL extends dL{constructor(e={}){super(),hL.prototype.__init.call(this),hL.prototype.__init2.call(this),hL.prototype.__init3.call(this),hL.prototype.__init4.call(this),hL.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||16,this.boxScalingTolerance=e.boxScalingTolerance||4,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new lx,this.lockAspectRatio=!0===e.lockAspectRatio,this.rotationSnaps=e.rotationSnaps||sL,this.rotationSnapTolerance=void 0!==e.rotationSnapTolerance?e.rotationSnapTolerance:aL,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||lL,this.skewSnapTolerance=void 0!==e.skewSnapTolerance?e.skewSnapTolerance:uL,this.boxRotationEnabled=!0===e.boxRotationEnabled,this.boxScalingEnabled=!0===e.boxScalingEnabled,this._rotateEnabled=!1!==e.rotateEnabled,this._scaleEnabled=!1!==e.scaleEnabled,this._skewEnabled=!0===e.skewEnabled,this.translateEnabled=!1!==e.translateEnabled,this.transientGroupTilt=void 0===e.transientGroupTilt||e.transientGroupTilt,this.wireframe=this.addChild(new LN(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},cL,e.wireframeStyle||{});const t=e.handleConstructor||kN,r=e.handleStyle||{};this._handleStyle=r;const n={rotator:this.addChild(new t(this,"rotator",r,(e=>{this.rotateGroup("rotator",e)}),this.commitGroup))},i=nL.reduce(((e,n)=>{const i=new t(this,n,r,null,this.commitGroup,rL[n]);return i.onHandleDelta=e=>{this.scaleGroup(i.handle,e)},i.visible=this._scaleEnabled,e[n]=i,this.addChild(e[n]),e}),{}),o={skewHorizontal:this.addChild(new t(this,"skewHorizontal",r,(e=>{this.skewGroup("skewHorizontal",e)}),this.commitGroup,"pointer")),skewVertical:this.addChild(new t(this,"skewVertical",r,(e=>{this.skewGroup("skewVertical",e)}),this.commitGroup,"pointer"))};this.handles=Object.assign({},i,n,o),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new tx,boxRotateTopLeft:new tx,boxRotateTopRight:new tx,boxRotateBottomLeft:new tx,boxRotateBottomRight:new tx,topLeft:new tx,topCenter:new tx,topRight:new tx,middleLeft:new tx,middleCenter:new tx,middleRight:new tx,bottomLeft:new tx,bottomCenter:new tx,bottomRight:new tx,skewHorizontal:new tx,skewVertical:new tx},this.groupBounds=new xN,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new tx,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){(this._enabledHandles||e)&&(this._enabledHandles=e,oL.forEach((e=>{this.handles[e].visible=!1})),e?e.forEach((e=>{this.handles[e].visible=!0})):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,nL.forEach((e=>{"middleCenter"!==e&&(this.handles[e].visible=this._scaleEnabled)}))))}get handleStyle(){return this._handleStyle}set handleStyle(e){const t=this.handles;for(const r in t)t[r].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;nL.forEach((t=>{"middleCenter"!==t&&(this.handles[t].visible=e)}))}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},cL,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const t=XN.identity().translate(e.x,e.y);this.prependTransform(t)}}__init2(){this.rotateGroup=(e,t)=>{this._transformHandle=e,this._transformType="rotate";const r=this.groupBounds,n=this.worldTransform.apply(this.handleAnchors[e],qN);this.projectionTransform.applyInverse(n,n),t=this.projectionTransform.applyInverse(t,JN);const i=r.center,o=Math.atan2(n.y-i.y,n.x-i.x);let s=Math.atan2(t.y-i.y,t.x-i.x)-o,a=this.groupBounds.rotation+s;a=this.snapAngle(a,this.rotationSnapTolerance,this.rotationSnaps),s=a-this.groupBounds.rotation;const l=XN.identity().translate(-i.x,-i.y).rotate(s).translate(i.x,i.y);this.prependTransform(l,!0),this.updateGroupBounds(a),this._skewX+=s,this._skewY+=s}}__init3(){this.scaleGroup=(e,t)=>{this._transformHandle=e,this._transformType="scale";const r=iL[e].x,n=iL[e].y,i=this.handles,o=this.groupBounds,s=o.rotation,a=o.innerBounds,l=this.worldTransform.apply(this.handleAnchors[e],qN);this.projectionTransform.applyInverse(l,l);const u=(t=this.projectionTransform.applyInverse(t,JN)).x-l.x,c=t.y-l.y,d=(o.topRight.x-o.topLeft.x)/a.width,h=(o.topRight.y-o.topLeft.y)/a.width,f=u*((o.bottomLeft.x-o.topLeft.x)/a.height)+c*((o.bottomLeft.y-o.topLeft.y)/a.height);let p=1+(u*d+c*h)*r/a.width,m=1+f*n/a.height;this.lockAspectRatio&&("topLeft"===e||"topRight"===e||"bottomLeft"===e||"bottomRight"===e)&&(p>m?m=p:p=m);const g=XN.identity();if(0!==r&&0!==p){const e=this.centeredScaling?o.center:1===r?o.topLeft:o.topRight;g.translate(-e.x,-e.y).rotate(-s).scale(p,1).rotate(s).translate(e.x,e.y)}if(0!==n&&0!==m){const e=this.centeredScaling?o.center:1===n?o.topLeft:o.bottomLeft;g.translate(-e.x,-e.y).rotate(-s).scale(1,m).rotate(s).translate(e.x,e.y)}if((m<0||p<0)&&!(m<0&&p<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(i.topLeft,i.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(i.topCenter,i.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(i.topRight,i.bottomRight)}this.prependTransform(g)}}__init4(){this.skewGroup=(e,t)=>{this._transformHandle=e,this._transformType="skew";const r=this.groupBounds,n=qN.copyFrom(t);this.projectionTransform.applyInverse(n,n);const i=r.center,o=XN.identity().translate(-i.x,-i.y);let s=this.groupBounds.rotation;if("skewHorizontal"===e){const e=this._skewX;this._skewX=Math.atan2(n.y-i.y,n.x-i.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),o.prepend(zN(-e)),o.prepend(zN(this._skewX))}else{const e=this._skewY,t=Math.atan2(n.y-i.y,n.x-i.x)-Math.PI/2;this._skewY=t,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),o.prepend(jN(e)),o.prepend(jN(-this._skewY)),s-=this._skewY-e}o.translate(i.x,i.y),this.prependTransform(o,!0),this.updateGroupBounds(s)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",!1!==this.transientGroupTilt&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:t,thickness:r}=this._wireframeStyle;this.wireframe.clear(),"none"!==this.boundingBoxes&&this.wireframe.lineStyle(r,t),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let i=0,o=e.length;i<o&&"all"===this.boundingBoxes;i++)this.wireframe.drawBounds(hL.calculateOrientedBounds(e[i],KN));const n=1!==e.length?hL.calculateGroupOrientedBounds(e,this.groupBounds.rotation,KN,!0):hL.calculateOrientedBounds(e[0],KN);this.wireframe.drawBounds(n),this.drawHandles(n),this.groupBounds.copyFrom(n),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(n)),this.lazyDirty=!1}drawHandles(e){const t=this.handles,r=this.handleAnchors,{topLeft:n,topRight:i,bottomLeft:o,bottomRight:s,center:a}=e,[l,u,c,d]=QN,h=qN;if(this.projectToLocal(n,l),this.projectToLocal(i,u),this.projectToLocal(o,c),this.projectToLocal(s,d),this.projectToLocal(a,h),r.topLeft.copyFrom(l),r.topCenter.set((l.x+u.x)/2,(l.y+u.y)/2),r.topRight.copyFrom(u),r.middleLeft.set((l.x+c.x)/2,(l.y+c.y)/2),r.middleCenter.set((l.x+d.x)/2,(l.y+d.y)/2),r.middleRight.set((u.x+d.x)/2,(u.y+d.y)/2),r.bottomLeft.copyFrom(c),r.bottomCenter.set((c.x+d.x)/2,(c.y+d.y)/2),r.bottomRight.copyFrom(d),this.boxRotationEnabled&&(r.boxRotateTopLeft.copyFrom(r.topLeft),r.boxRotateTopRight.copyFrom(r.topRight),r.boxRotateBottomLeft.copyFrom(r.bottomLeft),r.boxRotateBottomRight.copyFrom(r.bottomRight)),this._rotateEnabled){const e=(l.x+u.x)/2,r=(l.y+u.y)/2;let n=-(l.y-u.y),i=l.x-u.x;const o=Math.sqrt(n*n+i*i);n*=32/o,i*=32/o,t.rotator.position.x=e+n,t.rotator.position.y=r+i,this.wireframe.moveTo(e,r).lineTo(t.rotator.position.x,t.rotator.position.y),this.handleAnchors.rotator.copyFrom(t.rotator.position)}if(this._skewEnabled){const e=h.x,n=h.y;this.worldTransform.apply(h,h),r.skewHorizontal.set(h.x+Math.cos(this._skewX)*this.skewRadius,h.y+Math.sin(this._skewX)*this.skewRadius),r.skewVertical.set(h.x+-Math.sin(this._skewY)*this.skewRadius,h.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(r.skewHorizontal,r.skewHorizontal),this.worldTransform.applyInverse(r.skewVertical,r.skewVertical),h.set(e,n),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(h.x,h.y,2*this.wireframeStyle.thickness).endFill(),this.wireframe.moveTo(h.x,h.y).lineTo(t.skewHorizontal.x,t.skewHorizontal.y).moveTo(h.x,h.y).lineTo(t.skewVertical.x,t.skewVertical.y)}for(const f in t){let e=this.groupBounds.rotation;"skewHorizontal"===f?e=this._skewX:"skewVertical"===f&&(e=this._skewY);const n=t[f];n.rotation=e,n.position.copyFrom(r[f]),n.getBounds(!1,ZN)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const t=this._pointerPosition,r=tL.allocate().copyFrom(e.data.global),n=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,r);if(this._pointerDown){const i=r.x,o=r.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,r);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,r);break;default:if(this.translateEnabled){const[e,n,i]=QN;e.set(0,0),n.set(r.x-t.x,r.y-t.y),this.projectionTransform.applyInverse(e,e),this.projectionTransform.applyInverse(n,n),i.set(n.x-e.x,n.y-e.y),this.translateGroup(i)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,r),this.setCursorFromHoveredHandle(n);this._pointerPosition.x=i,this._pointerPosition.y=o,this._pointerDragging=!0,e.stopPropagation()}else this.setCursorFromHoveredHandle(n);tL.release(r)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,t=!1){const r=this.group;for(let n=0,i=r.length;n<i;n++)WN(r[n],e,!1);eL.copyFrom(e),t||this.updateGroupBounds(),this.emit("transformchange",eL)}updateGroupBounds(e=this.groupBounds.rotation){hL.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,t,r){if(e%=2*Math.PI,!r||1===r.length||!t)return e;for(let n=0,i=r.length;n<i;n++)if(Math.abs(e-r[n])<=t)return r[n];return e}swapHandles(e,t){const r=e.handle,n=t.handle,i=e.cursor,o=t.cursor,s=e.x,a=t.x,l=e.y,u=t.y;e.handle=n,t.handle=r,e.position.set(a,u),t.position.set(s,l),e.cursor=o,t.cursor=i,this.handles[r]=t,this.handles[n]=e,this._transformHandle===r?this._transformHandle=n:this._transformHandle===n&&(this._transformHandle=r)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,t){return t||(t=new tx),this.projectionTransform.apply(e,t),this.worldTransform.applyInverse(t,t),t}static calculateTransformedCorners(e,t=e.worldTransform,r,n=0){const i=e.getLocalBounds();return e.getBounds(),(r=r||[new tx,new tx,new tx,new tx])[n].set(i.x,i.y),r[n+1].set(i.x+i.width,i.y),r[n+2].set(i.x+i.width,i.y+i.height),r[n+3].set(i.x,i.y+i.height),t.apply(r[n],r[n]),t.apply(r[n+1],r[n+1]),t.apply(r[n+2],r[n+2]),t.apply(r[n+3],r[n+3]),r}static calculateOrientedBounds(e,t){const r=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(r),GN($N,e.worldTransform),$N.updateLocalTransform();const n=$N.rotation,i=hL.calculateTransformedCorners(e,e.worldTransform,YN),o=(i[0].x+i[1].x+i[2].x+i[3].x)/4,s=(i[0].y+i[1].y+i[2].y+i[3].y)/4,a=XN.identity().translate(-o,-s).rotate(-$N.rotation).translate(o,s);return a.apply(i[0],i[0]),a.apply(i[1],i[1]),a.apply(i[2],i[2]),a.apply(i[3],i[3]),(t=t||new xN).rotation=n,t.innerBounds.x=Math.min(i[0].x,i[1].x,i[2].x,i[3].x),t.innerBounds.y=Math.min(i[0].y,i[1].y,i[2].y,i[3].y),t.innerBounds.width=Math.max(i[0].x,i[1].x,i[2].x,i[3].x)-t.innerBounds.x,t.innerBounds.height=Math.max(i[0].y,i[1].y,i[2].y,i[3].y)-t.innerBounds.y,t}static calculateGroupOrientedBounds(e,t,r,n=!1){const i=e.length,o=tL.allocateArray(4*i);for(let d=0;d<i;d++){const t=e[d];if(!n){const e=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(e)}hL.calculateTransformedCorners(t,t.worldTransform,o,4*d)}const s=XN.identity().rotate(-t);let a=Number.MAX_VALUE,l=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=-Number.MAX_VALUE;for(let d=0,h=o.length;d<h;d++){const e=o[d];s.apply(e,e);const t=e.x,r=e.y;a=t<a?t:a,l=r<l?r:l,u=t>u?t:u,c=r>c?r:c}return tL.releaseArray(o),(r=r||new xN).innerBounds.x=a,r.innerBounds.y=l,r.innerBounds.width=u-a,r.innerBounds.height=c-l,r.rotation=t,s.applyInverse(r.center,qN),r.center.copyFrom(qN),r}}e("x",hL);var fL=Symbol.for("immer-nothing"),pL=Symbol.for("immer-draftable"),mL=Symbol.for("immer-state");function gL(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vL=Object.getPrototypeOf;function yL(e){return!!e&&!!e[mL]}function _L(e){return!!e&&(xL(e)||Array.isArray(e)||!!e[pL]||!!e.constructor?.[pL]||AL(e)||TL(e))}var bL=Object.prototype.constructor.toString();function xL(e){if(!e||"object"!=typeof e)return!1;const t=vL(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===bL}function wL(e,t){0===EL(e)?Reflect.ownKeys(e).forEach((r=>{t(r,e[r],e)})):e.forEach(((r,n)=>t(n,r,e)))}function EL(e){const t=e[mL];return t?t.type_:Array.isArray(e)?1:AL(e)?2:TL(e)?3:0}function CL(e,t){return 2===EL(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SL(e,t,r){const n=EL(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function AL(e){return e instanceof Map}function TL(e){return e instanceof Set}function DL(e){return e.copy_||e.base_}function kL(e,t){if(AL(e))return new Map(e);if(TL(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=xL(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[mL];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(vL(e),t)}{const t=vL(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function PL(e,t=!1){return RL(e)||yL(e)||!_L(e)||(EL(e)>1&&(e.set=e.add=e.clear=e.delete=BL),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>PL(t,!0)))),e}function BL(){gL(2)}function RL(e){return Object.isFrozen(e)}var OL,FL={};function ML(e){const t=FL[e];return t||gL(0),t}function IL(){return OL}function NL(e,t){t&&(ML("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function LL(e){UL(e),e.drafts_.forEach(zL),e.drafts_=null}function UL(e){e===OL&&(OL=e.parent_)}function jL(e){return OL={drafts_:[],parent_:OL,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zL(e){const t=e[mL];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function GL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[mL].modified_&&(LL(t),gL(4)),_L(e)&&(e=VL(t,e),t.parent_||WL(t,e)),t.patches_&&ML("Patches").generateReplacementPatches_(r[mL].base_,e,t.patches_,t.inversePatches_)):e=VL(t,r,[]),LL(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fL?e:void 0}function VL(e,t,r){if(RL(t))return t;const n=t[mL];if(!n)return wL(t,((i,o)=>HL(e,n,t,i,o,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return WL(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,o=!1;3===n.type_&&(i=new Set(t),t.clear(),o=!0),wL(i,((i,s)=>HL(e,n,t,i,s,r,o))),WL(e,t,!1),r&&e.patches_&&ML("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function HL(e,t,r,n,i,o,s){if(yL(i)){const s=VL(e,i,o&&t&&3!==t.type_&&!CL(t.assigned_,n)?o.concat(n):void 0);if(SL(r,n,s),!yL(s))return;e.canAutoFreeze_=!1}else s&&r.add(i);if(_L(i)&&!RL(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;VL(e,i),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||WL(e,i)}}function WL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PL(t,r)}var $L={get(e,t){if(t===mL)return e;const r=DL(e);if(!CL(r,t))return function(e,t,r){const n=qL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!_L(n)?n:n===XL(e.base_,t)?(ZL(e),e.copy_[t]=QL(n,e)):n},has:(e,t)=>t in DL(e),ownKeys:e=>Reflect.ownKeys(DL(e)),set(e,t,r){const n=qL(DL(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=XL(DL(e),t),i=n?.[mL];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,n)&&(void 0!==r||CL(e.base_,t)))return!0;ZL(e),KL(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==XL(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ZL(e),KL(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=DL(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){gL(11)},getPrototypeOf:e=>vL(e.base_),setPrototypeOf(){gL(12)}},YL={};function XL(e,t){const r=e[mL];return(r?DL(r):e)[t]}function qL(e,t){if(!(t in e))return;let r=vL(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=vL(r)}}function KL(e){e.modified_||(e.modified_=!0,e.parent_&&KL(e.parent_))}function ZL(e){e.copy_||(e.copy_=kL(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function QL(e,t){const r=AL(e)?ML("MapSet").proxyMap_(e,t):TL(e)?ML("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:IL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=$L;r&&(i=[n],o=YL);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return n.draft_=a,n.revoke_=s,a}(e,t);return(t?t.scope_:IL()).drafts_.push(r),r}function JL(e){if(!_L(e)||RL(e))return e;const t=e[mL];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kL(e,t.scope_.immer_.useStrictShallowCopy_)}else r=kL(e,!0);return wL(r,((e,t)=>{SL(r,e,JL(t))})),t&&(t.finalized_=!1),r}function eU(){class e extends Map{constructor(e,t){super(),this[mL]={type_:2,parent_:t,scope_:t?t.scope_:IL(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return DL(this[mL]).size}has(e){return DL(this[mL]).has(e)}set(e,r){const n=this[mL];return i(n),DL(n).has(e)&&DL(n).get(e)===r||(t(n),KL(n),n.assigned_.set(e,!0),n.copy_.set(e,r),n.assigned_.set(e,!0)),this}delete(e){if(!this.has(e))return!1;const r=this[mL];return i(r),t(r),KL(r),r.base_.has(e)?r.assigned_.set(e,!1):r.assigned_.delete(e),r.copy_.delete(e),!0}clear(){const e=this[mL];i(e),DL(e).size&&(t(e),KL(e),e.assigned_=new Map,wL(e.base_,(t=>{e.assigned_.set(t,!1)})),e.copy_.clear())}forEach(e,t){DL(this[mL]).forEach(((r,n,i)=>{e.call(t,this.get(n),n,this)}))}get(e){const r=this[mL];i(r);const n=DL(r).get(e);if(r.finalized_||!_L(n))return n;if(n!==r.base_.get(e))return n;const o=QL(n,r);return t(r),r.copy_.set(e,o),o}keys(){return DL(this[mL]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:!1,value:[t.value,r]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.copy_||(e.assigned_=new Map,e.copy_=new Map(e.base_))}class r extends Set{constructor(e,t){super(),this[mL]={type_:3,parent_:t,scope_:t?t.scope_:IL(),modified_:!1,finalized_:!1,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return DL(this[mL]).size}has(e){const t=this[mL];return i(t),t.copy_?!!t.copy_.has(e)||!(!t.drafts_.has(e)||!t.copy_.has(t.drafts_.get(e))):t.base_.has(e)}add(e){const t=this[mL];return i(t),this.has(e)||(n(t),KL(t),t.copy_.add(e)),this}delete(e){if(!this.has(e))return!1;const t=this[mL];return i(t),n(t),KL(t),t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[mL];i(e),DL(e).size&&(n(e),KL(e),e.copy_.clear())}values(){const e=this[mL];return i(e),n(e),e.copy_.values()}entries(){const e=this[mL];return i(e),n(e),e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){const r=this.values();let n=r.next();for(;!n.done;)e.call(t,n.value,n.value,this),n=r.next()}}function n(e){e.copy_||(e.copy_=new Set,e.base_.forEach((t=>{if(_L(t)){const r=QL(t,e);e.drafts_.set(t,r),e.copy_.add(r)}else e.copy_.add(t)})))}function i(e){e.revoked_&&gL(3,JSON.stringify(DL(e)))}!function(e,t){FL[e]||(FL[e]=t)}("MapSet",{proxyMap_:function(t,r){return new e(t,r)},proxySet_:function(e,t){return new r(e,t)}})}wL($L,((e,t)=>{YL[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),YL.deleteProperty=function(e,t){return YL.set.call(this,e,t,void 0)},YL.set=function(e,t,r){return $L.set.call(this,e[0],t,r,e[0])};var tU=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,(e=>t.call(this,e,...i)))}}let n;if("function"!=typeof t&&gL(6),void 0!==r&&"function"!=typeof r&&gL(7),_L(e)){const i=jL(this),o=QL(e,void 0);let s=!0;try{n=t(o),s=!1}finally{s?LL(i):UL(i)}return NL(i,r),GL(n,i)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===fL&&(n=void 0),this.autoFreeze_&&PL(n,!0),r){const t=[],i=[];ML("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}gL(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;const i=this.produce(e,t,((e,t)=>{r=e,n=t}));return[i,r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;_L(e)||gL(8),yL(e)&&(yL(t=e)||gL(10),e=JL(t));const r=jL(this),n=QL(e,void 0);return n[mL].isManual_=!0,UL(r),n}finishDraft(e,t){const r=e&&e[mL];r&&r.isManual_||gL(9);const{scope_:n}=r;return NL(n,t),GL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=ML("Patches").applyPatches_;return yL(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},rU=tU.produce;tU.produceWithPatches.bind(tU);var nU=tU.setAutoFreeze.bind(tU);tU.setUseStrictShallowCopy.bind(tU),tU.applyPatches.bind(tU);var iU=tU.createDraft.bind(tU),oU=tU.finishDraft.bind(tU);function sU(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function aU(...e){return H.useCallback(sU(...e),e)}e("z",(e=>(t,r,n)=>(n.setState=(e,r,...n)=>{const i="function"==typeof e?rU(e):e;return t(i,r,...n)},e(n.setState,r,n))));var lU=e("bL",H.forwardRef(((e,t)=>{const{children:r,...n}=e,i=H.Children.toArray(r),o=i.find(dU);if(o){const e=o.props.children,r=i.map((t=>t===o?H.Children.count(e)>1?H.Children.only(null):H.isValidElement(e)?e.props.children:null:t));return ee.jsx(uU,{...n,ref:t,children:H.isValidElement(e)?H.cloneElement(e,void 0,r):null})}return ee.jsx(uU,{...n,ref:t,children:r})})));lU.displayName="Slot";var uU=H.forwardRef(((e,t)=>{const{children:r,...n}=e;if(H.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(r);return H.cloneElement(r,{...hU(n,r.props),ref:t?sU(t,e):e})}return H.Children.count(r)>1?H.Children.only(null):null}));uU.displayName="SlotClone";var cU=({children:e})=>ee.jsx(ee.Fragment,{children:e});function dU(e){return H.isValidElement(e)&&e.type===cU}function hU(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}var fU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=H.forwardRef(((e,r)=>{const{asChild:n,...i}=e,o=n?lU:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),ee.jsx(o,{...i,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function pU(e,t){e&&ld.flushSync((()=>e.dispatchEvent(t)))}var mU=Boolean(globalThis?.document)?H.useLayoutEffect:()=>{},gU=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=H.useState(),n=H.useRef({}),i=H.useRef(e),o=H.useRef("none"),s=e?"mounted":"unmounted",[a,l]=function(e,t){return H.useReducer(((e,r)=>t[e][r]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect((()=>{const e=vU(n.current);o.current="mounted"===a?e:"none"}),[a]),mU((()=>{const t=n.current,r=i.current;if(r!==e){const n=o.current,s=vU(t);l(e?"MOUNT":"none"===s||"none"===t?.display?"UNMOUNT":r&&n!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}}),[e,l]),mU((()=>{if(t){const e=e=>{const r=vU(n.current).includes(e.animationName);e.target===t&&r&&ld.flushSync((()=>l("ANIMATION_END")))},r=e=>{e.target===t&&(o.current=vU(n.current))};return t.addEventListener("animationstart",r),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",r),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:H.useCallback((e=>{e&&(n.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:n.isPresent}):H.Children.only(r),o=aU(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof r||n.isPresent?H.cloneElement(i,{ref:o}):null};function vU(e){return e?.animationName||"none"}function yU(e,t=[]){let r=[];const n=()=>{const t=r.map((e=>H.createContext(e)));return function(r){const n=r?.[e]||t;return H.useMemo((()=>({[`__scope${e}`]:{...r,[e]:n}})),[r,n])}};return n.scopeName=e,[function(t,n){const i=H.createContext(n),o=r.length;function s(t){const{scope:r,children:n,...s}=t,a=r?.[e][o]||i,l=H.useMemo((()=>s),Object.values(s));return ee.jsx(a.Provider,{value:l,children:n})}return r=[...r,n],s.displayName=t+"Provider",[s,function(r,s){const a=s?.[e][o]||i,l=H.useContext(a);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},_U(n,...t)]}function _U(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return H.useMemo((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return r.scopeName=t.scopeName,r}function bU(e){const t=H.useRef(e);return H.useEffect((()=>{t.current=e})),H.useMemo((()=>(...e)=>t.current?.(...e)),[])}gU.displayName="Presence";var xU=H.createContext(void 0);function wU(e){const t=H.useContext(xU);return e||t||"ltr"}function EU(e,[t,r]){return Math.min(r,Math.max(t,e))}function CU(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}var SU="ScrollArea",[AU,TU]=yU(SU),[DU,kU]=AU(SU),PU=H.forwardRef(((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=H.useState(null),[u,c]=H.useState(null),[d,h]=H.useState(null),[f,p]=H.useState(null),[m,g]=H.useState(null),[v,y]=H.useState(0),[_,b]=H.useState(0),[x,w]=H.useState(!1),[E,C]=H.useState(!1),S=aU(t,(e=>l(e))),A=wU(i);return ee.jsx(DU,{scope:r,type:n,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:w,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:b,children:ee.jsx(fU.div,{dir:A,...s,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})}));PU.displayName=SU;var BU="ScrollAreaViewport",RU=H.forwardRef(((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...o}=e,s=kU(BU,r),a=aU(t,H.useRef(null),s.onViewportChange);return ee.jsxs(ee.Fragment,{children:[ee.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),ee.jsx(fU.div,{"data-radix-scroll-area-viewport":"",...o,ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:ee.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})}));RU.displayName=BU;var OU="ScrollAreaScrollbar",FU=e("I",H.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=kU(OU,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a="horizontal"===e.orientation;return H.useEffect((()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)})),[a,o,s]),"hover"===i.type?ee.jsx(MU,{...n,ref:t,forceMount:r}):"scroll"===i.type?ee.jsx(IU,{...n,ref:t,forceMount:r}):"auto"===i.type?ee.jsx(NU,{...n,ref:t,forceMount:r}):"always"===i.type?ee.jsx(LU,{...n,ref:t}):null})));FU.displayName=OU;var MU=H.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=kU(OU,e.__scopeScrollArea),[o,s]=H.useState(!1);return H.useEffect((()=>{const e=i.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),s(!0)},n=()=>{t=window.setTimeout((()=>s(!1)),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}}),[i.scrollArea,i.scrollHideDelay]),ee.jsx(gU,{present:r||o,children:ee.jsx(NU,{"data-state":o?"visible":"hidden",...n,ref:t})})})),IU=H.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=kU(OU,e.__scopeScrollArea),o="horizontal"===e.orientation,s=nj((()=>l("SCROLL_END")),100),[a,l]=function(e,t){return H.useReducer(((e,r)=>t[e][r]??e),e)}("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return H.useEffect((()=>{if("idle"===a){const e=window.setTimeout((()=>l("HIDE")),i.scrollHideDelay);return()=>window.clearTimeout(e)}}),[a,i.scrollHideDelay,l]),H.useEffect((()=>{const e=i.viewport,t=o?"scrollLeft":"scrollTop";if(e){let r=e[t];const n=()=>{const n=e[t];r!==n&&(l("SCROLL"),s()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}}),[i.viewport,o,l,s]),ee.jsx(gU,{present:r||"hidden"!==a,children:ee.jsx(LU,{"data-state":"hidden"===a?"hidden":"visible",...n,ref:t,onPointerEnter:CU(e.onPointerEnter,(()=>l("POINTER_ENTER"))),onPointerLeave:CU(e.onPointerLeave,(()=>l("POINTER_LEAVE")))})})})),NU=H.forwardRef(((e,t)=>{const r=kU(OU,e.__scopeScrollArea),{forceMount:n,...i}=e,[o,s]=H.useState(!1),a="horizontal"===e.orientation,l=nj((()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;s(a?e:t)}}),10);return ij(r.viewport,l),ij(r.content,l),ee.jsx(gU,{present:n||o,children:ee.jsx(LU,{"data-state":o?"visible":"hidden",...i,ref:t})})})),LU=H.forwardRef(((e,t)=>{const{orientation:r="vertical",...n}=e,i=kU(OU,e.__scopeScrollArea),o=H.useRef(null),s=H.useRef(0),[a,l]=H.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZU(a.viewport,a.content),c={...n,sizes:a,onSizesChange:l,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function d(e,t){return function(e,t,r,n="ltr"){const i=QU(r),o=i/2,s=t||o,a=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,c=r.content-r.viewport,d="ltr"===n?[0,c]:[-1*c,0],h=ej([l,u],d);return h(e)}(e,s.current,a,t)}return"horizontal"===r?ee.jsx(UU,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const e=JU(i.viewport.scrollLeft,a,i.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=d(e,i.dir))}}):"vertical"===r?ee.jsx(jU,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const e=JU(i.viewport.scrollTop,a);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=d(e))}}):null})),UU=H.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=kU(OU,e.__scopeScrollArea),[s,a]=H.useState(),l=H.useRef(null),u=aU(t,l,o.onScrollbarXChange);return H.useEffect((()=>{l.current&&a(getComputedStyle(l.current))}),[l]),ee.jsx(VU,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":QU(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(o.viewport){const n=o.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),tj(n,r)&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:KU(s.paddingLeft),paddingEnd:KU(s.paddingRight)}})}})})),jU=H.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=kU(OU,e.__scopeScrollArea),[s,a]=H.useState(),l=H.useRef(null),u=aU(t,l,o.onScrollbarYChange);return H.useEffect((()=>{l.current&&a(getComputedStyle(l.current))}),[l]),ee.jsx(VU,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":QU(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(o.viewport){const n=o.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),tj(n,r)&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:KU(s.paddingTop),paddingEnd:KU(s.paddingBottom)}})}})})),[zU,GU]=AU(OU),VU=H.forwardRef(((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=e,f=kU(OU,r),[p,m]=H.useState(null),g=aU(t,(e=>m(e))),v=H.useRef(null),y=H.useRef(""),_=f.viewport,b=n.content-n.viewport,x=bU(c),w=bU(l),E=nj(d,10);function C(e){if(v.current){const t=e.clientX-v.current.left,r=e.clientY-v.current.top;u({x:t,y:r})}}return H.useEffect((()=>{const e=e=>{const t=e.target,r=p?.contains(t);r&&x(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[_,p,b,x]),H.useEffect(w,[n,w]),ij(p,E),ij(f.content,E),ee.jsx(zU,{scope:r,scrollbar:p,hasThumb:i,onThumbChange:bU(o),onThumbPointerUp:bU(s),onThumbPositionChange:w,onThumbPointerDown:bU(a),children:ee.jsx(fU.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:CU(e.onPointerDown,(e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),v.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(e))})),onPointerMove:CU(e.onPointerMove,C),onPointerUp:CU(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null}))})})})),HU="ScrollAreaThumb",WU=e("J",H.forwardRef(((e,t)=>{const{forceMount:r,...n}=e,i=GU(HU,e.__scopeScrollArea);return ee.jsx(gU,{present:r||i.hasThumb,children:ee.jsx($U,{ref:t,...n})})}))),$U=H.forwardRef(((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,o=kU(HU,r),s=GU(HU,r),{onThumbPositionChange:a}=s,l=aU(t,(e=>s.onThumbChange(e))),u=H.useRef(),c=nj((()=>{u.current&&(u.current(),u.current=void 0)}),100);return H.useEffect((()=>{const e=o.viewport;if(e){const t=()=>{if(c(),!u.current){const t=rj(e,a);u.current=t,a()}};return a(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[o.viewport,c,a]),ee.jsx(fU.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:CU(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;s.onThumbPointerDown({x:r,y:n})})),onPointerUp:CU(e.onPointerUp,s.onThumbPointerUp)})}));WU.displayName=HU;var YU="ScrollAreaCorner",XU=H.forwardRef(((e,t)=>{const r=kU(YU,e.__scopeScrollArea),n=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?ee.jsx(qU,{...e,ref:t}):null}));XU.displayName=YU;var qU=H.forwardRef(((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=kU(YU,r),[o,s]=H.useState(0),[a,l]=H.useState(0),u=Boolean(o&&a);return ij(i.scrollbarX,(()=>{const e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),l(e)})),ij(i.scrollbarY,(()=>{const e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),s(e)})),u?ee.jsx(fU.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null}));function KU(e){return e?parseInt(e,10):0}function ZU(e,t){const r=e/t;return isNaN(r)?0:r}function QU(e){const t=ZU(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function JU(e,t,r="ltr"){const n=QU(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-n,l=EU(e,"ltr"===r?[0,s]:[-1*s,0]);return ej([0,s],[0,a])(l)}function ej(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function tj(e,t){return e>0&&e<t}var rj=(e,t=(()=>{}))=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=r.left!==o.left,a=r.top!==o.top;(s||a)&&t(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function nj(e,t){const r=bU(e),n=H.useRef(0);return H.useEffect((()=>()=>window.clearTimeout(n.current)),[]),H.useCallback((()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)}),[r,t])}function ij(e,t){const r=bU(t);mU((()=>{let t=0;if(e){const n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)}));return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}}),[e,r])}function oj(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=oj(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}e("D",PU),e("V",RU),e("H",XU);const sj=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,aj=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=oj(e))&&(n&&(n+=" "),n+=t);return n},lj=(e("bK",((e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return aj(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map((e=>{const t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;const s=sj(t)||sj(n);return i[e][s]})),a=r&&Object.entries(r).reduce(((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e}),{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce(((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every((e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...a}[t]):{...o,...a}[t]===r}))?[...e,r,n]:e}),[]);return aj(e,s,l,null==r?void 0:r.class,null==r?void 0:r.className)})),e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),uj=(...e)=>e.filter(((e,t,r)=>Boolean(e)&&r.indexOf(e)===t)).join(" ")
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */;var cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */const dj=H.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:s,...a},l)=>H.createElement("svg",{ref:l,...cj,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:uj("lucide",i),...a},[...s.map((([e,t])=>H.createElement(e,t))),...Array.isArray(o)?o:[o]]))),hj=(e,t)=>{const r=H.forwardRef((({className:r,...n},i)=>H.createElement(dj,{ref:i,iconNode:t,className:uj(`lucide-${lj(e)}`,r),...n})));return r.displayName=`${e}`,r};
/**
			 * @license lucide-react v0.436.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */function fj({prop:e,defaultProp:t,onChange:r=(()=>{})}){const[n,i]=function({defaultProp:e,onChange:t}){const r=H.useState(e),[n]=r,i=H.useRef(n),o=bU(t);return H.useEffect((()=>{i.current!==n&&(o(n),i.current=n)}),[n,i,o]),r}({defaultProp:t,onChange:r}),o=void 0!==e,s=o?e:n,a=bU(r);return[s,H.useCallback((t=>{if(o){const r="function"==typeof t?t(e):t;r!==e&&a(r)}else i(t)}),[o,e,i,a])]}function pj(e){const t=e+"CollectionProvider",[r,n]=yU(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:r}=e,n=W.useRef(null),o=W.useRef(new Map).current;return ee.jsx(i,{scope:t,itemMap:o,collectionRef:n,children:r})};s.displayName=t;const a=e+"CollectionSlot",l=W.forwardRef(((e,t)=>{const{scope:r,children:n}=e,i=aU(t,o(a,r).collectionRef);return ee.jsx(lU,{ref:i,children:n})}));l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=W.forwardRef(((e,t)=>{const{scope:r,children:n,...i}=e,s=W.useRef(null),a=aU(t,s),l=o(u,r);return W.useEffect((()=>(l.itemMap.set(s,{ref:s,...i}),()=>{l.itemMap.delete(s)}))),ee.jsx(lU,{[c]:"",ref:a,children:n})}));return d.displayName=u,[{Provider:s,Slot:l,ItemSlot:d},function(t){const r=o(e+"CollectionConsumer",t),n=W.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`)),n=Array.from(r.itemMap.values()).sort(((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current)));return n}),[r.collectionRef,r.itemMap]);return n},n]}function mj(e,t=globalThis?.document){const r=bU(e);H.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}e("aQ",hj("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]])),e("O",hj("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]])),e("Q",hj("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]])),e("W",hj("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]])),e("X",hj("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]])),e("aU",hj("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])),e("aT",hj("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])),e("a6",hj("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]])),e("$",hj("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])),e("aR",hj("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]])),e("aX",hj("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])),e("a0",hj("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])),e("Y",hj("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])),e("a1",hj("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])),e("a2",hj("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])),e("a4",hj("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])),e("a8",hj("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]])),e("aS",hj("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])),e("aZ",hj("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])),e("au",hj("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])),e("ag",hj("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])),e("aM",hj("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])),e("aL",hj("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])),e("a5",hj("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])),e("dq",hj("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]])),e("aW",hj("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])),e("ad",hj("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])),e("ah",hj("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]])),e("ai",hj("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]])),e("aj",hj("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]])),e("ak",hj("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]])),e("al",hj("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]])),e("am",hj("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]])),e("an",hj("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])),e("b1",hj("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]])),e("aw",hj("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]])),e("ao",hj("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]])),e("ap",hj("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])),e("aq",hj("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]])),e("a$",hj("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]])),e("b3",hj("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])),e("aK",hj("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])),e("as",hj("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])),e("av",hj("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])),e("aI",hj("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])),e("bV",hj("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])),e("aO",hj("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])),e("aN",hj("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])),e("ab",hj("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]])),e("aa",hj("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])),e("aY",hj("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])),e("at",hj("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])),e("b2",hj("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]])),e("b4",hj("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])),e("Z",hj("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]])),e("dn",hj("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])),e("ae",hj("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])),e("ax",hj("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]])),e("dp",hj("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])),e("K",hj("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])),e("_",hj("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]])),e("az",hj("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]])),e("a7",hj("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]])),e("ay",hj("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])),e("aA",hj("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])),e("aB",hj("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])),e("af",hj("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])),e("a_",hj("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])),e("aV",hj("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])),e("aC",hj("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]])),e("aD",hj("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]])),e("b5",hj("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]])),e("aE",hj("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]])),e("aF",hj("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])),e("aG",hj("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]])),e("ac",hj("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])),e("aH",hj("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])),e("aP",hj("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])),e("aJ",hj("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]])),e("a9",hj("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]])),e("b0",hj("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]])),e("ar",hj("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]])),e("a3",hj("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]));var gj,vj="dismissableLayer.update",yj="dismissableLayer.pointerDownOutside",_j="dismissableLayer.focusOutside",bj=H.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xj=H.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=H.useContext(bj),[c,d]=H.useState(null),h=c?.ownerDocument??globalThis?.document,[,f]=H.useState({}),p=aU(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=c?m.indexOf(c):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,x=function(e,t=globalThis?.document){const r=bU(e),n=H.useRef(!1),i=H.useRef((()=>{}));return H.useEffect((()=>{const e=e=>{if(e.target&&!n.current){let n=function(){Cj(yj,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,r=[...u.branches].some((e=>e.contains(t)));b&&!r&&(i?.(e),s?.(e),e.defaultPrevented||a?.())}),h),w=function(e,t=globalThis?.document){const r=bU(e),n=H.useRef(!1);return H.useEffect((()=>{const e=e=>{e.target&&!n.current&&Cj(_j,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(o?.(e),s?.(e),e.defaultPrevented||a?.())}),h);return mj((e=>{y===u.layers.size-1&&(n?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),H.useEffect((()=>{if(c)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(gj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Ej(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=gj)}}),[c,h,r,u]),H.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Ej())}),[c,u]),H.useEffect((()=>{const e=()=>f({});return document.addEventListener(vj,e),()=>document.removeEventListener(vj,e)}),[]),ee.jsx(fU.div,{...l,ref:p,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:CU(e.onFocusCapture,w.onFocusCapture),onBlurCapture:CU(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:CU(e.onPointerDownCapture,x.onPointerDownCapture)})}));xj.displayName="DismissableLayer";var wj=H.forwardRef(((e,t)=>{const r=H.useContext(bj),n=H.useRef(null),i=aU(t,n);return H.useEffect((()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),ee.jsx(fU.div,{...e,ref:i})}));function Ej(){const e=new CustomEvent(vj);document.dispatchEvent(e)}function Cj(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?pU(i,o):i.dispatchEvent(o)}wj.displayName="DismissableLayerBranch";var Sj=0;function Aj(){H.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tj()),document.body.insertAdjacentElement("beforeend",e[1]??Tj()),Sj++,()=>{1===Sj&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),Sj--}}),[])}function Tj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Dj="focusScope.autoFocusOnMount",kj="focusScope.autoFocusOnUnmount",Pj={bubbles:!1,cancelable:!0},Bj=H.forwardRef(((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=H.useState(null),u=bU(i),c=bU(o),d=H.useRef(null),h=aU(t,(e=>l(e))),f=H.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;H.useEffect((()=>{if(n){let e=function(e){if(f.paused||!a)return;const t=e.target;a.contains(t)?d.current=t:Mj(d.current,{select:!0})},t=function(e){if(f.paused||!a)return;const t=e.relatedTarget;null!==t&&(a.contains(t)||Mj(d.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Mj(a)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return a&&n.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}}),[n,a,f.paused]),H.useEffect((()=>{if(a){Ij.add(f);const e=document.activeElement;if(!a.contains(e)){const t=new CustomEvent(Dj,Pj);a.addEventListener(Dj,u),a.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Mj(n,{select:t}),document.activeElement!==r)return}(Rj(a).filter((e=>"A"!==e.tagName)),{select:!0}),document.activeElement===e&&Mj(a))}return()=>{a.removeEventListener(Dj,u),setTimeout((()=>{const t=new CustomEvent(kj,Pj);a.addEventListener(kj,c),a.dispatchEvent(t),t.defaultPrevented||Mj(e??document.body,{select:!0}),a.removeEventListener(kj,c),Ij.remove(f)}),0)}}}),[a,u,c,f]);const p=H.useCallback((e=>{if(!r&&!n)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[n,o]=function(e){const t=Rj(e),r=Oj(t,e),n=Oj(t.reverse(),e);return[r,n]}(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&Mj(o,{select:!0})):(e.preventDefault(),r&&Mj(n,{select:!0})):i===t&&e.preventDefault()}}),[r,n,f.paused]);return ee.jsx(fU.div,{tabIndex:-1,...s,ref:h,onKeyDown:p})}));function Rj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Oj(e,t){for(const r of e)if(!Fj(r,{upTo:t}))return r}function Fj(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Mj(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Bj.displayName="FocusScope";var Ij=function(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Nj(e,t),e.unshift(t)},remove(t){e=Nj(e,t),e[0]?.resume()}}}();function Nj(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var Lj=$["useId".toString()]||(()=>{}),Uj=0;function jj(e){const[t,r]=H.useState(Lj());return mU((()=>{e||r((e=>e??String(Uj++)))}),[e]),e||(t?`radix-${t}`:"")}const zj=["top","right","bottom","left"],Gj=Math.min,Vj=Math.max,Hj=Math.round,Wj=Math.floor,$j=e=>({x:e,y:e}),Yj={left:"right",right:"left",bottom:"top",top:"bottom"},Xj={start:"end",end:"start"};function qj(e,t,r){return Vj(e,Gj(t,r))}function Kj(e,t){return"function"==typeof e?e(t):e}function Zj(e){return e.split("-")[0]}function Qj(e){return e.split("-")[1]}function Jj(e){return"x"===e?"y":"x"}function ez(e){return"y"===e?"height":"width"}function tz(e){return["top","bottom"].includes(Zj(e))?"y":"x"}function rz(e){return Jj(tz(e))}function nz(e){return e.replace(/start|end/g,(e=>Xj[e]))}function iz(e){return e.replace(/left|right|bottom|top/g,(e=>Yj[e]))}function oz(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function sz(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function az(e,t,r){let{reference:n,floating:i}=e;const o=tz(t),s=rz(t),a=ez(s),l=Zj(t),u="y"===o,c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Qj(t)){case"start":f[s]-=h*(r&&u?-1:1);break;case"end":f[s]+=h*(r&&u?-1:1)}return f}async function lz(e,t){var r;void 0===t&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Kj(t,e),p=oz(f),m=a[h?"floating"===d?"reference":"floating":d],g=sz(await o.getClippingRect({element:null==(r=await(null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),_=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=sz(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/_.y,bottom:(b.bottom-g.bottom+p.bottom)/_.y,left:(g.left-b.left+p.left)/_.x,right:(b.right-g.right+p.right)/_.x}}function uz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cz(e){return zj.some((t=>e[t]>=0))}function dz(){return"undefined"!=typeof window}function hz(e){return mz(e)?(e.nodeName||"").toLowerCase():"#document"}function fz(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function pz(e){var t;return null==(t=(mz(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function mz(e){return!!dz()&&(e instanceof Node||e instanceof fz(e).Node)}function gz(e){return!!dz()&&(e instanceof Element||e instanceof fz(e).Element)}function vz(e){return!!dz()&&(e instanceof HTMLElement||e instanceof fz(e).HTMLElement)}function yz(e){return!(!dz()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof fz(e).ShadowRoot)}function _z(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Sz(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function bz(e){return["table","td","th"].includes(hz(e))}function xz(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(whe){return!1}}))}function wz(e){const t=Ez(),r=gz(e)?Sz(e):e;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function Ez(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Cz(e){return["html","body","#document"].includes(hz(e))}function Sz(e){return fz(e).getComputedStyle(e)}function Az(e){return gz(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tz(e){if("html"===hz(e))return e;const t=e.assignedSlot||e.parentNode||yz(e)&&e.host||pz(e);return yz(t)?t.host:t}function Dz(e){const t=Tz(e);return Cz(t)?e.ownerDocument?e.ownerDocument.body:e.body:vz(t)&&_z(t)?t:Dz(t)}function kz(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=Dz(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=fz(i);if(o){const e=Pz(s);return t.concat(s,s.visualViewport||[],_z(i)?i:[],e&&r?kz(e):[])}return t.concat(i,kz(i,[],r))}function Pz(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bz(e){const t=Sz(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=vz(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=Hj(r)!==o||Hj(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function Rz(e){return gz(e)?e:e.contextElement}function Oz(e){const t=Rz(e);if(!vz(t))return $j(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=Bz(t);let s=(o?Hj(r.width):r.width)/n,a=(o?Hj(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Fz=$j(0);function Mz(e){const t=fz(e);return Ez()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Fz}function Iz(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),o=Rz(e);let s=$j(1);t&&(n?gz(n)&&(s=Oz(n)):s=Oz(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==fz(e))&&t}(o,r,n)?Mz(o):$j(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const e=fz(o),t=n&&gz(n)?fz(n):n;let r=e,i=Pz(r);for(;i&&n&&t!==r;){const e=Oz(i),t=i.getBoundingClientRect(),n=Sz(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=s,r=fz(i),i=Pz(r)}}return sz({width:c,height:d,x:l,y:u})}function Nz(e){return Iz(pz(e)).left+Az(e).scrollLeft}function Lz(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=fz(e),n=pz(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=Ez();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=pz(e),r=Az(e),n=e.ownerDocument.body,i=Vj(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Vj(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Nz(e);const a=-r.scrollTop;return"rtl"===Sz(n).direction&&(s+=Vj(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}(pz(e));else if(gz(t))n=function(e,t){const r=Iz(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=vz(e)?Oz(e):$j(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{const r=Mz(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return sz(n)}function Uz(e,t){const r=Tz(e);return!(r===t||!gz(r)||Cz(r))&&("fixed"===Sz(r).position||Uz(r,t))}function jz(e,t,r){const n=vz(t),i=pz(t),o="fixed"===r,s=Iz(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=$j(0);if(n||!n&&!o)if(("body"!==hz(t)||_z(i))&&(a=Az(t)),n){const e=Iz(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Nz(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function zz(e){return"static"===Sz(e).position}function Gz(e,t){return vz(e)&&"fixed"!==Sz(e).position?t?t(e):e.offsetParent:null}function Vz(e,t){const r=fz(e);if(xz(e))return r;if(!vz(e)){let t=Tz(e);for(;t&&!Cz(t);){if(gz(t)&&!zz(t))return t;t=Tz(t)}return r}let n=Gz(e,t);for(;n&&bz(n)&&zz(n);)n=Gz(n,t);return n&&Cz(n)&&zz(n)&&!wz(n)?r:n||function(e){let t=Tz(e);for(;vz(t)&&!Cz(t);){if(wz(t))return t;if(xz(t))return null;t=Tz(t)}return null}(e)||r}const Hz={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o="fixed"===i,s=pz(n),a=!!t&&xz(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=$j(1);const c=$j(0),d=vz(n);if((d||!d&&!o)&&(("body"!==hz(n)||_z(s))&&(l=Az(n)),vz(n))){const e=Iz(n);u=Oz(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x,y:r.y*u.y-l.scrollTop*u.y+c.y}},getDocumentElement:pz,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o="clippingAncestors"===r?xz(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=kz(e,[],!1).filter((e=>gz(e)&&"body"!==hz(e))),i=null;const o="fixed"===Sz(e).position;let s=o?Tz(e):e;for(;gz(s)&&!Cz(s);){const t=Sz(s),r=wz(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||_z(s)&&!r&&Uz(e,s))?n=n.filter((e=>e!==s)):i=t,s=Tz(s)}return t.set(e,n),n}(t,this._c):[].concat(r),s=[...o,n],a=s[0],l=s.reduce(((e,r)=>{const n=Lz(t,r,i);return e.top=Vj(n.top,e.top),e.right=Gj(n.right,e.right),e.bottom=Gj(n.bottom,e.bottom),e.left=Vj(n.left,e.left),e}),Lz(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Vz,getElementRects:async function(e){const t=this.getOffsetParent||Vz,r=this.getDimensions,n=await r(e.floating);return{reference:jz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Bz(e);return{width:t,height:r}},getScale:Oz,isElement:gz,isRTL:function(e){return"rtl"===Sz(e).direction}};function Wz(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,u=Rz(e),c=i||o?[...u?kz(u):[],...kz(t)]:[];c.forEach((e=>{i&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)}));const d=u&&a?function(e,t){let r,n=null;const i=pz(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const{left:u,top:c,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const f={rootMargin:-Wj(c)+"px "+-Wj(i.clientWidth-(u+d))+"px "+-Wj(i.clientHeight-(c+h))+"px "+-Wj(u)+"px",threshold:Vj(0,Gj(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}p=!1}try{n=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(whe){n=new IntersectionObserver(m,f)}n.observe(e)}(!0),o}(u,r):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[n]=e;n&&n.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),r()})),u&&!l&&p.observe(u),p.observe(t));let m=l?Iz(e):null;return l&&function t(){const n=Iz(e);!m||n.x===m.x&&n.y===m.y&&n.width===m.width&&n.height===m.height||r(),m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;c.forEach((e=>{i&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const $z=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:r,platform:n,elements:i}=e,o=await(null==n.isRTL?void 0:n.isRTL(i.floating)),s=Zj(r),a=Qj(r),l="y"===tz(r),u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=Kj(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Yz=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=Kj(e,t),u={x:r,y:n},c=await lz(t,l),d=tz(Zj(i)),h=Jj(d);let f=u[h],p=u[d];if(o){const e="y"===h?"bottom":"right";f=qj(f+c["y"===h?"top":"left"],f,f-c[e])}if(s){const e="y"===d?"bottom":"right";p=qj(p+c["y"===d?"top":"left"],p,p-c[e])}const m=a.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-r,y:m.y-n}}}}},Xz=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Kj(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const v=Zj(i),y=tz(a),_=Zj(a)===a,b=await(null==l.isRTL?void 0:l.isRTL(u.floating)),x=h||(_||!m?[iz(a)]:function(e){const t=iz(e);return[nz(e),t,nz(t)]}(a)),w="none"!==p;!h&&w&&x.push(...function(e,t,r,n){const i=Qj(e);let o=function(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:s;default:return[]}}(Zj(e),"start"===r,n);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(nz)))),o}(a,m,p,b));const E=[a,...x],C=await lz(t,g),S=[];let A=(null==(n=o.flip)?void 0:n.overflows)||[];if(c&&S.push(C[v]),d){const e=function(e,t,r){void 0===r&&(r=!1);const n=Qj(e),i=rz(e),o=ez(i);let s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=iz(s)),[s,iz(s)]}(i,s,b);S.push(C[e[0]],C[e[1]])}if(A=[...A,{placement:i,overflows:S}],!S.every((e=>e<=0))){var T,D;const e=((null==(T=o.flip)?void 0:T.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let r=null==(D=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:D.placement;if(!r)switch(f){case"bestFit":{var k;const e=null==(k=A.filter((e=>{if(w){const t=tz(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(r=e);break}case"initialPlacement":r=a}if(i!==r)return{reset:{placement:r}}}return{}}}},qz=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:r,rects:n,platform:i,elements:o}=t,{apply:s=(()=>{}),...a}=Kj(e,t),l=await lz(t,a),u=Zj(r),c=Qj(r),d="y"===tz(r),{width:h,height:f}=n.floating;let p,m;"top"===u||"bottom"===u?(p=u,m=c===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=u,p="end"===c?"top":"bottom");const g=f-l.top-l.bottom,v=h-l.left-l.right,y=Gj(f-l[p],g),_=Gj(h-l[m],v),b=!t.middlewareData.shift;let x=y,w=_;if(d?w=c||b?Gj(_,v):v:x=c||b?Gj(y,g):g,b&&!c){const e=Vj(l.left,0),t=Vj(l.right,0),r=Vj(l.top,0),n=Vj(l.bottom,0);d?w=h-2*(0!==e||0!==t?e+t:Vj(l.left,l.right)):x=f-2*(0!==r||0!==n?r+n:Vj(l.top,l.bottom))}await s({...t,availableWidth:w,availableHeight:x});const E=await i.getDimensions(o.floating);return h!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}},Kz=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Kj(e,t);switch(n){case"referenceHidden":{const e=uz(await lz(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:cz(e)}}}case"escaped":{const e=uz(await lz(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:cz(e)}}}default:return{}}}}},Zz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Kj(e,t)||{};if(null==u)return{};const d=oz(c),h={x:r,y:n},f=rz(i),p=ez(f),m=await s.getDimensions(u),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",_=g?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[f]-h[f]-o.floating[p],x=h[f]-o.reference[f],w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let E=w?w[_]:0;E&&await(null==s.isElement?void 0:s.isElement(w))||(E=a.floating[_]||o.floating[p]);const C=b/2-x/2,S=E/2-m[p]/2-1,A=Gj(d[v],S),T=Gj(d[y],S),D=A,k=E-m[p]-T,P=E/2-m[p]/2+C,B=qj(D,P,k),R=!l.arrow&&null!=Qj(i)&&P!==B&&o.reference[p]/2-(P<D?A:T)-m[p]/2<0,O=R?P<D?P-D:P-k:0;return{[f]:h[f]+O,data:{[f]:B,centerOffset:P-B-O,...R&&{alignmentOffset:O}},reset:R}}}),Qz=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Kj(e,t),c={x:r,y:n},d=tz(i),h=Jj(d);let f=c[h],p=c[d];const m=Kj(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,r=o.reference[h]+o.reference[e]-g.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(Zj(i)),r=o.reference[d]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[h]:f,[d]:p}}}},Jz=(e,t,r)=>{const n=new Map,i={platform:Hz,...r},o={...i.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=az(u,n,l),h=n,f={},p=0;for(let m=0;m<a.length;m++){const{name:r,fn:o}=a[m],{x:g,y:v,data:y,reset:_}=await o({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=v?v:d,f={...f,[r]:{...f[r],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(h=_.placement),_.rects&&(u=!0===_.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),({x:c,y:d}=az(u,h,l))),m=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var eG="undefined"!=typeof document?H.useLayoutEffect:H.useEffect;function tG(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!=n--;)if(!tG(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){const r=i[n];if(!("_owner"===r&&e.$$typeof||tG(e[r],t[r])))return!1}return!0}return e!=e&&t!=t}function rG(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nG(e,t){const r=rG(e);return Math.round(t*r)/r}function iG(e){const t=H.useRef(e);return eG((()=>{t.current=e})),t}function oG(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=H.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=H.useState(n);tG(h,n)||f(n);const[p,m]=H.useState(null),[g,v]=H.useState(null),y=H.useCallback((e=>{e!==w.current&&(w.current=e,m(e))}),[]),_=H.useCallback((e=>{e!==E.current&&(E.current=e,v(e))}),[]),b=o||p,x=s||g,w=H.useRef(null),E=H.useRef(null),C=H.useRef(c),S=null!=l,A=iG(l),T=iG(i),D=iG(u),k=H.useCallback((()=>{if(!w.current||!E.current)return;const e={placement:t,strategy:r,middleware:h};T.current&&(e.platform=T.current),Jz(w.current,E.current,e).then((e=>{const t={...e,isPositioned:!1!==D.current};P.current&&!tG(C.current,t)&&(C.current=t,ld.flushSync((()=>{d(t)})))}))}),[h,t,r,T,D]);eG((()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[u]);const P=H.useRef(!1);eG((()=>(P.current=!0,()=>{P.current=!1})),[]),eG((()=>{if(b&&(w.current=b),x&&(E.current=x),b&&x){if(A.current)return A.current(b,x,k);k()}}),[b,x,k,A,S]);const B=H.useMemo((()=>({reference:w,floating:E,setReference:y,setFloating:_})),[y,_]),R=H.useMemo((()=>({reference:b,floating:x})),[b,x]),O=H.useMemo((()=>{const e={position:r,left:0,top:0};if(!R.floating)return e;const t=nG(R.floating,c.x),n=nG(R.floating,c.y);return a?{...e,transform:"translate("+t+"px, "+n+"px)",...rG(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,a,R.floating,c.x,c.y]);return H.useMemo((()=>({...c,update:k,refs:B,elements:R,floatingStyles:O})),[c,k,B,R,O])}const sG=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(i=r,{}.hasOwnProperty.call(i,"current"))?null!=r.current?Zz({element:r.current,padding:n}).fn(t):{}:r?Zz({element:r,padding:n}).fn(t):{};var i}}),aG=e("df",((e,t)=>({...$z(e),options:[e,t]}))),lG=(e,t)=>({...Yz(e),options:[e,t]}),uG=(e,t)=>({...Qz(e),options:[e,t]}),cG=e("dg",((e,t)=>({...Xz(e),options:[e,t]}))),dG=(e,t)=>({...qz(e),options:[e,t]}),hG=(e,t)=>({...Kz(e),options:[e,t]}),fG=(e,t)=>({...sG(e),options:[e,t]});var pG=H.forwardRef(((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return ee.jsx(fU.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:ee.jsx("polygon",{points:"0,0 30,0 15,10"})})}));pG.displayName="Arrow";var mG=pG;function gG(e){const[t,r]=H.useState(void 0);return mU((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}var vG="Popper",[yG,_G]=yU(vG),[bG,xG]=yG(vG),wG=e=>{const{__scopePopper:t,children:r}=e,[n,i]=H.useState(null);return ee.jsx(bG,{scope:t,anchor:n,onAnchorChange:i,children:r})};wG.displayName=vG;var EG="PopperAnchor",CG=H.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=xG(EG,r),s=H.useRef(null),a=aU(t,s);return H.useEffect((()=>{o.onAnchorChange(n?.current||s.current)})),n?null:ee.jsx(fU.div,{...i,ref:a})}));CG.displayName=EG;var SG="PopperContent",[AG,TG]=yG(SG),DG=H.forwardRef(((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=e,g=xG(SG,r),[v,y]=H.useState(null),_=aU(t,(e=>y(e))),[b,x]=H.useState(null),w=gG(b),E=w?.width??0,C=w?.height??0,S=n+("center"!==o?"-"+o:""),A="number"==typeof c?c:{top:0,right:0,bottom:0,left:0,...c},T=Array.isArray(u)?u:[u],D=T.length>0,k={padding:A,boundary:T.filter(RG),altBoundary:D},{refs:P,floatingStyles:B,placement:R,isPositioned:O,middlewareData:F}=oG({strategy:"fixed",placement:S,whileElementsMounted:(...e)=>Wz(...e,{animationFrame:"always"===f}),elements:{reference:g.anchor},middleware:[aG({mainAxis:i+C,alignmentAxis:s}),l&&lG({mainAxis:!0,crossAxis:!1,limiter:"partial"===d?uG():void 0,...k}),l&&cG({...k}),dG({...k,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}}),b&&fG({element:b,padding:a}),OG({arrowWidth:E,arrowHeight:C}),h&&hG({strategy:"referenceHidden",...k})]}),[M,I]=FG(R),N=bU(p);mU((()=>{O&&N?.()}),[O,N]);const L=F.arrow?.x,U=F.arrow?.y,j=0!==F.arrow?.centerOffset,[z,G]=H.useState();return mU((()=>{v&&G(window.getComputedStyle(v).zIndex)}),[v]),ee.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:O?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:ee.jsx(AG,{scope:r,placedSide:M,onArrowChange:x,arrowX:L,arrowY:U,shouldHideArrow:j,children:ee.jsx(fU.div,{"data-side":M,"data-align":I,...m,ref:_,style:{...m.style,animation:O?void 0:"none"}})})})}));DG.displayName=SG;var kG="PopperArrow",PG={top:"bottom",right:"left",bottom:"top",left:"right"},BG=H.forwardRef((function(e,t){const{__scopePopper:r,...n}=e,i=TG(kG,r),o=PG[i.placedSide];return ee.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:ee.jsx(mG,{...n,ref:t,style:{...n.style,display:"block"}})})}));function RG(e){return null!==e}BG.displayName=kG;var OG=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,u]=FG(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+a/2;let f="",p="";return"bottom"===l?(f=o?c:`${d}px`,p=-a+"px"):"top"===l?(f=o?c:`${d}px`,p=`${n.floating.height+a}px`):"right"===l?(f=-a+"px",p=o?c:`${h}px`):"left"===l&&(f=`${n.floating.width+a}px`,p=o?c:`${h}px`),{data:{x:f,y:p}}}});function FG(e){const[t,r="center"]=e.split("-");return[t,r]}var MG=wG,IG=CG,NG=DG,LG=BG,UG=H.forwardRef(((e,t)=>{const{container:r,...n}=e,[i,o]=H.useState(!1);mU((()=>o(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?ud.createPortal(ee.jsx(fU.div,{...n,ref:t}),s):null}));UG.displayName="Portal";var jG="rovingFocusGroup.onEntryFocus",zG={bubbles:!1,cancelable:!0},GG="RovingFocusGroup",[VG,HG,WG]=pj(GG),[$G,YG]=yU(GG,[WG]),[XG,qG]=$G(GG),KG=H.forwardRef(((e,t)=>ee.jsx(VG.Provider,{scope:e.__scopeRovingFocusGroup,children:ee.jsx(VG.Slot,{scope:e.__scopeRovingFocusGroup,children:ee.jsx(ZG,{...e,ref:t})})})));KG.displayName=GG;var ZG=H.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=e,h=H.useRef(null),f=aU(t,h),p=wU(o),[m=null,g]=fj({prop:s,defaultProp:a,onChange:l}),[v,y]=H.useState(!1),_=bU(u),b=HG(r),x=H.useRef(!1),[w,E]=H.useState(0);return H.useEffect((()=>{const e=h.current;if(e)return e.addEventListener(jG,_),()=>e.removeEventListener(jG,_)}),[_]),ee.jsx(XG,{scope:r,orientation:n,dir:p,loop:i,currentTabStopId:m,onItemFocus:H.useCallback((e=>g(e)),[g]),onItemShiftTab:H.useCallback((()=>y(!0)),[]),onFocusableItemAdd:H.useCallback((()=>E((e=>e+1))),[]),onFocusableItemRemove:H.useCallback((()=>E((e=>e-1))),[]),children:ee.jsx(fU.div,{tabIndex:v||0===w?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...e.style},onMouseDown:CU(e.onMouseDown,(()=>{x.current=!0})),onFocus:CU(e.onFocus,(e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(jG,zG);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter((e=>e.focusable));tV([e.find((e=>e.active)),e.find((e=>e.id===m)),...e].filter(Boolean).map((e=>e.ref.current)),c)}}x.current=!1})),onBlur:CU(e.onBlur,(()=>y(!1)))})})})),QG="RovingFocusGroupItem",JG=H.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,...s}=e,a=jj(),l=o||a,u=qG(QG,r),c=u.currentTabStopId===l,d=HG(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return H.useEffect((()=>{if(n)return h(),()=>f()}),[n,h,f]),ee.jsx(VG.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:ee.jsx(fU.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:CU(e.onMouseDown,(e=>{n?u.onItemFocus(l):e.preventDefault()})),onFocus:CU(e.onFocus,(()=>u.onItemFocus(l))),onKeyDown:CU(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:eV[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=d().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const o=i.indexOf(e.currentTarget);i=u.loop?(n=o+1,(r=i).map(((e,t)=>r[(n+t)%r.length]))):i.slice(o+1)}setTimeout((()=>tV(i)))}var r,n}))})})}));JG.displayName=QG;var eV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tV(e,t=!1){const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var rV=KG,nV=JG,iV=new WeakMap,oV=new WeakMap,sV={},aV=0,lV=function(e){return e&&(e.host||lV(e.parentNode))},uV=function(e,t,r,n){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var r=lV(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);sV[r]||(sV[r]=new WeakMap);var o=sV[r],s=[],a=new Set,l=new Set(i),u=function(e){e&&!a.has(e)&&(a.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))c(e);else{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(iV.get(e)||0)+1,u=(o.get(e)||0)+1;iV.set(e,l),o.set(e,u),s.push(e),1===l&&i&&oV.set(e,!0),1===u&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}}))};return c(t),a.clear(),aV++,function(){s.forEach((function(e){var t=iV.get(e)-1,i=o.get(e)-1;iV.set(e,t),o.set(e,i),t||(oV.has(e)||e.removeAttribute(n),oV.delete(e)),i||e.removeAttribute(r)})),--aV||(iV=new WeakMap,iV=new WeakMap,oV=new WeakMap,sV={})}},cV=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),uV(n,i,r,"aria-hidden")):function(){return null}},dV=function(){return dV=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dV.apply(this,arguments)};function hV(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function fV(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var pV="right-scroll-bar-position",mV="width-before-scroll-bar";function gV(e,t){return r=t||null,n=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},i=H.useState((function(){return{value:r,callback:n,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0],i.callback=n,i.facade;var r,n,i}function vV(e){return e}function yV(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=vV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),r={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),r}}}};return i}(null);return t.options=dV({async:!0,ssr:!1},e),t}var _V=function(e){var t=e.sideCar,r=hV(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return H.createElement(n,dV({},r))};function bV(e,t){return e.useMedium(t),_V}_V.isSideCarExport=!0;var xV=yV(),wV=function(){},EV=H.forwardRef((function(e,t){var r=H.useRef(null),n=H.useState({onScrollCapture:wV,onWheelCapture:wV,onTouchMoveCapture:wV}),i=n[0],o=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=e.gapMode,_=hV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,x=gV([r,t]),w=dV(dV({},_),i);return H.createElement(H.Fragment,null,c&&H.createElement(b,{sideCar:xV,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?H.cloneElement(H.Children.only(a),dV(dV({},w),{ref:x})):H.createElement(v,dV({},w,{className:l,ref:x}),a))}));function CV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}EV.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},EV.classNames={fullWidth:mV,zeroRight:pV};var SV=function(){var e=0,t=null;return{add:function(r){var n,i;0==e&&(t=CV())&&(i=r,(n=t).styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AV=function(){var e,t=(e=SV(),function(t,r){H.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},TV={left:0,top:0,right:0,gap:0},DV=function(e){return parseInt(e||"",10)||0},kV=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return TV;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[DV(r),DV(n),DV(i)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PV=AV(),BV="data-scroll-locked",RV=function(e,t,r,n){var i=e.left,o=e.top,s=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(BV,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(pV," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(mV," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(pV," .").concat(pV," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(mV," .").concat(mV," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(BV,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},OV=function(){var e=parseInt(document.body.getAttribute(BV)||"0",10);return isFinite(e)?e:0},FV=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;H.useEffect((function(){return document.body.setAttribute(BV,(OV()+1).toString()),function(){var e=OV()-1;e<=0?document.body.removeAttribute(BV):document.body.setAttribute(BV,e.toString())}}),[]);var o=H.useMemo((function(){return kV(i)}),[i]);return H.createElement(PV,{styles:RV(o,!t,i,r?"":"!important")})},MV=!1;if("undefined"!=typeof window)try{var IV=Object.defineProperty({},"passive",{get:function(){return MV=!0,!0}});window.addEventListener("test",IV,IV),window.removeEventListener("test",IV,IV)}catch(rCe){MV=!1}var NV=!!MV&&{passive:!1},LV=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},UV=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),jV(e,n)){var i=zV(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jV=function(e,t){return"v"===e?function(e){return LV(e,"overflowY")}(t):function(e){return LV(e,"overflowX")}(t)},zV=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},GV=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VV=function(e){return[e.deltaX,e.deltaY]},HV=function(e){return e&&"current"in e?e.current:e},WV=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},$V=0,YV=[];function XV(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qV=bV(xV,(function(e){var t=H.useRef([]),r=H.useRef([0,0]),n=H.useRef(),i=H.useState($V++)[0],o=H.useState(AV)[0],s=H.useRef(e);H.useEffect((function(){s.current=e}),[e]),H.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=fV([e.lockRef.current],(e.shards||[]).map(HV),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=H.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=GV(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=UV(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=UV(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var f=n.current||i;return function(e,t,r,n,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=zV(e,a),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&jV(e,a)&&(d+=m,h+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&Math.abs(d)<1||!i&&s>d)||!c&&(i&&Math.abs(h)<1||!i&&-s>h))&&(u=!0),u}(f,t,e,"h"===f?l:u,!0)}),[]),l=H.useCallback((function(e){var r=e;if(YV.length&&YV[YV.length-1]===o){var n="deltaY"in r?VV(r):GV(r),i=t.current.filter((function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)}))[0];if(i&&i.should)r.cancelable&&r.preventDefault();else if(!i){var l=(s.current.shards||[]).map(HV).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?a(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}}),[]),u=H.useCallback((function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:XV(n)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=H.useCallback((function(e){r.current=GV(e),n.current=void 0}),[]),d=H.useCallback((function(t){u(t.type,VV(t),t.target,a(t,e.lockRef.current))}),[]),h=H.useCallback((function(t){u(t.type,GV(t),t.target,a(t,e.lockRef.current))}),[]);H.useEffect((function(){return YV.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,NV),document.addEventListener("touchmove",l,NV),document.addEventListener("touchstart",c,NV),function(){YV=YV.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,NV),document.removeEventListener("touchmove",l,NV),document.removeEventListener("touchstart",c,NV)}}),[]);var f=e.removeScrollBar,p=e.inert;return H.createElement(H.Fragment,null,p?H.createElement(o,{styles:WV(i)}):null,f?H.createElement(FV,{gapMode:e.gapMode}):null)}));var KV=H.forwardRef((function(e,t){return H.createElement(EV,dV({},e,{ref:t,sideCar:qV}))}));KV.classNames=EV.classNames;const ZV=KV;var QV=["Enter"," "],JV=["ArrowUp","PageDown","End"],eH=["ArrowDown","PageUp","Home",...JV],tH={ltr:[...QV,"ArrowRight"],rtl:[...QV,"ArrowLeft"]},rH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nH="Menu",[iH,oH,sH]=pj(nH),[aH,lH]=yU(nH,[sH,_G,YG]),uH=_G(),cH=YG(),[dH,hH]=aH(nH),[fH,pH]=aH(nH),mH=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:s=!0}=e,a=uH(t),[l,u]=H.useState(null),c=H.useRef(!1),d=bU(o),h=wU(i);return H.useEffect((()=>{const e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),ee.jsx(MG,{...a,children:ee.jsx(dH,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:ee.jsx(fH,{scope:t,onClose:H.useCallback((()=>d(!1)),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};mH.displayName=nH;var gH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=uH(r);return ee.jsx(IG,{...i,...n,ref:t})}));gH.displayName="MenuAnchor";var vH="MenuPortal",[yH,_H]=aH(vH,{forceMount:void 0}),bH=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=hH(vH,t);return ee.jsx(yH,{scope:t,forceMount:r,children:ee.jsx(gU,{present:r||o.open,children:ee.jsx(UG,{asChild:!0,container:i,children:n})})})};bH.displayName=vH;var xH="MenuContent",[wH,EH]=aH(xH),CH=H.forwardRef(((e,t)=>{const r=_H(xH,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=hH(xH,e.__scopeMenu),s=pH(xH,e.__scopeMenu);return ee.jsx(iH.Provider,{scope:e.__scopeMenu,children:ee.jsx(gU,{present:n||o.open,children:ee.jsx(iH.Slot,{scope:e.__scopeMenu,children:s.modal?ee.jsx(SH,{...i,ref:t}):ee.jsx(AH,{...i,ref:t})})})})})),SH=H.forwardRef(((e,t)=>{const r=hH(xH,e.__scopeMenu),n=H.useRef(null),i=aU(t,n);return H.useEffect((()=>{const e=n.current;if(e)return cV(e)}),[]),ee.jsx(TH,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:CU(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),AH=H.forwardRef(((e,t)=>{const r=hH(xH,e.__scopeMenu);return ee.jsx(TH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})})),TH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...m}=e,g=hH(xH,r),v=pH(xH,r),y=uH(r),_=cH(r),b=oH(r),[x,w]=H.useState(null),E=H.useRef(null),C=aU(t,E,g.onContentChange),S=H.useRef(0),A=H.useRef(""),T=H.useRef(0),D=H.useRef(null),k=H.useRef("right"),P=H.useRef(0),B=p?ZV:H.Fragment,R=p?{as:lU,allowPinchZoom:!0}:void 0,O=e=>{const t=A.current+e,r=b().filter((e=>!e.disabled)),n=document.activeElement,i=r.find((e=>e.ref.current===n))?.textValue,o=function(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0])),i=n?t[0]:t,o=r?e.indexOf(r):-1;let s=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===i.length&&(s=s.filter((e=>e!==r)));const u=s.find((e=>e.toLowerCase().startsWith(i.toLowerCase())));return u!==r?u:void 0}(r.map((e=>e.textValue)),t,i),s=r.find((e=>e.textValue===o))?.ref.current;!function e(t){A.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout((()=>e("")),1e3))}(t),s&&setTimeout((()=>s.focus()))};H.useEffect((()=>()=>window.clearTimeout(S.current)),[]),Aj();const F=H.useCallback((e=>k.current===D.current?.side&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,t)}(e,D.current?.area)),[]);return ee.jsx(wH,{scope:r,searchRef:A,onItemEnter:H.useCallback((e=>{F(e)&&e.preventDefault()}),[F]),onItemLeave:H.useCallback((e=>{F(e)||(E.current?.focus(),w(null))}),[F]),onTriggerLeave:H.useCallback((e=>{F(e)&&e.preventDefault()}),[F]),pointerGraceTimerRef:T,onPointerGraceIntentChange:H.useCallback((e=>{D.current=e}),[]),children:ee.jsx(B,{...R,children:ee.jsx(Bj,{asChild:!0,trapped:i,onMountAutoFocus:CU(o,(e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:ee.jsx(xj,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:ee.jsx(rV,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:w,onEntryFocus:CU(l,(e=>{v.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:ee.jsx(NG,{role:"menu","aria-orientation":"vertical","data-state":tW(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:CU(m.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&O(e.key));const i=E.current;if(e.target!==i)return;if(!eH.includes(e.key))return;e.preventDefault();const o=b().filter((e=>!e.disabled)).map((e=>e.ref.current));JV.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)})),onBlur:CU(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),A.current="")})),onPointerMove:CU(e.onPointerMove,iW((e=>{const t=e.target,r=P.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>P.current?"right":"left";k.current=t,P.current=e.clientX}})))})})})})})})}));CH.displayName=xH;var DH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{role:"group",...n,ref:t})}));DH.displayName="MenuGroup";var kH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{...n,ref:t})}));kH.displayName="MenuLabel";var PH="MenuItem",BH="menu.itemSelect",RH=H.forwardRef(((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=H.useRef(null),s=pH(PH,e.__scopeMenu),a=EH(PH,e.__scopeMenu),l=aU(t,o),u=H.useRef(!1);return ee.jsx(OH,{...i,ref:l,disabled:r,onClick:CU(e.onClick,(()=>{const e=o.current;if(!r&&e){const t=new CustomEvent(BH,{bubbles:!0,cancelable:!0});e.addEventListener(BH,(e=>n?.(e)),{once:!0}),pU(e,t),t.defaultPrevented?u.current=!1:s.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:CU(e.onPointerUp,(e=>{u.current||e.currentTarget?.click()})),onKeyDown:CU(e.onKeyDown,(e=>{const t=""!==a.searchRef.current;r||t&&" "===e.key||QV.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));RH.displayName=PH;var OH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,s=EH(PH,r),a=cH(r),l=H.useRef(null),u=aU(t,l),[c,d]=H.useState(!1),[h,f]=H.useState("");return H.useEffect((()=>{const e=l.current;e&&f((e.textContent??"").trim())}),[o.children]),ee.jsx(iH.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:ee.jsx(nV,{asChild:!0,...a,focusable:!n,children:ee.jsx(fU.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:CU(e.onPointerMove,iW((e=>{n?s.onItemLeave(e):(s.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))}))),onPointerLeave:CU(e.onPointerLeave,iW((e=>s.onItemLeave(e)))),onFocus:CU(e.onFocus,(()=>d(!0))),onBlur:CU(e.onBlur,(()=>d(!1)))})})})})),FH=H.forwardRef(((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return ee.jsx(GH,{scope:e.__scopeMenu,checked:r,children:ee.jsx(RH,{role:"menuitemcheckbox","aria-checked":rW(r)?"mixed":r,...i,ref:t,"data-state":nW(r),onSelect:CU(i.onSelect,(()=>n?.(!!rW(r)||!r)),{checkForDefaultPrevented:!1})})})}));FH.displayName="MenuCheckboxItem";var MH="MenuRadioGroup",[IH,NH]=aH(MH,{value:void 0,onValueChange:()=>{}}),LH=H.forwardRef(((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=bU(n);return ee.jsx(IH,{scope:e.__scopeMenu,value:r,onValueChange:o,children:ee.jsx(DH,{...i,ref:t})})}));LH.displayName=MH;var UH="MenuRadioItem",jH=H.forwardRef(((e,t)=>{const{value:r,...n}=e,i=NH(UH,e.__scopeMenu),o=r===i.value;return ee.jsx(GH,{scope:e.__scopeMenu,checked:o,children:ee.jsx(RH,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":nW(o),onSelect:CU(n.onSelect,(()=>i.onValueChange?.(r)),{checkForDefaultPrevented:!1})})})}));jH.displayName=UH;var zH="MenuItemIndicator",[GH,VH]=aH(zH,{checked:!1}),HH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=VH(zH,r);return ee.jsx(gU,{present:n||rW(o.checked)||!0===o.checked,children:ee.jsx(fU.span,{...i,ref:t,"data-state":nW(o.checked)})})}));HH.displayName=zH;var WH=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})}));WH.displayName="MenuSeparator";var $H=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=uH(r);return ee.jsx(LG,{...i,...n,ref:t})}));$H.displayName="MenuArrow";var YH="MenuSub",[XH,qH]=aH(YH),KH=e=>{const{__scopeMenu:t,children:r,open:n=!1,onOpenChange:i}=e,o=hH(YH,t),s=uH(t),[a,l]=H.useState(null),[u,c]=H.useState(null),d=bU(i);return H.useEffect((()=>(!1===o.open&&d(!1),()=>d(!1))),[o.open,d]),ee.jsx(MG,{...s,children:ee.jsx(dH,{scope:t,open:n,onOpenChange:d,content:u,onContentChange:c,children:ee.jsx(XH,{scope:t,contentId:jj(),triggerId:jj(),trigger:a,onTriggerChange:l,children:r})})})};KH.displayName=YH;var ZH="MenuSubTrigger",QH=H.forwardRef(((e,t)=>{const r=hH(ZH,e.__scopeMenu),n=pH(ZH,e.__scopeMenu),i=qH(ZH,e.__scopeMenu),o=EH(ZH,e.__scopeMenu),s=H.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},c=H.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return H.useEffect((()=>c),[c]),H.useEffect((()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}}),[a,l]),ee.jsx(gH,{asChild:!0,...u,children:ee.jsx(OH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":tW(r.open),...e,ref:sU(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:CU(e.onPointerMove,iW((t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||s.current||(o.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{r.onOpenChange(!0),c()}),100))}))),onPointerLeave:CU(e.onPointerLeave,iW((e=>{c();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,i="right"===n,s=i?-5:5,l=t[i?"left":"right"],u=t[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:l,y:t.top},{x:u,y:t.top},{x:u,y:t.bottom},{x:l,y:t.bottom}],side:n}),window.clearTimeout(a.current),a.current=window.setTimeout((()=>o.onPointerGraceIntentChange(null)),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}}))),onKeyDown:CU(e.onKeyDown,(t=>{const i=""!==o.searchRef.current;e.disabled||i&&" "===t.key||tH[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));QH.displayName=ZH;var JH="MenuSubContent",eW=H.forwardRef(((e,t)=>{const r=_H(xH,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=hH(xH,e.__scopeMenu),s=pH(xH,e.__scopeMenu),a=qH(JH,e.__scopeMenu),l=H.useRef(null),u=aU(t,l);return ee.jsx(iH.Provider,{scope:e.__scopeMenu,children:ee.jsx(gU,{present:n||o.open,children:ee.jsx(iH.Slot,{scope:e.__scopeMenu,children:ee.jsx(TH,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{s.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:CU(e.onFocusOutside,(e=>{e.target!==a.trigger&&o.onOpenChange(!1)})),onEscapeKeyDown:CU(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:CU(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),r=rH[s.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())}))})})})})}));function tW(e){return e?"open":"closed"}function rW(e){return"indeterminate"===e}function nW(e){return rW(e)?"indeterminate":e?"checked":"unchecked"}function iW(e){return t=>"mouse"===t.pointerType?e(t):void 0}eW.displayName=JH;var oW=mH,sW=gH,aW=bH,lW=CH,uW=DH,cW=kH,dW=RH,hW=FH,fW=LH,pW=jH,mW=HH,gW=WH,vW=$H,yW=KH,_W=QH,bW=eW,xW="DropdownMenu",[wW,EW]=yU(xW,[lH]),CW=lH(),[SW,AW]=wW(xW),TW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=CW(t),u=H.useRef(null),[c=!1,d]=fj({prop:i,defaultProp:o,onChange:s});return ee.jsx(SW,{scope:t,triggerId:jj(),triggerRef:u,contentId:jj(),open:c,onOpenChange:d,onOpenToggle:H.useCallback((()=>d((e=>!e))),[d]),modal:a,children:ee.jsx(oW,{...l,open:c,onOpenChange:d,dir:n,modal:a,children:r})})};TW.displayName=xW;var DW="DropdownMenuTrigger",kW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,o=AW(DW,r),s=CW(r);return ee.jsx(sW,{asChild:!0,...s,children:ee.jsx(fU.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:sU(t,o.triggerRef),onPointerDown:CU(e.onPointerDown,(e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())})),onKeyDown:CU(e.onKeyDown,(e=>{n||(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})})}));kW.displayName=DW;var PW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=CW(t);return ee.jsx(aW,{...n,...r})};PW.displayName="DropdownMenuPortal";var BW="DropdownMenuContent",RW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=AW(BW,r),o=CW(r),s=H.useRef(!1);return ee.jsx(lW,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...n,ref:t,onCloseAutoFocus:CU(e.onCloseAutoFocus,(e=>{s.current||i.triggerRef.current?.focus(),s.current=!1,e.preventDefault()})),onInteractOutside:CU(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;i.modal&&!n||(s.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));RW.displayName=BW,H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(uW,{...i,...n,ref:t})})).displayName="DropdownMenuGroup";var OW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(cW,{...i,...n,ref:t})}));OW.displayName="DropdownMenuLabel";var FW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(dW,{...i,...n,ref:t})}));FW.displayName="DropdownMenuItem";var MW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(hW,{...i,...n,ref:t})}));MW.displayName="DropdownMenuCheckboxItem",H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(fW,{...i,...n,ref:t})})).displayName="DropdownMenuRadioGroup";var IW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(pW,{...i,...n,ref:t})}));IW.displayName="DropdownMenuRadioItem";var NW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(mW,{...i,...n,ref:t})}));NW.displayName="DropdownMenuItemIndicator";var LW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(gW,{...i,...n,ref:t})}));LW.displayName="DropdownMenuSeparator",H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(vW,{...i,...n,ref:t})})).displayName="DropdownMenuArrow";var UW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(_W,{...i,...n,ref:t})}));UW.displayName="DropdownMenuSubTrigger";var jW=H.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=CW(r);return ee.jsx(bW,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));function zW(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}jW.displayName="DropdownMenuSubContent",e("bj",TW),e("bk",kW),e("b9",PW),e("ba",RW),e("bh",OW),e("bb",FW),e("bc",MW),e("bf",IW),e("bd",NW),e("bi",LW),e("bl",(e=>{const{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:i,defaultOpen:o}=e,s=CW(t),[a=!1,l]=fj({prop:n,defaultProp:o,onChange:i});return ee.jsx(yW,{...s,open:a,onOpenChange:l,children:r})})),e("b6",UW),e("b8",jW);var GW=["color"],VW=(e("c8",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,GW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),HW=(e("be",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,VW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),WW=(e("cc",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,HW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),$W=(e("b7",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,WW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),YW=(e("ca",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,$W);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]),XW=(e("bE",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,YW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}))),["color"]);e("bg",H.forwardRef((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=zW(e,XW);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),H.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))})));const qW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,KW=Object.keys,ZW=Array.isArray;function QW(e,t){return"object"!=typeof t||KW(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||qW.Promise||(qW.Promise=Promise);const JW=Object.getPrototypeOf,e$={}.hasOwnProperty;function t$(e,t){return e$.call(e,t)}function r$(e,t){"function"==typeof t&&(t=t(JW(e))),("undefined"==typeof Reflect?KW:Reflect.ownKeys)(t).forEach((r=>{i$(e,r,t[r])}))}const n$=Object.defineProperty;function i$(e,t,r,n){n$(e,t,QW(r&&t$(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function o$(e){return{from:function(t){return e.prototype=Object.create(t.prototype),i$(e.prototype,"constructor",e),{extend:r$.bind(null,e.prototype)}}}}const s$=Object.getOwnPropertyDescriptor;function a$(e,t){let r;return s$(e,t)||(r=JW(e))&&a$(r,t)}const l$=[].slice;function u$(e,t,r){return l$.call(e,t,r)}function c$(e,t){return t(e)}function d$(e){if(!e)throw new Error("Assertion Failed")}function h$(e){qW.setImmediate?setImmediate(e):setTimeout(e,0)}function f$(e,t){return e.reduce(((e,r,n)=>{var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function p$(e,t){if(t$(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var o=p$(e,t[n]);r.push(o)}return r}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:p$(a,t.substr(s+1))}}function m$(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){d$("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)m$(e,t[n],r[n])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===r?ZW(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var l=e[s];l&&t$(e,s)||(l=e[s]={}),m$(l,a,r)}}else void 0===r?ZW(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function g$(e){var t={};for(var r in e)t$(e,r)&&(t[r]=e[r]);return t}const v$=[].concat;function y$(e){return v$.apply([],e)}const _$="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(y$([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>qW[e])),b$=_$.map((e=>qW[e]));f$(_$,(e=>[e,!0]));let x$=null;function w$(e){x$="undefined"!=typeof WeakMap&&new WeakMap;const t=E$(e);return x$=null,t}function E$(e){if(!e||"object"!=typeof e)return e;let t=x$&&x$.get(e);if(t)return t;if(ZW(e)){t=[],x$&&x$.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(E$(e[r]))}else if(b$.indexOf(e.constructor)>=0)t=e;else{const r=JW(e);for(var i in t=r===Object.prototype?{}:Object.create(r),x$&&x$.set(e,t),e)t$(e,i)&&(t[i]=E$(e[i]))}return t}const{toString:C$}={};function S$(e){return C$.call(e).slice(8,-1)}const A$="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",T$="symbol"==typeof A$?function(e){var t;return null!=e&&(t=e[A$])&&t.apply(e)}:function(){return null},D$={};function k$(e){var t,r,n,i;if(1===arguments.length){if(ZW(e))return e.slice();if(this===D$&&"string"==typeof e)return[e];if(i=T$(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const P$="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var B$="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R$(e,t){B$=e,O$=t}var O$=()=>!0;const F$=!new Error("").stack;function M$(){if(F$)try{throw M$.arguments,new Error}catch(whe){return whe}return new Error}function I$(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(O$).map((e=>"\n"+e)).join("")):""}var N$=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L$=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(N$),U$={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function j$(e,t){this._e=M$(),this.name=e,this.message=t}function z$(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,r)=>r.indexOf(e)===t)).join("\n")}function G$(e,t,r,n){this._e=M$(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=z$(e,t)}function V$(e,t){this._e=M$(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=z$(e,t)}o$(j$).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+I$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),o$(G$).from(j$),o$(V$).from(j$);var H$=L$.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const W$=j$;var $$=L$.reduce(((e,t)=>{var r=t+"Error";function n(e,n){this._e=M$(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=U$[t]||r,this.inner=null)}return o$(n).from(W$),e[t]=n,e}),{});$$.Syntax=SyntaxError,$$.Type=TypeError,$$.Range=RangeError;var Y$=N$.reduce(((e,t)=>(e[t+"Error"]=$$[t],e)),{}),X$=L$.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=$$[t]),e)),{});function q$(){}function K$(e){return e}function Z$(e,t){return null==e||e===K$?t:function(r){return t(e(r))}}function Q$(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J$(e,t){return e===q$?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Q$(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Q$(i,this.onerror):i),void 0!==o?o:r}}function eY(e,t){return e===q$?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Q$(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Q$(n,this.onerror):n)}}function tY(e,t){return e===q$?t:function(r){var n=e.apply(this,arguments);QW(r,n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Q$(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Q$(o,this.onerror):o),void 0===n?void 0===s?void 0:s:QW(n,s)}}function rY(e,t){return e===q$?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function nY(e,t){return e===q$?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then((function(){return t.apply(n,o)}))}return t.apply(this,arguments)}}X$.ModifyError=G$,X$.DexieError=j$,X$.BulkError=V$;var iY={};const oY=100,[sY,aY,lY]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,JW(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,JW(t),e]})(),uY=aY&&aY.then,cY=sY&&sY.constructor,dY=!!lY;var hY=!1,fY=lY?()=>{lY.then(IY)}:qW.setImmediate?setImmediate.bind(null,IY):qW.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{IY(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(IY,0)},pY=function(e,t){EY.push([e,t]),gY&&(fY(),gY=!1)},mY=!0,gY=!0,vY=[],yY=[],_Y=null,bY=K$,xY={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:aX,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{aX(e[0],e[1])}catch(e){}}))}},wY=xY,EY=[],CY=0,SY=[];function AY(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=q$,this._lib=!1;var t=this._PSD=wY;if(B$&&(this._stackHolder=M$(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==iY)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&PY(this,this._value))}this._state=null,this._value=null,++t.ref,kY(this,e)}const TY={get:function(){var e=wY,t=$Y;function r(r,n){var i=!e.global&&(e!==wY||t!==$Y);const o=i&&!KY();var s=new AY(((t,s)=>{RY(this,new DY(iX(r,e,i,o),iX(n,e,i,o),t,s,e))}));return B$&&MY(s,this),s}return r.prototype=iY,r},set:function(e){i$(this,"then",e&&e.prototype===iY?TY:{get:function(){return e},set:TY.set})}};function DY(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function kY(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&NY();t&&"function"==typeof t.then?kY(e,((e,r)=>{t instanceof AY?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,BY(e)),r&&LY()}}),PY.bind(null,e))}catch(t){PY(e,t)}}function PY(e,t){if(yY.push(t),null===e._state){var r=e._lib&&NY();t=bY(t),e._state=!1,e._value=t,B$&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,r){try{e.apply(null,void 0)}catch(e){}}((()=>{var r=a$(t,"stack");t._promise=e,i$(t,"stack",{get:()=>hY?r&&(r.get?r.get.apply(t):r.value):e.stack})})),function(e){vY.some((t=>t._value===e._value))||vY.push(e)}(e),BY(e),r&&LY()}}function BY(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)RY(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===CY&&(++CY,pY((()=>{0==--CY&&UY()}),[]))}function RY(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++CY,pY(OY,[r,e,t])}else e._listeners.push(t)}function OY(e,t,r){try{_Y=t;var n,i=t._value;t._state?n=e(i):(yY.length&&(yY=[]),n=e(i),-1===yY.indexOf(i)&&function(e){for(var t=vY.length;t;)if(vY[--t]._value===e._value)return void vY.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{_Y=null,0==--CY&&UY(),--r.psd.ref||r.psd.finalize()}}function FY(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,n=I$(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+n)}return B$&&((n=I$(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&FY(e._prev,t,r)),t}function MY(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function IY(){NY()&&LY()}function NY(){var e=mY;return mY=!1,gY=!1,e}function LY(){var e,t,r;do{for(;EY.length>0;)for(e=EY,EY=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(EY.length>0);mY=!0,gY=!0}function UY(){var e=vY;vY=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=SY.slice(0),r=t.length;r;)t[--r]()}function jY(e){return new AY(iY,!1,e)}function zY(e,t){var r=wY;return function(){var n=NY(),i=wY;try{return eX(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{eX(i,!1),n&&LY()}}}r$(AY.prototype,{then:TY,_then:function(e,t){RY(this,new DY(null,null,e,t,wY))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?r(e):jY(e))):this.then(null,(e=>e&&e.name===t?r(e):jY(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),jY(t))))},stack:{get:function(){if(this._stack)return this._stack;try{hY=!0;var e=FY(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{hY=!1}}},timeout:function(e,t){return e<1/0?new AY(((r,n)=>{var i=setTimeout((()=>n(new $$.Timeout(t))),e);this.then(r,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&i$(AY.prototype,Symbol.toStringTag,"Dexie.Promise"),xY.env=tX(),r$(AY,{all:function(){var e=k$.apply(null,arguments).map(ZY);return new AY((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(((i,o)=>AY.resolve(i).then((r=>{e[o]=r,--n||t(e)}),r)))}))},resolve:e=>{if(e instanceof AY)return e;if(e&&"function"==typeof e.then)return new AY(((t,r)=>{e.then(t,r)}));var t=new AY(iY,!0,e);return MY(t,_Y),t},reject:jY,race:function(){var e=k$.apply(null,arguments).map(ZY);return new AY(((t,r)=>{e.map((e=>AY.resolve(e).then(t,r)))}))},PSD:{get:()=>wY,set:e=>wY=e},totalEchoes:{get:()=>$Y},newPSD:XY,usePSD:rX,scheduler:{get:()=>pY,set:e=>{pY=e}},rejectionMapper:{get:()=>bY,set:e=>{bY=e}},follow:(e,t)=>new AY(((r,n)=>XY(((t,r)=>{var n=wY;n.unhandleds=[],n.onunhandled=r,n.finalize=Q$((function(){!function(e){SY.push((function t(){e(),SY.splice(SY.indexOf(t),1)})),++CY,pY((()=>{0==--CY&&UY()}),[])}((()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])}))}),n.finalize),e()}),t,r,n)))}),cY&&(cY.allSettled&&i$(AY,"allSettled",(function(){const e=k$.apply(null,arguments).map(ZY);return new AY((t=>{0===e.length&&t([]);let r=e.length;const n=new Array(r);e.forEach(((e,i)=>AY.resolve(e).then((e=>n[i]={status:"fulfilled",value:e}),(e=>n[i]={status:"rejected",reason:e})).then((()=>--r||t(n)))))}))})),cY.any&&"undefined"!=typeof AggregateError&&i$(AY,"any",(function(){const e=k$.apply(null,arguments).map(ZY);return new AY(((t,r)=>{0===e.length&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach(((e,o)=>AY.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--n||r(new AggregateError(i))}))))}))})));const GY={awaits:0,echoes:0,id:0};var VY=0,HY=[],WY=0,$Y=0,YY=0;function XY(e,t,r,n){var i=wY,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++YY;var s=xY.env;o.env=dY?{Promise:AY,PromiseProp:{value:AY,configurable:!0,writable:!0},all:AY.all,race:AY.race,allSettled:AY.allSettled,any:AY.any,resolve:AY.resolve,reject:AY.reject,nthen:oX(s.nthen,o),gthen:oX(s.gthen,o)}:{},t&&QW(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=rX(o,e,r,n);return 0===o.ref&&o.finalize(),a}function qY(){return GY.id||(GY.id=++VY),++GY.awaits,GY.echoes+=oY,GY.id}function KY(){return!!GY.awaits&&(0==--GY.awaits&&(GY.id=0),GY.echoes=GY.awaits*oY,!0)}function ZY(e){return GY.echoes&&e&&e.constructor===cY?(qY(),e.then((e=>(KY(),e)),(e=>(KY(),lX(e))))):e}function QY(e){++$Y,GY.echoes&&0!=--GY.echoes||(GY.echoes=GY.id=0),HY.push(wY),eX(e,!0)}function JY(){var e=HY[HY.length-1];HY.pop(),eX(e,!1)}function eX(e,t){var r=wY;if((t?!GY.echoes||WY++&&e===wY:!WY||--WY&&e===wY)||nX(t?QY.bind(null,e):JY),e!==wY&&(wY=e,r===xY&&(xY.env=tX()),dY)){var n=xY.env.Promise,i=e.env;aY.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(qW,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function tX(){var e=qW.Promise;return dY?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(qW,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:aY.then,gthen:e.prototype.then}:{}}function rX(e,t,r,n,i){var o=wY;try{return eX(e,!0),t(r,n,i)}finally{eX(o,!1)}}function nX(e){uY.call(sY,e)}function iX(e,t,r,n){return"function"!=typeof e?e:function(){var i=wY;r&&qY(),eX(t,!0);try{return e.apply(this,arguments)}finally{eX(i,!1),n&&nX(KY)}}}function oX(e,t){return function(r,n){return e.call(this,iX(r,t),iX(n,t))}}-1===(""+uY).indexOf("[native code]")&&(qY=KY=q$);const sX="unhandledrejection";function aX(e,t){var r;try{r=t.onuncatched(e)}catch(whe){}if(!1!==r)try{var n,i={promise:t,reason:e};if(qW.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(sX,!0,!0),QW(n,i)):qW.CustomEvent&&QW(n=new CustomEvent(sX,{detail:i}),i),n&&qW.dispatchEvent&&(dispatchEvent(n),!qW.PromiseRejectionEvent&&qW.onunhandledrejection))try{qW.onunhandledrejection(n)}catch(whe){}B$&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(whe){}}var lX=AY.reject;function uX(e,t,r,n){if(e.idbdb&&(e._state.openComplete||wY.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===H$.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>uX(e,t,r,n)))):lX(i)}return i._promise(t,((e,t)=>XY((()=>(wY.trans=i,n(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return lX(new $$.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return lX(new $$.DatabaseClosed);e.open().catch(q$)}return e._state.dbReadyPromise.then((()=>uX(e,t,r,n)))}const cX="3.2.4",dX=String.fromCharCode(65535),hX=-1/0,fX="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pX="String expected.",mX=[],gX="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vX=gX,yX=gX,_X=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),bX="__dbnames",xX="readonly",wX="readwrite";function EX(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const CX={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function SX(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=w$(t))[e],t)}class AX{_trans(e,t,r){const n=this._tx||wY.trans,i=this.name;function o(e,r,n){if(!n.schema[i])throw new $$.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}const s=NY();try{return n&&n.db===this.db?n===wY.trans?n._promise(e,o,r):XY((()=>n._promise(e,o,r)),{trans:n,transless:wY.transless||wY}):uX(this.db,e,[this.name],o)}finally{s&&LY()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ZW(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=KW(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(r&&this.db._maxKey!==dX)return this.where(r.name).equals(r.keyPath.map((t=>e[t])));!r&&B$&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:n}=this.schema,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[s,a]=t.reduce((([t,r],i)=>{const s=n[i],a=e[i];return[t||s,t||!s?EX(r,s&&s.multi?e=>{const t=p$(e,i);return ZW(t)&&t.some((e=>o(a,e)))}:e=>o(a,p$(e,i))):r]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(a):r?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ZW(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const r=Object.create(e.prototype);for(var n in t)if(t$(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){QW(this,e)}))}add(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=SX(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?AY.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{m$(e,n,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||ZW(e))return this.where(":id").equals(e).modify(t);{const r=p$(e,this.schema.primKey.keyPath);if(void 0===r)return lX(new $$.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?KW(t).forEach((r=>{m$(e,r,t[r])})):t(e,{value:e,primKey:r})}catch(e){}return this.where(":id").equals(r).modify(t)}}put(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=SX(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?AY.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{m$(e,n,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?AY.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:CX}))).then((e=>e.numFailures?AY.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new $$.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new $$.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(SX(o)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new V$(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,n)}))}))}bulkPut(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new $$.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new $$.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(SX(o)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new V$(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,n)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new V$(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,n)}))}}function TX(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[r].subscribe.apply(null,o),e}if("string"==typeof r)return t[r]};r.addEventType=o;for(var n=1,i=arguments.length;n<i;++n)o(arguments[n]);return r;function o(e,n,i){if("object"!=typeof e){var s;n||(n=rY),i||(i=q$);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=n(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(n,i)}};return t[e]=r[e]=a,a}KW(s=e).forEach((function(e){var t=s[e];if(ZW(t))o(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new $$.InvalidArgument("Invalid event config");var r=o(e,K$,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){h$((function(){e.apply(null,t)}))}))}))}}))}}function DX(e,t){return o$(t).from({prototype:e}),t}function kX(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function PX(e,t){e.filter=EX(e.filter,t)}function BX(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>EX(n(),t()):t,e.justLimit=r&&!n}function RX(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new $$.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function OX(e,t,r){const n=RX(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function FX(e,t,r,n){const i=e.replayFilter?EX(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,r,n)=>{if(!i||i(r,n,(e=>r.stop(e)),(e=>r.fail(e)))){var s=r.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),t$(o,a)||(o[a]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(s,r),MX(OX(e,n,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return MX(OX(e,n,r),EX(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function MX(e,t,r,n){var i=zY(n?(e,t,i)=>r(n(e),t,i):r);return e.then((e=>{if(e)return e.start((()=>{var r=()=>e.continue();t&&!t(e,(e=>r=e),(t=>{e.stop(t),r=q$}),(t=>{e.fail(t),r=q$}))||i(e.value,e,(e=>r=e)),r()}))}))}function IX(e,t){try{const r=NX(e),n=NX(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return r===n?0:r<n?-1:1}(LX(e),LX(t));case"Array":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o){const r=IX(e[o],t[o]);if(0!==r)return r}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function NX(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const r=S$(e);return"ArrayBuffer"===r?"binary":r}function LX(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class UX{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,lX.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,lX.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=EX(t.algorithm,e)}_iterate(e,t){return FX(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&QW(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((r=>FX(t,e,r,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,r=t.table.core;if(kX(t,!0))return r.count({trans:e,query:{index:RX(t,r.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var n=0;return FX(t,(()=>(++n,!1)),e,r).then((()=>n))})).then(e)}sortBy(e,t){const r=e.split(".").reverse(),n=r[0],i=r.length-1;function o(e,t){return t?o(e[r[t]],t-1):e[n]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var r=o(e,i),n=o(t,i);return r<n?-s:r>n?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&kX(t,!0)&&t.limit>0){const{valueMapper:r}=t,n=RX(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then((({result:e})=>r?e.map(r):e))}{const r=[];return FX(t,(e=>r.push(e)),e,t.table.core).then((()=>r))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,kX(t)?BX(t,(()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r((()=>{e.advance(t),t=0})),!1))})):BX(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),BX(this._ctx,(()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this}until(e,t){return PX(this._ctx,(function(r,n,i){return!e(r.value)||(n(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return PX(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=EX(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&kX(t,!0)&&t.limit>0)return this._read((e=>{var r=RX(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return PX(this._ctx,(function(e){var t=e.primaryKey.toString(),n=t$(r,t);return r[t]=!0,!n})),this}modify(e){var t=this._ctx;return this._write((r=>{var n;if("function"==typeof e)n=e;else{var i=KW(e),o=i.length;n=function(t){for(var r=!1,n=0;n<o;++n){var s=i[n],a=e[s];p$(t,s)!==a&&(m$(t,s,a),r=!0)}return r}}const s=t.table.core,{outbound:a,extractKey:l}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,c=[];let d=0;const h=[],f=(e,t)=>{const{failures:r,numFailures:n}=t;d+=e-n;for(let i of KW(r))c.push(r[i])};return this.clone().primaryKeys().then((i=>{const o=c=>{const d=Math.min(u,i.length-c);return s.getMany({trans:r,keys:i.slice(c,c+d),cache:"immutable"}).then((h=>{const p=[],m=[],g=a?[]:null,v=[];for(let e=0;e<d;++e){const t=h[e],r={value:w$(t),primKey:i[c+e]};!1!==n.call(r,r.value,r)&&(null==r.value?v.push(i[c+e]):a||0===IX(l(t),l(r.value))?(m.push(r.value),a&&g.push(i[c+e])):(v.push(i[c+e]),p.push(r.value)))}const y=kX(t)&&t.limit===1/0&&("function"!=typeof e||e===jX)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&s.mutate({trans:r,type:"add",values:p}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(m.length>0||y&&"object"==typeof e)&&s.mutate({trans:r,type:"put",keys:g,values:m,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>f(m.length,e))))).then((()=>(v.length>0||y&&e===jX)&&s.mutate({trans:r,type:"delete",keys:v,criteria:y}).then((e=>f(v.length,e))))).then((()=>i.length>c+d&&o(c+u)))}))};return o(0).then((()=>{if(c.length>0)throw new G$("Error modifying one or more objects",c,d,h);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return kX(e)&&(e.isPrimKey&&!yX||3===t.type)?this._write((r=>{const{primaryKey:n}=e.table.core.schema,i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((t=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((({failures:e,lastResult:r,results:n,numFailures:i})=>{if(i)throw new G$("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(jX)}}const jX=(e,t)=>t.value=null;function zX(e,t){return e<t?-1:e===t?0:1}function GX(e,t){return e>t?-1:e===t?0:1}function VX(e,t,r){var n=e instanceof qX?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function HX(e){return new e.Collection(e,(()=>XX(""))).limit(0)}function WX(e,t,r,n,i,o){for(var s=Math.min(e.length,n.length),a=-1,l=0;l<s;++l){var u=t[l];if(u!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[l],u)<0&&(a=l)}return s<n.length&&"next"===o?e+r.substr(e.length):s<e.length&&"prev"===o?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function $X(e,t,r,n){var i,o,s,a,l,u,c,d=r.length;if(!r.every((e=>"string"==typeof e)))return VX(e,pX);function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?zX:GX;var t=r.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),u=e,c="next"===e?"":n}h("next");var f=new e.Collection(e,(()=>YX(a[0],l[d-1]+n)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,l,p))return!0;for(var f=null,m=p;m<d;++m){var g=WX(i,h,a[m],l[m],s,u);null===g&&null===f?p=m+1:(null===f||s(f,g)>0)&&(f=g)}return r(null!==f?function(){e.continue(f+c)}:n),!1})),f}function YX(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function XX(e){return{type:1,lower:e,upper:e}}class qX{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?HX(this):new this.Collection(this,(()=>YX(e,t,!r,!n)))}catch(e){return VX(this,fX)}}equals(e){return null==e?VX(this,fX):new this.Collection(this,(()=>XX(e)))}above(e){return null==e?VX(this,fX):new this.Collection(this,(()=>YX(e,void 0,!0)))}aboveOrEqual(e){return null==e?VX(this,fX):new this.Collection(this,(()=>YX(e,void 0,!1)))}below(e){return null==e?VX(this,fX):new this.Collection(this,(()=>YX(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?VX(this,fX):new this.Collection(this,(()=>YX(void 0,e)))}startsWith(e){return"string"!=typeof e?VX(this,pX):this.between(e,e+dX,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):$X(this,((e,t)=>0===e.indexOf(t[0])),[e],dX)}equalsIgnoreCase(e){return $X(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=k$.apply(D$,arguments);return 0===e.length?HX(this):$X(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=k$.apply(D$,arguments);return 0===e.length?HX(this):$X(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,dX)}anyOf(){const e=k$.apply(D$,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return VX(this,fX)}if(0===e.length)return HX(this);const r=new this.Collection(this,(()=>YX(e[0],e[e.length-1])));r._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let n=0;return r._addAlgorithm(((r,i,o)=>{const s=r.key;for(;t(s,e[n])>0;)if(++n,n===e.length)return i(o),!1;return 0===t(s,e[n])||(i((()=>{r.continue(e[n])})),!1)})),r}notEqual(e){return this.inAnyRange([[hX,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=k$.apply(D$,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return VX(this,fX)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[hX,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,n=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===e.length)return HX(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0)))return VX(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$$.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let u,c=n;function d(e,t){return c(e[0],t[0])}try{u=e.reduce((function(e,t){let n=0,i=e.length;for(;n<i;++n){const i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return n===i&&e.push(t),e}),[]),u.sort(d)}catch(e){return VX(this,fX)}let h=0;const f=l?e=>n(e,u[h][1])>0:e=>n(e,u[h][1])>=0,p=a?e=>i(e,u[h][0])>0:e=>i(e,u[h][0])>=0;let m=f;const g=new this.Collection(this,(()=>YX(u[0][0],u[u.length-1][1],!a,!l)));return g._ondirectionchange=e=>{"next"===e?(m=f,c=n):(m=p,c=i),u.sort(d)},g._addAlgorithm(((e,t,r)=>{for(var i=e.key;m(i);)if(++h,h===u.length)return t(r),!1;return!!function(e){return!f(e)&&!p(e)}(i)||(0===this._cmp(i,u[h][1])||0===this._cmp(i,u[h][0])||t((()=>{c===n?e.continue(u[h][0]):e.continue(u[h][1])})),!1)})),g}startsWithAnyOf(){const e=k$.apply(D$,arguments);return e.every((e=>"string"==typeof e))?0===e.length?HX(this):this.inAnyRange(e.map((e=>[e,e+dX]))):VX(this,"startsWithAnyOf() only works with strings")}}function KX(e){return zY((function(t){return ZX(t),e(t.target.error),!1}))}function ZX(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const QX="storagemutated",JX="x-storagemutated-1",eq=TX(null,QX);class tq{_lock(){return d$(!wY.global),++this._reculock,1!==this._reculock||wY.global||(wY.lockOwnerFor=this),this}_unlock(){if(d$(!wY.global),0==--this._reculock)for(wY.global||(wY.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{rX(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&wY.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if(d$(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new $$.DatabaseClosed(r);case"MissingAPIError":throw new $$.MissingAPI(r.message,r);default:throw new $$.OpenFailed(r)}if(!this.active)throw new $$.TransactionInactive;return d$(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=zY((t=>{ZX(t),this._reject(e.error)})),e.onabort=zY((t=>{ZX(t),this.active&&this._reject(new $$.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=zY((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&eq.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return lX(new $$.ReadOnly("Transaction is readonly"));if(!this.active)return lX(new $$.TransactionInactive);if(this._locked())return new AY(((n,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,i)},wY])}));if(r)return XY((()=>{var e=new AY(((e,r)=>{this._lock();const n=t(e,r,this);n&&n.then&&n.then(e,r)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var n=new AY(((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=AY.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>r));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new AY(((e,n)=>{r.then((r=>t._waitingQueue.push(zY(e.bind(null,r)))),(e=>t._waitingQueue.push(zY(n.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new $$.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(t$(t,e))return t[e];const r=this.schema[e];if(!r)throw new $$.NotFound("Table "+e+" not part of transaction");const n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function rq(e,t,r,n,i,o,s){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:o,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+nq(t)}}function nq(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function iq(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:f$(r,(e=>[e.name,e]))}}let oq=e=>{try{return e.only([[]]),oq=()=>[[]],[[]]}catch(e){return oq=()=>dX,dX}};function sq(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>p$(t,e)}(e):t=>p$(t,e)}function aq(e){return[].slice.call(e)}let lq=0;function uq(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function cq({_novip:e},t){const r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:i,upperOpen:o}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const r=aq(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,n=ZW(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:sq(t)},indexes:aq(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:n,keyPath:i}=e,s={name:t,compound:ZW(i),keyPath:i,unique:r,multiEntry:n,extractKey:sq(i)};return o[uq(i)]=s,s})),getIndexByKeyPath:e=>o[uq(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[uq(t)]=s.primaryKey),s}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),s=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:i,values:o,range:s}){return new Promise(((a,l)=>{a=zY(a);const u=e.objectStore(t),c=null==u.keyPath,d="put"===r||"add"===r;if(!d&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:h}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const v=e=>{++g,ZX(e)};if("deleteRange"===r){if(4===s.type)return a({numFailures:g,failures:m,results:[],lastResult:void 0});3===s.type?p.push(f=u.clear()):p.push(f=u.delete(n(s)))}else{const[e,t]=d?c?[o,i]:[o,null]:[i,null];if(d)for(let n=0;n<h;++n)p.push(f=t&&void 0!==t[n]?u[r](e[n],t[n]):u[r](e[n])),f.onerror=v;else for(let n=0;n<h;++n)p.push(f=u[r](e[n])),f.onerror=v}const y=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:g,failures:m,results:"delete"===r?i:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{v(e),y(e)},f.onsuccess=y}))},getMany:({trans:e,keys:r})=>new Promise(((n,i)=>{n=zY(n);const o=e.objectStore(t),s=r.length,a=new Array(s);let l,u=0,c=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++c===u&&n(a)},h=KX(i);for(let e=0;e<s;++e)null!=r[e]&&(l=o.get(r[e]),l._pos=e,l.onsuccess=d,l.onerror=h,++u);0===u&&n(a)})),get:({trans:e,key:r})=>new Promise(((n,i)=>{n=zY(n);const o=e.objectStore(t).get(r);o.onsuccess=e=>n(e.target.result),o.onerror=KX(i)})),query:function(e){return r=>new Promise(((i,o)=>{i=zY(i);const{trans:s,values:a,limit:l,query:u}=r,c=l===1/0?void 0:l,{index:d,range:h}=u,f=s.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=n(h);if(0===l)return i({result:[]});if(e){const e=a?p.getAll(m,c):p.getAllKeys(m,c);e.onsuccess=e=>i({result:e.target.result}),e.onerror=KX(o)}else{let e=0;const t=a||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),r=[];t.onsuccess=n=>{const o=t.result;return o?(r.push(a?o.value:o.primaryKey),++e===l?i({result:r}):void o.continue()):i({result:r})},t.onerror=KX(o)}}))}(o),openCursor:function({trans:e,values:r,query:i,reverse:o,unique:s}){return new Promise(((a,l)=>{a=zY(a);const{index:u,range:c}=i,d=e.objectStore(t),h=u.isPrimaryKey?d:d.index(u.name),f=o?s?"prevunique":"prev":s?"nextunique":"next",p=r||!("openKeyCursor"in h)?h.openCursor(n(c),f):h.openKeyCursor(n(c),f);p.onerror=KX(l),p.onsuccess=zY((t=>{const r=p.result;if(!r)return void a(null);r.___id=++lq,r.done=!1;const n=r.continue.bind(r);let i=r.continuePrimaryKey;i&&(i=i.bind(r));const o=r.advance.bind(r),s=()=>{throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=zY(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=zY(e),p.onerror=KX(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=zY((e=>{p.onsuccess=a,a()})),r.continue=n,r.continuePrimaryKey=i,r.advance=o,a(),t},a(r)}),l)}))},count({query:e,trans:r}){const{index:i,range:o}=e;return new Promise(((e,s)=>{const a=r.objectStore(t),l=i.isPrimaryKey?a:a.index(i.name),u=n(o),c=u?l.count(u):l.count();c.onsuccess=zY((t=>e(t.target.result))),c.onerror=KX(s)}))}}}(e))),a={};return s.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:oq(t),schema:i}}(t,r,i),e.dbcore);return{dbcore:o}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((t=>{const r=t.name;e.core.schema.tables.some((e=>e.name===r))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function dq({_novip:e},t,r,n){r.forEach((r=>{const i=n[r];t.forEach((t=>{const n=a$(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?i$(t,r,{get(){return this.table(r)},set(e){n$(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))}))}))}function hq({_novip:e},t){t.forEach((t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]}))}function fq(e,t){return e._cfg.version-t._cfg.version}function pq(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],o=t[n];if(i){const e={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!gX)e.recreate=!0,r.change.push(e);else{const t=i.idxByName,n=o.idxByName;let s;for(s in t)n[s]||e.del.push(s);for(s in n){const r=t[s],i=n[s];r?r.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}}else r.add.push([n,o])}return r}function mq(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((e=>gq(i,e))),i}function gq(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function vq(e,t,r){const n={};return u$(t.objectStoreNames,0).forEach((e=>{const t=r.objectStore(e);let i=t.keyPath;const o=rq(nq(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let r=0;r<t.indexNames.length;++r){const e=t.index(t.indexNames[r]);i=e.keyPath;var a=rq(e.name,i,!!e.unique,!!e.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}n[e]=iq(e,o,s)})),n}function yq({_novip:e},t,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const o=n[i],s=r.objectStore(o);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const r=s.indexNames[e],n=s.index(r).keyPath,i="string"==typeof n?n:"["+u$(n).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=r,delete t[o].idxByName[i],t[o].idxByName[r]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&qW.WorkerGlobalScope&&qW instanceof qW.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class _q{_parseStoresSpec(e,t){KW(e).forEach((r=>{if(null!==e[r]){var n=e[r].split(",").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return rq(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ZW(n),0===t)})),i=n.shift();if(i.multi)throw new $$.Schema("Primary key cannot be multi-valued");n.forEach((e=>{if(e.auto)throw new $$.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new $$.Schema("Index must have a name and cannot be an empty string")})),t[r]=iq(r,i,n)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?QW(this._cfg.storesSource,e):e;const r=t._versions,n={};let i={};return r.forEach((e=>{QW(n,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(n,i)})),t._dbSchema=i,hq(t,[t._allTables,t,t.Transaction.prototype]),dq(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],KW(i),i),t._storeNames=KW(i),this}upgrade(e){return this._cfg.contentUpgrade=nY(this._cfg.contentUpgrade||q$,e),this}}function bq(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Gq(bX,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function xq(e){return e&&"function"==typeof e.databases}function wq(e){return XY((function(){return wY.letThrough=!0,e()}))}function Eq(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Cq(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?lX(t.dbOpenError):e));B$&&(t.openCanceller._stackHolder=M$()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new $$.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,a=!1;return AY.race([n,("undefined"==typeof navigator?AY.resolve():Eq()).then((()=>new AY(((n,o)=>{if(i(),!r)throw new $$.MissingAPI;const l=e.name,u=t.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!u)throw new $$.MissingAPI;u.onerror=KX(o),u.onblocked=zY(e._fireOnBlocked),u.onupgradeneeded=zY((n=>{if(s=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=ZX,s.abort(),u.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=zY((()=>{o(new $$.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{s.onerror=KX(o);var i=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;a=i<1,e._novip.idbdb=u.result,function(e,t,r,n){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(n);const s=o._reject.bind(o),a=wY.transless||wY;XY((()=>{wY.trans=o,wY.transless=a,0===t?(KW(i).forEach((e=>{mq(r,e,i[e].primKey,i[e].indexes)})),cq(e,r),AY.follow((()=>e.on.populate.fire(o))).catch(s)):function({_novip:e},t,r,n){const i=[],o=e._versions;let s=e._dbSchema=vq(0,e.idbdb,n),a=!1;const l=o.filter((e=>e._cfg.version>=t));return l.forEach((o=>{i.push((()=>{const i=s,l=o._cfg.dbschema;yq(e,i,n),yq(e,l,n),s=e._dbSchema=l;const u=pq(i,l);u.add.forEach((e=>{mq(n,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new $$.Upgrade("Not yet support for changing primary key");{const t=n.objectStore(e.name);e.add.forEach((e=>gq(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),gq(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const c=o._cfg.contentUpgrade;if(c&&o._cfg.version>t){cq(e,n),r._memoizedTables={},a=!0;let t=g$(l);u.del.forEach((e=>{t[e]=i[e]})),hq(e,[e.Transaction.prototype]),dq(e,[e.Transaction.prototype],KW(t),t),r.schema=t;const o=P$(c);let s;o&&qY();const d=AY.follow((()=>{if(s=c(r),s&&o){var e=KY.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?AY.resolve(s):d.then((()=>s))}})),i.push((t=>{a&&vX||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((r=>null==e[r]&&t.db.deleteObjectStore(r)))}(o._cfg.dbschema,t),hq(e,[e.Transaction.prototype]),dq(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return i.length?AY.resolve(i.shift()(r.idbtrans)).then(e):AY.resolve()}().then((()=>{var e,t;t=n,KW(e=s).forEach((r=>{t.db.objectStoreNames.contains(r)||mq(t,r,e[r].primKey,e[r].indexes)}))}))}(e,t,o,r).catch(s)}))}(e,i/10,s,o)}}),o),u.onsuccess=zY((()=>{s=null;const r=e._novip.idbdb=u.result,i=u$(r.objectStoreNames);if(i.length>0)try{const n=r.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,r){e.verno=t.version/10;const n=e._dbSchema=vq(0,t,r);e._storeNames=u$(t.objectStoreNames,0),dq(e,[e._allTables],KW(n),n)}(e,r,n):(yq(e,e._dbSchema,n),function(e,t){const r=pq(vq(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((e=>e.add.length||e.change.length)))}(e,n)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),cq(e,n)}catch(e){}var o;mX.push(e),r.onversionchange=zY((r=>{t.vcFired=!0,e.on("versionchange").fire(r)})),r.onclose=zY((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},r){!xq(e)&&r!==bX&&bq(e,t).put({name:r}).catch(q$)}(e._deps,l),n()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],AY.resolve(wq((()=>e.on.ready.fire(e.vip)))).then((function r(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(nY,q$);return t.onReadyBeingFired=[],AY.resolve(wq((()=>n(e.vip)))).then(r)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((r=>{t.dbOpenError=r;try{s&&s.abort()}catch(e){}return n===t.openCanceller&&e._close(),lX(r)})).finally((()=>{t.openComplete=!0,o()}))}function Sq(e){var t=t=>e.next(t),r=i(t),n=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(r,n):ZW(o)?Promise.all(o).then(r,n):r(o)}}return i(t)()}function Aq(e,t,r){var n=arguments.length;if(n<2)throw new $$.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,y$(i),r]}function Tq(e,t,r,n,i){return AY.resolve().then((()=>{const o=wY.transless||wY,s=e._createTransaction(t,r,e._dbSchema,n),a={trans:s,transless:o};if(n)s.idbtrans=n.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(n){return n.name===H$.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Tq(e,t,r,null,i)))):lX(n)}const l=P$(i);let u;l&&qY();const c=AY.follow((()=>{if(u=i.call(s,s),u)if(l){var e=KY.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Sq(u))}),a);return(u&&"function"==typeof u.then?AY.resolve(u).then((e=>s.active?e:lX(new $$.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):c.then((()=>u))).then((e=>(n&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),lX(e))))}))}function Dq(e,t,r){const n=ZW(e)?e.slice():[e];for(let i=0;i<r;++i)n.push(t);return n}const kq={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,i={},o=[];function s(e,t,r){const n=uq(e),a=i[n]=i[n]||[],l=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...r,isVirtual:u,keyTail:t,keyLength:l,extractKey:sq(e),unique:!u&&r.unique};return a.push(c),c.isPrimaryKey||o.push(c),l>1&&s(2===l?e[0]:e.slice(0,l-1),t+1,r),a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(const e of n.indexes)s(e.keyPath,0,e);function l(t){const r=t.query.index;return r.isVirtual?{...t,query:{index:r,range:(n=t.query.range,i=r.keyTail,{type:1===n.type?2:n.type,lower:Dq(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Dq(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var n,i}const u={...r,schema:{...n,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=i[uq(e)];return t&&t[0]}},count:e=>r.count(l(e)),query:e=>r.query(l(e)),openCursor(t){const{keyTail:n,isVirtual:i,keyLength:o}=t.query.index;return i?r.openCursor(l(t)).then((r=>r&&function(r){const i=Object.create(r,{continue:{value:function(i){null!=i?r.continue(Dq(i,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,i){r.continuePrimaryKey(Dq(t,e.MAX_KEY,n),i)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const e=r.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>r.value}});return i}(r))):r.openCursor(t)}};return u}}}};function Pq(e,t,r,n){return r=r||{},n=n||"",KW(e).forEach((i=>{if(t$(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=S$(o);e!==S$(s)?r[n+i]=t[i]:"Object"===e?Pq(o,s,r,n+i+"."):o!==s&&(r[n+i]=t[i])}else o!==s&&(r[n+i]=t[i])}else r[n+i]=void 0})),KW(t).forEach((i=>{t$(e,i)||(r[n+i]=t[i])})),r}const Bq={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema,i={...r,mutate(e){const i=wY.trans,{deleting:o,creating:s,updating:a}=i.table(t).hook;switch(e.type){case"add":if(s.fire===q$)break;return i._promise("readwrite",(()=>l(e)),!0);case"put":if(s.fire===q$&&a.fire===q$)break;return i._promise("readwrite",(()=>l(e)),!0);case"delete":if(o.fire===q$)break;return i._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(o.fire===q$)break;return i._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return r.mutate(e);function l(e){const t=wY.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(n,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,i).then((l=>{const u=i.map(((r,i)=>{const u=l[i],c={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(c,r,u,t);else if("add"===e.type||void 0===u){const o=s.fire.call(c,r,e.values[i],t);null==r&&null!=o&&(r=o,e.keys[i]=r,n.outbound||m$(e.values[i],n.keyPath,r))}else{const n=Pq(u,e.values[i]),o=a.fire.call(c,n,r,u,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{t$(t,e)?t[e]=o[e]:m$(t,e,o[e])}))}}return c}));return r.mutate(e).then((({failures:t,results:r,numFailures:n,lastResult:o})=>{for(let s=0;s<i.length;++s){const n=r?r[s]:i[s],o=u[s];null==n?o.onerror&&o.onerror(t[s]):o.onsuccess&&o.onsuccess("put"===e.type&&l[s]?e.values[s]:n)}return{failures:t,results:r,numFailures:n,lastResult:o}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,i){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:i}).then((({result:r})=>l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:r[r.length-1],lowerOpen:!0},i)))))}}};return i}})};function Rq(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;const n=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===IX(t.keys[i],e[o])&&(n.push(r?w$(t.values[i]):t.values[i]),++o);return n.length===e.length?n:null}catch(e){return null}}const Oq={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:e=>{if(!e.cache)return r.getMany(e);const t=Rq(e.keys,e.trans._cache,"clone"===e.cache);return t?AY.resolve(t):r.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?w$(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))}}})};function Fq(e){return!("from"in e)}const Mq=function(e,t){if(!this){const t=new Mq;return e&&"d"in e&&QW(t,e),t}QW(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Iq(e,t,r){const n=IX(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(Fq(e))return QW(e,{from:t,to:r,d:1});const i=e.l,o=e.r;if(IX(r,e.from)<0)return i?Iq(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Uq(e);if(IX(t,e.to)>0)return o?Iq(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Uq(e);IX(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),IX(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;i&&!e.l&&Nq(e,i),o&&s&&Nq(e,o)}function Nq(e,t){Fq(t)||function e(t,{from:r,to:n,l:i,r:o}){Iq(t,r,n),i&&e(t,i),o&&e(t,o)}(e,t)}function Lq(e){let t=Fq(e)?null:{s:0,n:e};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&IX(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||IX(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Uq(e){var t,r;const n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const t="r"===i?"l":"r",r={...e},n=e[i];e.from=n.from,e.to=n.to,e[i]=n[i],r[i]=n[t],e[t]=r,r.d=jq(r)}e.d=jq(e)}function jq({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}r$(Mq.prototype,{add(e){return Nq(this,e),this},addKey(e){return Iq(this,e,e),this},addKeys(e){return e.forEach((e=>Iq(this,e,e))),this},[A$](){return Lq(this)}});const zq={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Mq(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const i=e.table(n),{schema:o}=i,{primaryKey:s}=o,{extractKey:a,outbound:l}=s,u={...i,mutate:e=>{const s=e.trans,a=s.mutatedParts||(s.mutatedParts={}),l=e=>{const r=`idb://${t}/${n}/${e}`;return a[r]||(a[r]=new Mq)},u=l(""),c=l(":dels"),{type:d}=e;let[h,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(ZW(h)){"delete"!==d&&(h=e.results),u.addKeys(h);const t=Rq(h,p);t||"add"===d||c.addKeys(h),(t||f)&&function(e,t,r,n){t.indexes.forEach((function(t){const i=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&ZW(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||n).forEach(((e,t)=>{const i=r&&o(r[t]),a=n&&o(n[t]);0!==IX(i,a)&&(null!=i&&s(i),null!=a&&s(a))}))}))}(l,o,t,f)}else if(h){const e={from:h.lower,to:h.upper};c.add(e),u.add(e)}else u.add(r),c.add(r),o.indexes.forEach((e=>l(e.name).add(r)));return e}))}},c=({query:{index:t,range:r}})=>{var n,i;return[t,new Mq(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(i=r.upper)&&void 0!==i?i:e.MAX_KEY)]},d={get:e=>[s,new Mq(e.key)],getMany:e=>[s,(new Mq).addKeys(e.keys)],count:c,query:c,openCursor:c};return KW(d).forEach((e=>{u[e]=function(o){const{subscr:s}=wY;if(s){const u=e=>{const r=`idb://${t}/${n}/${e}`;return s[r]||(s[r]=new Mq)},c=u(""),h=u(":dels"),[f,p]=d[e](o);if(u(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((r=>{if("query"===e){if(l&&o.values)return t.then((({result:e})=>(c.addKeys(e),r)));const e=o.values?r.result.map(a):r.result;o.values?c.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=r,t=o.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return r}))}h.add(r)}}return i[e].apply(this,arguments)}})),u}}}};class Gq{constructor(e,t){this._middlewares={},this.verno=0;const r=Gq.dependencies;this._options=t={addons:Gq.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:n}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:q$,dbReadyPromise:null,cancelOpen:q$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new AY((e=>{i.dbReadyResolve=e})),i.openCanceller=new AY(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=TX(this,"populate","blocked","versionchange","close",{ready:[nY,q$]}),this.on.ready.subscribe=c$(this.on.ready.subscribe,(e=>(t,r)=>{Gq.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||AY.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);const n=this;r||e((function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,DX(UX.prototype,(function(e,t){this.db=o;let r=CX,n=null;if(t)try{r=t()}catch(e){n=e}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a!==K$?a:null}}))),this.Table=function(e){return DX(AX.prototype,(function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:TX(null,{creating:[J$,q$],reading:[Z$,K$],updating:[tY,q$],deleting:[eY,q$]})}))}(this),this.Transaction=function(e){return DX(tq.prototype,(function(t,r,n,i,o){this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=TX(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new AY(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),lX(e)}))}))}(this),this.Version=function(e){return DX(_q.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return DX(qX.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};const i=e._deps.indexedDB;if(!i)throw new $$.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=oq(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),mX.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(kq),this.use(Bq),this.use(zq),this.use(Oq),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new $$.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new $$.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter((t=>t._cfg.version===e))[0];return r||(r=new this.Version(e),t.push(r),t.sort(fq),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||wY.letThrough||this._vip)?e():new AY(((e,t)=>{if(this._state.openComplete)return t(new $$.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new $$.DatabaseClosed);this.open().catch(q$)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==r?10:r,name:n}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>r?e.create!==r:!!t&&e.name!==t))),this}open(){return Cq(this)}_close(){const e=this._state,t=mX.indexOf(this);if(t>=0&&mX.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new AY((t=>{e.dbReadyResolve=t})),e.openCanceller=new AY(((t,r)=>{e.cancelOpen=r}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new $$.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new AY(((r,n)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=zY((()=>{!function({indexedDB:e,IDBKeyRange:t},r){!xq(e)&&r!==bX&&bq(e,t).delete(r).catch(q$)}(this._deps,this.name),r()})),e.onerror=KX(n),e.onblocked=this._fireOnBlocked};if(e)throw new $$.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return KW(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Aq.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n=wY.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===xX)o=xX;else{if("rw"!=e&&e!=wX)throw new $$.InvalidArgument("Invalid transaction mode: "+e);o=wX}if(n){if(n.mode===xX&&o===wX){if(!i)throw new $$.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((e=>{if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new $$.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,((t,r)=>{r(e)})):lX(e)}const a=Tq.bind(null,this,o,s,n,r);return n?n._promise(o,a,"lock"):wY.trans?rX(wY.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!t$(this._allTables,e))throw new $$.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}e("bm",Gq);const Vq="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Hq{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[Vq](){return this}}function Wq(e,t){return KW(t).forEach((r=>{Nq(e[r]||(e[r]=new Mq),t[r])})),e}function $q(e){let t,r=!1;const n=new Hq((n=>{const i=P$(e);let o=!1,s={},a={};const l={get closed(){return o},unsubscribe:()=>{o=!0,eq.storagemutated.unsubscribe(h)}};n.start&&n.start(l);let u=!1,c=!1;function d(){return KW(a).some((e=>s[e]&&function(e,t){const r=Lq(t);let n=r.next();if(n.done)return!1;let i=n.value;const o=Lq(e);let s=o.next(i.from),a=s.value;for(;!n.done&&!s.done;){if(IX(a.from,i.to)<=0&&IX(a.to,i.from)>=0)return!0;IX(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}(s[e],a[e])))}const h=e=>{Wq(s,e),d()&&f()},f=()=>{if(u||o)return;s={};const p={},m=function(t){i&&qY();const r=()=>XY(e,{subscr:t,trans:null}),n=wY.trans?rX(wY.transless,r):r();return i&&n.then(KY,KY),n}(p);c||(eq(QX,h),c=!0),u=!0,Promise.resolve(m).then((e=>{r=!0,t=e,u=!1,o||(d()?f():(s={},a=p,n.next&&n.next(e)))}),(e=>{u=!1,r=!1,n.error&&n.error(e),l.unsubscribe()}))};return f(),l}));return n.hasValue=()=>r,n.getValue=()=>t,n}let Yq;try{Yq={indexedDB:qW.indexedDB||qW.mozIndexedDB||qW.webkitIndexedDB||qW.msIndexedDB,IDBKeyRange:qW.IDBKeyRange||qW.webkitIDBKeyRange}}catch(whe){Yq={indexedDB:null,IDBKeyRange:null}}const Xq=Gq;function qq(e){let t=Kq;try{Kq=!0,eq.storagemutated.fire(e)}finally{Kq=t}}r$(Xq,{...X$,delete:e=>new Xq(e,{addons:[]}).delete(),exists:e=>new Xq(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return xq(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==bX)))):bq(e,t).toCollection().primaryKeys()}(Xq.dependencies).then(e)}catch(e){return lX(new $$.MissingAPI)}},defineClass:()=>function(e){QW(this,e)},ignoreTransaction:e=>wY.trans?rX(wY.transless,e):e(),vip:wq,async:function(e){return function(){try{var t=Sq(e.apply(this,arguments));return t&&"function"==typeof t.then?t:AY.resolve(t)}catch(e){return lX(e)}}},spawn:function(e,t,r){try{var n=Sq(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:AY.resolve(n)}catch(e){return lX(e)}},currentTransaction:{get:()=>wY.trans||null},waitFor:function(e,t){const r=AY.resolve("function"==typeof e?Xq.ignoreTransaction(e):e).timeout(t||6e4);return wY.trans?wY.trans.waitFor(r):r},Promise:AY,debug:{get:()=>B$,set:e=>{R$(e,"dexie"===e?()=>!0:_X)}},derive:o$,extend:QW,props:r$,override:c$,Events:TX,on:eq,liveQuery:$q,extendObservabilitySet:Wq,getByKeyPath:p$,setByKeyPath:m$,delByKeyPath:function(e,t){"string"==typeof t?m$(e,t,void 0):"length"in t&&[].map.call(t,(function(t){m$(e,t,void 0)}))},shallowClone:g$,deepClone:w$,getObjectDiff:Pq,cmp:IX,asap:h$,minKey:hX,addons:[],connections:mX,errnames:H$,dependencies:Yq,semVer:cX,version:cX.split(".").map((e=>parseInt(e))).reduce(((e,t,r)=>e+t/Math.pow(10,2*r)))}),Xq.maxKey=oq(Xq.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(eq(QX,(e=>{if(!Kq){let t;gX?(t=document.createEvent("CustomEvent"),t.initCustomEvent(JX,!0,!0,e)):t=new CustomEvent(JX,{detail:e}),Kq=!0,dispatchEvent(t),Kq=!1}})),addEventListener(JX,(({detail:e})=>{Kq||qq(e)})));let Kq=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(JX);"function"==typeof e.unref&&e.unref(),eq(QX,(t=>{Kq||e.postMessage(t)})),e.onmessage=e=>{e.data&&qq(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){eq(QX,(e=>{try{Kq||("undefined"!=typeof localStorage&&localStorage.setItem(JX,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:JX,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===JX){const t=JSON.parse(e.newValue);t&&qq(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===JX&&qq(e.changedParts)}))}function Zq(e,t=[]){let r=[];const n=()=>{const t=r.map((e=>H.createContext(e)));return function(r){const n=r?.[e]||t;return H.useMemo((()=>({[`__scope${e}`]:{...r,[e]:n}})),[r,n])}};return n.scopeName=e,[function(t,n){const i=H.createContext(n),o=r.length;r=[...r,n];const s=t=>{const{scope:r,children:n,...s}=t,a=r?.[e]?.[o]||i,l=H.useMemo((()=>s),Object.values(s));return ee.jsx(a.Provider,{value:l,children:n})};return s.displayName=t+"Provider",[s,function(r,s){const a=s?.[e]?.[o]||i,l=H.useContext(a);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},Qq(n,...t)]}function Qq(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return H.useMemo((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return r.scopeName=t.scopeName,r}AY.rejectionMapper=function(e,t){if(!e||e instanceof j$||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y$[e.name])return e;var r=new Y$[e.name](t||e.message,e);return"stack"in e&&i$(r,"stack",{get:function(){return this.inner.stack}}),r},R$(B$,_X);var Jq,eK="dismissableLayer.update",tK="dismissableLayer.pointerDownOutside",rK="dismissableLayer.focusOutside",nK=H.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iK=H.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=H.useContext(nK),[c,d]=H.useState(null),h=c?.ownerDocument??globalThis?.document,[,f]=H.useState({}),p=aU(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=c?m.indexOf(c):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,x=function(e,t=globalThis?.document){const r=bU(e),n=H.useRef(!1),i=H.useRef((()=>{}));return H.useEffect((()=>{const e=e=>{if(e.target&&!n.current){let n=function(){aK(tK,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,r=[...u.branches].some((e=>e.contains(t)));b&&!r&&(i?.(e),s?.(e),e.defaultPrevented||a?.())}),h),w=function(e,t=globalThis?.document){const r=bU(e),n=H.useRef(!1);return H.useEffect((()=>{const e=e=>{e.target&&!n.current&&aK(rK,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(o?.(e),s?.(e),e.defaultPrevented||a?.())}),h);return mj((e=>{y===u.layers.size-1&&(n?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),H.useEffect((()=>{if(c)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Jq=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),sK(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=Jq)}}),[c,h,r,u]),H.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),sK())}),[c,u]),H.useEffect((()=>{const e=()=>f({});return document.addEventListener(eK,e),()=>document.removeEventListener(eK,e)}),[]),ee.jsx(fU.div,{...l,ref:p,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:CU(e.onFocusCapture,w.onFocusCapture),onBlurCapture:CU(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:CU(e.onPointerDownCapture,x.onPointerDownCapture)})}));iK.displayName="DismissableLayer";var oK=H.forwardRef(((e,t)=>{const r=H.useContext(nK),n=H.useRef(null),i=aU(t,n);return H.useEffect((()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),ee.jsx(fU.div,{...e,ref:i})}));function sK(){const e=new CustomEvent(eK);document.dispatchEvent(e)}function aK(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?pU(i,o):i.dispatchEvent(o)}oK.displayName="DismissableLayerBranch";var lK=iK,uK=oK,cK=0;function dK(){H.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hK()),document.body.insertAdjacentElement("beforeend",e[1]??hK()),cK++,()=>{1===cK&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),cK--}}),[])}function hK(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fK=H.forwardRef(((e,t)=>{const{container:r,...n}=e,[i,o]=H.useState(!1);mU((()=>o(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?ud.createPortal(ee.jsx(fU.div,{...n,ref:t}),s):null}));fK.displayName="Portal";var pK=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=H.useState(),n=H.useRef({}),i=H.useRef(e),o=H.useRef("none"),s=e?"mounted":"unmounted",[a,l]=function(e,t){return H.useReducer(((e,r)=>t[e][r]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect((()=>{const e=mK(n.current);o.current="mounted"===a?e:"none"}),[a]),mU((()=>{const t=n.current,r=i.current;if(r!==e){const n=o.current,s=mK(t);l(e?"MOUNT":"none"===s||"none"===t?.display?"UNMOUNT":r&&n!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}}),[e,l]),mU((()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,s=o=>{const s=mK(n.current).includes(o.animationName);if(o.target===t&&s&&(l("ANIMATION_END"),!i.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)}))}},a=e=>{e.target===t&&(o.current=mK(n.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:H.useCallback((e=>{e&&(n.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:n.isPresent}):H.Children.only(r),o=aU(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof r||n.isPresent?H.cloneElement(i,{ref:o}):null};function mK(e){return e?.animationName||"none"}pK.displayName="Presence";var gK=yV(),vK=function(){},yK=H.forwardRef((function(e,t){var r=H.useRef(null),n=H.useState({onScrollCapture:vK,onWheelCapture:vK,onTouchMoveCapture:vK}),i=n[0],o=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=e.gapMode,_=hV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,x=gV([r,t]),w=dV(dV({},_),i);return H.createElement(H.Fragment,null,c&&H.createElement(b,{sideCar:gK,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?H.cloneElement(H.Children.only(a),dV(dV({},w),{ref:x})):H.createElement(v,dV({},w,{className:l,ref:x}),a))}));yK.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},yK.classNames={fullWidth:mV,zeroRight:pV};var _K=!1;if("undefined"!=typeof window)try{var bK=Object.defineProperty({},"passive",{get:function(){return _K=!0,!0}});window.addEventListener("test",bK,bK),window.removeEventListener("test",bK,bK)}catch(rCe){_K=!1}var xK=!!_K&&{passive:!1},wK=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},EK=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),CK(e,n)){var i=SK(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CK=function(e,t){return"v"===e?function(e){return wK(e,"overflowY")}(t):function(e){return wK(e,"overflowX")}(t)},SK=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},AK=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},TK=function(e){return[e.deltaX,e.deltaY]},DK=function(e){return e&&"current"in e?e.current:e},kK=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},PK=0,BK=[];function RK(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const OK=bV(gK,(function(e){var t=H.useRef([]),r=H.useRef([0,0]),n=H.useRef(),i=H.useState(PK++)[0],o=H.useState(AV)[0],s=H.useRef(e);H.useEffect((function(){s.current=e}),[e]),H.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=fV([e.lockRef.current],(e.shards||[]).map(DK),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=H.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=AK(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=EK(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=EK(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var f=n.current||i;return function(e,t,r,n,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=SK(e,a),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&CK(e,a)&&(d+=m,h+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&Math.abs(d)<1||!i&&s>d)||!c&&(i&&Math.abs(h)<1||!i&&-s>h))&&(u=!0),u}(f,t,e,"h"===f?l:u,!0)}),[]),l=H.useCallback((function(e){var r=e;if(BK.length&&BK[BK.length-1]===o){var n="deltaY"in r?TK(r):AK(r),i=t.current.filter((function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)}))[0];if(i&&i.should)r.cancelable&&r.preventDefault();else if(!i){var l=(s.current.shards||[]).map(DK).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?a(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}}),[]),u=H.useCallback((function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:RK(n)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=H.useCallback((function(e){r.current=AK(e),n.current=void 0}),[]),d=H.useCallback((function(t){u(t.type,TK(t),t.target,a(t,e.lockRef.current))}),[]),h=H.useCallback((function(t){u(t.type,AK(t),t.target,a(t,e.lockRef.current))}),[]);H.useEffect((function(){return BK.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,xK),document.addEventListener("touchmove",l,xK),document.addEventListener("touchstart",c,xK),function(){BK=BK.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,xK),document.removeEventListener("touchmove",l,xK),document.removeEventListener("touchstart",c,xK)}}),[]);var f=e.removeScrollBar,p=e.inert;return H.createElement(H.Fragment,null,p?H.createElement(o,{styles:kK(i)}):null,f?H.createElement(FV,{gapMode:e.gapMode}):null)}));var FK=H.forwardRef((function(e,t){return H.createElement(yK,dV({},e,{ref:t,sideCar:OK}))}));FK.classNames=yK.classNames;const MK=FK;var IK=["Enter"," "],NK=["ArrowUp","PageDown","End"],LK=["ArrowDown","PageUp","Home",...NK],UK={ltr:[...IK,"ArrowRight"],rtl:[...IK,"ArrowLeft"]},jK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zK="Menu",[GK,VK,HK]=pj(zK),[WK,$K]=Zq(zK,[HK,_G,YG]),YK=_G(),XK=YG(),[qK,KK]=WK(zK),[ZK,QK]=WK(zK),JK=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:s=!0}=e,a=YK(t),[l,u]=H.useState(null),c=H.useRef(!1),d=bU(o),h=wU(i);return H.useEffect((()=>{const e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),ee.jsx(MG,{...a,children:ee.jsx(qK,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:ee.jsx(ZK,{scope:t,onClose:H.useCallback((()=>d(!1)),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};JK.displayName=zK;var eZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=YK(r);return ee.jsx(IG,{...i,...n,ref:t})}));eZ.displayName="MenuAnchor";var tZ="MenuPortal",[rZ,nZ]=WK(tZ,{forceMount:void 0}),iZ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=KK(tZ,t);return ee.jsx(rZ,{scope:t,forceMount:r,children:ee.jsx(pK,{present:r||o.open,children:ee.jsx(fK,{asChild:!0,container:i,children:n})})})};iZ.displayName=tZ;var oZ="MenuContent",[sZ,aZ]=WK(oZ),lZ=H.forwardRef(((e,t)=>{const r=nZ(oZ,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=KK(oZ,e.__scopeMenu),s=QK(oZ,e.__scopeMenu);return ee.jsx(GK.Provider,{scope:e.__scopeMenu,children:ee.jsx(pK,{present:n||o.open,children:ee.jsx(GK.Slot,{scope:e.__scopeMenu,children:s.modal?ee.jsx(uZ,{...i,ref:t}):ee.jsx(cZ,{...i,ref:t})})})})})),uZ=H.forwardRef(((e,t)=>{const r=KK(oZ,e.__scopeMenu),n=H.useRef(null),i=aU(t,n);return H.useEffect((()=>{const e=n.current;if(e)return cV(e)}),[]),ee.jsx(dZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:CU(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),cZ=H.forwardRef(((e,t)=>{const r=KK(oZ,e.__scopeMenu);return ee.jsx(dZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})})),dZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...m}=e,g=KK(oZ,r),v=QK(oZ,r),y=YK(r),_=XK(r),b=VK(r),[x,w]=H.useState(null),E=H.useRef(null),C=aU(t,E,g.onContentChange),S=H.useRef(0),A=H.useRef(""),T=H.useRef(0),D=H.useRef(null),k=H.useRef("right"),P=H.useRef(0),B=p?MK:H.Fragment,R=p?{as:lU,allowPinchZoom:!0}:void 0,O=e=>{const t=A.current+e,r=b().filter((e=>!e.disabled)),n=document.activeElement,i=r.find((e=>e.ref.current===n))?.textValue,o=function(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0])),i=n?t[0]:t,o=r?e.indexOf(r):-1;let s=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===i.length&&(s=s.filter((e=>e!==r)));const u=s.find((e=>e.toLowerCase().startsWith(i.toLowerCase())));return u!==r?u:void 0}(r.map((e=>e.textValue)),t,i),s=r.find((e=>e.textValue===o))?.ref.current;!function e(t){A.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout((()=>e("")),1e3))}(t),s&&setTimeout((()=>s.focus()))};H.useEffect((()=>()=>window.clearTimeout(S.current)),[]),dK();const F=H.useCallback((e=>k.current===D.current?.side&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,t)}(e,D.current?.area)),[]);return ee.jsx(sZ,{scope:r,searchRef:A,onItemEnter:H.useCallback((e=>{F(e)&&e.preventDefault()}),[F]),onItemLeave:H.useCallback((e=>{F(e)||(E.current?.focus(),w(null))}),[F]),onTriggerLeave:H.useCallback((e=>{F(e)&&e.preventDefault()}),[F]),pointerGraceTimerRef:T,onPointerGraceIntentChange:H.useCallback((e=>{D.current=e}),[]),children:ee.jsx(B,{...R,children:ee.jsx(Bj,{asChild:!0,trapped:i,onMountAutoFocus:CU(o,(e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:ee.jsx(iK,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:ee.jsx(rV,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:w,onEntryFocus:CU(l,(e=>{v.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:ee.jsx(NG,{role:"menu","aria-orientation":"vertical","data-state":NZ(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:CU(m.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&O(e.key));const i=E.current;if(e.target!==i)return;if(!LK.includes(e.key))return;e.preventDefault();const o=b().filter((e=>!e.disabled)).map((e=>e.ref.current));NK.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)})),onBlur:CU(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),A.current="")})),onPointerMove:CU(e.onPointerMove,jZ((e=>{const t=e.target,r=P.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>P.current?"right":"left";k.current=t,P.current=e.clientX}})))})})})})})})}));lZ.displayName=oZ;var hZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{role:"group",...n,ref:t})}));hZ.displayName="MenuGroup";var fZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{...n,ref:t})}));fZ.displayName="MenuLabel";var pZ="MenuItem",mZ="menu.itemSelect",gZ=H.forwardRef(((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=H.useRef(null),s=QK(pZ,e.__scopeMenu),a=aZ(pZ,e.__scopeMenu),l=aU(t,o),u=H.useRef(!1);return ee.jsx(vZ,{...i,ref:l,disabled:r,onClick:CU(e.onClick,(()=>{const e=o.current;if(!r&&e){const t=new CustomEvent(mZ,{bubbles:!0,cancelable:!0});e.addEventListener(mZ,(e=>n?.(e)),{once:!0}),pU(e,t),t.defaultPrevented?u.current=!1:s.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:CU(e.onPointerUp,(e=>{u.current||e.currentTarget?.click()})),onKeyDown:CU(e.onKeyDown,(e=>{const t=""!==a.searchRef.current;r||t&&" "===e.key||IK.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));gZ.displayName=pZ;var vZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,s=aZ(pZ,r),a=XK(r),l=H.useRef(null),u=aU(t,l),[c,d]=H.useState(!1),[h,f]=H.useState("");return H.useEffect((()=>{const e=l.current;e&&f((e.textContent??"").trim())}),[o.children]),ee.jsx(GK.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:ee.jsx(nV,{asChild:!0,...a,focusable:!n,children:ee.jsx(fU.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:CU(e.onPointerMove,jZ((e=>{n?s.onItemLeave(e):(s.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))}))),onPointerLeave:CU(e.onPointerLeave,jZ((e=>s.onItemLeave(e)))),onFocus:CU(e.onFocus,(()=>d(!0))),onBlur:CU(e.onBlur,(()=>d(!1)))})})})})),yZ=H.forwardRef(((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return ee.jsx(AZ,{scope:e.__scopeMenu,checked:r,children:ee.jsx(gZ,{role:"menuitemcheckbox","aria-checked":LZ(r)?"mixed":r,...i,ref:t,"data-state":UZ(r),onSelect:CU(i.onSelect,(()=>n?.(!!LZ(r)||!r)),{checkForDefaultPrevented:!1})})})}));yZ.displayName="MenuCheckboxItem";var _Z="MenuRadioGroup",[bZ,xZ]=WK(_Z,{value:void 0,onValueChange:()=>{}}),wZ=H.forwardRef(((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=bU(n);return ee.jsx(bZ,{scope:e.__scopeMenu,value:r,onValueChange:o,children:ee.jsx(hZ,{...i,ref:t})})}));wZ.displayName=_Z;var EZ="MenuRadioItem",CZ=H.forwardRef(((e,t)=>{const{value:r,...n}=e,i=xZ(EZ,e.__scopeMenu),o=r===i.value;return ee.jsx(AZ,{scope:e.__scopeMenu,checked:o,children:ee.jsx(gZ,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":UZ(o),onSelect:CU(n.onSelect,(()=>i.onValueChange?.(r)),{checkForDefaultPrevented:!1})})})}));CZ.displayName=EZ;var SZ="MenuItemIndicator",[AZ,TZ]=WK(SZ,{checked:!1}),DZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=TZ(SZ,r);return ee.jsx(pK,{present:n||LZ(o.checked)||!0===o.checked,children:ee.jsx(fU.span,{...i,ref:t,"data-state":UZ(o.checked)})})}));DZ.displayName=SZ;var kZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e;return ee.jsx(fU.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})}));kZ.displayName="MenuSeparator";var PZ=H.forwardRef(((e,t)=>{const{__scopeMenu:r,...n}=e,i=YK(r);return ee.jsx(LG,{...i,...n,ref:t})}));PZ.displayName="MenuArrow";var[BZ,RZ]=WK("MenuSub"),OZ="MenuSubTrigger",FZ=H.forwardRef(((e,t)=>{const r=KK(OZ,e.__scopeMenu),n=QK(OZ,e.__scopeMenu),i=RZ(OZ,e.__scopeMenu),o=aZ(OZ,e.__scopeMenu),s=H.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},c=H.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return H.useEffect((()=>c),[c]),H.useEffect((()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}}),[a,l]),ee.jsx(eZ,{asChild:!0,...u,children:ee.jsx(vZ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":NZ(r.open),...e,ref:sU(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:CU(e.onPointerMove,jZ((t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||s.current||(o.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{r.onOpenChange(!0),c()}),100))}))),onPointerLeave:CU(e.onPointerLeave,jZ((e=>{c();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,i="right"===n,s=i?-5:5,l=t[i?"left":"right"],u=t[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:l,y:t.top},{x:u,y:t.top},{x:u,y:t.bottom},{x:l,y:t.bottom}],side:n}),window.clearTimeout(a.current),a.current=window.setTimeout((()=>o.onPointerGraceIntentChange(null)),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}}))),onKeyDown:CU(e.onKeyDown,(t=>{const i=""!==o.searchRef.current;e.disabled||i&&" "===t.key||UK[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));FZ.displayName=OZ;var MZ="MenuSubContent",IZ=H.forwardRef(((e,t)=>{const r=nZ(oZ,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=KK(oZ,e.__scopeMenu),s=QK(oZ,e.__scopeMenu),a=RZ(MZ,e.__scopeMenu),l=H.useRef(null),u=aU(t,l);return ee.jsx(GK.Provider,{scope:e.__scopeMenu,children:ee.jsx(pK,{present:n||o.open,children:ee.jsx(GK.Slot,{scope:e.__scopeMenu,children:ee.jsx(dZ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{s.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:CU(e.onFocusOutside,(e=>{e.target!==a.trigger&&o.onOpenChange(!1)})),onEscapeKeyDown:CU(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:CU(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),r=jK[s.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())}))})})})})}));function NZ(e){return e?"open":"closed"}function LZ(e){return"indeterminate"===e}function UZ(e){return LZ(e)?"indeterminate":e?"checked":"unchecked"}function jZ(e){return t=>"mouse"===t.pointerType?e(t):void 0}IZ.displayName=MZ;var zZ=JK,GZ=eZ,VZ=iZ,HZ=lZ,WZ=hZ,$Z=fZ,YZ=gZ,XZ=yZ,qZ=wZ,KZ=CZ,ZZ=DZ,QZ=kZ,JZ=PZ,eQ=FZ,tQ=IZ,rQ="Menubar",[nQ,iQ,oQ]=pj(rQ),[sQ,aQ]=Zq(rQ,[oQ,YG]),lQ=$K(),uQ=YG(),[cQ,dQ]=sQ(rQ),hQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:i,defaultValue:o,loop:s=!0,dir:a,...l}=e,u=wU(a),c=uQ(r),[d="",h]=fj({prop:n,onChange:i,defaultProp:o}),[f,p]=H.useState(null);return ee.jsx(cQ,{scope:r,value:d,onMenuOpen:H.useCallback((e=>{h(e),p(e)}),[h]),onMenuClose:H.useCallback((()=>h("")),[h]),onMenuToggle:H.useCallback((e=>{h((t=>Boolean(t)?"":e)),p(e)}),[h]),dir:u,loop:s,children:ee.jsx(nQ.Provider,{scope:r,children:ee.jsx(nQ.Slot,{scope:r,children:ee.jsx(rV,{asChild:!0,...c,orientation:"horizontal",loop:s,dir:u,currentTabStopId:f,onCurrentTabStopIdChange:p,children:ee.jsx(fU.div,{role:"menubar",...l,ref:t})})})})})}));hQ.displayName=rQ;var fQ="MenubarMenu",[pQ,mQ]=sQ(fQ),gQ=e=>{const{__scopeMenubar:t,value:r,...n}=e,i=jj(),o=r||i||"LEGACY_REACT_AUTO_VALUE",s=dQ(fQ,t),a=lQ(t),l=H.useRef(null),u=H.useRef(!1),c=s.value===o;return H.useEffect((()=>{c||(u.current=!1)}),[c]),ee.jsx(pQ,{scope:t,value:o,triggerId:jj(),triggerRef:l,contentId:jj(),wasKeyboardTriggerOpenRef:u,children:ee.jsx(zZ,{...a,open:c,onOpenChange:e=>{e||s.onMenuClose()},modal:!1,dir:s.dir,...n})})};gQ.displayName=fQ;var vQ="MenubarTrigger",yQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...i}=e,o=uQ(r),s=lQ(r),a=dQ(vQ,r),l=mQ(vQ,r),u=H.useRef(null),c=aU(t,u,l.triggerRef),[d,h]=H.useState(!1),f=a.value===l.value;return ee.jsx(nQ.ItemSlot,{scope:r,value:l.value,disabled:n,children:ee.jsx(nV,{asChild:!0,...o,focusable:!n,tabStopId:l.value,children:ee.jsx(GZ,{asChild:!0,...s,children:ee.jsx(fU.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?l.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":f?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:c,onPointerDown:CU(e.onPointerDown,(e=>{n||0!==e.button||!1!==e.ctrlKey||(a.onMenuOpen(l.value),f||e.preventDefault())})),onPointerEnter:CU(e.onPointerEnter,(()=>{Boolean(a.value)&&!f&&(a.onMenuOpen(l.value),u.current?.focus())})),onKeyDown:CU(e.onKeyDown,(e=>{n||(["Enter"," "].includes(e.key)&&a.onMenuToggle(l.value),"ArrowDown"===e.key&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(e.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,e.preventDefault()))})),onFocus:CU(e.onFocus,(()=>h(!0))),onBlur:CU(e.onBlur,(()=>h(!1)))})})})})}));yQ.displayName=vQ;var _Q=e=>{const{__scopeMenubar:t,...r}=e,n=lQ(t);return ee.jsx(VZ,{...n,...r})};_Q.displayName="MenubarPortal";var bQ="MenubarContent",xQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,align:n="start",...i}=e,o=lQ(r),s=dQ(bQ,r),a=mQ(bQ,r),l=iQ(r),u=H.useRef(!1);return ee.jsx(HZ,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...o,...i,ref:t,align:n,onCloseAutoFocus:CU(e.onCloseAutoFocus,(e=>{Boolean(s.value)||u.current||a.triggerRef.current?.focus(),u.current=!1,e.preventDefault()})),onFocusOutside:CU(e.onFocusOutside,(e=>{const t=e.target;l().some((e=>e.ref.current?.contains(t)))&&e.preventDefault()})),onInteractOutside:CU(e.onInteractOutside,(()=>{u.current=!0})),onEntryFocus:e=>{a.wasKeyboardTriggerOpenRef.current||e.preventDefault()},onKeyDown:CU(e.onKeyDown,(e=>{if(["ArrowRight","ArrowLeft"].includes(e.key)){const n=e.target,i=n.hasAttribute("data-radix-menubar-subtrigger"),o=n.closest("[data-radix-menubar-content]")!==e.currentTarget,u=("rtl"===s.dir?"ArrowRight":"ArrowLeft")===e.key;if(!u&&i)return;if(o&&u)return;let c=l().filter((e=>!e.disabled)).map((e=>e.value));u&&c.reverse();const d=c.indexOf(a.value);c=s.loop?(r=d+1,(t=c).map(((e,n)=>t[(r+n)%t.length]))):c.slice(d+1);const[h]=c;h&&s.onMenuOpen(h)}var t,r}),{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})}));xQ.displayName=bQ,H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(WZ,{...i,...n,ref:t})})).displayName="MenubarGroup";var wQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx($Z,{...i,...n,ref:t})}));wQ.displayName="MenubarLabel";var EQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(YZ,{...i,...n,ref:t})}));EQ.displayName="MenubarItem";var CQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(XZ,{...i,...n,ref:t})}));CQ.displayName="MenubarCheckboxItem",H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(qZ,{...i,...n,ref:t})})).displayName="MenubarRadioGroup";var SQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(KZ,{...i,...n,ref:t})}));SQ.displayName="MenubarRadioItem";var AQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(ZZ,{...i,...n,ref:t})}));AQ.displayName="MenubarItemIndicator";var TQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(QZ,{...i,...n,ref:t})}));TQ.displayName="MenubarSeparator",H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(JZ,{...i,...n,ref:t})})).displayName="MenubarArrow";var DQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(eQ,{"data-radix-menubar-subtrigger":"",...i,...n,ref:t})}));DQ.displayName="MenubarSubTrigger";var kQ=H.forwardRef(((e,t)=>{const{__scopeMenubar:r,...n}=e,i=lQ(r);return ee.jsx(tQ,{...i,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})}));kQ.displayName="MenubarSubContent",e("bo",hQ),e("bA",gQ),e("bp",yQ),e("bs",_Q),e("bt",xQ),e("by",wQ),e("bu",EQ),e("bv",CQ),e("bx",SQ),e("bw",AQ),e("bz",TQ),e("bq",DQ),e("br",kQ);var PQ=e=>"checkbox"===e.type,BQ=e=>e instanceof Date,RQ=e=>null==e;const OQ=e=>"object"==typeof e;var FQ=e=>!RQ(e)&&!Array.isArray(e)&&OQ(e)&&!BQ(e),MQ=e=>FQ(e)&&e.target?PQ(e.target)?e.target.checked:e.target.value:e,IQ=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),NQ=e=>{const t=e.constructor&&e.constructor.prototype;return FQ(t)&&t.hasOwnProperty("isPrototypeOf")},LQ="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function UQ(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(LQ&&(e instanceof Blob||e instanceof FileList)||!r&&!FQ(e))return e;if(t=r?[]:{},r||NQ(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=UQ(e[r]));else t=e}return t}var jQ=e=>Array.isArray(e)?e.filter(Boolean):[],zQ=e=>void 0===e,GQ=(e,t,r)=>{if(!t||!FQ(e))return r;const n=jQ(t.split(/[,[\].]+?/)).reduce(((e,t)=>RQ(e)?e:e[t]),e);return zQ(n)||n===e?zQ(e[t])?r:e[t]:n},VQ=e=>"boolean"==typeof e,HQ=e=>/^\w*$/.test(e),WQ=e=>jQ(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$Q=(e,t,r)=>{let n=-1;const i=HQ(t)?[t]:WQ(t),o=i.length,s=o-1;for(;++n<o;){const t=i[n];let o=r;if(n!==s){const r=e[t];o=FQ(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t)return;e[t]=o,e=e[t]}return e};const YQ={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},XQ={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qQ="max",KQ="min",ZQ="maxLength",QQ="minLength",JQ="pattern",eJ="required",tJ="validate",rJ=W.createContext(null),nJ=e("bN",(()=>W.useContext(rJ)));e("bO",(e=>{const{children:t,...r}=e;return W.createElement(rJ.Provider,{value:r},t)}));var iJ=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==XQ.all&&(t._proxyFormState[i]=!n||XQ.all),r&&(r[i]=!0),e[i]}});return i},oJ=e=>FQ(e)&&!Object.keys(e).length,sJ=(e,t,r,n)=>{r(e);const{name:i,...o}=e;return oJ(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!n||XQ.all)))},aJ=e=>Array.isArray(e)?e:[e],lJ=(e,t,r)=>!e||!t||e===t||aJ(e).some((e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))));function uJ(e){const t=W.useRef(e);t.current=e,W.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}var cJ=e=>"string"==typeof e,dJ=(e,t,r,n,i)=>cJ(e)?(n&&t.watch.add(e),GQ(r,e,i)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),GQ(r,e)))):(n&&(t.watchAll=!0),r);function hJ(e){const t=nJ(),{control:r=t.control,name:n,defaultValue:i,disabled:o,exact:s}=e||{},a=W.useRef(n);a.current=n,uJ({disabled:o,subject:r._subjects.values,next:e=>{lJ(a.current,e.name,s)&&u(UQ(dJ(a.current,r._names,e.values||r._formValues,!1,i)))}});const[l,u]=W.useState(r._getWatch(n,i));return W.useEffect((()=>r._removeUnmounted())),l}function fJ(e){const t=nJ(),{name:r,disabled:n,control:i=t.control,shouldUnregister:o}=e,s=IQ(i._names.array,r),a=hJ({control:i,name:r,defaultValue:GQ(i._formValues,r,GQ(i._defaultValues,r,e.defaultValue)),exact:!0}),l=function(e){const t=nJ(),{control:r=t.control,disabled:n,name:i,exact:o}=e||{},[s,a]=W.useState(r._formState),l=W.useRef(!0),u=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=W.useRef(i);return c.current=i,uJ({disabled:n,next:e=>l.current&&lJ(c.current,e.name,o)&&sJ(e,u.current,r._updateFormState)&&a({...r._formState,...e}),subject:r._subjects.state}),W.useEffect((()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1})),[r]),iJ(s,r,u.current,!1)}({control:i,name:r,exact:!0}),u=W.useRef(i.register(r,{...e.rules,value:a,...VQ(e.disabled)?{disabled:e.disabled}:{}}));return W.useEffect((()=>{const e=i._options.shouldUnregister||o,t=(e,t)=>{const r=GQ(i._fields,e);r&&r._f&&(r._f.mount=t)};if(t(r,!0),e){const e=UQ(GQ(i._options.defaultValues,r));$Q(i._defaultValues,r,e),zQ(GQ(i._formValues,r))&&$Q(i._formValues,r,e)}return()=>{(s?e&&!i._state.action:e)?i.unregister(r):t(r,!1)}}),[r,i,s,o]),W.useEffect((()=>{GQ(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:GQ(i._fields,r)._f.value})}),[n,r,i]),{field:{name:r,value:a,...VQ(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:W.useCallback((e=>u.current.onChange({target:{value:MQ(e),name:r},type:YQ.CHANGE})),[r]),onBlur:W.useCallback((()=>u.current.onBlur({target:{value:GQ(i._formValues,r),name:r},type:YQ.BLUR})),[r,i]),ref:W.useCallback((e=>{const t=GQ(i._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[i._fields,r])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!GQ(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!GQ(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!GQ(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!GQ(l.validatingFields,r)},error:{enumerable:!0,get:()=>GQ(l.errors,r)}})}}e("bM",(e=>e.render(fJ(e))));var pJ=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},mJ=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},gJ=(e,t,r={})=>r.shouldFocus||zQ(r.shouldFocus)?r.focusName||`${e}.${zQ(r.focusIndex)?t:r.focusIndex}.`:"",vJ=e=>({isOnSubmit:!e||e===XQ.onSubmit,isOnBlur:e===XQ.onBlur,isOnChange:e===XQ.onChange,isOnAll:e===XQ.all,isOnTouch:e===XQ.onTouched}),yJ=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const _J=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const r=GQ(e,i);if(r){const{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(_J(o,t))break}else if(FQ(o)&&_J(o,t))break}}};var bJ=(e,t,r)=>{const n=aJ(GQ(e,r));return $Q(n,"root",t[r]),$Q(e,r,n),e},xJ=e=>"file"===e.type,wJ=e=>"function"==typeof e,EJ=e=>{if(!LQ)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},CJ=e=>cJ(e),SJ=e=>"radio"===e.type,AJ=e=>e instanceof RegExp;const TJ={value:!1,isValid:!1},DJ={value:!0,isValid:!0};var kJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zQ(e[0].attributes.value)?zQ(e[0].value)||""===e[0].value?DJ:{value:e[0].value,isValid:!0}:DJ:TJ}return TJ};const PJ={isValid:!1,value:null};var BJ=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),PJ):PJ;function RJ(e,t,r="validate"){if(CJ(e)||Array.isArray(e)&&e.every(CJ)||VQ(e)&&!e)return{type:r,message:CJ(e)?e:"",ref:t}}var OJ=e=>FQ(e)&&!AJ(e)?e:{value:e,message:""},FJ=async(e,t,r,n,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=GQ(t,p);if(!g||v)return{};const _=s?s[0]:o,b=e=>{n&&_.reportValidity&&(_.setCustomValidity(VQ(e)?"":e||""),_.reportValidity())},x={},w=SJ(o),E=PQ(o),C=w||E,S=(m||xJ(o))&&zQ(o.value)&&zQ(y)||EJ(o)&&""===o.value||""===y||Array.isArray(y)&&!y.length,A=pJ.bind(null,p,r,x),T=(e,t,r,n=ZQ,i=QQ)=>{const s=e?t:r;x[p]={type:e?n:i,message:s,ref:o,...A(e?n:i,s)}};if(i?!Array.isArray(y)||!y.length:a&&(!C&&(S||RQ(y))||VQ(y)&&!y||E&&!kJ(s).isValid||w&&!BJ(s).isValid)){const{value:e,message:t}=CJ(a)?{value:!!a,message:a}:OJ(a);if(e&&(x[p]={type:eJ,message:t,ref:_,...A(eJ,t)},!r))return b(t),x}if(!(S||RQ(c)&&RQ(d))){let e,t;const n=OJ(d),i=OJ(c);if(RQ(y)||isNaN(y)){const r=o.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;cJ(n.value)&&y&&(e=a?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),cJ(i.value)&&y&&(t=a?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(y?+y:y);RQ(n.value)||(e=r>n.value),RQ(i.value)||(t=r<i.value)}if((e||t)&&(T(!!e,n.message,i.message,qQ,KQ),!r))return b(x[p].message),x}if((l||u)&&!S&&(cJ(y)||i&&Array.isArray(y))){const e=OJ(l),t=OJ(u),n=!RQ(e.value)&&y.length>+e.value,i=!RQ(t.value)&&y.length<+t.value;if((n||i)&&(T(n,e.message,t.message),!r))return b(x[p].message),x}if(h&&!S&&cJ(y)){const{value:e,message:t}=OJ(h);if(AJ(e)&&!y.match(e)&&(x[p]={type:JQ,message:t,ref:o,...A(JQ,t)},!r))return b(t),x}if(f)if(wJ(f)){const e=RJ(await f(y,t),_);if(e&&(x[p]={...e,...A(tJ,e.message)},!r))return b(e.message),x}else if(FQ(f)){let e={};for(const n in f){if(!oJ(e)&&!r)break;const i=RJ(await f[n](y,t),_,n);i&&(e={...i,...A(n,i.message)},b(i.message),r&&(x[p]=e))}if(!oJ(e)&&(x[p]={ref:_,...e},!r))return x}return b(!0),x},MJ=(e,t)=>[...e,...aJ(t)],IJ=e=>Array.isArray(e)?e.map((()=>{})):void 0;function NJ(e,t,r){return[...e.slice(0,t),...aJ(r),...e.slice(t)]}var LJ=(e,t,r)=>Array.isArray(e)?(zQ(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],UJ=(e,t)=>[...aJ(t),...aJ(e)],jJ=(e,t)=>zQ(t)?[]:function(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return jQ(n).length?n:[]}(e,aJ(t).sort(((e,t)=>e-t))),zJ=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function GJ(e,t){const r=Array.isArray(t)?t:HQ(t)?[t]:WQ(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=zQ(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(FQ(n)&&oJ(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!zQ(e[t]))return!1;return!0}(n))&&GJ(e,r.slice(0,-1)),e}var VJ=(e,t,r)=>(e[t]=r,e),HJ=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},WJ=e=>RQ(e)||!OQ(e);function $J(e,t){if(WJ(e)||WJ(t))return e===t;if(BQ(e)&&BQ(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const r=e[i];if(!n.includes(i))return!1;if("ref"!==i){const e=t[i];if(BQ(r)&&BQ(e)||FQ(r)&&FQ(e)||Array.isArray(r)&&Array.isArray(e)?!$J(r,e):r!==e)return!1}}return!0}var YJ=e=>"select-multiple"===e.type,XJ=e=>SJ(e)||PQ(e),qJ=e=>EJ(e)&&e.isConnected,KJ=e=>{for(const t in e)if(wJ(e[t]))return!0;return!1};function ZJ(e,t={}){const r=Array.isArray(e);if(FQ(e)||r)for(const n in e)Array.isArray(e[n])||FQ(e[n])&&!KJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ZJ(e[n],t[n])):RQ(e[n])||(t[n]=!0);return t}function QJ(e,t,r){const n=Array.isArray(e);if(FQ(e)||n)for(const i in e)Array.isArray(e[i])||FQ(e[i])&&!KJ(e[i])?zQ(t)||WJ(r[i])?r[i]=Array.isArray(e[i])?ZJ(e[i],[]):{...ZJ(e[i])}:QJ(e[i],RQ(t)?{}:t[i],r[i]):r[i]=!$J(e[i],t[i]);return r}var JJ=(e,t)=>QJ(e,t,ZJ(t)),e0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>zQ(e)?e:t?""===e?NaN:e?+e:e:r&&cJ(e)?new Date(e):n?n(e):e;function t0(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return xJ(t)?t.files:SJ(t)?BJ(e.refs).value:YJ(t)?[...t.selectedOptions].map((({value:e})=>e)):PQ(t)?kJ(e.refs).value:e0(zQ(t.value)?e.ref.value:t.value,e)}var r0=(e,t,r,n)=>{const i={};for(const o of e){const e=GQ(t,o);e&&$Q(i,o,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},n0=e=>zQ(e)?e:AJ(e)?e.source:FQ(e)?AJ(e.value)?e.value.source:e.value:e;const i0="AsyncFunction";var o0=e=>!(e&&e.validate||!(wJ(e.validate)&&e.validate.constructor.name===i0||FQ(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===i0)))),s0=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function a0(e,t,r){const n=GQ(e,r);if(n||HQ(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),o=GQ(t,n),s=GQ(e,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(s&&s.type)return{name:n,error:s};i.pop()}return{name:r}}var l0=(e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:!(r?n.isOnChange:i.isOnChange)||e),u0=(e,t)=>!jQ(GQ(e,t)).length&&GJ(e,t);const c0={mode:XQ.onSubmit,reValidateMode:XQ.onChange,shouldFocusError:!0};function d0(e={}){let t,r={...c0,...e},n={submitCount:0,isDirty:!1,isLoading:wJ(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(FQ(r.defaultValues)||FQ(r.values))&&UQ(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:UQ(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:HJ(),array:HJ(),state:HJ()},h=vJ(r.mode),f=vJ(r.reValidateMode),p=r.criteriaMode===XQ.all,m=async e=>{if(c.isValid||e){const e=r.resolver?oJ((await b()).errors):await x(i,!0);e!==n.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(t?$Q(n.validatingFields,e,t):GJ(n.validatingFields,e))})),d.state.next({validatingFields:n.validatingFields,isValidating:!oJ(n.validatingFields)}))},v=(e,t,r,n)=>{const l=GQ(i,e);if(l){const i=GQ(s,e,zQ(r)?GQ(o,e):r);zQ(i)||n&&n.defaultChecked||t?$Q(s,e,t?i:t0(l._f)):C(e,i),a.mount&&m()}},y=(e,t,r,s,a)=>{let l=!1,u=!1;const h={name:e},f=!!(GQ(i,e)&&GQ(i,e)._f&&GQ(i,e)._f.disabled);if(!r||s){c.isDirty&&(u=n.isDirty,n.isDirty=h.isDirty=w(),l=u!==h.isDirty);const r=f||$J(GQ(o,e),t);u=!(f||!GQ(n.dirtyFields,e)),r||f?GJ(n.dirtyFields,e):$Q(n.dirtyFields,e,!0),h.dirtyFields=n.dirtyFields,l=l||c.dirtyFields&&u!==!r}if(r){const t=GQ(n.touchedFields,e);t||($Q(n.touchedFields,e,r),h.touchedFields=n.touchedFields,l=l||c.touchedFields&&t!==r)}return l&&a&&d.state.next(h),l?h:{}},_=(r,i,o,s)=>{const a=GQ(n.errors,r),l=c.isValid&&VQ(i)&&n.isValid!==i;var h;if(e.delayError&&o?(h=()=>((e,t)=>{$Q(n.errors,e,t),d.state.next({errors:n.errors})})(r,o),t=e=>{clearTimeout(u),u=setTimeout(h,e)},t(e.delayError)):(clearTimeout(u),t=null,o?$Q(n.errors,r,o):GJ(n.errors,r)),(o?!$J(a,o):a)||!oJ(s)||l){const e={...s,...l&&VQ(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},d.state.next(e)}},b=async e=>{g(e,!0);const t=await r.resolver(s,r.context,r0(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return g(e),t},x=async(e,t,i={valid:!0})=>{for(const o in e){const a=e[o];if(a){const{_f:e,...u}=a;if(e){const u=l.array.has(e.name),d=a._f&&o0(a._f);d&&c.validatingFields&&g([o],!0);const h=await FJ(a,s,p,r.shouldUseNativeValidation&&!t,u);if(d&&c.validatingFields&&g([o]),h[e.name]&&(i.valid=!1,t))break;!t&&(GQ(h,e.name)?u?bJ(n.errors,h,e.name):$Q(n.errors,e.name,h[e.name]):GJ(n.errors,e.name))}!oJ(u)&&await x(u,t,i)}}return i.valid},w=(e,t)=>(e&&t&&$Q(s,e,t),!$J(P(),o)),E=(e,t,r)=>dJ(e,l,{...a.mount?s:zQ(t)?o:cJ(e)?{[e]:t}:t},r,t),C=(e,t,r={})=>{const n=GQ(i,e);let o=t;if(n){const r=n._f;r&&(!r.disabled&&$Q(s,e,e0(t,r)),o=EJ(r.ref)&&RQ(t)?"":t,YJ(r.ref)?[...r.ref.options].forEach((e=>e.selected=o.includes(e.value))):r.refs?PQ(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):r.refs[0]&&(r.refs[0].checked=!!o):r.refs.forEach((e=>e.checked=e.value===o)):xJ(r.ref)?r.ref.value="":(r.ref.value=o,r.ref.type||d.values.next({name:e,values:{...s}})))}(r.shouldDirty||r.shouldTouch)&&y(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&k(e)},S=(e,t,r)=>{for(const n in t){const o=t[n],s=`${e}.${n}`,a=GQ(i,s);!l.array.has(e)&&WJ(o)&&(!a||a._f)||BQ(o)?C(s,o,r):S(s,o,r)}},A=(e,t,r={})=>{const u=GQ(i,e),h=l.array.has(e),f=UQ(t);$Q(s,e,f),h?(d.array.next({name:e,values:{...s}}),(c.isDirty||c.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:JJ(o,s),isDirty:w(e,f)})):!u||u._f||RQ(f)?C(e,f,r):S(e,f,r),yJ(e,l)&&d.state.next({...n}),d.values.next({name:a.mount?e:void 0,values:{...s}})},T=async o=>{a.mount=!0;const u=o.target;let v=u.name,w=!0;const E=GQ(i,v),C=e=>{w=Number.isNaN(e)||$J(e,GQ(s,v,e))};if(E){let a,S;const A=u.type?t0(E._f):MQ(o),T=o.type===YQ.BLUR||o.type===YQ.FOCUS_OUT,D=!s0(E._f)&&!r.resolver&&!GQ(n.errors,v)&&!E._f.deps||l0(T,GQ(n.touchedFields,v),n.isSubmitted,f,h),P=yJ(v,l,T);$Q(s,v,A),T?(E._f.onBlur&&E._f.onBlur(o),t&&t(0)):E._f.onChange&&E._f.onChange(o);const B=y(v,A,T,!1),R=!oJ(B)||P;if(!T&&d.values.next({name:v,type:o.type,values:{...s}}),D)return c.isValid&&("onBlur"===e.mode?T&&m():m()),R&&d.state.next({name:v,...P?{}:B});if(!T&&P&&d.state.next({...n}),r.resolver){const{errors:e}=await b([v]);if(C(A),w){const t=a0(n.errors,i,v),r=a0(e,i,t.name||v);a=r.error,v=r.name,S=oJ(e)}}else g([v],!0),a=(await FJ(E,s,p,r.shouldUseNativeValidation))[v],g([v]),C(A),w&&(a?S=!1:c.isValid&&(S=await x(i,!0)));w&&(E._f.deps&&k(E._f.deps),_(v,S,a,B))}},D=(e,t)=>{if(GQ(n.errors,t)&&e.focus)return e.focus(),1},k=async(e,t={})=>{let o,s;const a=aJ(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const r of e){const e=GQ(t,r);e?$Q(n.errors,r,e):GJ(n.errors,r)}else n.errors=t;return t})(zQ(e)?e:a);o=oJ(t),s=e?!a.some((e=>GQ(t,e))):o}else e?(s=(await Promise.all(a.map((async e=>{const t=GQ(i,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&m()):s=o=await x(i);return d.state.next({...!cJ(e)||c.isValid&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!s&&_J(i,D,e?a:l.mount),s},P=e=>{const t={...a.mount?s:o};return zQ(e)?t:cJ(e)?GQ(t,e):e.map((e=>GQ(t,e)))},B=(e,t)=>({invalid:!!GQ((t||n).errors,e),isDirty:!!GQ((t||n).dirtyFields,e),error:GQ((t||n).errors,e),isValidating:!!GQ(n.validatingFields,e),isTouched:!!GQ((t||n).touchedFields,e)}),R=(e,t,r)=>{const o=(GQ(i,e,{_f:{}})._f||{}).ref,s=GQ(n.errors,e)||{},{ref:a,message:l,type:u,...c}=s;$Q(n.errors,e,{...c,...t,ref:o}),d.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},O=(e,t={})=>{for(const a of e?aJ(e):l.mount)l.mount.delete(a),l.array.delete(a),t.keepValue||(GJ(i,a),GJ(s,a)),!t.keepError&&GJ(n.errors,a),!t.keepDirty&&GJ(n.dirtyFields,a),!t.keepTouched&&GJ(n.touchedFields,a),!t.keepIsValidating&&GJ(n.validatingFields,a),!r.shouldUnregister&&!t.keepDefaultValue&&GJ(o,a);d.values.next({values:{...s}}),d.state.next({...n,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&m()},F=({disabled:e,name:t,field:r,fields:n,value:i})=>{if(VQ(e)&&a.mount||e){const o=e?void 0:zQ(i)?t0(r?r._f:GQ(n,t)._f):i;$Q(s,t,o),y(t,o,!1,!1,!0)}},M=(t,n={})=>{let s=GQ(i,t);const u=VQ(n.disabled)||VQ(e.disabled);return $Q(i,t,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:t}},name:t,mount:!0,...n}}),l.mount.add(t),s?F({field:s,disabled:VQ(n.disabled)?n.disabled:e.disabled,name:t,value:n.value}):v(t,!0,n.value),{...u?{disabled:n.disabled||e.disabled}:{},...r.progressive?{required:!!n.required,min:n0(n.min),max:n0(n.max),minLength:n0(n.minLength),maxLength:n0(n.maxLength),pattern:n0(n.pattern)}:{},name:t,onChange:T,onBlur:T,ref:e=>{if(e){M(t,n),s=GQ(i,t);const r=zQ(e.value)&&e.querySelectorAll&&e.querySelectorAll("input,select,textarea")[0]||e,a=XJ(r),l=s._f.refs||[];if(a?l.find((e=>e===r)):r===s._f.ref)return;$Q(i,t,{_f:{...s._f,...a?{refs:[...l.filter(qJ),r,...Array.isArray(GQ(o,t))?[{}]:[]],ref:{type:r.type,name:t}}:{ref:r}}}),v(t,!1,void 0,r)}else s=GQ(i,t,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!IQ(l.array,t)||!a.action)&&l.unMount.add(t)}}},I=()=>r.shouldFocusError&&_J(i,D,l.mount),N=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let l=UQ(s);if(d.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await b();n.errors=e,l=t}else await x(i);if(GJ(n.errors,"root"),oJ(n.errors)){d.state.next({errors:{}});try{await e(l,o)}catch(u){a=u}}else t&&await t({...n.errors},o),I(),setTimeout(I);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oJ(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},L=(t,r={})=>{const u=t?UQ(t):o,h=UQ(u),f=oJ(t),p=f?o:h;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues)for(const e of l.mount)GQ(n.dirtyFields,e)?$Q(p,e,GQ(s,e)):A(e,GQ(p,e));else{if(LQ&&zQ(t))for(const e of l.mount){const t=GQ(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(EJ(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}s=e.shouldUnregister?r.keepDefaultValues?UQ(o):{}:UQ(p),d.array.next({values:{...p}}),d.values.next({values:{...p}})}l={mount:r.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!r.keepIsValid||!!r.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!f&&(r.keepDirty?n.isDirty:!(!r.keepDefaultValues||$J(t,o))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:r.keepDirtyValues?r.keepDefaultValues&&s?JJ(o,s):n.dirtyFields:r.keepDefaultValues&&t?JJ(o,t):r.keepDirty?n.dirtyFields:{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},U=(e,t)=>L(wJ(e)?e(s):e,t);return{control:{register:M,unregister:O,getFieldState:B,handleSubmit:N,setError:R,_executeSchema:b,_getWatch:E,_getDirty:w,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=GQ(i,e);t&&(t._f.refs?t._f.refs.every((e=>!qJ(e))):!qJ(t._f.ref))&&O(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],r,l,u=!0,h=!0)=>{if(l&&r){if(a.action=!0,h&&Array.isArray(GQ(i,e))){const t=r(GQ(i,e),l.argA,l.argB);u&&$Q(i,e,t)}if(h&&Array.isArray(GQ(n.errors,e))){const t=r(GQ(n.errors,e),l.argA,l.argB);u&&$Q(n.errors,e,t),u0(n.errors,e)}if(c.touchedFields&&h&&Array.isArray(GQ(n.touchedFields,e))){const t=r(GQ(n.touchedFields,e),l.argA,l.argB);u&&$Q(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=JJ(o,s)),d.state.next({name:e,isDirty:w(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else $Q(s,e,t)},_updateDisabledField:F,_getFieldArray:t=>jQ(GQ(a.mount?s:o,t,e.shouldUnregister?GQ(o,t,[]):[])),_reset:L,_resetDefaultValues:()=>wJ(r.defaultValues)&&r.defaultValues().then((e=>{U(e,r.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{VQ(e)&&(d.state.next({disabled:e}),_J(i,((t,r)=>{const n=GQ(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach((t=>{t.disabled=n._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:k,register:M,handleSubmit:N,watch:(e,t)=>wJ(e)?d.values.subscribe({next:r=>e(E(void 0,t),r)}):E(e,t,!0),setValue:A,getValues:P,reset:U,resetField:(e,t={})=>{GQ(i,e)&&(zQ(t.defaultValue)?A(e,UQ(GQ(o,e))):(A(e,t.defaultValue),$Q(o,e,UQ(t.defaultValue))),t.keepTouched||GJ(n.touchedFields,e),t.keepDirty||(GJ(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,UQ(GQ(o,e))):w()),t.keepError||(GJ(n.errors,e),c.isValid&&m()),d.state.next({...n}))},clearErrors:e=>{e&&aJ(e).forEach((e=>GJ(n.errors,e))),d.state.next({errors:e?n.errors:{}})},unregister:O,setError:R,setFocus:(e,t={})=>{const r=GQ(i,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:B}}const h0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=GQ(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},f0=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?h0(n.ref,r,e):n.refs&&n.refs.forEach((t=>h0(t,r,e)))}},p0=(e,t)=>{t.shouldUseNativeValidation&&f0(e,t);const r={};for(const n in e){const i=GQ(t.fields,n),o=Object.assign(e[n]||{},{ref:i&&i.ref});if(m0(t.names||Object.keys(e),n)){const e=Object.assign({},GQ(r,n));$Q(e,"root",o),$Q(r,n,e)}else $Q(r,n,o)}return r},m0=(e,t)=>e.some((e=>e.startsWith(t+".")));var g0,v0,y0=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=r[s].types,u=l&&l[n.code];r[s]=pJ(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r};e("bS",(function(e,t,r){return void 0===r&&(r={}),function(n,i,o){try{return Promise.resolve(function(i,s){try{var a=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then((function(e){return o.shouldUseNativeValidation&&f0({},o),{errors:{},values:r.raw?n:e}}))}catch(ade){return s(ade)}return a&&a.then?a.then(void 0,s):a}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:p0(y0(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e})))}catch(ade){return Promise.reject(ade)}}})),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(g0||(g0={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(v0||(v0={}));const _0=g0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),b0=e=>{switch(typeof e){case"undefined":return _0.undefined;case"string":return _0.string;case"number":return isNaN(e)?_0.nan:_0.number;case"boolean":return _0.boolean;case"function":return _0.function;case"bigint":return _0.bigint;case"symbol":return _0.symbol;case"object":return Array.isArray(e)?_0.array:null===e?_0.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?_0.promise:"undefined"!=typeof Map&&e instanceof Map?_0.map:"undefined"!=typeof Set&&e instanceof Set?_0.set:"undefined"!=typeof Date&&e instanceof Date?_0.date:_0.object;default:return _0.unknown}},x0=g0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class w0 extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof w0))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,g0.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}w0.create=e=>new w0(e);const E0=(e,t)=>{let r;switch(e.code){case x0.invalid_type:r=e.received===_0.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case x0.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,g0.jsonStringifyReplacer)}`;break;case x0.unrecognized_keys:r=`Unrecognized key(s) in object: ${g0.joinValues(e.keys,", ")}`;break;case x0.invalid_union:r="Invalid input";break;case x0.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${g0.joinValues(e.options)}`;break;case x0.invalid_enum_value:r=`Invalid enum value. Expected ${g0.joinValues(e.options)}, received '${e.received}'`;break;case x0.invalid_arguments:r="Invalid function arguments";break;case x0.invalid_return_type:r="Invalid function return type";break;case x0.invalid_date:r="Invalid date";break;case x0.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:g0.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case x0.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case x0.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case x0.custom:r="Invalid input";break;case x0.invalid_intersection_types:r="Intersection results could not be merged";break;case x0.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case x0.not_finite:r="Number must be finite";break;default:r=t.defaultError,g0.assertNever(e)}return{message:r}};let C0=E0;function S0(){return C0}const A0=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let a="";const l=n.filter((e=>!!e)).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function T0(e,t){const r=S0(),n=A0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===E0?void 0:E0].filter((e=>!!e))});e.common.issues.push(n)}class D0{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return k0;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return D0.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status)return k0;if("aborted"===i.status)return k0;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!n.alwaysSet||(r[t.value]=i.value)}return{status:e.value,value:r}}}const k0=Object.freeze({status:"aborted"}),P0=e=>({status:"dirty",value:e}),B0=e=>({status:"valid",value:e}),R0=e=>"aborted"===e.status,O0=e=>"dirty"===e.status,F0=e=>"valid"===e.status,M0=e=>"undefined"!=typeof Promise&&e instanceof Promise;function I0(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function N0(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}var L0,U0,j0;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(L0||(L0={}));class z0{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const G0=(e,t)=>{if(F0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new w0(e.common.issues);return this._error=t,this._error}}};function V0(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:i.defaultError}:void 0===i.data?{message:null!==(o=null!=a?a:n)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=a?a:r)&&void 0!==s?s:i.defaultError}},description:i}}class H0{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return b0(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:b0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new D0,ctx:{common:e.parent.common,data:e.data,parsedType:b0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(M0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b0(e)},i=this._parseSync({data:e,path:n.path,parent:n});return G0(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b0(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(M0(n)?n:Promise.resolve(n));return G0(r,i)}refine(e,t){const r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),o=()=>n.addIssue({code:x0.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1)))}_refinement(e){return new L1({schema:this,typeName:K1.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return U1.create(this,this._def)}nullable(){return j1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _1.create(this,this._def)}promise(){return N1.create(this,this._def)}or(e){return w1.create([this,e],this._def)}and(e){return A1.create(this,e,this._def)}transform(e){return new L1({...V0(this._def),schema:this,typeName:K1.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new z1({...V0(this._def),innerType:this,defaultValue:t,typeName:K1.ZodDefault})}brand(){return new W1({typeName:K1.ZodBranded,type:this,...V0(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new G1({...V0(this._def),innerType:this,catchValue:t,typeName:K1.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return $1.create(this,e)}readonly(){return Y1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W0=/^c[^\s-]{8,}$/i,$0=/^[0-9a-z]+$/,Y0=/^[0-9A-HJKMNP-TV-Z]{26}$/,X0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q0=/^[a-z0-9_-]{21}$/i,K0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Q0;const J0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e1=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,t1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",n1=new RegExp(`^${r1}$`);function i1(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function o1(e){let t=`${r1}T${i1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}class s1 extends H0{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_0.string){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.string,received:t.parsedType}),k0}const t=new D0;let r;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const n=e.data.length>o.value,i=e.data.length<o.value;(n||i)&&(r=this._getOrReturnCtx(e,r),n?T0(r,{code:x0.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&T0(r,{code:x0.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)Z0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"email",code:x0.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)Q0||(Q0=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Q0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"emoji",code:x0.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)X0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"uuid",code:x0.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)q0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"nanoid",code:x0.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)W0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"cuid",code:x0.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)$0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"cuid2",code:x0.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)Y0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"ulid",code:x0.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(mge){r=this._getOrReturnCtx(e,r),T0(r,{validation:"url",code:x0.invalid_string,message:o.message}),t.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"regex",code:x0.invalid_string,message:o.message}),t.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty()):"datetime"===o.kind?o1(o).test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:"datetime",message:o.message}),t.dirty()):"date"===o.kind?n1.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:"date",message:o.message}),t.dirty()):"time"===o.kind?new RegExp(`^${i1(o)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.invalid_string,validation:"time",message:o.message}),t.dirty()):"duration"===o.kind?K0.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"duration",code:x0.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?(n=e.data,("v4"!==(i=o.version)&&i||!J0.test(n))&&("v6"!==i&&i||!e1.test(n))&&(r=this._getOrReturnCtx(e,r),T0(r,{validation:"ip",code:x0.invalid_string,message:o.message}),t.dirty())):"base64"===o.kind?t1.test(e.data)||(r=this._getOrReturnCtx(e,r),T0(r,{validation:"base64",code:x0.invalid_string,message:o.message}),t.dirty()):g0.assertNever(o);var n,i;return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:x0.invalid_string,...L0.errToObj(r)})}_addCheck(e){return new s1({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L0.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L0.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L0.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L0.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L0.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L0.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L0.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L0.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L0.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L0.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...L0.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...L0.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...L0.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...L0.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...L0.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...L0.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...L0.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...L0.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...L0.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...L0.errToObj(t)})}nonempty(e){return this.min(1,L0.errToObj(e))}trim(){return new s1({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new s1({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new s1({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function a1(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}s1.create=e=>{var t;return new s1({checks:[],typeName:K1.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...V0(e)})};class l1 extends H0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_0.number){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.number,received:t.parsedType}),k0}let t;const r=new D0;for(const n of this._def.checks)"int"===n.kind?g0.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==a1(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.not_finite,message:n.message}),r.dirty()):g0.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,L0.toString(t))}gt(e,t){return this.setLimit("min",e,!1,L0.toString(t))}lte(e,t){return this.setLimit("max",e,!0,L0.toString(t))}lt(e,t){return this.setLimit("max",e,!1,L0.toString(t))}setLimit(e,t,r,n){return new l1({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:L0.toString(n)}]})}_addCheck(e){return new l1({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L0.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L0.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L0.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L0.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L0.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:L0.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:L0.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L0.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L0.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&g0.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}l1.create=e=>new l1({checks:[],typeName:K1.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...V0(e)});class u1 extends H0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_0.bigint){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.bigint,received:t.parsedType}),k0}let t;const r=new D0;for(const n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),T0(t,{code:x0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):g0.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,L0.toString(t))}gt(e,t){return this.setLimit("min",e,!1,L0.toString(t))}lte(e,t){return this.setLimit("max",e,!0,L0.toString(t))}lt(e,t){return this.setLimit("max",e,!1,L0.toString(t))}setLimit(e,t,r,n){return new u1({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:L0.toString(n)}]})}_addCheck(e){return new u1({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L0.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L0.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L0.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L0.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:L0.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}u1.create=e=>{var t;return new u1({checks:[],typeName:K1.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...V0(e)})};class c1 extends H0{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==_0.boolean){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.boolean,received:t.parsedType}),k0}return B0(e.data)}}c1.create=e=>new c1({typeName:K1.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...V0(e)});class d1 extends H0{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_0.date){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.date,received:t.parsedType}),k0}if(isNaN(e.data.getTime()))return T0(this._getOrReturnCtx(e),{code:x0.invalid_date}),k0;const t=new D0;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),T0(r,{code:x0.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):g0.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new d1({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:L0.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:L0.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}d1.create=e=>new d1({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:K1.ZodDate,...V0(e)});class h1 extends H0{_parse(e){if(this._getType(e)!==_0.symbol){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.symbol,received:t.parsedType}),k0}return B0(e.data)}}h1.create=e=>new h1({typeName:K1.ZodSymbol,...V0(e)});class f1 extends H0{_parse(e){if(this._getType(e)!==_0.undefined){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.undefined,received:t.parsedType}),k0}return B0(e.data)}}f1.create=e=>new f1({typeName:K1.ZodUndefined,...V0(e)});class p1 extends H0{_parse(e){if(this._getType(e)!==_0.null){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.null,received:t.parsedType}),k0}return B0(e.data)}}p1.create=e=>new p1({typeName:K1.ZodNull,...V0(e)});class m1 extends H0{constructor(){super(...arguments),this._any=!0}_parse(e){return B0(e.data)}}m1.create=e=>new m1({typeName:K1.ZodAny,...V0(e)});class g1 extends H0{constructor(){super(...arguments),this._unknown=!0}_parse(e){return B0(e.data)}}g1.create=e=>new g1({typeName:K1.ZodUnknown,...V0(e)});class v1 extends H0{_parse(e){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.never,received:t.parsedType}),k0}}v1.create=e=>new v1({typeName:K1.ZodNever,...V0(e)});class y1 extends H0{_parse(e){if(this._getType(e)!==_0.undefined){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.void,received:t.parsedType}),k0}return B0(e.data)}}y1.create=e=>new y1({typeName:K1.ZodVoid,...V0(e)});class _1 extends H0{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==_0.array)return T0(t,{code:x0.invalid_type,expected:_0.array,received:t.parsedType}),k0;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(T0(t,{code:e?x0.too_big:x0.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(T0(t,{code:x0.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(T0(t,{code:x0.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new z0(t,e,t.path,r))))).then((e=>D0.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new z0(t,e,t.path,r))));return D0.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new _1({...this._def,minLength:{value:e,message:L0.toString(t)}})}max(e,t){return new _1({...this._def,maxLength:{value:e,message:L0.toString(t)}})}length(e,t){return new _1({...this._def,exactLength:{value:e,message:L0.toString(t)}})}nonempty(e){return this.min(1,e)}}function b1(e){if(e instanceof x1){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=U1.create(b1(n))}return new x1({...e._def,shape:()=>t})}return e instanceof _1?new _1({...e._def,type:b1(e.element)}):e instanceof U1?U1.create(b1(e.unwrap())):e instanceof j1?j1.create(b1(e.unwrap())):e instanceof T1?T1.create(e.items.map((e=>b1(e)))):e}_1.create=(e,t)=>new _1({type:e,minLength:null,maxLength:null,exactLength:null,typeName:K1.ZodArray,...V0(t)});class x1 extends H0{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=g0.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_0.object){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.object,received:t.parsedType}),k0}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof v1&&"strip"===this._def.unknownKeys))for(const a in r.data)i.includes(a)||o.push(a);const s=[];for(const a of i){const e=n[a],t=r.data[a];s.push({key:{status:"valid",value:a},value:e._parse(new z0(r,t,r.path,a)),alwaysSet:a in r.data})}if(this._def.catchall instanceof v1){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)s.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)o.length>0&&(T0(r,{code:x0.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new z0(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>D0.mergeObjectSync(t,e))):D0.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return L0.errToObj,new x1({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,s;const a=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=L0.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new x1({...this._def,unknownKeys:"strip"})}passthrough(){return new x1({...this._def,unknownKeys:"passthrough"})}extend(e){return new x1({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new x1({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K1.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new x1({...this._def,catchall:e})}pick(e){const t={};return g0.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new x1({...this._def,shape:()=>t})}omit(e){const t={};return g0.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new x1({...this._def,shape:()=>t})}deepPartial(){return b1(this)}partial(e){const t={};return g0.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new x1({...this._def,shape:()=>t})}required(e){const t={};return g0.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof U1;)e=e._def.innerType;t[r]=e}})),new x1({...this._def,shape:()=>t})}keyof(){return F1(g0.objectKeys(this.shape))}}x1.create=(e,t)=>new x1({shape:()=>e,unknownKeys:"strip",catchall:v1.create(),typeName:K1.ZodObject,...V0(t)}),x1.strictCreate=(e,t)=>new x1({shape:()=>e,unknownKeys:"strict",catchall:v1.create(),typeName:K1.ZodObject,...V0(t)}),x1.lazycreate=(e,t)=>new x1({shape:e,unknownKeys:"strip",catchall:v1.create(),typeName:K1.ZodObject,...V0(t)});class w1 extends H0{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new w0(e.ctx.common.issues)));return T0(t,{code:x0.invalid_union,unionErrors:r}),k0}));{let e;const n=[];for(const o of r){const r={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new w0(e)));return T0(t,{code:x0.invalid_union,unionErrors:i}),k0}}get options(){return this._def.options}}w1.create=(e,t)=>new w1({options:e,typeName:K1.ZodUnion,...V0(t)});const E1=e=>e instanceof R1?E1(e.schema):e instanceof L1?E1(e.innerType()):e instanceof O1?[e.value]:e instanceof M1?e.options:e instanceof I1?g0.objectValues(e.enum):e instanceof z1?E1(e._def.innerType):e instanceof f1?[void 0]:e instanceof p1?[null]:e instanceof U1?[void 0,...E1(e.unwrap())]:e instanceof j1?[null,...E1(e.unwrap())]:e instanceof W1||e instanceof Y1?E1(e.unwrap()):e instanceof G1?E1(e._def.innerType):[];class C1 extends H0{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_0.object)return T0(t,{code:x0.invalid_type,expected:_0.object,received:t.parsedType}),k0;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(T0(t,{code:x0.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),k0)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const i of t){const t=E1(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(n.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);n.set(r,i)}}return new C1({typeName:K1.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...V0(r)})}}function S1(e,t){const r=b0(e),n=b0(t);if(e===t)return{valid:!0,data:e};if(r===_0.object&&n===_0.object){const r=g0.objectKeys(t),n=g0.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const o of n){const r=S1(e[o],t[o]);if(!r.valid)return{valid:!1};i[o]=r.data}return{valid:!0,data:i}}if(r===_0.array&&n===_0.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=S1(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===_0.date&&n===_0.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class A1 extends H0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(R0(e)||R0(n))return k0;const i=S1(e.value,n.value);return i.valid?((O0(e)||O0(n))&&t.dirty(),{status:t.value,value:i.data}):(T0(r,{code:x0.invalid_intersection_types}),k0)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}A1.create=(e,t,r)=>new A1({left:e,right:t,typeName:K1.ZodIntersection,...V0(r)});class T1 extends H0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_0.array)return T0(r,{code:x0.invalid_type,expected:_0.array,received:r.parsedType}),k0;if(r.data.length<this._def.items.length)return T0(r,{code:x0.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k0;!this._def.rest&&r.data.length>this._def.items.length&&(T0(r,{code:x0.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new z0(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>D0.mergeArray(t,e))):D0.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new T1({...this._def,rest:e})}}T1.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new T1({items:e,typeName:K1.ZodTuple,rest:null,...V0(t)})};class D1 extends H0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_0.object)return T0(r,{code:x0.invalid_type,expected:_0.object,received:r.parsedType}),k0;const n=[],i=this._def.keyType,o=this._def.valueType;for(const s in r.data)n.push({key:i._parse(new z0(r,s,r.path,s)),value:o._parse(new z0(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?D0.mergeObjectAsync(t,n):D0.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new D1(t instanceof H0?{keyType:e,valueType:t,typeName:K1.ZodRecord,...V0(r)}:{keyType:s1.create(),valueType:e,typeName:K1.ZodRecord,...V0(t)})}}class k1 extends H0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_0.map)return T0(r,{code:x0.invalid_type,expected:_0.map,received:r.parsedType}),k0;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map((([e,t],o)=>({key:n._parse(new z0(r,e,r.path,[o,"key"])),value:i._parse(new z0(r,t,r.path,[o,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of o){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return k0;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of o){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return k0;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}k1.create=(e,t,r)=>new k1({valueType:t,keyType:e,typeName:K1.ZodMap,...V0(r)});class P1 extends H0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_0.set)return T0(r,{code:x0.invalid_type,expected:_0.set,received:r.parsedType}),k0;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(T0(r,{code:x0.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(T0(r,{code:x0.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const r=new Set;for(const n of e){if("aborted"===n.status)return k0;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const s=[...r.data.values()].map(((e,t)=>i._parse(new z0(r,e,r.path,t))));return r.common.async?Promise.all(s).then((e=>o(e))):o(s)}min(e,t){return new P1({...this._def,minSize:{value:e,message:L0.toString(t)}})}max(e,t){return new P1({...this._def,maxSize:{value:e,message:L0.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}P1.create=(e,t)=>new P1({valueType:e,minSize:null,maxSize:null,typeName:K1.ZodSet,...V0(t)});class B1 extends H0{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_0.function)return T0(t,{code:x0.invalid_type,expected:_0.function,received:t.parsedType}),k0;function r(e,r){return A0({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,S0(),E0].filter((e=>!!e)),issueData:{code:x0.invalid_arguments,argumentsError:r}})}function n(e,r){return A0({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,S0(),E0].filter((e=>!!e)),issueData:{code:x0.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof N1){const e=this;return B0((async function(...t){const s=new w0([]),a=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(r(t,e)),s})),l=await Reflect.apply(o,this,a),u=await e._def.returns._def.type.parseAsync(l,i).catch((e=>{throw s.addIssue(n(l,e)),s}));return u}))}{const e=this;return B0((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new w0([r(t,s.error)]);const a=Reflect.apply(o,this,s.data),l=e._def.returns.safeParse(a,i);if(!l.success)throw new w0([n(a,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new B1({...this._def,args:T1.create(e).rest(g1.create())})}returns(e){return new B1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new B1({args:e||T1.create([]).rest(g1.create()),returns:t||g1.create(),typeName:K1.ZodFunction,...V0(r)})}}class R1 extends H0{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}R1.create=(e,t)=>new R1({getter:e,typeName:K1.ZodLazy,...V0(t)});class O1 extends H0{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return T0(t,{received:t.data,code:x0.invalid_literal,expected:this._def.value}),k0}return{status:"valid",value:e.data}}get value(){return this._def.value}}function F1(e,t){return new M1({values:e,typeName:K1.ZodEnum,...V0(t)})}O1.create=(e,t)=>new O1({value:e,typeName:K1.ZodLiteral,...V0(t)});class M1 extends H0{constructor(){super(...arguments),U0.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return T0(t,{expected:g0.joinValues(r),received:t.parsedType,code:x0.invalid_type}),k0}if(I0(this,U0,"f")||N0(this,U0,new Set(this._def.values),"f"),!I0(this,U0,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return T0(t,{received:t.data,code:x0.invalid_enum_value,options:r}),k0}return B0(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return M1.create(e,{...this._def,...t})}exclude(e,t=this._def){return M1.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}U0=new WeakMap,M1.create=F1;class I1 extends H0{constructor(){super(...arguments),j0.set(this,void 0)}_parse(e){const t=g0.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_0.string&&r.parsedType!==_0.number){const e=g0.objectValues(t);return T0(r,{expected:g0.joinValues(e),received:r.parsedType,code:x0.invalid_type}),k0}if(I0(this,j0,"f")||N0(this,j0,new Set(g0.getValidEnumValues(this._def.values)),"f"),!I0(this,j0,"f").has(e.data)){const e=g0.objectValues(t);return T0(r,{received:r.data,code:x0.invalid_enum_value,options:e}),k0}return B0(e.data)}get enum(){return this._def.values}}j0=new WeakMap,I1.create=(e,t)=>new I1({values:e,typeName:K1.ZodNativeEnum,...V0(t)});class N1 extends H0{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_0.promise&&!1===t.common.async)return T0(t,{code:x0.invalid_type,expected:_0.promise,received:t.parsedType}),k0;const r=t.parsedType===_0.promise?t.data:Promise.resolve(t.data);return B0(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}N1.create=(e,t)=>new N1({type:e,typeName:K1.ZodPromise,...V0(t)});class L1 extends H0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{T0(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){const e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return k0;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?k0:"dirty"===n.status||"dirty"===t.value?P0(n.value):n}));{if("aborted"===t.value)return k0;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?k0:"dirty"===n.status||"dirty"===t.value?P0(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?k0:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?k0:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!F0(e))return e;const o=n.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>F0(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}g0.assertNever(n)}}L1.create=(e,t,r)=>new L1({schema:e,typeName:K1.ZodEffects,effect:t,...V0(r)}),L1.createWithPreprocess=(e,t,r)=>new L1({schema:t,effect:{type:"preprocess",transform:e},typeName:K1.ZodEffects,...V0(r)});class U1 extends H0{_parse(e){return this._getType(e)===_0.undefined?B0(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}U1.create=(e,t)=>new U1({innerType:e,typeName:K1.ZodOptional,...V0(t)});class j1 extends H0{_parse(e){return this._getType(e)===_0.null?B0(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}j1.create=(e,t)=>new j1({innerType:e,typeName:K1.ZodNullable,...V0(t)});class z1 extends H0{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===_0.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}z1.create=(e,t)=>new z1({innerType:e,typeName:K1.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...V0(t)});class G1 extends H0{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return M0(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new w0(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new w0(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}G1.create=(e,t)=>new G1({innerType:e,typeName:K1.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...V0(t)});class V1 extends H0{_parse(e){if(this._getType(e)!==_0.nan){const t=this._getOrReturnCtx(e);return T0(t,{code:x0.invalid_type,expected:_0.nan,received:t.parsedType}),k0}return{status:"valid",value:e.data}}}V1.create=e=>new V1({typeName:K1.ZodNaN,...V0(e)});const H1=Symbol("zod_brand");class W1 extends H0{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class $1 extends H0{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k0:"dirty"===e.status?(t.dirty(),P0(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k0:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new $1({in:e,out:t,typeName:K1.ZodPipeline})}}class Y1 extends H0{_parse(e){const t=this._def.innerType._parse(e),r=e=>(F0(e)&&(e.value=Object.freeze(e.value)),e);return M0(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function X1(e,t={},r){return e?m1.create().superRefine(((n,i)=>{var o,s;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:a})}})):m1.create()}Y1.create=(e,t)=>new Y1({innerType:e,typeName:K1.ZodReadonly,...V0(t)});const q1={object:x1.lazycreate};var K1;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(K1||(K1={}));const Z1=e("bQ",s1.create),Q1=l1.create,J1=V1.create,e2=u1.create,t2=c1.create,r2=d1.create,n2=h1.create,i2=f1.create,o2=p1.create,s2=m1.create,a2=g1.create,l2=v1.create,u2=y1.create,c2=_1.create,d2=e("bP",x1.create),h2=x1.strictCreate,f2=w1.create,p2=C1.create,m2=A1.create,g2=T1.create,v2=D1.create,y2=k1.create,_2=P1.create,b2=B1.create,x2=R1.create,w2=O1.create,E2=M1.create,C2=I1.create,S2=N1.create,A2=L1.create,T2=U1.create,D2=j1.create,k2=L1.createWithPreprocess,P2=$1.create,B2={string:e=>s1.create({...e,coerce:!0}),number:e=>l1.create({...e,coerce:!0}),boolean:e=>c1.create({...e,coerce:!0}),bigint:e=>u1.create({...e,coerce:!0}),date:e=>d1.create({...e,coerce:!0})},R2=k0;e("d9",Object.freeze({__proto__:null,defaultErrorMap:E0,setErrorMap:function(e){C0=e},getErrorMap:S0,makeIssue:A0,EMPTY_PATH:[],addIssueToContext:T0,ParseStatus:D0,INVALID:k0,DIRTY:P0,OK:B0,isAborted:R0,isDirty:O0,isValid:F0,isAsync:M0,get util(){return g0},get objectUtil(){return v0},ZodParsedType:_0,getParsedType:b0,ZodType:H0,datetimeRegex:o1,ZodString:s1,ZodNumber:l1,ZodBigInt:u1,ZodBoolean:c1,ZodDate:d1,ZodSymbol:h1,ZodUndefined:f1,ZodNull:p1,ZodAny:m1,ZodUnknown:g1,ZodNever:v1,ZodVoid:y1,ZodArray:_1,ZodObject:x1,ZodUnion:w1,ZodDiscriminatedUnion:C1,ZodIntersection:A1,ZodTuple:T1,ZodRecord:D1,ZodMap:k1,ZodSet:P1,ZodFunction:B1,ZodLazy:R1,ZodLiteral:O1,ZodEnum:M1,ZodNativeEnum:I1,ZodPromise:N1,ZodEffects:L1,ZodTransformer:L1,ZodOptional:U1,ZodNullable:j1,ZodDefault:z1,ZodCatch:G1,ZodNaN:V1,BRAND:H1,ZodBranded:W1,ZodPipeline:$1,ZodReadonly:Y1,custom:X1,Schema:H0,ZodSchema:H0,late:q1,get ZodFirstPartyTypeKind(){return K1},coerce:B2,any:s2,array:c2,bigint:e2,boolean:t2,date:r2,discriminatedUnion:p2,effect:A2,enum:E2,function:b2,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>X1((t=>t instanceof e),t),intersection:m2,lazy:x2,literal:w2,map:y2,nan:J1,nativeEnum:C2,never:l2,null:o2,nullable:D2,number:Q1,object:d2,oboolean:()=>t2().optional(),onumber:()=>Q1().optional(),optional:T2,ostring:()=>Z1().optional(),pipeline:P2,preprocess:k2,promise:S2,record:v2,set:_2,strictObject:h2,string:Z1,symbol:n2,transformer:A2,tuple:g2,undefined:i2,union:f2,unknown:a2,void:u2,NEVER:R2,ZodIssueCode:x0,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:w0}));var O2="Dialog",[F2,M2]=Zq(O2),[I2,N2]=F2(O2),L2=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=H.useRef(null),l=H.useRef(null),[u=!1,c]=fj({prop:n,defaultProp:i,onChange:o});return ee.jsx(I2,{scope:t,triggerRef:a,contentRef:l,contentId:jj(),titleId:jj(),descriptionId:jj(),open:u,onOpenChange:c,onOpenToggle:H.useCallback((()=>c((e=>!e))),[c]),modal:s,children:r})};L2.displayName=O2;var U2="DialogTrigger",j2=H.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=N2(U2,r),o=aU(t,i.triggerRef);return ee.jsx(fU.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":o3(i.open),...n,ref:o,onClick:CU(e.onClick,i.onOpenToggle)})}));j2.displayName=U2;var z2="DialogPortal",[G2,V2]=F2(z2,{forceMount:void 0}),H2=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=N2(z2,t);return ee.jsx(G2,{scope:t,forceMount:r,children:H.Children.map(n,(e=>ee.jsx(pK,{present:r||o.open,children:ee.jsx(fK,{asChild:!0,container:i,children:e})})))})};H2.displayName=z2;var W2="DialogOverlay",$2=H.forwardRef(((e,t)=>{const r=V2(W2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=N2(W2,e.__scopeDialog);return o.modal?ee.jsx(pK,{present:n||o.open,children:ee.jsx(Y2,{...i,ref:t})}):null}));$2.displayName=W2;var Y2=H.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=N2(W2,r);return ee.jsx(MK,{as:lU,allowPinchZoom:!0,shards:[i.contentRef],children:ee.jsx(fU.div,{"data-state":o3(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})})),X2="DialogContent",q2=H.forwardRef(((e,t)=>{const r=V2(X2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=N2(X2,e.__scopeDialog);return ee.jsx(pK,{present:n||o.open,children:o.modal?ee.jsx(K2,{...i,ref:t}):ee.jsx(Z2,{...i,ref:t})})}));q2.displayName=X2;var K2=H.forwardRef(((e,t)=>{const r=N2(X2,e.__scopeDialog),n=H.useRef(null),i=aU(t,r.contentRef,n);return H.useEffect((()=>{const e=n.current;if(e)return cV(e)}),[]),ee.jsx(Q2,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:CU(e.onCloseAutoFocus,(e=>{e.preventDefault(),r.triggerRef.current?.focus()})),onPointerDownOutside:CU(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()})),onFocusOutside:CU(e.onFocusOutside,(e=>e.preventDefault()))})})),Z2=H.forwardRef(((e,t)=>{const r=N2(X2,e.__scopeDialog),n=H.useRef(!1),i=H.useRef(!1);return ee.jsx(Q2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target,s=r.triggerRef.current?.contains(o);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),Q2=H.forwardRef(((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=N2(X2,r),l=H.useRef(null),u=aU(t,l);return dK(),ee.jsxs(ee.Fragment,{children:[ee.jsx(Bj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:ee.jsx(iK,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":o3(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),ee.jsxs(ee.Fragment,{children:[ee.jsx(u3,{titleId:a.titleId}),ee.jsx(c3,{contentRef:l,descriptionId:a.descriptionId})]})]})})),J2="DialogTitle",e3=H.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=N2(J2,r);return ee.jsx(fU.h2,{id:i.titleId,...n,ref:t})}));e3.displayName=J2;var t3="DialogDescription",r3=H.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=N2(t3,r);return ee.jsx(fU.p,{id:i.descriptionId,...n,ref:t})}));r3.displayName=t3;var n3="DialogClose",i3=H.forwardRef(((e,t)=>{const{__scopeDialog:r,...n}=e,i=N2(n3,r);return ee.jsx(fU.button,{type:"button",...n,ref:t,onClick:CU(e.onClick,(()=>i.onOpenChange(!1)))})}));function o3(e){return e?"open":"closed"}i3.displayName=n3;var s3="DialogTitleWarning",[a3,l3]=function(e,t){const r=H.createContext(t),n=e=>{const{children:t,...n}=e,i=H.useMemo((()=>n),Object.values(n));return ee.jsx(r.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(n){const i=H.useContext(r);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(s3,{contentName:X2,titleName:J2,docsSlug:"dialog"}),u3=({titleId:e})=>{const t=l3(s3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return H.useEffect((()=>{e&&(document.getElementById(e)||console.error(r))}),[r,e]),null},c3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l3("DialogDescriptionWarning").contentName}}.`;return H.useEffect((()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))}),[r,e,t]),null},d3=e("bH",L2),h3=j2,f3=e("bI",H2),p3=e("bB",$2),m3=e("bC",q2),g3=e("bF",e3),v3=e("bG",r3),y3=e("bD",i3),_3=H.forwardRef(((e,t)=>ee.jsx(fU.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));_3.displayName="Label",e("bJ",_3);var b3="Progress",x3=100,[w3,E3]=yU(b3),[C3,S3]=w3(b3),A3=H.forwardRef(((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:o=k3,...s}=e;!i&&0!==i||R3(i)||console.error(`Invalid prop \`max\` of value \`${i}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const a=R3(i)?i:x3;null===n||O3(n,a)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${n}`,"Progress"));const l=O3(n,a)?n:null,u=B3(l)?o(l,a):void 0;return ee.jsx(C3,{scope:r,value:l,max:a,children:ee.jsx(fU.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":B3(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":P3(l,a),"data-value":l??void 0,"data-max":a,...s,ref:t})})}));A3.displayName=b3;var T3="ProgressIndicator",D3=H.forwardRef(((e,t)=>{const{__scopeProgress:r,...n}=e,i=S3(T3,r);return ee.jsx(fU.div,{"data-state":P3(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})}));function k3(e,t){return`${Math.round(e/t*100)}%`}function P3(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function B3(e){return"number"==typeof e}function R3(e){return B3(e)&&!isNaN(e)&&e>0}function O3(e,t){return B3(e)&&!isNaN(e)&&e<=t&&e>=0}D3.displayName=T3,e("bT",A3),e("bU",D3);var F3="AlertDialog",[M3,I3]=Zq(F3,[M2]),N3=M2(),L3=e=>{const{__scopeAlertDialog:t,...r}=e,n=N3(t);return ee.jsx(d3,{...n,...r,modal:!0})};L3.displayName=F3,H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=N3(r);return ee.jsx(h3,{...i,...n,ref:t})})).displayName="AlertDialogTrigger";var U3=e=>{const{__scopeAlertDialog:t,...r}=e,n=N3(t);return ee.jsx(f3,{...n,...r})};U3.displayName="AlertDialogPortal";var j3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=N3(r);return ee.jsx(p3,{...i,...n,ref:t})}));j3.displayName="AlertDialogOverlay";var z3="AlertDialogContent",[G3,V3]=M3(z3),H3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,o=N3(r),s=H.useRef(null),a=aU(t,s),l=H.useRef(null);return ee.jsx(a3,{contentName:z3,titleName:W3,docsSlug:"alert-dialog",children:ee.jsx(G3,{scope:r,cancelRef:l,children:ee.jsxs(m3,{role:"alertdialog",...o,...i,ref:a,onOpenAutoFocus:CU(i.onOpenAutoFocus,(e=>{e.preventDefault(),l.current?.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[ee.jsx(cU,{children:n}),ee.jsx(Q3,{contentRef:s})]})})})}));H3.displayName=z3;var W3="AlertDialogTitle",$3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=N3(r);return ee.jsx(g3,{...i,...n,ref:t})}));$3.displayName=W3;var Y3="AlertDialogDescription",X3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=N3(r);return ee.jsx(v3,{...i,...n,ref:t})}));X3.displayName=Y3;var q3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=N3(r);return ee.jsx(y3,{...i,...n,ref:t})}));q3.displayName="AlertDialogAction";var K3="AlertDialogCancel",Z3=H.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=V3(K3,r),o=N3(r),s=aU(t,i);return ee.jsx(y3,{...o,...n,ref:s})}));Z3.displayName=K3;var Q3=({contentRef:e})=>{const t=`\`${z3}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${z3}\` by passing a \`${Y3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${z3}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return H.useEffect((()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)}),[t,e]),null};function J3(e){const t=H.useRef({value:e,previous:e});return H.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}e("c1",L3),e("c0",U3),e("bW",j3),e("bX",H3),e("b_",q3),e("b$",Z3),e("bY",$3),e("bZ",X3);var e4=["PageUp","PageDown"],t4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],r4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},n4="Slider",[i4,o4,s4]=pj(n4),[a4,l4]=Zq(n4,[s4]),[u4,c4]=a4(n4),d4=H.forwardRef(((e,t)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:c,onValueChange:d=(()=>{}),onValueCommit:h=(()=>{}),inverted:f=!1,form:p,...m}=e,g=H.useRef(new Set),v=H.useRef(0),y="horizontal"===s?p4:m4,[_=[],b]=fj({prop:c,defaultProp:u,onChange:e=>{const t=[...g.current];t[v.current]?.focus(),d(e)}}),x=H.useRef(_);function w(e,t,{commit:r}={commit:!1}){const s=function(e){return(String(e).split(".")[1]||"").length}(o),a=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-n)/o)*o+n,s),u=EU(a,[n,i]);b(((e=[])=>{const n=function(e=[],t,r){const n=[...e];return n[r]=t,n.sort(((e,t)=>e-t))}(e,u,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map(((t,r)=>e[r+1]-t))}(e);return Math.min(...r)>=t}return!0}(n,l*o)){v.current=n.indexOf(u);const t=String(n)!==String(e);return t&&r&&h(n),t?n:e}return e}))}return ee.jsx(u4,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:s,form:p,children:ee.jsx(i4.Provider,{scope:e.__scopeSlider,children:ee.jsx(i4.Slot,{scope:e.__scopeSlider,children:ee.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:t,onPointerDown:CU(m.onPointerDown,(()=>{a||(x.current=_)})),min:n,max:i,inverted:f,onSlideStart:a?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map((e=>Math.abs(e-t))),n=Math.min(...r);return r.indexOf(n)}(_,e);w(e,t)},onSlideMove:a?void 0:function(e){w(e,v.current)},onSlideEnd:a?void 0:function(){const e=x.current[v.current];_[v.current]!==e&&h(_)},onHomeKeyDown:()=>!a&&w(n,0,{commit:!0}),onEndKeyDown:()=>!a&&w(i,_.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!a){const r=e4.includes(e.key)||e.shiftKey&&t4.includes(e.key)?10:1,n=v.current;w(_[n]+o*r*t,n,{commit:!0})}}})})})})}));d4.displayName=n4;var[h4,f4]=a4(n4,{startEdge:"left",endEdge:"right",size:"width",direction:1}),p4=H.forwardRef(((e,t)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...c}=e,[d,h]=H.useState(null),f=aU(t,(e=>h(e))),p=H.useRef(),m=wU(i),g="ltr"===m,v=g&&!o||!g&&o;function y(e){const t=p.current||d.getBoundingClientRect(),i=A4([0,t.width],v?[r,n]:[n,r]);return p.current=t,i(e-t.left)}return ee.jsx(h4,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:ee.jsx(g4,{dir:m,"data-orientation":"horizontal",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=y(e.clientX);s?.(t)},onSlideMove:e=>{const t=y(e.clientX);a?.(t)},onSlideEnd:()=>{p.current=void 0,l?.()},onStepKeyDown:e=>{const t=r4[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})})),m4=H.forwardRef(((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...u}=e,c=H.useRef(null),d=aU(t,c),h=H.useRef(),f=!i;function p(e){const t=h.current||c.current.getBoundingClientRect(),i=A4([0,t.height],f?[n,r]:[r,n]);return h.current=t,i(e-t.top)}return ee.jsx(h4,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:ee.jsx(g4,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=p(e.clientY);o?.(t)},onSlideMove:e=>{const t=p(e.clientY);s?.(t)},onSlideEnd:()=>{h.current=void 0,a?.()},onStepKeyDown:e=>{const t=r4[f?"from-bottom":"from-top"].includes(e.key);l?.({event:e,direction:t?-1:1})}})})})),g4=H.forwardRef(((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...u}=e,c=c4(n4,r);return ee.jsx(fU.span,{...u,ref:t,onKeyDown:CU(e.onKeyDown,(e=>{"Home"===e.key?(s(e),e.preventDefault()):"End"===e.key?(a(e),e.preventDefault()):e4.concat(t4).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:CU(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),c.thumbs.has(t)?t.focus():n(e)})),onPointerMove:CU(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)})),onPointerUp:CU(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))}))})})),v4="SliderTrack",y4=H.forwardRef(((e,t)=>{const{__scopeSlider:r,...n}=e,i=c4(v4,r);return ee.jsx(fU.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})}));y4.displayName=v4;var _4="SliderRange",b4=H.forwardRef(((e,t)=>{const{__scopeSlider:r,...n}=e,i=c4(_4,r),o=f4(_4,r),s=aU(t,H.useRef(null)),a=i.values.length,l=i.values.map((e=>S4(e,i.min,i.max))),u=a>1?Math.min(...l):0,c=100-Math.max(...l);return ee.jsx(fU.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:c+"%"}})}));b4.displayName=_4;var x4="SliderThumb",w4=H.forwardRef(((e,t)=>{const r=o4(e.__scopeSlider),[n,i]=H.useState(null),o=aU(t,(e=>i(e))),s=H.useMemo((()=>n?r().findIndex((e=>e.ref.current===n)):-1),[r,n]);return ee.jsx(E4,{...e,ref:o,index:s})})),E4=H.forwardRef(((e,t)=>{const{__scopeSlider:r,index:n,name:i,...o}=e,s=c4(x4,r),a=f4(x4,r),[l,u]=H.useState(null),c=aU(t,(e=>u(e))),d=!l||s.form||!!l.closest("form"),h=gG(l),f=s.values[n],p=void 0===f?0:S4(f,s.min,s.max),m=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,s.values.length),g=h?.[a.size],v=g?function(e,t,r){const n=e/2,i=A4([0,50],[0,n]);return(n-i(t)*r)*r}(g,p,a.direction):0;return H.useEffect((()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}}),[l,s.thumbs]),ee.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${v}px)`},children:[ee.jsx(i4.ItemSlot,{scope:e.__scopeSlider,children:ee.jsx(fU.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":f,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:c,style:void 0===f?{display:"none"}:e.style,onFocus:CU(e.onFocus,(()=>{s.valueIndexToChangeRef.current=n}))})}),d&&ee.jsx(C4,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:f},n)]})}));w4.displayName=x4;var C4=e=>{const{value:t,...r}=e,n=H.useRef(null),i=J3(t);return H.useEffect((()=>{const e=n.current,r=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(r,"value").set;if(i!==t&&o){const r=new Event("input",{bubbles:!0});o.call(e,t),e.dispatchEvent(r)}}),[i,t]),ee.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function S4(e,t,r){return EU(100/(r-t)*(e-t),[0,100])}function A4(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}e("c2",d4),e("c3",y4),e("c4",b4),e("c5",w4);var T4=H.forwardRef(((e,t)=>ee.jsx(fU.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));T4.displayName="VisuallyHidden";var D4=T4,k4=[" ","Enter","ArrowUp","ArrowDown"],P4=[" ","Enter"],B4="Select",[R4,O4,F4]=pj(B4),[M4,I4]=yU(B4,[F4,_G]),N4=_G(),[L4,U4]=M4(B4),[j4,z4]=M4(B4),G4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:d,disabled:h,required:f}=e,p=N4(t),[m,g]=H.useState(null),[v,y]=H.useState(null),[_,b]=H.useState(!1),x=wU(u),[w=!1,E]=fj({prop:n,defaultProp:i,onChange:o}),[C,S]=fj({prop:s,defaultProp:a,onChange:l}),A=H.useRef(null),T=!m||Boolean(m.closest("form")),[D,k]=H.useState(new Set),P=Array.from(D).map((e=>e.props.value)).join(";");return ee.jsx(MG,{...p,children:ee.jsxs(L4,{required:f,scope:t,trigger:m,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:b,contentId:jj(),value:C,onValueChange:S,open:w,onOpenChange:E,dir:x,triggerPointerDownPosRef:A,disabled:h,children:[ee.jsx(R4.Provider,{scope:t,children:ee.jsx(j4,{scope:e.__scopeSelect,onNativeOptionAdd:H.useCallback((e=>{k((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:H.useCallback((e=>{k((t=>{const r=new Set(t);return r.delete(e),r}))}),[]),children:r})}),T?ee.jsxs(P8,{"aria-hidden":!0,required:f,tabIndex:-1,name:c,autoComplete:d,value:C,onChange:e=>S(e.target.value),disabled:h,children:[void 0===C?ee.jsx("option",{value:""}):null,Array.from(D)]},P):null]})})};G4.displayName=B4;var V4="SelectTrigger",H4=H.forwardRef(((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=N4(r),s=U4(V4,r),a=s.disabled||n,l=aU(t,s.onTriggerChange),u=O4(r),[c,d,h]=B8((e=>{const t=u().filter((e=>!e.disabled)),r=t.find((e=>e.value===s.value)),n=R8(t,e,r);void 0!==n&&s.onValueChange(n.value)})),f=()=>{a||(s.onOpenChange(!0),h())};return ee.jsx(IG,{asChild:!0,...o,children:ee.jsx(fU.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":k8(s.value)?"":void 0,...i,ref:l,onClick:CU(i.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:CU(i.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(f(),s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:CU(i.onKeyDown,(e=>{const t=""!==c.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||d(e.key),t&&" "===e.key||k4.includes(e.key)&&(f(),e.preventDefault())}))})})}));H4.displayName=V4;var W4="SelectValue",$4=H.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:s="",...a}=e,l=U4(W4,r),{onValueNodeHasChildrenChange:u}=l,c=void 0!==o,d=aU(t,l.onValueNodeChange);return mU((()=>{u(c)}),[u,c]),ee.jsx(fU.span,{...a,ref:d,style:{pointerEvents:"none"},children:k8(l.value)?ee.jsx(ee.Fragment,{children:s}):o})}));$4.displayName=W4;var Y4=H.forwardRef(((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return ee.jsx(fU.span,{"aria-hidden":!0,...i,ref:t,children:n||""})}));Y4.displayName="SelectIcon";var X4=e=>ee.jsx(UG,{asChild:!0,...e});X4.displayName="SelectPortal";var q4="SelectContent",K4=H.forwardRef(((e,t)=>{const r=U4(q4,e.__scopeSelect),[n,i]=H.useState();if(mU((()=>{i(new DocumentFragment)}),[]),!r.open){const t=n;return t?ld.createPortal(ee.jsx(Q4,{scope:e.__scopeSelect,children:ee.jsx(R4.Slot,{scope:e.__scopeSelect,children:ee.jsx("div",{children:e.children})})}),t):null}return ee.jsx(e8,{...e,ref:t})}));K4.displayName=q4;var Z4=10,[Q4,J4]=M4(q4),e8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...v}=e,y=U4(q4,r),[_,b]=H.useState(null),[x,w]=H.useState(null),E=aU(t,(e=>b(e))),[C,S]=H.useState(null),[A,T]=H.useState(null),D=O4(r),[k,P]=H.useState(!1),B=H.useRef(!1);H.useEffect((()=>{if(_)return cV(_)}),[_]),Aj();const R=H.useCallback((e=>{const[t,...r]=D().map((e=>e.ref.current)),[n]=r.slice(-1),i=document.activeElement;for(const o of e){if(o===i)return;if(o?.scrollIntoView({block:"nearest"}),o===t&&x&&(x.scrollTop=0),o===n&&x&&(x.scrollTop=x.scrollHeight),o?.focus(),document.activeElement!==i)return}}),[D,x]),O=H.useCallback((()=>R([C,_])),[R,C,_]);H.useEffect((()=>{k&&O()}),[k,O]);const{onOpenChange:F,triggerPointerDownPosRef:M}=y;H.useEffect((()=>{if(_){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(M.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():_.contains(r.target)||F(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}}),[_,F,M]),H.useEffect((()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[F]);const[I,N]=B8((e=>{const t=D().filter((e=>!e.disabled)),r=t.find((e=>e.ref.current===document.activeElement)),n=R8(t,e,r);n&&setTimeout((()=>n.ref.current.focus()))})),L=H.useCallback(((e,t,r)=>{const n=!B.current&&!r;(void 0!==y.value&&y.value===t||n)&&(S(e),n&&(B.current=!0))}),[y.value]),U=H.useCallback((()=>_?.focus()),[_]),j=H.useCallback(((e,t,r)=>{const n=!B.current&&!r;(void 0!==y.value&&y.value===t||n)&&T(e)}),[y.value]),z="popper"===n?r8:t8,G=z===r8?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return ee.jsx(Q4,{scope:r,content:_,viewport:x,onViewportChange:w,itemRefCallback:L,selectedItem:C,onItemLeave:U,itemTextRefCallback:j,focusSelectedItem:O,selectedItemText:A,position:n,isPositioned:k,searchRef:I,children:ee.jsx(ZV,{as:lU,allowPinchZoom:!0,children:ee.jsx(Bj,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:CU(i,(e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:ee.jsx(xj,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:ee.jsx(z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...G,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:CU(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||N(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout((()=>R(t))),e.preventDefault()}}))})})})})})}));e8.displayName="SelectContentImpl";var t8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=U4(q4,r),s=J4(q4,r),[a,l]=H.useState(null),[u,c]=H.useState(null),d=aU(t,(e=>c(e))),h=O4(r),f=H.useRef(!1),p=H.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=s,_=H.useCallback((()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&g&&v){const e=o.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),i=v.getBoundingClientRect();if("rtl"!==o.dir){const n=i.left-t.left,o=r.left-n,s=e.left-o,l=e.width+s,u=Math.max(l,t.width),c=window.innerWidth-Z4,d=EU(o,[Z4,c-u]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{const n=t.right-i.right,o=window.innerWidth-r.right-n,s=window.innerWidth-e.right-o,l=e.width+s,u=Math.max(l,t.width),c=window.innerWidth-Z4,d=EU(o,[Z4,c-u]);a.style.minWidth=l+"px",a.style.right=d+"px"}const s=h(),l=window.innerHeight-2*Z4,c=m.scrollHeight,d=window.getComputedStyle(u),p=parseInt(d.borderTopWidth,10),y=parseInt(d.paddingTop,10),_=parseInt(d.borderBottomWidth,10),b=p+y+c+parseInt(d.paddingBottom,10)+_,x=Math.min(5*g.offsetHeight,b),w=window.getComputedStyle(m),E=parseInt(w.paddingTop,10),C=parseInt(w.paddingBottom,10),S=e.top+e.height/2-Z4,A=l-S,T=g.offsetHeight/2,D=p+y+(g.offsetTop+T),k=b-D;if(D<=S){const e=g===s[s.length-1].ref.current;a.style.bottom="0px";const t=u.clientHeight-m.offsetTop-m.offsetHeight,r=D+Math.max(A,T+(e?C:0)+t+_);a.style.height=r+"px"}else{const e=g===s[0].ref.current;a.style.top="0px";const t=Math.max(S,p+m.offsetTop+(e?E:0)+T)+k;a.style.height=t+"px",m.scrollTop=D-S+m.offsetTop}a.style.margin=`${Z4}px 0`,a.style.minHeight=x+"px",a.style.maxHeight=l+"px",n?.(),requestAnimationFrame((()=>f.current=!0))}}),[h,o.trigger,o.valueNode,a,u,m,g,v,o.dir,n]);mU((()=>_()),[_]);const[b,x]=H.useState();mU((()=>{u&&x(window.getComputedStyle(u).zIndex)}),[u]);const w=H.useCallback((e=>{e&&!0===p.current&&(_(),y?.(),p.current=!1)}),[_,y]);return ee.jsx(n8,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:w,children:ee.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:ee.jsx(fU.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));t8.displayName="SelectItemAlignedPosition";var r8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Z4,...o}=e,s=N4(r);return ee.jsx(NG,{...s,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));r8.displayName="SelectPopperPosition";var[n8,i8]=M4(q4,{}),o8="SelectViewport",s8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=J4(o8,r),s=i8(o8,r),a=aU(t,o.onViewportChange),l=H.useRef(0);return ee.jsxs(ee.Fragment,{children:[ee.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),ee.jsx(R4.Slot,{scope:r,children:ee.jsx(fU.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:CU(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(n?.current&&r){const e=Math.abs(l.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*Z4,i=parseFloat(r.style.minHeight),o=parseFloat(r.style.height),s=Math.max(i,o);if(s<n){const i=s+e,o=Math.min(n,i),a=i-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=a>0?a:0,r.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));s8.displayName=o8;var a8="SelectGroup",[l8,u8]=M4(a8),c8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=jj();return ee.jsx(l8,{scope:r,id:i,children:ee.jsx(fU.div,{role:"group","aria-labelledby":i,...n,ref:t})})}));c8.displayName=a8;var d8="SelectLabel",h8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=u8(d8,r);return ee.jsx(fU.div,{id:i.id,...n,ref:t})}));h8.displayName=d8;var f8="SelectItem",[p8,m8]=M4(f8),g8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...s}=e,a=U4(f8,r),l=J4(f8,r),u=a.value===n,[c,d]=H.useState(o??""),[h,f]=H.useState(!1),p=aU(t,(e=>l.itemRefCallback?.(e,n,i))),m=jj(),g=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return ee.jsx(p8,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:H.useCallback((e=>{d((t=>t||(e?.textContent??"").trim()))}),[]),children:ee.jsx(R4.ItemSlot,{scope:r,value:n,disabled:i,textValue:c,children:ee.jsx(fU.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:CU(s.onFocus,(()=>f(!0))),onBlur:CU(s.onBlur,(()=>f(!1))),onPointerUp:CU(s.onPointerUp,g),onPointerMove:CU(s.onPointerMove,(e=>{i?l.onItemLeave?.():e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:CU(s.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&l.onItemLeave?.()})),onKeyDown:CU(s.onKeyDown,(e=>{""!==l.searchRef?.current&&" "===e.key||(P4.includes(e.key)&&g()," "===e.key&&e.preventDefault())}))})})})}));g8.displayName=f8;var v8="SelectItemText",y8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,s=U4(v8,r),a=J4(v8,r),l=m8(v8,r),u=z4(v8,r),[c,d]=H.useState(null),h=aU(t,(e=>d(e)),l.onItemTextChange,(e=>a.itemTextRefCallback?.(e,l.value,l.disabled))),f=c?.textContent,p=H.useMemo((()=>ee.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value)),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return mU((()=>(m(p),()=>g(p))),[m,g,p]),ee.jsxs(ee.Fragment,{children:[ee.jsx(fU.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ld.createPortal(o.children,s.valueNode):null]})}));y8.displayName=v8;var _8="SelectItemIndicator",b8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e;return m8(_8,r).isSelected?ee.jsx(fU.span,{"aria-hidden":!0,...n,ref:t}):null}));b8.displayName=_8;var x8="SelectScrollUpButton",w8=H.forwardRef(((e,t)=>{const r=J4(x8,e.__scopeSelect),n=i8(x8,e.__scopeSelect),[i,o]=H.useState(!1),s=aU(t,n.onScrollButtonChange);return mU((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?ee.jsx(S8,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));w8.displayName=x8;var E8="SelectScrollDownButton",C8=H.forwardRef(((e,t)=>{const r=J4(E8,e.__scopeSelect),n=i8(E8,e.__scopeSelect),[i,o]=H.useState(!1),s=aU(t,n.onScrollButtonChange);return mU((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;o(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?ee.jsx(S8,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));C8.displayName=E8;var S8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=J4("SelectScrollButton",r),s=H.useRef(null),a=O4(r),l=H.useCallback((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return H.useEffect((()=>()=>l()),[l]),mU((()=>{const e=a().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[a]),ee.jsx(fU.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:CU(i.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(n,50))})),onPointerMove:CU(i.onPointerMove,(()=>{o.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(n,50))})),onPointerLeave:CU(i.onPointerLeave,(()=>{l()}))})})),A8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e;return ee.jsx(fU.div,{"aria-hidden":!0,...n,ref:t})}));A8.displayName="SelectSeparator";var T8="SelectArrow",D8=H.forwardRef(((e,t)=>{const{__scopeSelect:r,...n}=e,i=N4(r),o=U4(T8,r),s=J4(T8,r);return o.open&&"popper"===s.position?ee.jsx(LG,{...i,...n,ref:t}):null}));function k8(e){return""===e||void 0===e}D8.displayName=T8;var P8=H.forwardRef(((e,t)=>{const{value:r,...n}=e,i=H.useRef(null),o=aU(t,i),s=J3(r);return H.useEffect((()=>{const e=i.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[s,r]),ee.jsx(T4,{asChild:!0,children:ee.jsx("select",{...n,ref:o,defaultValue:r})})}));function B8(e){const t=bU(e),r=H.useRef(""),n=H.useRef(0),i=H.useCallback((e=>{const i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout((()=>e("")),1e3))}(i)}),[t]),o=H.useCallback((()=>{r.current="",window.clearTimeout(n.current)}),[]);return H.useEffect((()=>()=>window.clearTimeout(n.current)),[]),[r,i,o]}function R8(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=r?e.indexOf(r):-1;let o=(s=e,a=Math.max(i,0),s.map(((e,t)=>s[(a+t)%s.length])));var s,a;1===n.length&&(o=o.filter((e=>e!==r)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(n.toLowerCase())));return l!==r?l:void 0}function O8(){return(O8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F8(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function M8(e){var t=H.useRef(e),r=H.useRef((function(e){t.current&&t.current(e)}));return t.current=e,r.current}P8.displayName="BubbleSelect",e("cl",G4),e("c6",H4),e("cn",$4),e("c7",Y4),e("cd",X4),e("ce",K4),e("cf",s8),e("cm",c8),e("cg",h8),e("ch",g8),e("cj",y8),e("ci",b8),e("c9",w8),e("cb",C8),e("ck",A8);var I8=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},N8=function(e){return"touches"in e},L8=function(e){return e&&e.ownerDocument.defaultView||self},U8=function(e,t,r){var n=e.getBoundingClientRect(),i=N8(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:I8((i.pageX-(n.left+L8(e).pageXOffset))/n.width),top:I8((i.pageY-(n.top+L8(e).pageYOffset))/n.height)}},j8=function(e){!N8(e)&&e.preventDefault()},z8=W.memo((function(e){var t=e.onMove,r=e.onKey,n=F8(e,["onMove","onKey"]),i=H.useRef(null),o=M8(t),s=M8(r),a=H.useRef(null),l=H.useRef(!1),u=H.useMemo((function(){var e=function(e){j8(e),(N8(e)?e.touches.length>0:e.buttons>0)&&i.current?o(U8(i.current,e,a.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=l.current,o=L8(i.current),s=r?o.addEventListener:o.removeEventListener;s(n?"touchmove":"mousemove",e),s(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=i.current;if(n&&(j8(t),!function(e,t){return t&&!N8(e)}(t,l.current)&&n)){if(N8(t)){l.current=!0;var s=t.changedTouches||[];s.length&&(a.current=s[0].identifier)}n.focus(),o(U8(n,t,a.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]}),[s,o]),c=u[0],d=u[1],h=u[2];return H.useEffect((function(){return h}),[h]),W.createElement("div",O8({},n,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))})),G8=function(e){return e.filter(Boolean).join(" ")},V8=function(e){var t=e.color,r=e.left,n=e.top,i=void 0===n?.5:n,o=G8(["react-colorful__pointer",e.className]);return W.createElement("div",{className:o,style:{top:100*i+"%",left:100*r+"%"}},W.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},H8=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},W8=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?H8(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?H8(parseInt(e.substring(6,8),16)/255,2):1}},$8=function(e){var t=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:H8(e.h),s:H8(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:H8(i/2),a:H8(n,2)}}(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Y8=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),a=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),u=o%6;return{r:H8(255*[n,a,s,s,l,n][u]),g:H8(255*[l,n,n,a,s,s][u]),b:H8(255*[s,s,l,n,n,a][u]),a:H8(i,2)}},X8=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},q8=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=i<1?X8(H8(255*i)):"";return"#"+X8(t)+X8(r)+X8(n)+o},K8=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),a=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:H8(60*(a<0?a+6:a)),s:H8(o?s/o*100:0),v:H8(o/255*100),a:i}},Z8=W.memo((function(e){var t=e.hue,r=e.onChange,n=G8(["react-colorful__hue",e.className]);return W.createElement("div",{className:n},W.createElement(z8,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:I8(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":H8(t),"aria-valuemax":"360","aria-valuemin":"0"},W.createElement(V8,{className:"react-colorful__hue-pointer",left:t/360,color:$8({h:t,s:100,v:100,a:1})})))})),Q8=W.memo((function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:$8({h:t.h,s:100,v:100,a:1})};return W.createElement("div",{className:"react-colorful__saturation",style:n},W.createElement(z8,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:I8(t.s+100*e.left,0,100),v:I8(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+H8(t.s)+"%, Brightness "+H8(t.v)+"%"},W.createElement(V8,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:$8(t)})))})),J8=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},e6="undefined"!=typeof window?H.useLayoutEffect:H.useEffect,t6=new Map,r6=function(e){e6((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!t6.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',t6.set(t,r);var n="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0;n&&r.setAttribute("nonce",n),t.head.appendChild(r)}}),[])},n6=function(e){var t=e.className,r=e.colorModel,n=e.color,i=void 0===n?r.defaultColor:n,o=e.onChange,s=F8(e,["className","colorModel","color","onChange"]),a=H.useRef(null);r6(a);var l=function(e,t,r){var n=M8(r),i=H.useState((function(){return e.toHsva(t)})),o=i[0],s=i[1],a=H.useRef({color:t,hsva:o});H.useEffect((function(){if(!e.equal(t,a.current.color)){var r=e.toHsva(t);a.current={hsva:r,color:t},s(r)}}),[t,e]),H.useEffect((function(){var t;J8(o,a.current.hsva)||e.equal(t=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:t},n(t))}),[o,e,n]);var l=H.useCallback((function(e){s((function(t){return Object.assign({},t,e)}))}),[]);return[o,l]}(r,i,o),u=l[0],c=l[1],d=G8(["react-colorful",t]);return W.createElement("div",O8({},s,{ref:a,className:d}),W.createElement(Q8,{hsva:u,onChange:c}),W.createElement(Z8,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},i6={defaultColor:"000",toHsva:function(e){return K8(W8(e))},fromHsva:function(e){return function(e){return q8(Y8(e))}({h:e.h,s:e.s,v:e.v,a:1})},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||J8(W8(e),W8(t))}},o6=(e("cs",(function(e){return W.createElement(n6,O8({},e,{colorModel:i6}))})),"Popover"),[s6,a6]=yU(o6,[_G]),l6=_G(),[u6,c6]=s6(o6),d6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=l6(t),l=H.useRef(null),[u,c]=H.useState(!1),[d=!1,h]=fj({prop:n,defaultProp:i,onChange:o});return ee.jsx(MG,{...a,children:ee.jsx(u6,{scope:t,contentId:jj(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:H.useCallback((()=>h((e=>!e))),[h]),hasCustomAnchor:u,onCustomAnchorAdd:H.useCallback((()=>c(!0)),[]),onCustomAnchorRemove:H.useCallback((()=>c(!1)),[]),modal:s,children:r})})};d6.displayName=o6;var h6="PopoverAnchor",f6=H.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=c6(h6,r),o=l6(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return H.useEffect((()=>(s(),()=>a())),[s,a]),ee.jsx(IG,{...o,...n,ref:t})}));f6.displayName=h6;var p6="PopoverTrigger",m6=H.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=c6(p6,r),o=l6(r),s=aU(t,i.triggerRef),a=ee.jsx(fU.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":T6(i.open),...n,ref:s,onClick:CU(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:ee.jsx(IG,{asChild:!0,...o,children:a})}));m6.displayName=p6;var g6="PopoverPortal",[v6,y6]=s6(g6,{forceMount:void 0}),_6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,o=c6(g6,t);return ee.jsx(v6,{scope:t,forceMount:r,children:ee.jsx(gU,{present:r||o.open,children:ee.jsx(UG,{asChild:!0,container:i,children:n})})})};_6.displayName=g6;var b6="PopoverContent",x6=H.forwardRef(((e,t)=>{const r=y6(b6,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,o=c6(b6,e.__scopePopover);return ee.jsx(gU,{present:n||o.open,children:o.modal?ee.jsx(w6,{...i,ref:t}):ee.jsx(E6,{...i,ref:t})})}));x6.displayName=b6;var w6=H.forwardRef(((e,t)=>{const r=c6(b6,e.__scopePopover),n=H.useRef(null),i=aU(t,n),o=H.useRef(!1);return H.useEffect((()=>{const e=n.current;if(e)return cV(e)}),[]),ee.jsx(ZV,{as:lU,allowPinchZoom:!0,children:ee.jsx(C6,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:CU(e.onCloseAutoFocus,(e=>{e.preventDefault(),o.current||r.triggerRef.current?.focus()})),onPointerDownOutside:CU(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;o.current=n}),{checkForDefaultPrevented:!1}),onFocusOutside:CU(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})})})),E6=H.forwardRef(((e,t)=>{const r=c6(b6,e.__scopePopover),n=H.useRef(!1),i=H.useRef(!1);return ee.jsx(C6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target,s=r.triggerRef.current?.contains(o);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),C6=H.forwardRef(((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,h=c6(b6,r),f=l6(r);return Aj(),ee.jsx(Bj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:ee.jsx(xj,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:ee.jsx(NG,{"data-state":T6(h.open),role:"dialog",id:h.contentId,...f,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),S6="PopoverClose",A6=H.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=c6(S6,r);return ee.jsx(fU.button,{type:"button",...n,ref:t,onClick:CU(e.onClick,(()=>i.onOpenChange(!1)))})}));function T6(e){return e?"open":"closed"}A6.displayName=S6,H.forwardRef(((e,t)=>{const{__scopePopover:r,...n}=e,i=l6(r);return ee.jsx(LG,{...i,...n,ref:t})})).displayName="PopoverArrow",e("cq",d6),e("cr",m6),e("co",_6),e("cp",x6);var D6=H.forwardRef(((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:i,...o}=e,[s=!1,a]=fj({prop:r,onChange:i,defaultProp:n});return ee.jsx(fU.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:CU(e.onClick,(()=>{e.disabled||a(!s)}))})}));D6.displayName="Toggle",e("ct",D6);var k6="ToggleGroup",[P6,B6]=yU(k6,[YG]),R6=YG(),O6=W.forwardRef(((e,t)=>{const{type:r,...n}=e;if("single"===r){const e=n;return ee.jsx(I6,{...e,ref:t})}if("multiple"===r){const e=n;return ee.jsx(N6,{...e,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${k6}\``)}));O6.displayName=k6;var[F6,M6]=P6(k6),I6=W.forwardRef(((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=(()=>{}),...o}=e,[s,a]=fj({prop:r,defaultProp:n,onChange:i});return ee.jsx(F6,{scope:e.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:W.useCallback((()=>a("")),[a]),children:ee.jsx(j6,{...o,ref:t})})})),N6=W.forwardRef(((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=(()=>{}),...o}=e,[s=[],a]=fj({prop:r,defaultProp:n,onChange:i}),l=W.useCallback((e=>a(((t=[])=>[...t,e]))),[a]),u=W.useCallback((e=>a(((t=[])=>t.filter((t=>t!==e))))),[a]);return ee.jsx(F6,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:u,children:ee.jsx(j6,{...o,ref:t})})}));O6.displayName=k6;var[L6,U6]=P6(k6),j6=W.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:a=!0,...l}=e,u=R6(r),c=wU(s),d={role:"group",dir:c,...l};return ee.jsx(L6,{scope:r,rovingFocus:i,disabled:n,children:i?ee.jsx(rV,{asChild:!0,...u,orientation:o,dir:c,loop:a,children:ee.jsx(fU.div,{...d,ref:t})}):ee.jsx(fU.div,{...d,ref:t})})})),z6="ToggleGroupItem",G6=W.forwardRef(((e,t)=>{const r=M6(z6,e.__scopeToggleGroup),n=U6(z6,e.__scopeToggleGroup),i=R6(e.__scopeToggleGroup),o=r.value.includes(e.value),s=n.disabled||e.disabled,a={...e,pressed:o,disabled:s},l=W.useRef(null);return n.rovingFocus?ee.jsx(nV,{asChild:!0,...i,focusable:!s,active:o,ref:l,children:ee.jsx(V6,{...a,ref:t})}):ee.jsx(V6,{...a,ref:t})}));G6.displayName=z6;var V6=W.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,value:n,...i}=e,o=M6(z6,r),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a="single"===o.type?s:void 0;return ee.jsx(D6,{...a,...i,ref:t,onPressedChange:e=>{e?o.onItemActivate(n):o.onItemDeactivate(n)}})})),H6=e("cu",O6),W6=e("cv",G6),$6="Tabs",[Y6,X6]=yU($6,[YG]),q6=YG(),[K6,Z6]=Y6($6),Q6=H.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=e,c=wU(a),[d,h]=fj({prop:n,onChange:i,defaultProp:o});return ee.jsx(K6,{scope:r,baseId:jj(),value:d,onValueChange:h,orientation:s,dir:c,activationMode:l,children:ee.jsx(fU.div,{dir:c,"data-orientation":s,...u,ref:t})})}));Q6.displayName=$6;var J6="TabsList",e5=H.forwardRef(((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=Z6(J6,r),s=q6(r);return ee.jsx(rV,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:n,children:ee.jsx(fU.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})}));e5.displayName=J6;var t5="TabsTrigger",r5=H.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,s=Z6(t5,r),a=q6(r),l=o5(s.baseId,n),u=s5(s.baseId,n),c=n===s.value;return ee.jsx(nV,{asChild:!0,...a,focusable:!i,active:c,children:ee.jsx(fU.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:CU(e.onMouseDown,(e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(n)})),onKeyDown:CU(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(n)})),onFocus:CU(e.onFocus,(()=>{const e="manual"!==s.activationMode;c||i||!e||s.onValueChange(n)}))})})}));r5.displayName=t5;var n5="TabsContent",i5=H.forwardRef(((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...s}=e,a=Z6(n5,r),l=o5(a.baseId,n),u=s5(a.baseId,n),c=n===a.value,d=H.useRef(c);return H.useEffect((()=>{const e=requestAnimationFrame((()=>d.current=!1));return()=>cancelAnimationFrame(e)}),[]),ee.jsx(gU,{present:i||c,children:({present:r})=>ee.jsx(fU.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!r,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:r&&o})})}));function o5(e,t){return`${e}-trigger-${t}`}function s5(e,t){return`${e}-content-${t}`}i5.displayName=n5,e("cz",Q6),e("cw",e5),e("cx",r5),e("cy",i5);var a5=Object.defineProperty,l5=Object.defineProperties,u5=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,d5=Object.prototype.hasOwnProperty,h5=Object.prototype.propertyIsEnumerable,f5=(e,t,r)=>t in e?a5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p5=(e,t)=>{for(var r in t||(t={}))d5.call(t,r)&&f5(e,r,t[r]);if(c5)for(var r of c5(t))h5.call(t,r)&&f5(e,r,t[r]);return e},m5=(e,t)=>l5(e,u5(t)),g5=H.createContext(void 0),v5=()=>H.useContext(g5);function y5(e,t){return e&&t&&"object"==typeof e&&"object"==typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(((r,n)=>r&&y5(e[n],t[n])),!0):e===t}var _5=H.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),b5=()=>H.useContext(_5),x5=new Set(["shift","alt","meta","mod","ctrl","control"]),w5={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function E5(e){return(w5[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function C5(e,t=","){return e.toLowerCase().split(t)}function S5(e,t="+",r=!1,n){const i=e.toLocaleLowerCase().split(t).map((e=>E5(e))),o={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),meta:i.includes("meta"),mod:i.includes("mod"),shift:i.includes("shift"),useKey:r},s=i.filter((e=>!x5.has(e)));return m5(p5({},o),{description:n,keys:s})}"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{void 0!==e.code&&D5([E5(e.code)])})),document.addEventListener("keyup",(e=>{void 0!==e.code&&k5([E5(e.code)])}))),"undefined"!=typeof window&&window.addEventListener("blur",(()=>{A5.clear()}));var A5=new Set;function T5(e){return Array.isArray(e)}function D5(e){const t=Array.isArray(e)?e:[e];A5.has("meta")&&A5.forEach((e=>!function(e){return x5.has(e)}(e)&&A5.delete(e.toLowerCase()))),t.forEach((e=>A5.add(e.toLowerCase())))}function k5(e){const t=Array.isArray(e)?e:[e];"meta"===e?A5.clear():t.forEach((e=>A5.delete(e.toLowerCase())))}var P5="Alt",B5="Mod",R5="Shift";function O5(e){const t=H.useRef();return y5(t.current,e)||(t.current=e),t.current}function F5({target:e},t=!1){const r=e&&e.tagName;return T5(t)?Boolean(r&&(null==t?void 0:t.some((e=>e.toLowerCase()===r.toLowerCase())))):Boolean(r&&t&&t)}var M5=(e,t,r=!1)=>{const{alt:n,ctrl:i,keys:o,meta:s,mod:a,shift:l,useKey:u}=t,{altKey:c,code:d,ctrlKey:h,key:f,metaKey:p,shiftKey:m}=e,g=E5(d);if(u&&1===(null==o?void 0:o.length)&&o.includes(f))return!0;if(!(null==o?void 0:o.includes(g))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(g))return!1;if(!r){if(n!==c&&"alt"!==g)return!1;if(l!==m&&"shift"!==g)return!1;if(a){if(!p&&!h)return!1}else{if(s!==p&&"meta"!==g&&"os"!==g)return!1;if(i!==h&&"ctrl"!==g&&"control"!==g)return!1}}return!(!o||1!==o.length||!o.includes(g))||(o?function(e,t=","){return(T5(e)?e:e.split(t)).every((e=>A5.has(e.trim().toLowerCase())))}(o):!o)},I5=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},N5="undefined"==typeof window?H.useEffect:H.useLayoutEffect;function L5(e,t,r,n){const[i,o]=H.useState(null),s=H.useRef(!1),a=Array.isArray(r)?Array.isArray(n)?void 0:n:r,l=H.useMemo((()=>Array.isArray(e)&&e.length>0&&Array.isArray(e[0])?e.map((e=>e.map((e=>e.toString())).join((null==a?void 0:a.splitKey)||"+"))).join((null==a?void 0:a.delimiter)||","):Array.isArray(e)?e.join((null==a?void 0:a.delimiter)||","):e),[e,null==a?void 0:a.splitKey,null==a?void 0:a.delimiter]),u=Array.isArray(r)?r:Array.isArray(n)?n:void 0,c=H.useCallback(t,null!=u?u:[]),d=H.useRef(c);d.current=u?c:t;const h=O5(a),{activeScopes:f}=b5(),p=v5();return N5((()=>{if(!1===(null==h?void 0:h.enabled)||!function(e,t){return 0===e.length&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!t||e.some((e=>t.includes(e)))||e.includes("*")}(f,null==h?void 0:h.scopes))return;const e=(e,t=!1)=>{var r;if(!F5(e,["input","textarea","select"])||F5(e,null==h?void 0:h.enableOnFormTags)){if(null!==i){const t=i.getRootNode();if((t instanceof Document||t instanceof ShadowRoot)&&t.activeElement!==i&&!i.contains(t.activeElement))return void I5(e)}(null==(r=e.target)?void 0:r.isContentEditable)&&!(null==h?void 0:h.enableOnContentEditable)||C5(l,null==h?void 0:h.delimiter).forEach((r=>{var n,i,o;const a=S5(r,null==h?void 0:h.splitKey,null==h?void 0:h.useKey);if(M5(e,a,null==h?void 0:h.ignoreModifiers)||(null==(n=a.keys)?void 0:n.includes("*"))){if((null==(i=null==h?void 0:h.ignoreEventWhenPrevented)||i)&&e.defaultPrevented)return;if(null==(o=null==h?void 0:h.ignoreEventWhen)?void 0:o.call(h,e))return;if(t&&s.current)return;if(!function(e,t,r){return"function"==typeof r?r(e,t):!0===r||void 0===r}(e,a,null==h?void 0:h.enabled))return void I5(e);d.current(e,a),function(e,t,r){("function"==typeof r&&r(e,t)||!0===r)&&e.preventDefault()}(e,a,null==h?void 0:h.preventDefault),t||(s.current=!0)}}))}},t=t=>{void 0!==t.code&&(D5(E5(t.code)),(void 0===(null==h?void 0:h.keydown)&&!0!==(null==h?void 0:h.keyup)||(null==h?void 0:h.keydown))&&e(t))},r=t=>{void 0!==t.code&&(k5(E5(t.code)),s.current=!1,(null==h?void 0:h.keyup)&&e(t,!0))},n=i||(null==a?void 0:a.document)||document;return n.addEventListener("keyup",r),n.addEventListener("keydown",t),p&&C5(l,null==h?void 0:h.delimiter).forEach((e=>p.addHotkey(S5(e,null==h?void 0:h.splitKey,null==h?void 0:h.useKey,null==h?void 0:h.description)))),()=>{n.removeEventListener("keyup",r),n.removeEventListener("keydown",t),p&&C5(l,null==h?void 0:h.delimiter).forEach((e=>p.removeHotkey(S5(e,null==h?void 0:h.splitKey,null==h?void 0:h.useKey,null==h?void 0:h.description))))}}),[i,l,h,f]),o}var U5=e("de","undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),j5=e=>!(e=>(e=>void 0===e)(e)||(e=>null===e)(e))(e);function z5(e,t){return(...r)=>e(t,...r)}let G5=0;function V5(e,t){const r="atom"+ ++G5,n={toString:()=>r};return"function"==typeof e?n.read=e:(n.init=e,n.read=H5,n.write=W5),t&&(n.write=t),n}function H5(e){return e(this)}function W5(e,t,r){return t(this,"function"==typeof r?r(e(this)):r)}const $5=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Y5=e=>"init"in e,X5=e=>!!e.write,q5=new WeakMap,K5=(e,t)=>{const r=q5.get(e);r&&(q5.delete(e),r(t))},Z5=(e,t)=>{e.status="fulfilled",e.value=t},Q5=(e,t)=>{e.status="rejected",e.reason=t},J5=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),e7=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),t7=e=>!!e&&"v"in e&&e.v instanceof Promise,r7=e=>{if("e"in e)throw e.e;return e.v},n7=()=>{const e=new WeakMap,t=new WeakMap,r=[],n=new WeakMap,i=t=>e.get(t),o=(e,t)=>{t.d.forEach(((t,r)=>{if(!n.has(r)){const e=i(r);n.set(r,[e,new Set]),e&&o(r,e)}n.get(r)[1].add(e)}))},s=(t,s)=>{var a;const l=i(t);if(e.set(t,s),null==(a=r[r.length-1])||a.add(t),n.has(t)||(n.set(t,[l,new Set]),o(t,s)),t7(l)){const e="v"in s?s.v instanceof Promise?s.v:Promise.resolve(s.v):Promise.reject(s.e);l.v!==e&&K5(l.v,e)}},a=(e,t,r,n)=>{const i=new Map(n?t.d:null);let o=!1;r.forEach(((r,n)=>{!r&&$5(e,n)&&(r=t),r&&(i.set(n,r),t.d.get(n)!==r&&(o=!0))})),(o||t.d.size!==i.size)&&(t.d=i)},l=(e,t,r,n)=>{const o=i(e),l={d:(null==o?void 0:o.d)||new Map,v:t};if(r&&a(e,l,r,n),J5(o,l)&&o.d===l.d)return o;if(t7(o)&&t7(l)&&((e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig)(o,l)){if(o.d===l.d)return o;l.v=o.v}return s(e,l),l},u=(e,r,n,o)=>{if((e=>"function"==typeof(null==e?void 0:e.then))(r)){let s;const a=()=>{const r=i(e);if(!t7(r)||r.v!==u)return;const o=l(e,u,n);t.has(e)&&r.d!==o.d&&v(e,o,r.d)},u=new Promise(((e,t)=>{let n=!1;r.then((t=>{n||(n=!0,Z5(u,t),e(t),a())}),(e=>{n||(n=!0,Q5(u,e),t(e),a())})),s=t=>{n||(n=!0,t.then((e=>Z5(u,e)),(e=>Q5(u,e))),e(t))}}));return u.orig=r,u.status="pending",((e,t)=>{q5.set(e,t),e.catch((()=>{})).finally((()=>q5.delete(e)))})(u,(e=>{e&&(s(e),null==o||o())})),l(e,u,n,!0)}return l(e,r,n)},c=(e,r)=>{const n=i(e);if(!(null==r?void 0:r(e))&&n){if(t.has(e))return n;if(Array.from(n.d).every((([t,n])=>{if(t===e)return!0;const i=c(t,r);return i===n||J5(i,n)})))return n}const o=new Map;let l=!0;const d=t=>{if($5(e,t)){const e=i(t);if(e)return o.set(t,e),r7(e);if(Y5(t))return o.set(t,void 0),t.init;throw new Error("no atom init")}const n=c(t,r);return o.set(t,n),r7(n)};let h,f;const m={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){return!f&&X5(e)&&(f=(...t)=>{if(!l)return p(e,...t)}),f}};try{const t=e.read(d,m);return u(e,t,o,(()=>null==h?void 0:h.abort()))}catch(g){return((e,t,r)=>{const n=i(e),o={d:(null==n?void 0:n.d)||new Map,e:t};return r&&a(e,o,r),e7(n,o)&&n.d===o.d?n:(s(e,o),o)})(e,g,o)}finally{l=!1}},d=e=>r7(c(e)),h=e=>{const r=new Array,s=new Set,a=e=>{if(!s.has(e)){s.add(e);for(const r of(e=>{var r,i;const o=new Set(null==(r=t.get(e))?void 0:r.t);return null==(i=n.get(e))||i[1].forEach((e=>{o.add(e)})),o})(e))e!==r&&a(r);r.push(e)}};a(e);const l=new Set([e]),u=e=>s.has(e);for(let t=r.length-1;t>=0;--t){const e=r[t],n=i(e);if(!n)continue;let a=!1;for(const t of n.d.keys())if(t!==e&&l.has(t)){a=!0;break}if(a){const t=c(e,u);o(e,t),J5(n,t)||l.add(e)}s.delete(e)}},f=(e,...t)=>{const n=e.write((e=>r7(c(e))),((t,...n)=>{const o=r.length>0;let s;if(o||r.push(new Set([t])),$5(e,t)){if(!Y5(t))throw new Error("atom not writable");const e=i(t),r=u(t,n[0]);J5(e,r)||h(t)}else s=f(t,...n);return o||y(r.pop()),s}),...t);return n},p=(e,...t)=>{r.push(new Set([e]));const n=f(e,...t);return y(r.pop()),n},m=(e,r,n)=>{var o;const s=t.get(e);if(s)return r&&s.t.add(r),s;const a=n||[];null==(o=i(e))||o.d.forEach(((t,r)=>{r!==e&&m(r,e,a)})),c(e);const l={t:new Set(r&&[r]),l:new Set};if(t.set(e,l),X5(e)&&e.onMount){const{onMount:t}=e;a.push((()=>{const r=t(((...t)=>p(e,...t)));r&&(l.u=r)}))}return n||a.forEach((e=>e())),l},g=(e,r)=>{if(!((e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)))(e,r))return;const n=r.u;n&&n(),t.delete(e);const o=i(e);o&&(t7(o)&&K5(o.v),o.d.forEach(((r,n)=>{if(n!==e){const r=t.get(n);r&&(r.t.delete(e),g(n,r))}})))},v=(e,r,n)=>{const i=new Set(r.d.keys()),o=new Set;null==n||n.forEach(((r,n)=>{if(i.has(n))return void i.delete(n);o.add(n);const s=t.get(n);s&&s.t.delete(e)})),i.forEach((t=>{m(t,e)})),o.forEach((e=>{const r=t.get(e);r&&g(e,r)}))},y=e=>{const r=[],o=e=>{var t;if(!n.has(e))return;const[s,a]=n.get(e);n.delete(e),r.push([e,s]),a.forEach(o),null==(t=i(e))||t.d.forEach(((e,t)=>o(t)))};e.forEach(o),r.forEach((([e,r])=>{const n=i(e);if(n&&n!==r){const i=t.get(e);i&&n.d!==(null==r?void 0:r.d)&&v(e,n,null==r?void 0:r.d),i&&(t7(r)||!J5(r,n)&&!e7(r,n))&&i.l.forEach((e=>e()))}}))},_=(e,t)=>{const r=m(e),n=(y([e]),r.l);return n.add(t),()=>{n.delete(t),g(e,r)}};return{get:d,set:p,sub:_}};let i7;Symbol("");const o7=n7,s7=()=>(i7||(i7=n7()),i7),a7=H.createContext(void 0),l7=e=>{const t=H.useContext(a7);return(null==e?void 0:e.store)||t||s7()},u7=e=>"function"==typeof(null==e?void 0:e.then),c7=W.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)});function d7(e,t){const r=l7(t),[[n,i,o],s]=H.useReducer((t=>{const n=r.get(e);return Object.is(t[0],n)&&t[1]===r&&t[2]===e?t:[n,r,e]}),void 0,(()=>[r.get(e),r,e]));let a=n;i===r&&o===e||(s(),a=r.get(e));const l=null==t?void 0:t.delay;return H.useEffect((()=>{const t=r.sub(e,(()=>{"number"!=typeof l?s():setTimeout(s,l)}));return s(),t}),[r,e,l]),H.useDebugValue(a),u7(a)?c7(a):a}function h7(e,t){const r=l7(t);return H.useCallback(((...t)=>r.set(e,...t)),[r,e])}const f7=new WeakMap,p7=e=>{let t=f7.get(e);return t||(t=new WeakSet,f7.set(e,t)),t};var m7=Object.defineProperty,g7=Object.defineProperties,v7=Object.getOwnPropertyDescriptors,y7=Object.getOwnPropertySymbols,_7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable,x7=(e,t,r)=>t in e?m7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w7=(e,t)=>{for(var r in t||(t={}))_7.call(t,r)&&x7(e,r,t[r]);if(y7)for(var r of y7(t))b7.call(t,r)&&x7(e,r,t[r]);return e},E7=(e,t)=>g7(e,v7(t)),C7=(e,t)=>{var r={};for(var n in e)_7.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&y7)for(var n of y7(e))t.indexOf(n)<0&&b7.call(e,n)&&(r[n]=e[n]);return r},S7=e=>"function"==typeof e?{__fn:e}:e,A7=e=>{const t=V5(S7(e));return V5((e=>{return(r=e(t))&&"object"==typeof r&&"__fn"in r?r.__fn:r;var r}),((e,r,n)=>r(t,S7(n))))},T7=(e,t,r={})=>{const n=[];for(const i of Object.keys(e)){const r=t[i];void 0!==r&&n.push([e[i],r])}!function(e,t){const r=l7(t),n=p7(r);for(const[i,o]of e)n.has(i)&&!(null==t?void 0:t.dangerouslyForceHydrate)||(n.add(i),r.set(i,o))}(n,r)},D7=(e,t)=>`${e}:${t}`,k7="provider",P7=W.createContext(new Map),B7=e=>{var t=e,{initialValues:r,children:n,store:i,atoms:o}=t,s=C7(t,["initialValues","children","store","atoms"]);return T7(o,w7(w7({},r),s),{store:i}),((e,t,{store:r}={})=>{for(const n of Object.keys(e)){const i=t[n],o=h7(e[n],{store:r});W.useEffect((()=>{null!=i&&o(i)}),[o,i])}})(o,s,{store:i}),W.createElement(W.Fragment,null,n)},R7=(e="")=>e.length>0?e[0].toUpperCase()+e.slice(1):"",O7=(e,t)=>Object.fromEntries(Object.entries(e).map((([e,r])=>[e,(e={})=>r(w7(w7({},t),e))]))),F7=(e={})=>"string"==typeof e?{scope:e}:e,M7=(e,{name:t,delay:r,effect:n,extend:i})=>{const o=((e="")=>`${R7(e)}Provider`)(t),s=((e="")=>`use${R7(e)}Store`)(t),a=((e="")=>e.length>0?`${e}Store`:"store")(t),l={},u={},c={};for(const[x,w]of Object.entries(e)){const e=(d=w)&&"object"==typeof d&&"read"in d&&"function"==typeof d.read?w:A7(w);l[x]=e;const t="write"in e;c[x]=t,t&&(u[x]=e)}var d;const h=w7({},l);if(i){const e=i(l);for(const[t,r]of Object.entries(e))h[t]=r,c[t]="write"in r}const f={},p={},m={},g=(e={})=>{const{scope:r,store:n,warnIfNoStore:i=!0}=F7(e),o=((e,t=k7,r=!0)=>{var n;const i=W.useContext(P7),o=null!=(n=i.get(D7(e,t)))?n:i.get(D7(e,k7));return!o&&r&&console.warn(`Tried to access jotai store '${e}' outside of a matching provider.`),o})(t,r,!n&&i);return null!=n?n:o},v=(e,t)=>{var n;const i=F7(t);return d7(e,{store:g(w7({warnIfNoStore:!1},i)),delay:null!=(n=i.delay)?n:r})},y=(e,t)=>h7(e,{store:g(t)}),_=(e,t)=>{const n=g(t),{delay:i=r}=F7(t);return function(e,t){return[d7(e,t),h7(e,t)]}(e,{store:n,delay:i})};for(const x of Object.keys(h)){const e=h[x],t=c[x];f[x]=(t={})=>v(e,t),t&&(p[x]=(t={})=>y(e,t),m[x]=(t={})=>_(e,t))}const b=((e,t,r={})=>{const n=r.effect;return r=>{var i=r,{store:o,scope:s,children:a,resetKey:l}=i,u=C7(i,["store","scope","children","resetKey"]);const[c,d]=W.useState(o7());W.useEffect((()=>{l&&d(o7())}),[l]);const h=W.useContext(P7),f=W.useMemo((()=>{const t=new Map(h);return s&&t.set(D7(e,s),c),t.set(D7(e,k7),c),t}),[h,s,c]);return W.createElement(P7.Provider,{value:f},W.createElement(B7,w7({store:c,atoms:t},u),!!n&&W.createElement(n,null),a))}})(t,u,{effect:n});return{[o]:b,[s]:(e={})=>({get:E7(w7({},O7(f,F7(e))),{atom:(t,r)=>v(t,w7(w7({},F7(e)),F7(r)))}),set:E7(w7({},O7(p,F7(e))),{atom:(t,r)=>y(t,w7(w7({},F7(e)),F7(r)))}),use:E7(w7({},O7(m,F7(e))),{atom:(t,r)=>_(t,w7(w7({},F7(e)),F7(r)))}),store:t=>g(w7(w7({},F7(e)),F7(t)))}),[a]:{atom:h,name:t},name:t}};
/*!
			 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
			 *
			 * Copyright (c) 2014-2017, Jon Schlinkert.
			 * Released under the MIT License.
			 */
function I7(e){return"[object Object]"===Object.prototype.toString.call(e)}function N7(e){var t,r;return!1!==I7(e)&&(void 0===(t=e.constructor)||!1!==I7(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}var L7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=X7.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},U7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=w9.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},j7={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var i=a9.transform(r,t,{affinity:n});e.current=i,null==i&&e.unref()}}},z7=new WeakMap,G7=new WeakMap,V7=new WeakMap,H7=new WeakMap,W7=new WeakMap,$7=new WeakMap,Y7=new WeakMap,X7={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=X7.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var i=e[n];if(i!==t[n])break;r.push(i)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),i=t.slice(0,r),o=e[r],s=t[r];return X7.equals(n,i)&&o>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),i=t.slice(0,r);return X7.equals(n,i)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),i=t.slice(0,r),o=e[r],s=t[r];return X7.equals(n,i)&&o<s},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===X7.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===X7.compare(e,t),isBefore:(e,t)=>-1===X7.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===X7.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===X7.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===X7.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===X7.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&X7.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],i=0;i<=e.length;i++)n.push(e.slice(0,i));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!X7.isAncestor(t,e)&&!X7.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:i="forward"}=r;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:o}=t;(X7.equals(o,n)||X7.endsBefore(o,n)||X7.isAncestor(o,n))&&(n[o.length-1]+=1);break;case"remove_node":var{path:s}=t;if(X7.equals(s,n)||X7.isAncestor(s,n))return null;X7.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var{path:a,position:l}=t;X7.equals(a,n)||X7.endsBefore(a,n)?n[a.length-1]-=1:X7.isAncestor(a,n)&&(n[a.length-1]-=1,n[a.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(X7.equals(u,n)){if("forward"===i)n[n.length-1]+=1;else if("backward"!==i)return null}else X7.endsBefore(u,n)?n[u.length-1]+=1:X7.isAncestor(u,n)&&e[u.length]>=c&&(n[u.length-1]+=1,n[u.length]-=c);break;case"move_node":var{path:d,newPath:h}=t;if(X7.equals(d,h))return n;if(X7.isAncestor(d,n)||X7.equals(d,n)){var f=h.slice();return X7.endsBefore(d,h)&&d.length<h.length&&(f[d.length-1]-=1),f.concat(n.slice(d.length))}X7.isSibling(d,h)&&(X7.isAncestor(h,n)||X7.equals(h,n))?X7.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:X7.endsBefore(h,n)||X7.equals(h,n)||X7.isAncestor(h,n)?(X7.endsBefore(d,n)&&(n[d.length-1]-=1),n[h.length-1]+=1):X7.endsBefore(d,n)&&(X7.equals(h,n)&&(n[h.length-1]+=1),n[d.length-1]-=1)}return n}};function q7(e){return q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q7(e)}function K7(e){var t=function(e,t){if("object"!==q7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==q7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q7(t)?t:String(t)}function Z7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q7(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var e9={transform(e,t){e.children=iU(e.children);var r=e.selection&&iU(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:i}=r,o=f9.parent(e,n),s=n[n.length-1];if(s>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(s,0,i),t)for(var[a,l]of a9.points(t))t[l]=w9.transform(a,r);break;case"insert_text":var{path:u,offset:c,text:d}=r;if(0===d.length)break;var h=f9.leaf(e,u),f=h.text.slice(0,c),p=h.text.slice(c);if(h.text=f+d+p,t)for(var[m,g]of a9.points(t))t[g]=w9.transform(m,r);break;case"merge_node":var{path:v}=r,y=f9.get(e,v),_=X7.previous(v),b=f9.get(e,_),x=f9.parent(e,v),w=v[v.length-1];if(P9.isText(y)&&P9.isText(b))b.text+=y.text;else{if(P9.isText(y)||P9.isText(b))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interfaces: ").concat(C9.stringify(y)," ").concat(C9.stringify(b)));b.children.push(...y.children)}if(x.children.splice(w,1),t)for(var[E,C]of a9.points(t))t[C]=w9.transform(E,r);break;case"move_node":var{path:S,newPath:A}=r;if(X7.isAncestor(S,A))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(A,"] because the destination is inside itself."));var T=f9.get(e,S),D=f9.parent(e,S),k=S[S.length-1];D.children.splice(k,1);var P=X7.transform(S,r),B=f9.get(e,X7.parent(P)),R=P[P.length-1];if(B.children.splice(R,0,T),t)for(var[O,F]of a9.points(t))t[F]=w9.transform(O,r);break;case"remove_node":var{path:M}=r,I=M[M.length-1];if(f9.parent(e,M).children.splice(I,1),t)for(var[N,L]of a9.points(t)){var U=w9.transform(N,r);if(null!=t&&null!=U)t[L]=U;else{var j=void 0,z=void 0;for(var[G,V]of f9.texts(e)){if(-1!==X7.compare(V,M)){z=[G,V];break}j=[G,V]}var H=!1;j&&z&&(H=X7.equals(z[1],M)?!X7.hasPrevious(z[1]):X7.common(j[1],M).length<X7.common(z[1],M).length),j&&!H?(N.path=j[1],N.offset=j[0].text.length):z?(N.path=z[1],N.offset=0):t=null}}break;case"remove_text":var{path:W,offset:$,text:Y}=r;if(0===Y.length)break;var X=f9.leaf(e,W),q=X.text.slice(0,$),K=X.text.slice($+Y.length);if(X.text=q+K,t)for(var[Z,Q]of a9.points(t))t[Q]=w9.transform(Z,r);break;case"set_node":var{path:J,properties:ee,newProperties:te}=r;if(0===J.length)throw new Error("Cannot set properties on the root node!");var re=f9.get(e,J);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var ie=te[ne];null==ie?delete re[ne]:re[ne]=ie}for(var oe in ee)te.hasOwnProperty(oe)||delete re[oe];break;case"set_selection":var{newProperties:se}=r;if(null==se)t=se;else{if(null==t){if(!a9.isRange(se))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(C9.stringify(se)," when there is no current selection."));t=J7({},se)}for(var ae in se){var le=se[ae];if(null==le){if("anchor"===ae||"focus"===ae)throw new Error('Cannot remove the "'.concat(ae,'" selection property'));delete t[ae]}else t[ae]=le}}break;case"split_node":var{path:ue,position:ce,properties:de}=r;if(0===ue.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ue,"] because the root node cannot be split."));var he,fe=f9.get(e,ue),pe=f9.parent(e,ue),me=ue[ue.length-1];if(P9.isText(fe)){var ge=fe.text.slice(0,ce),ve=fe.text.slice(ce);fe.text=ge,he=J7(J7({},de),{},{text:ve})}else{var ye=fe.children.slice(0,ce),_e=fe.children.slice(ce);fe.children=ye,he=J7(J7({},de),{},{children:_e})}if(pe.children.splice(me+1,0,he),t)for(var[be,xe]of a9.points(t))t[xe]=w9.transform(be,r)}return t})(e,r,t)}finally{e.children=oU(e.children),e.selection=r?yL(r)?oU(r):r:null}}},t9={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},r9={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},n9=(e,t)=>{for(var r in e){var n=e[r],i=t[r];if(N7(n)&&N7(i)){if(!n9(n,i))return!1}else if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==i[o])return!1}else if(n!==i)return!1}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0};function i9(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var o9=["anchor","focus"];function s9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var a9={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:i}=e;return a9.isBackward(e)===r?[n,i]:[i,n]},end(e){var[,t]=a9.edges(e);return t},equals:(e,t)=>w9.equals(e.anchor,t.anchor)&&w9.equals(e.focus,t.focus),includes(e,t){if(a9.isRange(t)){if(a9.includes(e,t.anchor)||a9.includes(e,t.focus))return!0;var[r,n]=a9.edges(e),[i,o]=a9.edges(t);return w9.isBefore(r,i)&&w9.isAfter(n,o)}var[s,a]=a9.edges(e),l=!1,u=!1;return w9.isPoint(t)?(l=w9.compare(t,s)>=0,u=w9.compare(t,a)<=0):(l=X7.compare(t,s.path)>=0,u=X7.compare(t,a.path)<=0),l&&u},intersection(e,t){var r=i9(e,o9),[n,i]=a9.edges(e),[o,s]=a9.edges(t),a=w9.isBefore(n,o)?o:n,l=w9.isBefore(i,s)?i:s;return w9.isBefore(l,a)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s9(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:a,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return w9.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return w9.equals(t,r)},isExpanded:e=>!a9.isCollapsed(e),isForward:e=>!a9.isBackward(e),isRange:e=>N7(e)&&w9.isPoint(e.anchor)&&w9.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=a9.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rU(e,(e=>{if(null===e)return null;var n,i,{affinity:o="inward"}=r;if("inward"===o){var s=a9.isCollapsed(e);a9.isForward(e)?(n="forward",i=s?n:"backward"):(n="backward",i=s?n:"forward")}else"outward"===o?a9.isForward(e)?(n="backward",i="forward"):(n="forward",i="backward"):(n=o,i=o);var a=w9.transform(e.anchor,t,{affinity:n}),l=w9.transform(e.focus,t,{affinity:i});if(!a||!l)return null;e.anchor=a,e.focus=l}))}},l9=e=>N7(e)&&f9.isNodeList(e.children)&&!y9.isEditor(e),u9={isAncestor:e=>N7(e)&&f9.isNodeList(e.children),isElement:l9,isElementList:e=>Array.isArray(e)&&e.every((e=>u9.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return l9(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},c9=["children"],d9=["text"],h9=new WeakMap,f9={ancestor(e,t){var r=f9.get(e,t);if(P9.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(C9.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of X7.ancestors(t,r)){var i=[f9.ancestor(e,n),n];yield i}}()},child(e,t){if(P9.isText(e))throw new Error("Cannot get the child of a text node: ".concat(C9.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(C9.stringify(e)));return r},children(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,i=f9.ancestor(e,t),{children:o}=i,s=n?o.length-1:0;n?s>=0:s<o.length;){var a=f9.child(i,s),l=t.concat(s);yield[a,l],s=n?s-1:s+1}}()},common(e,t,r){var n=X7.common(t,r);return[f9.get(e,n),n]},descendant(e,t){var r=f9.get(e,t);if(y9.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(C9.stringify(r)));return r},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of f9.nodes(e,t))0!==n.length&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of f9.nodes(e,t))u9.isElement(r)&&(yield[r,n])}()},extractProps:e=>u9.isAncestor(e)?i9(e,c9):i9(e,d9),first(e,t){for(var r=t.slice(),n=f9.get(e,r);n&&!P9.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(P9.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(C9.stringify(e)));var r=rU({children:e.children},(e=>{var[r,n]=a9.edges(t),i=f9.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!a9.includes(t,r)}});for(var[,o]of i){if(!a9.includes(t,o)){var s=f9.parent(e,o),a=o[o.length-1];s.children.splice(a,1)}if(X7.equals(o,n.path)){var l=f9.leaf(e,o);l.text=l.text.slice(0,n.offset)}if(X7.equals(o,r.path)){var u=f9.leaf(e,o);u.text=u.text.slice(r.offset)}}y9.isEditor(e)&&(e.selection=null)}));return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(P9.isText(r)||!r.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(C9.stringify(e)));r=r.children[i]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(P9.isText(r)||!r.children[i])return!1;r=r.children[i]}return!0},isNode:e=>P9.isText(e)||u9.isElement(e)||y9.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=h9.get(e);if(void 0!==t)return t;var r=e.every((e=>f9.isNode(e)));return h9.set(e,r),r},last(e,t){for(var r=t.slice(),n=f9.get(e,r);n&&!P9.isText(n)&&0!==n.children.length;){var i=n.children.length-1;n=n.children[i],r.push(i)}return[n,r]},leaf(e,t){var r=f9.get(e,t);if(!P9.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(C9.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of X7.levels(t,r)){var i=f9.get(e,n);yield[i,n]}}()},matches:(e,t)=>u9.isElement(e)&&u9.isElementProps(t)&&u9.matches(e,t)||P9.isText(e)&&P9.isTextProps(t)&&P9.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:i=[],to:o}=t,s=new Set,a=[],l=e;!o||!(n?X7.isBefore(a,o):X7.isAfter(a,o));)if(s.has(l)||(yield[l,a]),s.has(l)||P9.isText(l)||0===l.children.length||null!=r&&!1!==r([l,a])){if(0===a.length)break;if(!n){var u=X7.next(a);if(f9.has(e,u)){a=u,l=f9.get(e,a);continue}}n&&0!==a[a.length-1]?(a=X7.previous(a),l=f9.get(e,a)):(a=X7.parent(a),l=f9.get(e,a),s.add(l))}else{s.add(l);var c=n?l.children.length-1:0;X7.isAncestor(a,i)&&(c=i[a.length]),a=a.concat(c),l=f9.get(e,a)}}()},parent(e,t){var r=X7.parent(t),n=f9.get(e,r);if(P9.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>P9.isText(e)?e.text:e.children.map(f9.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of f9.nodes(e,t))P9.isText(r)&&(yield[r,n])}()}};function p9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p9(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g9={isNodeOperation:e=>g9.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!N7(e))return!1;switch(e.type){case"insert_node":case"remove_node":return X7.isPath(e.path)&&f9.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&X7.isPath(e.path);case"merge_node":return"number"==typeof e.position&&X7.isPath(e.path)&&N7(e.properties);case"move_node":return X7.isPath(e.path)&&X7.isPath(e.newPath);case"set_node":return X7.isPath(e.path)&&N7(e.properties)&&N7(e.newProperties);case"set_selection":return null===e.properties&&a9.isRange(e.newProperties)||null===e.newProperties&&a9.isRange(e.properties)||N7(e.properties)&&N7(e.newProperties);case"split_node":return X7.isPath(e.path)&&"number"==typeof e.position&&N7(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>g9.isOperation(e))),isSelectionOperation:e=>g9.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>g9.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return m9(m9({},e),{},{type:"remove_node"});case"insert_text":return m9(m9({},e),{},{type:"remove_text"});case"merge_node":return m9(m9({},e),{},{type:"split_node",path:X7.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(X7.equals(t,r))return e;if(X7.isSibling(r,t))return m9(m9({},e),{},{path:t,newPath:r});var n=X7.transform(r,e),i=X7.transform(X7.next(r),e);return m9(m9({},e),{},{path:n,newPath:i});case"remove_node":return m9(m9({},e),{},{type:"insert_node"});case"remove_text":return m9(m9({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:s}=e;return m9(m9({},e),{},{properties:s,newProperties:o});case"set_selection":var{properties:a,newProperties:l}=e;return m9(m9({},e),{},null==a?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:a}:{properties:l,newProperties:a});case"split_node":return m9(m9({},e),{},{type:"merge_node",path:X7.next(e.path)})}}},v9=new WeakMap,y9={above:(e,t)=>e.above(t),addMark(e,t,r){e.addMark(t,r)},after:(e,t,r)=>e.after(t,r),before:(e,t,r)=>e.before(t,r),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,r)=>e.isEdge(t,r),isEditor:e=>(e=>{var t=v9.get(e);if(void 0!==t)return t;if(!N7(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||N7(e.marks))&&(null===e.selection||a9.isRange(e.selection))&&f9.isNodeList(e.children)&&g9.isOperationList(e.operations);return v9.set(e,r),r})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,r)=>e.isEnd(t,r),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,r)=>e.isStart(t,r),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,r)=>e.leaf(t,r),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,r)=>e.node(t,r),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,r)=>e.parent(t,r),path:(e,t,r)=>e.path(t,r),pathRef:(e,t,r)=>e.pathRef(t,r),pathRefs:e=>e.pathRefs(),point:(e,t,r)=>e.point(t,r),pointRef:(e,t,r)=>e.pointRef(t,r),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,r)=>e.range(t,r),rangeRef:(e,t,r)=>e.rangeRef(t,r),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,r)=>e.string(t,r),unhangRange:(e,t,r)=>e.unhangRange(t,r),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)},_9={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(X7.isPath)};function b9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b9(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w9={compare(e,t){var r=X7.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===w9.compare(e,t),isBefore:(e,t)=>-1===w9.compare(e,t),equals:(e,t)=>e.offset===t.offset&&X7.equals(e.path,t.path),isPoint:e=>N7(e)&&"number"==typeof e.offset&&X7.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rU(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=X7.transform(i,t,r);break;case"insert_text":X7.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":X7.equals(t.path,i)&&(e.offset+=t.position),e.path=X7.transform(i,t,r);break;case"remove_text":X7.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(X7.equals(t.path,i)||X7.isAncestor(t.path,i))return null;e.path=X7.transform(i,t,r);break;case"split_node":if(X7.equals(t.path,i)){if(t.position===o&&null==n)return null;(t.position<o||t.position===o&&"forward"===n)&&(e.offset-=t.position,e.path=X7.transform(i,t,x9(x9({},r),{},{affinity:"forward"})))}else e.path=X7.transform(i,t,r)}}))}},E9=void 0,C9={setScrubber(e){E9=e},stringify:e=>JSON.stringify(e,E9)},S9=["text"],A9=["anchor","focus"];function T9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T9(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k9,P9={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function i(e){return i9(e,S9)}return n9(n?i(e):e,n?i(t):t)},isText:e=>N7(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>P9.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[D9({},e)];for(var n of t){var i=i9(n,A9),[o,s]=a9.edges(n),a=[],l=0,u=o.offset,c=s.offset;for(var d of r){var{length:h}=d.text,f=l;if(l+=h,u<=f&&l<=c)Object.assign(d,i),a.push(d);else if(u!==c&&(u===l||c===f)||u>l||c<f||c===f&&0!==f)a.push(d);else{var p=d,m=void 0,g=void 0;if(c<l){var v=c-f;g=D9(D9({},p),{},{text:p.text.slice(v)}),p=D9(D9({},p),{},{text:p.text.slice(0,v)})}if(u>f){var y=u-f;m=D9(D9({},p),{},{text:p.text.slice(0,y)}),p=D9(D9({},p),{},{text:p.text.slice(y)})}Object.assign(p,i),m&&a.push(m),a.push(p),g&&a.push(g)}}r=a}return r}},B9=e=>e.selection?e.selection:e.children.length>0?y9.end(e,[]):[0],R9=(e,t)=>{var[r]=y9.node(e,t);return e=>e===r},O9=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!t,n=t?U9(e):e,i=k9.None,o=k9.None,s=0,a=null;for(var l of n){var u=l.codePointAt(0);if(!u)break;var c=Z9(l,u);if([i,o]=r?[o,c]:[c,i],Q9(i,k9.ZWJ)&&Q9(o,k9.ExtPict)&&!ree(r?e.substring(0,s):e.substring(0,e.length-s)))break;if(Q9(i,k9.RI)&&Q9(o,k9.RI)&&!(a=null!==a?!a:!!r||iee(e.substring(0,e.length-s))))break;if(i!==k9.None&&o!==k9.None&&eee(i,o))break;s+=l.length}return s||1},F9=/\s/,M9=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,I9=/['\u2018\u2019]/,N9=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},L9=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(F9.test(t))return!1;if(I9.test(t)){var i=O9(r,n),[o,s]=N9(r,i,n);if(e(o,s,n))return!0}return!M9.test(t)},U9=function*(e){for(var t=e.length-1,r=0;r<e.length;r++){var n=e.charAt(t-r);if(z9(n.charCodeAt(0))){var i=e.charAt(t-r-1);if(j9(i.charCodeAt(0))){yield i+n,r++;continue}}yield n}},j9=e=>e>=55296&&e<=56319,z9=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(k9||(k9={}));var G9=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,V9=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,H9=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,W9=/^[\u1100-\u115F\uA960-\uA97C]$/,$9=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Y9=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,X9=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,q9=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,K9=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Z9=(e,t)=>{var r=k9.Any;return-1!==e.search(G9)&&(r|=k9.Extend),8205===t&&(r|=k9.ZWJ),t>=127462&&t<=127487&&(r|=k9.RI),-1!==e.search(V9)&&(r|=k9.Prepend),-1!==e.search(H9)&&(r|=k9.SpacingMark),-1!==e.search(W9)&&(r|=k9.L),-1!==e.search($9)&&(r|=k9.V),-1!==e.search(Y9)&&(r|=k9.T),-1!==e.search(X9)&&(r|=k9.LV),-1!==e.search(q9)&&(r|=k9.LVT),-1!==e.search(K9)&&(r|=k9.ExtPict),r};function Q9(e,t){return 0!=(e&t)}var J9=[[k9.L,k9.L|k9.V|k9.LV|k9.LVT],[k9.LV|k9.V,k9.V|k9.T],[k9.LVT|k9.T,k9.T],[k9.Any,k9.Extend|k9.ZWJ],[k9.Any,k9.SpacingMark],[k9.Prepend,k9.Any],[k9.ZWJ,k9.ExtPict],[k9.RI,k9.RI]];function eee(e,t){return-1===J9.findIndex((r=>Q9(e,r[0])&&Q9(t,r[1])))}var tee=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,ree=e=>-1!==e.search(tee),nee=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,iee=e=>{var t=e.match(nee);return null!==t&&t[0].length/2%2==1},oee={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y9.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:i=B9(e)}=r;if(X7.isPath(i)&&(i=y9.range(e,i)),a9.isRange(i))if(a9.isCollapsed(i))i=i.anchor;else{var o=a9.end(i);if(!n&&y9.void(e,{at:o}))return;var s=a9.start(i),a=y9.pointRef(e,s),l=y9.pointRef(e,o);lee.delete(e,{at:i,voids:n});var u=a.unref(),c=l.unref();i=u||c,lee.setSelection(e,{anchor:i,focus:i})}if(!(!n&&y9.void(e,{at:i})||y9.elementReadOnly(e,{at:i}))){var{path:d,offset:h}=i;t.length>0&&e.apply({type:"insert_text",path:d,offset:h,text:t})}}))}};function see(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?see(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):see(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lee=aee(aee(aee(aee({},e9),t9),r9),oee),uee=new WeakMap;function cee(e,t,r){var n,i,o=z7.get(e)||[],s=G7.get(e)||new Set,a=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),n.push(e))}};if(r)for(var l of(n=[],i=new Set,o))a(r(l));else n=o,i=s;for(var u of t)a(u);z7.set(e,n),G7.set(e,i)}var dee=(e,t)=>{for(var r of y9.pathRefs(e))L7.transform(r,t);for(var n of y9.pointRefs(e))U7.transform(n,t);for(var i of y9.rangeRefs(e))j7.transform(i,t);if(!(e=>uee.get(e)||!1)(e)){var o=X7.operationCanTransformPath(t)?e=>X7.transform(e,t):void 0;cee(e,e.getDirtyPaths(t),o)}lee.transform(e,t),e.operations.push(t),y9.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),V7.get(e)||(V7.set(e,!0),Promise.resolve().then((()=>{V7.set(e,!1),e.onChange({operation:t}),e.operations=[]})))};function hee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Eee=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n,marks:i}=e;if(n){if(i){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({text:t},i);lee.insertNodes(e,o,{at:r.at,voids:r.voids})}else lee.insertText(e,t,r);e.marks=null}},Cee=["text"],See=["text"],Aee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1,operation:n}=t,i=e=>z7.get(e)||[],o=e=>{var t=i(e).pop(),r=t.join(",");return(e=>G7.get(e)||new Set)(e).delete(r),t};if(y9.isNormalizing(e)){if(r){var s=Array.from(f9.nodes(e),(e=>{var[,t]=e;return t})),a=new Set(s.map((e=>e.join(","))));z7.set(e,s),G7.set(e,a)}0!==i(e).length&&y9.withoutNormalizing(e,(()=>{for(var t of i(e))if(f9.has(e,t)){var r=y9.node(e,t),[s,a]=r;u9.isElement(s)&&0===s.children.length&&e.normalizeNode(r,{operation:n})}for(var l=i(e),u=l.length,c=0;0!==l.length;){if(!e.shouldNormalize({dirtyPaths:l,iteration:c,initialDirtyPathsLength:u,operation:n}))return;var d=o(e);if(f9.has(e,d)){var h=y9.node(e,d);e.normalizeNode(h,{operation:n})}c++,l=i(e)}}))}};function Tee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,unit:n="offset",reverse:i=!1,voids:o=!1,ignoreNonSelectable:s=!1}=t;if(r){var a=y9.range(e,r),[l,u]=a9.edges(a),c=i?u:l,d=!1,h="",f=0,p=0,m=0;for(var[g,v]of y9.nodes(e,{at:r,reverse:i,voids:o,ignoreNonSelectable:s})){if(u9.isElement(g)){if(!o&&(e.isVoid(g)||e.isElementReadOnly(g))){yield y9.start(e,v);continue}if(e.isInline(g))continue;if(y9.hasInlines(e,g)){var y=X7.isAncestor(v,u.path)?u:y9.end(e,v),_=X7.isAncestor(v,l.path)?l:y9.start(e,v);h=y9.string(e,{anchor:_,focus:y},{voids:o}),d=!0}}if(P9.isText(g)){var b=X7.equals(v,c.path);for(b?(p=i?c.offset:g.text.length-c.offset,m=c.offset):(p=g.text.length,m=i?p:0),(b||d||"offset"===n)&&(yield{path:v,offset:m},d=!1);;){if(0===f){if(""===h)break;f=x(h,n,i),h=N9(h,f,i)[1]}if(m=i?m-f:m+f,(p-=f)<0){f=-p;break}f=0,yield{path:v,offset:m}}}}}function x(e,t,r){return"character"===t?O9(e,r):"word"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=!1;e.length>0;){var i=O9(e,t),[o,s]=N9(e,i,t);if(L9(o,s,t))n=!0,r+=i;else{if(n)break;r+=i}e=s}return r}(e,r):"line"===t||"block"===t?e.length:1}}()}function Dee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var kee=(e,t)=>{var{selection:r}=e;if(r){var n=(t,r)=>{if(!P9.isText(t))return!1;var[n,i]=y9.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},i=a9.isExpanded(r),o=!1;if(!i){var[s,a]=y9.node(e,r);if(s&&n(s,a)){var[l]=y9.parent(e,a);o=l&&e.markableVoid(l)}}if(i||o)lee.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},y9.marks(e)||{});delete u[t],e.marks=u,V7.get(e)||e.onChange()}}},Pee=(e,t)=>{var r=y9.isNormalizing(e);y9.setNormalizing(e,!1);try{t()}finally{y9.setNormalizing(e,r)}y9.normalize(e)};function Bee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ree(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oee=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y9.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:i=!1,mode:o="lowest",batchDirty:s=!0}=r,{at:a,match:l,select:u}=r;if(f9.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(a||(a=B9(e),!1!==u&&(u=!0)),null==u&&(u=!1),a9.isRange(a))if(n||(a=y9.unhangRange(e,a,{voids:i})),a9.isCollapsed(a))a=a.anchor;else{var[,d]=a9.edges(a),h=y9.pointRef(e,d);lee.delete(e,{at:a}),a=h.unref()}if(w9.isPoint(a)){null==l&&(l=P9.isText(c)?e=>P9.isText(e):e.isInline(c)?t=>P9.isText(t)||y9.isInline(e,t):t=>u9.isElement(t)&&y9.isBlock(e,t));var[f]=y9.nodes(e,{at:a.path,match:l,mode:o,voids:i});if(!f)return;var[,p]=f,m=y9.pathRef(e,p),g=y9.isEnd(e,a,p);lee.splitNodes(e,{at:a,match:l,mode:o,voids:i});var v=m.unref();a=g?X7.next(v):v}var y=X7.parent(a),_=a[a.length-1];if(i||!y9.void(e,{at:y})){if(s){var b=[],x=X7.levels(y);((e,t,r)=>{var n=uee.get(e)||!1;uee.set(e,!0);try{t(),r()}finally{uee.set(e,n)}})(e,(()=>{var r=function(){var t=y.concat(_);_++;var r={type:"insert_node",path:t,node:n};e.apply(r),a=X7.next(a),b.push(r),P9.isText?x.push(...Array.from(f9.nodes(n),(e=>{var[,r]=e;return t.concat(r)}))):x.push(t)};for(var n of t)r()}),(()=>{cee(e,x,(e=>{var t=e;for(var r of b)if(X7.operationCanTransformPath(r)&&!(t=X7.transform(t,r)))return null;return t}))}))}else for(var w of t){var E=y.concat(_);_++,e.apply({type:"insert_node",path:E,node:w}),a=X7.next(a)}if(a=X7.previous(a),u){var C=y9.end(e,a);C&&lee.select(e,C)}}}}))},Fee=["text"],Mee=["children"],Iee=(e,t)=>{if(u9.isElement(t)){var r=t;return!!y9.isVoid(e,t)||1===r.children.length&&Iee(e,r.children[0])}return!y9.isEditor(t)},Nee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:i="lowest"}=t,{at:o=e.selection,match:s}=t;if(o){null==s&&(s=X7.isPath(o)?R9(e,o):t=>u9.isElement(t)&&y9.isBlock(e,t)),!r&&a9.isRange(o)&&(o=y9.unhangRange(e,o,{voids:n}));var a=y9.nodes(e,{at:o,match:s,mode:i,voids:n}),l=Array.from(a,(t=>{var[,r]=t;return y9.pathRef(e,r)}));for(var u of l){var c=u.unref();if(c){var[d]=y9.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}}))},Lee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection,height:s=0,always:a=!1}=t;if(null==i&&(i=t=>u9.isElement(t)&&y9.isBlock(e,t)),a9.isRange(o)&&(o=((e,t)=>{if(a9.isCollapsed(t))return t.anchor;var[,r]=a9.edges(t),n=y9.pointRef(e,r);return lee.delete(e,{at:t}),n.unref()})(e,o)),X7.isPath(o)){var l=o,u=y9.point(e,l),[c]=y9.parent(e,l);i=e=>e===c,s=u.path.length-l.length+1,o=u,a=!0}if(o){var d,h=y9.pointRef(e,o,{affinity:"backward"});try{var[f]=y9.nodes(e,{at:o,match:i,mode:r,voids:n});if(!f)return;var p=y9.void(e,{at:o,mode:"highest"});if(!n&&p){var[m,g]=p;if(u9.isElement(m)&&e.isInline(m)){var v=y9.after(e,g);if(!v){var y=X7.next(g);lee.insertNodes(e,{text:""},{at:y,voids:n}),v=y9.point(e,y)}o=v,a=!0}s=o.path.length-g.length+1,a=!0}d=y9.pointRef(e,o);var _=o.path.length-s,[,b]=f,x=o.path.slice(0,_),w=0===s?o.offset:o.path[_]+0;for(var[E,C]of y9.levels(e,{at:x,reverse:!0,voids:n})){var S=!1;if(C.length<b.length||0===C.length||!n&&u9.isElement(E)&&y9.isVoid(e,E))break;var A=h.current,T=y9.isEnd(e,A,C);if(a||!h||!y9.isEdge(e,A,C)){S=!0;var D=f9.extractProps(E);e.apply({type:"split_node",path:C,position:w,properties:D})}w=C[C.length-1]+(S||T?1:0)}if(null==t.at){var k=d.current||y9.end(e,[]);lee.select(e,k)}}finally{var P;h.unref(),null===(P=d)||void 0===P||P.unref()}}}))};function Uee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uee(Object(r),!0).forEach((function(t){Z7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zee=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return dee(e,...r)},addMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var{selection:n}=e;if(n){var i=(t,r)=>{if(!P9.isText(t))return!1;var[n,i]=y9.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},o=a9.isExpanded(n),s=!1;if(!o){var[a,l]=y9.node(e,n);if(a&&i(a,l)){var[u]=y9.parent(e,l);s=u&&e.markableVoid(u)}}if(o||s)lee.setNodes(e,{[t]:r},{match:i,split:!0,voids:!0});else{var c=fee(fee({},y9.marks(e)||{}),{},{[t]:r});e.marks=c,V7.get(e)||e.onChange()}}})(e,...r)},deleteBackward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;r&&a9.isCollapsed(r)&&lee.delete(e,{unit:t,reverse:!0})})(e,...r)},deleteForward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;r&&a9.isCollapsed(r)&&lee.delete(e,{unit:t})})(e,...r)},deleteFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var{direction:t="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e;r&&a9.isExpanded(r)&&lee.delete(e,{reverse:"backward"===t})}(e,...r)},getFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var{selection:t}=e;return t?f9.fragment(e,t):[]})(e,...r)},insertBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{lee.splitNodes(e,{always:!0})})(e,...r)},insertSoftBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{lee.splitNodes(e,{always:!0})})(e,...r)},insertFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y9.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:i=!1}=r,{at:o=B9(e),batchDirty:s=!0}=r;if(t.length){if(a9.isRange(o))if(n||(o=y9.unhangRange(e,o,{voids:i})),a9.isCollapsed(o))o=o.anchor;else{var[,a]=a9.edges(o);if(!i&&y9.void(e,{at:a}))return;var l=y9.pointRef(e,a);lee.delete(e,{at:o}),o=l.unref()}else X7.isPath(o)&&(o=y9.start(e,o));if(i||!y9.void(e,{at:o})){var u=y9.above(e,{at:o,match:t=>u9.isElement(t)&&y9.isInline(e,t),mode:"highest",voids:i});if(u){var[,c]=u;y9.isEnd(e,o,c)?o=y9.after(e,c):y9.isStart(e,o,c)&&(o=y9.before(e,c))}var d=y9.above(e,{match:t=>u9.isElement(t)&&y9.isBlock(e,t),at:o,voids:i}),[,h]=d,f=y9.isStart(e,o,h),p=y9.isEnd(e,o,h),m=f&&p,g=!f||f&&p,v=!p,[,y]=f9.first({children:t},[]),[,_]=f9.last({children:t},[]),b=[],x=t=>{var[r,n]=t;return!(0===n.length||!m&&(g&&X7.isAncestor(n,y)&&u9.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)||v&&X7.isAncestor(n,_)&&u9.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))};for(var w of f9.nodes({children:t},{pass:x}))x(w)&&b.push(w);var E=[],C=[],S=[],A=!0,T=!1;for(var[D]of b)u9.isElement(D)&&!e.isInline(D)?(A=!1,T=!0,C.push(D)):A?E.push(D):S.push(D);var[k]=y9.nodes(e,{at:o,match:t=>P9.isText(t)||y9.isInline(e,t),mode:"highest",voids:i}),[,P]=k,B=y9.isStart(e,o,P),R=y9.isEnd(e,o,P),O=y9.pathRef(e,p&&!S.length?X7.next(h):h),F=y9.pathRef(e,R?X7.next(P):P);lee.splitNodes(e,{at:o,match:t=>T?u9.isElement(t)&&y9.isBlock(e,t):P9.isText(t)||y9.isInline(e,t),mode:T?"lowest":"highest",always:T&&(!f||E.length>0)&&(!p||S.length>0),voids:i});var M,I=y9.pathRef(e,!B||B&&R?X7.next(P):P);if(lee.insertNodes(e,E,{at:I.current,match:t=>P9.isText(t)||y9.isInline(e,t),mode:"highest",voids:i,batchDirty:s}),m&&!E.length&&C.length&&!S.length&&lee.delete(e,{at:h,voids:i}),lee.insertNodes(e,C,{at:O.current,match:t=>u9.isElement(t)&&y9.isBlock(e,t),mode:"lowest",voids:i,batchDirty:s}),lee.insertNodes(e,S,{at:F.current,match:t=>P9.isText(t)||y9.isInline(e,t),mode:"highest",voids:i,batchDirty:s}),!r.at&&(S.length>0&&F.current?M=X7.previous(F.current):C.length>0&&O.current?M=X7.previous(O.current):I.current&&(M=X7.previous(I.current)),M)){var N=y9.end(e,M);lee.select(e,N)}I.unref(),O.unref(),F.unref()}}}))}(e,...r)},insertNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{lee.insertNodes(e,t,r)})(e,...r)},insertText:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Eee(e,...r)},normalizeNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var[r,n]=t;if(!P9.isText(r))if(u9.isElement(r)&&0===r.children.length)lee.insertNodes(e,{text:""},{at:n.concat(0),voids:!0});else for(var i=!y9.isEditor(r)&&u9.isElement(r)&&(e.isInline(r)||0===r.children.length||P9.isText(r.children[0])||e.isInline(r.children[0])),o=0,s=0;s<r.children.length;s++,o++){var a=f9.get(e,n);if(!P9.isText(a)){var l=a.children[o],u=a.children[o-1],c=s===r.children.length-1;(P9.isText(l)||u9.isElement(l)&&e.isInline(l))!==i?(lee.removeNodes(e,{at:n.concat(o),voids:!0}),o--):u9.isElement(l)?e.isInline(l)&&(null!=u&&P9.isText(u)?c&&(lee.insertNodes(e,{text:""},{at:n.concat(o+1),voids:!0}),o++):(lee.insertNodes(e,{text:""},{at:n.concat(o),voids:!0}),o++)):(P9.isText(l)||"children"in l||(l.children=[]),null!=u&&P9.isText(u)&&(P9.equals(l,u,{loose:!0})?(lee.mergeNodes(e,{at:n.concat(o),voids:!0}),o--):""===u.text?(lee.removeNodes(e,{at:n.concat(o-1),voids:!0}),o--):""===l.text&&(lee.removeNodes(e,{at:n.concat(o),voids:!0}),o--)))}}})(e,...r)},removeMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kee(e,...r)},getDirtyPaths:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":var{path:r}=t;return X7.levels(r);case"insert_node":var{node:n,path:i}=t,o=X7.levels(i),s=P9.isText(n)?[]:Array.from(f9.nodes(n),(e=>{var[,t]=e;return i.concat(t)}));return[...o,...s];case"merge_node":var{path:a}=t;return[...X7.ancestors(a),X7.previous(a)];case"move_node":var{path:l,newPath:u}=t;if(X7.equals(l,u))return[];var c=[],d=[];for(var h of X7.ancestors(l)){var f=X7.transform(h,t);c.push(f)}for(var p of X7.ancestors(u)){var m=X7.transform(p,t);d.push(m)}var g=d[d.length-1],v=u[u.length-1],y=g.concat(v);return[...c,...d,y];case"remove_node":var{path:_}=t;return[...X7.ancestors(_)];case"split_node":var{path:b}=t;return[...X7.levels(b),X7.next(b)];default:return[]}})(e,...r)},shouldNormalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{iteration:r,initialDirtyPathsLength:n}=t,i=42*n;if(r>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0})(e,...r)},above:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:i=e.selection,match:o}=t;if(i){var s=y9.path(e,i),a="lowest"===n;for(var[l,u]of y9.levels(e,{at:s,voids:r,match:o,reverse:a}))if(!P9.isText(l))if(a9.isRange(i)){if(X7.isAncestor(u,i.anchor.path)&&X7.isAncestor(u,i.focus.path))return[l,u]}else if(!X7.equals(s,u))return[l,u]}}(e,...r)},after:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:y9.point(e,t,{edge:"end"}),focus:y9.end(e,[])},{distance:o=1}=n,s=0;for(var a of y9.positions(e,mee(mee({},n),{},{at:i}))){if(s>o)break;0!==s&&(r=a),s++}return r}(e,...r)},before:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:y9.start(e,[]),focus:y9.point(e,t,{edge:"start"})},{distance:o=1}=n,s=0;for(var a of y9.positions(e,vee(vee({},n),{},{at:i,reverse:!0}))){if(s>o)break;0!==s&&(r=a),s++}return r}(e,...r)},collapse:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)lee.select(e,n.anchor);else if("focus"===r)lee.select(e,n.focus);else if("start"===r){var[i]=a9.edges(n);lee.select(e,i)}else if("end"===r){var[,o]=a9.edges(n);lee.select(e,o)}}(e,...r)},delete:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var r,n,{reverse:i=!1,unit:o="character",distance:s=1,voids:a=!1}=t,{at:l=e.selection,hanging:u=!1}=t;if(l){var c=!1;if(a9.isRange(l)&&a9.isCollapsed(l)&&(c=!0,l=l.anchor),w9.isPoint(l)){var d=y9.void(e,{at:l,mode:"highest"});if(!a&&d){var[,h]=d;l=h}else{var f={unit:o,distance:s};l={anchor:l,focus:i?y9.before(e,l,f)||y9.start(e,[]):y9.after(e,l,f)||y9.end(e,[])},u=!0}}if(X7.isPath(l))lee.removeNodes(e,{at:l,voids:a});else if(!a9.isCollapsed(l)){if(!u){var[,p]=a9.edges(l),m=y9.end(e,[]);w9.equals(p,m)||(l=y9.unhangRange(e,l,{voids:a}))}var[g,v]=a9.edges(l),y=y9.above(e,{match:t=>u9.isElement(t)&&y9.isBlock(e,t),at:g,voids:a}),_=y9.above(e,{match:t=>u9.isElement(t)&&y9.isBlock(e,t),at:v,voids:a}),b=y&&_&&!X7.equals(y[1],_[1]),x=X7.equals(g.path,v.path),w=a?null:null!==(r=y9.void(e,{at:g,mode:"highest"}))&&void 0!==r?r:y9.elementReadOnly(e,{at:g,mode:"highest"}),E=a?null:null!==(n=y9.void(e,{at:v,mode:"highest"}))&&void 0!==n?n:y9.elementReadOnly(e,{at:v,mode:"highest"});if(w){var C=y9.before(e,g);C&&y&&X7.isAncestor(y[1],C.path)&&(g=C)}if(E){var S=y9.after(e,v);S&&_&&X7.isAncestor(_[1],S.path)&&(v=S)}var A,T=[];for(var D of y9.nodes(e,{at:l,voids:a})){var[k,P]=D;A&&0===X7.compare(P,A)||(!a&&u9.isElement(k)&&(y9.isVoid(e,k)||y9.isElementReadOnly(e,k))||!X7.isCommon(P,g.path)&&!X7.isCommon(P,v.path))&&(T.push(D),A=P)}var B=Array.from(T,(t=>{var[,r]=t;return y9.pathRef(e,r)})),R=y9.pointRef(e,g),O=y9.pointRef(e,v),F="";if(!x&&!w){var M=R.current,[I]=y9.leaf(e,M),{path:N}=M,{offset:L}=g,U=I.text.slice(L);U.length>0&&(e.apply({type:"remove_text",path:N,offset:L,text:U}),F=U)}if(B.reverse().map((e=>e.unref())).filter((e=>null!==e)).forEach((t=>lee.removeNodes(e,{at:t,voids:a}))),!E){var j=O.current,[z]=y9.leaf(e,j),{path:G}=j,V=x?g.offset:0,H=z.text.slice(V,v.offset);H.length>0&&(e.apply({type:"remove_text",path:G,offset:V,text:H}),F=H)}!x&&b&&O.current&&R.current&&lee.mergeNodes(e,{at:O.current,hanging:!0,voids:a}),c&&i&&"character"===o&&F.length>1&&F.match(/[\u0E00-\u0E7F]+/)&&lee.insertText(e,F.slice(0,F.length-s));var W=R.unref(),$=O.unref(),Y=i?W||$:$||W;null==t.at&&Y&&lee.select(e,Y)}}}))}(e,...r)},deselect:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})})(e,...r)},edges:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>[y9.start(e,t),y9.end(e,t)])(e,...r)},elementReadOnly:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y9.above(e,_ee(_ee({},t),{},{match:t=>u9.isElement(t)&&y9.isElementReadOnly(e,t)}))}(e,...r)},end:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>y9.point(e,t,{edge:"end"}))(e,...r)},first:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=y9.path(e,t,{edge:"start"});return y9.node(e,r)})(e,...r)},fragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=y9.range(e,t);return f9.fragment(e,r)})(e,...r)},getMarks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var{marks:t,selection:r}=e;if(!r)return null;var{anchor:n,focus:i}=r;if(t)return t;if(a9.isExpanded(r)){if(y9.isEnd(e,n,n.path)){var o=y9.after(e,n);o&&(n=o)}var[s]=y9.nodes(e,{match:P9.isText,at:{anchor:n,focus:i}});if(s){var[a]=s;return i9(a,Cee)}return{}}var{path:l}=n,[u]=y9.leaf(e,l);if(0===n.offset){var c=y9.previous(e,{at:l,match:P9.isText}),d=y9.above(e,{match:t=>u9.isElement(t)&&y9.isVoid(e,t)&&e.markableVoid(t)});if(!d){var h=y9.above(e,{match:t=>u9.isElement(t)&&y9.isBlock(e,t)});if(c&&h){var[f,p]=c,[,m]=h;X7.isAncestor(m,p)&&(u=f)}}}return i9(u,See)}(e,...r)},hasBlocks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.some((t=>u9.isElement(t)&&y9.isBlock(e,t))))(e,...r)},hasInlines:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.some((t=>P9.isText(t)||y9.isInline(e,t))))(e,...r)},hasPath:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>f9.has(e,t))(e,...r)},hasTexts:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>t.children.every((e=>P9.isText(e))))(e,...r)},insertNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Oee(e,...r)},isBlock:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>!e.isInline(t))(e,...r)},isEdge:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>y9.isStart(e,t,r)||y9.isEnd(e,t,r))(e,...r)},isEmpty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&P9.isText(n)&&""===n.text&&!e.isVoid(t)})(e,...r)},isEnd:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var n=y9.end(e,r);return w9.equals(t,n)})(e,...r)},isNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=H7.get(e);return void 0===t||t})(e,...r)},isStart:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{if(0!==t.offset)return!1;var n=y9.start(e,r);return w9.equals(t,n)})(e,...r)},last:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var r=y9.path(e,t,{edge:"end"});return y9.node(e,r)})(e,...r)},leaf:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y9.path(e,t,r);return[f9.leaf(e,n),n]}(e,...r)},levels:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,reverse:n=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),r){var s=[],a=y9.path(e,r);for(var[l,u]of f9.levels(e,a))if(o(l,u)&&(s.push([l,u]),!i&&u9.isElement(l)&&y9.isVoid(e,l)))break;n&&s.reverse(),yield*s}}()}(e,...r)},liftNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=X7.isPath(r)?R9(e,r):t=>u9.isElement(t)&&y9.isBlock(e,t)),r){var s=y9.nodes(e,{at:r,match:o,mode:n,voids:i}),a=Array.from(s,(t=>{var[,r]=t;return y9.pathRef(e,r)}));for(var l of a){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var c=y9.node(e,X7.parent(u)),[d,h]=c,f=u[u.length-1],{length:p}=d.children;if(1===p){var m=X7.next(h);lee.moveNodes(e,{at:u,to:m,voids:i}),lee.removeNodes(e,{at:h,voids:i})}else if(0===f)lee.moveNodes(e,{at:u,to:h,voids:i});else if(f===p-1){var g=X7.next(h);lee.moveNodes(e,{at:u,to:g,voids:i})}else{var v=X7.next(u),y=X7.next(h);lee.splitNodes(e,{at:v,voids:i}),lee.moveNodes(e,{at:u,to:y,voids:i})}}}}))}(e,...r)},mergeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:i=!1,voids:o=!1,mode:s="lowest"}=t;if(n){if(null==r)if(X7.isPath(n)){var[a]=y9.parent(e,n);r=e=>a.children.includes(e)}else r=t=>u9.isElement(t)&&y9.isBlock(e,t);if(!i&&a9.isRange(n)&&(n=y9.unhangRange(e,n,{voids:o})),a9.isRange(n))if(a9.isCollapsed(n))n=n.anchor;else{var[,l]=a9.edges(n),u=y9.pointRef(e,l);lee.delete(e,{at:n}),n=u.unref(),null==t.at&&lee.select(e,n)}var[c]=y9.nodes(e,{at:n,match:r,voids:o,mode:s}),d=y9.previous(e,{at:n,match:r,voids:o,mode:s});if(c&&d){var[h,f]=c,[p,m]=d;if(0!==f.length&&0!==m.length){var g,v,y=X7.next(m),_=X7.common(f,m),b=X7.isSibling(f,m),x=Array.from(y9.levels(e,{at:f}),(e=>{var[t]=e;return t})).slice(_.length).slice(0,-1),w=y9.above(e,{at:f,mode:"highest",match:t=>x.includes(t)&&Iee(e,t)}),E=w&&y9.pathRef(e,w[1]);if(P9.isText(h)&&P9.isText(p)){var C=i9(h,Fee);v=p.text.length,g=C}else{if(!u9.isElement(h)||!u9.isElement(p))throw new Error("Cannot merge the node at path [".concat(f,"] with the previous sibling because it is not the same kind: ").concat(C9.stringify(h)," ").concat(C9.stringify(p)));C=i9(h,Mee),v=p.children.length,g=C}b||lee.moveNodes(e,{at:f,to:y,voids:o}),E&&lee.removeNodes(e,{at:E.current,voids:o}),y9.shouldMergeNodesRemovePrevNode(e,d,c)?lee.removeNodes(e,{at:m,voids:o}):e.apply({type:"merge_node",path:y,position:v,properties:g}),E&&E.unref()}}}}))}(e,...r)},move:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:i="character",reverse:o=!1}=t,{edge:s=null}=t;if(r){"start"===s&&(s=a9.isBackward(r)?"focus":"anchor"),"end"===s&&(s=a9.isBackward(r)?"anchor":"focus");var{anchor:a,focus:l}=r,u={distance:n,unit:i,ignoreNonSelectable:!0},c={};if(null==s||"anchor"===s){var d=o?y9.before(e,a,u):y9.after(e,a,u);d&&(c.anchor=d)}if(null==s||"focus"===s){var h=o?y9.before(e,l,u):y9.after(e,l,u);h&&(c.focus=h)}lee.setSelection(e,c)}}(e,...r)},moveNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{y9.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:i="lowest",voids:o=!1}=t,{match:s}=t;if(n){null==s&&(s=X7.isPath(n)?R9(e,n):t=>u9.isElement(t)&&y9.isBlock(e,t));var a=y9.pathRef(e,r),l=y9.nodes(e,{at:n,match:s,mode:i,voids:o}),u=Array.from(l,(t=>{var[,r]=t;return y9.pathRef(e,r)}));for(var c of u){var d=c.unref(),h=a.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:h}),a.current&&X7.isSibling(h,d)&&X7.isAfter(h,d)&&(a.current=X7.next(a.current))}a.unref()}}))})(e,...r)},next:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection}=t;if(o){var s=y9.after(e,o,{voids:n});if(s){var[,a]=y9.last(e,[]),l=[s.path,a];if(X7.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(X7.isPath(o)){var[u]=y9.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=y9.nodes(e,{at:l,match:i,mode:r,voids:n});return c}}}(e,...r)},node:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y9.path(e,t,r),i=f9.get(e,n);return[i,n]}(e,...r)},nodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:r=e.selection,mode:n="all",universal:i=!1,reverse:o=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),r){var u,c;if(_9.isSpan(r))u=r[0],c=r[1];else{var d=y9.path(e,r,{edge:"start"}),h=y9.path(e,r,{edge:"end"});u=o?h:d,c=o?d:h}var f,p=f9.nodes(e,{reverse:o,from:u,to:c,pass:t=>{var[r]=t;return!(!u9.isElement(r)||(s||!y9.isVoid(e,r)&&!y9.isElementReadOnly(e,r))&&(!a||y9.isSelectable(e,r)))}}),m=[];for(var[g,v]of p)if(!a||!u9.isElement(g)||y9.isSelectable(e,g)){var y=f&&0===X7.compare(v,f[1]);if("highest"!==n||!y)if(l(g,v))if("lowest"===n&&y)f=[g,v];else{var _="lowest"===n?f:[g,v];_&&(i?m.push(_):yield _),f=[g,v]}else if(i&&!y&&P9.isText(g))return}"lowest"===n&&f&&(i?m.push(f):yield f),i&&(yield*m)}}()}(e,...r)},normalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Aee(e,...r)},parent:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y9.path(e,t,r),i=X7.parent(n);return y9.node(e,i)}(e,...r)},path:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:i}=r;if(X7.isPath(t))if("start"===i){var[,o]=f9.first(e,t);t=o}else if("end"===i){var[,s]=f9.last(e,t);t=s}return a9.isRange(t)&&(t="start"===i?a9.start(t):"end"===i?a9.end(t):X7.common(t.anchor.path,t.focus.path)),w9.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t}(e,...r)},pathRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return y9.pathRefs(e).delete(i),i.current=null,t}};return y9.pathRefs(e).add(i),i}(e,...r)},pathRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=W7.get(e);return t||(t=new Set,W7.set(e,t)),t})(e,...r)},point:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(X7.isPath(t)){var i;if("end"===n){var[,o]=f9.last(e,t);i=o}else{var[,s]=f9.first(e,t);i=s}var a=f9.get(e,i);if(!P9.isText(a))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:i,offset:"end"===n?a.text.length:0}}if(a9.isRange(t)){var[l,u]=a9.edges(t);return"start"===n?l:u}return t}(e,...r)},pointRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return y9.pointRefs(e).delete(i),i.current=null,t}};return y9.pointRefs(e).add(i),i}(e,...r)},pointRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=$7.get(e);return t||(t=new Set,$7.set(e,t)),t})(e,...r)},positions:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Tee(e,...r)},previous:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:i,at:o=e.selection}=t;if(o){var s=y9.before(e,o,{voids:n});if(s){var[,a]=y9.first(e,[]),l=[s.path,a];if(X7.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(X7.isPath(o)){var[u]=y9.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=y9.nodes(e,{reverse:!0,at:l,match:i,mode:r,voids:n});return c}}}(e,...r)},range:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>a9.isRange(t)&&!r?t:{anchor:y9.start(e,t),focus:y9.end(e,r||t)})(e,...r)},rangeRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,i={current:t,affinity:n,unref(){var{current:t}=i;return y9.rangeRefs(e).delete(i),i.current=null,t}};return y9.rangeRefs(e).add(i),i}(e,...r)},rangeRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=>{var t=Y7.get(e);return t||(t=new Set,Y7.set(e,t)),t})(e,...r)},removeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nee(e,...r)},select:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e;if(t=y9.range(e,t),r)lee.setSelection(e,t);else{if(!a9.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(C9.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}})(e,...r)},setNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y9.withoutNormalizing(e,(()=>{var{match:n,at:i=e.selection,compare:o,merge:s}=r,{hanging:a=!1,mode:l="lowest",split:u=!1,voids:c=!1}=r;if(i){if(null==n&&(n=X7.isPath(i)?R9(e,i):t=>u9.isElement(t)&&y9.isBlock(e,t)),!a&&a9.isRange(i)&&(i=y9.unhangRange(e,i,{voids:c})),u&&a9.isRange(i)){if(a9.isCollapsed(i)&&y9.leaf(e,i.anchor)[0].text.length>0)return;var d=y9.rangeRef(e,i,{affinity:"inward"}),[h,f]=a9.edges(i),p="lowest"===l?"lowest":"highest",m=y9.isEnd(e,f,f.path);lee.splitNodes(e,{at:f,match:n,mode:p,voids:c,always:!m});var g=y9.isStart(e,h,h.path);lee.splitNodes(e,{at:h,match:n,mode:p,voids:c,always:!g}),i=d.unref(),null==r.at&&lee.select(e,i)}for(var[v,y]of(o||(o=(e,t)=>e!==t),y9.nodes(e,{at:i,match:n,mode:l,voids:c}))){var _={},b={};if(0!==y.length){var x=!1;for(var w in t)"children"!==w&&"text"!==w&&o(t[w],v[w])&&(x=!0,v.hasOwnProperty(w)&&(_[w]=v[w]),s?null!=t[w]&&(b[w]=s(v[w],t[w])):null!=t[w]&&(b[w]=t[w]));x&&e.apply({type:"set_node",path:y,properties:_,newProperties:b})}}}}))}(e,...r)},setNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{H7.set(e,t)})(e,...r)},setPoint:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n}=e,{edge:i="both"}=r;if(n){"start"===i&&(i=a9.isBackward(n)?"focus":"anchor"),"end"===i&&(i=a9.isBackward(n)?"anchor":"focus");var{anchor:o,focus:s}=n,a="anchor"===i?o:s;lee.setSelection(e,{["anchor"===i?"anchor":"focus"]:Ree(Ree({},a),t)})}}(e,...r)},setSelection:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>{var{selection:r}=e,n={},i={};if(r){for(var o in t)("anchor"===o&&null!=t.anchor&&!w9.equals(t.anchor,r.anchor)||"focus"===o&&null!=t.focus&&!w9.equals(t.focus,r.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==r[o])&&(n[o]=r[o],i[o]=t[o]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:i})}})(e,...r)},splitNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Lee(e,...r)},start:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t)=>y9.point(e,t,{edge:"start"}))(e,...r)},string:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,i=y9.range(e,t),[o,s]=a9.edges(i),a="";for(var[l,u]of y9.nodes(e,{at:i,match:P9.isText,voids:n})){var c=l.text;X7.equals(u,s.path)&&(c=c.slice(0,s.offset)),X7.equals(u,o.path)&&(c=c.slice(o.offset)),a+=c}return a}(e,...r)},unhangRange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[i,o]=a9.edges(t);if(0!==i.offset||0!==o.offset||a9.isCollapsed(t)||X7.hasPrevious(o.path))return t;var s=y9.above(e,{at:o,match:t=>u9.isElement(t)&&y9.isBlock(e,t),voids:n}),a=s?s[1]:[],l={anchor:y9.start(e,i),focus:o},u=!0;for(var[c,d]of y9.nodes(e,{at:l,match:P9.isText,reverse:!0,voids:n}))if(u)u=!1;else if(""!==c.text||X7.isBefore(d,a)){o={path:d,offset:c.text.length};break}return{anchor:i,focus:o}}(e,...r)},unsetNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var i of t)n[i]=null;lee.setNodes(e,n,r)}(e,...r)},unwrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y9.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:i=!1}=t,{at:o=e.selection,match:s}=t;if(o){null==s&&(s=X7.isPath(o)?R9(e,o):t=>u9.isElement(t)&&y9.isBlock(e,t)),X7.isPath(o)&&(o=y9.range(e,o));var a=a9.isRange(o)?y9.rangeRef(e,o):null,l=y9.nodes(e,{at:o,match:s,mode:r,voids:i}),u=Array.from(l,(t=>{var[,r]=t;return y9.pathRef(e,r)})).reverse(),c=function(){var t=d.unref(),[r]=y9.node(e,t),o=y9.range(e,t);n&&a&&(o=a9.intersection(a.current,o)),lee.liftNodes(e,{at:o,match:e=>u9.isAncestor(r)&&r.children.includes(e),voids:i})};for(var d of u)c();a&&a.unref()}}))}(e,...r)},void:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y9.above(e,xee(xee({},t),{},{match:t=>u9.isElement(t)&&y9.isVoid(e,t)}))}(e,...r)},withoutNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pee(e,...r)},wrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y9.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:i=!1,voids:o=!1}=r,{match:s,at:a=e.selection}=r;if(a){if(null==s&&(s=X7.isPath(a)?R9(e,a):e.isInline(t)?t=>u9.isElement(t)&&y9.isInline(e,t)||P9.isText(t):t=>u9.isElement(t)&&y9.isBlock(e,t)),i&&a9.isRange(a)){var[l,u]=a9.edges(a),c=y9.rangeRef(e,a,{affinity:"inward"});lee.splitNodes(e,{at:u,match:s,voids:o}),lee.splitNodes(e,{at:l,match:s,voids:o}),a=c.unref(),null==r.at&&lee.select(e,a)}var d=Array.from(y9.nodes(e,{at:a,match:e.isInline(t)?t=>u9.isElement(t)&&y9.isBlock(e,t):e=>y9.isEditor(e),mode:"lowest",voids:o})),h=function(){var r=a9.isRange(a)?a9.intersection(a,y9.range(e,f)):a;if(!r)return 0;var i=Array.from(y9.nodes(e,{at:r,match:s,mode:n,voids:o}));if(i.length>0){var[l]=i,u=i[i.length-1],[,c]=l,[,d]=u;if(0===c.length&&0===d.length)return 0;var h=X7.equals(c,d)?X7.parent(c):X7.common(c,d),p=y9.range(e,c,d),m=y9.node(e,h),[g]=m,v=h.length+1,y=X7.next(d.slice(0,v)),_=jee(jee({},t),{},{children:[]});lee.insertNodes(e,_,{at:y,voids:o}),lee.moveNodes(e,{at:p,match:e=>u9.isAncestor(g)&&g.children.includes(e),to:y.concat(0),voids:o})}};for(var[,f]of d)h()}}))}(e,...r)},shouldMergeNodesRemovePrevNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return((e,t,r)=>{var[n,i]=t;return u9.isElement(n)&&y9.isEmpty(e,n)||P9.isText(n)&&""===n.text&&0!==i[i.length-1]})(e,...r)}};return e},Gee={isHistory:e=>N7(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||g9.isOperationList(e.redos[0].operations))&&(0===e.undos.length||g9.isOperationList(e.undos[0].operations))},Vee=new WeakMap,Hee=new WeakMap,Wee={isHistoryEditor:e=>Gee.isHistory(e.history)&&y9.isEditor(e),isMerging:e=>Hee.get(e),isSaving:e=>Vee.get(e),redo(e){e.redo()},undo(e){e.undo()},withMerging(e,t){var r=Wee.isMerging(e);Hee.set(e,!0),t(),Hee.set(e,r)},withoutMerging(e,t){var r=Wee.isMerging(e);Hee.set(e,!1),t(),Hee.set(e,r)},withoutSaving(e,t){var r=Wee.isSaving(e);Vee.set(e,!1),t(),Vee.set(e,r)}},$ee=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];n.selectionBefore&&lee.setSelection(t,n.selectionBefore),Wee.withoutSaving(t,(()=>{y9.withoutNormalizing(t,(()=>{for(var e of n.operations)t.apply(e)}))})),e.redos.pop(),t.writeHistory("undos",n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];Wee.withoutSaving(t,(()=>{y9.withoutNormalizing(t,(()=>{var e=n.operations.map(g9.inverse).reverse();for(var r of e)t.apply(r);n.selectionBefore&&lee.setSelection(t,n.selectionBefore)}))})),t.writeHistory("redos",n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:i}=t,{undos:o}=i,s=o[o.length-1],a=s&&s.operations[s.operations.length-1],l=Wee.isSaving(t),u=Wee.isMerging(t);if(null==l&&(l=Xee(e)),l){if(null==u&&(u=null!=s&&(0!==n.length||Yee(e,a))),s&&u)s.operations.push(e);else{var c={operations:[e],selectionBefore:t.selection};t.writeHistory("undos",c)}for(;o.length>100;)o.shift();i.redos=[]}r(e)},t.writeHistory=(e,r)=>{t.history[e].push(r)},t},Yee=(e,t)=>!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!X7.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!X7.equals(e.path,t.path)),Xee=(e,t)=>"set_selection"!==e.type,qee=Object.defineProperty,Kee=Object.defineProperties,Zee=Object.getOwnPropertyDescriptors,Qee=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,tte=(e,t,r)=>t in e?qee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rte=(e,t)=>{for(var r in t||(t={}))Jee.call(t,r)&&tte(e,r,t[r]);if(Qee)for(var r of Qee(t))ete.call(t,r)&&tte(e,r,t[r]);return e},nte=(e,t)=>()=>(console.warn(`[OVERRIDE_MISSING] The method editor.${e}() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.`),t),ite=()=>{const e=zee();return e.hasEditableTarget=nte("hasEditableTarget",!1),e.hasRange=nte("hasRange",!1),e.hasSelectableTarget=nte("hasSelectableTarget",!1),e.hasTarget=nte("hasTarget",!1),e.insertData=nte("insertData"),e.insertFragmentData=nte("insertFragmentData"),e.insertTextData=nte("insertTextData",!1),e.isTargetInsideNonReadonlyVoid=nte("isTargetInsideNonReadonlyVoid",!1),e.setFragmentData=nte("setFragmentData"),e.history={redos:[],undos:[]},e.undo=nte("undo"),e.redo=nte("redo"),e.writeHistory=nte("writeHistory"),e},ote=e=>u9.isElement(e),ste=(e,t,r)=>!r||("object"==typeof r?Object.entries(r).every((([t,r])=>{const n=function(e){return Array.isArray(e)?e:[e]}(r);return n.includes(e[t])})):r(e,t)),ate=(e,t={})=>{const{block:r,match:n}=t;return((e,t)=>Kee(e,Zee(t)))(rte({},t),{match:n||r?(t,i)=>ste(t,i,n)&&(!r||((e,t)=>ote(t)&&y9.isBlock(e,t))(e,t)):void 0})},lte=(e,t)=>y9.above(e,ate(e,t)),ute=(e,t)=>(((e,t,r={})=>{const{unhang:n=!0,voids:i}=r;a9.isRange(t)&&n&&y9.unhangRange(e,t,{voids:i})})(e,null==t?void 0:t.at,t),y9.nodes(e,ate(e,t))),cte=(e,t)=>{let r=!1;return y9.withoutNormalizing(e,(()=>{r=!!t()})),r},dte=e=>P9.isText(e),hte=(e,t)=>lee.removeNodes(e,t),fte=(e,t)=>{lee.select(e,t)},pte=(e,t)=>y9.end(e,t),mte=(e,t)=>y9.start(e,t),gte=(e,t,r)=>{if(!t)return"";try{return y9.string(e,t,r)}catch(whe){return""}},vte=e=>y9.marks(e),yte=(e,t)=>ote(t)&&y9.isInline(e,t),_te=(e,t,r)=>!!t&&y9.isStart(e,t,r),bte=e=>f9.string(e),xte=e=>u9.isAncestor(e),wte=e=>!!e&&a9.isExpanded(e);function Ete(e){return Array.isArray(e)?e:[e]}var Cte=(e,{allow:t,exclude:r,filter:n,level:i,maxLevel:o}={})=>{if(!e)return!1;const[s,a]=e;if(i&&!Ete(i).includes(a.length))return!1;if(o&&a.length>o)return!1;if(n&&!n(e))return!1;if(t){const e=Ete(t);if(e.length>0&&!e.includes(s.type))return!1}if(r){const e=Ete(r);if(e.length>0&&e.includes(s.type))return!1}return!0},Ste=e("cW",((e,t,r={})=>{var n=r,{nextBlock:i,removeEmpty:o}=n,s=((e,t)=>{var r={};for(var n in e)Jee.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Qee)for(var n of Qee(e))t.indexOf(n)<0&&ete.call(e,n)&&(r[n]=e[n]);return r})(n,["nextBlock","removeEmpty"]);Pee(e,(()=>{if(o){const t=lte(e,{at:s.at});if(t){const r=!0===o?{allow:["p"]}:o,{filter:n}=r;r.filter=([t,r])=>!bte(t)&&(!t.children.some((t=>yte(e,t)))&&(!n||n([t,r]))),Cte(t,r)&&(Nee(e,{at:t[1]}),i=!1)}}if(i){const{at:t=e.selection}=s;if(t){const r=pte(e,t),n=lte(e,{at:r,block:!0});n&&(s.at=X7.next(n[1]))}}lee.insertNodes(e,t,s)}))})),Ate=(e("d4",((e,t)=>{lee.move(e,t)})),e("cX",((e,t,r)=>lee.setNodes(e,t,r))),e("d5",((e,t={})=>{try{const r=ute(e,rte({at:e.selection||[]},ate(e,t)));for(const[e,t]of r)return[e,t]}catch(r){return}}))),Tte=(e,t)=>!!Ate(e,t),Dte=function(){this.__data__=[],this.size=0},kte=function(e,t){return e===t||e!=e&&t!=t},Pte=kte,Bte=function(e,t){for(var r=e.length;r--;)if(Pte(e[r][0],t))return r;return-1},Rte=Bte,Ote=Array.prototype.splice,Fte=function(e){var t=this.__data__,r=Rte(t,e);return!(r<0||(r==t.length-1?t.pop():Ote.call(t,r,1),--this.size,0))},Mte=Bte,Ite=function(e){var t=this.__data__,r=Mte(t,e);return r<0?void 0:t[r][1]},Nte=Bte,Lte=Bte,Ute=function(e,t){var r=this.__data__,n=Lte(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},jte=Dte,zte=Fte,Gte=Ite,Vte=function(e){return Nte(this.__data__,e)>-1},Hte=Ute;function Wte(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wte.prototype.clear=jte,Wte.prototype.delete=zte,Wte.prototype.get=Gte,Wte.prototype.has=Vte,Wte.prototype.set=Hte;var $te=Wte,Yte=$te,Xte=function(){this.__data__=new Yte,this.size=0},qte=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Kte=function(e){return this.__data__.get(e)},Zte=function(e){return this.__data__.has(e)},Qte="object"==typeof n&&n&&n.Object===Object&&n,Jte=Qte,ere="object"==typeof self&&self&&self.Object===Object&&self,tre=Jte||ere||Function("return this")(),rre=tre.Symbol,nre=rre,ire=Object.prototype,ore=ire.hasOwnProperty,sre=ire.toString,are=nre?nre.toStringTag:void 0,lre=function(e){var t=ore.call(e,are),r=e[are];try{e[are]=void 0;var n=!0}catch(whe){}var i=sre.call(e);return n&&(t?e[are]=r:delete e[are]),i},ure=Object.prototype.toString,cre=lre,dre=function(e){return ure.call(e)},hre=rre?rre.toStringTag:void 0,fre=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":hre&&hre in Object(e)?cre(e):dre(e)},pre=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mre=fre,gre=pre,vre=function(e){if(!gre(e))return!1;var t=mre(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},yre=tre["__core-js_shared__"],_re=function(){var e=/[^.]+$/.exec(yre&&yre.keys&&yre.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bre=function(e){return!!_re&&_re in e},xre=Function.prototype.toString,wre=function(e){if(null!=e){try{return xre.call(e)}catch(whe){}try{return e+""}catch(whe){}}return""},Ere=vre,Cre=bre,Sre=pre,Are=wre,Tre=/^\[object .+?Constructor\]$/,Dre=Function.prototype,kre=Object.prototype,Pre=Dre.toString,Bre=kre.hasOwnProperty,Rre=RegExp("^"+Pre.call(Bre).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ore=function(e){return!(!Sre(e)||Cre(e))&&(Ere(e)?Rre:Tre).test(Are(e))},Fre=function(e,t){return null==e?void 0:e[t]},Mre=function(e,t){var r=Fre(e,t);return Ore(r)?r:void 0},Ire=Mre(tre,"Map"),Nre=Mre(Object,"create"),Lre=Nre,Ure=function(){this.__data__=Lre?Lre(null):{},this.size=0},jre=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zre=Nre,Gre=Object.prototype.hasOwnProperty,Vre=function(e){var t=this.__data__;if(zre){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Gre.call(t,e)?t[e]:void 0},Hre=Nre,Wre=Object.prototype.hasOwnProperty,$re=Nre,Yre=Ure,Xre=jre,qre=Vre,Kre=function(e){var t=this.__data__;return Hre?void 0!==t[e]:Wre.call(t,e)},Zre=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$re&&void 0===t?"__lodash_hash_undefined__":t,this};function Qre(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qre.prototype.clear=Yre,Qre.prototype.delete=Xre,Qre.prototype.get=qre,Qre.prototype.has=Kre,Qre.prototype.set=Zre;var Jre=Qre,ene=$te,tne=Ire,rne=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},nne=function(e,t){var r=e.__data__;return rne(t)?r["string"==typeof t?"string":"hash"]:r.map},ine=nne,one=nne,sne=nne,ane=nne,lne=function(e,t){var r=ane(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},une=function(){this.size=0,this.__data__={hash:new Jre,map:new(tne||ene),string:new Jre}},cne=function(e){var t=ine(this,e).delete(e);return this.size-=t?1:0,t},dne=function(e){return one(this,e).get(e)},hne=function(e){return sne(this,e).has(e)},fne=lne;function pne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pne.prototype.clear=une,pne.prototype.delete=cne,pne.prototype.get=dne,pne.prototype.has=hne,pne.prototype.set=fne;var mne=pne,gne=$te,vne=Ire,yne=mne,_ne=$te,bne=Xte,xne=qte,wne=Kte,Ene=Zte,Cne=function(e,t){var r=this.__data__;if(r instanceof gne){var n=r.__data__;if(!vne||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yne(n)}return r.set(e,t),this.size=r.size,this};function Sne(e){var t=this.__data__=new _ne(e);this.size=t.size}Sne.prototype.clear=bne,Sne.prototype.delete=xne,Sne.prototype.get=wne,Sne.prototype.has=Ene,Sne.prototype.set=Cne;var Ane=Sne,Tne=Mre,Dne=function(){try{var e=Tne(Object,"defineProperty");return e({},"",{}),e}catch(whe){}}(),kne=Dne,Pne=function(e,t,r){"__proto__"==t&&kne?kne(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Bne=Pne,Rne=kte,One=function(e,t,r){(void 0!==r&&!Rne(e[t],r)||void 0===r&&!(t in e))&&Bne(e,t,r)},Fne=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===r(o[l],l,o))break}return t}},Mne=Fne(),Ine={exports:{}};!function(e,t){var r=tre,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}(Ine,Ine.exports);var Nne=Ine.exports,Lne=tre.Uint8Array,Une=Lne,jne=function(e){var t=new e.constructor(e.byteLength);return new Une(t).set(new Une(e)),t},zne=jne,Gne=function(e,t){var r=t?zne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Vne=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Hne=pre,Wne=Object.create,$ne=function(){function e(){}return function(t){if(!Hne(t))return{};if(Wne)return Wne(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Yne=function(e,t){return function(r){return e(t(r))}},Xne=Yne(Object.getPrototypeOf,Object),qne=Object.prototype,Kne=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qne)},Zne=$ne,Qne=Xne,Jne=Kne,eie=function(e){return"function"!=typeof e.constructor||Jne(e)?{}:Zne(Qne(e))},tie=function(e){return null!=e&&"object"==typeof e},rie=fre,nie=tie,iie=function(e){return nie(e)&&"[object Arguments]"==rie(e)},oie=tie,sie=Object.prototype,aie=sie.hasOwnProperty,lie=sie.propertyIsEnumerable,uie=iie(function(){return arguments}())?iie:function(e){return oie(e)&&aie.call(e,"callee")&&!lie.call(e,"callee")},cie=uie,die=Array.isArray,hie=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},fie=vre,pie=hie,mie=function(e){return null!=e&&pie(e.length)&&!fie(e)},gie=mie,vie=tie,yie=function(e){return vie(e)&&gie(e)},_ie={exports:{}},bie=function(){return!1};!function(e,t){var r=tre,n=bie,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;e.exports=a}(_ie,_ie.exports);var xie=_ie.exports,wie=fre,Eie=Xne,Cie=tie,Sie=Function.prototype,Aie=Object.prototype,Tie=Sie.toString,Die=Aie.hasOwnProperty,kie=Tie.call(Object),Pie=function(e){if(!Cie(e)||"[object Object]"!=wie(e))return!1;var t=Eie(e);if(null===t)return!0;var r=Die.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Tie.call(r)==kie},Bie=fre,Rie=hie,Oie=tie,Fie={};Fie["[object Float32Array]"]=Fie["[object Float64Array]"]=Fie["[object Int8Array]"]=Fie["[object Int16Array]"]=Fie["[object Int32Array]"]=Fie["[object Uint8Array]"]=Fie["[object Uint8ClampedArray]"]=Fie["[object Uint16Array]"]=Fie["[object Uint32Array]"]=!0,Fie["[object Arguments]"]=Fie["[object Array]"]=Fie["[object ArrayBuffer]"]=Fie["[object Boolean]"]=Fie["[object DataView]"]=Fie["[object Date]"]=Fie["[object Error]"]=Fie["[object Function]"]=Fie["[object Map]"]=Fie["[object Number]"]=Fie["[object Object]"]=Fie["[object RegExp]"]=Fie["[object Set]"]=Fie["[object String]"]=Fie["[object WeakMap]"]=!1;var Mie=function(e){return Oie(e)&&Rie(e.length)&&!!Fie[Bie(e)]},Iie=function(e){return function(t){return e(t)}},Nie={exports:{}};!function(e,t){var r=Qte,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(whe){}}();e.exports=s}(Nie,Nie.exports);var Lie=Nie.exports,Uie=Mie,jie=Iie,zie=Lie&&Lie.isTypedArray,Gie=zie?jie(zie):Uie,Vie=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Hie=Pne,Wie=kte,$ie=Object.prototype.hasOwnProperty,Yie=function(e,t,r){var n=e[t];$ie.call(e,t)&&Wie(n,r)&&(void 0!==r||t in e)||Hie(e,t,r)},Xie=Yie,qie=Pne,Kie=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?qie(r,a,l):Xie(r,a,l)}return r},Zie=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Qie=/^(?:0|[1-9]\d*)$/,Jie=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Qie.test(e))&&e>-1&&e%1==0&&e<t},eoe=Zie,toe=cie,roe=die,noe=xie,ioe=Jie,ooe=Gie,soe=Object.prototype.hasOwnProperty,aoe=function(e,t){var r=roe(e),n=!r&&toe(e),i=!r&&!n&&noe(e),o=!r&&!n&&!i&&ooe(e),s=r||n||i||o,a=s?eoe(e.length,String):[],l=a.length;for(var u in e)!t&&!soe.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ioe(u,l))||a.push(u);return a},loe=pre,uoe=Kne,coe=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},doe=Object.prototype.hasOwnProperty,hoe=aoe,foe=function(e){if(!loe(e))return coe(e);var t=uoe(e),r=[];for(var n in e)("constructor"!=n||!t&&doe.call(e,n))&&r.push(n);return r},poe=mie,moe=function(e){return poe(e)?hoe(e,!0):foe(e)},goe=Kie,voe=moe,yoe=One,_oe=Nne,boe=Gne,xoe=Vne,woe=eie,Eoe=cie,Coe=die,Soe=yie,Aoe=xie,Toe=vre,Doe=pre,koe=Pie,Poe=Gie,Boe=Vie,Roe=function(e){return goe(e,voe(e))},Ooe=Ane,Foe=One,Moe=Mne,Ioe=function(e,t,r,n,i,o,s){var a=Boe(e,r),l=Boe(t,r),u=s.get(l);if(u)yoe(e,r,u);else{var c=o?o(a,l,r+"",e,t,s):void 0,d=void 0===c;if(d){var h=Coe(l),f=!h&&Aoe(l),p=!h&&!f&&Poe(l);c=l,h||f||p?Coe(a)?c=a:Soe(a)?c=xoe(a):f?(d=!1,c=_oe(l,!0)):p?(d=!1,c=boe(l,!0)):c=[]:koe(l)||Eoe(l)?(c=a,Eoe(a)?c=Roe(a):Doe(a)&&!Toe(a)||(c=woe(l))):d=!1}d&&(s.set(l,c),i(c,l,n,o,s),s.delete(l)),yoe(e,r,c)}},Noe=pre,Loe=moe,Uoe=Vie,joe=function e(t,r,n,i,o){t!==r&&Moe(r,(function(s,a){if(o||(o=new Ooe),Noe(s))Ioe(t,r,a,n,e,i,o);else{var l=i?i(Uoe(t,a),s,a+"",t,r,o):void 0;void 0===l&&(l=s),Foe(t,a,l)}}),Loe)},zoe=function(e){return e},Goe=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Voe=Goe,Hoe=Math.max,Woe=function(e,t,r){return t=Hoe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Hoe(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),Voe(e,this,a)}},$oe=function(e){return function(){return e}},Yoe=Dne,Xoe=Yoe?function(e,t){return Yoe(e,"toString",{configurable:!0,enumerable:!1,value:$oe(t),writable:!0})}:zoe,qoe=Xoe,Koe=Date.now,Zoe=function(e){var t=0,r=0;return function(){var n=Koe(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Qoe=Zoe(qoe),Joe=zoe,ese=Woe,tse=Qoe,rse=function(e,t){return tse(ese(e,t,Joe),e+"")},nse=kte,ise=mie,ose=Jie,sse=pre,ase=function(e,t,r){if(!sse(r))return!1;var n=typeof t;return!!("number"==n?ise(r)&&ose(t,r.length):"string"==n&&t in r)&&nse(r[t],e)},lse=rse,use=ase,cse=function(e){return lse((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&use(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t}))},dse=joe,hse=cse((function(e,t,r,n){dse(e,t,r,n)}));const fse=o(hse);var pse={};Object.defineProperty(pse,"__esModule",{value:!0});for(var mse="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),gse={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},vse={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:mse?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},yse={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},_se=1;_se<20;_se++)yse["f"+_se]=111+_se;function bse(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return xse(e,t)})),i=function(e){return n.some((function(t){return wse(t,e)}))};return null==r?i:i(r)}function xse(e,t){var r=t&&t.byKey,n={},i=(e=e.replace("++","+add")).split("+"),o=i.length;for(var s in gse)n[gse[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,f=h.endsWith("?")&&h.length>1;f&&(h=h.slice(0,-1));var p=Cse(h),m=gse[p];if(h.length>1&&!m&&!vse[h]&&!yse[p])throw new TypeError('Unknown modifier: "'+h+'"');1!==o&&m||(r?n.key=p:n.which=Ese(h)),m&&(n[m]=!f||null)}}catch(rCe){l=!0,u=rCe}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return n}function wse(e,t){for(var r in e){var n=e[r],i=void 0;if(null!=n&&(null!=(i="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&i!==n)return!1}return!0}function Ese(e){return e=Cse(e),yse[e]||e.toUpperCase().charCodeAt(0)}function Cse(e){return e=e.toLowerCase(),e=vse[e]||e}pse.default=bse;var Sse=pse.isHotkey=bse;pse.isCodeHotkey=function(e,t){return bse(e,t)};var Ase=pse.isKeyHotkey=function(e,t){return bse(e,{byKey:!0},t)};pse.parseHotkey=xse,pse.compareHotkey=wse,pse.toKeyCode=Ese,pse.toKeyName=Cse;var Tse=joe;const Dse=o(cse((function(e,t,r){Tse(e,t,r)})));var kse=die,Pse=function(){if(!arguments.length)return[];var e=arguments[0];return kse(e)?e:[e]};const Bse=o(Pse);var Rse=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Ose=mne,Fse=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Mse=function(e){return this.__data__.has(e)};function Ise(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ose;++t<r;)this.add(e[t])}Ise.prototype.add=Ise.prototype.push=Fse,Ise.prototype.has=Mse;var Nse=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Lse=function(e,t){return e.has(t)},Use=Ise,jse=Nse,zse=Lse,Gse=function(e,t,r,n,i,o){var s=1&r,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&r?new Use:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],m=t[d];if(n)var g=s?n(m,p,d,t,e,o):n(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!jse(t,(function(e,t){if(!zse(f,t)&&(p===e||i(p,e,r,n,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Vse=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Hse=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Wse=Lne,$se=kte,Yse=Gse,Xse=Vse,qse=Hse,Kse=rre?rre.prototype:void 0,Zse=Kse?Kse.valueOf:void 0,Qse=function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Wse(e),new Wse(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $se(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Xse;case"[object Set]":var l=1&n;if(a||(a=qse),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var c=Yse(a(e),a(t),n,i,o,s);return s.delete(e),c;case"[object Symbol]":if(Zse)return Zse.call(e)==Zse.call(t)}return!1},Jse=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},eae=Jse,tae=die,rae=function(e,t,r){var n=t(e);return tae(e)?n:eae(n,r(e))},nae=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o},iae=function(){return[]},oae=nae,sae=iae,aae=Object.prototype.propertyIsEnumerable,lae=Object.getOwnPropertySymbols,uae=lae?function(e){return null==e?[]:(e=Object(e),oae(lae(e),(function(t){return aae.call(e,t)})))}:sae,cae=Yne(Object.keys,Object),dae=Kne,hae=cae,fae=Object.prototype.hasOwnProperty,pae=aoe,mae=function(e){if(!dae(e))return hae(e);var t=[];for(var r in Object(e))fae.call(e,r)&&"constructor"!=r&&t.push(r);return t},gae=mie,vae=function(e){return gae(e)?pae(e):mae(e)},yae=rae,_ae=uae,bae=vae,xae=function(e){return yae(e,bae,_ae)},wae=xae,Eae=Object.prototype.hasOwnProperty,Cae=function(e,t,r,n,i,o){var s=1&r,a=wae(e),l=a.length;if(l!=wae(t).length&&!s)return!1;for(var u=l;u--;){var c=a[u];if(!(s?c in t:Eae.call(t,c)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<l;){var m=e[c=a[u]],g=t[c];if(n)var v=s?n(g,m,c,t,e,o):n(m,g,c,e,t,o);if(!(void 0===v?m===g||i(m,g,r,n,o):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(f=!1)}return o.delete(e),o.delete(t),f},Sae=Mre(tre,"DataView"),Aae=Ire,Tae=Mre(tre,"Promise"),Dae=Mre(tre,"Set"),kae=Mre(tre,"WeakMap"),Pae=fre,Bae=wre,Rae="[object Map]",Oae="[object Promise]",Fae="[object Set]",Mae="[object WeakMap]",Iae="[object DataView]",Nae=Bae(Sae),Lae=Bae(Aae),Uae=Bae(Tae),jae=Bae(Dae),zae=Bae(kae),Gae=Pae;(Sae&&Gae(new Sae(new ArrayBuffer(1)))!=Iae||Aae&&Gae(new Aae)!=Rae||Tae&&Gae(Tae.resolve())!=Oae||Dae&&Gae(new Dae)!=Fae||kae&&Gae(new kae)!=Mae)&&(Gae=function(e){var t=Pae(e),r="[object Object]"==t?e.constructor:void 0,n=r?Bae(r):"";if(n)switch(n){case Nae:return Iae;case Lae:return Rae;case Uae:return Oae;case jae:return Fae;case zae:return Mae}return t});var Vae=Gae,Hae=Ane,Wae=Gse,$ae=Qse,Yae=Cae,Xae=Vae,qae=die,Kae=xie,Zae=Gie,Qae="[object Arguments]",Jae="[object Array]",ele="[object Object]",tle=Object.prototype.hasOwnProperty,rle=function(e,t,r,n,i,o){var s=qae(e),a=qae(t),l=s?Jae:Xae(e),u=a?Jae:Xae(t),c=(l=l==Qae?ele:l)==ele,d=(u=u==Qae?ele:u)==ele,h=l==u;if(h&&Kae(e)){if(!Kae(t))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Hae),s||Zae(e)?Wae(e,t,r,n,i,o):$ae(e,t,l,r,n,i,o);if(!(1&r)){var f=c&&tle.call(e,"__wrapped__"),p=d&&tle.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Hae),i(m,g,r,n,o)}}return!!h&&(o||(o=new Hae),Yae(e,t,r,n,i,o))},nle=tie,ile=function e(t,r,n,i,o){return t===r||(null==t||null==r||!nle(t)&&!nle(r)?t!=t&&r!=r:rle(t,r,n,i,e,o))},ole=fre,sle=tie,ale=function(e){return"symbol"==typeof e||sle(e)&&"[object Symbol]"==ole(e)},lle=die,ule=ale,cle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dle=/^\w*$/,hle=function(e,t){if(lle(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ule(e))||dle.test(e)||!cle.test(e)||null!=t&&e in Object(t)},fle=mne;function ple(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ple.Cache||fle),r}ple.Cache=fle;var mle=ple,gle=function(e){var t=mle(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},vle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yle=/\\(\\)?/g,_le=gle((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vle,(function(e,r,n,i){t.push(n?i.replace(yle,"$1"):r||e)})),t})),ble=_le,xle=Rse,wle=die,Ele=ale,Cle=rre?rre.prototype:void 0,Sle=Cle?Cle.toString:void 0,Ale=function e(t){if("string"==typeof t)return t;if(wle(t))return xle(t,e)+"";if(Ele(t))return Sle?Sle.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},Tle=Ale,Dle=die,kle=hle,Ple=ble,Ble=function(e){return null==e?"":Tle(e)},Rle=function(e,t){return Dle(e)?e:kle(e,t)?[e]:Ple(Ble(e))},Ole=ale,Fle=function(e){if("string"==typeof e||Ole(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Mle=Rle,Ile=Fle,Nle=function(e,t){for(var r=0,n=(t=Mle(t,e)).length;null!=e&&r<n;)e=e[Ile(t[r++])];return r&&r==n?e:void 0},Lle=Rle,Ule=cie,jle=die,zle=Jie,Gle=hie,Vle=Fle,Hle=function(e,t,r){for(var n=-1,i=(t=Lle(t,e)).length,o=!1;++n<i;){var s=Vle(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Gle(i)&&zle(s,i)&&(jle(e)||Ule(e))},Wle=function(e,t){return null!=e&&t in Object(e)},$le=Hle,Yle=function(e,t){return null!=e&&$le(e,t,Wle)},Xle=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},qle=Object.defineProperty,Kle=Object.defineProperties,Zle=Object.getOwnPropertyDescriptors,Qle=Object.getOwnPropertySymbols,Jle=Object.prototype.hasOwnProperty,eue=Object.prototype.propertyIsEnumerable,tue=(e,t,r)=>t in e?qle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rue=(e,t)=>{for(var r in t||(t={}))Jle.call(t,r)&&tue(e,r,t[r]);if(Qle)for(var r of Qle(t))eue.call(t,r)&&tue(e,r,t[r]);return e},nue=(e,t)=>Kle(e,Zle(t)),iue=(e,t={})=>lte(e,nue(rue({},t),{block:!0})),oue=e=>{var t;const r=null==(t=iue(e))?void 0:t[0];return!!r&&((e,t)=>!bte(t)&&!t.children.some((t=>yte(e,t))))(e,r)},sue=(e,t)=>j5(((e,t)=>{if(!e)return;const r=vte(e);return null==r?void 0:r[t]})(e,t)),aue=(e,t)=>{var r;const{selection:n}=e;if(!n)return!1;const i=null==(r=iue(e,t))?void 0:r[1];return!!i&&(_te(e,n.focus,i)||wte(e.selection)&&_te(e,n.anchor,i))},lue=(e,t)=>{var r,n=t,{key:i,at:o,shouldChange:s=!0}=n,a=((e,t)=>{var r={};for(var n in e)Jle.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Qle)for(var n of Qle(e))t.indexOf(n)<0&&eue.call(e,n)&&(r[n]=e[n]);return r})(n,["key","at","shouldChange"]);const l=null!=o?o:e.selection;if(i=Bse(i),l)if(a9.isRange(l)&&a9.isExpanded(l))((e,t,r)=>{lee.unsetNodes(e,t,r)})(e,i,rue({at:l,match:dte,split:!0},a));else if(e.selection){const t=null!=(r=vte(e))?r:{};i.forEach((e=>{delete t[e]})),e.marks=t,s&&e.onChange()}},uue=(e,t,r)=>{cte(e,(()=>{for(const[,n]of((e,t,r)=>f9.children(e,t,r))(e,t,{reverse:!0}))hte(e,nue(rue({},r),{at:n}))}))},cue=e=>{const t=vte(e);t&&Object.keys(t).forEach((t=>{((e,t)=>{y9.removeMark(e,t)})(e,t)}))},due=(e,{at:t,insertOptions:r,nodes:n,removeOptions:i})=>{cte(e,(()=>{uue(e,t,i),Ste(e,n,nue(rue({},r),{at:t.concat([0])}))}))},hue=(e,{key:t,clear:r})=>{e.selection&&cte(e,(()=>{if(sue(e,t))e.removeMark(t);else{if(r){const t=Bse(r);lue(e,{key:t})}e.addMark(t,!0)}}))};function fue(e){return fue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fue(e)}function pue(e){var t=function(e,t){if("object"!==fue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fue(t)?t:String(t)}function mue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gue=new WeakMap,vue=new WeakMap;class yue{}class _ue extends yue{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),mue(this,"offset",void 0),mue(this,"path",void 0);var{offset:t,path:r}=e;this.offset=t,this.path=r}}class bue extends yue{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),mue(this,"offset",void 0),mue(this,"path",void 0);var{offset:t,path:r}=e;this.offset=t,this.path=r}}var xue=e=>vue.get(e);function wue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wue(Object(r),!0).forEach((function(t){mue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cue=new WeakSet,Sue=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"==typeof e){var i={text:e};Cue.add(i),e=i}if(P9.isText(e)){var o=e;P9.isText(n)&&Cue.has(n)&&Cue.has(o)&&P9.equals(n,o,{loose:!0})?n.text+=o.text:t.push(o)}else if(u9.isElement(e))t.push(e);else{if(!(e instanceof yue))throw new Error("Unexpected hyperscript child object: ".concat(e));var s=t[t.length-1];P9.isText(s)||(r(""),s=t[t.length-1]),e instanceof _ue?((e,t)=>{var r=e.text.length;gue.set(e,[r,t])})(s,e):e instanceof bue&&((e,t)=>{var r=e.text.length;vue.set(e,[r,t])})(s,e)}}};for(var n of e.flat(1/0))r(n);return t};function Aue(e,t,r){return Eue(Eue({},t),{},{children:Sue(r)})}function Tue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Due(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tue(Object(r),!0).forEach((function(t){mue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kue,Pue={anchor:function(e,t,r){return new _ue(t)},cursor:function(e,t,r){return[new _ue(t),new bue(t)]},editor:(kue=zee,(e,t,r)=>{var n,i=[];for(var o of r)a9.isRange(o)?n=o:i.push(o);var s,a=Sue(i),l={},u=kue();for(var[c,d]of(Object.assign(u,t),u.children=a,f9.texts(u))){var h=(s=c,gue.get(s)),f=xue(c);if(null!=h){var[p]=h;l.anchor={path:d,offset:p}}if(null!=f){var[m]=f;l.focus={path:d,offset:m}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?u.selection=n:a9.isRange(l)&&(u.selection=l),u}),element:Aue,focus:function(e,t,r){return new bue(t)},fragment:function(e,t,r){return Sue(r)},selection:function(e,t,r){var n=r.find((e=>e instanceof _ue)),i=r.find((e=>e instanceof bue));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!i||null==i.offset||null==i.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Eue({anchor:{offset:n.offset,path:n.path},focus:{offset:i.offset,path:i.path}},t)},text:function(e,t,r){var n=Sue(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=n;if(null==i&&(i={text:""}),!P9.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return Cue.delete(i),Object.assign(i,t),i}},Bue=e=>function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=e[t];if(!s)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));return null==r&&(r={}),N7(r)||(i=[r].concat(i),r={}),s(t,r,i=i.filter((e=>Boolean(e))).flat())},Rue=e=>{var t={},r=function(){var r=e[n];if("object"!=typeof r)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>Aue(0,Due(Due({},r),t),n)};for(var n in e)r();return t},Oue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=Rue(t),n=Due(Due(Due({},Pue),r),e.creators);return Bue(n)}(),Fue=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Mue=Kie,Iue=vae,Nue=function(e,t){return e&&Mue(t,Iue(t),e)},Lue=Kie,Uue=moe,jue=function(e,t){return e&&Lue(t,Uue(t),e)},zue=Kie,Gue=uae,Vue=function(e,t){return zue(e,Gue(e),t)},Hue=Jse,Wue=Xne,$ue=uae,Yue=iae,Xue=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Hue(t,$ue(e)),e=Wue(e);return t}:Yue,que=Kie,Kue=Xue,Zue=function(e,t){return que(e,Kue(e),t)},Que=rae,Jue=Xue,ece=moe,tce=function(e){return Que(e,ece,Jue)},rce=Object.prototype.hasOwnProperty,nce=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&rce.call(e,"index")&&(r.index=e.index,r.input=e.input),r},ice=jne,oce=function(e,t){var r=t?ice(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},sce=/\w*$/,ace=function(e){var t=new e.constructor(e.source,sce.exec(e));return t.lastIndex=e.lastIndex,t},lce=rre?rre.prototype:void 0,uce=lce?lce.valueOf:void 0,cce=jne,dce=oce,hce=ace,fce=function(e){return uce?Object(uce.call(e)):{}},pce=Gne,mce=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return cce(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return dce(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pce(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return hce(e);case"[object Symbol]":return fce(e)}},gce=Vae,vce=tie,yce=function(e){return vce(e)&&"[object Map]"==gce(e)},_ce=Iie,bce=Lie&&Lie.isMap,xce=bce?_ce(bce):yce,wce=Vae,Ece=tie,Cce=function(e){return Ece(e)&&"[object Set]"==wce(e)},Sce=Iie,Ace=Lie&&Lie.isSet,Tce=Ace?Sce(Ace):Cce,Dce=Ane,kce=Fue,Pce=Yie,Bce=Nue,Rce=jue,Oce=Nne,Fce=Vne,Mce=Vue,Ice=Zue,Nce=xae,Lce=tce,Uce=Vae,jce=nce,zce=mce,Gce=eie,Vce=die,Hce=xie,Wce=xce,$ce=pre,Yce=Tce,Xce=vae,qce=moe,Kce="[object Arguments]",Zce="[object Function]",Qce="[object Object]",Jce={};Jce[Kce]=Jce["[object Array]"]=Jce["[object ArrayBuffer]"]=Jce["[object DataView]"]=Jce["[object Boolean]"]=Jce["[object Date]"]=Jce["[object Float32Array]"]=Jce["[object Float64Array]"]=Jce["[object Int8Array]"]=Jce["[object Int16Array]"]=Jce["[object Int32Array]"]=Jce["[object Map]"]=Jce["[object Number]"]=Jce[Qce]=Jce["[object RegExp]"]=Jce["[object Set]"]=Jce["[object String]"]=Jce["[object Symbol]"]=Jce["[object Uint8Array]"]=Jce["[object Uint8ClampedArray]"]=Jce["[object Uint16Array]"]=Jce["[object Uint32Array]"]=!0,Jce["[object Error]"]=Jce[Zce]=Jce["[object WeakMap]"]=!1;var ede=function e(t,r,n,i,o,s){var a,l=1&r,u=2&r,c=4&r;if(n&&(a=o?n(t,i,o,s):n(t)),void 0!==a)return a;if(!$ce(t))return t;var d=Vce(t);if(d){if(a=jce(t),!l)return Fce(t,a)}else{var h=Uce(t),f=h==Zce||"[object GeneratorFunction]"==h;if(Hce(t))return Oce(t,l);if(h==Qce||h==Kce||f&&!o){if(a=u||f?{}:Gce(t),!l)return u?Ice(t,Rce(a,t)):Mce(t,Bce(a,t))}else{if(!Jce[h])return o?t:{};a=zce(t,h,l)}}s||(s=new Dce);var p=s.get(t);if(p)return p;s.set(t,a),Yce(t)?t.forEach((function(i){a.add(e(i,r,n,i,t,s))})):Wce(t)&&t.forEach((function(i,o){a.set(o,e(i,r,n,o,t,s))}));var m=d?void 0:(c?u?Lce:Nce:u?qce:Xce)(t);return kce(m||t,(function(i,o){m&&(i=t[o=i]),Pce(a,o,e(i,r,n,o,t,s))})),a},tde=ede;const rde=o((function(e){return tde(e,5)}));var nde=ile;const ide=o((function(e,t){return nde(e,t)})),ode=Symbol(),sde=Symbol(),ade="a",lde="w",ude=Object.getPrototypeOf,cde=new WeakMap,dde=e=>e&&(cde.has(e)?cde.get(e):ude(e)===Object.prototype||ude(e)===Array.prototype),hde=e=>"object"==typeof e&&null!==e,fde=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(ude(e),t)},pde=e=>e[sde]||e,mde=(e,t,r,n)=>{if(!dde(e))return e;let i=n&&n.get(e);if(!i){const t=pde(e);i=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some((e=>!e.configurable&&!e.writable)))(t)?[t,fde(t)]:[t],null==n||n.set(e,i)}const[o,s]=i;let a=r&&r.get(o);return a&&a[1].f===!!s||(a=((e,t)=>{const r={f:t};let n=!1;const i=(t,i)=>{if(!n){let n=r[ade].get(e);if(n||(n={},r[ade].set(e,n)),t===lde)n[lde]=!0;else{let e=n[t];e||(e=new Set,n[t]=e),e.add(i)}}},o={get:(t,n)=>n===sde?e:(i("k",n),mde(Reflect.get(t,n),r[ade],r.c,r.t)),has:(t,o)=>o===ode?(n=!0,r[ade].delete(e),!0):(i("h",o),Reflect.has(t,o)),getOwnPropertyDescriptor:(e,t)=>(i("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(i(lde),Reflect.ownKeys(e))};return t&&(o.set=o.deleteProperty=()=>!1),[o,r]})(o,!!s),a[1].p=((e,t)=>new Proxy(e,t))(s||o,a[0]),r&&r.set(o,a)),a[1][ade]=t,a[1].c=r,a[1].t=n,a[1].p},gde=(e,t,r,n,i=Object.is)=>{if(i(e,t))return!1;if(!hde(e)||!hde(t))return!0;const o=r.get(pde(e));if(!o)return!0;if(n){const r=n.get(e);if(r&&r.n===t)return r.g;n.set(e,{n:t,g:!1})}let s=null;try{for(const r of o.h||[])if(s=Reflect.has(e,r)!==Reflect.has(t,r),s)return s;if(!0===o[lde]){if(s=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some(((e,t)=>e!==n[t]))})(e,t),s)return s}else for(const r of o.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),s)return s;for(const a of o.k||[])if(s=gde(e[a],t[a],r,n,i),s)return s;return null===s&&(s=!0),s}finally{n&&n.set(e,{n:t,g:s})}},vde=new Map,yde=e=>{const t=vde.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},_de=(e,t={})=>(r,n,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=null!=o&&o&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(mY){}if(!u)return e(r,n,i);const{connection:c,...d}=((e,t,r)=>{if(void 0===e)return{type:"untracked",connection:t.connect(r)};const n=vde.get(r.name);if(n)return{type:"tracked",store:e,...n};const i={connection:t.connect(r),stores:{}};return vde.set(r.name,i),{type:"tracked",store:e,...i}})(a,u,l);let h=!0;i.setState=(e,t,o)=>{const u=r(e,t);if(!h)return u;const d=void 0===o?{type:s||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===a?(null==c||c.send(d,n()),u):(null==c||c.send({...d,type:`${a}/${d.type}`},{...yde(l.name),[a]:i.getState()}),u)};const f=(...e)=>{const t=h;h=!1,r(...e),h=t},p=e(i.setState,n,i);if("untracked"===d.type?null==c||c.init(p):(d.stores[d.store]=i,null==c||c.init(Object.fromEntries(Object.entries(d.stores).map((([e,t])=>[e,e===d.store?p:t.getState()]))))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){const e=i.dispatch;i.dispatch=(...t)=>{e(...t)}}return c.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):bde(e.payload,(e=>{if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===a)return void f(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[a];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&f(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return f(p),void 0===a?null==c?void 0:c.init(i.getState()):null==c?void 0:c.init(yde(l.name));case"COMMIT":return void 0===a?void(null==c||c.init(i.getState())):null==c?void 0:c.init(yde(l.name));case"ROLLBACK":return bde(e.state,(e=>{if(void 0===a)return f(e),void(null==c||c.init(i.getState()));f(e[a]),null==c||c.init(yde(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return bde(e.state,(e=>{void 0!==a?JSON.stringify(i.getState())!==JSON.stringify(e[a])&&f(e[a]):f(e)}));case"IMPORT_STATE":{const{nextLiftedState:r}=e.payload,n=null==(t=r.computedStates.slice(-1)[0])?void 0:t.state;if(!n)return;return f(void 0===a?n:n[a]),void(null==c||c.send(null,r))}case"PAUSE_RECORDING":return h=!h}return}})),p},bde=(e,t)=>{let r;try{r=JSON.parse(e)}catch(whe){console.error("[zustand devtools middleware] Could not parse the received json",whe)}void 0!==r&&t(r)};function xde(e,t){let r;try{r=e()}catch(mY){return}const n={getItem:e=>{var n;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(n=r.getItem(e))?n:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)};return n}const wde=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>wde(e)(r),catch(e){return this}}}catch(whe){return{then(e){return this},catch:t=>wde(t)(whe)}}},Ede=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(r,n,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch(mY){}if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,i);const c=wde(o.serialize),d=()=>{const e=o.partialize({...n()});let t;const r=c({state:e,version:o.version}).then((e=>u.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return r},h=i.setState;i.setState=(e,t)=>{h(e,t),d()};const f=e(((...e)=>{r(...e),d()}),n,i);let p;const m=()=>{var e;if(!u)return;s=!1,a.forEach((e=>e(n())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,n()))||void 0;return wde(u.getItem.bind(u))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=o.merge(e,null!=(t=n())?t:f),r(p,!0),d()})).then((()=>{null==t||t(p,void 0),s=!0,l.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),p||f})(e,t):((e,t)=>(r,n,i)=>{let o={storage:xde((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,i);const c=()=>{const e=o.partialize({...n()});return u.setItem(o.name,{state:e,version:o.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),c()};const h=e(((...e)=>{r(...e),c()}),n,i);let f;i.getInitialState=()=>h;const p=()=>{var e,t;if(!u)return;s=!1,a.forEach((e=>{var t;return e(null!=(t=n())?t:h)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:h))||void 0;return wde(u.getItem.bind(u))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,s]=e;if(f=o.merge(s,null!=(t=n())?t:h),r(f,!0),i)return c()})).then((()=>{null==i||i(f,void 0),f=n(),s=!0,l.forEach((e=>e(f)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||p(),f||h})(e,t),{useDebugValue:Cde}=W,{useSyncExternalStoreWithSelector:Sde}=Sp,Ade=e=>e;var Tde={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",i=1,o=2,s=1/0,a=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object Promise]",_="[object RegExp]",b="[object Set]",x="[object String]",w="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,D=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,B=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[l]=O[u]=O[C]=O[c]=O[S]=O[d]=O[h]=O[f]=O[m]=O[g]=O[v]=O[_]=O[b]=O[x]=O[E]=!1;var F="object"==typeof n&&n&&n.Object===Object&&n,M="object"==typeof self&&self&&self.Object===Object&&self,I=F||M||Function("return this")(),N=t&&!t.nodeType&&t,L=N&&e&&!e.nodeType&&e,U=L&&L.exports===N&&F.process,j=function(){try{return U&&U.binding("util")}catch(whe){}}(),z=j&&j.isTypedArray;function G(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(whe){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var $,Y,X=Array.prototype,q=Function.prototype,K=Object.prototype,Z=I["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=q.toString,ee=K.hasOwnProperty,te=K.toString,re=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=I.Symbol,ie=I.Uint8Array,oe=K.propertyIsEnumerable,se=X.splice,ae=($=Object.keys,Y=Object,function(e){return $(Y(e))}),le=Ue(I,"DataView"),ue=Ue(I,"Map"),ce=Ue(I,"Promise"),de=Ue(I,"Set"),he=Ue(I,"WeakMap"),fe=Ue(Object,"create"),pe=Ye(le),me=Ye(ue),ge=Ye(ce),ve=Ye(de),ye=Ye(he),_e=ne?ne.prototype:void 0,be=_e?_e.valueOf:void 0,xe=_e?_e.toString:void 0;function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ce;++t<r;)this.add(e[t])}function Ae(e){this.__data__=new Ee(e)}function Te(e,t){var r=Ze(e)||Ke(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!ee.call(e,o)||i&&("length"==o||ze(o,n))||r.push(o);return r}function De(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}we.prototype.clear=function(){this.__data__=fe?fe(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:ee.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,r=De(t,e);return!(r<0||(r==t.length-1?t.pop():se.call(t,r,1),0))},Ee.prototype.get=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return De(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=De(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new we,map:new(ue||Ee),string:new we}},Ce.prototype.delete=function(e){return Le(this,e).delete(e)},Ce.prototype.get=function(e){return Le(this,e).get(e)},Ce.prototype.has=function(e){return Le(this,e).has(e)},Ce.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,r),this},Se.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Ee},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var n=r.__data__;if(!ue||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var ke=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===r(o[l],l,o))break}return t}}();function Pe(e,t){for(var r=0,n=(t=Ge(t,e)?[t]:Ie(t)).length;null!=e&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function Be(e,t){return null!=e&&t in Object(e)}function Re(e,t,r,n,s){return e===t||(null==e||null==t||!tt(e)&&!rt(t)?e!=e&&t!=t:function(e,t,r,n,s,a){var f=Ze(e),p=Ze(t),y=u,E=u;f||(y=(y=je(e))==l?v:y),p||(E=(E=je(t))==l?v:E);var A=y==v&&!V(e),T=E==v&&!V(t),D=y==E;if(D&&!A)return a||(a=new Ae),f||it(e)?Ne(e,t,r,n,s,a):function(e,t,r,n,s,a,l){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!n(new ie(e),new ie(t)));case c:case d:case g:return qe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case x:return e==t+"";case m:var u=H;case b:var f=a&o;if(u||(u=W),e.size!=t.size&&!f)return!1;var p=l.get(e);if(p)return p==t;a|=i,l.set(e,t);var v=Ne(u(e),u(t),n,s,a,l);return l.delete(e),v;case w:if(be)return be.call(e)==be.call(t)}return!1}(e,t,y,r,n,s,a);if(!(s&o)){var k=A&&ee.call(e,"__wrapped__"),P=T&&ee.call(t,"__wrapped__");if(k||P){var B=k?e.value():e,R=P?t.value():t;return a||(a=new Ae),r(B,R,n,s,a)}}return!!D&&(a||(a=new Ae),function(e,t,r,n,i,s){var a=i&o,l=ot(e),u=l.length,c=ot(t),d=c.length;if(u!=d&&!a)return!1;for(var h=u;h--;){var f=l[h];if(!(a?f in t:ee.call(t,f)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var m=!0;s.set(e,t),s.set(t,e);for(var g=a;++h<u;){var v=e[f=l[h]],y=t[f];if(n)var _=a?n(y,v,f,t,e,s):n(v,y,f,e,t,s);if(!(void 0===_?v===y||r(v,y,n,i,s):_)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}(e,t,r,n,s,a))}(e,t,Re,r,n,s))}function Oe(e){return!(!tt(e)||function(e){return!!Q&&Q in e}(e))&&(Je(e)||V(e)?re:B).test(Ye(e))}function Fe(e){return"function"==typeof e?e:null==e?st:"object"==typeof e?Ze(e)?function(e,t){return Ge(e)&&Ve(t)?He($e(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:Pe(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Ge(t,e)?[t]:Ie(t);for(var n,i=-1,o=t.length;++i<o;){var s=$e(t[i]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}return n||!!(o=e?e.length:0)&&et(o)&&ze(s,o)&&(Ze(e)||Ke(e))}(e,t,Be)}(r,e):Re(t,n,void 0,i|o)}}(e[0],e[1]):(r=function(e){for(var t=ot(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ve(i)]}return t}(t=e),1==r.length&&r[0][2]?He(r[0][0],r[0][1]):function(e){return e===t||function(e,t,r,n){var s=r.length,a=s,l=!n;if(null==e)return!a;for(e=Object(e);s--;){var u=r[s];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var c=(u=r[s])[0],d=e[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var f=new Ae;if(n)var p=n(d,h,c,e,t,f);if(!(void 0===p?Re(h,d,n,i|o,f):p))return!1}}return!0}(e,t,r)}):function(e){return Ge(e)?(t=$e(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Pe(t,e)}}(e);var t}(e);var t,r}function Me(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||K,t!==n)return ae(e);var t,r,n,i=[];for(var o in Object(e))ee.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Ie(e){return Ze(e)?e:We(e)}function Ne(e,t,r,n,s,a){var l=s&o,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var h=-1,f=!0,p=s&i?new Se:void 0;for(a.set(e,t),a.set(t,e);++h<u;){var m=e[h],g=t[h];if(n)var v=l?n(g,m,h,t,e,a):n(m,g,h,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!G(t,(function(e,t){if(!p.has(t)&&(m===e||r(m,e,n,s,a)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!r(m,g,n,s,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Le(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(r)?r:void 0}var je=function(e){return te.call(e)};function ze(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t){if(Ze(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!nt(e))||T.test(e)||!A.test(e)||null!=t&&e in Object(t)}function Ve(e){return e==e&&!tt(e)}function He(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}(le&&je(new le(new ArrayBuffer(1)))!=S||ue&&je(new ue)!=m||ce&&je(ce.resolve())!=y||de&&je(new de)!=b||he&&je(new he)!=E)&&(je=function(e){var t=te.call(e),r=t==v?e.constructor:void 0,n=r?Ye(r):void 0;if(n)switch(n){case pe:return S;case me:return m;case ge:return y;case ve:return b;case ye:return E}return t});var We=Xe((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(nt(e))return xe?xe.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var r=[];return D.test(e)&&r.push(""),e.replace(k,(function(e,t,n,i){r.push(n?i.replace(P,"$1"):t||e)})),r}));function $e(e){if("string"==typeof e||nt(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function Ye(e){if(null!=e){try{return J.call(e)}catch(whe){}try{return e+""}catch(whe){}}return""}function Xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Xe.Cache||Ce),r}function qe(e,t){return e===t||e!=e&&t!=t}function Ke(e){return function(e){return rt(e)&&Qe(e)}(e)&&ee.call(e,"callee")&&(!oe.call(e,"callee")||te.call(e)==l)}Xe.Cache=Ce;var Ze=Array.isArray;function Qe(e){return null!=e&&et(e.length)&&!Je(e)}function Je(e){var t=tt(e)?te.call(e):"";return t==f||t==p}function et(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function tt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function rt(e){return!!e&&"object"==typeof e}function nt(e){return"symbol"==typeof e||rt(e)&&te.call(e)==w}var it=z?function(e){return function(t){return e(t)}}(z):function(e){return rt(e)&&et(e.length)&&!!O[te.call(e)]};function ot(e){return Qe(e)?Te(e):Me(e)}function st(e){return e}e.exports=function(e,t){var r={};return t=Fe(t),function(e,t){e&&ke(e,t,ot)}(e,(function(e,n,i){r[n]=t(e,n,i)})),r}}(Tde,Tde.exports);var Dde=Object.defineProperty,kde=Object.defineProperties,Pde=Object.getOwnPropertyDescriptors,Bde=Object.getOwnPropertySymbols,Rde=Object.prototype.hasOwnProperty,Ode=Object.prototype.propertyIsEnumerable,Fde=(e,t,r)=>t in e?Dde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mde=(e,t)=>{for(var r in t||(t={}))Rde.call(t,r)&&Fde(e,r,t[r]);if(Bde)for(var r of Bde(t))Ode.call(t,r)&&Fde(e,r,t[r]);return e},Ide=(e,t)=>kde(e,Pde(t)),Nde=e=>(t,r,n)=>{const i=(e,r)=>t(rU(e),!0,r);return n.setState=i,e(i,r,n)},Lde=e=>Ide(Mde({},e),{extendSelectors:t=>Lde(((e,t)=>{const r=Mde({},t.use),n=Mde({},t.useTracked),i=Mde({},t.get);return Object.keys(e(t.store.getState(),t.get,t)).forEach((o=>{r[o]=(...r)=>t.useStore((n=>(0,e(n,t.get,t)[o])(...r))),n[o]=(...r)=>{const n=t.useTrackedStore();return(0,e(n,t.get,t)[o])(...r)},i[o]=(...r)=>(0,e(t.store.getState(),t.get,t)[o])(...r)})),Ide(Mde({},t),{get:i,use:r,useTracked:n})})(t,e)),extendActions:t=>Lde(((e,t)=>{const r=e(t.set,t.get,t);return Ide(Mde({},t),{set:Mde(Mde({},t.set),r)})})(t,e))}),Ude=e=>(t,r={})=>{var n,i;const{middlewares:o=[],devtools:s,persist:a,immer:l}=r;nU(null!=(n=null==l?void 0:l.enabledAutoFreeze)&&n),(null==l?void 0:l.enableMapSet)&&eU();const u=[Nde,...o];if(null==a?void 0:a.enabled){const t=Ide(Mde({},a),{name:null!=(i=a.name)?i:e});u.push((e=>Ede(e,t)))}(null==s?void 0:s.enabled)&&u.push((t=>_de(t,Ide(Mde({},s),{name:e})))),u.push(np);const c=function(e,...t){return t.reduce(((e,t)=>t(e)),e)}((()=>t),...u),d=(e,t)=>function(e,t=Ade,r){const n=Sde(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Cde(n),n}(c,e,t),h=((e,t)=>{const r={};return Object.keys(e.getState()).forEach((n=>{r[n]=r=>{if(e.getState()[n]===r)return;const i=n.replace(/^\S/,(e=>e.toUpperCase()));e.setState((e=>{e[n]=r}),`@@${t}/set${i}`)}})),r})(c,e),f=((e,t)=>{const r={};return Object.keys(t.getState()).forEach((t=>{r[t]=r=>e((e=>e[t]),r)})),r})(d,c),p=(e=>{const t={};return Object.keys(e.getState()).forEach((r=>{t[r]=()=>e.getState()[r]})),t})(c),m=(g=d,()=>{const[,e]=H.useReducer((e=>e+1),0),t=new WeakMap,r=H.useRef(),n=H.useRef(),i=H.useRef();H.useEffect((()=>{r.current=t,n.current!==i.current&&gde(n.current,i.current,t,new WeakMap)&&(n.current=i.current,e())}));const o=H.useCallback((e=>(i.current=e,n.current&&n.current!==e&&r.current&&!gde(n.current,e,r.current,new WeakMap)?n.current:(n.current=e,e))),[]),s=g(o),a=H.useMemo((()=>new WeakMap),[]);return mde(s,t,a)});var g;const v=((e,t)=>{const r={};return Object.keys(t.getState()).forEach((t=>{r[t]=()=>e()[t]})),r})(m,c),y={get:Mde({state:c.getState},p),name:e,set:Mde({state:(t,r)=>{c.setState(t,r||`@@${e}/setState`)},mergeState:(t,r)=>{c.setState((e=>{Object.assign(e,t)}),r||`@@${e}/mergeState`)}},h),store:c,use:f,useTracked:v,useStore:d,useTrackedStore:m,extendSelectors:()=>y,extendActions:()=>y};return Lde(y)},jde=function(e){return e=String(e||""),Vde.test(e)?"rtl":Hde.test(e)?"ltr":"neutral"},zde="---",Gde="A-Za-z--------",Vde=new RegExp("^[^"+Gde+"]*["+zde+"]"),Hde=new RegExp("^[^"+zde+"]*["+Gde+"]");const Wde=o(jde);var $de=tre,Yde=/\s/,Xde=function(e){for(var t=e.length;t--&&Yde.test(e.charAt(t)););return t},qde=Xde,Kde=/^\s+/,Zde=function(e){return e?e.slice(0,qde(e)+1).replace(Kde,""):e},Qde=Zde,Jde=pre,ehe=ale,the=/^[-+]0x[0-9a-f]+$/i,rhe=/^0b[01]+$/i,nhe=/^0o[0-7]+$/i,ihe=parseInt,ohe=pre,she=function(){return $de.Date.now()},ahe=function(e){if("number"==typeof e)return e;if(ehe(e))return NaN;if(Jde(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jde(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qde(e);var r=rhe.test(e);return r||nhe.test(e)?ihe(e.slice(2),r?2:8):the.test(e)?NaN:+e},lhe=Math.max,uhe=Math.min,che=function(e,t,r){var n,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,o=i;return n=i=void 0,u=t,s=e.apply(o,r)}function p(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-u>=o}function m(){var e=she();if(p(e))return g(e);a=setTimeout(m,function(e){var r=t-(e-l);return d?uhe(r,o-(e-u)):r}(e))}function g(e){return a=void 0,h&&n?f(e):(n=i=void 0,s)}function v(){var e=she(),r=p(e);if(n=arguments,i=this,l=e,r){if(void 0===a)return function(e){return u=e,a=setTimeout(m,t),c?f(e):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,t),f(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=ahe(t)||0,ohe(r)&&(c=!!r.leading,o=(d="maxWait"in r)?lhe(ahe(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=l=i=a=void 0},v.flush=function(){return void 0===a?s:g(she())},v};const dhe=o(che);var hhe=che,fhe=pre,phe=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return fhe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),hhe(e,t,{leading:n,maxWait:t,trailing:i})};const mhe=o(phe),ghe=e=>"object"==typeof e&&null!=e&&1===e.nodeType,vhe=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,yhe=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return vhe(r.overflowY,t)||vhe(r.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},_he=(e,t,r,n,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=r||s>=t&&a>=r?o-e-n:s>t&&a<r||o<e&&a>r?s-t+i:0,bhe=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},xhe=(e,t)=>{var r,n,i,o;if("undefined"==typeof document)return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!ghe(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;ghe(p)&&d(p);){if(p=bhe(p),p===h){f.push(p);break}null!=p&&p===document.body&&yhe(p)&&!yhe(document.documentElement)||null!=p&&yhe(p,c)&&f.push(p)}const m=null!=(n=null==(r=window.visualViewport)?void 0:r.width)?n:innerWidth,g=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:v,scrollY:y}=window,{height:_,width:b,top:x,right:w,bottom:E,left:C}=e.getBoundingClientRect();let S="start"===a||"nearest"===a?x:"end"===a?E:x+_/2,A="center"===l?C+b/2:"end"===l?w:C;const T=[];for(let D=0;D<f.length;D++){const e=f[D],{height:t,width:r,top:n,right:i,bottom:o,left:u}=e.getBoundingClientRect();if("if-needed"===s&&x>=0&&C>=0&&E<=g&&w<=m&&x>=n&&E<=o&&C>=u&&w<=i)return T;const c=getComputedStyle(e),d=parseInt(c.borderLeftWidth,10),p=parseInt(c.borderTopWidth,10),k=parseInt(c.borderRightWidth,10),P=parseInt(c.borderBottomWidth,10);let B=0,R=0;const O="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-k:0,F="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-P:0,M="offsetWidth"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,I="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)B="start"===a?S:"end"===a?S-g:"nearest"===a?_he(y,y+g,g,p,P,y+S,y+S+_,_):S-g/2,R="start"===l?A:"center"===l?A-m/2:"end"===l?A-m:_he(v,v+m,m,d,k,v+A,v+A+b,b),B=Math.max(0,B+y),R=Math.max(0,R+v);else{B="start"===a?S-n-p:"end"===a?S-o+P+F:"nearest"===a?_he(n,o,t,p,P+F,S,S+_,_):S-(n+t/2)+F/2,R="start"===l?A-u-d:"center"===l?A-(u+r/2)+O/2:"end"===l?A-i+k+O:_he(u,i,r,d,k+O,A,A+b,b);const{scrollLeft:s,scrollTop:c}=e;B=Math.max(0,Math.min(c+B/I,e.scrollHeight-t/I+F)),R=Math.max(0,Math.min(s+R/M,e.scrollWidth-r/M+O)),S+=c-B,A+=s-R}T.push({el:e,top:B,left:R})}return T};function whe(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const r=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(xhe(e,t));const n="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:o,left:s}of xhe(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=o-r.top+r.bottom,t=s-r.left+r.right;i.scroll({top:e,left:t,behavior:n})}}var Ehe,Che=[],She="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Ehe||(Ehe={}));var Ahe,The=function(e){return Object.freeze(e)},Dhe=function(e,t){this.inlineSize=e,this.blockSize=t,The(this)},khe=function(){function e(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,The(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Phe=function(e){return e instanceof SVGElement&&"getBBox"in e},Bhe=function(e){if(Phe(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||e.getClientRects().length)},Rhe=function(e){var t;if(e instanceof Element)return!0;var r=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Ohe="undefined"!=typeof window?window:{},Fhe=new WeakMap,Mhe=/auto|scroll/,Ihe=/^tb|vertical/,Nhe=/msie|trident/i.test(Ohe.navigator&&Ohe.navigator.userAgent),Lhe=function(e){return parseFloat(e||"0")},Uhe=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new Dhe((r?t:e)||0,(r?e:t)||0)},jhe=The({devicePixelContentBoxSize:Uhe(),borderBoxSize:Uhe(),contentBoxSize:Uhe(),contentRect:new khe(0,0,0,0)}),zhe=function(e,t){if(void 0===t&&(t=!1),Fhe.has(e)&&!t)return Fhe.get(e);if(Bhe(e))return Fhe.set(e,jhe),jhe;var r=getComputedStyle(e),n=Phe(e)&&e.ownerSVGElement&&e.getBBox(),i=!Nhe&&"border-box"===r.boxSizing,o=Ihe.test(r.writingMode||""),s=!n&&Mhe.test(r.overflowY||""),a=!n&&Mhe.test(r.overflowX||""),l=n?0:Lhe(r.paddingTop),u=n?0:Lhe(r.paddingRight),c=n?0:Lhe(r.paddingBottom),d=n?0:Lhe(r.paddingLeft),h=n?0:Lhe(r.borderTopWidth),f=n?0:Lhe(r.borderRightWidth),p=n?0:Lhe(r.borderBottomWidth),m=d+u,g=l+c,v=(n?0:Lhe(r.borderLeftWidth))+f,y=h+p,_=a?e.offsetHeight-y-e.clientHeight:0,b=s?e.offsetWidth-v-e.clientWidth:0,x=i?m+v:0,w=i?g+y:0,E=n?n.width:Lhe(r.width)-x-b,C=n?n.height:Lhe(r.height)-w-_,S=E+m+b+v,A=C+g+_+y,T=The({devicePixelContentBoxSize:Uhe(Math.round(E*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Uhe(S,A,o),contentBoxSize:Uhe(E,C,o),contentRect:new khe(d,l,E,C)});return Fhe.set(e,T),T},Ghe=function(e,t,r){var n=zhe(e,r),i=n.borderBoxSize,o=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case Ehe.DEVICE_PIXEL_CONTENT_BOX:return s;case Ehe.BORDER_BOX:return i;default:return o}},Vhe=function(e){var t=zhe(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=The([t.borderBoxSize]),this.contentBoxSize=The([t.contentBoxSize]),this.devicePixelContentBoxSize=The([t.devicePixelContentBoxSize])},Hhe=function(e){if(Bhe(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},Whe=function(){var e=1/0,t=[];Che.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(t){var r=new Vhe(t.target),i=Hhe(t.target);n.push(r),t.lastReportedSize=Ghe(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){r.callback.call(r.observer,n,r.observer)})),r.activeTargets.splice(0,r.activeTargets.length)}}));for(var r=0,n=t;r<n.length;r++)(0,n[r])();return e},$he=function(e){Che.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(r){r.isActive()&&(Hhe(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))}))}))},Yhe=function(){var e,t=0;for($he(t);Che.some((function(e){return e.activeTargets.length>0}));)t=Whe(),$he(t);return Che.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:She}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=She),window.dispatchEvent(e)),t>0},Xhe=[],qhe=function(e){if(!Ahe){var t=0,r=document.createTextNode("");new MutationObserver((function(){return Xhe.splice(0).forEach((function(e){return e()}))})).observe(r,{characterData:!0}),Ahe=function(){r.textContent="".concat(t?t--:t++)}}Xhe.push(e),Ahe()},Khe=0,Zhe={attributes:!0,characterData:!0,childList:!0,subtree:!0},Qhe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Jhe=function(e){return void 0===e&&(e=0),Date.now()+e},efe=!1,tfe=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!efe){efe=!0;var r=Jhe(e);!function(e){qhe((function(){requestAnimationFrame(e)}))}((function(){var n=!1;try{n=Yhe()}finally{if(efe=!1,e=r-Jhe(),!Khe)return;n?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Zhe)};document.body?t():Ohe.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Qhe.forEach((function(t){return Ohe.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Qhe.forEach((function(t){return Ohe.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),rfe=new tfe,nfe=function(e){!Khe&&e>0&&rfe.start(),!(Khe+=e)&&rfe.stop()},ife=function(){function e(e,t){this.target=e,this.observedBox=t||Ehe.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=Ghe(this.target,this.observedBox,!0);return e=this.target,Phe(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),ofe=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},sfe=new WeakMap,afe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},lfe=function(){function e(){}return e.connect=function(e,t){var r=new ofe(e,t);sfe.set(e,r)},e.observe=function(e,t,r){var n=sfe.get(e),i=0===n.observationTargets.length;afe(n.observationTargets,t)<0&&(i&&Che.push(n),n.observationTargets.push(new ife(t,r&&r.box)),nfe(1),rfe.schedule())},e.unobserve=function(e,t){var r=sfe.get(e),n=afe(r.observationTargets,t),i=1===r.observationTargets.length;n>=0&&(i&&Che.splice(Che.indexOf(r),1),r.observationTargets.splice(n,1),nfe(-1))},e.disconnect=function(e){var t=this,r=sfe.get(e);r.observationTargets.slice().forEach((function(r){return t.unobserve(e,r.target)})),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ufe=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");lfe.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Rhe(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");lfe.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Rhe(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");lfe.unobserve(this,e)},e.prototype.disconnect=function(){lfe.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function cfe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dfe(e){return dfe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dfe(e)}function hfe(e){var t=function(e,t){if("object"!==dfe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==dfe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dfe(t)?t:String(t)}function ffe(e,t,r){return(t=hfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pfe,mfe,gfe=H.createContext(null),vfe=()=>{var e=H.useContext(gfe);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},yfe=parseInt(W.version.split(".")[0],10),_fe="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,bfe="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),xfe="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),wfe="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Efe="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Cfe="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Sfe="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),Afe="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Tfe=xfe&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Dfe="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),kfe="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),Pfe="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Bfe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&null!==(pfe=navigator.userAgent.match(/Version\/(\d+)/))&&void 0!==pfe&&pfe[1]&&parseInt(null===(mfe=navigator.userAgent.match(/Version\/(\d+)/))||void 0===mfe?void 0:mfe[1],10);var Rfe=(!Afe||!Tfe)&&!Cfe&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,Ofe=new WeakMap,Ffe=new WeakMap,Mfe=new WeakMap,Ife=new WeakMap,Nfe=new WeakMap,Lfe=new WeakMap,Ufe=new WeakMap,jfe=new WeakMap,zfe=new WeakMap,Gfe=new WeakMap,Vfe=new WeakMap,Hfe=new WeakMap,Wfe=new WeakMap,$fe=new WeakMap,Yfe=new WeakMap,Xfe=new WeakMap,qfe=new WeakMap,Kfe=new WeakMap,Zfe=new WeakMap,Qfe=new WeakMap,Jfe=new WeakMap,epe=Symbol("placeholder"),tpe=Symbol("mark-placeholder"),rpe=globalThis.Node,npe=globalThis.Text,ipe=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,ope=e=>spe(e)&&1===e.nodeType,spe=e=>{var t=ipe(e);return!!t&&e instanceof t.Node},ape=e=>{var t=e&&e.anchorNode&&ipe(e.anchorNode);return!!t&&e instanceof t.Selection},lpe=e=>spe(e)&&3===e.nodeType,upe=(e,t,r)=>{for(var n,{childNodes:i}=e,o=i[t],s=t,a=!1,l=!1;(spe(n=o)&&8===n.nodeType||ope(o)&&0===o.childNodes.length||ope(o)&&"false"===o.getAttribute("contenteditable"))&&(!a||!l);)s>=i.length?(a=!0,s=t-1,r="backward"):s<0?(l=!0,s=t+1,r="forward"):(o=i[s],t=s,s+="forward"===r?1:-1);return[o,t]},cpe=(e,t,r)=>{var[n]=upe(e,t,r);return n},dpe=e=>{var t="";if(lpe(e)&&e.nodeValue)return e.nodeValue;if(ope(e)){for(var r of Array.from(e.childNodes))t+=dpe(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},hpe=/data-slate-fragment="(.+?)"/m,fpe=e=>null!=e.getSelection?e.getSelection():document.getSelection(),ppe=(e,t,r)=>{var{target:n}=t;if(ope(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:i}=ype.getWindow(e);if(i.contains(n))return ype.hasDOMNode(e,n,{editable:!0});var o=r.find((e=>{var{addedNodes:t,removedNodes:r}=e;for(var i of t)if(i===n||i.contains(n))return!0;for(var o of r)if(o===n||o.contains(n))return!0}));return!(!o||o===t)&&ppe(e,o,r)},mpe=(e,t)=>Boolean(e.compareDocumentPosition(t)&rpe.DOCUMENT_POSITION_PRECEDING),gpe=0;class vpe{constructor(){ffe(this,"id",void 0),this.id="".concat(gpe++)}}var ype={androidPendingDiffs:e=>Kfe.get(e),androidScheduleFlush:e=>{var t;null===(t=Yfe.get(e))||void 0===t||t()},blur:e=>{var t=ype.toDOMNode(e,e),r=ype.findDocumentOrShadowRoot(e);Vfe.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=ype.findDocumentOrShadowRoot(e),n=fpe(r);n&&n.rangeCount>0&&n.removeAllRanges(),t&&lee.deselect(e)},findDocumentOrShadowRoot:e=>{var t=ype.toDOMNode(e,e),r=t.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:i}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o,s=ype.toSlateNode(e,t.target),a=ype.findPath(e,s);if(u9.isElement(s)&&y9.isVoid(e,s)){var l=i.getBoundingClientRect(),u=e.isInline(s)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,c=y9.point(e,a,{edge:u?"start":"end"}),d=u?y9.before(e,c):y9.after(e,c);if(d)return y9.range(e,d)}var{document:h}=ype.getWindow(e);if(h.caretRangeFromPoint)o=h.caretRangeFromPoint(r,n);else{var f=h.caretPositionFromPoint(r,n);f&&((o=h.createRange()).setStart(f.offsetNode,f.offset),o.setEnd(f.offsetNode,f.offset))}if(!o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return ype.toSlateRange(e,o,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var r=jfe.get(t);return r||(r=new vpe,jfe.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var i=Ffe.get(n);if(null==i){if(y9.isEditor(n))return r;break}var o=Ofe.get(n);if(null==o)break;r.unshift(o),n=i}throw new Error("Unable to find the path for Slate node: ".concat(C9.stringify(t)))},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!Vfe.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0)setTimeout((()=>{ype.focus(e,{retries:t.retries-1})}),10);else{var r=ype.toDOMNode(e,e),n=ype.findDocumentOrShadowRoot(e);if(n.activeElement!==r){if(e.selection&&n instanceof Document){var i=fpe(n),o=ype.toDOMRange(e,e.selection);null==i||i.removeAllRanges(),null==i||i.addRange(o)}e.selection||lee.select(e,y9.start(e,[])),Vfe.set(e,!0),r.focus({preventScroll:!0})}}}},getWindow:e=>{var t=Mfe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=n,o=ype.toDOMNode(e,e);try{r=ope(t)?t:t.parentElement}catch(rCe){if(rCe instanceof Error&&!rCe.message.includes('Permission denied to access property "nodeType"'))throw rCe}return!!r&&!(r.closest("[data-slate-editor]")!==o||i&&!r.isContentEditable&&("boolean"!=typeof r.isContentEditable||r.closest('[contenteditable="false"]')!==o)&&!r.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>spe(t)&&ype.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return y9.hasPath(e,r.path)&&y9.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>ype.hasEditableTarget(e,t)||ype.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>spe(t)&&ype.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Hfe.get(e),isFocused:e=>!!Vfe.get(e),isReadOnly:e=>!!Gfe.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Gfe.get(e))return!1;var r=ype.hasTarget(e,t)&&ype.toSlateNode(e,t);return u9.isElement(r)&&y9.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=zfe.get(e),n=y9.isEditor(t)?Ife.get(e):null==r?void 0:r.get(ype.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(C9.stringify(t)));return n},toDOMPoint:(e,t)=>{var r,[n]=y9.node(e,t.path),i=ype.toDOMNode(e,n);y9.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o=Array.from(i.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0,a=0;a<o.length;a++){var l=o[a],u=l.childNodes[0];if(null!=u&&null!=u.textContent){var{length:c}=u.textContent,d=l.getAttribute("data-slate-length"),h=s+(null==d?c:parseInt(d,10)),f=o[a+1];if(t.offset===h&&null!=f&&f.hasAttribute("data-slate-mark-placeholder")){var p,m=f.childNodes[0];r=[m instanceof npe?m:f,null!==(p=f.textContent)&&void 0!==p&&p.startsWith("\ufeff")?1:0];break}if(t.offset<=h){r=[u,Math.min(c,Math.max(0,t.offset-s))];break}s=h}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(C9.stringify(t)));return r},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,i=a9.isBackward(t),o=ype.toDOMPoint(e,r),s=a9.isCollapsed(t)?o:ype.toDOMPoint(e,n),a=ype.getWindow(e).document.createRange(),[l,u]=i?s:o,[c,d]=i?o:s,h=!!(ope(l)?l:l.parentElement).getAttribute("data-slate-zero-width"),f=!!(ope(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return a.setStart(l,h?1:u),a.setEnd(c,f?1:d),a},toSlateNode:(e,t)=>{var r=ope(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Lfe.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:i,searchDirection:o="backward"}=r,[s,a]=n?t:(e=>{var[t,r]=e;if(ope(t)&&t.childNodes.length){var n=r===t.childNodes.length,i=n?r-1:r;for([t,i]=upe(t,i,n?"backward":"forward"),n=i<r;ope(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=cpe(t,o,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),l=s.parentNode,u=null,c=0;if(l){var d,h,f=ype.toDOMNode(e,e),p=l.closest('[data-slate-void="true"]'),m=p&&f.contains(p)?p:null,g=l.closest('[contenteditable="false"]'),v=g&&f.contains(g)?g:null,y=l.closest("[data-slate-leaf]"),_=null;if(y){if(u=y.closest('[data-slate-node="text"]')){var b=ype.getWindow(e).document.createRange();b.setStart(u,0),b.setEnd(s,a);var x=b.cloneContents();[...Array.prototype.slice.call(x.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(x.querySelectorAll("[contenteditable=false]"))].forEach((e=>{xfe&&!n&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),c=x.textContent.length,_=u}}else if(m){for(var w=m.querySelectorAll("[data-slate-leaf]"),E=0;E<w.length;E++){var C=w[E];if(ype.hasDOMNode(e,C)){y=C;break}}y?(u=y.closest('[data-slate-node="text"]'),c=(_=y).textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))):c=1}else if(v){var S,A,T=e=>e?e.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],D=v.closest('[data-slate-node="element"]');y="forward"===o?null!==(S=[...T(D),...T(null==D?void 0:D.nextElementSibling)].find((e=>((e,t)=>Boolean(e.compareDocumentPosition(t)&rpe.DOCUMENT_POSITION_FOLLOWING))(v,e))))&&void 0!==S?S:null:null!==(A=[...T(null==D?void 0:D.previousElementSibling),...T(D)].findLast((e=>mpe(v,e))))&&void 0!==A?A:null,y&&(u=y.closest('[data-slate-node="text"]'),_=y,"forward"===o?c=0:(c=_.textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))))}_&&c===_.textContent.length&&xfe&&"z"===_.getAttribute("data-slate-zero-width")&&null!==(d=_.textContent)&&void 0!==d&&d.startsWith("\ufeff")&&(l.hasAttribute("data-slate-zero-width")||wfe&&null!==(h=_.textContent)&&void 0!==h&&h.endsWith("\n\n"))&&c--}if(xfe&&!u&&!n){var k=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(k&&ype.hasDOMNode(e,k,{editable:!0})){var P=ype.toSlateNode(e,k),{path:B,offset:R}=y9.start(e,ype.findPath(e,P));return k.querySelector("[data-slate-leaf]")||(R=a),{path:B,offset:R}}}if(!u){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var O=ype.toSlateNode(e,u);return{path:ype.findPath(e,O),offset:c}},toSlateRange:(e,t,r)=>{var n,i,o,s,a,l,{exactMatch:u,suppressThrow:c}=r;if(ape(t)?t.anchorNode:t.startContainer)if(ape(t)){if(wfe&&t.rangeCount>1){s=t.focusNode;var d=t.getRangeAt(0),h=t.getRangeAt(t.rangeCount-1);if(s instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement){function x(e){return e.childElementCount>0?x(e.children[0]):e}var f=d.startContainer,p=h.startContainer,m=x(f.children[d.startOffset]),g=x(p.children[h.startOffset]);a=0,i=g.childNodes.length>0?g.childNodes[0]:g,s=m.childNodes.length>0?m.childNodes[0]:m,o=g instanceof HTMLElement?g.innerHTML.length:0}else d.startContainer===s?(i=h.endContainer,o=h.endOffset,a=d.startOffset):(i=d.startContainer,o=d.endOffset,a=h.startOffset)}else i=t.anchorNode,o=t.anchorOffset,s=t.focusNode,a=t.focusOffset;l=Sfe&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(i)||wfe?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else i=t.startContainer,o=t.startOffset,s=t.endContainer,a=t.endOffset,l=t.collapsed;if(null==i||null==s||null==o||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));wfe&&null!==(n=s.textContent)&&void 0!==n&&n.endsWith("\n\n")&&a===s.textContent.length&&a--;var v=ype.toSlatePoint(e,[i,o],{exactMatch:u,suppressThrow:c});if(!v)return null;var y=mpe(i,s)||i===s&&a<o,_=l?v:ype.toSlatePoint(e,[s,a],{exactMatch:u,suppressThrow:c,searchDirection:y?"forward":"backward"});if(!_)return null;var b={anchor:v,focus:_};return a9.isExpanded(b)&&a9.isForward(b)&&ope(s)&&y9.void(e,{at:b.focus,mode:"highest"})&&(b=y9.unhangRange(e,b,{voids:!0})),b}};function _pe(e,t){var{path:r,diff:n}=t;if(!y9.hasPath(e,r))return!1;var i=f9.get(e,r);if(!P9.isText(i))return!1;if(n.start!==i.text.length||0===n.text.length)return i.text.slice(n.start,n.start+n.text.length)===n.text;var o=X7.next(r);if(!y9.hasPath(e,o))return!1;var s=f9.get(e,o);return P9.isText(s)&&s.text.startsWith(n.text)}function bpe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end)),e)}function xpe(e,t){var{start:r,end:n,text:i}=t,o=e.slice(r,n),s=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}(o,i),a=function(e,t,r){for(var n=Math.min(e.length,t.length,r),i=0;i<n;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return n}(o,i,Math.min(o.length-s,i.length-s)),l={start:r+s,end:n-a,text:i.slice(s,i.length-a)};return l.start===l.end&&0===l.text.length?null:l}function wpe(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}function Epe(e,t){var{path:r,offset:n}=t;if(!y9.hasPath(e,r))return null;var i=f9.get(e,r);if(!P9.isText(i))return null;var o=y9.above(e,{match:t=>u9.isElement(t)&&y9.isBlock(e,t),at:r});if(!o)return null;for(;n>i.text.length;){var s=y9.next(e,{at:r,match:P9.isText});if(!s||!X7.isDescendant(s[1],o[1]))return null;n-=i.text.length,i=s[0],r=s[1]}return{path:r,offset:n}}function Cpe(e,t){var r=Epe(e,t.anchor);if(!r)return null;if(a9.isCollapsed(t))return{anchor:r,focus:r};var n=Epe(e,t.focus);return n?{anchor:r,focus:n}:null}function Spe(e,t,r){var n=Kfe.get(e),i=null==n?void 0:n.find((e=>{var{path:r}=e;return X7.equals(r,t.path)}));if(!i||t.offset<=i.diff.start)return w9.transform(t,r,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var s={path:t.path,offset:o.start},a=w9.transform(s,r,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-o.start}:null}var l={path:t.path,offset:t.offset-o.text.length+o.end-o.start},u=w9.transform(l,r,{affinity:"backward"});return u?"split_node"===r.type&&X7.equals(r.path,t.path)&&l.offset<r.position&&o.start<r.position?u:{path:u.path,offset:u.offset+o.text.length-o.end+o.start}:null}function Ape(e,t,r){var n=Spe(e,t.anchor,r);if(!n)return null;if(a9.isCollapsed(t))return{anchor:n,focus:n};var i=Spe(e,t.focus,r);return i?{anchor:n,focus:i}:null}function Tpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dpe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tpe(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kpe(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,i=!1,o=null,s=null,a=null,l=0,u=!1,c=()=>{var e=Qfe.get(t);if(Qfe.delete(t),e){var{selection:r}=t,n=Cpe(t,e);!n||r&&a9.equals(n,r)||lee.select(t,n)}},d=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),g()||m()){i||(i=!0,setTimeout((()=>i=!1))),m()&&(i="action");var e=t.selection&&y9.rangeRef(t,t.selection,{affinity:"forward"});qfe.set(t,t.marks),Zfe.get(t),Kfe.get(t);for(var o,l=g();o=null===(d=Kfe.get(t))||void 0===d?void 0:d[0];){var d,h,f=Xfe.get(t);void 0!==f&&(Xfe.delete(t),t.marks=f),f&&!1===u&&(u=null);var p=wpe(o);t.selection&&a9.equals(t.selection,p)||lee.select(t,p),o.diff.text?y9.insertText(t,o.diff.text):y9.deleteFragment(t),Kfe.set(t,null===(h=Kfe.get(t))||void 0===h?void 0:h.filter((e=>{var{id:t}=e;return t!==o.id}))),_pe(t,o)||(l=!1,Zfe.delete(t),qfe.delete(t),i="action",Qfe.delete(t),r.cancel(),n.cancel(),null==e||e.unref())}var v=null==e?void 0:e.unref();if(!v||Qfe.get(t)||t.selection&&a9.equals(v,t.selection)||lee.select(t,v),m())(()=>{var e=Zfe.get(t);if(Zfe.delete(t),e){if(e.at){var r=w9.isPoint(e.at)?Epe(t,e.at):Cpe(t,e.at);if(!r)return;var n=y9.range(t,r);t.selection&&a9.equals(t.selection,n)||lee.select(t,r)}e.run()}})();else{l&&r(),r.flush(),n.flush(),c();var y=qfe.get(t);qfe.delete(t),void 0!==y&&(t.marks=y,t.onChange())}}else c()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=Nfe.get(t);r&&(g()||e?r.style.display="none":r.style.removeProperty("display"))},f=(e,r)=>{var n,i=null!==(n=Kfe.get(t))&&void 0!==n?n:[];Kfe.set(t,i);var o=f9.leaf(t,e),s=i.findIndex((t=>X7.equals(t.path,e)));if(s<0)return xpe(o.text,r)&&i.push({path:e,diff:r,id:l++}),void h();var a=function(e,t,r){var n=Math.min(t.start,r.start),i=Math.max(0,Math.min(t.start+t.text.length,r.end)-r.start),o=bpe(e,t,r),s=Math.max(r.start+r.text.length,t.start+t.text.length+(t.start+t.text.length>r.start?r.text.length:0)-i),a=o.slice(n,s);return xpe(e,{start:n,end:Math.max(t.end,r.end-t.text.length+(t.end-t.start)),text:a})}(o.text,i[s].diff,r);if(!a)return i.splice(s,1),void h();i[s]=Dpe(Dpe({},i[s]),{},{diff:a})},p=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=!1,Qfe.delete(t),r.cancel(),n.cancel(),m()&&d(),Zfe.set(t,{at:i,run:e}),a=setTimeout(d)},m=()=>!!Zfe.get(t),g=()=>{var e;return!(null===(e=Kfe.get(t))||void 0===e||!e.length)},v=e=>{Qfe.set(t,e),s&&(clearTimeout(s),s=null);var{selection:r}=t;if(e){var n=!r||!X7.equals(r.anchor.path,e.anchor.path),i=!r||!X7.equals(r.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(n&&u||i)&&(u=!1),(n||g())&&(s=setTimeout(d,200))}},y=()=>{m()||(a=setTimeout(d))};return{flush:d,scheduleFlush:y,hasPendingDiffs:g,hasPendingAction:m,hasPendingChanges:()=>m()||g(),isFlushing:()=>i,handleUserSelect:v,handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout((()=>{Hfe.set(t,!1),d()}),25)},handleCompositionStart:e=>{Hfe.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{var r;s&&(clearTimeout(s),s=null);var{inputType:n}=e,i=null,o=e.dataTransfer||e.data||void 0;!1!==u&&"insertText"!==n&&"insertCompositionText"!==n&&(u=!1);var[a]=e.getTargetRanges();a&&(i=ype.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!0}));var l=ype.getWindow(t).getSelection();if(!i&&l&&(a=l,i=ype.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0})),i=null!==(r=i)&&void 0!==r?r:t.selection){var c,d=!0;if(n.startsWith("delete")){if(a9.isExpanded(i)){var[h,m]=a9.edges(i);if(f9.leaf(t,h.path).text.length===h.offset&&0===m.offset){var g=y9.next(t,{at:h.path,match:P9.isText});g&&X7.equals(g[1],m.path)&&(i={anchor:m,focus:m})}}var _=n.endsWith("Backward")?"backward":"forward",[b,x]=a9.edges(i),[w,E]=y9.leaf(t,b.path),C={text:"",start:b.offset,end:x.offset},S=Kfe.get(t),A=null==S?void 0:S.find((e=>X7.equals(e.path,E))),T=A?[A.diff,C]:[C];if(0===bpe(w.text,...T).length&&(d=!1),a9.isExpanded(i)){if(d&&X7.equals(i.anchor.path,i.focus.path)){var D={path:i.anchor.path,offset:b.offset},k=y9.range(t,D,D);return v(k),f(i.anchor.path,{text:"",end:x.offset,start:b.offset})}return p((()=>y9.deleteFragment(t,{direction:_})),{at:i})}}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((()=>y9.deleteFragment(t)),{at:i});case"deleteContent":case"deleteContentForward":var{anchor:P}=i;if(d&&a9.isCollapsed(i)){var B=f9.leaf(t,P.path);if(P.offset<B.text.length)return f(P.path,{text:"",start:P.offset,end:P.offset+1})}return p((()=>y9.deleteForward(t)),{at:i});case"deleteContentBackward":var R,{anchor:O}=i,F=ape(a)?a.isCollapsed:!(null===(R=a)||void 0===R||!R.collapsed);return d&&F&&a9.isCollapsed(i)&&O.offset>0?f(O.path,{text:"",start:O.offset-1,end:O.offset}):p((()=>y9.deleteBackward(t)),{at:i});case"deleteEntireSoftLine":return p((()=>{y9.deleteBackward(t,{unit:"line"}),y9.deleteForward(t,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return p((()=>y9.deleteBackward(t,{unit:"block"})),{at:i});case"deleteSoftLineBackward":return p((()=>y9.deleteBackward(t,{unit:"line"})),{at:i});case"deleteHardLineForward":return p((()=>y9.deleteForward(t,{unit:"block"})),{at:i});case"deleteSoftLineForward":return p((()=>y9.deleteForward(t,{unit:"line"})),{at:i});case"deleteWordBackward":return p((()=>y9.deleteBackward(t,{unit:"word"})),{at:i});case"deleteWordForward":return p((()=>y9.deleteForward(t,{unit:"word"})),{at:i});case"insertLineBreak":return p((()=>y9.insertSoftBreak(t)),{at:i});case"insertParagraph":return p((()=>y9.insertBreak(t)),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(c=o)?void 0:c.constructor.name))return p((()=>ype.insertData(t,o)),{at:i});var M=null!=o?o:"";if(Xfe.get(t)&&(M=M.replace("\ufeff","")),"insertText"===n&&/.*\n.*\n$/.test(M)&&(M=M.slice(0,-1)),M.includes("\n"))return p((()=>{var e=M.split("\n");e.forEach(((r,n)=>{r&&y9.insertText(t,r),n!==e.length-1&&y9.insertSoftBreak(t)}))}),{at:i});if(X7.equals(i.anchor.path,i.focus.path)){var[I,N]=a9.edges(i),L={start:I.offset,end:N.offset,text:M};if(M&&u&&"insertCompositionText"===n){var U=u.start+u.text.search(/\S|$/);L.start+L.text.search(/\S|$/)===U+1&&L.end===u.start+u.text.length?(L.start-=1,u=null,y()):u=!1}else u="insertText"===n&&(null===u?L:!(!u||!a9.isCollapsed(i)||u.end+u.text.length!==I.offset)&&Dpe(Dpe({},u),{},{text:u.text+M}));if(d)return void f(I.path,L)}return p((()=>y9.insertText(t,M)),{at:i})}}},handleKeyDown:e=>{g()||(h(!0),setTimeout(h))},handleDomMutations:e=>{var r;g()||m()||e.some((r=>ppe(t,r,e)))&&(null===(r=Jfe.get(t))||void 0===r||r())},handleInput:()=>{!m()&&g()||d()}}}var Ppe=Bfe?H.useLayoutEffect:H.useEffect,Bpe=["node"];function Rpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ope={subtree:!0,childList:!0,characterData:!0},Fpe=xfe?e=>{var{node:t}=e,r=cfe(e,Bpe);if(!xfe)return null;var n,i=vfe(),o=(n=H.useRef(!1),H.useEffect((()=>(n.current=!0,()=>{n.current=!1})),[]),n.current),[s]=H.useState((()=>kpe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rpe(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({editor:i},r))));return function(e,t,r){var[n]=H.useState((()=>new MutationObserver(t)));Ppe((()=>{n.takeRecords()})),H.useEffect((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()}),[n,e,r])}(t,s.handleDomMutations,Ope),Yfe.set(i,s.scheduleFlush),o&&s.flush(),s}:()=>null,Mpe=["anchor","focus"],Ipe=["anchor","focus"],Npe=(e,t)=>{var r,n,i=cfe(e,Mpe),o=cfe(t,Ipe);return e[epe]===t[epe]&&(r=i,n=o,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>n.hasOwnProperty(e)&&r[e]===n[e])))};function Lpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Upe=e=>{var{isLast:t,leaf:r,parent:n,text:i}=e,o=vfe(),s=ype.findPath(o,i),a=X7.parent(s),l=Boolean(r[tpe]);return o.isVoid(n)?W.createElement(Gpe,{length:f9.string(n).length}):""!==r.text||n.children[n.children.length-1]!==i||o.isInline(n)||""!==y9.string(o,a)?""===r.text?W.createElement(Gpe,{isMarkPlaceholder:l}):t&&"\n"===r.text.slice(-1)?W.createElement(jpe,{isTrailing:!0,text:r.text}):W.createElement(jpe,{text:r.text}):W.createElement(Gpe,{isLineBreak:!0,isMarkPlaceholder:l})},jpe=e=>{var{text:t,isTrailing:r=!1}=e,n=H.useRef(null),i=()=>"".concat(null!=t?t:"").concat(r?"\n":""),[o]=H.useState(i);return Ppe((()=>{var e=i();n.current&&n.current.textContent!==e&&(n.current.textContent=e)})),W.createElement(zpe,{ref:n},o)},zpe=H.memo(H.forwardRef(((e,t)=>W.createElement("span",{"data-slate-string":!0,ref:t},e.children)))),Gpe=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,i={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(i["data-slate-mark-placeholder"]=!0),W.createElement("span",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lpe(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i),xfe&&r?null:"\ufeff",r?W.createElement("br",null):null)};function Vpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hpe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vpe(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wpe=xfe?300:0;function $pe(e){e.current&&(clearTimeout(e.current),e.current=null)}var Ype=e=>{var{leaf:t,isLast:r,text:n,parent:i,renderPlaceholder:o,renderLeaf:s=(e=>W.createElement(qpe,Hpe({},e)))}=e,a=vfe(),l=H.useRef(null),u=H.useRef(null),[c,d]=H.useState(!1),h=H.useRef(null),f=H.useCallback((e=>{if(function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(l,null==e),null==e){var r;Nfe.delete(a),null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,null)}else{if(Nfe.set(a,e),!l.current){var n=window.ResizeObserver||ufe;l.current=new n((()=>{var r;null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,e)}))}l.current.observe(e),u.current=e}}),[u,t,a]),p=W.createElement(Upe,{isLast:r,leaf:t,parent:i,text:n}),m=Boolean(t[epe]);if(H.useEffect((()=>(m?h.current||(h.current=setTimeout((()=>{d(!0),h.current=null}),Wpe)):($pe(h),d(!1)),()=>$pe(h))),[m,d]),m&&c){var g={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Efe?"inherit":void 0},contentEditable:!1,ref:f}};p=W.createElement(W.Fragment,null,o(g),p)}return s({attributes:{"data-slate-leaf":!0},children:p,leaf:t,text:n})},Xpe=W.memo(Ype,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&P9.equals(t.leaf,e.leaf)&&t.leaf[epe]===e.leaf[epe])),qpe=e=>{var{attributes:t,children:r}=e;return W.createElement("span",Hpe({},t),r)},Kpe=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:i,renderLeaf:o,text:s}=e,a=vfe(),l=H.useRef(null),u=P9.decorations(s,t),c=ype.findKey(a,s),d=[],h=0;h<u.length;h++){var f=u[h];d.push(W.createElement(Xpe,{isLast:r&&h===u.length-1,key:"".concat(c.id,"-").concat(h),renderPlaceholder:i,leaf:f,text:s,parent:n,renderLeaf:o}))}var p=H.useCallback((e=>{var t=zfe.get(a);e?(null==t||t.set(c,e),Ufe.set(s,e),Lfe.set(e,s)):(null==t||t.delete(c),Ufe.delete(s),l.current&&Lfe.delete(l.current)),l.current=e}),[l,a,c,s]);return W.createElement("span",{"data-slate-node":"text",ref:p},d)},Zpe=W.memo(Kpe,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],i=t[r];if(n.anchor.offset!==i.anchor.offset||n.focus.offset!==i.focus.offset||!Npe(n,i))return!1}return!0})(t.decorations,e.decorations)));function Qpe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jpe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qpe(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qpe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var eme=e=>{var{decorations:t,element:r,renderElement:n=(e=>W.createElement(rme,Jpe({},e))),renderPlaceholder:i,renderLeaf:o,selection:s}=e,a=vfe(),l=ame(),u=a.isInline(r),c=ype.findKey(a,r),d=H.useCallback((e=>{var t=zfe.get(a);e?(null==t||t.set(c,e),Ufe.set(r,e),Lfe.set(e,r)):(null==t||t.delete(c),Ufe.delete(r))}),[a,c,r]),h=ome({decorations:t,node:r,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:s}),f={"data-slate-node":"element",ref:d};if(u&&(f["data-slate-inline"]=!0),!u&&y9.hasInlines(a,r)){var p=f9.string(r),m=Wde(p);"rtl"===m&&(f.dir=m)}if(y9.isVoid(a,r)){f["data-slate-void"]=!0,!l&&u&&(f.contentEditable=!1);var g=u?"span":"div",[[v]]=f9.texts(r);h=W.createElement(g,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},W.createElement(Zpe,{renderPlaceholder:i,decorations:[],isLast:!1,parent:r,text:v})),Ofe.set(v,0),Ffe.set(v,r)}return n({attributes:f,children:h,element:r})},tme=W.memo(eme,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],i=t[r];if(!a9.equals(n,i)||!Npe(n,i))return!1}return!0})(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&a9.equals(e.selection,t.selection)))),rme=e=>{var{attributes:t,children:r,element:n}=e,i=vfe().isInline(n)?"span":"div";return W.createElement(i,Jpe(Jpe({},t),{},{style:{position:"relative"}}),r)},nme=H.createContext((()=>[])),ime=H.createContext(!1),ome=(e("dc",(()=>H.useContext(ime))),e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:s}=e,a=H.useContext(nme),l=vfe(),u=ype.findPath(l,r),c=[],d=u9.isElement(r)&&!l.isInline(r)&&y9.hasInlines(l,r),h=0;h<r.children.length;h++){var f=u.concat(h),p=r.children[h],m=ype.findKey(l,p),g=y9.range(l,f),v=s&&a9.intersection(g,s),y=a([p,f]);for(var _ of t){var b=a9.intersection(_,g);b&&y.push(b)}u9.isElement(p)?c.push(W.createElement(ime.Provider,{key:"provider-".concat(m.id),value:!!v},W.createElement(tme,{decorations:y,element:p,key:m.id,renderElement:n,renderPlaceholder:i,renderLeaf:o,selection:v}))):c.push(W.createElement(Zpe,{decorations:y,key:m.id,isLast:d&&h===r.children.length-1,parent:r,renderPlaceholder:i,renderLeaf:o,text:p})),Ofe.set(p,h),Ffe.set(p,r)}return c}),sme=H.createContext(!1),ame=()=>H.useContext(sme),lme=H.createContext(null),ume=()=>{var e=H.useContext(lme);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},cme={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},dme={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},hme={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},fme=e=>{var t=cme[e],r=dme[e],n=hme[e],i=t&&Sse(t),o=r&&Sse(r),s=n&&Sse(n);return e=>!(!i||!i(e))||!!(bfe&&o&&o(e))||!(bfe||!s||!s(e))},pme={isBold:fme("bold"),isCompose:fme("compose"),isMoveBackward:fme("moveBackward"),isMoveForward:fme("moveForward"),isDeleteBackward:fme("deleteBackward"),isDeleteForward:fme("deleteForward"),isDeleteLineBackward:fme("deleteLineBackward"),isDeleteLineForward:fme("deleteLineForward"),isDeleteWordBackward:fme("deleteWordBackward"),isDeleteWordForward:fme("deleteWordForward"),isExtendBackward:fme("extendBackward"),isExtendForward:fme("extendForward"),isExtendLineBackward:fme("extendLineBackward"),isExtendLineForward:fme("extendLineForward"),isItalic:fme("italic"),isMoveLineBackward:fme("moveLineBackward"),isMoveLineForward:fme("moveLineForward"),isMoveWordBackward:fme("moveWordBackward"),isMoveWordForward:fme("moveWordForward"),isRedo:fme("redo"),isSoftBreak:fme("insertSoftBreak"),isSplitBlock:fme("splitBlock"),isTransposeCharacter:fme("transposeCharacter"),isUndo:fme("undo")},mme={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class gme extends H.Component{constructor(){super(...arguments),ffe(this,"context",null),ffe(this,"manager",null),ffe(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,mme)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=((e,t)=>{var r=[],n=()=>{r=[]};return{registerMutations:n=>{if(t.current){var i=n.filter((t=>ppe(e,t,n)));r.push(...i)}},restoreDOM:function(){r.length>0&&(r.reverse().forEach((e=>{"characterData"!==e.type&&(e.removedNodes.forEach((t=>{e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((t=>{e.target.removeChild(t)})))})),n())},clear:n}})(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,r,n,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();return null!=i&&i.length&&(null===(n=this.manager)||void 0===n||n.registerMutations(i)),null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(r=this.manager)||void 0===r||r.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}ffe(gme,"contextType",gfe);var vme=xfe?gme:e=>{var{children:t}=e;return W.createElement(W.Fragment,null,t)},yme=H.createContext(!1),_me=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],bme=["text"];function xme(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wme(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xme(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xme(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Eme=e=>W.createElement(W.Fragment,null,ome(e)),Cme=H.forwardRef(((e,t)=>{var r=H.useCallback((e=>W.createElement(Sme,wme({},e))),[]),{autoFocus:n,decorate:i=Ame,onDOMBeforeInput:o,placeholder:s,readOnly:a=!1,renderElement:l,renderLeaf:u,renderPlaceholder:c=r,scrollSelectionIntoView:d=Tme,style:h={},as:f="div",disableDefaultStyles:p=!1}=e,m=cfe(e,_me),g=ume(),[v,y]=H.useState(!1),_=H.useRef(null),b=H.useRef([]),[x,w]=H.useState(),E=H.useRef(!1),{onUserInput:C,receivedUserInput:S}=function(){var e=vfe(),t=H.useRef(!1),r=H.useRef(0),n=H.useCallback((()=>{if(!t.current){t.current=!0;var n=ype.getWindow(e);n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame((()=>{t.current=!1}))}}),[e]);return H.useEffect((()=>()=>cancelAnimationFrame(r.current)),[]),{receivedUserInput:t,onUserInput:n}}(),[,A]=H.useReducer((e=>e+1),0);Jfe.set(g,A),Gfe.set(g,a);var T=H.useMemo((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);H.useEffect((()=>{_.current&&n&&_.current.focus()}),[n]);var D=H.useRef(),k=H.useMemo((()=>mhe((()=>{var e=ype.toDOMNode(g,g).getRootNode();if(!E.current&&Efe&&e instanceof ShadowRoot){E.current=!0;var t=(()=>{for(var e=document.activeElement;null!==(t=e)&&void 0!==t&&t.shadowRoot&&null!==(r=e.shadowRoot)&&void 0!==r&&r.activeElement;){var t,r,n;e=null===(n=e)||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.activeElement}return e})();return t?document.execCommand("indent"):lee.deselect(g),void(E.current=!1)}var r=D.current;if((xfe||!ype.isComposing(g))&&(!T.isUpdatingSelection||null!=r&&r.isFlushing())&&!T.isDraggingInternally){var n=ype.findDocumentOrShadowRoot(g),{activeElement:i}=n,o=ype.toDOMNode(g,g),s=fpe(n);if(i===o?(T.latestElement=i,Vfe.set(g,!0)):Vfe.delete(g),!s)return lee.deselect(g);var{anchorNode:l,focusNode:u}=s,c=ype.hasEditableTarget(g,l)||ype.isTargetInsideNonReadonlyVoid(g,l),d=ype.hasTarget(g,u);if(c&&d){var h=ype.toSlateRange(g,s,{exactMatch:!1,suppressThrow:!0});h&&(ype.isComposing(g)||null!=r&&r.hasPendingChanges()||null!=r&&r.isFlushing()?null==r||r.handleUserSelect(h):lee.select(g,h))}!a||c&&d||lee.deselect(g)}}),100)),[g,a,T]),P=H.useMemo((()=>dhe(k,0)),[k]);D.current=Fpe({node:_,onDOMSelectionChange:k,scheduleOnDOMSelectionChange:P}),Ppe((()=>{var e,t,r;_.current&&(r=ipe(_.current))?(Mfe.set(g,r),Ife.set(g,_.current),Ufe.set(g,_.current),Lfe.set(_.current,g)):Ufe.delete(g);var{selection:n}=g,i=ype.findDocumentOrShadowRoot(g),o=fpe(i);if(o&&ype.isFocused(g)&&(null===(e=D.current)||void 0===e||!e.hasPendingAction())){var s=e=>{var t="None"!==o.type;if(n||t){var r,i=o.focusNode;if(wfe&&o.rangeCount>1){var s=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);r=s.startContainer===i?a.endContainer:s.startContainer}else r=o.anchorNode;var l=Ife.get(g),u=!1;if(l.contains(r)&&l.contains(i)&&(u=!0),t&&u&&n&&!e){var c=ype.toSlateRange(g,o,{exactMatch:!0,suppressThrow:!0});if(c&&a9.equals(c,n)){var h;if(!T.hasMarkPlaceholder)return;if(null!==(h=r)&&void 0!==h&&null!==(h=h.parentElement)&&void 0!==h&&h.hasAttribute("data-slate-mark-placeholder"))return}}if(!n||ype.hasRange(g,n)){T.isUpdatingSelection=!0;var f=n&&ype.toDOMRange(g,n);return f?(ype.isComposing(g)&&!xfe?o.collapseToEnd():a9.isBackward(n)?o.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):o.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset),d(g,f)):o.removeAllRanges(),f}g.selection=ype.toSlateRange(g,o,{exactMatch:!1,suppressThrow:!0})}};o.rangeCount<=1&&s();var a="action"===(null===(t=D.current)||void 0===t?void 0:t.isFlushing());if(xfe&&a){var l=null,u=requestAnimationFrame((()=>{if(a){var e=e=>{try{ype.toDOMNode(g,g).focus(),s(e)}catch(whe){}};e(),l=setTimeout((()=>{e(!0),T.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(u),l&&clearTimeout(l)}}setTimeout((()=>{T.isUpdatingSelection=!1}))}}));var B=H.useCallback((e=>{var t=ype.toDOMNode(g,g).getRootNode();if(null!=E&&E.current&&Efe&&t instanceof ShadowRoot){var r=e.getTargetRanges()[0],n=new window.Range;n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset);var i=ype.toSlateRange(g,n,{exactMatch:!1,suppressThrow:!1});return lee.select(g,i),e.preventDefault(),void e.stopImmediatePropagation()}if(C(),!a&&ype.hasEditableTarget(g,e.target)&&!Pme(e,o)){var s;if(D.current)return D.current.handleDOMBeforeInput(e);P.flush(),k.flush();var{selection:l}=g,{inputType:u}=e,c=e.dataTransfer||e.data||void 0,d="insertCompositionText"===u||"deleteCompositionText"===u;if(d&&ype.isComposing(g))return;var h=!1;if("insertText"===u&&l&&a9.isCollapsed(l)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==l.anchor.offset){var f,p;h=!0,g.marks&&(h=!1);var{anchor:m}=l,[v,_]=ype.toDOMPoint(g,m),x=null===(f=v.parentElement)||void 0===f?void 0:f.closest("a"),w=ype.getWindow(g);if(h&&x&&ype.hasDOMNode(g,x)){var S,A=null==w?void 0:w.document.createTreeWalker(x,NodeFilter.SHOW_TEXT).lastChild();A===v&&(null===(S=A.textContent)||void 0===S?void 0:S.length)===_&&(h=!1)}if(h&&v.parentElement&&"pre"===(null==w||null===(p=w.getComputedStyle(v.parentElement))||void 0===p?void 0:p.whiteSpace)){var T=y9.above(g,{at:m.path,match:e=>u9.isElement(e)&&y9.isBlock(g,e)});T&&f9.string(T[0]).includes("\t")&&(h=!1)}}if(!u.startsWith("delete")||u.startsWith("deleteBy")){var[B]=e.getTargetRanges();if(B){var R=ype.toSlateRange(g,B,{exactMatch:!1,suppressThrow:!1});if(!l||!a9.equals(l,R)){h=!1;var O=!d&&g.selection&&y9.rangeRef(g,g.selection);lee.select(g,R),O&&Wfe.set(g,O)}}}if(d)return;if(h||e.preventDefault(),l&&a9.isExpanded(l)&&u.startsWith("delete")){var F=u.endsWith("Backward")?"backward":"forward";return void y9.deleteFragment(g,{direction:F})}switch(u){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":y9.deleteFragment(g);break;case"deleteContent":case"deleteContentForward":y9.deleteForward(g);break;case"deleteContentBackward":y9.deleteBackward(g);break;case"deleteEntireSoftLine":y9.deleteBackward(g,{unit:"line"}),y9.deleteForward(g,{unit:"line"});break;case"deleteHardLineBackward":y9.deleteBackward(g,{unit:"block"});break;case"deleteSoftLineBackward":y9.deleteBackward(g,{unit:"line"});break;case"deleteHardLineForward":y9.deleteForward(g,{unit:"block"});break;case"deleteSoftLineForward":y9.deleteForward(g,{unit:"line"});break;case"deleteWordBackward":y9.deleteBackward(g,{unit:"word"});break;case"deleteWordForward":y9.deleteForward(g,{unit:"word"});break;case"insertLineBreak":y9.insertSoftBreak(g);break;case"insertParagraph":y9.insertBreak(g);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===u&&ype.isComposing(g)&&(y(!1),Hfe.set(g,!1)),"DataTransfer"===(null==c?void 0:c.constructor.name)?ype.insertData(g,c):"string"==typeof c&&(h?b.current.push((()=>y9.insertText(g,c))):y9.insertText(g,c))}var M=null===(s=Wfe.get(g))||void 0===s?void 0:s.unref();Wfe.delete(g),!M||g.selection&&a9.equals(g.selection,M)||lee.select(g,M)}}),[g,k,C,o,a,P]),R=H.useCallback((e=>{null==e?(k.cancel(),P.cancel(),Ife.delete(g),Ufe.delete(g),_.current&&Rfe&&_.current.removeEventListener("beforeinput",B)):Rfe&&e.addEventListener("beforeinput",B),_.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[k,P,g,B,t]);Ppe((()=>{var e=ype.getWindow(g);e.document.addEventListener("selectionchange",P);var t=()=>{T.isDraggingInternally=!1};return e.document.addEventListener("dragend",t),e.document.addEventListener("drop",t),()=>{e.document.removeEventListener("selectionchange",P),e.document.removeEventListener("dragend",t),e.document.removeEventListener("drop",t)}}),[P,T]);var O=i([g,[]]),F=s&&1===g.children.length&&1===Array.from(f9.texts(g)).length&&""===f9.string(g)&&!v,M=H.useCallback((e=>{var t;w(e&&F?null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height:void 0)}),[F]);if(F){var I=y9.start(g,[]);O.push({[epe]:!0,placeholder:s,onPlaceholderResize:M,anchor:I,focus:I})}var{marks:N}=g;if(T.hasMarkPlaceholder=!1,g.selection&&a9.isCollapsed(g.selection)&&N){var{anchor:L}=g.selection,U=f9.leaf(g,L.path),j=cfe(U,bme);if(!P9.equals(U,N,{loose:!0})){T.hasMarkPlaceholder=!0;var z=Object.fromEntries(Object.keys(j).map((e=>[e,null])));O.push(wme(wme(wme({[tpe]:!0},z),N),{},{anchor:L,focus:L}))}}return H.useEffect((()=>{setTimeout((()=>{var{selection:e}=g;if(e){var{anchor:t}=e,r=f9.leaf(g,t.path);if(N&&!P9.equals(r,N,{loose:!0}))return void Xfe.set(g,N)}Xfe.delete(g)}))})),W.createElement(sme.Provider,{value:a},W.createElement(yme.Provider,{value:v},W.createElement(nme.Provider,{value:i},W.createElement(vme,{node:_,receivedUserInput:S},W.createElement(f,wme(wme({role:a?void 0:"textbox","aria-multiline":!a||void 0},m),{},{spellCheck:!(!Rfe&&Bfe)&&m.spellCheck,autoCorrect:Rfe||!Bfe?m.autoCorrect:"false",autoCapitalize:Rfe||!Bfe?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:R,style:wme(wme({},p?{}:wme({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},x?{minHeight:x}:{})),h),onBeforeInput:H.useCallback((e=>{if(!Rfe&&!a&&!Dme(e,m.onBeforeInput)&&ype.hasSelectableTarget(g,e.target)&&(e.preventDefault(),!ype.isComposing(g))){var t=e.data;y9.insertText(g,t)}}),[m.onBeforeInput,g,a]),onInput:H.useCallback((e=>{if(!Dme(e,m.onInput))if(D.current)D.current.handleInput();else{for(var t of b.current)t();b.current=[]}}),[m.onInput]),onBlur:H.useCallback((e=>{if(!a&&!T.isUpdatingSelection&&ype.hasSelectableTarget(g,e.target)&&!Dme(e,m.onBlur)){var t=ype.findDocumentOrShadowRoot(g);if(T.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===ype.toDOMNode(g,g)||ope(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&spe(r)&&ype.hasDOMNode(g,r)){var n=ype.toSlateNode(g,r);if(u9.isElement(n)&&!g.isVoid(n))return}if(Efe){var i=fpe(t);null==i||i.removeAllRanges()}Vfe.delete(g)}}}}),[a,T.isUpdatingSelection,T.latestElement,g,m.onBlur]),onClick:H.useCallback((e=>{if(ype.hasTarget(g,e.target)&&!Dme(e,m.onClick)&&spe(e.target)){var t=ype.toSlateNode(g,e.target),r=ype.findPath(g,t);if(!y9.hasPath(g,r)||f9.get(g,r)!==t)return;if(3===e.detail&&r.length>=1){var n=r;if(!u9.isElement(t)||!y9.isBlock(g,t)){var i,o=y9.above(g,{match:e=>u9.isElement(e)&&y9.isBlock(g,e),at:r});n=null!==(i=null==o?void 0:o[1])&&void 0!==i?i:r.slice(0,1)}var s=y9.range(g,n);return void lee.select(g,s)}if(a)return;var l=y9.start(g,r),u=y9.end(g,r),c=y9.void(g,{at:l}),d=y9.void(g,{at:u});if(c&&d&&X7.equals(c[1],d[1])){var h=y9.range(g,l);lee.select(g,h)}}}),[g,m.onClick,a]),onCompositionEnd:H.useCallback((e=>{if(ype.hasSelectableTarget(g,e.target)){var t;if(ype.isComposing(g)&&Promise.resolve().then((()=>{y(!1),Hfe.set(g,!1)})),null===(t=D.current)||void 0===t||t.handleCompositionEnd(e),Dme(e,m.onCompositionEnd)||xfe)return;if(!Efe&&!Dfe&&!_fe&&!Pfe&&!kfe&&e.data){var r=Xfe.get(g);Xfe.delete(g),void 0!==r&&(qfe.set(g,g.marks),g.marks=r),y9.insertText(g,e.data);var n=qfe.get(g);qfe.delete(g),void 0!==n&&(g.marks=n)}}}),[m.onCompositionEnd,g]),onCompositionUpdate:H.useCallback((e=>{ype.hasSelectableTarget(g,e.target)&&!Dme(e,m.onCompositionUpdate)&&(ype.isComposing(g)||(y(!0),Hfe.set(g,!0)))}),[m.onCompositionUpdate,g]),onCompositionStart:H.useCallback((e=>{if(ype.hasSelectableTarget(g,e.target)){var t;if(null===(t=D.current)||void 0===t||t.handleCompositionStart(e),Dme(e,m.onCompositionStart)||xfe)return;y(!0);var{selection:r}=g;if(r&&a9.isExpanded(r))return void y9.deleteFragment(g)}}),[m.onCompositionStart,g]),onCopy:H.useCallback((e=>{!ype.hasSelectableTarget(g,e.target)||Dme(e,m.onCopy)||kme(e)||(e.preventDefault(),ype.setFragmentData(g,e.clipboardData,"copy"))}),[m.onCopy,g]),onCut:H.useCallback((e=>{if(!a&&ype.hasSelectableTarget(g,e.target)&&!Dme(e,m.onCut)&&!kme(e)){e.preventDefault(),ype.setFragmentData(g,e.clipboardData,"cut");var{selection:t}=g;if(t)if(a9.isExpanded(t))y9.deleteFragment(g);else{var r=f9.parent(g,t.anchor.path);y9.isVoid(g,r)&&lee.delete(g)}}}),[a,g,m.onCut]),onDragOver:H.useCallback((e=>{if(ype.hasTarget(g,e.target)&&!Dme(e,m.onDragOver)){var t=ype.toSlateNode(g,e.target);u9.isElement(t)&&y9.isVoid(g,t)&&e.preventDefault()}}),[m.onDragOver,g]),onDragStart:H.useCallback((e=>{if(!a&&ype.hasTarget(g,e.target)&&!Dme(e,m.onDragStart)){var t=ype.toSlateNode(g,e.target),r=ype.findPath(g,t);if(u9.isElement(t)&&y9.isVoid(g,t)||y9.void(g,{at:r,voids:!0})){var n=y9.range(g,r);lee.select(g,n)}T.isDraggingInternally=!0,ype.setFragmentData(g,e.dataTransfer,"drag")}}),[a,g,m.onDragStart,T]),onDrop:H.useCallback((e=>{if(!a&&ype.hasTarget(g,e.target)&&!Dme(e,m.onDrop)){e.preventDefault();var t=g.selection,r=ype.findEventRange(g,e),n=e.dataTransfer;lee.select(g,r),T.isDraggingInternally&&(!t||a9.equals(t,r)||y9.void(g,{at:r,voids:!0})||lee.delete(g,{at:t})),ype.insertData(g,n),ype.isFocused(g)||ype.focus(g)}}),[a,g,m.onDrop,T]),onDragEnd:H.useCallback((e=>{!a&&T.isDraggingInternally&&m.onDragEnd&&ype.hasTarget(g,e.target)&&m.onDragEnd(e)}),[a,T,m,g]),onFocus:H.useCallback((e=>{if(!a&&!T.isUpdatingSelection&&ype.hasEditableTarget(g,e.target)&&!Dme(e,m.onFocus)){var t=ype.toDOMNode(g,g),r=ype.findDocumentOrShadowRoot(g);if(T.latestElement=r.activeElement,wfe&&e.target!==t)return void t.focus();Vfe.set(g,!0)}}),[a,T,g,m.onFocus]),onKeyDown:H.useCallback((e=>{if(!a&&ype.hasEditableTarget(g,e.target)){var t;null===(t=D.current)||void 0===t||t.handleKeyDown(e);var{nativeEvent:r}=e;if(ype.isComposing(g)&&!1===r.isComposing&&(Hfe.set(g,!1),y(!1)),Dme(e,m.onKeyDown)||ype.isComposing(g))return;var{selection:n}=g,i=g.children[null!==n?n.focus.path[0]:0],o="rtl"===Wde(f9.string(i));if(pme.isRedo(r)){e.preventDefault();var s=g;return void("function"==typeof s.redo&&s.redo())}if(pme.isUndo(r)){e.preventDefault();var l=g;return void("function"==typeof l.undo&&l.undo())}if(pme.isMoveLineBackward(r))return e.preventDefault(),void lee.move(g,{unit:"line",reverse:!0});if(pme.isMoveLineForward(r))return e.preventDefault(),void lee.move(g,{unit:"line"});if(pme.isExtendLineBackward(r))return e.preventDefault(),void lee.move(g,{unit:"line",edge:"focus",reverse:!0});if(pme.isExtendLineForward(r))return e.preventDefault(),void lee.move(g,{unit:"line",edge:"focus"});if(pme.isMoveBackward(r))return e.preventDefault(),void(n&&a9.isCollapsed(n)?lee.move(g,{reverse:!o}):lee.collapse(g,{edge:o?"end":"start"}));if(pme.isMoveForward(r))return e.preventDefault(),void(n&&a9.isCollapsed(n)?lee.move(g,{reverse:o}):lee.collapse(g,{edge:o?"start":"end"}));if(pme.isMoveWordBackward(r))return e.preventDefault(),n&&a9.isExpanded(n)&&lee.collapse(g,{edge:"focus"}),void lee.move(g,{unit:"word",reverse:!o});if(pme.isMoveWordForward(r))return e.preventDefault(),n&&a9.isExpanded(n)&&lee.collapse(g,{edge:"focus"}),void lee.move(g,{unit:"word",reverse:o});if(Rfe){if((Sfe||Efe)&&n&&(pme.isDeleteBackward(r)||pme.isDeleteForward(r))&&a9.isCollapsed(n)){var u=f9.parent(g,n.anchor.path);if(u9.isElement(u)&&y9.isVoid(g,u)&&(y9.isInline(g,u)||y9.isBlock(g,u)))return e.preventDefault(),void y9.deleteBackward(g,{unit:"block"})}}else{if(pme.isBold(r)||pme.isItalic(r)||pme.isTransposeCharacter(r))return void e.preventDefault();if(pme.isSoftBreak(r))return e.preventDefault(),void y9.insertSoftBreak(g);if(pme.isSplitBlock(r))return e.preventDefault(),void y9.insertBreak(g);if(pme.isDeleteBackward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"backward"}):y9.deleteBackward(g));if(pme.isDeleteForward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"forward"}):y9.deleteForward(g));if(pme.isDeleteLineBackward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"backward"}):y9.deleteBackward(g,{unit:"line"}));if(pme.isDeleteLineForward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"forward"}):y9.deleteForward(g,{unit:"line"}));if(pme.isDeleteWordBackward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"backward"}):y9.deleteBackward(g,{unit:"word"}));if(pme.isDeleteWordForward(r))return e.preventDefault(),void(n&&a9.isExpanded(n)?y9.deleteFragment(g,{direction:"forward"}):y9.deleteForward(g,{unit:"word"}))}}}),[a,g,m.onKeyDown]),onPaste:H.useCallback((e=>{a||!ype.hasEditableTarget(g,e.target)||Dme(e,m.onPaste)||(!Rfe||(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||Efe)&&(e.preventDefault(),ype.insertData(g,e.clipboardData))}),[a,g,m.onPaste])}),W.createElement(Eme,{decorations:O,node:g,renderElement:l,renderPlaceholder:c,renderLeaf:u,selection:g.selection}))))))})),Sme=e=>{var{attributes:t,children:r}=e;return W.createElement("span",wme({},t),r,xfe&&W.createElement("br",null))},Ame=()=>[],Tme=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&a9.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),whe(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Dme=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},kme=e=>spe(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),Pme=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented},Bme=H.createContext(!1),Rme=e("d0",(()=>H.useContext(Bme))),Ome=H.createContext({}),Fme=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],Mme=e=>{var{editor:t,children:r,onChange:n,onSelectionChange:i,onValueChange:o,initialValue:s}=e,a=cfe(e,Fme),[l,u]=W.useState((()=>{if(!f9.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(C9.stringify(s)));if(!y9.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(C9.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}})),{selectorContext:c,onChange:d}=function(e){var t=H.useRef([]).current,r=H.useRef({editor:e}).current,n=H.useCallback((e=>{r.editor=e,t.forEach((t=>t(e)))}),[t,r]);return{selectorContext:H.useMemo((()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,r]),onChange:n}}(t),h=H.useCallback((e=>{var r;n&&n(t.children),"set_selection"===(null==e||null===(r=e.operation)||void 0===r?void 0:r.type)?null==i||i(t.selection):null==o||o(t.children),u((e=>({v:e.v+1,editor:t}))),d(t)}),[t,d,n,i,o]);H.useEffect((()=>($fe.set(t,h),()=>{$fe.set(t,(()=>{}))})),[t,h]);var[f,p]=H.useState(ype.isFocused(t));return H.useEffect((()=>{p(ype.isFocused(t))}),[t]),Ppe((()=>{var e=()=>p(ype.isFocused(t));return yfe>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),W.createElement(Ome.Provider,{value:c},W.createElement(lme.Provider,{value:l},W.createElement(gfe.Provider,{value:l.editor},W.createElement(Bme.Provider,{value:f},r))))},Ime=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},Nme=(e,t,r)=>{var n=ype.toDOMRange(e,t).getBoundingClientRect(),i=ype.toDOMRange(e,r).getBoundingClientRect();return Ime(n,i)&&Ime(i,n)};function Lme(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ume(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lme(Object(r),!0).forEach((function(t){ffe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lme(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jme=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",r=e,{apply:n,onChange:i,deleteBackward:o,addMark:s,removeMark:a}=r;return zfe.set(r,new WeakMap),r.addMark=(e,t)=>{var n,i;null===(n=Yfe.get(r))||void 0===n||n(),!Xfe.get(r)&&null!==(i=Kfe.get(r))&&void 0!==i&&i.length&&Xfe.set(r,null),qfe.delete(r),s(e,t)},r.removeMark=e=>{var t;!Xfe.get(r)&&null!==(t=Kfe.get(r))&&void 0!==t&&t.length&&Xfe.set(r,null),qfe.delete(r),a(e)},r.deleteBackward=e=>{if("line"!==e)return o(e);if(r.selection&&a9.isCollapsed(r.selection)){var t=y9.above(r,{match:e=>u9.isElement(e)&&y9.isBlock(r,e),at:r.selection});if(t){var[,n]=t,i=y9.range(r,n,r.selection.anchor),s=((e,t)=>{var r=y9.range(e,a9.end(t)),n=Array.from(y9.positions(e,{at:t})),i=0,o=n.length,s=Math.floor(o/2);if(Nme(e,y9.range(e,n[i]),r))return y9.range(e,n[i],r);if(n.length<2)return y9.range(e,n[n.length-1],r);for(;s!==n.length&&s!==i;)Nme(e,y9.range(e,n[s]),r)?o=s:i=s,s=Math.floor((i+o)/2);return y9.range(e,n[o],r)})(r,i);a9.isCollapsed(s)||lee.delete(r,{at:s})}}},r.apply=t=>{var i=[],o=[],s=Kfe.get(r);if(null!=s&&s.length){var a=s.map((e=>function(e,t){var{path:r,diff:n,id:i}=e;switch(t.type){case"insert_text":return!X7.equals(t.path,r)||t.offset>=n.end?e:t.offset<=n.start?{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:i,path:r}:{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:i,path:r};case"remove_text":return!X7.equals(t.path,r)||t.offset>=n.end?e:t.offset+t.text.length<=n.start?{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:i,path:r}:{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:i,path:r};case"split_node":return!X7.equals(t.path,r)||t.position>=n.end?{diff:n,id:i,path:X7.transform(r,t,{affinity:"backward"})}:t.position>n.start?{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:i,path:r}:{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:i,path:X7.transform(r,t,{affinity:"forward"})};case"merge_node":return X7.equals(t.path,r)?{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:i,path:X7.transform(r,t)}:{diff:n,id:i,path:X7.transform(r,t)}}var o=X7.transform(r,t);return o?{diff:n,path:o,id:i}:null}(e,t))).filter(Boolean);Kfe.set(r,a)}var l=Qfe.get(r);l&&Qfe.set(r,Ape(r,l,t));var u=Zfe.get(r);if(null!=u&&u.at){var c=w9.isPoint(null==u?void 0:u.at)?Spe(r,u.at,t):Ape(r,u.at,t);Zfe.set(r,c?Ume(Ume({},u),{},{at:c}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...zme(r,t.path));break;case"set_selection":var d;null===(d=Wfe.get(r))||void 0===d||d.unref(),Wfe.delete(r);break;case"insert_node":case"remove_node":i.push(...zme(r,X7.parent(t.path)));break;case"merge_node":var h=X7.previous(t.path);i.push(...zme(r,h));break;case"move_node":var f,p=X7.common(X7.parent(t.path),X7.parent(t.newPath));i.push(...zme(r,p)),X7.isBefore(t.path,t.newPath)?(i.push(...zme(r,X7.parent(t.path))),f=t.newPath):(i.push(...zme(r,X7.parent(t.newPath))),f=t.path);var m=f9.get(e,X7.parent(f)),g=ype.findKey(r,m),v=y9.pathRef(r,X7.parent(f));o.push([v,g])}for(var[y,_]of(n(t),i)){var[b]=y9.node(r,y);jfe.set(b,_)}for(var[x,w]of o)if(x.current){var[E]=y9.node(r,x.current);jfe.set(E,w)}},r.setFragmentData=e=>{var{selection:n}=r;if(n){var[i,o]=a9.edges(n),s=y9.void(r,{at:i.path}),a=y9.void(r,{at:o.path});if(!a9.isCollapsed(n)||s){var l=ype.toDOMRange(r,n),u=l.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)})),a){var[d]=a,h=l.cloneRange(),f=ype.toDOMNode(r,d);h.setEndAfter(f),u=h.cloneContents()}if(s&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),lpe(c)){var p=c.ownerDocument.createElement("span");p.style.whiteSpace="pre",p.appendChild(c),u.appendChild(p),c=p}var m=r.getFragment(),g=JSON.stringify(m),v=window.btoa(encodeURIComponent(g));c.setAttribute("data-slate-fragment",v),e.setData("application/".concat(t),v);var y=u.ownerDocument.createElement("div");return y.appendChild(u),y.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(y),e.setData("text/html",y.innerHTML),e.setData("text/plain",dpe(y)),u.ownerDocument.body.removeChild(y),e}}},r.insertData=e=>{r.insertFragmentData(e)||r.insertTextData(e)},r.insertFragmentData=e=>{var n=e.getData("application/".concat(t))||(e=>{var t=e.getData("text/html"),[,r]=t.match(hpe)||[];return r})(e);if(n){var i=decodeURIComponent(window.atob(n)),o=JSON.parse(i);return r.insertFragment(o),!0}return!1},r.insertTextData=e=>{var t=e.getData("text/plain");if(t){var n=t.split(/\r\n|\r|\n/),i=!1;for(var o of n)i&&lee.splitNodes(r,{always:!0}),r.insertText(o),i=!0;return!0}return!1},r.onChange=e=>{(yfe<18?ud.unstable_batchedUpdates:e=>e())((()=>{var t=$fe.get(r);t&&t(e),i(e)}))},r},zme=(e,t)=>{var r=[];for(var[n,i]of y9.levels(e,{at:t})){var o=ype.findKey(e,n);r.push([i,o])}return r},Gme=e("d3",((e,t)=>{t&&cte(e,(()=>{(e=>{lee.deselect(e)})(e),fte(e,t)})),ype.focus(e)})),Vme=Yie,Hme=Rle,Wme=Jie,$me=pre,Yme=Fle,Xme=function(e,t,r,n){if(!$me(e))return e;for(var i=-1,o=(t=Hme(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=Yme(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var c=a[l];void 0===(u=n?n(c,l,a):void 0)&&(u=$me(c)?c:Wme(t[i+1])?[]:{})}Vme(a,l,u),a=a[l]}return e},qme=Nle,Kme=Xme,Zme=Rle,Qme=function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=qme(e,s);r(a,s)&&Kme(o,Zme(s,e),a)}return o},Jme=Qme,ege=Yle,tge=function(e,t){return Jme(e,t,(function(t,r){return ege(e,r)}))},rge=cie,nge=die,ige=rre?rre.isConcatSpreadable:void 0,oge=Jse,sge=function(e){return nge(e)||rge(e)||!!(ige&&e&&e[ige])},age=function e(t,r,n,i,o){var s=-1,a=t.length;for(n||(n=sge),o||(o=[]);++s<a;){var l=t[s];r>0&&n(l)?r>1?e(l,r-1,n,i,o):oge(o,l):i||(o[o.length]=l)}return o},lge=age,uge=function(e){return null!=e&&e.length?lge(e,1):[]},cge=Woe,dge=Qoe,hge=function(e){return dge(cge(e,void 0,uge),e+"")},fge=tge;const pge=o(hge((function(e,t){return null==e?{}:fge(e,t)})));var mge,gge=Object.defineProperty,vge=Object.defineProperties,yge=Object.getOwnPropertyDescriptors,_ge=Object.getOwnPropertySymbols,bge=Object.prototype.hasOwnProperty,xge=Object.prototype.propertyIsEnumerable,wge=(e,t,r)=>t in e?gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ege=(e,t)=>{for(var r in t||(t={}))bge.call(t,r)&&wge(e,r,t[r]);if(_ge)for(var r of _ge(t))xge.call(t,r)&&wge(e,r,t[r]);return e},Cge=(e,t)=>vge(e,yge(t)),Sge=e=>W.forwardRef(((t,r)=>{var n=t,{as:i,asChild:o=!1}=n,s=((e,t)=>{var r={};for(var n in e)bge.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&_ge)for(var n of _ge(e))t.indexOf(n)<0&&xge.call(e,n)&&(r[n]=e[n]);return r})(n,["as","asChild"]);const a=o?lU:i||e;return W.createElement(a,Ege({ref:r},s))})),Age=Sge("div"),Tge=Sge("span"),Dge=e("d2",((...e)=>W.useCallback(((...e)=>t=>e.forEach((e=>((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t))))(...e),e))),kge="undefined"!=typeof window&&void 0!==(null==(mge=window.document)?void 0:mge.createElement)?W.useLayoutEffect:W.useEffect,Pge=(e,t)=>{var r;return null==(r=e.classList)?void 0:r.contains(t)},Bge=(e,t)=>{let r=e.target||e;for(;r;){if(Array.isArray(t)){if(t.some((e=>Pge(r,e))))return!0}else if(Pge(r,t))return!0;r=r.parentElement}return!1},Rge=e=>!(!e.includes("touch")||!(()=>{if("undefined"==typeof window||"function"!=typeof window.addEventListener)return!1;let e=!1;const t=Object.defineProperty({},"passive",{get(){e=!0}}),r=()=>null;return window.addEventListener("test",r,t),window.removeEventListener("test",r,t),e})())&&{passive:!0};e("d1",((e,{detectIFrame:t=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:i,ignoreClass:o="ignore-onclickoutside",refs:s}={})=>{const[a,l]=W.useState([]),u=W.useRef(e);u.current=e;const c=W.useCallback((e=>l((t=>[...t,{current:e}]))),[]);return W.useEffect((()=>{if(!(null==s?void 0:s.length)&&0===a.length)return;const e=()=>{const e=[];return(s||a).forEach((({current:t})=>t&&e.push(t))),e},l=t=>{Bge(t,o)||i&&(e=>document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)(t)||!e().every((e=>!e.contains(t.target)))||u.current(t)},c=t=>setTimeout((()=>{const{activeElement:r}=document;"IFRAME"!==(null==r?void 0:r.tagName)||Bge(r,o)||e().includes(r)||u.current(t)}),0),d=()=>{n.forEach((e=>document.removeEventListener(e,l,Rge(e)))),t&&window.removeEventListener("blur",c)};if(!r)return n.forEach((e=>document.addEventListener(e,l,Rge(e)))),t&&window.addEventListener("blur",c),()=>d();d()}),[a,o,i,r,t,JSON.stringify(n)]),c}));var Oge=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o},Fge=Nle,Mge=Oge,Ige=function(e,t){return t.length<2?e:Fge(e,Mge(t,0,-1))},Nge=Rle,Lge=Xle,Uge=Ige,jge=Fle,zge=function(e,t){return t=Nge(t,e),null==(e=Uge(e,t))||delete e[jge(Lge(t))]},Gge=Pie,Vge=Rse,Hge=ede,Wge=zge,$ge=Rle,Yge=Kie,Xge=function(e){return Gge(e)?void 0:e},qge=tce,Kge=hge((function(e,t){var r={};if(null==e)return r;var n=!1;t=Vge(t,(function(t){return t=$ge(t,e),n||(n=t.length>1),t})),Yge(e,qge(e),r),n&&(r=Hge(r,7,Xge));for(var i=t.length;i--;)Wge(r,t[i]);return r}));const Zge=o(Kge);var Qge=Object.prototype.hasOwnProperty;function Jge(e,t,r){for(r of e.keys())if(eve(r,t))return r}function eve(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&eve(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;for(n of e){if((i=n)&&"object"==typeof i&&!(i=Jge(t,i)))return!1;if(!t.has(i))return!1}return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e){if((i=n[0])&&"object"==typeof i&&!(i=Jge(t,i)))return!1;if(!eve(n[1],t.get(i)))return!1}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"==typeof e){for(r in n=0,e){if(Qge.call(e,r)&&++n&&!Qge.call(t,r))return!1;if(!(r in t)||!eve(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!=e&&t!=t}function tve(e,t){return W.useMemo(e,function(e){const t=W.useRef(e),r=W.useRef(0);return eve(e,t.current)||(t.current=e,r.current+=1),W.useMemo((()=>t.current),[r.current])}(t))}globalThis&&globalThis.__rest;const rve=e=>e,nve=e=>({_tag:"Left",value:e}),ive=e=>({_tag:"Right",value:e}),ove={dimap:(e,t,r)=>n=>t(r(e(n))),first:e=>([t,r])=>[e(t),r],right:e=>t=>"Left"===t._tag?t:ive(e(t.value)),wander:e=>t=>t.map(e)},sve={empty:()=>{},foldMap:(e,t)=>{for(let r=0;r<t.length;r++){const n=e(t[r]);if(null!=n)return n}}},ave={empty:()=>[],foldMap:(e,t)=>{let r=[];return t.forEach((t=>{r=r.concat(e(t))})),r}},lve=e=>({dimap:(e,t,r)=>t=>r(e(t)),first:e=>([t,r])=>e(t),right:t=>r=>"Left"===r._tag?e.empty():t(r.value),wander:t=>r=>e.foldMap(t,r)}),uve={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},cve=(e,t)=>{const r=t;return r._tag=e,r},dve=e=>(e._removable=!0,e);function hve(e,t,r){if(2===arguments.length){const r=(r,n)=>e(r,t(r,n));return r._tag=uve[e._tag][t._tag],r._removable=t._removable||!1,r}{const n=uve[e._tag][t._tag],i=(n,i)=>e(n,t(n,r(n,i)));return i._tag=uve[n][r._tag],i._removable=r._removable||!1,i}}const fve=cve("Equivalence",((e,t)=>t)),pve=(e,t)=>cve("Iso",((r,n)=>r.dimap(e,t,n))),mve=(e,t)=>cve("Lens",((r,n)=>r.dimap((t=>[e(t),t]),t,r.first(n)))),gve=(e,t)=>cve("Prism",((r,n)=>r.dimap(e,(e=>((e,t,r)=>"Left"===r._tag?e(r.value):t(r.value))(rve,t,e)),r.right(n)))),vve=cve("Traversal",((e,t)=>e.dimap(rve,rve,e.wander(t)))),yve=(e,t,r)=>e(ove,t)(r),_ve=(e,t,r)=>e(ove,(()=>t))(r),bve=(e,t)=>e(lve(ave),(e=>[e]))(t),xve=pve((e=>e.map(((e,t)=>[t,e]))),(e=>{const t=[...e].sort(((e,t)=>e[0]-t[0])),r=[];for(let n=0;n<t.length;++n)n!==t.length-1&&t[n][0]===t[n+1][0]||r.push(t[n][1]);return r})),wve=e=>mve((t=>t[e]),(([t,r])=>Object.assign(Object.assign({},r),{[e]:t}))),Eve=e=>mve((t=>t[e]),(([t,r])=>{const n=r.slice();return n[e]=t,n})),Cve=Eve(0),Sve=e=>gve((t=>e(t)?ive(t):nve(t)),rve),Ave=Symbol("__no_match__"),Tve=Sve((e=>e!==Ave)),Dve=Symbol("__remove_me__"),kve=e=>dve(hve(mve((t=>0<=e&&e<t.length?t[e]:Ave),(([t,r])=>{if(t===Ave)return r;if(t===Dve)return"string"==typeof r?r.substring(0,e)+r.substring(e+1):[...r.slice(0,e),...r.slice(e+1)];if("string"==typeof r)return 0===e?t+r.substring(1):e===r.length?r.substring(0,e-1)+t:r.substring(0,e)+t+r.substring(e+1);{const n=r.slice();return n[e]=t,n}})),Tve)),Pve=gve((e=>void 0===e?nve(void 0):ive(e)),rve),Bve=mve((e=>{}),(([e,t])=>void 0===e?t:[e,...t])),Rve=mve((e=>{}),(([e,t])=>void 0===e?t:[...t,e])),Ove=hve(pve((e=>e.split("")),(e=>e.join(""))),vve),Fve=hve(pve((e=>e.split(/\b/)),(e=>e.join(""))),vve,Sve((e=>!/\s+/.test(e))));class Mve{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Mve(hve(this._ref,e._ref))}iso(e,t){return new Mve(hve(this._ref,pve(e,t)))}lens(e,t){return new Mve(hve(this._ref,mve(e,(([e,r])=>t(r,e)))))}indexed(){return new Mve(hve(this._ref,xve))}prop(e){return new Mve(hve(this._ref,wve(e)))}path(...e){return 1===e.length&&(e=e[0].split(".")),new Mve(e.reduce(((e,t)=>hve(e,wve(t))),this._ref))}pick(e){return new Mve(hve(this._ref,(e=>mve((t=>{const r={};for(const n of e)r[n]=t[n];return r}),(([t,r])=>{const n=Object.assign({},r);for(const i of e)delete n[i];return Object.assign(n,t)})))(e)))}nth(e){return new Mve(hve(this._ref,Eve(e)))}filter(e){return new Mve(hve(this._ref,(e=>hve(mve((t=>{const r=t.map(((t,r)=>e(t)?r:null)).filter((e=>null!=e));return[r.map((e=>t[e])),r]}),(([[e,t],r])=>{const n=r.length,i=e.length;let o=0,s=0,a=0;const l=[];for(;o<n;)t[s]===o?(++s,a<i&&(l.push(e[a]),++a)):l.push(r[o]),++o;for(;a<i;)l.push(e[a++]);return l})),Cve))(e)))}valueOr(e){return new Mve(hve(this._ref,(e=>mve((t=>void 0===t?e:t),(([e,t])=>e)))(e)))}partsOf(e){const t="function"==typeof e?e(Ive):e;return new Mve(hve(this._ref,(e=>hve(mve((t=>{const r=bve(e,t);return[r,r.length]}),(([[t,r],n])=>{if(t.length!==r)throw new Error("cannot add/remove elements through partsOf");let i=0;return yve(e,(()=>t[i++]),n)})),Cve))(t._ref)))}reread(e){return new Mve(hve(this._ref,(e=>mve((t=>e(t)),(([e,t])=>e)))(e)))}rewrite(e){return new Mve(hve(this._ref,(e=>mve((e=>e),(([t,r])=>e(t))))(e)))}optional(){return new Mve(hve(this._ref,Pve))}guard_(){return e=>this.guard(e)}guard(e){return new Mve(hve(this._ref,(e=>gve((t=>e(t)?ive(t):nve(t)),rve))(e)))}at(e){return new Mve(hve(this._ref,kve(e)))}head(){return new Mve(hve(this._ref,kve(0)))}index(e){return new Mve(hve(this._ref,kve(e)))}find(e){return new Mve(hve(this._ref,(e=>dve(hve(mve((t=>{const r=t.findIndex(e);return-1===r?[Ave,-1]:[t[r],r]}),(([[e,t],r])=>{if(e===Ave)return r;if(e===Dve)return[...r.slice(0,t),...r.slice(t+1)];const n=r.slice();return n[t]=e,n})),Cve,Tve)))(e)))}elems(){return new Mve(hve(this._ref,vve))}to(e){return new Mve(hve(this._ref,(e=>cve("Getter",((t,r)=>t.dimap(e,rve,r))))(e)))}when(e){return new Mve(hve(this._ref,Sve(e)))}chars(){return new Mve(hve(this._ref,Ove))}words(){return new Mve(hve(this._ref,Fve))}prependTo(){return new Mve(hve(this._ref,Bve))}appendTo(){return new Mve(hve(this._ref,Rve))}}const Ive=new Mve(fve);function Nve(e){return t=>((e,t)=>e(lve({}),rve)(t))(e._ref,t)}function Lve(e){return t=>((e,t)=>e(lve(sve),rve)(t))(e._ref,t)}function Uve(e){return t=>r=>_ve(e._ref,t,r)}const jve=(e,t,r)=>(t.has(r)?t:t.set(r,e())).get(r),zve=new WeakMap;function Gve(e,t){return((e,t,r)=>{const n=jve((()=>new WeakMap),zve,t);return jve(e,n,r)})((()=>{const r=t(Ive),n=V5((t=>{const n=t(e);return n instanceof Promise?n.then((e=>Vve(r,e))):Vve(r,n)}),((t,n,i)=>{const o=(e=>"function"==typeof e)(i)?function(e){return t=>r=>yve(e._ref,t,r)}(r)(i):Uve(r)(i),s=t(e);return n(e,s instanceof Promise?s.then(o):o(s))}));return n}),e,t)}const Vve=(e,t)=>{if("Traversal"===e._tag){const r=function(e){return t=>bve(e._ref,t)}(e)(t);return r}return"Prism"===e._tag?Lve(e)(t):Nve(e)(t)};var Hve=Object.defineProperty,Wve=Object.defineProperties,$ve=Object.getOwnPropertyDescriptors,Yve=Object.getOwnPropertySymbols,Xve=Object.prototype.hasOwnProperty,qve=Object.prototype.propertyIsEnumerable,Kve=(e,t,r)=>t in e?Hve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zve=(e,t)=>{for(var r in t||(t={}))Xve.call(t,r)&&Kve(e,r,t[r]);if(Yve)for(var r of Yve(t))qve.call(t,r)&&Kve(e,r,t[r]);return e},Qve=(e,t)=>Wve(e,$ve(t)),Jve=(e,t)=>{var r={};for(var n in e)Xve.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Yve)for(var n of Yve(e))t.indexOf(n)<0&&qve.call(e,n)&&(r[n]=e[n]);return r};function eye(e){var t=e,{attributes:r,children:n,editor:i,leaf:o,nodeProps:s,text:a}=t,l=Jve(t,["attributes","children","editor","leaf","nodeProps","text"]);return W.createElement("span",Zve(Zve({},r),l),n)}var tye=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:rye,plateControllerStore:nye,usePlateControllerStore:iye}=M7({activeId:V5(null),editorStores:V5({}),primaryEditorIds:V5([])},{name:"plateController"}),oye=()=>iye().set,sye=e=>{const t=W.useMemo((()=>V5((t=>{const r=t(nye.atom.editorStores),n=e=>{var t;return e&&null!=(t=r[e])?t:null};if(e)return n(e);const i=[t(nye.atom.activeId),...t(nye.atom.primaryEditorIds)];for(const e of i){const t=n(e);if(t)return t}return null}))),[e]);return iye().get.atom(t)},{PlateProvider:aye,plateStore:lye,usePlateStore:uye}=((e={})=>{var t=e,{id:r,decorate:n=null,editor:i,isMounted:o=!1,primary:s=!0,readOnly:a=null,renderElement:l=null,renderLeaf:u=null,versionDecorate:c=1,versionEditor:d=1,versionSelection:h=1,versionValue:f=1,onChange:p=null,onSelectionChange:m=null,onValueChange:g=null}=t,v=Jve(t,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return M7(Zve({decorate:n,editor:i,isMounted:o,primary:s,readOnly:a,renderElement:l,renderLeaf:u,versionDecorate:c,versionEditor:d,versionSelection:h,versionValue:f,onChange:p,onSelectionChange:m,onValueChange:g},v),{extend:e=>({trackedEditor:V5((t=>({editor:t(e.editor),version:t(e.versionEditor)}))),trackedSelection:V5((t=>({selection:t(e.editor).selection,version:t(e.versionSelection)}))),trackedValue:V5((t=>({value:t(e.editor).children,version:t(e.versionValue)})))}),name:"plate"})})(),cye=(e,{debugHookName:t="usePlateEditorStore"}={})=>{var r;const n=null!=(r=uye(e).store({warnIfNoStore:!1}))?r:null,[i]=W.useState(!!n),o=i?n:sye(e),s=!!iye().store({warnIfNoStore:!1}),a=W.useMemo((()=>o7()),[]);if(!o){if(s)return a;throw new Error(`${t} must be used inside a Plate or PlateController`)}return o},dye=(e,t)=>{const r=cye(e,Zve({debugHookName:"usePlateSelectors"},t));return uye({store:r}).get},hye=(e,t)=>{const r=cye(e,Zve({debugHookName:"usePlateActions"},t));return uye({store:r}).set},fye=(e,t,r={})=>{const n=W.useRef(1),i=hye(t,Zve({debugHookName:"useIncrementVersion"},r))[e]();return W.useCallback((()=>{const e=n.current+1;i(e),n.current=e}),[i])};function pye(e,...t){return fse({},e,...t,((e,t,r)=>Array.isArray(t)?t:"options"===r?Zve(Zve({},e),t):void 0))}function mye(e){return"function"==typeof e}function gye(e={}){var t;let r,n;mye(e)?(r={key:""},n=t=>e(t)):r=e;const i=null!=(t=r.key)?t:"",o=pye({key:i,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:i},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},e);return o.configure=e=>{const t=Zve({},o);return t.__configuration=t=>mye(e)?e(t):e,gye(t)},o.configurePlugin=(e,t)=>{const r=Zve({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,gye(Qve(Zve({},r),{__configuration:e=>mye(t)?t(e):t}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Qve(Zve({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,gye(r)},o.extendEditorApi=e=>{const t=Zve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1}],gye(t)},o.extendOptions=e=>{const t=Zve({},o);return t.__optionExtensions=[...t.__optionExtensions,e],gye(t)},o.extendApi=e=>{const t=Zve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0}],gye(t)},o.extendEditorTransforms=e=>{const t=Zve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1,isTransform:!0}],gye(t)},o.extendTransforms=e=>{const t=Zve({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0,isTransform:!0}],gye(t)},o.extend=e=>{let t=Zve({},o);return mye(e)?t.__extensions=[...t.__extensions,e]:t=pye(t,e),gye(t)},o.clone=()=>pye(o),o.extendPlugin=(e,t)=>{const r=Zve({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,gye(Qve(Zve({},r),{__extensions:[...r.__extensions,e=>mye(t)?t(e):t]}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Qve(Zve({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,i.found||r.plugins.push(gye({key:e.key,__extensions:[e=>mye(t)?t(e):t]})),gye(r)},o}function vye(e={}){return gye(e)}var yye=({apply:e,node:t,path:r=[],query:n,source:i})=>{Cte([t,r],n)&&e(t,i instanceof Function?i():i),xte(t)&&t.children.forEach(((t,o)=>{yye({apply:e,node:t,path:r.concat([o]),query:n,source:i})}))},_ye=(e,t)=>{const r=[];return[...e.pluginList].reverse().forEach((e=>{var n;const i=null==(n=e.inject.plugins)?void 0:n[t.key];i&&r.push(i)})),[t,...r]},bye={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},xye={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},wye={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Eye=e=>{const t=bye[e],r=xye[e],n=wye[e],i=t&&Ase(t),o=r&&Ase(r),s=n&&Ase(n);return e=>!!(null==i?void 0:i(e))||!(!U5||!(null==o?void 0:o(e)))||!(U5||!(null==s?void 0:s(e)))},Cye={isBold:Eye("bold"),isCompose:Eye("compose"),isDeleteBackward:Eye("deleteBackward"),isDeleteForward:Eye("deleteForward"),isDeleteLineBackward:Eye("deleteLineBackward"),isDeleteLineForward:Eye("deleteLineForward"),isDeleteWordBackward:Eye("deleteWordBackward"),isDeleteWordForward:Eye("deleteWordForward"),isExtendBackward:Eye("extendBackward"),isExtendForward:Eye("extendForward"),isExtendLineBackward:Eye("extendLineBackward"),isExtendLineForward:Eye("extendLineForward"),isItalic:Eye("italic"),isMoveBackward:Eye("moveBackward"),isMoveForward:Eye("moveForward"),isMoveLineBackward:Eye("moveLineBackward"),isMoveLineForward:Eye("moveLineForward"),isMoveWordBackward:Eye("moveWordBackward"),isMoveWordForward:Eye("moveWordForward"),isRedo:Eye("redo"),isSoftBreak:Eye("insertSoftBreak"),isSplitBlock:Eye("splitBlock"),isTransposeCharacter:Eye("transposeCharacter"),isUndo:Eye("undo")};function Sye(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,getOption:(t,...n)=>e.getOption(r,t,...n),getOptions:()=>e.getOptions(r),plugin:r,setOption:(t,n)=>e.setOption(r,t,n),setOptions:t=>e.setOptions(r,t),tf:e.transforms,type:r.node.type}}var Aye=gye({key:"ast",parser:{deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch(whe){}return r},format:"application/x-slate-fragment"}}),Tye=gye({key:"dom"}),Dye=gye({key:"history",extendEditor:({editor:e})=>$ee(e)}),kye=gye({key:"inlineVoid",extendEditor:({editor:e})=>{const{isInline:t,isVoid:r,markableVoid:n}=e,i=[],o=[],s=[];return e.pluginList.forEach((e=>{e.node.isInline&&o.push(e.node.type),e.node.isVoid&&i.push(e.node.type),e.node.isMarkableVoid&&s.push(e.node.type)})),e.isInline=e=>!!o.includes(e.type)||t(e),e.isVoid=e=>!!i.includes(e.type)||r(e),e.markableVoid=e=>!!s.includes(e.type)||n(e),e}}),Pye=gye({key:"parser",extendEditor:({editor:e})=>{const{insertData:t}=e;return e.insertData=r=>{const n=[...e.pluginList].reverse().some((t=>{const n=t.parser;if(!n)return!1;const i=_ye(e,t),{deserialize:o,format:s,mimeTypes:a}=n;if(!s)return!1;const l=Array.isArray(s)?s:[s],u=a||l.map((e=>e.includes("/")?e:`text/${e}`));for(const c of u){let n=r.getData(c);if(!n)continue;if(!o_e(e,i,{data:n,dataTransfer:r}))continue;n=a_e(e,i,{data:n,dataTransfer:r});let s=null==o?void 0:o(Qve(Zve({},Sye(e,t)),{data:n,dataTransfer:r}));if((null==s?void 0:s.length)&&(s=l_e(e,i,{data:n,dataTransfer:r,fragment:s}),0!==s.length))return s_e(e,i,{data:n,dataTransfer:r,fragment:s}),!0}return!1}));n||t(r)},e}}),Bye=class extends Error{constructor(e,t="DEFAULT"){super(`[${t}] ${e}`),this.type=t,this.name="PlateError"}},Rye=vye({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},throwErrors:!0}}).extendEditorApi((({getOptions:e})=>{const t=["error","warn","info","log"],r=(r,n,i,o)=>{var s,a;const l=e();if((!l.isProduction||"log"!==r)&&t.indexOf(r)<=t.indexOf(l.logLevel)){if("error"===r&&l.throwErrors)throw n instanceof Error?n:new Bye(n,i);null==(a=(s=l.logger)[r])||a.call(s,n,i,o)}};return{debug:{error:(e,t,n)=>r("error",e,t,n),info:(e,t,n)=>r("info",e,t,n),log:(e,t,n)=>r("log",e,t,n),warn:(e,t,n)=>r("warn",e,t,n)}}})),Oye=e=>{((e,t)=>{due(e,Zve({at:[],nodes:e.api.create.value()},t))})(e),e.history.undos=[],e.history.redos=[],e.operations=[]},Fye=(e,t,r)=>{var n;const{defaultType:i=e.getType(Mye),type:o}=t,s=null!=(n=null==r?void 0:r.at)?n:e.selection;if(!o||!s)return;const a=Tte(e,Qve(Zve({},r),{match:{type:o}}));a&&o===i||e.setNodes({type:a?i:o},{at:s})},Mye=gye({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:e})=>"Consolas"!==e.style.fontFamily,rules:[{validNodeName:"P"}]}}}}),Iye=vye({key:"slateNext",extendEditor:({editor:e})=>{const{apply:t,deleteBackward:r,deleteForward:n,deleteFragment:i}=e;e.prevSelection=null,e.currentKeyboardEvent=null;const o=()=>{aue(e)&&cue(e)};return e.deleteBackward=e=>{r(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{i(e),o()},e.apply=r=>{if("set_selection"===r.type){const{properties:n}=r;return e.prevSelection=n,t(r),void(e.currentKeyboardEvent=null)}t(r)},e}}).extendEditorApi((({editor:e})=>({create:{block:(t,r)=>Zve({children:[{text:""}],type:e.getType(Mye)},t)}}))).extendEditorApi((({api:e})=>({create:{value:()=>[e.create.block()]}}))).extendEditorTransforms((({editor:e})=>({reset:()=>{Oye(e)},setValue:t=>{let r=t;"string"==typeof t?r=e.api.html.deserialize({element:t}):t&&0!==t.length||(r=e.api.create.value()),due(e,{at:[],nodes:r})},toggle:{block:z5(Fye,e),mark:z5(hue,e)}}))),Nye=e=>e.nodeType===Node.ELEMENT_NODE,Lye=e=>e.nodeType===Node.TEXT_NODE,Uye=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),jye=e=>{if(!Nye(e))return!1;const t=e,r=Uye.has(t.tagName),n=t.style.display.split(" ")[0];return""===n?r:!!n.startsWith("inline")||("inherit"===n&&t.parentElement?jye(t.parentElement):!!["contents","initial","none","revert","revert-layer","unset"].includes(n)&&r)},zye=e=>!!Nye(e)&&!jye(e),Gye=e=>{e.inlineFormattingContext=null},Vye=(e,t)=>{const r=e.textContent||"",n=""===r.trim();!t.inlineFormattingContext&&n||(e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}})(t);const{whiteSpaceRule:i}=t,o="normal"!==i?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",s="normal"===i?"collapse":(e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&zye(t))return!0;t=(null==t?void 0:t.nextSibling)||null}if(!t)return!0;if(zye(t))return!0;if((t.textContent||"").length>0)return!1}})(e)?"single-newline":"collapse",a={normal:!0,pre:!1,"pre-line":!0}[i],l=((e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:i=!0}={})=>("all"===n&&(e=e.replace(/^\s+/,"")),"single-newline"===r&&(e=e.replace(/\n$/,"")),t&&(e=i?e.replaceAll(/\s+/g," "):(e=(e=e.replaceAll(/[^\S\n\r]+/g," ")).replaceAll(/^[^\S\n\r]+/gm,"")).replaceAll(/[^\S\n\r]+$/gm,"")),e))(r||"",{shouldCollapseWhiteSpace:a,trimEnd:s,trimStart:o,whiteSpaceIncludesNewlines:"pre-line"!==i});t.inlineFormattingContext&&a&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=l.endsWith(" ")),e.textContent=l},Hye=(e,t)=>{Nye(e)?$ye(e,t):Lye(e)?Vye(e,t):Wye(e,t)},Wye=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)Hye(n,t)},$ye=(e,t)=>{const r=jye(e),n=t.whiteSpaceRule,i=(e=>{const t=e.style.whiteSpace;switch(t){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return"PRE"===e.tagName?"pre":"initial"===t?"normal":null})(e);i&&(t.whiteSpaceRule=i),r||Gye(t),Wye(e,t),r||Gye(t),t.whiteSpaceRule=n},Yye=(e,t)=>Array.from(t.childNodes).flatMap(Zye(e)),Xye=(e,t,{deserializeLeaf:r,element:n})=>{var i,o;const{node:{isElement:s,isLeaf:a,type:l},parsers:u}=t,c=null==(i=null==u?void 0:u.html)?void 0:i.deserializer;if(!c)return;const{attributeNames:d,isElement:h,isLeaf:f,query:p,rules:m}=c;let{parse:g}=c;const v=h||s,y=f||a;if(!r&&!v)return;if(r&&!y)return;if(m&&!m.some((({validAttribute:e,validClassName:r,validNodeName:i="*",validStyle:o})=>{var s;if(i){const e=Bse(i);if(e.length>0&&!e.includes(n.nodeName)&&"*"!==i)return!1}if(r&&!n.classList.contains(r))return!1;if(o)for(const[a,l]of Object.entries(o)){if(!Bse(l).includes(n.style[a])&&"*"!==l)return;if("*"===l&&!n.style[a])return;const e=null==(s=t.inject.nodeProps)?void 0:s.defaultNodeValue;if(e&&e===n.style[a])return!1}if(e)if("string"==typeof e){if(!n.getAttributeNames().includes(e))return!1}else for(const[t,a]of Object.entries(e)){const e=Bse(a),r=n.getAttribute(t);if(!j5(r)||!e.includes(r))return!1}return!0})))return;if(p&&!p(Qve(Zve({},Sye(e,t)),{element:n})))return;if(!g)if(v)g=()=>({type:l});else{if(!y)return;g=()=>({[l]:!0})}let _=null!=(o=g(Qve(Zve({},Sye(e,t)),{element:n,node:{}})))?o:{};if(0!==Object.keys(_).length){if(_ye(e,t).forEach((r=>{var i,o,s,a;const l=null==(a=null==(s=null==(o=null==(i=r.parsers)?void 0:i.html)?void 0:o.deserializer)?void 0:s.parse)?void 0:a.call(s,Qve(Zve({},Sye(e,t)),{element:n,node:_}));l&&(_=Zve(Zve({},_),l))})),d){const e={},t=n.getAttributeNames();for(const r of t)d.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length>0&&(_.attributes=e)}return Qve(Zve({},c),{node:_})}},qye=(e,t)=>{var r;const n=((e,t)=>{let r;return[...e.pluginList].reverse().some((n=>(r=Xye(e,n,{element:t}),!!r))),r})(e,t);if(n){const{node:i,withoutChildren:o}=n;let s=null!=(r=i.children)?r:Yye(e,t);return(0===s.length||o)&&(s=[{text:""}]),Oue("element",i,s)}},Kye=(e,t)=>{const r=((e,t)=>{let r={};return[...e.pluginList].reverse().forEach((n=>{const i=Xye(e,n,{deserializeLeaf:!0,element:t});i&&(r=Zve(Zve({},r),i.node))})),r})(e,t);return Yye(e,t).reduce(((e,t)=>{if(!t)return e;if(ote(t))Object.keys(r).length>0&&(e=>{yye(Qve(Zve({},e),{apply:Dse}))})({node:t,query:{filter:([e])=>dte(e)},source:r}),e.push(t);else{const n=Zve({},r);dte(t)&&t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(Oue("text",n,t))}return e}),[])},Zye=e=>t=>{const r=(e=>{if(Lye(e))return e.textContent||""})(t);if(r)return r;if(!Nye(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const i=((e,t)=>{if("BODY"===t.nodeName)return Oue("fragment",{},Yye(e,t))})(e,t);if(i)return i;const o=qye(e,t);return o||Kye(e,t)},Qye=(e,{collapseWhiteSpace:t=!0,element:r})=>{"string"==typeof r&&(r=(e=>{const t=document.createElement("body");return t.innerHTML=e,t})(r)),t&&(r=(e=>{const t=e.cloneNode(!0);return $ye(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t})(r));const n=((e,t)=>Zye(e)(t))(e,r);return r_e(e,{descendants:n})},Jye=gye({key:"html"}).extendApi((({editor:e})=>({deserialize:z5(Qye,e)}))).extend({parser:{deserialize:({api:e,data:t})=>{const r=(n=t,(new DOMParser).parseFromString(n,"text/html"));var n;return e.html.deserialize({element:r.body})},format:"text/html"}}),e_e=vye({key:"length",extendEditor:({editor:e,getOptions:t})=>{const{apply:r}=e;return e.apply=n=>{cte(e,(()=>{r(n);const i=t();if(i.maxLength){const t=gte(e,[]).length;if(t>i.maxLength){const r=t-i.maxLength;e.delete({distance:r,reverse:!0,unit:"character"})}}}))},e}}),t_e=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const i=n[r-1];return 0!==r&&t(e)!==t(i)})))(e,t),{fragment:i}=e.reduce(((e,i)=>{if(n&&t(i)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(i)}else e.fragment.push(i),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return i})(e=(e=>0===e.length?[{text:""}]:e)(e),t,r),e=e.map((e=>ote(e)?Qve(Zve({},e),{children:t_e(e.children,t,r)}):e)),e),r_e=(e,{descendants:t})=>{const r=(e=>t=>dte(t)||ote(t)&&e.isInline(t))(e),n=e.getType(Mye),i=(o=n,()=>({children:[],type:o}));var o;return t_e(t,r,i)},n_e=(e,t,r)=>{var n,i,o,s;const{key:a,inject:{nodeProps:l,targetPlugins:u}}=t,{className:c,element:d,style:h,text:f}=r,p=null!=d?d:f;if(!p)return;if(!l)return;const{classNames:m,defaultNodeValue:g,nodeKey:v=a,query:y,styleKey:_=v,transformClassName:b,transformNodeValue:x,transformProps:w,transformStyle:E,validNodeValues:C}=l,S=null==y?void 0:y(Qve(Zve(Zve({},l),Sye(e,t)),{nodeProps:r}));if(!S&&u&&ote(p)&&p.type&&!u.includes(((e,t)=>{var r;const n=Object.values(e.plugins).find((e=>e.node.type===t));return null!=(r=null==n?void 0:n.key)?r:t})(e,p.type)))return;const A=p[v];if(!S&&(!j5(A)||C&&!C.includes(A)||A===g))return;const T=Qve(Zve(Zve({},r),Sye(e,t)),{nodeValue:A}),D=null!=(n=null==x?void 0:x(T))?n:A;T.value=D;let k={};return d&&(k.className=uf(c,`slate-${v}-${A}`)),((null==m?void 0:m[A])||b)&&(k.className=null!=(i=null==b?void 0:b(T))?i:uf(c,null==m?void 0:m[D])),_&&(k.style=null!=(o=null==E?void 0:E(T))?o:Qve(Zve({},h),{[_]:D})),w&&(k=null!=(s=w(Qve(Zve({},T),{props:k})))?s:k),k},i_e=(e,t)=>(e.pluginList.forEach((r=>{if(r.inject.nodeProps){const n=n_e(e,r,t);n&&(t=Zve(Zve({},t),n))}})),Qve(Zve({},t),{editor:e})),o_e=(e,t,{data:r,dataTransfer:n})=>t.every((t=>{var i;const o=null==(i=t.parser)?void 0:i.query;return!o||o(Qve(Zve({},Sye(e,t)),{data:r,dataTransfer:n}))})),s_e=(e,t,r)=>{var n=r,{fragment:i}=n,o=Jve(n,["fragment"]);cte(e,(()=>{t.some((t=>{var r,n;return!0===(null==(n=null==(r=t.parser)?void 0:r.preInsert)?void 0:n.call(r,Zve(Qve(Zve({},Sye(e,t)),{fragment:i}),o)))})),e.insertFragment(i)}))},a_e=(e,t,{data:r,dataTransfer:n})=>(t.forEach((t=>{var i;const o=null==(i=t.parser)?void 0:i.transformData;o&&(r=o(Qve(Zve({},Sye(e,t)),{data:r,dataTransfer:n})))})),r),l_e=(e,t,r)=>{var n=r,{fragment:i}=n,o=Jve(n,["fragment"]);return t.forEach((t=>{var r;const n=null==(r=t.parser)?void 0:r.transformFragment;n&&(i=n(Zve(Zve({fragment:i},o),Sye(e,t))))})),i},u_e=(e,t)=>{var r,n,i,o;let s=pye({},t);if(s.__resolved=!0,s.__configuration){const t=s.__configuration(Sye(e,s));s=pye(s,t),delete s.__configuration}s.__extensions&&s.__extensions.length>0&&(s.__extensions.forEach((t=>{s=pye(s,t(Sye(e,s)))})),s.__extensions=[]);const a=null==(r=s.inject)?void 0:r.targetPluginToInject,l=null==(n=s.inject)?void 0:n.targetPlugins;return a&&l&&l.length>0&&(s.inject=s.inject||{},s.inject.plugins=Dse({},s.inject.plugins,Object.fromEntries(l.map((t=>[t,a(Qve(Zve({},Sye(e,s)),{targetPlugin:t}))]))))),(null==(i=s.node)?void 0:i.component)&&(s.render.node=s.node.component),(null==(o=s.render)?void 0:o.node)&&(s.node.component=s.render.node),c_e(e,s),s},c_e=(e,t)=>{t.__extensions||e.api.debug.error(`Invalid plugin '${t.key}', you should use createSlatePlugin.`,"USE_CREATE_PLUGIN"),t.node.isElement&&t.node.isLeaf&&e.api.debug.error(`Plugin ${t.key} cannot be both an element and a leaf.`,"PLUGIN_NODE_TYPE")},d_e=e=>{e.pluginList.forEach((t=>{let r=Ude(t.key)(t.options,{immer:{enableMapSet:!0}});t.__optionExtensions&&t.__optionExtensions.length>0&&t.__optionExtensions.forEach((n=>{const i=n(Sye(e,t));r=r.extendSelectors((()=>i))})),t.optionsStore=r}))},h_e=e=>{const t=[];e.pluginList.forEach((r=>{Object.entries(r.api).forEach((([t,r])=>{e.api[t]=r})),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach((({extension:t,isPluginSpecific:n,isTransform:i})=>{const o=t(Sye(e,r));i?n?(e.transforms[r.key]||(e.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),Dse(e.transforms[r.key],o),Dse(r.transforms[r.key],o)):(Dse(e.transforms,o),Dse(r.transforms,o)):n?(e.api[r.key]||(e.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),Dse(e.api[r.key],o),Dse(r.api[r.key],o)):(Dse(e.api,o),Dse(r.api,o))})),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach((([e,n])=>{var i;if(null===n){const r=t.findIndex((t=>t.key===e));-1!==r&&t.splice(r,1)}else{const o=null!=(i=n.priority)?i:r.priority,s=t.findIndex((t=>t.key===e));(-1===s||o>=t[s].priority)&&(-1!==s&&t.splice(s,1),t.push({key:e,hotkey:n,priority:o}))}}))})),t.sort(((e,t)=>t.hotkey.priority-e.hotkey.priority)),e.shortcuts=Object.fromEntries(t.map((({key:e,hotkey:t})=>[e,Jve(t,["priority"])])))},f_e=(e,t)=>{const r=((e,t)=>{const r=new Map,n=t=>{const i=u_e(e,t),o=r.get(i.key);o?r.set(i.key,pye(o,i)):r.set(i.key,i),i.plugins&&i.plugins.length>0&&i.plugins.forEach(n)};return t.forEach(n),r})(e,t),n=Array.from(r.values()).filter((e=>!1!==e.enabled));n.sort(((e,t)=>t.priority-e.priority));const i=[],o=new Set,s=t=>{var n;o.has(t.key)||(o.add(t.key),null==(n=t.dependencies)||n.forEach((n=>{const i=r.get(n);i?s(i):e.api.debug.warn(`Plugin "${t.key}" depends on missing plugin "${n}"`,"PLUGIN_DEPENDENCY_MISSING")})),i.push(t))};return n.forEach(s),i},p_e=(e,t)=>{e.pluginList=t,e.plugins=Object.fromEntries(t.map((e=>[e.key,e])))},m_e=e=>{const t=e=>{let r=[...e];const n={},i={},o={};for(const t of e)t.override.enabled&&Object.assign(n,t.override.enabled),t.override.components&&Object.entries(t.override.components).forEach((([e,r])=>{(!i[e]||t.priority>i[e].priority)&&(i[e]={component:r,priority:t.priority})})),t.override.plugins&&Object.entries(t.override.plugins).forEach((([e,t])=>{o[e]=pye(o[e],t),void 0!==t.enabled&&(n[e]=t.enabled)}));return r=r.map((e=>{var t;let r=Zve({},e);o[e.key]&&(r=pye(r,o[e.key])),i[e.key]&&(!e.render.node&&!e.node.component||i[e.key].priority>e.priority)&&(r.render.node=i[e.key].component,r.node.component=i[e.key].component);const s=null!=(t=n[e.key])?t:r.enabled;return j5(s)&&(r.enabled=s),r})),r.filter((e=>!1!==e.enabled)).map((e=>Qve(Zve({},e),{plugins:t(e.plugins||[])})))};e.pluginList=t(e.pluginList),e.plugins=Object.fromEntries(e.pluginList.map((e=>[e.key,e])))},g_e=(e,t={})=>{var r,n,i=t,{id:o,autoSelect:s,maxLength:a,plugins:l=[],rootPlugin:u,selection:c,shouldNormalizeEditor:d,value:h}=i,f=Jve(i,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]);const p=e;p.id=null!=o?o:p.id,p.key=null!=(r=p.key)?r:Math.random(),p.isFallback=!1,p.getApi=()=>p.api,p.getTransforms=()=>p.transforms,p.getPlugin=e=>function(e,t){let r=t;const n=e.plugins[t.key];return n||(r.node||(r=gye(r)),r.__resolved?r:u_e(e,r))}(p,e),p.getType=e=>function(e,t){var r,n;const i=e.getPlugin(t);return null!=(n=null!=(r=i.node.type)?r:i.key)?n:""}(p,e),p.getInjectProps=e=>{var t,r;return null!=(r=null==(t=p.getPlugin(e).inject)?void 0:t.nodeProps)?r:{}},p.getOptionsStore=e=>p.getPlugin(e).optionsStore,p.getOptions=e=>p.getOptionsStore(e)?p.getOptionsStore(e).get.state():p.getPlugin(e).options,p.getOption=(e,t,...r)=>{const n=p.getOptionsStore(e);if(!n)return p.getPlugin(e).options[t];const i=n.get[t];if(i)return i(...r);p.api.debug.error(`editor.getOption: ${t} option is not defined in plugin ${e.key}.`,"OPTION_UNDEFINED")},p.setOption=(e,t,r)=>{const n=p.getOptionsStore(e);if(!n)return;const i=n.set[t];i?i(r):p.api.debug.error(`editor.setOption: ${t} option is not defined in plugin ${e.key}.`,"OPTION_UNDEFINED")},p.setOptions=(e,t)=>{const r=p.getOptionsStore(e);r&&("object"==typeof t?r.set.mergeState(t):"function"==typeof t&&r.set.state(t))};const m=(({maxLength:e,plugins:t=[]})=>{let r=[Rye,Iye,Tye,Dye,kye,Pye,e?e_e.configure({options:{maxLength:e}}):e_e,Jye,Aye,Mye];const n=new Map(t.map((e=>[e.key,e])));return r=r.map((e=>{const r=n.get(e.key);if(r){const n=t.findIndex((t=>t.key===e.key));return-1!==n&&t.splice(n,1),r}return e})),r})({maxLength:a,plugins:l});let g=gye(Qve(Zve({key:"root",priority:1e4},f),{plugins:[...m,...l]}));if(u&&(g=u(g)),((e,t=[])=>{e.pluginList=[],e.plugins={},e.api={},e.transforms={},e.tf=e.transforms,e.shortcuts={};const r=f_e(e,t);p_e(e,r),m_e(e),d_e(e),h_e(e),e.pluginList.forEach((t=>{t.extendEditor&&(e=t.extendEditor(Sye(e,t)))}))})(p,[g]),"string"==typeof h?p.children=p.api.html.deserialize({element:h}):h&&(p.children=h),0===(null==(n=p.children)?void 0:n.length)&&(p.children=p.api.create.value()),c)p.selection=c;else if(s){const e="start"==("start"===s?"start":"end")?mte(p,[]):pte(p,[]);fte(p,e)}return h&&(e=>{const t=e.children;let r=rde(t);e.pluginList.forEach((t=>{var n;const i=null==(n=t.normalizeInitialValue)?void 0:n.call(t,Qve(Zve({},Sye(e,t)),{value:r}));i&&(r=i)})),!ide(t,r)&&r&&(e.children=r)})(p),d&&((e,t)=>{y9.normalize(e,t)})(p,{force:!0}),p},v_e=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function y_e(e,t){const r=Zve({},e);return v_e.forEach((e=>{const t=r[e];r[e]=(...e)=>y_e(t(...e))})),r.withComponent=e=>r.extend({node:{component:e},render:{node:e}}),t?r.extend(t):r}var __e=(e={})=>y_e(gye(e));function b_e(e,t){return Qve(Zve({},Sye(e,t)),{useOption:(r,...n)=>e.useOption(t,r,...n)})}var x_e=e=>Jve(e,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),w_e=function(e={}){return __e(e)}({key:"plateApi",dependencies:["debug"]}).extendEditorApi((({editor:e})=>({redecorate:()=>{e.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}}))),E_e=y_e(Iye,{handlers:{onKeyDown:({editor:e,event:t})=>{t.persist(),e.currentKeyboardEvent=t}}}),C_e=Ude("event-editor")({blur:null,focus:null,last:null}),S_e=C_e.set,A_e=C_e.get;C_e.use;var T_e=__e({key:"eventEditor",handlers:{onBlur:({editor:e})=>{A_e.focus()===e.id&&S_e.focus(null),S_e.blur(e.id),document.dispatchEvent(new CustomEvent("blur-editor-event",{detail:{id:e.id}}))},onFocus:({editor:e})=>{S_e.focus(e.id),document.dispatchEvent(new CustomEvent("focus-editor-event",{detail:{id:e.id}}))}}}),D_e=e("dk",y_e(Mye,(({editor:e,type:t})=>({shortcuts:{toggleParagraph:{keys:[[B5,P5,"0"],[B5,R5,"0"]],preventDefault:!0,handler:()=>{e.tf.toggle.block({type:t})}}}})))),k_e=gye({key:"dom",extendEditor:({editor:e})=>jme(e)}).extendEditorTransforms((({editor:e})=>{const{reset:t}=e.tf;return{reset:()=>{const r=(e=>ype.isFocused(e))(e);t(),r&&((e,{edge:t="start"}={})=>{const r="start"===t?mte(e,[]):pte(e,[]);Gme(e,r)})(e,{edge:"start"})}}})),P_e=(e={})=>{var t=e,{editor:r=ite()}=t;return((e,t={})=>{var r=t,{plugins:n=[]}=r,i=Jve(r,["plugins"]);const o=g_e(e,Qve(Zve({},i),{plugins:[E_e,k_e,T_e,w_e,D_e,...n]}));return o.useOptions=(e,t,r)=>{const n=o.getOptionsStore(e);return n||o.api.debug.error(`editor.useOptions: ${e.key} plugin is missing`,"PLUGIN_MISSING"),n.useStore(t,r)},o.useOption=(e,t,...r)=>{const n=o.getOptionsStore(e);n||o.api.debug.error(`editor.useOption: ${e.key} plugin is missing`,"PLUGIN_MISSING");const i=null==n?void 0:n.use[t];if(i)return i(...r);o.api.debug.error(`editor.useOption: ${t} option is not defined in plugin ${e.key}`,"OPTION_UNDEFINED")},o})(r,Jve(t,["editor"]))},B_e=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R_e=({attributes:e,editor:t,plugin:r,props:n})=>{var i,o;let s={};r.node.props&&(s=null!=(i="function"==typeof r.node.props?r.node.props(n):r.node.props)?i:{}),!s.nodeProps&&e&&(s.nodeProps=pge(e,null!=(o=r.node.dangerouslyAllowAttributes)?o:[])),(n=Zve(Zve({},n),s)).nodeProps&&Object.keys(n.nodeProps).forEach((e=>{var t,r;void 0===(null==(t=n.nodeProps)?void 0:t[e])&&(null==(r=n.nodeProps)||delete r[e])}));const{className:a}=n;return Zve(Qve(Zve({},n),{className:uf((l=r.node.type,`slate-${l}`),a)}),b_e(t,r));var l},O_e=e=>(t,r,{composing:n}={})=>!!Eye(e)(r)&&!!n===(e=>ype.isComposing(e))(t);Qve(Zve({},Cye),{isTab:O_e("tab"),isUntab:O_e("untab")});var F_e=(e,{editableProps:t,handlerKey:r})=>{const n=null==t?void 0:t[r],i=e.pluginList.filter((e=>{var t;return null==(t=e.handlers)?void 0:t[r]}));if(0!==i.length||n)return t=>{const o=t instanceof Event?(e=>{let t=!1;return Qve(Zve({},e),{bubbles:e.bubbles,cancelable:e.cancelable,currentTarget:e.currentTarget,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>t,isTrusted:e.isTrusted,nativeEvent:e,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>e.preventDefault(),stopPropagation:()=>{t=!0,e.stopPropagation()},target:e.target,timeStamp:e.timeStamp,type:e.type})})(t):t;return!!i.some((t=>{const n=(0,t.handlers[r])(Qve(Zve({},b_e(e,t)),{event:o}));return null!=n&&n}))||((e,t)=>{if(!t)return!1;const r=t(e);return null!=r?r:e.isPropagationStopped()})(o,n)}},{ElementProvider:M_e,useElementStore:I_e}=M7({element:null},{name:"element"}),N_e=(e,t)=>{const r=[];return e.pluginList.forEach((t=>{t.node.isElement&&r.push(((e,t)=>function(r){const{key:n,render:{node:i}}=t,{children:o,element:s}=r;if(s.type===t.node.type){const a=null!=i?i:rme,l=e.pluginList.flatMap((e=>{var t,r;return null!=(r=null==(t=e.render)?void 0:t.aboveNodes)?r:[]})),u=e.pluginList.flatMap((e=>{var t,r;return null!=(r=null==(t=e.render)?void 0:t.belowNodes)?r:[]}));r=R_e({attributes:s.attributes,editor:e,plugin:t,props:r});let c=o;u.forEach((e=>{const t=e(Qve(Zve({},r),{key:n}));t&&(c=t(Qve(Zve({},r),{children:c})))}));let d=W.createElement(a,Zve({},r),c);return l.forEach((e=>{const t=e(Qve(Zve({},r),{key:n}));t&&(d=t(Qve(Zve({},r),{children:d})))})),W.createElement(M_e,{element:s,scope:n},d)}})(e,t))})),function(n){const i=i_e(e,n);let o;return r.some((e=>(o=e(i),!!o))),o||(t?t(i):W.createElement(rme,Zve({},i)))}},L_e=(e,t)=>{const r=[];return e.pluginList.forEach((t=>{t.node.isLeaf&&t.key&&r.push(((e,t)=>function(r){var n;const{render:{node:i}}=t,{children:o,leaf:s}=r;if(s[null!=(n=t.node.type)?n:t.key]){const n=null!=i?i:eye,a=R_e({attributes:s.attributes,editor:e,plugin:t,props:r});return W.createElement(n,Zve({},a),o)}return o})(e,t))})),function(n){const i=i_e(e,n);return r.forEach((e=>{const t=e(i);void 0!==t&&(i.children=t)})),t?t(i):W.createElement(eye,Zve({},i))}},U_e=e("d6",((e,t={})=>{var r;return null!=(r=dye(e,Zve({debugHookName:"useEditorRef"},t)).editor())?r:((e={})=>{const t=P_e(e);return t.isFallback=!0,t.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},t})()}));function j_e({id:e,editableRef:t}){const r=U_e(e);return W.createElement(W.Fragment,null,Object.entries(r.shortcuts).map((([r,n])=>n&&j5(n.keys)&&n.handler?W.createElement(z_e,{id:e,key:r,editableRef:t,hotkeyConfig:n}):null)))}function z_e({id:e,editableRef:t,hotkeyConfig:r}){const n=U_e(e),i=r,{keys:o,handler:s}=i,a=Jve(i,["keys","handler"]),l=L5(o,((e,t)=>{s({editor:n,event:e,eventDetails:t})}),Zve({enableOnContentEditable:!0},a),[]);return H.useEffect((()=>{t.current&&l(t.current)}),[l,t]),null}e("db",((e="element")=>{const t=U_e(),r=I_e(e).get.element();return r||(t.api.debug.warn(`useElement(${e}) hook must be used inside the node component's context`,"USE_ELEMENT_CONTEXT"),{})}));var G_e=({id:e})=>{const t=U_e(e),r=((e,t={})=>{const r=fye("versionDecorate",e,Zve({debugHookName:"useRedecorate"},t));return W.useCallback((()=>{r()}),[r])})(e),n=uye(e),i=Object.fromEntries(tye.map((e=>[e,n.set[e]()]))),o=W.useMemo((()=>i),[]);return W.useEffect((()=>{t.api.redecorate=r,t.setPlateState=(e,t)=>{var r;const n=o;null==(r=n[e])||r.call(n,t)}}),[t,r,o]),null};function V_e({id:e,plugin:t}){var r;const n=U_e(e);return null==(r=t.useHooks)||r.call(t,b_e(n,t)),null}function H_e({id:e}){const t=dye(e).editor(),r=hye(e).isMounted();return W.useEffect((()=>(r(!0),()=>{r(!1)})),[r]),W.createElement(W.Fragment,null,t.pluginList.map((t=>W.createElement(V_e,{id:e,key:t.key,plugin:t}))))}var W_e=W.memo((({id:e})=>{const t=ume(),r=fye("versionEditor",e);W.useEffect((()=>{r()}));const n=fye("versionSelection",e),i=W.useRef(t.selection),o=$_e(i.current,t.selection);return W.useEffect((()=>{o||n(),i.current=t.selection}),[t.selection,o,n]),null})),$_e=(e,t)=>!e&&!t||!(!e||!t)&&a9.equals(e,t);function Y_e({children:e,decorate:t,editor:r,primary:n,readOnly:i,renderElement:o,renderLeaf:s,onChange:a,onSelectionChange:l,onValueChange:u}){return W.createElement(aye,{readOnly:i,onChange:a,onSelectionChange:l,onValueChange:u,decorate:t,editor:r,primary:n,renderElement:o,renderLeaf:s,scope:r.id},e)}var X_e=(e={})=>{const{id:t}=e,r=U_e(t),n=dye(t),i=n.versionDecorate(),o=n.readOnly(),s=n.decorate(),a=n.renderLeaf(),l=n.renderElement(),u=W.useMemo((()=>((e,t)=>{const r=e.pluginList.filter((e=>e.decorate));if(0!==r.length||t)return n=>{let i=[];const o=e=>{(null==e?void 0:e.length)&&(i=[...i,...e])};return r.forEach((t=>{o(t.decorate(Qve(Zve({},b_e(e,t)),{entry:n})))})),t&&o(t({editor:e,entry:n})),i}})(r,null!=s?s:null==e?void 0:e.decorate)),[null==e?void 0:e.decorate,r,s]),c=W.useMemo((()=>{if(i&&u)return e=>u(e)}),[u,i]),d=W.useMemo((()=>N_e(r,null!=l?l:null==e?void 0:e.renderElement)),[null==e?void 0:e.renderElement,r,l]),h=W.useMemo((()=>L_e(r,null!=a?a:null==e?void 0:e.renderLeaf)),[null==e?void 0:e.renderLeaf,r,a]),f=tve((()=>{const t={decorate:c,renderElement:d,renderLeaf:h};return j5(o)&&(t.readOnly=o),B_e.forEach((n=>{const i=F_e(r,{editableProps:e,handlerKey:n});i&&(t[n]=i)})),t}),[c,e,d,h,o]);return tve((()=>Zve(Zve({},Zge(e,[...B_e,"renderElement","renderLeaf","decorate"])),f)),[e,f])},q_e=({id:e})=>{const t=U_e(e),r=dye(e).onChange(),n=dye(e).onValueChange(),i=dye(e).onSelectionChange(),o=W.useCallback((e=>{const n=((e,t)=>e.pluginList.some((r=>{const n=r.handlers.onChange;if(!n)return!1;const i=n(Qve(Zve({},b_e(e,r)),{value:t}));return null!=i&&i})))(t,e);n||null==r||r({editor:t,value:e})}),[t,r]),s=W.useMemo((()=>e=>{null==n||n({editor:t,value:e})}),[t,n]),a=W.useMemo((()=>e=>{null==i||i({editor:t,selection:e})}),[t,i]);return W.useMemo((()=>({key:t.key,editor:t,initialValue:t.children,value:t.children,onChange:o,onSelectionChange:a,onValueChange:s})),[t,o,a,s])},K_e=({id:e})=>{const t=dye(void 0,{debugHookName:"useEditorId"}).editor().id,r=null!=e?e:t,n=W.useMemo((()=>Gve(nye.atom.editorStores,(e=>e.prop(r)))),[r]),i=oye().atom(n,{warnIfNoStore:!1}),o=uye(r).store(),s=dye(r).primary(),a=oye().primaryEditorIds({warnIfNoStore:!1}),l=Rme(),u=oye().activeId({warnIfNoStore:!1});return W.useEffect((()=>(i(null!=o?o:null),()=>{i(null),u((e=>e===r?null:e))})),[o,i,u,r]),W.useEffect((()=>{if(s)return a((e=>[...e,r])),()=>{a((e=>e.filter((e=>e!==r))))}}),[r,s,a]),W.useEffect((()=>{r&&l&&u(r)}),[r,l,u]),null};function Z_e({id:e,children:t}){var r;const n=q_e({id:e}),i=U_e(e);let o=W.createElement(Mme,Zve({},n),t);return null==(r=i.pluginList)||r.forEach((e=>{const{render:{aboveSlate:t}}=e;t&&(o=W.createElement(t,null,o))})),o}var Q_e=e("cC",W.forwardRef(((e,t)=>{var r=e,{renderEditable:n}=r,i=Jve(r,["renderEditable"]);const{id:o}=i,s=U_e(o);if(!s)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const a=X_e(i),l=H.useRef(null),u=Dge(t,l),c=W.createElement(Cme,Zve({ref:u},a));let d=null,h=null;s.pluginList.forEach((e=>{const{render:{afterEditable:t,beforeEditable:r}}=e;t&&(d=W.createElement(W.Fragment,null,d,W.createElement(t,Zve({},a)))),r&&(h=W.createElement(W.Fragment,null,h,W.createElement(r,Zve({},a))))}));let f=W.createElement(W.Fragment,null,h,n?n(c):c,W.createElement(G_e,{id:o}),W.createElement(j_e,{id:o,editableRef:l}),W.createElement(W_e,{id:o}),W.createElement(H_e,{id:o}),W.createElement(K_e,{id:o}),d);return s.pluginList.forEach((e=>{const{render:{aboveEditable:t}}=e;t&&(f=W.createElement(t,null,f))})),W.createElement(Z_e,{id:o},f)})));Q_e.displayName="PlateContent";var J_e=Object.defineProperty,ebe=Object.defineProperties,tbe=Object.getOwnPropertyDescriptors,rbe=Object.getOwnPropertySymbols,nbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,obe=(e,t,r)=>t in e?J_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sbe=(e,t)=>{for(var r in t||(t={}))nbe.call(t,r)&&obe(e,r,t[r]);if(rbe)for(var r of rbe(t))ibe.call(t,r)&&obe(e,r,t[r]);return e},abe=(e,t)=>ebe(e,tbe(t)),lbe=(e,t)=>{var r={};for(var n in e)nbe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&rbe)for(var n of rbe(e))t.indexOf(n)<0&&ibe.call(e,n)&&(r[n]=e[n]);return r},ube=e("dd",W.forwardRef(((e,t)=>{const{props:r,ref:n}=(e=>{const t=x_e(e),{attributes:r,element:n,elementToAttributes:i,nodeProps:o}=t,s=lbe(t,["attributes","element","elementToAttributes","nodeProps"]);return{props:abe(sbe(sbe(sbe(sbe({},r),s),o),null==i?void 0:i(n)),{className:uf(e.className,null==o?void 0:o.className)}),ref:Dge(e.ref,r.ref)}})(abe(sbe({},e),{ref:t}));return W.createElement(Age,abe(sbe({},r),{ref:n}))})));ube.displayName="PlateElement";var cbe=W.forwardRef(((e,t)=>{const{props:r,ref:n}=(e=>{const t=x_e(e),{attributes:r,leaf:n,leafToAttributes:i,nodeProps:o,text:s}=t,a=lbe(t,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:abe(sbe(sbe(sbe(sbe({},r),a),o),null==i?void 0:i(n)),{className:uf(e.className,null==o?void 0:o.className)}),ref:Dge(e.ref,r.ref)}})(abe(sbe({},e),{ref:t}));return W.createElement(Tge,abe(sbe({},r),{ref:n}))}));cbe.displayName="PlateLeaf",e("di",(e=>{if(!e)return{props:{}};const{preventDefaultOnEnterKeydown:t}=e;return{props:{onKeyDownCapture:t?e=>(e=>{"Enter"!==e.key&&13!==e.keyCode||e.preventDefault()})(e):void 0}}}));var dbe=joe,hbe=pre,fbe=function e(t,r,n,i,o,s){return hbe(t)&&hbe(r)&&(s.set(r,t),dbe(t,r,void 0,e,s),s.delete(r)),t},pbe=Goe,mbe=fbe,gbe=hse;rse((function(e){return e.push(void 0,mbe),pbe(gbe,void 0,e)}));var vbe=Object.defineProperty,ybe=Object.defineProperties,_be=Object.getOwnPropertyDescriptors,bbe=Object.getOwnPropertySymbols,xbe=Object.prototype.hasOwnProperty,wbe=Object.prototype.propertyIsEnumerable,Ebe=(e,t,r)=>t in e?vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cbe=(e,t)=>{for(var r in t||(t={}))xbe.call(t,r)&&Ebe(e,r,t[r]);if(bbe)for(var r of bbe(t))wbe.call(t,r)&&Ebe(e,r,t[r]);return e},Sbe=(e,t)=>ybe(e,_be(t)),Abe=(e,t)=>{var r={};for(var n in e)xbe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&bbe)for(var n of bbe(e))t.indexOf(n)<0&&wbe.call(e,n)&&(r[n]=e[n]);return r};function Tbe(e,...t){return fse({},e,...t,((e,t,r)=>Array.isArray(t)?t:"options"===r?Cbe(Cbe({},e),t):void 0))}function Dbe(e){return"function"==typeof e}function kbe(e={}){var t;let r,n;Dbe(e)?(r={key:""},n=t=>e(t)):r=e;const i=null!=(t=r.key)?t:"",o=Tbe({key:i,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:i},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},e);return o.configure=e=>{const t=Cbe({},o);return t.__configuration=t=>Dbe(e)?e(t):e,kbe(t)},o.configurePlugin=(e,t)=>{const r=Cbe({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,kbe(Sbe(Cbe({},r),{__configuration:e=>Dbe(t)?t(e):t}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Sbe(Cbe({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,kbe(r)},o.extendEditorApi=e=>{const t=Cbe({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1}],kbe(t)},o.extendOptions=e=>{const t=Cbe({},o);return t.__optionExtensions=[...t.__optionExtensions,e],kbe(t)},o.extendApi=e=>{const t=Cbe({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0}],kbe(t)},o.extendEditorTransforms=e=>{const t=Cbe({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1,isTransform:!0}],kbe(t)},o.extendTransforms=e=>{const t=Cbe({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0,isTransform:!0}],kbe(t)},o.extend=e=>{let t=Cbe({},o);return Dbe(e)?t.__extensions=[...t.__extensions,e]:t=Tbe(t,e),kbe(t)},o.clone=()=>Tbe(o),o.extendPlugin=(e,t)=>{const r=Cbe({},o),n=r=>{let i=!1;const o=r.map((r=>{if(r.key===e.key)return i=!0,kbe(Sbe(Cbe({},r),{__extensions:[...r.__extensions,e=>Dbe(t)?t(e):t]}));if(r.plugins&&r.plugins.length>0){const e=n(r.plugins);if(e.found)return i=!0,Sbe(Cbe({},r),{plugins:e.plugins})}return r}));return{found:i,plugins:o}},i=n(r.plugins);return r.plugins=i.plugins,i.found||r.plugins.push(kbe({key:e.key,__extensions:[e=>Dbe(t)?t(e):t]})),kbe(r)},o}function Pbe(e={}){return kbe(e)}var Bbe=({apply:e,node:t,path:r=[],query:n,source:i})=>{Cte([t,r],n)&&e(t,i instanceof Function?i():i),xte(t)&&t.children.forEach(((t,o)=>{Bbe({apply:e,node:t,path:r.concat([o]),query:n,source:i})}))},Rbe=(e,t)=>{const r=[];return[...e.pluginList].reverse().forEach((e=>{var n;const i=null==(n=e.inject.plugins)?void 0:n[t.key];i&&r.push(i)})),[t,...r]},Obe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},Fbe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Mbe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Ibe=e=>{const t=Obe[e],r=Fbe[e],n=Mbe[e],i=t&&Ase(t),o=r&&Ase(r),s=n&&Ase(n);return e=>!!(null==i?void 0:i(e))||!(!U5||!(null==o?void 0:o(e)))||!(U5||!(null==s?void 0:s(e)))};function Nbe(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,getOption:(t,...n)=>e.getOption(r,t,...n),getOptions:()=>e.getOptions(r),plugin:r,setOption:(t,n)=>e.setOption(r,t,n),setOptions:t=>e.setOptions(r,t),tf:e.transforms,type:r.node.type}}Ibe("bold"),Ibe("compose"),Ibe("deleteBackward"),Ibe("deleteForward"),Ibe("deleteLineBackward"),Ibe("deleteLineForward"),Ibe("deleteWordBackward"),Ibe("deleteWordForward"),Ibe("extendBackward"),Ibe("extendForward"),Ibe("extendLineBackward"),Ibe("extendLineForward"),Ibe("italic"),Ibe("moveBackward"),Ibe("moveForward"),Ibe("moveLineBackward"),Ibe("moveLineForward"),Ibe("moveWordBackward"),Ibe("moveWordForward"),Ibe("redo"),Ibe("insertSoftBreak"),Ibe("splitBlock"),Ibe("transposeCharacter"),Ibe("undo"),kbe({key:"ast",parser:{deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch(whe){}return r},format:"application/x-slate-fragment"}}),kbe({key:"dom"}),kbe({key:"history",extendEditor:({editor:e})=>$ee(e)}),kbe({key:"inlineVoid",extendEditor:({editor:e})=>{const{isInline:t,isVoid:r,markableVoid:n}=e,i=[],o=[],s=[];return e.pluginList.forEach((e=>{e.node.isInline&&o.push(e.node.type),e.node.isVoid&&i.push(e.node.type),e.node.isMarkableVoid&&s.push(e.node.type)})),e.isInline=e=>!!o.includes(e.type)||t(e),e.isVoid=e=>!!i.includes(e.type)||r(e),e.markableVoid=e=>!!s.includes(e.type)||n(e),e}}),kbe({key:"parser",extendEditor:({editor:e})=>{const{insertData:t}=e;return e.insertData=r=>{const n=[...e.pluginList].reverse().some((t=>{const n=t.parser;if(!n)return!1;const i=Rbe(e,t),{deserialize:o,format:s,mimeTypes:a}=n;if(!s)return!1;const l=Array.isArray(s)?s:[s],u=a||l.map((e=>e.includes("/")?e:`text/${e}`));for(const c of u){let n=r.getData(c);if(!n)continue;if(!sxe(e,i,{data:n,dataTransfer:r}))continue;n=lxe(e,i,{data:n,dataTransfer:r});let s=null==o?void 0:o(Sbe(Cbe({},Nbe(e,t)),{data:n,dataTransfer:r}));if((null==s?void 0:s.length)&&(s=uxe(e,i,{data:n,dataTransfer:r,fragment:s}),0!==s.length))return axe(e,i,{data:n,dataTransfer:r,fragment:s}),!0}return!1}));n||t(r)},e}});var Lbe=class extends Error{constructor(e,t="DEFAULT"){super(`[${t}] ${e}`),this.type=t,this.name="PlateError"}};Pbe({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},throwErrors:!0}}).extendEditorApi((({getOptions:e})=>{const t=["error","warn","info","log"],r=(r,n,i,o)=>{var s,a;const l=e();if((!l.isProduction||"log"!==r)&&t.indexOf(r)<=t.indexOf(l.logLevel)){if("error"===r&&l.throwErrors)throw n instanceof Error?n:new Lbe(n,i);null==(a=(s=l.logger)[r])||a.call(s,n,i,o)}};return{debug:{error:(e,t,n)=>r("error",e,t,n),info:(e,t,n)=>r("info",e,t,n),log:(e,t,n)=>r("log",e,t,n),warn:(e,t,n)=>r("warn",e,t,n)}}}));var Ube=e=>{((e,t)=>{due(e,Cbe({at:[],nodes:e.api.create.value()},t))})(e),e.history.undos=[],e.history.redos=[],e.operations=[]},jbe=(e,t,r)=>{var n;const{defaultType:i=e.getType(zbe),type:o}=t,s=null!=(n=null==r?void 0:r.at)?n:e.selection;if(!o||!s)return;const a=Tte(e,Sbe(Cbe({},r),{match:{type:o}}));a&&o===i||e.setNodes({type:a?i:o},{at:s})},zbe=kbe({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:e})=>"Consolas"!==e.style.fontFamily,rules:[{validNodeName:"P"}]}}}});Pbe({key:"slateNext",extendEditor:({editor:e})=>{const{apply:t,deleteBackward:r,deleteForward:n,deleteFragment:i}=e;e.prevSelection=null,e.currentKeyboardEvent=null;const o=()=>{aue(e)&&cue(e)};return e.deleteBackward=e=>{r(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{i(e),o()},e.apply=r=>{if("set_selection"===r.type){const{properties:n}=r;return e.prevSelection=n,t(r),void(e.currentKeyboardEvent=null)}t(r)},e}}).extendEditorApi((({editor:e})=>({create:{block:(t,r)=>Cbe({children:[{text:""}],type:e.getType(zbe)},t)}}))).extendEditorApi((({api:e})=>({create:{value:()=>[e.create.block()]}}))).extendEditorTransforms((({editor:e})=>({reset:()=>{Ube(e)},setValue:t=>{let r=t;"string"==typeof t?r=e.api.html.deserialize({element:t}):t&&0!==t.length||(r=e.api.create.value()),due(e,{at:[],nodes:r})},toggle:{block:z5(jbe,e),mark:z5(hue,e)}})));var Gbe=e=>e.nodeType===Node.ELEMENT_NODE,Vbe=e=>e.nodeType===Node.TEXT_NODE,Hbe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),Wbe=e=>{if(!Gbe(e))return!1;const t=e,r=Hbe.has(t.tagName),n=t.style.display.split(" ")[0];return""===n?r:!!n.startsWith("inline")||("inherit"===n&&t.parentElement?Wbe(t.parentElement):!!["contents","initial","none","revert","revert-layer","unset"].includes(n)&&r)},$be=e=>!!Gbe(e)&&!Wbe(e),Ybe=e=>{e.inlineFormattingContext=null},Xbe=(e,t)=>{const r=e.textContent||"",n=""===r.trim();!t.inlineFormattingContext&&n||(e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}})(t);const{whiteSpaceRule:i}=t,o="normal"!==i?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",s="normal"===i?"collapse":(e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&$be(t))return!0;t=(null==t?void 0:t.nextSibling)||null}if(!t)return!0;if($be(t))return!0;if((t.textContent||"").length>0)return!1}})(e)?"single-newline":"collapse",a={normal:!0,pre:!1,"pre-line":!0}[i],l=((e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:i=!0}={})=>("all"===n&&(e=e.replace(/^\s+/,"")),"single-newline"===r&&(e=e.replace(/\n$/,"")),t&&(e=i?e.replaceAll(/\s+/g," "):(e=(e=e.replaceAll(/[^\S\n\r]+/g," ")).replaceAll(/^[^\S\n\r]+/gm,"")).replaceAll(/[^\S\n\r]+$/gm,"")),e))(r||"",{shouldCollapseWhiteSpace:a,trimEnd:s,trimStart:o,whiteSpaceIncludesNewlines:"pre-line"!==i});t.inlineFormattingContext&&a&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=l.endsWith(" ")),e.textContent=l},qbe=(e,t)=>{Gbe(e)?Zbe(e,t):Vbe(e)?Xbe(e,t):Kbe(e,t)},Kbe=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)qbe(n,t)},Zbe=(e,t)=>{const r=Wbe(e),n=t.whiteSpaceRule,i=(e=>{const t=e.style.whiteSpace;switch(t){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return"PRE"===e.tagName?"pre":"initial"===t?"normal":null})(e);i&&(t.whiteSpaceRule=i),r||Ybe(t),Kbe(e,t),r||Ybe(t),t.whiteSpaceRule=n},Qbe=(e,t)=>Array.from(t.childNodes).flatMap(rxe(e)),Jbe=(e,t,{deserializeLeaf:r,element:n})=>{var i,o;const{node:{isElement:s,isLeaf:a,type:l},parsers:u}=t,c=null==(i=null==u?void 0:u.html)?void 0:i.deserializer;if(!c)return;const{attributeNames:d,isElement:h,isLeaf:f,query:p,rules:m}=c;let{parse:g}=c;const v=h||s,y=f||a;if(!r&&!v)return;if(r&&!y)return;if(m&&!m.some((({validAttribute:e,validClassName:r,validNodeName:i="*",validStyle:o})=>{var s;if(i){const e=Bse(i);if(e.length>0&&!e.includes(n.nodeName)&&"*"!==i)return!1}if(r&&!n.classList.contains(r))return!1;if(o)for(const[a,l]of Object.entries(o)){if(!Bse(l).includes(n.style[a])&&"*"!==l)return;if("*"===l&&!n.style[a])return;const e=null==(s=t.inject.nodeProps)?void 0:s.defaultNodeValue;if(e&&e===n.style[a])return!1}if(e)if("string"==typeof e){if(!n.getAttributeNames().includes(e))return!1}else for(const[t,a]of Object.entries(e)){const e=Bse(a),r=n.getAttribute(t);if(!j5(r)||!e.includes(r))return!1}return!0})))return;if(p&&!p(Sbe(Cbe({},Nbe(e,t)),{element:n})))return;if(!g)if(v)g=()=>({type:l});else{if(!y)return;g=()=>({[l]:!0})}let _=null!=(o=g(Sbe(Cbe({},Nbe(e,t)),{element:n,node:{}})))?o:{};if(0!==Object.keys(_).length){if(Rbe(e,t).forEach((r=>{var i,o,s,a;const l=null==(a=null==(s=null==(o=null==(i=r.parsers)?void 0:i.html)?void 0:o.deserializer)?void 0:s.parse)?void 0:a.call(s,Sbe(Cbe({},Nbe(e,t)),{element:n,node:_}));l&&(_=Cbe(Cbe({},_),l))})),d){const e={},t=n.getAttributeNames();for(const r of t)d.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length>0&&(_.attributes=e)}return Sbe(Cbe({},c),{node:_})}},exe=(e,t)=>{var r;const n=((e,t)=>{let r;return[...e.pluginList].reverse().some((n=>(r=Jbe(e,n,{element:t}),!!r))),r})(e,t);if(n){const{node:i,withoutChildren:o}=n;let s=null!=(r=i.children)?r:Qbe(e,t);return(0===s.length||o)&&(s=[{text:""}]),Oue("element",i,s)}},txe=(e,t)=>{const r=((e,t)=>{let r={};return[...e.pluginList].reverse().forEach((n=>{const i=Jbe(e,n,{deserializeLeaf:!0,element:t});i&&(r=Cbe(Cbe({},r),i.node))})),r})(e,t);return Qbe(e,t).reduce(((e,t)=>{if(!t)return e;if(ote(t))Object.keys(r).length>0&&(e=>{Bbe(Sbe(Cbe({},e),{apply:Dse}))})({node:t,query:{filter:([e])=>dte(e)},source:r}),e.push(t);else{const n=Cbe({},r);dte(t)&&t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(Oue("text",n,t))}return e}),[])},rxe=e=>t=>{const r=(e=>{if(Vbe(e))return e.textContent||""})(t);if(r)return r;if(!Gbe(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const i=((e,t)=>{if("BODY"===t.nodeName)return Oue("fragment",{},Qbe(e,t))})(e,t);if(i)return i;const o=exe(e,t);return o||txe(e,t)},nxe=(e,{collapseWhiteSpace:t=!0,element:r})=>{"string"==typeof r&&(r=(e=>{const t=document.createElement("body");return t.innerHTML=e,t})(r)),t&&(r=(e=>{const t=e.cloneNode(!0);return Zbe(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t})(r));const n=((e,t)=>rxe(e)(t))(e,r);return oxe(e,{descendants:n})};kbe({key:"html"}).extendApi((({editor:e})=>({deserialize:z5(nxe,e)}))).extend({parser:{deserialize:({api:e,data:t})=>{const r=(n=t,(new DOMParser).parseFromString(n,"text/html"));var n;return e.html.deserialize({element:r.body})},format:"text/html"}}),Pbe({key:"length",extendEditor:({editor:e,getOptions:t})=>{const{apply:r}=e;return e.apply=n=>{cte(e,(()=>{r(n);const i=t();if(i.maxLength){const t=gte(e,[]).length;if(t>i.maxLength){const r=t-i.maxLength;e.delete({distance:r,reverse:!0,unit:"character"})}}}))},e}});var ixe=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const i=n[r-1];return 0!==r&&t(e)!==t(i)})))(e,t),{fragment:i}=e.reduce(((e,i)=>{if(n&&t(i)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(i)}else e.fragment.push(i),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return i})(e=(e=>0===e.length?[{text:""}]:e)(e),t,r),e=e.map((e=>ote(e)?Sbe(Cbe({},e),{children:ixe(e.children,t,r)}):e)),e),oxe=(e,{descendants:t})=>{const r=(e=>t=>dte(t)||ote(t)&&e.isInline(t))(e),n=e.getType(zbe),i=(o=n,()=>({children:[],type:o}));var o;return ixe(t,r,i)},sxe=(e,t,{data:r,dataTransfer:n})=>t.every((t=>{var i;const o=null==(i=t.parser)?void 0:i.query;return!o||o(Sbe(Cbe({},Nbe(e,t)),{data:r,dataTransfer:n}))})),axe=(e,t,r)=>{var n=r,{fragment:i}=n,o=Abe(n,["fragment"]);cte(e,(()=>{t.some((t=>{var r,n;return!0===(null==(n=null==(r=t.parser)?void 0:r.preInsert)?void 0:n.call(r,Cbe(Sbe(Cbe({},Nbe(e,t)),{fragment:i}),o)))})),e.insertFragment(i)}))},lxe=(e,t,{data:r,dataTransfer:n})=>(t.forEach((t=>{var i;const o=null==(i=t.parser)?void 0:i.transformData;o&&(r=o(Sbe(Cbe({},Nbe(e,t)),{data:r,dataTransfer:n})))})),r),uxe=(e,t,r)=>{var n=r,{fragment:i}=n,o=Abe(n,["fragment"]);return t.forEach((t=>{var r;const n=null==(r=t.parser)?void 0:r.transformFragment;n&&(i=n(Cbe(Cbe({fragment:i},o),Nbe(e,t))))})),i};e("dl",Pbe({key:"delete",extendEditor:({editor:e,getOptions:t})=>{const{deleteForward:r}=e;return e.deleteForward=n=>{if(!e.selection)return;const{query:i}=t(),o=!i||Cte(lte(e),i);!(e=>wte(e.selection))(e)&&oue(e)&&o?hte(e):r(n)},e},options:{query:{allow:[zbe.key]}}})),Pbe({key:"selectOnBackspace",extendEditor:({editor:e,getOptions:t})=>{const{deleteBackward:r}=e;return e.deleteBackward=n=>{const{selection:i}=e,{query:o,removeNodeIfEmpty:s}=t();if("character"===n&&(e=>!!e&&a9.isCollapsed(e))(i)){const t=((e,t,r)=>y9.before(e,t,r))(e,i,{unit:n});if(t){const[a]=ute(e,{at:t,match:e=>Cte([e,t.path],o)});if(a&&t){const r=((e,t,r)=>y9.point(e,t,r))(e,i),n=((e,t)=>{try{for(let r=0;r<t.length;r++){const n=t[r];if(dte(e)||!e.children[n])return null;e=e.children[n]}return e}catch(r){return null}})(e,r.path);s&&n&&!bte(n)&&hte(e),fte(e,t)}else r(n)}else r(n)}else r(n)},e},options:{removeNodeIfEmpty:!1}});var cxe=Object.defineProperty,dxe=Object.defineProperties,hxe=Object.getOwnPropertyDescriptors,fxe=Object.getOwnPropertySymbols,pxe=Object.prototype.hasOwnProperty,mxe=Object.prototype.propertyIsEnumerable,gxe=(e,t,r)=>t in e?cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vxe=(e,t)=>{for(var r in t||(t={}))pxe.call(t,r)&&gxe(e,r,t[r]);if(fxe)for(var r of fxe(t))mxe.call(t,r)&&gxe(e,r,t[r]);return e},yxe=(e,t)=>dxe(e,hxe(t)),_xe=(e,t)=>{var r={};for(var n in e)pxe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&fxe)for(var n of fxe(e))t.indexOf(n)<0&&mxe.call(e,n)&&(r[n]=e[n]);return r};function bxe(...e){return tp(aj(e))}function xxe(e,t){const r=e;return W.forwardRef((function(e,n){return W.createElement(r,yxe(vxe(vxe({ref:n},t),e),{className:bxe(t.className,e.className)}))}))}var wxe="horizontal",Exe=["horizontal","vertical"],Cxe=H.forwardRef(((e,t)=>{const{decorative:r,orientation:n=wxe,...i}=e,o=function(e){return Exe.includes(e)}(n)?n:wxe,s=r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return ee.jsx(fU.div,{"data-orientation":o,...s,...i,ref:t})}));Cxe.displayName="Separator";var Sxe=e("cF",Cxe),Axe="Toolbar",[Txe,Dxe]=yU(Axe,[YG,B6]),kxe=YG(),Pxe=B6(),[Bxe,Rxe]=Txe(Axe),Oxe=H.forwardRef(((e,t)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:i,loop:o=!0,...s}=e,a=kxe(r),l=wU(i);return ee.jsx(Bxe,{scope:r,orientation:n,dir:l,children:ee.jsx(rV,{asChild:!0,...a,orientation:n,dir:l,loop:o,children:ee.jsx(fU.div,{role:"toolbar","aria-orientation":n,dir:l,...s,ref:t})})})}));Oxe.displayName=Axe;var Fxe="ToolbarSeparator",Mxe=H.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=Rxe(Fxe,r);return ee.jsx(Sxe,{orientation:"horizontal"===i.orientation?"vertical":"horizontal",...n,ref:t})}));Mxe.displayName=Fxe;var Ixe=H.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=kxe(r);return ee.jsx(nV,{asChild:!0,...i,focusable:!e.disabled,children:ee.jsx(fU.button,{type:"button",...n,ref:t})})}));Ixe.displayName="ToolbarButton";var Nxe=H.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=kxe(r);return ee.jsx(nV,{asChild:!0,...i,focusable:!0,children:ee.jsx(fU.a,{...n,ref:t,onKeyDown:CU(e.onKeyDown,(e=>{" "===e.key&&e.currentTarget.click()}))})})}));Nxe.displayName="ToolbarLink";var Lxe="ToolbarToggleGroup",Uxe=e("cP",H.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=Rxe(Lxe,r),o=Pxe(r);return ee.jsx(H6,{"data-orientation":i.orientation,dir:i.dir,...o,...n,ref:t,rovingFocus:!1})})));Uxe.displayName=Lxe;var jxe=H.forwardRef(((e,t)=>{const{__scopeToolbar:r,...n}=e,i=Pxe(r),o={__scopeToolbar:e.__scopeToolbar};return ee.jsx(Ixe,{asChild:!0,...o,children:ee.jsx(W6,{...i,...n,ref:t})})}));jxe.displayName="ToolbarToggleItem",e("cO",Oxe),e("cR",Mxe),e("cM",Ixe),e("cQ",Nxe),e("cS",jxe);var[zxe,Gxe]=yU("Tooltip",[_G]),Vxe=_G(),Hxe="TooltipProvider",Wxe=700,$xe="tooltip.open",[Yxe,Xxe]=zxe(Hxe),qxe=e=>{const{__scopeTooltip:t,delayDuration:r=Wxe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:o}=e,[s,a]=H.useState(!0),l=H.useRef(!1),u=H.useRef(0);return H.useEffect((()=>{const e=u.current;return()=>window.clearTimeout(e)}),[]),ee.jsx(Yxe,{scope:t,isOpenDelayed:s,delayDuration:r,onOpen:H.useCallback((()=>{window.clearTimeout(u.current),a(!1)}),[]),onClose:H.useCallback((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>a(!0)),n)}),[n]),isPointerInTransitRef:l,onPointerInTransitChange:H.useCallback((e=>{l.current=e}),[]),disableHoverableContent:i,children:o})};qxe.displayName=Hxe;var Kxe="Tooltip",[Zxe,Qxe]=zxe(Kxe),Jxe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,l=Xxe(Kxe,e.__scopeTooltip),u=Vxe(t),[c,d]=H.useState(null),h=jj(),f=H.useRef(0),p=s??l.disableHoverableContent,m=a??l.delayDuration,g=H.useRef(!1),[v=!1,y]=fj({prop:n,defaultProp:i,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent($xe))):l.onClose(),o?.(e)}}),_=H.useMemo((()=>v?g.current?"delayed-open":"instant-open":"closed"),[v]),b=H.useCallback((()=>{window.clearTimeout(f.current),g.current=!1,y(!0)}),[y]),x=H.useCallback((()=>{window.clearTimeout(f.current),y(!1)}),[y]),w=H.useCallback((()=>{window.clearTimeout(f.current),f.current=window.setTimeout((()=>{g.current=!0,y(!0)}),m)}),[m,y]);return H.useEffect((()=>()=>window.clearTimeout(f.current)),[]),ee.jsx(MG,{...u,children:ee.jsx(Zxe,{scope:t,contentId:h,open:v,stateAttribute:_,trigger:c,onTriggerChange:d,onTriggerEnter:H.useCallback((()=>{l.isOpenDelayed?w():b()}),[l.isOpenDelayed,w,b]),onTriggerLeave:H.useCallback((()=>{p?x():window.clearTimeout(f.current)}),[x,p]),onOpen:b,onClose:x,disableHoverableContent:p,children:r})})};Jxe.displayName=Kxe;var ewe="TooltipTrigger",twe=H.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Qxe(ewe,r),o=Xxe(ewe,r),s=Vxe(r),a=aU(t,H.useRef(null),i.onTriggerChange),l=H.useRef(!1),u=H.useRef(!1),c=H.useCallback((()=>l.current=!1),[]);return H.useEffect((()=>()=>document.removeEventListener("pointerup",c)),[c]),ee.jsx(IG,{asChild:!0,...s,children:ee.jsx(fU.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:a,onPointerMove:CU(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(u.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))})),onPointerLeave:CU(e.onPointerLeave,(()=>{i.onTriggerLeave(),u.current=!1})),onPointerDown:CU(e.onPointerDown,(()=>{l.current=!0,document.addEventListener("pointerup",c,{once:!0})})),onFocus:CU(e.onFocus,(()=>{l.current||i.onOpen()})),onBlur:CU(e.onBlur,i.onClose),onClick:CU(e.onClick,i.onClose)})})}));twe.displayName=ewe;var rwe="TooltipPortal",[nwe,iwe]=zxe(rwe,{forceMount:void 0}),owe=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,o=Qxe(rwe,t);return ee.jsx(nwe,{scope:t,forceMount:r,children:ee.jsx(gU,{present:r||o.open,children:ee.jsx(UG,{asChild:!0,container:i,children:n})})})};owe.displayName=rwe;var swe="TooltipContent",awe=H.forwardRef(((e,t)=>{const r=iwe(swe,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,s=Qxe(swe,e.__scopeTooltip);return ee.jsx(gU,{present:n||s.open,children:s.disableHoverableContent?ee.jsx(dwe,{side:i,...o,ref:t}):ee.jsx(lwe,{side:i,...o,ref:t})})})),lwe=H.forwardRef(((e,t)=>{const r=Qxe(swe,e.__scopeTooltip),n=Xxe(swe,e.__scopeTooltip),i=H.useRef(null),o=aU(t,i),[s,a]=H.useState(null),{trigger:l,onClose:u}=r,c=i.current,{onPointerInTransitChange:d}=n,h=H.useCallback((()=>{a(null),d(!1)}),[d]),f=H.useCallback(((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect()),o=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,i),s=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...o,...function(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())]);a(s),d(!0)}),[d]);return H.useEffect((()=>()=>h()),[h]),H.useEffect((()=>{if(l&&c){const e=e=>f(e,c),t=e=>f(e,l);return l.addEventListener("pointerleave",e),c.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),c.removeEventListener("pointerleave",t)}}}),[l,c,f,h]),H.useEffect((()=>{if(s){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=l?.contains(t)||c?.contains(t),i=!function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,u=t[s].y;a>n!=u>n&&r<(l-e)*(n-a)/(u-a)+e&&(i=!i)}return i}(r,s);n?h():i&&(h(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[l,c,s,u,h]),ee.jsx(dwe,{...e,ref:o})})),[uwe,cwe]=zxe(Kxe,{isInside:!1}),dwe=H.forwardRef(((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=e,l=Qxe(swe,r),u=Vxe(r),{onClose:c}=l;return H.useEffect((()=>(document.addEventListener($xe,c),()=>document.removeEventListener($xe,c))),[c]),H.useEffect((()=>{if(l.trigger){const e=e=>{const t=e.target;t?.contains(l.trigger)&&c()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[l.trigger,c]),ee.jsx(xj,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:c,children:ee.jsxs(NG,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[ee.jsx(cU,{children:n}),ee.jsx(uwe,{scope:r,isInside:!0,children:ee.jsx(D4,{id:l.contentId,role:"tooltip",children:i||n})})]})})}));awe.displayName=swe;var hwe="TooltipArrow";H.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Vxe(r);return cwe(hwe,r).isInside?null:ee.jsx(LG,{...i,...n,ref:t})})).displayName=hwe,e("cI",qxe),e("cJ",Jxe),e("cK",twe),e("cL",owe),e("cH",awe);
/*!
			* tabbable 6.2.0
			* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
			*/
var fwe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),pwe="undefined"==typeof Element,mwe=pwe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gwe=!pwe&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},vwe=function e(t,r){var n;void 0===r&&(r=!0);var i=null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===i||"true"===i||r&&t&&e(t.parentNode)},ywe=function e(t,r,n){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!vwe(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,n);n.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{mwe.call(s,fwe)&&n.filter(s)&&(r||!t.includes(s))&&i.push(s);var u=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),c=!vwe(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(u&&c){var d=e(!0===u?s.children:u.children,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else o.unshift.apply(o,s.children)}}return i},_we=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bwe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,r=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===r||"true"===r}(e))&&!_we(e)?0:e.tabIndex},xwe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},wwe=function(e){return"INPUT"===e.tagName},Ewe=function(e){return function(e){return wwe(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,r=e.form||gwe(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(rCe){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",rCe.message),!1}var i=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]}(t,e.form);return!i||i===e}(e)},Cwe=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},Swe=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=mwe.call(e,"details>summary:first-of-type")?e.parentElement:e;if(mwe.call(i,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return Cwe(e)}else{if("function"==typeof n){for(var o=e;e;){var s=e.parentElement,a=gwe(e);if(s&&!s.shadowRoot&&!0===n(s))return Cwe(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,r,n,i,o=e&&gwe(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(r=s)&&void 0!==r&&null!==(n=r.ownerDocument)&&void 0!==n&&n.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&s;){var l,u,c;a=!(null===(u=s=null===(l=o=gwe(s))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},Awe=function(e,t){return!(t.disabled||vwe(t)||function(e){return wwe(e)&&"hidden"===e.type}(t)||Swe(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!mwe.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},Twe=function(e,t){return!(Ewe(t)||bwe(t)<0||!Awe(e,t))},Dwe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},kwe=function e(t){var r=[],n=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var r=bwe(e);return r<0&&t&&!_we(e)?0:r}(s,o),l=o?e(t.candidates):s;0===a?o?r.push.apply(r,l):r.push(s):n.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:l})})),n.sort(xwe).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(r)},Pwe=function(e,t){var r;return r=(t=t||{}).getShadowRoot?ywe([e],t.includeContainer,{filter:Twe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Dwe}):function(e,t,r){if(vwe(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(fwe));return t&&mwe.call(e,fwe)&&n.unshift(e),n.filter(r)}(e,t.includeContainer,Twe.bind(null,t)),kwe(r)};const Bwe={...$},Rwe=Bwe.useInsertionEffect||(e=>e());var Owe="undefined"!=typeof document?H.useLayoutEffect:H.useEffect;function Fwe(){return Fwe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fwe.apply(this,arguments)}let Mwe=!1,Iwe=0;const Nwe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Iwe++,Lwe=Bwe.useId||function(){const[e,t]=H.useState((()=>Mwe?Nwe():void 0));return Owe((()=>{null==e&&t(Nwe())}),[]),H.useEffect((()=>{Mwe=!0}),[]),e},Uwe=H.createContext(null),jwe=H.createContext(null),zwe=()=>{var e;return(null==(e=H.useContext(Uwe))?void 0:e.id)||null};function Gwe(e){return"data-floating-ui-"+e}const Vwe=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Hwe(e,t){const r=Pwe(e,Vwe());"prev"===t&&r.reverse();const n=r.indexOf(function(e){let t=e.activeElement;for(;null!=(null==(r=t)||null==(r=r.shadowRoot)?void 0:r.activeElement);){var r;t=t.shadowRoot.activeElement}return t}(function(e){return(null==e?void 0:e.ownerDocument)||document}(e)));return r.slice(n+1)[0]}function Wwe(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!function(e,t){if(!e||!t)return!1;const r=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&yz(r)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}(r,n)}function $we(e){Pwe(e,Vwe()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Ywe(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Xwe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function qwe(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const Kwe=H.forwardRef((function(e,t){const[r,n]=H.useState();Owe((()=>(/apple/i.test(navigator.vendor)&&n("button"),document.addEventListener("keydown",qwe),()=>{document.removeEventListener("keydown",qwe)})),[]);const i={ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,[Gwe("focus-guard")]:"",style:Xwe};return H.createElement("span",Fwe({},e,i))})),Zwe=H.createContext(null),Qwe=Gwe("portal"),Jwe=()=>H.useContext(Zwe);function eEe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=Lwe(),o=H.useRef({}),[s]=H.useState((()=>function(){const e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach((e=>e(r)))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter((e=>e!==r)))||[])}}}())),a=null!=zwe(),[l,u]=H.useState(n.reference),c=function(e){const t=H.useRef((()=>{}));return Rwe((()=>{t.current=e})),H.useCallback((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)}),[])}(((e,t,n)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:n,nested:a}),null==r||r(e,t,n)})),d=H.useMemo((()=>({setPositionReference:u})),[]),h=H.useMemo((()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference})),[l,n.reference,n.floating]);return H.useMemo((()=>({dataRef:o,open:t,onOpenChange:c,elements:h,events:s,floatingId:i,refs:d})),[t,c,h,s,i,d])}function tEe(e){void 0===e&&(e={});const{nodeId:t}=e,r=eEe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[o,s]=H.useState(null),[a,l]=H.useState(null),u=(null==i?void 0:i.reference)||o,c=H.useRef(null),d=H.useContext(jwe);Owe((()=>{u&&(c.current=u)}),[u]);const h=oG({...e,elements:{...i,...a&&{reference:a}}}),f=H.useCallback((e=>{const t=gz(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)}),[h.refs]),p=H.useCallback((e=>{(gz(e)||null===e)&&(c.current=e,s(e)),(gz(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!gz(e))&&h.refs.setReference(e)}),[h.refs]),m=H.useMemo((()=>({...h.refs,setReference:p,setPositionReference:f,domReference:c})),[h.refs,p,f]),g=H.useMemo((()=>({...h.elements,domReference:u})),[h.elements,u]),v=H.useMemo((()=>({...h,...n,refs:m,elements:g,nodeId:t})),[h,m,g,t,n]);return Owe((()=>{n.dataRef.current.floatingContext=v;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),H.useMemo((()=>({...h,context:v,refs:m,elements:g})),[h,m,g,v])}var rEe=Object.defineProperty,nEe=Object.defineProperties,iEe=Object.getOwnPropertyDescriptors,oEe=Object.getOwnPropertySymbols,sEe=Object.prototype.hasOwnProperty,aEe=Object.prototype.propertyIsEnumerable,lEe=(e,t,r)=>t in e?rEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uEe=(e,t)=>{for(var r in t||(t={}))sEe.call(t,r)&&lEe(e,r,t[r]);if(oEe)for(var r of oEe(t))aEe.call(t,r)&&lEe(e,r,t[r]);return e},cEe=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),dEe=e("c$",(()=>{const e=window.getSelection();return!e||e.rangeCount<1?{bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}:e.getRangeAt(0).getBoundingClientRect()})),hEe=(e("c_",(e=>{var t=e,{getBoundingClientRect:r=dEe}=t,n=((e,t)=>{var r={};for(var n in e)sEe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&oEe)for(var n of oEe(e))t.indexOf(n)<0&&aEe.call(e,n)&&(r[n]=e[n]);return r})(t,["getBoundingClientRect"]);const i=W.useRef({getBoundingClientRect:cEe}),[o,s]=W.useState(!0),a=tEe(uEe({whileElementsMounted:Wz},n)),{middlewareData:l,refs:u,strategy:c,update:d,x:h,y:f}=a;return kge((()=>{i.current.getBoundingClientRect=r}),[r,d]),kge((()=>{u.setReference(i.current)}),[u]),kge((()=>{if(!(null==l?void 0:l.hide))return;const{referenceHidden:e}=l.hide;s(!e)}),[l.hide]),((e,t)=>nEe(e,iEe(t)))(uEe({},a),{style:{display:!1===n.open?"none":void 0,left:null!=h?h:0,position:c,top:null!=f?f:0,visibility:o?void 0:"hidden"},virtualElementRef:i})})),"Switch"),[fEe,pEe]=yU(hEe),[mEe,gEe]=fEe(hEe),vEe=H.forwardRef(((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:u,...c}=e,[d,h]=H.useState(null),f=aU(t,(e=>h(e))),p=H.useRef(!1),m=!d||Boolean(d.closest("form")),[g=!1,v]=fj({prop:i,defaultProp:o,onChange:u});return ee.jsxs(mEe,{scope:r,checked:g,disabled:a,children:[ee.jsx(fU.button,{type:"button",role:"switch","aria-checked":g,"aria-required":s,"data-state":xEe(g),"data-disabled":a?"":void 0,disabled:a,value:l,...c,ref:f,onClick:CU(e.onClick,(e=>{v((e=>!e)),m&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),m&&ee.jsx(bEe,{control:d,bubbles:!p.current,name:n,value:l,checked:g,required:s,disabled:a,style:{transform:"translateX(-100%)"}})]})}));vEe.displayName=hEe;var yEe="SwitchThumb",_Ee=H.forwardRef(((e,t)=>{const{__scopeSwitch:r,...n}=e,i=gEe(yEe,r);return ee.jsx(fU.span,{"data-state":xEe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})}));_Ee.displayName=yEe;var bEe=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,o=H.useRef(null),s=J3(r),a=gG(t);return H.useEffect((()=>{const e=o.current,t=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(t,"checked").set;if(s!==r&&i){const t=new Event("click",{bubbles:n});i.call(e,r),e.dispatchEvent(t)}}),[s,r,n]),ee.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xEe(e){return e?"checked":"unchecked"}e("d7",vEe),e("d8",_Ee);var wEe="ToastProvider",[EEe,CEe,SEe]=pj("Toast"),[AEe,TEe]=Zq("Toast",[SEe]),[DEe,kEe]=AEe(wEe),PEe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=H.useState(null),[u,c]=H.useState(0),d=H.useRef(!1),h=H.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wEe}\`. Expected non-empty \`string\`.`),ee.jsx(EEe.Provider,{scope:t,children:ee.jsx(DEe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:H.useCallback((()=>c((e=>e+1))),[]),onToastRemove:H.useCallback((()=>c((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};PEe.displayName=wEe;var BEe="ToastViewport",REe=["F8"],OEe="toast.viewportPause",FEe="toast.viewportResume",MEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,hotkey:n=REe,label:i="Notifications ({hotkey})",...o}=e,s=kEe(BEe,r),a=CEe(r),l=H.useRef(null),u=H.useRef(null),c=H.useRef(null),d=H.useRef(null),h=aU(t,d,s.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;H.useEffect((()=>{const e=e=>{0!==n.length&&n.every((t=>e[t]||e.code===t))&&d.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]),H.useEffect((()=>{const e=l.current,t=d.current;if(p&&e&&t){const r=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(OEe);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},n=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(FEe);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}}),[p,s.isClosePausedRef]);const m=H.useCallback((({tabbingDirection:e})=>{const t=a().map((t=>{const r=t.ref.current,n=[r,...eCe(r)];return"forwards"===e?n:n.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return H.useEffect((()=>{const e=d.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,n=t.shiftKey;if(t.target===e&&n)return void u.current?.focus();const i=m({tabbingDirection:n?"backwards":"forwards"}),o=i.findIndex((e=>e===r));tCe(i.slice(o+1))?t.preventDefault():n?u.current?.focus():c.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,m]),ee.jsxs(uK,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&ee.jsx(NEe,{ref:u,onFocusFromOutsideViewport:()=>{tCe(m({tabbingDirection:"forwards"}))}}),ee.jsx(EEe.Slot,{scope:r,children:ee.jsx(fU.ol,{tabIndex:-1,...o,ref:h})}),p&&ee.jsx(NEe,{ref:c,onFocusFromOutsideViewport:()=>{tCe(m({tabbingDirection:"backwards"}))}})]})}));MEe.displayName=BEe;var IEe="ToastFocusProxy",NEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,o=kEe(IEe,r);return ee.jsx(T4,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!o.viewport?.contains(t)&&n()}})}));NEe.displayName=IEe;var LEe="Toast",UEe=H.forwardRef(((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,l]=fj({prop:n,defaultProp:i,onChange:o});return ee.jsx(pK,{present:r||a,children:ee.jsx(GEe,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:bU(e.onPause),onResume:bU(e.onResume),onSwipeStart:CU(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:CU(e.onSwipeMove,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:CU(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:CU(e.onSwipeEnd,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)}))})})}));UEe.displayName=LEe;var[jEe,zEe]=AEe(LEe,{onClose(){}}),GEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=e,m=kEe(LEe,r),[g,v]=H.useState(null),y=aU(t,(e=>v(e))),_=H.useRef(null),b=H.useRef(null),x=i||m.duration,w=H.useRef(0),E=H.useRef(x),C=H.useRef(0),{onToastAdd:S,onToastRemove:A}=m,T=bU((()=>{const e=g?.contains(document.activeElement);e&&m.viewport?.focus(),s()})),D=H.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(C.current),w.current=(new Date).getTime(),C.current=window.setTimeout(T,e))}),[T]);H.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{D(E.current),u?.()},r=()=>{const e=(new Date).getTime()-w.current;E.current=E.current-e,window.clearTimeout(C.current),l?.()};return e.addEventListener(OEe,r),e.addEventListener(FEe,t),()=>{e.removeEventListener(OEe,r),e.removeEventListener(FEe,t)}}}),[m.viewport,x,l,u,D]),H.useEffect((()=>{o&&!m.isClosePausedRef.current&&D(x)}),[o,x,m.isClosePausedRef,D]),H.useEffect((()=>(S(),()=>A())),[S,A]);const k=H.useMemo((()=>g?ZEe(g):null),[g]);return m.viewport?ee.jsxs(ee.Fragment,{children:[k&&ee.jsx(VEe,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:k}),ee.jsx(jEe,{scope:r,onClose:T,children:ld.createPortal(ee.jsx(EEe.ItemSlot,{scope:r,children:ee.jsx(lK,{asChild:!0,onEscapeKeyDown:CU(a,(()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:ee.jsx(fU.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:CU(e.onKeyDown,(e=>{"Escape"===e.key&&(a?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))})),onPointerDown:CU(e.onPointerDown,(e=>{0===e.button&&(_.current={x:e.clientX,y:e.clientY})})),onPointerMove:CU(e.onPointerMove,(e=>{if(!_.current)return;const t=e.clientX-_.current.x,r=e.clientY-_.current.y,n=Boolean(b.current),i=["left","right"].includes(m.swipeDirection),o=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,r),l="touch"===e.pointerType?10:2,u={x:s,y:a},h={originalEvent:e,delta:u};n?(b.current=u,QEe("toast.swipeMove",d,h,{discrete:!1})):JEe(u,m.swipeDirection,l)?(b.current=u,QEe("toast.swipeStart",c,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(_.current=null)})),onPointerUp:CU(e.onPointerUp,(e=>{const t=b.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),b.current=null,_.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};JEe(t,m.swipeDirection,m.swipeThreshold)?QEe("toast.swipeEnd",f,n,{discrete:!0}):QEe("toast.swipeCancel",h,n,{discrete:!0}),r.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),VEe=e=>{const{__scopeToast:t,children:r,...n}=e,i=kEe(LEe,t),[o,s]=H.useState(!1),[a,l]=H.useState(!1);return function(e=(()=>{})){const t=bU(e);mU((()=>{let e=0,r=0;return e=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}}),[t])}((()=>s(!0))),H.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:ee.jsx(fK,{asChild:!0,children:ee.jsx(T4,{...n,children:o&&ee.jsxs(ee.Fragment,{children:[i.label," ",r]})})})},HEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e;return ee.jsx(fU.div,{...n,ref:t})}));HEe.displayName="ToastTitle";var WEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e;return ee.jsx(fU.div,{...n,ref:t})}));WEe.displayName="ToastDescription";var $Ee="ToastAction",YEe=H.forwardRef(((e,t)=>{const{altText:r,...n}=e;return r.trim()?ee.jsx(KEe,{altText:r,asChild:!0,children:ee.jsx(qEe,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$Ee}\`. Expected non-empty \`string\`.`),null)}));YEe.displayName=$Ee;var XEe="ToastClose",qEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,...n}=e,i=zEe(XEe,r);return ee.jsx(KEe,{asChild:!0,children:ee.jsx(fU.button,{type:"button",...n,ref:t,onClick:CU(e.onClick,i.onClose)})})}));qEe.displayName=XEe;var KEe=H.forwardRef(((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return ee.jsx(fU.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})}));function ZEe(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...ZEe(e))}})),t}function QEe(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?pU(i,o):i.dispatchEvent(o)}var JEe=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),o=n>i;return"left"===t||"right"===t?o&&n>r:!o&&i>r};function eCe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tCe(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}e("dy",PEe),e("ds",MEe),e("dt",UEe),e("dw",HEe),e("dx",WEe),e("du",YEe),e("dv",qEe)}}}));
