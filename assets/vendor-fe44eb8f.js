function cne(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dne(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var s6={exports:{}},Ux={},o6={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=Symbol.for("react.element"),fne=Symbol.for("react.portal"),hne=Symbol.for("react.fragment"),pne=Symbol.for("react.strict_mode"),mne=Symbol.for("react.profiler"),gne=Symbol.for("react.provider"),vne=Symbol.for("react.context"),yne=Symbol.for("react.forward_ref"),_ne=Symbol.for("react.suspense"),bne=Symbol.for("react.memo"),wne=Symbol.for("react.lazy"),vk=Symbol.iterator;function xne(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var a6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l6=Object.assign,u6={};function xp(t,e,r){this.props=t,this.context=e,this.refs=u6,this.updater=r||a6}xp.prototype.isReactComponent={};xp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c6(){}c6.prototype=xp.prototype;function zR(t,e,r){this.props=t,this.context=e,this.refs=u6,this.updater=r||a6}var GR=zR.prototype=new c6;GR.constructor=zR;l6(GR,xp.prototype);GR.isPureReactComponent=!0;var yk=Array.isArray,d6=Object.prototype.hasOwnProperty,VR={current:null},f6={key:!0,ref:!0,__self:!0,__source:!0};function h6(t,e,r){var n,s={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)d6.call(e,n)&&!f6.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ny,type:t,key:o,ref:a,props:s,_owner:VR.current}}function Ene(t,e){return{$$typeof:Ny,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function HR(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ny}function Sne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _k=/\/+/g;function LS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sne(""+t.key):e.toString(36)}function xb(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ny:case fne:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+LS(a,0):n,yk(s)?(r="",t!=null&&(r=t.replace(_k,"$&/")+"/"),xb(s,e,r,"",function(d){return d})):s!=null&&(HR(s)&&(s=Ene(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_k,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",yk(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+LS(o,l);a+=xb(o,e,r,c,s)}else if(c=xne(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+LS(o,l++),a+=xb(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function K_(t,e,r){if(t==null)return t;var n=[],s=0;return xb(t,n,"","",function(o){return e.call(r,o,s++)}),n}function Cne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ti={current:null},Eb={transition:null},Ane={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:Eb,ReactCurrentOwner:VR};Ht.Children={map:K_,forEach:function(t,e,r){K_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return K_(t,function(){e++}),e},toArray:function(t){return K_(t,function(e){return e})||[]},only:function(t){if(!HR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=xp;Ht.Fragment=hne;Ht.Profiler=mne;Ht.PureComponent=zR;Ht.StrictMode=pne;Ht.Suspense=_ne;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ane;Ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=l6({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=VR.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)d6.call(e,c)&&!f6.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ny,type:t.type,key:s,ref:o,props:n,_owner:a}};Ht.createContext=function(t){return t={$$typeof:vne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gne,_context:t},t.Consumer=t};Ht.createElement=h6;Ht.createFactory=function(t){var e=h6.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:yne,render:t}};Ht.isValidElement=HR;Ht.lazy=function(t){return{$$typeof:wne,_payload:{_status:-1,_result:t},_init:Cne}};Ht.memo=function(t,e){return{$$typeof:bne,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Eb.transition;Eb.transition={};try{t()}finally{Eb.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(t,e){return Ti.current.useCallback(t,e)};Ht.useContext=function(t){return Ti.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return Ti.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return Ti.current.useEffect(t,e)};Ht.useId=function(){return Ti.current.useId()};Ht.useImperativeHandle=function(t,e,r){return Ti.current.useImperativeHandle(t,e,r)};Ht.useInsertionEffect=function(t,e){return Ti.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return Ti.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return Ti.current.useMemo(t,e)};Ht.useReducer=function(t,e,r){return Ti.current.useReducer(t,e,r)};Ht.useRef=function(t){return Ti.current.useRef(t)};Ht.useState=function(t){return Ti.current.useState(t)};Ht.useSyncExternalStore=function(t,e,r){return Ti.current.useSyncExternalStore(t,e,r)};Ht.useTransition=function(){return Ti.current.useTransition()};Ht.version="18.2.0";o6.exports=Ht;var E=o6.exports;const Z=qn(E),WR=cne({__proto__:null,default:Z},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tne=E,Dne=Symbol.for("react.element"),Pne=Symbol.for("react.fragment"),Rne=Object.prototype.hasOwnProperty,One=Tne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ine={key:!0,ref:!0,__self:!0,__source:!0};function p6(t,e,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Rne.call(e,n)&&!Ine.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Dne,type:t,key:o,ref:a,props:s,_owner:One.current}}Ux.Fragment=Pne;Ux.jsx=p6;Ux.jsxs=p6;s6.exports=Ux;var F=s6.exports,bk={},m6={exports:{}},Es={},g6={exports:{}},v6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var K=j.length;j.push($);e:for(;0<K;){var Q=K-1>>>1,ue=j[Q];if(0<s(ue,$))j[Q]=$,j[K]=ue,K=Q;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var $=j[0],K=j.pop();if(K!==$){j[0]=K;e:for(var Q=0,ue=j.length,pe=ue>>>1;Q<pe;){var oe=2*(Q+1)-1,he=j[oe],Y=oe+1,z=j[Y];if(0>s(he,K))Y<ue&&0>s(z,he)?(j[Q]=z,j[Y]=K,Q=Y):(j[Q]=he,j[oe]=K,Q=oe);else if(Y<ue&&0>s(z,K))j[Q]=z,j[Y]=K,Q=Y;else break e}}return $}function s(j,$){var K=j.sortIndex-$.sortIndex;return K!==0?K:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,m=null,g=3,y=!1,_=!1,u=!1,f=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=j)n(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(d)}}function w(j){if(u=!1,b(j),!_)if(r(c)!==null)_=!0,W(x);else{var $=r(d);$!==null&&G(w,$.startTime-j)}}function x(j,$){_=!1,u&&(u=!1,p(D),D=-1),y=!0;var K=g;try{for(b($),m=r(c);m!==null&&(!(m.expirationTime>$)||j&&!R());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,g=m.priorityLevel;var ue=Q(m.expirationTime<=$);$=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===r(c)&&n(c),b($)}else n(c);m=r(c)}if(m!==null)var pe=!0;else{var oe=r(d);oe!==null&&G(w,oe.startTime-$),pe=!1}return pe}finally{m=null,g=K,y=!1}}var S=!1,A=null,D=-1,C=5,T=-1;function R(){return!(t.unstable_now()-T<C)}function P(){if(A!==null){var j=t.unstable_now();T=j;var $=!0;try{$=A(!0,j)}finally{$?O():(S=!1,A=null)}}else S=!1}var O;if(typeof v=="function")O=function(){v(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=P,O=function(){k.postMessage(null)}}else O=function(){f(P,0)};function W(j){A=j,S||(S=!0,O())}function G(j,$){D=f(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,W(x))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var K=g;g=$;try{return j()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=g;g=j;try{return $()}finally{g=K}},t.unstable_scheduleCallback=function(j,$,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,j={id:h++,callback:$,priorityLevel:j,startTime:K,expirationTime:ue,sortIndex:-1},K>Q?(j.sortIndex=K,e(d,j),r(c)===null&&j===r(d)&&(u?(p(D),D=-1):u=!0,G(w,K-Q))):(j.sortIndex=ue,e(c,j),_||y||(_=!0,W(x))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var $=g;return function(){var K=g;g=$;try{return j.apply(this,arguments)}finally{g=K}}}})(v6);g6.exports=v6;var Bne=g6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6=E,_s=Bne;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _6=new Set,ev={};function jd(t,e){Uh(t,e),Uh(t+"Capture",e)}function Uh(t,e){for(ev[t]=e,t=0;t<e.length;t++)_6.add(e[t])}var wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AT=Object.prototype.hasOwnProperty,Fne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wk={},xk={};function Mne(t){return AT.call(xk,t)?!0:AT.call(wk,t)?!1:Fne.test(t)?xk[t]=!0:(wk[t]=!0,!1)}function kne(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nne(t,e,r,n){if(e===null||typeof e>"u"||kne(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Di(t,e,r,n,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xn[t]=new Di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xn[e]=new Di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xn[t]=new Di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xn[t]=new Di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xn[t]=new Di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xn[t]=new Di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xn[t]=new Di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xn[t]=new Di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xn[t]=new Di(t,5,!1,t.toLowerCase(),null,!1,!1)});var KR=/[\-:]([a-z])/g;function XR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KR,XR);Xn[e]=new Di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KR,XR);Xn[e]=new Di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KR,XR);Xn[e]=new Di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xn[t]=new Di(t,1,!1,t.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xn[t]=new Di(t,1,!1,t.toLowerCase(),null,!0,!0)});function YR(t,e,r,n){var s=Xn.hasOwnProperty(e)?Xn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nne(e,r,s,n)&&(r=null),n||s===null?Mne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Nl=y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X_=Symbol.for("react.element"),Hf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),TT=Symbol.for("react.profiler"),b6=Symbol.for("react.provider"),w6=Symbol.for("react.context"),ZR=Symbol.for("react.forward_ref"),DT=Symbol.for("react.suspense"),PT=Symbol.for("react.suspense_list"),JR=Symbol.for("react.memo"),ou=Symbol.for("react.lazy"),x6=Symbol.for("react.offscreen"),Ek=Symbol.iterator;function am(t){return t===null||typeof t!="object"?null:(t=Ek&&t[Ek]||t["@@iterator"],typeof t=="function"?t:null)}var Vr=Object.assign,US;function Lm(t){if(US===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);US=e&&e[1]||""}return"\n"+US+t}var $S=!1;function jS(t,e){if(!t||$S)return"";$S=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split("\n"),o=n.stack.split("\n"),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c="\n"+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{$S=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Lm(t):""}function Lne(t){switch(t.tag){case 5:return Lm(t.type);case 16:return Lm("Lazy");case 13:return Lm("Suspense");case 19:return Lm("SuspenseList");case 0:case 2:case 15:return t=jS(t.type,!1),t;case 11:return t=jS(t.type.render,!1),t;case 1:return t=jS(t.type,!0),t;default:return""}}function RT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wf:return"Fragment";case Hf:return"Portal";case TT:return"Profiler";case qR:return"StrictMode";case DT:return"Suspense";case PT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w6:return(t.displayName||"Context")+".Consumer";case b6:return(t._context.displayName||"Context")+".Provider";case ZR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JR:return e=t.displayName||null,e!==null?e:RT(t.type)||"Memo";case ou:e=t._payload,t=t._init;try{return RT(t(e))}catch(r){}}return null}function Une(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RT(e);case 8:return e===qR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $ne(t){var e=E6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Y_(t){t._valueTracker||(t._valueTracker=$ne(t))}function S6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=E6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function OT(t,e){var r=e.checked;return Vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function Sk(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C6(t,e){e=e.checked,e!=null&&YR(t,"checked",e,!1)}function IT(t,e){C6(t,e);var r=Wu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?BT(t,e.type,r):e.hasOwnProperty("defaultValue")&&BT(t,e.type,Wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ck(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function BT(t,e,r){(e!=="number"||xw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Um=Array.isArray;function hh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function FT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ak(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Pe(92));if(Um(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wu(r)}}function A6(t,e){var r=Wu(e.value),n=Wu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Tk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var q_,D6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(q_=q_||document.createElement("div"),q_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=q_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var mg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jne=["Webkit","ms","Moz","O"];Object.keys(mg).forEach(function(t){jne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mg[e]=mg[t]})});function P6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||mg.hasOwnProperty(t)&&mg[t]?(""+e).trim():e+"px"}function R6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=P6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var zne=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kT(t,e){if(e){if(zne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function NT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LT=null;function QR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var UT=null,ph=null,mh=null;function Dk(t){if(t=$y(t)){if(typeof UT!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=Vx(e),UT(t.stateNode,t.type,e))}}function O6(t){ph?mh?mh.push(t):mh=[t]:ph=t}function I6(){if(ph){var t=ph,e=mh;if(mh=ph=null,Dk(t),e)for(t=0;t<e.length;t++)Dk(e[t])}}function B6(t,e){return t(e)}function F6(){}var zS=!1;function M6(t,e,r){if(zS)return t(e,r);zS=!0;try{return B6(t,e,r)}finally{zS=!1,(ph!==null||mh!==null)&&(F6(),I6())}}function rv(t,e){var r=t.stateNode;if(r===null)return null;var n=Vx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Pe(231,e,typeof r));return r}var $T=!1;if(wl)try{var lm={};Object.defineProperty(lm,"passive",{get:function(){$T=!0}}),window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch(t){$T=!1}function Gne(t,e,r,n,s,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(h){this.onError(h)}}var gg=!1,Ew=null,Sw=!1,jT=null,Vne={onError:function(t){gg=!0,Ew=t}};function Hne(t,e,r,n,s,o,a,l,c){gg=!1,Ew=null,Gne.apply(Vne,arguments)}function Wne(t,e,r,n,s,o,a,l,c){if(Hne.apply(this,arguments),gg){if(gg){var d=Ew;gg=!1,Ew=null}else throw Error(Pe(198));Sw||(Sw=!0,jT=d)}}function zd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function k6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pk(t){if(zd(t)!==t)throw Error(Pe(188))}function Kne(t){var e=t.alternate;if(!e){if(e=zd(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Pk(s),t;if(o===n)return Pk(s),e;o=o.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?t:e}function N6(t){return t=Kne(t),t!==null?L6(t):null}function L6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L6(t);if(e!==null)return e;t=t.sibling}return null}var U6=_s.unstable_scheduleCallback,Rk=_s.unstable_cancelCallback,Xne=_s.unstable_shouldYield,Yne=_s.unstable_requestPaint,tn=_s.unstable_now,qne=_s.unstable_getCurrentPriorityLevel,eO=_s.unstable_ImmediatePriority,$6=_s.unstable_UserBlockingPriority,Cw=_s.unstable_NormalPriority,Zne=_s.unstable_LowPriority,j6=_s.unstable_IdlePriority,$x=null,_a=null;function Jne(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot($x,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Fo=Math.clz32?Math.clz32:tie,Qne=Math.log,eie=Math.LN2;function tie(t){return t>>>=0,t===0?32:31-(Qne(t)/eie|0)|0}var Z_=64,J_=4194304;function $m(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Aw(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=$m(l):(o&=a,o!==0&&(n=$m(o)))}else a=r&~s,a!==0?n=$m(a):o!==0&&(n=$m(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fo(e),s=1<<r,n|=t[r],e&=~s;return n}function rie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Fo(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=rie(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function zT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z6(){var t=Z_;return Z_<<=1,!(Z_&4194240)&&(Z_=64),t}function GS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ly(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fo(e),t[e]=r}function iie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Fo(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function tO(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fo(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var sr=0;function G6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V6,rO,H6,W6,K6,GT=!1,Q_=[],Ou=null,Iu=null,Bu=null,nv=new Map,iv=new Map,pu=[],sie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ok(t,e){switch(t){case"focusin":case"focusout":Ou=null;break;case"dragenter":case"dragleave":Iu=null;break;case"mouseover":case"mouseout":Bu=null;break;case"pointerover":case"pointerout":nv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iv.delete(e.pointerId)}}function um(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=$y(e),e!==null&&rO(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oie(t,e,r,n,s){switch(e){case"focusin":return Ou=um(Ou,t,e,r,n,s),!0;case"dragenter":return Iu=um(Iu,t,e,r,n,s),!0;case"mouseover":return Bu=um(Bu,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return nv.set(o,um(nv.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,iv.set(o,um(iv.get(o)||null,t,e,r,n,s)),!0}return!1}function X6(t){var e=Wc(t.target);if(e!==null){var r=zd(e);if(r!==null){if(e=r.tag,e===13){if(e=k6(r),e!==null){t.blockedOn=e,K6(t.priority,function(){H6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=VT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);LT=n,r.target.dispatchEvent(n),LT=null}else return e=$y(r),e!==null&&rO(e),t.blockedOn=r,!1;e.shift()}return!0}function Ik(t,e,r){Sb(t)&&r.delete(e)}function aie(){GT=!1,Ou!==null&&Sb(Ou)&&(Ou=null),Iu!==null&&Sb(Iu)&&(Iu=null),Bu!==null&&Sb(Bu)&&(Bu=null),nv.forEach(Ik),iv.forEach(Ik)}function cm(t,e){t.blockedOn===e&&(t.blockedOn=null,GT||(GT=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,aie)))}function sv(t){function e(s){return cm(s,t)}if(0<Q_.length){cm(Q_[0],t);for(var r=1;r<Q_.length;r++){var n=Q_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ou!==null&&cm(Ou,t),Iu!==null&&cm(Iu,t),Bu!==null&&cm(Bu,t),nv.forEach(e),iv.forEach(e),r=0;r<pu.length;r++)n=pu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<pu.length&&(r=pu[0],r.blockedOn===null);)X6(r),r.blockedOn===null&&pu.shift()}var gh=Nl.ReactCurrentBatchConfig,Tw=!0;function lie(t,e,r,n){var s=sr,o=gh.transition;gh.transition=null;try{sr=1,nO(t,e,r,n)}finally{sr=s,gh.transition=o}}function uie(t,e,r,n){var s=sr,o=gh.transition;gh.transition=null;try{sr=4,nO(t,e,r,n)}finally{sr=s,gh.transition=o}}function nO(t,e,r,n){if(Tw){var s=VT(t,e,r,n);if(s===null)QS(t,e,n,Dw,r),Ok(t,n);else if(oie(s,t,e,r,n))n.stopPropagation();else if(Ok(t,n),e&4&&-1<sie.indexOf(t)){for(;s!==null;){var o=$y(s);if(o!==null&&V6(o),o=VT(t,e,r,n),o===null&&QS(t,e,n,Dw,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else QS(t,e,n,null,r)}}var Dw=null;function VT(t,e,r,n){if(Dw=null,t=QR(n),t=Wc(t),t!==null)if(e=zd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=k6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dw=t,null}function Y6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qne()){case eO:return 1;case $6:return 4;case Cw:case Zne:return 16;case j6:return 536870912;default:return 16}default:return 16}}var wu=null,iO=null,Cb=null;function q6(){if(Cb)return Cb;var t,e=iO,r=e.length,n,s="value"in wu?wu.value:wu.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[o-n];n++);return Cb=s.slice(t,1<n?1-n:void 0)}function Ab(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function e0(){return!0}function Bk(){return!1}function Ss(t){function e(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?e0:Bk,this.isPropagationStopped=Bk,this}return Vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=e0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=e0)},persist:function(){},isPersistent:e0}),e}var Ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sO=Ss(Ep),Uy=Vr({},Ep,{view:0,detail:0}),cie=Ss(Uy),VS,HS,dm,jx=Vr({},Uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dm&&(dm&&t.type==="mousemove"?(VS=t.screenX-dm.screenX,HS=t.screenY-dm.screenY):HS=VS=0,dm=t),VS)},movementY:function(t){return"movementY"in t?t.movementY:HS}}),Fk=Ss(jx),die=Vr({},jx,{dataTransfer:0}),fie=Ss(die),hie=Vr({},Uy,{relatedTarget:0}),WS=Ss(hie),pie=Vr({},Ep,{animationName:0,elapsedTime:0,pseudoElement:0}),mie=Ss(pie),gie=Vr({},Ep,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vie=Ss(gie),yie=Vr({},Ep,{data:0}),Mk=Ss(yie),_ie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wie[t])?!!e[t]:!1}function oO(){return xie}var Eie=Vr({},Uy,{key:function(t){if(t.key){var e=_ie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ab(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oO,charCode:function(t){return t.type==="keypress"?Ab(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ab(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sie=Ss(Eie),Cie=Vr({},jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kk=Ss(Cie),Aie=Vr({},Uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oO}),Tie=Ss(Aie),Die=Vr({},Ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pie=Ss(Die),Rie=Vr({},jx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oie=Ss(Rie),Iie=[9,13,27,32],aO=wl&&"CompositionEvent"in window,vg=null;wl&&"documentMode"in document&&(vg=document.documentMode);var Bie=wl&&"TextEvent"in window&&!vg,Z6=wl&&(!aO||vg&&8<vg&&11>=vg),Nk=String.fromCharCode(32),Lk=!1;function J6(t,e){switch(t){case"keyup":return Iie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kf=!1;function Fie(t,e){switch(t){case"compositionend":return Q6(e);case"keypress":return e.which!==32?null:(Lk=!0,Nk);case"textInput":return t=e.data,t===Nk&&Lk?null:t;default:return null}}function Mie(t,e){if(Kf)return t==="compositionend"||!aO&&J6(t,e)?(t=q6(),Cb=iO=wu=null,Kf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z6&&e.locale!=="ko"?null:e.data;default:return null}}var kie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kie[t.type]:e==="textarea"}function e5(t,e,r,n){O6(n),e=Pw(e,"onChange"),0<e.length&&(r=new sO("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yg=null,ov=null;function Nie(t){d5(t,0)}function zx(t){var e=qf(t);if(S6(e))return t}function Lie(t,e){if(t==="change")return e}var t5=!1;if(wl){var KS;if(wl){var XS="oninput"in document;if(!XS){var $k=document.createElement("div");$k.setAttribute("oninput","return;"),XS=typeof $k.oninput=="function"}KS=XS}else KS=!1;t5=KS&&(!document.documentMode||9<document.documentMode)}function jk(){yg&&(yg.detachEvent("onpropertychange",r5),ov=yg=null)}function r5(t){if(t.propertyName==="value"&&zx(ov)){var e=[];e5(e,ov,t,QR(t)),M6(Nie,e)}}function Uie(t,e,r){t==="focusin"?(jk(),yg=e,ov=r,yg.attachEvent("onpropertychange",r5)):t==="focusout"&&jk()}function $ie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zx(ov)}function jie(t,e){if(t==="click")return zx(e)}function zie(t,e){if(t==="input"||t==="change")return zx(e)}function Gie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zo=typeof Object.is=="function"?Object.is:Gie;function av(t,e){if(zo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!AT.call(e,s)||!zo(t[s],e[s]))return!1}return!0}function zk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gk(t,e){var r=zk(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zk(r)}}function n5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i5(){for(var t=window,e=xw();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=xw(t.document)}return e}function lO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vie(t){var e=i5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&n5(r.ownerDocument.documentElement,r)){if(n!==null&&lO(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Gk(r,o);var a=Gk(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hie=wl&&"documentMode"in document&&11>=document.documentMode,Xf=null,HT=null,_g=null,WT=!1;function Vk(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;WT||Xf==null||Xf!==xw(n)||(n=Xf,"selectionStart"in n&&lO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_g&&av(_g,n)||(_g=n,n=Pw(HT,"onSelect"),0<n.length&&(e=new sO("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xf)))}function t0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yf={animationend:t0("Animation","AnimationEnd"),animationiteration:t0("Animation","AnimationIteration"),animationstart:t0("Animation","AnimationStart"),transitionend:t0("Transition","TransitionEnd")},YS={},s5={};wl&&(s5=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);function Gx(t){if(YS[t])return YS[t];if(!Yf[t])return t;var e=Yf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in s5)return YS[t]=e[r];return t}var o5=Gx("animationend"),a5=Gx("animationiteration"),l5=Gx("animationstart"),u5=Gx("transitionend"),c5=new Map,Hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fc(t,e){c5.set(t,e),jd(e,[t])}for(var qS=0;qS<Hk.length;qS++){var ZS=Hk[qS],Wie=ZS.toLowerCase(),Kie=ZS[0].toUpperCase()+ZS.slice(1);fc(Wie,"on"+Kie)}fc(o5,"onAnimationEnd");fc(a5,"onAnimationIteration");fc(l5,"onAnimationStart");fc("dblclick","onDoubleClick");fc("focusin","onFocus");fc("focusout","onBlur");fc(u5,"onTransitionEnd");Uh("onMouseEnter",["mouseout","mouseover"]);Uh("onMouseLeave",["mouseout","mouseover"]);Uh("onPointerEnter",["pointerout","pointerover"]);Uh("onPointerLeave",["pointerout","pointerover"]);jd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jd("onBeforeInput",["compositionend","keypress","textInput","paste"]);jd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xie=new Set("cancel close invalid load scroll toggle".split(" ").concat(jm));function Wk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Wne(n,e,void 0,t),t.currentTarget=null}function d5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Wk(s,l,d),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Wk(s,l,d),o=c}}}if(Sw)throw t=jT,Sw=!1,jT=null,t}function br(t,e){var r=e[ZT];r===void 0&&(r=e[ZT]=new Set);var n=t+"__bubble";r.has(n)||(f5(e,t,2,!1),r.add(n))}function JS(t,e,r){var n=0;e&&(n|=4),f5(r,t,n,e)}var r0="_reactListening"+Math.random().toString(36).slice(2);function lv(t){if(!t[r0]){t[r0]=!0,_6.forEach(function(r){r!=="selectionchange"&&(Xie.has(r)||JS(r,!1,t),JS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[r0]||(e[r0]=!0,JS("selectionchange",!1,e))}}function f5(t,e,r,n){switch(Y6(e)){case 1:var s=lie;break;case 4:s=uie;break;default:s=nO}r=s.bind(null,e,r,t),s=void 0,!$T||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function QS(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Wc(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}M6(function(){var d=o,h=QR(r),m=[];e:{var g=c5.get(t);if(g!==void 0){var y=sO,_=t;switch(t){case"keypress":if(Ab(r)===0)break e;case"keydown":case"keyup":y=Sie;break;case"focusin":_="focus",y=WS;break;case"focusout":_="blur",y=WS;break;case"beforeblur":case"afterblur":y=WS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Tie;break;case o5:case a5:case l5:y=mie;break;case u5:y=Pie;break;case"scroll":y=cie;break;case"wheel":y=Oie;break;case"copy":case"cut":case"paste":y=vie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=kk}var u=(e&4)!==0,f=!u&&t==="scroll",p=u?g!==null?g+"Capture":null:g;u=[];for(var v=d,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,p!==null&&(w=rv(v,p),w!=null&&u.push(uv(v,w,b)))),f)break;v=v.return}0<u.length&&(g=new y(g,_,null,r,h),m.push({event:g,listeners:u}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&r!==LT&&(_=r.relatedTarget||r.fromElement)&&(Wc(_)||_[xl]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=d,_=_?Wc(_):null,_!==null&&(f=zd(_),_!==f||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=d),y!==_)){if(u=Fk,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(u=kk,w="onPointerLeave",p="onPointerEnter",v="pointer"),f=y==null?g:qf(y),b=_==null?g:qf(_),g=new u(w,v+"leave",y,r,h),g.target=f,g.relatedTarget=b,w=null,Wc(h)===d&&(u=new u(p,v+"enter",_,r,h),u.target=b,u.relatedTarget=f,w=u),f=w,y&&_)t:{for(u=y,p=_,v=0,b=u;b;b=cf(b))v++;for(b=0,w=p;w;w=cf(w))b++;for(;0<v-b;)u=cf(u),v--;for(;0<b-v;)p=cf(p),b--;for(;v--;){if(u===p||p!==null&&u===p.alternate)break t;u=cf(u),p=cf(p)}u=null}else u=null;y!==null&&Kk(m,g,y,u,!1),_!==null&&f!==null&&Kk(m,f,_,u,!0)}}e:{if(g=d?qf(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var x=Lie;else if(Uk(g))if(t5)x=zie;else{x=$ie;var S=Uie}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(x=jie);if(x&&(x=x(t,d))){e5(m,x,r,h);break e}S&&S(t,g,d),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&BT(g,"number",g.value)}switch(S=d?qf(d):window,t){case"focusin":(Uk(S)||S.contentEditable==="true")&&(Xf=S,HT=d,_g=null);break;case"focusout":_g=HT=Xf=null;break;case"mousedown":WT=!0;break;case"contextmenu":case"mouseup":case"dragend":WT=!1,Vk(m,r,h);break;case"selectionchange":if(Hie)break;case"keydown":case"keyup":Vk(m,r,h)}var A;if(aO)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Kf?J6(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Z6&&r.locale!=="ko"&&(Kf||D!=="onCompositionStart"?D==="onCompositionEnd"&&Kf&&(A=q6()):(wu=h,iO="value"in wu?wu.value:wu.textContent,Kf=!0)),S=Pw(d,D),0<S.length&&(D=new Mk(D,t,null,r,h),m.push({event:D,listeners:S}),A?D.data=A:(A=Q6(r),A!==null&&(D.data=A)))),(A=Bie?Fie(t,r):Mie(t,r))&&(d=Pw(d,"onBeforeInput"),0<d.length&&(h=new Mk("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:d}),h.data=A))}d5(m,e)})}function uv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Pw(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=rv(t,r),o!=null&&n.unshift(uv(t,o,s)),o=rv(t,e),o!=null&&n.push(uv(t,o,s))),t=t.return}return n}function cf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kk(t,e,r,n,s){for(var o=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=rv(r,o),c!=null&&a.unshift(uv(r,c,l))):s||(c=rv(r,o),c!=null&&a.push(uv(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Yie=/\r\n?/g,qie=/\u0000|\uFFFD/g;function Xk(t){return(typeof t=="string"?t:""+t).replace(Yie,"\n").replace(qie,"")}function n0(t,e,r){if(e=Xk(e),Xk(t)!==e&&r)throw Error(Pe(425))}function Rw(){}var KT=null,XT=null;function YT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qT=typeof setTimeout=="function"?setTimeout:void 0,Zie=typeof clearTimeout=="function"?clearTimeout:void 0,Yk=typeof Promise=="function"?Promise:void 0,Jie=typeof queueMicrotask=="function"?queueMicrotask:typeof Yk<"u"?function(t){return Yk.resolve(null).then(t).catch(Qie)}:qT;function Qie(t){setTimeout(function(){throw t})}function eC(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),sv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);sv(e)}function Fu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Sp=Math.random().toString(36).slice(2),da="__reactFiber$"+Sp,cv="__reactProps$"+Sp,xl="__reactContainer$"+Sp,ZT="__reactEvents$"+Sp,ese="__reactListeners$"+Sp,tse="__reactHandles$"+Sp;function Wc(t){var e=t[da];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xl]||r[da]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qk(t);t!==null;){if(r=t[da])return r;t=qk(t)}return e}t=r,r=t.parentNode}return null}function $y(t){return t=t[da]||t[xl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function Vx(t){return t[cv]||null}var JT=[],Zf=-1;function hc(t){return{current:t}}function Cr(t){0>Zf||(t.current=JT[Zf],JT[Zf]=null,Zf--)}function vr(t,e){Zf++,JT[Zf]=t.current,t.current=e}var Ku={},ui=hc(Ku),zi=hc(!1),Ed=Ku;function $h(t,e){var r=t.type.contextTypes;if(!r)return Ku;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gi(t){return t=t.childContextTypes,t!=null}function Ow(){Cr(zi),Cr(ui)}function Zk(t,e,r){if(ui.current!==Ku)throw Error(Pe(168));vr(ui,e),vr(zi,r)}function h5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Pe(108,Une(t)||"Unknown",s));return Vr({},r,n)}function Iw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ku,Ed=ui.current,vr(ui,t),vr(zi,zi.current),!0}function Jk(t,e,r){var n=t.stateNode;if(!n)throw Error(Pe(169));r?(t=h5(t,e,Ed),n.__reactInternalMemoizedMergedChildContext=t,Cr(zi),Cr(ui),vr(ui,t)):Cr(zi),vr(zi,r)}var tl=null,Hx=!1,tC=!1;function p5(t){tl===null?tl=[t]:tl.push(t)}function rse(t){Hx=!0,p5(t)}function pc(){if(!tC&&tl!==null){tC=!0;var t=0,e=sr;try{var r=tl;for(sr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}tl=null,Hx=!1}catch(s){throw tl!==null&&(tl=tl.slice(t+1)),U6(eO,pc),s}finally{sr=e,tC=!1}}return null}var Jf=[],Qf=0,Bw=null,Fw=0,zs=[],Gs=0,Sd=null,ll=1,ul="";function Fc(t,e){Jf[Qf++]=Fw,Jf[Qf++]=Bw,Bw=t,Fw=e}function m5(t,e,r){zs[Gs++]=ll,zs[Gs++]=ul,zs[Gs++]=Sd,Sd=t;var n=ll;t=ul;var s=32-Fo(n)-1;n&=~(1<<s),r+=1;var o=32-Fo(e)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ll=1<<32-Fo(e)+s|r<<s|n,ul=o+t}else ll=1<<o|r<<s|n,ul=t}function uO(t){t.return!==null&&(Fc(t,1),m5(t,1,0))}function cO(t){for(;t===Bw;)Bw=Jf[--Qf],Jf[Qf]=null,Fw=Jf[--Qf],Jf[Qf]=null;for(;t===Sd;)Sd=zs[--Gs],zs[Gs]=null,ul=zs[--Gs],zs[Gs]=null,ll=zs[--Gs],zs[Gs]=null}var ps=null,fs=null,Br=!1,So=null;function g5(t,e){var r=Xs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Qk(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ps=t,fs=Fu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ps=t,fs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Sd!==null?{id:ll,overflow:ul}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ps=t,fs=null,!0):!1;default:return!1}}function QT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eD(t){if(Br){var e=fs;if(e){var r=e;if(!Qk(t,e)){if(QT(t))throw Error(Pe(418));e=Fu(r.nextSibling);var n=ps;e&&Qk(t,e)?g5(n,r):(t.flags=t.flags&-4097|2,Br=!1,ps=t)}}else{if(QT(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,Br=!1,ps=t}}}function eN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function i0(t){if(t!==ps)return!1;if(!Br)return eN(t),Br=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!YT(t.type,t.memoizedProps)),e&&(e=fs)){if(QT(t))throw v5(),Error(Pe(418));for(;e;)g5(t,e),e=Fu(e.nextSibling)}if(eN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fs=Fu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fs=null}}else fs=ps?Fu(t.stateNode.nextSibling):null;return!0}function v5(){for(var t=fs;t;)t=Fu(t.nextSibling)}function jh(){fs=ps=null,Br=!1}function dO(t){So===null?So=[t]:So.push(t)}var nse=Nl.ReactCurrentBatchConfig;function _o(t,e){if(t&&t.defaultProps){e=Vr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Mw=hc(null),kw=null,eh=null,fO=null;function hO(){fO=eh=kw=null}function pO(t){var e=Mw.current;Cr(Mw),t._currentValue=e}function tD(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vh(t,e){kw=t,fO=eh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($i=!0),t.firstContext=null)}function oo(t){var e=t._currentValue;if(fO!==t)if(t={context:t,memoizedValue:e,next:null},eh===null){if(kw===null)throw Error(Pe(308));eh=t,kw.dependencies={lanes:0,firstContext:t}}else eh=eh.next=t;return e}var Kc=null;function mO(t){Kc===null?Kc=[t]:Kc.push(t)}function y5(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mO(e)):(r.next=s.next,s.next=r),e.interleaved=r,El(t,n)}function El(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var au=!1;function gO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Zt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,El(t,r)}return s=n.interleaved,s===null?(e.next=e,mO(n)):(e.next=s.next,s.next=e),n.interleaved=e,El(t,r)}function Tb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tO(t,r)}}function tN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Nw(t,e,r,n){var s=t.updateQueue;au=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;a=0,h=d=c=null,l=o;do{var g=l.lane,y=l.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,u=l;switch(g=e,y=r,u.tag){case 1:if(_=u.payload,typeof _=="function"){m=_.call(y,m,g);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=u.payload,g=typeof _=="function"?_.call(y,m,g):_,g==null)break e;m=Vr({},m,g);break e;case 2:au=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=m):h=h.next=y,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ad|=a,t.lanes=a,t.memoizedState=m}}function rN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Pe(191,s));s.call(n)}}}var b5=new y6.Component().refs;function rD(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Vr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wx={isMounted:function(t){return(t=t._reactInternals)?zd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Si(),s=Nu(t),o=gl(n,s);o.payload=e,r!=null&&(o.callback=r),e=Mu(t,o,s),e!==null&&(Mo(e,t,s,n),Tb(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Si(),s=Nu(t),o=gl(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Mu(t,o,s),e!==null&&(Mo(e,t,s,n),Tb(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Si(),n=Nu(t),s=gl(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mu(t,s,n),e!==null&&(Mo(e,t,n,r),Tb(e,t,n))}};function nN(t,e,r,n,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!av(r,n)||!av(s,o):!0}function w5(t,e,r){var n=!1,s=Ku,o=e.contextType;return typeof o=="object"&&o!==null?o=oo(o):(s=Gi(e)?Ed:ui.current,n=e.contextTypes,o=(n=n!=null)?$h(t,s):Ku),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function iN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wx.enqueueReplaceState(e,e.state,null)}function nD(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=b5,gO(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=oo(o):(o=Gi(e)?Ed:ui.current,s.context=$h(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(rD(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wx.enqueueReplaceState(s,s.state,null),Nw(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;l===b5&&(l=s.refs={}),a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,t))}return t}function s0(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sN(t){var e=t._init;return e(t._payload)}function x5(t){function e(p,v){if(t){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function s(p,v){return p=Lu(p,v),p.index=0,p.sibling=null,p}function o(p,v,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,w){return v===null||v.tag!==6?(v=lC(b,p.mode,w),v.return=p,v):(v=s(v,b),v.return=p,v)}function c(p,v,b,w){var x=b.type;return x===Wf?h(p,v,b.props.children,w,b.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ou&&sN(x)===v.type)?(w=s(v,b.props),w.ref=fm(p,v,b),w.return=p,w):(w=Bb(b.type,b.key,b.props,null,p.mode,w),w.ref=fm(p,v,b),w.return=p,w)}function d(p,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=uC(b,p.mode,w),v.return=p,v):(v=s(v,b.children||[]),v.return=p,v)}function h(p,v,b,w,x){return v===null||v.tag!==7?(v=nd(b,p.mode,w,x),v.return=p,v):(v=s(v,b),v.return=p,v)}function m(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lC(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case X_:return b=Bb(v.type,v.key,v.props,null,p.mode,b),b.ref=fm(p,null,v),b.return=p,b;case Hf:return v=uC(v,p.mode,b),v.return=p,v;case ou:var w=v._init;return m(p,w(v._payload),b)}if(Um(v)||am(v))return v=nd(v,p.mode,b,null),v.return=p,v;s0(p,v)}return null}function g(p,v,b,w){var x=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:l(p,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case X_:return b.key===x?c(p,v,b,w):null;case Hf:return b.key===x?d(p,v,b,w):null;case ou:return x=b._init,g(p,v,x(b._payload),w)}if(Um(b)||am(b))return x!==null?null:h(p,v,b,w,null);s0(p,b)}return null}function y(p,v,b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(b)||null,l(v,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case X_:return p=p.get(w.key===null?b:w.key)||null,c(v,p,w,x);case Hf:return p=p.get(w.key===null?b:w.key)||null,d(v,p,w,x);case ou:var S=w._init;return y(p,v,b,S(w._payload),x)}if(Um(w)||am(w))return p=p.get(b)||null,h(v,p,w,x,null);s0(v,w)}return null}function _(p,v,b,w){for(var x=null,S=null,A=v,D=v=0,C=null;A!==null&&D<b.length;D++){A.index>D?(C=A,A=null):C=A.sibling;var T=g(p,A,b[D],w);if(T===null){A===null&&(A=C);break}t&&A&&T.alternate===null&&e(p,A),v=o(T,v,D),S===null?x=T:S.sibling=T,S=T,A=C}if(D===b.length)return r(p,A),Br&&Fc(p,D),x;if(A===null){for(;D<b.length;D++)A=m(p,b[D],w),A!==null&&(v=o(A,v,D),S===null?x=A:S.sibling=A,S=A);return Br&&Fc(p,D),x}for(A=n(p,A);D<b.length;D++)C=y(A,p,D,b[D],w),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?D:C.key),v=o(C,v,D),S===null?x=C:S.sibling=C,S=C);return t&&A.forEach(function(R){return e(p,R)}),Br&&Fc(p,D),x}function u(p,v,b,w){var x=am(b);if(typeof x!="function")throw Error(Pe(150));if(b=x.call(b),b==null)throw Error(Pe(151));for(var S=x=null,A=v,D=v=0,C=null,T=b.next();A!==null&&!T.done;D++,T=b.next()){A.index>D?(C=A,A=null):C=A.sibling;var R=g(p,A,T.value,w);if(R===null){A===null&&(A=C);break}t&&A&&R.alternate===null&&e(p,A),v=o(R,v,D),S===null?x=R:S.sibling=R,S=R,A=C}if(T.done)return r(p,A),Br&&Fc(p,D),x;if(A===null){for(;!T.done;D++,T=b.next())T=m(p,T.value,w),T!==null&&(v=o(T,v,D),S===null?x=T:S.sibling=T,S=T);return Br&&Fc(p,D),x}for(A=n(p,A);!T.done;D++,T=b.next())T=y(A,p,D,T.value,w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?D:T.key),v=o(T,v,D),S===null?x=T:S.sibling=T,S=T);return t&&A.forEach(function(P){return e(p,P)}),Br&&Fc(p,D),x}function f(p,v,b,w){if(typeof b=="object"&&b!==null&&b.type===Wf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case X_:e:{for(var x=b.key,S=v;S!==null;){if(S.key===x){if(x=b.type,x===Wf){if(S.tag===7){r(p,S.sibling),v=s(S,b.props.children),v.return=p,p=v;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ou&&sN(x)===S.type){r(p,S.sibling),v=s(S,b.props),v.ref=fm(p,S,b),v.return=p,p=v;break e}r(p,S);break}else e(p,S);S=S.sibling}b.type===Wf?(v=nd(b.props.children,p.mode,w,b.key),v.return=p,p=v):(w=Bb(b.type,b.key,b.props,null,p.mode,w),w.ref=fm(p,v,b),w.return=p,p=w)}return a(p);case Hf:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=s(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else e(p,v);v=v.sibling}v=uC(b,p.mode,w),v.return=p,p=v}return a(p);case ou:return S=b._init,f(p,v,S(b._payload),w)}if(Um(b))return _(p,v,b,w);if(am(b))return u(p,v,b,w);s0(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=s(v,b),v.return=p,p=v):(r(p,v),v=lC(b,p.mode,w),v.return=p,p=v),a(p)):r(p,v)}return f}var zh=x5(!0),E5=x5(!1),jy={},ba=hc(jy),dv=hc(jy),fv=hc(jy);function Xc(t){if(t===jy)throw Error(Pe(174));return t}function vO(t,e){switch(vr(fv,e),vr(dv,t),vr(ba,jy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:MT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=MT(e,t)}Cr(ba),vr(ba,e)}function Gh(){Cr(ba),Cr(dv),Cr(fv)}function S5(t){Xc(fv.current);var e=Xc(ba.current),r=MT(e,t.type);e!==r&&(vr(dv,t),vr(ba,r))}function yO(t){dv.current===t&&(Cr(ba),Cr(dv))}var Ur=hc(0);function Lw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rC=[];function _O(){for(var t=0;t<rC.length;t++)rC[t]._workInProgressVersionPrimary=null;rC.length=0}var Db=Nl.ReactCurrentDispatcher,nC=Nl.ReactCurrentBatchConfig,Cd=0,Gr=null,wn=null,In=null,Uw=!1,bg=!1,hv=0,ise=0;function Zn(){throw Error(Pe(321))}function bO(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zo(t[r],e[r]))return!1;return!0}function wO(t,e,r,n,s,o){if(Cd=o,Gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Db.current=t===null||t.memoizedState===null?lse:use,t=r(n,s),bg){o=0;do{if(bg=!1,hv=0,25<=o)throw Error(Pe(301));o+=1,In=wn=null,e.updateQueue=null,Db.current=cse,t=r(n,s)}while(bg)}if(Db.current=$w,e=wn!==null&&wn.next!==null,Cd=0,In=wn=Gr=null,Uw=!1,e)throw Error(Pe(300));return t}function xO(){var t=hv!==0;return hv=0,t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Gr.memoizedState=In=t:In=In.next=t,In}function ao(){if(wn===null){var t=Gr.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=In===null?Gr.memoizedState:In.next;if(e!==null)In=e,wn=t;else{if(t===null)throw Error(Pe(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},In===null?Gr.memoizedState=In=t:In=In.next=t}return In}function pv(t,e){return typeof e=="function"?e(t):e}function iC(t){var e=ao(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=wn,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,d=o;do{var h=d.lane;if((Cd&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,a=n):c=c.next=m,Gr.lanes|=h,Ad|=h}d=d.next}while(d!==null&&d!==o);c===null?a=n:c.next=l,zo(n,e.memoizedState)||($i=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Gr.lanes|=o,Ad|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sC(t){var e=ao(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);zo(o,e.memoizedState)||($i=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function C5(){}function A5(t,e){var r=Gr,n=ao(),s=e(),o=!zo(n.memoizedState,s);if(o&&(n.memoizedState=s,$i=!0),n=n.queue,EO(P5.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||In!==null&&In.memoizedState.tag&1){if(r.flags|=2048,mv(9,D5.bind(null,r,n,s,e),void 0,null),Nn===null)throw Error(Pe(349));Cd&30||T5(r,e,s)}return s}function T5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D5(t,e,r,n){e.value=r,e.getSnapshot=n,R5(e)&&O5(t)}function P5(t,e,r){return r(function(){R5(e)&&O5(t)})}function R5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zo(t,r)}catch(n){return!0}}function O5(t){var e=El(t,1);e!==null&&Mo(e,t,1,-1)}function oN(t){var e=oa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:t},e.queue=t,t=t.dispatch=ase.bind(null,Gr,t),[e.memoizedState,t]}function mv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function I5(){return ao().memoizedState}function Pb(t,e,r,n){var s=oa();Gr.flags|=t,s.memoizedState=mv(1|e,r,void 0,n===void 0?null:n)}function Kx(t,e,r,n){var s=ao();n=n===void 0?null:n;var o=void 0;if(wn!==null){var a=wn.memoizedState;if(o=a.destroy,n!==null&&bO(n,a.deps)){s.memoizedState=mv(e,r,o,n);return}}Gr.flags|=t,s.memoizedState=mv(1|e,r,o,n)}function aN(t,e){return Pb(8390656,8,t,e)}function EO(t,e){return Kx(2048,8,t,e)}function B5(t,e){return Kx(4,2,t,e)}function F5(t,e){return Kx(4,4,t,e)}function M5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k5(t,e,r){return r=r!=null?r.concat([t]):null,Kx(4,4,M5.bind(null,e,t),r)}function SO(){}function N5(t,e){var r=ao();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bO(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function L5(t,e){var r=ao();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bO(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function U5(t,e,r){return Cd&21?(zo(r,e)||(r=z6(),Gr.lanes|=r,Ad|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$i=!0),t.memoizedState=r)}function sse(t,e){var r=sr;sr=r!==0&&4>r?r:4,t(!0);var n=nC.transition;nC.transition={};try{t(!1),e()}finally{sr=r,nC.transition=n}}function $5(){return ao().memoizedState}function ose(t,e,r){var n=Nu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j5(t))z5(e,r);else if(r=y5(t,e,r,n),r!==null){var s=Si();Mo(r,t,n,s),G5(r,e,n)}}function ase(t,e,r){var n=Nu(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j5(t))z5(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,zo(l,a)){var c=e.interleaved;c===null?(s.next=s,mO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch(d){}finally{}r=y5(t,e,s,n),r!==null&&(s=Si(),Mo(r,t,n,s),G5(r,e,n))}}function j5(t){var e=t.alternate;return t===Gr||e!==null&&e===Gr}function z5(t,e){bg=Uw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function G5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tO(t,r)}}var $w={readContext:oo,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},lse={readContext:oo,useCallback:function(t,e){return oa().memoizedState=[t,e===void 0?null:e],t},useContext:oo,useEffect:aN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Pb(4194308,4,M5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Pb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pb(4,2,t,e)},useMemo:function(t,e){var r=oa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ose.bind(null,Gr,t),[n.memoizedState,t]},useRef:function(t){var e=oa();return t={current:t},e.memoizedState=t},useState:oN,useDebugValue:SO,useDeferredValue:function(t){return oa().memoizedState=t},useTransition:function(){var t=oN(!1),e=t[0];return t=sse.bind(null,t[1]),oa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Gr,s=oa();if(Br){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=e(),Nn===null)throw Error(Pe(349));Cd&30||T5(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,aN(P5.bind(null,n,o,t),[t]),n.flags|=2048,mv(9,D5.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=oa(),e=Nn.identifierPrefix;if(Br){var r=ul,n=ll;r=(n&~(1<<32-Fo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ise++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},use={readContext:oo,useCallback:N5,useContext:oo,useEffect:EO,useImperativeHandle:k5,useInsertionEffect:B5,useLayoutEffect:F5,useMemo:L5,useReducer:iC,useRef:I5,useState:function(){return iC(pv)},useDebugValue:SO,useDeferredValue:function(t){var e=ao();return U5(e,wn.memoizedState,t)},useTransition:function(){var t=iC(pv)[0],e=ao().memoizedState;return[t,e]},useMutableSource:C5,useSyncExternalStore:A5,useId:$5,unstable_isNewReconciler:!1},cse={readContext:oo,useCallback:N5,useContext:oo,useEffect:EO,useImperativeHandle:k5,useInsertionEffect:B5,useLayoutEffect:F5,useMemo:L5,useReducer:sC,useRef:I5,useState:function(){return sC(pv)},useDebugValue:SO,useDeferredValue:function(t){var e=ao();return wn===null?e.memoizedState=t:U5(e,wn.memoizedState,t)},useTransition:function(){var t=sC(pv)[0],e=ao().memoizedState;return[t,e]},useMutableSource:C5,useSyncExternalStore:A5,useId:$5,unstable_isNewReconciler:!1};function Vh(t,e){try{var r="",n=e;do r+=Lne(n),n=n.return;while(n);var s=r}catch(o){s="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:s,digest:null}}function oC(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function iD(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dse=typeof WeakMap=="function"?WeakMap:Map;function V5(t,e,r){r=gl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zw||(zw=!0,pD=n),iD(t,e)},r}function H5(t,e,r){r=gl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){iD(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){iD(t,e),typeof n!="function"&&(ku===null?ku=new Set([this]):ku.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function lN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dse;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Cse.bind(null,t,e,r),e.then(t,t))}function uN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cN(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gl(-1,1),e.tag=2,Mu(r,e,1))),r.lanes|=1),t)}var fse=Nl.ReactCurrentOwner,$i=!1;function vi(t,e,r,n){e.child=t===null?E5(e,null,r,n):zh(e,t.child,r,n)}function dN(t,e,r,n,s){r=r.render;var o=e.ref;return vh(e,s),n=wO(t,e,r,n,o,s),r=xO(),t!==null&&!$i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sl(t,e,s)):(Br&&r&&uO(e),e.flags|=1,vi(t,e,n,s),e.child)}function fN(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!IO(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,W5(t,e,o,n,s)):(t=Bb(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:av,r(a,n)&&t.ref===e.ref)return Sl(t,e,s)}return e.flags|=1,t=Lu(o,n),t.ref=e.ref,t.return=e,e.child=t}function W5(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(av(o,n)&&t.ref===e.ref)if($i=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&($i=!0);else return e.lanes=t.lanes,Sl(t,e,s)}return sD(t,e,r,n,s)}function K5(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(rh,is),is|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vr(rh,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,vr(rh,is),is|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,vr(rh,is),is|=n;return vi(t,e,s,r),e.child}function X5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sD(t,e,r,n,s){var o=Gi(r)?Ed:ui.current;return o=$h(e,o),vh(e,s),r=wO(t,e,r,n,o,s),n=xO(),t!==null&&!$i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sl(t,e,s)):(Br&&n&&uO(e),e.flags|=1,vi(t,e,r,s),e.child)}function hN(t,e,r,n,s){if(Gi(r)){var o=!0;Iw(e)}else o=!1;if(vh(e,s),e.stateNode===null)Rb(t,e),w5(e,r,n),nD(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=oo(d):(d=Gi(r)?Ed:ui.current,d=$h(e,d));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&iN(e,a,n,d),au=!1;var g=e.memoizedState;a.state=g,Nw(e,n,a,s),c=e.memoizedState,l!==n||g!==c||zi.current||au?(typeof h=="function"&&(rD(e,r,h,n),c=e.memoizedState),(l=au||nN(e,r,l,n,g,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,_5(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_o(e.type,l),a.props=d,m=e.pendingProps,g=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=oo(c):(c=Gi(r)?Ed:ui.current,c=$h(e,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||g!==c)&&iN(e,a,n,c),au=!1,g=e.memoizedState,a.state=g,Nw(e,n,a,s);var _=e.memoizedState;l!==m||g!==_||zi.current||au?(typeof y=="function"&&(rD(e,r,y,n),_=e.memoizedState),(d=au||nN(e,r,d,n,g,_,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return oD(t,e,r,n,o,s)}function oD(t,e,r,n,s,o){X5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Jk(e,r,!1),Sl(t,e,o);n=e.stateNode,fse.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=zh(e,t.child,null,o),e.child=zh(e,null,l,o)):vi(t,e,l,o),e.memoizedState=n.state,s&&Jk(e,r,!0),e.child}function Y5(t){var e=t.stateNode;e.pendingContext?Zk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zk(t,e.context,!1),vO(t,e.containerInfo)}function pN(t,e,r,n,s){return jh(),dO(s),e.flags|=256,vi(t,e,r,n),e.child}var aD={dehydrated:null,treeContext:null,retryLane:0};function lD(t){return{baseLanes:t,cachePool:null,transitions:null}}function q5(t,e,r){var n=e.pendingProps,s=Ur.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vr(Ur,s&1),t===null)return eD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=qx(a,n,0,null),t=nd(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=lD(r),e.memoizedState=aD,t):CO(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hse(t,e,a,n,l,s,r);if(o){o=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Lu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Lu(l,o):(o=nd(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?lD(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=aD,n}return o=t.child,t=o.sibling,n=Lu(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function CO(t,e){return e=qx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function o0(t,e,r,n){return n!==null&&dO(n),zh(e,t.child,null,r),t=CO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hse(t,e,r,n,s,o,a){if(r)return e.flags&256?(e.flags&=-257,n=oC(Error(Pe(422))),o0(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=qx({mode:"visible",children:n.children},s,0,null),o=nd(o,s,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&zh(e,t.child,null,a),e.child.memoizedState=lD(a),e.memoizedState=aD,o);if(!(e.mode&1))return o0(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Pe(419)),n=oC(o,n,void 0),o0(t,e,a,n)}if(l=(a&t.childLanes)!==0,$i||l){if(n=Nn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,El(t,s),Mo(n,t,s,-1))}return OO(),n=oC(Error(Pe(421))),o0(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ase.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,fs=Fu(s.nextSibling),ps=e,Br=!0,So=null,t!==null&&(zs[Gs++]=ll,zs[Gs++]=ul,zs[Gs++]=Sd,ll=t.id,ul=t.overflow,Sd=e),e=CO(e,n.children),e.flags|=4096,e)}function mN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),tD(t.return,e,r)}function aC(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Z5(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(vi(t,e,n.children,r),n=Ur.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mN(t,r,e);else if(t.tag===19)mN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(vr(Ur,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Lw(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),aC(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lw(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}aC(e,!0,r,null,o);break;case"together":aC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ad|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,r=Lu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pse(t,e,r){switch(e.tag){case 3:Y5(e),jh();break;case 5:S5(e);break;case 1:Gi(e.type)&&Iw(e);break;case 4:vO(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;vr(Mw,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(vr(Ur,Ur.current&1),e.flags|=128,null):r&e.child.childLanes?q5(t,e,r):(vr(Ur,Ur.current&1),t=Sl(t,e,r),t!==null?t.sibling:null);vr(Ur,Ur.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Z5(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vr(Ur,Ur.current),n)break;return null;case 22:case 23:return e.lanes=0,K5(t,e,r)}return Sl(t,e,r)}var J5,uD,Q5,ez;J5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uD=function(){};Q5=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Xc(ba.current);var o=null;switch(r){case"input":s=OT(t,s),n=OT(t,n),o=[];break;case"select":s=Vr({},s,{value:void 0}),n=Vr({},n,{value:void 0}),o=[];break;case"textarea":s=FT(t,s),n=FT(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rw)}kT(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ev.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ev.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&br("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};ez=function(t,e,r,n){r!==n&&(e.flags|=4)};function hm(t,e){if(!Br)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mse(t,e,r){var n=e.pendingProps;switch(cO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Gi(e.type)&&Ow(),Jn(e),null;case 3:return n=e.stateNode,Gh(),Cr(zi),Cr(ui),_O(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(i0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,So!==null&&(vD(So),So=null))),uD(t,e),Jn(e),null;case 5:yO(e);var s=Xc(fv.current);if(r=e.type,t!==null&&e.stateNode!=null)Q5(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Pe(166));return Jn(e),null}if(t=Xc(ba.current),i0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[da]=e,n[cv]=o,t=(e.mode&1)!==0,r){case"dialog":br("cancel",n),br("close",n);break;case"iframe":case"object":case"embed":br("load",n);break;case"video":case"audio":for(s=0;s<jm.length;s++)br(jm[s],n);break;case"source":br("error",n);break;case"img":case"image":case"link":br("error",n),br("load",n);break;case"details":br("toggle",n);break;case"input":Sk(n,o),br("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},br("invalid",n);break;case"textarea":Ak(n,o),br("invalid",n)}kT(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&n0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&n0(n.textContent,l,t),s=["children",""+l]):ev.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&br("scroll",n)}switch(r){case"input":Y_(n),Ck(n,o,!0);break;case"textarea":Y_(n),Tk(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Rw)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[da]=e,t[cv]=n,J5(t,e,!1,!1),e.stateNode=t;e:{switch(a=NT(r,n),r){case"dialog":br("cancel",t),br("close",t),s=n;break;case"iframe":case"object":case"embed":br("load",t),s=n;break;case"video":case"audio":for(s=0;s<jm.length;s++)br(jm[s],t);s=n;break;case"source":br("error",t),s=n;break;case"img":case"image":case"link":br("error",t),br("load",t),s=n;break;case"details":br("toggle",t),s=n;break;case"input":Sk(t,n),s=OT(t,n),br("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Vr({},n,{value:void 0}),br("invalid",t);break;case"textarea":Ak(t,n),s=FT(t,n),br("invalid",t);break;default:s=n}kT(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?R6(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D6(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tv(t,c):typeof c=="number"&&tv(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ev.hasOwnProperty(o)?c!=null&&o==="onScroll"&&br("scroll",t):c!=null&&YR(t,o,c,a))}switch(r){case"input":Y_(t),Ck(t,n,!1);break;case"textarea":Y_(t),Tk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wu(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?hh(t,!!n.multiple,o,!1):n.defaultValue!=null&&hh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(t&&e.stateNode!=null)ez(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Pe(166));if(r=Xc(fv.current),Xc(ba.current),i0(e)){if(n=e.stateNode,r=e.memoizedProps,n[da]=e,(o=n.nodeValue!==r)&&(t=ps,t!==null))switch(t.tag){case 3:n0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&n0(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[da]=e,e.stateNode=n}return Jn(e),null;case 13:if(Cr(Ur),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Br&&fs!==null&&e.mode&1&&!(e.flags&128))v5(),jh(),e.flags|=98560,o=!1;else if(o=i0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Pe(317));o[da]=e}else jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),o=!1}else So!==null&&(vD(So),So=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ur.current&1?xn===0&&(xn=3):OO())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return Gh(),uD(t,e),t===null&&lv(e.stateNode.containerInfo),Jn(e),null;case 10:return pO(e.type._context),Jn(e),null;case 17:return Gi(e.type)&&Ow(),Jn(e),null;case 19:if(Cr(Ur),o=e.memoizedState,o===null)return Jn(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)hm(o,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lw(t),a!==null){for(e.flags|=128,hm(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return vr(Ur,Ur.current&1|2),e.child}t=t.sibling}o.tail!==null&&tn()>Hh&&(e.flags|=128,n=!0,hm(o,!1),e.lanes=4194304)}else{if(!n)if(t=Lw(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Br)return Jn(e),null}else 2*tn()-o.renderingStartTime>Hh&&r!==1073741824&&(e.flags|=128,n=!0,hm(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=Ur.current,vr(Ur,n?r&1|2:r&1),e):(Jn(e),null);case 22:case 23:return RO(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?is&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function gse(t,e){switch(cO(e),e.tag){case 1:return Gi(e.type)&&Ow(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gh(),Cr(zi),Cr(ui),_O(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yO(e),null;case 13:if(Cr(Ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));jh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cr(Ur),null;case 4:return Gh(),null;case 10:return pO(e.type._context),null;case 22:case 23:return RO(),null;case 24:return null;default:return null}}var a0=!1,ti=!1,vse=typeof WeakSet=="function"?WeakSet:Set,at=null;function th(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hr(t,e,n)}else r.current=null}function cD(t,e,r){try{r()}catch(n){Hr(t,e,n)}}var gN=!1;function yse(t,e){if(KT=Tw,t=i5(),lO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var a=0,l=-1,c=-1,d=0,h=0,m=t,g=null;t:for(;;){for(var y;m!==r||s!==0&&m.nodeType!==3||(l=a+s),m!==o||n!==0&&m.nodeType!==3||(c=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===r&&++d===s&&(l=a),g===o&&++h===n&&(c=a),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XT={focusedElem:t,selectionRange:r},Tw=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var u=_.memoizedProps,f=_.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?u:_o(e.type,u),f);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(w){Hr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return _=gN,gN=!1,_}function wg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&cD(e,r,o)}s=s.next}while(s!==n)}}function Xx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dD(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tz(t){var e=t.alternate;e!==null&&(t.alternate=null,tz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[da],delete e[cv],delete e[ZT],delete e[ese],delete e[tse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rz(t){return t.tag===5||t.tag===3||t.tag===4}function vN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fD(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rw));else if(n!==4&&(t=t.child,t!==null))for(fD(t,e,r),t=t.sibling;t!==null;)fD(t,e,r),t=t.sibling}function hD(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hD(t,e,r),t=t.sibling;t!==null;)hD(t,e,r),t=t.sibling}var jn=null,xo=!1;function ql(t,e,r){for(r=r.child;r!==null;)nz(t,e,r),r=r.sibling}function nz(t,e,r){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount($x,r)}catch(l){}switch(r.tag){case 5:ti||th(r,e);case 6:var n=jn,s=xo;jn=null,ql(t,e,r),jn=n,xo=s,jn!==null&&(xo?(t=jn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):jn.removeChild(r.stateNode));break;case 18:jn!==null&&(xo?(t=jn,r=r.stateNode,t.nodeType===8?eC(t.parentNode,r):t.nodeType===1&&eC(t,r),sv(t)):eC(jn,r.stateNode));break;case 4:n=jn,s=xo,jn=r.stateNode.containerInfo,xo=!0,ql(t,e,r),jn=n,xo=s;break;case 0:case 11:case 14:case 15:if(!ti&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cD(r,e,a),s=s.next}while(s!==n)}ql(t,e,r);break;case 1:if(!ti&&(th(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Hr(r,e,l)}ql(t,e,r);break;case 21:ql(t,e,r);break;case 22:r.mode&1?(ti=(n=ti)||r.memoizedState!==null,ql(t,e,r),ti=n):ql(t,e,r);break;default:ql(t,e,r)}}function yN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vse),e.forEach(function(n){var s=Tse.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function po(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:jn=l.stateNode,xo=!1;break e;case 3:jn=l.stateNode.containerInfo,xo=!0;break e;case 4:jn=l.stateNode.containerInfo,xo=!0;break e}l=l.return}if(jn===null)throw Error(Pe(160));nz(o,a,s),jn=null,xo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Hr(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iz(e,t),e=e.sibling}function iz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(po(e,t),Jo(t),n&4){try{wg(3,t,t.return),Xx(3,t)}catch(u){Hr(t,t.return,u)}try{wg(5,t,t.return)}catch(u){Hr(t,t.return,u)}}break;case 1:po(e,t),Jo(t),n&512&&r!==null&&th(r,r.return);break;case 5:if(po(e,t),Jo(t),n&512&&r!==null&&th(r,r.return),t.flags&32){var s=t.stateNode;try{tv(s,"")}catch(u){Hr(t,t.return,u)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&C6(s,o),NT(l,a);var d=NT(l,o);for(a=0;a<c.length;a+=2){var h=c[a],m=c[a+1];h==="style"?R6(s,m):h==="dangerouslySetInnerHTML"?D6(s,m):h==="children"?tv(s,m):YR(s,h,m,d)}switch(l){case"input":IT(s,o);break;case"textarea":A6(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?hh(s,!!o.multiple,y,!1):g!==!!o.multiple&&(o.defaultValue!=null?hh(s,!!o.multiple,o.defaultValue,!0):hh(s,!!o.multiple,o.multiple?[]:"",!1))}s[cv]=o}catch(u){Hr(t,t.return,u)}}break;case 6:if(po(e,t),Jo(t),n&4){if(t.stateNode===null)throw Error(Pe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(u){Hr(t,t.return,u)}}break;case 3:if(po(e,t),Jo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sv(e.containerInfo)}catch(u){Hr(t,t.return,u)}break;case 4:po(e,t),Jo(t);break;case 13:po(e,t),Jo(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(DO=tn())),n&4&&yN(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(ti=(d=ti)||h,po(e,t),ti=d):po(e,t),Jo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(at=t,h=t.child;h!==null;){for(m=at=h;at!==null;){switch(g=at,y=g.child,g.tag){case 0:case 11:case 14:case 15:wg(4,g,g.return);break;case 1:th(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(u){Hr(n,r,u)}}break;case 5:th(g,g.return);break;case 22:if(g.memoizedState!==null){bN(m);continue}}y!==null?(y.return=g,at=y):bN(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=P6("display",a))}catch(u){Hr(t,t.return,u)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(u){Hr(t,t.return,u)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(e,t),Jo(t),n&4&&yN(t);break;case 21:break;default:po(e,t),Jo(t)}}function Jo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rz(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(tv(s,""),n.flags&=-33);var o=vN(t);hD(t,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=vN(t);fD(t,l,a);break;default:throw Error(Pe(161))}}catch(c){Hr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _se(t,e,r){at=t,sz(t)}function sz(t,e,r){for(var n=(t.mode&1)!==0;at!==null;){var s=at,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||a0;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ti;l=a0;var d=ti;if(a0=a,(ti=c)&&!d)for(at=s;at!==null;)a=at,c=a.child,a.tag===22&&a.memoizedState!==null?wN(s):c!==null?(c.return=a,at=c):wN(s);for(;o!==null;)at=o,sz(o),o=o.sibling;at=s,a0=l,ti=d}_N(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,at=o):_N(t)}}function _N(t){for(;at!==null;){var e=at;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ti||Xx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ti)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:_o(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&rN(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rN(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&sv(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}ti||e.flags&512&&dD(e)}catch(g){Hr(e,e.return,g)}}if(e===t){at=null;break}if(r=e.sibling,r!==null){r.return=e.return,at=r;break}at=e.return}}function bN(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var r=e.sibling;if(r!==null){r.return=e.return,at=r;break}at=e.return}}function wN(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xx(4,e)}catch(c){Hr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Hr(e,s,c)}}var o=e.return;try{dD(e)}catch(c){Hr(e,o,c)}break;case 5:var a=e.return;try{dD(e)}catch(c){Hr(e,a,c)}}}catch(c){Hr(e,e.return,c)}if(e===t){at=null;break}var l=e.sibling;if(l!==null){l.return=e.return,at=l;break}at=e.return}}var bse=Math.ceil,jw=Nl.ReactCurrentDispatcher,AO=Nl.ReactCurrentOwner,to=Nl.ReactCurrentBatchConfig,Zt=0,Nn=null,un=null,Wn=0,is=0,rh=hc(0),xn=0,gv=null,Ad=0,Yx=0,TO=0,xg=null,Li=null,DO=0,Hh=1/0,Za=null,zw=!1,pD=null,ku=null,l0=!1,xu=null,Gw=0,Eg=0,mD=null,Ob=-1,Ib=0;function Si(){return Zt&6?tn():Ob!==-1?Ob:Ob=tn()}function Nu(t){return t.mode&1?Zt&2&&Wn!==0?Wn&-Wn:nse.transition!==null?(Ib===0&&(Ib=z6()),Ib):(t=sr,t!==0||(t=window.event,t=t===void 0?16:Y6(t.type)),t):1}function Mo(t,e,r,n){if(50<Eg)throw Eg=0,mD=null,Error(Pe(185));Ly(t,r,n),(!(Zt&2)||t!==Nn)&&(t===Nn&&(!(Zt&2)&&(Yx|=r),xn===4&&mu(t,Wn)),Vi(t,n),r===1&&Zt===0&&!(e.mode&1)&&(Hh=tn()+500,Hx&&pc()))}function Vi(t,e){var r=t.callbackNode;nie(t,e);var n=Aw(t,t===Nn?Wn:0);if(n===0)r!==null&&Rk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Rk(r),e===1)t.tag===0?rse(xN.bind(null,t)):p5(xN.bind(null,t)),Jie(function(){!(Zt&6)&&pc()}),r=null;else{switch(G6(n)){case 1:r=eO;break;case 4:r=$6;break;case 16:r=Cw;break;case 536870912:r=j6;break;default:r=Cw}r=hz(r,oz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oz(t,e){if(Ob=-1,Ib=0,Zt&6)throw Error(Pe(327));var r=t.callbackNode;if(yh()&&t.callbackNode!==r)return null;var n=Aw(t,t===Nn?Wn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Vw(t,n);else{e=n;var s=Zt;Zt|=2;var o=lz();(Nn!==t||Wn!==e)&&(Za=null,Hh=tn()+500,rd(t,e));do try{Ese();break}catch(l){az(t,l)}while(1);hO(),jw.current=o,Zt=s,un!==null?e=0:(Nn=null,Wn=0,e=xn)}if(e!==0){if(e===2&&(s=zT(t),s!==0&&(n=s,e=gD(t,s))),e===1)throw r=gv,rd(t,0),mu(t,n),Vi(t,tn()),r;if(e===6)mu(t,n);else{if(s=t.current.alternate,!(n&30)&&!wse(s)&&(e=Vw(t,n),e===2&&(o=zT(t),o!==0&&(n=o,e=gD(t,o))),e===1))throw r=gv,rd(t,0),mu(t,n),Vi(t,tn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Pe(345));case 2:Mc(t,Li,Za);break;case 3:if(mu(t,n),(n&130023424)===n&&(e=DO+500-tn(),10<e)){if(Aw(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Si(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qT(Mc.bind(null,t,Li,Za),e);break}Mc(t,Li,Za);break;case 4:if(mu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Fo(n);o=1<<a,a=e[a],a>s&&(s=a),n&=~o}if(n=s,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bse(n/1960))-n,10<n){t.timeoutHandle=qT(Mc.bind(null,t,Li,Za),n);break}Mc(t,Li,Za);break;case 5:Mc(t,Li,Za);break;default:throw Error(Pe(329))}}}return Vi(t,tn()),t.callbackNode===r?oz.bind(null,t):null}function gD(t,e){var r=xg;return t.current.memoizedState.isDehydrated&&(rd(t,e).flags|=256),t=Vw(t,e),t!==2&&(e=Li,Li=r,e!==null&&vD(e)),t}function vD(t){Li===null?Li=t:Li.push.apply(Li,t)}function wse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!zo(o(),s))return!1}catch(a){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mu(t,e){for(e&=~TO,e&=~Yx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fo(e),n=1<<r;t[r]=-1,e&=~n}}function xN(t){if(Zt&6)throw Error(Pe(327));yh();var e=Aw(t,0);if(!(e&1))return Vi(t,tn()),null;var r=Vw(t,e);if(t.tag!==0&&r===2){var n=zT(t);n!==0&&(e=n,r=gD(t,n))}if(r===1)throw r=gv,rd(t,0),mu(t,e),Vi(t,tn()),r;if(r===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mc(t,Li,Za),Vi(t,tn()),null}function PO(t,e){var r=Zt;Zt|=1;try{return t(e)}finally{Zt=r,Zt===0&&(Hh=tn()+500,Hx&&pc())}}function Td(t){xu!==null&&xu.tag===0&&!(Zt&6)&&yh();var e=Zt;Zt|=1;var r=to.transition,n=sr;try{if(to.transition=null,sr=1,t)return t()}finally{sr=n,to.transition=r,Zt=e,!(Zt&6)&&pc()}}function RO(){is=rh.current,Cr(rh)}function rd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Zie(r)),un!==null)for(r=un.return;r!==null;){var n=r;switch(cO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ow();break;case 3:Gh(),Cr(zi),Cr(ui),_O();break;case 5:yO(n);break;case 4:Gh();break;case 13:Cr(Ur);break;case 19:Cr(Ur);break;case 10:pO(n.type._context);break;case 22:case 23:RO()}r=r.return}if(Nn=t,un=t=Lu(t.current,null),Wn=is=e,xn=0,gv=null,TO=Yx=Ad=0,Li=xg=null,Kc!==null){for(e=0;e<Kc.length;e++)if(r=Kc[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Kc=null}return t}function az(t,e){do{var r=un;try{if(hO(),Db.current=$w,Uw){for(var n=Gr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uw=!1}if(Cd=0,In=wn=Gr=null,bg=!1,hv=0,AO.current=null,r===null||r.return===null){xn=1,gv=e,un=null;break}e:{var o=t,a=r.return,l=r,c=e;if(e=Wn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=uN(a);if(y!==null){y.flags&=-257,cN(y,a,l,o,e),y.mode&1&&lN(o,d,e),e=y,c=d;var _=e.updateQueue;if(_===null){var u=new Set;u.add(c),e.updateQueue=u}else _.add(c);break e}else{if(!(e&1)){lN(o,d,e),OO();break e}c=Error(Pe(426))}}else if(Br&&l.mode&1){var f=uN(a);if(f!==null){!(f.flags&65536)&&(f.flags|=256),cN(f,a,l,o,e),dO(Vh(c,l));break e}}o=c=Vh(c,l),xn!==4&&(xn=2),xg===null?xg=[o]:xg.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=V5(o,c,e);tN(o,p);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ku===null||!ku.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=H5(o,l,e);tN(o,w);break e}}o=o.return}while(o!==null)}cz(r)}catch(x){e=x,un===r&&r!==null&&(un=r=r.return);continue}break}while(1)}function lz(){var t=jw.current;return jw.current=$w,t===null?$w:t}function OO(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(Ad&268435455)&&!(Yx&268435455)||mu(Nn,Wn)}function Vw(t,e){var r=Zt;Zt|=2;var n=lz();(Nn!==t||Wn!==e)&&(Za=null,rd(t,e));do try{xse();break}catch(s){az(t,s)}while(1);if(hO(),Zt=r,jw.current=n,un!==null)throw Error(Pe(261));return Nn=null,Wn=0,xn}function xse(){for(;un!==null;)uz(un)}function Ese(){for(;un!==null&&!Xne();)uz(un)}function uz(t){var e=fz(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?cz(t):un=e,AO.current=null}function cz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gse(r,e),r!==null){r.flags&=32767,un=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,un=null;return}}else if(r=mse(r,e,is),r!==null){un=r;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);xn===0&&(xn=5)}function Mc(t,e,r){var n=sr,s=to.transition;try{to.transition=null,sr=1,Sse(t,e,r,n)}finally{to.transition=s,sr=n}return null}function Sse(t,e,r,n){do yh();while(xu!==null);if(Zt&6)throw Error(Pe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(iie(t,o),t===Nn&&(un=Nn=null,Wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||l0||(l0=!0,hz(Cw,function(){return yh(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=to.transition,to.transition=null;var a=sr;sr=1;var l=Zt;Zt|=4,AO.current=null,yse(t,r),iz(r,t),Vie(XT),Tw=!!KT,XT=KT=null,t.current=r,_se(r),Yne(),Zt=l,sr=a,to.transition=o}else t.current=r;if(l0&&(l0=!1,xu=t,Gw=s),o=t.pendingLanes,o===0&&(ku=null),Jne(r.stateNode),Vi(t,tn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zw)throw zw=!1,t=pD,pD=null,t;return Gw&1&&t.tag!==0&&yh(),o=t.pendingLanes,o&1?t===mD?Eg++:(Eg=0,mD=t):Eg=0,pc(),null}function yh(){if(xu!==null){var t=G6(Gw),e=to.transition,r=sr;try{if(to.transition=null,sr=16>t?16:t,xu===null)var n=!1;else{if(t=xu,xu=null,Gw=0,Zt&6)throw Error(Pe(331));var s=Zt;for(Zt|=4,at=t.current;at!==null;){var o=at,a=o.child;if(at.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(at=d;at!==null;){var h=at;switch(h.tag){case 0:case 11:case 15:wg(8,h,o)}var m=h.child;if(m!==null)m.return=h,at=m;else for(;at!==null;){h=at;var g=h.sibling,y=h.return;if(tz(h),h===d){at=null;break}if(g!==null){g.return=y,at=g;break}at=y}}}var _=o.alternate;if(_!==null){var u=_.child;if(u!==null){_.child=null;do{var f=u.sibling;u.sibling=null,u=f}while(u!==null)}}at=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,at=a;else e:for(;at!==null;){if(o=at,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wg(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,at=p;break e}at=o.return}}var v=t.current;for(at=v;at!==null;){a=at;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,at=b;else e:for(a=v;at!==null;){if(l=at,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xx(9,l)}}catch(x){Hr(l,l.return,x)}if(l===a){at=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,at=w;break e}at=l.return}}if(Zt=s,pc(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot($x,t)}catch(x){}n=!0}return n}finally{sr=r,to.transition=e}}return!1}function EN(t,e,r){e=Vh(r,e),e=V5(t,e,1),t=Mu(t,e,1),e=Si(),t!==null&&(Ly(t,1,e),Vi(t,e))}function Hr(t,e,r){if(t.tag===3)EN(t,t,r);else for(;e!==null;){if(e.tag===3){EN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ku===null||!ku.has(n))){t=Vh(r,t),t=H5(e,t,1),e=Mu(e,t,1),t=Si(),e!==null&&(Ly(e,1,t),Vi(e,t));break}}e=e.return}}function Cse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Si(),t.pingedLanes|=t.suspendedLanes&r,Nn===t&&(Wn&r)===r&&(xn===4||xn===3&&(Wn&130023424)===Wn&&500>tn()-DO?rd(t,0):TO|=r),Vi(t,e)}function dz(t,e){e===0&&(t.mode&1?(e=J_,J_<<=1,!(J_&130023424)&&(J_=4194304)):e=1);var r=Si();t=El(t,e),t!==null&&(Ly(t,e,r),Vi(t,r))}function Ase(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dz(t,r)}function Tse(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(e),dz(t,r)}var fz;fz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)$i=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $i=!1,pse(t,e,r);$i=!!(t.flags&131072)}else $i=!1,Br&&e.flags&1048576&&m5(e,Fw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rb(t,e),t=e.pendingProps;var s=$h(e,ui.current);vh(e,r),s=wO(null,e,n,t,s,r);var o=xO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(n)?(o=!0,Iw(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gO(e),s.updater=Wx,e.stateNode=s,s._reactInternals=e,nD(e,n,t,r),e=oD(null,e,n,!0,o,r)):(e.tag=0,Br&&o&&uO(e),vi(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rb(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Pse(n),t=_o(n,t),s){case 0:e=sD(null,e,n,t,r);break e;case 1:e=hN(null,e,n,t,r);break e;case 11:e=dN(null,e,n,t,r);break e;case 14:e=fN(null,e,n,_o(n.type,t),r);break e}throw Error(Pe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_o(n,s),sD(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_o(n,s),hN(t,e,n,s,r);case 3:e:{if(Y5(e),t===null)throw Error(Pe(387));n=e.pendingProps,o=e.memoizedState,s=o.element,_5(t,e),Nw(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Vh(Error(Pe(423)),e),e=pN(t,e,n,r,s);break e}else if(n!==s){s=Vh(Error(Pe(424)),e),e=pN(t,e,n,r,s);break e}else for(fs=Fu(e.stateNode.containerInfo.firstChild),ps=e,Br=!0,So=null,r=E5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jh(),n===s){e=Sl(t,e,r);break e}vi(t,e,n,r)}e=e.child}return e;case 5:return S5(e),t===null&&eD(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,YT(n,s)?a=null:o!==null&&YT(n,o)&&(e.flags|=32),X5(t,e),vi(t,e,a,r),e.child;case 6:return t===null&&eD(e),null;case 13:return q5(t,e,r);case 4:return vO(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zh(e,null,n,r):vi(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_o(n,s),dN(t,e,n,s,r);case 7:return vi(t,e,e.pendingProps,r),e.child;case 8:return vi(t,e,e.pendingProps.children,r),e.child;case 12:return vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,vr(Mw,n._currentValue),n._currentValue=a,o!==null)if(zo(o.value,a)){if(o.children===s.children&&!zi.current){e=Sl(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=gl(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),tD(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Pe(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tD(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}vi(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,vh(e,r),s=oo(s),n=n(s),e.flags|=1,vi(t,e,n,r),e.child;case 14:return n=e.type,s=_o(n,e.pendingProps),s=_o(n.type,s),fN(t,e,n,s,r);case 15:return W5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_o(n,s),Rb(t,e),e.tag=1,Gi(n)?(t=!0,Iw(e)):t=!1,vh(e,r),w5(e,n,s),nD(e,n,s,r),oD(null,e,n,!0,t,r);case 19:return Z5(t,e,r);case 22:return K5(t,e,r)}throw Error(Pe(156,e.tag))};function hz(t,e){return U6(t,e)}function Dse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(t,e,r,n){return new Dse(t,e,r,n)}function IO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pse(t){if(typeof t=="function")return IO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ZR)return 11;if(t===JR)return 14}return 2}function Lu(t,e){var r=t.alternate;return r===null?(r=Xs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Bb(t,e,r,n,s,o){var a=2;if(n=t,typeof t=="function")IO(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Wf:return nd(r.children,s,o,e);case qR:a=8,s|=8;break;case TT:return t=Xs(12,r,e,s|2),t.elementType=TT,t.lanes=o,t;case DT:return t=Xs(13,r,e,s),t.elementType=DT,t.lanes=o,t;case PT:return t=Xs(19,r,e,s),t.elementType=PT,t.lanes=o,t;case x6:return qx(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b6:a=10;break e;case w6:a=9;break e;case ZR:a=11;break e;case JR:a=14;break e;case ou:a=16,n=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=Xs(a,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function nd(t,e,r,n){return t=Xs(7,t,n,e),t.lanes=r,t}function qx(t,e,r,n){return t=Xs(22,t,n,e),t.elementType=x6,t.lanes=r,t.stateNode={isHidden:!1},t}function lC(t,e,r){return t=Xs(6,t,null,e),t.lanes=r,t}function uC(t,e,r){return e=Xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Rse(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GS(0),this.expirationTimes=GS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GS(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function BO(t,e,r,n,s,o,a,l,c){return t=new Rse(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gO(o),t}function Ose(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pz(t){if(!t)return Ku;t=t._reactInternals;e:{if(zd(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var r=t.type;if(Gi(r))return h5(t,r,e)}return e}function mz(t,e,r,n,s,o,a,l,c){return t=BO(r,n,!0,t,s,o,a,l,c),t.context=pz(null),r=t.current,n=Si(),s=Nu(r),o=gl(n,s),o.callback=e!=null?e:null,Mu(r,o,s),t.current.lanes=s,Ly(t,s,n),Vi(t,n),t}function Zx(t,e,r,n){var s=e.current,o=Si(),a=Nu(s);return r=pz(r),e.context===null?e.context=r:e.pendingContext=r,e=gl(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mu(s,e,a),t!==null&&(Mo(t,s,a,o),Tb(t,s,a)),a}function Hw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FO(t,e){SN(t,e),(t=t.alternate)&&SN(t,e)}function Ise(){return null}var gz=typeof reportError=="function"?reportError:function(t){console.error(t)};function MO(t){this._internalRoot=t}Jx.prototype.render=MO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Zx(t,e,null,null)};Jx.prototype.unmount=MO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Td(function(){Zx(null,t,null,null)}),e[xl]=null}};function Jx(t){this._internalRoot=t}Jx.prototype.unstable_scheduleHydration=function(t){if(t){var e=W6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<pu.length&&e!==0&&e<pu[r].priority;r++);pu.splice(r,0,t),r===0&&X6(t)}};function kO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CN(){}function Bse(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=Hw(a);o.call(d)}}var a=mz(e,n,t,0,null,!1,!1,"",CN);return t._reactRootContainer=a,t[xl]=a.current,lv(t.nodeType===8?t.parentNode:t),Td(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Hw(c);l.call(d)}}var c=BO(t,0,!1,null,null,!1,!1,"",CN);return t._reactRootContainer=c,t[xl]=c.current,lv(t.nodeType===8?t.parentNode:t),Td(function(){Zx(e,c,r,n)}),c}function eE(t,e,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Hw(a);l.call(c)}}Zx(e,a,t,s)}else a=Bse(r,e,t,s,n);return Hw(a)}V6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$m(e.pendingLanes);r!==0&&(tO(e,r|1),Vi(e,tn()),!(Zt&6)&&(Hh=tn()+500,pc()))}break;case 13:Td(function(){var n=El(t,1);if(n!==null){var s=Si();Mo(n,t,1,s)}}),FO(t,1)}};rO=function(t){if(t.tag===13){var e=El(t,134217728);if(e!==null){var r=Si();Mo(e,t,134217728,r)}FO(t,134217728)}};H6=function(t){if(t.tag===13){var e=Nu(t),r=El(t,e);if(r!==null){var n=Si();Mo(r,t,e,n)}FO(t,e)}};W6=function(){return sr};K6=function(t,e){var r=sr;try{return sr=t,e()}finally{sr=r}};UT=function(t,e,r){switch(e){case"input":if(IT(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Vx(n);if(!s)throw Error(Pe(90));S6(n),IT(n,s)}}}break;case"textarea":A6(t,r);break;case"select":e=r.value,e!=null&&hh(t,!!r.multiple,e,!1)}};B6=PO;F6=Td;var Fse={usingClientEntryPoint:!1,Events:[$y,qf,Vx,O6,I6,PO]},pm={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Mse={bundleType:pm.bundleType,version:pm.version,rendererPackageName:pm.rendererPackageName,rendererConfig:pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N6(t),t===null?null:t.stateNode},findFiberByHostInstance:pm.findFiberByHostInstance||Ise,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{$x=u0.inject(Mse),_a=u0}catch(t){}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fse;Es.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kO(e))throw Error(Pe(200));return Ose(t,e,null,r)};Es.createRoot=function(t,e){if(!kO(t))throw Error(Pe(299));var r=!1,n="",s=gz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=BO(t,1,!1,null,null,r,!1,n,s),t[xl]=e.current,lv(t.nodeType===8?t.parentNode:t),new MO(e)};Es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=N6(e),t=t===null?null:t.stateNode,t};Es.flushSync=function(t){return Td(t)};Es.hydrate=function(t,e,r){if(!Qx(e))throw Error(Pe(200));return eE(null,t,e,!0,r)};Es.hydrateRoot=function(t,e,r){if(!kO(t))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=gz;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mz(e,null,t,1,r!=null?r:null,s,!1,o,a),t[xl]=e.current,lv(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Jx(e)};Es.render=function(t,e,r){if(!Qx(e))throw Error(Pe(200));return eE(null,t,e,!1,r)};Es.unmountComponentAtNode=function(t){if(!Qx(t))throw Error(Pe(40));return t._reactRootContainer?(Td(function(){eE(null,null,t,!1,function(){t._reactRootContainer=null,t[xl]=null})}),!0):!1};Es.unstable_batchedUpdates=PO;Es.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qx(r))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return eE(t,e,r,!1,n)};Es.version="18.2.0-next-9e3b772b8-20220608";function vz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vz)}catch(t){console.error(t)}}vz(),m6.exports=Es;var Ll=m6.exports;const NO=qn(Ll);var AN=Ll;bk.createRoot=AN.createRoot,bk.hydrateRoot=AN.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wr.apply(this,arguments)}var qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qr||(qr={}));const TN="popstate";function kse(t){t===void 0&&(t={});function e(s,o){let{pathname:a="/",search:l="",hash:c=""}=Ia(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),vv("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof o=="string"?o:zy(o))}function n(s,o){Xu(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Lse(e,r,n,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function Nse(){return Math.random().toString(36).substr(2,8)}function DN(t,e){return{usr:t.state,key:t.key,idx:e}}function vv(t,e,r,n){return r===void 0&&(r=null),Wr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ia(e):e,{state:r,key:e&&e.key||n||Nse()})}function zy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ia(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Lse(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=qr.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(Wr({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=qr.Pop;let f=h(),p=f==null?null:f-d;d=f,c&&c({action:l,location:u.location,delta:p})}function g(f,p){l=qr.Push;let v=vv(u.location,f,p);r&&r(v,f),d=h()+1;let b=DN(v,d),w=u.createHref(v);try{a.pushState(b,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(w)}o&&c&&c({action:l,location:u.location,delta:1})}function y(f,p){l=qr.Replace;let v=vv(u.location,f,p);r&&r(v,f),d=h();let b=DN(v,d),w=u.createHref(v);a.replaceState(b,"",w),o&&c&&c({action:l,location:u.location,delta:0})}function _(f){let p=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof f=="string"?f:zy(f);return Xt(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let u={get action(){return l},get location(){return t(s,a)},listen(f){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(TN,m),c=f,()=>{s.removeEventListener(TN,m),c=null}},createHref(f){return e(s,f)},createURL:_,encodeLocation(f){let p=_(f);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:y,go(f){return a.go(f)}};return u}var Zr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zr||(Zr={}));const Use=new Set(["lazy","caseSensitive","path","id","index","children"]);function $se(t){return t.index===!0}function yD(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,o)=>{let a=[...r,o],l=typeof s.id=="string"?s.id:a.join("-");if(Xt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Xt(!n[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),$se(s)){let c=Wr({},s,e(s),{id:l});return n[l]=c,c}else{let c=Wr({},s,e(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=yD(s.children,e,a,n)),c}})}function nh(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Ia(e):e,s=Gy(n.pathname||"/",r);if(s==null)return null;let o=yz(t);zse(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=Zse(o[l],eoe(s));return a}function jse(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function yz(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=id([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yz(o.children,e,h,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:Yse(d,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of _z(o.path))s(o,a,c)}),e}function _z(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=_z(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function zse(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gse=/^:\w+$/,Vse=3,Hse=2,Wse=1,Kse=10,Xse=-2,PN=t=>t==="*";function Yse(t,e){let r=t.split("/"),n=r.length;return r.some(PN)&&(n+=Xse),e&&(n+=Hse),r.filter(s=>!PN(s)).reduce((s,o)=>s+(Gse.test(o)?Vse:o===""?Wse:Kse),n)}function qse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Zse(t,e){let{routesMeta:r}=t,n={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Jse({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!h)return null;Object.assign(n,h.params);let m=l.route;o.push({params:n,pathname:id([s,h.pathname]),pathnameBase:soe(id([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=id([s,h.pathnameBase]))}return o}function Jse(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Qse(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,h,m)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let u=l[m]||"";a=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}const _=l[m];return y&&!_?d[g]=void 0:d[g]=toe(_||"",g),d},{}),pathname:o,pathnameBase:a,pattern:t}}function Qse(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function eoe(t){try{return decodeURI(t)}catch(e){return Xu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function toe(t,e){try{return decodeURIComponent(t)}catch(r){return Xu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Gy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function roe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ia(t):t;return{pathname:r?r.startsWith("/")?r:noe(r,e):e,search:ooe(n),hash:aoe(s)}}function noe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bz(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ioe(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ia(t):(s=Wr({},t),Xt(!s.pathname||!s.pathname.includes("?"),cC("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),cC("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),cC("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(n||a==null)l=r;else{let m=e.length-1;if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=roe(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const id=t=>t.join("/").replace(/\/\/+/g,"/"),soe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ooe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aoe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class LO{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function wz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xz=["post","put","patch","delete"],loe=new Set(xz),uoe=["get",...xz],coe=new Set(uoe),doe=new Set([301,302,303,307,308]),foe=new Set([307,308]),dC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hoe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,poe=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Sz="remix-router-transitions";function moe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let te=t.detectErrorBoundary;s=ae=>({hasErrorBoundary:te(ae)})}else s=poe;let o={},a=yD(t.routes,s,void 0,o),l,c=t.basename||"/",d=Wr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),h=null,m=new Set,g=null,y=null,_=null,u=t.hydrationData!=null,f=nh(a,t.history.location,c),p=null;if(f==null){let te=ks(404,{pathname:t.history.location.pathname}),{matches:ae,route:de}=NN(a);f=ae,p={[de.id]:te}}let v=!f.some(te=>te.route.lazy)&&(!f.some(te=>te.route.loader)||t.hydrationData!=null),b,w={historyAction:t.history.action,location:t.history.location,matches:f,initialized:v,navigation:dC,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},x=qr.Pop,S=!1,A,D=!1,C=new Map,T=null,R=!1,P=!1,O=[],I=[],k=new Map,W=0,G=-1,j=new Map,$=new Set,K=new Map,Q=new Map,ue=new Set,pe=new Map,oe=new Map,he=!1;function Y(){if(h=t.history.listen(te=>{let{action:ae,location:de,delta:Ee}=te;if(he){he=!1;return}Xu(oe.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Be=J({currentLocation:w.location,nextLocation:de,historyAction:ae});if(Be&&Ee!=null){he=!0,t.history.go(Ee*-1),U(Be,{state:"blocked",location:de,proceed(){U(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),t.history.go(Ee)},reset(){let We=new Map(w.blockers);We.set(Be,mm),H({blockers:We})}});return}return be(ae,de)}),r){Aoe(e,C);let te=()=>Toe(e,C);e.addEventListener("pagehide",te),T=()=>e.removeEventListener("pagehide",te)}return w.initialized||be(qr.Pop,w.location),b}function z(){h&&h(),T&&T(),m.clear(),A&&A.abort(),w.fetchers.forEach((te,ae)=>Te(ae)),w.blockers.forEach((te,ae)=>B(ae))}function V(te){return m.add(te),()=>m.delete(te)}function H(te,ae){w=Wr({},w,te);let de=[],Ee=[];d.v7_fetcherPersist&&w.fetchers.forEach((Be,We)=>{Be.state==="idle"&&(ue.has(We)?Ee.push(We):de.push(We))}),m.forEach(Be=>Be(w,{deletedFetchers:Ee,unstable_viewTransitionOpts:ae})),d.v7_fetcherPersist&&(de.forEach(Be=>w.fetchers.delete(Be)),Ee.forEach(Be=>Te(Be)))}function re(te,ae){var de,Ee;let Be=w.actionData!=null&&w.navigation.formMethod!=null&&Eo(w.navigation.formMethod)&&w.navigation.state==="loading"&&((de=te.state)==null?void 0:de._isRedirect)!==!0,We;ae.actionData?Object.keys(ae.actionData).length>0?We=ae.actionData:We=null:Be?We=w.actionData:We=null;let Ze=ae.loaderData?kN(w.loaderData,ae.loaderData,ae.matches||[],ae.errors):w.loaderData,De=w.blockers;De.size>0&&(De=new Map(De),De.forEach((Ce,Ne)=>De.set(Ne,mm)));let Je=S===!0||w.navigation.formMethod!=null&&Eo(w.navigation.formMethod)&&((Ee=te.state)==null?void 0:Ee._isRedirect)!==!0;l&&(a=l,l=void 0),R||x===qr.Pop||(x===qr.Push?t.history.push(te,te.state):x===qr.Replace&&t.history.replace(te,te.state));let Fe;if(x===qr.Pop){let Ce=C.get(w.location.pathname);Ce&&Ce.has(te.pathname)?Fe={currentLocation:w.location,nextLocation:te}:C.has(te.pathname)&&(Fe={currentLocation:te,nextLocation:w.location})}else if(D){let Ce=C.get(w.location.pathname);Ce?Ce.add(te.pathname):(Ce=new Set([te.pathname]),C.set(w.location.pathname,Ce)),Fe={currentLocation:w.location,nextLocation:te}}H(Wr({},ae,{actionData:We,loaderData:Ze,historyAction:x,location:te,initialized:!0,navigation:dC,revalidation:"idle",restoreScrollPosition:Ye(te,ae.matches||w.matches),preventScrollReset:Je,blockers:De}),Fe),x=qr.Pop,S=!1,D=!1,R=!1,P=!1,O=[],I=[]}async function ne(te,ae){if(typeof te=="number"){t.history.go(te);return}let de=_D(w.location,w.matches,c,d.v7_prependBasename,te,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:Ee,submission:Be,error:We}=RN(d.v7_normalizeFormMethod,!1,de,ae),Ze=w.location,De=vv(w.location,Ee,ae&&ae.state);De=Wr({},De,t.history.encodeLocation(De));let Je=ae&&ae.replace!=null?ae.replace:void 0,Fe=qr.Push;Je===!0?Fe=qr.Replace:Je===!1||Be!=null&&Eo(Be.formMethod)&&Be.formAction===w.location.pathname+w.location.search&&(Fe=qr.Replace);let Ce=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ne=J({currentLocation:Ze,nextLocation:De,historyAction:Fe});if(Ne){U(Ne,{state:"blocked",location:De,proceed(){U(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),ne(te,ae)},reset(){let Le=new Map(w.blockers);Le.set(Ne,mm),H({blockers:Le})}});return}return await be(Fe,De,{submission:Be,pendingError:We,preventScrollReset:Ce,replace:ae&&ae.replace,enableViewTransition:ae&&ae.unstable_viewTransition})}function _e(){if(ve(),H({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){be(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}be(x||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function be(te,ae,de){A&&A.abort(),A=null,x=te,R=(de&&de.startUninterruptedRevalidation)===!0,ut(w.location,w.matches),S=(de&&de.preventScrollReset)===!0,D=(de&&de.enableViewTransition)===!0;let Ee=l||a,Be=de&&de.overrideNavigation,We=nh(Ee,ae,c);if(!We){let Le=ks(404,{pathname:ae.pathname}),{matches:Qe,route:Dt}=NN(Ee);ie(),re(ae,{matches:Qe,loaderData:{},errors:{[Dt.id]:Le}});return}if(w.initialized&&!P&&boe(w.location,ae)&&!(de&&de.submission&&Eo(de.submission.formMethod))){re(ae,{matches:We});return}A=new AbortController;let Ze=vm(t.history,ae,A.signal,de&&de.submission),De,Je;if(de&&de.pendingError)Je={[Sg(We).route.id]:de.pendingError};else if(de&&de.submission&&Eo(de.submission.formMethod)){let Le=await xe(Ze,ae,de.submission,We,{replace:de.replace});if(Le.shortCircuited)return;De=Le.pendingActionData,Je=Le.pendingActionError,Be=fC(ae,de.submission),Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:Fe,loaderData:Ce,errors:Ne}=await Se(Ze,ae,We,Be,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,De,Je);Fe||(A=null,re(ae,Wr({matches:We},De?{actionData:De}:{},{loaderData:Ce,errors:Ne})))}async function xe(te,ae,de,Ee,Be){Be===void 0&&(Be={}),ve();let We=Soe(ae,de);H({navigation:We});let Ze,De=wD(Ee,ae);if(!De.route.action&&!De.route.lazy)Ze={type:Zr.error,error:ks(405,{method:te.method,pathname:ae.pathname,routeId:De.route.id})};else if(Ze=await gm("action",te,De,Ee,o,s,c),te.signal.aborted)return{shortCircuited:!0};if(_h(Ze)){let Je;return Be&&Be.replace!=null?Je=Be.replace:Je=Ze.location===w.location.pathname+w.location.search,await le(w,Ze,{submission:de,replace:Je}),{shortCircuited:!0}}if(Cg(Ze)){let Je=Sg(Ee,De.route.id);return(Be&&Be.replace)!==!0&&(x=qr.Push),{pendingActionData:{},pendingActionError:{[Je.route.id]:Ze.error}}}if(Yc(Ze))throw ks(400,{type:"defer-action"});return{pendingActionData:{[De.route.id]:Ze.data}}}async function Se(te,ae,de,Ee,Be,We,Ze,De,Je){let Fe=Ee||fC(ae,Be),Ce=Be||We||$N(Fe),Ne=l||a,[Le,Qe]=ON(t.history,w,de,Ce,ae,P,O,I,K,$,Ne,c,De,Je);if(ie(Bt=>!(de&&de.some(yr=>yr.route.id===Bt))||Le&&Le.some(yr=>yr.route.id===Bt)),G=++W,Le.length===0&&Qe.length===0){let Bt=Et();return re(ae,Wr({matches:de,loaderData:{},errors:Je||null},De?{actionData:De}:{},Bt?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!R){Qe.forEach(yr=>{let Oi=w.fetchers.get(yr.key),$t=ym(void 0,Oi?Oi.data:void 0);w.fetchers.set(yr.key,$t)});let Bt=De||w.actionData;H(Wr({navigation:Fe},Bt?Object.keys(Bt).length===0?{actionData:null}:{actionData:Bt}:{},Qe.length>0?{fetchers:new Map(w.fetchers)}:{}))}Qe.forEach(Bt=>{k.has(Bt.key)&&je(Bt.key),Bt.controller&&k.set(Bt.key,Bt.controller)});let Dt=()=>Qe.forEach(Bt=>je(Bt.key));A&&A.signal.addEventListener("abort",Dt);let{results:nr,loaderResults:ir,fetcherResults:rn}=await Ae(w.matches,de,Le,Qe,te);if(te.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Dt),Qe.forEach(Bt=>k.delete(Bt.key));let Ar=LN(nr);if(Ar){if(Ar.idx>=Le.length){let Bt=Qe[Ar.idx-Le.length].key;$.add(Bt)}return await le(w,Ar.result,{replace:Ze}),{shortCircuited:!0}}let{loaderData:Nt,errors:gn}=MN(w,de,Le,ir,Je,Qe,rn,pe);pe.forEach((Bt,yr)=>{Bt.subscribe(Oi=>{(Oi||Bt.done)&&pe.delete(yr)})});let Lt=Et(),vn=Ke(G),Yr=Lt||vn||Qe.length>0;return Wr({loaderData:Nt,errors:gn},Yr?{fetchers:new Map(w.fetchers)}:{})}function dt(te){return d.v7_fetcherPersist&&(Q.set(te,(Q.get(te)||0)+1),ue.has(te)&&ue.delete(te)),w.fetchers.get(te)||hoe}function xt(te,ae,de,Ee){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(te)&&je(te);let Be=l||a,We=_D(w.location,w.matches,c,d.v7_prependBasename,de,ae,Ee==null?void 0:Ee.relative),Ze=nh(Be,We,c);if(!Ze){ye(te,ae,ks(404,{pathname:We}));return}let{path:De,submission:Je,error:Fe}=RN(d.v7_normalizeFormMethod,!0,We,Ee);if(Fe){ye(te,ae,Fe);return}let Ce=wD(Ze,De);if(S=(Ee&&Ee.preventScrollReset)===!0,Je&&Eo(Je.formMethod)){X(te,ae,De,Ce,Ze,Je);return}K.set(te,{routeId:ae,path:De}),se(te,ae,De,Ce,Ze,Je)}async function X(te,ae,de,Ee,Be,We){if(ve(),K.delete(te),!Ee.route.action&&!Ee.route.lazy){let $t=ks(405,{method:We.formMethod,pathname:de,routeId:ae});ye(te,ae,$t);return}let Ze=w.fetchers.get(te),De=Coe(We,Ze);w.fetchers.set(te,De),H({fetchers:new Map(w.fetchers)});let Je=new AbortController,Fe=vm(t.history,de,Je.signal,We);k.set(te,Je);let Ce=W,Ne=await gm("action",Fe,Ee,Be,o,s,c);if(Fe.signal.aborted){k.get(te)===Je&&k.delete(te);return}if(ue.has(te)){w.fetchers.set(te,ru(void 0)),H({fetchers:new Map(w.fetchers)});return}if(_h(Ne))if(k.delete(te),G>Ce){let $t=ru(void 0);w.fetchers.set(te,$t),H({fetchers:new Map(w.fetchers)});return}else{$.add(te);let $t=ym(We);return w.fetchers.set(te,$t),H({fetchers:new Map(w.fetchers)}),le(w,Ne,{fetcherSubmission:We})}if(Cg(Ne)){ye(te,ae,Ne.error);return}if(Yc(Ne))throw ks(400,{type:"defer-action"});let Le=w.navigation.location||w.location,Qe=vm(t.history,Le,Je.signal),Dt=l||a,nr=w.navigation.state!=="idle"?nh(Dt,w.navigation.location,c):w.matches;Xt(nr,"Didn't find any matches after fetcher action");let ir=++W;j.set(te,ir);let rn=ym(We,Ne.data);w.fetchers.set(te,rn);let[Ar,Nt]=ON(t.history,w,nr,We,Le,P,O,I,K,$,Dt,c,{[Ee.route.id]:Ne.data},void 0);Nt.filter($t=>$t.key!==te).forEach($t=>{let Ii=$t.key,Kl=w.fetchers.get(Ii),Ts=ym(void 0,Kl?Kl.data:void 0);w.fetchers.set(Ii,Ts),k.has(Ii)&&je(Ii),$t.controller&&k.set(Ii,$t.controller)}),H({fetchers:new Map(w.fetchers)});let gn=()=>Nt.forEach($t=>je($t.key));Je.signal.addEventListener("abort",gn);let{results:Lt,loaderResults:vn,fetcherResults:Yr}=await Ae(w.matches,nr,Ar,Nt,Qe);if(Je.signal.aborted)return;Je.signal.removeEventListener("abort",gn),j.delete(te),k.delete(te),Nt.forEach($t=>k.delete($t.key));let Bt=LN(Lt);if(Bt){if(Bt.idx>=Ar.length){let $t=Nt[Bt.idx-Ar.length].key;$.add($t)}return le(w,Bt.result)}let{loaderData:yr,errors:Oi}=MN(w,w.matches,Ar,vn,void 0,Nt,Yr,pe);if(w.fetchers.has(te)){let $t=ru(Ne.data);w.fetchers.set(te,$t)}Ke(ir),w.navigation.state==="loading"&&ir>G?(Xt(x,"Expected pending action"),A&&A.abort(),re(w.navigation.location,{matches:nr,loaderData:yr,errors:Oi,fetchers:new Map(w.fetchers)})):(H({errors:Oi,loaderData:kN(w.loaderData,yr,nr,Oi),fetchers:new Map(w.fetchers)}),P=!1)}async function se(te,ae,de,Ee,Be,We){let Ze=w.fetchers.get(te),De=ym(We,Ze?Ze.data:void 0);w.fetchers.set(te,De),H({fetchers:new Map(w.fetchers)});let Je=new AbortController,Fe=vm(t.history,de,Je.signal);k.set(te,Je);let Ce=W,Ne=await gm("loader",Fe,Ee,Be,o,s,c);if(Yc(Ne)&&(Ne=await Tz(Ne,Fe.signal,!0)||Ne),k.get(te)===Je&&k.delete(te),Fe.signal.aborted)return;if(ue.has(te)){w.fetchers.set(te,ru(void 0)),H({fetchers:new Map(w.fetchers)});return}if(_h(Ne))if(G>Ce){let Qe=ru(void 0);w.fetchers.set(te,Qe),H({fetchers:new Map(w.fetchers)});return}else{$.add(te),await le(w,Ne);return}if(Cg(Ne)){ye(te,ae,Ne.error);return}Xt(!Yc(Ne),"Unhandled fetcher deferred data");let Le=ru(Ne.data);w.fetchers.set(te,Le),H({fetchers:new Map(w.fetchers)})}async function le(te,ae,de){let{submission:Ee,fetcherSubmission:Be,replace:We}=de===void 0?{}:de;ae.revalidate&&(P=!0);let Ze=vv(te.location,ae.location,{_isRedirect:!0});if(Xt(Ze,"Expected a location on the redirect navigation"),r){let Le=!1;if(ae.reloadDocument)Le=!0;else if(Ez.test(ae.location)){const Qe=t.history.createURL(ae.location);Le=Qe.origin!==e.location.origin||Gy(Qe.pathname,c)==null}if(Le){We?e.location.replace(ae.location):e.location.assign(ae.location);return}}A=null;let De=We===!0?qr.Replace:qr.Push,{formMethod:Je,formAction:Fe,formEncType:Ce}=te.navigation;!Ee&&!Be&&Je&&Fe&&Ce&&(Ee=$N(te.navigation));let Ne=Ee||Be;if(foe.has(ae.status)&&Ne&&Eo(Ne.formMethod))await be(De,Ze,{submission:Wr({},Ne,{formAction:ae.location}),preventScrollReset:S});else{let Le=fC(Ze,Ee);await be(De,Ze,{overrideNavigation:Le,fetcherSubmission:Be,preventScrollReset:S})}}async function Ae(te,ae,de,Ee,Be){let We=await Promise.all([...de.map(Je=>gm("loader",Be,Je,ae,o,s,c)),...Ee.map(Je=>Je.matches&&Je.match&&Je.controller?gm("loader",vm(t.history,Je.path,Je.controller.signal),Je.match,Je.matches,o,s,c):{type:Zr.error,error:ks(404,{pathname:Je.path})})]),Ze=We.slice(0,de.length),De=We.slice(de.length);return await Promise.all([UN(te,de,Ze,Ze.map(()=>Be.signal),!1,w.loaderData),UN(te,Ee.map(Je=>Je.match),De,Ee.map(Je=>Je.controller?Je.controller.signal:null),!0)]),{results:We,loaderResults:Ze,fetcherResults:De}}function ve(){P=!0,O.push(...ie()),K.forEach((te,ae)=>{k.has(ae)&&(I.push(ae),je(ae))})}function ye(te,ae,de){let Ee=Sg(w.matches,ae);Te(te),H({errors:{[Ee.route.id]:de},fetchers:new Map(w.fetchers)})}function Te(te){let ae=w.fetchers.get(te);k.has(te)&&!(ae&&ae.state==="loading"&&j.has(te))&&je(te),K.delete(te),j.delete(te),$.delete(te),ue.delete(te),w.fetchers.delete(te)}function Re(te){if(d.v7_fetcherPersist){let ae=(Q.get(te)||0)-1;ae<=0?(Q.delete(te),ue.add(te)):Q.set(te,ae)}else Te(te);H({fetchers:new Map(w.fetchers)})}function je(te){let ae=k.get(te);Xt(ae,"Expected fetch controller: "+te),ae.abort(),k.delete(te)}function ft(te){for(let ae of te){let de=dt(ae),Ee=ru(de.data);w.fetchers.set(ae,Ee)}}function Et(){let te=[],ae=!1;for(let de of $){let Ee=w.fetchers.get(de);Xt(Ee,"Expected fetcher: "+de),Ee.state==="loading"&&($.delete(de),te.push(de),ae=!0)}return ft(te),ae}function Ke(te){let ae=[];for(let[de,Ee]of j)if(Ee<te){let Be=w.fetchers.get(de);Xt(Be,"Expected fetcher: "+de),Be.state==="loading"&&(je(de),j.delete(de),ae.push(de))}return ft(ae),ae.length>0}function L(te,ae){let de=w.blockers.get(te)||mm;return oe.get(te)!==ae&&oe.set(te,ae),de}function B(te){w.blockers.delete(te),oe.delete(te)}function U(te,ae){let de=w.blockers.get(te)||mm;Xt(de.state==="unblocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="proceeding"||de.state==="blocked"&&ae.state==="unblocked"||de.state==="proceeding"&&ae.state==="unblocked","Invalid blocker state transition: "+de.state+" -> "+ae.state);let Ee=new Map(w.blockers);Ee.set(te,ae),H({blockers:Ee})}function J(te){let{currentLocation:ae,nextLocation:de,historyAction:Ee}=te;if(oe.size===0)return;oe.size>1&&Xu(!1,"A router only supports one blocker at a time");let Be=Array.from(oe.entries()),[We,Ze]=Be[Be.length-1],De=w.blockers.get(We);if(!(De&&De.state==="proceeding")&&Ze({currentLocation:ae,nextLocation:de,historyAction:Ee}))return We}function ie(te){let ae=[];return pe.forEach((de,Ee)=>{(!te||te(Ee))&&(de.cancel(),ae.push(Ee),pe.delete(Ee))}),ae}function ke(te,ae,de){if(g=te,_=ae,y=de||null,!u&&w.navigation===dC){u=!0;let Ee=Ye(w.location,w.matches);Ee!=null&&H({restoreScrollPosition:Ee})}return()=>{g=null,_=null,y=null}}function Ve(te,ae){return y&&y(te,ae.map(Ee=>jse(Ee,w.loaderData)))||te.key}function ut(te,ae){if(g&&_){let de=Ve(te,ae);g[de]=_()}}function Ye(te,ae){if(g){let de=Ve(te,ae),Ee=g[de];if(typeof Ee=="number")return Ee}return null}function vt(te){o={},l=yD(te,s,void 0,o)}return b={get basename(){return c},get state(){return w},get routes(){return a},get window(){return e},initialize:Y,subscribe:V,enableScrollRestoration:ke,navigate:ne,fetch:xt,revalidate:_e,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:dt,deleteFetcher:Re,dispose:z,getBlocker:L,deleteBlocker:B,_internalFetchControllers:k,_internalActiveDeferreds:pe,_internalSetRoutes:vt},b}function goe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _D(t,e,r,n,s,o,a){let l,c;if(o!=null&&a!=="path"){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=ioe(s||".",bz(l).map(h=>h.pathnameBase),Gy(t.pathname,r)||t.pathname,a==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!UO(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:id([r,d.pathname])),zy(d)}function RN(t,e,r,n){if(!n||!goe(n))return{path:r};if(n.formMethod&&!Eoe(n.formMethod))return{path:r,error:ks(405,{method:n.formMethod})};let s=()=>({path:r,error:ks(400,{type:"invalid-body"})}),o=n.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),l=Az(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Eo(a))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,_)=>{let[u,f]=_;return""+y+u+"="+f+"\n"},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Eo(a))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}Xt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=bD(n.formData),d=n.formData;else if(n.body instanceof FormData)c=bD(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=FN(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=FN(c)}catch(g){return s()}let h={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Eo(h.formMethod))return{path:r,submission:h};let m=Ia(r);return e&&m.search&&UO(m.search)&&c.append("index",""),m.search="?"+c,{path:zy(m),submission:h}}function voe(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function ON(t,e,r,n,s,o,a,l,c,d,h,m,g,y){let _=y?Object.values(y)[0]:g?Object.values(g)[0]:void 0,u=t.createURL(e.location),f=t.createURL(s),p=y?Object.keys(y)[0]:void 0,b=voe(r,p).filter((x,S)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(yoe(e.loaderData,e.matches[S],x)||a.some(C=>C===x.route.id))return!0;let A=e.matches[S],D=x;return IN(x,Wr({currentUrl:u,currentParams:A.params,nextUrl:f,nextParams:D.params},n,{actionResult:_,defaultShouldRevalidate:o||u.pathname+u.search===f.pathname+f.search||u.search!==f.search||Cz(A,D)}))}),w=[];return c.forEach((x,S)=>{if(!r.some(R=>R.route.id===x.routeId))return;let A=nh(h,x.path,m);if(!A){w.push({key:S,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(S),C=wD(A,x.path),T=!1;d.has(S)?T=!1:l.includes(S)?T=!0:D&&D.state!=="idle"&&D.data===void 0?T=o:T=IN(C,Wr({currentUrl:u,currentParams:e.matches[e.matches.length-1].params,nextUrl:f,nextParams:r[r.length-1].params},n,{actionResult:_,defaultShouldRevalidate:o})),T&&w.push({key:S,routeId:x.routeId,path:x.path,matches:A,match:C,controller:new AbortController})}),[b,w]}function yoe(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function Cz(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function IN(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function BN(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Xt(s,"No route found in manifest");let o={};for(let a in n){let c=s[a]!==void 0&&a!=="hasErrorBoundary";Xu(!c,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!Use.has(a)&&(o[a]=n[a])}Object.assign(s,o),Object.assign(s,Wr({},e(s),{lazy:void 0}))}async function gm(t,e,r,n,s,o,a,l){l===void 0&&(l={});let c,d,h,m=_=>{let u,f=new Promise((p,v)=>u=v);return h=()=>u(),e.signal.addEventListener("abort",h),Promise.race([_({request:e,params:r.params,context:l.requestContext}),f])};try{let _=r.route[t];if(r.route.lazy)if(_){let u,f=await Promise.all([m(_).catch(p=>{u=p}),BN(r.route,o,s)]);if(u)throw u;d=f[0]}else if(await BN(r.route,o,s),_=r.route[t],_)d=await m(_);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw ks(405,{method:e.method,pathname:f,routeId:r.route.id})}else return{type:Zr.data,data:void 0};else if(_)d=await m(_);else{let u=new URL(e.url),f=u.pathname+u.search;throw ks(404,{pathname:f})}Xt(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){c=Zr.error,d=_}finally{h&&e.signal.removeEventListener("abort",h)}if(xoe(d)){let _=d.status;if(doe.has(_)){let p=d.headers.get("Location");if(Xt(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ez.test(p))p=_D(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,p);else if(!l.isStaticRequest){let v=new URL(e.url),b=p.startsWith("//")?new URL(v.protocol+p):new URL(p),w=Gy(b.pathname,a)!=null;b.origin===v.origin&&w&&(p=b.pathname+b.search+b.hash)}if(l.isStaticRequest)throw d.headers.set("Location",p),d;return{type:Zr.redirect,status:_,location:p,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Zr.error?Zr.error:Zr.data,response:d};let u,f=d.headers.get("Content-Type");return f&&/\bapplication\/json\b/.test(f)?u=await d.json():u=await d.text(),c===Zr.error?{type:c,error:new LO(_,d.statusText,u),headers:d.headers}:{type:Zr.data,data:u,statusCode:d.status,headers:d.headers}}if(c===Zr.error)return{type:c,error:d};if(woe(d)){var g,y;return{type:Zr.deferred,deferredData:d,statusCode:(g=d.init)==null?void 0:g.status,headers:((y=d.init)==null?void 0:y.headers)&&new Headers(d.init.headers)}}return{type:Zr.data,data:d}}function vm(t,e,r,n){let s=t.createURL(Az(e)).toString(),o={signal:r};if(n&&Eo(n.formMethod)){let{formMethod:a,formEncType:l}=n;o.method=a.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(n.json)):l==="text/plain"?o.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?o.body=bD(n.formData):o.body=n.formData}return new Request(s,o)}function bD(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function FN(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function _oe(t,e,r,n,s){let o={},a=null,l,c=!1,d={};return r.forEach((h,m)=>{let g=e[m].route.id;if(Xt(!_h(h),"Cannot handle redirect results in processLoaderData"),Cg(h)){let y=Sg(t,g),_=h.error;n&&(_=Object.values(n)[0],n=void 0),a=a||{},a[y.route.id]==null&&(a[y.route.id]=_),o[g]=void 0,c||(c=!0,l=wz(h.error)?h.error.status:500),h.headers&&(d[g]=h.headers)}else Yc(h)?(s.set(g,h.deferredData),o[g]=h.deferredData.data):o[g]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(d[g]=h.headers)}),n&&(a=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function MN(t,e,r,n,s,o,a,l){let{loaderData:c,errors:d}=_oe(e,r,n,s,l);for(let h=0;h<o.length;h++){let{key:m,match:g,controller:y}=o[h];Xt(a!==void 0&&a[h]!==void 0,"Did not find corresponding fetcher result");let _=a[h];if(!(y&&y.signal.aborted))if(Cg(_)){let u=Sg(t.matches,g==null?void 0:g.route.id);d&&d[u.route.id]||(d=Wr({},d,{[u.route.id]:_.error})),t.fetchers.delete(m)}else if(_h(_))Xt(!1,"Unhandled fetcher revalidation redirect");else if(Yc(_))Xt(!1,"Unhandled fetcher deferred data");else{let u=ru(_.data);t.fetchers.set(m,u)}}return{loaderData:c,errors:d}}function kN(t,e,r,n){let s=Wr({},e);for(let o of r){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(s[a]=e[a]):t[a]!==void 0&&o.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function Sg(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function NN(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ks(t,e){let{pathname:r,routeId:n,method:s,type:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new LO(t||500,a,new Error(l),!0)}function LN(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(_h(r))return{result:r,idx:e}}}function Az(t){let e=typeof t=="string"?Ia(t):t;return zy(Wr({},e,{hash:""}))}function boe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Yc(t){return t.type===Zr.deferred}function Cg(t){return t.type===Zr.error}function _h(t){return(t&&t.type)===Zr.redirect}function woe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function xoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Eoe(t){return coe.has(t.toLowerCase())}function Eo(t){return loe.has(t.toLowerCase())}async function UN(t,e,r,n,s,o){for(let a=0;a<r.length;a++){let l=r[a],c=e[a];if(!c)continue;let d=t.find(m=>m.route.id===c.route.id),h=d!=null&&!Cz(d,c)&&(o&&o[c.route.id])!==void 0;if(Yc(l)&&(s||h)){let m=n[a];Xt(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await Tz(l,m,s).then(g=>{g&&(r[a]=g||r[a])})}}}async function Tz(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Zr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Zr.error,error:s}}return{type:Zr.data,data:t.deferredData.data}}}function UO(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wD(t,e){let r=typeof e=="string"?Ia(e).search:e.search;if(t[t.length-1].route.index&&UO(r||""))return t[t.length-1];let n=bz(t);return n[n.length-1]}function $N(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:o,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function fC(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Soe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ym(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Coe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ru(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Aoe(t,e){try{let r=t.sessionStorage.getItem(Sz);if(r){let n=JSON.parse(r);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch(r){}}function Toe(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(Sz,JSON.stringify(r))}catch(n){Xu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xD(){return xD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xD.apply(this,arguments)}const Dz=E.createContext(null),Pz=E.createContext(null),Rz=E.createContext(null),tE=E.createContext(null),rE=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Oz=E.createContext(null);function $O(){return E.useContext(tE)!=null}function Doe(){return $O()||Xt(!1),E.useContext(tE).location}function Poe(t,e,r){$O()||Xt(!1);let{navigator:n}=E.useContext(Rz),{matches:s}=E.useContext(rE),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Doe(),d;if(e){var h;let u=typeof e=="string"?Ia(e):e;l==="/"||(h=u.pathname)!=null&&h.startsWith(l)||Xt(!1),d=u}else d=c;let m=d.pathname||"/",g=l==="/"?m:m.slice(l.length)||"/",y=nh(t,{pathname:g}),_=Foe(y&&y.map(u=>Object.assign({},u,{params:Object.assign({},a,u.params),pathname:id([l,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?l:id([l,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),s,r);return e&&_?E.createElement(tE.Provider,{value:{location:xD({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qr.Pop}},_):_}function Roe(){let t=Loe(),e=wz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,o)}const Ooe=E.createElement(Roe,null);class Ioe extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?E.createElement(rE.Provider,{value:this.props.routeContext},E.createElement(Oz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Boe(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(Dz);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(rE.Provider,{value:e},n)}function Foe(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(n=r)==null?void 0:n.errors;if(a!=null){let l=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||Xt(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,c,d)=>{let h=c.route.id?a==null?void 0:a[c.route.id]:null,m=null;r&&(m=c.route.errorElement||Ooe);let g=e.concat(o.slice(0,d+1)),y=()=>{let _;return h?_=m:c.route.Component?_=E.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,E.createElement(Boe,{match:c,routeContext:{outlet:l,matches:g,isDataRoute:r!=null},children:_})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?E.createElement(Ioe,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var ED=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ED||{});function Moe(t){let e=E.useContext(Pz);return e||Xt(!1),e}function koe(t){let e=E.useContext(rE);return e||Xt(!1),e}function Noe(t){let e=koe(),r=e.matches[e.matches.length-1];return r.route.id||Xt(!1),r.route.id}function Loe(){var t;let e=E.useContext(Oz),r=Moe(ED.UseRouteError),n=Noe(ED.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function Uoe(t){let{basename:e="/",children:r=null,location:n,navigationType:s=qr.Pop,navigator:o,static:a=!1}=t;$O()&&Xt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof n=="string"&&(n=Ia(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=n,_=E.useMemo(()=>{let u=Gy(d,l);return u==null?null:{location:{pathname:u,search:h,hash:m,state:g,key:y},navigationType:s}},[l,d,h,m,g,y,s]);return _==null?null:E.createElement(Rz.Provider,{value:c},E.createElement(tE.Provider,{children:r,value:_}))}new Promise(()=>{});function $oe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(this,arguments)}function JXe(t,e){return moe({basename:e==null?void 0:e.basename,future:Ww({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:kse({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||joe(),routes:t,mapRouteProperties:$oe,window:e==null?void 0:e.window}).initialize()}function joe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ww({},e,{errors:zoe(e.errors)})),e}function zoe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new LO(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let a=new o(s.message);a.stack="",r[n]=a}catch(a){}}if(r[n]==null){let o=new Error(s.message);o.stack="",r[n]=o}}else r[n]=s;return r}const Goe=E.createContext({isTransitioning:!1}),Voe=E.createContext(new Map),Hoe="startTransition",jN=WR[Hoe];function Woe(t){jN?jN(t):t()}class Koe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function QXe(t){let{fallbackElement:e,router:r,future:n}=t,[s,o]=E.useState(r.state),[a,l]=E.useState(),[c,d]=E.useState({isTransitioning:!1}),[h,m]=E.useState(),[g,y]=E.useState(),[_,u]=E.useState(),f=E.useRef(new Map),{v7_startTransition:p}=n||{},v=E.useCallback(A=>{p?Woe(A):A()},[p]),b=E.useCallback((A,D)=>{let{deletedFetchers:C,unstable_viewTransitionOpts:T}=D;C.forEach(R=>f.current.delete(R)),A.fetchers.forEach((R,P)=>{R.data!==void 0&&f.current.set(P,R.data)}),!T||r.window==null||typeof r.window.document.startViewTransition!="function"?v(()=>o(A)):g&&h?(h.resolve(),g.skipTransition(),u({state:A,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(l(A),d({isTransitioning:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[r.window,g,h,f,v]);E.useLayoutEffect(()=>r.subscribe(b),[r,b]),E.useEffect(()=>{c.isTransitioning&&m(new Koe)},[c.isTransitioning]),E.useEffect(()=>{if(h&&a&&r.window){let A=a,D=h.promise,C=r.window.document.startViewTransition(async()=>{v(()=>o(A)),await D});C.finished.finally(()=>{m(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(C)}},[v,a,h,r.window]),E.useEffect(()=>{h&&a&&s.location.key===a.location.key&&h.resolve()},[h,g,s.location,a]),E.useEffect(()=>{!c.isTransitioning&&_&&(l(_.state),d({isTransitioning:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),u(void 0))},[c.isTransitioning,_]);let w=E.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:A=>r.navigate(A),push:(A,D,C)=>r.navigate(A,{state:D,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(A,D,C)=>r.navigate(A,{replace:!0,state:D,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[r]),x=r.basename||"/",S=E.useMemo(()=>({router:r,navigator:w,static:!1,basename:x}),[r,w,x]);return E.createElement(E.Fragment,null,E.createElement(Dz.Provider,{value:S},E.createElement(Pz.Provider,{value:s},E.createElement(Voe.Provider,{value:f.current},E.createElement(Goe.Provider,{value:c},E.createElement(Uoe,{basename:x,location:s.location,navigationType:s.historyAction,navigator:w},s.initialized?E.createElement(Xoe,{routes:r.routes,state:s}):e))))),null)}function Xoe(t){let{routes:e,state:r}=t;return Poe(e,void 0,r)}var zN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zN||(zN={}));var GN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GN||(GN={}));function Iz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Iz(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yv(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Iz(t))&&(n&&(n+=" "),n+=e);return n}const jO="-",Yoe=t=>{const e=Zoe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(jO);return l[0]===""&&l.length!==1&&l.shift(),Bz(l,e)||qoe(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Bz=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Bz(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(jO);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},VN=/^\[(.+)\]$/,qoe=t=>{if(VN.test(t)){const e=VN.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Zoe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Qoe(Object.entries(t.classGroups),r).forEach(([o,a])=>{SD(a,n,o,e)}),n},SD=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:HN(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Joe(s)){SD(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{SD(a,HN(e,o),r,n)})})},HN=(t,e)=>{let r=t;return e.split(jO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Joe=t=>t.isThemeGetter,Qoe=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[r,s]}):t,eae=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Fz="!",tae=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,a=l=>{const c=[];let d=0,h=0,m;for(let f=0;f<l.length;f++){let p=l[f];if(d===0){if(p===s&&(n||l.slice(f,f+o)===e)){c.push(l.slice(h,f)),h=f+o;continue}if(p==="/"){m=f;continue}}p==="["?d++:p==="]"&&d--}const g=c.length===0?l:l.substring(h),y=g.startsWith(Fz),_=y?g.substring(1):g,u=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:u}};return r?l=>r({className:l,parseClassName:a}):a},rae=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},nae=t=>({cache:eae(t.cacheSize),parseClassName:tae(t),...Yoe(t)}),iae=/\s+/,sae=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(iae);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}=r(d);let _=!!y,u=n(_?g.substring(0,y):g);if(!u){if(!_){l=d+(l.length>0?" "+l:l);continue}if(u=n(g),!u){l=d+(l.length>0?" "+l:l);continue}_=!1}const f=rae(h).join(":"),p=m?f+Fz:f,v=p+u;if(o.includes(v))continue;o.push(v);const b=s(u,_);for(let w=0;w<b.length;++w){const x=b[w];o.push(p+x)}l=d+(l.length>0?" "+l:l)}return l};function oae(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Mz(e))&&(n&&(n+=" "),n+=r);return n}const Mz=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Mz(t[n]))&&(r&&(r+=" "),r+=e);return r};function aae(t,...e){let r,n,s,o=a;function a(c){const d=e.reduce((h,m)=>m(h),t());return r=nae(d),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=sae(c,r);return s(c,h),h}return function(){return o(oae.apply(null,arguments))}}const _r=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},kz=/^\[(?:([a-z-]+):)?(.+)\]$/i,lae=/^\d+\/\d+$/,uae=new Set(["px","full","screen"]),cae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=t=>bh(t)||uae.has(t)||lae.test(t),Zl=t=>Cp(t,"length",xae),bh=t=>!!t&&!Number.isNaN(Number(t)),hC=t=>Cp(t,"number",bh),_m=t=>!!t&&Number.isInteger(Number(t)),mae=t=>t.endsWith("%")&&bh(t.slice(0,-1)),Mt=t=>kz.test(t),Jl=t=>cae.test(t),gae=new Set(["length","size","percentage"]),vae=t=>Cp(t,gae,Nz),yae=t=>Cp(t,"position",Nz),_ae=new Set(["image","url"]),bae=t=>Cp(t,_ae,Sae),wae=t=>Cp(t,"",Eae),bm=()=>!0,Cp=(t,e,r)=>{const n=kz.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},xae=t=>dae.test(t)&&!fae.test(t),Nz=()=>!1,Eae=t=>hae.test(t),Sae=t=>pae.test(t),Cae=()=>{const t=_r("colors"),e=_r("spacing"),r=_r("blur"),n=_r("brightness"),s=_r("borderColor"),o=_r("borderRadius"),a=_r("borderSpacing"),l=_r("borderWidth"),c=_r("contrast"),d=_r("grayscale"),h=_r("hueRotate"),m=_r("invert"),g=_r("gap"),y=_r("gradientColorStops"),_=_r("gradientColorStopPositions"),u=_r("inset"),f=_r("margin"),p=_r("opacity"),v=_r("padding"),b=_r("saturate"),w=_r("scale"),x=_r("sepia"),S=_r("skew"),A=_r("space"),D=_r("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Mt,e],P=()=>[Mt,e],O=()=>["",ja,Zl],I=()=>["auto",bh,Mt],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Mt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[bh,Mt];return{cacheSize:500,separator:":",theme:{colors:[bm],spacing:[ja,Zl],blur:["none","",Jl,Mt],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Jl,Mt],borderSpacing:P(),borderWidth:O(),contrast:Q(),grayscale:$(),hueRotate:Q(),invert:$(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[mae,Zl],inset:R(),margin:R(),opacity:Q(),padding:P(),saturate:Q(),scale:Q(),sepia:$(),skew:Q(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[Jl]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Mt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_m,Mt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",_m,Mt]}],"grid-cols":[{"grid-cols":[bm]}],"col-start-end":[{col:["auto",{span:["full",_m,Mt]},Mt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[bm]}],"row-start-end":[{row:["auto",{span:[_m,Mt]},Mt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,e]}],"min-w":[{"min-w":[Mt,e,"min","max","fit"]}],"max-w":[{"max-w":[Mt,e,"none","full","min","max","fit","prose",{screen:[Jl]},Jl]}],h:[{h:[Mt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jl,Zl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hC]}],"font-family":[{font:[bm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",bh,hC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ja,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ja,Zl]}],"underline-offset":[{"underline-offset":["auto",ja,Mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),yae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bae]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ja,Mt]}],"outline-w":[{outline:[ja,Zl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ja,Zl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jl,wae]}],"shadow-color":[{shadow:[bm]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jl,Mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[_m,Mt]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ja,Zl,hC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Aae=aae(Cae),WN=t=>{let e;const r=new Set,n=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=(m!=null?m:typeof g!="object"||g===null)?g:Object.assign({},e,g),r.forEach(_=>_(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{r.clear()}},d=e=t(n,s,c);return c},Lz=t=>t?WN(t):WN;var Uz={exports:{}},$z={},jz={exports:{}},zz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=E;function Tae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dae=typeof Object.is=="function"?Object.is:Tae,Pae=Wh.useState,Rae=Wh.useEffect,Oae=Wh.useLayoutEffect,Iae=Wh.useDebugValue;function Bae(t,e){var r=e(),n=Pae({inst:{value:r,getSnapshot:e}}),s=n[0].inst,o=n[1];return Oae(function(){s.value=r,s.getSnapshot=e,pC(s)&&o({inst:s})},[t,r,e]),Rae(function(){return pC(s)&&o({inst:s}),t(function(){pC(s)&&o({inst:s})})},[t]),Iae(r),r}function pC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dae(t,r)}catch(n){return!0}}function Fae(t,e){return e()}var Mae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fae:Bae;zz.useSyncExternalStore=Wh.useSyncExternalStore!==void 0?Wh.useSyncExternalStore:Mae;jz.exports=zz;var kae=jz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=E,Nae=kae;function Lae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uae=typeof Object.is=="function"?Object.is:Lae,$ae=Nae.useSyncExternalStore,jae=nE.useRef,zae=nE.useEffect,Gae=nE.useMemo,Vae=nE.useDebugValue;$z.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var o=jae(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Gae(function(){function c(y){if(!d){if(d=!0,h=y,y=n(y),s!==void 0&&a.hasValue){var _=a.value;if(s(_,y))return m=_}return m=y}if(_=m,Uae(h,y))return _;var u=n(y);return s!==void 0&&s(_,u)?_:(h=y,m=u)}var d=!1,h,m,g=r===void 0?null:r;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,r,n,s]);var l=$ae(t,o[0],o[1]);return zae(function(){a.hasValue=!0,a.value=l},[l]),Vae(l),l};Uz.exports=$z;var Hae=Uz.exports;const Gz=qn(Hae),{useDebugValue:Wae}=Z,{useSyncExternalStoreWithSelector:Kae}=Gz;const Xae=t=>t;function Yae(t,e=Xae,r){const n=Kae(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Wae(n),n}const KN=t=>{const e=typeof t=="function"?Lz(t):t,r=(n,s)=>Yae(e,n,s);return Object.assign(r,e),r},eYe=t=>t?KN(t):KN;var mc=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(mc||{}),zO=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(zO||{}),Kw=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Kw||{}),wt=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(wt||{}),Ao=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Ao||{}),Ie=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Ie||{}),sd=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(sd||{}),mt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(mt||{}),tt=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(tt||{}),ha=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ha||{}),wa=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(wa||{}),Go=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Go||{}),xi=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(xi||{}),Co=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Co||{}),iE=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(iE||{}),hs=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(hs||{}),sn=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(sn||{}),Vz=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(Vz||{}),en=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(en||{}),ko=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ko||{});const Hz={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},nt={ADAPTER:Hz,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var mC=/iPhone/i,XN=/iPod/i,YN=/iPad/i,qN=/\biOS-universal(?:.+)Mac\b/i,gC=/\bAndroid(?:.+)Mobile\b/i,ZN=/Android/i,df=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c0=/Silk/i,za=/Windows Phone/i,JN=/\bWindows(?:.+)ARM\b/i,QN=/BlackBerry/i,e3=/BB10/i,t3=/Opera Mini/i,r3=/\b(CriOS|Chrome)(?:.+)Mobile/i,n3=/Mobile(?:.+)Firefox\b/i,i3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function qae(t){return function(e){return e.test(t)}}function s3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var s=qae(r),o={apple:{phone:s(mC)&&!s(za),ipod:s(XN),tablet:!s(mC)&&(s(YN)||i3(e))&&!s(za),universal:s(qN),device:(s(mC)||s(XN)||s(YN)||s(qN)||i3(e))&&!s(za)},amazon:{phone:s(df),tablet:!s(df)&&s(c0),device:s(df)||s(c0)},android:{phone:!s(za)&&s(df)||!s(za)&&s(gC),tablet:!s(za)&&!s(df)&&!s(gC)&&(s(c0)||s(ZN)),device:!s(za)&&(s(df)||s(c0)||s(gC)||s(ZN))||s(/\bokhttp\b/i)},windows:{phone:s(za),tablet:s(JN),device:s(za)||s(JN)},other:{blackberry:s(QN),blackberry10:s(e3),opera:s(t3),firefox:s(n3),chrome:s(r3),device:s(QN)||s(e3)||s(t3)||s(n3)||s(r3)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var i6;const Zae=(i6=s3.default)!=null?i6:s3,To=Zae(globalThis.navigator);nt.RETINA_PREFIX=/@([0-9\.]+)x/;nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Wz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,m||c,g),_=r?r+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,_=new Array(y);g<y;g++)_[g]=m[g].fn;return _},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,y,_){var u=r?r+d:d;if(!this._events[u])return!1;var f=this._events[u],p=arguments.length,v,b;if(f.fn){switch(f.once&&this.removeListener(d,f.fn,void 0,!0),p){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,h),!0;case 3:return f.fn.call(f.context,h,m),!0;case 4:return f.fn.call(f.context,h,m,g),!0;case 5:return f.fn.call(f.context,h,m,g,y),!0;case 6:return f.fn.call(f.context,h,m,g,y,_),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];f.fn.apply(f.context,v)}else{var w=f.length,x;for(b=0;b<w;b++)switch(f[b].once&&this.removeListener(d,f[b].fn,void 0,!0),p){case 1:f[b].fn.call(f[b].context);break;case 2:f[b].fn.call(f[b].context,h);break;case 3:f[b].fn.call(f[b].context,h,m);break;case 4:f[b].fn.call(f[b].context,h,m,g);break;default:if(!v)for(x=1,v=new Array(p-1);x<p;x++)v[x-1]=arguments[x];f[b].fn.apply(f[b].context,v)}}return!0},l.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var y=r?r+d:d;if(!this._events[y])return this;if(!h)return a(this,y),this;var _=this._events[y];if(_.fn)_.fn===h&&(!g||_.once)&&(!m||_.context===m)&&a(this,y);else{for(var u=0,f=[],p=_.length;u<p;u++)(_[u].fn!==h||g&&!_[u].once||m&&_[u].context!==m)&&f.push(_[u]);f.length?this._events[y]=f.length===1?f[0]:f:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Wz);var Jae=Wz.exports;const Ap=qn(Jae);var GO={exports:{}};GO.exports=sE;GO.exports.default=sE;function sE(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,o=Kz(t,0,s,r,!0),a=[];if(!o||o.next===o.prev)return a;var l,c,d,h,m,g,y;if(n&&(o=nle(t,e,o,r)),t.length>80*r){l=d=t[0],c=h=t[1];for(var _=r;_<s;_+=r)m=t[_],g=t[_+1],m<l&&(l=m),g<c&&(c=g),m>d&&(d=m),g>h&&(h=g);y=Math.max(d-l,h-c),y=y!==0?32767/y:0}return _v(o,a,r,l,c,y,0),a}function Kz(t,e,r,n,s){var o,a;if(s===TD(t,e,r,n)>0)for(o=e;o<r;o+=n)a=o3(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=o3(o,t[o],t[o+1],a);return a&&oE(a,a.next)&&(wv(a),a=a.next),a}function Dd(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(oE(r,r.next)||jr(r.prev,r,r.next)===0)){if(wv(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function _v(t,e,r,n,s,o,a){if(t){!a&&o&&lle(t,n,s,o);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,o?ele(t,n,s,o):Qae(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),wv(t),t=d.next,l=d.next;continue}if(t=d,t===l){a?a===1?(t=tle(Dd(t),e,r),_v(t,e,r,n,s,o,2)):a===2&&rle(t,e,r,n,s,o):_v(Dd(t),e,r,n,s,o,1);break}}}}function Qae(t){var e=t.prev,r=t,n=t.next;if(jr(e,r,n)>=0)return!1;for(var s=e.x,o=r.x,a=n.x,l=e.y,c=r.y,d=n.y,h=s<o?s<a?s:a:o<a?o:a,m=l<c?l<d?l:d:c<d?c:d,g=s>o?s>a?s:a:o>a?o:a,y=l>c?l>d?l:d:c>d?c:d,_=n.next;_!==e;){if(_.x>=h&&_.x<=g&&_.y>=m&&_.y<=y&&ih(s,l,o,c,a,d,_.x,_.y)&&jr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function ele(t,e,r,n){var s=t.prev,o=t,a=t.next;if(jr(s,o,a)>=0)return!1;for(var l=s.x,c=o.x,d=a.x,h=s.y,m=o.y,g=a.y,y=l<c?l<d?l:d:c<d?c:d,_=h<m?h<g?h:g:m<g?m:g,u=l>c?l>d?l:d:c>d?c:d,f=h>m?h>g?h:g:m>g?m:g,p=CD(y,_,e,r,n),v=CD(u,f,e,r,n),b=t.prevZ,w=t.nextZ;b&&b.z>=p&&w&&w.z<=v;){if(b.x>=y&&b.x<=u&&b.y>=_&&b.y<=f&&b!==s&&b!==a&&ih(l,h,c,m,d,g,b.x,b.y)&&jr(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=y&&w.x<=u&&w.y>=_&&w.y<=f&&w!==s&&w!==a&&ih(l,h,c,m,d,g,w.x,w.y)&&jr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=p;){if(b.x>=y&&b.x<=u&&b.y>=_&&b.y<=f&&b!==s&&b!==a&&ih(l,h,c,m,d,g,b.x,b.y)&&jr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=v;){if(w.x>=y&&w.x<=u&&w.y>=_&&w.y<=f&&w!==s&&w!==a&&ih(l,h,c,m,d,g,w.x,w.y)&&jr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function tle(t,e,r){var n=t;do{var s=n.prev,o=n.next.next;!oE(s,o)&&Xz(s,n,n.next,o)&&bv(s,o)&&bv(o,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),wv(n),wv(n.next),n=t=o),n=n.next}while(n!==t);return Dd(n)}function rle(t,e,r,n,s,o){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&dle(a,l)){var c=Yz(a,l);a=Dd(a,a.next),c=Dd(c,c.next),_v(a,e,r,n,s,o,0),_v(c,e,r,n,s,o,0);return}l=l.next}a=a.next}while(a!==t)}function nle(t,e,r,n){var s=[],o,a,l,c,d;for(o=0,a=e.length;o<a;o++)l=e[o]*n,c=o<a-1?e[o+1]*n:t.length,d=Kz(t,l,c,n,!1),d===d.next&&(d.steiner=!0),s.push(cle(d));for(s.sort(ile),o=0;o<s.length;o++)r=sle(s[o],r);return r}function ile(t,e){return t.x-e.x}function sle(t,e){var r=ole(t,e);if(!r)return e;var n=Yz(r,t);return Dd(n,n.next),Dd(r,r.next)}function ole(t,e){var r=e,n=t.x,s=t.y,o=-1/0,a;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var l=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>o&&(o=l,a=r.x<r.next.x?r:r.next,l===n))return a}r=r.next}while(r!==e);if(!a)return null;var c=a,d=a.x,h=a.y,m=1/0,g;r=a;do n>=r.x&&r.x>=d&&n!==r.x&&ih(s<h?n:o,s,d,h,s<h?o:n,s,r.x,r.y)&&(g=Math.abs(s-r.y)/(n-r.x),bv(r,t)&&(g<m||g===m&&(r.x>a.x||r.x===a.x&&ale(a,r)))&&(a=r,m=g)),r=r.next;while(r!==c);return a}function ale(t,e){return jr(t.prev,t,e.prev)<0&&jr(e.next,t,t.next)<0}function lle(t,e,r,n){var s=t;do s.z===0&&(s.z=CD(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,ule(s)}function ule(t){var e,r,n,s,o,a,l,c,d=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,l--):(s=n,n=n.nextZ,c--),o?o.nextZ=s:t=s,s.prevZ=o,o=s;r=n}o.nextZ=null,d*=2}while(a>1);return t}function CD(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function cle(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ih(t,e,r,n,s,o,a,l){return(s-a)*(e-l)>=(t-a)*(o-l)&&(t-a)*(n-l)>=(r-a)*(e-l)&&(r-a)*(o-l)>=(s-a)*(n-l)}function dle(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fle(t,e)&&(bv(t,e)&&bv(e,t)&&hle(t,e)&&(jr(t.prev,t,e.prev)||jr(t,e.prev,e))||oE(t,e)&&jr(t.prev,t,t.next)>0&&jr(e.prev,e,e.next)>0)}function jr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function oE(t,e){return t.x===e.x&&t.y===e.y}function Xz(t,e,r,n){var s=f0(jr(t,e,r)),o=f0(jr(t,e,n)),a=f0(jr(r,n,t)),l=f0(jr(r,n,e));return!!(s!==o&&a!==l||s===0&&d0(t,r,e)||o===0&&d0(t,n,e)||a===0&&d0(r,t,n)||l===0&&d0(r,e,n))}function d0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function f0(t){return t>0?1:t<0?-1:0}function fle(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Xz(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function bv(t,e){return jr(t.prev,t,t.next)<0?jr(t,e,t.next)>=0&&jr(t,t.prev,e)>=0:jr(t,e,t.prev)<0||jr(t,t.next,e)<0}function hle(t,e){var r=t,n=!1,s=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&s<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Yz(t,e){var r=new AD(t.i,t.x,t.y),n=new AD(e.i,e.x,e.y),s=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function o3(t,e,r,n){var s=new AD(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function wv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function AD(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}sE.deviation=function(t,e,r,n){var s=e&&e.length,o=s?e[0]*r:t.length,a=Math.abs(TD(t,0,o,r));if(s)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,h=l<c-1?e[l+1]*r:t.length;a-=Math.abs(TD(t,d,h,r))}var m=0;for(l=0;l<n.length;l+=3){var g=n[l]*r,y=n[l+1]*r,_=n[l+2]*r;m+=Math.abs((t[g]-t[_])*(t[y+1]-t[g+1])-(t[g]-t[y])*(t[_+1]-t[g+1]))}return a===0&&m===0?0:Math.abs((m-a)/a)};function TD(t,e,r,n){for(var s=0,o=e,a=r-n;o<r;o+=n)s+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return s}sE.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var o=0;o<t[s].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[s][o][a]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var ple=GO.exports;const qz=qn(ple);var Xw={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Xw.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,o=typeof ds=="object"&&ds;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,l=2147483647,c=36,d=1,h=26,m=38,g=700,y=72,_=128,u="-",f=/^xn--/,p=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,x=Math.floor,S=String.fromCharCode,A;function D(K){throw new RangeError(b[K])}function C(K,Q){for(var ue=K.length,pe=[];ue--;)pe[ue]=Q(K[ue]);return pe}function T(K,Q){var ue=K.split("@"),pe="";ue.length>1&&(pe=ue[0]+"@",K=ue[1]),K=K.replace(v,".");var oe=K.split("."),he=C(oe,Q).join(".");return pe+he}function R(K){for(var Q=[],ue=0,pe=K.length,oe,he;ue<pe;)oe=K.charCodeAt(ue++),oe>=55296&&oe<=56319&&ue<pe?(he=K.charCodeAt(ue++),(he&64512)==56320?Q.push(((oe&1023)<<10)+(he&1023)+65536):(Q.push(oe),ue--)):Q.push(oe);return Q}function P(K){return C(K,function(Q){var ue="";return Q>65535&&(Q-=65536,ue+=S(Q>>>10&1023|55296),Q=56320|Q&1023),ue+=S(Q),ue}).join("")}function O(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:c}function I(K,Q){return K+22+75*(K<26)-((Q!=0)<<5)}function k(K,Q,ue){var pe=0;for(K=ue?x(K/g):K>>1,K+=x(K/Q);K>w*h>>1;pe+=c)K=x(K/w);return x(pe+(w+1)*K/(K+m))}function W(K){var Q=[],ue=K.length,pe,oe=0,he=_,Y=y,z,V,H,re,ne,_e,be,xe,Se;for(z=K.lastIndexOf(u),z<0&&(z=0),V=0;V<z;++V)K.charCodeAt(V)>=128&&D("not-basic"),Q.push(K.charCodeAt(V));for(H=z>0?z+1:0;H<ue;){for(re=oe,ne=1,_e=c;H>=ue&&D("invalid-input"),be=O(K.charCodeAt(H++)),(be>=c||be>x((l-oe)/ne))&&D("overflow"),oe+=be*ne,xe=_e<=Y?d:_e>=Y+h?h:_e-Y,!(be<xe);_e+=c)Se=c-xe,ne>x(l/Se)&&D("overflow"),ne*=Se;pe=Q.length+1,Y=k(oe-re,pe,re==0),x(oe/pe)>l-he&&D("overflow"),he+=x(oe/pe),oe%=pe,Q.splice(oe++,0,he)}return P(Q)}function G(K){var Q,ue,pe,oe,he,Y,z,V,H,re,ne,_e=[],be,xe,Se,dt;for(K=R(K),be=K.length,Q=_,ue=0,he=y,Y=0;Y<be;++Y)ne=K[Y],ne<128&&_e.push(S(ne));for(pe=oe=_e.length,oe&&_e.push(u);pe<be;){for(z=l,Y=0;Y<be;++Y)ne=K[Y],ne>=Q&&ne<z&&(z=ne);for(xe=pe+1,z-Q>x((l-ue)/xe)&&D("overflow"),ue+=(z-Q)*xe,Q=z,Y=0;Y<be;++Y)if(ne=K[Y],ne<Q&&++ue>l&&D("overflow"),ne==Q){for(V=ue,H=c;re=H<=he?d:H>=he+h?h:H-he,!(V<re);H+=c)dt=V-re,Se=c-re,_e.push(S(I(re+dt%Se,0))),V=x(dt/Se);_e.push(S(I(V,0))),he=k(ue,xe,pe==oe),ue=0,++pe}++ue,++Q}return _e.join("")}function j(K){return T(K,function(Q){return f.test(Q)?W(Q.slice(4).toLowerCase()):Q})}function $(K){return T(K,function(Q){return p.test(Q)?"xn--"+G(Q):Q})}if(a={version:"1.4.1",ucs2:{decode:R,encode:P},decode:W,encode:G,toASCII:$,toUnicode:j},n&&s)if(t.exports==n)s.exports=a;else for(A in a)a.hasOwnProperty(A)&&(n[A]=a[A]);else r.punycode=a})(ds)})(Xw,Xw.exports);var mle=Xw.exports,gle=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==s||a.enumerable!==!0)return!1}return!0},a3=typeof Symbol<"u"&&Symbol,vle=gle,yle=function(){return typeof a3!="function"||typeof Symbol!="function"||typeof a3("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:vle()},l3={foo:{}},_le=Object,ble=function(){return{__proto__:l3}.foo===l3.foo&&!({__proto__:null}instanceof _le)},wle="Function.prototype.bind called on incompatible ",xle=Object.prototype.toString,Ele=Math.max,Sle="[object Function]",u3=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Cle=function(e,r){for(var n=[],s=r||0,o=0;s<e.length;s+=1,o+=1)n[o]=e[s];return n},Ale=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Tle=function(e){var r=this;if(typeof r!="function"||xle.apply(r)!==Sle)throw new TypeError(wle+r);for(var n=Cle(arguments,1),s,o=function(){if(this instanceof s){var h=r.apply(this,u3(n,arguments));return Object(h)===h?h:this}return r.apply(e,u3(n,arguments))},a=Ele(0,r.length-n.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(s=Function("binder","return function ("+Ale(l,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},Dle=Tle,VO=Function.prototype.bind||Dle,Ple=Function.prototype.call,Rle=Object.prototype.hasOwnProperty,Ole=VO,Ile=Ole.call(Ple,Rle),jt,Kh=SyntaxError,Zz=Function,wh=TypeError,vC=function(t){try{return Zz('"use strict"; return ('+t+").constructor;")()}catch(e){}},od=Object.getOwnPropertyDescriptor;if(od)try{od({},"")}catch(t){od=null}var yC=function(){throw new wh},Ble=od?function(){try{return arguments.callee,yC}catch(t){try{return od(arguments,"callee").get}catch(e){return yC}}}():yC,ff=yle(),Fle=ble(),Rn=Object.getPrototypeOf||(Fle?function(t){return t.__proto__}:null),Ff={},Mle=typeof Uint8Array>"u"||!Rn?jt:Rn(Uint8Array),ad={"%AggregateError%":typeof AggregateError>"u"?jt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?jt:ArrayBuffer,"%ArrayIteratorPrototype%":ff&&Rn?Rn([][Symbol.iterator]()):jt,"%AsyncFromSyncIteratorPrototype%":jt,"%AsyncFunction%":Ff,"%AsyncGenerator%":Ff,"%AsyncGeneratorFunction%":Ff,"%AsyncIteratorPrototype%":Ff,"%Atomics%":typeof Atomics>"u"?jt:Atomics,"%BigInt%":typeof BigInt>"u"?jt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?jt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?jt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?jt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?jt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?jt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?jt:FinalizationRegistry,"%Function%":Zz,"%GeneratorFunction%":Ff,"%Int8Array%":typeof Int8Array>"u"?jt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?jt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?jt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ff&&Rn?Rn(Rn([][Symbol.iterator]())):jt,"%JSON%":typeof JSON=="object"?JSON:jt,"%Map%":typeof Map>"u"?jt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ff||!Rn?jt:Rn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?jt:Promise,"%Proxy%":typeof Proxy>"u"?jt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?jt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?jt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ff||!Rn?jt:Rn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?jt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ff&&Rn?Rn(""[Symbol.iterator]()):jt,"%Symbol%":ff?Symbol:jt,"%SyntaxError%":Kh,"%ThrowTypeError%":Ble,"%TypedArray%":Mle,"%TypeError%":wh,"%Uint8Array%":typeof Uint8Array>"u"?jt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?jt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?jt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?jt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?jt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?jt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?jt:WeakSet};if(Rn)try{null.error}catch(t){var kle=Rn(Rn(t));ad["%Error.prototype%"]=kle}var Nle=function t(e){var r;if(e==="%AsyncFunction%")r=vC("async function () {}");else if(e==="%GeneratorFunction%")r=vC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=vC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&Rn&&(r=Rn(s.prototype))}return ad[e]=r,r},c3={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vy=VO,Yw=Ile,Lle=Vy.call(Function.call,Array.prototype.concat),Ule=Vy.call(Function.apply,Array.prototype.splice),d3=Vy.call(Function.call,String.prototype.replace),qw=Vy.call(Function.call,String.prototype.slice),$le=Vy.call(Function.call,RegExp.prototype.exec),jle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zle=/\\(\\)?/g,Gle=function(e){var r=qw(e,0,1),n=qw(e,-1);if(r==="%"&&n!=="%")throw new Kh("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Kh("invalid intrinsic syntax, expected opening `%`");var s=[];return d3(e,jle,function(o,a,l,c){s[s.length]=l?d3(c,zle,"$1"):a||o}),s},Vle=function(e,r){var n=e,s;if(Yw(c3,n)&&(s=c3[n],n="%"+s[0]+"%"),Yw(ad,n)){var o=ad[n];if(o===Ff&&(o=Nle(n)),typeof o>"u"&&!r)throw new wh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:o}}throw new Kh("intrinsic "+e+" does not exist!")},Gd=function(e,r){if(typeof e!="string"||e.length===0)throw new wh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wh('"allowMissing" argument must be a boolean');if($le(/^%?[^%]*%?$/,e)===null)throw new Kh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Gle(e),s=n.length>0?n[0]:"",o=Vle("%"+s+"%",r),a=o.name,l=o.value,c=!1,d=o.alias;d&&(s=d[0],Ule(n,Lle([0,1],d)));for(var h=1,m=!0;h<n.length;h+=1){var g=n[h],y=qw(g,0,1),_=qw(g,-1);if((y==='"'||y==="'"||y==="`"||_==='"'||_==="'"||_==="`")&&y!==_)throw new Kh("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(c=!0),s+="."+g,a="%"+s+"%",Yw(ad,a))l=ad[a];else if(l!=null){if(!(g in l)){if(!r)throw new wh("base intrinsic for "+e+" exists, but the property is not available.");return}if(od&&h+1>=n.length){var u=od(l,g);m=!!u,m&&"get"in u&&!("originalValue"in u.get)?l=u.get:l=l[g]}else m=Yw(l,g),l=l[g];m&&!c&&(ad[a]=l)}}return l},Jz={exports:{}},Hle=Gd,DD=Hle("%Object.defineProperty%",!0),PD=function(){if(DD)try{return DD({},"a",{value:1}),!0}catch(e){return!1}return!1};PD.hasArrayLengthDefineBug=function(){if(!PD())return null;try{return DD([],"length",{value:1}).length!==1}catch(e){return!0}};var Qz=PD,Wle=Gd,Fb=Wle("%Object.getOwnPropertyDescriptor%",!0);if(Fb)try{Fb([],"length")}catch(t){Fb=null}var e7=Fb,Kle=Qz(),HO=Gd,Ag=Kle&&HO("%Object.defineProperty%",!0);if(Ag)try{Ag({},"a",{value:1})}catch(t){Ag=!1}var Xle=HO("%SyntaxError%"),hf=HO("%TypeError%"),f3=e7,Yle=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new hf("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new hf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new hf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new hf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new hf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new hf("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,c=!!f3&&f3(e,r);if(Ag)Ag(e,r,{configurable:a===null&&c?c.configurable:!a,enumerable:s===null&&c?c.enumerable:!s,value:n,writable:o===null&&c?c.writable:!o});else if(l||!s&&!o&&!a)e[r]=n;else throw new Xle("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},t7=Gd,h3=Yle,qle=Qz(),p3=e7,m3=t7("%TypeError%"),Zle=t7("%Math.floor%"),Jle=function(e,r){if(typeof e!="function")throw new m3("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Zle(r)!==r)throw new m3("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,o=!0;if("length"in e&&p3){var a=p3(e,"length");a&&!a.configurable&&(s=!1),a&&!a.writable&&(o=!1)}return(s||o||!n)&&(qle?h3(e,"length",r,!0,!0):h3(e,"length",r)),e};(function(t){var e=VO,r=Gd,n=Jle,s=r("%TypeError%"),o=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(a,o),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(m){c=null}t.exports=function(g){if(typeof g!="function")throw new s("a function is required");var y=l(e,a,arguments);return n(y,1+d(0,g.length-(arguments.length-1)),!0)};var h=function(){return l(e,o,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h})(Jz);var Qle=Jz.exports,r7=Gd,n7=Qle,eue=n7(r7("String.prototype.indexOf")),tue=function(e,r){var n=r7(e,!!r);return typeof n=="function"&&eue(e,".prototype.")>-1?n7(n):n};const rue={},nue=Object.freeze(Object.defineProperty({__proto__:null,default:rue},Symbol.toStringTag,{value:"Module"})),iue=dne(nue);var WO=typeof Map=="function"&&Map.prototype,_C=Object.getOwnPropertyDescriptor&&WO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zw=WO&&_C&&typeof _C.get=="function"?_C.get:null,g3=WO&&Map.prototype.forEach,KO=typeof Set=="function"&&Set.prototype,bC=Object.getOwnPropertyDescriptor&&KO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Jw=KO&&bC&&typeof bC.get=="function"?bC.get:null,v3=KO&&Set.prototype.forEach,sue=typeof WeakMap=="function"&&WeakMap.prototype,Tg=sue?WeakMap.prototype.has:null,oue=typeof WeakSet=="function"&&WeakSet.prototype,Dg=oue?WeakSet.prototype.has:null,aue=typeof WeakRef=="function"&&WeakRef.prototype,y3=aue?WeakRef.prototype.deref:null,lue=Boolean.prototype.valueOf,uue=Object.prototype.toString,cue=Function.prototype.toString,due=String.prototype.match,XO=String.prototype.slice,Eu=String.prototype.replace,fue=String.prototype.toUpperCase,_3=String.prototype.toLowerCase,i7=RegExp.prototype.test,b3=Array.prototype.concat,ca=Array.prototype.join,hue=Array.prototype.slice,w3=Math.floor,RD=typeof BigInt=="function"?BigInt.prototype.valueOf:null,wC=Object.getOwnPropertySymbols,OD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ci=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xh||"symbol")?Symbol.toStringTag:null,s7=Object.prototype.propertyIsEnumerable,x3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function E3(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||i7.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-w3(-t):w3(t);if(n!==t){var s=String(n),o=XO.call(e,s.length+1);return Eu.call(s,r,"$&_")+"."+Eu.call(Eu.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Eu.call(e,r,"$&_")}var ID=iue,S3=ID.custom,C3=a7(S3)?S3:null,pue=function t(e,r,n,s){var o=r||{};if(lu(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(lu(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=lu(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(lu(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(lu(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return u7(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?E3(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?E3(e,d):d}var h=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return BD(e)?"[Array]":"[Object]";var m=Iue(o,n);if(typeof s>"u")s=[];else if(l7(s,e)>=0)return"[Circular]";function g(O,I,k){if(I&&(s=hue.call(s),s.push(I)),k){var W={depth:o.depth};return lu(o,"quoteStyle")&&(W.quoteStyle=o.quoteStyle),t(O,W,n+1,s)}return t(O,o,n+1,s)}if(typeof e=="function"&&!A3(e)){var y=Eue(e),_=h0(e,g);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+ca.call(_,", ")+" }":"")}if(a7(e)){var u=Xh?Eu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):OD.call(e);return typeof e=="object"&&!Xh?wm(u):u}if(Pue(e)){for(var f="<"+_3.call(String(e.nodeName)),p=e.attributes||[],v=0;v<p.length;v++)f+=" "+p[v].name+"="+o7(mue(p[v].value),"double",o);return f+=">",e.childNodes&&e.childNodes.length&&(f+="..."),f+="</"+_3.call(String(e.nodeName))+">",f}if(BD(e)){if(e.length===0)return"[]";var b=h0(e,g);return m&&!Oue(b)?"["+FD(b,m)+"]":"[ "+ca.call(b,", ")+" ]"}if(vue(e)){var w=h0(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!s7.call(e,"cause")?"{ ["+String(e)+"] "+ca.call(b3.call("[cause]: "+g(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ca.call(w,", ")+" }"}if(typeof e=="object"&&a){if(C3&&typeof e[C3]=="function"&&ID)return ID(e,{depth:h-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Sue(e)){var x=[];return g3&&g3.call(e,function(O,I){x.push(g(I,e,!0)+" => "+g(O,e))}),T3("Map",Zw.call(e),x,m)}if(Tue(e)){var S=[];return v3&&v3.call(e,function(O){S.push(g(O,e))}),T3("Set",Jw.call(e),S,m)}if(Cue(e))return xC("WeakMap");if(Due(e))return xC("WeakSet");if(Aue(e))return xC("WeakRef");if(_ue(e))return wm(g(Number(e)));if(wue(e))return wm(g(RD.call(e)));if(bue(e))return wm(lue.call(e));if(yue(e))return wm(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===ds)return"{ [object globalThis] }";if(!gue(e)&&!A3(e)){var A=h0(e,g),D=x3?x3(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",T=!D&&ci&&Object(e)===e&&ci in e?XO.call(gc(e),8,-1):C?"Object":"",R=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=R+(T||C?"["+ca.call(b3.call([],T||[],C||[]),": ")+"] ":"");return A.length===0?P+"{}":m?P+"{"+FD(A,m)+"}":P+"{ "+ca.call(A,", ")+" }"}return String(e)};function o7(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function mue(t){return Eu.call(String(t),/"/g,"&quot;")}function BD(t){return gc(t)==="[object Array]"&&(!ci||!(typeof t=="object"&&ci in t))}function gue(t){return gc(t)==="[object Date]"&&(!ci||!(typeof t=="object"&&ci in t))}function A3(t){return gc(t)==="[object RegExp]"&&(!ci||!(typeof t=="object"&&ci in t))}function vue(t){return gc(t)==="[object Error]"&&(!ci||!(typeof t=="object"&&ci in t))}function yue(t){return gc(t)==="[object String]"&&(!ci||!(typeof t=="object"&&ci in t))}function _ue(t){return gc(t)==="[object Number]"&&(!ci||!(typeof t=="object"&&ci in t))}function bue(t){return gc(t)==="[object Boolean]"&&(!ci||!(typeof t=="object"&&ci in t))}function a7(t){if(Xh)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!OD)return!1;try{return OD.call(t),!0}catch(e){}return!1}function wue(t){if(!t||typeof t!="object"||!RD)return!1;try{return RD.call(t),!0}catch(e){}return!1}var xue=Object.prototype.hasOwnProperty||function(t){return t in this};function lu(t,e){return xue.call(t,e)}function gc(t){return uue.call(t)}function Eue(t){if(t.name)return t.name;var e=due.call(cue.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function l7(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Sue(t){if(!Zw||!t||typeof t!="object")return!1;try{Zw.call(t);try{Jw.call(t)}catch(e){return!0}return t instanceof Map}catch(e){}return!1}function Cue(t){if(!Tg||!t||typeof t!="object")return!1;try{Tg.call(t,Tg);try{Dg.call(t,Dg)}catch(e){return!0}return t instanceof WeakMap}catch(e){}return!1}function Aue(t){if(!y3||!t||typeof t!="object")return!1;try{return y3.call(t),!0}catch(e){}return!1}function Tue(t){if(!Jw||!t||typeof t!="object")return!1;try{Jw.call(t);try{Zw.call(t)}catch(e){return!0}return t instanceof Set}catch(e){}return!1}function Due(t){if(!Dg||!t||typeof t!="object")return!1;try{Dg.call(t,Dg);try{Tg.call(t,Tg)}catch(e){return!0}return t instanceof WeakSet}catch(e){}return!1}function Pue(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function u7(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return u7(XO.call(t,0,e.maxStringLength),e)+n}var s=Eu.call(Eu.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Rue);return o7(s,"single",e)}function Rue(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+fue.call(e.toString(16))}function wm(t){return"Object("+t+")"}function xC(t){return t+" { ? }"}function T3(t,e,r,n){var s=n?FD(r,n):ca.call(r,", ");return t+" ("+e+") {"+s+"}"}function Oue(t){for(var e=0;e<t.length;e++)if(l7(t[e],"\n")>=0)return!1;return!0}function Iue(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ca.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ca.call(Array(e+1),r)}}function FD(t,e){if(t.length===0)return"";var r="\n"+e.prev+e.base;return r+ca.call(t,","+r)+"\n"+e.prev}function h0(t,e){var r=BD(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=lu(t,s)?e(t[s],t):""}var o=typeof wC=="function"?wC(t):[],a;if(Xh){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var c in t)lu(t,c)&&(r&&String(Number(c))===c&&c<t.length||Xh&&a["$"+c]instanceof Symbol||(i7.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof wC=="function")for(var d=0;d<o.length;d++)s7.call(t,o[d])&&n.push("["+e(o[d])+"]: "+e(t[o[d]],t));return n}var YO=Gd,Tp=tue,Bue=pue,Fue=YO("%TypeError%"),p0=YO("%WeakMap%",!0),m0=YO("%Map%",!0),Mue=Tp("WeakMap.prototype.get",!0),kue=Tp("WeakMap.prototype.set",!0),Nue=Tp("WeakMap.prototype.has",!0),Lue=Tp("Map.prototype.get",!0),Uue=Tp("Map.prototype.set",!0),$ue=Tp("Map.prototype.has",!0),qO=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},jue=function(t,e){var r=qO(t,e);return r&&r.value},zue=function(t,e,r){var n=qO(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Gue=function(t,e){return!!qO(t,e)},Vue=function(){var e,r,n,s={assert:function(o){if(!s.has(o))throw new Fue("Side channel does not contain "+Bue(o))},get:function(o){if(p0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Mue(e,o)}else if(m0){if(r)return Lue(r,o)}else if(n)return jue(n,o)},has:function(o){if(p0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Nue(e,o)}else if(m0){if(r)return $ue(r,o)}else if(n)return Gue(n,o);return!1},set:function(o,a){p0&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new p0),kue(e,o,a)):m0?(r||(r=new m0),Uue(r,o,a)):(n||(n={key:{},next:null}),zue(n,o,a))}};return s},Hue=String.prototype.replace,Wue=/%20/g,EC={RFC1738:"RFC1738",RFC3986:"RFC3986"},ZO={default:EC.RFC3986,formatters:{RFC1738:function(t){return Hue.call(t,Wue,"+")},RFC3986:function(t){return String(t)}},RFC1738:EC.RFC1738,RFC3986:EC.RFC3986},Kue=ZO,SC=Object.prototype.hasOwnProperty,Vc=Array.isArray,Qo=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Xue=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Vc(n)){for(var s=[],o=0;o<n.length;++o)typeof n[o]<"u"&&s.push(n[o]);r.obj[r.prop]=s}}},c7=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},Yue=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Vc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!SC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return Vc(e)&&!Vc(r)&&(s=c7(e,n)),Vc(e)&&Vc(r)?(r.forEach(function(o,a){if(SC.call(e,a)){var l=e[a];l&&typeof l=="object"&&o&&typeof o=="object"?e[a]=t(l,o,n):e.push(o)}else e[a]=o}),e):Object.keys(r).reduce(function(o,a){var l=r[a];return SC.call(o,a)?o[a]=t(o[a],l,n):o[a]=l,o},s)},que=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},Zue=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(s){return n}},Jue=function(e,r,n,s,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;++c){var d=a.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Kue.RFC1738&&(d===40||d===41)){l+=a.charAt(c);continue}if(d<128){l=l+Qo[d];continue}if(d<2048){l=l+(Qo[192|d>>6]+Qo[128|d&63]);continue}if(d<55296||d>=57344){l=l+(Qo[224|d>>12]+Qo[128|d>>6&63]+Qo[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|a.charCodeAt(c)&1023),l+=Qo[240|d>>18]+Qo[128|d>>12&63]+Qo[128|d>>6&63]+Qo[128|d&63]}return l},Que=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var o=r[s],a=o.obj[o.prop],l=Object.keys(a),c=0;c<l.length;++c){var d=l[c],h=a[d];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:a,prop:d}),n.push(h))}return Xue(r),e},ece=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},tce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},rce=function(e,r){return[].concat(e,r)},nce=function(e,r){if(Vc(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},d7={arrayToObject:c7,assign:que,combine:rce,compact:Que,decode:Zue,encode:Jue,isBuffer:tce,isRegExp:ece,maybeMap:nce,merge:Yue},f7=Vue,Mb=d7,Pg=ZO,ice=Object.prototype.hasOwnProperty,D3={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},rl=Array.isArray,sce=Array.prototype.push,h7=function(t,e){sce.apply(t,rl(e)?e:[e])},oce=Date.prototype.toISOString,P3=Pg.default,ei={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Mb.encode,encodeValuesOnly:!1,format:P3,formatter:Pg.formatters[P3],indices:!1,serializeDate:function(e){return oce.call(e)},skipNulls:!1,strictNullHandling:!1},ace=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},CC={},lce=function t(e,r,n,s,o,a,l,c,d,h,m,g,y,_,u,f){for(var p=e,v=f,b=0,w=!1;(v=v.get(CC))!==void 0&&!w;){var x=v.get(e);if(b+=1,typeof x<"u"){if(x===b)throw new RangeError("Cyclic object value");w=!0}typeof v.get(CC)>"u"&&(b=0)}if(typeof c=="function"?p=c(r,p):p instanceof Date?p=m(p):n==="comma"&&rl(p)&&(p=Mb.maybeMap(p,function(W){return W instanceof Date?m(W):W})),p===null){if(o)return l&&!_?l(r,ei.encoder,u,"key",g):r;p=""}if(ace(p)||Mb.isBuffer(p)){if(l){var S=_?r:l(r,ei.encoder,u,"key",g);return[y(S)+"="+y(l(p,ei.encoder,u,"value",g))]}return[y(r)+"="+y(String(p))]}var A=[];if(typeof p>"u")return A;var D;if(n==="comma"&&rl(p))_&&l&&(p=Mb.maybeMap(p,l)),D=[{value:p.length>0?p.join(",")||null:void 0}];else if(rl(c))D=c;else{var C=Object.keys(p);D=d?C.sort(d):C}for(var T=s&&rl(p)&&p.length===1?r+"[]":r,R=0;R<D.length;++R){var P=D[R],O=typeof P=="object"&&typeof P.value<"u"?P.value:p[P];if(!(a&&O===null)){var I=rl(p)?typeof n=="function"?n(T,P):T:T+(h?"."+P:"["+P+"]");f.set(e,b);var k=f7();k.set(CC,f),h7(A,t(O,I,n,s,o,a,n==="comma"&&_&&rl(p)?null:l,c,d,h,m,g,y,_,u,k))}}return A},uce=function(e){if(!e)return ei;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ei.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Pg.default;if(typeof e.format<"u"){if(!ice.call(Pg.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Pg.formatters[n],o=ei.filter;return(typeof e.filter=="function"||rl(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ei.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ei.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ei.charsetSentinel,delimiter:typeof e.delimiter>"u"?ei.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ei.encode,encoder:typeof e.encoder=="function"?e.encoder:ei.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ei.encodeValuesOnly,filter:o,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ei.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ei.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ei.strictNullHandling}},cce=function(t,e){var r=t,n=uce(e),s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):rl(n.filter)&&(o=n.filter,s=o);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in D3?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=D3[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var h=f7(),m=0;m<s.length;++m){var g=s[m];n.skipNulls&&r[g]===null||h7(a,lce(r[g],g,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var y=a.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""},Yh=d7,MD=Object.prototype.hasOwnProperty,dce=Array.isArray,Tn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Yh.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},fce=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},p7=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},hce="utf8=%26%2310003%3B",pce="utf8=%E2%9C%93",mce=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,a=s.split(r.delimiter,o),l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===pce?d="utf-8":a[c]===hce&&(d="iso-8859-1"),l=c,c=a.length);for(c=0;c<a.length;++c)if(c!==l){var h=a[c],m=h.indexOf("]="),g=m===-1?h.indexOf("="):m+1,y,_;g===-1?(y=r.decoder(h,Tn.decoder,d,"key"),_=r.strictNullHandling?null:""):(y=r.decoder(h.slice(0,g),Tn.decoder,d,"key"),_=Yh.maybeMap(p7(h.slice(g+1),r),function(u){return r.decoder(u,Tn.decoder,d,"value")})),_&&r.interpretNumericEntities&&d==="iso-8859-1"&&(_=fce(_)),h.indexOf("[]=")>-1&&(_=dce(_)?[_]:_),MD.call(n,y)?n[y]=Yh.combine(n[y],_):n[y]=_}return n},gce=function(t,e,r,n){for(var s=n?e:p7(e,r),o=t.length-1;o>=0;--o){var a,l=t[o];if(l==="[]"&&r.parseArrays)a=[].concat(s);else{a=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(c,10);!r.parseArrays&&c===""?a={0:s}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(a=[],a[d]=s):c!=="__proto__"&&(a[c]=s)}s=a}return s},vce=function(e,r,n,s){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(o),d=c?o.slice(0,c.index):o,h=[];if(d){if(!n.plainObjects&&MD.call(Object.prototype,d)&&!n.allowPrototypes)return;h.push(d)}for(var m=0;n.depth>0&&(c=l.exec(o))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&MD.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+o.slice(c.index)+"]"),gce(h,r,n,s)}},yce=function(e){if(!e)return Tn;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Tn.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Tn.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Tn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Tn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Tn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Tn.comma,decoder:typeof e.decoder=="function"?e.decoder:Tn.decoder,delimiter:typeof e.delimiter=="string"||Yh.isRegExp(e.delimiter)?e.delimiter:Tn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Tn.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Tn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Tn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Tn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tn.strictNullHandling}},_ce=function(t,e){var r=yce(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?mce(t,r):t,s=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var l=o[a],c=vce(l,n[l],r,typeof t=="string");s=Yh.merge(s,c,r)}return r.allowSparse===!0?s:Yh.compact(s)},bce=cce,wce=_ce,xce=ZO,Ece={formats:xce,parse:wce,stringify:bce},Sce=mle;function No(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Cce=/^([a-z0-9.+-]+:)/i,Ace=/:[0-9]*$/,Tce=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Dce=["<",">",'"',"`"," ","\r","\n","	"],Pce=["{","}","|","\\","^","`"].concat(Dce),kD=["'"].concat(Pce),R3=["%","/","?",";","#"].concat(kD),O3=["/","?","#"],Rce=255,I3=/^[+a-z0-9A-Z_-]{0,63}$/,Oce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ice={javascript:!0,"javascript:":!0},ND={javascript:!0,"javascript:":!0},xh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},LD=Ece;function aE(t,e,r){if(t&&typeof t=="object"&&t instanceof No)return t;var n=new No;return n.parse(t,e,r),n}No.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(s);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=Tce.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=LD.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=Cce.exec(l);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var m=l.substr(0,2)==="//";m&&!(d&&ND[d])&&(l=l.substr(2),this.slashes=!0)}if(!ND[d]&&(m||d&&!xh[d])){for(var g=-1,y=0;y<O3.length;y++){var _=l.indexOf(O3[y]);_!==-1&&(g===-1||_<g)&&(g=_)}var u,f;g===-1?f=l.lastIndexOf("@"):f=l.lastIndexOf("@",g),f!==-1&&(u=l.slice(0,f),l=l.slice(f+1),this.auth=decodeURIComponent(u)),g=-1;for(var y=0;y<R3.length;y++){var _=l.indexOf(R3[y]);_!==-1&&(g===-1||_<g)&&(g=_)}g===-1&&(g=l.length),this.host=l.slice(0,g),l=l.slice(g),this.parseHost(),this.hostname=this.hostname||"";var p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p)for(var v=this.hostname.split(/\./),y=0,b=v.length;y<b;y++){var w=v[y];if(w&&!w.match(I3)){for(var x="",S=0,A=w.length;S<A;S++)w.charCodeAt(S)>127?x+="x":x+=w[S];if(!x.match(I3)){var D=v.slice(0,y),C=v.slice(y+1),T=w.match(Oce);T&&(D.push(T[1]),C.unshift(T[2])),C.length&&(l="/"+C.join(".")+l),this.hostname=D.join(".");break}}}this.hostname.length>Rce?this.hostname="":this.hostname=this.hostname.toLowerCase(),p||(this.hostname=Sce.toASCII(this.hostname));var R=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+R,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!Ice[h])for(var y=0,b=kD.length;y<b;y++){var O=kD[y];if(l.indexOf(O)!==-1){var I=encodeURIComponent(O);I===O&&(I=escape(O)),l=l.split(O).join(I)}}var k=l.indexOf("#");k!==-1&&(this.hash=l.substr(k),l=l.slice(0,k));var W=l.indexOf("?");if(W!==-1?(this.search=l.substr(W),this.query=l.substr(W+1),e&&(this.query=LD.parse(this.query)),l=l.slice(0,W)):e&&(this.search="",this.query={}),l&&(this.pathname=l),xh[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",G=this.search||"";this.path=R+G}return this.href=this.format(),this};function Bce(t){return typeof t=="string"&&(t=aE(t)),t instanceof No?t.format():No.prototype.format.call(t)}No.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=LD.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||xh[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),e+s+r+a+n};function Fce(t,e){return aE(t,!1,!0).resolve(e)}No.prototype.resolve=function(t){return this.resolveObject(aE(t,!1,!0)).format()};No.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new No;e.parse(t,!1,!0),t=e}for(var r=new No,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var c=a[l];c!=="protocol"&&(r[c]=t[c])}return xh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!xh[t.protocol]){for(var d=Object.keys(t),h=0;h<d.length;h++){var m=d[h];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!ND[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",u=t.host||t.pathname&&t.pathname.charAt(0)==="/",f=u||_||r.host&&t.pathname,p=f,v=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!xh[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),f=f&&(b[0]===""||v[0]==="")),u)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,v=b;else if(b.length)v||(v=[]),v.pop(),v=v.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=v.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=v.slice(-1)[0],A=(r.host||t.host||v.length>1)&&(S==="."||S==="..")||S==="",D=0,C=v.length;C>=0;C--)S=v[C],S==="."?v.splice(C,1):S===".."?(v.splice(C,1),D++):D&&(v.splice(C,1),D--);if(!f&&!p)for(;D--;D)v.unshift("..");f&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),A&&v.join("/").substr(-1)!=="/"&&v.push("");var T=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(w){r.hostname=T?"":v.length?v.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return f=f||r.host&&v.length,f&&!T&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};No.prototype.parseHost=function(){var t=this.host,e=Ace.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Mce=aE,kce=Fce,Nce=Bce;const B3={};function Ct(t,e,r=3){if(B3[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),B3[e]=!0}const Lce={get parse(){return Ct("7.3.0","utils.url.parse is deprecated, use native URL API instead."),Mce},get format(){return Ct("7.3.0","utils.url.format is deprecated, use native URL API instead."),Nce},get resolve(){return Ct("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),kce}};function mo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function xm(t){return t.split("?")[0].split("#")[0]}function Uce(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $ce(t,e,r){return t.replace(new RegExp(Uce(e),"g"),r)}function jce(t,e){let r="",n=0,s=-1,o=0,a=-1;for(let l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=l,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,o=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(s+1,l)):r=t.slice(s+1,l),n=l-s-1;s=l,o=0}else a===46&&o!==-1?++o:o=-1}return r}const fn={toPosix(t){return $ce(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){mo(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(mo(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=xm(this.toPosix(e!=null?e:nt.ADAPTER.getBaseUrl())),s=xm(this.toPosix(r!=null?r:this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?fn.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(mo(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=jce(t,!1),t.length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return mo(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var r;if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const s=t[n];if(mo(s),s.length>0)if(e===void 0)e=s;else{const o=(r=t[n-1])!=null?r:"";this.extname(o)?e+="/../".concat(s):e+="/".concat(s)}}return e===void 0?".":this.normalize(e)},dirname(t){if(mo(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const o=this.getProtocol(t),a=t;t=t.slice(o.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(a)?o+t:o:r&&n===1?"//":o+t.slice(0,n)},rootname(t){mo(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){mo(t),e&&mo(e),t=xm(this.toPosix(t));let r=0,n=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,l=-1;for(o=t.length-1;o>=0;--o){const c=t.charCodeAt(o);if(c===47){if(!s){r=o+1;break}}else l===-1&&(s=!1,l=o+1),a>=0&&(c===e.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!s){r=o+1;break}}else n===-1&&(s=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){mo(t),t=xm(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,o=0;for(let a=t.length-1;a>=0;--a){const l=t.charCodeAt(a);if(l===47){if(!s){r=a+1;break}continue}n===-1&&(s=!1,n=a+1),l===46?e===-1?e=a:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){mo(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=xm(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let o=-1,a=0,l=-1,c=!0,d=t.length-1,h=0;for(;d>=s;--d){if(r=t.charCodeAt(d),r===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?o===-1?o=d:h!==1&&(h=1):o!==-1&&(h=-1)}return o===-1||l===-1||h===0||h===1&&o===l-1&&o===a+1?l!==-1&&(a===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(a,l)):(a===0&&n?(e.name=t.slice(1,o),e.base=t.slice(1,l)):(e.name=t.slice(a,o),e.base=t.slice(a,l)),e.ext=t.slice(o,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Em;async function m7(){return Em!=null||(Em=(async()=>{var o;const t=document.createElement("canvas").getContext("webgl");if(!t)return xi.UNPACK;const e=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return xi.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(r),(o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?xi.PMA:xi.UNPACK})()),Em}function zce(){Ct("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function Gce(){Ct("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}let AC;function g7(){return typeof AC>"u"&&(AC=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!nt.ADAPTER.getWebGLRenderingContext())return!1;const r=nt.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch(r){return!1}}()),AC}var Vce={grad:.9,turn:360,rad:360/(2*Math.PI)},Ga=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Bn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ys=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},v7=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},F3=function(t){return{r:Ys(t.r,0,255),g:Ys(t.g,0,255),b:Ys(t.b,0,255),a:Ys(t.a)}},TC=function(t){return{r:Bn(t.r),g:Bn(t.g),b:Bn(t.b),a:Bn(t.a,3)}},Hce=/^#([0-9a-f]{3,8})$/i,g0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},y7=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),a=o-Math.min(e,r,n),l=a?o===e?(r-n)/a:o===r?2+(n-e)/a:4+(e-r)/a:0;return{h:60*(l<0?l+6:l),s:o?a/o*100:0,v:o/255*100,a:s}},_7=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),a=n*(1-r),l=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:255*[n,l,a,a,c,n][d],g:255*[c,n,n,l,a,a][d],b:255*[a,a,c,n,n,l][d],a:s}},M3=function(t){return{h:v7(t.h),s:Ys(t.s,0,100),l:Ys(t.l,0,100),a:Ys(t.a)}},k3=function(t){return{h:Bn(t.h),s:Bn(t.s),l:Bn(t.l),a:Bn(t.a,3)}},N3=function(t){return _7((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Rg=function(t){return{h:(e=y7(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},Wce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Kce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,UD={string:[[function(t){var e=Hce.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Bn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Bn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Xce.exec(t)||Yce.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:F3({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Wce.exec(t)||Kce.exec(t);if(!e)return null;var r,n,s=M3({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Vce[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return N3(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s===void 0?1:s;return Ga(e)&&Ga(r)&&Ga(n)?F3({r:Number(e),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,o=s===void 0?1:s;if(!Ga(e)||!Ga(r)||!Ga(n))return null;var a=M3({h:Number(e),s:Number(r),l:Number(n),a:Number(o)});return N3(a)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,o=s===void 0?1:s;if(!Ga(e)||!Ga(r)||!Ga(n))return null;var a=function(l){return{h:v7(l.h),s:Ys(l.s,0,100),v:Ys(l.v,0,100),a:Ys(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(o)});return _7(a)},"hsv"]]},L3=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},qce=function(t){return typeof t=="string"?L3(t.trim(),UD.string):typeof t=="object"&&t!==null?L3(t,UD.object):[null,void 0]},DC=function(t,e){var r=Rg(t);return{h:r.h,s:Ys(r.s+100*e,0,100),l:r.l,a:r.a}},PC=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},U3=function(t,e){var r=Rg(t);return{h:r.h,s:r.s,l:Ys(r.l+100*e,0,100),a:r.a}},$D=function(){function t(e){this.parsed=qce(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Bn(PC(this.rgba),2)},t.prototype.isDark=function(){return PC(this.rgba)<.5},t.prototype.isLight=function(){return PC(this.rgba)>=.5},t.prototype.toHex=function(){return e=TC(this.rgba),r=e.r,n=e.g,s=e.b,a=(o=e.a)<1?g0(Bn(255*o)):"","#"+g0(r)+g0(n)+g0(s)+a;var e,r,n,s,o,a},t.prototype.toRgb=function(){return TC(this.rgba)},t.prototype.toRgbString=function(){return e=TC(this.rgba),r=e.r,n=e.g,s=e.b,(o=e.a)<1?"rgba("+r+", "+n+", "+s+", "+o+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,o},t.prototype.toHsl=function(){return k3(Rg(this.rgba))},t.prototype.toHslString=function(){return e=k3(Rg(this.rgba)),r=e.h,n=e.s,s=e.l,(o=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+o+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,o},t.prototype.toHsv=function(){return e=y7(this.rgba),{h:Bn(e.h),s:Bn(e.s),v:Bn(e.v),a:Bn(e.a,3)};var e},t.prototype.invert=function(){return ra({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ra(DC(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ra(DC(this.rgba,-e))},t.prototype.grayscale=function(){return ra(DC(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ra(U3(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ra(U3(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ra({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Bn(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Rg(this.rgba);return typeof e=="number"?ra({h:e,s:r.s,l:r.l,a:r.a}):Bn(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ra(e).toHex()},t}(),ra=function(t){return t instanceof $D?t:new $D(t)},$3=[],Zce=function(t){t.forEach(function(e){$3.indexOf(e)<0&&(e($D,UD),$3.push(e))})};function Jce(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var o={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(a!=null&&a.closest){var h=this.toRgb(),m=1/0,g="black";if(!o.length)for(var y in r)o[y]=new t(r[y]).toRgb();for(var _ in r){var u=(l=h,c=o[_],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));u<m&&(m=u,g=_)}return g}},e.string.push([function(a){var l=a.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}Zce([Jce]);const Mf=class kb{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof kb)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[r,n,s]=this._components;return e=e!=null?e:[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e!=null?e:[];const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,o]=kb.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,s]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[r,n,s,o]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=o,e}normalize(e){let r,n,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,n=(a>>8&255)/255,s=(a&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,o=255]=e,r/=255,n/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=kb.HEX_PATTERN.exec(e);l&&(e="#".concat(l[2]))}const a=ra(e);a.isValid()&&({r,g:n,b:s,a:o}=a.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error("Unable to convert color ".concat(e))}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,r),n)}),e)}};Mf.shared=new Mf,Mf.temp=new Mf,Mf.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Qt=Mf;function Qce(t,e=[]){return Ct("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Qt.shared.setValue(t).toRgbArray(e)}function b7(t){return Ct("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Qt.shared.setValue(t).toHex()}function ede(t){return Ct("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),Qt.shared.setValue(t).toNumber()}function w7(t){return Ct("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Qt.shared.setValue(t).toNumber()}function tde(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[wt.NORMAL_NPM]=wt.NORMAL,t[wt.ADD_NPM]=wt.ADD,t[wt.SCREEN_NPM]=wt.SCREEN,e[wt.NORMAL]=wt.NORMAL_NPM,e[wt.ADD]=wt.ADD_NPM,e[wt.SCREEN]=wt.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const JO=tde();function QO(t,e){return JO[e?1:0][t]}function rde(t,e,r,n=!0){return Ct("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),Qt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}function nde(t,e){return Ct("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),Qt.shared.setValue(t).toPremultiplied(e)}function ide(t,e,r,n=!0){return Ct("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),Qt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}const x7=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function E7(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,s=0;n<r;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function lE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const sde={Float32Array,Uint32Array,Int32Array,Uint8Array};function ode(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let a=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],h=t[c],m=lE(h);s[m]||(s[m]=new sde[m](o)),a=s[m];for(let g=0;g<h.length;g++){const y=(g/d|0)*n+l,_=g%d;a[y+_]=h[g]}l+=d}return new Float32Array(o)}function xv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function jD(t){return!(t&t-1)&&!!t}function zD(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ld(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const o=n-r;for(s=e;s<o;++s)t[s]=t[s+r];t.length=o}function cl(t){return t===0?0:t<0?-1:1}let ade=0;function Yu(){return++ade}const GD=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};GD.EMPTY=new GD(0,0,0,0);let VD=GD;const HD={},yi=Object.create(null),ss=Object.create(null);function lde(){let t;for(t in yi)yi[t].destroy();for(t in ss)ss[t].destroy()}function ude(){let t;for(t in yi)delete yi[t];for(t in ss)delete ss[t]}class S7{constructor(e,r,n){this._canvas=nt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||nt.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function j3(t,e,r){for(let n=0,s=4*r*e;n<e;++n,s+=4)if(t[s+3]!==0)return!1;return!0}function z3(t,e,r,n,s){const o=4*e;for(let a=n,l=n*o+4*r;a<=s;++a,l+=o)if(t[l+3]!==0)return!1;return!0}function C7(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,c=r-1;for(;a<r&&j3(s,e,a);)++a;if(a===r)return VD.EMPTY;for(;j3(s,e,c);)--c;for(;z3(s,e,o,a,c);)++o;for(;z3(s,e,l,a,c);)--l;return++l,++c,new VD(o,a,l,c)}function A7(t){const e=C7(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const o=t.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}function cde(t){const e=x7.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function T7(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Ca(t,e=1){var n;const r=(n=nt.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}const dde=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ss,BoundingBox:VD,CanvasRenderTarget:S7,DATA_URI:x7,EventEmitter:Ap,ProgramCache:HD,TextureCache:yi,clearTextureCache:ude,correctBlendMode:QO,createIndicesForQuads:E7,decomposeDataUri:cde,deprecation:Ct,destroyTextureCache:lde,detectVideoAlphaMode:m7,determineCrossOrigin:T7,earcut:qz,getBufferType:lE,getCanvasBoundingBox:C7,getResolutionOfUrl:Ca,hex2rgb:Qce,hex2string:b7,interleaveTypedArrays:ode,isMobile:To,isPow2:jD,isWebGLSupported:g7,log2:zD,nextPow2:xv,path:fn,premultiplyBlendMode:JO,premultiplyRgba:rde,premultiplyTint:nde,premultiplyTintToRgba:ide,removeItems:ld,rgb2hex:w7,sayHello:Gce,sign:cl,skipHello:zce,string2hex:ede,trimCanvas:A7,uid:Yu,url:Lce},Symbol.toStringTag,{value:"Module"}));var qe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(qe||{});const WD=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},G3=(t,e)=>{var r;return(r=WD(t).priority)!=null?r:e},ct={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(WD).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(WD).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,s=this._queue;n[r]?n[r](e):(s[r]=s[r]||[],s[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,s[t]=r;const o=this._queue;return o[t]&&(o[t].forEach(a=>e(a)),delete o[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,o)=>G3(o,r)-G3(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class Qw{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const fde=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function hde(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}function D7(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=fde.replace(/%forloop%/gi,hde(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const RC=0,OC=1,IC=2,BC=3,FC=4,MC=5;class Wo{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<RC)}set blend(e){!!(this.data&1<<RC)!==e&&(this.data^=1<<RC)}get offsets(){return!!(this.data&1<<OC)}set offsets(e){!!(this.data&1<<OC)!==e&&(this.data^=1<<OC)}get culling(){return!!(this.data&1<<IC)}set culling(e){!!(this.data&1<<IC)!==e&&(this.data^=1<<IC)}get depthTest(){return!!(this.data&1<<BC)}set depthTest(e){!!(this.data&1<<BC)!==e&&(this.data^=1<<BC)}get depthMask(){return!!(this.data&1<<MC)}set depthMask(e){!!(this.data&1<<MC)!==e&&(this.data^=1<<MC)}get clockwiseFrontFace(){return!!(this.data&1<<FC)}set clockwiseFrontFace(e){!!(this.data&1<<FC)!==e&&(this.data^=1<<FC)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==wt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Wo;return e.depthTest=!1,e.blend=!0,e}}Wo.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const e1=[];function eI(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=e1.length-1;n>=0;--n){const s=e1[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class ms{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,s,o,a,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:h}=this;this._aliasCount++;for(let m=0,g=h.length;m<g;m++)h[m][d](e,r,n,s,o,a,l,c);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(ms.prototype,{dispatch:{value:ms.prototype.emit},run:{value:ms.prototype.emit}});class qh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ms("setRealSize"),this.onUpdate=new ms("update"),this.onError=new ms("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Hy extends qh{constructor(e,r){var o;const{width:n,height:s}=r||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=(o=r.unpackAlignment)!=null?o:4}upload(e,r,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===xi.UNPACK);const o=r.realWidth,a=r.realHeight;return n.width===o&&n.height===a?s.texSubImage2D(r.target,0,0,0,o,a,r.format,n.type,this.data):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,o,a,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const pde={scaleMode:ha.NEAREST,alphaMode:xi.NPM},KD=class kf extends Ap{constructor(e=null,r=null){super(),r=Object.assign({},kf.defaultOptions,r);const{alphaMode:n,mipmap:s,anisotropicLevel:o,scaleMode:a,width:l,height:c,wrapMode:d,format:h,type:m,target:g,resolution:y,resourceOptions:_}=r;e&&!(e instanceof qh)&&(e=eI(e,_),e.internal=!0),this.resolution=y||nt.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=d,this._scaleMode=a,this.format=h,this.type=m,this.target=g,this.alphaMode=n,this.uid=Yu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=jD(this.realWidth)&&jD(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ss[this.cacheId],delete yi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),kf.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=nt.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Yu())}o=e._pixiId}let a=ss[o];if(s&&n&&!a)throw new Error('The cacheId "'.concat(o,'" does not exist in BaseTextureCache.'));return a||(a=new kf(e,r),a.cacheId=o,kf.addToCache(a,o)),a}static fromBuffer(e,r,n,s){e=e||new Float32Array(r*n*4);const o=new Hy(e,{width:r,height:n,...s==null?void 0:s.resourceOptions});let a,l;return e instanceof Float32Array?(a=Ie.RGBA,l=mt.FLOAT):e instanceof Int32Array?(a=Ie.RGBA_INTEGER,l=mt.INT):e instanceof Uint32Array?(a=Ie.RGBA_INTEGER,l=mt.UNSIGNED_INT):e instanceof Int16Array?(a=Ie.RGBA_INTEGER,l=mt.SHORT):e instanceof Uint16Array?(a=Ie.RGBA_INTEGER,l=mt.UNSIGNED_SHORT):e instanceof Int8Array?(a=Ie.RGBA,l=mt.BYTE):(a=Ie.RGBA,l=mt.UNSIGNED_BYTE),o.internal=!0,new kf(o,Object.assign({},pde,{type:l,format:a},s))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ss[r]&&ss[r]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(r,"] that already had an entry")),ss[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ss[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ss[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ss[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};KD.defaultOptions={mipmap:Go.POW2,anisotropicLevel:0,scaleMode:ha.LINEAR,wrapMode:wa.CLAMP,alphaMode:xi.UNPACK,target:sd.TEXTURE_2D,format:Ie.RGBA,type:mt.UNSIGNED_BYTE},KD._globalBatch=0;let It=KD;class t1{constructor(){this.texArray=null,this.blend=0,this.type=Ao.TRIANGLES,this.start=0,this.size=0,this.data=null}}let mde=0,ln=class P7{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=mde++,this.disposeRunner=new ms("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ko.ELEMENT_ARRAY_BUFFER:ko.ARRAY_BUFFER}get index(){return this.type===ko.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new P7(e)}};class Ev{constructor(e,r=0,n=!1,s=mt.FLOAT,o,a,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=s,this.stride=o,this.start=a,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,s,o){return new Ev(e,r,n,s,o)}}const gde={Float32Array,Uint32Array,Int32Array,Uint8Array};function vde(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let a=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],h=t[c],m=lE(h);s[m]||(s[m]=new gde[m](o)),a=s[m];for(let g=0;g<h.length;g++){const y=(g/d|0)*n+l,_=g%d;a[y+_]=h[g]}l+=d}return new Float32Array(o)}const V3={5126:4,5123:2,5121:1};let yde=0;const _de={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Cl{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=yde++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ms("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,s=!1,o,a,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ln||(r instanceof Array&&(r=new Float32Array(r)),r=new ln(r));const d=e.split("|");if(d.length>1){for(let m=0;m<d.length;m++)this.addAttribute(d[m],r,n,s,o);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new Ev(h,n,s,o,a,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ln||(e instanceof Array&&(e=new Uint16Array(e)),e=new ln(e)),e.type=ko.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new ln;let s;for(s in this.attributes){const o=this.attributes[s],a=this.buffers[o.buffer];e.push(a.data),r.push(o.size*V3[o.type]/4),o.buffer=0}for(n.data=vde(e,r),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Cl;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ln(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Ev(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ko.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Cl,n=[],s=[],o=[];let a;for(let l=0;l<e.length;l++){a=e[l];for(let c=0;c<a.buffers.length;c++)s[c]=s[c]||0,s[c]+=a.buffers[c].data.length,o[c]=0}for(let l=0;l<a.buffers.length;l++)n[l]=new _de[lE(a.buffers[l].data)](s[l]),r.buffers[l]=new ln(n[l]);for(let l=0;l<e.length;l++){a=e[l];for(let c=0;c<a.buffers.length;c++)n[c].set(a.buffers[c].data,o[c]),o[c]+=a.buffers[c].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=ko.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,h=0;for(let m=0;m<a.buffers.length;m++)if(a.buffers[m]!==a.indexBuffer){h=m;break}for(const m in a.attributes){const g=a.attributes[m];(g.buffer|0)===h&&(c+=g.size*V3[g.type]/4)}for(let m=0;m<e.length;m++){const g=e[m].indexBuffer.data;for(let y=0;y<g.length;y++)r.indexBuffer.data[y+d]+=l;l+=e[m].buffers[h].data.length/c,d+=g.length}}return r}}class tI extends Cl{constructor(e=!1){super(),this._buffer=new ln(null,e,!1),this._indexBuffer=new ln(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,mt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,mt.FLOAT).addAttribute("aColor",this._buffer,4,!0,mt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,mt.FLOAT).addIndex(this._indexBuffer)}}const Sv=Math.PI*2,R7=180/Math.PI,O7=Math.PI/180;var kn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(kn||{});let He=class I7{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new I7(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};He.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const v0=[new He,new He,new He,new He];class Rt{constructor(e=0,r=0,n=0,s=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=kn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rt(0,0,0,0)}clone(){return new Rt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,s=this.right,o=this.top,a=this.bottom;if(s<=n||a<=o)return!1;const l=v0[0].set(e.left,e.top),c=v0[1].set(e.left,e.bottom),d=v0[2].set(e.right,e.top),h=v0[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(l,l),r.apply(c,c),r.apply(d,d),r.apply(h,h),Math.max(l.x,c.x,d.x,h.x)<=n||Math.min(l.x,c.x,d.x,h.x)>=s||Math.max(l.y,c.y,d.y,h.y)<=o||Math.min(l.y,c.y,d.y,h.y)>=a))return!1;const g=m*(c.y-l.y),y=m*(l.x-c.x),_=g*n+y*o,u=g*s+y*o,f=g*n+y*a,p=g*s+y*a;if(Math.max(_,u,f,p)<=g*l.x+y*l.y||Math.min(_,u,f,p)>=g*h.x+y*h.y)return!1;const v=m*(l.y-d.y),b=m*(d.x-l.x),w=v*n+b*o,x=v*s+b*o,S=v*n+b*a,A=v*s+b*a;return!(Math.max(w,x,S,A)<=v*l.x+b*l.y||Math.min(w,x,S,A)>=v*h.x+b*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}Rt.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Wy{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=kn.CIRC}clone(){return new Wy(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,o=this.y-r;return s*=s,o*=o,s+o<=n}getBounds(){return new Rt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Wy.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class Ky{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s,this.type=kn.ELIP}clone(){return new Ky(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(r-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new Rt(this.x-this.width,this.y-this.height,this.width,this.height)}}Ky.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Uu{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=kn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Uu(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let o=0,a=s-1;o<s;a=o++){const l=this.points[o*2],c=this.points[o*2+1],d=this.points[a*2],h=this.points[a*2+1];c>r!=h>r&&e<(d-l)*((r-c)/(h-c))+l&&(n=!n)}return n}}Uu.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")};class Xy{constructor(e=0,r=0,n=0,s=0,o=20){this.x=e,this.y=r,this.width=n,this.height=s,this.radius=o,this.type=kn.RREC}clone(){return new Xy(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),o=r-(this.y+n);const a=n*n;if(s*s+o*o<=a||(s=e-(this.x+this.width-n),s*s+o*o<=a)||(o=r-(this.y+this.height-n),s*s+o*o<=a)||(s=e-(this.x+n),s*s+o*o<=a))return!0}return!1}}Xy.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class Kt{constructor(e=1,r=0,n=0,s=1,o=0,a=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,o,a){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new He;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new He;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return r.x=this.d*n*s+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,o=this.c,a=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,o=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this}setTransform(e,r,n,s,o,a,l,c,d){return this.a=Math.cos(l+d)*o,this.b=Math.sin(l+d)*o,this.c=-Math.sin(l-c)*a,this.d=Math.cos(l-c)*a,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,o=this.d,a=e.pivot,l=-Math.atan2(-s,o),c=Math.atan2(n,r),d=Math.abs(l+c);return d<1e-5||Math.abs(Sv-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(a.x*r+a.y*s),e.position.y=this.ty+(a.x*n+a.y*o),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,o=this.tx,a=e*s-r*n;return this.a=s/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-s*o)/a,this.ty=-(e*this.ty-r*o)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Kt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Kt}static get TEMP_MATRIX(){return new Kt}}Kt.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const kc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Nc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Lc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Uc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],XD=[],B7=[],y0=Math.sign;function bde(){for(let t=0;t<16;t++){const e=[];XD.push(e);for(let r=0;r<16;r++){const n=y0(kc[t]*kc[r]+Lc[t]*Nc[r]),s=y0(Nc[t]*kc[r]+Uc[t]*Nc[r]),o=y0(kc[t]*Lc[r]+Lc[t]*Uc[r]),a=y0(Nc[t]*Lc[r]+Uc[t]*Uc[r]);for(let l=0;l<16;l++)if(kc[l]===n&&Nc[l]===s&&Lc[l]===o&&Uc[l]===a){e.push(l);break}}}for(let t=0;t<16;t++){const e=new Kt;e.set(kc[t],Nc[t],Lc[t],Uc[t],0,0),B7.push(e)}}bde();const Rr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>kc[t],uY:t=>Nc[t],vX:t=>Lc[t],vY:t=>Uc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>XD[t][e],sub:(t,e)=>XD[t][Rr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Rr.S:Rr.N:Math.abs(e)*2<=Math.abs(t)?t>0?Rr.E:Rr.W:e>0?t>0?Rr.SE:Rr.SW:t>0?Rr.NE:Rr.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=B7[Rr.inv(e)];s.tx=r,s.ty=n,t.append(s)}};class Do{constructor(e,r,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Do(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Do.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const YD=class{constructor(){this.worldTransform=new Kt,this.localTransform=new Kt,this.position=new Do(this.onChange,this,0,0),this.scale=new Do(this.onChange,this,1,1),this.pivot=new Do(this.onChange,this,0,0),this.skew=new Do(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};YD.IDENTITY=new YD;let Dp=YD;Dp.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};var wde="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",xde="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function H3(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function kC(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function F7(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return kC(2*e);case"bvec3":return kC(3*e);case"bvec4":return kC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ud=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],Ede={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Sde={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Cde(t,e){var n;const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const s in t.uniforms){const o=e[s];if(!o){((n=t.uniforms[s])==null?void 0:n.group)===!0&&(t.uniforms[s].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")));continue}const a=t.uniforms[s];let l=!1;for(let c=0;c<ud.length;c++)if(ud[c].test(o,a)){r.push(ud[c].code(s,a)),l=!0;break}if(!l){const c=(o.size===1&&!o.isArray?Ede:Sde)[o.type].replace("location",'ud["'.concat(s,'"].location'));r.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(c,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}const M7={};let pf=M7;function k7(){if(pf===M7||pf!=null&&pf.isContextLost()){const t=nt.ADAPTER.createCanvas();let e;nt.PREFER_ENV>=mc.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),pf=e}return pf}let _0;function Ade(){if(!_0){_0=hs.MEDIUM;const t=k7();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(_0=e.precision?hs.HIGH:hs.MEDIUM)}}return _0}function W3(t,e){const r=t.getShaderSource(e).split("\n").map((d,h)=>"".concat(h,": ").concat(d)),n=t.getShaderInfoLog(e),s=n.split("\n"),o={},a=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!o[d]?(o[d]=!0,!0):!1),l=[""];a.forEach(d=>{r[d-1]="%c".concat(r[d-1],"%c"),l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join("\n");l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function Tde(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||W3(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||W3(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Dde={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function N7(t){return Dde[t]}let b0=null;const K3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function L7(t,e){if(!b0){const r=Object.keys(K3);b0={};for(let n=0;n<r.length;++n){const s=r[n];b0[t[s]]=K3[s]}}return b0[e]}function X3(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===hs.HIGH&&r!==hs.HIGH&&(n=hs.MEDIUM),"precision ".concat(n," float;\n").concat(t)}else if(r!==hs.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Sm;function U7(){if(typeof Sm=="boolean")return Sm;try{Sm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(t){Sm=!1}return Sm}let Pde=0;const w0={},qD=class Nf{constructor(e,r,n="pixi-shader",s={}){this.extra={},this.id=Pde++,this.vertexSrc=e||Nf.defaultVertexSrc,this.fragmentSrc=r||Nf.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),w0[n]?(w0[n]++,n+="-".concat(w0[n])):w0[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=X3(this.vertexSrc,Nf.defaultVertexPrecision,hs.HIGH),this.fragmentSrc=X3(this.fragmentSrc,Nf.defaultFragmentPrecision,Ade())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return xde}static get defaultFragmentSrc(){return wde}static from(e,r,n){const s=e+r;let o=HD[s];return o||(HD[s]=o=new Nf(e,r,n)),o}};qD.defaultVertexPrecision=hs.HIGH,qD.defaultFragmentPrecision=To.apple.device?hs.HIGH:hs.MEDIUM;let pa=qD,Rde=0;class ro{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Rde++,this.static=!!r,this.ubo=!!n,e instanceof ln?(this.buffer=e,this.buffer.type=ko.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ln(new Float32Array(1)),this.buffer.type=ko.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new ro(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new ro(e,r,n)}static uboFrom(e,r){return new ro(e,r!=null?r:!0,!0)}}class Lo{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ro?this.uniformGroup=r:this.uniformGroup=new ro(r):this.uniformGroup=new ro({}),this.disposeRunner=new ms("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const s=r.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const s=pa.from(e,r);return new Lo(s,n)}}class $7{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let o=0;o<e;o++)n[o]=o;this.defaultGroupCache[e]=ro.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,"".concat(e)),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new pa(this.vertexSrc,s)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:this.defaultGroupCache[e]};return new Lo(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let n=0;n<e;n++)n>0&&(r+="\nelse "),n<e-1&&(r+="if(vTextureId < ".concat(n,".5)")),r+="\n{",r+="\n	color = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),r+="\n}";return r+="\n",r+="\n",r}}class r1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Ode(){return!To.apple.device}function Ide(t){let e=!0;const r=nt.ADAPTER.getNavigator();if(To.tablet||To.phone){if(To.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(To.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Yy{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Bde="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Fde="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const zm=class vo extends Yy{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=tI,this.vertexSize=6,this.state=Wo.for2d(),this.size=vo.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:Ide(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:Ode(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ct("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Fde}static get defaultFragmentTemplate(){return Bde}setShaderGenerator({vertex:e=vo.defaultVertexSrc,fragment:r=vo.defaultFragmentTemplate}={}){this.shaderGenerator=new $7(e,r)}contextChange(){const e=this.renderer.gl;nt.PREFER_ENV===mc.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),vo.defaultMaxTextures),this.maxTextures=D7(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=vo,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new t1);for(;r.length<s;)r.push(new r1);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=vo._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count;let l=++It._globalBatch,c=0,d=n[0],h=0;s.copyBoundTextures(o,r);for(let m=0;m<this._bufferSize;++m){const g=e[m];e[m]=null,g._batchEnabled!==l&&(d.count>=r&&(s.boundArray(d,o,l,r),this.buildDrawCalls(d,h,m),h=m,d=n[++c],++l),g._batchEnabled=l,g.touched=a,d.elements[d.count++]=g)}d.count>0&&(s.boundArray(d,o,l,r),this.buildDrawCalls(d,h,this._bufferSize),++c,++l);for(let m=0;m<o.length;m++)o[m]=null;It._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:a,vertexSize:l}=this,c=vo._drawCallPool;let d=this._dcIndex,h=this._aIndex,m=this._iIndex,g=c[d];g.start=this._iIndex,g.texArray=e;for(let y=r;y<n;++y){const _=s[y],u=_._texture.baseTexture,f=JO[u.alphaMode?1:0][_.blendMode];s[y]=null,r<y&&g.blend!==f&&(g.size=m-g.start,r=y,g=c[++d],g.texArray=e,g.start=m),this.packInterleavedGeometry(_,o,a,h,m),h+=_.vertexData.length/2*l,m+=_.indices.length,g.blend=f}r<n&&(g.size=m-g.start,++d),this._dcIndex=d,this._aIndex=h,this._iIndex=m}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;vo.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,s=vo._drawCallPool;let o=null;for(let a=0;a<e;a++){const{texArray:l,type:c,size:d,start:h,blend:m}=s[a];o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=m,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),vo.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=xv(Math.ceil(e/8)),n=zD(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new Qw(s*this.vertexSize*4)),o}getIndexBuffer(e){const r=xv(Math.ceil(e/12)),n=zD(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,r,n,s,o){const{uint32View:a,float32View:l}=r,c=s/this.vertexSize,d=e.uvs,h=e.indices,m=e.vertexData,g=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),_=Qt.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let u=0;u<m.length;u+=2)l[s++]=m[u],l[s++]=m[u+1],l[s++]=d[u],l[s++]=d[u+1],a[s++]=_,l[s++]=g;for(let u=0;u<h.length;u++)n[o++]=c+h[u]}};zm.defaultBatchSize=4096,zm.extension={name:"batch",type:qe.RendererPlugin},zm._drawCallPool=[],zm._textureArrayPool=[];let uu=zm;ct.add(uu);var Mde="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",kde="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const ZD=class Gm extends Lo{constructor(e,r,n){const s=pa.from(e||Gm.defaultVertexSrc,r||Gm.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Gm.defaultResolution,this.multisample=Gm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Wo}apply(e,r,n,s,o){e.applyFilter(this,r,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return kde}static get defaultFragmentSrc(){return Mde}};ZD.defaultResolution=1,ZD.defaultMultisample=en.NONE;let Vn=ZD;class Cv{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Qt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:s}=e,o=n!=null?n:r;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Cv.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Cv.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"background"};ct.add(Cv);class rI{constructor(e){this.renderer=e,this.emptyRenderer=new Yy(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let s=r-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,r,n,s){const{elements:o,ids:a,count:l}=e;let c=0;for(let d=0;d<l;d++){const h=o[d],m=h._batchLocation;if(m>=0&&m<s&&r[m]===h){a[d]=m;continue}for(;c<s;){const g=r[c];if(g&&g._batchEnabled===n&&g._batchLocation===c){c++;continue}a[d]=c,h._batchLocation=c,r[c]=h;break}}}destroy(){this.renderer=null}}rI.extension={type:qe.RendererSystem,name:"batch"};ct.add(rI);let Y3=0;class Av{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Y3++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Y3++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(nt.PREFER_ENV>=mc.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Av.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Av.extension={type:qe.RendererSystem,name:"context"};ct.add(Av);class n1{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ms("disposeFramebuffer"),this.multisample=en.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new It(null,{scaleMode:ha.NEAREST,resolution:1,mipmap:Go.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new It(null,{scaleMode:ha.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Go.OFF,format:Ie.DEPTH_COMPONENT,type:mt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],o=s.resolution;s.setSize(e/o,r/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class nI extends It{constructor(e={}){var r,n,s;if(typeof e=="number"){const o=arguments[0],a=arguments[1],l=arguments[2],c=arguments[3];e={width:o,height:a,scaleMode:l,resolution:c}}e.width=(r=e.width)!=null?r:100,e.height=(n=e.height)!=null?n:100,(s=e.multisample)!=null||(e.multisample=en.NONE),super(null,e),this.mipmap=Go.OFF,this.valid=!0,this._clear=new Qt([0,0,0,0]),this.framebuffer=new n1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Al extends qh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=T7(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,s){const o=e.gl,a=r.realWidth,l=r.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===xi.UNPACK),!this.noSubImage&&r.target===o.TEXTURE_2D&&n.width===a&&n.height===l?o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,n.type,s):(n.width=a,n.height=l,o.texImage2D(r.target,0,n.internalFormat,r.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class iI extends Al{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const s=new Image;Al.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:nt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>r(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===xi.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let s=!0;const o=r._glTextures;for(const a in o){const l=o[a];if(l!==n&&l.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class uE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const s=r.width,o=r.height;if(n){const a=e.width/2/s,l=e.height/2/o,c=e.x/s+a,d=e.y/o+l;n=Rr.add(n,Rr.NW),this.x0=c+a*Rr.uX(n),this.y0=d+l*Rr.uY(n),n=Rr.add(n,2),this.x1=c+a*Rr.uX(n),this.y1=d+l*Rr.uY(n),n=Rr.add(n,2),this.x2=c+a*Rr.uX(n),this.y2=d+l*Rr.uY(n),n=Rr.add(n,2),this.x3=c+a*Rr.uX(n),this.y3=d+l*Rr.uY(n)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}uE.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const q3=new uE;function x0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class it extends Ap{constructor(e,r,n,s,o,a,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Rt(0,0,1,1)),e instanceof it&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=q3,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new He(a.x,a.y):new He(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&yi[r.url]&&it.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,it.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new it(this.baseTexture,!this.noFrame&&e,r,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===q3&&(this._uvs=new uE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=nt.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof It){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId="".concat(l,"-").concat(Yu()),It.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Yu())}o=e._pixiId}let a=yi[o];if(s&&n&&!a)throw new Error('The cacheId "'.concat(o,'" does not exist in TextureCache.'));return!a&&!(e instanceof It)?(r.resolution||(r.resolution=Ca(e)),a=new it(new It(e,r)),a.baseTexture.cacheId=o,It.addToCache(a.baseTexture,o),it.addToCache(a,o)):!a&&e instanceof It&&(a=new it(e),it.addToCache(a,o)),a}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=it.from(e,Object.assign({resourceOptions:n},r),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,r,n,s){return new it(It.fromBuffer(e,r,n,s))}static fromLoader(e,r,n,s){const o=new It(e,Object.assign({scaleMode:It.defaultOptions.scaleMode,resolution:Ca(r)},s)),{resource:a}=o;a instanceof iI&&(a.url=r);const l=new it(o);return n||(n=r),It.addToCache(l.baseTexture,n),it.addToCache(l,n),n!==r&&(It.addToCache(l.baseTexture,r),it.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),yi[r]&&yi[r]!==e&&console.warn("Texture added to the cache with an id [".concat(r,"] that already had an entry")),yi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=yi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete yi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)yi[e.textureCacheIds[r]]===e&&delete yi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:s,height:o}=e,a=r+s>this.baseTexture.width,l=n+o>this.baseTexture.height;if(a||l){const c=a&&l?"and":"or",d="X: ".concat(r," + ").concat(s," = ").concat(r+s," > ").concat(this.baseTexture.width),h="Y: ".concat(n," + ").concat(o," = ").concat(n+o," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(d," ").concat(c," ").concat(h))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return it._EMPTY||(it._EMPTY=new it(new It),x0(it._EMPTY),x0(it._EMPTY.baseTexture)),it._EMPTY}static get WHITE(){if(!it._WHITE){const e=nt.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),it._WHITE=new it(It.from(e)),x0(it._WHITE),x0(it._WHITE.baseTexture)}return it._WHITE}}class vc extends it{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(r*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(o,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new vc(new nI(e))}}class sI{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=en.NONE){const s=new nI(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new vc(s)}getOptimalTexture(e,r,n=1,s=en.NONE){let o;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=xv(e),r=xv(r),o=((e&65535)<<16|r&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(e,r,s)),a.filterPoolKey=o,a.setResolution(n),a}getFilterTexture(e,r,n){const s=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||en.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}sI.SCREEN_KEY=-1;class j7 extends Cl{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class oI extends Cl{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ln(this.vertices),this.uvBuffer=new ln(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/e.width,this.uvs[3]=s,this.uvs[4]=n+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=n,this.uvs[7]=s+r.height/e.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class z7{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=en.NONE,this.sourceFrame=new Rt,this.destinationFrame=new Rt,this.bindingSourceFrame=new Rt,this.bindingDestinationFrame=new Rt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const E0=[new He,new He,new He,new He],NC=new Kt;class aI{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new sI,this.statePool=[],this.quad=new j7,this.quadUv=new oI,this.tempRect=new Rt,this.activeState={},this.globalUniforms=new ro({outputFrame:new Rt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var f,p,v,b;const n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new z7,a=n.renderTexture;let l,c;if(a.current){const w=a.current;l=w.resolution,c=w.multisample}else l=n.resolution,c=n.multisample;let d=r[0].resolution||l,h=(f=r[0].multisample)!=null?f:c,m=r[0].padding,g=r[0].autoFit,y=(p=r[0].legacy)!=null?p:!0;for(let w=1;w<r.length;w++){const x=r[w];d=Math.min(d,x.resolution||l),h=Math.min(h,(v=x.multisample)!=null?v:c),m=this.useMaxPadding?Math.max(m,x.padding):m+x.padding,g=g&&x.autoFit,y=y||((b=x.legacy)!=null?b:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=d,o.multisample=h,o.legacy=y,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(m);const _=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(NC.copyFrom(n.projection.transform).invert(),_),g?(o.sourceFrame.fit(_),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(_)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,d,h),o.filters=r,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const u=this.tempRect;u.x=0,u.y=0,u.width=o.sourceFrame.width,u.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,u),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;const o=s.inputSize,a=s.inputPixel,l=s.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],l[0]=.5*a[2],l[1]=.5*a[3],l[2]=r.sourceFrame.width*o[2]-.5*a[2],l[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){const d=s.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Co.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,h=this.getOptimalFilterTexture(d.width,d.height,r.resolution);h.filterFrame=d.filterFrame;let m=0;for(m=0;m<n.length-1;++m){m===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(d.width,d.height,r.resolution),h.filterFrame=d.filterFrame),n[m].apply(this,d,h,Co.CLEAR,r);const g=d;d=h,h=g}n[m].apply(this,d,c.renderTexture,Co.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Co.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,n.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(r===Co.CLEAR||r===Co.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ao.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ao.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:o}=r._texture,a=e.set(s.width,0,0,s.height,n.x,n.y),l=r.worldTransform.copyTo(Kt.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,s=en.NONE){return this.texturePool.getOptimalTexture(e,r,n,s)}getFilterTexture(e,r,n){if(typeof e=="number"){const o=e;e=r,r=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||en.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=E0[0],s=E0[1],o=E0[2],a=E0[3];n.set(r.left,r.top),s.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(n,n),e.apply(s,s),e.apply(o,o),e.apply(a,a);const l=Math.min(n.x,s.x,o.x,a.x),c=Math.min(n.y,s.y,o.y,a.y),d=Math.max(n.x,s.x,o.x,a.x),h=Math.max(n.y,s.y,o.y,a.y);r.x=l,r.y=c,r.width=d-l,r.height=h-c}roundFrame(e,r,n,s,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){const{a,b:l,c,d}=o;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(d)>1e-4))return}o=o?NC.copyFrom(o):NC.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(r),this.transformAABB(o.invert(),e)}}}aI.extension={type:qe.RendererSystem,name:"filter"};ct.add(aI);class G7{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=en.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Nde=new Rt;class lI{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new n1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;nt.PREFER_ENV===mc.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=s=>r.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const l=e.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>n,l=r.height>>n,c=a/r.width;this.setViewport(r.x*c,r.y*c,a,l)}else{const a=e.width>>n,l=e.height>>n;this.setViewport(0,0,a,l)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,s){const o=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),s=Math.round(s),(o.width!==n||o.height!==s||o.x!==e||o.y!==r)&&(o.x=e,o.y=r,o.width=n,o.height=s,this.gl.viewport(e,r,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,s,o=Kw.COLOR|Kw.DEPTH){const{gl:a}=this;a.clearColor(e,r,n,s),a.clear(o)}initFramebuffer(e){const{gl:r}=this,n=new G7(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1));for(let a=0;a<o;a++){const l=s[a],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),a===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let a=o.length;n.drawBuffers||(a=Math.min(a,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const l=[];for(let c=0;c<a;c++){const d=o[c],h=d.parentTextureArray||d;this.renderer.texture.bind(h,0),c===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,h._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=en.NONE;if(e<=1||r===null)return n;for(let s=0;s<r.length;s++)if(r[s]<=e){n=r[s];break}return n===1&&(n=en.NONE),n}blit(e,r,n){const{current:s,renderer:o,gl:a,CONTEXT_UID:l}=this;if(o.context.webGLVersion!==2||!s)return;const c=s.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const h=s.colorTextures[0];if(!h)return;c.blitFramebuffer||(c.blitFramebuffer=new n1(s.width,s.height),c.blitFramebuffer.addColorTexture(0,h)),e=c.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=Nde,r.width=s.width,r.height=s.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,o=this.gl,a=r.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a);let l,c;this.renderer.context.webGLVersion===1?(l=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH_STENCIL):e.depth?(l=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH24_STENCIL8):(l=o.STENCIL_ATTACHMENT,c=o.STENCIL_INDEX8),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,c,n,s):o.renderbufferStorage(o.RENDERBUFFER,c,n,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,l,o.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Rt}destroy(){this.renderer=null}}lI.extension={type:qe.RendererSystem,name:"framebuffer"};ct.add(lI);const LC={5126:4,5123:2,5121:1};class uI{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;nt.PREFER_ENV===mc.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,o)=>n.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,a,l,c)=>n.drawElementsInstancedANGLE(s,o,a,l,c),e.drawArraysInstanced=(s,o,a,l)=>n.drawArraysInstancedANGLE(s,o,a,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const a=s[r.program.id]||this.initGeometryVao(e,r,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];r.update(s)}}checkCompatibility(e,r){const n=e.attributes,s=r.attributeData;for(const o in s)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(o,'" attribute'))}getSignature(e,r){const n=e.attributes,s=r.attributeData,o=["g",e.id];for(const a in n)s[a]&&o.push(a,s[a].location);return o.join("-")}initGeometryVao(e,r,n=!0){const s=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,l=r.program;l.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let h=d[c];if(h)return d[l.id]=h,h;const m=e.buffers,g=e.attributes,y={},_={};for(const u in m)y[u]=0,_[u]=0;for(const u in g)!g[u].size&&l.attributeData[u]?g[u].size=l.attributeData[u].size:g[u].size||console.warn("PIXI Geometry attribute '".concat(u,"' size cannot be determined (likely the bound shader does not have the attribute)")),y[g[u].buffer]+=g[u].size*LC[g[u].type];for(const u in g){const f=g[u],p=f.size;f.stride===void 0&&(y[f.buffer]===p*LC[f.type]?f.stride=0:f.stride=y[f.buffer]),f.start===void 0&&(f.start=_[f.buffer],_[f.buffer]+=p*LC[f.type])}h=s.createVertexArray(),s.bindVertexArray(h);for(let u=0;u<m.length;u++){const f=m[u];a.bind(f),n&&f._glBuffers[o].refCount++}return this.activateVao(e,l),d[l.id]=h,d[c]=h,s.bindVertexArray(null),a.unbind(ko.ARRAY_BUFFER),h}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(a)for(let c=0;c<o.length;c++){const d=o[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&a.dispose(o[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,l=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let c=null;for(const d in l){const h=l[d],m=a[h.buffer],g=m._glBuffers[s];if(r.attributeData[d]){c!==g&&(o.bind(m),c=g);const y=r.attributeData[d].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(y,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,s){const{gl:o}=this,a=this._activeGeometry;if(a.indexBuffer){const l=a.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,r||a.indexBuffer.data.length,c,(n||0)*l,s||1):o.drawElements(e,r||a.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,n,r||a.getSize(),s||1):o.drawArrays(e,n,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}uI.extension={type:qe.RendererSystem,name:"geometry"};ct.add(uI);const Z3=new Kt;class cE{constructor(e,r){this._texture=e,this.mapCoord=new Kt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],a=e[s+1];r[s]=o*n.a+a*n.c+n.tx,r[s+1]=o*n.b+a*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=r.orig,o=r.trim;o&&(Z3.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Z3));const a=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/a.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/a.width,l[1]=(r._frame.y+c+d)/a.height,l[2]=(r._frame.x+r._frame.width-c+d)/a.width,l[3]=(r._frame.y+r._frame.height-c+d)/a.height,this.uClampOffset[0]=d/a.realWidth,this.uClampOffset[1]=d/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var Lde="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Ude="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class V7 extends Vn{constructor(e,r,n){let s=null;typeof e!="string"&&r===void 0&&n===void 0&&(s=e,e=void 0,r=void 0,n=void 0),super(e||Ude,r||Lde,n),this.maskSprite=s,this.maskMatrix=new Kt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,s){const o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new cE(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,n,s))}}class H7{constructor(e=null){this.type=sn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Vn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=sn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class cI{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const o=this.maskDataPool.pop()||new H7;o.pooled=!0,o.maskObject=r,n=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==sn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case sn.SCISSOR:this.renderer.scissor.push(n);break;case sn.STENCIL:this.renderer.stencil.push(n);break;case sn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case sn.COLOR:this.pushColorMask(n);break}n.type===sn.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case sn.SCISSOR:this.renderer.scissor.pop(r);break;case sn.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case sn.SPRITE:this.popSpriteMask(r);break;case sn.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===sn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=sn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=sn.SCISSOR:e.type=sn.STENCIL:e.type=sn.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new V7])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=r;const o=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}cI.extension={type:qe.RendererSystem,name:"mask"};ct.add(cI);class W7{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const J3=new Kt,Q3=[],K7=class Nb extends W7{constructor(e){super(e),this.glConst=nt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var l;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,o=s.renderTexture,a=n.getBounds(!0,(l=Q3.pop())!=null?l:new Rt);this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:s,d:o}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Nb.isMatrixRotated(r.worldTransform)||Nb.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,s,o){Nb.isMatrixRotated(o)||(o=o?J3.copyFrom(o):J3.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&Q3.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};K7.extension={type:qe.RendererSystem,name:"scissor"};let X7=K7;ct.add(X7);class dI extends W7{constructor(e){super(e),this.glConst=nt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(e._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}dI.extension={type:qe.RendererSystem,name:"stencil"};ct.add(dI);class fI{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ct("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ct("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ct("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}fI.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"_plugin"};ct.add(fI);class hI{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Kt,this.transform=null}update(e,r,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,r,n,s){const o=this.projectionMatrix,a=s?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d}setTransform(e){}destroy(){this.renderer=null}}hI.extension={type:qe.RendererSystem,name:"projection"};ct.add(hI);const $de=new Dp,eL=new Rt;class pI{constructor(e){this.renderer=e,this._tempMatrix=new Kt}generateTexture(e,r){var d;const{region:n,...s}=r||{},o=(n==null?void 0:n.copyTo(eL))||e.getLocalBounds(eL,!0),a=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/a),o.height=Math.max(o.height,1/a),s.width=o.width,s.height=o.height,s.resolution=a,(d=s.multisample)!=null||(s.multisample=this.renderer.multisample);const l=vc.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const c=e.transform;return e.transform=$de,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,l}destroy(){}}pI.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"textureGenerator"};ct.add(pI);const Pc=new Rt,Cm=new Rt;class mI{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rt,this.destinationFrame=new Rt,this.viewportFrame=new Rt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const s=this.renderer;this.current=e;let o,a,l;e?(o=e.baseTexture,l=o.resolution,r||(Pc.width=e.frame.width,Pc.height=e.frame.height,r=Pc),n||(Cm.x=e.frame.x,Cm.y=e.frame.y,Cm.width=r.width,Cm.height=r.height,n=Cm),a=o.framebuffer):(l=s.resolution,r||(Pc.width=s._view.screen.width,Pc.height=s._view.screen.height,r=Pc),n||(n=Pc,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=s.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(a,c),this.renderer.projection.update(n,r,l,!a),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Qt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,l=o.width!==a.width||o.height!==a.height;if(l){let{x:c,y:d,width:h,height:m}=this.viewportFrame;c=Math.round(c),d=Math.round(d),h=Math.round(h),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,h,m)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}mI.extension={type:qe.RendererSystem,name:"renderTexture"};ct.add(mI);class jde{}class Y7{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function zde(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=e.getActiveAttrib(t,s);if(o.name.startsWith("gl_"))continue;const a=L7(e,o.type),l={type:a,name:o.name,size:N7(a),location:e.getAttribLocation(t,o.name)};r[o.name]=l}return r}function Gde(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const o=e.getActiveUniform(t,s),a=o.name.replace(/\[.*?\]$/,""),l=!!o.name.match(/\[.*?\]$/),c=L7(e,o.type);r[a]={name:a,index:s,type:c,size:o.size,isArray:l,value:F7(c,o.size)}}return r}function q7(t,e){var l;const r=H3(t,t.VERTEX_SHADER,e.vertexSrc),n=H3(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,r),t.attachShader(s,n);const o=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(o&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||Tde(t,s,r,n),e.attributeData=zde(s,t),e.uniformData=Gde(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,h)=>d>h?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(s,d,c[d]);t.linkProgram(s)}t.deleteShader(r),t.deleteShader(n);const a={};for(const c in e.uniformData){const d=e.uniformData[c];a[c]={location:t.getUniformLocation(s,c),value:F7(d.type,d.size)}}return new Y7(s,a)}function Vde(t,e,r,n,s){r.buffer.update(s)}const Hde={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Z7={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function J7(t){const e=t.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let r=0,n=0,s=0;for(let o=0;o<e.length;o++){const a=e[o];if(r=Z7[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,s+=l}n+r>16?(s=Math.ceil(s/16)*16,a.offset=s,s+=r,n=r):(a.offset=s,n+=r,s+=r)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function Q7(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,s)=>n.index-s.index),r}function e9(t,e){if(!t.autoManage)return{size:0,syncFunc:Vde};const r=Q7(t.uniforms,e),{uboElements:n,size:s}=J7(r),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let a=0;a<n.length;a++){const l=n[a],c=t.uniforms[l.data.name],d=l.data.name;let h=!1;for(let m=0;m<ud.length;m++){const g=ud[m];if(g.codeUbo&&g.test(l.data,c)){o.push("offset = ".concat(l.offset/4,";"),ud[m].codeUbo(l.data.name,c)),h=!0;break}}if(!h)if(l.data.size>1){const m=N7(l.data.type),g=Math.max(Z7[l.data.type]/16,1),y=m/g,_=(4-y%4)%4;o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(l.data.size*g,"; i++)\n                {\n                    for(var j = 0; j < ").concat(y,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(_,";\n                }\n\n                "))}else{const m=Hde[l.data.type];o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n                ").concat(m,";\n                "))}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}let Wde=0;const S0={textureCount:0,uboCount:0};class gI{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Wde++}systemCheck(){if(!U7())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(S0.textureCount=0,S0.uboCount=0,this.syncUniformGroup(e.uniformGroup,S0)),s}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Cde(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,S0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[a];if(l||(l=this._uboCache[a]=e9(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const s=e.uniforms,o=["".concat(n,"-")];for(const a in s)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,s=q7(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}gI.extension={type:qe.RendererSystem,name:"shader"};ct.add(gI);class Tv{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log("PixiJS 7.3.2 - ".concat(r.rendererLogId," - https://pixijs.com")),r.resize(r.screen.width,r.screen.height)}destroy(){}}Tv.defaultOptions={hello:!1},Tv.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"startup"};ct.add(Tv);function Kde(t,e=[]){return e[wt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD]=[t.ONE,t.ONE],e[wt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.NONE]=[0,0],e[wt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[wt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[wt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[wt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[wt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[wt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[wt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Xde=0,Yde=1,qde=2,Zde=3,Jde=4,Qde=5,t9=class JD{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[Xde]=this.setBlend,this.map[Yde]=this.setOffset,this.map[qde]=this.setCullFace,this.map[Zde]=this.setDepthTest,this.map[Jde]=this.setFrontFace,this.map[Qde]=this.setDepthMask,this.checks=[],this.defaultState=new Wo,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Kde(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(JD.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(JD.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};t9.extension={type:qe.RendererSystem,name:"state"};let r9=t9;ct.add(r9);class n9 extends Ap{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var s;this.addRunners(...e.runners);const r=((s=e.priority)!=null?s:[]).filter(o=>e.systems[o]),n=[...r,...Object.keys(e.systems).filter(o=>!r.includes(o))];for(const o of n)this.addSystem(e.systems[o],o)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ms(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error('Whoops! The name "'.concat(r,'" is already in use'));this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=n.find(a=>this._systemsHash[a]===s);s[e.name](r[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Vm=class Lb{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Lb.defaultMaxIdle,this.checkCountMax=Lb.defaultCheckCountMax,this.mode=Lb.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==iE.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let s=0;s<r.length;s++){const o=r[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[s]=null,n=!0)}if(n){let s=0;for(let o=0;o<r.length;o++)r[o]!==null&&(r[s++]=r[o]);r.length=s}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Vm.defaultMode=iE.AUTO,Vm.defaultMaxIdle=60*60,Vm.defaultCheckCountMax=60*10,Vm.extension={type:qe.RendererSystem,name:"textureGC"};let cu=Vm;ct.add(cu);class Ub{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=mt.UNSIGNED_BYTE,this.internalFormat=Ie.RGBA,this.samplerType=0}}function efe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:tt.FLOAT,[t.RGBA]:tt.FLOAT,[t.ALPHA]:tt.FLOAT,[t.LUMINANCE]:tt.FLOAT,[t.LUMINANCE_ALPHA]:tt.FLOAT,[t.R8]:tt.FLOAT,[t.R8_SNORM]:tt.FLOAT,[t.RG8]:tt.FLOAT,[t.RG8_SNORM]:tt.FLOAT,[t.RGB8]:tt.FLOAT,[t.RGB8_SNORM]:tt.FLOAT,[t.RGB565]:tt.FLOAT,[t.RGBA4]:tt.FLOAT,[t.RGB5_A1]:tt.FLOAT,[t.RGBA8]:tt.FLOAT,[t.RGBA8_SNORM]:tt.FLOAT,[t.RGB10_A2]:tt.FLOAT,[t.RGB10_A2UI]:tt.FLOAT,[t.SRGB8]:tt.FLOAT,[t.SRGB8_ALPHA8]:tt.FLOAT,[t.R16F]:tt.FLOAT,[t.RG16F]:tt.FLOAT,[t.RGB16F]:tt.FLOAT,[t.RGBA16F]:tt.FLOAT,[t.R32F]:tt.FLOAT,[t.RG32F]:tt.FLOAT,[t.RGB32F]:tt.FLOAT,[t.RGBA32F]:tt.FLOAT,[t.R11F_G11F_B10F]:tt.FLOAT,[t.RGB9_E5]:tt.FLOAT,[t.R8I]:tt.INT,[t.R8UI]:tt.UINT,[t.R16I]:tt.INT,[t.R16UI]:tt.UINT,[t.R32I]:tt.INT,[t.R32UI]:tt.UINT,[t.RG8I]:tt.INT,[t.RG8UI]:tt.UINT,[t.RG16I]:tt.INT,[t.RG16UI]:tt.UINT,[t.RG32I]:tt.INT,[t.RG32UI]:tt.UINT,[t.RGB8I]:tt.INT,[t.RGB8UI]:tt.UINT,[t.RGB16I]:tt.INT,[t.RGB16UI]:tt.UINT,[t.RGB32I]:tt.INT,[t.RGB32UI]:tt.UINT,[t.RGBA8I]:tt.INT,[t.RGBA8UI]:tt.UINT,[t.RGBA16I]:tt.INT,[t.RGBA16UI]:tt.UINT,[t.RGBA32I]:tt.INT,[t.RGBA32UI]:tt.UINT,[t.DEPTH_COMPONENT16]:tt.FLOAT,[t.DEPTH_COMPONENT24]:tt.FLOAT,[t.DEPTH_COMPONENT32F]:tt.FLOAT,[t.DEPTH_STENCIL]:tt.FLOAT,[t.DEPTH24_STENCIL8]:tt.FLOAT,[t.DEPTH32F_STENCIL8]:tt.FLOAT}:e={[t.RGB]:tt.FLOAT,[t.RGBA]:tt.FLOAT,[t.ALPHA]:tt.FLOAT,[t.LUMINANCE]:tt.FLOAT,[t.LUMINANCE_ALPHA]:tt.FLOAT,[t.DEPTH_STENCIL]:tt.FLOAT},e}function tfe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[mt.UNSIGNED_BYTE]:{[Ie.RGBA]:t.RGBA8,[Ie.RGB]:t.RGB8,[Ie.RG]:t.RG8,[Ie.RED]:t.R8,[Ie.RGBA_INTEGER]:t.RGBA8UI,[Ie.RGB_INTEGER]:t.RGB8UI,[Ie.RG_INTEGER]:t.RG8UI,[Ie.RED_INTEGER]:t.R8UI,[Ie.ALPHA]:t.ALPHA,[Ie.LUMINANCE]:t.LUMINANCE,[Ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.BYTE]:{[Ie.RGBA]:t.RGBA8_SNORM,[Ie.RGB]:t.RGB8_SNORM,[Ie.RG]:t.RG8_SNORM,[Ie.RED]:t.R8_SNORM,[Ie.RGBA_INTEGER]:t.RGBA8I,[Ie.RGB_INTEGER]:t.RGB8I,[Ie.RG_INTEGER]:t.RG8I,[Ie.RED_INTEGER]:t.R8I},[mt.UNSIGNED_SHORT]:{[Ie.RGBA_INTEGER]:t.RGBA16UI,[Ie.RGB_INTEGER]:t.RGB16UI,[Ie.RG_INTEGER]:t.RG16UI,[Ie.RED_INTEGER]:t.R16UI,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[mt.SHORT]:{[Ie.RGBA_INTEGER]:t.RGBA16I,[Ie.RGB_INTEGER]:t.RGB16I,[Ie.RG_INTEGER]:t.RG16I,[Ie.RED_INTEGER]:t.R16I},[mt.UNSIGNED_INT]:{[Ie.RGBA_INTEGER]:t.RGBA32UI,[Ie.RGB_INTEGER]:t.RGB32UI,[Ie.RG_INTEGER]:t.RG32UI,[Ie.RED_INTEGER]:t.R32UI,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[mt.INT]:{[Ie.RGBA_INTEGER]:t.RGBA32I,[Ie.RGB_INTEGER]:t.RGB32I,[Ie.RG_INTEGER]:t.RG32I,[Ie.RED_INTEGER]:t.R32I},[mt.FLOAT]:{[Ie.RGBA]:t.RGBA32F,[Ie.RGB]:t.RGB32F,[Ie.RG]:t.RG32F,[Ie.RED]:t.R32F,[Ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[mt.HALF_FLOAT]:{[Ie.RGBA]:t.RGBA16F,[Ie.RGB]:t.RGB16F,[Ie.RG]:t.RG16F,[Ie.RED]:t.R16F},[mt.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:t.RGB565},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:t.RGBA4},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:t.RGB5_A1},[mt.UNSIGNED_INT_2_10_10_10_REV]:{[Ie.RGBA]:t.RGB10_A2,[Ie.RGBA_INTEGER]:t.RGB10_A2UI},[mt.UNSIGNED_INT_10F_11F_11F_REV]:{[Ie.RGB]:t.R11F_G11F_B10F},[mt.UNSIGNED_INT_5_9_9_9_REV]:{[Ie.RGB]:t.RGB9_E5},[mt.UNSIGNED_INT_24_8]:{[Ie.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[mt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ie.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[mt.UNSIGNED_BYTE]:{[Ie.RGBA]:t.RGBA,[Ie.RGB]:t.RGB,[Ie.ALPHA]:t.ALPHA,[Ie.LUMINANCE]:t.LUMINANCE,[Ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:t.RGB},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:t.RGBA},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:t.RGBA}},e}class vI{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new It,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=tfe(e),this.samplerTypes=efe(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new Ub(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ub(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let o=e-1;o>=0;--o){const a=r[o];a&&a._glTextures[s].samplerType!==tt.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new Ub(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,s,o;r.internalFormat=(s=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?s:e.format,r.samplerType=(o=this.samplerTypes[r.internalFormat])!=null?o:tt.FLOAT,this.webGLVersion===2&&e.type===mt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var s;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(s=e.resource)==null?void 0:s.upload(n,e,r))r.samplerType!==tt.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,a=e.realHeight,l=n.gl;(r.width!==o||r.height!==a||r.dirtyId<0)&&(r.width=o,r.height=a,l.texImage2D(e.target,0,r.internalFormat,o,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const s=this.managedTextures.indexOf(e);s!==-1&&ld(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Go.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=wa.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Go.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===ha.LINEAR){const o=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}vI.extension={type:qe.RendererSystem,name:"texture"};ct.add(vI);class yI{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:s}=this;r&&s.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:s}=this,o=r.createTransformFeedback();e._glTransformFeedbacks[s]=o,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,o);for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];l&&(n.buffer.update(l),l._glBuffers[s].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,l._glBuffers[s].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(l,r))}n&&(r||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}yI.extension={type:qe.RendererSystem,name:"transformFeedback"};ct.add(yI);class Dv{constructor(e){this.renderer=e}init(e){this.screen=new Rt(0,0,e.width,e.height),this.element=e.view||nt.ADAPTER.createCanvas(),this.resolution=e.resolution||nt.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(s,"px")),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Dv.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Dv.extension={type:[qe.RendererSystem,qe.CanvasRendererSystem],name:"_view"};ct.add(Dv);nt.PREFER_ENV=mc.WEBGL2;nt.STRICT_TEXTURE_CACHE=!1;nt.RENDER_OPTIONS={...Av.defaultOptions,...Cv.defaultOptions,...Dv.defaultOptions,...Tv.defaultOptions};Object.defineProperties(nt,{WRAP_MODE:{get(){return It.defaultOptions.wrapMode},set(t){Ct("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),It.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return It.defaultOptions.scaleMode},set(t){Ct("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),It.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return It.defaultOptions.mipmap},set(t){Ct("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),It.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return It.defaultOptions.anisotropicLevel},set(t){Ct("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),It.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ct("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Vn.defaultResolution},set(t){Vn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ct("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Vn.defaultMultisample},set(t){Vn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return uu.defaultMaxTextures},set(t){Ct("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),uu.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return uu.defaultBatchSize},set(t){Ct("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),uu.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return uu.canUploadSameBuffer},set(t){Ct("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),uu.canUploadSameBuffer=t}},GC_MODE:{get(){return cu.defaultMode},set(t){Ct("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),cu.defaultMode=t}},GC_MAX_IDLE:{get(){return cu.defaultMaxIdle},set(t){Ct("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),cu.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return cu.defaultCheckCountMax},set(t){Ct("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),cu.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return pa.defaultVertexPrecision},set(t){Ct("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),pa.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return pa.defaultFragmentPrecision},set(t){Ct("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),pa.defaultFragmentPrecision=t}}});var Aa=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Aa||{});class UC{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=s}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const i9=class ts{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new UC(null,null,1/0),this.deltaMS=1/ts.targetFPMS,this.elapsedMS=1/ts.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Aa.NORMAL){return this._addListener(new UC(e,r,n))}addOnce(e,r,n=Aa.NORMAL){return this._addListener(new UC(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*ts.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,ts.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!ts._shared){const e=ts._shared=new ts;e.autoStart=!0,e._protected=!0}return ts._shared}static get system(){if(!ts._system){const e=ts._system=new ts;e.autoStart=!0,e._protected=!0}return ts._system}};i9.targetFPMS=.06;let dn=i9;Object.defineProperties(nt,{TARGET_FPMS:{get(){return dn.targetFPMS},set(t){Ct("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),dn.targetFPMS=t}}});class _I{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Aa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?dn.shared:new dn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}_I.extension=qe.Application;ct.add(_I);const s9=[];ct.handleByList(qe.Renderer,s9);function o9(t){for(const e of s9)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var rfe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",nfe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const a9=rfe,bI=nfe;class wI{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=en.HIGH?this.multisample=en.HIGH:r>=en.MEDIUM?this.multisample=en.MEDIUM:r>=en.LOW?this.multisample=en.LOW:this.multisample=en.NONE}destroy(){}}wI.extension={type:qe.RendererSystem,name:"_multisample"};ct.add(wI);class ife{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class xI{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[r]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,o.buffer)}}bindBufferRange(e,r,n){const{gl:s,CONTEXT_UID:o}=this;n=n||0;const a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const o=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,o)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new ife(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}xI.extension={type:qe.RendererSystem,name:"buffer"};ct.add(xI);class EI{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let s,o,a,l;if(r&&(s=r.renderTexture,o=r.clear,a=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(s||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(o!=null?o:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(r.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}EI.extension={type:qe.RendererSystem,name:"objectRenderer"};ct.add(EI);const $b=class QD extends n9{constructor(e){super(),this.type=zO.WEBGL,e=Object.assign({},nt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ro({projectionMatrix:new Kt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:QD.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ct("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=QD.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:g7()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return Ct("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ct("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ct("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ct("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};$b.extension={type:qe.Renderer,priority:1},$b.__plugins={},$b.__systems={};let dE=$b;ct.handleByMap(qe.RendererPlugin,dE.__plugins);ct.handleByMap(qe.RendererSystem,dE.__systems);ct.add(dE);class SI extends qh{constructor(e,r){const{width:n,height:s}=r||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const a=new It;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof qh?this.addResourceAt(e[n],n):this.addResourceAt(eI(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class l9 extends SI{constructor(e,r){const{width:n,height:s}=r||{};let o,a;Array.isArray(e)?(o=e,a=e.length):a=e,super(a,{width:n,height:s}),o&&this.initFromArray(o,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=sd.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:s,itemDirtyIds:o,items:a}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,r.format,n.type,null);for(let c=0;c<s;c++){const d=a[c];o[c]<d.dirtyId&&(o[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class u9 extends Al{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const c9=class Hm extends SI{constructor(e,r){const{width:n,height:s,autoLoad:o,linkBaseTexture:a}=r||{};if(e&&e.length!==Hm.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:s});for(let l=0;l<Hm.SIDES;l++)this.items[l].target=sd.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),o!==!1&&this.load()}bind(e){super.bind(e),e.target=sd.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=sd.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const s=this.itemDirtyIds;for(let o=0;o<Hm.SIDES;o++){const a=this.items[o];(s[o]<a.dirtyId||n.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,n),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Hm.SIDES}};c9.SIDES=6;let d9=c9;class qc extends Al{constructor(e,r){var a,l;r=r||{};let n,s,o;typeof e=="string"?(n=qc.EMPTY,s=e,o=!0):(n=e,s=null,o=!1),super(n),this.url=s,this.crossOrigin=(a=r.crossOrigin)!=null?a:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=(l=r.ownsImageBitmap)!=null?l:o,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await nt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===xi.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return qc._EMPTY=(e=qc._EMPTY)!=null?e:nt.ADAPTER.createCanvas(0,0),qc._EMPTY}}const eP=class jb extends Al{constructor(e,r){r=r||{},super(nt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},jb.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Al.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=r*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*r,o=this._overrideHeight||this._overrideWidth/r*n),s=Math.round(s),o=Math.round(o);const a=this.source;a.width=s,a.height=o,a._pixiId="canvas_".concat(Yu()),a.getContext("2d").drawImage(e,0,0,r,n,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const r=jb.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&jb.SVG_XML.test(e)}};eP.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,eP.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let i1=eP;const tP=class rP extends Al{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Al.crossOrigin(n,s,r.crossorigin);for(let o=0;o<e.length;++o){const a=document.createElement("source");let{src:l,mime:c}=e[o];if(l=l||e[o],l.startsWith("data:"))c=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),h=d.slice(d.lastIndexOf(".")+1);c=c||rP.MIME_TYPES[h]||"video/".concat(h)}a.src=l,c&&(a.type=c),n.appendChild(a)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=dn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(dn.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||rP.TYPES.includes(r)}};tP.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],tP.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let CI=tP;e1.push(qc,iI,u9,CI,i1,Hy,d9,l9);class sfe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new ms("disposeTransformFeedback")}bindBuffer(e,r){this.buffers[e]=r}destroy(){this.disposeRunner.emit(this,!1)}}const ofe="7.3.2";class Pv{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Rt.EMPTY:(e=e||new Rt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:s,c:o,d:a,tx:l,ty:c}=e,d=n*r.x+o*r.y+l,h=s*r.x+a*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e[0],l=e[1];r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[2],l=e[3],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[4],l=e[5],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,a=e[6],l=e[7],r=a<r?a:r,n=l<n?l:n,s=a>s?a:s,o=l>o?l:o,this.minX=r,this.minY=n,this.maxX=s,this.maxY=o}addFrame(e,r,n,s,o){this.addFrameMatrix(e.worldTransform,r,n,s,o)}addFrameMatrix(e,r,n,s,o){const a=e.a,l=e.b,c=e.c,d=e.d,h=e.tx,m=e.ty;let g=this.minX,y=this.minY,_=this.maxX,u=this.maxY,f=a*r+c*n+h,p=l*r+d*n+m;g=f<g?f:g,y=p<y?p:y,_=f>_?f:_,u=p>u?p:u,f=a*s+c*n+h,p=l*s+d*n+m,g=f<g?f:g,y=p<y?p:y,_=f>_?f:_,u=p>u?p:u,f=a*r+c*o+h,p=l*r+d*o+m,g=f<g?f:g,y=p<y?p:y,_=f>_?f:_,u=p>u?p:u,f=a*s+c*o+h,p=l*s+d*o+m,g=f<g?f:g,y=p<y?p:y,_=f>_?f:_,u=p>u?p:u,this.minX=g,this.minY=y,this.maxX=_,this.maxY=u}addVertexData(e,r,n){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],h=e[c+1];s=d<s?d:s,o=h<o?h:o,a=d>a?d:a,l=h>l?h:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}addVertices(e,r,n,s){this.addVerticesMatrix(e.worldTransform,r,n,s)}addVerticesMatrix(e,r,n,s,o=0,a=o){const l=e.a,c=e.b,d=e.c,h=e.d,m=e.tx,g=e.ty;let y=this.minX,_=this.minY,u=this.maxX,f=this.maxY;for(let p=n;p<s;p+=2){const v=r[p],b=r[p+1],w=l*v+d*b+m,x=h*b+c*v+g;y=Math.min(y,w-o),u=Math.max(u,w+o),_=Math.min(_,x-a),f=Math.max(f,x+a)}this.minX=y,this.minY=_,this.maxX=u,this.maxY=f}addBounds(e){const r=this.minX,n=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,s=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&s<=a){const l=this.minX,c=this.minY,d=this.maxX,h=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=a>h?a:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,s=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&s<=a){const l=this.minX,c=this.minY,d=this.maxX,h=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=a>h?a:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,s,o,a){e-=o,r-=a,n+=o,s+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>s?this.maxY:s}}class Fr extends Ap{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Dp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Pv,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];Object.defineProperty(Fr.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Rt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){var l;e||(this._localBoundsRect||(this._localBoundsRect=new Rt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Pv);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(l=n==null?void 0:n.worldAlpha)!=null?l:1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,s){return r&&(e=r.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,s=1,o=0,a=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new f9),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*R7}set angle(e){this.transform.rotation=e*O7}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class f9 extends Fr{constructor(){super(...arguments),this.sortDirty=null}}Fr.prototype.displayObjectUpdateTransform=Fr.prototype.updateTransform;const afe=new Kt;function lfe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const h9=class nP extends Fr{constructor(){super(),this.children=[],this.sortableChildren=nP.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(r," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error("The index ".concat(r," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);ld(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ld(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ld(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,s=r,o=s-n;let a;if(o>0&&o<=s){a=this.children.splice(n,o);for(let l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const s=this.children[r];s._lastSortedIndex=r,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(lfe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s];a.visible&&a.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==nP.prototype._render&&(n=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=afe.copyFrom(s),s.prepend(o)):s=o),n&&r.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let a=0,l=this.children.length;a<l;++a){const c=this.children[a],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var o,a,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const s=r&&((o=this._enabledFilters)==null?void 0:o.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==sn.NONE));if(s&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};h9.defaultSortableChildren=!1;let Xi=h9;Xi.prototype.containerUpdateTransform=Xi.prototype.updateTransform;Object.defineProperties(nt,{SORTABLE_CHILDREN:{get(){return Xi.defaultSortableChildren},set(t){Ct("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Xi.defaultSortableChildren=t}}});const Am=new He,ufe=new Uint16Array([0,1,2,0,2,3]);let Vd=class p9 extends Xi{constructor(e){super(),this._anchor=new Do(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Qt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||it.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ufe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=nt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=cl(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=cl(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,a=r.d,l=r.tx,c=r.ty,d=this.vertexData,h=e.trim,m=e.orig,g=this._anchor;let y=0,_=0,u=0,f=0;if(h?(_=h.x-g._x*m.width,y=_+h.width,f=h.y-g._y*m.height,u=f+h.height):(_=-g._x*m.width,y=_+m.width,f=-g._y*m.height,u=f+m.height),d[0]=n*_+o*f+l,d[1]=a*f+s*_+c,d[2]=n*y+o*f+l,d[3]=a*f+s*y+c,d[4]=n*y+o*u+l,d[5]=a*u+s*y+c,d[6]=n*_+o*u+l,d[7]=a*u+s*_+c,this._roundPixels){const p=nt.RESOLUTION;for(let v=0;v<d.length;++v)d[v]=Math.round(d[v]*p)/p}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,d=o.d,h=o.tx,m=o.ty,g=-s._x*n.width,y=g+n.width,_=-s._y*n.height,u=_+n.height;if(r[0]=a*g+c*_+h,r[1]=d*_+l*g+m,r[2]=a*y+c*_+h,r[3]=d*_+l*y+m,r[4]=a*y+c*u+h,r[5]=d*u+l*y+m,r[6]=a*g+c*u+h,r[7]=d*u+l*g+m,this._roundPixels){const f=nt.RESOLUTION;for(let p=0;p<r.length;++p)r[p]=Math.round(r[p]*f)/f}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Pv),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Am);const r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x;let o=0;return Am.x>=s&&Am.x<s+r&&(o=-n*this.anchor.y,Am.y>=o&&Am.y<o+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof it?e:it.from(e,r);return new p9(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=cl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=cl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||it.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const m9=new Kt;Fr.prototype._cacheAsBitmap=!1;Fr.prototype._cacheData=null;Fr.prototype._cacheAsBitmapResolution=null;Fr.prototype._cacheAsBitmapMultisample=null;class cfe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Fr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new cfe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Fr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Fr.prototype._initCachedDisplayObject=function(t){var g,y,_;if((g=this._cacheData)!=null&&g.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Rt,!0);if((y=this.filters)!=null&&y.length){const u=this.filters[0].padding;r.pad(u)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const s=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=vc.create({width:r.width,height:r.height,resolution:n,multisample:(_=this.cacheAsBitmapMultisample)!=null?_:t.multisample}),d="cacheAsBitmap_".concat(Yu());this._cacheData.textureCacheId=d,It.addToCache(c.baseTexture,d),it.addToCache(c,d);const h=this.transform.localTransform.copyTo(m9).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(s,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new Vd(c);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};Fr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Fr.prototype._initCachedDisplayObjectCanvas=function(t){var h;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.getLocalBounds(new Rt,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,s=t._projTransform,o=this.cacheAsBitmapResolution||t.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const a=vc.create({width:e.width,height:e.height,resolution:o}),l="cacheAsBitmap_".concat(Yu());this._cacheData.textureCacheId=l,It.addToCache(a.baseTexture,l),it.addToCache(a,l);const c=m9;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new Vd(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};Fr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Fr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Fr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,It.removeFromCache(this._cacheData.textureCacheId),it.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Fr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Fr.prototype.name=null;Xi.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(t,!0);if(o)return o}return null};Fr.prototype.getGlobalPosition=function(t=new He,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var dfe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class g9 extends Vn{constructor(e=1){super(a9,dfe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const ffe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},hfe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function pfe(t){const e=ffe[t],r=e.length;let n=hfe,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let l=0;l<t;l++){let c=o.replace("%index%",l.toString());a=l,l>=r&&(a=t-l-1),c=c.replace("%value%",e[a].toString()),s+=c,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}const mfe="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function gfe(t,e){const r=Math.ceil(t/2);let n=mfe,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<t;a++){let l=o.replace("%index%",a.toString());l=l.replace("%sampleIndex%","".concat(a-(r-1),".0")),s+=l,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}class s1 extends Vn{constructor(e,r=8,n=4,s=Vn.defaultResolution,o=5){const a=gfe(o,e),l=pfe(o);super(a,l),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,s);else{const o=e.getFilterTexture(),a=e.renderer;let l=r,c=o;this.state.blend=!1,e.applyFilter(this,l,c,Co.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,Co.BLIT),this.uniforms.uSampler=c;const h=c;c=l,l=h,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let v9=class extends Vn{constructor(e=8,r=4,n=Vn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new s1(!0,e,r,n,s),this.blurYFilter=new s1(!1,e,r,n,s),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,s){const o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Co.CLEAR),this.blurYFilter.apply(e,l,n,s),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,r,n,s):this.blurXFilter.apply(e,r,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};var vfe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";class o1 extends Vn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(bI,vfe,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,s,o]=Qt.shared.setValue(e).toArray(),a=[n,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(a,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),s=Math.sin(e),o=Math.sqrt,a=1/3,l=o(a),c=n+(1-n)*a,d=a*(1-n)-l*s,h=a*(1-n)+l*s,m=a*(1-n)+l*s,g=n+a*(1-n),y=a*(1-n)-l*s,_=a*(1-n)-l*s,u=a*(1-n)+l*s,f=n+a*(1-n),p=[c,d,h,0,0,m,g,y,0,0,_,u,f,0,0,0,0,0,1,0];this._loadMatrix(p,r)}contrast(e,r){const n=(e||0)+1,s=-.5*(n-1),o=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(o,r)}saturate(e=0,r){const n=e*2/3+1,s=(n-1)*-.5,o=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,s,o){e=e||.2,r=r||.15,n=n||16770432,s=s||3375104;const a=Qt.shared,[l,c,d]=a.setValue(n).toArray(),[h,m,g]=a.setValue(s).toArray(),y=[.3,.59,.11,0,0,l,c,d,e,0,h,m,g,r,0,l-h,c-m,d-g,0,0];this._loadMatrix(y,o)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}o1.prototype.grayscale=o1.prototype.greyscale;var yfe="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",_fe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";class y9 extends Vn{constructor(e,r){const n=new Kt;e.renderable=!1,super(_fe,yfe,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new He(r,r)}apply(e,r,n,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&l!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),e.applyFilter(this,r,n,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var bfe='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',wfe="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";class _9 extends Vn{constructor(){super(wfe,bfe)}}var xfe="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";let b9=class extends Vn{constructor(e=.5,r=Math.random()){super(bI,xfe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};const iP={AlphaFilter:g9,BlurFilter:v9,BlurFilterPass:s1,ColorMatrixFilter:o1,DisplacementFilter:y9,FXAAFilter:_9,NoiseFilter:b9};Object.entries(iP).forEach(([t,e])=>{Object.defineProperty(iP,t,{get(){return Ct("7.1.0","filters.".concat(t," has moved to ").concat(t)),e}})});class Efe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(dn.system.add(this.tickerUpdate,this,Aa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(dn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const gu=new Efe;class Pp{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Pp.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new He,this.page=new He,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Rv extends Pp{constructor(){super(...arguments),this.client=new He,this.movement=new He,this.offset=new He,this.global=new He,this.screen=new He}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,s,o,a,l,c,d,h,m,g,y,_,u){throw new Error("Method not implemented.")}}class Bs extends Rv{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class cd extends Rv{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}cd.DOM_DELTA_PIXEL=0,cd.DOM_DELTA_LINE=1,cd.DOM_DELTA_PAGE=2;const Sfe=2048,Cfe=new He,$C=new He;class w9{constructor(e){this.dispatch=new Ap,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,s=r.length;n<s;n++)r[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,r){gu.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,Cfe.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=n.length-1;s<o;s++)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(r)?r:[r];for(let o=n.length-1;o>=0;o--)s.forEach(a=>{e.currentTarget=n[o],this.notifyTarget(e,a)})}propagationPath(e){const r=[e];for(let n=0;n<Sfe&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,s,o,a=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(gu.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let m=h.length-1;m>=0;m--){const g=h[m],y=this.hitTestMoveRecursive(g,this._isInteractive(r)?r:g.eventMode,n,s,o,a||o(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:l?this._hitElements:c&&!o(e,n)&&s(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,s,o){if(this._interactivePrune(e)||o(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(gu.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],m=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,s,o);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const g=e.isInteractive();return(m.length>0||g)&&m.push(e),m}}}const a=this._isInteractive(r),l=e.isInteractive();return a&&s(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,$C),!e.hitArea.contains($C.x,$C.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var o,a;r=r!=null?r:e.type;const n="on".concat(r);(a=(o=e.currentTarget)[n])==null||a.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const s=r.button===2;this.dispatchEvent(r,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d,h;if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((c=s.overTargets)==null?void 0:c.length)>0&&o!==r.target){const m=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,m,o);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!r.composedPath().includes(o)){const y=this.createPointerEvent(e,"pointerleave",o);for(y.eventPhase=y.AT_TARGET;y.target&&!r.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(g)}if(o!==r.target){const m=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(r,m);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let y=o==null?void 0:o.parent;for(;y&&y!==this.rootTarget.parent&&y!==r.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const _=this.clonePointerEvent(r,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==o&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(g)}const a=[],l=(d=this.enableGlobalMoveEvents)!=null?d:!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&a.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&a.push("globaltouchmove")),n&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&a.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),a.length>0&&this.all(r,a),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var a;if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(a=n.target)==null?void 0:a.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(r.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const a=this.createPointerEvent(e,"pointerleave",s);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;r.overTargets=null,this.freeEvent(o),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let a=o;if(o&&!n.composedPath().includes(o)){let l=o;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete s.pressTargetsByButton[e.button],a=l}if(a){const l=this.clonePointerEvent(n,"click");l.target=a,l.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=s.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Bs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let o=n;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof cd)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){var o;const s=this.allocateEvent(Bs);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=(o=n!=null?n:this.hitTest(s.global.x,s.global.y))!=null?o:this._hitElements[0],typeof r=="string"&&(s.type=r),s}createWheelEvent(e){const r=this.allocateEvent(cd);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Bs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Bs&&r instanceof Bs&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Rv&&r instanceof Rv&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,o=n.length;s<o&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(r,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const Afe=1,Tfe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},sP=class oP{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new w9(null),gu.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Bs(null),this.rootWheelEvent=new cd(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...oP.defaultEventFeatures},{set:(r,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),r[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var s,o;const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,oP._defaultEventMode=(s=e.eventMode)!=null?s:"auto",Object.assign(this.features,(o=e.eventFeatures)!=null?o:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=r.length;n<s;n++){const o=r[n],a=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,gu.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,a=s.length;o<a;o++){const l=this.bootstrapEvent(this.rootPointerEvent,s[o]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,gu.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;gu.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;gu.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(r-s.left)*(this.domElement.width/s.width)*o,e.y=(n-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const o=e.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,r.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Afe),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Tfe[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};sP.extension={name:"events",type:[qe.RendererSystem,qe.CanvasRendererSystem]},sP.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let a1=sP;ct.add(a1);function tL(t){return t==="dynamic"||t==="static"}const x9={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return(t=this._internalInteractive)!=null?t:tL(a1.defaultEventMode)},set interactive(t){Ct("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return(t=this._internalEventMode)!=null?t:a1.defaultEventMode},set eventMode(t){this._internalInteractive=tL(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,s)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof Pp))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Fr.mixin(x9);const E9={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Fr.mixin(E9);const Dfe=9,C0=100,Pfe=0,Rfe=0,rL=2,nL=1,Ofe=-1e3,Ife=-1e3,Bfe=2;class AI{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(To.tablet||To.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="".concat(C0,"px"),r.style.height="".concat(C0,"px"),r.style.position="absolute",r.style.top="".concat(Pfe,"px"),r.style.left="".concat(Rfe,"px"),r.style.zIndex=rL.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat(nL,"px"),e.style.height="".concat(nL,"px"),e.style.position="absolute",e.style.top="".concat(Ofe,"px"),e.style.left="".concat(Ife,"px"),e.style.zIndex=Bfe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(To.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:a,height:l,resolution:c}=this.renderer,d=s/a*c,h=o/l*c;let m=this.div;m.style.left="".concat(r,"px"),m.style.top="".concat(n,"px"),m.style.width="".concat(a,"px"),m.style.height="".concat(l,"px");for(let g=0;g<this.children.length;g++){const y=this.children[g];if(y.renderId!==this.renderId)y._accessibleActive=!1,ld(this.children,g,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,g--;else{m=y._accessibleDiv;let _=y.hitArea;const u=y.worldTransform;y.hitArea?(m.style.left="".concat((u.tx+_.x*u.a)*d,"px"),m.style.top="".concat((u.ty+_.y*u.d)*h,"px"),m.style.width="".concat(_.width*u.a*d,"px"),m.style.height="".concat(_.height*u.d*h,"px")):(_=y.getBounds(),this.capHitArea(_),m.style.left="".concat(_.x*d,"px"),m.style.top="".concat(_.y*h,"px"),m.style.width="".concat(_.width*d,"px"),m.style.height="".concat(_.height*h,"px"),m.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(m.title=y.accessibleTitle),m.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&m.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==m.title||y.tabIndex!==m.tabIndex)&&(m.title=y.accessibleTitle,m.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="".concat(C0,"px"),r.style.height="".concat(C0,"px"),r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=rL.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new Pp(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,r.forEach(a=>s.dispatchEvent(o,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Dfe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}AI.extension={name:"accessibility",type:[qe.RendererPlugin,qe.CanvasRendererPlugin]};ct.add(AI);const S9=class aP{constructor(e){this.stage=new Xi,e=Object.assign({forceCanvas:!1},e),this.renderer=o9(e),aP._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=aP._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};S9._plugins=[];let C9=S9;ct.handleByList(qe.Application,C9._plugins);class TI{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;r=s,n=o}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}TI.extension=qe.Application;ct.add(TI);const iL={loader:qe.LoadParser,resolver:qe.ResolveParser,cache:qe.CacheParser,detection:qe.DetectionParser};ct.handle(qe.Asset,t=>{const e=t.ref;Object.entries(iL).filter(([r])=>!!e[r]).forEach(([r,n])=>{var s;return ct.add(Object.assign(e[r],{extension:(s=e[r].extension)!=null?s:n}))})},t=>{const e=t.ref;Object.keys(iL).filter(r=>!!e[r]).forEach(r=>ct.remove(e[r]))});class Ffe{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Hd(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}function Ul(t,e){const r=t.split("?")[0],n=fn.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Vs=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),l1=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};function A9(t,e,r,n,s){const o=e[r];for(let a=0;a<o.length;a++){const l=o[a];r<e.length-1?A9(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function T9(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(o=>{const a=o.substring(1,o.length-1).split(",");s.push(a)}),A9(t,s,0,r,n)}else n.push(t);return n}const Ov=t=>!Array.isArray(t);class Mfe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),r}set(e,r){const n=Vs(e);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}s||(s={},n.forEach(l=>{s[l]=r}));const o=Object.keys(s),a={cacheKeys:o,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,s[l])}),r instanceof it){const l=r;n.forEach(c=>{l.baseTexture!==it.EMPTY.baseTexture&&It.addToCache(l.baseTexture,c),it.addToCache(l,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const vu=new Mfe;class kfe{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var a,l;let s=null,o=null;if(r.loadParser&&(o=this._parserHash[r.loadParser],o||console.warn('[Assets] specified load parser "'.concat(r.loadParser,'" not found while loading ').concat(e))),!o){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((a=d.test)!=null&&a.call(d,e,r,this))){o=d;break}}if(!o)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await o.load(e,r,this),n.parser=o;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,s,r,this))&&(s=await d.parse(s,r,this)||s,n.parser=d)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},o=Ov(e),a=Vs(e,d=>({alias:[d],src:d})),l=a.length,c=a.map(async d=>{const h=fn.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,d)),s[d.src]=await this.promiseCache[h].promise,r&&r(++n/l)}catch(m){throw delete this.promiseCache[h],delete s[d.src],new Error("[Loader.load] Failed to load ".concat(h,".\n").concat(m))}});return await Promise.all(c),o?s[a[0].src]:s}async unload(e){const r=Vs(e,n=>({alias:[n],src:n})).map(async n=>{var a,l;const s=fn.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;delete this.promiseCache[s],(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn('[Assets] loadParser name conflict "'.concat(r.name,'"')),{...e,[r.name]:r}),{})}}var uo=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(uo||{});const Nfe=".json",Lfe="application/json",D9={extension:{type:qe.LoadParser,priority:uo.Low},name:"loadJson",test(t){return Hd(t,Lfe)||Ul(t,Nfe)},async load(t){return await(await nt.ADAPTER.fetch(t)).json()}};ct.add(D9);const Ufe=".txt",$fe="text/plain",P9={name:"loadTxt",extension:{type:qe.LoadParser,priority:uo.Low},test(t){return Hd(t,$fe)||Ul(t,Ufe)},async load(t){return await(await nt.ADAPTER.fetch(t)).text()}};ct.add(P9);const jfe=["normal","bold","100","200","300","400","500","600","700","800","900"],zfe=[".ttf",".otf",".woff",".woff2"],Gfe=["font/ttf","font/otf","font/woff","font/woff2"],Vfe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function R9(t){const e=fn.extname(t),r=fn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=r.length>0;for(const o of r)if(!o.match(Vfe)){n=!1;break}let s=r.join(" ");return n||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}const Hfe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Wfe(t){return Hfe.test(t)?t:encodeURI(t)}const O9={extension:{type:qe.LoadParser,priority:uo.Low},name:"loadWebFont",test(t){return Hd(t,Gfe)||Ul(t,zfe)},async load(t,e){var n,s,o,a,l,c;const r=nt.ADAPTER.getFontFaceSet();if(r){const d=[],h=(s=(n=e.data)==null?void 0:n.family)!=null?s:R9(t),m=(l=(a=(o=e.data)==null?void 0:o.weights)==null?void 0:a.filter(y=>jfe.includes(y)))!=null?l:["normal"],g=(c=e.data)!=null?c:{};for(let y=0;y<m.length;y++){const _=m[y],u=new FontFace(h,"url(".concat(Wfe(t),")"),{...g,weight:_});await u.load(),r.add(u),d.push(u)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>nt.ADAPTER.getFontFaceSet().delete(e))}};ct.add(O9);let sL=0,jC;const Kfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",Xfe={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat(Kfe,"');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},Yfe={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let zC;class qfe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([Xfe.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",s=>{n.terminate(),URL.revokeObjectURL(r),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){jC===void 0&&(jC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<jC&&(zC||(zC=URL.createObjectURL(new Blob([Yfe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(zC),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,o)=>{this.queue.push({id:e,arguments:r,resolve:s,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[sL]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:sL++,id:n})}}const oL=new qfe;function Rp(t,e,r){t.resource.internal=!0;const n=new it(t),s=()=>{delete e.promiseCache[r],vu.has(r)&&vu.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const Zfe=[".jpeg",".jpg",".png",".webp",".avif"],Jfe=["image/jpeg","image/png","image/webp","image/avif"];async function I9(t){const e=await nt.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}const qy={name:"loadTextures",extension:{type:qe.LoadParser,priority:uo.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Hd(t,Jfe)||Ul(t,Zfe)},async load(t,e,r){var l,c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await oL.isImageBitmapSupported()?s=await oL.loadImageBitmap(t):s=await I9(t):s=await new Promise((d,h)=>{const m=new Image;m.crossOrigin=this.config.crossOrigin,m.src=t,m.complete?d(m):(m.onload=()=>d(m),m.onerror=g=>h(g))});const o={...e.data};(l=o.resolution)!=null||(o.resolution=Ca(t)),n&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const a=new It(s,o);return a.resource.src=t,Rp(a,r,t)},unload(t){t.destroy(!0)}};ct.add(qy);const Qfe=".svg",ehe="image/svg+xml",B9={extension:{type:qe.LoadParser,priority:uo.High},name:"loadSVG",test(t){return Hd(t,ehe)||Ul(t,Qfe)},async testParse(t){return i1.test(t)},async parse(t,e,r){var o;const n=new i1(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const s=new It(n,{resolution:Ca(t),...e==null?void 0:e.data});return s.resource.src=e.src,Rp(s,r,e.src)},async load(t,e){return(await nt.ADAPTER.fetch(t)).text()},unload:qy.unload};ct.add(B9);const the=[".mp4",".m4v",".webm",".ogv"],rhe=["video/mp4","video/webm","video/ogg"],F9={name:"loadVideo",extension:{type:qe.LoadParser,priority:uo.High},config:{defaultAutoPlay:!0},test(t){return Hd(t,rhe)||Ul(t,the)},async load(t,e,r){var a;let n;const s=await(await nt.ADAPTER.fetch(t)).blob(),o=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions},c=new CI(o,l);await c.load();const d=new It(c,{alphaMode:await m7(),resolution:Ca(t),...e==null?void 0:e.data});d.resource.src=t,n=Rp(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(l){throw URL.revokeObjectURL(o),l}return n},unload(t){t.destroy(!0)}};ct.add(F9);class nhe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>"".concat(e).concat(this._bundleIdConnector).concat(r),extractAssetIdFromBundle:(e,r)=>r.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var r,n,s;if(this._bundleIdConnector=(r=e.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=e.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(s=e.extractAssetIdFromBundle)!=null?s:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r[n]))).join("&")}}getAlias(e){const{alias:r,name:n,src:s,srcs:o}=e;return Vs(r||n||s||o,a=>{var l;return typeof a=="string"?a:Array.isArray(a)?a.map(c=>{var d,h;return(h=(d=c==null?void 0:c.src)!=null?d:c==null?void 0:c.srcs)!=null?h:c}):a!=null&&a.src||a!=null&&a.srcs?(l=a.src)!=null?l:a.srcs:a},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(s=>{var c,d;const o=(c=s.src)!=null?c:s.srcs,a=(d=s.alias)!=null?d:s.name;let l;if(typeof a=="string"){const h=this._createBundleAssetId(e,a);n.push(h),l=[a,h]}else{const h=a.map(m=>this._createBundleAssetId(e,m));n.push(...h),l=[...a,...h]}this.add({...s,alias:l,src:o})}):Object.keys(r).forEach(s=>{var a;const o=[s,this._createBundleAssetId(e,s)];if(typeof r[s]=="string")this.add({alias:o,src:r[s]});else if(Array.isArray(r[s]))this.add({alias:o,src:r[s]});else{const l=r[s],c=(a=l.src)!=null?a:l.srcs;this.add({...l,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[e]=n}add(e,r,n,s,o){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ct("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),a.push({alias:e,src:r,data:n,format:s,loadParser:o})):Array.isArray(e)?a.push(...e):a.push(e);let l;l=c=>{this.hasKey(c)&&console.warn("[Resolver] already has key: ".concat(c," overwriting"))},Vs(a).forEach(c=>{const{src:d,srcs:h}=c;let{data:m,format:g,loadParser:y}=c;const _=Vs(d||h).map(p=>typeof p=="string"?T9(p):Array.isArray(p)?p:[p]),u=this.getAlias(c);Array.isArray(u)?u.forEach(l):l(u);const f=[];_.forEach(p=>{p.forEach(v=>{var w,x,S;let b={};if(typeof v!="object"){b.src=v;for(let A=0;A<this._parsers.length;A++){const D=this._parsers[A];if(D.test(v)){b=D.parse(v);break}}}else m=(w=v.data)!=null?w:m,g=(x=v.format)!=null?x:g,y=(S=v.loadParser)!=null?S:y,b={...b,...v};if(!u)throw new Error("[Resolver] alias is undefined for this asset: ".concat(b.src));b=this.buildResolvedAsset(b,{aliases:u,data:m,format:g,loadParser:y}),f.push(b)})}),u.forEach(p=>{this._assetMap[p]=f})})}resolveBundle(e){const r=Ov(e);e=Vs(e);const n={};return e.forEach(s=>{const o=this._bundles[s];if(o){const a=this.resolve(o),l={};for(const c in a){const d=a[c];l[this._extractAssetIdFromBundle(s,c)]=d}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=Ov(e);e=Vs(e);const n={};return e.forEach(s=>{var o;if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const l=a[0],c=this._getPreferredOrder(a);c==null||c.priority.forEach(d=>{c.params[d].forEach(h=>{const m=a.filter(g=>g[d]?g[d]===h:!1);m.length&&(a=m)})}),this._resolverHash[s]=(o=a[0])!=null?o:l}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return"".concat(e).concat(r).concat(this._defaultSearchParams)}buildResolvedAsset(e,r){var l;const{aliases:n,data:s,loadParser:o,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=fn.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=(l=n!=null?n:e.alias)!=null?l:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o!=null?o:e.loadParser,e.format=a!=null?a:fn.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class M9{constructor(){this._detections=[],this._initialized=!1,this.resolver=new nhe,this.loader=new kfe,this.cache=vu,this._backgroundLoader=new Ffe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,a,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=(a=(o=e.texturePreference)==null?void 0:o.resolution)!=null?a:1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(l=e.texturePreference)==null?void 0:l.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,s,o){this.resolver.add(e,r,n,s,o)}async load(e,r){this._initialized||await this.init();const n=Ov(e),s=Vs(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),o=this.resolver.resolve(s),a=await this._mapLoadToResolve(o,r);return n?a[s[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},a=Object.keys(s);let l=0,c=0;const d=()=>{r==null||r(++l/c)},h=a.map(m=>{const g=s[m];return c+=Object.keys(g).length,this._mapLoadToResolve(g,d).then(y=>{o[m]=y})});return await Promise.all(h),n?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vu.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=vu.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(n,r);this._backgroundLoader.active=!0;const a={};return n.forEach((l,c)=>{const d=o[l.src],h=[l.src];l.alias&&h.push(...l.alias),a[s[c]]=d,vu.set(h,d)}),a}async unload(e){this._initialized||await this.init();const r=Vs(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Vs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{vu.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}get preferWorkers(){return qy.config.preferWorkers}set preferWorkers(e){Ct("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Wm=new M9;ct.handleByList(qe.LoadParser,Wm.loader.parsers).handleByList(qe.ResolveParser,Wm.resolver.parsers).handleByList(qe.CacheParser,Wm.cache.parsers).handleByList(qe.DetectionParser,Wm.detections);const k9={extension:qe.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof it),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,o)=>{r[n+(o===0?"":o+1)]=s})}),r}};ct.add(k9);async function N9(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(e){return!1}return!0}return!1}const L9={extension:{type:qe.DetectionParser,priority:1},test:async()=>N9("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ct.add(L9);const U9={extension:{type:qe.DetectionParser,priority:0},test:async()=>N9("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ct.add(U9);const aL=["png","jpg","jpeg"],$9={extension:{type:qe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...aL],remove:async t=>t.filter(e=>!aL.includes(e))};ct.add($9);const ihe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function DI(t){return ihe?!1:document.createElement("video").canPlayType(t)!==""}const j9={extension:{type:qe.DetectionParser,priority:0},test:async()=>DI("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ct.add(j9);const z9={extension:{type:qe.DetectionParser,priority:0},test:async()=>DI("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ct.add(z9);const G9={extension:{type:qe.DetectionParser,priority:0},test:async()=>DI("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ct.add(G9);const V9={extension:qe.ResolveParser,test:qy.test,parse:t=>{var e,r;return{resolution:parseFloat((r=(e=nt.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?r:"1"),format:fn.extname(t).slice(1),src:t}}};ct.add(V9);var ki=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ki||{});const Iv={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Xa,Lf;function lL(){Lf={s3tc:Xa.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Xa.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Xa.getExtension("WEBGL_compressed_texture_etc"),etc1:Xa.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Xa.getExtension("WEBGL_compressed_texture_pvrtc")||Xa.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Xa.getExtension("WEBGL_compressed_texture_atc"),astc:Xa.getExtension("WEBGL_compressed_texture_astc")}}const H9={extension:{type:qe.DetectionParser,priority:2},test:async()=>{const t=nt.ADAPTER.createCanvas().getContext("webgl");return t?(Xa=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Lf||lL();const e=[];for(const r in Lf)Lf[r]&&e.push(r);return[...e,...t]},remove:async t=>(Lf||lL(),t.filter(e=>!(e in Lf)))};ct.add(H9);class W9 extends Hy{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,s;typeof e=="string"?(n=e,s=new Uint8Array):(n=null,s=e),super(s,r),this.origin=n,this.buffer=s?new Qw(s):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Qw(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class $u extends W9{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=$u._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||$u._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:d,levelBuffer:h}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,c,d,0,h)}return!0}onBlobLoaded(){this._levelBuffers=$u._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,s,o,a,l){const c=new Array(n);let d=e.byteOffset,h=a,m=l,g=h+s-1&~(s-1),y=m+o-1&~(o-1),_=g*y*Iv[r];for(let u=0;u<n;u++)c[u]={levelID:u,levelWidth:n>1?h:g,levelHeight:n>1?m:y,levelBuffer:new Uint8Array(e.buffer,d,_)},d+=_,h=h>>1||1,m=m>>1||1,g=h+s-1&~(s-1),y=m+o-1&~(o-1),_=g*y*Iv[r];return c}}const GC=4,A0=124,she=32,uL=20,ohe=542327876,T0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},ahe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},D0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},lhe=1,uhe=2,che=4,dhe=64,fhe=512,hhe=131072,phe=827611204,mhe=861165636,ghe=894720068,vhe=808540228,yhe=4,_he={[phe]:ki.COMPRESSED_RGBA_S3TC_DXT1_EXT,[mhe]:ki.COMPRESSED_RGBA_S3TC_DXT3_EXT,[ghe]:ki.COMPRESSED_RGBA_S3TC_DXT5_EXT},bhe={70:ki.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:ki.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:ki.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:ki.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:ki.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:ki.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:ki.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:ki.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:ki.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function K9(t){const e=new Uint32Array(t);if(e[0]!==ohe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,A0/Uint32Array.BYTES_PER_ELEMENT),n=r[T0.HEIGHT],s=r[T0.WIDTH],o=r[T0.MIPMAP_COUNT],a=new Uint32Array(t,T0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,she/Uint32Array.BYTES_PER_ELEMENT),l=a[lhe];if(l&che){const c=a[ahe.FOURCC];if(c!==vhe){const v=_he[c],b=GC+A0,w=new Uint8Array(t,b);return[new $u(w,{format:v,width:s,height:n,levels:o})]}const d=GC+A0,h=new Uint32Array(e.buffer,d,uL/Uint32Array.BYTES_PER_ELEMENT),m=h[D0.DXGI_FORMAT],g=h[D0.RESOURCE_DIMENSION],y=h[D0.MISC_FLAG],_=h[D0.ARRAY_SIZE],u=bhe[m];if(u===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(m));if(y===yhe)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const f=new Array,p=GC+A0+uL;if(_===1)f.push(new Uint8Array(t,p));else{const v=Iv[u];let b=0,w=s,x=n;for(let A=0;A<o;A++){const D=Math.max(1,w+3&-4),C=Math.max(1,x+3&-4),T=D*C*v;b+=T,w=w>>>1,x=x>>>1}let S=p;for(let A=0;A<_;A++)f.push(new Uint8Array(t,S,b)),S+=b}return f.map(v=>new $u(v,{format:u,width:s,height:n,levels:o}))}throw l&dhe?new Error("DDSParser does not support uncompressed texture data."):l&fhe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&hhe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&uhe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const cL=[171,75,84,88,32,49,49,187,13,10,26,10],whe=67305985,go={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},lP=64,uP={[mt.UNSIGNED_BYTE]:1,[mt.UNSIGNED_SHORT]:2,[mt.INT]:4,[mt.UNSIGNED_INT]:4,[mt.FLOAT]:4,[mt.HALF_FLOAT]:8},X9={[Ie.RGBA]:4,[Ie.RGB]:3,[Ie.RG]:2,[Ie.RED]:1,[Ie.LUMINANCE]:1,[Ie.LUMINANCE_ALPHA]:2,[Ie.ALPHA]:1},Y9={[mt.UNSIGNED_SHORT_4_4_4_4]:2,[mt.UNSIGNED_SHORT_5_5_5_1]:2,[mt.UNSIGNED_SHORT_5_6_5]:2};function q9(t,e,r=!1){const n=new DataView(e);if(!xhe(t,n))return null;const s=n.getUint32(go.ENDIANNESS,!0)===whe,o=n.getUint32(go.GL_TYPE,s),a=n.getUint32(go.GL_FORMAT,s),l=n.getUint32(go.GL_INTERNAL_FORMAT,s),c=n.getUint32(go.PIXEL_WIDTH,s),d=n.getUint32(go.PIXEL_HEIGHT,s)||1,h=n.getUint32(go.PIXEL_DEPTH,s)||1,m=n.getUint32(go.NUMBER_OF_ARRAY_ELEMENTS,s)||1,g=n.getUint32(go.NUMBER_OF_FACES,s),y=n.getUint32(go.NUMBER_OF_MIPMAP_LEVELS,s),_=n.getUint32(go.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||h!==1)throw new Error("Only 2D textures are supported");if(g!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const u=4,f=4,p=c+3&-4,v=d+3&-4,b=new Array(m);let w=c*d;o===0&&(w=p*v);let x;if(o!==0?uP[o]?x=uP[o]*X9[a]:x=Y9[o]:x=Iv[l],x===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?She(n,_,s):null;let A=w*x,D=c,C=d,T=p,R=v,P=lP+_;for(let O=0;O<y;O++){const I=n.getUint32(P,s);let k=P+4;for(let W=0;W<m;W++){let G=b[W];G||(G=b[W]=new Array(y)),G[O]={levelID:O,levelWidth:y>1||o!==0?D:T,levelHeight:y>1||o!==0?C:R,levelBuffer:new Uint8Array(e,k,A)},k+=A}P+=I+4,P=P%4!==0?P+4-P%4:P,D=D>>1||1,C=C>>1||1,T=D+u-1&~(u-1),R=C+f-1&~(f-1),A=T*R*x}return o!==0?{uncompressed:b.map(O=>{let I=O[0].levelBuffer,k=!1;return o===mt.FLOAT?I=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):o===mt.UNSIGNED_INT?(k=!0,I=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):o===mt.INT&&(k=!0,I=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Hy(I,{width:O[0].levelWidth,height:O[0].levelHeight}),type:o,format:k?Ehe(a):a}}),kvData:S}:{compressed:b.map(O=>new $u(null,{format:l,width:c,height:d,levels:y,levelBuffers:O})),kvData:S}}function xhe(t,e){for(let r=0;r<cL.length;r++)if(e.getUint8(r)!==cL[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}function Ehe(t){switch(t){case Ie.RGBA:return Ie.RGBA_INTEGER;case Ie.RGB:return Ie.RGB_INTEGER;case Ie.RG:return Ie.RG_INTEGER;case Ie.RED:return Ie.RED_INTEGER;default:return t}}function She(t,e,r){const n=new Map;let s=0;for(;s<e;){const o=t.getUint32(lP+s,r),a=lP+s+4,l=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<o&&t.getUint8(a+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,a,c)),h=new DataView(t.buffer,a+c+1,o-c-1);n.set(d,h),s+=4+o+l}return n}const Z9={extension:{type:qe.LoadParser,priority:uo.High},name:"loadDDS",test(t){return Ul(t,".dds")},async load(t,e,r){const n=await(await nt.ADAPTER.fetch(t)).arrayBuffer(),s=K9(n).map(o=>{const a=new It(o,{mipmap:Go.OFF,alphaMode:xi.NO_PREMULTIPLIED_ALPHA,resolution:Ca(t),...e.data});return Rp(a,r,t)});return s.length===1?s[0]:s},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(Z9);const J9={extension:{type:qe.LoadParser,priority:uo.High},name:"loadKTX",test(t){return Ul(t,".ktx")},async load(t,e,r){const n=await(await nt.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=q9(t,n),l=s!=null?s:o,c={mipmap:Go.OFF,alphaMode:xi.NO_PREMULTIPLIED_ALPHA,resolution:Ca(t),...e.data},d=l.map(h=>{var y;l===o&&Object.assign(c,{type:h.type,format:h.format});const m=(y=h.resource)!=null?y:h,g=new It(m,c);return g.ktxKeyValueData=a,Rp(g,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(J9);const Q9={extension:qe.ResolveParser,test:t=>{const e=fn.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n,s,o;const e=fn.extname(t).slice(1);if(e==="ktx"){const a=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(a.some(l=>t.endsWith(l)))return{resolution:parseFloat((n=(r=nt.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:a.find(l=>t.endsWith(l)),src:t}}return{resolution:parseFloat((o=(s=nt.RETINA_PREFIX.exec(t))==null?void 0:s[1])!=null?o:"1"),format:e,src:t}}};ct.add(Q9);const P0=new Rt,Che=4,eG=class Km{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,s){const o=new Image;return o.src=await this.base64(e,r,n,s),o}async base64(e,r,n,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((a,l)=>{o.toBlob(c=>{if(!c){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>a(d.result),d.onerror=l,d.readAsDataURL(c)},r,n)});if(o.toDataURL!==void 0)return o.toDataURL(r,n);if(o.convertToBlob!==void 0){const a=await o.convertToBlob({type:r,quality:n});return new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,r);a&&Km._flipY(n,s,o),l&&Km._unpremultiplyAlpha(n);const c=new S7(s,o,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,o);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,r);return a&&Km._flipY(n,s,o),l&&Km._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,o=!1,a=!1,l,c=!1;e&&(e instanceof vc?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(P0.width=r.width,P0.height=r.height,r=P0)));const d=n.gl;if(l){if(s=l.baseTexture.resolution,r=r!=null?r:l.frame,o=!1,a=l.baseTexture.alphaMode>0&&l.baseTexture.format===Ie.RGBA,!c){n.renderTexture.bind(l);const y=l.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else s=n.resolution,r||(r=P0,r.width=n.width/s,r.height=n.height/s),o=!0,a=this._rendererPremultipliedAlpha,n.renderTexture.bind();const h=Math.max(Math.round(r.width*s),1),m=Math.max(Math.round(r.height*s),1),g=new Uint8Array(Che*h*m);return d.readPixels(Math.round(r.x*s),Math.round(r.y*s),h,m,d.RGBA,d.UNSIGNED_BYTE,g),c&&(l==null||l.destroy(!0)),{pixels:g,width:h,height:m,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,r,n){const s=r<<2,o=n>>1,a=new Uint8Array(s);for(let l=0;l<o;l++){const c=l*s,d=(n-l-1)*s;a.set(e.subarray(c,c+s)),e.copyWithin(c,d,d+s),e.set(a,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const s=e[n+3];if(s!==0){const o=255.001/s;e[n]=e[n]*o+.5,e[n+1]=e[n+1]*o+.5,e[n+2]=e[n+2]*o+.5}}}};eG.extension={name:"extract",type:qe.RendererSystem};let tG=eG;ct.add(tG);const Bv={build(t){const e=t.points;let r,n,s,o,a,l;if(t.type===kn.CIRC){const _=t.shape;r=_.x,n=_.y,a=l=_.radius,s=o=0}else if(t.type===kn.ELIP){const _=t.shape;r=_.x,n=_.y,a=_.width,l=_.height,s=o=0}else{const _=t.shape,u=_.width/2,f=_.height/2;r=_.x+u,n=_.y+f,a=l=Math.max(0,Math.min(_.radius,Math.min(u,f))),s=u-a,o=f-l}if(!(a>=0&&l>=0&&s>=0&&o>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(a+l)),d=c*8+(s?4:0)+(o?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+o,e[2]=e[4]=r-s,e[5]=e[7]=n-o;return}let h=0,m=c*4+(s?2:0)+2,g=m,y=d;{const _=s+a,u=o,f=r+_,p=r-_,v=n+u;if(e[h++]=f,e[h++]=v,e[--m]=v,e[--m]=p,o){const b=n-u;e[g++]=p,e[g++]=b,e[--y]=b,e[--y]=f}}for(let _=1;_<c;_++){const u=Math.PI/2*(_/c),f=s+Math.cos(u)*a,p=o+Math.sin(u)*l,v=r+f,b=r-f,w=n+p,x=n-p;e[h++]=v,e[h++]=w,e[--m]=w,e[--m]=b,e[g++]=b,e[g++]=x,e[--y]=x,e[--y]=v}{const _=s,u=o+l,f=r+_,p=r-_,v=n+u,b=n-u;e[h++]=f,e[h++]=v,e[--y]=b,e[--y]=f,s&&(e[h++]=p,e[h++]=v,e[--y]=b,e[--y]=p)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(r.length===0)return;let o=n.length/2;const a=o;let l,c;if(t.type!==kn.RREC){const h=t.shape;l=h.x,c=h.y}else{const h=t.shape;l=h.x+h.width/2,c=h.y+h.height/2}const d=t.matrix;n.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),o++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),s.push(o++,a,o);s.push(a+1,a,o)}};function dL(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let s=0,o=t[r-2],a=t[r-1];s<r;s+=2){const l=t[s],c=t[s+1];n+=(l-o)*(c+a),o=l,a=c}if(!e&&n>0||e&&n<=0){const s=r/2;for(let o=s+s%2;o<r;o+=2){const a=r-o-2,l=r-o-1,c=o,d=o+1;[t[a],t[c]]=[t[c],t[a]],[t[l],t[d]]=[t[d],t[l]]}}}const PI={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,s=e.points,o=e.indices;if(r.length>=6){dL(r,!1);const a=[];for(let d=0;d<n.length;d++){const h=n[d];dL(h.points,!0),a.push(r.length/2),r=r.concat(h.points)}const l=qz(r,a,2);if(!l)return;const c=s.length/2;for(let d=0;d<l.length;d+=3)o.push(l[d]+c),o.push(l[d+1]+c),o.push(l[d+2]+c);for(let d=0;d<r.length;d++)s.push(r[d])}}},rG={build(t){const e=t.shape,r=e.x,n=e.y,s=e.width,o=e.height,a=t.points;a.length=0,s>=0&&o>=0&&a.push(r,n,r+s,n,r+s,n+o,r,n+o)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const s=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},nG={build(t){Bv.build(t)},triangulate(t,e){Bv.triangulate(t,e)}};var os=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(os||{}),dl=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(dl||{});const qu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ahe=qu;class cP{static curveTo(e,r,n,s,o,a){const l=a[a.length-2],c=a[a.length-1]-r,d=l-e,h=s-r,m=n-e,g=Math.abs(c*m-d*h);if(g<1e-8||o===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const y=c*c+d*d,_=h*h+m*m,u=c*h+d*m,f=o*Math.sqrt(y)/g,p=o*Math.sqrt(_)/g,v=f*u/y,b=p*u/_,w=f*m+p*d,x=f*h+p*c,S=d*(p+v),A=c*(p+v),D=m*(f+b),C=h*(f+b),T=Math.atan2(A-x,S-w),R=Math.atan2(C-x,D-w);return{cx:w+e,cy:x+r,radius:o,startAngle:T,endAngle:R,anticlockwise:d*h>m*c}}static arc(e,r,n,s,o,a,l,c,d){const h=l-a,m=qu._segmentsCount(Math.abs(h)*o,Math.ceil(Math.abs(h)/Sv)*40),g=h/(m*2),y=g*2,_=Math.cos(g),u=Math.sin(g),f=m-1,p=f%1/f;for(let v=0;v<=f;++v){const b=v+p*v,w=g+a+y*b,x=Math.cos(w),S=-Math.sin(w);d.push((_*x+u*S)*o+n,(_*-S+u*x)*o+s)}}}class iG{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class fE{static curveLength(e,r,n,s,o,a,l,c){let d=0,h=0,m=0,g=0,y=0,_=0,u=0,f=0,p=0,v=0,b=0,w=e,x=r;for(let S=1;S<=10;++S)h=S/10,m=h*h,g=m*h,y=1-h,_=y*y,u=_*y,f=u*e+3*_*h*n+3*y*m*o+g*l,p=u*r+3*_*h*s+3*y*m*a+g*c,v=w-f,b=x-p,w=f,x=p,d+=Math.sqrt(v*v+b*b);return d}static curveTo(e,r,n,s,o,a,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const h=qu._segmentsCount(fE.curveLength(c,d,e,r,n,s,o,a));let m=0,g=0,y=0,_=0,u=0;l.push(c,d);for(let f=1,p=0;f<=h;++f)p=f/h,m=1-p,g=m*m,y=g*m,_=p*p,u=_*p,l.push(y*c+3*g*p*e+3*m*_*n+u*o,y*d+3*g*p*r+3*m*_*s+u*a)}}function fL(t,e,r,n,s,o,a,l){const c=t-r*s,d=e-n*s,h=t+r*o,m=e+n*o;let g,y;a?(g=n,y=-r):(g=-n,y=r);const _=c+g,u=d+y,f=h+g,p=m+y;return l.push(_,u,f,p),2}function Rc(t,e,r,n,s,o,a,l){const c=r-t,d=n-e;let h=Math.atan2(c,d),m=Math.atan2(s-t,o-e);l&&h<m?h+=Math.PI*2:!l&&h>m&&(m+=Math.PI*2);let g=h;const y=m-h,_=Math.abs(y),u=Math.sqrt(c*c+d*d),f=(15*_*Math.sqrt(u)/Math.PI>>0)+1,p=y/f;if(g+=p,l){a.push(t,e,r,n);for(let v=1,b=g;v<f;v++,b+=p)a.push(t,e,t+Math.sin(b)*u,e+Math.cos(b)*u);a.push(t,e,s,o)}else{a.push(r,n,t,e);for(let v=1,b=g;v<f;v++,b+=p)a.push(t+Math.sin(b)*u,e+Math.cos(b)*u,t,e);a.push(s,o,t,e)}return f*2}function The(t,e){const r=t.shape;let n=t.points||r.points.slice();const s=e.closePointEps;if(n.length===0)return;const o=t.lineStyle,a=new He(n[0],n[1]),l=new He(n[n.length-2],n[n.length-1]),c=r.type!==kn.POLY||r.closeStroke,d=Math.abs(a.x-l.x)<s&&Math.abs(a.y-l.y)<s;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const G=(a.x+l.x)*.5,j=(l.y+a.y)*.5;n.unshift(G,j),n.push(G,j)}const h=e.points,m=n.length/2;let g=n.length;const y=h.length/2,_=o.width/2,u=_*_,f=o.miterLimit*o.miterLimit;let p=n[0],v=n[1],b=n[2],w=n[3],x=0,S=0,A=-(v-w),D=p-b,C=0,T=0,R=Math.sqrt(A*A+D*D);A/=R,D/=R,A*=_,D*=_;const P=o.alignment,O=(1-P)*2,I=P*2;c||(o.cap===dl.ROUND?g+=Rc(p-A*(O-I)*.5,v-D*(O-I)*.5,p-A*O,v-D*O,p+A*I,v+D*I,h,!0)+2:o.cap===dl.SQUARE&&(g+=fL(p,v,A,D,O,I,!0,h))),h.push(p-A*O,v-D*O,p+A*I,v+D*I);for(let G=1;G<m-1;++G){p=n[(G-1)*2],v=n[(G-1)*2+1],b=n[G*2],w=n[G*2+1],x=n[(G+1)*2],S=n[(G+1)*2+1],A=-(v-w),D=p-b,R=Math.sqrt(A*A+D*D),A/=R,D/=R,A*=_,D*=_,C=-(w-S),T=b-x,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_;const j=b-p,$=v-w,K=b-x,Q=S-w,ue=j*K+$*Q,pe=$*K-Q*j,oe=pe<0;if(Math.abs(pe)<.001*Math.abs(ue)){h.push(b-A*O,w-D*O,b+A*I,w+D*I),ue>=0&&(o.join===os.ROUND?g+=Rc(b,w,b-A*O,w-D*O,b-C*O,w-T*O,h,!1)+4:g+=2,h.push(b-C*I,w-T*I,b+C*O,w+T*O));continue}const he=(-A+p)*(-D+w)-(-A+b)*(-D+v),Y=(-C+x)*(-T+w)-(-C+b)*(-T+S),z=(j*Y-K*he)/pe,V=(Q*he-$*Y)/pe,H=(z-b)*(z-b)+(V-w)*(V-w),re=b+(z-b)*O,ne=w+(V-w)*O,_e=b-(z-b)*I,be=w-(V-w)*I,xe=Math.min(j*j+$*$,K*K+Q*Q),Se=oe?O:I,dt=xe+Se*Se*u,xt=H<=dt;let X=o.join;if(X===os.MITER&&H/u>f&&(X=os.BEVEL),xt)switch(X){case os.MITER:{h.push(re,ne,_e,be);break}case os.BEVEL:{oe?h.push(re,ne,b+A*I,w+D*I,re,ne,b+C*I,w+T*I):h.push(b-A*O,w-D*O,_e,be,b-C*O,w-T*O,_e,be),g+=2;break}case os.ROUND:{oe?(h.push(re,ne,b+A*I,w+D*I),g+=Rc(b,w,b+A*I,w+D*I,b+C*I,w+T*I,h,!0)+4,h.push(re,ne,b+C*I,w+T*I)):(h.push(b-A*O,w-D*O,_e,be),g+=Rc(b,w,b-A*O,w-D*O,b-C*O,w-T*O,h,!1)+4,h.push(b-C*O,w-T*O,_e,be));break}}else{switch(h.push(b-A*O,w-D*O,b+A*I,w+D*I),X){case os.MITER:{oe?h.push(_e,be,_e,be):h.push(re,ne,re,ne),g+=2;break}case os.ROUND:{oe?g+=Rc(b,w,b+A*I,w+D*I,b+C*I,w+T*I,h,!0)+2:g+=Rc(b,w,b-A*O,w-D*O,b-C*O,w-T*O,h,!1)+2;break}}h.push(b-C*O,w-T*O,b+C*I,w+T*I),g+=2}}p=n[(m-2)*2],v=n[(m-2)*2+1],b=n[(m-1)*2],w=n[(m-1)*2+1],A=-(v-w),D=p-b,R=Math.sqrt(A*A+D*D),A/=R,D/=R,A*=_,D*=_,h.push(b-A*O,w-D*O,b+A*I,w+D*I),c||(o.cap===dl.ROUND?g+=Rc(b-A*(O-I)*.5,w-D*(O-I)*.5,b-A*O,w-D*O,b+A*I,w+D*I,h,!1)+2:o.cap===dl.SQUARE&&(g+=fL(b,w,A,D,O,I,!1,h)));const k=e.indices,W=qu.epsilon*qu.epsilon;for(let G=y;G<g+y-2;++G)p=h[G*2],v=h[G*2+1],b=h[(G+1)*2],w=h[(G+1)*2+1],x=h[(G+2)*2],S=h[(G+2)*2+1],!(Math.abs(p*(w-S)+b*(S-v)+x*(v-w))<W)&&k.push(G,G+1,G+2)}function Dhe(t,e){let r=0;const n=t.shape,s=t.points||n.points,o=n.type!==kn.POLY||n.closeStroke;if(s.length===0)return;const a=e.points,l=e.indices,c=s.length/2,d=a.length/2;let h=d;for(a.push(s[0],s[1]),r=1;r<c;r++)a.push(s[r*2],s[r*2+1]),l.push(h,h+1),h++;o&&l.push(h,d)}function dP(t,e){t.lineStyle.native?Dhe(t,e):The(t,e)}class hE{static curveLength(e,r,n,s,o,a){const l=e-2*n+o,c=r-2*s+a,d=2*n-2*e,h=2*s-2*r,m=4*(l*l+c*c),g=4*(l*d+c*h),y=d*d+h*h,_=2*Math.sqrt(m+g+y),u=Math.sqrt(m),f=2*m*u,p=2*Math.sqrt(y),v=g/u;return(f*_+u*g*(_-p)+(4*y*m-g*g)*Math.log((2*u+v+_)/(v+p)))/(4*f)}static curveTo(e,r,n,s,o){const a=o[o.length-2],l=o[o.length-1],c=qu._segmentsCount(hE.curveLength(a,l,e,r,n,s));let d=0,h=0;for(let m=1;m<=c;++m){const g=m/c;d=a+(e-a)*g,h=l+(r-l)*g,o.push(d+(e+(n-e)*g-d)*g,h+(r+(s-r)*g-h)*g)}}}const zb={[kn.POLY]:PI,[kn.CIRC]:Bv,[kn.ELIP]:Bv,[kn.RECT]:rG,[kn.RREC]:nG},fP=[],Xm=[];class Fv{constructor(e,r=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=s,this.type=e.type}clone(){return new Fv(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const mf=new He,sG=class oG extends tI{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Pv,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Xm.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),fP.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,s=null){const o=new Fv(e,r,n,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Fv(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const s=r[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,mf):mf.copyFrom(e),s.shape.contains(mf.x,mf.y))){let o=!1;if(s.holes){for(let a=0;a<s.holes.length;a++)if(s.holes[a].shape.contains(mf.x,mf.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],h=d.fillStyle,m=d.lineStyle;zb[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(h.visible||m.visible)&&this.processHoles(d.holes);for(let g=0;g<2;g++){const y=g===0?h:m;if(!y.visible)continue;const _=y.texture.baseTexture,u=this.indices.length,f=this.points.length/2;_.wrapMode=wa.REPEAT,g===0?this.processFill(d):this.processLine(d);const p=this.points.length/2-f;p!==0&&(n&&!this._compareStyles(s,y)&&(n.end(u,f),n=null),n||(n=fP.pop()||new iG,n.begin(y,u,f),this.batches.push(n),s=y),this.addUvs(this.points,e,y.texture,f,p,y.matrix))}}const o=this.indices.length,a=this.points.length/2;if(n&&n.end(o,a),this.batches.length===0){this.batchable=!0;return}const l=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],s=n.fillStyle,o=n.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const s=e[r];for(let o=0;o<s.size;o++){const a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<oG.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++It._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),Xm.push(this.drawCalls[m]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let s=Xm.pop();s||(s=new t1,s.texArray=new r1),s.texArray.count=0,s.start=0,s.size=0,s.type=Ao.TRIANGLES;let o=0,a=null,l=0,c=!1,d=Ao.TRIANGLES,h=0;this.drawCalls.push(s);for(let m=0;m<this.batches.length;m++){const g=this.batches[m],y=8,_=g.style,u=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,d=c?Ao.LINES:Ao.TRIANGLES,a=null,o=y,e++),a!==u&&(a=u,u._batchEnabled!==e&&(o===y&&(e++,o=0,s.size>0&&(s=Xm.pop(),s||(s=new t1,s.texArray=new r1),this.drawCalls.push(s)),s.start=h,s.size=0,s.texArray.count=0,s.type=d),u.touched=1,u._batchEnabled=e,u._batchLocation=o,u.wrapMode=wa.REPEAT,s.texArray.elements[s.texArray.count++]=u,o++)),s.size+=g.size,h+=g.size,l=u._batchLocation,this.addColors(r,_.color,_.alpha,g.attribSize,g.attribStart),this.addTextureIds(n,l,g.attribSize,g.attribStart)}It._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),a=new Float32Array(o),l=new Uint32Array(o);let c=0;for(let d=0;d<e.length/2;d++)a[c++]=e[d*2],a[c++]=e[d*2+1],a[c++]=r[d*2],a[c++]=r[d*2+1],l[c++]=n[d],a[c++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?PI.triangulate(e,this):zb[e.type].triangulate(e,this)}processLine(e){dP(e,this);for(let r=0;r<e.holes.length;r++)dP(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];zb[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const s=e[n*2],o=e[n*2+1];e[n*2]=r.a*s+r.c*o+r.tx,e[n*2+1]=r.b*s+r.d*o+r.ty}}addColors(e,r,n,s,o=0){const a=Qt.shared.setValue(r).toLittleEndianNumber(),l=Qt.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,o+s);for(let c=0;c<s;c++)e[o+c]=l}addTextureIds(e,r,n,s=0){e.length=Math.max(e.length,s+n);for(let o=0;o<n;o++)e[s+o]=r}addUvs(e,r,n,s,o,a=null){let l=0;const c=r.length,d=n.frame;for(;l<o;){let m=e[(s+l)*2],g=e[(s+l)*2+1];if(a){const y=a.a*m+a.c*g+a.tx;g=a.b*m+a.d*g+a.ty,m=y}l++,r.push(m/d.width,g/d.height)}const h=n.baseTexture;(d.width<h.width||d.height<h.height)&&this.adjustUvs(r,n,c,o)}adjustUvs(e,r,n,s){const o=r.baseTexture,a=1e-6,l=n+s*2,c=r.frame,d=c.width/o.width,h=c.height/o.height;let m=c.x/c.width,g=c.y/c.height,y=Math.floor(e[n]+a),_=Math.floor(e[n+1]+a);for(let u=n+2;u<l;u+=2)y=Math.min(y,Math.floor(e[u]+a)),_=Math.min(_,Math.floor(e[u+1]+a));m-=y,g-=_;for(let u=n;u<l;u+=2)e[u]=(e[u]+m)*d,e[u+1]=(e[u+1]+g)*h}};sG.BATCHABLE_SIZE=100;let aG=sG;class Zy{constructor(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Zy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class pE extends Zy{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=dl.BUTT,this.join=os.MITER,this.miterLimit=10}clone(){const e=new pE;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=dl.BUTT,this.join=os.MITER,this.miterLimit=10}}const VC={},hP=class Gb extends Xi{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Zy,this._lineStyle=new pE,this._matrix=null,this._holeMode=!1,this.state=Wo.for2d(),this._geometry=e||new aG,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Qt(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Gb(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:it.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:dl.BUTT,join:os.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Uu,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Uu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],o=n[n.length-1];return(s!==e||o!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),hE.curveTo(e,r,n,s,o),this}bezierCurveTo(e,r,n,s,o,a){return this._initCurve(),fE.curveTo(e,r,n,s,o,a,this.currentPath.points),this}arcTo(e,r,n,s,o){this._initCurve(e,r);const a=this.currentPath.points,l=cP.curveTo(e,r,n,s,o,a);if(l){const{cx:c,cy:d,radius:h,startAngle:m,endAngle:g,anticlockwise:y}=l;this.arc(c,d,h,m,g,y)}return this}arc(e,r,n,s,o,a=!1){if(s===o)return this;if(!a&&o<=s?o+=Sv:a&&s<=o&&(s+=Sv),o-s===0)return this;const l=e+Math.cos(s)*n,c=r+Math.sin(s)*n,d=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const m=Math.abs(h[h.length-2]-l),g=Math.abs(h[h.length-1]-c);m<d&&g<d||h.push(l,c)}else this.moveTo(l,c),h=this.currentPath.points;return cP.arc(l,c,e,r,n,s,o,a,h),this}beginFill(e=0,r){return this.beginTextureFill({texture:it.WHITE,color:e,alpha:r})}normalizeColor(e){var n,s;const r=Qt.shared.setValue((n=e.color)!=null?n:0);e.color=r.toNumber(),(s=e.alpha)!=null||(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:it.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,s){return this.drawShape(new Rt(e,r,n,s))}drawRoundedRect(e,r,n,s,o){return this.drawShape(new Xy(e,r,n,s,o))}drawCircle(e,r,n){return this.drawShape(new Wy(e,r,n))}drawEllipse(e,r,n,s){return this.drawShape(new Ky(e,r,n,s))}drawPolygon(...e){let r,n=!0;const s=e[0];s.points?(n=s.closeStroke,r=s.points):Array.isArray(e[0])?r=e[0]:r=e;const o=new Uu(r);return o.closeStroke=n,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===kn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const o=e.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),h={vertexData:l,blendMode:r,indices:d,uvs:c,_batchRGB:Qt.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=h}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,o=r.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,Qt.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,c=a.length;l<c;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:s,size:o,start:a}=r,l=n.count;for(let c=0;c<l;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(s,o,a)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!VC[n]){const{maxTextures:s}=e.plugins[n],o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=c;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:ro.from({uSamplers:o},!0)},l=e.plugins[n]._shader.program;VC[n]=new Lo(l,a)}r=VC[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,r,n,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,Gb._TEMP_POINT),this._geometry.containsPoint(Gb._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Qt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,a=r.d,l=r.tx,c=r.ty,d=this._geometry.points,h=this.vertexData;let m=0;for(let g=0;g<d.length;g+=2){const y=d[g],_=d[g+1];h[m++]=n*y+o*_+l,h[m++]=a*_+s*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};hP.curves=qu,hP._TEMP_POINT=new He;let fl=hP;const Phe={buildPoly:PI,buildCircle:Bv,buildRectangle:rG,buildRoundedRectangle:nG,buildLine:dP,ArcUtils:cP,BezierUtils:fE,QuadraticUtils:hE,BatchPart:iG,FILL_COMMANDS:zb,BATCH_POOL:fP,DRAW_CALL_POOL:Xm};class lG{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const HC=new He,hL=new Uu,uG=class cG extends Xi{constructor(e,r,n,s=Ao.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Wo.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=nt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ao.TRIANGLES&&r.length<cG.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,d=s.tx,h=s.ty,m=this.vertexData;for(let g=0;g<m.length/2;g++){const y=r[g*2],_=r[g*2+1];m[g*2]=o*y+l*_+d,m[g*2+1]=a*y+c*_+h}if(this._roundPixels){const g=nt.RESOLUTION;for(let y=0;y<m.length;++y)m[y]=Math.round(m[y]*g)/g}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new lG(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,HC);const r=this.geometry.getBuffer("aVertexPosition").data,n=hL.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1;for(let l=0;l+2<o;l+=a){const c=s[l]*2,d=s[l+1]*2,h=s[l+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[h],n[5]=r[h+1],hL.contains(HC.x,HC.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};uG.BATCHABLE_SIZE=100;let Zh=uG;class Jy extends Cl{constructor(e,r,n){super();const s=new ln(e),o=new ln(r,!0),a=new ln(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,mt.FLOAT).addAttribute("aTextureCoord",o,2,!1,mt.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Rhe="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Ohe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";class Jh extends Lo{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Kt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||pa.from(Ohe,Rhe),n),this._colorDirty=!1,this.uvMatrix=new cE(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Qt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Qt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class dG extends Jy{constructor(e=100,r=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,c=this.height/a;for(let h=0;h<e;h++){const m=h%this.segWidth,g=h/this.segWidth|0;r.push(m*l,g*c),n.push(m/o,g/a)}const d=o*a;for(let h=0;h<d;h++){const m=h%o,g=h/o|0,y=g*this.segWidth+m,_=g*this.segWidth+m+1,u=(g+1)*this.segWidth+m,f=(g+1)*this.segWidth+m+1;s.push(y,_,u,_,f,u)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class fG extends Jy{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const o=n.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,h=e.length;for(let g=0;g<h;g++){const y=g*4;if(this.textureScale>0){const _=c.x-e[g].x,u=c.y-e[g].y,f=Math.sqrt(_*_+u*u);c=e[g],l+=f/d}else l=g/(h-1);o[y]=l,o[y+1]=0,o[y+2]=l,o[y+3]=1}let m=0;for(let g=0;g<h-1;g++){const y=g*2;a[m++]=y,a[m++]=y+1,a[m++]=y+2,a[m++]=y+2,a[m++]=y+1,a[m++]=y+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,s=0,o=0;const a=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const h=e[d],m=d*4;d<e.length-1?n=e[d+1]:n=h,o=-(n.x-r.x),s=n.y-r.y;const g=Math.sqrt(s*s+o*o);g<1e-6?(s=0,o=0):(s/=g,o/=g,s*=c,o*=c),a[m]=h.x+s,a[m+1]=h.y+o,a[m+2]=h.x-s,a[m+3]=h.y-o,r=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class hG extends Zh{constructor(e,r,n){const s=new dG(e.width,e.height,r,n),o=new Jh(it.WHITE);super(s,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const R0=10;class Ihe extends hG{constructor(e,r,n,s,o){var a,l,c,d,h,m,g,y;super(it.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(l=r!=null?r:(a=e.defaultBorders)==null?void 0:a.left)!=null?l:R0,this._rightWidth=(d=s!=null?s:(c=e.defaultBorders)==null?void 0:c.right)!=null?d:R0,this._topHeight=(m=n!=null?n:(h=e.defaultBorders)==null?void 0:h.top)!=null?m:R0,this._bottomHeight=(y=o!=null?o:(g=e.defaultBorders)==null?void 0:g.bottom)!=null?y:R0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(r,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Bhe extends Zh{constructor(e=it.EMPTY,r,n,s,o){const a=new Jy(r,n,s);a.getBuffer("aVertexPosition").static=!1;const l=new Jh(e);super(a,l,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Fhe extends Zh{constructor(e,r,n=0){const s=new fG(e.height,r,n),o=new Jh(e);n>0&&(e.baseTexture.wrapMode=wa.REPEAT),super(s,o),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class Mhe extends Xi{constructor(e=1500,r,n=16384,s=!1){super();const o=16384;n>o&&(n=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Qt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class pL{constructor(e,r,n){this.geometry=new Cl,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||mt.FLOAT,offset:o.offset},r[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ln(E7(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ln(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];l.offset=s,s+=l.size,this.staticStride+=l.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ln(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,r,n,o.type===mt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,r,n,o.type===mt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var khe="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Nhe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";class RI extends Yy{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Kt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:mt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Lo.from(Nhe,khe,{}),this.state=Wo.for2d()}render(e){const r=e.children,n=e._maxSize,s=e._batchSize,o=this.renderer;let a=r.length;if(a===0)return;a>n&&!e.autoResize&&(a=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=QO(e.blendMode,d),o.state.set(this.state);const h=o.gl,m=e.worldTransform.copyTo(this.tempMatrix);m.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=Qt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let g=!1;for(let y=0,_=0;y<a;y+=s,_+=1){let u=a-y;u>s&&(u=s),_>=l.length&&l.push(this._generateOneMoreBuffer(e));const f=l[_];f.uploadDynamic(r,y,u);const p=e._bufferUpdateIDs[_]||0;g=g||f._updateID<p,g&&(f._updateID=e._updateID,f.uploadStatic(r,y,u)),o.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,u*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,s=e._batchSize,o=e._properties;for(let a=0;a<n;a+=s)r.push(new pL(this.properties,o,s));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new pL(this.properties,n,r)}uploadVertices(e,r,n,s,o,a){let l=0,c=0,d=0,h=0;for(let m=0;m<n;++m){const g=e[r+m],y=g._texture,_=g.scale.x,u=g.scale.y,f=y.trim,p=y.orig;f?(c=f.x-g.anchor.x*p.width,l=c+f.width,h=f.y-g.anchor.y*p.height,d=h+f.height):(l=p.width*(1-g.anchor.x),c=p.width*-g.anchor.x,d=p.height*(1-g.anchor.y),h=p.height*-g.anchor.y),s[a]=c*_,s[a+1]=h*u,s[a+o]=l*_,s[a+o+1]=h*u,s[a+o*2]=l*_,s[a+o*2+1]=d*u,s[a+o*3]=c*_,s[a+o*3+1]=d*u,a+=o*4}}uploadPosition(e,r,n,s,o,a){for(let l=0;l<n;l++){const c=e[r+l].position;s[a]=c.x,s[a+1]=c.y,s[a+o]=c.x,s[a+o+1]=c.y,s[a+o*2]=c.x,s[a+o*2+1]=c.y,s[a+o*3]=c.x,s[a+o*3+1]=c.y,a+=o*4}}uploadRotation(e,r,n,s,o,a){for(let l=0;l<n;l++){const c=e[r+l].rotation;s[a]=c,s[a+o]=c,s[a+o*2]=c,s[a+o*3]=c,a+=o*4}}uploadUvs(e,r,n,s,o,a){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(s[a]=c.x0,s[a+1]=c.y0,s[a+o]=c.x1,s[a+o+1]=c.y1,s[a+o*2]=c.x2,s[a+o*2+1]=c.y2,s[a+o*3]=c.x3,s[a+o*3+1]=c.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}}uploadTint(e,r,n,s,o,a){for(let l=0;l<n;++l){const c=e[r+l],d=Qt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);s[a]=d,s[a+o]=d,s[a+o*2]=d,s[a+o*3]=d,a+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}RI.extension={name:"particle",type:qe.RendererPlugin};ct.add(RI);var Qy=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Qy||{});const O0={willReadFrequently:!0},na=class ht{static get experimentalLetterSpacingSupported(){let e=ht._experimentalLetterSpacingSupported;if(e!==void 0){const r=nt.ADAPTER.getCanvasRenderingContext2D().prototype;e=ht._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,o,a,l,c,d){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=o,this.lineWidths=a,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,s=ht._canvas){n=n!=null?n:r.wordWrap;const o=r.toFontString(),a=ht.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const l=s.getContext("2d",O0);l.font=o;const c=(n?ht.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let h=0;for(let _=0;_<c.length;_++){const u=ht._measureText(c[_],r.letterSpacing,l);d[_]=u,h=Math.max(h,u)}let m=h+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);const g=r.lineHeight||a.fontSize+r.strokeThickness;let y=Math.max(g,a.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(g+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new ht(e,r,m,y,c,d,g+r.leading,h,a)}static _measureText(e,r,n){let s=!1;ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(e).width;return o>0&&(s?o-=r:o+=(ht.graphemeSegmenter(e).length-1)*r),o}static wordWrap(e,r,n=ht._canvas){const s=n.getContext("2d",O0);let o=0,a="",l="";const c=Object.create(null),{letterSpacing:d,whiteSpace:h}=r,m=ht.collapseSpaces(h),g=ht.collapseNewlines(h);let y=!m;const _=r.wordWrapWidth+d,u=ht.tokenize(e);for(let f=0;f<u.length;f++){let p=u[f];if(ht.isNewline(p)){if(!g){l+=ht.addLine(a),y=!m,a="",o=0;continue}p=" "}if(m){const b=ht.isBreakingSpace(p),w=ht.isBreakingSpace(a[a.length-1]);if(b&&w)continue}const v=ht.getFromCache(p,d,c,s);if(v>_)if(a!==""&&(l+=ht.addLine(a),a="",o=0),ht.canBreakWords(p,r.breakWords)){const b=ht.wordWrapSplit(p);for(let w=0;w<b.length;w++){let x=b[w],S=x,A=1;for(;b[w+A];){const C=b[w+A];if(!ht.canBreakChars(S,C,p,w,r.breakWords))x+=C;else break;S=C,A++}w+=A-1;const D=ht.getFromCache(x,d,c,s);D+o>_&&(l+=ht.addLine(a),y=!1,a="",o=0),a+=x,o+=D}}else{a.length>0&&(l+=ht.addLine(a),a="",o=0);const b=f===u.length-1;l+=ht.addLine(p,!b),y=!1,a="",o=0}else v+o>_&&(y=!1,l+=ht.addLine(a),a="",o=0),(a.length>0||!ht.isBreakingSpace(p)||y)&&(a+=p,o+=v)}return l+=ht.addLine(a,!1),l}static addLine(e,r=!0){return e=ht.trimRight(e),e=r?"".concat(e,"\n"):e,e}static getFromCache(e,r,n,s){let o=n[e];return typeof o!="number"&&(o=ht._measureText(e,r,s)+r,n[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ht.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ht._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ht._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const o=e[s],a=e[s+1];if(ht.isBreakingSpace(o,a)||ht.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,o){return!0}static wordWrapSplit(e){return ht.graphemeSegmenter(e)}static measureFont(e){if(ht._fonts[e])return ht._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ht._canvas,s=ht._context;s.font=e;const o=ht.METRICS_STRING+ht.BASELINE_SYMBOL,a=Math.ceil(s.measureText(o).width);let l=Math.ceil(s.measureText(ht.BASELINE_SYMBOL).width);const c=Math.ceil(ht.HEIGHT_MULTIPLIER*l);if(l=l*ht.BASELINE_MULTIPLIER|0,a===0||c===0)return ht._fonts[e]=r,r;n.width=a,n.height=c,s.fillStyle="#f00",s.fillRect(0,0,a,c),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,l);const d=s.getImageData(0,0,a,c).data,h=d.length,m=a*4;let g=0,y=0,_=!1;for(g=0;g<l;++g){for(let u=0;u<m;u+=4)if(d[y+u]!==255){_=!0;break}if(!_)y+=m;else break}for(r.ascent=l-g,y=h-m,_=!1,g=c;g>l;--g){for(let u=0;u<m;u+=4)if(d[y+u]!==255){_=!0;break}if(!_)y-=m;else break}return r.descent=g-l,r.fontSize=r.ascent+r.descent,ht._fonts[e]=r,r}static clearMetrics(e=""){e?delete ht._fonts[e]:ht._fonts={}}static get _canvas(){var e;if(!ht.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",O0))!=null&&e.measureText)return ht.__canvas=n,n;r=nt.ADAPTER.createCanvas()}catch(n){r=nt.ADAPTER.createCanvas()}r.width=r.height=10,ht.__canvas=r}return ht.__canvas}static get _context(){return ht.__context||(ht.__context=ht._canvas.getContext("2d",O0)),ht.__context}};na.METRICS_STRING="|q",na.BASELINE_SYMBOL="M",na.BASELINE_MULTIPLIER=1.4,na.HEIGHT_MULTIPLIER=2,na.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),na.experimentalLetterSpacing=!1,na._fonts={},na._newlines=[10,13],na._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let nl=na;const Lhe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],pG=class Ym{constructor(e){this.styleID=0,this.reset(),KC(this,e,e)}clone(){const e={};return KC(e,this,Ym.defaultStyle),new Ym(e)}reset(){KC(this,Ym.defaultStyle,Ym.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=WC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=WC(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Uhe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=WC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?"".concat(this.fontSize,"px"):this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!Lhe.includes(s)&&(s='"'.concat(s,'"')),r[n]=s}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(r.join(","))}};pG.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Qy.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Tl=pG;function WC(t){const e=Qt.shared,r=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Uhe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function KC(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const $he={texture:!0,children:!1,baseTexture:!0},mG=class pP extends Vd{constructor(e,r,n){var a;let s=!1;n||(n=nt.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const o=it.from(n);o.orig=new Rt,o.trim=new Rt,super(o),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(a=pP.defaultResolution)!=null?a:nt.RESOLUTION,this._autoResolution=pP.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return nl.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ct("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),nl.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=nl.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,l=s.lines,c=s.lineHeight,d=s.lineWidths,h=s.maxLineWidth,m=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let g,y;const _=r.dropShadow?2:1;for(let u=0;u<_;++u){const f=r.dropShadow&&u===0,p=f?Math.ceil(Math.max(1,a)+r.padding*2):0,v=p*this._resolution;if(f){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,x=r.dropShadowBlur*this._resolution,S=r.dropShadowDistance*this._resolution;n.shadowColor=Qt.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=x,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*S,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*S+v}else n.fillStyle=this._generateFillStyle(r,l,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(c-m.fontSize)/2;c-m.fontSize<0&&(b=0);for(let w=0;w<l.length;w++)g=r.strokeThickness/2,y=r.strokeThickness/2+w*c+m.ascent+b,r.align==="right"?g+=h-d[w]:r.align==="center"&&(g+=(h-d[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-p,!0),r.fill&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-p)}this.updateTexture()}drawLetterSpacing(e,r,n,s=!1){const o=this._style.letterSpacing;let a=!1;if(nl.experimentalLetterSpacingSupported&&(nl.experimentalLetterSpacing?(this.context.letterSpacing="".concat(o,"px"),this.context.textLetterSpacing="".concat(o,"px"),a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||a){s?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const c=nl.graphemeSegmenter(e);let d=this.context.measureText(e).width,h=0;for(let m=0;m<c.length;++m){const g=c[m];s?this.context.strokeText(g,l,n):this.context.fillText(g,l,n);let y="";for(let _=m+1;_<c.length;++_)y+=c[_];h=this.context.measureText(y).width,l+=d-h+o,d=h}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=A7(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,n=this._style,s=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-l*2,d=this.canvas.height/this._resolution-a-l*2,h=s.slice(),m=e.fillGradientStops.slice();if(!m.length){const g=h.length+1;for(let y=1;y<g;++y)m.push(y/g)}if(h.unshift(s[0]),m.unshift(0),h.push(s[s.length-1]),m.push(1),e.fillGradientType===Qy.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,l,c/2,d+l);const g=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const _=n.lineHeight*(y-1)+g,u=n.lineHeight*y;let f=u;y>0&&_>u&&(f=(u+_)/2);const p=u+g,v=n.lineHeight*(y+1);let b=p;y+1<r.length&&v<p&&(b=(p+v)/2);const w=(b-f)/d;for(let x=0;x<h.length;x++){let S=0;typeof m[x]=="number"?S=m[x]:S=x/h.length;let A=Math.min(1,Math.max(0,f/d+S*w));A=Number(A.toFixed(5)),o.addColorStop(A,h[x])}}}else{o=this.context.createLinearGradient(l,d/2,c+l,d/2);const g=h.length+1;let y=1;for(let _=0;_<h.length;_++){let u;typeof m[_]=="number"?u=m[_]:u=y/g,o.addColorStop(u,h[_]),y++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},$he,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=cl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=cl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Tl?this._style=e:this._style=new Tl(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};mG.defaultAutoResolution=!0;let OI=mG;class gG{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function jhe(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let s=0;s<t._textures.length;s++)if(t._textures[s]instanceof it){const o=t._textures[s].baseTexture;e.includes(o)||(e.push(o),r=!0)}}return r}function zhe(t,e){if(t.baseTexture instanceof It){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Ghe(t,e){if(t._texture&&t._texture instanceof it){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Vhe(t,e){return e instanceof OI?(e.updateText(!0),!0):!1}function Hhe(t,e){if(e instanceof Tl){const r=e.toFontString();return nl.measureFont(r),!0}return!1}function Whe(t,e){if(t instanceof OI){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Khe(t,e){return t instanceof Tl?(e.includes(t)||e.push(t),!0):!1}const vG=class yG{constructor(e){this.limiter=new gG(yG.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Whe),this.registerFindHook(Khe),this.registerFindHook(jhe),this.registerFindHook(zhe),this.registerFindHook(Ghe),this.registerUploadHook(Vhe),this.registerUploadHook(Hhe)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,dn.system.addOnce(this.tick,this,Aa.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)dn.system.addOnce(this.tick,this,Aa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Xi)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&dn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};vG.uploadsPerFrame=4;let u1=vG;Object.defineProperties(nt,{UPLOADS_PER_FRAME:{get(){return u1.uploadsPerFrame},set(t){Ct("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),u1.uploadsPerFrame=t}}});function _G(t,e){return e instanceof It?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Xhe(t,e){if(!(e instanceof fl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let s=0;s<n.length;s++){const{texture:o}=n[s].style;o&&_G(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Yhe(t,e){return t instanceof fl?(e.push(t),!0):!1}class II extends u1{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Yhe),this.registerUploadHook(_G),this.registerUploadHook(Xhe)}}II.extension={name:"prepare",type:qe.RendererSystem};ct.add(II);class qhe{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class c1 extends Vd{constructor(e,r=!0){super(e[0]instanceof it?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this,Aa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(it.from(e[n]));return new c1(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(it.from(e[n]));return new c1(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof it)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Tm=new He;class BI extends Vd{constructor(e,r=100,n=100){super(e),this.tileTransform=new Dp,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new cE(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Tm);const r=this._width,n=this._height,s=-r*this.anchor._x;if(Tm.x>=s&&Tm.x<s+r){const o=-n*this.anchor._y;if(Tm.y>=o&&Tm.y<o+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof it?e:it.from(e,r);return new BI(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Zhe="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",Jhe="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Qhe="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",mL="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",epe="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";const I0=new Kt;class FI extends Yy{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new oI,this.state=Wo.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Lo.from(mL,epe,r),this.shader=e.context.webGLVersion>1?Lo.from(Jhe,Zhe,r):Lo.from(mL,Qhe,r)}render(e){const r=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,n.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,h=e.tileTransform.localTransform,m=e.uvMatrix;let g=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;g&&(c._glTextures[r.CONTEXT_UID]?g=c.wrapMode!==wa.CLAMP:c.wrapMode===wa.CLAMP&&(c.wrapMode=wa.REPEAT));const y=g?this.simpleShader:this.shader,_=l.width,u=l.height,f=e._width,p=e._height;I0.set(h.a*_/f,h.b*_/p,h.c*u/f,h.d*u/p,h.tx/f,h.ty/p),I0.invert(),g?I0.prepend(m.mapCoord):(y.uniforms.uMapCoord=m.mapCoord.toArray(!0),y.uniforms.uClampFrame=m.uClampFrame,y.uniforms.uClampOffset=m.uClampOffset),y.uniforms.uTransform=I0.toArray(!0),y.uniforms.uColor=Qt.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=QO(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}FI.extension={name:"tilingSprite",type:qe.RendererPlugin};ct.add(FI);const bG=class qm{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof it?e:null,this.baseTexture=e instanceof It?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const s=this.baseTexture.resource;this.resolution=this._updateResolution(n||(s?s.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=Ca(e,null);return n===null&&(n=parseFloat(r!=null?r:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=qm.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=qm.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],o=this._frames[s],a=o.frame;if(a){let l=null,c=null;const d=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,h=new Rt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);o.rotated?l=new Rt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):l=new Rt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(c=new Rt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[s]=new it(this.baseTexture,l,h,c,o.rotated?2:0,o.anchor,o.borders),it.addToCache(this.textures[s],s.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*qm.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*qm.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};bG.BATCH_SIZE=1e3;let mP=bG;const tpe=["jpg","png","jpeg","avif","webp"];function wG(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[s]=e.textures[s]}),!r){const s=fn.dirname(t[0]);e.linkedSheets.forEach((o,a)=>{const l=wG(["".concat(s,"/").concat(e.data.meta.related_multi_packs[a])],o,!0);Object.assign(n,l)})}return n}const xG={extension:qe.Asset,cache:{test:t=>t instanceof mP,getCacheableAssets:(t,e)=>wG(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&tpe.includes(n)},parse:t=>{var r,n;const e=t.split(".");return{resolution:parseFloat((n=(r=nt.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:qe.LoadParser,priority:uo.Normal},async testParse(t,e){return fn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=fn.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let s=n+t.meta.image;s=l1(s,e.src);const o=(await r.load([s]))[s],a=new mP(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const h=[];for(const g of l){if(typeof g!="string")continue;let y=n+g;(d=e.data)!=null&&d.ignoreMultiPack||(y=l1(y,e.src),h.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(h);a.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[a].concat(a.linkedSheets.filter(y=>y!==g))})}return a},unload(t){t.destroy(!0)}}};ct.add(xG);class Mv{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Og{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in r){const a=r[o].match(/^[a-z]+/gm)[0],l=r[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const h=l[d].split("="),m=h[0],g=h[1].replace(/"/gm,""),y=parseFloat(g),_=isNaN(y)?g:y;c[m]=_}n[a].push(c)}const s=new Mv;return n.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class d1{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Mv,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)r.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<o.length;d++)r.page.push({id:parseInt(o[d].getAttribute("id"),10)||0,file:o[d].getAttribute("file")});for(let d=0;d<a.length;d++){const h=a[d];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class f1{static test(e){return typeof e=="string"&&e.includes("<font>")?d1.test(nt.ADAPTER.parseXML(e)):!1}static parse(e){return d1.parse(nt.ADAPTER.parseXML(e))}}const XC=[Og,d1,f1];function EG(t){for(let e=0;e<XC.length;e++)if(XC[e].test(t))return XC[e];return null}function rpe(t,e,r,n,s,o){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let l;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,h=t.width/n-c-d*2,m=t.height/n-c-d*2,g=a.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=g.length+1;for(let u=1;u<_;++u)y.push(u/_)}if(g.unshift(a[0]),y.unshift(0),g.push(a[a.length-1]),y.push(1),r.fillGradientType===Qy.LINEAR_VERTICAL){l=e.createLinearGradient(h/2,d,h/2,m+d);let _=0;const u=(o.fontProperties.fontSize+r.strokeThickness)/m;for(let f=0;f<s.length;f++){const p=o.lineHeight*f;for(let v=0;v<g.length;v++){let b=0;typeof y[v]=="number"?b=y[v]:b=v/g.length;const w=p/m+b*u;let x=Math.max(_,w);x=Math.min(x,1),l.addColorStop(x,g[v]),_=x}}}else{l=e.createLinearGradient(d,m/2,h+d,m/2);const _=g.length+1;let u=1;for(let f=0;f<g.length;f++){let p;typeof y[f]=="number"?p=y[f]:p=u/_,l.addColorStop(p,g[f]),u++}}return l}function npe(t,e,r,n,s,o,a){const l=r.text,c=r.fontProperties;e.translate(n,s),e.scale(o,o);const d=a.strokeThickness/2,h=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=rpe(t,e,a,o,[l],r),e.strokeStyle=a.stroke,a.dropShadow){const m=a.dropShadowColor,g=a.dropShadowBlur*o,y=a.dropShadowDistance*o;e.shadowColor=Qt.shared.setValue(m).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=g,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(l,d,h+r.lineHeight-c.descent),a.fill&&e.fillText(l,d,h+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Vb(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function SG(t){return Array.from?Array.from(t):t.split("")}function ipe(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));const o=s[0].charCodeAt(0),a=s[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(let l=o,c=a;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...SG(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const nu=class ia{constructor(e,r,n){var h,m;const[s]=e.info,[o]=e.common,[a]=e.page,[l]=e.distanceField,c=Ca(a.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/c,this.chars={},this.pageTextures=d;for(let g=0;g<e.page.length;g++){const{id:y,file:_}=e.page[g];d[y]=r instanceof Array?r[g]:r[_],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[y].baseTexture.alphaMode=xi.NO_PREMULTIPLIED_ALPHA,d[y].baseTexture.mipmap=Go.OFF)}for(let g=0;g<e.char.length;g++){const{id:y,page:_}=e.char[g];let{x:u,y:f,width:p,height:v,xoffset:b,yoffset:w,xadvance:x}=e.char[g];u/=c,f/=c,p/=c,v/=c,b/=c,w/=c,x/=c;const S=new Rt(u+d[_].frame.x/c,f+d[_].frame.y/c,p,v);this.chars[y]={xOffset:b,yOffset:w,xAdvance:x,kerning:{},texture:new it(d[_].baseTexture,S),page:_}}for(let g=0;g<e.kerning.length;g++){let{first:y,second:_,amount:u}=e.kerning[g];y/=c,_/=c,u/=c,this.chars[_]&&(this.chars[_].kerning[y]=u)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(m=(h=l==null?void 0:l.fieldType)==null?void 0:h.toLowerCase())!=null?m:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let s;if(e instanceof Mv)s=e;else{const a=EG(e);if(!a)throw new Error("Unrecognized data format for font.");s=a.parse(e)}r instanceof it&&(r=[r]);const o=new ia(s,r,n);return ia.available[o.font]=o,o}static uninstall(e){const r=ia.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete ia.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:a,textureWidth:l,textureHeight:c,...d}=Object.assign({},ia.defaultOptions,n),h=ipe(s),m=r instanceof Tl?r:new Tl(r),g=l,y=new Mv;y.info[0]={face:m.fontFamily,size:m.fontSize},y.common[0]={lineHeight:m.fontSize};let _=0,u=0,f,p,v,b=0;const w=[];for(let S=0;S<h.length;S++){f||(f=nt.ADAPTER.createCanvas(),f.width=l,f.height=c,p=f.getContext("2d"),v=new It(f,{resolution:a,...d}),w.push(new it(v)),y.page.push({id:w.length-1,file:""}));const A=h[S],D=nl.measureText(A,m,!1,f),C=D.width,T=Math.ceil(D.height),R=Math.ceil((m.fontStyle==="italic"?2:1)*C);if(u>=c-T*a){if(u===0)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(m.fontFamily,"', fontSize: ").concat(m.fontSize,"px, char: '").concat(A,"')"));--S,f=null,p=null,v=null,u=0,_=0,b=0;continue}if(b=Math.max(T+D.fontProperties.descent,b),R*a+_>=g){if(_===0)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(m.fontFamily,"', fontSize: ").concat(m.fontSize,"px, char: '").concat(A,"')"));--S,u+=b*a,u=Math.ceil(u),_=0,b=0;continue}npe(f,p,D,_,u,a,m);const P=Vb(D.text);y.char.push({id:P,page:w.length-1,x:_/a,y:u/a,width:R,height:T,xoffset:0,yoffset:0,xadvance:C-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),_+=(R+2*o)*a,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let S=0,A=h.length;S<A;S++){const D=h[S];for(let C=0;C<A;C++){const T=h[C],R=p.measureText(D).width,P=p.measureText(T).width,O=p.measureText(D+T).width-(R+P);O&&y.kerning.push({first:Vb(D),second:Vb(T),amount:O})}}const x=new ia(y,w,!0);return ia.available[e]!==void 0&&ia.uninstall(e),ia.available[e]=x,x}};nu.ALPHA=[["a","z"],["A","Z"]," "],nu.NUMERIC=[["0","9"]],nu.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],nu.ASCII=[[" ","~"]],nu.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:nu.ALPHANUMERIC},nu.available={};let Ja=nu;var spe="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",ope="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";const gL=[],vL=[],yL=[],CG=class AG extends Xi{constructor(e,r={}){super();const{align:n,tint:s,maxWidth:o,letterSpacing:a,fontName:l,fontSize:c}=Object.assign({},AG.styleDefaults,r);if(!Ja.available[l])throw new Error('Missing BitmapFont "'.concat(l,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Qt(s),this._font=void 0,this._fontName=l,this._fontSize=c,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new Do(()=>{this.dirty=!0},this,0,0),this._roundPixels=nt.ROUND_PIXELS,this.dirty=!0,this._resolution=nt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const e=Ja.available[this._fontName],r=this.fontSize,n=r/e.size,s=new He,o=[],a=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=SG(c),h=this._maxWidth*e.size/r,m=e.distanceFieldType==="none"?gL:vL;let g=null,y=0,_=0,u=0,f=-1,p=0,v=0,b=0,w=0;for(let P=0;P<d.length;P++){const O=d[P],I=Vb(O);if(/(?:\s)/.test(O)&&(f=P,p=y,w++),O==="\r"||O==="\n"){a.push(y),l.push(-1),_=Math.max(_,y),++u,++v,s.x=0,s.y+=e.lineHeight,g=null,w=0;continue}const k=e.chars[I];if(!k)continue;g&&k.kerning[g]&&(s.x+=k.kerning[g]);const W=yL.pop()||{texture:it.EMPTY,line:0,charCode:0,prevSpaces:0,position:new He};W.texture=k.texture,W.line=u,W.charCode=I,W.position.x=Math.round(s.x+k.xOffset+this._letterSpacing/2),W.position.y=Math.round(s.y+k.yOffset),W.prevSpaces=w,o.push(W),y=W.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),s.x+=k.xAdvance+this._letterSpacing,b=Math.max(b,k.yOffset+k.texture.height),g=I,f!==-1&&h>0&&s.x>h&&(++v,ld(o,1+f-v,1+P-f),P=f,f=-1,a.push(p),l.push(o.length>0?o[o.length-1].prevSpaces:0),_=Math.max(_,p),u++,s.x=0,s.y+=e.lineHeight,g=null,w=0)}const x=d[d.length-1];x!=="\r"&&x!=="\n"&&(/(?:\s)/.test(x)&&(y=p),a.push(y),_=Math.max(_,y),l.push(-1));const S=[];for(let P=0;P<=u;P++){let O=0;this._align==="right"?O=_-a[P]:this._align==="center"?O=(_-a[P])/2:this._align==="justify"&&(O=l[P]<0?0:(_-a[P])/l[P]),S.push(O)}const A=o.length,D={},C=[],T=this._activePagesMeshData;m.push(...T);for(let P=0;P<A;P++){const O=o[P].texture,I=O.baseTexture.uid;if(!D[I]){let k=m.pop();if(!k){const G=new Jy;let j,$;e.distanceFieldType==="none"?(j=new Jh(it.EMPTY),$=wt.NORMAL):(j=new Jh(it.EMPTY,{program:pa.from(ope,spe),uniforms:{uFWidth:0}}),$=wt.NORMAL_NPM);const K=new Zh(G,j);K.blendMode=$,k={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:K,vertices:null,uvs:null,indices:null}}k.index=0,k.indexCount=0,k.vertexCount=0,k.uvsCount=0,k.total=0;const{_textureCache:W}=this;W[I]=W[I]||new it(O.baseTexture),k.mesh.texture=W[I],k.mesh.tint=this._tintColor.value,C.push(k),D[I]=k}D[I].total++}for(let P=0;P<T.length;P++)C.includes(T[P])||this.removeChild(T[P].mesh);for(let P=0;P<C.length;P++)C[P].mesh.parent!==this&&this.addChild(C[P].mesh);this._activePagesMeshData=C;for(const P in D){const O=D[P],I=O.total;if(!(((R=O.indices)==null?void 0:R.length)>6*I)||O.vertices.length<Zh.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*I),O.uvs=new Float32Array(4*2*I),O.indices=new Uint16Array(6*I);else{const k=O.total,W=O.vertices;for(let G=k*4*2;G<W.length;G++)W[G]=0}O.mesh.size=6*I}for(let P=0;P<A;P++){const O=o[P];let I=O.position.x+S[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const k=I*n,W=O.position.y*n,G=O.texture,j=D[G.baseTexture.uid],$=G.frame,K=G._uvs,Q=j.index++;j.indices[Q*6+0]=0+Q*4,j.indices[Q*6+1]=1+Q*4,j.indices[Q*6+2]=2+Q*4,j.indices[Q*6+3]=0+Q*4,j.indices[Q*6+4]=2+Q*4,j.indices[Q*6+5]=3+Q*4,j.vertices[Q*8+0]=k,j.vertices[Q*8+1]=W,j.vertices[Q*8+2]=k+$.width*n,j.vertices[Q*8+3]=W,j.vertices[Q*8+4]=k+$.width*n,j.vertices[Q*8+5]=W+$.height*n,j.vertices[Q*8+6]=k,j.vertices[Q*8+7]=W+$.height*n,j.uvs[Q*8+0]=K.x0,j.uvs[Q*8+1]=K.y0,j.uvs[Q*8+2]=K.x1,j.uvs[Q*8+3]=K.y1,j.uvs[Q*8+4]=K.x2,j.uvs[Q*8+5]=K.y2,j.uvs[Q*8+6]=K.x3,j.uvs[Q*8+7]=K.y3}this._textWidth=_*n,this._textHeight=(s.y+e.lineHeight)*n;for(const P in D){const O=D[P];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const j=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let K=0;K<O.total;K++)O.vertices[G++]-=j,O.vertices[G++]-=$,O.vertices[G++]-=j,O.vertices[G++]-=$,O.vertices[G++]-=j,O.vertices[G++]-=$,O.vertices[G++]-=j,O.vertices[G++]-=$}this._maxLineHeight=b*n;const I=O.mesh.geometry.getBuffer("aVertexPosition"),k=O.mesh.geometry.getBuffer("aTextureCoord"),W=O.mesh.geometry.getIndex();I.data=O.vertices,k.data=O.uvs,W.data=O.indices,I.update(),k.update(),W.update()}for(let P=0;P<o.length;P++)yL.push(o[P]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:s}=Ja.available[this._fontName];if(n!=="none"){const{a:o,b:a,c:l,d:c}=this.worldTransform,d=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+c*c),m=(Math.abs(d)+Math.abs(h))/2,g=this.fontSize/s,y=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=m*r*g*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ja.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ja.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:Ja.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Ja.available[this._fontName].distanceFieldType==="none"?gL:vL;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>r[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=it.EMPTY});for(const s in r)r[s].destroy(),delete r[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};CG.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let ape=CG;const lpe=[".xml",".fnt"],TG={extension:{type:qe.LoadParser,priority:uo.Normal},name:"loadBitmapFont",test(t){return lpe.includes(fn.extname(t).toLowerCase())},async testParse(t){return Og.test(t)||f1.test(t)},async parse(t,e,r){const n=Og.test(t)?Og.parse(t):f1.parse(t),{src:s}=e,{page:o}=n,a=[];for(let d=0;d<o.length;++d){const h=o[d].file;let m=fn.join(fn.dirname(s),h);m=l1(m,s),a.push(m)}const l=await r.load(a),c=a.map(d=>l[d]);return Ja.install(n,c,!0)},async load(t,e){return(await nt.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ct.add(TG);const gP=class Uf extends Tl{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Uf(Object.keys(Uf.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Uf.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Uf;if(n[e]){const s=n[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return nt.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,a)=>{const l=URL.createObjectURL(s),c=new FileReader;c.onload=()=>o([l,c.result]),c.onerror=a,c.readAsDataURL(s)})).then(async([s,o])=>{const a=Object.assign({family:fn.basename(e,fn.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},r);n[e]=a,this._fonts.push(a),this.styleID++;const l=new FontFace(a.family,"url(".concat(a.src,")"),{weight:a.weight,style:a.style,display:a.display});a.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(r.family,"\";\n                src: url('").concat(r.dataSrc,"');\n                font-weight: ").concat(r.weight,";\n                font-style: ").concat(r.style,";\n                font-display: ").concat(r.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=w7(e)),typeof e=="number"?b7(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const o="".concat(n,"px ").concat(s,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(o," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(o," ").concat(e)}reset(){Object.assign(this,Uf.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=nt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};gP.availableFonts={},gP.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Hb=gP;const Zm=class $f extends Vd{constructor(e="",r={}){var m;super(it.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=it.from(n,{scaleMode:nt.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Rt,s.trim=new Rt,this.texture=s;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),c=document.createElementNS(o,"foreignObject"),d=document.createElementNS(a,"div"),h=document.createElementNS(a,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",l.appendChild(c),this.maxWidth=$f.defaultMaxWidth,this.maxHeight=$f.defaultMaxHeight,this._domElement=d,this._styleElement=h,this._svgRoot=l,this._foreignObject=c,this._foreignObject.appendChild(h),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=$f.defaultAutoResolution,this._resolution=(m=$f.defaultResolution)!=null?m:nt.RESOLUTION,this.text=e,this.style=r}measureText(e){var h,m;const{text:r,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(a)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(h=this._style)==null?void 0:h.toCSS(s)}),this._styleElement.textContent=(m=this._style)==null?void 0:m.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:s}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:o,height:a}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,o)),n.height=s.height=Math.ceil(Math.max(1,a)),this._updateID++;const l=this._updateID;await new Promise(c=>{s.onload=async()=>{if(l<this._updateID){c();return}await r.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:s}=this,{padding:o}=e,{baseTexture:a}=r;r.trim.width=r._frame.width=n.width/s,r.trim.height=r._frame.height=n.height/s,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-o*2,r.orig.height=r._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(n.width,n.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,s,o,a,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},$f.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(s=this._svgRoot)==null||s.remove(),this._svgRoot=r,(o=this._domElement)==null||o.remove(),this._domElement=r,(a=this._foreignObject)==null||a.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=cl(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=cl(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Hb?(this.ownsStyle=!1,this._style=e):e instanceof Tl?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Hb.from(e)):(this.ownsStyle=!0,this._style=new Hb(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Zm.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Zm.defaultMaxWidth=2024,Zm.defaultMaxHeight=2024,Zm.defaultAutoResolution=!0;let upe=Zm;const nYe=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:xi,AbstractMultiResource:SI,AccessibilityManager:AI,AlphaFilter:g9,AnimatedSprite:c1,Application:C9,ArrayResource:l9,Assets:Wm,AssetsClass:M9,Attribute:Ev,BLEND_MODES:wt,BUFFER_BITS:Kw,BUFFER_TYPE:ko,BackgroundSystem:Cv,BaseImageResource:Al,BasePrepare:u1,BaseRenderTexture:nI,BaseTexture:It,BatchDrawCall:t1,BatchGeometry:tI,BatchRenderer:uu,BatchShaderGenerator:$7,BatchSystem:rI,BatchTextureArray:r1,BitmapFont:Ja,BitmapFontData:Mv,BitmapText:ape,BlobResource:W9,BlurFilter:v9,BlurFilterPass:s1,Bounds:Pv,BrowserAdapter:Hz,Buffer:ln,BufferResource:Hy,BufferSystem:xI,CLEAR_MODES:Co,COLOR_MASK_BITS:Vz,Cache:vu,CanvasResource:u9,Circle:Wy,Color:Qt,ColorMatrixFilter:o1,CompressedTextureResource:$u,Container:Xi,ContextSystem:Av,CountLimiter:gG,CubeResource:d9,DEG_TO_RAD:O7,DRAW_MODES:Ao,DisplacementFilter:y9,DisplayObject:Fr,ENV:mc,Ellipse:Ky,EventBoundary:w9,EventSystem:a1,ExtensionType:qe,Extract:tG,FORMATS:Ie,FORMATS_TO_COMPONENTS:X9,FXAAFilter:_9,FederatedDisplayObject:x9,FederatedEvent:Pp,FederatedMouseEvent:Rv,FederatedPointerEvent:Bs,FederatedWheelEvent:cd,FillStyle:Zy,Filter:Vn,FilterState:z7,FilterSystem:aI,Framebuffer:n1,FramebufferSystem:lI,GC_MODES:iE,GLFramebuffer:G7,GLProgram:Y7,GLTexture:Ub,GRAPHICS_CURVES:Ahe,GenerateTextureSystem:pI,Geometry:Cl,GeometrySystem:uI,Graphics:fl,GraphicsData:Fv,GraphicsGeometry:aG,HTMLText:upe,HTMLTextStyle:Hb,IGLUniformData:jde,INSTALLED:e1,INTERNAL_FORMATS:ki,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Iv,ImageBitmapResource:qc,ImageResource:iI,LINE_CAP:dl,LINE_JOIN:os,LineStyle:pE,LoaderParserPriority:uo,MASK_TYPES:sn,MIPMAP_MODES:Go,MSAA_QUALITY:en,MaskData:H7,MaskSystem:cI,Matrix:Kt,Mesh:Zh,MeshBatchUvs:lG,MeshGeometry:Jy,MeshMaterial:Jh,MultisampleSystem:wI,NineSlicePlane:Ihe,NoiseFilter:b9,ObjectRenderer:Yy,ObjectRendererSystem:EI,ObservablePoint:Do,PI_2:Sv,PRECISION:hs,ParticleContainer:Mhe,ParticleRenderer:RI,PlaneGeometry:dG,PluginSystem:fI,Point:He,Polygon:Uu,Prepare:II,Program:pa,ProjectionSystem:hI,Quad:j7,QuadUv:oI,RAD_TO_DEG:R7,RENDERER_TYPE:zO,Rectangle:Rt,RenderTexture:vc,RenderTexturePool:sI,RenderTextureSystem:mI,Renderer:dE,ResizePlugin:TI,Resource:qh,RopeGeometry:fG,RoundedRectangle:Xy,Runner:ms,SAMPLER_TYPES:tt,SCALE_MODES:ha,SHAPES:kn,SVGResource:i1,ScissorSystem:X7,Shader:Lo,ShaderSystem:gI,SimpleMesh:Bhe,SimplePlane:hG,SimpleRope:Fhe,Sprite:Vd,SpriteMaskFilter:V7,Spritesheet:mP,StartupSystem:Tv,State:Wo,StateSystem:r9,StencilSystem:dI,SystemManager:n9,TARGETS:sd,TEXT_GRADIENT:Qy,TYPES:mt,TYPES_TO_BYTES_PER_COMPONENT:uP,TYPES_TO_BYTES_PER_PIXEL:Y9,TemporaryDisplayObject:f9,Text:OI,TextFormat:Og,TextMetrics:nl,TextStyle:Tl,Texture:it,TextureGCSystem:cu,TextureMatrix:cE,TextureSystem:vI,TextureUvs:uE,Ticker:dn,TickerPlugin:_I,TilingSprite:BI,TilingSpriteRenderer:FI,TimeLimiter:qhe,Transform:Dp,TransformFeedback:sfe,TransformFeedbackSystem:yI,UPDATE_PRIORITY:Aa,UniformGroup:ro,VERSION:ofe,VideoResource:CI,ViewSystem:Dv,ViewableBuffer:Qw,WRAP_MODES:wa,XMLFormat:d1,XMLStringFormat:f1,accessibleTarget:E9,autoDetectFormat:EG,autoDetectRenderer:o9,autoDetectResource:eI,cacheTextureArray:k9,checkDataUrl:Hd,checkExtension:Ul,checkMaxIfStatementsInShader:D7,convertToList:Vs,copySearchParams:l1,createStringVariations:T9,createTexture:Rp,createUBOElements:J7,curves:qu,defaultFilterVertex:bI,defaultVertex:a9,detectAvif:L9,detectCompressedTextures:H9,detectDefaults:$9,detectMp4:z9,detectOgv:G9,detectWebm:j9,detectWebp:U9,extensions:ct,filters:iP,generateProgram:q7,generateUniformBufferSync:e9,getFontFamilyName:R9,getTestContext:k7,getUBOData:Q7,graphicsUtils:Phe,groupD8:Rr,isMobile:To,isSingleItem:Ov,loadBitmapFont:TG,loadDDS:Z9,loadImageBitmap:I9,loadJson:D9,loadKTX:J9,loadSVG:B9,loadTextures:qy,loadTxt:P9,loadVideo:F9,loadWebFont:O9,parseDDS:K9,parseKTX:q9,resolveCompressedTextureUrl:Q9,resolveTextureUrl:V9,settings:nt,spritesheetAsset:xG,uniformParsers:ud,unsafeEvalSupported:U7,utils:dde},Symbol.toStringTag,{value:"Module"})),cpe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let iYe=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=cpe[r[t]&63];return e};var DG={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(ds,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"];function o(u,f){var p=u[f];if(typeof p.bind=="function")return p.bind(u);try{return Function.prototype.bind.call(p,u)}catch(v){return function(){return Function.prototype.apply.apply(p,[u,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(u){return u==="debug"&&(u="log"),typeof console===r?!1:u==="trace"&&n?a:console[u]!==void 0?o(console,u):console.log!==void 0?o(console,"log"):e}function c(u,f){for(var p=0;p<s.length;p++){var v=s[p];this[v]=p<u?e:this.methodFactory(v,u,f)}this.log=this.debug}function d(u,f,p){return function(){typeof console!==r&&(c.call(this,f,p),this[u].apply(this,arguments))}}function h(u,f,p){return l(u)||d.apply(this,arguments)}function m(u,f,p){var v=this,b;f=f==null?"WARN":f;var w="loglevel";typeof u=="string"?w+=":"+u:typeof u=="symbol"&&(w=void 0);function x(C){var T=(s[C]||"silent").toUpperCase();if(!(typeof window===r||!w)){try{window.localStorage[w]=T;return}catch(R){}try{window.document.cookie=encodeURIComponent(w)+"="+T+";"}catch(R){}}}function S(){var C;if(!(typeof window===r||!w)){try{C=window.localStorage[w]}catch(P){}if(typeof C===r)try{var T=window.document.cookie,R=T.indexOf(encodeURIComponent(w)+"=");R!==-1&&(C=/^([^;]+)/.exec(T.slice(R))[1])}catch(P){}return v.levels[C]===void 0&&(C=void 0),C}}function A(){if(!(typeof window===r||!w)){try{window.localStorage.removeItem(w);return}catch(C){}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(C){}}}v.name=u,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=p||h,v.getLevel=function(){return b},v.setLevel=function(C,T){if(typeof C=="string"&&v.levels[C.toUpperCase()]!==void 0&&(C=v.levels[C.toUpperCase()]),typeof C=="number"&&C>=0&&C<=v.levels.SILENT){if(b=C,T!==!1&&x(C),c.call(v,C,u),typeof console===r&&C<v.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+C},v.setDefaultLevel=function(C){f=C,S()||v.setLevel(C,!1)},v.resetLevel=function(){v.setLevel(f,!1),A()},v.enableAll=function(C){v.setLevel(v.levels.TRACE,C)},v.disableAll=function(C){v.setLevel(v.levels.SILENT,C)};var D=S();D==null&&(D=f),v.setLevel(D,!1)}var g=new m,y={};g.getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var p=y[f];return p||(p=y[f]=new m(f,g.getLevel(),g.methodFactory)),p};var _=typeof window!==r?window.log:void 0;return g.noConflict=function(){return typeof window!==r&&window.log===g&&(window.log=_),g},g.getLoggers=function(){return y},g.default=g,g})})(DG);var dpe=DG.exports;const sYe=qn(dpe);var fpe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",hpe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n";const PG=class extends Vn{constructor(e,r=0){super(fpe,hpe),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,PG.defaults,e)}apply(e,r,n,s){var o,a;this.uniforms.dimensions[0]=(o=r.filterFrame)==null?void 0:o.width,this.uniforms.dimensions[1]=(a=r.filterFrame)==null?void 0:a.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,s)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let ppe=PG;ppe.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var dd={},RG={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.loop=vl.conditional=vl.parse=void 0;var mpe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(a){return t(e,a,n,s)});else if(typeof r=="function")r(e,n,s,t);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(s[o]={},t(e,r[o],n,s[o])):s[o]=r[o](e,n,s,t)}return n};vl.parse=mpe;var gpe=function(e,r){return function(n,s,o,a){r(n,s,o)&&a(n,e,s,o)}};vl.conditional=gpe;var vpe=function(e,r){return function(n,s,o,a){for(var l=[],c=n.pos;r(n,s,o);){var d={};if(a(n,e,s,d),n.pos===c)break;c=n.pos,l.push(d)}return l}};vl.loop=vpe;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.readBits=Jr.readArray=Jr.readUnsigned=Jr.readString=Jr.peekBytes=Jr.readBytes=Jr.peekByte=Jr.readByte=Jr.buildStream=void 0;var ype=function(e){return{data:e,pos:0}};Jr.buildStream=ype;var OG=function(){return function(e){return e.data[e.pos++]}};Jr.readByte=OG;var _pe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};Jr.peekByte=_pe;var mE=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};Jr.readBytes=mE;var bpe=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};Jr.peekBytes=bpe;var wpe=function(e){return function(r){return Array.from(mE(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};Jr.readString=wpe;var xpe=function(e){return function(r){var n=mE(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};Jr.readUnsigned=xpe;var Epe=function(e,r){return function(n,s,o){for(var a=typeof r=="function"?r(n,s,o):r,l=mE(e),c=new Array(a),d=0;d<a;d++)c[d]=l(n);return c}};Jr.readArray=Epe;var Spe=function(e,r,n){for(var s=0,o=0;o<n;o++)s+=e[r+o]&&Math.pow(2,n-o-1);return s},Cpe=function(e){return function(r){for(var n=OG()(r),s=new Array(8),o=0;o<8;o++)s[7-o]=!!(n&1<<o);return Object.keys(e).reduce(function(a,l){var c=e[l];return c.length?a[l]=Spe(s,c.index,c.length):a[l]=s[c.index],a},{})}};Jr.readBits=Cpe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=vl,r=Jr,n={blocks:function(g){for(var y=0,_=[],u=g.data.length,f=0,p=(0,r.readByte)()(g);p!==y&&p;p=(0,r.readByte)()(g)){if(g.pos+p>=u){var v=u-g.pos;_.push((0,r.readBytes)(v)(g)),f+=v;break}_.push((0,r.readBytes)(p)(g)),f+=p}for(var b=new Uint8Array(f),w=0,x=0;x<_.length;x++)b.set(_[x],w),w+=_[x].length;return b}},s=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===249}),o=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(m,g,y){return Math.pow(2,y.descriptor.lct.size+1)})},function(m,g,y){return y.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(m){return(0,r.peekByte)()(m)===44}),a=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(g,y,_){return(0,r.readBytes)(_.text.blockSize)(g)}},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===1}),l=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(g,y,_){return(0,r.readString)(_.blockSize)(g)}},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===254}),d=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(m,g){return Math.pow(2,g.lsd.gct.size+1)})},function(m,g){return g.lsd.gct.exists}),{frames:(0,e.loop)([s,l,c,o,a],function(m){var g=(0,r.peekByte)()(m);return g===33||g===44})}],h=d;t.default=h})(RG);var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.deinterlace=void 0;var Ape=function(e,r){for(var n=new Array(e.length),s=e.length/r,o=function(g,y){var _=e.slice(y*r,(y+1)*r);n.splice.apply(n,[g*r,r].concat(_))},a=[0,4,2,1],l=[8,8,4,2],c=0,d=0;d<4;d++)for(var h=a[d];h<s;h+=l[d])o(h,c),c++;return n};gE.deinterlace=Ape;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.lzw=void 0;var Tpe=function(e,r,n){var s=4096,o=-1,a=n,l,c,d,h,m,g,y,S,_,u,x,f,A,D,T,C,p=new Array(n),v=new Array(s),b=new Array(s),w=new Array(s+1);for(f=e,c=1<<f,m=c+1,l=c+2,y=o,h=f+1,d=(1<<h)-1,_=0;_<c;_++)v[_]=0,b[_]=_;var x,S,A,D,C,T;for(x=S=A=D=C=T=0,u=0;u<a;){if(D===0){if(S<h){x+=r[T]<<S,S+=8,T++;continue}if(_=x&d,x>>=h,S-=h,_>l||_==m)break;if(_==c){h=f+1,d=(1<<h)-1,l=c+2,y=o;continue}if(y==o){w[D++]=b[_],y=_,A=_;continue}for(g=_,_==l&&(w[D++]=A,_=y);_>c;)w[D++]=b[_],_=v[_];A=b[_]&255,w[D++]=A,l<s&&(v[l]=y,b[l]=A,l++,!(l&d)&&l<s&&(h++,d+=l)),y=g}D--,p[C++]=w[D],u++}for(u=C;u<a;u++)p[u]=0;return p};vE.lzw=Tpe;Object.defineProperty(dd,"__esModule",{value:!0});var Dpe=dd.decompressFrames=dd.decompressFrame=kpe=dd.parseGIF=void 0,Ppe=Fpe(RG),Rpe=vl,Ope=Jr,Ipe=gE,Bpe=vE;function Fpe(t){return t&&t.__esModule?t:{default:t}}var Mpe=function(e){var r=new Uint8Array(e);return(0,Rpe.parse)((0,Ope.buildStream)(r),Ppe.default)},kpe=dd.parseGIF=Mpe,Npe=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),s=0;s<r;s++){var o=s*4,a=e.pixels[s],l=e.colorTable[a]||[0,0,0];n[o]=l[0],n[o+1]=l[1],n[o+2]=l[2],n[o+3]=a!==e.transparentIndex?255:0}return n},IG=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var s=e.image,o=s.descriptor.width*s.descriptor.height,a=(0,Bpe.lzw)(s.data.minCodeSize,s.data.blocks,o);s.descriptor.lct.interlaced&&(a=(0,Ipe.deinterlace)(a,s.descriptor.width));var l={pixels:a,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return s.descriptor.lct&&s.descriptor.lct.exists?l.colorTable=s.lct:l.colorTable=r,e.gce&&(l.delay=(e.gce.delay||10)*10,l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),n&&(l.patch=Npe(l)),l};dd.decompressFrame=IG;var Lpe=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return IG(n,e.gct,r)})};Dpe=dd.decompressFrames=Lpe;var BG={};(function(t){var e=function(){var u=new Date,f=4,p=3,v=2,b=1,w=f,x={setLogLevel:function(S){S==this.debug?w=b:S==this.info?w=v:S==this.warn?w=p:(S==this.error,w=f)},debug:function(S,A){console.debug===void 0&&(console.debug=console.log),b>=w&&console.debug("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},log:function(S,A){this.debug(S.msg)},info:function(S,A){v>=w&&console.info("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},warn:function(S,A){p>=w&&console.warn("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)},error:function(S,A){f>=w&&console.error("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",A)}};return x}();e.getDurationString=function(u,f){var p;function v(D,C){for(var T=""+D,R=T.split(".");R[0].length<C;)R[0]="0"+R[0];return R.join(".")}u<0?(p=!0,u=-u):p=!1;var b=f||1,w=u/b,x=Math.floor(w/3600);w-=x*3600;var S=Math.floor(w/60);w-=S*60;var A=w*1e3;return w=Math.floor(w),A-=w*1e3,A=Math.floor(A),(p?"-":"")+x+":"+v(S,2)+":"+v(w,2)+"."+v(A,3)},e.printRanges=function(u){var f=u.length;if(f>0){for(var p="",v=0;v<f;v++)v>0&&(p+=","),p+="["+e.getDurationString(u.start(v))+","+e.getDurationString(u.end(v))+"]";return p}else return"(empty)"},t.Log=e;var r=function(u){if(u instanceof ArrayBuffer)this.buffer=u,this.dataview=new DataView(u);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(u){var f=Math.max(0,Math.min(this.buffer.byteLength,u));return this.position=isNaN(f)||!isFinite(f)?0:f,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(u,f){var p=0;if(this.position+u<=this.buffer.byteLength){switch(u){case 1:f?p=this.dataview.getInt8(this.position):p=this.dataview.getUint8(this.position);break;case 2:f?p=this.dataview.getInt16(this.position):p=this.dataview.getUint16(this.position);break;case 3:if(f)throw"No method for reading signed 24 bits values";p=this.dataview.getUint8(this.position)<<16,p|=this.dataview.getUint8(this.position+1)<<8,p|=this.dataview.getUint8(this.position+2);break;case 4:f?p=this.dataview.getInt32(this.position):p=this.dataview.getUint32(this.position);break;case 8:if(f)throw"No method for reading signed 64 bits values";p=this.dataview.getUint32(this.position)<<32,p|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+u}return this.position+=u,p}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(u){if(this.position+u<=this.buffer.byteLength){for(var f="",p=0;p<u;p++)f+=String.fromCharCode(this.readUint8());return f}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var u=[];;){var f=this.readUint8();if(f!==0)u.push(f);else break}return String.fromCharCode.apply(null,u)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(u){for(var f=new Uint8Array(u),p=0;p<u;p++)f[p]=this.readUint8();return f},r.prototype.readInt16Array=function(u){for(var f=new Int16Array(u),p=0;p<u;p++)f[p]=this.readInt16();return f},r.prototype.readUint16Array=function(u){for(var f=new Int16Array(u),p=0;p<u;p++)f[p]=this.readUint16();return f},r.prototype.readUint32Array=function(u){for(var f=new Uint32Array(u),p=0;p<u;p++)f[p]=this.readUint32();return f},r.prototype.readInt32Array=function(u){for(var f=new Int32Array(u),p=0;p<u;p++)f[p]=this.readInt32();return f},t.MP4BoxStream=r;var n=function(u,f,p){this._byteOffset=f||0,u instanceof ArrayBuffer?this.buffer=u:typeof u=="object"?(this.dataView=u,f&&(this._byteOffset+=f)):this.buffer=new ArrayBuffer(u||0),this.position=0,this.endianness=p==null?n.LITTLE_ENDIAN:p};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(u){if(this._dynamicSize){var f=this._byteOffset+this.position+u,p=this._buffer.byteLength;if(f<=p){f>this._byteLength&&(this._byteLength=f);return}for(p<1&&(p=1);f>p;)p*=2;var v=new ArrayBuffer(p),b=new Uint8Array(this._buffer),w=new Uint8Array(v,0,b.length);w.set(b),this.buffer=v,this._byteLength=f}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var u=new ArrayBuffer(this._byteLength),f=new Uint8Array(u),p=new Uint8Array(this._buffer,0,f.length);f.set(p),this.buffer=u}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(u){this._buffer=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(u){this._byteOffset=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(u){this._byteOffset=u.byteOffset,this._buffer=u.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+u.byteLength}}),n.prototype.seek=function(u){var f=Math.max(0,Math.min(this.byteLength,u));this.position=isNaN(f)||!isFinite(f)?0:f},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(u){this._realloc(u*1);var f=new Uint8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,f},n.prototype.readInt32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Int32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt16Array=function(u,f){u=u==null?this.byteLength-this.position/2:u;var p=new Int16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt8Array=function(u){u=u==null?this.byteLength-this.position:u;var f=new Int8Array(u);return n.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,u*f.BYTES_PER_ELEMENT),this.position+=f.byteLength,f},n.prototype.readUint32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Uint32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readUint16Array=function(u,f){u=u==null?this.byteLength-this.position/2:u;var p=new Uint16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readUint8Array=function(u){u=u==null?this.byteLength-this.position:u;var f=new Uint8Array(u);return n.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,u*f.BYTES_PER_ELEMENT),this.position+=f.byteLength,f},n.prototype.readFloat64Array=function(u,f){u=u==null?this.byteLength-this.position/8:u;var p=new Float64Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readFloat32Array=function(u,f){u=u==null?this.byteLength-this.position/4:u;var p=new Float32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,f==null?this.endianness:f),this.position+=p.byteLength,p},n.prototype.readInt32=function(u){var f=this._dataView.getInt32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readInt16=function(u){var f=this._dataView.getInt16(this.position,u==null?this.endianness:u);return this.position+=2,f},n.prototype.readInt8=function(){var u=this._dataView.getInt8(this.position);return this.position+=1,u},n.prototype.readUint32=function(u){var f=this._dataView.getUint32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readUint16=function(u){var f=this._dataView.getUint16(this.position,u==null?this.endianness:u);return this.position+=2,f},n.prototype.readUint8=function(){var u=this._dataView.getUint8(this.position);return this.position+=1,u},n.prototype.readFloat32=function(u){var f=this._dataView.getFloat32(this.position,u==null?this.endianness:u);return this.position+=4,f},n.prototype.readFloat64=function(u){var f=this._dataView.getFloat64(this.position,u==null?this.endianness:u);return this.position+=8,f},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(u,f,p,v,b){var w=new Uint8Array(u,f,b),x=new Uint8Array(p,v,b);w.set(x)},n.arrayToNative=function(u,f){return f==this.endianness?u:this.flipArrayEndianness(u)},n.nativeToEndian=function(u,f){return this.endianness==f?u:this.flipArrayEndianness(u)},n.flipArrayEndianness=function(u){for(var f=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),p=0;p<u.byteLength;p+=u.BYTES_PER_ELEMENT)for(var v=p+u.BYTES_PER_ELEMENT-1,b=p;v>b;v--,b++){var w=f[b];f[b]=f[v],f[v]=w}return u},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(u){for(var f=[],p=0;p<u.length;p++)f[p]=u[p];return String.fromCharCode.apply(null,f)},n.prototype.readString=function(u,f){return f==null||f=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(u==null?this.byteLength-this.position:u)]):new TextDecoder(f).decode(this.mapUint8Array(u))},n.prototype.readCString=function(u){var f=this.byteLength-this.position,p=new Uint8Array(this._buffer,this._byteOffset+this.position),v=f;u!=null&&(v=Math.min(u,f));for(var b=0;b<v&&p[b]!==0;b++);var w=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(b)]);return u!=null?this.position+=v-b:b!=f&&(this.position+=1),w};var s=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=n,n.prototype.save=function(u){var f=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var p=window.URL.createObjectURL(f),v=document.createElement("a");document.body.appendChild(v),v.setAttribute("href",p),v.setAttribute("download",u),v.setAttribute("target","_self"),v.click(),window.URL.revokeObjectURL(p)}else throw"DataStream.save: Can't create object URL."},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(u){u||this._trimAlloc(),this._dynamicSize=u}}),n.prototype.shift=function(u){var f=new ArrayBuffer(this._byteLength-u),p=new Uint8Array(f),v=new Uint8Array(this._buffer,u,p.length);p.set(v),this.buffer=f,this.position-=u},n.prototype.writeInt32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Int32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeInt32(u[p],f)},n.prototype.writeInt16Array=function(u,f){if(this._realloc(u.length*2),u instanceof Int16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt16Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeInt16(u[p],f)},n.prototype.writeInt8Array=function(u){if(this._realloc(u.length*1),u instanceof Int8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt8Array(u.length);else for(var f=0;f<u.length;f++)this.writeInt8(u[f])},n.prototype.writeUint32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Uint32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeUint32(u[p],f)},n.prototype.writeUint16Array=function(u,f){if(this._realloc(u.length*2),u instanceof Uint16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint16Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeUint16(u[p],f)},n.prototype.writeUint8Array=function(u){if(this._realloc(u.length*1),u instanceof Uint8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint8Array(u.length);else for(var f=0;f<u.length;f++)this.writeUint8(u[f])},n.prototype.writeFloat64Array=function(u,f){if(this._realloc(u.length*8),u instanceof Float64Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat64Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeFloat64(u[p],f)},n.prototype.writeFloat32Array=function(u,f){if(this._realloc(u.length*4),u instanceof Float32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat32Array(u.length,f);else for(var p=0;p<u.length;p++)this.writeFloat32(u[p],f)},n.prototype.writeInt32=function(u,f){this._realloc(4),this._dataView.setInt32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeInt16=function(u,f){this._realloc(2),this._dataView.setInt16(this.position,u,f==null?this.endianness:f),this.position+=2},n.prototype.writeInt8=function(u){this._realloc(1),this._dataView.setInt8(this.position,u),this.position+=1},n.prototype.writeUint32=function(u,f){this._realloc(4),this._dataView.setUint32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeUint16=function(u,f){this._realloc(2),this._dataView.setUint16(this.position,u,f==null?this.endianness:f),this.position+=2},n.prototype.writeUint8=function(u){this._realloc(1),this._dataView.setUint8(this.position,u),this.position+=1},n.prototype.writeFloat32=function(u,f){this._realloc(4),this._dataView.setFloat32(this.position,u,f==null?this.endianness:f),this.position+=4},n.prototype.writeFloat64=function(u,f){this._realloc(8),this._dataView.setFloat64(this.position,u,f==null?this.endianness:f),this.position+=8},n.prototype.writeUCS2String=function(u,f,p){p==null&&(p=u.length);for(var v=0;v<u.length&&v<p;v++)this.writeUint16(u.charCodeAt(v),f);for(;v<p;v++)this.writeUint16(0)},n.prototype.writeString=function(u,f,p){var v=0;if(f==null||f=="ASCII")if(p!=null){var b=Math.min(u.length,p);for(v=0;v<b;v++)this.writeUint8(u.charCodeAt(v));for(;v<p;v++)this.writeUint8(0)}else for(v=0;v<u.length;v++)this.writeUint8(u.charCodeAt(v));else this.writeUint8Array(new TextEncoder(f).encode(u.substring(0,p)))},n.prototype.writeCString=function(u,f){var p=0;if(f!=null){var v=Math.min(u.length,f);for(p=0;p<v;p++)this.writeUint8(u.charCodeAt(p));for(;p<f;p++)this.writeUint8(0)}else{for(p=0;p<u.length;p++)this.writeUint8(u.charCodeAt(p));this.writeUint8(0)}},n.prototype.writeStruct=function(u,f){for(var p=0;p<u.length;p+=2){var v=u[p+1];this.writeType(v,f[u[p]],f)}},n.prototype.writeType=function(u,f,p){var v;if(typeof u=="function")return u(this,f);if(typeof u=="object"&&!(u instanceof Array))return u.set(this,f,p);var b=null,w="ASCII",x=this.position;switch(typeof u=="string"&&/:/.test(u)&&(v=u.split(":"),u=v[0],b=parseInt(v[1])),typeof u=="string"&&/,/.test(u)&&(v=u.split(","),u=v[0],w=parseInt(v[1])),u){case"uint8":this.writeUint8(f);break;case"int8":this.writeInt8(f);break;case"uint16":this.writeUint16(f,this.endianness);break;case"int16":this.writeInt16(f,this.endianness);break;case"uint32":this.writeUint32(f,this.endianness);break;case"int32":this.writeInt32(f,this.endianness);break;case"float32":this.writeFloat32(f,this.endianness);break;case"float64":this.writeFloat64(f,this.endianness);break;case"uint16be":this.writeUint16(f,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(f,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(f,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(f,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(f,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(f,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(f,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(f,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(f,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(f,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(f,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(f,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(f,b);break;case"string":this.writeString(f,w,b);break;case"u16string":this.writeUCS2String(f,this.endianness,b);break;case"u16stringle":this.writeUCS2String(f,n.LITTLE_ENDIAN,b);break;case"u16stringbe":this.writeUCS2String(f,n.BIG_ENDIAN,b);break;default:if(u.length==3){for(var S=u[1],A=0;A<f.length;A++)this.writeType(S,f[A]);break}else{this.writeStruct(u,f);break}}b!=null&&(this.position=x,this._realloc(b),this.position=x+b)},n.prototype.writeUint64=function(u){var f=Math.floor(u/s);this.writeUint32(f),this.writeUint32(u&4294967295)},n.prototype.writeUint24=function(u){this.writeUint8((u&16711680)>>16),this.writeUint8((u&65280)>>8),this.writeUint8(u&255)},n.prototype.adjustUint32=function(u,f){var p=this.position;this.seek(u),this.writeUint32(f),this.seek(p)},n.prototype.mapInt32Array=function(u,f){this._realloc(u*4);var p=new Int32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p},n.prototype.mapInt16Array=function(u,f){this._realloc(u*2);var p=new Int16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*2,p},n.prototype.mapInt8Array=function(u){this._realloc(u*1);var f=new Int8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,f},n.prototype.mapUint32Array=function(u,f){this._realloc(u*4);var p=new Uint32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p},n.prototype.mapUint16Array=function(u,f){this._realloc(u*2);var p=new Uint16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*2,p},n.prototype.mapFloat64Array=function(u,f){this._realloc(u*8);var p=new Float64Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*8,p},n.prototype.mapFloat32Array=function(u,f){this._realloc(u*4);var p=new Float32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,f==null?this.endianness:f),this.position+=u*4,p};var o=function(u){this.buffers=[],this.bufferIndex=-1,u&&(this.insertBuffer(u),this.bufferIndex=0)};o.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN),o.prototype.initialized=function(){var u;return this.bufferIndex>-1?!0:this.buffers.length>0?(u=this.buffers[0],u.fileStart===0?(this.buffer=u,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(u,f){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(u.byteLength+f.byteLength));var p=new Uint8Array(u.byteLength+f.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(f),u.byteLength),p.buffer},o.prototype.reduceBuffer=function(u,f,p){var v;return v=new Uint8Array(p),v.set(new Uint8Array(u,f,p)),v.buffer.fileStart=u.fileStart+f,v.buffer.usedBytes=0,v.buffer},o.prototype.insertBuffer=function(u){for(var f=!0,p=0;p<this.buffers.length;p++){var v=this.buffers[p];if(u.fileStart<=v.fileStart){if(u.fileStart===v.fileStart)if(u.byteLength>v.byteLength){this.buffers.splice(p,1),p--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+") already appended, ignoring");else u.fileStart+u.byteLength<=v.fileStart||(u=this.reduceBuffer(u,0,v.fileStart-u.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.splice(p,0,u),p===0&&(this.buffer=u);f=!1;break}else if(u.fileStart<v.fileStart+v.byteLength){var b=v.fileStart+v.byteLength-u.fileStart,w=u.byteLength-b;if(w>0)u=this.reduceBuffer(u,b,w);else{f=!1;break}}}f&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.push(u),p===0&&(this.buffer=u))},o.prototype.logBufferLevel=function(u){var f,p,v,b,w=[],x,S="";for(v=0,b=0,f=0;f<this.buffers.length;f++)p=this.buffers[f],f===0?(x={},w.push(x),x.start=p.fileStart,x.end=p.fileStart+p.byteLength,S+="["+x.start+"-"):x.end===p.fileStart?x.end=p.fileStart+p.byteLength:(x={},x.start=p.fileStart,S+=w[w.length-1].end-1+"], ["+x.start+"-",x.end=p.fileStart+p.byteLength,w.push(x)),v+=p.usedBytes,b+=p.byteLength;w.length>0&&(S+=x.end-1+"]");var A=u?e.info:e.debug;this.buffers.length===0?A("MultiBufferStream","No more buffer in memory"):A("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+v+"/"+b+" bytes), continuous ranges: "+S)},o.prototype.cleanBuffers=function(){var u,f;for(u=0;u<this.buffers.length;u++)f=this.buffers[u],f.usedBytes===f.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+u),this.buffers.splice(u,1),u--)},o.prototype.mergeNextBuffer=function(){var u;if(this.bufferIndex+1<this.buffers.length)if(u=this.buffers[this.bufferIndex+1],u.fileStart===this.buffer.fileStart+this.buffer.byteLength){var f=this.buffer.byteLength,p=this.buffer.usedBytes,v=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,u),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=p,this.buffer.fileStart=v,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+f+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(u,f,p){var v,b=null,w=-1;for(u===!0?v=0:v=this.bufferIndex;v<this.buffers.length&&(b=this.buffers[v],b.fileStart<=f);){w=v,p&&(b.fileStart+b.byteLength<=f?b.usedBytes=b.byteLength:b.usedBytes=f-b.fileStart,this.logBufferLevel());v++}return w!==-1?(b=this.buffers[w],b.fileStart+b.byteLength>=f?(e.debug("MultiBufferStream","Found position in existing buffer #"+w),w):-1):-1},o.prototype.findEndContiguousBuf=function(u){var f,p,v,b=u!==void 0?u:this.bufferIndex;if(p=this.buffers[b],this.buffers.length>b+1)for(f=b+1;f<this.buffers.length&&(v=this.buffers[f],v.fileStart===p.fileStart+p.byteLength);f++)p=v;return p.fileStart+p.byteLength},o.prototype.getEndFilePositionAfter=function(u){var f=this.findPosition(!0,u,!1);return f!==-1?this.findEndContiguousBuf(f):u},o.prototype.addUsedBytes=function(u){this.buffer.usedBytes+=u,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(u,f,p){var v;return v=this.findPosition(f,u,p),v!==-1?(this.buffer=this.buffers[v],this.bufferIndex=v,this.position=u-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+u+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=o;var a=function(){var u=3,f=4,p=5,v=6,b=[];b[u]="ES_Descriptor",b[f]="DecoderConfigDescriptor",b[p]="DecoderSpecificInfo",b[v]="SLConfigDescriptor",this.getDescriptorName=function(S){return b[S]};var w=this,x={};return this.parseOneDescriptor=function(S){var A=0,D,C,T;for(D=S.readUint8(),T=S.readUint8();T&128;)A=(A<<7)+(T&127),T=S.readUint8();return A=(A<<7)+(T&127),e.debug("MPEG4DescriptorParser","Found "+(b[D]||"Descriptor "+D)+", size "+A+" at position "+S.getPosition()),b[D]?C=new x[b[D]](A):C=new x.Descriptor(A),C.parse(S),C},x.Descriptor=function(S,A){this.tag=S,this.size=A,this.descs=[]},x.Descriptor.prototype.parse=function(S){this.data=S.readUint8Array(this.size)},x.Descriptor.prototype.findDescriptor=function(S){for(var A=0;A<this.descs.length;A++)if(this.descs[A].tag==S)return this.descs[A];return null},x.Descriptor.prototype.parseRemainingDescriptors=function(S){for(var A=S.position;S.position<A+this.size;){var D=w.parseOneDescriptor(S);this.descs.push(D)}},x.ES_Descriptor=function(S){x.Descriptor.call(this,u,S)},x.ES_Descriptor.prototype=new x.Descriptor,x.ES_Descriptor.prototype.parse=function(S){if(this.ES_ID=S.readUint16(),this.flags=S.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=S.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var A=S.readUint8();this.URL=S.readString(A),this.size-=A+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=S.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(S)},x.ES_Descriptor.prototype.getOTI=function(S){var A=this.findDescriptor(f);return A?A.oti:0},x.ES_Descriptor.prototype.getAudioConfig=function(S){var A=this.findDescriptor(f);if(!A)return null;var D=A.findDescriptor(p);if(D&&D.data){var C=(D.data[0]&248)>>3;return C===31&&D.data.length>=2&&(C=32+((D.data[0]&7)<<3)+((D.data[1]&224)>>5)),C}else return null},x.DecoderConfigDescriptor=function(S){x.Descriptor.call(this,f,S)},x.DecoderConfigDescriptor.prototype=new x.Descriptor,x.DecoderConfigDescriptor.prototype.parse=function(S){this.oti=S.readUint8(),this.streamType=S.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=S.readUint24(),this.maxBitrate=S.readUint32(),this.avgBitrate=S.readUint32(),this.size-=13,this.parseRemainingDescriptors(S)},x.DecoderSpecificInfo=function(S){x.Descriptor.call(this,p,S)},x.DecoderSpecificInfo.prototype=new x.Descriptor,x.SLConfigDescriptor=function(S){x.Descriptor.call(this,v,S)},x.SLConfigDescriptor.prototype=new x.Descriptor,this};t.MPEG4DescriptorParser=a;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(u){l.createBoxCtor(u)}),l.FULL_BOXES.forEach(function(u){l.createFullBoxCtor(u)}),l.CONTAINER_BOXES.forEach(function(u){l.createContainerBoxCtor(u[0],null,u[1])})},Box:function(u,f,p){this.type=u,this.size=f,this.uuid=p},FullBox:function(u,f,p){l.Box.call(this,u,f,p),this.flags=0,this.version=0},ContainerBox:function(u,f,p){l.Box.call(this,u,f,p),this.boxes=[]},SampleEntry:function(u,f,p,v){l.ContainerBox.call(this,u,f),this.hdr_size=p,this.start=v},SampleGroupEntry:function(u){this.grouping_type=u},TrackGroupTypeBox:function(u,f){l.FullBox.call(this,u,f)},createBoxCtor:function(u,f){l.boxCodes.push(u),l[u+"Box"]=function(p){l.Box.call(this,u,p)},l[u+"Box"].prototype=new l.Box,f&&(l[u+"Box"].prototype.parse=f)},createFullBoxCtor:function(u,f){l[u+"Box"]=function(p){l.FullBox.call(this,u,p)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(p){this.parseFullHeader(p),f&&f.call(this,p)}},addSubBoxArrays:function(u){if(u){this.subBoxNames=u;for(var f=u.length,p=0;p<f;p++)this[u[p]+"s"]=[]}},createContainerBoxCtor:function(u,f,p){l[u+"Box"]=function(v){l.ContainerBox.call(this,u,v),l.addSubBoxArrays.call(this,p)},l[u+"Box"].prototype=new l.ContainerBox,f&&(l[u+"Box"].prototype.parse=f)},createMediaSampleEntryCtor:function(u,f,p){l.sampleEntryCodes[u]=[],l[u+"SampleEntry"]=function(v,b){l.SampleEntry.call(this,v,b),l.addSubBoxArrays.call(this,p)},l[u+"SampleEntry"].prototype=new l.SampleEntry,f&&(l[u+"SampleEntry"].prototype.parse=f)},createSampleEntryCtor:function(u,f,p,v){l.sampleEntryCodes[u].push(f),l[f+"SampleEntry"]=function(b){l[u+"SampleEntry"].call(this,f,b),l.addSubBoxArrays.call(this,v)},l[f+"SampleEntry"].prototype=new l[u+"SampleEntry"],p&&(l[f+"SampleEntry"].prototype.parse=p)},createEncryptedSampleEntryCtor:function(u,f,p){l.createSampleEntryCtor.call(this,u,f,p,["sinf"])},createSampleGroupCtor:function(u,f){l[u+"SampleGroupEntry"]=function(p){l.SampleGroupEntry.call(this,u,p)},l[u+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,f&&(l[u+"SampleGroupEntry"].prototype.parse=f)},createTrackGroupCtor:function(u,f){l[u+"TrackGroupTypeBox"]=function(p){l.TrackGroupTypeBox.call(this,u,p)},l[u+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,f&&(l[u+"TrackGroupTypeBox"].prototype.parse=f)},createUUIDBox:function(u,f,p,v){l.UUIDs.push(u),l.UUIDBoxes[u]=function(b){f?l.FullBox.call(this,"uuid",b,u):p?l.ContainerBox.call(this,"uuid",b,u):l.Box.call(this,"uuid",b,u)},l.UUIDBoxes[u].prototype=f?new l.FullBox:p?new l.ContainerBox:new l.Box,v&&(f?l.UUIDBoxes[u].prototype.parse=function(b){this.parseFullHeader(b),v&&v.call(this,b)}:l.UUIDBoxes[u].prototype.parse=v)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(u){return this.addBox(new l[u+"Box"])},l.Box.prototype.addBox=function(u){return this.boxes.push(u),this[u.type+"s"]?this[u.type+"s"].push(u):this[u.type]=u,u},l.Box.prototype.set=function(u,f){return this[u]=f,this},l.Box.prototype.addEntry=function(u,f){var p=f||"entries";return this[p]||(this[p]=[]),this[p].push(u),this},t.BoxParser=l,l.parseUUID=function(u){return l.parseHex16(u)},l.parseHex16=function(u){for(var f="",p=0;p<16;p++){var v=u.readUint8().toString(16);f+=v.length===1?"0"+v:v}return f},l.parseOneBox=function(u,f,p){var v,b=u.getPosition(),w=0,x,S;if(u.getEndPosition()-b<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(p&&p<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var A=u.readUint32(),D=u.readString(4),C=D;if(e.debug("BoxParser","Found box of type '"+D+"' and size "+A+" at position "+b),w=8,D=="uuid"){if(u.getEndPosition()-u.getPosition()<16||p-w<16)return u.seek(b),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};S=l.parseUUID(u),w+=16,C=S}if(A==1){if(u.getEndPosition()-u.getPosition()<8||p&&p-w<8)return u.seek(b),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+D+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};A=u.readUint64(),w+=8}else if(A===0){if(p)A=p;else if(D!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+D+"'"),v=new l.Box(D,A),{code:l.OK,box:v,size:v.size}}return A!==0&&A<w?(e.error("BoxParser","Box of type "+D+" has an invalid size "+A+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:b}):A!==0&&p&&A>p?(e.error("BoxParser","Box of type '"+D+"' has a size "+A+" greater than its container size "+p),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:b}):A!==0&&b+A>u.getEndPosition()?(u.seek(b),e.info("BoxParser","Not enough data in stream to parse the entire '"+D+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:D,size:A,hdr_size:w,start:b}):f?{code:l.OK,type:D,size:A,hdr_size:w,start:b}:(l[D+"Box"]?v=new l[D+"Box"](A):D!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+D+"'"),v=new l.Box(D,A),v.has_unparsed_data=!0):l.UUIDBoxes[S]?v=new l.UUIDBoxes[S](A):(e.warn("BoxParser","Unknown uuid type: '"+S+"'"),v=new l.Box(D,A),v.uuid=S,v.has_unparsed_data=!0),v.hdr_size=w,v.start=b,v.write===l.Box.prototype.write&&v.type!=="mdat"&&(e.info("BoxParser","'"+C+"' box writing not yet implemented, keeping unparsed data in memory for later write"),v.parseDataAndRewind(u)),v.parse(u),x=u.getPosition()-(v.start+v.size),x<0?(e.warn("BoxParser","Parsing of box '"+C+"' did not read the entire indicated box data size (missing "+-x+" bytes), seeking forward"),u.seek(v.start+v.size)):x>0&&(e.error("BoxParser","Parsing of box '"+C+"' read "+x+" more bytes than the indicated box data size, seeking backwards"),v.size!==0&&u.seek(v.start+v.size)),{code:l.OK,box:v,size:v.size})},l.Box.prototype.parse=function(u){this.type!="mdat"?this.data=u.readUint8Array(this.size-this.hdr_size):this.size===0?u.seek(u.getEndPosition()):u.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(u){this.data=u.readUint8Array(this.size-this.hdr_size),u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(u){this.version=u.readUint8(),this.flags=u.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(u){for(var f,p;u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)if(p=f.box,this.boxes.push(p),this.subBoxNames&&this.subBoxNames.indexOf(p.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(p.type)]+"s"].push(p);else{var v=p.type!=="uuid"?p.type:p.uuid;this[v]?e.warn("Box of type "+v+" already stored in field of this type"):this[v]=p}else return},l.Box.prototype.parseLanguage=function(u){this.language=u.readUint16();var f=[];f[0]=this.language>>10&31,f[1]=this.language>>5&31,f[2]=this.language&31,this.languageString=String.fromCharCode(f[0]+96,f[1]+96,f[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(u){u.readUint8Array(6),this.data_reference_index=u.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,u.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(u){l.ContainerBox.prototype.parse.call(this,u)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(u){var f;this.parseHeader(u),u.readUint16(),u.readUint16(),u.readUint32Array(3),this.width=u.readUint16(),this.height=u.readUint16(),this.horizresolution=u.readUint32(),this.vertresolution=u.readUint32(),u.readUint32(),this.frame_count=u.readUint16(),f=Math.min(31,u.readUint8()),this.compressorname=u.readString(f),f<31&&u.readString(31-f),this.depth=u.readUint16(),u.readUint16(),this.parseFooter(u)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(u){this.parseHeader(u),u.readUint32Array(2),this.channel_count=u.readUint16(),this.samplesize=u.readUint16(),u.readUint16(),u.readUint16(),this.samplerate=u.readUint32()/65536,this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx",function(u){var f=u.readUint8()&1,p=((f&1)+1)*16;this.layer_size=[];for(var v=0;v<3;v++)p==16?this.layer_size[v]=u.readUint16():this.layer_size[v]=u.readUint32()}),l.createBoxCtor("a1op",function(u){this.op_index=u.readUint8()}),l.createFullBoxCtor("auxC",function(u){this.aux_type=u.readCString();var f=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=u.readUint8Array(f)}),l.createBoxCtor("av1C",function(u){var f=u.readUint8();if(f>>7&!1){e.error("av1C marker problem");return}if(this.version=f&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(f=u.readUint8(),this.seq_profile=f>>5&7,this.seq_level_idx_0=f&31,f=u.readUint8(),this.seq_tier_0=f>>7&1,this.high_bitdepth=f>>6&1,this.twelve_bit=f>>5&1,this.monochrome=f>>4&1,this.chroma_subsampling_x=f>>3&1,this.chroma_subsampling_y=f>>2&1,this.chroma_sample_position=f&3,f=u.readUint8(),this.reserved_1=f>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=f>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=f&15;else if(this.reserved_2=f&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var p=this.size-this.hdr_size-4;this.configOBUs=u.readUint8Array(p)}),l.createBoxCtor("avcC",function(u){var f,p;for(this.configurationVersion=u.readUint8(),this.AVCProfileIndication=u.readUint8(),this.profile_compatibility=u.readUint8(),this.AVCLevelIndication=u.readUint8(),this.lengthSizeMinusOne=u.readUint8()&3,this.nb_SPS_nalus=u.readUint8()&31,p=this.size-this.hdr_size-6,this.SPS=[],f=0;f<this.nb_SPS_nalus;f++)this.SPS[f]={},this.SPS[f].length=u.readUint16(),this.SPS[f].nalu=u.readUint8Array(this.SPS[f].length),p-=2+this.SPS[f].length;for(this.nb_PPS_nalus=u.readUint8(),p--,this.PPS=[],f=0;f<this.nb_PPS_nalus;f++)this.PPS[f]={},this.PPS[f].length=u.readUint16(),this.PPS[f].nalu=u.readUint8Array(this.PPS[f].length),p-=2+this.PPS[f].length;p>0&&(this.ext=u.readUint8Array(p))}),l.createBoxCtor("btrt",function(u){this.bufferSizeDB=u.readUint32(),this.maxBitrate=u.readUint32(),this.avgBitrate=u.readUint32()}),l.createFullBoxCtor("ccst",function(u){var f=u.readUint8();this.all_ref_pics_intra=(f&128)==128,this.intra_pred_used=(f&64)==64,this.max_ref_per_pic=(f&63)>>2,u.readUint24()}),l.createBoxCtor("cdef",function(u){var f;for(this.channel_count=u.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],f=0;f<this.channel_count;f++)this.channel_indexes.push(u.readUint16()),this.channel_types.push(u.readUint16()),this.channel_associations.push(u.readUint16())}),l.createBoxCtor("clap",function(u){this.cleanApertureWidthN=u.readUint32(),this.cleanApertureWidthD=u.readUint32(),this.cleanApertureHeightN=u.readUint32(),this.cleanApertureHeightD=u.readUint32(),this.horizOffN=u.readUint32(),this.horizOffD=u.readUint32(),this.vertOffN=u.readUint32(),this.vertOffD=u.readUint32()}),l.createBoxCtor("clli",function(u){this.max_content_light_level=u.readUint16(),this.max_pic_average_light_level=u.readUint16()}),l.createFullBoxCtor("cmex",function(u){this.flags&1&&(this.pos_x=u.readInt32()),this.flags&2&&(this.pos_y=u.readInt32()),this.flags&4&&(this.pos_z=u.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=u.readInt32(),this.quat_y=u.readInt32(),this.quat_z=u.readInt32()):(this.quat_x=u.readInt16(),this.quat_y=u.readInt16(),this.quat_z=u.readInt16()):this.version==1),this.flags&32&&(this.id=u.readUint32())}),l.createFullBoxCtor("cmin",function(u){this.focal_length_x=u.readInt32(),this.principal_point_x=u.readInt32(),this.principal_point_y=u.readInt32(),this.flags&1&&(this.focal_length_y=u.readInt32(),this.skew_factor=u.readInt32())}),l.createBoxCtor("cmpd",function(u){for(this.component_count=u.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var f=u.readUint16();this.component_types.push(f),f>=32768&&this.component_type_urls.push(u.readCString())}}),l.createFullBoxCtor("co64",function(u){var f,p;if(f=u.readUint32(),this.chunk_offsets=[],this.version===0)for(p=0;p<f;p++)this.chunk_offsets.push(u.readUint64())}),l.createFullBoxCtor("CoLL",function(u){this.maxCLL=u.readUint16(),this.maxFALL=u.readUint16()}),l.createBoxCtor("colr",function(u){if(this.colour_type=u.readString(4),this.colour_type==="nclx"){this.colour_primaries=u.readUint16(),this.transfer_characteristics=u.readUint16(),this.matrix_coefficients=u.readUint16();var f=u.readUint8();this.full_range_flag=f>>7}else this.colour_type==="rICC"?this.ICC_profile=u.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=u.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt",function(u){this.parseLanguage(u),this.notice=u.readCString()}),l.createFullBoxCtor("cslg",function(u){this.version===0&&(this.compositionToDTSShift=u.readInt32(),this.leastDecodeToDisplayDelta=u.readInt32(),this.greatestDecodeToDisplayDelta=u.readInt32(),this.compositionStartTime=u.readInt32(),this.compositionEndTime=u.readInt32())}),l.createFullBoxCtor("ctts",function(u){var f,p;if(f=u.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(p=0;p<f;p++){this.sample_counts.push(u.readUint32());var v=u.readInt32();v<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(v)}else if(this.version==1)for(p=0;p<f;p++)this.sample_counts.push(u.readUint32()),this.sample_offsets.push(u.readInt32())}),l.createBoxCtor("dac3",function(u){var f=u.readUint8(),p=u.readUint8(),v=u.readUint8();this.fscod=f>>6,this.bsid=f>>1&31,this.bsmod=(f&1)<<2|p>>6&3,this.acmod=p>>3&7,this.lfeon=p>>2&1,this.bit_rate_code=p&3|v>>5&7}),l.createBoxCtor("dec3",function(u){var f=u.readUint16();this.data_rate=f>>3,this.num_ind_sub=f&7,this.ind_subs=[];for(var p=0;p<this.num_ind_sub+1;p++){var v={};this.ind_subs.push(v);var b=u.readUint8(),w=u.readUint8(),x=u.readUint8();v.fscod=b>>6,v.bsid=b>>1&31,v.bsmod=(b&1)<<4|w>>4&15,v.acmod=w>>1&7,v.lfeon=w&1,v.num_dep_sub=x>>1&15,v.num_dep_sub>0&&(v.chan_loc=(x&1)<<8|u.readUint8())}}),l.createFullBoxCtor("dfLa",function(u){var f=127,p=128,v=[],b=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var w=u.readUint8(),x=Math.min(w&f,b.length-1);if(x?u.readUint8Array(u.readUint24()):(u.readUint8Array(13),this.samplerate=u.readUint32()>>12,u.readUint8Array(20)),v.push(b[x]),w&p)break}while(!0);this.numMetadataBlocks=v.length+" ("+v.join(", ")+")"}),l.createBoxCtor("dimm",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dmax",function(u){this.time=u.readUint32()}),l.createBoxCtor("dmed",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dOps",function(u){if(this.Version=u.readUint8(),this.OutputChannelCount=u.readUint8(),this.PreSkip=u.readUint16(),this.InputSampleRate=u.readUint32(),this.OutputGain=u.readInt16(),this.ChannelMappingFamily=u.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=u.readUint8(),this.CoupledCount=u.readUint8(),this.ChannelMapping=[];for(var f=0;f<this.OutputChannelCount;f++)this.ChannelMapping[f]=u.readUint8()}}),l.createFullBoxCtor("dref",function(u){var f,p;this.entries=[];for(var v=u.readUint32(),b=0;b<v;b++)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)p=f.box,this.entries.push(p);else return}),l.createBoxCtor("drep",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("elng",function(u){this.extended_language=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst",function(u){this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.entries.push(v),this.version===1?(v.segment_duration=u.readUint64(),v.media_time=u.readInt64()):(v.segment_duration=u.readUint32(),v.media_time=u.readInt32()),v.media_rate_integer=u.readInt16(),v.media_rate_fraction=u.readInt16()}}),l.createFullBoxCtor("emsg",function(u){this.version==1?(this.timescale=u.readUint32(),this.presentation_time=u.readUint64(),this.event_duration=u.readUint32(),this.id=u.readUint32(),this.scheme_id_uri=u.readCString(),this.value=u.readCString()):(this.scheme_id_uri=u.readCString(),this.value=u.readCString(),this.timescale=u.readUint32(),this.presentation_time_delta=u.readUint32(),this.event_duration=u.readUint32(),this.id=u.readUint32());var f=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(f-=4),this.message_data=u.readUint8Array(f)}),l.createEntityToGroupCtor=function(u,f){l[u+"Box"]=function(p){l.FullBox.call(this,u,p)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(p){if(this.parseFullHeader(p),f)f.call(this,p);else for(this.group_id=p.readUint32(),this.num_entities_in_group=p.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var v=p.readUint32();this.entity_ids.push(v)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",function(u){this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[];for(var f=0;f<this.num_entities_in_group;f++){var p=u.readUint32();this.entity_ids.push(p)}for(this.tile_size_x=u.readUint16(),this.tile_size_y=u.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],f=0;f<this.num_entities_in_group;f++)this.layer_binning[f]=u.readUint16(),this.tiles_in_layer_row_minus1[f]=u.readUint16(),this.tiles_in_layer_column_minus1[f]=u.readUint16()}),l.createFullBoxCtor("esds",function(u){var f=u.readUint8Array(this.size-this.hdr_size);if(typeof a<"u"){var p=new a;this.esd=p.parseOneDescriptor(new n(f.buffer,0,n.BIG_ENDIAN))}}),l.createBoxCtor("fiel",function(u){this.fieldCount=u.readUint8(),this.fieldOrdering=u.readUint8()}),l.createBoxCtor("frma",function(u){this.data_format=u.readString(4)}),l.createBoxCtor("ftyp",function(u){var f=this.size-this.hdr_size;this.major_brand=u.readString(4),this.minor_version=u.readUint32(),f-=8,this.compatible_brands=[];for(var p=0;f>=4;)this.compatible_brands[p]=u.readString(4),f-=4,p++}),l.createFullBoxCtor("hdlr",function(u){this.version===0&&(u.readUint32(),this.handler=u.readString(4),u.readUint32Array(3),this.name=u.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC",function(u){var f,p,v,b;this.configurationVersion=u.readUint8(),b=u.readUint8(),this.general_profile_space=b>>6,this.general_tier_flag=(b&32)>>5,this.general_profile_idc=b&31,this.general_profile_compatibility=u.readUint32(),this.general_constraint_indicator=u.readUint8Array(6),this.general_level_idc=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,this.chroma_format_idc=u.readUint8()&3,this.bit_depth_luma_minus8=u.readUint8()&7,this.bit_depth_chroma_minus8=u.readUint8()&7,this.avgFrameRate=u.readUint16(),b=u.readUint8(),this.constantFrameRate=b>>6,this.numTemporalLayers=(b&13)>>3,this.temporalIdNested=(b&4)>>2,this.lengthSizeMinusOne=b&3,this.nalu_arrays=[];var w=u.readUint8();for(f=0;f<w;f++){var x=[];this.nalu_arrays.push(x),b=u.readUint8(),x.completeness=(b&128)>>7,x.nalu_type=b&63;var S=u.readUint16();for(p=0;p<S;p++){var A={};x.push(A),v=u.readUint16(),A.data=u.readUint8Array(v)}}}),l.createFullBoxCtor("iinf",function(u){var f;this.version===0?this.entry_count=u.readUint16():this.entry_count=u.readUint32(),this.item_infos=[];for(var p=0;p<this.entry_count;p++)if(f=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),f.code===l.OK)f.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+f.box.type),this.item_infos[p]=f.box;else return}),l.createFullBoxCtor("iloc",function(u){var f;f=u.readUint8(),this.offset_size=f>>4&15,this.length_size=f&15,f=u.readUint8(),this.base_offset_size=f>>4&15,this.version===1||this.version===2?this.index_size=f&15:this.index_size=0,this.items=[];var p=0;if(this.version<2)p=u.readUint16();else if(this.version===2)p=u.readUint32();else throw"version of iloc box not supported";for(var v=0;v<p;v++){var b={};if(this.items.push(b),this.version<2)b.item_ID=u.readUint16();else if(this.version===2)b.item_ID=u.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?b.construction_method=u.readUint16()&15:b.construction_method=0,b.data_reference_index=u.readUint16(),this.base_offset_size){case 0:b.base_offset=0;break;case 4:b.base_offset=u.readUint32();break;case 8:b.base_offset=u.readUint64();break;default:throw"Error reading base offset size"}var w=u.readUint16();b.extents=[];for(var x=0;x<w;x++){var S={};if(b.extents.push(S),this.version===1||this.version===2)switch(this.index_size){case 0:S.extent_index=0;break;case 4:S.extent_index=u.readUint32();break;case 8:S.extent_index=u.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:S.extent_offset=0;break;case 4:S.extent_offset=u.readUint32();break;case 8:S.extent_offset=u.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:S.extent_length=0;break;case 4:S.extent_length=u.readUint32();break;case 8:S.extent_length=u.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir",function(u){var f=u.readUint8();this.reserved=f>>7,this.axis=f&1}),l.createFullBoxCtor("infe",function(u){if((this.version===0||this.version===1)&&(this.item_ID=u.readUint16(),this.item_protection_index=u.readUint16(),this.item_name=u.readCString(),this.content_type=u.readCString(),this.content_encoding=u.readCString()),this.version===1){this.extension_type=u.readString(4),e.warn("BoxParser","Cannot parse extension type"),u.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=u.readUint16():this.version===3&&(this.item_ID=u.readUint32()),this.item_protection_index=u.readUint16(),this.item_type=u.readString(4),this.item_name=u.readCString(),this.item_type==="mime"?(this.content_type=u.readCString(),this.content_encoding=u.readCString()):this.item_type==="uri "&&(this.item_uri_type=u.readCString()))}),l.createFullBoxCtor("ipma",function(u){var f,p;for(entry_count=u.readUint32(),this.associations=[],f=0;f<entry_count;f++){var v={};this.associations.push(v),this.version<1?v.id=u.readUint16():v.id=u.readUint32();var b=u.readUint8();for(v.props=[],p=0;p<b;p++){var w=u.readUint8(),x={};v.props.push(x),x.essential=(w&128)>>7===1,this.flags&1?x.property_index=(w&127)<<8|u.readUint8():x.property_index=w&127}}}),l.createFullBoxCtor("iref",function(u){var f,p;for(this.references=[];u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),f.code===l.OK)this.version===0?p=new l.SingleItemTypeReferenceBox(f.type,f.size,f.hdr_size,f.start):p=new l.SingleItemTypeReferenceBoxLarge(f.type,f.size,f.hdr_size,f.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.warn("BoxParser",p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.references.push(p);else return}),l.createBoxCtor("irot",function(u){this.angle=u.readUint8()&3}),l.createFullBoxCtor("ispe",function(u){this.image_width=u.readUint32(),this.image_height=u.readUint32()}),l.createFullBoxCtor("kind",function(u){this.schemeURI=u.readCString(),this.value=u.readCString()}),l.createFullBoxCtor("leva",function(u){var f=u.readUint8();this.levels=[];for(var p=0;p<f;p++){var v={};this.levels[p]=v,v.track_ID=u.readUint32();var b=u.readUint8();switch(v.padding_flag=b>>7,v.assignment_type=b&127,v.assignment_type){case 0:v.grouping_type=u.readString(4);break;case 1:v.grouping_type=u.readString(4),v.grouping_type_parameter=u.readUint32();break;case 2:break;case 3:break;case 4:v.sub_track_id=u.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lhvC",function(u){var f,p,v;this.configurationVersion=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,v=u.readUint8(),this.numTemporalLayers=(v&13)>>3,this.temporalIdNested=(v&4)>>2,this.lengthSizeMinusOne=v&3,this.nalu_arrays=[];var b=u.readUint8();for(f=0;f<b;f++){var w=[];this.nalu_arrays.push(w),v=u.readUint8(),w.completeness=(v&128)>>7,w.nalu_type=v&63;var x=u.readUint16();for(p=0;p<x;p++){var S={};w.push(S);var A=u.readUint16();S.data=u.readUint8Array(A)}}}),l.createBoxCtor("lsel",function(u){this.layer_id=u.readUint16()}),l.createBoxCtor("maxr",function(u){this.period=u.readUint32(),this.bytes=u.readUint32()});function c(u,f){this.x=u,this.y=f}c.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv",function(u){this.display_primaries=[],this.display_primaries[0]=new c(u.readUint16(),u.readUint16()),this.display_primaries[1]=new c(u.readUint16(),u.readUint16()),this.display_primaries[2]=new c(u.readUint16(),u.readUint16()),this.white_point=new c(u.readUint16(),u.readUint16()),this.max_display_mastering_luminance=u.readUint32(),this.min_display_mastering_luminance=u.readUint32()}),l.createFullBoxCtor("mdhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.parseLanguage(u),u.readUint16()}),l.createFullBoxCtor("mehd",function(u){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=u.readUint64():this.fragment_duration=u.readUint32()}),l.createFullBoxCtor("meta",function(u){this.boxes=[],l.ContainerBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("mfhd",function(u){this.sequence_number=u.readUint32()}),l.createFullBoxCtor("mfro",function(u){this._size=u.readUint32()}),l.createFullBoxCtor("mskC",function(u){this.bits_per_pixel=u.readUint8()}),l.createFullBoxCtor("mvhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.rate=u.readUint32(),this.volume=u.readUint16()>>8,u.readUint16(),u.readUint32Array(2),this.matrix=u.readUint32Array(9),u.readUint32Array(6),this.next_track_id=u.readUint32()}),l.createBoxCtor("npck",function(u){this.packetssent=u.readUint32()}),l.createBoxCtor("nump",function(u){this.packetssent=u.readUint64()}),l.createFullBoxCtor("padb",function(u){var f=u.readUint32();this.padbits=[];for(var p=0;p<Math.floor((f+1)/2);p++)this.padbits=u.readUint8()}),l.createBoxCtor("pasp",function(u){this.hSpacing=u.readUint32(),this.vSpacing=u.readUint32()}),l.createBoxCtor("payl",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt",function(u){this.payloadID=u.readUint32();var f=u.readUint8();this.rtpmap_string=u.readString(f)}),l.createFullBoxCtor("pdin",function(u){var f=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var p=0;p<f;p++)this.rate[p]=u.readUint32(),this.initial_delay[p]=u.readUint32()}),l.createFullBoxCtor("pitm",function(u){this.version===0?this.item_id=u.readUint16():this.item_id=u.readUint32()}),l.createFullBoxCtor("pixi",function(u){var f;for(this.num_channels=u.readUint8(),this.bits_per_channels=[],f=0;f<this.num_channels;f++)this.bits_per_channels[f]=u.readUint8()}),l.createBoxCtor("pmax",function(u){this.bytes=u.readUint32()}),l.createFullBoxCtor("prdi",function(u){if(this.step_count=u.readUint16(),this.item_count=[],this.flags&2)for(var f=0;f<this.step_count;f++)this.item_count[f]=u.readUint16()}),l.createFullBoxCtor("prft",function(u){this.ref_track_id=u.readUint32(),this.ntp_timestamp=u.readUint64(),this.version===0?this.media_time=u.readUint32():this.media_time=u.readUint64()}),l.createFullBoxCtor("pssh",function(u){if(this.system_id=l.parseHex16(u),this.version>0){var f=u.readUint32();this.kid=[];for(var p=0;p<f;p++)this.kid[p]=l.parseHex16(u)}var v=u.readUint32();v>0&&(this.data=u.readUint8Array(v))}),l.createFullBoxCtor("clef",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("enof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("prof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),l.createBoxCtor("rtp ",function(u){this.descriptionformat=u.readString(4),this.sdptext=u.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio",function(u){this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32());var f=u.readUint32();this.offset=[];for(var p=0;p<f;p++)this.version===0?this.offset[p]=u.readUint32():this.offset[p]=u.readUint64()}),l.createFullBoxCtor("saiz",function(u){if(this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32()),this.default_sample_info_size=u.readUint8(),this.sample_count=u.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var f=0;f<this.sample_count;f++)this.sample_info_size[f]=u.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(u){this.parseHeader(u),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.auxiliary_mime_types=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(u){this.parseHeader(u),this.displayFlags=u.readUint32(),this.horizontal_justification=u.readInt8(),this.vertical_justification=u.readInt8(),this.bg_color_rgba=u.readUint8Array(4),this.box_record=u.readInt16Array(4),this.style_record=u.readUint8Array(12),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(u){this.parseHeader(u),this.parseFooter(u)}),l.createSampleGroupCtor("alst",function(u){var f,p=u.readUint16();for(this.first_output_sample=u.readUint16(),this.sample_offset=[],f=0;f<p;f++)this.sample_offset[f]=u.readUint32();var v=this.description_length-4-4*p;for(this.num_output_samples=[],this.num_total_samples=[],f=0;f<v/4;f++)this.num_output_samples[f]=u.readUint16(),this.num_total_samples[f]=u.readUint16()}),l.createSampleGroupCtor("avll",function(u){this.layerNumber=u.readUint8(),this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()}),l.createSampleGroupCtor("avss",function(u){this.subSequenceIdentifier=u.readUint16(),this.layerNumber=u.readUint8();var f=u.readUint8();this.durationFlag=f>>7,this.avgRateFlag=f>>6&1,this.durationFlag&&(this.duration=u.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()),this.dependency=[];for(var p=u.readUint8(),v=0;v<p;v++){var b={};this.dependency.push(b),b.subSeqDirectionFlag=u.readUint8(),b.layerNumber=u.readUint8(),b.subSequenceIdentifier=u.readUint16()}}),l.createSampleGroupCtor("dtrt",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(u){this.roll_distance=u.readInt16()}),l.createSampleGroupCtor("rap ",function(u){var f=u.readUint8();this.num_leading_samples_known=f>>7,this.num_leading_samples=f&127}),l.createSampleGroupCtor("rash",function(u){if(this.operation_point_count=u.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=u.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=u.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var f=0;f<this.operation_point_count;f++)this.available_bitrate[f]=u.readUint32(),this.target_rate_share[f]=u.readUint16()}this.maximum_bitrate=u.readUint32(),this.minimum_bitrate=u.readUint32(),this.discard_priority=u.readUint8()}}),l.createSampleGroupCtor("roll",function(u){this.roll_distance=u.readInt16()}),l.SampleGroupEntry.prototype.parse=function(u){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=u.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(u){this.reserved=u.readUint8();var f=u.readUint8();this.crypt_byte_block=f>>4,this.skip_byte_block=f&15,this.isProtected=u.readUint8(),this.Per_Sample_IV_Size=u.readUint8(),this.KID=l.parseHex16(u),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=u.readUint8(),this.constant_IV=u.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(u){var f=u.readUint8();this.NAL_unit_type=f&63}),l.createSampleGroupCtor("tele",function(u){var f=u.readUint8();this.level_independently_decodable=f>>7}),l.createSampleGroupCtor("tsas",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp",function(u){this.grouping_type=u.readString(4),this.version===1?this.grouping_type_parameter=u.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.entries.push(v),v.sample_count=u.readInt32(),v.group_description_index=u.readInt32()}});function d(u,f){this.bad_pixel_row=u,this.bad_pixel_column=f}d.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm",function(u){var f;for(this.component_count=u.readUint16(),this.component_index=[],f=0;f<this.component_count;f++)this.component_index.push(u.readUint16());var p=u.readUint8();for(this.correction_applied=(p&128)==128,this.num_bad_rows=u.readUint32(),this.num_bad_cols=u.readUint32(),this.num_bad_pixels=u.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],f=0;f<this.num_bad_rows;f++)this.bad_rows.push(u.readUint32());for(f=0;f<this.num_bad_cols;f++)this.bad_columns.push(u.readUint32());for(f=0;f<this.num_bad_pixels;f++){var v=u.readUint32(),b=u.readUint32();this.bad_pixels.push(new d(v,b))}}),l.createFullBoxCtor("schm",function(u){this.scheme_type=u.readString(4),this.scheme_version=u.readUint32(),this.flags&1&&(this.scheme_uri=u.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ",function(u){this.sdptext=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp",function(u){var f,p=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var v=0;v<p;v++)f=u.readUint8(),this.is_leading[v]=f>>6,this.sample_depends_on[v]=f>>4&3,this.sample_is_depended_on[v]=f>>2&3,this.sample_has_redundancy[v]=f&3}),l.createFullBoxCtor("senc"),l.createFullBoxCtor("sgpd",function(u){this.grouping_type=u.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=u.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=u.readUint32()),this.entries=[];for(var f=u.readUint32(),p=0;p<f;p++){var v;l[this.grouping_type+"SampleGroupEntry"]?v=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):v=new l.SampleGroupEntry(this.grouping_type),this.entries.push(v),this.version===1?this.default_length===0?v.description_length=u.readUint32():v.description_length=this.default_length:v.description_length=this.default_length,v.write===l.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),v.data=u.readUint8Array(v.description_length),u.position-=v.description_length),v.parse(u)}}),l.createFullBoxCtor("sidx",function(u){this.reference_ID=u.readUint32(),this.timescale=u.readUint32(),this.version===0?(this.earliest_presentation_time=u.readUint32(),this.first_offset=u.readUint32()):(this.earliest_presentation_time=u.readUint64(),this.first_offset=u.readUint64()),u.readUint16(),this.references=[];for(var f=u.readUint16(),p=0;p<f;p++){var v={};this.references.push(v);var b=u.readUint32();v.reference_type=b>>31&1,v.referenced_size=b&2147483647,v.subsegment_duration=u.readUint32(),b=u.readUint32(),v.starts_with_SAP=b>>31&1,v.SAP_type=b>>28&7,v.SAP_delta_time=b&268435455}}),l.SingleItemTypeReferenceBox=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(u){this.from_item_ID=u.readUint16();var f=u.readUint16();this.references=[];for(var p=0;p<f;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(u){this.from_item_ID=u.readUint32();var f=u.readUint16();this.references=[];for(var p=0;p<f;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint32()},l.createFullBoxCtor("SmDm",function(u){this.primaryRChromaticity_x=u.readUint16(),this.primaryRChromaticity_y=u.readUint16(),this.primaryGChromaticity_x=u.readUint16(),this.primaryGChromaticity_y=u.readUint16(),this.primaryBChromaticity_x=u.readUint16(),this.primaryBChromaticity_y=u.readUint16(),this.whitePointChromaticity_x=u.readUint16(),this.whitePointChromaticity_y=u.readUint16(),this.luminanceMax=u.readUint32(),this.luminanceMin=u.readUint32()}),l.createFullBoxCtor("smhd",function(u){this.balance=u.readUint16(),u.readUint16()}),l.createFullBoxCtor("ssix",function(u){this.subsegments=[];for(var f=u.readUint32(),p=0;p<f;p++){var v={};this.subsegments.push(v),v.ranges=[];for(var b=u.readUint32(),w=0;w<b;w++){var x={};v.ranges.push(x),x.level=u.readUint8(),x.range_size=u.readUint24()}}}),l.createFullBoxCtor("stco",function(u){var f;if(f=u.readUint32(),this.chunk_offsets=[],this.version===0)for(var p=0;p<f;p++)this.chunk_offsets.push(u.readUint32())}),l.createFullBoxCtor("stdp",function(u){var f=(this.size-this.hdr_size)/2;this.priority=[];for(var p=0;p<f;p++)this.priority[p]=u.readUint16()}),l.createFullBoxCtor("sthd"),l.createFullBoxCtor("stri",function(u){this.switch_group=u.readUint16(),this.alternate_group=u.readUint16(),this.sub_track_id=u.readUint32();var f=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var p=0;p<f;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("stsc",function(u){var f,p;if(f=u.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(p=0;p<f;p++)this.first_chunk.push(u.readUint32()),this.samples_per_chunk.push(u.readUint32()),this.sample_description_index.push(u.readUint32())}),l.createFullBoxCtor("stsd",function(u){var f,p,v,b;for(this.entries=[],v=u.readUint32(),f=1;f<=v;f++)if(p=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),p.code===l.OK)l[p.type+"SampleEntry"]?(b=new l[p.type+"SampleEntry"](p.size),b.hdr_size=p.hdr_size,b.start=p.start):(e.warn("BoxParser","Unknown sample entry type: "+p.type),b=new l.SampleEntry(p.type,p.size,p.hdr_size,p.start)),b.write===l.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+b.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),b.parseDataAndRewind(u)),b.parse(u),this.entries.push(b);else return}),l.createFullBoxCtor("stsg",function(u){this.grouping_type=u.readUint32();var f=u.readUint16();this.group_description_index=[];for(var p=0;p<f;p++)this.group_description_index[p]=u.readUint32()}),l.createFullBoxCtor("stsh",function(u){var f,p;if(f=u.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(p=0;p<f;p++)this.shadowed_sample_numbers.push(u.readUint32()),this.sync_sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stss",function(u){var f,p;if(p=u.readUint32(),this.version===0)for(this.sample_numbers=[],f=0;f<p;f++)this.sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stsz",function(u){var f;if(this.sample_sizes=[],this.version===0)for(this.sample_size=u.readUint32(),this.sample_count=u.readUint32(),f=0;f<this.sample_count;f++)this.sample_size===0?this.sample_sizes.push(u.readUint32()):this.sample_sizes[f]=this.sample_size}),l.createFullBoxCtor("stts",function(u){var f,p,v;if(f=u.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(p=0;p<f;p++)this.sample_counts.push(u.readUint32()),v=u.readInt32(),v<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),v=1),this.sample_deltas.push(v)}),l.createFullBoxCtor("stvi",function(u){var f=u.readUint32();this.single_view_allowed=f&3,this.stereo_scheme=u.readUint32();var p=u.readUint32();this.stereo_indication_type=u.readString(p);var v,b;for(this.boxes=[];u.getPosition()<this.start+this.size;)if(v=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),v.code===l.OK)b=v.box,this.boxes.push(b),this[b.type]=b;else return}),l.createBoxCtor("styp",function(u){l.ftypBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("stz2",function(u){var f,p;if(this.sample_sizes=[],this.version===0)if(this.reserved=u.readUint24(),this.field_size=u.readUint8(),p=u.readUint32(),this.field_size===4)for(f=0;f<p;f+=2){var v=u.readUint8();this.sample_sizes[f]=v>>4&15,this.sample_sizes[f+1]=v&15}else if(this.field_size===8)for(f=0;f<p;f++)this.sample_sizes[f]=u.readUint8();else if(this.field_size===16)for(f=0;f<p;f++)this.sample_sizes[f]=u.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs",function(u){var f,p,v,b;for(v=u.readUint32(),this.entries=[],f=0;f<v;f++){var w={};if(this.entries[f]=w,w.sample_delta=u.readUint32(),w.subsamples=[],b=u.readUint16(),b>0)for(p=0;p<b;p++){var x={};w.subsamples.push(x),this.version==1?x.size=u.readUint32():x.size=u.readUint16(),x.priority=u.readUint8(),x.discardable=u.readUint8(),x.codec_specific_parameters=u.readUint32()}}}),l.createFullBoxCtor("tenc",function(u){if(u.readUint8(),this.version===0)u.readUint8();else{var f=u.readUint8();this.default_crypt_byte_block=f>>4&15,this.default_skip_byte_block=f&15}this.default_isProtected=u.readUint8(),this.default_Per_Sample_IV_Size=u.readUint8(),this.default_KID=l.parseHex16(u),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=u.readUint8(),this.default_constant_IV=u.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt",function(u){this.version==1?this.baseMediaDecodeTime=u.readUint64():this.baseMediaDecodeTime=u.readUint32()}),l.createFullBoxCtor("tfhd",function(u){var f=0;this.track_id=u.readUint32(),this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=u.readUint64(),f+=8):this.base_data_offset=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=u.readUint32(),f+=4):this.default_sample_description_index=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=u.readUint32(),f+=4):this.default_sample_duration=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=u.readUint32(),f+=4):this.default_sample_size=0,this.size-this.hdr_size>f&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=u.readUint32(),f+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra",function(u){this.track_ID=u.readUint32(),u.readUint24();var f=u.readUint8();this.length_size_of_traf_num=f>>4&3,this.length_size_of_trun_num=f>>2&3,this.length_size_of_sample_num=f&3,this.entries=[];for(var p=u.readUint32(),v=0;v<p;v++)this.version===1?(this.time=u.readUint64(),this.moof_offset=u.readUint64()):(this.time=u.readUint32(),this.moof_offset=u.readUint32()),this.traf_number=u["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=u["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=u["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint32()),u.readUint32Array(2),this.layer=u.readInt16(),this.alternate_group=u.readInt16(),this.volume=u.readInt16()>>8,u.readUint16(),this.matrix=u.readInt32Array(9),this.width=u.readUint32(),this.height=u.readUint32()}),l.createBoxCtor("tmax",function(u){this.time=u.readUint32()}),l.createBoxCtor("tmin",function(u){this.time=u.readUint32()}),l.createBoxCtor("totl",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpay",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpyl",function(u){this.bytessent=u.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(u){this.parseFullHeader(u),this.track_group_id=u.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(u,f,p,v){l.Box.call(this,u,f),this.hdr_size=p,this.start=v},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(u){this.track_ids=u.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(u){for(var f,p;u.getPosition()<this.start+this.size;)if(f=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),f.code===l.OK)p=new l.TrackReferenceTypeBox(f.type,f.size,f.hdr_size,f.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.info("BoxParser","TrackReference "+p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.boxes.push(p);else return},l.createFullBoxCtor("trep",function(u){for(this.track_ID=u.readUint32(),this.boxes=[];u.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex",function(u){this.track_id=u.readUint32(),this.default_sample_description_index=u.readUint32(),this.default_sample_duration=u.readUint32(),this.default_sample_size=u.readUint32(),this.default_sample_flags=u.readUint32()}),l.createBoxCtor("trpy",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("trun",function(u){var f=0;if(this.sample_count=u.readUint32(),f+=4,this.size-this.hdr_size>f&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=u.readInt32(),f+=4):this.data_offset=0,this.size-this.hdr_size>f&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=u.readUint32(),f+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>f)for(var p=0;p<this.sample_count;p++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[p]=u.readUint32():this.sample_composition_time_offset[p]=u.readInt32())}),l.createFullBoxCtor("tsel",function(u){this.switch_group=u.readUint32();var f=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var p=0;p<f;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("txtC",function(u){this.config=u.readCString()}),l.createBoxCtor("tyco",function(u){var f=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var p=0;p<f;p++)this.compatible_brands[p]=u.readString(4)}),l.createFullBoxCtor("udes",function(u){this.lang=u.readCString(),this.name=u.readCString(),this.description=u.readCString(),this.tags=u.readCString()}),l.createFullBoxCtor("uncC",function(u){var f;if(this.profile=u.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=u.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],f=0;f<this.component_count;f++)this.component_index.push(u.readUint16()),this.component_bit_depth_minus_one.push(u.readUint8()),this.component_format.push(u.readUint8()),this.component_align_size.push(u.readUint8());this.sampling_type=u.readUint8(),this.interleave_type=u.readUint8(),this.block_size=u.readUint8();var p=u.readUint8();this.component_little_endian=p>>7&1,this.block_pad_lsb=p>>6&1,this.block_little_endian=p>>5&1,this.block_reversed=p>>4&1,this.pad_unknown=p>>3&1,this.pixel_size=u.readUint32(),this.row_align_size=u.readUint32(),this.tile_align_size=u.readUint32(),this.num_tile_cols_minus_one=u.readUint32(),this.num_tile_rows_minus_one=u.readUint32()}}}),l.createFullBoxCtor("url ",function(u){this.flags!==1&&(this.location=u.readCString())}),l.createFullBoxCtor("urn ",function(u){this.name=u.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=u.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(u){this.LiveServerManifest=u.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(u){this.system_id=l.parseHex16(u);var f=u.readUint32();f>0&&(this.data=u.readUint8Array(f))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(u){this.default_AlgorithmID=u.readUint24(),this.default_IV_size=u.readUint8(),this.default_KID=l.parseHex16(u)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(u){this.fragment_count=u.readUint8(),this.entries=[];for(var f=0;f<this.fragment_count;f++){var p={},v=0,b=0;this.version===1?(v=u.readUint64(),b=u.readUint64()):(v=u.readUint32(),b=u.readUint32()),p.absolute_time=v,p.absolute_duration=b,this.entries.push(p)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(u){this.version===1?(this.absolute_time=u.readUint64(),this.duration=u.readUint64()):(this.absolute_time=u.readUint32(),this.duration=u.readUint32())}),l.createFullBoxCtor("vmhd",function(u){this.graphicsmode=u.readUint16(),this.opcolor=u.readUint16Array(3)}),l.createFullBoxCtor("vpcC",function(u){var f;this.version===1?(this.profile=u.readUint8(),this.level=u.readUint8(),f=u.readUint8(),this.bitDepth=f>>4,this.chromaSubsampling=f>>1&7,this.videoFullRangeFlag=f&1,this.colourPrimaries=u.readUint8(),this.transferCharacteristics=u.readUint8(),this.matrixCoefficients=u.readUint8(),this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize)):(this.profile=u.readUint8(),this.level=u.readUint8(),f=u.readUint8(),this.bitDepth=f>>4&15,this.colorSpace=f&15,f=u.readUint8(),this.chromaSubsampling=f>>4&15,this.transferFunction=f>>1&7,this.videoFullRangeFlag=f&1,this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC",function(u){var f,p,v={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(P){this.held_bits=P.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(P){this.held_bits=P.readUint16(),this.num_held_bits=16},extract_bits:function(P){var O=this.held_bits>>this.num_held_bits-P&(1<<P)-1;return this.num_held_bits-=P,O}};if(v.stream_read_1_bytes(u),v.extract_bits(5),this.lengthSizeMinusOne=v.extract_bits(2),this.ptl_present_flag=v.extract_bits(1),this.ptl_present_flag){v.stream_read_2_bytes(u),this.ols_idx=v.extract_bits(9),this.num_sublayers=v.extract_bits(3),this.constant_frame_rate=v.extract_bits(2),this.chroma_format_idc=v.extract_bits(2),v.stream_read_1_bytes(u),this.bit_depth_minus8=v.extract_bits(3),v.extract_bits(5);{if(v.stream_read_2_bytes(u),v.extract_bits(2),this.num_bytes_constraint_info=v.extract_bits(6),this.general_profile_idc=v.extract_bits(7),this.general_tier_flag=v.extract_bits(1),this.general_level_idc=u.readUint8(),v.stream_read_1_bytes(u),this.ptl_frame_only_constraint_flag=v.extract_bits(1),this.ptl_multilayer_enabled_flag=v.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(f=0;f<this.num_bytes_constraint_info-1;f++){var b=v.extract_bits(6);v.stream_read_1_bytes(u);var w=v.extract_bits(2);this.general_constraint_info[f]=b<<2|w}this.general_constraint_info[this.num_bytes_constraint_info-1]=v.extract_bits(6)}else v.extract_bits(6);if(this.num_sublayers>1){for(v.stream_read_1_bytes(u),this.ptl_sublayer_present_mask=0,p=this.num_sublayers-2;p>=0;--p){var x=v.extract_bits(1);this.ptl_sublayer_present_mask|=x<<p}for(p=this.num_sublayers;p<=8&&this.num_sublayers>1;++p)v.extract_bits(1);for(this.sublayer_level_idc=[],p=this.num_sublayers-2;p>=0;--p)this.ptl_sublayer_present_mask&1<<p&&(this.sublayer_level_idc[p]=u.readUint8())}if(this.ptl_num_sub_profiles=u.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(f=0;f<this.ptl_num_sub_profiles;f++)this.general_sub_profile_idc.push(u.readUint32())}this.max_picture_width=u.readUint16(),this.max_picture_height=u.readUint16(),this.avg_frame_rate=u.readUint16()}var S=12,A=13;this.nalu_arrays=[];var D=u.readUint8();for(f=0;f<D;f++){var C=[];this.nalu_arrays.push(C),v.stream_read_1_bytes(u),C.completeness=v.extract_bits(1),v.extract_bits(2),C.nalu_type=v.extract_bits(5);var T=1;for(C.nalu_type!=A&&C.nalu_type!=S&&(T=u.readUint16()),p=0;p<T;p++){var R=u.readUint16();C.push({data:u.readUint8Array(R),length:R})}}}),l.createFullBoxCtor("vvnC",function(u){var f=strm.readUint8();this.lengthSizeMinusOne=f&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(u,f){var p=Number(u).toString(16);for(f=typeof f>"u"||f===null?f=2:f;p.length<f;)p="0"+p;return p},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?u+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):u},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var u,f=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(f+=".",this.hvcC.general_profile_space){case 0:f+="";break;case 1:f+="A";break;case 2:f+="B";break;case 3:f+="C";break}f+=this.hvcC.general_profile_idc,f+=".";var p=this.hvcC.general_profile_compatibility,v=0;for(u=0;u<32&&(v|=p&1,u!=31);u++)v<<=1,p>>=1;f+=l.decimalToHex(v,0),f+=".",this.hvcC.general_tier_flag===0?f+="L":f+="H",f+=this.hvcC.general_level_idc;var b=!1,w="";for(u=5;u>=0;u--)(this.hvcC.general_constraint_indicator[u]||b)&&(w="."+l.decimalToHex(this.hvcC.general_constraint_indicator[u],0)+w,b=!0);f+=w}return f},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var u,f=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){f+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?f+=".H":f+=".L",f+=this.vvcC.general_level_idc;var p="";if(this.vvcC.general_constraint_info){var v=[],b=0;b|=this.vvcC.ptl_frame_only_constraint<<7,b|=this.vvcC.ptl_multilayer_enabled<<6;var w;for(u=0;u<this.vvcC.general_constraint_info.length;++u)b|=this.vvcC.general_constraint_info[u]>>2&63,v.push(b),b&&(w=u),b=this.vvcC.general_constraint_info[u]>>2&3;if(w===void 0)p=".CA";else{p=".C";var x="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",S=0,A=0;for(u=0;u<=w;++u)for(S=S<<8|v[u],A+=8;A>=5;){var D=S>>A-5&31;p+=x[D],A-=5,S&=(1<<A)-1}A&&(S<<=5-A,p+=x[S&31])}}f+=p}return f},l.mp4aSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var f=this.esds.esd.getOTI(),p=this.esds.esd.getAudioConfig();return u+"."+l.decimalToHex(f)+(p?"."+p:"")}else return u},l.stxtSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?u+"."+this.mime_format:u},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),f=this.vpcC.level;f==0&&(f="00");var p=this.vpcC.bitDepth;return p==8&&(p="08"),u+".0"+this.vpcC.profile+"."+f+"."+p},l.av01SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),f=this.av1C.seq_level_idx_0;f<10&&(f="0"+f);var p;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?p=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(p=this.av1C.high_bitdepth===1?"10":"08"),u+"."+this.av1C.seq_profile+"."+f+(this.av1C.seq_tier_0?"H":"M")+"."+p},l.Box.prototype.writeHeader=function(u,f){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+u.getPosition()+(f||"")),this.size>s?u.writeUint32(1):(this.sizePosition=u.getPosition(),u.writeUint32(this.size)),u.writeString(this.type,null,4),this.type==="uuid"&&u.writeUint8Array(this.uuid),this.size>s&&u.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(u){this.size+=4,l.Box.prototype.writeHeader.call(this,u," v="+this.version+" f="+this.flags),u.writeUint8(this.version),u.writeUint24(this.flags)},l.Box.prototype.write=function(u){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(u),u.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(u),this.data&&u.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(u){this.size=0,this.writeHeader(u);for(var f=0;f<this.boxes.length;f++)this.boxes[f]&&(this.boxes[f].write(u),this.size+=this.boxes[f].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(u){this.size=this.track_ids.length*4,this.writeHeader(u),u.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(u){var f;for(this.size=7,f=0;f<this.SPS.length;f++)this.size+=2+this.SPS[f].length;for(f=0;f<this.PPS.length;f++)this.size+=2+this.PPS[f].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8(this.AVCProfileIndication),u.writeUint8(this.profile_compatibility),u.writeUint8(this.AVCLevelIndication),u.writeUint8(this.lengthSizeMinusOne+252),u.writeUint8(this.SPS.length+224),f=0;f<this.SPS.length;f++)u.writeUint16(this.SPS[f].length),u.writeUint8Array(this.SPS[f].nalu);for(u.writeUint8(this.PPS.length),f=0;f<this.PPS.length;f++)u.writeUint16(this.PPS[f].length),u.writeUint8Array(this.PPS[f].nalu);this.ext&&u.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),f=0;f<this.chunk_offsets.length;f++)u.writeUint64(this.chunk_offsets[f])},l.cslgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeInt32(this.compositionToDTSShift),u.writeInt32(this.leastDecodeToDisplayDelta),u.writeInt32(this.greatestDecodeToDisplayDelta),u.writeInt32(this.compositionStartTime),u.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),f=0;f<this.sample_counts.length;f++)u.writeUint32(this.sample_counts[f]),this.version===1?u.writeInt32(this.sample_offsets[f]):u.writeUint32(this.sample_offsets[f])},l.drefBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++)this.entries[f].write(u),this.size+=this.entries[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(u),u.writeString(this.extended_language)},l.elstBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(u),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++){var p=this.entries[f];u.writeUint32(p.segment_duration),u.writeInt32(p.media_time),u.writeInt16(p.media_rate_integer),u.writeInt16(p.media_rate_fraction)}},l.emsgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(u),u.writeCString(this.scheme_id_uri),u.writeCString(this.value),u.writeUint32(this.timescale),u.writeUint32(this.presentation_time_delta),u.writeUint32(this.event_duration),u.writeUint32(this.id),u.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(u){this.size=8+4*this.compatible_brands.length,this.writeHeader(u),u.writeString(this.major_brand,null,4),u.writeUint32(this.minor_version);for(var f=0;f<this.compatible_brands.length;f++)u.writeString(this.compatible_brands[f],null,4)},l.hdlrBox.prototype.write=function(u){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(u),u.writeUint32(0),u.writeString(this.handler,null,4),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeCString(this.name)},l.hvcCBox.prototype.write=function(u){var f,p;for(this.size=23,f=0;f<this.nalu_arrays.length;f++)for(this.size+=3,p=0;p<this.nalu_arrays[f].length;p++)this.size+=2+this.nalu_arrays[f][p].data.length;for(this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),u.writeUint32(this.general_profile_compatibility),u.writeUint8Array(this.general_constraint_indicator),u.writeUint8(this.general_level_idc),u.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),u.writeUint8(this.parallelismType+252),u.writeUint8(this.chroma_format_idc+252),u.writeUint8(this.bit_depth_luma_minus8+248),u.writeUint8(this.bit_depth_chroma_minus8+248),u.writeUint16(this.avgFrameRate),u.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),u.writeUint8(this.nalu_arrays.length),f=0;f<this.nalu_arrays.length;f++)for(u.writeUint8((this.nalu_arrays[f].completeness<<7)+this.nalu_arrays[f].nalu_type),u.writeUint16(this.nalu_arrays[f].length),p=0;p<this.nalu_arrays[f].length;p++)u.writeUint16(this.nalu_arrays[f][p].data.length),u.writeUint8Array(this.nalu_arrays[f][p].data)},l.kindBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(u),u.writeCString(this.schemeURI),u.writeCString(this.value)},l.mdhdBox.prototype.write=function(u){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint16(this.language),u.writeUint16(0)},l.mehdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint32(this.rate),u.writeUint16(this.volume<<8),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32Array(this.matrix),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(u){this.size=8,l.Box.prototype.writeHeader.call(this,u),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(u){for(var f=0;f<this.boxes.length;f++)this.boxes[f].write(u),this.size+=this.boxes[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(u){this.writeHeader(u),u.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*7+6*4+32,u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.width),u.writeUint16(this.height),u.writeUint32(this.horizresolution),u.writeUint32(this.vertresolution),u.writeUint32(0),u.writeUint16(this.frame_count),u.writeUint8(Math.min(31,this.compressorname.length)),u.writeString(this.compressorname,null,31),u.writeUint16(this.depth),u.writeInt16(-1),this.writeFooter(u)},l.AudioSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*4+3*4,u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.channel_count),u.writeUint16(this.samplesize),u.writeUint16(0),u.writeUint16(0),u.writeUint32(this.samplerate<<16),this.writeFooter(u)},l.stppSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,u.writeCString(this.namespace),u.writeCString(this.schema_location),u.writeCString(this.auxiliary_mime_types),this.writeFooter(u)},l.SampleGroupEntry.prototype.write=function(u){u.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(u){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(u),u.writeString(this.grouping_type,null,4),u.writeUint32(this.grouping_type_parameter),u.writeUint32(this.entries.length);for(var f=0;f<this.entries.length;f++){var p=this.entries[f];u.writeInt32(p.sample_count),u.writeInt32(p.group_description_index)}},l.sgpdBox.prototype.write=function(u){var f,p;for(this.flags=0,this.size=12,f=0;f<this.entries.length;f++)p=this.entries[f],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=p.data.length);for(this.writeHeader(u),u.writeString(this.grouping_type,null,4),this.version===1&&u.writeUint32(this.default_length),this.version>=2&&u.writeUint32(this.default_sample_description_index),u.writeUint32(this.entries.length),f=0;f<this.entries.length;f++)p=this.entries[f],this.version===1&&this.default_length===0&&u.writeUint32(p.description_length),p.write(u)},l.sidxBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(u),u.writeUint32(this.reference_ID),u.writeUint32(this.timescale),u.writeUint32(this.earliest_presentation_time),u.writeUint32(this.first_offset),u.writeUint16(0),u.writeUint16(this.references.length);for(var f=0;f<this.references.length;f++){var p=this.references[f];u.writeUint32(p.reference_type<<31|p.referenced_size),u.writeUint32(p.subsegment_duration),u.writeUint32(p.starts_with_SAP<<31|p.SAP_type<<28|p.SAP_delta_time)}},l.smhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=4,this.writeHeader(u),u.writeUint16(this.balance),u.writeUint16(0)},l.stcoBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),u.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(u),u.writeUint32(this.first_chunk.length),f=0;f<this.first_chunk.length;f++)u.writeUint32(this.first_chunk[f]),u.writeUint32(this.samples_per_chunk[f]),u.writeUint32(this.sample_description_index[f])},l.stsdBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(u),u.writeUint32(this.entries.length),this.size+=4,f=0;f<this.entries.length;f++)this.entries[f].write(u),this.size+=this.entries[f].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(u),u.writeUint32(this.shadowed_sample_numbers.length),f=0;f<this.shadowed_sample_numbers.length;f++)u.writeUint32(this.shadowed_sample_numbers[f]),u.writeUint32(this.sync_sample_numbers[f])},l.stssBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(u),u.writeUint32(this.sample_numbers.length),u.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(u){var f,p=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(f=0;f+1<this.sample_sizes.length;)if(this.sample_sizes[f+1]!==this.sample_sizes[0]){p=!1;break}else f++;else p=!1;this.size=8,p||(this.size+=4*this.sample_sizes.length),this.writeHeader(u),p?u.writeUint32(this.sample_sizes[0]):u.writeUint32(0),u.writeUint32(this.sample_sizes.length),p||u.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(u){var f;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),f=0;f<this.sample_counts.length;f++)u.writeUint32(this.sample_counts[f]),u.writeUint32(this.sample_deltas[f])},l.tfdtBox.prototype.write=function(u){var f=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>f?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(u),this.version===1?u.writeUint64(this.baseMediaDecodeTime):u.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(u),u.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&u.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&u.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&u.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&u.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&u.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(u){this.version=0,this.size=4*18+2*4,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.track_id),u.writeUint32(0),u.writeUint32(this.duration),u.writeUint32(0),u.writeUint32(0),u.writeInt16(this.layer),u.writeInt16(this.alternate_group),u.writeInt16(this.volume<<8),u.writeUint16(0),u.writeInt32Array(this.matrix),u.writeUint32(this.width),u.writeUint32(this.height)},l.trexBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeUint32(this.track_id),u.writeUint32(this.default_sample_description_index),u.writeUint32(this.default_sample_duration),u.writeUint32(this.default_sample_size),u.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(u),u.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=u.getPosition(),u.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&u.writeUint32(this.first_sample_flags);for(var f=0;f<this.sample_count;f++)this.flags&l.TRUN_FLAGS_DURATION&&u.writeUint32(this.sample_duration[f]),this.flags&l.TRUN_FLAGS_SIZE&&u.writeUint32(this.sample_size[f]),this.flags&l.TRUN_FLAGS_FLAGS&&u.writeUint32(this.sample_flags[f]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?u.writeUint32(this.sample_composition_time_offset[f]):u.writeInt32(this.sample_composition_time_offset[f]))},l["url Box"].prototype.write=function(u){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(u),this.location&&u.writeCString(this.location)},l["urn Box"].prototype.write=function(u){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(u),u.writeCString(this.name),this.location&&u.writeCString(this.location)},l.vmhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=8,this.writeHeader(u),u.writeUint16(this.graphicsmode),u.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(u){var f,p,v;for(v=0,f=0;f<this.sample_counts.length;f++)for(p=0;p<this.sample_counts[f];p++)u[v].pts=u[v].dts+this.sample_offsets[f],v++},l.sttsBox.prototype.unpack=function(u){var f,p,v;for(v=0,f=0;f<this.sample_counts.length;f++)for(p=0;p<this.sample_counts[f];p++)v===0?u[v].dts=0:u[v].dts=u[v-1].dts+this.sample_deltas[f],v++},l.stcoBox.prototype.unpack=function(u){var f;for(f=0;f<this.chunk_offsets.length;f++)u[f].offset=this.chunk_offsets[f]},l.stscBox.prototype.unpack=function(u){var f,p,v,b,w;for(b=0,w=0,f=0;f<this.first_chunk.length;f++)for(p=0;p<(f+1<this.first_chunk.length?this.first_chunk[f+1]:1/0);p++)for(w++,v=0;v<this.samples_per_chunk[f];v++){if(u[b])u[b].description_index=this.sample_description_index[f],u[b].chunk_index=w;else return;b++}},l.stszBox.prototype.unpack=function(u){var f;for(f=0;f<this.sample_sizes.length;f++)u[f].size=this.sample_sizes[f]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(u,f){if(u&&!f)return!1;var p;for(p in u)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(p)>-1)){if(u[p]instanceof l.Box||f[p]instanceof l.Box)continue;if(typeof u[p]>"u"||typeof f[p]>"u")continue;if(typeof u[p]=="function"||typeof f[p]=="function")continue;if(u.subBoxNames&&u.subBoxNames.indexOf(p.slice(0,4))>-1||f.subBoxNames&&f.subBoxNames.indexOf(p.slice(0,4))>-1)continue;if(p==="data"||p==="start"||p==="size"||p==="creation_time"||p==="modification_time")continue;if(l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(p)>-1)continue;if(u[p]!==f[p])return!1}return!0},l.boxEqual=function(u,f){if(!l.boxEqualFields(u,f))return!1;for(var p=0;p<l.DIFF_BOXES_PROP_NAMES.length;p++){var v=l.DIFF_BOXES_PROP_NAMES[p];if(u[v]&&f[v]&&!l.boxEqual(u[v],f[v]))return!1}return!0};var h=function(){};h.prototype.parseSample=function(u){var f,p,v=new r(u.buffer);for(f=[];!v.isEos();)p=l.parseOneBox(v,!1),p.code===l.OK&&p.box.type==="vttc"&&f.push(p.box);return f},h.prototype.getText=function(u,f,p){function v(D,C,T){return T=T||"0",D=D+"",D.length>=C?D:new Array(C-D.length+1).join(T)+D}function b(D){var C=Math.floor(D/3600),T=Math.floor((D-C*3600)/60),R=Math.floor(D-C*3600-T*60),P=Math.floor((D-C*3600-T*60-R)*1e3);return""+v(C,2)+":"+v(T,2)+":"+v(R,2)+"."+v(P,3)}for(var w=this.parseSample(p),x="",S=0;S<w.length;S++){var A=w[S];x+=b(u)+" --> "+b(f)+"\r\n",x+=A.payl.text}return x};var m=function(){};m.prototype.parseSample=function(u){var f={},p;f.resources=[];var v=new r(u.data.buffer);if(!u.subsamples||u.subsamples.length===0)f.documentString=v.readString(u.data.length);else if(f.documentString=v.readString(u.subsamples[0].size),u.subsamples.length>1)for(p=1;p<u.subsamples.length;p++)f.resources[p]=v.readUint8Array(u.subsamples[p].size);return typeof DOMParser<"u"&&(f.document=new DOMParser().parseFromString(f.documentString,"application/xml")),f};var g=function(){};g.prototype.parseSample=function(u){var f,p=new r(u.data.buffer);return f=p.readString(u.data.length),f},g.prototype.parseConfig=function(u){var f,p=new r(u.buffer);return p.readUint32(),f=p.readCString(),f},t.VTTin4Parser=h,t.XMLSubtitlein4Parser=m,t.Textin4Parser=g;var y=function(u){this.stream=u||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};y.prototype.setSegmentOptions=function(u,f,p){var v=this.getTrackById(u);if(v){var b={};this.fragmentedTracks.push(b),b.id=u,b.user=f,b.trak=v,v.nextSample=0,b.segmentStream=null,b.nb_samples=1e3,b.rapAlignement=!0,p&&(p.nbSamples&&(b.nb_samples=p.nbSamples),p.rapAlignement&&(b.rapAlignement=p.rapAlignement))}},y.prototype.unsetSegmentOptions=function(u){for(var f=-1,p=0;p<this.fragmentedTracks.length;p++){var v=this.fragmentedTracks[p];v.id==u&&(f=p)}f>-1&&this.fragmentedTracks.splice(f,1)},y.prototype.setExtractionOptions=function(u,f,p){var v=this.getTrackById(u);if(v){var b={};this.extractedTracks.push(b),b.id=u,b.user=f,b.trak=v,v.nextSample=0,b.nb_samples=1e3,b.samples=[],p&&p.nbSamples&&(b.nb_samples=p.nbSamples)}},y.prototype.unsetExtractionOptions=function(u){for(var f=-1,p=0;p<this.extractedTracks.length;p++){var v=this.extractedTracks[p];v.id==u&&(f=p)}f>-1&&this.extractedTracks.splice(f,1)},y.prototype.parse=function(){var u,f,p=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),u=l.parseOneBox(this.stream,p),u.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}else return;else{var v;switch(f=u.box,v=f.type!=="uuid"?f.type:f.uuid,this.boxes.push(f),v){case"mdat":this.mdats.push(f);break;case"moof":this.moofs.push(f);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[v]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+v+", overriding previous occurrence"),this[v]=f;break}this.updateUsedBytes&&this.updateUsedBytes(f,u)}},y.prototype.checkBuffer=function(u){if(u==null)throw"Buffer must be defined and non empty";if(u.fileStart===void 0)throw"Buffer must have a fileStart property";return u.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+u.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+u.fileStart+")"),u.usedBytes=0,this.stream.insertBuffer(u),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},y.prototype.appendBuffer=function(u,f){var p;if(this.checkBuffer(u))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(f),this.nextSeekPosition?(p=this.nextSeekPosition,this.nextSeekPosition=void 0):p=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(p=this.stream.getEndFilePositionAfter(p))):this.nextParsePosition?p=this.nextParsePosition:p=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+u.fileStart+") - next buffer to fetch should have a fileStart position of "+p),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),p},y.prototype.getInfo=function(){var u,f,p={},v,b,w,x,S=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(p.hasMoov=!0,p.duration=this.moov.mvhd.duration,p.timescale=this.moov.mvhd.timescale,p.isFragmented=this.moov.mvex!=null,p.isFragmented&&this.moov.mvex.mehd&&(p.fragment_duration=this.moov.mvex.mehd.fragment_duration),p.isProgressive=this.isProgressive,p.hasIOD=this.moov.iods!=null,p.brands=[],p.brands.push(this.ftyp.major_brand),p.brands=p.brands.concat(this.ftyp.compatible_brands),p.created=new Date(S+this.moov.mvhd.creation_time*1e3),p.modified=new Date(S+this.moov.mvhd.modification_time*1e3),p.tracks=[],p.audioTracks=[],p.videoTracks=[],p.subtitleTracks=[],p.metadataTracks=[],p.hintTracks=[],p.otherTracks=[],u=0;u<this.moov.traks.length;u++){if(v=this.moov.traks[u],x=v.mdia.minf.stbl.stsd.entries[0],b={},p.tracks.push(b),b.id=v.tkhd.track_id,b.name=v.mdia.hdlr.name,b.references=[],v.tref)for(f=0;f<v.tref.boxes.length;f++)w={},b.references.push(w),w.type=v.tref.boxes[f].type,w.track_ids=v.tref.boxes[f].track_ids;v.edts&&(b.edits=v.edts.elst.entries),b.created=new Date(S+v.tkhd.creation_time*1e3),b.modified=new Date(S+v.tkhd.modification_time*1e3),b.movie_duration=v.tkhd.duration,b.movie_timescale=p.timescale,b.layer=v.tkhd.layer,b.alternate_group=v.tkhd.alternate_group,b.volume=v.tkhd.volume,b.matrix=v.tkhd.matrix,b.track_width=v.tkhd.width/65536,b.track_height=v.tkhd.height/65536,b.timescale=v.mdia.mdhd.timescale,b.cts_shift=v.mdia.minf.stbl.cslg,b.duration=v.mdia.mdhd.duration,b.samples_duration=v.samples_duration,b.codec=x.getCodec(),b.kind=v.udta&&v.udta.kinds.length?v.udta.kinds[0]:{schemeURI:"",value:""},b.language=v.mdia.elng?v.mdia.elng.extended_language:v.mdia.mdhd.languageString,b.nb_samples=v.samples.length,b.size=v.samples_size,b.bitrate=b.size*8*b.timescale/b.samples_duration,x.isAudio()?(b.type="audio",p.audioTracks.push(b),b.audio={},b.audio.sample_rate=x.getSampleRate(),b.audio.channel_count=x.getChannelCount(),b.audio.sample_size=x.getSampleSize()):x.isVideo()?(b.type="video",p.videoTracks.push(b),b.video={},b.video.width=x.getWidth(),b.video.height=x.getHeight()):x.isSubtitle()?(b.type="subtitles",p.subtitleTracks.push(b)):x.isHint()?(b.type="metadata",p.hintTracks.push(b)):x.isMetadata()?(b.type="metadata",p.metadataTracks.push(b)):(b.type="metadata",p.otherTracks.push(b))}else p.hasMoov=!1;if(p.mime="",p.hasMoov&&p.tracks){for(p.videoTracks&&p.videoTracks.length>0?p.mime+='video/mp4; codecs="':p.audioTracks&&p.audioTracks.length>0?p.mime+='audio/mp4; codecs="':p.mime+='application/mp4; codecs="',u=0;u<p.tracks.length;u++)u!==0&&(p.mime+=","),p.mime+=p.tracks[u].codec;p.mime+='"; profiles="',p.mime+=this.ftyp.compatible_brands.join(),p.mime+='"'}return p},y.prototype.setNextSeekPositionFromSample=function(u){u&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(u.offset+u.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=u.offset+u.alreadyRead)},y.prototype.processSamples=function(u){var f,p;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(f=0;f<this.fragmentedTracks.length;f++){var v=this.fragmentedTracks[f];for(p=v.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+v.id+" for sample "+p.nextSample);var b=this.createFragment(v.id,p.nextSample,v.segmentStream);if(b)v.segmentStream=b,p.nextSample++;else break;if((p.nextSample%v.nb_samples===0||u||p.nextSample>=p.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+v.id+" for samples ["+Math.max(0,p.nextSample-v.nb_samples)+","+(p.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(v.id,v.user,v.segmentStream.buffer,p.nextSample,u||p.nextSample>=p.samples.length),v.segmentStream=null,v!==this.fragmentedTracks[f]))break}}if(this.onSamples!==null)for(f=0;f<this.extractedTracks.length;f++){var w=this.extractedTracks[f];for(p=w.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+w.id+" sample #"+p.nextSample);var x=this.getSample(p,p.nextSample);if(x)p.nextSample++,w.samples.push(x);else{this.setNextSeekPositionFromSample(p.samples[p.nextSample]);break}if((p.nextSample%w.nb_samples===0||p.nextSample>=p.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+w.id+" for sample "+p.nextSample),this.onSamples&&this.onSamples(w.id,w.user,w.samples),w.samples=[],w!==this.extractedTracks[f]))break}}}},y.prototype.getBox=function(u){var f=this.getBoxes(u,!0);return f.length?f[0]:null},y.prototype.getBoxes=function(u,f){var p=[];return y._sweep.call(this,u,p,f),p},y._sweep=function(u,f,p){this.type&&this.type==u&&f.push(this);for(var v in this.boxes){if(f.length&&p)return;y._sweep.call(this.boxes[v],u,f,p)}},y.prototype.getTrackSamplesInfo=function(u){var f=this.getTrackById(u);if(f)return f.samples},y.prototype.getTrackSample=function(u,f){var p=this.getTrackById(u),v=this.getSample(p,f);return v},y.prototype.releaseUsedSamples=function(u,f){var p=0,v=this.getTrackById(u);v.lastValidSample||(v.lastValidSample=0);for(var b=v.lastValidSample;b<f;b++)p+=this.releaseSample(v,b);e.info("ISOFile","Track #"+u+" released samples up to "+f+" (released size: "+p+", remaining: "+this.samplesDataSize+")"),v.lastValidSample=f},y.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},y.prototype.stop=function(){this.sampleProcessingStarted=!1},y.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},y.prototype.seekTrack=function(u,f,p){var v,b,w=1/0,x=0,S=0,A;if(p.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(v=0;v<p.samples.length;v++){if(b=p.samples[v],v===0)S=0,A=b.timescale;else if(b.cts>u*b.timescale){S=v-1;break}f&&b.is_sync&&(x=v)}for(f&&(S=x),u=p.samples[S].cts,p.nextSample=S;p.samples[S].alreadyRead===p.samples[S].size&&p.samples[S+1];)S++;return w=p.samples[S].offset+p.samples[S].alreadyRead,e.info("ISOFile","Seeking to "+(f?"RAP":"")+" sample #"+p.nextSample+" on track "+p.tkhd.track_id+", time "+e.getDurationString(u,A)+" and offset: "+w),{offset:w,time:u/A}},y.prototype.getTrackDuration=function(u){var f;return u.samples?(f=u.samples[u.samples.length-1],(f.cts+f.duration)/f.timescale):1/0},y.prototype.seek=function(u,f){var p=this.moov,v,b,w,x={offset:1/0,time:1/0};if(this.moov){for(w=0;w<p.traks.length;w++)v=p.traks[w],!(u>this.getTrackDuration(v))&&(b=this.seekTrack(u,f,v),b.offset<x.offset&&(x.offset=b.offset),b.time<x.time&&(x.time=b.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(x.time,1)+" needs a buffer with a fileStart position of "+x.offset),x.offset===1/0?x={offset:this.nextParsePosition,time:0}:x.offset=this.stream.getEndFilePositionAfter(x.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+x.offset),x}else throw"Cannot seek: moov not received!"},y.prototype.equal=function(u){for(var f=0;f<this.boxes.length&&f<u.boxes.length;){var p=this.boxes[f],v=u.boxes[f];if(!l.boxEqual(p,v))return!1;f++}return!0},t.ISOFile=y,y.prototype.lastBoxStartPosition=0,y.prototype.parsingMdat=null,y.prototype.nextParsePosition=0,y.prototype.discardMdatData=!1,y.prototype.processIncompleteBox=function(u){var f,p,v;return u.type==="mdat"?(f=new l[u.type+"Box"](u.size),this.parsingMdat=f,this.boxes.push(f),this.mdats.push(f),f.start=u.start,f.hdr_size=u.hdr_size,this.stream.addUsedBytes(f.hdr_size),this.lastBoxStartPosition=f.start+f.size,v=this.stream.seek(f.start+f.size,!1,this.discardMdatData),v?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=f.start+f.size,!1)):(u.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),p=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,p?(this.nextParsePosition=this.stream.getEndPosition(),!0):(u.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+u.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},y.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},y.prototype.processIncompleteMdat=function(){var u,f;return u=this.parsingMdat,f=this.stream.seek(u.start+u.size,!1,this.discardMdatData),f?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},y.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},y.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},y.prototype.updateUsedBytes=function(u,f){this.stream.addUsedBytes&&(u.type==="mdat"?(this.stream.addUsedBytes(u.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(u.size-u.hdr_size)):this.stream.addUsedBytes(u.size))},y.prototype.add=l.Box.prototype.add,y.prototype.addBox=l.Box.prototype.addBox,y.prototype.init=function(u){var f=u||{};this.add("ftyp").set("major_brand",f.brands&&f.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",f.brands||["iso4"]);var p=this.add("moov");return p.add("mvhd").set("timescale",f.timescale||600).set("rate",f.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",f.duration||0).set("volume",f.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),p.add("mvex"),this},y.prototype.addTrack=function(u){this.moov||this.init(u);var f=u||{};f.width=f.width||320,f.height=f.height||320,f.id=f.id||this.moov.mvhd.next_track_id,f.type=f.type||"avc1";var p=this.moov.add("trak");this.moov.mvhd.next_track_id=f.id+1,p.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",f.id).set("duration",f.duration||0).set("layer",f.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",f.width<<16).set("height",f.height<<16);var v=p.add("mdia");v.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",f.timescale||1).set("duration",f.media_duration||0).set("language",f.language||"und"),v.add("hdlr").set("handler",f.hdlr||"vide").set("name",f.name||"Track created with MP4Box.js"),v.add("elng").set("extended_language",f.language||"fr-FR");var b=v.add("minf");if(l[f.type+"SampleEntry"]!==void 0){var w=new l[f.type+"SampleEntry"];w.data_reference_index=1;var x="";for(var S in l.sampleEntryCodes)for(var A=l.sampleEntryCodes[S],D=0;D<A.length;D++)if(A.indexOf(f.type)>-1){x=S;break}switch(x){case"Visual":if(b.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),w.set("width",f.width).set("height",f.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",f.type+" Compressor").set("depth",24),f.avcDecoderConfigRecord){var C=new l.avcCBox;C.parse(new r(f.avcDecoderConfigRecord)),w.addBox(C)}else if(f.hevcDecoderConfigRecord){var T=new l.hvcCBox;T.parse(new r(f.hevcDecoderConfigRecord)),w.addBox(T)}break;case"Audio":b.add("smhd").set("balance",f.balance||0),w.set("channel_count",f.channel_count||2).set("samplesize",f.samplesize||16).set("samplerate",f.samplerate||65536);break;case"Hint":b.add("hmhd");break;case"Subtitle":switch(b.add("sthd"),f.type){case"stpp":w.set("namespace",f.namespace||"nonamespace").set("schema_location",f.schema_location||"").set("auxiliary_mime_types",f.auxiliary_mime_types||"");break}break;case"Metadata":b.add("nmhd");break;case"System":b.add("nmhd");break;default:b.add("nmhd");break}f.description&&w.addBox(f.description),f.description_boxes&&f.description_boxes.forEach(function(P){w.addBox(P)}),b.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var R=b.add("stbl");return R.add("stsd").addEntry(w),R.add("stts").set("sample_counts",[]).set("sample_deltas",[]),R.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),R.add("stco").set("chunk_offsets",[]),R.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",f.id).set("default_sample_description_index",f.default_sample_description_index||1).set("default_sample_duration",f.default_sample_duration||0).set("default_sample_size",f.default_sample_size||0).set("default_sample_flags",f.default_sample_flags||0),this.buildTrakSampleLists(p),f.id}},l.Box.prototype.computeSize=function(u){var f=u||new n;f.endianness=n.BIG_ENDIAN,this.write(f)},y.prototype.addSample=function(u,f,p){var v=p||{},b={},w=this.getTrackById(u);if(w!==null){b.number=w.samples.length,b.track_id=w.tkhd.track_id,b.timescale=w.mdia.mdhd.timescale,b.description_index=v.sample_description_index?v.sample_description_index-1:0,b.description=w.mdia.minf.stbl.stsd.entries[b.description_index],b.data=f,b.size=f.byteLength,b.alreadyRead=b.size,b.duration=v.duration||1,b.cts=v.cts||0,b.dts=v.dts||0,b.is_sync=v.is_sync||!1,b.is_leading=v.is_leading||0,b.depends_on=v.depends_on||0,b.is_depended_on=v.is_depended_on||0,b.has_redundancy=v.has_redundancy||0,b.degradation_priority=v.degradation_priority||0,b.offset=0,b.subsamples=v.subsamples,w.samples.push(b),w.samples_size+=b.size,w.samples_duration+=b.duration,w.first_dts===void 0&&(w.first_dts=v.dts),this.processSamples();var x=this.createSingleSampleMoof(b);return this.addBox(x),x.computeSize(),x.trafs[0].truns[0].data_offset=x.size+8,this.add("mdat").data=new Uint8Array(f),b}},y.prototype.createSingleSampleMoof=function(u){var f=0;u.is_sync?f=1<<25:f=65536;var p=new l.moofBox;p.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var v=p.add("traf"),b=this.getTrackById(u.track_id);return v.add("tfhd").set("track_id",u.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),v.add("tfdt").set("baseMediaDecodeTime",u.dts-(b.first_dts||0)),v.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[u.duration]).set("sample_size",[u.size]).set("sample_flags",[f]).set("sample_composition_time_offset",[u.cts-u.dts]),p},y.prototype.lastMoofIndex=0,y.prototype.samplesDataSize=0,y.prototype.resetTables=function(){var u,f,p,v,b,w,x,S;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,u=0;u<this.moov.traks.length;u++){f=this.moov.traks[u],f.tkhd.duration=0,f.mdia.mdhd.duration=0,p=f.mdia.minf.stbl.stco||f.mdia.minf.stbl.co64,p.chunk_offsets=[],v=f.mdia.minf.stbl.stsc,v.first_chunk=[],v.samples_per_chunk=[],v.sample_description_index=[],b=f.mdia.minf.stbl.stsz||f.mdia.minf.stbl.stz2,b.sample_sizes=[],w=f.mdia.minf.stbl.stts,w.sample_counts=[],w.sample_deltas=[],x=f.mdia.minf.stbl.ctts,x&&(x.sample_counts=[],x.sample_offsets=[]),S=f.mdia.minf.stbl.stss;var A=f.mdia.minf.stbl.boxes.indexOf(S);A!=-1&&(f.mdia.minf.stbl.boxes[A]=null)}},y.initSampleGroups=function(u,f,p,v,b){var w,x,S,A;function D(C,T,R){this.grouping_type=C,this.grouping_type_parameter=T,this.sbgp=R,this.last_sample_in_run=-1,this.entry_index=-1}for(f&&(f.sample_groups_info=[]),u.sample_groups_info||(u.sample_groups_info=[]),x=0;x<p.length;x++){for(A=p[x].grouping_type+"/"+p[x].grouping_type_parameter,S=new D(p[x].grouping_type,p[x].grouping_type_parameter,p[x]),f&&(f.sample_groups_info[A]=S),u.sample_groups_info[A]||(u.sample_groups_info[A]=S),w=0;w<v.length;w++)v[w].grouping_type===p[x].grouping_type&&(S.description=v[w],S.description.used=!0);if(b)for(w=0;w<b.length;w++)b[w].grouping_type===p[x].grouping_type&&(S.fragment_description=b[w],S.fragment_description.used=!0,S.is_fragment=!0)}if(f){if(b)for(x=0;x<b.length;x++)!b[x].used&&b[x].version>=2&&(A=b[x].grouping_type+"/0",S=new D(b[x].grouping_type,0),S.is_fragment=!0,f.sample_groups_info[A]||(f.sample_groups_info[A]=S))}else for(x=0;x<v.length;x++)!v[x].used&&v[x].version>=2&&(A=v[x].grouping_type+"/0",S=new D(v[x].grouping_type,0),u.sample_groups_info[A]||(u.sample_groups_info[A]=S))},y.setSampleGroupProperties=function(u,f,p,v){var b,w;f.sample_groups=[];for(b in v)if(f.sample_groups[b]={},f.sample_groups[b].grouping_type=v[b].grouping_type,f.sample_groups[b].grouping_type_parameter=v[b].grouping_type_parameter,p>=v[b].last_sample_in_run&&(v[b].last_sample_in_run<0&&(v[b].last_sample_in_run=0),v[b].entry_index++,v[b].entry_index<=v[b].sbgp.entries.length-1&&(v[b].last_sample_in_run+=v[b].sbgp.entries[v[b].entry_index].sample_count)),v[b].entry_index<=v[b].sbgp.entries.length-1?f.sample_groups[b].group_description_index=v[b].sbgp.entries[v[b].entry_index].group_description_index:f.sample_groups[b].group_description_index=-1,f.sample_groups[b].group_description_index!==0){var x;v[b].fragment_description?x=v[b].fragment_description:x=v[b].description,f.sample_groups[b].group_description_index>0?(f.sample_groups[b].group_description_index>65535?w=(f.sample_groups[b].group_description_index>>16)-1:w=f.sample_groups[b].group_description_index-1,x&&w>=0&&(f.sample_groups[b].description=x.entries[w])):x&&x.version>=2&&x.default_group_description_index>0&&(f.sample_groups[b].description=x.entries[x.default_group_description_index-1])}},y.process_sdtp=function(u,f,p){f&&(u?(f.is_leading=u.is_leading[p],f.depends_on=u.sample_depends_on[p],f.is_depended_on=u.sample_is_depended_on[p],f.has_redundancy=u.sample_has_redundancy[p]):(f.is_leading=0,f.depends_on=0,f.is_depended_on=0,f.has_redundancy=0))},y.prototype.buildSampleLists=function(){var u,f;for(u=0;u<this.moov.traks.length;u++)f=this.moov.traks[u],this.buildTrakSampleLists(f)},y.prototype.buildTrakSampleLists=function(u){var f,p,v,b,w,x,S,A,D,C,T,R,P,O,I,k,W,G,j,$,K,Q,ue,pe;if(u.samples=[],u.samples_duration=0,u.samples_size=0,p=u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64,v=u.mdia.minf.stbl.stsc,b=u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2,w=u.mdia.minf.stbl.stts,x=u.mdia.minf.stbl.ctts,S=u.mdia.minf.stbl.stss,A=u.mdia.minf.stbl.stsd,D=u.mdia.minf.stbl.subs,R=u.mdia.minf.stbl.stdp,C=u.mdia.minf.stbl.sbgps,T=u.mdia.minf.stbl.sgpds,G=-1,j=-1,$=-1,K=-1,Q=0,ue=0,pe=0,y.initSampleGroups(u,null,C,T),!(typeof b>"u")){for(f=0;f<b.sample_sizes.length;f++){var oe={};oe.number=f,oe.track_id=u.tkhd.track_id,oe.timescale=u.mdia.mdhd.timescale,oe.alreadyRead=0,u.samples[f]=oe,oe.size=b.sample_sizes[f],u.samples_size+=oe.size,f===0?(O=1,P=0,oe.chunk_index=O,oe.chunk_run_index=P,W=v.samples_per_chunk[P],k=0,P+1<v.first_chunk.length?I=v.first_chunk[P+1]-1:I=1/0):f<W?(oe.chunk_index=O,oe.chunk_run_index=P):(O++,oe.chunk_index=O,k=0,O<=I||(P++,P+1<v.first_chunk.length?I=v.first_chunk[P+1]-1:I=1/0),oe.chunk_run_index=P,W+=v.samples_per_chunk[P]),oe.description_index=v.sample_description_index[oe.chunk_run_index]-1,oe.description=A.entries[oe.description_index],oe.offset=p.chunk_offsets[oe.chunk_index-1]+k,k+=oe.size,f>G&&(j++,G<0&&(G=0),G+=w.sample_counts[j]),f>0?(u.samples[f-1].duration=w.sample_deltas[j],u.samples_duration+=u.samples[f-1].duration,oe.dts=u.samples[f-1].dts+u.samples[f-1].duration):oe.dts=0,x?(f>=$&&(K++,$<0&&($=0),$+=x.sample_counts[K]),oe.cts=u.samples[f].dts+x.sample_offsets[K]):oe.cts=oe.dts,S?(f==S.sample_numbers[Q]-1?(oe.is_sync=!0,Q++):(oe.is_sync=!1,oe.degradation_priority=0),D&&D.entries[ue].sample_delta+pe==f+1&&(oe.subsamples=D.entries[ue].subsamples,pe+=D.entries[ue].sample_delta,ue++)):oe.is_sync=!0,y.process_sdtp(u.mdia.minf.stbl.sdtp,oe,oe.number),R?oe.degradation_priority=R.priority[f]:oe.degradation_priority=0,D&&D.entries[ue].sample_delta+pe==f&&(oe.subsamples=D.entries[ue].subsamples,pe+=D.entries[ue].sample_delta),(C.length>0||T.length>0)&&y.setSampleGroupProperties(u,oe,f,u.sample_groups_info)}f>0&&(u.samples[f-1].duration=Math.max(u.mdia.mdhd.duration-u.samples[f-1].dts,0),u.samples_duration+=u.samples[f-1].duration)}},y.prototype.updateSampleLists=function(){var u,f,p,v,b,w,x,S,A,D,C,T,R,P,O;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(A=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,A.type=="moof")for(D=A,u=0;u<D.trafs.length;u++){for(C=D.trafs[u],T=this.getTrackById(C.tfhd.track_id),R=this.getTrexById(C.tfhd.track_id),C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?v=C.tfhd.default_sample_description_index:v=R?R.default_sample_description_index:1,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?b=C.tfhd.default_sample_duration:b=R?R.default_sample_duration:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?w=C.tfhd.default_sample_size:w=R?R.default_sample_size:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?x=C.tfhd.default_sample_flags:x=R?R.default_sample_flags:0,C.sample_number=0,C.sbgps.length>0&&y.initSampleGroups(T,C,C.sbgps,T.mdia.minf.stbl.sgpds,C.sgpds),f=0;f<C.truns.length;f++){var I=C.truns[f];for(p=0;p<I.sample_count;p++){P={},P.moof_number=this.lastMoofIndex,P.number_in_traf=C.sample_number,C.sample_number++,P.number=T.samples.length,C.first_sample_index=T.samples.length,T.samples.push(P),P.track_id=T.tkhd.track_id,P.timescale=T.mdia.mdhd.timescale,P.description_index=v-1,P.description=T.mdia.minf.stbl.stsd.entries[P.description_index],P.size=w,I.flags&l.TRUN_FLAGS_SIZE&&(P.size=I.sample_size[p]),T.samples_size+=P.size,P.duration=b,I.flags&l.TRUN_FLAGS_DURATION&&(P.duration=I.sample_duration[p]),T.samples_duration+=P.duration,T.first_traf_merged||p>0?P.dts=T.samples[T.samples.length-2].dts+T.samples[T.samples.length-2].duration:(C.tfdt?P.dts=C.tfdt.baseMediaDecodeTime:P.dts=0,T.first_traf_merged=!0),P.cts=P.dts,I.flags&l.TRUN_FLAGS_CTS_OFFSET&&(P.cts=P.dts+I.sample_composition_time_offset[p]),O=x,I.flags&l.TRUN_FLAGS_FLAGS?O=I.sample_flags[p]:p===0&&I.flags&l.TRUN_FLAGS_FIRST_FLAG&&(O=I.first_sample_flags),P.is_sync=!(O>>16&1),P.is_leading=O>>26&3,P.depends_on=O>>24&3,P.is_depended_on=O>>22&3,P.has_redundancy=O>>20&3,P.degradation_priority=O&65535;var k=!!(C.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),W=!!(C.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),G=!!(I.flags&l.TRUN_FLAGS_DATA_OFFSET),j=0;k?j=C.tfhd.base_data_offset:W||f===0?j=D.start:j=S,f===0&&p===0?G?P.offset=j+I.data_offset:P.offset=j:P.offset=S,S=P.offset+P.size,(C.sbgps.length>0||C.sgpds.length>0||T.mdia.minf.stbl.sbgps.length>0||T.mdia.minf.stbl.sgpds.length>0)&&y.setSampleGroupProperties(T,P,P.number_in_traf,C.sample_groups_info)}}if(C.subs){T.has_fragment_subsamples=!0;var $=C.first_sample_index;for(f=0;f<C.subs.entries.length;f++)$+=C.subs.entries[f].sample_delta,P=T.samples[$-1],P.subsamples=C.subs.entries[f].subsamples}}}},y.prototype.getSample=function(u,f){var p,v=u.samples[f];if(!this.moov)return null;if(!v.data)v.data=new Uint8Array(v.size),v.alreadyRead=0,this.samplesDataSize+=v.size,e.debug("ISOFile","Allocating sample #"+f+" on track #"+u.tkhd.track_id+" of size "+v.size+" (total: "+this.samplesDataSize+")");else if(v.alreadyRead==v.size)return v;for(;;){var b=this.stream.findPosition(!0,v.offset+v.alreadyRead,!1);if(b>-1){p=this.stream.buffers[b];var w=p.byteLength-(v.offset+v.alreadyRead-p.fileStart);if(v.size-v.alreadyRead<=w)return e.debug("ISOFile","Getting sample #"+f+" data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+(v.size-v.alreadyRead)+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,v.size-v.alreadyRead),p.usedBytes+=v.size-v.alreadyRead,this.stream.logBufferLevel(),v.alreadyRead=v.size,v;if(w===0)return null;e.debug("ISOFile","Getting sample #"+f+" partial data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+w+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,w),v.alreadyRead+=w,p.usedBytes+=w,this.stream.logBufferLevel()}else return null}},y.prototype.releaseSample=function(u,f){var p=u.samples[f];return p.data?(this.samplesDataSize-=p.size,p.data=null,p.alreadyRead=0,p.size):0},y.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},y.prototype.getCodecs=function(){var u,f="";for(u=0;u<this.moov.traks.length;u++){var p=this.moov.traks[u];u>0&&(f+=","),f+=p.mdia.minf.stbl.stsd.entries[0].getCodec()}return f},y.prototype.getTrexById=function(u){var f;if(!this.moov||!this.moov.mvex)return null;for(f=0;f<this.moov.mvex.trexs.length;f++){var p=this.moov.mvex.trexs[f];if(p.track_id==u)return p}return null},y.prototype.getTrackById=function(u){if(this.moov===void 0)return null;for(var f=0;f<this.moov.traks.length;f++){var p=this.moov.traks[f];if(p.tkhd.track_id==u)return p}return null},y.prototype.itemsDataSize=0,y.prototype.flattenItemInfo=function(){var u=this.items,f=this.entity_groups,p,v,b,w=this.meta;if(w!=null&&w.hdlr!==void 0&&w.iinf!==void 0){for(p=0;p<w.iinf.item_infos.length;p++)b={},b.id=w.iinf.item_infos[p].item_ID,u[b.id]=b,b.ref_to=[],b.name=w.iinf.item_infos[p].item_name,w.iinf.item_infos[p].protection_index>0&&(b.protection=w.ipro.protections[w.iinf.item_infos[p].protection_index-1]),w.iinf.item_infos[p].item_type?b.type=w.iinf.item_infos[p].item_type:b.type="mime",b.content_type=w.iinf.item_infos[p].content_type,b.content_encoding=w.iinf.item_infos[p].content_encoding;if(w.grpl)for(p=0;p<w.grpl.boxes.length;p++)entity_group={},entity_group.id=w.grpl.boxes[p].group_id,entity_group.entity_ids=w.grpl.boxes[p].entity_ids,entity_group.type=w.grpl.boxes[p].type,f[entity_group.id]=entity_group;if(w.iloc)for(p=0;p<w.iloc.items.length;p++){var x=w.iloc.items[p];switch(b=u[x.item_ID],x.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),b.source=w.dinf.boxes[x.data_reference_index-1]),x.construction_method){case 0:break;case 1:break;case 2:e.warn("Item storage with construction_method : not supported");break}for(b.extents=[],b.size=0,v=0;v<x.extents.length;v++)b.extents[v]={},b.extents[v].offset=x.extents[v].extent_offset+x.base_offset,x.construction_method==1&&(b.extents[v].offset+=w.idat.start+w.idat.hdr_size),b.extents[v].length=x.extents[v].extent_length,b.extents[v].alreadyRead=0,b.size+=b.extents[v].length}if(w.pitm&&(u[w.pitm.item_id].primary=!0),w.iref)for(p=0;p<w.iref.references.length;p++){var S=w.iref.references[p];for(v=0;v<S.references.length;v++)u[S.from_item_ID].ref_to.push({type:S.type,id:S.references[v]})}if(w.iprp)for(var A=0;A<w.iprp.ipmas.length;A++){var D=w.iprp.ipmas[A];for(p=0;p<D.associations.length;p++){var C=D.associations[p];if(b=u[C.id],b||(b=f[C.id]),b)for(b.properties===void 0&&(b.properties={},b.properties.boxes=[]),v=0;v<C.props.length;v++){var T=C.props[v];if(T.property_index>0&&T.property_index-1<w.iprp.ipco.boxes.length){var R=w.iprp.ipco.boxes[T.property_index-1];b.properties[R.type]=R,b.properties.boxes.push(R)}}}}}},y.prototype.getItem=function(u){var f,p;if(!this.meta)return null;if(p=this.items[u],!p.data&&p.size)p.data=new Uint8Array(p.size),p.alreadyRead=0,this.itemsDataSize+=p.size,e.debug("ISOFile","Allocating item #"+u+" of size "+p.size+" (total: "+this.itemsDataSize+")");else if(p.alreadyRead===p.size)return p;for(var v=0;v<p.extents.length;v++){var b=p.extents[v];if(b.alreadyRead!==b.length){var w=this.stream.findPosition(!0,b.offset+b.alreadyRead,!1);if(w>-1){f=this.stream.buffers[w];var x=f.byteLength-(b.offset+b.alreadyRead-f.fileStart);if(b.length-b.alreadyRead<=x)e.debug("ISOFile","Getting item #"+u+" extent #"+v+" data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-f.fileStart)+" read size: "+(b.length-b.alreadyRead)+" full extent size: "+b.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,f,b.offset+b.alreadyRead-f.fileStart,b.length-b.alreadyRead),f.usedBytes+=b.length-b.alreadyRead,this.stream.logBufferLevel(),p.alreadyRead+=b.length-b.alreadyRead,b.alreadyRead=b.length;else return e.debug("ISOFile","Getting item #"+u+" extent #"+v+" partial data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-f.fileStart)+" read size: "+x+" full extent size: "+b.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,f,b.offset+b.alreadyRead-f.fileStart,x),b.alreadyRead+=x,p.alreadyRead+=x,f.usedBytes+=x,this.stream.logBufferLevel(),null}else return null}}return p.alreadyRead===p.size?p:null},y.prototype.releaseItem=function(u){var f=this.items[u];if(f.data){this.itemsDataSize-=f.size,f.data=null,f.alreadyRead=0;for(var p=0;p<f.extents.length;p++){var v=f.extents[p];v.alreadyRead=0}return f.size}else return 0},y.prototype.processItems=function(u){for(var f in this.items){var p=this.items[f];this.getItem(p.id),u&&!p.sent&&(u(p),p.sent=!0,p.data=null)}},y.prototype.hasItem=function(u){for(var f in this.items){var p=this.items[f];if(p.name===u)return p.id}return-1},y.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},y.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},y.prototype.itemToFragmentedTrackFile=function(u){var f=u||{},p=null;if(f.itemId?p=this.getItem(f.itemId):p=this.getPrimaryItem(),p==null)return null;var v=new y;v.discardMdatData=!1;var b={type:p.type,description_boxes:p.properties.boxes};p.properties.ispe&&(b.width=p.properties.ispe.image_width,b.height=p.properties.ispe.image_height);var w=v.addTrack(b);return w?(v.addSample(w,p.data),v):null},y.prototype.write=function(u){for(var f=0;f<this.boxes.length;f++)this.boxes[f].write(u)},y.prototype.createFragment=function(u,f,p){var v=this.getTrackById(u),b=this.getSample(v,f);if(b==null)return this.setNextSeekPositionFromSample(v.samples[f]),null;var w=p||new n;w.endianness=n.BIG_ENDIAN;var x=this.createSingleSampleMoof(b);x.write(w),x.trafs[0].truns[0].data_offset=x.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+x.trafs[0].truns[0].data_offset),w.adjustUint32(x.trafs[0].truns[0].data_offset_position,x.trafs[0].truns[0].data_offset);var S=new l.mdatBox;return S.data=b.data,S.write(w),w},y.writeInitializationSegment=function(u,f,p,v){var b;e.debug("ISOFile","Generating initialization segment");var w=new n;w.endianness=n.BIG_ENDIAN,u.write(w);var x=f.add("mvex");for(p&&x.add("mehd").set("fragment_duration",p),b=0;b<f.traks.length;b++)x.add("trex").set("track_id",f.traks[b].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",v).set("default_sample_size",0).set("default_sample_flags",65536);return f.write(w),w.buffer},y.prototype.save=function(u){var f=new n;f.endianness=n.BIG_ENDIAN,this.write(f),f.save(u)},y.prototype.getBuffer=function(){var u=new n;return u.endianness=n.BIG_ENDIAN,this.write(u),u.buffer},y.prototype.initializeSegmentation=function(){var u,f,p,v;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),f=[],u=0;u<this.fragmentedTracks.length;u++){var b=new l.moovBox;b.mvhd=this.moov.mvhd,b.boxes.push(b.mvhd),p=this.getTrackById(this.fragmentedTracks[u].id),b.boxes.push(p),b.traks.push(p),v={},v.id=p.tkhd.track_id,v.user=this.fragmentedTracks[u].user,v.buffer=y.writeInitializationSegment(this.ftyp,b,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[u].samples.length>0?this.moov.traks[u].samples[0].duration:0),f.push(v)}return f},l.Box.prototype.printHeader=function(u){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),u.log(u.indent+"size:"+this.size),u.log(u.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(u){this.size+=4,l.Box.prototype.printHeader.call(this,u),u.log(u.indent+"version:"+this.version),u.log(u.indent+"flags:"+this.flags)},l.Box.prototype.print=function(u){this.printHeader(u)},l.ContainerBox.prototype.print=function(u){this.printHeader(u);for(var f=0;f<this.boxes.length;f++)if(this.boxes[f]){var p=u.indent;u.indent+=" ",this.boxes[f].print(u),u.indent=p}},y.prototype.print=function(u){u.indent="";for(var f=0;f<this.boxes.length;f++)this.boxes[f]&&this.boxes[f].print(u)},l.mvhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"timescale: "+this.timescale),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"rate: "+this.rate),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"track_id: "+this.track_id),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"layer: "+this.layer),u.log(u.indent+"alternate_group: "+this.alternate_group),u.log(u.indent+"width: "+this.width),u.log(u.indent+"height: "+this.height)};var _={};_.createFile=function(u,f){var p=u!==void 0?u:!0,v=new y(f);return v.discardMdatData=!p,v},t.createFile=_.createFile})(BG);const aYe=qn(BG);var Upe=typeof global=="object"&&global&&global.Object===Object&&global;const FG=Upe;var $pe=typeof self=="object"&&self&&self.Object===Object&&self,jpe=FG||$pe||Function("return this")();const Ba=jpe;var zpe=Ba.Symbol;const Qh=zpe;var MG=Object.prototype,Gpe=MG.hasOwnProperty,Vpe=MG.toString,Dm=Qh?Qh.toStringTag:void 0;function Hpe(t){var e=Gpe.call(t,Dm),r=t[Dm];try{t[Dm]=void 0;var n=!0}catch(o){}var s=Vpe.call(t);return n&&(e?t[Dm]=r:delete t[Dm]),s}var Wpe=Object.prototype,Kpe=Wpe.toString;function Xpe(t){return Kpe.call(t)}var Ype="[object Null]",qpe="[object Undefined]",_L=Qh?Qh.toStringTag:void 0;function Op(t){return t==null?t===void 0?qpe:Ype:_L&&_L in Object(t)?Hpe(t):Xpe(t)}function Wd(t){return t!=null&&typeof t=="object"}var Zpe=Array.isArray;const kv=Zpe;function yc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function kG(t){return t}var Jpe="[object AsyncFunction]",Qpe="[object Function]",eme="[object GeneratorFunction]",tme="[object Proxy]";function MI(t){if(!yc(t))return!1;var e=Op(t);return e==Qpe||e==eme||e==Jpe||e==tme}var rme=Ba["__core-js_shared__"];const YC=rme;var bL=function(){var t=/[^.]+$/.exec(YC&&YC.keys&&YC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nme(t){return!!bL&&bL in t}var ime=Function.prototype,sme=ime.toString;function Kd(t){if(t!=null){try{return sme.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var ome=/[\\^$.*+?()[\]{}|]/g,ame=/^\[object .+?Constructor\]$/,lme=Function.prototype,ume=Object.prototype,cme=lme.toString,dme=ume.hasOwnProperty,fme=RegExp("^"+cme.call(dme).replace(ome,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hme(t){if(!yc(t)||nme(t))return!1;var e=MI(t)?fme:ame;return e.test(Kd(t))}function pme(t,e){return t==null?void 0:t[e]}function Xd(t,e){var r=pme(t,e);return hme(r)?r:void 0}var mme=Xd(Ba,"WeakMap");const vP=mme;var wL=Object.create,gme=function(){function t(){}return function(e){if(!yc(e))return{};if(wL)return wL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const vme=gme;function yme(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function NG(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var _me=800,bme=16,wme=Date.now;function xme(t){var e=0,r=0;return function(){var n=wme(),s=bme-(n-r);if(r=n,s>0){if(++e>=_me)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Eme(t){return function(){return t}}var Sme=function(){try{var t=Xd(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const h1=Sme;var Cme=h1?function(t,e){return h1(t,"toString",{configurable:!0,enumerable:!1,value:Eme(e),writable:!0})}:kG;const Ame=Cme;var Tme=xme(Ame);const Dme=Tme;function Pme(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Rme=9007199254740991,Ome=/^(?:0|[1-9]\d*)$/;function LG(t,e){var r=typeof t;return e=e==null?Rme:e,!!e&&(r=="number"||r!="symbol"&&Ome.test(t))&&t>-1&&t%1==0&&t<e}function kI(t,e,r){e=="__proto__"&&h1?h1(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function yE(t,e){return t===e||t!==t&&e!==e}var Ime=Object.prototype,Bme=Ime.hasOwnProperty;function UG(t,e,r){var n=t[e];(!(Bme.call(t,e)&&yE(n,r))||r===void 0&&!(e in t))&&kI(t,e,r)}function e_(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?kI(r,l,c):UG(r,l,c)}return r}var xL=Math.max;function Fme(t,e,r){return e=xL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=xL(n.length-e,0),a=Array(o);++s<o;)a[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(a),yme(t,this,l)}}function Mme(t,e){return Dme(Fme(t,e,kG),t+"")}var kme=9007199254740991;function $G(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kme}function _E(t){return t!=null&&$G(t.length)&&!MI(t)}function Nme(t,e,r){if(!yc(r))return!1;var n=typeof e;return(n=="number"?_E(r)&&LG(e,r.length):n=="string"&&e in r)?yE(r[e],t):!1}function Lme(t){return Mme(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,a&&Nme(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,o)}return e})}var Ume=Object.prototype;function NI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ume;return t===r}function $me(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var jme="[object Arguments]";function EL(t){return Wd(t)&&Op(t)==jme}var jG=Object.prototype,zme=jG.hasOwnProperty,Gme=jG.propertyIsEnumerable,Vme=EL(function(){return arguments}())?EL:function(t){return Wd(t)&&zme.call(t,"callee")&&!Gme.call(t,"callee")};const yP=Vme;function Hme(){return!1}var zG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SL=zG&&typeof module=="object"&&module&&!module.nodeType&&module,Wme=SL&&SL.exports===zG,CL=Wme?Ba.Buffer:void 0,Kme=CL?CL.isBuffer:void 0,Xme=Kme||Hme;const LI=Xme;var Yme="[object Arguments]",qme="[object Array]",Zme="[object Boolean]",Jme="[object Date]",Qme="[object Error]",ege="[object Function]",tge="[object Map]",rge="[object Number]",nge="[object Object]",ige="[object RegExp]",sge="[object Set]",oge="[object String]",age="[object WeakMap]",lge="[object ArrayBuffer]",uge="[object DataView]",cge="[object Float32Array]",dge="[object Float64Array]",fge="[object Int8Array]",hge="[object Int16Array]",pge="[object Int32Array]",mge="[object Uint8Array]",gge="[object Uint8ClampedArray]",vge="[object Uint16Array]",yge="[object Uint32Array]",xr={};xr[cge]=xr[dge]=xr[fge]=xr[hge]=xr[pge]=xr[mge]=xr[gge]=xr[vge]=xr[yge]=!0;xr[Yme]=xr[qme]=xr[lge]=xr[Zme]=xr[uge]=xr[Jme]=xr[Qme]=xr[ege]=xr[tge]=xr[rge]=xr[nge]=xr[ige]=xr[sge]=xr[oge]=xr[age]=!1;function _ge(t){return Wd(t)&&$G(t.length)&&!!xr[Op(t)]}function UI(t){return function(e){return t(e)}}var GG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ig=GG&&typeof module=="object"&&module&&!module.nodeType&&module,bge=Ig&&Ig.exports===GG,qC=bge&&FG.process,wge=function(){try{var t=Ig&&Ig.require&&Ig.require("util").types;return t||qC&&qC.binding&&qC.binding("util")}catch(e){}}();const ep=wge;var AL=ep&&ep.isTypedArray,xge=AL?UI(AL):_ge;const VG=xge;var Ege=Object.prototype,Sge=Ege.hasOwnProperty;function HG(t,e){var r=kv(t),n=!r&&yP(t),s=!r&&!n&&LI(t),o=!r&&!n&&!s&&VG(t),a=r||n||s||o,l=a?$me(t.length,String):[],c=l.length;for(var d in t)(e||Sge.call(t,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||LG(d,c)))&&l.push(d);return l}function WG(t,e){return function(r){return t(e(r))}}var Cge=WG(Object.keys,Object);const Age=Cge;var Tge=Object.prototype,Dge=Tge.hasOwnProperty;function Pge(t){if(!NI(t))return Age(t);var e=[];for(var r in Object(t))Dge.call(t,r)&&r!="constructor"&&e.push(r);return e}function $I(t){return _E(t)?HG(t):Pge(t)}function Rge(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Oge=Object.prototype,Ige=Oge.hasOwnProperty;function Bge(t){if(!yc(t))return Rge(t);var e=NI(t),r=[];for(var n in t)n=="constructor"&&(e||!Ige.call(t,n))||r.push(n);return r}function t_(t){return _E(t)?HG(t,!0):Bge(t)}var Fge=Xd(Object,"create");const Nv=Fge;function Mge(){this.__data__=Nv?Nv(null):{},this.size=0}function kge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nge="__lodash_hash_undefined__",Lge=Object.prototype,Uge=Lge.hasOwnProperty;function $ge(t){var e=this.__data__;if(Nv){var r=e[t];return r===Nge?void 0:r}return Uge.call(e,t)?e[t]:void 0}var jge=Object.prototype,zge=jge.hasOwnProperty;function Gge(t){var e=this.__data__;return Nv?e[t]!==void 0:zge.call(e,t)}var Vge="__lodash_hash_undefined__";function Hge(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Nv&&e===void 0?Vge:e,this}function Pd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pd.prototype.clear=Mge;Pd.prototype.delete=kge;Pd.prototype.get=$ge;Pd.prototype.has=Gge;Pd.prototype.set=Hge;function Wge(){this.__data__=[],this.size=0}function bE(t,e){for(var r=t.length;r--;)if(yE(t[r][0],e))return r;return-1}var Kge=Array.prototype,Xge=Kge.splice;function Yge(t){var e=this.__data__,r=bE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Xge.call(e,r,1),--this.size,!0}function qge(t){var e=this.__data__,r=bE(e,t);return r<0?void 0:e[r][1]}function Zge(t){return bE(this.__data__,t)>-1}function Jge(t,e){var r=this.__data__,n=bE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function $l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$l.prototype.clear=Wge;$l.prototype.delete=Yge;$l.prototype.get=qge;$l.prototype.has=Zge;$l.prototype.set=Jge;var Qge=Xd(Ba,"Map");const Lv=Qge;function eve(){this.size=0,this.__data__={hash:new Pd,map:new(Lv||$l),string:new Pd}}function tve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wE(t,e){var r=t.__data__;return tve(e)?r[typeof e=="string"?"string":"hash"]:r.map}function rve(t){var e=wE(this,t).delete(t);return this.size-=e?1:0,e}function nve(t){return wE(this,t).get(t)}function ive(t){return wE(this,t).has(t)}function sve(t,e){var r=wE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ip(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ip.prototype.clear=eve;Ip.prototype.delete=rve;Ip.prototype.get=nve;Ip.prototype.has=ive;Ip.prototype.set=sve;function KG(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var ove=WG(Object.getPrototypeOf,Object);const jI=ove;var ave="[object Object]",lve=Function.prototype,uve=Object.prototype,XG=lve.toString,cve=uve.hasOwnProperty,dve=XG.call(Object);function fve(t){if(!Wd(t)||Op(t)!=ave)return!1;var e=jI(t);if(e===null)return!0;var r=cve.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&XG.call(r)==dve}function hve(){this.__data__=new $l,this.size=0}function pve(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function mve(t){return this.__data__.get(t)}function gve(t){return this.__data__.has(t)}var vve=200;function yve(t,e){var r=this.__data__;if(r instanceof $l){var n=r.__data__;if(!Lv||n.length<vve-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ip(n)}return r.set(t,e),this.size=r.size,this}function Yd(t){var e=this.__data__=new $l(t);this.size=e.size}Yd.prototype.clear=hve;Yd.prototype.delete=pve;Yd.prototype.get=mve;Yd.prototype.has=gve;Yd.prototype.set=yve;function _ve(t,e){return t&&e_(e,$I(e),t)}function bve(t,e){return t&&e_(e,t_(e),t)}var YG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,TL=YG&&typeof module=="object"&&module&&!module.nodeType&&module,wve=TL&&TL.exports===YG,DL=wve?Ba.Buffer:void 0,PL=DL?DL.allocUnsafe:void 0;function qG(t,e){if(e)return t.slice();var r=t.length,n=PL?PL(r):new t.constructor(r);return t.copy(n),n}function xve(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[s++]=a)}return o}function ZG(){return[]}var Eve=Object.prototype,Sve=Eve.propertyIsEnumerable,RL=Object.getOwnPropertySymbols,Cve=RL?function(t){return t==null?[]:(t=Object(t),xve(RL(t),function(e){return Sve.call(t,e)}))}:ZG;const zI=Cve;function Ave(t,e){return e_(t,zI(t),e)}var Tve=Object.getOwnPropertySymbols,Dve=Tve?function(t){for(var e=[];t;)KG(e,zI(t)),t=jI(t);return e}:ZG;const JG=Dve;function Pve(t,e){return e_(t,JG(t),e)}function QG(t,e,r){var n=e(t);return kv(t)?n:KG(n,r(t))}function Rve(t){return QG(t,$I,zI)}function Ove(t){return QG(t,t_,JG)}var Ive=Xd(Ba,"DataView");const _P=Ive;var Bve=Xd(Ba,"Promise");const bP=Bve;var Fve=Xd(Ba,"Set");const wP=Fve;var OL="[object Map]",Mve="[object Object]",IL="[object Promise]",BL="[object Set]",FL="[object WeakMap]",ML="[object DataView]",kve=Kd(_P),Nve=Kd(Lv),Lve=Kd(bP),Uve=Kd(wP),$ve=Kd(vP),$c=Op;(_P&&$c(new _P(new ArrayBuffer(1)))!=ML||Lv&&$c(new Lv)!=OL||bP&&$c(bP.resolve())!=IL||wP&&$c(new wP)!=BL||vP&&$c(new vP)!=FL)&&($c=function(t){var e=Op(t),r=e==Mve?t.constructor:void 0,n=r?Kd(r):"";if(n)switch(n){case kve:return ML;case Nve:return OL;case Lve:return IL;case Uve:return BL;case $ve:return FL}return e});const GI=$c;var jve=Object.prototype,zve=jve.hasOwnProperty;function Gve(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&zve.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Vve=Ba.Uint8Array;const kL=Vve;function VI(t){var e=new t.constructor(t.byteLength);return new kL(e).set(new kL(t)),e}function Hve(t,e){var r=e?VI(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Wve=/\w*$/;function Kve(t){var e=new t.constructor(t.source,Wve.exec(t));return e.lastIndex=t.lastIndex,e}var NL=Qh?Qh.prototype:void 0,LL=NL?NL.valueOf:void 0;function Xve(t){return LL?Object(LL.call(t)):{}}function eV(t,e){var r=e?VI(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Yve="[object Boolean]",qve="[object Date]",Zve="[object Map]",Jve="[object Number]",Qve="[object RegExp]",eye="[object Set]",tye="[object String]",rye="[object Symbol]",nye="[object ArrayBuffer]",iye="[object DataView]",sye="[object Float32Array]",oye="[object Float64Array]",aye="[object Int8Array]",lye="[object Int16Array]",uye="[object Int32Array]",cye="[object Uint8Array]",dye="[object Uint8ClampedArray]",fye="[object Uint16Array]",hye="[object Uint32Array]";function pye(t,e,r){var n=t.constructor;switch(e){case nye:return VI(t);case Yve:case qve:return new n(+t);case iye:return Hve(t,r);case sye:case oye:case aye:case lye:case uye:case cye:case dye:case fye:case hye:return eV(t,r);case Zve:return new n;case Jve:case tye:return new n(t);case Qve:return Kve(t);case eye:return new n;case rye:return Xve(t)}}function tV(t){return typeof t.constructor=="function"&&!NI(t)?vme(jI(t)):{}}var mye="[object Map]";function gye(t){return Wd(t)&&GI(t)==mye}var UL=ep&&ep.isMap,vye=UL?UI(UL):gye;const yye=vye;var _ye="[object Set]";function bye(t){return Wd(t)&&GI(t)==_ye}var $L=ep&&ep.isSet,wye=$L?UI($L):bye;const xye=wye;var Eye=1,Sye=2,Cye=4,rV="[object Arguments]",Aye="[object Array]",Tye="[object Boolean]",Dye="[object Date]",Pye="[object Error]",nV="[object Function]",Rye="[object GeneratorFunction]",Oye="[object Map]",Iye="[object Number]",iV="[object Object]",Bye="[object RegExp]",Fye="[object Set]",Mye="[object String]",kye="[object Symbol]",Nye="[object WeakMap]",Lye="[object ArrayBuffer]",Uye="[object DataView]",$ye="[object Float32Array]",jye="[object Float64Array]",zye="[object Int8Array]",Gye="[object Int16Array]",Vye="[object Int32Array]",Hye="[object Uint8Array]",Wye="[object Uint8ClampedArray]",Kye="[object Uint16Array]",Xye="[object Uint32Array]",pr={};pr[rV]=pr[Aye]=pr[Lye]=pr[Uye]=pr[Tye]=pr[Dye]=pr[$ye]=pr[jye]=pr[zye]=pr[Gye]=pr[Vye]=pr[Oye]=pr[Iye]=pr[iV]=pr[Bye]=pr[Fye]=pr[Mye]=pr[kye]=pr[Hye]=pr[Wye]=pr[Kye]=pr[Xye]=!0;pr[Pye]=pr[nV]=pr[Nye]=!1;function Wb(t,e,r,n,s,o){var a,l=e&Eye,c=e&Sye,d=e&Cye;if(r&&(a=s?r(t,n,s,o):r(t)),a!==void 0)return a;if(!yc(t))return t;var h=kv(t);if(h){if(a=Gve(t),!l)return NG(t,a)}else{var m=GI(t),g=m==nV||m==Rye;if(LI(t))return qG(t,l);if(m==iV||m==rV||g&&!s){if(a=c||g?{}:tV(t),!l)return c?Pve(t,bve(a,t)):Ave(t,_ve(a,t))}else{if(!pr[m])return s?t:{};a=pye(t,m,l)}}o||(o=new Yd);var y=o.get(t);if(y)return y;o.set(t,a),xye(t)?t.forEach(function(f){a.add(Wb(f,e,r,f,t,o))}):yye(t)&&t.forEach(function(f,p){a.set(p,Wb(f,e,r,p,t,o))});var _=d?c?Ove:Rve:c?t_:$I,u=h?void 0:_(t);return Pme(u||t,function(f,p){u&&(p=f,f=t[p]),UG(a,p,Wb(f,e,r,p,t,o))}),a}var Yye=1,qye=4;function lYe(t){return Wb(t,Yye|qye)}function Zye(t){return function(e,r,n){for(var s=-1,o=Object(e),a=n(e),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}var Jye=Zye();const Qye=Jye;function xP(t,e,r){(r!==void 0&&!yE(t[e],r)||r===void 0&&!(e in t))&&kI(t,e,r)}function e_e(t){return Wd(t)&&_E(t)}function EP(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function t_e(t){return e_(t,t_(t))}function r_e(t,e,r,n,s,o,a){var l=EP(t,r),c=EP(e,r),d=a.get(c);if(d){xP(t,r,d);return}var h=o?o(l,c,r+"",t,e,a):void 0,m=h===void 0;if(m){var g=kv(c),y=!g&&LI(c),_=!g&&!y&&VG(c);h=c,g||y||_?kv(l)?h=l:e_e(l)?h=NG(l):y?(m=!1,h=qG(c,!0)):_?(m=!1,h=eV(c,!0)):h=[]:fve(c)||yP(c)?(h=l,yP(l)?h=t_e(l):(!yc(l)||MI(l))&&(h=tV(c))):m=!1}m&&(a.set(c,h),s(h,c,n,o,a),a.delete(c)),xP(t,r,h)}function sV(t,e,r,n,s){t!==e&&Qye(e,function(o,a){if(s||(s=new Yd),yc(o))r_e(t,e,a,r,sV,n,s);else{var l=n?n(EP(t,a),o,a+"",t,e,s):void 0;l===void 0&&(l=o),xP(t,a,l)}},t_)}var n_e=Lme(function(t,e,r){sV(t,e,r)});const uYe=n_e;function Qa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tp={duration:.5,overwrite:!1,delay:0},HI,ai,Kr,qs=1e8,dr=1/qs,SP=Math.PI*2,i_e=SP/4,s_e=0,aV=Math.sqrt,o_e=Math.cos,a_e=Math.sin,Un=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="function"},Dl=function(e){return typeof e=="number"},WI=function(e){return typeof e>"u"},Ta=function(e){return typeof e=="object"},Hi=function(e){return e!==!1},KI=function(){return typeof window<"u"},B0=function(e){return Xr(e)||Un(e)},lV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},li=Array.isArray,CP=/(?:-?\.?\d|\.)+/gi,uV=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,sh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ZC=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,cV=/[+-]=-?[.\d]+/,dV=/[^,'"\[\]\s]+/gi,l_e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$r,Ms,AP,XI,bs={},p1={},fV,hV=function(e){return(p1=Rd(e,bs))&&Yi},YI=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},m1=function(e,r){return!r&&console.warn(e)},pV=function(e,r){return e&&(bs[e]=r)&&p1&&(p1[e]=r)||bs},Uv=function(){return 0},u_e={suppressEvents:!0,isStart:!0,kill:!1},Kb={suppressEvents:!0,kill:!1},c_e={suppressEvents:!0},qI={},ju=[],TP={},mV,as={},JC={},jL=30,Xb=[],ZI="",JI=function(e){var r=e[0],n,s;if(Ta(r)||Xr(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=Xb.length;s--&&!Xb[s].targetTest(r););n=Xb[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new UV(e[s],n)))||e.splice(s,1);return e},fd=function(e){return e._gsap||JI(Zs(e))[0]._gsap},gV=function(e,r,n){return(n=e[r])&&Xr(n)?e[r]():WI(n)&&e.getAttribute&&e.getAttribute(r)||n},Wi=function(e,r){return(e=e.split(",")).forEach(r)||e},Qr=function(e){return Math.round(e*1e5)/1e5||0},Gn=function(e){return Math.round(e*1e7)/1e7||0},Eh=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},d_e=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},g1=function(){var e=ju.length,r=ju.slice(0),n,s;for(TP={},ju.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},vV=function(e,r,n,s){ju.length&&!ai&&g1(),e.render(r,n,s||ai&&r<0&&(e._initted||e._startAt)),ju.length&&!ai&&g1()},yV=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(dV).length<2?r:Un(e)?e.trim():e},_V=function(e){return e},lo=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},f_e=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},Rd=function(e,r){for(var n in r)e[n]=r[n];return e},zL=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Ta(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},v1=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Bg=function(e){var r=e.parent||$r,n=e.keyframes?f_e(li(e.keyframes)):lo;if(Hi(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},h_e=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},bV=function(e,r,n,s,o){n===void 0&&(n="_first"),s===void 0&&(s="_last");var a=e[s],l;if(o)for(l=r[o];a&&a[o]>l;)a=a._prev;return a?(r._next=a._next,a._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=a,r.parent=r._dp=e,r},xE=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=r._prev,a=r._next;o?o._next=a:e[n]===r&&(e[n]=a),a?a._prev=o:e[s]===r&&(e[s]=o),r._next=r._prev=r.parent=null},Zu=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},hd=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},p_e=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},DP=function(e,r,n,s){return e._startAt&&(ai?e._startAt.revert(Kb):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},m_e=function t(e){return!e||e._ts&&t(e.parent)},GL=function(e){return e._repeat?rp(e._tTime,e=e.duration()+e._rDelay)*e:0},rp=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},y1=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},EE=function(e){return e._end=Gn(e._start+(e._tDur/Math.abs(e._ts||e._rts||dr)||0))},SE=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Gn(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),EE(e),n._dirty||hd(n,e)),e},wV=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=y1(e.rawTime(),r),(!r._dur||r_(0,r.totalDuration(),n)-r._tTime>dr)&&r.render(n,!0)),hd(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-dr}},fa=function(e,r,n,s){return r.parent&&Zu(r),r._start=Gn((Dl(n)?n:n||e!==$r?Fs(e,n,r):e._time)+r._delay),r._end=Gn(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),bV(e,r,"_first","_last",e._sort?"_start":0),PP(r)||(e._recent=r),s||wV(e,r),e._ts<0&&SE(e,e._tTime),e},xV=function(e,r){return(bs.ScrollTrigger||YI("scrollTrigger",r))&&bs.ScrollTrigger.create(r,e)},EV=function(e,r,n,s,o){if(eB(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!ai&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&mV!==us.frame)return ju.push(e),e._lazy=[o,s],1},g_e=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},PP=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},v_e=function(e,r,n,s){var o=e.ratio,a=r<0||!r&&(!e._start&&g_e(e)&&!(!e._initted&&PP(e))||(e._ts<0||e._dp._ts<0)&&!PP(e))?0:1,l=e._rDelay,c=0,d,h,m;if(l&&e._repeat&&(c=r_(0,e._tDur,r),h=rp(c,l),e._yoyo&&h&1&&(a=1-a),h!==rp(e._tTime,l)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||ai||s||e._zTime===dr||!r&&e._zTime){if(!e._initted&&EV(e,r,s,n,c))return;for(m=e._zTime,e._zTime=r||(n?dr:0),n||(n=r&&!m),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,d=e._pt;d;)d.r(a,d.d),d=d._next;r<0&&DP(e,r,n,!0),e._onUpdate&&!n&&Js(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Js(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===a&&(a&&Zu(e,1),!n&&!ai&&(Js(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},y_e=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},np=function(e,r,n,s){var o=e._repeat,a=Gn(r)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:Gn(a*(o+1)+e._rDelay*o):a,l>0&&!s&&SE(e,e._tTime=e._tDur*l),e.parent&&EE(e),n||hd(e.parent,e),e},VL=function(e){return e instanceof Ui?hd(e):np(e,e._dur)},__e={_start:0,endTime:Uv,totalDuration:Uv},Fs=function t(e,r,n){var s=e.labels,o=e._recent||__e,a=e.duration()>=qs?o.endTime(!1):e._dur,l,c,d;return Un(r)&&(isNaN(r)||r in s)?(c=r.charAt(0),d=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(l<0?o:n).totalDuration()/100:1)):l<0?(r in s||(s[r]=a),s[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),d&&n&&(c=c/100*(li(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:a+c)):r==null?a:+r},Fg=function(e,r,n){var s=Dl(r[1]),o=(s?2:1)+(e<2?0:1),a=r[o],l,c;if(s&&(a.duration=r[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Hi(c.vars.inherit)&&c.parent;a.immediateRender=Hi(l.immediateRender),e<2?a.runBackwards=1:a.startAt=r[o-1]}return new an(r[0],a,r[o+1])},_c=function(e,r){return e||e===0?r(e):r},r_=function(e,r,n){return n<e?e:n>r?r:n},ri=function(e,r){return!Un(e)||!(r=l_e.exec(e))?"":r[1]},b_e=function(e,r,n){return _c(n,function(s){return r_(e,r,s)})},RP=[].slice,SV=function(e,r){return e&&Ta(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Ta(e[0]))&&!e.nodeType&&e!==Ms},w_e=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return Un(s)&&!r||SV(s,1)?(o=n).push.apply(o,Zs(s)):n.push(s)})||n},Zs=function(e,r,n){return Kr&&!r&&Kr.selector?Kr.selector(e):Un(e)&&!n&&(AP||!ip())?RP.call((r||XI).querySelectorAll(e),0):li(e)?w_e(e,n):SV(e)?RP.call(e,0):e?[e]:[]},OP=function(e){return e=Zs(e)[0]||m1("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return Zs(r,n.querySelectorAll?n:n===e?m1("Invalid scope")||XI.createElement("div"):e)}},CV=function(e){return e.sort(function(){return .5-Math.random()})},AV=function(e){if(Xr(e))return e;var r=Ta(e)?e:{each:e},n=pd(r.ease),s=r.from||0,o=parseFloat(r.base)||0,a={},l=s>0&&s<1,c=isNaN(s)||l,d=r.axis,h=s,m=s;return Un(s)?h=m={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(h=s[0],m=s[1]),function(g,y,_){var u=(_||r).length,f=a[u],p,v,b,w,x,S,A,D,C;if(!f){if(C=r.grid==="auto"?0:(r.grid||[1,qs])[1],!C){for(A=-qs;A<(A=_[C++].getBoundingClientRect().left)&&C<u;);C--}for(f=a[u]=[],p=c?Math.min(C,u)*h-.5:s%C,v=C===qs?0:c?u*m/C-.5:s/C|0,A=0,D=qs,S=0;S<u;S++)b=S%C-p,w=v-(S/C|0),f[S]=x=d?Math.abs(d==="y"?w:b):aV(b*b+w*w),x>A&&(A=x),x<D&&(D=x);s==="random"&&CV(f),f.max=A-D,f.min=D,f.v=u=(parseFloat(r.amount)||parseFloat(r.each)*(C>u?u-1:d?d==="y"?u/C:C:Math.max(C,u/C))||0)*(s==="edges"?-1:1),f.b=u<0?o-u:o,f.u=ri(r.amount||r.each)||0,n=n&&u<0?kV(n):n}return u=(f[g]-f.min)/f.max||0,Gn(f.b+(n?n(u):u)*f.v)+f.u}},IP=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=Gn(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Dl(n)?0:ri(n))}},TV=function(e,r){var n=li(e),s,o;return!n&&Ta(e)&&(s=n=e.radius||qs,e.values?(e=Zs(e.values),(o=!Dl(e[0]))&&(s*=s)):e=IP(e.increment)),_c(r,n?Xr(e)?function(a){return o=e(a),Math.abs(o-a)<=s?o:a}:function(a){for(var l=parseFloat(o?a.x:a),c=parseFloat(o?a.y:0),d=qs,h=0,m=e.length,g,y;m--;)o?(g=e[m].x-l,y=e[m].y-c,g=g*g+y*y):g=Math.abs(e[m]-l),g<d&&(d=g,h=m);return h=!s||d<=s?e[h]:a,o||h===a||Dl(a)?h:h+ri(a)}:IP(e))},DV=function(e,r,n,s){return _c(li(e)?!r:n===!0?!!(n=0):!s,function(){return li(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},x_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(o,a){return a(o)},s)}},E_e=function(e,r){return function(n){return e(parseFloat(n))+(r||ri(n))}},S_e=function(e,r,n){return RV(e,r,0,1,n)},PV=function(e,r,n){return _c(n,function(s){return e[~~r(s)]})},C_e=function t(e,r,n){var s=r-e;return li(e)?PV(e,t(0,e.length),r):_c(n,function(o){return(s+(o-e)%s)%s+e})},A_e=function t(e,r,n){var s=r-e,o=s*2;return li(e)?PV(e,t(0,e.length-1),r):_c(n,function(a){return a=(o+(a-e)%o)%o||0,e+(a>s?o-a:a)})},$v=function(e){for(var r=0,n="",s,o,a,l;~(s=e.indexOf("random(",r));)a=e.indexOf(")",s),l=e.charAt(s+7)==="[",o=e.substr(s+7,a-s-7).match(l?dV:CP),n+=e.substr(r,s-r)+DV(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),r=a+1;return n+e.substr(r,e.length-r)},RV=function(e,r,n,s,o){var a=r-e,l=s-n;return _c(o,function(c){return n+((c-e)/a*l||0)})},T_e=function t(e,r,n,s){var o=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!o){var a=Un(e),l={},c,d,h,m,g;if(n===!0&&(s=1)&&(n=null),a)e={p:e},r={p:r};else if(li(e)&&!li(r)){for(h=[],m=e.length,g=m-2,d=1;d<m;d++)h.push(t(e[d-1],e[d]));m--,o=function(_){_*=m;var u=Math.min(g,~~_);return h[u](_-u)},n=r}else s||(e=Rd(li(e)?[]:{},e));if(!h){for(c in r)QI.call(l,e,c,"get",r[c]);o=function(_){return nB(_,l)||(a?e.p:e)}}}return _c(n,o)},HL=function(e,r,n){var s=e.labels,o=qs,a,l,c;for(a in s)l=s[a]-r,l<0==!!n&&l&&o>(l=Math.abs(l))&&(c=a,o=l);return c},Js=function(e,r,n){var s=e.vars,o=s[r],a=Kr,l=e._ctx,c,d,h;if(o)return c=s[r+"Params"],d=s.callbackScope||e,n&&ju.length&&g1(),l&&(Kr=l),h=c?o.apply(d,c):o.call(d),Kr=a,h},Jm=function(e){return Zu(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ai),e.progress()<1&&Js(e,"onInterrupt"),e},oh,OV=[],IV=function(e){if(KI()&&e){e=!e.name&&e.default||e;var r=e.name,n=Xr(e),s=r&&!n&&e.init?function(){this._props=[]}:e,o={init:Uv,render:nB,add:QI,kill:G_e,modifier:z_e,rawVars:0},a={targetTest:0,get:0,getSetter:rB,aliases:{},register:0};if(ip(),e!==s){if(as[r])return;lo(s,lo(v1(e,o),a)),Rd(s.prototype,Rd(o,v1(e,a))),as[s.prop=r]=s,e.targetTest&&(Xb.push(s),qI[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}pV(r,s),e.register&&e.register(Yi,s,Ki)}else e&&OV.push(e)},cr=255,Qm={aqua:[0,cr,cr],lime:[0,cr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,cr],navy:[0,0,128],white:[cr,cr,cr],olive:[128,128,0],yellow:[cr,cr,0],orange:[cr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[cr,0,0],pink:[cr,192,203],cyan:[0,cr,cr],transparent:[cr,cr,cr,0]},QC=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*cr+.5|0},BV=function(e,r,n){var s=e?Dl(e)?[e>>16,e>>8&cr,e&cr]:0:Qm.black,o,a,l,c,d,h,m,g,y,_;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Qm[e])s=Qm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+o+o+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&cr,s&cr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&cr,e&cr]}else if(e.substr(0,3)==="hsl"){if(s=_=e.match(CP),!r)c=+s[0]%360/360,d=+s[1]/100,h=+s[2]/100,a=h<=.5?h*(d+1):h+d-h*d,o=h*2-a,s.length>3&&(s[3]*=1),s[0]=QC(c+1/3,o,a),s[1]=QC(c,o,a),s[2]=QC(c-1/3,o,a);else if(~e.indexOf("="))return s=e.match(uV),n&&s.length<4&&(s[3]=1),s}else s=e.match(CP)||Qm.transparent;s=s.map(Number)}return r&&!_&&(o=s[0]/cr,a=s[1]/cr,l=s[2]/cr,m=Math.max(o,a,l),g=Math.min(o,a,l),h=(m+g)/2,m===g?c=d=0:(y=m-g,d=h>.5?y/(2-m-g):y/(m+g),c=m===o?(a-l)/y+(a<l?6:0):m===a?(l-o)/y+2:(o-a)/y+4,c*=60),s[0]=~~(c+.5),s[1]=~~(d*100+.5),s[2]=~~(h*100+.5)),n&&s.length<4&&(s[3]=1),s},FV=function(e){var r=[],n=[],s=-1;return e.split(zu).forEach(function(o){var a=o.match(sh)||[];r.push.apply(r,a),n.push(s+=a.length+1)}),r.c=n,r},WL=function(e,r,n){var s="",o=(e+s).match(zu),a=r?"hsla(":"rgba(",l=0,c,d,h,m;if(!o)return e;if(o=o.map(function(g){return(g=BV(g,r,1))&&a+(r?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(h=FV(e),c=n.c,c.join(s)!==h.c.join(s)))for(d=e.replace(zu,"1").split(sh),m=d.length-1;l<m;l++)s+=d[l]+(~c.indexOf(l)?o.shift()||a+"0,0,0,0)":(h.length?h:o.length?o:n).shift());if(!d)for(d=e.split(zu),m=d.length-1;l<m;l++)s+=d[l]+o[l];return s+d[m]},zu=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Qm)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),D_e=/hsl[a]?\(/,MV=function(e){var r=e.join(" "),n;if(zu.lastIndex=0,zu.test(r))return n=D_e.test(r),e[1]=WL(e[1],n),e[0]=WL(e[0],n,FV(e[1])),!0},jv,us=function(){var t=Date.now,e=500,r=33,n=t(),s=n,o=1e3/240,a=o,l=[],c,d,h,m,g,y,_=function u(f){var p=t()-s,v=f===!0,b,w,x,S;if(p>e&&(n+=p-r),s+=p,x=s-n,b=x-a,(b>0||v)&&(S=++m.frame,g=x-m.time*1e3,m.time=x=x/1e3,a+=b+(b>=o?4:o-b),w=1),v||(c=d(u)),w)for(y=0;y<l.length;y++)l[y](x,g,S,f)};return m={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(f){return g/(1e3/(f||60))},wake:function(){fV&&(!AP&&KI()&&(Ms=AP=window,XI=Ms.document||{},bs.gsap=Yi,(Ms.gsapVersions||(Ms.gsapVersions=[])).push(Yi.version),hV(p1||Ms.GreenSockGlobals||!Ms.gsap&&Ms||{}),h=Ms.requestAnimationFrame,OV.forEach(IV)),c&&m.sleep(),d=h||function(f){return setTimeout(f,a-m.time*1e3+1|0)},jv=1,_(2))},sleep:function(){(h?Ms.cancelAnimationFrame:clearTimeout)(c),jv=0,d=Uv},lagSmoothing:function(f,p){e=f||1/0,r=Math.min(p||33,e)},fps:function(f){o=1e3/(f||240),a=m.time*1e3+o},add:function(f,p,v){var b=p?function(w,x,S,A){f(w,x,S,A),m.remove(b)}:f;return m.remove(f),l[v?"unshift":"push"](b),ip(),b},remove:function(f,p){~(p=l.indexOf(f))&&l.splice(p,1)&&y>=p&&y--},_listeners:l},m}(),ip=function(){return!jv&&us.wake()},Wt={},P_e=/^[\d.\-M][\d.\-,\s]/,R_e=/["']/g,O_e=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,a=n.length,l,c,d;o<a;o++)c=n[o],l=o!==a-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),r[s]=isNaN(d)?d.replace(R_e,"").trim():+d,s=c.substr(l+1).trim();return r},I_e=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},B_e=function(e){var r=(e+"").split("("),n=Wt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[O_e(r[1])]:I_e(e).split(",").map(yV)):Wt._CE&&P_e.test(e)?Wt._CE("",e):n},kV=function(e){return function(r){return 1-e(1-r)}},NV=function t(e,r){for(var n=e._first,s;n;)n instanceof Ui?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},pd=function(e,r){return e&&(Xr(e)?e:Wt[e]||B_e(e))||r},qd=function(e,r,n,s){n===void 0&&(n=function(c){return 1-r(1-c)}),s===void 0&&(s=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:s},a;return Wi(e,function(l){Wt[l]=bs[l]=o,Wt[a=l.toLowerCase()]=n;for(var c in o)Wt[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Wt[l+"."+c]=o[c]}),o},LV=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},eA=function t(e,r,n){var s=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),a=o/SP*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*a_e((h-a)*o)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:LV(l);return o=SP/o,c.config=function(d,h){return t(e,d,h)},c},tA=function t(e,r){r===void 0&&(r=1.70158);var n=function(a){return a?--a*a*((r+1)*a+r)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:LV(n);return s.config=function(o){return t(e,o)},s};Wi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;qd(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Wt.Linear.easeNone=Wt.none=Wt.Linear.easeIn;qd("Elastic",eA("in"),eA("out"),eA());(function(t,e){var r=1/e,n=2*r,s=2.5*r,o=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<s?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};qd("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);qd("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});qd("Circ",function(t){return-(aV(1-t*t)-1)});qd("Sine",function(t){return t===1?1:-o_e(t*i_e)+1});qd("Back",tA("in"),tA("out"),tA());Wt.SteppedEase=Wt.steps=bs.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),o=r?1:0,a=1-dr;return function(l){return((s*r_(0,a,l)|0)+o)*n}}};tp.ease=Wt["quad.out"];Wi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ZI+=t+","+t+"Params,"});var UV=function(e,r){this.id=s_e++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:gV,this.set=r?r.getSetter:rB},zv=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,np(this,+r.duration,1,1),this.data=r.data,Kr&&(this._ctx=Kr,Kr.data.push(this)),jv||us.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,np(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(ip(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(SE(this,n),!o._dp||o.parent||wV(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&fa(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===dr||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),vV(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+GL(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+GL(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?rp(this._tTime,o)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-dr?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?y1(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-dr?0:this._rts,this.totalTime(r_(-Math.abs(this._delay),this._tDur,s),!0),EE(this),p_e(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ip(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==dr&&(this._tTime-=dr)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&fa(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Hi(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?y1(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=c_e);var s=ai;return ai=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ai=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(s._ts||1),s=s._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,VL(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,VL(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Fs(this,n),Hi(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,Hi(s))},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-dr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-dr,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-dr)},e.eventCallback=function(n,s,o){var a=this.vars;return arguments.length>1?(s?(a[n]=s,o&&(a[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete a[n],this):a[n]},e.then=function(n){var s=this;return new Promise(function(o){var a=Xr(n)?n:_V,l=function(){var d=s.then;s.then=null,Xr(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=d),o(a),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){Jm(this)},t}();lo(zv.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-dr,_prom:0,_ps:!1,_rts:1});var Ui=function(t){oV(e,t);function e(n,s){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=Hi(n.sortChildren),$r&&fa(n.parent||$r,Qa(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&xV(Qa(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(s,o,a){return Fg(0,arguments,this),this},r.from=function(s,o,a){return Fg(1,arguments,this),this},r.fromTo=function(s,o,a,l){return Fg(2,arguments,this),this},r.set=function(s,o,a){return o.duration=0,o.parent=this,Bg(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new an(s,o,Fs(this,a),1),this},r.call=function(s,o,a){return fa(this,an.delayedCall(0,s,o),a)},r.staggerTo=function(s,o,a,l,c,d,h){return a.duration=o,a.stagger=a.stagger||l,a.onComplete=d,a.onCompleteParams=h,a.parent=this,new an(s,a,Fs(this,c)),this},r.staggerFrom=function(s,o,a,l,c,d,h){return a.runBackwards=1,Bg(a).immediateRender=Hi(a.immediateRender),this.staggerTo(s,o,a,l,c,d,h)},r.staggerFromTo=function(s,o,a,l,c,d,h,m){return l.startAt=a,Bg(l).immediateRender=Hi(l.immediateRender),this.staggerTo(s,o,l,c,d,h,m)},r.render=function(s,o,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=s<=0?0:Gn(s),m=this._zTime<0!=s<0&&(this._initted||!d),g,y,_,u,f,p,v,b,w,x,S,A;if(this!==$r&&h>c&&s>=0&&(h=c),h!==this._tTime||a||m){if(l!==this._time&&d&&(h+=this._time-l,s+=this._time-l),g=h,w=this._start,b=this._ts,p=!b,m&&(d||(l=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,f=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(f*100+s,o,a);if(g=Gn(h%f),h===c?(u=this._repeat,g=d):(u=~~(h/f),u&&u===h/f&&(g=d,u--),g>d&&(g=d)),x=rp(this._tTime,f),!l&&this._tTime&&x!==u&&this._tTime-x*f-this._dur<=0&&(x=u),S&&u&1&&(g=d-g,A=1),u!==x&&!this._lock){var D=S&&x&1,C=D===(S&&u&1);if(u<x&&(D=!D),l=D?0:h%d?d:h,this._lock=1,this.render(l||(A?0:Gn(u*f)),o,!d)._lock=0,this._tTime=h,!o&&this.parent&&Js(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),l&&l!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,C&&(this._lock=2,l=D?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;NV(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=y_e(this,Gn(l),Gn(g)),v&&(h-=g-(g=v._start))),this._tTime=h,this._time=g,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&g&&!o&&!u&&(Js(this,"onStart"),this._tTime!==h))return this;if(g>=l&&s>=0)for(y=this._first;y;){if(_=y._next,(y._act||g>=y._start)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,a);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,o,a),g!==this._time||!this._ts&&!p){v=0,_&&(h+=this._zTime=-dr);break}}y=_}else{y=this._last;for(var T=s<0?s:g;y;){if(_=y._prev,(y._act||T<=y._end)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,a);if(y.render(y._ts>0?(T-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(T-y._start)*y._ts,o,a||ai&&(y._initted||y._startAt)),g!==this._time||!this._ts&&!p){v=0,_&&(h+=this._zTime=T?-dr:dr);break}}y=_}}if(v&&!o&&(this.pause(),v.render(g>=l?0:-dr)._zTime=g>=l?1:-1,this._ts))return this._start=w,EE(this),this.render(s,o,a);this._onUpdate&&!o&&Js(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&l)&&(w===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(h===c&&this._ts>0||!h&&this._ts<0)&&Zu(this,1),!o&&!(s<0&&!l)&&(h||l||!c)&&(Js(this,h===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,o){var a=this;if(Dl(o)||(o=Fs(this,o,s)),!(s instanceof zv)){if(li(s))return s.forEach(function(l){return a.add(l,o)}),this;if(Un(s))return this.addLabel(s,o);if(Xr(s))s=an.delayedCall(0,s);else return this}return this!==s?fa(this,s,o):this},r.getChildren=function(s,o,a,l){s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),l===void 0&&(l=-qs);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof an?o&&c.push(d):(a&&c.push(d),s&&c.push.apply(c,d.getChildren(!0,o,a)))),d=d._next;return c},r.getById=function(s){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===s)return o[a]},r.remove=function(s){return Un(s)?this.removeLabel(s):Xr(s)?this.killTweensOf(s):(xE(this,s),s===this._recent&&(this._recent=this._last),hd(this))},r.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Gn(us.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},r.addLabel=function(s,o){return this.labels[s]=Fs(this,o),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,o,a){var l=an.delayedCall(0,o||Uv,a);return l.data="isPause",this._hasPause=1,fa(this,l,Fs(this,s))},r.removePause=function(s){var o=this._first;for(s=Fs(this,s);o;)o._start===s&&o.data==="isPause"&&Zu(o),o=o._next},r.killTweensOf=function(s,o,a){for(var l=this.getTweensOf(s,a),c=l.length;c--;)Su!==l[c]&&l[c].kill(s,o);return this},r.getTweensOf=function(s,o){for(var a=[],l=Zs(s),c=this._first,d=Dl(o),h;c;)c instanceof an?d_e(c._targets,l)&&(d?(!Su||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&a.push(c):(h=c.getTweensOf(l,o)).length&&a.push.apply(a,h),c=c._next;return a},r.tweenTo=function(s,o){o=o||{};var a=this,l=Fs(a,s),c=o,d=c.startAt,h=c.onStart,m=c.onStartParams,g=c.immediateRender,y,_=an.to(a,lo({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale())||dr,onStart:function(){if(a.pause(),!y){var f=o.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale());_._dur!==f&&np(_,f,0,1).render(_._time,!0,!0),y=1}h&&h.apply(_,m||[])}},o));return g?_.render(0):_},r.tweenFromTo=function(s,o,a){return this.tweenTo(o,lo({startAt:{time:Fs(this,s)}},a))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),HL(this,Fs(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),HL(this,Fs(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+dr)},r.shiftChildren=function(s,o,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,d;l;)l._start>=a&&(l._start+=s,l._end+=s),l=l._next;if(o)for(d in c)c[d]>=a&&(c[d]+=s);return hd(this)},r.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),hd(this)},r.totalDuration=function(s){var o=0,a=this,l=a._last,c=qs,d,h,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(m=a.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,fa(a,l,h-l._delay,1)._lock=0):c=h,h<0&&l._ts&&(o-=h,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=h/a._ts,a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=d;np(a,a===$r&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if($r._ts&&(vV($r,y1(s,$r)),mV=us.frame),us.frame>=jL){jL+=gs.autoSleep||120;var o=$r._first;if((!o||!o._ts)&&gs.autoSleep&&us._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||us.sleep()}}},e}(zv);lo(Ui.prototype,{_lock:0,_hasPause:0,_forcing:0});var F_e=function(e,r,n,s,o,a,l){var c=new Ki(this._pt,e,r,0,1,HV,null,o),d=0,h=0,m,g,y,_,u,f,p,v;for(c.b=n,c.e=s,n+="",s+="",(p=~s.indexOf("random("))&&(s=$v(s)),a&&(v=[n,s],a(v,e,r),n=v[0],s=v[1]),g=n.match(ZC)||[];m=ZC.exec(s);)_=m[0],u=s.substring(d,m.index),y?y=(y+1)%5:u.substr(-5)==="rgba("&&(y=1),_!==g[h++]&&(f=parseFloat(g[h-1])||0,c._pt={_next:c._pt,p:u||h===1?u:",",s:f,c:_.charAt(1)==="="?Eh(f,_)-f:parseFloat(_)-f,m:y&&y<4?Math.round:0},d=ZC.lastIndex);return c.c=d<s.length?s.substring(d,s.length):"",c.fp=l,(cV.test(s)||p)&&(c.e=0),this._pt=c,c},QI=function(e,r,n,s,o,a,l,c,d,h){Xr(s)&&(s=s(o||0,e,a));var m=e[r],g=n!=="get"?n:Xr(m)?d?e[r.indexOf("set")||!Xr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():m,y=Xr(m)?d?U_e:GV:tB,_;if(Un(s)&&(~s.indexOf("random(")&&(s=$v(s)),s.charAt(1)==="="&&(_=Eh(g,s)+(ri(g)||0),(_||_===0)&&(s=_))),!h||g!==s||BP)return!isNaN(g*s)&&s!==""?(_=new Ki(this._pt,e,r,+g||0,s-(g||0),typeof m=="boolean"?j_e:VV,0,y),d&&(_.fp=d),l&&_.modifier(l,this,e),this._pt=_):(!m&&!(r in e)&&YI(r,s),F_e.call(this,e,r,g,s,y,c||gs.stringFilter,d))},M_e=function(e,r,n,s,o){if(Xr(e)&&(e=Mg(e,o,r,n,s)),!Ta(e)||e.style&&e.nodeType||li(e)||lV(e))return Un(e)?Mg(e,o,r,n,s):e;var a={},l;for(l in e)a[l]=Mg(e[l],o,r,n,s);return a},$V=function(e,r,n,s,o,a){var l,c,d,h;if(as[e]&&(l=new as[e]).init(o,l.rawVars?r[e]:M_e(r[e],s,o,a,n),n,s,a)!==!1&&(n._pt=c=new Ki(n._pt,o,e,0,1,l.render,l,0,l.priority),n!==oh))for(d=n._ptLookup[n._targets.indexOf(o)],h=l._props.length;h--;)d[l._props[h]]=c;return l},Su,BP,eB=function t(e,r,n){var s=e.vars,o=s.ease,a=s.startAt,l=s.immediateRender,c=s.lazy,d=s.onUpdate,h=s.onUpdateParams,m=s.callbackScope,g=s.runBackwards,y=s.yoyoEase,_=s.keyframes,u=s.autoRevert,f=e._dur,p=e._startAt,v=e._targets,b=e.parent,w=b&&b.data==="nested"?b.vars.targets:v,x=e._overwrite==="auto"&&!HI,S=e.timeline,A,D,C,T,R,P,O,I,k,W,G,j,$;if(S&&(!_||!o)&&(o="none"),e._ease=pd(o,tp.ease),e._yEase=y?kV(pd(y===!0?o:y,tp.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!S&&!!s.runBackwards,!S||_&&!s.stagger){if(I=v[0]?fd(v[0]).harness:0,j=I&&s[I.prop],A=v1(s,qI),p&&(p._zTime<0&&p.progress(1),r<0&&g&&l&&!u?p.render(-1,!0):p.revert(g&&f?Kb:u_e),p._lazy=0),a){if(Zu(e._startAt=an.set(v,lo({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!p&&Hi(c),startAt:null,delay:0,onUpdate:d,onUpdateParams:h,callbackScope:m,stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ai||!l&&!u)&&e._startAt.revert(Kb),l&&f&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(g&&f&&!p){if(r&&(l=!1),C=lo({overwrite:!1,data:"isFromStart",lazy:l&&!p&&Hi(c),immediateRender:l,stagger:0,parent:b},A),j&&(C[I.prop]=j),Zu(e._startAt=an.set(v,C)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ai?e._startAt.revert(Kb):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,dr,dr);else if(!r)return}for(e._pt=e._ptCache=0,c=f&&Hi(c)||c&&!f,D=0;D<v.length;D++){if(R=v[D],O=R._gsap||JI(v)[D]._gsap,e._ptLookup[D]=W={},TP[O.id]&&ju.length&&g1(),G=w===v?D:w.indexOf(R),I&&(k=new I).init(R,j||A,e,G,w)!==!1&&(e._pt=T=new Ki(e._pt,R,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(K){W[K]=T}),k.priority&&(P=1)),!I||j)for(C in A)as[C]&&(k=$V(C,A,e,G,R,w))?k.priority&&(P=1):W[C]=T=QI.call(e,R,C,"get",A[C],G,w,0,s.stringFilter);e._op&&e._op[D]&&e.kill(R,e._op[D]),x&&e._pt&&(Su=e,$r.killTweensOf(R,W,e.globalTime(r)),$=!e.parent,Su=0),e._pt&&c&&(TP[O.id]=1)}P&&WV(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!$,_&&r<=0&&S.render(qs,!0,!0)},k_e=function(e,r,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],d,h,m,g;if(!c)for(c=e._ptCache[r]=[],m=e._ptLookup,g=e._targets.length;g--;){if(d=m[g][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return BP=1,e.vars[r]="+=0",eB(e,l),BP=0,1;c.push(d)}for(g=c.length;g--;)h=c[g],d=h._pt||h,d.s=(s||s===0)&&!o?s:d.s+(s||0)+a*d.c,d.c=n-d.s,h.e&&(h.e=Qr(n)+ri(h.e)),h.b&&(h.b=d.s+ri(h.b))},N_e=function(e,r){var n=e[0]?fd(e[0]).harness:0,s=n&&n.aliases,o,a,l,c;if(!s)return r;o=Rd({},r);for(a in s)if(a in o)for(c=s[a].split(","),l=c.length;l--;)o[c[l]]=o[a];return o},L_e=function(e,r,n,s){var o=r.ease||s||"power1.inOut",a,l;if(li(r))l=n[e]||(n[e]=[]),r.forEach(function(c,d){return l.push({t:d/(r.length-1)*100,v:c,e:o})});else for(a in r)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:r[a],e:o})},Mg=function(e,r,n,s,o){return Xr(e)?e.call(r,n,s,o):Un(e)&&~e.indexOf("random(")?$v(e):e},jV=ZI+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",zV={};Wi(jV+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return zV[t]=1});var an=function(t){oV(e,t);function e(n,s,o,a){var l;typeof s=="number"&&(o.duration=s,s=o,o=null),l=t.call(this,a?s:Bg(s))||this;var c=l.vars,d=c.duration,h=c.delay,m=c.immediateRender,g=c.stagger,y=c.overwrite,_=c.keyframes,u=c.defaults,f=c.scrollTrigger,p=c.yoyoEase,v=s.parent||$r,b=(li(n)||lV(n)?Dl(n[0]):"length"in s)?[n]:Zs(n),w,x,S,A,D,C,T,R;if(l._targets=b.length?JI(b):m1("GSAP target "+n+" not found. https://greensock.com",!gs.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,_||g||B0(d)||B0(h)){if(s=l.vars,w=l.timeline=new Ui({data:"nested",defaults:u||{},targets:v&&v.data==="nested"?v.vars.targets:b}),w.kill(),w.parent=w._dp=Qa(l),w._start=0,g||B0(d)||B0(h)){if(A=b.length,T=g&&AV(g),Ta(g))for(D in g)~jV.indexOf(D)&&(R||(R={}),R[D]=g[D]);for(x=0;x<A;x++)S=v1(s,zV),S.stagger=0,p&&(S.yoyoEase=p),R&&Rd(S,R),C=b[x],S.duration=+Mg(d,Qa(l),x,C,b),S.delay=(+Mg(h,Qa(l),x,C,b)||0)-l._delay,!g&&A===1&&S.delay&&(l._delay=h=S.delay,l._start+=h,S.delay=0),w.to(C,S,T?T(x,C,b):0),w._ease=Wt.none;w.duration()?d=h=0:l.timeline=0}else if(_){Bg(lo(w.vars.defaults,{ease:"none"})),w._ease=pd(_.ease||s.ease||"none");var P=0,O,I,k;if(li(_))_.forEach(function(W){return w.to(b,W,">")}),w.duration();else{S={};for(D in _)D==="ease"||D==="easeEach"||L_e(D,_[D],S,_.easeEach);for(D in S)for(O=S[D].sort(function(W,G){return W.t-G.t}),P=0,x=0;x<O.length;x++)I=O[x],k={ease:I.e,duration:(I.t-(x?O[x-1].t:0))/100*d},k[D]=I.v,w.to(b,k,P),P+=k.duration;w.duration()<d&&w.to({},{duration:d-w.duration()})}}d||l.duration(d=w.duration())}else l.timeline=0;return y===!0&&!HI&&(Su=Qa(l),$r.killTweensOf(b),Su=0),fa(v,Qa(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(m||!d&&!_&&l._start===Gn(v._time)&&Hi(m)&&m_e(Qa(l))&&v.data!=="nested")&&(l._tTime=-dr,l.render(Math.max(0,-h)||0)),f&&xV(Qa(l),f),l}var r=e.prototype;return r.render=function(s,o,a){var l=this._time,c=this._tDur,d=this._dur,h=s<0,m=s>c-dr&&!h?c:s<dr?0:s,g,y,_,u,f,p,v,b,w;if(!d)v_e(this,s,o,a);else if(m!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(g=m,b=this.timeline,this._repeat){if(u=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(u*100+s,o,a);if(g=Gn(m%u),m===c?(_=this._repeat,g=d):(_=~~(m/u),_&&_===m/u&&(g=d,_--),g>d&&(g=d)),p=this._yoyo&&_&1,p&&(w=this._yEase,g=d-g),f=rp(this._tTime,u),g===l&&!a&&this._initted)return this._tTime=m,this;_!==f&&(b&&this._yEase&&NV(b,p),this.vars.repeatRefresh&&!p&&!this._lock&&(this._lock=a=1,this.render(Gn(u*_),!0).invalidate()._lock=0))}if(!this._initted){if(EV(this,h?s:g,a,o,m))return this._tTime=0,this;if(l!==this._time)return this;if(d!==this._dur)return this.render(s,o,a)}if(this._tTime=m,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(w||this._ease)(g/d),this._from&&(this.ratio=v=1-v),g&&!l&&!o&&!_&&(Js(this,"onStart"),this._tTime!==m))return this;for(y=this._pt;y;)y.r(v,y.d),y=y._next;b&&b.render(s<0?s:!g&&p?-dr:b._dur*b._ease(g/this._dur),o,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(h&&DP(this,s,o,a),Js(this,"onUpdate")),this._repeat&&_!==f&&this.vars.onRepeat&&!o&&this.parent&&Js(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&DP(this,s,!0,!0),(s||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Zu(this,1),!o&&!(h&&!l)&&(m||l||p)&&(Js(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,o,a,l){jv||us.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||eB(this,c),d=this._ease(c/this._dur),k_e(this,s,o,a,l,d,c)?this.resetTo(s,o,a,l):(SE(this,0),this.parent||bV(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?Jm(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,Su&&Su.vars.overwrite!==!0)._first||Jm(this),this.parent&&a!==this.timeline.totalDuration()&&np(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=s?Zs(s):l,d=this._ptLookup,h=this._pt,m,g,y,_,u,f,p;if((!o||o==="all")&&h_e(l,c))return o==="all"&&(this._pt=0),Jm(this);for(m=this._op=this._op||[],o!=="all"&&(Un(o)&&(u={},Wi(o,function(v){return u[v]=1}),o=u),o=N_e(l,o)),p=l.length;p--;)if(~c.indexOf(l[p])){g=d[p],o==="all"?(m[p]=o,_=g,y={}):(y=m[p]=m[p]||{},_=o);for(u in _)f=g&&g[u],f&&((!("kill"in f.d)||f.d.kill(u)===!0)&&xE(this,f,"_pt"),delete g[u]),y!=="all"&&(y[u]=1)}return this._initted&&!this._pt&&h&&Jm(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return Fg(1,arguments)},e.delayedCall=function(s,o,a,l){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(s,o,a){return Fg(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,a){return $r.killTweensOf(s,o,a)},e}(zv);lo(an.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wi("staggerTo,staggerFrom,staggerFromTo",function(t){an[t]=function(){var e=new Ui,r=RP.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var tB=function(e,r,n){return e[r]=n},GV=function(e,r,n){return e[r](n)},U_e=function(e,r,n,s){return e[r](s.fp,n)},$_e=function(e,r,n){return e.setAttribute(r,n)},rB=function(e,r){return Xr(e[r])?GV:WI(e[r])&&e.setAttribute?$_e:tB},VV=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},j_e=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},HV=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},nB=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},z_e=function(e,r,n,s){for(var o=this._pt,a;o;)a=o._next,o.p===s&&o.modifier(e,r,n),o=a},G_e=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?xE(this,r,"_pt"):r.dep||(n=1),r=s;return!n},V_e=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},WV=function(e){for(var r=e._pt,n,s,o,a;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:a)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:a=r,r=n}e._pt=o},Ki=function(){function t(r,n,s,o,a,l,c,d,h){this.t=n,this.s=o,this.c=a,this.p=s,this.r=l||VV,this.d=c||this,this.set=d||tB,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=V_e,this.m=n,this.mt=o,this.tween=s},t}();Wi(ZI+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return qI[t]=1});bs.TweenMax=bs.TweenLite=an;bs.TimelineLite=bs.TimelineMax=Ui;$r=new Ui({sortChildren:!1,defaults:tp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gs.stringFilter=MV;var md=[],Yb={},H_e=[],KL=0,W_e=0,rA=function(e){return(Yb[e]||H_e).map(function(r){return r()})},FP=function(){var e=Date.now(),r=[];e-KL>2&&(rA("matchMediaInit"),md.forEach(function(n){var s=n.queries,o=n.conditions,a,l,c,d;for(l in s)a=Ms.matchMedia(s[l]).matches,a&&(c=1),a!==o[l]&&(o[l]=a,d=1);d&&(n.revert(),c&&r.push(n))}),rA("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),KL=e,rA("matchMedia"))},KV=function(){function t(r,n){this.selector=n&&OP(n),this.data=[],this._r=[],this.isReverted=!1,this.id=W_e++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,o){Xr(n)&&(o=s,s=n,n=Xr);var a=this,l=function(){var d=Kr,h=a.selector,m;return d&&d!==a&&d.data.push(a),o&&(a.selector=OP(o)),Kr=a,m=s.apply(a,arguments),Xr(m)&&a._r.push(m),Kr=d,a.selector=h,a.isReverted=!1,m};return a.last=l,n===Xr?l(a):n?a[n]=l:l},e.ignore=function(n){var s=Kr;Kr=null,n(this),Kr=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof an&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n){var a=this.getTweens();this.data.forEach(function(c){c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}))}),a.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),this.data.forEach(function(c){return!(c instanceof an)&&c.revert&&c.revert(n)}),this._r.forEach(function(c){return c(n,o)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),s)for(var l=md.length;l--;)md[l].id===this.id&&md.splice(l,1)},e.revert=function(n){this.kill(n||{})},t}(),K_e=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,s,o){Ta(n)||(n={matches:n});var a=new KV(0,o||this.scope),l=a.conditions={},c,d,h;Kr&&!a.selector&&(a.selector=Kr.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=n;for(d in n)d==="all"?h=1:(c=Ms.matchMedia(n[d]),c&&(md.indexOf(a)<0&&md.push(a),(l[d]=c.matches)&&(h=1),c.addListener?c.addListener(FP):c.addEventListener("change",FP)));return h&&s(a),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),_1={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return IV(s)})},timeline:function(e){return new Ui(e)},getTweensOf:function(e,r){return $r.getTweensOf(e,r)},getProperty:function(e,r,n,s){Un(e)&&(e=Zs(e)[0]);var o=fd(e||{}).get,a=n?_V:yV;return n==="native"&&(n=""),e&&(r?a((as[r]&&as[r].get||o)(e,r,n,s)):function(l,c,d){return a((as[l]&&as[l].get||o)(e,l,c,d))})},quickSetter:function(e,r,n){if(e=Zs(e),e.length>1){var s=e.map(function(h){return Yi.quickSetter(h,r,n)}),o=s.length;return function(h){for(var m=o;m--;)s[m](h)}}e=e[0]||{};var a=as[r],l=fd(e),c=l.harness&&(l.harness.aliases||{})[r]||r,d=a?function(h){var m=new a;oh._pt=0,m.init(e,n?h+n:h,oh,0,[e]),m.render(1,m),oh._pt&&nB(1,oh)}:l.set(e,c);return a?d:function(h){return d(e,c,n?h+n:h,l,1)}},quickTo:function(e,r,n){var s,o=Yi.to(e,Rd((s={},s[r]="+=0.1",s.paused=!0,s),n||{})),a=function(c,d,h){return o.resetTo(r,c,d,h)};return a.tween=o,a},isTweening:function(e){return $r.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=pd(e.ease,tp.ease)),zL(tp,e||{})},config:function(e){return zL(gs,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,o=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!as[l]&&!bs[l]&&m1(r+" effect requires "+l+" plugin.")}),JC[r]=function(l,c,d){return n(Zs(l),lo(c||{},o),d)},a&&(Ui.prototype[r]=function(l,c,d){return this.add(JC[r](l,Ta(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){Wt[e]=pd(r)},parseEase:function(e,r){return arguments.length?pd(e,r):Wt},getById:function(e){return $r.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Ui(e),s,o;for(n.smoothChildTiming=Hi(e.smoothChildTiming),$r.remove(n),n._dp=0,n._time=n._tTime=$r._time,s=$r._first;s;)o=s._next,(r||!(!s._dur&&s instanceof an&&s.vars.onComplete===s._targets[0]))&&fa(n,s,s._start-s._delay),s=o;return fa($r,n,0),n},context:function(e,r){return e?new KV(e,r):Kr},matchMedia:function(e){return new K_e(e)},matchMediaRefresh:function(){return md.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||FP()},addEventListener:function(e,r){var n=Yb[e]||(Yb[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=Yb[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:C_e,wrapYoyo:A_e,distribute:AV,random:DV,snap:TV,normalize:S_e,getUnit:ri,clamp:b_e,splitColor:BV,toArray:Zs,selector:OP,mapRange:RV,pipe:x_e,unitize:E_e,interpolate:T_e,shuffle:CV},install:hV,effects:JC,ticker:us,updateRoot:Ui.updateRoot,plugins:as,globalTimeline:$r,core:{PropTween:Ki,globals:pV,Tween:an,Timeline:Ui,Animation:zv,getCache:fd,_removeLinkedListItem:xE,reverting:function(){return ai},context:function(e){return e&&Kr&&(Kr.data.push(e),e._ctx=Kr),Kr},suppressOverwrites:function(e){return HI=e}}};Wi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _1[t]=an[t]});us.add(Ui.updateRoot);oh=_1.to({},{duration:0});var X_e=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},Y_e=function(e,r){var n=e._targets,s,o,a;for(s in r)for(o=n.length;o--;)a=e._ptLookup[o][s],a&&(a=a.d)&&(a._pt&&(a=X_e(a,s)),a&&a.modifier&&a.modifier(r[s],e,n[o],s))},nA=function(e,r){return{name:e,rawVars:1,init:function(s,o,a){a._onInit=function(l){var c,d;if(Un(o)&&(c={},Wi(o,function(h){return c[h]=1}),o=c),r){c={};for(d in o)c[d]=r(o[d]);o=c}Y_e(l,o)}}}},Yi=_1.registerPlugin({name:"attr",init:function(e,r,n,s,o){var a,l,c;this.tween=n;for(a in r)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",r[a],s,o,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,r){for(var n=r._pt;n;)ai?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},nA("roundProps",IP),nA("modifiers"),nA("snap",TV))||_1;an.version=Ui.version=Yi.version="3.12.2";fV=1;KI()&&ip();Wt.Power0;Wt.Power1;Wt.Power2;Wt.Power3;Wt.Power4;Wt.Linear;Wt.Quad;Wt.Cubic;Wt.Quart;Wt.Quint;Wt.Strong;Wt.Elastic;Wt.Back;Wt.SteppedEase;Wt.Bounce;Wt.Sine;Wt.Expo;Wt.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var XL,Cu,Sh,iB,Zc,YL,sB,q_e=function(){return typeof window<"u"},Pl={},jc=180/Math.PI,Ch=Math.PI/180,gf=Math.atan2,qL=1e8,oB=/([A-Z])/g,Z_e=/(left|right|width|margin|padding|x)/i,J_e=/[\s,\(]\S/,ma={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},MP=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Q_e=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},e0e=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},t0e=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},XV=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},YV=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},r0e=function(e,r,n){return e.style[r]=n},n0e=function(e,r,n){return e.style.setProperty(r,n)},i0e=function(e,r,n){return e._gsap[r]=n},s0e=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},o0e=function(e,r,n,s,o){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(o,a)},a0e=function(e,r,n,s,o){var a=e._gsap;a[r]=n,a.renderTransform(o,a)},zr="transform",Uo=zr+"Origin",l0e=function t(e,r){var n=this,s=this.target,o=s.style;if(e in Pl&&o){if(this.tfm=this.tfm||{},e!=="transform")e=ma[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=il(s,a)}):this.tfm[e]=s._gsap.x?s._gsap[e]:il(s,e);else return ma.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(zr)>=0)return;s._gsap.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Uo,r,"")),e=zr}(o||r)&&this.props.push(e,r,o[e])},qV=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},u0e=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(oB,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=sB(),(!o||!o.isStart)&&!n[zr]&&(qV(n),s.uncache=1)}},ZV=function(e,r){var n={target:e,props:[],revert:u0e,save:l0e};return e._gsap||Yi.core.getCache(e),r&&r.split(",").forEach(function(s){return n.save(s)}),n},JV,kP=function(e,r){var n=Cu.createElementNS?Cu.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Cu.createElement(e);return n.style?n:Cu.createElement(e)},xa=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(oB,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,sp(r)||r,1)||""},ZL="O,Moz,ms,Ms,Webkit".split(","),sp=function(e,r,n){var s=r||Zc,o=s.style,a=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(ZL[a]+e in o););return a<0?null:(a===3?"ms":a>=0?ZL[a]:"")+e},NP=function(){q_e()&&window.document&&(XL=window,Cu=XL.document,Sh=Cu.documentElement,Zc=kP("div")||{style:{}},kP("div"),zr=sp(zr),Uo=zr+"Origin",Zc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",JV=!!sp("perspective"),sB=Yi.core.reverting,iB=1)},iA=function t(e){var r=kP("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,o=this.style.cssText,a;if(Sh.appendChild(r),r.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(l){}else this._gsapBBox&&(a=this._gsapBBox());return n&&(s?n.insertBefore(this,s):n.appendChild(this)),Sh.removeChild(r),this.style.cssText=o,a},JL=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},QV=function(e){var r;try{r=e.getBBox()}catch(n){r=iA.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===iA||(r=iA.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+JL(e,["x","cx","x1"])||0,y:+JL(e,["y","cy","y1"])||0,width:0,height:0}:r},eH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&QV(e))},Gv=function(e,r){if(r){var n=e.style;r in Pl&&r!==Uo&&(r=zr),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(oB,"-$1").toLowerCase())):n.removeAttribute(r)}},Au=function(e,r,n,s,o,a){var l=new Ki(e._pt,r,n,0,1,a?YV:XV);return e._pt=l,l.b=s,l.e=o,e._props.push(n),l},QL={deg:1,rad:1,turn:1},c0e={grid:1,flex:1},Ju=function t(e,r,n,s){var o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",l=Zc.style,c=Z_e.test(r),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(c?"Width":"Height"),m=100,g=s==="px",y=s==="%",_,u,f,p;return s===a||!o||QL[s]||QL[a]?o:(a!=="px"&&!g&&(o=t(e,r,n,"px")),p=e.getCTM&&eH(e),(y||a==="%")&&(Pl[r]||~r.indexOf("adius"))?(_=p?e.getBBox()[c?"width":"height"]:e[h],Qr(y?o/_*m:o/100*_)):(l[c?"width":"height"]=m+(g?a:s),u=~r.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,p&&(u=(e.ownerSVGElement||{}).parentNode),(!u||u===Cu||!u.appendChild)&&(u=Cu.body),f=u._gsap,f&&y&&f.width&&c&&f.time===us.time&&!f.uncache?Qr(o/f.width*m):((y||a==="%")&&!c0e[xa(u,"display")]&&(l.position=xa(e,"position")),u===e&&(l.position="static"),u.appendChild(Zc),_=Zc[h],u.removeChild(Zc),l.position="absolute",c&&y&&(f=fd(u),f.time=us.time,f.width=u[h]),Qr(g?_*o/m:_&&o?m/_*o:0))))},il=function(e,r,n,s){var o;return iB||NP(),r in ma&&r!=="transform"&&(r=ma[r],~r.indexOf(",")&&(r=r.split(",")[0])),Pl[r]&&r!=="transform"?(o=Hv(e,s),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:w1(xa(e,Uo))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=b1[r]&&b1[r](e,r,n)||xa(e,r)||gV(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?Ju(e,r,o,n)+n:o},d0e=function(e,r,n,s){if(!n||n==="none"){var o=sp(r,e,1),a=o&&xa(e,o,1);a&&a!==n?(r=o,n=a):r==="borderColor"&&(n=xa(e,"borderTopColor"))}var l=new Ki(this._pt,e.style,r,0,1,HV),c=0,d=0,h,m,g,y,_,u,f,p,v,b,w,x;if(l.b=n,l.e=s,n+="",s+="",s==="auto"&&(e.style[r]=s,s=xa(e,r)||s,e.style[r]=n),h=[n,s],MV(h),n=h[0],s=h[1],g=n.match(sh)||[],x=s.match(sh)||[],x.length){for(;m=sh.exec(s);)f=m[0],v=s.substring(c,m.index),_?_=(_+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(_=1),f!==(u=g[d++]||"")&&(y=parseFloat(u)||0,w=u.substr((y+"").length),f.charAt(1)==="="&&(f=Eh(y,f)+w),p=parseFloat(f),b=f.substr((p+"").length),c=sh.lastIndex-b.length,b||(b=b||gs.units[r]||w,c===s.length&&(s+=b,l.e+=b)),w!==b&&(y=Ju(e,r,u,b)||0),l._pt={_next:l._pt,p:v||d===1?v:",",s:y,c:p-y,m:_&&_<4||r==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=r==="display"&&s==="none"?YV:XV;return cV.test(s)&&(l.e=0),this._pt=l,l},eU={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},f0e=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=eU[n]||n,r[1]=eU[s]||s,r.join(" ")},h0e=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,o=r.u,a=n._gsap,l,c,d;if(o==="all"||o===!0)s.cssText="",c=1;else for(o=o.split(","),d=o.length;--d>-1;)l=o[d],Pl[l]&&(c=1,l=l==="transformOrigin"?Uo:zr),Gv(n,l);c&&(Gv(n,zr),a&&(a.svg&&n.removeAttribute("transform"),Hv(n,1),a.uncache=1,qV(s)))}},b1={clearProps:function(e,r,n,s,o){if(o.data!=="isFromStart"){var a=e._pt=new Ki(e._pt,r,n,0,0,h0e);return a.u=s,a.pr=-10,a.tween=o,e._props.push(n),1}}},Vv=[1,0,0,1,0,0],tH={},rH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},tU=function(e){var r=xa(e,zr);return rH(r)?Vv:r.substr(7).match(uV).map(Qr)},aB=function(e,r){var n=e._gsap||fd(e),s=e.style,o=tU(e),a,l,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Vv:o):(o===Vv&&!e.offsetParent&&e!==Sh&&!n.svg&&(c=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(d=1,l=e.nextElementSibling,Sh.appendChild(e)),o=tU(e),c?s.display=c:Gv(e,"display"),d&&(l?a.insertBefore(e,l):a?a.appendChild(e):Sh.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},LP=function(e,r,n,s,o,a){var l=e._gsap,c=o||aB(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,m=l.xOffset||0,g=l.yOffset||0,y=c[0],_=c[1],u=c[2],f=c[3],p=c[4],v=c[5],b=r.split(" "),w=parseFloat(b[0])||0,x=parseFloat(b[1])||0,S,A,D,C;n?c!==Vv&&(A=y*f-_*u)&&(D=w*(f/A)+x*(-u/A)+(u*v-f*p)/A,C=w*(-_/A)+x*(y/A)-(y*v-_*p)/A,w=D,x=C):(S=QV(e),w=S.x+(~b[0].indexOf("%")?w/100*S.width:w),x=S.y+(~(b[1]||b[0]).indexOf("%")?x/100*S.height:x)),s||s!==!1&&l.smooth?(p=w-d,v=x-h,l.xOffset=m+(p*y+v*u)-p,l.yOffset=g+(p*_+v*f)-v):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=x,l.smooth=!!s,l.origin=r,l.originIsAbsolute=!!n,e.style[Uo]="0px 0px",a&&(Au(a,l,"xOrigin",d,w),Au(a,l,"yOrigin",h,x),Au(a,l,"xOffset",m,l.xOffset),Au(a,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+x)},Hv=function(e,r){var n=e._gsap||new UV(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),d=xa(e,Uo)||"0",h,m,g,y,_,u,f,p,v,b,w,x,S,A,D,C,T,R,P,O,I,k,W,G,j,$,K,Q,ue,pe,oe,he;return h=m=g=u=f=p=v=b=w=0,y=_=1,n.svg=!!(e.getCTM&&eH(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[zr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[zr]!=="none"?c[zr]:"")),s.scale=s.rotate=s.translate="none"),A=aB(e,n.svg),n.svg&&(n.uncache?(j=e.getBBox(),d=n.xOrigin-j.x+"px "+(n.yOrigin-j.y)+"px",G=""):G=!r&&e.getAttribute("data-svg-origin"),LP(e,G||d,!!G||n.originIsAbsolute,n.smooth!==!1,A)),x=n.xOrigin||0,S=n.yOrigin||0,A!==Vv&&(R=A[0],P=A[1],O=A[2],I=A[3],h=k=A[4],m=W=A[5],A.length===6?(y=Math.sqrt(R*R+P*P),_=Math.sqrt(I*I+O*O),u=R||P?gf(P,R)*jc:0,v=O||I?gf(O,I)*jc+u:0,v&&(_*=Math.abs(Math.cos(v*Ch))),n.svg&&(h-=x-(x*R+S*O),m-=S-(x*P+S*I))):(he=A[6],pe=A[7],K=A[8],Q=A[9],ue=A[10],oe=A[11],h=A[12],m=A[13],g=A[14],D=gf(he,ue),f=D*jc,D&&(C=Math.cos(-D),T=Math.sin(-D),G=k*C+K*T,j=W*C+Q*T,$=he*C+ue*T,K=k*-T+K*C,Q=W*-T+Q*C,ue=he*-T+ue*C,oe=pe*-T+oe*C,k=G,W=j,he=$),D=gf(-O,ue),p=D*jc,D&&(C=Math.cos(-D),T=Math.sin(-D),G=R*C-K*T,j=P*C-Q*T,$=O*C-ue*T,oe=I*T+oe*C,R=G,P=j,O=$),D=gf(P,R),u=D*jc,D&&(C=Math.cos(D),T=Math.sin(D),G=R*C+P*T,j=k*C+W*T,P=P*C-R*T,W=W*C-k*T,R=G,k=j),f&&Math.abs(f)+Math.abs(u)>359.9&&(f=u=0,p=180-p),y=Qr(Math.sqrt(R*R+P*P+O*O)),_=Qr(Math.sqrt(W*W+he*he)),D=gf(k,W),v=Math.abs(D)>2e-4?D*jc:0,w=oe?1/(oe<0?-oe:oe):0),n.svg&&(G=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!rH(xa(e,zr)),G&&e.setAttribute("transform",G))),Math.abs(v)>90&&Math.abs(v)<270&&(o?(y*=-1,v+=u<=0?180:-180,u+=u<=0?180:-180):(_*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=m-((n.yPercent=m&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=g+a,n.scaleX=Qr(y),n.scaleY=Qr(_),n.rotation=Qr(u)+l,n.rotationX=Qr(f)+l,n.rotationY=Qr(p)+l,n.skewX=v+l,n.skewY=b+l,n.transformPerspective=w+a,(n.zOrigin=parseFloat(d.split(" ")[2])||0)&&(s[Uo]=w1(d)),n.xOffset=n.yOffset=0,n.force3D=gs.force3D,n.renderTransform=n.svg?m0e:JV?nH:p0e,n.uncache=0,n},w1=function(e){return(e=e.split(" "))[0]+" "+e[1]},sA=function(e,r,n){var s=ri(r);return Qr(parseFloat(r)+parseFloat(Ju(e,"x",n+"px",s)))+s},p0e=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,nH(e,r)},Oc="0deg",Pm="0px",Ic=") ",nH=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.z,d=n.rotation,h=n.rotationY,m=n.rotationX,g=n.skewX,y=n.skewY,_=n.scaleX,u=n.scaleY,f=n.transformPerspective,p=n.force3D,v=n.target,b=n.zOrigin,w="",x=p==="auto"&&e&&e!==1||p===!0;if(b&&(m!==Oc||h!==Oc)){var S=parseFloat(h)*Ch,A=Math.sin(S),D=Math.cos(S),C;S=parseFloat(m)*Ch,C=Math.cos(S),a=sA(v,a,A*C*-b),l=sA(v,l,-Math.sin(S)*-b),c=sA(v,c,D*C*-b+b)}f!==Pm&&(w+="perspective("+f+Ic),(s||o)&&(w+="translate("+s+"%, "+o+"%) "),(x||a!==Pm||l!==Pm||c!==Pm)&&(w+=c!==Pm||x?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+Ic),d!==Oc&&(w+="rotate("+d+Ic),h!==Oc&&(w+="rotateY("+h+Ic),m!==Oc&&(w+="rotateX("+m+Ic),(g!==Oc||y!==Oc)&&(w+="skew("+g+", "+y+Ic),(_!==1||u!==1)&&(w+="scale("+_+", "+u+Ic),v.style[zr]=w||"translate(0, 0)"},m0e=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.rotation,d=n.skewX,h=n.skewY,m=n.scaleX,g=n.scaleY,y=n.target,_=n.xOrigin,u=n.yOrigin,f=n.xOffset,p=n.yOffset,v=n.forceCSS,b=parseFloat(a),w=parseFloat(l),x,S,A,D,C;c=parseFloat(c),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,c+=h),c||d?(c*=Ch,d*=Ch,x=Math.cos(c)*m,S=Math.sin(c)*m,A=Math.sin(c-d)*-g,D=Math.cos(c-d)*g,d&&(h*=Ch,C=Math.tan(d-h),C=Math.sqrt(1+C*C),A*=C,D*=C,h&&(C=Math.tan(h),C=Math.sqrt(1+C*C),x*=C,S*=C)),x=Qr(x),S=Qr(S),A=Qr(A),D=Qr(D)):(x=m,D=g,S=A=0),(b&&!~(a+"").indexOf("px")||w&&!~(l+"").indexOf("px"))&&(b=Ju(y,"x",a,"px"),w=Ju(y,"y",l,"px")),(_||u||f||p)&&(b=Qr(b+_-(_*x+u*A)+f),w=Qr(w+u-(_*S+u*D)+p)),(s||o)&&(C=y.getBBox(),b=Qr(b+s/100*C.width),w=Qr(w+o/100*C.height)),C="matrix("+x+","+S+","+A+","+D+","+b+","+w+")",y.setAttribute("transform",C),v&&(y.style[zr]=C)},g0e=function(e,r,n,s,o){var a=360,l=Un(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?jc:1),d=c-s,h=s+d+"deg",m,g;return l&&(m=o.split("_")[1],m==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),m==="cw"&&d<0?d=(d+a*qL)%a-~~(d/a)*a:m==="ccw"&&d>0&&(d=(d-a*qL)%a-~~(d/a)*a)),e._pt=g=new Ki(e._pt,r,n,s,d,Q_e),g.e=h,g.u="deg",e._props.push(n),g},rU=function(e,r){for(var n in r)e[n]=r[n];return e},v0e=function(e,r,n){var s=rU({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,d,h,m,g,y,_;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),a[zr]=r,l=Hv(n,1),Gv(n,zr),n.setAttribute("transform",d)):(d=getComputedStyle(n)[zr],a[zr]=r,l=Hv(n,1),a[zr]=d);for(c in Pl)d=s[c],h=l[c],d!==h&&o.indexOf(c)<0&&(y=ri(d),_=ri(h),m=y!==_?Ju(n,c,d,_):parseFloat(d),g=parseFloat(h),e._pt=new Ki(e._pt,l,c,m,g-m,MP),e._pt.u=_||0,e._props.push(c));rU(l,s)};Wi("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",o="Left",a=(e<3?[r,n,s,o]:[r+o,r+n,s+n,s+o]).map(function(l){return e<2?t+l:"border"+l+t});b1[e>1?"border"+t:t]=function(l,c,d,h,m){var g,y;if(arguments.length<4)return g=a.map(function(_){return il(l,_,d)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(h+"").split(" "),y={},a.forEach(function(_,u){return y[_]=g[u]=g[u]||g[(u-1)/2|0]}),l.init(c,y,m)}});var iH={name:"css",register:NP,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,o){var a=this._props,l=e.style,c=n.vars.startAt,d,h,m,g,y,_,u,f,p,v,b,w,x,S,A,D;iB||NP(),this.styles=this.styles||ZV(e),D=this.styles.props,this.tween=n;for(u in r)if(u!=="autoRound"&&(h=r[u],!(as[u]&&$V(u,r,n,s,e,o)))){if(y=typeof h,_=b1[u],y==="function"&&(h=h.call(n,s,e,o),y=typeof h),y==="string"&&~h.indexOf("random(")&&(h=$v(h)),_)_(this,e,u,h,n)&&(A=1);else if(u.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(u)+"").trim(),h+="",zu.lastIndex=0,zu.test(d)||(f=ri(d),p=ri(h)),p?f!==p&&(d=Ju(e,u,d,p)+p):f&&(h+=f),this.add(l,"setProperty",d,h,s,o,0,0,u),a.push(u),D.push(u,0,l[u]);else if(y!=="undefined"){if(c&&u in c?(d=typeof c[u]=="function"?c[u].call(n,s,e,o):c[u],Un(d)&&~d.indexOf("random(")&&(d=$v(d)),ri(d+"")||(d+=gs.units[u]||ri(il(e,u))||""),(d+"").charAt(1)==="="&&(d=il(e,u))):d=il(e,u),g=parseFloat(d),v=y==="string"&&h.charAt(1)==="="&&h.substr(0,2),v&&(h=h.substr(2)),m=parseFloat(h),u in ma&&(u==="autoAlpha"&&(g===1&&il(e,"visibility")==="hidden"&&m&&(g=0),D.push("visibility",0,l.visibility),Au(this,l,"visibility",g?"inherit":"hidden",m?"inherit":"hidden",!m)),u!=="scale"&&u!=="transform"&&(u=ma[u],~u.indexOf(",")&&(u=u.split(",")[0]))),b=u in Pl,b){if(this.styles.save(u),w||(x=e._gsap,x.renderTransform&&!r.parseTransform||Hv(e,r.parseTransform),S=r.smoothOrigin!==!1&&x.smooth,w=this._pt=new Ki(this._pt,l,zr,0,1,x.renderTransform,x,0,-1),w.dep=1),u==="scale")this._pt=new Ki(this._pt,x,"scaleY",x.scaleY,(v?Eh(x.scaleY,v+m):m)-x.scaleY||0,MP),this._pt.u=0,a.push("scaleY",u),u+="X";else if(u==="transformOrigin"){D.push(Uo,0,l[Uo]),h=f0e(h),x.svg?LP(e,h,0,S,0,this):(p=parseFloat(h.split(" ")[2])||0,p!==x.zOrigin&&Au(this,x,"zOrigin",x.zOrigin,p),Au(this,l,u,w1(d),w1(h)));continue}else if(u==="svgOrigin"){LP(e,h,1,S,0,this);continue}else if(u in tH){g0e(this,x,u,g,v?Eh(g,v+h):h);continue}else if(u==="smoothOrigin"){Au(this,x,"smooth",x.smooth,h);continue}else if(u==="force3D"){x[u]=h;continue}else if(u==="transform"){v0e(this,h,e);continue}}else u in l||(u=sp(u)||u);if(b||(m||m===0)&&(g||g===0)&&!J_e.test(h)&&u in l)f=(d+"").substr((g+"").length),m||(m=0),p=ri(h)||(u in gs.units?gs.units[u]:f),f!==p&&(g=Ju(e,u,d,p)),this._pt=new Ki(this._pt,b?x:l,u,g,(v?Eh(g,v+m):m)-g,!b&&(p==="px"||u==="zIndex")&&r.autoRound!==!1?t0e:MP),this._pt.u=p||0,f!==p&&p!=="%"&&(this._pt.b=d,this._pt.r=e0e);else if(u in l)d0e.call(this,e,u,d,v?v+h:h);else if(u in e)this.add(e,u,d||e[u],v?v+h:h,s,o);else if(u!=="parseTransform"){YI(u,h);continue}b||(u in l?D.push(u,0,l[u]):D.push(u,1,d||e[u])),a.push(u)}}A&&WV(this)},render:function(e,r){if(r.tween._time||!sB())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:il,aliases:ma,getSetter:function(e,r,n){var s=ma[r];return s&&s.indexOf(",")<0&&(r=s),r in Pl&&r!==Uo&&(e._gsap.x||il(e,"x"))?n&&YL===n?r==="scale"?s0e:i0e:(YL=n||{})&&(r==="scale"?o0e:a0e):e.style&&!WI(e.style[r])?r0e:~r.indexOf("-")?n0e:rB(e,r)},core:{_removeProperty:Gv,_getMatrix:aB}};Yi.utils.checkPrefix=sp;Yi.core.getStyleSaver=ZV;(function(t,e,r,n){var s=Wi(t+","+e+","+r,function(o){Pl[o]=1});Wi(e,function(o){gs.units[o]="deg",tH[o]=1}),ma[s[13]]=t+","+e,Wi(n,function(o){var a=o.split(":");ma[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){gs.units[t]="px"});Yi.registerPlugin(iH);var y0e=Yi.registerPlugin(iH)||Yi;y0e.core.Tween;/*!
 * PixiPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tu,nU,x1,cs,kg,sH,UP,oH=function(){return typeof window<"u"},aH=function(){return Tu||oH()&&(Tu=window.gsap)&&Tu.registerPlugin&&Tu},$P=function(e){return typeof e=="function"},lH=function(e){return console.warn(e)},_0e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Ns=.212671,Ls=.71516,Us=.072169,uH=function(e){return $P(cs[e])?cs[e]:cs.filters[e]},CE=function(e,r){var n=[],s=0,o=0,a,l;for(a=0;a<4;a++){for(l=0;l<5;l++)o=l===4?e[s+4]:0,n[s+l]=e[s]*r[l]+e[s+1]*r[l+5]+e[s+2]*r[l+10]+e[s+3]*r[l+15]+o;s+=5}return n},iU=function(e,r){var n=1-r,s=n*Ns,o=n*Ls,a=n*Us;return CE([s+r,o,a,0,0,s,o+r,a,0,0,s,o,a+r,0,0,0,0,0,1,0],e)},sU=function(e,r,n){var s=x1(r),o=s[0]/255,a=s[1]/255,l=s[2]/255,c=1-n;return CE([c+n*o*Ns,n*o*Ls,n*o*Us,0,0,n*a*Ns,c+n*a*Ls,n*a*Us,0,0,n*l*Ns,n*l*Ls,c+n*l*Us,0,0,0,0,0,1,0],e)},oU=function(e,r){r*=Math.PI/180;var n=Math.cos(r),s=Math.sin(r);return CE([Ns+n*(1-Ns)+s*-Ns,Ls+n*-Ls+s*-Ls,Us+n*-Us+s*(1-Us),0,0,Ns+n*-Ns+s*.143,Ls+n*(1-Ls)+s*.14,Us+n*-Us+s*-.283,0,0,Ns+n*-Ns+s*-(1-Ns),Ls+n*-Ls+s*Ls,Us+n*(1-Us)+s*Us,0,0,0,0,0,1,0,0,0,0,0,1],e)},aU=function(e,r){return CE([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},cH=function(e,r){var n=uH(r),s=e.filters||[],o=s.length,a;for(n||lH(r+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(s[o]instanceof n)return s[o];return a=new n,r==="BlurFilter"&&(a.blur=0),s.push(a),e.filters=s,a},An=function(e,r,n,s){r.add(n,e,n[e],s[e]),r._props.push(e)},lU=function(e,r){var n=uH("ColorMatrixFilter"),s=new n;return s.matrix=r,s.brightness(e,!0),s.matrix},b0e=function(e){var r={},n;for(n in e)r[n]=e[n];return r},Qi={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},w0e=function(e,r,n){var s=cH(e,"ColorMatrixFilter"),o=e._gsColorMatrixFilter=e._gsColorMatrixFilter||b0e(Qi),a=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),l,c,d;for(d=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===d.length?(c=r.matrix,o.contrast!==1&&An("contrast",n,o,Qi),o.hue&&An("hue",n,o,Qi),o.brightness!==1&&An("brightness",n,o,Qi),o.colorizeAmount&&(An("colorize",n,o,Qi),An("colorizeAmount",n,o,Qi)),o.saturation!==1&&An("saturation",n,o,Qi)):(c=_0e.slice(),r.contrast!=null?(c=aU(c,+r.contrast),An("contrast",n,o,r)):o.contrast!==1&&(a?c=aU(c,o.contrast):An("contrast",n,o,Qi)),r.hue!=null?(c=oU(c,+r.hue),An("hue",n,o,r)):o.hue&&(a?c=oU(c,o.hue):An("hue",n,o,Qi)),r.brightness!=null?(c=lU(+r.brightness,c),An("brightness",n,o,r)):o.brightness!==1&&(a?c=lU(o.brightness,c):An("brightness",n,o,Qi)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,c=sU(c,r.colorize,r.colorizeAmount),An("colorize",n,o,r),An("colorizeAmount",n,o,r)):o.colorizeAmount&&(a?c=sU(c,o.colorize,o.colorizeAmount):(An("colorize",n,o,Qi),An("colorizeAmount",n,o,Qi))),r.saturation!=null?(c=iU(c,+r.saturation),An("saturation",n,o,r)):o.saturation!==1&&(a?c=iU(c,o.saturation):An("saturation",n,o,Qi))),l=c.length;--l>-1;)c[l]!==d[l]&&n.add(d,l,d[l],c[l],"colorMatrixFilter");n._props.push("colorMatrixFilter")},x0e=function(e,r){var n=r.t,s=r.p,o=r.color,a=r.set;a(n,s,o[0]<<16|o[1]<<8|o[2])},E0e=function(e,r){var n=r.g;n&&(n.dirty++,n.clearDirty++)},S0e=function(e,r){r.t.visible=!!r.t.alpha},uU=function(e,r,n,s){var o=e[r],a=x1($P(o)?e[r.indexOf("set")||!$P(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():o),l=x1(n);s._pt=new kg(s._pt,e,r,0,0,x0e,{t:e,p:r,color:a,set:sH(e,r)}),s.add(a,0,a[0],l[0]),s.add(a,1,a[1],l[1]),s.add(a,2,a[2],l[2])},C0e={tint:1,lineColor:1,fillColor:1},cU="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),jP={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},A0e={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},E1=Math.PI/180,dH=function(e){return typeof e=="string"},T0e=function(e){return dH(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*E1:e*E1},D0e=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},P0e=function(e,r,n,s,o,a){var l=360*(a?E1:1),c=dH(o),d=c&&o.charAt(1)==="="?+(o.charAt(0)+"1"):0,h=parseFloat(d?o.substr(2):o)*(a?E1:1),m=d?h*d:h-s,g=s+m,y,_;return c&&(y=o.split("_")[1],y==="short"&&(m%=l,m!==m%(l/2)&&(m+=m<0?l:-l)),y==="cw"&&m<0?m=(m+l*1e10)%l-~~(m/l)*l:y==="ccw"&&m>0&&(m=(m-l*1e10)%l-~~(m/l)*l)),e._pt=_=new kg(e._pt,r,n,s,m,D0e),_.e=g,_},dU=function(){oH()&&(nU=window,Tu=aH(),cs=cs||nU.PIXI,UP=cs&&cs.VERSION&&cs.VERSION.charAt(0)==="4",x1=function(r){return Tu.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)})},F0,Rm;for(F0=0;F0<cU.length;F0++)Rm=cU[F0],jP[Rm+"X"]=Rm,jP[Rm+"Y"]=Rm;var R0e={version:"3.12.2",name:"pixi",register:function(e,r,n){Tu=e,kg=n,sH=r.getSetter,dU()},registerPIXI:function(e){cs=e},init:function(e,r,n,s,o){if(cs||dU(),!cs||!(e instanceof cs.DisplayObject))return lH(e),!1;var a,l,c,d,h,m,g,y,_;for(m in r){if(a=jP[m],c=r[m],a)l=~m.charAt(m.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[a],l,e[a][l],a==="skew"?T0e(c):c,0,0,0,0,0,1);else if(m==="scale"||m==="anchor"||m==="pivot"||m==="tileScale")this.add(e[m],"x",e[m].x,c),this.add(e[m],"y",e[m].y,c);else if(m==="rotation"||m==="angle")P0e(this,e,m,e[m],c,m==="rotation");else if(A0e[m])d||(w0e(e,r.colorMatrixFilter||r,this),d=!0);else if(m==="blur"||m==="blurX"||m==="blurY"||m==="blurPadding"){if(h=cH(e,"BlurFilter"),this.add(h,m,h[m],c),r.blurPadding!==0)for(g=r.blurPadding||Math.max(h[m],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,g)}else if(C0e[m])if((m==="lineColor"||m==="fillColor")&&e instanceof cs.Graphics)for(_=(e.geometry||e).graphicsData,this._pt=new kg(this._pt,e,m,0,0,E0e,{g:e.geometry||e}),y=_.length;--y>-1;)uU(UP?_[y]:_[y][m.substr(0,4)+"Style"],UP?m:"color",c,this);else uU(e,m,c,this);else m==="autoAlpha"?(this._pt=new kg(this._pt,e,"visible",0,0,S0e),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):m!=="resolution"&&this.add(e,m,"get",c);this._props.push(m)}}};aH()&&Tu.registerPlugin(R0e);class S1{constructor(e=0,r=0,n=0,s=0){this._x=Number(e),this._y=Number(r),this._width=Number(n),this._height=Number(s),this._hull=[new He,new He,new He,new He],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,r,n,s]=this._hull;e.set(this._x,this._y),r.set(this._x+this._width,this._y),n.set(this._x+this._width,this._y+this._height),s.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new S1(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}equals(e){return e?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:!1}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}const fU=new He;class qb{constructor(e=0,r=0,n=0,s=0,o=0){e instanceof S1&&(o=r||0,r=e.y,n=e.width,s=e.height,e=e.x),this.innerBounds=new S1(e,r,n,s),this._rotation=o,this._center=new Do(this.updateCenter,this),this._hull=[new He,new He,new He,new He],this._matrix=new Kt,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return e?this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation:!1}contains(e,r){typeof e=="number"&&(e=fU.set(e,r));const n=this._matrix.applyInverse(e,fU);return this.innerBounds.contains(n.x,n.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,r=this._rotation,n=this._center,[s,o,a,l]=this._hull,c=this._matrix;n._x=e.x+e.width/2,n._y=e.y+e.height/2,c.identity().translate(-n.x,-n.y).rotate(r).translate(n.x,n.y),c.apply(e.topLeft,s),c.apply(e.topRight,o),c.apply(e.bottomRight,a),c.apply(e.bottomLeft,l),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,r=this.innerBounds;r.x=e.x-r.width/2,r.y=e.y-r.height/2}}class hU{constructor(e,r){this._history=new Array(e),this._decayRatio=r,this._currentIndex=0;for(let n=0;n<e;n++)this._history[n]=0}next(e){const{_history:r,_decayRatio:n}=this,s=r.length;this._currentIndex=this._currentIndex<s-1?this._currentIndex+1:0,r[this._currentIndex]=e;let o=0,a=0;for(let l=this._currentIndex+1;l<s;l++)o=(o+r[l])*n,a=(a+1)*n;for(let l=0;l<=this._currentIndex;l++)o=(o+r[l])*n,a=(a+1)*n;return this._average=o/a,this._average}absDev(){let e=0;for(let r=0,n=this._history.length;r<n;r++)e+=Math.abs(this._history[r]-this._average);return e/this._history.length}}class C1{constructor(e={}){C1.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new hU(128,this._decayRatio),this._marginAverageProvider=new hU(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let r,n;Array.isArray(e)?(r=e,n=e.length):(n=e,r=new Array(n)),this._borrowRate+=n,this._flowRate+=n;let s=0;if(this._freeCount>0){const o=this._freeList,a=Math.min(this._freeCount,n);let l=this._freeCount;for(let c=0;c<a;c++)r[s]=o[l-1],++s,--l;this._freeCount=l}for(;s<n;)r[s]=this.create(),++s;return r}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let r=0,n=e.length;r<n;r++)this._freeList[this._freeCount]=e[r],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const r=this._freeCount-e;for(let n=0;n<r;n++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const n=Math.min(this._freeCount,this.capacity);for(let s=e;s<n;s++)this._freeList[s]=null}}startGC(e=dn.shared){e.add(this._gcTick,null,Aa.UTILITY)}stopGC(e=dn.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const r=this._freeCount,n=this._freeList.length;if(r<128&&this._borrowRateAverage<128&&n<128)return;const s=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>s+e){const o=s+e;this.capacity=Math.min(this._freeList.length,Math.ceil(o)),this._freeCount=this._freeList.length}}}}var oA;const pU=new Map;class fH{static build(e){let r=pU.get(e);return r||(r=new class extends C1{create(){return new e}},pU.set(e,r),r)}static buildFunctional(e){return new(oA=class extends C1{constructor(...n){super(...n),oA.prototype.__init.call(this)}__init(){this.create=e}},oA)}}const mU={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},O0e=fl;class I0e extends O0e{constructor(e,r,n={},s,o,a){super(),this.transformer=e;const l=Object.assign({},mU,n);this._handle=r,this._style=l,this.onHandleDelta=s,this.onHandleCommit=o,this._dirty=!0,this.interactive=!0,this.cursor=a||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new He,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},mU,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,r=this._style,n=r.radius;if(this.clear().lineStyle(r.outlineThickness,r.outlineColor).beginFill(r.color),r.shape==="square")this.drawRect(-n/2,-n/2,n,n);else if(r.shape==="tooth")switch(e){case"middleLeft":this.drawPolygon([-n/2,-n/2,-n/2,n/2,n/2,n/2,n*1.1,0,n/2,-n/2]);break;case"topCenter":this.drawPolygon([-n/2,-n/2,n/2,-n/2,n/2,n/2,0,n*1.1,-n/2,n/2]);break;case"middleRight":this.drawPolygon([-n/2,n/2,-n*1.1,0,-n/2,-n/2,n/2,-n/2,n/2,n/2]);break;case"bottomCenter":this.drawPolygon([0,-n*1.1,n/2,-n/2,n/2,n/2,-n/2,n/2,-n/2,-n/2]);break;case"rotator":this.drawCircle(0,0,n/Math.sqrt(2));break;default:this.drawRect(-n/2,-n/2,n,n);break}else this.drawCircle(0,0,n);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const r=e.data.global;this.onHandleDelta&&this.onHandleDelta(r),this._pointerPosition.copyFrom(r)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function M0(t,e,r,n){const{x:s,y:o}=r,{x:a,y:l}=n;if(Math.abs(a-s)<.01)return Math.abs(t-s);if(Math.abs(l-o)<.01)return Math.abs(e-o);const c=(l-o)/(a-s);return Math.abs((c*t-e+(l-c*a))/Math.sqrt(c*c+1))}const gU=fH.build(He),B0e=[new He,new He,new He,new He],F0e=new Kt,vf=new He,M0e=[0,0,0,1,-1,1,-1,-1,1,-1,1,0],k0e=[0,0,-1,0,-1,-1,1,-1,1,1,0,1],N0e=[0,0,1,0,1,1,-1,1,-1,-1,0,-1],L0e=[0,0,0,-1,1,-1,1,1,-1,1,-1,0],aA=new Array(12),U0e=[M0e,k0e,N0e,L0e],$0e=fl;class j0e extends $0e{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new fl),this.addChild(new fl),this.addChild(new fl),this.addChild(new fl)],this.boxScalingHandles.forEach(r=>{r.interactive=!0}),this.boxScalingHandles[0].cursor=eg.topCenter,this.boxScalingHandles[1].cursor=eg.middleRight,this.boxScalingHandles[2].cursor=eg.bottomCenter,this.boxScalingHandles[3].cursor=eg.middleLeft}hitHandleType(e,r,n){const{boxRotationEnabled:s,boxRotationTolerance:o,boxScalingEnabled:a,boxScalingTolerance:l}=this.transformer,[c,d,h,m]=e.hull,{x:g,y}=r.applyInverse(n,vf);if(a){const _=M0(g,y,c,d)*r.d,u=M0(g,y,c,m)*r.a,f=M0(g,y,d,h)*r.a,p=M0(g,y,m,h)*r.d,v=Math.min(_,u,f,p);if(v<l)switch(v){case _:return"topCenter";case u:return"middleLeft";case f:return"middleRight";case p:return"bottomCenter"}}if(s&&!e.contains(g,y)){const _=Math.sqrt((c.x-g)**2+(c.y-y)**2),u=Math.sqrt((d.x-g)**2+(d.y-y)**2),f=Math.sqrt((m.x-g)**2+(m.y-y)**2),p=Math.sqrt((h.x-g)**2+(h.y-y)**2),v=Math.min(_,u,f,p);if(v<o*1.45)switch(v){case _:return"boxRotateTopLeft";case u:return"boxRotateTopRight";case f:return"boxRotateBottomLeft";case p:return"boxRotateBottomRight"}}return null}drawBounds(e){const r=B0e;for(let n=0;n<4;n++)this.transformer.projectToLocal(e.hull[n],r[n]);this.drawPolygon(r)}drawBoxScalingTolerance(e,r=this.transformer.boxScalingTolerance){e.innerBounds.pad(-r);const n=gU.allocateArray(4);n.forEach((o,a)=>{this.projectToLocal(e.hull[a],o)}),e.innerBounds.pad(2.5*r);const s=gU.allocateArray(4);s.forEach((o,a)=>{this.projectToLocal(e.hull[a],o)}),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let o=0;o<4;o++){const a=n[o],l=n[(o+1)%4],c=s[o],d=s[(o+1)%4];this.boxScalingHandles[o].clear().beginFill(16777215,1e-4).drawPolygon(a,c,d,l).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:r,boxRotateBottomLeft:n,boxRotateBottomRight:s}=this.transformer.handleAnchors,o=this.transformer.boxRotationTolerance*2,a=F0e.identity().scale(o,o).rotate(this.transformer.getGroupBounds().rotation);for(let l=0;l<4;l++){const c=U0e[l];let d;switch(l){case 0:d=e;break;case 1:d=r;break;case 2:d=n;break;case 3:d=s;break}for(let h=0;h<c.length;h+=2){const m=c[h],g=c[h+1];vf.set(m,g),a.apply(vf,vf),aA[h]=vf.x+d.x,aA[h+1]=vf.y+d.y}this.drawPolygon(aA.slice())}}projectToLocal(e,r){return this.transformer.projectToLocal(e,r)}}const hH=new Kt;function vU(t){const e=hH.identity();return e.c=Math.tan(t),e}function yU(t){const e=hH.identity();return e.b=Math.tan(t),e}function pH(t,e,r,n=t.pivot){const s=e.a,o=e.b,a=e.c,l=e.d,c=-Math.atan2(-a,l),d=Math.atan2(o,s);return r=r!=null?r:d,t.pivot.set(n.x,n.y),t.rotation=r,t.skew.x=r+c,t.skew.y=-r+d,t.scale.x=Math.sqrt(s*s+o*o),t.scale.y=Math.sqrt(a*a+l*l),t.position.x=e.tx+(n.x*e.a+n.y*e.c),t.position.y=e.ty+(n.x*e.b+n.y*e.d),t}const k0=new Kt,z0e=new Kt;function G0e(t,e,r){if(!r){const o=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}const n=t.worldTransform,s=t.parent?z0e.copyFrom(t.parent.worldTransform):Kt.IDENTITY;k0.copyFrom(n),k0.prepend(e),k0.prepend(s.invert()),pH(t.transform,k0)}const N0=new Dp,V0e=[new He,new He,new He,new He],yf=new Kt,_f=new He,lA=new qb,H0e=new Rt,_U=[new He,new He,new He,new He],bU=new He,wU=new Kt,L0=fH.build(He),eg={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},Zb=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],xU={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},W0e=[...Zb,"rotator","skewHorizontal","skewVertical"],K0e=4,X0e=16,Y0e=[Math.PI/4,Math.PI/2,Math.PI*3/4,Math.PI,0,-Math.PI/4,-Math.PI/2,-Math.PI*3/4,-Math.PI],q0e=Math.PI/90,Z0e=[Math.PI/4,-Math.PI/4],J0e=Math.PI/90,EU={color:0,thickness:2},Q0e=Xi;class Is extends Q0e{constructor(e={}){super(),Is.prototype.__init.call(this),Is.prototype.__init2.call(this),Is.prototype.__init3.call(this),Is.prototype.__init4.call(this),Is.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||X0e,this.boxScalingTolerance=e.boxScalingTolerance||K0e,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new Kt,this.lockAspectRatio=e.lockAspectRatio===!0,this.rotationSnaps=e.rotationSnaps||Y0e,this.rotationSnapTolerance=e.rotationSnapTolerance!==void 0?e.rotationSnapTolerance:q0e,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||Z0e,this.skewSnapTolerance=e.skewSnapTolerance!==void 0?e.skewSnapTolerance:J0e,this.boxRotationEnabled=e.boxRotationEnabled===!0,this.boxScalingEnabled=e.boxScalingEnabled===!0,this._rotateEnabled=e.rotateEnabled!==!1,this._scaleEnabled=e.scaleEnabled!==!1,this._skewEnabled=e.skewEnabled===!0,this.translateEnabled=e.translateEnabled!==!1,this.transientGroupTilt=e.transientGroupTilt!==void 0?e.transientGroupTilt:!0,this.wireframe=this.addChild(new j0e(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},EU,e.wireframeStyle||{});const r=e.handleConstructor||I0e,n=e.handleStyle||{};this._handleStyle=n;const s={rotator:this.addChild(new r(this,"rotator",n,l=>{this.rotateGroup("rotator",l)},this.commitGroup))},o=Zb.reduce((l,c)=>{const d=new r(this,c,n,null,this.commitGroup,eg[c]);return d.onHandleDelta=h=>{this.scaleGroup(d.handle,h)},d.visible=this._scaleEnabled,l[c]=d,this.addChild(l[c]),l},{}),a={skewHorizontal:this.addChild(new r(this,"skewHorizontal",n,l=>{this.skewGroup("skewHorizontal",l)},this.commitGroup,"pointer")),skewVertical:this.addChild(new r(this,"skewVertical",n,l=>{this.skewGroup("skewVertical",l)},this.commitGroup,"pointer"))};this.handles=Object.assign({},o,s,a),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new He,boxRotateTopLeft:new He,boxRotateTopRight:new He,boxRotateBottomLeft:new He,boxRotateBottomRight:new He,topLeft:new He,topCenter:new He,topRight:new He,middleLeft:new He,middleCenter:new He,middleRight:new He,bottomLeft:new He,bottomCenter:new He,bottomRight:new He,skewHorizontal:new He,skewVertical:new He},this.groupBounds=new qb,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new He,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){!this._enabledHandles&&!e||(this._enabledHandles=e,W0e.forEach(r=>{this.handles[r].visible=!1}),e?e.forEach(r=>{this.handles[r].visible=!0}):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,Zb.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=this._scaleEnabled)})))}get handleStyle(){return this._handleStyle}set handleStyle(e){const r=this.handles;for(const n in r)r[n].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;Zb.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=e)})}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},EU,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const r=yf.identity().translate(e.x,e.y);this.prependTransform(r)}}__init2(){this.rotateGroup=(e,r)=>{this._transformHandle=e,this._transformType="rotate";const n=this.groupBounds,s=this.worldTransform.apply(this.handleAnchors[e],_f);this.projectionTransform.applyInverse(s,s),r=this.projectionTransform.applyInverse(r,bU);const o=n.center,a=Math.atan2(s.y-o.y,s.x-o.x);let c=Math.atan2(r.y-o.y,r.x-o.x)-a,d=this.groupBounds.rotation+c;d=this.snapAngle(d,this.rotationSnapTolerance,this.rotationSnaps),c=d-this.groupBounds.rotation;const h=yf.identity().translate(-o.x,-o.y).rotate(c).translate(o.x,o.y);this.prependTransform(h,!0),this.updateGroupBounds(d),this._skewX+=c,this._skewY+=c}}__init3(){this.scaleGroup=(e,r)=>{this._transformHandle=e,this._transformType="scale";const n=xU[e].x,s=xU[e].y,o=this.handles,a=this.groupBounds,l=a.rotation,c=a.innerBounds,d=this.worldTransform.apply(this.handleAnchors[e],_f);this.projectionTransform.applyInverse(d,d),r=this.projectionTransform.applyInverse(r,bU);const h=r.x-d.x,m=r.y-d.y,g=(a.topRight.x-a.topLeft.x)/c.width,y=(a.topRight.y-a.topLeft.y)/c.width,_=(a.bottomLeft.x-a.topLeft.x)/c.height,u=(a.bottomLeft.y-a.topLeft.y)/c.height,f=h*g+m*y,p=h*_+m*u;let v=1+f*n/c.width,b=1+p*s/c.height;this.lockAspectRatio&&(e==="topLeft"||e==="topRight"||e==="bottomLeft"||e==="bottomRight")&&(v>b?b=v:v=b);const x=yf.identity();if(n!==0&&v!==0){const S=this.centeredScaling?a.center:n===1?a.topLeft:a.topRight;x.translate(-S.x,-S.y).rotate(-l).scale(v,1).rotate(l).translate(S.x,S.y)}if(s!==0&&b!==0){const S=this.centeredScaling?a.center:s===1?a.topLeft:a.bottomLeft;x.translate(-S.x,-S.y).rotate(-l).scale(1,b).rotate(l).translate(S.x,S.y)}if((b<0||v<0)&&!(b<0&&v<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(o.topLeft,o.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(o.topCenter,o.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(o.topRight,o.bottomRight);break}this.prependTransform(x)}}__init4(){this.skewGroup=(e,r)=>{this._transformHandle=e,this._transformType="skew";const n=this.groupBounds,s=_f.copyFrom(r);this.projectionTransform.applyInverse(s,s);const o=n.center,a=yf.identity().translate(-o.x,-o.y);let l=this.groupBounds.rotation;if(e==="skewHorizontal"){const c=this._skewX;this._skewX=Math.atan2(s.y-o.y,s.x-o.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),a.prepend(yU(-c)),a.prepend(yU(this._skewX))}else{const c=this._skewY,d=Math.atan2(s.y-o.y,s.x-o.x)-Math.PI/2;this._skewY=d,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),a.prepend(vU(c)),a.prepend(vU(-this._skewY)),l-=this._skewY-c}a.translate(o.x,o.y),this.prependTransform(a,!0),this.updateGroupBounds(l)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",this.transientGroupTilt!==!1&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:r,thickness:n}=this._wireframeStyle;this.wireframe.clear(),this.boundingBoxes!=="none"&&this.wireframe.lineStyle(n,r),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let o=0,a=e.length;o<a&&this.boundingBoxes==="all";o++)this.wireframe.drawBounds(Is.calculateOrientedBounds(e[o],lA));const s=e.length!==1?Is.calculateGroupOrientedBounds(e,this.groupBounds.rotation,lA,!0):Is.calculateOrientedBounds(e[0],lA);this.wireframe.drawBounds(s),this.drawHandles(s),this.groupBounds.copyFrom(s),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(s)),this.lazyDirty=!1}drawHandles(e){const r=this.handles,n=this.handleAnchors,{topLeft:s,topRight:o,bottomLeft:a,bottomRight:l,center:c}=e,[d,h,m,g]=_U,y=_f;if(this.projectToLocal(s,d),this.projectToLocal(o,h),this.projectToLocal(a,m),this.projectToLocal(l,g),this.projectToLocal(c,y),n.topLeft.copyFrom(d),n.topCenter.set((d.x+h.x)/2,(d.y+h.y)/2),n.topRight.copyFrom(h),n.middleLeft.set((d.x+m.x)/2,(d.y+m.y)/2),n.middleCenter.set((d.x+g.x)/2,(d.y+g.y)/2),n.middleRight.set((h.x+g.x)/2,(h.y+g.y)/2),n.bottomLeft.copyFrom(m),n.bottomCenter.set((m.x+g.x)/2,(m.y+g.y)/2),n.bottomRight.copyFrom(g),this.boxRotationEnabled&&(n.boxRotateTopLeft.copyFrom(n.topLeft),n.boxRotateTopRight.copyFrom(n.topRight),n.boxRotateBottomLeft.copyFrom(n.bottomLeft),n.boxRotateBottomRight.copyFrom(n.bottomRight)),this._rotateEnabled){const _=(d.x+h.x)/2,u=(d.y+h.y)/2;let f=-(d.y-h.y),p=d.x-h.x;const v=Math.sqrt(f*f+p*p);f*=32/v,p*=32/v,r.rotator.position.x=_+f,r.rotator.position.y=u+p,this.wireframe.moveTo(_,u).lineTo(r.rotator.position.x,r.rotator.position.y),this.handleAnchors.rotator.copyFrom(r.rotator.position)}if(this._skewEnabled){const _=y.x,u=y.y;this.worldTransform.apply(y,y),n.skewHorizontal.set(y.x+Math.cos(this._skewX)*this.skewRadius,y.y+Math.sin(this._skewX)*this.skewRadius),n.skewVertical.set(y.x+-Math.sin(this._skewY)*this.skewRadius,y.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(n.skewHorizontal,n.skewHorizontal),this.worldTransform.applyInverse(n.skewVertical,n.skewVertical),y.set(_,u),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(y.x,y.y,this.wireframeStyle.thickness*2).endFill(),this.wireframe.moveTo(y.x,y.y).lineTo(r.skewHorizontal.x,r.skewHorizontal.y).moveTo(y.x,y.y).lineTo(r.skewVertical.x,r.skewVertical.y)}for(const _ in r){let u=this.groupBounds.rotation;_==="skewHorizontal"?u=this._skewX:_==="skewVertical"&&(u=this._skewY);const f=r[_];f.rotation=u,f.position.copyFrom(n[_]),f.getBounds(!1,H0e)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const r=this._pointerPosition,n=L0.allocate().copyFrom(e.data.global),s=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n);if(!this._pointerDown)this.setCursorFromHoveredHandle(s);else{const o=n.x,a=n.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,n);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,n);break;default:if(this.translateEnabled){const[l,c,d]=_U;l.set(0,0),c.set(n.x-r.x,n.y-r.y),this.projectionTransform.applyInverse(l,l),this.projectionTransform.applyInverse(c,c),d.set(c.x-l.x,c.y-l.y),this.translateGroup(d)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n),this.setCursorFromHoveredHandle(s);this._pointerPosition.x=o,this._pointerPosition.y=a,this._pointerDragging=!0,e.stopPropagation()}L0.release(n)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,r=!1){const n=this.group;for(let s=0,o=n.length;s<o;s++)G0e(n[s],e,!1);wU.copyFrom(e),r||this.updateGroupBounds(),this.emit("transformchange",wU)}updateGroupBounds(e=this.groupBounds.rotation){Is.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,r,n){if(e=e%(Math.PI*2),!n||n.length===1||!r)return e;for(let s=0,o=n.length;s<o;s++)if(Math.abs(e-n[s])<=r)return n[s];return e}swapHandles(e,r){const n=e.handle,s=r.handle,o=e.cursor,a=r.cursor,l=e.x,c=r.x,d=e.y,h=r.y;e.handle=s,r.handle=n,e.position.set(c,h),r.position.set(l,d),e.cursor=a,r.cursor=o,this.handles[n]=r,this.handles[s]=e,this._transformHandle===n?this._transformHandle=s:this._transformHandle===s&&(this._transformHandle=n)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default;break}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,r){return r||(r=new He),this.projectionTransform.apply(e,r),this.worldTransform.applyInverse(r,r),r}static calculateTransformedCorners(e,r=e.worldTransform,n,s=0){const o=e.getLocalBounds();return e.getBounds(),n=n||[new He,new He,new He,new He],n[s].set(o.x,o.y),n[s+1].set(o.x+o.width,o.y),n[s+2].set(o.x+o.width,o.y+o.height),n[s+3].set(o.x,o.y+o.height),r.apply(n[s],n[s]),r.apply(n[s+1],n[s+1]),r.apply(n[s+2],n[s+2]),r.apply(n[s+3],n[s+3]),n}static calculateOrientedBounds(e,r){const n=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(n),pH(N0,e.worldTransform),N0.updateLocalTransform();const s=N0.rotation,o=Is.calculateTransformedCorners(e,e.worldTransform,V0e),a=(o[0].x+o[1].x+o[2].x+o[3].x)/4,l=(o[0].y+o[1].y+o[2].y+o[3].y)/4,c=yf.identity().translate(-a,-l).rotate(-N0.rotation).translate(a,l);return c.apply(o[0],o[0]),c.apply(o[1],o[1]),c.apply(o[2],o[2]),c.apply(o[3],o[3]),r=r||new qb,r.rotation=s,r.innerBounds.x=Math.min(o[0].x,o[1].x,o[2].x,o[3].x),r.innerBounds.y=Math.min(o[0].y,o[1].y,o[2].y,o[3].y),r.innerBounds.width=Math.max(o[0].x,o[1].x,o[2].x,o[3].x)-r.innerBounds.x,r.innerBounds.height=Math.max(o[0].y,o[1].y,o[2].y,o[3].y)-r.innerBounds.y,r}static calculateGroupOrientedBounds(e,r,n,s=!1){const o=e.length,a=L0.allocateArray(o*4);for(let g=0;g<o;g++){const y=e[g];if(!s){const _=y.parent?y.parent:y.enableTempParent();y.updateTransform(),y.disableTempParent(_)}Is.calculateTransformedCorners(y,y.worldTransform,a,g*4)}const l=yf.identity().rotate(-r);let c=Number.MAX_VALUE,d=Number.MAX_VALUE,h=-Number.MAX_VALUE,m=-Number.MAX_VALUE;for(let g=0,y=a.length;g<y;g++){const _=a[g];l.apply(_,_);const u=_.x,f=_.y;c=u<c?u:c,d=f<d?f:d,h=u>h?u:h,m=f>m?f:m}return L0.releaseArray(a),n=n||new qb,n.innerBounds.x=c,n.innerBounds.y=d,n.innerBounds.width=h-c,n.innerBounds.height=m-d,n.rotation=r,l.applyInverse(n.center,_f),n.center.copyFrom(_f),n}}var mH=Symbol.for("immer-nothing"),SU=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Hs(t,...e){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var op=Object.getPrototypeOf;function Od(t){return!!t&&!!t[rr]}function Rl(t){var e;return t?gH(t)||Array.isArray(t)||!!t[SU]||!!((e=t.constructor)!=null&&e[SU])||TE(t)||DE(t):!1}var ebe=Object.prototype.constructor.toString();function gH(t){if(!t||typeof t!="object")return!1;const e=op(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ebe}function Wv(t,e){AE(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function AE(t){const e=t[rr];return e?e.type_:Array.isArray(t)?1:TE(t)?2:DE(t)?3:0}function zP(t,e){return AE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vH(t,e,r){const n=AE(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function tbe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function TE(t){return t instanceof Map}function DE(t){return t instanceof Set}function On(t){return t.copy_||t.base_}function GP(t,e){if(TE(t))return new Map(t);if(DE(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=gH(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[rr];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const a=s[o],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(op(t),n)}else{const n=op(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function lB(t,e=!1){return PE(t)||Od(t)||!Rl(t)||(AE(t)>1&&(t.set=t.add=t.clear=t.delete=rbe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>lB(n,!0))),t}function rbe(){Hs(2)}function PE(t){return Object.isFrozen(t)}var VP={};function Id(t){const e=VP[t];return e||Hs(0,t),e}function nbe(t,e){VP[t]||(VP[t]=e)}var Kv;function A1(){return Kv}function ibe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CU(t,e){e&&(Id("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function HP(t){WP(t),t.drafts_.forEach(sbe),t.drafts_=null}function WP(t){t===Kv&&(Kv=t.parent_)}function AU(t){return Kv=ibe(Kv,t)}function sbe(t){const e=t[rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[rr].modified_&&(HP(e),Hs(4)),Rl(t)&&(t=T1(e,t),e.parent_||D1(e,t)),e.patches_&&Id("Patches").generateReplacementPatches_(r[rr].base_,t,e.patches_,e.inversePatches_)):t=T1(e,r,[]),HP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mH?t:void 0}function T1(t,e,r){if(PE(e))return e;const n=e[rr];if(!n)return Wv(e,(s,o)=>DU(t,n,e,s,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return D1(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,a=!1;n.type_===3&&(o=new Set(s),s.clear(),a=!0),Wv(o,(l,c)=>DU(t,n,s,l,c,r,a)),D1(t,s,!1),r&&t.patches_&&Id("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function DU(t,e,r,n,s,o,a){if(Od(s)){const l=o&&e&&e.type_!==3&&!zP(e.assigned_,n)?o.concat(n):void 0,c=T1(t,s,l);if(vH(r,n,c),Od(c))t.canAutoFreeze_=!1;else return}else a&&r.add(s);if(Rl(s)&&!PE(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;T1(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&D1(t,s)}}function D1(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lB(e,r)}function obe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:A1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=uB;r&&(s=[n],o=Xv);const{revoke:a,proxy:l}=Proxy.revocable(s,o);return n.draft_=l,n.revoke_=a,l}var uB={get(t,e){if(e===rr)return t;const r=On(t);if(!zP(r,e))return abe(t,r,e);const n=r[e];return t.finalized_||!Rl(n)?n:n===uA(t.base_,e)?(cA(t),t.copy_[e]=Yv(n,t)):n},has(t,e){return e in On(t)},ownKeys(t){return Reflect.ownKeys(On(t))},set(t,e,r){const n=yH(On(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=uA(On(t),e),o=s==null?void 0:s[rr];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(tbe(r,s)&&(r!==void 0||zP(t.base_,e)))return!0;cA(t),sl(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cA(t),sl(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=On(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Hs(11)},getPrototypeOf(t){return op(t.base_)},setPrototypeOf(){Hs(12)}},Xv={};Wv(uB,(t,e)=>{Xv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xv.deleteProperty=function(t,e){return Xv.set.call(this,t,e,void 0)};Xv.set=function(t,e,r){return uB.set.call(this,t[0],e,r,t[0])};function uA(t,e){const r=t[rr];return(r?On(r):t)[e]}function abe(t,e,r){var s;const n=yH(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function yH(t,e){if(!(e in t))return;let r=op(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=op(r)}}function sl(t){t.modified_||(t.modified_=!0,t.parent_&&sl(t.parent_))}function cA(t){t.copy_||(t.copy_=GP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lbe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const a=this;return function(c=o,...d){return a.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&Hs(6),n!==void 0&&typeof n!="function"&&Hs(7);let s;if(Rl(e)){const o=AU(this),a=Yv(e,void 0);let l=!0;try{s=r(a),l=!1}finally{l?HP(o):WP(o)}return CU(o,n),TU(s,o)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===mH&&(s=void 0),this.autoFreeze_&&lB(s,!0),n){const o=[],a=[];Id("Patches").generateReplacementPatches_(e,s,o,a),n(o,a)}return s}else Hs(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let n,s;return[this.produce(e,r,(a,l)=>{n=a,s=l}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Rl(t)||Hs(8),Od(t)&&(t=ube(t));const e=AU(this),r=Yv(t,void 0);return r[rr].isManual_=!0,WP(e),r}finishDraft(t,e){const r=t&&t[rr];(!r||!r.isManual_)&&Hs(9);const{scope_:n}=r;return CU(n,e),TU(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=Id("Patches").applyPatches_;return Od(t)?n(t,e):this.produce(t,s=>n(s,e))}};function Yv(t,e){const r=TE(t)?Id("MapSet").proxyMap_(t,e):DE(t)?Id("MapSet").proxySet_(t,e):obe(t,e);return(e?e.scope_:A1()).drafts_.push(r),r}function ube(t){return Od(t)||Hs(10,t),_H(t)}function _H(t){if(!Rl(t)||PE(t))return t;const e=t[rr];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=GP(t,e.scope_.immer_.useStrictShallowCopy_)}else r=GP(t,!0);return Wv(r,(n,s)=>{vH(r,n,_H(s))}),e&&(e.finalized_=!1),r}function cbe(){class t extends Map{constructor(c,d){super(),this[rr]={type_:2,parent_:d,scope_:d?d.scope_:A1(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return On(this[rr]).size}has(c){return On(this[rr]).has(c)}set(c,d){const h=this[rr];return a(h),(!On(h).has(c)||On(h).get(c)!==d)&&(r(h),sl(h),h.assigned_.set(c,!0),h.copy_.set(c,d),h.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const d=this[rr];return a(d),r(d),sl(d),d.base_.has(c)?d.assigned_.set(c,!1):d.assigned_.delete(c),d.copy_.delete(c),!0}clear(){const c=this[rr];a(c),On(c).size&&(r(c),sl(c),c.assigned_=new Map,Wv(c.base_,d=>{c.assigned_.set(d,!1)}),c.copy_.clear())}forEach(c,d){const h=this[rr];On(h).forEach((m,g,y)=>{c.call(d,this.get(g),g,this)})}get(c){const d=this[rr];a(d);const h=On(d).get(c);if(d.finalized_||!Rl(h)||h!==d.base_.get(c))return h;const m=Yv(h,d);return r(d),d.copy_.set(c,m),m}keys(){return On(this[rr]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=c.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=c.next();if(d.done)return d;const h=this.get(d.value);return{done:!1,value:[d.value,h]}}}}[Symbol.iterator](){return this.entries()}}function e(l,c){return new t(l,c)}function r(l){l.copy_||(l.assigned_=new Map,l.copy_=new Map(l.base_))}class n extends Set{constructor(c,d){super(),this[rr]={type_:3,parent_:d,scope_:d?d.scope_:A1(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return On(this[rr]).size}has(c){const d=this[rr];return a(d),d.copy_?!!(d.copy_.has(c)||d.drafts_.has(c)&&d.copy_.has(d.drafts_.get(c))):d.base_.has(c)}add(c){const d=this[rr];return a(d),this.has(c)||(o(d),sl(d),d.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const d=this[rr];return a(d),o(d),sl(d),d.copy_.delete(c)||(d.drafts_.has(c)?d.copy_.delete(d.drafts_.get(c)):!1)}clear(){const c=this[rr];a(c),On(c).size&&(o(c),sl(c),c.copy_.clear())}values(){const c=this[rr];return a(c),o(c),c.copy_.values()}entries(){const c=this[rr];return a(c),o(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,d){const h=this.values();let m=h.next();for(;!m.done;)c.call(d,m.value,m.value,this),m=h.next()}}function s(l,c){return new n(l,c)}function o(l){l.copy_||(l.copy_=new Set,l.base_.forEach(c=>{if(Rl(c)){const d=Yv(c,l);l.drafts_.set(c,d),l.copy_.add(d)}else l.copy_.add(c)}))}function a(l){l.revoked_&&Hs(3,JSON.stringify(On(l)))}nbe("MapSet",{proxyMap_:e,proxySet_:s})}var ws=new lbe,n_=ws.produce;ws.produceWithPatches.bind(ws);var dbe=ws.setAutoFreeze.bind(ws);ws.setUseStrictShallowCopy.bind(ws);ws.applyPatches.bind(ws);var PU=ws.createDraft.bind(ws),RU=ws.finishDraft.bind(ws);const fbe=t=>(e,r,n)=>(n.setState=(s,o,...a)=>{const l=typeof s=="function"?n_(s):s;return e(l,o,...a)},t(n.setState,r,n)),fYe=fbe;function hbe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function i_(...t){return e=>t.forEach(r=>hbe(r,e))}function _t(...t){return E.useCallback(i_(...t),t)}var Da=E.forwardRef((t,e)=>{const{children:r,...n}=t,s=E.Children.toArray(r),o=s.find(pbe);if(o){const a=o.props.children,l=s.map(c=>c===o?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:c);return F.jsx(KP,{...n,ref:e,children:E.isValidElement(a)?E.cloneElement(a,void 0,l):null})}return F.jsx(KP,{...n,ref:e,children:r})});Da.displayName="Slot";var KP=E.forwardRef((t,e)=>{const{children:r,...n}=t;if(E.isValidElement(r)){const s=gbe(r);return E.cloneElement(r,{...mbe(n,r.props),ref:e?i_(e,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});KP.displayName="SlotClone";var cB=({children:t})=>F.jsx(F.Fragment,{children:t});function pbe(t){return E.isValidElement(t)&&t.type===cB}function mbe(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function gbe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=vbe.reduce((t,e)=>{const r=E.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?Da:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(l,{...a,ref:s})});return r.displayName="Primitive.".concat(e),{...t,[e]:r}},{});function s_(t,e){t&&Ll.flushSync(()=>t.dispatchEvent(e))}var pn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function ybe(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var Zi=t=>{const{present:e,children:r}=t,n=_be(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=_t(n.ref,bbe(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};Zi.displayName="Presence";function _be(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[l,c]=ybe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=U0(n.current);o.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=n.current,h=s.current;if(h!==t){const g=o.current,y=U0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pn(()=>{if(e){const d=m=>{const y=U0(n.current).includes(m.animationName);m.target===e&&y&&Ll.flushSync(()=>c("ANIMATION_END"))},h=m=>{m.target===e&&(o.current=U0(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function U0(t){return(t==null?void 0:t.animationName)||"none"}function bbe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ji(t,e=[]){let r=[];function n(o,a){const l=E.createContext(a),c=r.length;r=[...r,a];function d(m){const{scope:g,children:y,..._}=m,u=(g==null?void 0:g[t][c])||l,f=E.useMemo(()=>_,Object.values(_));return F.jsx(u.Provider,{value:f,children:y})}function h(m,g){const y=(g==null?void 0:g[t][c])||l,_=E.useContext(y);if(_)return _;if(a!==void 0)return a;throw new Error("`".concat(m,"` must be used within `").concat(o,"`"))}return d.displayName=o+"Provider",[d,h]}const s=()=>{const o=r.map(a=>E.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,wbe(s,...e)]}function wbe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)["__scope".concat(d)];return{...l,...m}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:a}),[a])}};return r.scopeName=e.scopeName,r}function ur(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var xbe=E.createContext(void 0);function Fa(t){const e=E.useContext(xbe);return t||e||"ltr"}function qv(t,[e,r]){return Math.min(r,Math.max(e,t))}function fe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ebe(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var dB="ScrollArea",[bH,hYe]=Ji(dB),[Sbe,co]=bH(dB),wH=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=t,[l,c]=E.useState(null),[d,h]=E.useState(null),[m,g]=E.useState(null),[y,_]=E.useState(null),[u,f]=E.useState(null),[p,v]=E.useState(0),[b,w]=E.useState(0),[x,S]=E.useState(!1),[A,D]=E.useState(!1),C=_t(e,R=>c(R)),T=Fa(s);return F.jsx(Sbe,{scope:r,type:n,dir:T,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:_,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:u,onScrollbarYChange:f,scrollbarYEnabled:A,onScrollbarYEnabledChange:D,onCornerWidthChange:v,onCornerHeightChange:w,children:F.jsx(Xe.div,{dir:T,...a,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});wH.displayName=dB;var xH="ScrollAreaViewport",EH=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,a=co(xH,r),l=E.useRef(null),c=_t(e,l,a.onViewportChange);return F.jsxs(F.Fragment,{children:[F.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),F.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:F.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});EH.displayName=xH;var Ma="ScrollAreaScrollbar",Cbe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=co(Ma,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return E.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?F.jsx(Abe,{...n,ref:e,forceMount:r}):s.type==="scroll"?F.jsx(Tbe,{...n,ref:e,forceMount:r}):s.type==="auto"?F.jsx(SH,{...n,ref:e,forceMount:r}):s.type==="always"?F.jsx(fB,{...n,ref:e}):null});Cbe.displayName=Ma;var Abe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=co(Ma,t.__scopeScrollArea),[o,a]=E.useState(!1);return E.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),F.jsx(Zi,{present:r||o,children:F.jsx(SH,{"data-state":o?"visible":"hidden",...n,ref:e})})}),Tbe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=co(Ma,t.__scopeScrollArea),o=t.orientation==="horizontal",a=OE(()=>c("SCROLL_END"),100),[l,c]=Ebe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),E.useEffect(()=>{const d=s.viewport,h=o?"scrollLeft":"scrollTop";if(d){let m=d[h];const g=()=>{const y=d[h];m!==y&&(c("SCROLL"),a()),m=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[s.viewport,o,c,a]),F.jsx(Zi,{present:r||l!=="hidden",children:F.jsx(fB,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:fe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),SH=E.forwardRef((t,e)=>{const r=co(Ma,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,a]=E.useState(!1),l=t.orientation==="horizontal",c=OE(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?d:h)}},10);return ap(r.viewport,c),ap(r.content,c),F.jsx(Zi,{present:n||o,children:F.jsx(fB,{"data-state":o?"visible":"hidden",...s,ref:e})})}),fB=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=co(Ma,t.__scopeScrollArea),o=E.useRef(null),a=E.useRef(0),[l,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=DH(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function m(g,y){return Fbe(g,a.current,l,y)}return r==="horizontal"?F.jsx(Dbe,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,y=OU(g,l,s.dir);o.current.style.transform="translate3d(".concat(y,"px, 0, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):r==="vertical"?F.jsx(Pbe,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,y=OU(g,l);o.current.style.transform="translate3d(0, ".concat(y,"px, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),Dbe=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=co(Ma,t.__scopeScrollArea),[a,l]=E.useState(),c=E.useRef(null),d=_t(e,c,o.onScrollbarXChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),F.jsx(AH,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":RE(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(o.viewport){const g=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),RH(g,m)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:R1(a.paddingLeft),paddingEnd:R1(a.paddingRight)}})}})}),Pbe=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=co(Ma,t.__scopeScrollArea),[a,l]=E.useState(),c=E.useRef(null),d=_t(e,c,o.onScrollbarYChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),F.jsx(AH,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":RE(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(o.viewport){const g=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),RH(g,m)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:R1(a.paddingTop),paddingEnd:R1(a.paddingBottom)}})}})}),[Rbe,CH]=bH(Ma),AH=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:m,...g}=t,y=co(Ma,r),[_,u]=E.useState(null),f=_t(e,C=>u(C)),p=E.useRef(null),v=E.useRef(""),b=y.viewport,w=n.content-n.viewport,x=ur(h),S=ur(c),A=OE(m,10);function D(C){if(p.current){const T=C.clientX-p.current.left,R=C.clientY-p.current.top;d({x:T,y:R})}}return E.useEffect(()=>{const C=T=>{const R=T.target;(_==null?void 0:_.contains(R))&&x(T,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,_,w,x]),E.useEffect(S,[n,S]),ap(_,A),ap(y.content,A),F.jsx(Rbe,{scope:r,scrollbar:_,hasThumb:s,onThumbChange:ur(o),onThumbPointerUp:ur(a),onThumbPositionChange:S,onThumbPointerDown:ur(l),children:F.jsx(Xe.div,{...g,ref:f,style:{position:"absolute",...g.style},onPointerDown:fe(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),p.current=_.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),D(C))}),onPointerMove:fe(t.onPointerMove,D),onPointerUp:fe(t.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),P1="ScrollAreaThumb",Obe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=CH(P1,t.__scopeScrollArea);return F.jsx(Zi,{present:r||s.hasThumb,children:F.jsx(Ibe,{ref:e,...n})})}),Ibe=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=co(P1,r),a=CH(P1,r),{onThumbPositionChange:l}=a,c=_t(e,m=>a.onThumbChange(m)),d=E.useRef(),h=OE(()=>{d.current&&(d.current(),d.current=void 0)},100);return E.useEffect(()=>{const m=o.viewport;if(m){const g=()=>{if(h(),!d.current){const y=Mbe(m,l);d.current=y,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[o.viewport,h,l]),F.jsx(Xe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(t.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),_=m.clientX-y.left,u=m.clientY-y.top;a.onThumbPointerDown({x:_,y:u})}),onPointerUp:fe(t.onPointerUp,a.onThumbPointerUp)})});Obe.displayName=P1;var hB="ScrollAreaCorner",TH=E.forwardRef((t,e)=>{const r=co(hB,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?F.jsx(Bbe,{...t,ref:e}):null});TH.displayName=hB;var Bbe=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=co(hB,r),[o,a]=E.useState(0),[l,c]=E.useState(0),d=!!(o&&l);return ap(s.scrollbarX,()=>{var m;const h=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),ap(s.scrollbarY,()=>{var m;const h=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),d?F.jsx(Xe.div,{...n,ref:e,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function R1(t){return t?parseInt(t,10):0}function DH(t,e){const r=t/e;return isNaN(r)?0:r}function RE(t){const e=DH(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Fbe(t,e,r,n="ltr"){const s=RE(r),o=s/2,a=e||o,l=s-a,c=r.scrollbar.paddingStart+a,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,m=n==="ltr"?[0,h]:[h*-1,0];return PH([c,d],m)(t)}function OU(t,e,r="ltr"){const n=RE(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,a=e.content-e.viewport,l=o-n,c=r==="ltr"?[0,a]:[a*-1,0],d=qv(t,c);return PH([0,a],[0,l])(d)}function PH(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function RH(t,e){return t>0&&t<e}var Mbe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},a=r.left!==o.left,l=r.top!==o.top;(a||l)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function OE(t,e){const r=ur(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ap(t,e){const r=ur(e);pn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var pYe=wH,mYe=EH,gYe=TH;function OH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=OH(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function kbe(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=OH(t))&&(n&&(n+=" "),n+=e);return n}const IU=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,XP=kbe,vYe=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return XP(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],m=o==null?void 0:o[d];if(h===null)return null;const g=IU(h)||IU(m);return s[d][g]}),l=r&&Object.entries(r).reduce((d,h)=>{let[m,g]=h;return g===void 0||(d[m]=g),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:m,className:g,...y}=h;return Object.entries(y).every(_=>{let[u,f]=_;return Array.isArray(f)?f.includes({...o,...l}[u]):{...o,...l}[u]===f})?[...d,m,g]:d},[]);return XP(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nbe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IH=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>E.createElement("svg",{ref:c,...Lbe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:IH("lucide",s),...l},[...a.map(([d,h])=>E.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const r=E.forwardRef(({className:n,...s},o)=>E.createElement(Ube,{ref:o,iconNode:e,className:IH("lucide-".concat(Nbe(t)),n),...s}));return r.displayName="".concat(t),r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yYe=Ge("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ye=Ge("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bYe=Ge("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wYe=Ge("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xYe=Ge("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EYe=Ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SYe=Ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CYe=Ge("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AYe=Ge("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TYe=Ge("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DYe=Ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PYe=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RYe=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OYe=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IYe=Ge("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BYe=Ge("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FYe=Ge("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MYe=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kYe=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NYe=Ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LYe=Ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UYe=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ye=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jYe=Ge("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zYe=Ge("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GYe=Ge("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VYe=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HYe=Ge("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WYe=Ge("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KYe=Ge("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XYe=Ge("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YYe=Ge("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qYe=Ge("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZYe=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JYe=Ge("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QYe=Ge("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eqe=Ge("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tqe=Ge("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rqe=Ge("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nqe=Ge("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iqe=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sqe=Ge("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oqe=Ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aqe=Ge("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lqe=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uqe=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cqe=Ge("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dqe=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fqe=Ge("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hqe=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pqe=Ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mqe=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gqe=Ge("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vqe=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yqe=Ge("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _qe=Ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bqe=Ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wqe=Ge("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xqe=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eqe=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sqe=Ge("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cqe=Ge("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aqe=Ge("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tqe=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dqe=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pqe=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rqe=Ge("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oqe=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iqe=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bqe=Ge("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fqe=Ge("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mqe=Ge("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kqe=Ge("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nqe=Ge("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lqe=Ge("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uqe=Ge("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $qe=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jqe=Ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zqe=Ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gqe=Ge("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vqe=Ge("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hqe=Ge("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wqe=Ge("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kqe=Ge("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xqe=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function di({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=$be({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,l=ur(r),c=E.useCallback(d=>{if(o){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else s(d)},[o,t,s,l]);return[a,c]}function $be({defaultProp:t,onChange:e}){const r=E.useState(t),[n]=r,s=E.useRef(n),o=ur(e);return E.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function Zd(t){const e=t+"CollectionProvider",[r,n]=Ji(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:_,children:u}=y,f=Z.useRef(null),p=Z.useRef(new Map).current;return F.jsx(s,{scope:_,itemMap:p,collectionRef:f,children:u})};a.displayName=e;const l=t+"CollectionSlot",c=Z.forwardRef((y,_)=>{const{scope:u,children:f}=y,p=o(l,u),v=_t(_,p.collectionRef);return F.jsx(Da,{ref:v,children:f})});c.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=Z.forwardRef((y,_)=>{const{scope:u,children:f,...p}=y,v=Z.useRef(null),b=_t(_,v),w=o(d,u);return Z.useEffect(()=>(w.itemMap.set(v,{ref:v,...p}),()=>void w.itemMap.delete(v))),F.jsx(Da,{[h]:"",ref:b,children:f})});m.displayName=d;function g(y){const _=o(t+"CollectionConsumer",y);return Z.useCallback(()=>{const f=_.collectionRef.current;if(!f)return[];const p=Array.from(f.querySelectorAll("[".concat(h,"]")));return Array.from(_.itemMap.values()).sort((w,x)=>p.indexOf(w.ref.current)-p.indexOf(x.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},g,n]}function BH(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var jbe="DismissableLayer",YP="dismissableLayer.update",zbe="dismissableLayer.pointerDownOutside",Gbe="dismissableLayer.focusOutside",BU,FH=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o_=E.forwardRef((t,e)=>{var A;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=E.useContext(FH),[h,m]=E.useState(null),g=(A=h==null?void 0:h.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),_=_t(e,D=>m(D)),u=Array.from(d.layers),[f]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(f),v=h?u.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,x=Wbe(D=>{const C=D.target,T=[...d.branches].some(R=>R.contains(C));!w||T||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},g),S=Kbe(D=>{const C=D.target;[...d.branches].some(R=>R.contains(C))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},g);return BH(D=>{v===d.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},g),E.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BU=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),FU(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=BU)}},[h,g,r,d]),E.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),FU())},[h,d]),E.useEffect(()=>{const D=()=>y({});return document.addEventListener(YP,D),()=>document.removeEventListener(YP,D)},[]),F.jsx(Xe.div,{...c,ref:_,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,x.onPointerDownCapture)})});o_.displayName=jbe;var Vbe="DismissableLayerBranch",Hbe=E.forwardRef((t,e)=>{const r=E.useContext(FH),n=E.useRef(null),s=_t(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),F.jsx(Xe.div,{...t,ref:s})});Hbe.displayName=Vbe;function Wbe(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){MH(zbe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Kbe(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&MH(Gbe,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FU(){const t=new CustomEvent(YP);document.dispatchEvent(t)}function MH(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?s_(s,o):s.dispatchEvent(o)}var dA=0;function pB(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:MU()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:MU()),dA++,()=>{dA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),dA--}},[])}function MU(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var fA="focusScope.autoFocusOnMount",hA="focusScope.autoFocusOnUnmount",kU={bubbles:!1,cancelable:!0},Xbe="FocusScope",Bp=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=E.useState(null),d=ur(s),h=ur(o),m=E.useRef(null),g=_t(e,u=>c(u)),y=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let u=function(b){if(y.paused||!l)return;const w=b.target;l.contains(w)?m.current=w:iu(m.current,{select:!0})},f=function(b){if(y.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||iu(m.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const x of b)x.removedNodes.length>0&&iu(l)};document.addEventListener("focusin",u),document.addEventListener("focusout",f);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",f),v.disconnect()}}},[n,l,y.paused]),E.useEffect(()=>{if(l){LU.add(y);const u=document.activeElement;if(!l.contains(u)){const p=new CustomEvent(fA,kU);l.addEventListener(fA,d),l.dispatchEvent(p),p.defaultPrevented||(Ybe(ewe(kH(l)),{select:!0}),document.activeElement===u&&iu(l))}return()=>{l.removeEventListener(fA,d),setTimeout(()=>{const p=new CustomEvent(hA,kU);l.addEventListener(hA,h),l.dispatchEvent(p),p.defaultPrevented||iu(u!=null?u:document.body,{select:!0}),l.removeEventListener(hA,h),LU.remove(y)},0)}}},[l,d,h,y]);const _=E.useCallback(u=>{if(!r&&!n||y.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=document.activeElement;if(f&&p){const v=u.currentTarget,[b,w]=qbe(v);b&&w?!u.shiftKey&&p===w?(u.preventDefault(),r&&iu(b,{select:!0})):u.shiftKey&&p===b&&(u.preventDefault(),r&&iu(w,{select:!0})):p===v&&u.preventDefault()}},[r,n,y.paused]);return F.jsx(Xe.div,{tabIndex:-1,...a,ref:g,onKeyDown:_})});Bp.displayName=Xbe;function Ybe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(iu(n,{select:e}),document.activeElement!==r)return}function qbe(t){const e=kH(t),r=NU(e,t),n=NU(e.reverse(),t);return[r,n]}function kH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function NU(t,e){for(const r of t)if(!Zbe(r,{upTo:e}))return r}function Zbe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Jbe(t){return t instanceof HTMLInputElement&&"select"in t}function iu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Jbe(t)&&e&&t.select()}}var LU=Qbe();function Qbe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=UU(t,e),t.unshift(e)},remove(e){var r;t=UU(t,e),(r=t[0])==null||r.resume()}}}function UU(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function ewe(t){return t.filter(e=>e.tagName!=="A")}var twe=WR["useId".toString()]||(()=>{}),rwe=0;function Kn(t){const[e,r]=E.useState(twe());return pn(()=>{t||r(n=>n!=null?n:String(rwe++))},[t]),t||(e?"radix-".concat(e):"")}const nwe=["top","right","bottom","left"],ga=Math.min,ls=Math.max,O1=Math.round,$0=Math.floor,Qu=t=>({x:t,y:t}),iwe={left:"right",right:"left",bottom:"top",top:"bottom"},swe={start:"end",end:"start"};function qP(t,e,r){return ls(t,ga(e,r))}function Ol(t,e){return typeof t=="function"?t(e):t}function Il(t){return t.split("-")[0]}function Fp(t){return t.split("-")[1]}function mB(t){return t==="x"?"y":"x"}function gB(t){return t==="y"?"height":"width"}function ec(t){return["top","bottom"].includes(Il(t))?"y":"x"}function vB(t){return mB(ec(t))}function owe(t,e,r){r===void 0&&(r=!1);const n=Fp(t),s=vB(t),o=gB(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=I1(a)),[a,I1(a)]}function awe(t){const e=I1(t);return[ZP(t),e,ZP(e)]}function ZP(t){return t.replace(/start|end/g,e=>swe[e])}function lwe(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:a;default:return[]}}function uwe(t,e,r,n){const s=Fp(t);let o=lwe(Il(t),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(ZP)))),o}function I1(t){return t.replace(/left|right|bottom|top/g,e=>iwe[e])}function cwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function NH(t){return typeof t!="number"?cwe(t):{top:t,right:t,bottom:t,left:t}}function B1(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function $U(t,e,r){let{reference:n,floating:s}=t;const o=ec(e),a=vB(e),l=gB(a),c=Il(e),d=o==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-s.width,y:m};break;default:y={x:n.x,y:n.y}}switch(Fp(e)){case"start":y[a]-=g*(r&&d?-1:1);break;case"end":y[a]+=g*(r&&d?-1:1);break}return y}const dwe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=$U(d,n,c),g=n,y={},_=0;for(let u=0;u<l.length;u++){const{name:f,fn:p}=l[u],{x:v,y:b,data:w,reset:x}=await p({x:h,y:m,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});h=v!=null?v:h,m=b!=null?b:m,y={...y,[f]:{...y[f],...w}},x&&_<=50&&(_++,typeof x=="object"&&(x.placement&&(g=x.placement),x.rects&&(d=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:h,y:m}=$U(d,g,c)),u=-1)}return{x:h,y:m,placement:g,strategy:s,middlewareData:y}};async function Zv(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Ol(e,t),_=NH(y),f=l[g?m==="floating"?"reference":"floating":m],p=B1(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(f)))==null||r?f:f.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=m==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},x=B1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(p.top-x.top+_.top)/w.y,bottom:(x.bottom-p.bottom+_.bottom)/w.y,left:(p.left-x.left+_.left)/w.x,right:(x.right-p.right+_.right)/w.x}}const fwe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Ol(t,e)||{};if(d==null)return{};const m=NH(h),g={x:r,y:n},y=vB(s),_=gB(y),u=await a.getDimensions(d),f=y==="y",p=f?"top":"left",v=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=o.reference[_]+o.reference[y]-g[y]-o.floating[_],x=g[y]-o.reference[y],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let A=S?S[b]:0;(!A||!await(a.isElement==null?void 0:a.isElement(S)))&&(A=l.floating[b]||o.floating[_]);const D=w/2-x/2,C=A/2-u[_]/2-1,T=ga(m[p],C),R=ga(m[v],C),P=T,O=A-u[_]-R,I=A/2-u[_]/2+D,k=qP(P,I,O),W=!c.arrow&&Fp(s)!=null&&I!==k&&o.reference[_]/2-(I<P?T:R)-u[_]/2<0,G=W?I<P?I-P:I-O:0;return{[y]:g[y]+G,data:{[y]:k,centerOffset:I-k-G,...W&&{alignmentOffset:G}},reset:W}}}),hwe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:u=!0,...f}=Ol(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=Il(s),v=ec(l),b=Il(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),x=g||(b||!u?[I1(l)]:awe(l)),S=_!=="none";!g&&S&&x.push(...uwe(l,u,_,w));const A=[l,...x],D=await Zv(e,f),C=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&C.push(D[p]),m){const I=owe(s,a,w);C.push(D[I[0]],D[I[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(I=>I<=0)){var R,P;const I=(((R=o.flip)==null?void 0:R.index)||0)+1,k=A[I];if(k)return{data:{index:I,overflows:T},reset:{placement:k}};let W=(P=T.filter(G=>G.overflows[0]<=0).sort((G,j)=>G.overflows[1]-j.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(y){case"bestFit":{var O;const G=(O=T.filter(j=>{if(S){const $=ec(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:O[0];G&&(W=G);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function jU(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zU(t){return nwe.some(e=>t[e]>=0)}const pwe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Ol(t,e);switch(n){case"referenceHidden":{const o=await Zv(e,{...s,elementContext:"reference"}),a=jU(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:zU(a)}}}case"escaped":{const o=await Zv(e,{...s,altBoundary:!0}),a=jU(o,r.floating);return{data:{escapedOffsets:a,escaped:zU(a)}}}default:return{}}}}};async function mwe(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Il(r),l=Fp(r),c=ec(r)==="y",d=["left","top"].includes(a)?-1:1,h=o&&c?-1:1,m=Ol(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof _=="number"&&(y=l==="end"?_*-1:_),c?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const gwe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await mwe(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},vwe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:f=>{let{x:p,y:v}=f;return{x:p,y:v}}},...c}=Ol(t,e),d={x:r,y:n},h=await Zv(e,c),m=ec(Il(s)),g=mB(m);let y=d[g],_=d[m];if(o){const f=g==="y"?"top":"left",p=g==="y"?"bottom":"right",v=y+h[f],b=y-h[p];y=qP(v,y,b)}if(a){const f=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=_+h[f],b=_-h[p];_=qP(v,_,b)}const u=l.fn({...e,[g]:y,[m]:_});return{...u,data:{x:u.x-r,y:u.y-n}}}}},ywe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ol(t,e),h={x:r,y:n},m=ec(s),g=mB(m);let y=h[g],_=h[m];const u=Ol(l,e),f=typeof u=="number"?{mainAxis:u,crossAxis:0}:{mainAxis:0,crossAxis:0,...u};if(c){const b=g==="y"?"height":"width",w=o.reference[g]-o.floating[b]+f.mainAxis,x=o.reference[g]+o.reference[b]-f.mainAxis;y<w?y=w:y>x&&(y=x)}if(d){var p,v;const b=g==="y"?"width":"height",w=["top","left"].includes(Il(s)),x=o.reference[m]-o.floating[b]+(w&&((p=a.offset)==null?void 0:p[m])||0)+(w?0:f.crossAxis),S=o.reference[m]+o.reference[b]+(w?0:((v=a.offset)==null?void 0:v[m])||0)-(w?f.crossAxis:0);_<x?_=x:_>S&&(_=S)}return{[g]:y,[m]:_}}}},_we=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:s,elements:o}=e,{apply:a=()=>{},...l}=Ol(t,e),c=await Zv(e,l),d=Il(r),h=Fp(r),m=ec(r)==="y",{width:g,height:y}=n.floating;let _,u;d==="top"||d==="bottom"?(_=d,u=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(u=d,_=h==="end"?"top":"bottom");const f=y-c.top-c.bottom,p=g-c.left-c.right,v=ga(y-c[_],f),b=ga(g-c[u],p),w=!e.middlewareData.shift;let x=v,S=b;if(m?S=h||w?ga(b,p):p:x=h||w?ga(v,f):f,w&&!h){const D=ls(c.left,0),C=ls(c.right,0),T=ls(c.top,0),R=ls(c.bottom,0);m?S=g-2*(D!==0||C!==0?D+C:ls(c.left,c.right)):x=y-2*(T!==0||R!==0?T+R:ls(c.top,c.bottom))}await a({...e,availableWidth:S,availableHeight:x});const A=await s.getDimensions(o.floating);return g!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function IE(){return typeof window<"u"}function Mp(t){return LH(t)?(t.nodeName||"").toLowerCase():"#document"}function vs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jl(t){var e;return(e=(LH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LH(t){return IE()?t instanceof Node||t instanceof vs(t).Node:!1}function si(t){return IE()?t instanceof Element||t instanceof vs(t).Element:!1}function Pa(t){return IE()?t instanceof HTMLElement||t instanceof vs(t).HTMLElement:!1}function JP(t){return!IE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vs(t).ShadowRoot}function a_(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function bwe(t){return["table","td","th"].includes(Mp(t))}function BE(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(r){return!1}})}function yB(t){const e=_B(),r=si(t)?Vo(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function wwe(t){let e=tc(t);for(;Pa(e)&&!lp(e);){if(yB(e))return e;if(BE(e))return null;e=tc(e)}return null}function _B(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lp(t){return["html","body","#document"].includes(Mp(t))}function Vo(t){return vs(t).getComputedStyle(t)}function FE(t){return si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tc(t){if(Mp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JP(t)&&t.host||jl(t);return JP(e)?e.host:e}function UH(t){const e=tc(t);return lp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pa(e)&&a_(e)?e:UH(e)}function Jv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=UH(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),a=vs(s);if(o){const l=QP(a);return e.concat(a,a.visualViewport||[],a_(s)?s:[],l&&r?Jv(l):[])}return e.concat(s,Jv(s,[],r))}function QP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $H(t){const e=Vo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Pa(t),o=s?t.offsetWidth:r,a=s?t.offsetHeight:n,l=O1(r)!==o||O1(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function bB(t){return si(t)?t:t.contextElement}function Ah(t){const e=bB(t);if(!Pa(e))return Qu(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=$H(e);let a=(o?O1(r.width):r.width)/n,l=(o?O1(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const xwe=Qu(0);function jH(t){const e=vs(t);return!_B()||!e.visualViewport?xwe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ewe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==vs(t)?!1:e}function Bd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=bB(t);let a=Qu(1);e&&(n?si(n)&&(a=Ah(n)):a=Ah(t));const l=Ewe(o,r,n)?jH(o):Qu(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,m=s.height/a.y;if(o){const g=vs(o),y=n&&si(n)?vs(n):n;let _=g,u=QP(_);for(;u&&n&&y!==_;){const f=Ah(u),p=u.getBoundingClientRect(),v=Vo(u),b=p.left+(u.clientLeft+parseFloat(v.paddingLeft))*f.x,w=p.top+(u.clientTop+parseFloat(v.paddingTop))*f.y;c*=f.x,d*=f.y,h*=f.x,m*=f.y,c+=b,d+=w,_=vs(u),u=QP(_)}}return B1({width:h,height:m,x:c,y:d})}function Swe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",a=jl(n),l=e?BE(e.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=Qu(1);const h=Qu(0),m=Pa(n);if((m||!m&&!o)&&((Mp(n)!=="body"||a_(a))&&(c=FE(n)),Pa(n))){const g=Bd(n);d=Ah(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x,y:r.y*d.y-c.scrollTop*d.y+h.y}}function Cwe(t){return Array.from(t.getClientRects())}function zH(t){return Bd(jl(t)).left+FE(t).scrollLeft}function Awe(t){const e=jl(t),r=FE(t),n=t.ownerDocument.body,s=ls(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ls(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+zH(t);const l=-r.scrollTop;return Vo(n).direction==="rtl"&&(a+=ls(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function Twe(t,e){const r=vs(t),n=jl(t),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const d=_B();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function Dwe(t,e){const r=Bd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Pa(t)?Ah(t):Qu(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:a,height:l,x:c,y:d}}function GU(t,e,r){let n;if(e==="viewport")n=Twe(t,r);else if(e==="document")n=Awe(jl(t));else if(si(e))n=Dwe(e,r);else{const s=jH(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return B1(n)}function GH(t,e){const r=tc(t);return r===e||!si(r)||lp(r)?!1:Vo(r).position==="fixed"||GH(r,e)}function Pwe(t,e){const r=e.get(t);if(r)return r;let n=Jv(t,[],!1).filter(l=>si(l)&&Mp(l)!=="body"),s=null;const o=Vo(t).position==="fixed";let a=o?tc(t):t;for(;si(a)&&!lp(a);){const l=Vo(a),c=yB(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||a_(a)&&!c&&GH(t,a))?n=n.filter(h=>h!==a):s=l,a=tc(a)}return e.set(t,n),n}function Rwe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?BE(e)?[]:Pwe(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((d,h)=>{const m=GU(e,h,s);return d.top=ls(m.top,d.top),d.right=ga(m.right,d.right),d.bottom=ga(m.bottom,d.bottom),d.left=ls(m.left,d.left),d},GU(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Owe(t){const{width:e,height:r}=$H(t);return{width:e,height:r}}function Iwe(t,e,r){const n=Pa(e),s=jl(e),o=r==="fixed",a=Bd(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Qu(0);if(n||!n&&!o)if((Mp(e)!=="body"||a_(s))&&(l=FE(e)),n){const m=Bd(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=zH(s));const d=a.left+l.scrollLeft-c.x,h=a.top+l.scrollTop-c.y;return{x:d,y:h,width:a.width,height:a.height}}function pA(t){return Vo(t).position==="static"}function VU(t,e){return!Pa(t)||Vo(t).position==="fixed"?null:e?e(t):t.offsetParent}function VH(t,e){const r=vs(t);if(BE(t))return r;if(!Pa(t)){let s=tc(t);for(;s&&!lp(s);){if(si(s)&&!pA(s))return s;s=tc(s)}return r}let n=VU(t,e);for(;n&&bwe(n)&&pA(n);)n=VU(n,e);return n&&lp(n)&&pA(n)&&!yB(n)?r:n||wwe(t)||r}const Bwe=async function(t){const e=this.getOffsetParent||VH,r=this.getDimensions,n=await r(t.floating);return{reference:Iwe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Fwe(t){return Vo(t).direction==="rtl"}const Mwe={convertOffsetParentRelativeRectToViewportRelativeRect:Swe,getDocumentElement:jl,getClippingRect:Rwe,getOffsetParent:VH,getElementRects:Bwe,getClientRects:Cwe,getDimensions:Owe,getScale:Ah,isElement:si,isRTL:Fwe};function kwe(t,e){let r=null,n;const s=jl(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:h,width:m,height:g}=t.getBoundingClientRect();if(l||e(),!m||!g)return;const y=$0(h),_=$0(s.clientWidth-(d+m)),u=$0(s.clientHeight-(h+g)),f=$0(d),v={rootMargin:-y+"px "+-_+"px "+-u+"px "+-f+"px",threshold:ls(0,ga(1,c))||1};let b=!0;function w(x){const S=x[0].intersectionRatio;if(S!==c){if(!b)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch(x){r=new IntersectionObserver(w,v)}r.observe(t)}return a(!0),o}function HH(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=bB(t),h=s||o?[...d?Jv(d):[],...Jv(e)]:[];h.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const m=d&&l?kwe(d,r):null;let g=-1,y=null;a&&(y=new ResizeObserver(p=>{let[v]=p;v&&v.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let _,u=c?Bd(t):null;c&&f();function f(){const p=Bd(t);u&&(p.x!==u.x||p.y!==u.y||p.width!==u.width||p.height!==u.height)&&r(),u=p,_=requestAnimationFrame(f)}return r(),()=>{var p;h.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),m==null||m(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const Nwe=gwe,Lwe=vwe,Uwe=hwe,$we=_we,jwe=pwe,HU=fwe,zwe=ywe,Gwe=(t,e,r)=>{const n=new Map,s={platform:Mwe,...r},o={...s.platform,_c:n};return dwe(t,e,{...s,platform:o})};var Jb=typeof document<"u"?E.useLayoutEffect:E.useEffect;function F1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!F1(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!F1(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function WH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WU(t,e){const r=WH(t);return Math.round(e*r)/r}function mA(t){const e=E.useRef(t);return Jb(()=>{e.current=t}),e}function KH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=E.useState(n);F1(g,n)||y(n);const[_,u]=E.useState(null),[f,p]=E.useState(null),v=E.useCallback(j=>{j!==S.current&&(S.current=j,u(j))},[]),b=E.useCallback(j=>{j!==A.current&&(A.current=j,p(j))},[]),w=o||_,x=a||f,S=E.useRef(null),A=E.useRef(null),D=E.useRef(h),C=c!=null,T=mA(c),R=mA(s),P=mA(d),O=E.useCallback(()=>{if(!S.current||!A.current)return;const j={placement:e,strategy:r,middleware:g};R.current&&(j.platform=R.current),Gwe(S.current,A.current,j).then($=>{const K={...$,isPositioned:P.current!==!1};I.current&&!F1(D.current,K)&&(D.current=K,Ll.flushSync(()=>{m(K)}))})},[g,e,r,R,P]);Jb(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(j=>({...j,isPositioned:!1})))},[d]);const I=E.useRef(!1);Jb(()=>(I.current=!0,()=>{I.current=!1}),[]),Jb(()=>{if(w&&(S.current=w),x&&(A.current=x),w&&x){if(T.current)return T.current(w,x,O);O()}},[w,x,O,T,C]);const k=E.useMemo(()=>({reference:S,floating:A,setReference:v,setFloating:b}),[v,b]),W=E.useMemo(()=>({reference:w,floating:x}),[w,x]),G=E.useMemo(()=>{const j={position:r,left:0,top:0};if(!W.floating)return j;const $=WU(W.floating,h.x),K=WU(W.floating,h.y);return l?{...j,transform:"translate("+$+"px, "+K+"px)",...WH(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:K}},[r,l,W.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:O,refs:k,elements:W,floatingStyles:G}),[h,O,k,W,G])}const Vwe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?HU({element:n.current,padding:s}).fn(r):{}:n?HU({element:n,padding:s}).fn(r):{}}}},Hwe=(t,e)=>({...Nwe(t),options:[t,e]}),Wwe=(t,e)=>({...Lwe(t),options:[t,e]}),Kwe=(t,e)=>({...zwe(t),options:[t,e]}),Xwe=(t,e)=>({...Uwe(t),options:[t,e]}),Ywe=(t,e)=>({...$we(t),options:[t,e]}),qwe=(t,e)=>({...jwe(t),options:[t,e]}),Zwe=(t,e)=>({...Vwe(t),options:[t,e]});var Jwe="Arrow",XH=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return F.jsx(Xe.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});XH.displayName=Jwe;var Qwe=XH;function wB(t){const[e,r]=E.useState(void 0);return pn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var xB="Popper",[YH,ka]=Ji(xB),[e1e,qH]=YH(xB),ZH=t=>{const{__scopePopper:e,children:r}=t,[n,s]=E.useState(null);return F.jsx(e1e,{scope:e,anchor:n,onAnchorChange:s,children:r})};ZH.displayName=xB;var JH="PopperAnchor",QH=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=qH(JH,r),a=E.useRef(null),l=_t(e,a);return E.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:F.jsx(Xe.div,{...s,ref:l})});QH.displayName=JH;var EB="PopperContent",[t1e,r1e]=YH(EB),eW=E.forwardRef((t,e)=>{var z,V,H,re,ne,_e,be,xe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:_,...u}=t,f=qH(EB,r),[p,v]=E.useState(null),b=_t(e,Se=>v(Se)),[w,x]=E.useState(null),S=wB(w),A=(z=S==null?void 0:S.width)!=null?z:0,D=(V=S==null?void 0:S.height)!=null?V:0,C=n+(o!=="center"?"-"+o:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],P=R.length>0,O={padding:T,boundary:R.filter(i1e),altBoundary:P},{refs:I,floatingStyles:k,placement:W,isPositioned:G,middlewareData:j}=KH({strategy:"fixed",placement:C,whileElementsMounted:(...Se)=>HH(...Se,{animationFrame:y==="always"}),elements:{reference:f.anchor},middleware:[Hwe({mainAxis:s+D,alignmentAxis:a}),c&&Wwe({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Kwe():void 0,...O}),c&&Xwe({...O}),Ywe({...O,apply:({elements:Se,rects:dt,availableWidth:xt,availableHeight:X})=>{const{width:se,height:le}=dt.reference,Ae=Se.floating.style;Ae.setProperty("--radix-popper-available-width","".concat(xt,"px")),Ae.setProperty("--radix-popper-available-height","".concat(X,"px")),Ae.setProperty("--radix-popper-anchor-width","".concat(se,"px")),Ae.setProperty("--radix-popper-anchor-height","".concat(le,"px"))}}),w&&Zwe({element:w,padding:l}),s1e({arrowWidth:A,arrowHeight:D}),g&&qwe({strategy:"referenceHidden",...O})]}),[$,K]=nW(W),Q=ur(_);pn(()=>{G&&(Q==null||Q())},[G,Q]);const ue=(H=j.arrow)==null?void 0:H.x,pe=(re=j.arrow)==null?void 0:re.y,oe=((ne=j.arrow)==null?void 0:ne.centerOffset)!==0,[he,Y]=E.useState();return pn(()=>{p&&Y(window.getComputedStyle(p).zIndex)},[p]),F.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:G?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(_e=j.transformOrigin)==null?void 0:_e.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:F.jsx(t1e,{scope:r,placedSide:$,onArrowChange:x,arrowX:ue,arrowY:pe,shouldHideArrow:oe,children:F.jsx(Xe.div,{"data-side":$,"data-align":K,...u,ref:b,style:{...u.style,animation:G?void 0:"none"}})})})});eW.displayName=EB;var tW="PopperArrow",n1e={top:"bottom",right:"left",bottom:"top",left:"right"},rW=E.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=r1e(tW,n),a=n1e[o.placedSide];return F.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:F.jsx(Qwe,{...s,ref:r,style:{...s.style,display:"block"}})})});rW.displayName=tW;function i1e(t){return t!==null}var s1e=t=>({name:"transformOrigin",options:t,fn(e){var f,p,v,b,w;const{placement:r,rects:n,middlewareData:s}=e,a=((f=s.arrow)==null?void 0:f.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=nW(r),m={start:"0%",center:"50%",end:"100%"}[h],g=((v=(p=s.arrow)==null?void 0:p.x)!=null?v:0)+l/2,y=((w=(b=s.arrow)==null?void 0:b.y)!=null?w:0)+c/2;let _="",u="";return d==="bottom"?(_=a?m:"".concat(g,"px"),u="".concat(-c,"px")):d==="top"?(_=a?m:"".concat(g,"px"),u="".concat(n.floating.height+c,"px")):d==="right"?(_="".concat(-c,"px"),u=a?m:"".concat(y,"px")):d==="left"&&(_="".concat(n.floating.width+c,"px"),u=a?m:"".concat(y,"px")),{data:{x:_,y:u}}}});function nW(t){const[e,r="center"]=t.split("-");return[e,r]}var kp=ZH,Np=QH,l_=eW,u_=rW,o1e="Portal",c_=E.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=E.useState(!1);pn(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?NO.createPortal(F.jsx(Xe.div,{...n,ref:e}),a):null});c_.displayName=o1e;var gA="rovingFocusGroup.onEntryFocus",a1e={bubbles:!1,cancelable:!0},ME="RovingFocusGroup",[e2,iW,l1e]=Zd(ME),[u1e,fo]=Ji(ME,[l1e]),[c1e,d1e]=u1e(ME),sW=E.forwardRef((t,e)=>F.jsx(e2.Provider,{scope:t.__scopeRovingFocusGroup,children:F.jsx(e2.Slot,{scope:t.__scopeRovingFocusGroup,children:F.jsx(f1e,{...t,ref:e})})}));sW.displayName=ME;var f1e=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=t,g=E.useRef(null),y=_t(e,g),_=Fa(o),[u=null,f]=di({prop:a,defaultProp:l,onChange:c}),[p,v]=E.useState(!1),b=ur(d),w=iW(r),x=E.useRef(!1),[S,A]=E.useState(0);return E.useEffect(()=>{const D=g.current;if(D)return D.addEventListener(gA,b),()=>D.removeEventListener(gA,b)},[b]),F.jsx(c1e,{scope:r,orientation:n,dir:_,loop:s,currentTabStopId:u,onItemFocus:E.useCallback(D=>f(D),[f]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>A(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>A(D=>D-1),[]),children:F.jsx(Xe.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{x.current=!0}),onFocus:fe(t.onFocus,D=>{const C=!x.current;if(D.target===D.currentTarget&&C&&!p){const T=new CustomEvent(gA,a1e);if(D.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=w().filter(W=>W.focusable),P=R.find(W=>W.active),O=R.find(W=>W.id===u),k=[P,O,...R].filter(Boolean).map(W=>W.ref.current);lW(k,h)}}x.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),oW="RovingFocusGroupItem",aW=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=t,l=Kn(),c=o||l,d=d1e(oW,r),h=d.currentTabStopId===c,m=iW(r),{onFocusableItemAdd:g,onFocusableItemRemove:y}=d;return E.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),F.jsx(e2.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:F.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,_=>{n?d.onItemFocus(c):_.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const u=m1e(_,d.orientation,d.dir);if(u!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let p=m().filter(v=>v.focusable).map(v=>v.ref.current);if(u==="last")p.reverse();else if(u==="prev"||u==="next"){u==="prev"&&p.reverse();const v=p.indexOf(_.currentTarget);p=d.loop?g1e(p,v+1):p.slice(v+1)}setTimeout(()=>lW(p))}})})})});aW.displayName=oW;var h1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function m1e(t,e,r){const n=p1e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return h1e[n]}function lW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function g1e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Lp=sW,Jd=aW,v1e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bf=new WeakMap,j0=new WeakMap,z0={},vA=0,uW=function(t){return t&&(t.host||uW(t.parentNode))},y1e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=uW(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},_1e=function(t,e,r,n){var s=y1e(e,Array.isArray(t)?t:[t]);z0[r]||(z0[r]=new WeakMap);var o=z0[r],a=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))h(g);else{var y=g.getAttribute(n),_=y!==null&&y!=="false",u=(bf.get(g)||0)+1,f=(o.get(g)||0)+1;bf.set(g,u),o.set(g,f),a.push(g),u===1&&_&&j0.set(g,!0),f===1&&g.setAttribute(r,"true"),_||g.setAttribute(n,"true")}})};return h(e),l.clear(),vA++,function(){a.forEach(function(m){var g=bf.get(m)-1,y=o.get(m)-1;bf.set(m,g),o.set(m,y),g||(j0.has(m)||m.removeAttribute(n),j0.delete(m)),y||m.removeAttribute(r)}),vA--,vA||(bf=new WeakMap,bf=new WeakMap,j0=new WeakMap,z0={})}},d_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||v1e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),_1e(n,s,r,"aria-hidden")):function(){return null}},ni=function(){return ni=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ni.apply(this,arguments)};function SB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function cW(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Ng="right-scroll-bar-position",Lg="width-before-scroll-bar",b1e="with-scroll-bars-hidden",w1e="--removed-body-scroll-bar-size";function x1e(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function E1e(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}function dW(t,e){return E1e(e||null,function(r){return t.forEach(function(n){return x1e(n,r)})})}function S1e(t){return t}function C1e(t,e){e===void 0&&(e=S1e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return s}function fW(t){t===void 0&&(t={});var e=C1e(null);return e.options=ni({async:!0,ssr:!1},t),e}var hW=function(t){var e=t.sideCar,r=SB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,ni({},r))};hW.isSideCarExport=!0;function pW(t,e){return t.useMedium(e),hW}var mW=fW(),yA=function(){},kE=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:yA,onWheelCapture:yA,onTouchMoveCapture:yA}),s=n[0],o=n[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,y=t.noIsolation,_=t.inert,u=t.allowPinchZoom,f=t.as,p=f===void 0?"div":f,v=t.gapMode,b=SB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=g,x=dW([r,e]),S=ni(ni({},b),s);return E.createElement(E.Fragment,null,h&&E.createElement(w,{sideCar:mW,removeScrollBar:d,shards:m,noIsolation:y,inert:_,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),a?E.cloneElement(E.Children.only(l),ni(ni({},S),{ref:x})):E.createElement(p,ni({},S,{className:c,ref:x}),l))});kE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kE.classNames={fullWidth:Lg,zeroRight:Ng};var KU,A1e=function(){if(KU)return KU;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A1e();return e&&t.setAttribute("nonce",e),t}function D1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R1e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=T1e())&&(D1e(e,r),P1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O1e=function(){var t=R1e();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},CB=function(){var t=O1e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},I1e={left:0,top:0,right:0,gap:0},_A=function(t){return parseInt(t||"",10)||0},B1e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_A(r),_A(n),_A(s)]},F1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return I1e;var e=B1e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},M1e=CB(),Th="data-scroll-locked",k1e=function(t,e,r,n){var s=t.left,o=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),"\n  .".concat(b1e," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(Th,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Ng," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(Lg," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(Ng," .").concat(Ng," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Lg," .").concat(Lg," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Th,"] {\n    ").concat(w1e,": ").concat(l,"px;\n  }\n")},XU=function(){var t=parseInt(document.body.getAttribute(Th)||"0",10);return isFinite(t)?t:0},N1e=function(){E.useEffect(function(){return document.body.setAttribute(Th,(XU()+1).toString()),function(){var t=XU()-1;t<=0?document.body.removeAttribute(Th):document.body.setAttribute(Th,t.toString())}},[])},gW=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;N1e();var o=E.useMemo(function(){return F1e(s)},[s]);return E.createElement(M1e,{styles:k1e(o,!e,s,r?"":"!important")})},t2=!1;if(typeof window<"u")try{var G0=Object.defineProperty({},"passive",{get:function(){return t2=!0,!0}});window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch(t){t2=!1}var wf=t2?{passive:!1}:!1,L1e=function(t){return t.tagName==="TEXTAREA"},vW=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!L1e(t)&&r[e]==="visible")},U1e=function(t){return vW(t,"overflowY")},$1e=function(t){return vW(t,"overflowX")},YU=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=yW(t,n);if(s){var o=_W(t,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},j1e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},z1e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yW=function(t,e){return t==="v"?U1e(e):$1e(e)},_W=function(t,e){return t==="v"?j1e(e):z1e(e)},G1e=function(t,e){return t==="h"&&e==="rtl"?-1:1},V1e=function(t,e,r,n,s){var o=G1e(t,window.getComputedStyle(e).direction),a=o*n,l=r.target,c=e.contains(l),d=!1,h=a>0,m=0,g=0;do{var y=_W(t,l),_=y[0],u=y[1],f=y[2],p=u-f-o*_;(_||p)&&yW(t,l)&&(m+=p,g+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(s&&Math.abs(m)<1||!s&&a>m)||!h&&(s&&Math.abs(g)<1||!s&&-a>g))&&(d=!0),d},V0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qU=function(t){return[t.deltaX,t.deltaY]},ZU=function(t){return t&&"current"in t?t.current:t},H1e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},W1e=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},K1e=0,xf=[];function X1e(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(K1e++)[0],o=E.useState(CB)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=cW([t.lockRef.current],(t.shards||[]).map(ZU),!0).filter(Boolean);return u.forEach(function(f){return f.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(u,f){if("touches"in u&&u.touches.length===2)return!a.current.allowPinchZoom;var p=V0(u),v=r.current,b="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],x,S=u.target,A=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in u&&A==="h"&&S.type==="range")return!1;var D=YU(A,S);if(!D)return!0;if(D?x=A:(x=A==="v"?"h":"v",D=YU(A,S)),!D)return!1;if(!n.current&&"changedTouches"in u&&(b||w)&&(n.current=x),!x)return!0;var C=n.current||x;return V1e(C,f,u,C==="h"?b:w,!0)},[]),c=E.useCallback(function(u){var f=u;if(!(!xf.length||xf[xf.length-1]!==o)){var p="deltaY"in f?qU(f):V0(f),v=e.current.filter(function(x){return x.name===f.type&&(x.target===f.target||f.target===x.shadowParent)&&H1e(x.delta,p)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var b=(a.current.shards||[]).map(ZU).filter(Boolean).filter(function(x){return x.contains(f.target)}),w=b.length>0?l(f,b[0]):!a.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),d=E.useCallback(function(u,f,p,v){var b={name:u,delta:f,target:p,should:v,shadowParent:Y1e(p)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),h=E.useCallback(function(u){r.current=V0(u),n.current=void 0},[]),m=E.useCallback(function(u){d(u.type,qU(u),u.target,l(u,t.lockRef.current))},[]),g=E.useCallback(function(u){d(u.type,V0(u),u.target,l(u,t.lockRef.current))},[]);E.useEffect(function(){return xf.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,wf),document.addEventListener("touchmove",c,wf),document.addEventListener("touchstart",h,wf),function(){xf=xf.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,wf),document.removeEventListener("touchmove",c,wf),document.removeEventListener("touchstart",h,wf)}},[]);var y=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(o,{styles:W1e(s)}):null,y?E.createElement(gW,{gapMode:t.gapMode}):null)}function Y1e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const q1e=pW(mW,X1e);var bW=E.forwardRef(function(t,e){return E.createElement(kE,ni({},t,{ref:e,sideCar:q1e}))});bW.classNames=kE.classNames;const AB=bW;var r2=["Enter"," "],Z1e=["ArrowDown","PageUp","Home"],wW=["ArrowUp","PageDown","End"],J1e=[...Z1e,...wW],Q1e={ltr:[...r2,"ArrowRight"],rtl:[...r2,"ArrowLeft"]},exe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},f_="Menu",[Qv,txe,rxe]=Zd(f_),[Qd,xW]=Ji(f_,[rxe,ka,fo]),h_=ka(),EW=fo(),[SW,bc]=Qd(f_),[nxe,p_]=Qd(f_),CW=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,l=h_(e),[c,d]=E.useState(null),h=E.useRef(!1),m=ur(o),g=Fa(s);return E.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),F.jsx(kp,{...l,children:F.jsx(SW,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:d,children:F.jsx(nxe,{scope:e,onClose:E.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:a,children:n})})})};CW.displayName=f_;var ixe="MenuAnchor",TB=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=h_(r);return F.jsx(Np,{...s,...n,ref:e})});TB.displayName=ixe;var DB="MenuPortal",[sxe,AW]=Qd(DB,{forceMount:void 0}),TW=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=bc(DB,e);return F.jsx(sxe,{scope:e,forceMount:r,children:F.jsx(Zi,{present:r||o.open,children:F.jsx(c_,{asChild:!0,container:s,children:n})})})};TW.displayName=DB;var no="MenuContent",[oxe,PB]=Qd(no),DW=E.forwardRef((t,e)=>{const r=AW(no,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=bc(no,t.__scopeMenu),a=p_(no,t.__scopeMenu);return F.jsx(Qv.Provider,{scope:t.__scopeMenu,children:F.jsx(Zi,{present:n||o.open,children:F.jsx(Qv.Slot,{scope:t.__scopeMenu,children:a.modal?F.jsx(axe,{...s,ref:e}):F.jsx(lxe,{...s,ref:e})})})})}),axe=E.forwardRef((t,e)=>{const r=bc(no,t.__scopeMenu),n=E.useRef(null),s=_t(e,n);return E.useEffect(()=>{const o=n.current;if(o)return d_(o)},[]),F.jsx(RB,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lxe=E.forwardRef((t,e)=>{const r=bc(no,t.__scopeMenu);return F.jsx(RB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),RB=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:_,...u}=t,f=bc(no,r),p=p_(no,r),v=h_(r),b=EW(r),w=txe(r),[x,S]=E.useState(null),A=E.useRef(null),D=_t(e,A,f.onContentChange),C=E.useRef(0),T=E.useRef(""),R=E.useRef(0),P=E.useRef(null),O=E.useRef("right"),I=E.useRef(0),k=_?AB:E.Fragment,W=_?{as:Da,allowPinchZoom:!0}:void 0,G=$=>{var z,V;const K=T.current+$,Q=w().filter(H=>!H.disabled),ue=document.activeElement,pe=(z=Q.find(H=>H.ref.current===ue))==null?void 0:z.textValue,oe=Q.map(H=>H.textValue),he=bxe(oe,K,pe),Y=(V=Q.find(H=>H.textValue===he))==null?void 0:V.ref.current;(function H(re){T.current=re,window.clearTimeout(C.current),re!==""&&(C.current=window.setTimeout(()=>H(""),1e3))})(K),Y&&setTimeout(()=>Y.focus())};E.useEffect(()=>()=>window.clearTimeout(C.current),[]),pB();const j=E.useCallback($=>{var Q,ue;return O.current===((Q=P.current)==null?void 0:Q.side)&&xxe($,(ue=P.current)==null?void 0:ue.area)},[]);return F.jsx(oxe,{scope:r,searchRef:T,onItemEnter:E.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:E.useCallback($=>{var K;j($)||((K=A.current)==null||K.focus(),S(null))},[j]),onTriggerLeave:E.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:R,onPointerGraceIntentChange:E.useCallback($=>{P.current=$},[]),children:F.jsx(k,{...W,children:F.jsx(Bp,{asChild:!0,trapped:s,onMountAutoFocus:fe(o,$=>{var K;$.preventDefault(),(K=A.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:F.jsx(o_,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:F.jsx(Lp,{asChild:!0,...b,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,$=>{p.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(l_,{role:"menu","aria-orientation":"vertical","data-state":HW(f.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:D,style:{outline:"none",...u.style},onKeyDown:fe(u.onKeyDown,$=>{const Q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ue=$.ctrlKey||$.altKey||$.metaKey,pe=$.key.length===1;Q&&($.key==="Tab"&&$.preventDefault(),!ue&&pe&&G($.key));const oe=A.current;if($.target!==oe||!J1e.includes($.key))return;$.preventDefault();const Y=w().filter(z=>!z.disabled).map(z=>z.ref.current);wW.includes($.key)&&Y.reverse(),yxe(Y)}),onBlur:fe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:fe(t.onPointerMove,ey($=>{const K=$.target,Q=I.current!==$.clientX;if($.currentTarget.contains(K)&&Q){const ue=$.clientX>I.current?"right":"left";O.current=ue,I.current=$.clientX}}))})})})})})})});DW.displayName=no;var uxe="MenuGroup",OB=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{role:"group",...n,ref:e})});OB.displayName=uxe;var cxe="MenuLabel",PW=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{...n,ref:e})});PW.displayName=cxe;var M1="MenuItem",JU="menu.itemSelect",NE=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),a=p_(M1,t.__scopeMenu),l=PB(M1,t.__scopeMenu),c=_t(e,o),d=E.useRef(!1),h=()=>{const m=o.current;if(!r&&m){const g=new CustomEvent(JU,{bubbles:!0,cancelable:!0});m.addEventListener(JU,y=>n==null?void 0:n(y),{once:!0}),s_(m,g),g.defaultPrevented?d.current=!1:a.onClose()}};return F.jsx(RW,{...s,ref:c,disabled:r,onClick:fe(t.onClick,h),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),d.current=!0},onPointerUp:fe(t.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:fe(t.onKeyDown,m=>{const g=l.searchRef.current!=="";r||g&&m.key===" "||r2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});NE.displayName=M1;var RW=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=PB(M1,r),l=EW(r),c=E.useRef(null),d=_t(e,c),[h,m]=E.useState(!1),[g,y]=E.useState("");return E.useEffect(()=>{var u;const _=c.current;_&&y(((u=_.textContent)!=null?u:"").trim())},[o.children]),F.jsx(Qv.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:g,children:F.jsx(Jd,{asChild:!0,...l,focusable:!n,children:F.jsx(Xe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:fe(t.onPointerMove,ey(_=>{n?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,ey(_=>a.onItemLeave(_))),onFocus:fe(t.onFocus,()=>m(!0)),onBlur:fe(t.onBlur,()=>m(!1))})})})}),dxe="MenuCheckboxItem",OW=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return F.jsx(kW,{scope:t.__scopeMenu,checked:r,children:F.jsx(NE,{role:"menuitemcheckbox","aria-checked":k1(r)?"mixed":r,...s,ref:e,"data-state":FB(r),onSelect:fe(s.onSelect,()=>n==null?void 0:n(k1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});OW.displayName=dxe;var IW="MenuRadioGroup",[fxe,hxe]=Qd(IW,{value:void 0,onValueChange:()=>{}}),BW=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=ur(n);return F.jsx(fxe,{scope:t.__scopeMenu,value:r,onValueChange:o,children:F.jsx(OB,{...s,ref:e})})});BW.displayName=IW;var FW="MenuRadioItem",MW=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=hxe(FW,t.__scopeMenu),o=r===s.value;return F.jsx(kW,{scope:t.__scopeMenu,checked:o,children:F.jsx(NE,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":FB(o),onSelect:fe(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});MW.displayName=FW;var IB="MenuItemIndicator",[kW,pxe]=Qd(IB,{checked:!1}),NW=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=pxe(IB,r);return F.jsx(Zi,{present:n||k1(o.checked)||o.checked===!0,children:F.jsx(Xe.span,{...s,ref:e,"data-state":FB(o.checked)})})});NW.displayName=IB;var mxe="MenuSeparator",LW=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});LW.displayName=mxe;var gxe="MenuArrow",UW=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=h_(r);return F.jsx(u_,{...s,...n,ref:e})});UW.displayName=gxe;var BB="MenuSub",[vxe,$W]=Qd(BB),jW=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:s}=t,o=bc(BB,e),a=h_(e),[l,c]=E.useState(null),[d,h]=E.useState(null),m=ur(s);return E.useEffect(()=>(o.open===!1&&m(!1),()=>m(!1)),[o.open,m]),F.jsx(kp,{...a,children:F.jsx(SW,{scope:e,open:n,onOpenChange:m,content:d,onContentChange:h,children:F.jsx(vxe,{scope:e,contentId:Kn(),triggerId:Kn(),trigger:l,onTriggerChange:c,children:r})})})};jW.displayName=BB;var tg="MenuSubTrigger",zW=E.forwardRef((t,e)=>{const r=bc(tg,t.__scopeMenu),n=p_(tg,t.__scopeMenu),s=$W(tg,t.__scopeMenu),o=PB(tg,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),F.jsx(TB,{asChild:!0,...d,children:F.jsx(RW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":HW(r.open),...t,ref:i_(e,s.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,ey(m=>{o.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:fe(t.onPointerLeave,ey(m=>{var y,_;h();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const u=(_=r.content)==null?void 0:_.dataset.side,f=u==="right",p=f?-5:5,v=g[f?"left":"right"],b=g[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+p,y:m.clientY},{x:v,y:g.top},{x:b,y:g.top},{x:b,y:g.bottom},{x:v,y:g.bottom}],side:u}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,m=>{var y;const g=o.searchRef.current!=="";t.disabled||g&&m.key===" "||Q1e[n.dir].includes(m.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),m.preventDefault())})})})});zW.displayName=tg;var GW="MenuSubContent",VW=E.forwardRef((t,e)=>{const r=AW(no,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=bc(no,t.__scopeMenu),a=p_(no,t.__scopeMenu),l=$W(GW,t.__scopeMenu),c=E.useRef(null),d=_t(e,c);return F.jsx(Qv.Provider,{scope:t.__scopeMenu,children:F.jsx(Zi,{present:n||o.open,children:F.jsx(Qv.Slot,{scope:t.__scopeMenu,children:F.jsx(RB,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;a.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:fe(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{var y;const m=h.currentTarget.contains(h.target),g=exe[a.dir].includes(h.key);m&&g&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});VW.displayName=GW;function HW(t){return t?"open":"closed"}function k1(t){return t==="indeterminate"}function FB(t){return k1(t)?"indeterminate":t?"checked":"unchecked"}function yxe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function _xe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function bxe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=_xe(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function wxe(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function xxe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return wxe(r,e)}function ey(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Exe=CW,Sxe=TB,Cxe=TW,Axe=DW,Txe=OB,Dxe=PW,Pxe=NE,Rxe=OW,Oxe=BW,Ixe=MW,Bxe=NW,Fxe=LW,Mxe=UW,kxe=jW,Nxe=zW,Lxe=VW,MB="DropdownMenu",[Uxe,Yqe]=Ji(MB,[xW]),hi=xW(),[$xe,WW]=Uxe(MB),KW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=hi(e),d=E.useRef(null),[h=!1,m]=di({prop:s,defaultProp:o,onChange:a});return F.jsx($xe,{scope:e,triggerId:Kn(),triggerRef:d,contentId:Kn(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(g=>!g),[m]),modal:l,children:F.jsx(Exe,{...c,open:h,onOpenChange:m,dir:n,modal:l,children:r})})};KW.displayName=MB;var XW="DropdownMenuTrigger",YW=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=WW(XW,r),a=hi(r);return F.jsx(Sxe,{asChild:!0,...a,children:F.jsx(Xe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:i_(e,o.triggerRef),onPointerDown:fe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:fe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});YW.displayName=XW;var jxe="DropdownMenuPortal",qW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=hi(e);return F.jsx(Cxe,{...n,...r})};qW.displayName=jxe;var ZW="DropdownMenuContent",JW=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=WW(ZW,r),o=hi(r),a=E.useRef(!1);return F.jsx(Axe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JW.displayName=ZW;var zxe="DropdownMenuGroup",Gxe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Txe,{...s,...n,ref:e})});Gxe.displayName=zxe;var Vxe="DropdownMenuLabel",QW=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Dxe,{...s,...n,ref:e})});QW.displayName=Vxe;var Hxe="DropdownMenuItem",eK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Pxe,{...s,...n,ref:e})});eK.displayName=Hxe;var Wxe="DropdownMenuCheckboxItem",tK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Rxe,{...s,...n,ref:e})});tK.displayName=Wxe;var Kxe="DropdownMenuRadioGroup",Xxe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Oxe,{...s,...n,ref:e})});Xxe.displayName=Kxe;var Yxe="DropdownMenuRadioItem",rK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Ixe,{...s,...n,ref:e})});rK.displayName=Yxe;var qxe="DropdownMenuItemIndicator",nK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Bxe,{...s,...n,ref:e})});nK.displayName=qxe;var Zxe="DropdownMenuSeparator",iK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Fxe,{...s,...n,ref:e})});iK.displayName=Zxe;var Jxe="DropdownMenuArrow",Qxe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Mxe,{...s,...n,ref:e})});Qxe.displayName=Jxe;var eEe=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:s,defaultOpen:o}=t,a=hi(e),[l=!1,c]=di({prop:n,defaultProp:o,onChange:s});return F.jsx(kxe,{...a,open:l,onOpenChange:c,children:r})},tEe="DropdownMenuSubTrigger",sK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Nxe,{...s,...n,ref:e})});sK.displayName=tEe;var rEe="DropdownMenuSubContent",oK=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hi(r);return F.jsx(Lxe,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oK.displayName=rEe;var qqe=KW,Zqe=YW,Jqe=qW,Qqe=JW,eZe=QW,tZe=eK,rZe=tK,nZe=rK,iZe=nK,sZe=iK,oZe=eEe,aZe=sK,lZe=oK;function ef(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var nEe=["color"],uZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,nEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),iEe=["color"],cZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,iEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),sEe=["color"],dZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,sEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),oEe=["color"],fZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,oEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),aEe=["color"],hZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,aEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),lEe=["color"],pZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,lEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),uEe=["color"],mZe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ef(t,uEe);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hn=Object.keys,oi=Array.isArray;function Ci(t,e){return typeof e!="object"||hn(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||Sr.Promise||(Sr.Promise=Promise);const ty=Object.getPrototypeOf,cEe={}.hasOwnProperty;function xs(t,e){return cEe.call(t,e)}function up(t,e){typeof e=="function"&&(e=e(ty(t))),(typeof Reflect>"u"?hn:Reflect.ownKeys)(e).forEach(r=>{yl(t,r,e[r])})}const aK=Object.defineProperty;function yl(t,e,r,n){aK(t,e,Ci(r&&xs(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Dh(t){return{from:function(e){return t.prototype=Object.create(e.prototype),yl(t.prototype,"constructor",t),{extend:up.bind(null,t.prototype)}}}}const dEe=Object.getOwnPropertyDescriptor;function kB(t,e){let r;return dEe(t,e)||(r=ty(t))&&kB(r,e)}const fEe=[].slice;function N1(t,e,r){return fEe.call(t,e,r)}function lK(t,e){return e(t)}function rg(t){if(!t)throw new Error("Assertion Failed")}function uK(t){Sr.setImmediate?setImmediate(t):setTimeout(t,0)}function cK(t,e){return t.reduce((r,n,s)=>{var o=e(n,s);return o&&(r[o[0]]=o[1]),r},{})}function _l(t,e){if(xs(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var o=_l(t,e[n]);r.push(o)}return r}var a=e.indexOf(".");if(a!==-1){var l=t[e.substr(0,a)];return l===void 0?void 0:_l(l,e.substr(a+1))}}function $o(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){rg(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)$o(t,e[n],r[n])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),l=e.substr(o+1);if(l==="")r===void 0?oi(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var c=t[a];c&&xs(t,a)||(c=t[a]={}),$o(c,l,r)}}else r===void 0?oi(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function dK(t){var e={};for(var r in t)xs(t,r)&&(e[r]=t[r]);return e}const hEe=[].concat;function fK(t){return hEe.apply([],t)}const hK="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fK([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>Sr[t]),pEe=hK.map(t=>Sr[t]);cK(hK,t=>[t,!0]);let du=null;function m_(t){du=typeof WeakMap<"u"&&new WeakMap;const e=n2(t);return du=null,e}function n2(t){if(!t||typeof t!="object")return t;let e=du&&du.get(t);if(e)return e;if(oi(t)){e=[],du&&du.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(n2(t[r]))}else if(pEe.indexOf(t.constructor)>=0)e=t;else{const o=ty(t);for(var s in e=o===Object.prototype?{}:Object.create(o),du&&du.set(t,e),t)xs(t,s)&&(e[s]=n2(t[s]))}return e}const{toString:mEe}={};function i2(t){return mEe.call(t).slice(8,-1)}const s2=typeof Symbol<"u"?Symbol.iterator:"@@iterator",gEe=typeof s2=="symbol"?function(t){var e;return t!=null&&(e=t[s2])&&e.apply(t)}:function(){return null},jf={};function al(t){var e,r,n,s;if(arguments.length===1){if(oi(t))return t.slice();if(this===jf&&typeof t=="string")return[t];if(s=gEe(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const NB=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Na=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pK(t,e){Na=t,mK=e}var mK=()=>!0;const vEe=!new Error("").stack;function tf(){if(vEe)try{throw tf.arguments,new Error}catch(t){return t}return new Error}function o2(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(mK).map(n=>"\n"+n).join("")):""}var gK=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],LB=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(gK),yEe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ph(t,e){this._e=tf(),this.name=t,this.message=e}function vK(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join("\n")}function L1(t,e,r,n){this._e=tf(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=vK(t,e)}function Ug(t,e){this._e=tf(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=vK(t,e)}Dh(Ph).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+o2(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Dh(L1).from(Ph),Dh(Ug).from(Ph);var UB=LB.reduce((t,e)=>(t[e]=e+"Error",t),{});const _Ee=Ph;var At=LB.reduce((t,e)=>{var r=e+"Error";function n(s,o){this._e=tf(),this.name=r,s?typeof s=="string"?(this.message="".concat(s).concat(o?"\n "+o:""),this.inner=o||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=yEe[e]||r,this.inner=null)}return Dh(n).from(_Ee),t[e]=n,t},{});At.Syntax=SyntaxError,At.Type=TypeError,At.Range=RangeError;var QU=gK.reduce((t,e)=>(t[e+"Error"]=At[e],t),{}),Qb=LB.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=At[e]),t),{});function fr(){}function ry(t){return t}function bEe(t,e){return t==null||t===ry?e:function(r){return e(t(r))}}function Fd(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function wEe(t,e){return t===fr?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Fd(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Fd(s,this.onerror):s),o!==void 0?o:r}}function xEe(t,e){return t===fr?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Fd(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Fd(n,this.onerror):n)}}function EEe(t,e){return t===fr?e:function(r){var n=t.apply(this,arguments);Ci(r,n);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Fd(s,this.onsuccess):s),o&&(this.onerror=this.onerror?Fd(o,this.onerror):o),n===void 0?a===void 0?void 0:a:Ci(n,a)}}function SEe(t,e){return t===fr?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function $B(t,e){return t===fr?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return r.then(function(){return e.apply(n,o)})}return e.apply(this,arguments)}}Qb.ModifyError=L1,Qb.DexieError=Ph,Qb.BulkError=Ug;var ny={};const yK=100,[a2,U1,l2]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ty(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ty(e),t]})(),_K=U1&&U1.then,ew=a2&&a2.constructor,jB=!!l2;var u2=!1,CEe=l2?()=>{l2.then(H0)}:Sr.setImmediate?setImmediate.bind(null,H0):Sr.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{H0(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(H0,0)},$g=function(t,e){ng.push([t,e]),$1&&(CEe(),$1=!1)},c2=!0,$1=!0,gd=[],tw=[],d2=null,f2=ry,Rh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:r$,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{r$(t[0],t[1])}catch(e){}})}},bt=Rh,ng=[],vd=0,rw=[];function lt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=fr,this._lib=!1;var e=this._PSD=bt;if(Na&&(this._stackHolder=tf(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ny)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&p2(this,this._value))}this._state=null,this._value=null,++e.ref,wK(this,t)}const h2={get:function(){var t=bt,e=j1;function r(n,s){var o=!t.global&&(t!==bt||e!==j1);const a=o&&!Bl();var l=new lt((c,d)=>{zB(this,new bK(z1(n,t,o,a),z1(s,t,o,a),c,d,t))});return Na&&SK(l,this),l}return r.prototype=ny,r},set:function(t){yl(this,"then",t&&t.prototype===ny?h2:{get:function(){return t},set:h2.set})}};function bK(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function wK(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&g_();r&&typeof r.then=="function"?wK(t,(s,o)=>{r instanceof lt?r._then(s,o):r.then(s,o)}):(t._state=!0,t._value=r,xK(t)),n&&v_()}},p2.bind(null,t))}catch(r){p2(t,r)}}function p2(t,e){if(tw.push(e),t._state===null){var r=t._lib&&g_();e=f2(e),t._state=!1,t._value=e,Na&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,o){try{n.apply(null,o)}catch(a){s&&s(a)}}(()=>{var n=kB(e,"stack");e._promise=t,yl(e,"stack",{get:()=>u2?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){gd.some(s=>s._value===n._value)||gd.push(n)}(t),xK(t),r&&v_()}}function xK(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)zB(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),vd===0&&(++vd,$g(()=>{--vd==0&&GB()},[]))}function zB(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++vd,$g(AEe,[r,t,e])}else t._listeners.push(e)}function AEe(t,e,r){try{d2=e;var n,s=e._value;e._state?n=t(s):(tw.length&&(tw=[]),n=t(s),tw.indexOf(s)===-1&&function(o){for(var a=gd.length;a;)if(gd[--a]._value===o._value)return void gd.splice(a,1)}(e)),r.resolve(n)}catch(o){r.reject(o)}finally{d2=null,--vd==0&&GB(),--r.psd.ref||r.psd.finalize()}}function EK(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,o,a=t._value;a!=null?(s=a.name||"Error",o=a.message||a,n=o2(a,0)):(s=a,o=""),e.push(s+(o?": "+o:"")+n)}return Na&&((n=o2(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&EK(t._prev,e,r)),e}function SK(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function H0(){g_()&&v_()}function g_(){var t=c2;return c2=!1,$1=!1,t}function v_(){var t,e,r;do for(;ng.length>0;)for(t=ng,ng=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(ng.length>0);c2=!0,$1=!0}function GB(){var t=gd;gd=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=rw.slice(0),r=e.length;r;)e[--r]()}function W0(t){return new lt(ny,!1,t)}function Ir(t,e){var r=bt;return function(){var n=g_(),s=bt;try{return nc(r,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{nc(s,!1),n&&v_()}}}up(lt.prototype,{then:h2,_then:function(t,e){zB(this,new bK(null,null,t,e,bt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):W0(n)):this.then(null,n=>n&&n.name===e?r(n):W0(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),W0(e)))},stack:{get:function(){if(this._stack)return this._stack;try{u2=!0;var t=EK(this,[],20).join("\nFrom previous: ");return this._state!==null&&(this._stack=t),t}finally{u2=!1}}},timeout:function(t,e){return t<1/0?new lt((r,n)=>{var s=setTimeout(()=>n(new At.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&yl(lt.prototype,Symbol.toStringTag,"Dexie.Promise"),Rh.env=CK(),up(lt,{all:function(){var t=al.apply(null,arguments).map(K0);return new lt(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,o)=>lt.resolve(s).then(a=>{t[o]=a,--n||e(t)},r))})},resolve:t=>{if(t instanceof lt)return t;if(t&&typeof t.then=="function")return new lt((r,n)=>{t.then(r,n)});var e=new lt(ny,!0,t);return SK(e,d2),e},reject:W0,race:function(){var t=al.apply(null,arguments).map(K0);return new lt((e,r)=>{t.map(n=>lt.resolve(n).then(e,r))})},PSD:{get:()=>bt,set:t=>bt=t},totalEchoes:{get:()=>j1},newPSD:rc,usePSD:$p,scheduler:{get:()=>$g,set:t=>{$g=t}},rejectionMapper:{get:()=>f2,set:t=>{f2=t}},follow:(t,e)=>new lt((r,n)=>rc((s,o)=>{var a=bt;a.unhandleds=[],a.onunhandled=o,a.finalize=Fd(function(){(function(l){function c(){l(),rw.splice(rw.indexOf(c),1)}rw.push(c),++vd,$g(()=>{--vd==0&&GB()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},a.finalize),t()},e,r,n))}),ew&&(ew.allSettled&&yl(lt,"allSettled",function(){const t=al.apply(null,arguments).map(K0);return new lt(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,o)=>lt.resolve(s).then(a=>n[o]={status:"fulfilled",value:a},a=>n[o]={status:"rejected",reason:a}).then(()=>--r||e(n)))})}),ew.any&&typeof AggregateError<"u"&&yl(lt,"any",function(){const t=al.apply(null,arguments).map(K0);return new lt((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((o,a)=>lt.resolve(o).then(l=>e(l),l=>{s[a]=l,--n||r(new AggregateError(s))}))})}));const ii={awaits:0,echoes:0,id:0};var TEe=0,nw=[],bA=0,j1=0,DEe=0;function rc(t,e,r,n){var s=bt,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++DEe;var a=Rh.env;o.env=jB?{Promise:lt,PromiseProp:{value:lt,configurable:!0,writable:!0},all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject,nthen:e$(a.nthen,o),gthen:e$(a.gthen,o)}:{},e&&Ci(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=$p(o,t,r,n);return o.ref===0&&o.finalize(),l}function Up(){return ii.id||(ii.id=++TEe),++ii.awaits,ii.echoes+=yK,ii.id}function Bl(){return!!ii.awaits&&(--ii.awaits==0&&(ii.id=0),ii.echoes=ii.awaits*yK,!0)}function K0(t){return ii.echoes&&t&&t.constructor===ew?(Up(),t.then(e=>(Bl(),e),e=>(Bl(),En(e)))):t}function PEe(t){++j1,ii.echoes&&--ii.echoes!=0||(ii.echoes=ii.id=0),nw.push(bt),nc(t,!0)}function REe(){var t=nw[nw.length-1];nw.pop(),nc(t,!1)}function nc(t,e){var r=bt;if((e?!ii.echoes||bA++&&t===bt:!bA||--bA&&t===bt)||AK(e?PEe.bind(null,t):REe),t!==bt&&(bt=t,r===Rh&&(Rh.env=CK()),jB)){var n=Rh.env.Promise,s=t.env;U1.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(Sr,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function CK(){var t=Sr.Promise;return jB?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Sr,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:U1.then,gthen:t.prototype.then}:{}}function $p(t,e,r,n,s){var o=bt;try{return nc(t,!0),e(r,n,s)}finally{nc(o,!1)}}function AK(t){_K.call(a2,t)}function z1(t,e,r,n){return typeof t!="function"?t:function(){var s=bt;r&&Up(),nc(e,!0);try{return t.apply(this,arguments)}finally{nc(s,!1),n&&AK(Bl)}}}function e$(t,e){return function(r,n){return t.call(this,z1(r,e),z1(n,e))}}(""+_K).indexOf("[native code]")===-1&&(Up=Bl=fr);const t$="unhandledrejection";function r$(t,e){var r;try{r=e.onuncatched(t)}catch(o){}if(r!==!1)try{var n,s={promise:e,reason:t};if(Sr.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(t$,!0,!0),Ci(n,s)):Sr.CustomEvent&&Ci(n=new CustomEvent(t$,{detail:s}),s),n&&Sr.dispatchEvent&&(dispatchEvent(n),!Sr.PromiseRejectionEvent&&Sr.onunhandledrejection))try{Sr.onunhandledrejection(n)}catch(o){}Na&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(o){}}var En=lt.reject;function m2(t,e,r,n){if(t.idbdb&&(t._state.openComplete||bt.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===UB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>m2(t,e,r,n))):En(o)}return s._promise(e,(o,a)=>rc(()=>(bt.trans=s,n(o,a,s)))).then(o=>s._completion.then(()=>o))}if(t._state.openComplete)return En(new At.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return En(new At.DatabaseClosed);t.open().catch(fr)}return t._state.dbReadyPromise.then(()=>m2(t,e,r,n))}const n$="3.2.4",Jc=String.fromCharCode(65535),g2=-1/0,Va="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",TK="String expected.",jg=[],LE=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),OEe=LE,IEe=LE,DK=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),UE="__dbnames",wA="readonly",xA="readwrite";function Md(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const PK={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function X0(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=m_(e))[t],e)}class BEe{_trans(e,r,n){const s=this._tx||bt.trans,o=this.name;function a(c,d,h){if(!h.schema[o])throw new At.NotFound("Table "+o+" not part of transaction");return r(h.idbtrans,h)}const l=g_();try{return s&&s.db===this.db?s===bt.trans?s._promise(e,a,n):rc(()=>s._promise(e,a,n),{trans:s,transless:bt.transless||bt}):m2(this.db,e,[this.name],a)}finally{l&&v_()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(oi(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=hn(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&r.every(h=>d.keyPath.indexOf(h)>=0)&&d.keyPath.every(h=>r.indexOf(h)>=0))[0];if(n&&this.db._maxKey!==Jc)return this.where(n.name).equals(n.keyPath.map(d=>e[d]));!n&&Na&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function a(d,h){try{return o.cmp(d,h)===0}catch(m){return!1}}const[l,c]=r.reduce(([d,h],m)=>{const g=s[m],y=e[m];return[d||g,d||!g?Md(h,g&&g.multi?_=>{const u=_l(_,m);return oi(u)&&u.some(f=>a(y,f))}:_=>a(y,_l(_,m))):h]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,oi(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var o in n)if(xs(n,o))try{s[o]=n[o]}catch(a){}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Ci(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=X0(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[o]})).then(a=>a.numFailures?lt.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{$o(e,s,a)}catch(l){}return a})}update(e,r){if(typeof e!="object"||oi(e))return this.where(":id").equals(e).modify(r);{const n=_l(e,this.schema.primKey.keyPath);if(n===void 0)return En(new At.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?hn(r).forEach(s=>{$o(e,s,r[s])}):r(e,{value:e,primKey:n})}catch(s){}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=X0(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:r!=null?[r]:null})).then(a=>a.numFailures?lt.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{$o(e,s,a)}catch(l){}return a})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?lt.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:PK})).then(e=>e.numFailures?lt.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new At.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new At.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let h=c&&l?e.map(X0(c)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:h,wantResults:o}).then(({numFailures:m,results:g,lastResult:y,failures:_})=>{if(m===0)return o?g:y;throw new Ug("".concat(this.name,".bulkAdd(): ").concat(m," of ").concat(d," operations failed"),_)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new At.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new At.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let h=c&&l?e.map(X0(c)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:h,wantResults:o}).then(({numFailures:m,results:g,lastResult:y,failures:_})=>{if(m===0)return o?g:y;throw new Ug("".concat(this.name,".bulkPut(): ").concat(m," of ").concat(d," operations failed"),_)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:o})=>{if(n===0)return s;throw new Ug("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),o)})}}function zg(t){var e={},r=function(a,l){if(l){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[a].subscribe.apply(null,d),t}if(typeof a=="string")return e[a]};r.addEventType=o;for(var n=1,s=arguments.length;n<s;++n)o(arguments[n]);return r;function o(a,l,c){if(typeof a!="object"){var d;l||(l=SEe),c||(c=fr);var h={subscribers:[],fire:c,subscribe:function(m){h.subscribers.indexOf(m)===-1&&(h.subscribers.push(m),h.fire=l(h.fire,m))},unsubscribe:function(m){h.subscribers=h.subscribers.filter(function(g){return g!==m}),h.fire=h.subscribers.reduce(l,c)}};return e[a]=r[a]=h,h}hn(d=a).forEach(function(m){var g=d[m];if(oi(g))o(m,d[m][0],d[m][1]);else{if(g!=="asap")throw new At.InvalidArgument("Invalid event config");var y=o(m,ry,function(){for(var _=arguments.length,u=new Array(_);_--;)u[_]=arguments[_];y.subscribers.forEach(function(f){uK(function(){f.apply(null,u)})})})}})}}function Om(t,e){return Dh(e).from({prototype:t}),e}function Ef(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function EA(t,e){t.filter=Md(t.filter,e)}function SA(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Md(n(),e()):e,t.justLimit=r&&!n}function iw(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new At.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function i$(t,e,r){const n=iw(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function Y0(t,e,r,n){const s=t.replayFilter?Md(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(l,c,d)=>{if(!s||s(c,d,g=>c.stop(g),g=>c.fail(g))){var h=c.primaryKey,m=""+h;m==="[object ArrayBuffer]"&&(m=""+new Uint8Array(h)),xs(o,m)||(o[m]=!0,e(l,c,d))}};return Promise.all([t.or._iterate(a,r),s$(i$(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return s$(i$(t,n,r),Md(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function s$(t,e,r,n){var s=Ir(n?(o,a,l)=>r(n(o),a,l):r);return t.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();e&&!e(o,l=>a=l,l=>{o.stop(l),a=fr},l=>{o.fail(l),a=fr})||s(o.value,o,l=>a=l),a()})})}function bi(t,e){try{const r=o$(t),n=o$(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,o){const a=s.length,l=o.length,c=a<l?a:l;for(let d=0;d<c;++d)if(s[d]!==o[d])return s[d]<o[d]?-1:1;return a===l?0:a<l?-1:1}(a$(t),a$(e));case"Array":return function(s,o){const a=s.length,l=o.length,c=a<l?a:l;for(let d=0;d<c;++d){const h=bi(s[d],o[d]);if(h!==0)return h}return a===l?0:a<l?-1:1}(t,e)}}catch(r){}return NaN}function o$(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=i2(t);return r==="ArrayBuffer"?"binary":r}function a$(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class FEe{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,En.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,En.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Md(r.algorithm,e)}_iterate(e,r){return Y0(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Ci(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>Y0(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Ef(n,!0))return s.count({trans:r,query:{index:iw(n,s.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var o=0;return Y0(n,()=>(++o,!1),r,s).then(()=>o)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],o=n.length-1;function a(d,h){return h?a(d[n[h]],h-1):d[s]}var l=this._ctx.dir==="next"?1:-1;function c(d,h){var m=a(d,o),g=a(h,o);return m<g?-l:m>g?l:0}return this.toArray(function(d){return d.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Ef(n,!0)&&n.limit>0){const{valueMapper:s}=n,o=iw(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return Y0(n,o=>s.push(o),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Ef(r)?SA(r,()=>{var n=e;return(s,o)=>n===0||(n===1?(--n,!1):(o(()=>{s.advance(n),n=0}),!1))}):SA(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),SA(this._ctx,()=>{var r=e;return function(n,s,o){return--r<=0&&s(o),r>=0}},!0),this}until(e,r){return EA(this._ctx,function(n,s,o){return!e(n.value)||(s(o),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return EA(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=Md(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Ef(r,!0)&&r.limit>0)return this._read(s=>{var o=iw(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return EA(this._ctx,function(s){var o=s.primaryKey.toString(),a=xs(n,o);return n[o]=!0,!a}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var o=hn(e),a=o.length;s=function(u){for(var f=!1,p=0;p<a;++p){var v=o[p],b=e[v];_l(u,v)!==b&&($o(u,v,b),f=!0)}return f}}const l=r.table.core,{outbound:c,extractKey:d}=l.schema.primaryKey,h=this.db._options.modifyChunkSize||200,m=[];let g=0;const y=[],_=(u,f)=>{const{failures:p,numFailures:v}=f;g+=u-v;for(let b of hn(p))m.push(p[b])};return this.clone().primaryKeys().then(u=>{const f=p=>{const v=Math.min(h,u.length-p);return l.getMany({trans:n,keys:u.slice(p,p+v),cache:"immutable"}).then(b=>{const w=[],x=[],S=c?[]:null,A=[];for(let C=0;C<v;++C){const T=b[C],R={value:m_(T),primKey:u[p+C]};s.call(R,R.value,R)!==!1&&(R.value==null?A.push(u[p+C]):c||bi(d(T),d(R.value))===0?(x.push(R.value),c&&S.push(u[p+C])):(A.push(u[p+C]),w.push(R.value)))}const D=Ef(r)&&r.limit===1/0&&(typeof e!="function"||e===CA)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&l.mutate({trans:n,type:"add",values:w}).then(C=>{for(let T in C.failures)A.splice(parseInt(T),1);_(w.length,C)})).then(()=>(x.length>0||D&&typeof e=="object")&&l.mutate({trans:n,type:"put",keys:S,values:x,criteria:D,changeSpec:typeof e!="function"&&e}).then(C=>_(x.length,C))).then(()=>(A.length>0||D&&e===CA)&&l.mutate({trans:n,type:"delete",keys:A,criteria:D}).then(C=>_(A.length,C))).then(()=>u.length>p+v&&f(p+h))})};return f(0).then(()=>{if(m.length>0)throw new L1("Error modifying one or more objects",m,g,y);return u.length})})})}delete(){var e=this._ctx,r=e.range;return Ef(e)&&(e.isPrimKey&&!IEe||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,o=r;return e.table.core.count({trans:n,query:{index:s,range:o}}).then(a=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:l,lastResult:c,results:d,numFailures:h})=>{if(h)throw new L1("Could not delete some values",Object.keys(l).map(m=>l[m]),a-h);return a-h}))}):this.modify(CA)}}const CA=(t,e)=>e.value=null;function MEe(t,e){return t<e?-1:t===e?0:1}function kEe(t,e){return t>e?-1:t===e?0:1}function rs(t,e,r){var n=t instanceof OK?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function Sf(t){return new t.Collection(t,()=>RK("")).limit(0)}function NEe(t,e,r,n,s,o){for(var a=Math.min(t.length,n.length),l=-1,c=0;c<a;++c){var d=e[c];if(d!==n[c])return s(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):s(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):l>=0?t.substr(0,l)+e[l]+r.substr(l+1):null;s(t[c],d)<0&&(l=c)}return a<n.length&&o==="next"?t+r.substr(t.length):a<t.length&&o==="prev"?t.substr(0,r.length):l<0?null:t.substr(0,l)+n[l]+r.substr(l+1)}function q0(t,e,r,n){var s,o,a,l,c,d,h,m=r.length;if(!r.every(u=>typeof u=="string"))return rs(t,TK);function g(u){s=function(p){return p==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(u),o=function(p){return p==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(u),a=u==="next"?MEe:kEe;var f=r.map(function(p){return{lower:o(p),upper:s(p)}}).sort(function(p,v){return a(p.lower,v.lower)});l=f.map(function(p){return p.upper}),c=f.map(function(p){return p.lower}),d=u,h=u==="next"?"":n}g("next");var y=new t.Collection(t,()=>su(l[0],c[m-1]+n));y._ondirectionchange=function(u){g(u)};var _=0;return y._addAlgorithm(function(u,f,p){var v=u.key;if(typeof v!="string")return!1;var b=o(v);if(e(b,c,_))return!0;for(var w=null,x=_;x<m;++x){var S=NEe(v,b,l[x],c[x],a,d);S===null&&w===null?_=x+1:(w===null||a(w,S)>0)&&(w=S)}return f(w!==null?function(){u.continue(w+h)}:p),!1}),y}function su(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function RK(t){return{type:1,lower:t,upper:t}}class OK{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?Sf(this):new this.Collection(this,()=>su(e,r,!n,!s))}catch(o){return rs(this,Va)}}equals(e){return e==null?rs(this,Va):new this.Collection(this,()=>RK(e))}above(e){return e==null?rs(this,Va):new this.Collection(this,()=>su(e,void 0,!0))}aboveOrEqual(e){return e==null?rs(this,Va):new this.Collection(this,()=>su(e,void 0,!1))}below(e){return e==null?rs(this,Va):new this.Collection(this,()=>su(void 0,e,!1,!0))}belowOrEqual(e){return e==null?rs(this,Va):new this.Collection(this,()=>su(void 0,e))}startsWith(e){return typeof e!="string"?rs(this,TK):this.between(e,e+Jc,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):q0(this,(r,n)=>r.indexOf(n[0])===0,[e],Jc)}equalsIgnoreCase(e){return q0(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=al.apply(jf,arguments);return e.length===0?Sf(this):q0(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=al.apply(jf,arguments);return e.length===0?Sf(this):q0(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,Jc)}anyOf(){const e=al.apply(jf,arguments);let r=this._cmp;try{e.sort(r)}catch(o){return rs(this,Va)}if(e.length===0)return Sf(this);const n=new this.Collection(this,()=>su(e[0],e[e.length-1]));n._ondirectionchange=o=>{r=o==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((o,a,l)=>{const c=o.key;for(;r(c,e[s])>0;)if(++s,s===e.length)return a(l),!1;return r(c,e[s])===0||(a(()=>{o.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[g2,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=al.apply(jf,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return rs(this,Va)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[g2,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,o=this._descending,a=this._min,l=this._max;if(e.length===0)return Sf(this);if(!e.every(v=>v[0]!==void 0&&v[1]!==void 0&&s(v[0],v[1])<=0))return rs(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",At.InvalidArgument);const c=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let h,m=s;function g(v,b){return m(v[0],b[0])}try{h=e.reduce(function(v,b){let w=0,x=v.length;for(;w<x;++w){const S=v[w];if(n(b[0],S[1])<0&&n(b[1],S[0])>0){S[0]=a(S[0],b[0]),S[1]=l(S[1],b[1]);break}}return w===x&&v.push(b),v},[]),h.sort(g)}catch(v){return rs(this,Va)}let y=0;const _=d?v=>s(v,h[y][1])>0:v=>s(v,h[y][1])>=0,u=c?v=>o(v,h[y][0])>0:v=>o(v,h[y][0])>=0;let f=_;const p=new this.Collection(this,()=>su(h[0][0],h[h.length-1][1],!c,!d));return p._ondirectionchange=v=>{v==="next"?(f=_,m=s):(f=u,m=o),h.sort(g)},p._addAlgorithm((v,b,w)=>{for(var x=v.key;f(x);)if(++y,y===h.length)return b(w),!1;return!!function(S){return!_(S)&&!u(S)}(x)||(this._cmp(x,h[y][1])===0||this._cmp(x,h[y][0])===0||b(()=>{m===s?v.continue(h[y][0]):v.continue(h[y][1])}),!1)}),p}startsWithAnyOf(){const e=al.apply(jf,arguments);return e.every(r=>typeof r=="string")?e.length===0?Sf(this):this.inAnyRange(e.map(r=>[r,r+Jc])):rs(this,"startsWithAnyOf() only works with strings")}}function aa(t){return Ir(function(e){return iy(e),t(e.target.error),!1})}function iy(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const sy="storagemutated",yu="x-storagemutated-1",ic=zg(null,sy);class LEe{_lock(){return rg(!bt.global),++this._reculock,this._reculock!==1||bt.global||(bt.lockOwnerFor=this),this}_unlock(){if(rg(!bt.global),--this._reculock==0)for(bt.global||(bt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{$p(e[1],e[0])}catch(r){}}return this}_locked(){return this._reculock&&bt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(rg(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new At.DatabaseClosed(n);case"MissingAPIError":throw new At.MissingAPI(n.message,n);default:throw new At.OpenFailed(n)}if(!this.active)throw new At.TransactionInactive;return rg(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ir(s=>{iy(s),this._reject(e.error)}),e.onabort=Ir(s=>{iy(s),this.active&&this._reject(new At.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=Ir(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ic.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return En(new At.ReadOnly("Transaction is readonly"));if(!this.active)return En(new At.TransactionInactive);if(this._locked())return new lt((o,a)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(o,a)},bt])});if(n)return rc(()=>{var o=new lt((a,l)=>{this._lock();const c=r(a,l,this);c&&c.then&&c.then(a,l)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new lt((o,a)=>{var l=r(o,a,this);l&&l.then&&l.then(o,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=lt.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var o=r._waitingFor;return new lt((a,l)=>{n.then(c=>r._waitingQueue.push(Ir(a.bind(null,c))),c=>r._waitingQueue.push(Ir(l.bind(null,c)))).finally(()=>{r._waitingFor===o&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new At.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(xs(r,e))return r[e];const n=this.schema[e];if(!n)throw new At.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function v2(t,e,r,n,s,o,a){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:o,src:(r&&!a?"&":"")+(n?"*":"")+(s?"++":"")+IK(e)}}function IK(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function BK(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:cK(r,n=>[n.name,n])}}let oy=t=>{try{return t.only([[]]),oy=()=>[[]],[[]]}catch(e){return oy=()=>Jc,Jc}};function y2(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>_l(n,e)}(t):e=>_l(e,t)}function l$(t){return[].slice.call(t)}let UEe=0;function Gg(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function $Ee(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:h,lowerOpen:m,upperOpen:g}=c;return d===void 0?h===void 0?null:e.upperBound(h,!!g):h===void 0?e.lowerBound(d,!!m):e.bound(d,h,!!m,!!g)}const{schema:s,hasGetAll:o}=function(c,d){const h=l$(c.objectStoreNames);return{schema:{name:c.name,tables:h.map(m=>d.objectStore(m)).map(m=>{const{keyPath:g,autoIncrement:y}=m,_=oi(g),u=g==null,f={},p={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:u,compound:_,keyPath:g,autoIncrement:y,unique:!0,extractKey:y2(g)},indexes:l$(m.indexNames).map(v=>m.index(v)).map(v=>{const{name:b,unique:w,multiEntry:x,keyPath:S}=v,A={name:b,compound:oi(S),keyPath:S,unique:w,multiEntry:x,extractKey:y2(S)};return f[Gg(S)]=A,A}),getIndexByKeyPath:v=>f[Gg(v)]};return f[":id"]=p.primaryKey,g!=null&&(f[Gg(g)]=p.primaryKey),p})},hasGetAll:h.length>0&&"getAll"in d.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),a=s.tables.map(c=>function(d){const h=d.name;return{name:h,schema:d,mutate:function({trans:m,type:g,keys:y,values:_,range:u}){return new Promise((f,p)=>{f=Ir(f);const v=m.objectStore(h),b=v.keyPath==null,w=g==="put"||g==="add";if(!w&&g!=="delete"&&g!=="deleteRange")throw new Error("Invalid operation type: "+g);const{length:x}=y||_||{length:1};if(y&&_&&y.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return f({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const A=[],D=[];let C=0;const T=P=>{++C,iy(P)};if(g==="deleteRange"){if(u.type===4)return f({numFailures:C,failures:D,results:[],lastResult:void 0});u.type===3?A.push(S=v.clear()):A.push(S=v.delete(n(u)))}else{const[P,O]=w?b?[_,y]:[_,null]:[y,null];if(w)for(let I=0;I<x;++I)A.push(S=O&&O[I]!==void 0?v[g](P[I],O[I]):v[g](P[I])),S.onerror=T;else for(let I=0;I<x;++I)A.push(S=v[g](P[I])),S.onerror=T}const R=P=>{const O=P.target.result;A.forEach((I,k)=>I.error!=null&&(D[k]=I.error)),f({numFailures:C,failures:D,results:g==="delete"?y:A.map(I=>I.result),lastResult:O})};S.onerror=P=>{T(P),R(P)},S.onsuccess=R})},getMany:({trans:m,keys:g})=>new Promise((y,_)=>{y=Ir(y);const u=m.objectStore(h),f=g.length,p=new Array(f);let v,b=0,w=0;const x=A=>{const D=A.target;p[D._pos]=D.result,++w===b&&y(p)},S=aa(_);for(let A=0;A<f;++A)g[A]!=null&&(v=u.get(g[A]),v._pos=A,v.onsuccess=x,v.onerror=S,++b);b===0&&y(p)}),get:({trans:m,key:g})=>new Promise((y,_)=>{y=Ir(y);const u=m.objectStore(h).get(g);u.onsuccess=f=>y(f.target.result),u.onerror=aa(_)}),query:function(m){return g=>new Promise((y,_)=>{y=Ir(y);const{trans:u,values:f,limit:p,query:v}=g,b=p===1/0?void 0:p,{index:w,range:x}=v,S=u.objectStore(h),A=w.isPrimaryKey?S:S.index(w.name),D=n(x);if(p===0)return y({result:[]});if(m){const C=f?A.getAll(D,b):A.getAllKeys(D,b);C.onsuccess=T=>y({result:T.target.result}),C.onerror=aa(_)}else{let C=0;const T=f||!("openKeyCursor"in A)?A.openCursor(D):A.openKeyCursor(D),R=[];T.onsuccess=P=>{const O=T.result;return O?(R.push(f?O.value:O.primaryKey),++C===p?y({result:R}):void O.continue()):y({result:R})},T.onerror=aa(_)}})}(o),openCursor:function({trans:m,values:g,query:y,reverse:_,unique:u}){return new Promise((f,p)=>{f=Ir(f);const{index:v,range:b}=y,w=m.objectStore(h),x=v.isPrimaryKey?w:w.index(v.name),S=_?u?"prevunique":"prev":u?"nextunique":"next",A=g||!("openKeyCursor"in x)?x.openCursor(n(b),S):x.openKeyCursor(n(b),S);A.onerror=aa(p),A.onsuccess=Ir(D=>{const C=A.result;if(!C)return void f(null);C.___id=++UEe,C.done=!1;const T=C.continue.bind(C);let R=C.continuePrimaryKey;R&&(R=R.bind(C));const P=C.advance.bind(C),O=()=>{throw new Error("Cursor not stopped")};C.trans=m,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=Ir(p),C.next=function(){let I=1;return this.start(()=>I--?this.continue():this.stop()).then(()=>this)},C.start=I=>{const k=new Promise((G,j)=>{G=Ir(G),A.onerror=aa(j),C.fail=j,C.stop=$=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=O,G($)}}),W=()=>{if(A.result)try{I()}catch(G){C.fail(G)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return A.onsuccess=Ir(G=>{A.onsuccess=W,W()}),C.continue=T,C.continuePrimaryKey=R,C.advance=P,W(),k},f(C)},p)})},count({query:m,trans:g}){const{index:y,range:_}=m;return new Promise((u,f)=>{const p=g.objectStore(h),v=y.isPrimaryKey?p:p.index(y.name),b=n(_),w=b?v.count(b):v.count();w.onsuccess=Ir(x=>u(x.target.result)),w.onerror=aa(f)})}}}(c)),l={};return a.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!l[c])throw new Error("Table '".concat(c,"' not found"));return l[c]},MIN_KEY:-1/0,MAX_KEY:oy(e),schema:s}}function _2({_novip:t},e){const r=e.db,n=function(s,o,{IDBKeyRange:a,indexedDB:l},c){return{dbcore:function(h,m){return m.reduce((g,{create:y})=>({...g,...y(g)}),h)}($Ee(o,a,c),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const o=s.name;t.core.schema.tables.some(a=>a.name===o)&&(s.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=s.core))})}function G1({_novip:t},e,r,n){r.forEach(s=>{const o=n[s];e.forEach(a=>{const l=kB(a,s);(!l||"value"in l&&l.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?yl(a,s,{get(){return this.table(s)},set(c){aK(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,o))})})}function b2({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function jEe(t,e){return t._cfg.version-e._cfg.version}function zEe(t,e,r,n){const s=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,s);o.create(r),o._completion.catch(n);const a=o._reject.bind(o),l=bt.transless||bt;rc(()=>{bt.trans=o,bt.transless=l,e===0?(hn(s).forEach(c=>{AA(r,c,s[c].primKey,s[c].indexes)}),_2(t,r),lt.follow(()=>t.on.populate.fire(o)).catch(a)):function({_novip:c},d,h,m){const g=[],y=c._versions;let _=c._dbSchema=x2(c,c.idbdb,m),u=!1;const f=y.filter(v=>v._cfg.version>=d);function p(){return g.length?lt.resolve(g.shift()(h.idbtrans)).then(p):lt.resolve()}return f.forEach(v=>{g.push(()=>{const b=_,w=v._cfg.dbschema;E2(c,b,m),E2(c,w,m),_=c._dbSchema=w;const x=FK(b,w);x.add.forEach(A=>{AA(m,A[0],A[1].primKey,A[1].indexes)}),x.change.forEach(A=>{if(A.recreate)throw new At.Upgrade("Not yet support for changing primary key");{const D=m.objectStore(A.name);A.add.forEach(C=>w2(D,C)),A.change.forEach(C=>{D.deleteIndex(C.name),w2(D,C)}),A.del.forEach(C=>D.deleteIndex(C))}});const S=v._cfg.contentUpgrade;if(S&&v._cfg.version>d){_2(c,m),h._memoizedTables={},u=!0;let A=dK(w);x.del.forEach(R=>{A[R]=b[R]}),b2(c,[c.Transaction.prototype]),G1(c,[c.Transaction.prototype],hn(A),A),h.schema=A;const D=NB(S);let C;D&&Up();const T=lt.follow(()=>{if(C=S(h),C&&D){var R=Bl.bind(null,null);C.then(R,R)}});return C&&typeof C.then=="function"?lt.resolve(C):T.then(()=>C)}}),g.push(b=>{(!u||!OEe)&&function(w,x){[].slice.call(x.db.objectStoreNames).forEach(S=>w[S]==null&&x.db.deleteObjectStore(S))}(v._cfg.dbschema,b),b2(c,[c.Transaction.prototype]),G1(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),h.schema=c._dbSchema})}),p().then(()=>{var v,b;b=m,hn(v=_).forEach(w=>{b.db.objectStoreNames.contains(w)||AA(b,w,v[w].primKey,v[w].indexes)})})}(t,e,o,r).catch(a)})}function FK(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],o=e[n];if(s){const a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!LE)a.recreate=!0,r.change.push(a);else{const l=s.idxByName,c=o.idxByName;let d;for(d in l)c[d]||a.del.push(d);for(d in c){const h=l[d],m=c[d];h?h.src!==m.src&&a.change.push(m):a.add.push(m)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,o])}return r}function AA(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(o=>w2(s,o)),s}function w2(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function x2(t,e,r){const n={};return N1(e.objectStoreNames,0).forEach(s=>{const o=r.objectStore(s);let a=o.keyPath;const l=v2(IK(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),c=[];for(let h=0;h<o.indexNames.length;++h){const m=o.index(o.indexNames[h]);a=m.keyPath;var d=v2(m.name,a,!!m.unique,!!m.multiEntry,!1,a&&typeof a!="string",!1);c.push(d)}n[s]=BK(s,l,c)}),n}function E2({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const o=n[s],a=r.objectStore(o);t._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const c=a.indexNames[l],d=a.index(c).keyPath,h=typeof d=="string"?d:"["+N1(d).join("+")+"]";if(e[o]){const m=e[o].idxByName[h];m&&(m.name=c,delete e[o].idxByName[h],e[o].idxByName[c]=m)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Sr.WorkerGlobalScope&&Sr instanceof Sr.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class GEe{_parseStoresSpec(e,r){hn(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((a,l)=>{const c=(a=a.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return v2(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),oi(d),l===0)}),o=s.shift();if(o.multi)throw new At.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new At.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new At.Schema("Index must have a name and cannot be an empty string")}),r[n]=BK(n,o,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Ci(this._cfg.storesSource,e):e;const n=r._versions,s={};let o={};return n.forEach(a=>{Ci(s,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(s,o)}),r._dbSchema=o,b2(r,[r._allTables,r,r.Transaction.prototype]),G1(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],hn(o),o),r._storeNames=hn(o),this}upgrade(e){return this._cfg.contentUpgrade=$B(this._cfg.contentUpgrade||fr,e),this}}function VB(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new cn(UE,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function HB(t){return t&&typeof t.databases=="function"}function S2(t){return rc(function(){return bt.letThrough=!0,t()})}function VEe(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function HEe(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?En(e.dbOpenError):t);Na&&(e.openCanceller._stackHolder=tf()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new At.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,l=!1;return lt.race([n,(typeof navigator>"u"?lt.resolve():VEe()).then(()=>new lt((c,d)=>{if(s(),!r)throw new At.MissingAPI;const h=t.name,m=e.autoSchema?r.open(h):r.open(h,Math.round(10*t.verno));if(!m)throw new At.MissingAPI;m.onerror=aa(d),m.onblocked=Ir(t._fireOnBlocked),m.onupgradeneeded=Ir(g=>{if(a=m.transaction,e.autoSchema&&!t._options.allowEmptyDB){m.onerror=iy,a.abort(),m.result.close();const _=r.deleteDatabase(h);_.onsuccess=_.onerror=Ir(()=>{d(new At.NoSuchDatabase("Database ".concat(h," doesnt exist")))})}else{a.onerror=aa(d);var y=g.oldVersion>Math.pow(2,62)?0:g.oldVersion;l=y<1,t._novip.idbdb=m.result,zEe(t,y/10,a,d)}},d),m.onsuccess=Ir(()=>{a=null;const g=t._novip.idbdb=m.result,y=N1(g.objectStoreNames);if(y.length>0)try{const u=g.transaction((_=y).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:f},p,v){f.verno=p.version/10;const b=f._dbSchema=x2(0,p,v);f._storeNames=N1(p.objectStoreNames,0),G1(f,[f._allTables],hn(b),b)}(t,g,u):(E2(t,t._dbSchema,u),function(f,p){const v=FK(x2(0,f.idbdb,p),f._dbSchema);return!(v.add.length||v.change.some(b=>b.add.length||b.change.length))}(t,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),_2(t,u)}catch(u){}var _;jg.push(t),g.onversionchange=Ir(u=>{e.vcFired=!0,t.on("versionchange").fire(u)}),g.onclose=Ir(u=>{t.on("close").fire(u)}),l&&function({indexedDB:u,IDBKeyRange:f},p){!HB(u)&&p!==UE&&VB(u,f).put({name:p}).catch(fr)}(t._deps,h),c()},d)}))]).then(()=>(s(),e.onReadyBeingFired=[],lt.resolve(S2(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let d=e.onReadyBeingFired.reduce($B,fr);return e.onReadyBeingFired=[],lt.resolve(S2(()=>d(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{a&&a.abort()}catch(d){}return n===e.openCanceller&&t._close(),En(c)}).finally(()=>{e.openComplete=!0,o()})}function C2(t){var e=o=>t.next(o),r=s(e),n=s(o=>t.throw(o));function s(o){return a=>{var l=o(a),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(r,n):oi(c)?Promise.all(c).then(r,n):r(c)}}return s(e)()}function WEe(t,e,r){var n=arguments.length;if(n<2)throw new At.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,fK(s),r]}function MK(t,e,r,n,s){return lt.resolve().then(()=>{const o=bt.transless||bt,a=t._createTransaction(e,r,t._dbSchema,n),l={trans:a,transless:o};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(m){return m.name===UB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>MK(t,e,r,null,s))):En(m)}const c=NB(s);let d;c&&Up();const h=lt.follow(()=>{if(d=s.call(a,a),d)if(c){var m=Bl.bind(null,null);d.then(m,m)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=C2(d))},l);return(d&&typeof d.then=="function"?lt.resolve(d).then(m=>a.active?m:En(new At.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):h.then(()=>d)).then(m=>(n&&a._resolve(),a._completion.then(()=>m))).catch(m=>(a._reject(m),En(m)))})}function Z0(t,e,r){const n=oi(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const KEe={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},o=[];function a(h,m,g){const y=Gg(h),_=s[y]=s[y]||[],u=h==null?0:typeof h=="string"?1:h.length,f=m>0,p={...g,isVirtual:f,keyTail:m,keyLength:u,extractKey:y2(h),unique:!f&&g.unique};return _.push(p),p.isPrimaryKey||o.push(p),u>1&&a(u===2?h[0]:h.slice(0,u-1),m+1,g),_.sort((v,b)=>v.keyTail-b.keyTail),p}const l=a(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(const h of n.indexes)a(h.keyPath,0,h);function c(h){const m=h.query.index;return m.isVirtual?{...h,query:{index:m,range:(g=h.query.range,y=m.keyTail,{type:g.type===1?2:g.type,lower:Z0(g.lower,g.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:Z0(g.upper,g.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:h;var g,y}return{...r,schema:{...n,primaryKey:l,indexes:o,getIndexByKeyPath:function(h){const m=s[Gg(h)];return m&&m[0]}},count:h=>r.count(c(h)),query:h=>r.query(c(h)),openCursor(h){const{keyTail:m,isVirtual:g,keyLength:y}=h.query.index;return g?r.openCursor(c(h)).then(_=>_&&function(u){return Object.create(u,{continue:{value:function(p){p!=null?u.continue(Z0(p,h.reverse?t.MAX_KEY:t.MIN_KEY,m)):h.unique?u.continue(u.key.slice(0,y).concat(h.reverse?t.MIN_KEY:t.MAX_KEY,m)):u.continue()}},continuePrimaryKey:{value(p,v){u.continuePrimaryKey(Z0(p,t.MAX_KEY,m),v)}},primaryKey:{get:()=>u.primaryKey},key:{get(){const p=u.key;return y===1?p[0]:p.slice(0,y)}},value:{get:()=>u.value}})}(_)):r.openCursor(h)}}}}}};function WB(t,e,r,n){return r=r||{},n=n||"",hn(t).forEach(s=>{if(xs(e,s)){var o=t[s],a=e[s];if(typeof o=="object"&&typeof a=="object"&&o&&a){const l=i2(o);l!==i2(a)?r[n+s]=e[s]:l==="Object"?WB(o,a,r,n+s+"."):o!==a&&(r[n+s]=e[s])}else o!==a&&(r[n+s]=e[s])}else r[n+s]=void 0}),hn(e).forEach(s=>{xs(t,s)||(r[n+s]=e[s])}),r}const XEe={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(o){const a=bt.trans,{deleting:l,creating:c,updating:d}=a.table(e).hook;switch(o.type){case"add":if(c.fire===fr)break;return a._promise("readwrite",()=>h(o),!0);case"put":if(c.fire===fr&&d.fire===fr)break;return a._promise("readwrite",()=>h(o),!0);case"delete":if(l.fire===fr)break;return a._promise("readwrite",()=>h(o),!0);case"deleteRange":if(l.fire===fr)break;return a._promise("readwrite",()=>function(g){return m(g.trans,g.range,1e4)}(o),!0)}return r.mutate(o);function h(g){const y=bt.trans,_=g.keys||function(u,f){return f.type==="delete"?f.keys:f.keys||f.values.map(u.extractKey)}(n,g);if(!_)throw new Error("Keys missing");return(g=g.type==="add"||g.type==="put"?{...g,keys:_}:{...g}).type!=="delete"&&(g.values=[...g.values]),g.keys&&(g.keys=[...g.keys]),function(u,f,p){return f.type==="add"?Promise.resolve([]):u.getMany({trans:f.trans,keys:p,cache:"immutable"})}(r,g,_).then(u=>{const f=_.map((p,v)=>{const b=u[v],w={onerror:null,onsuccess:null};if(g.type==="delete")l.fire.call(w,p,b,y);else if(g.type==="add"||b===void 0){const x=c.fire.call(w,p,g.values[v],y);p==null&&x!=null&&(p=x,g.keys[v]=p,n.outbound||$o(g.values[v],n.keyPath,p))}else{const x=WB(b,g.values[v]),S=d.fire.call(w,x,p,b,y);if(S){const A=g.values[v];Object.keys(S).forEach(D=>{xs(A,D)?A[D]=S[D]:$o(A,D,S[D])})}}return w});return r.mutate(g).then(({failures:p,results:v,numFailures:b,lastResult:w})=>{for(let x=0;x<_.length;++x){const S=v?v[x]:_[x],A=f[x];S==null?A.onerror&&A.onerror(p[x]):A.onsuccess&&A.onsuccess(g.type==="put"&&u[x]?g.values[x]:S)}return{failures:p,results:v,numFailures:b,lastResult:w}}).catch(p=>(f.forEach(v=>v.onerror&&v.onerror(p)),Promise.reject(p)))})}function m(g,y,_){return r.query({trans:g,values:!1,query:{index:n,range:y},limit:_}).then(({result:u})=>h({type:"delete",keys:u,trans:g}).then(f=>f.numFailures>0?Promise.reject(f.failures[0]):u.length<_?{failures:[],numFailures:0,lastResult:void 0}:m(g,{...y,lower:u[u.length-1],lowerOpen:!0},_)))}}}}})};function kK(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,o=0;s<e.keys.length&&o<t.length;++s)bi(e.keys[s],t[o])===0&&(n.push(r?m_(e.values[s]):e.values[s]),++o);return n.length===t.length?n:null}catch(n){return null}}const YEe={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=kK(n.keys,n.trans._cache,n.cache==="clone");return s?lt.resolve(s):r.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?m_(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function KB(t){return!("from"in t)}const ol=function(t,e){if(!this){const r=new ol;return t&&"d"in t&&Ci(r,t),r}Ci(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function ay(t,e,r){const n=bi(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(KB(t))return Ci(t,{from:e,to:r,d:1});const s=t.l,o=t.r;if(bi(r,t.from)<0)return s?ay(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},u$(t);if(bi(e,t.to)>0)return o?ay(o,e,r):t.r={from:e,to:r,d:1,l:null,r:null},u$(t);bi(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),bi(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;s&&!t.l&&V1(t,s),o&&a&&V1(t,o)}function V1(t,e){KB(e)||function r(n,{from:s,to:o,l:a,r:l}){ay(n,s,o),a&&r(n,a),l&&r(n,l)}(t,e)}function qEe(t,e){const r=A2(e);let n=r.next();if(n.done)return!1;let s=n.value;const o=A2(t);let a=o.next(s.from),l=a.value;for(;!n.done&&!a.done;){if(bi(l.from,s.to)<=0&&bi(l.to,s.from)>=0)return!0;bi(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(a=o.next(s.from)).value}return!1}function A2(t){let e=KB(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&bi(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||bi(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function u$(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const o=s==="r"?"l":"r",a={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],a[s]=l[o],t[o]=a,a.d=c$(a)}t.d=c$(t)}function c$({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}up(ol.prototype,{add(t){return V1(this,t),this},addKey(t){return ay(this,t,t),this},addKeys(t){return t.forEach(e=>ay(this,e,e)),this},[s2](){return A2(this)}});const ZEe={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ol(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:o}=s,{primaryKey:a}=o,{extractKey:l,outbound:c}=a,d={...s,mutate:g=>{const y=g.trans,_=y.mutatedParts||(y.mutatedParts={}),u=S=>{const A="idb://".concat(e,"/").concat(n,"/").concat(S);return _[A]||(_[A]=new ol)},f=u(""),p=u(":dels"),{type:v}=g;let[b,w]=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[[],g.values]:[];const x=g.trans._cache;return s.mutate(g).then(S=>{if(oi(b)){v!=="delete"&&(b=S.results),f.addKeys(b);const A=kK(b,x);A||v==="add"||p.addKeys(b),(A||w)&&function(D,C,T,R){function P(O){const I=D(O.name||"");function k(G){return G!=null?O.extractKey(G):null}const W=G=>O.multiEntry&&oi(G)?G.forEach(j=>I.addKey(j)):I.addKey(G);(T||R).forEach((G,j)=>{const $=T&&k(T[j]),K=R&&k(R[j]);bi($,K)!==0&&($!=null&&W($),K!=null&&W(K))})}C.indexes.forEach(P)}(u,o,A,w)}else if(b){const A={from:b.lower,to:b.upper};p.add(A),f.add(A)}else f.add(r),p.add(r),o.indexes.forEach(A=>u(A.name).add(r));return S})}},h=({query:{index:g,range:y}})=>{var _,u;return[g,new ol((_=y.lower)!==null&&_!==void 0?_:t.MIN_KEY,(u=y.upper)!==null&&u!==void 0?u:t.MAX_KEY)]},m={get:g=>[a,new ol(g.key)],getMany:g=>[a,new ol().addKeys(g.keys)],count:h,query:h,openCursor:h};return hn(m).forEach(g=>{d[g]=function(y){const{subscr:_}=bt;if(_){const u=w=>{const x="idb://".concat(e,"/").concat(n,"/").concat(w);return _[x]||(_[x]=new ol)},f=u(""),p=u(":dels"),[v,b]=m[g](y);if(u(v.name||"").add(b),!v.isPrimaryKey){if(g!=="count"){const w=g==="query"&&c&&y.values&&s.query({...y,values:!1});return s[g].apply(this,arguments).then(x=>{if(g==="query"){if(c&&y.values)return w.then(({result:A})=>(f.addKeys(A),x));const S=y.values?x.result.map(l):x.result;y.values?f.addKeys(S):p.addKeys(S)}else if(g==="openCursor"){const S=x,A=y.values;return S&&Object.create(S,{key:{get:()=>(p.addKey(S.primaryKey),S.key)},primaryKey:{get(){const D=S.primaryKey;return p.addKey(D),D}},value:{get:()=>(A&&f.addKey(S.primaryKey),S.value)}})}return x})}p.add(r)}}return s[g].apply(this,arguments)}}),d}}}};class cn{constructor(e,r){this._middlewares={},this.verno=0;const n=cn.dependencies;this._options=r={addons:cn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fr,dbReadyPromise:null,cancelOpen:fr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new lt(l=>{o.dbReadyResolve=l}),o.openCanceller=new lt((l,c)=>{o.cancelOpen=c}),this._state=o,this.name=e,this.on=zg(this,"populate","blocked","versionchange","close",{ready:[$B,fr]}),this.on.ready.subscribe=lK(this.on.ready.subscribe,l=>(c,d)=>{cn.vip(()=>{const h=this._state;if(h.openComplete)h.dbOpenError||lt.resolve().then(c),d&&l(c);else if(h.onReadyBeingFired)h.onReadyBeingFired.push(c),d&&l(c);else{l(c);const m=this;d||l(function g(){m.on.ready.unsubscribe(c),m.on.ready.unsubscribe(g)})}})}),this.Collection=(a=this,Om(FEe.prototype,function(l,c){this.db=a;let d=PK,h=null;if(c)try{d=c()}catch(_){h=_}const m=l._ctx,g=m.table,y=g.hook.reading.fire;this._ctx={table:g,index:m.index,isPrimKey:!m.index||g.schema.primKey.keyPath&&m.index===g.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:h,or:m.or,valueMapper:y!==ry?y:null}})),this.Table=function(l){return Om(BEe.prototype,function(c,d,h){this.db=l,this._tx=h,this.name=c,this.schema=d,this.hook=l._allTables[c]?l._allTables[c].hook:zg(null,{creating:[wEe,fr],reading:[bEe,ry],updating:[EEe,fr],deleting:[xEe,fr]})})}(this),this.Transaction=function(l){return Om(LEe.prototype,function(c,d,h,m,g){this.db=l,this.mode=c,this.storeNames=d,this.schema=h,this.chromeTransactionDurability=m,this.idbtrans=null,this.on=zg(this,"complete","error","abort"),this.parent=g||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new lt((y,_)=>{this._resolve=y,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var _=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):_&&this.idbtrans&&this.idbtrans.abort(),En(y)})})}(this),this.Version=function(l){return Om(GEe.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Om(OK.prototype,function(c,d,h){this.db=l,this._ctx={table:c,index:d===":id"?null:d,or:h};const m=l._deps.indexedDB;if(!m)throw new At.MissingAPI;this._cmp=this._ascending=m.cmp.bind(m),this._descending=(g,y)=>m.cmp(y,g),this._max=(g,y)=>m.cmp(g,y)>0?g:y,this._min=(g,y)=>m.cmp(g,y)<0?g:y,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=oy(r.IDBKeyRange),this._createTransaction=(l,c,d,h)=>new this.Transaction(l,c,d,this._options.chromeTransactionDurability,h),this._fireOnBlocked=l=>{this.on("blocked").fire(l),jg.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(KEe),this.use(XEe),this.use(ZEe),this.use(YEe),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new At.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new At.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(jEe),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||bt.letThrough||this._vip)?e():new lt((r,n)=>{if(this._state.openComplete)return n(new At.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new At.DatabaseClosed);this.open().catch(fr)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:r,level:n==null?10:n,name:s}),o.sort((a,l)=>a.level-l.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return HEe(this)}_close(){const e=this._state,r=jg.indexOf(this);if(r>=0&&jg.splice(r,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new lt(n=>{e.dbReadyResolve=n}),e.openCanceller=new lt((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new At.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new lt((n,s)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Ir(()=>{(function({indexedDB:l,IDBKeyRange:c},d){!HB(l)&&d!==UE&&VB(l,c).delete(d).catch(fr)})(this._deps,this.name),n()}),a.onerror=aa(s),a.onblocked=this._fireOnBlocked};if(e)throw new At.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return hn(this._allTables).map(e=>this._allTables[e])}transaction(){const e=WEe.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=bt.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let a,l;e=e.replace("!","").replace("?","");try{if(l=r.map(d=>{var h=d instanceof this.Table?d.name:d;if(typeof h!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return h}),e=="r"||e===wA)a=wA;else{if(e!="rw"&&e!=xA)throw new At.InvalidArgument("Invalid transaction mode: "+e);a=xA}if(s){if(s.mode===wA&&a===xA){if(!o)throw new At.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!o)throw new At.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(h,m)=>{m(d)}):En(d)}const c=MK.bind(null,this,a,l,s,n);return s?s._promise(a,c,"lock"):bt.trans?$p(bt.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!xs(this._allTables,e))throw new At.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const JEe=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class QEe{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[JEe](){return this}}function NK(t,e){return hn(e).forEach(r=>{V1(t[r]||(t[r]=new ol),e[r])}),t}function LK(t){let e,r=!1;const n=new QEe(s=>{const o=NB(t);let a=!1,l={},c={};const d={get closed(){return a},unsubscribe:()=>{a=!0,ic.storagemutated.unsubscribe(y)}};s.start&&s.start(d);let h=!1,m=!1;function g(){return hn(c).some(u=>l[u]&&qEe(l[u],c[u]))}const y=u=>{NK(l,u),g()&&_()},_=()=>{if(h||a)return;l={};const u={},f=function(p){o&&Up();const v=()=>rc(t,{subscr:p,trans:null}),b=bt.trans?$p(bt.transless,v):v();return o&&b.then(Bl,Bl),b}(u);m||(ic(sy,y),m=!0),h=!0,Promise.resolve(f).then(p=>{r=!0,e=p,h=!1,a||(g()?_():(l={},c=u,s.next&&s.next(p)))},p=>{h=!1,r=!1,s.error&&s.error(p),d.unsubscribe()})};return _(),d});return n.hasValue=()=>r,n.getValue=()=>e,n}let T2;try{T2={indexedDB:Sr.indexedDB||Sr.mozIndexedDB||Sr.webkitIndexedDB||Sr.msIndexedDB,IDBKeyRange:Sr.IDBKeyRange||Sr.webkitIDBKeyRange}}catch(t){T2={indexedDB:null,IDBKeyRange:null}}const Bc=cn;function sw(t){let e=hl;try{hl=!0,ic.storagemutated.fire(t)}finally{hl=e}}up(Bc,{...Qb,delete:t=>new Bc(t,{addons:[]}).delete(),exists:t=>new Bc(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return HB(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==UE)):VB(e,r).toCollection().primaryKeys()}(Bc.dependencies).then(t)}catch(e){return En(new At.MissingAPI)}},defineClass:()=>function(t){Ci(this,t)},ignoreTransaction:t=>bt.trans?$p(bt.transless,t):t(),vip:S2,async:function(t){return function(){try{var e=C2(t.apply(this,arguments));return e&&typeof e.then=="function"?e:lt.resolve(e)}catch(r){return En(r)}}},spawn:function(t,e,r){try{var n=C2(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:lt.resolve(n)}catch(s){return En(s)}},currentTransaction:{get:()=>bt.trans||null},waitFor:function(t,e){const r=lt.resolve(typeof t=="function"?Bc.ignoreTransaction(t):t).timeout(e||6e4);return bt.trans?bt.trans.waitFor(r):r},Promise:lt,debug:{get:()=>Na,set:t=>{pK(t,t==="dexie"?()=>!0:DK)}},derive:Dh,extend:Ci,props:up,override:lK,Events:zg,on:ic,liveQuery:LK,extendObservabilitySet:NK,getByKeyPath:_l,setByKeyPath:$o,delByKeyPath:function(t,e){typeof e=="string"?$o(t,e,void 0):"length"in e&&[].map.call(e,function(r){$o(t,r,void 0)})},shallowClone:dK,deepClone:m_,getObjectDiff:WB,cmp:bi,asap:uK,minKey:g2,addons:[],connections:jg,errnames:UB,dependencies:T2,semVer:n$,version:n$.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),Bc.maxKey=oy(Bc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ic(sy,t=>{if(!hl){let e;LE?(e=document.createEvent("CustomEvent"),e.initCustomEvent(yu,!0,!0,t)):e=new CustomEvent(yu,{detail:t}),hl=!0,dispatchEvent(e),hl=!1}}),addEventListener(yu,({detail:t})=>{hl||sw(t)}));let hl=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(yu);typeof t.unref=="function"&&t.unref(),ic(sy,e=>{hl||t.postMessage(e)}),t.onmessage=e=>{e.data&&sw(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ic(sy,e=>{try{hl||(typeof localStorage<"u"&&localStorage.setItem(yu,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:yu,changedParts:e})))}catch(r){}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===yu){const r=JSON.parse(e.newValue);r&&sw(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===yu&&sw(e.changedParts)})}lt.rejectionMapper=function(t,e){if(!t||t instanceof Ph||t instanceof TypeError||t instanceof SyntaxError||!t.name||!QU[t.name])return t;var r=new QU[t.name](e||t.message,t);return"stack"in t&&yl(r,"stack",{get:function(){return this.inner.stack}}),r},pK(Na,DK);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H1=function(){return H1=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},H1.apply(this,arguments)};function sc(t,e,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function c(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?o(h.value):s(h.value).then(l,c)}d((n=n.apply(t,e||[])).next())})}function Po(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(h){d=[6,h],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function eSe(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(r){return r.src}).join(",")}function tSe(t){for(var e={},r=0,n=t.tables;r<n.length;r++){var s=n[r];e[s.name]=s.schema}return e}function UK(t,e){return new Promise(function(r,n){var s=new FileReader;s.onabort=function(o){return n(new Error("file read aborted"))},s.onerror=function(o){return n(o.target.error)},s.onload=function(o){return r(o.target.result)},e==="binary"?s.readAsArrayBuffer(t):s.readAsText(t)})}function $K(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var r=new FileReaderSync,n=e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t);return n}var D2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XB(t,e){return e={exports:{}},t(e,e.exports),e.exports}var $E=XB(function(t,e){(function(r,n){t.exports=n()})(D2,function(){function r(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(V){return typeof V}:r=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},r(z)}function n(z,V,H,re,ne,_e,be){try{var xe=z[_e](be),Se=xe.value}catch(dt){H(dt);return}xe.done?V(Se):Promise.resolve(Se).then(re,ne)}function s(z){return function(){var V=this,H=arguments;return new Promise(function(re,ne){var _e=z.apply(V,H);function be(Se){n(_e,re,ne,be,xe,"next",Se)}function xe(Se){n(_e,re,ne,be,xe,"throw",Se)}be(void 0)})}}function o(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}function a(z,V){for(var H=0;H<V.length;H++){var re=V[H];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(z,re.key,re)}}function l(z,V,H){return V&&a(z.prototype,V),H&&a(z,H),z}function c(z,V,H){return V in z?Object.defineProperty(z,V,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[V]=H,z}function d(z,V){var H=Object.keys(z);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(z);V&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(z,ne).enumerable})),H.push.apply(H,re)}return H}function h(z){for(var V=1;V<arguments.length;V++){var H=arguments[V]!=null?arguments[V]:{};V%2?d(Object(H),!0).forEach(function(re){c(z,re,H[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(H)):d(Object(H)).forEach(function(re){Object.defineProperty(z,re,Object.getOwnPropertyDescriptor(H,re))})}return z}function m(z,V){return _(z)||f(z,V)||v()}function g(z){return y(z)||u(z)||p()}function y(z){if(Array.isArray(z)){for(var V=0,H=new Array(z.length);V<z.length;V++)H[V]=z[V];return H}}function _(z){if(Array.isArray(z))return z}function u(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}function f(z,V){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]"){var H=[],re=!0,ne=!1,_e=void 0;try{for(var be=z[Symbol.iterator](),xe;!(re=(xe=be.next()).done)&&(H.push(xe.value),!(V&&H.length===V));re=!0);}catch(Se){ne=!0,_e=Se}finally{try{!re&&be.return!=null&&be.return()}finally{if(ne)throw _e}}return H}}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var b=function z(V){o(this,z),this.p=new Promise(V)};b.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(z,V){var H=this;return new b(function(re,ne){H.p.then(function(_e){re(z?z(_e):_e)}).catch(function(_e){return V?V(_e):Promise.reject(_e)}).then(re,ne)})},b.prototype.catch=function(z){return this.then(null,z)},b.resolve=function(z){return new b(function(V){V(z)})},b.reject=function(z){return new b(function(V,H){H(z)})},["all","race"].forEach(function(z){b[z]=function(V){return new b(function(H,re){Promise[z](V.map(function(ne){return ne&&ne.constructor&&ne.constructor.__typeson__type__==="TypesonPromise"?ne.p:ne})).then(H,re)})}});var w={},x=w.toString,S={}.hasOwnProperty,A=Object.getPrototypeOf,D=S.toString;function C(z,V){return I(z)&&typeof z.then=="function"&&(!V||typeof z.catch=="function")}function T(z){return x.call(z).slice(8,-1)}function R(z,V){if(!z||r(z)!=="object")return!1;var H=A(z);if(!H)return V===null;var re=S.call(H,"constructor")&&H.constructor;return typeof re!="function"?V===null:V===re||V!==null&&D.call(re)===D.call(V)||typeof V=="function"&&typeof re.__typeson__type__=="string"&&re.__typeson__type__===V.__typeson__type__}function P(z){if(!z||T(z)!=="Object")return!1;var V=A(z);return V?R(z,Object):!0}function O(z){if(!z||T(z)!=="Object")return!1;var V=A(z);return V?R(z,Object)||O(V):!0}function I(z){return z&&r(z)==="object"}function k(z){return z.replace(/~/g,"~0").replace(/\./g,"~1")}function W(z){return z.replace(/~1/g,".").replace(/~0/g,"~")}function G(z,V){if(V==="")return z;var H=V.indexOf(".");if(H>-1){var re=z[W(V.slice(0,H))];return re===void 0?void 0:G(re,V.slice(H+1))}return z[W(V)]}function j(z,V,H){if(V==="")return H;var re=V.indexOf(".");if(re>-1){var ne=z[W(V.slice(0,re))];return j(ne,V.slice(re+1),H)}return z[W(V)]=H,z}function $(z){return z===null?"null":Array.isArray(z)?"array":r(z)}var K=Object.keys,Q=Array.isArray,ue={}.hasOwnProperty,pe=["type","replaced","iterateIn","iterateUnsetNumeric"];function oe(z,V){if(z.keypath==="")return-1;var H=z.keypath.match(/\./g)||0,re=V.keypath.match(/\./g)||0;return H&&(H=H.length),re&&(re=re.length),H>re?-1:H<re?1:z.keypath<V.keypath?-1:z.keypath>V.keypath}var he=function(){function z(V){o(this,z),this.options=V,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l(z,[{key:"stringify",value:function(H,re,ne,_e){_e=h({},this.options,{},_e,{stringification:!0});var be=this.encapsulate(H,null,_e);return Q(be)?JSON.stringify(be[0],re,ne):be.then(function(xe){return JSON.stringify(xe,re,ne)})}},{key:"stringifySync",value:function(H,re,ne,_e){return this.stringify(H,re,ne,h({throwOnBadSyncType:!0},_e,{sync:!0}))}},{key:"stringifyAsync",value:function(H,re,ne,_e){return this.stringify(H,re,ne,h({throwOnBadSyncType:!0},_e,{sync:!1}))}},{key:"parse",value:function(H,re,ne){return ne=h({},this.options,{},ne,{parse:!0}),this.revive(JSON.parse(H,re),ne)}},{key:"parseSync",value:function(H,re,ne){return this.parse(H,re,h({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"parseAsync",value:function(H,re,ne){return this.parse(H,re,h({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"specialTypeNames",value:function(H,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.returnTypeNames=!0,this.encapsulate(H,re,ne)}},{key:"rootTypeName",value:function(H,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.iterateNone=!0,this.encapsulate(H,re,ne)}},{key:"encapsulate",value:function(H,re,ne){ne=h({sync:!0},this.options,{},ne);var _e=ne,be=_e.sync,xe=this,Se={},dt=[],xt=[],X=[],se="cyclic"in ne?ne.cyclic:!0,le=ne,Ae=le.encapsulateObserver,ve=ft("",H,se,re||{},X);function ye(Ke){var L=Object.values(Se);if(ne.iterateNone)return L.length?L[0]:z.getJSONType(Ke);if(L.length){if(ne.returnTypeNames)return g(new Set(L));!Ke||!P(Ke)||ue.call(Ke,"$types")?Ke={$:Ke,$types:{$:Se}}:Ke.$types=Se}else I(Ke)&&ue.call(Ke,"$types")&&(Ke={$:Ke,$types:!0});return ne.returnTypeNames?!1:Ke}function Te(Ke,L){return Re.apply(this,arguments)}function Re(){return Re=s(regeneratorRuntime.mark(function Ke(L,B){var U;return regeneratorRuntime.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,Promise.all(B.map(function(ke){return ke[1].p}));case 2:return U=ie.sent,ie.next=5,Promise.all(U.map(function(){var ke=s(regeneratorRuntime.mark(function Ve(ut){var Ye,vt,te,ae,de,Ee,Be,We,Ze,De,Je,Fe,Ce,Ne;return regeneratorRuntime.wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Ye=[],vt=B.splice(0,1),te=m(vt,1),ae=te[0],de=m(ae,7),Ee=de[0],Be=de[2],We=de[3],Ze=de[4],De=de[5],Je=de[6],Fe=ft(Ee,ut,Be,We,Ye,!0,Je),Ce=R(Fe,b),!(Ee&&Ce)){Qe.next=11;break}return Qe.next=8,Fe.p;case 8:return Ne=Qe.sent,Ze[De]=Ne,Qe.abrupt("return",Te(L,Ye));case 11:return Ee?Ze[De]=Fe:Ce?L=Fe.p:L=Fe,Qe.abrupt("return",Te(L,Ye));case 13:case"end":return Qe.stop()}},Ve)}));return function(Ve){return ke.apply(this,arguments)}}()));case 5:return ie.abrupt("return",L);case 6:case"end":return ie.stop()}},Ke)})),Re.apply(this,arguments)}function je(Ke,L,B){Object.assign(Ke,L);var U=pe.map(function(J){var ie=Ke[J];return delete Ke[J],ie});B(),pe.forEach(function(J,ie){Ke[J]=U[ie]})}function ft(Ke,L,B,U,J,ie,ke){var Ve,ut={},Ye=r(L),vt=Ae?function(Ce){var Ne=ke||U.type||z.getJSONType(L);Ae(Object.assign(Ce||ut,{keypath:Ke,value:L,cyclic:B,stateObj:U,promisesData:J,resolvingTypesonPromise:ie,awaitingTypesonPromise:R(L,b)},{type:Ne}))}:null;if(["string","boolean","number","undefined"].includes(Ye))return L===void 0||Ye==="number"&&(isNaN(L)||L===-1/0||L===1/0)?(U.replaced?Ve=L:Ve=Et(Ke,L,U,J,!1,ie,vt),Ve!==L&&(ut={replaced:Ve})):Ve=L,vt&&vt(),Ve;if(L===null)return vt&&vt(),L;if(B&&!U.iterateIn&&!U.iterateUnsetNumeric&&L&&r(L)==="object"){var te=dt.indexOf(L);if(te<0)B===!0&&(dt.push(L),xt.push(Ke));else return Se[Ke]="#",vt&&vt({cyclicKeypath:xt[te]}),"#"+xt[te]}var ae=P(L),de=Q(L),Ee=(ae||de)&&(!xe.plainObjectReplacers.length||U.replaced)||U.iterateIn?L:Et(Ke,L,U,J,ae||de,null,vt),Be;if(Ee!==L?(Ve=Ee,ut={replaced:Ee}):Ke===""&&R(L,b)?(J.push([Ke,L,B,U,void 0,void 0,U.type]),Ve=L):de&&U.iterateIn!=="object"||U.iterateIn==="array"?(Be=new Array(L.length),ut={clone:Be}):!["function","symbol"].includes(r(L))&&!("toJSON"in L)&&!R(L,b)&&!R(L,Promise)&&!R(L,ArrayBuffer)||ae||U.iterateIn==="object"?(Be={},U.addLength&&(Be.length=L.length),ut={clone:Be}):Ve=L,vt&&vt(),ne.iterateNone)return Be||Ve;if(!Be)return Ve;if(U.iterateIn){var We=function(Ne){var Le={ownKeys:ue.call(L,Ne)};je(U,Le,function(){var Qe=Ke+(Ke?".":"")+k(Ne),Dt=ft(Qe,L[Ne],!!B,U,J,ie);R(Dt,b)?J.push([Qe,Dt,!!B,U,Be,Ne,U.type]):Dt!==void 0&&(Be[Ne]=Dt)})};for(var Ze in L)We(Ze);vt&&vt({endIterateIn:!0,end:!0})}else K(L).forEach(function(Ce){var Ne=Ke+(Ke?".":"")+k(Ce),Le={ownKeys:!0};je(U,Le,function(){var Qe=ft(Ne,L[Ce],!!B,U,J,ie);R(Qe,b)?J.push([Ne,Qe,!!B,U,Be,Ce,U.type]):Qe!==void 0&&(Be[Ce]=Qe)})}),vt&&vt({endIterateOwn:!0,end:!0});if(U.iterateUnsetNumeric){for(var De=L.length,Je=function(Ne){if(!(Ne in L)){var Le=Ke+(Ke?".":"")+Ne,Qe={ownKeys:!1};je(U,Qe,function(){var Dt=ft(Le,void 0,!!B,U,J,ie);R(Dt,b)?J.push([Le,Dt,!!B,U,Be,Ne,U.type]):Dt!==void 0&&(Be[Ne]=Dt)})}},Fe=0;Fe<De;Fe++)Je(Fe);vt&&vt({endIterateUnsetNumeric:!0,end:!0})}return Be}function Et(Ke,L,B,U,J,ie,ke){for(var Ve=J?xe.plainObjectReplacers:xe.nonplainObjectReplacers,ut=Ve.length;ut--;){var Ye=Ve[ut];if(Ye.test(L,B)){var vt=Ye.type;if(xe.revivers[vt]){var te=Se[Ke];Se[Ke]=te?[vt].concat(te):vt}if(Object.assign(B,{type:vt,replaced:!0}),(be||!Ye.replaceAsync)&&!Ye.replace)return ke&&ke({typeDetected:!0}),ft(Ke,L,se&&"readonly",B,U,ie,vt);ke&&ke({replacing:!0});var ae=be||!Ye.replaceAsync?"replace":"replaceAsync";return ft(Ke,Ye[ae](L,B),se&&"readonly",B,U,ie,vt)}}return L}return X.length?be&&ne.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Te(ve,X)).then(ye):!be&&ne.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ne.stringification&&be?[ye(ve)]:be?ye(ve):Promise.resolve(ye(ve))}},{key:"encapsulateSync",value:function(H,re,ne){return this.encapsulate(H,re,h({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"encapsulateAsync",value:function(H,re,ne){return this.encapsulate(H,re,h({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"revive",value:function(H,re){var ne=H&&H.$types;if(!ne)return H;if(ne===!0)return H.$;re=h({sync:!0},this.options,{},re);var _e=re,be=_e.sync,xe=[],Se={},dt=!0;ne.$&&P(ne.$)&&(H=H.$,ne=ne.$,dt=!1);var xt=this;function X(Re,je){var ft=xt.revivers[Re]||[],Et=m(ft,1),Ke=Et[0];if(!Ke)throw new Error("Unregistered type: "+Re);return be&&!("revive"in Ke)?je:Ke[be&&Ke.revive?"revive":!be&&Ke.reviveAsync?"reviveAsync":"revive"](je,Se)}function se(){var Re=[];if(Object.entries(ne).forEach(function(je){var ft=m(je,2),Et=ft[0],Ke=ft[1];Ke!=="#"&&[].concat(Ke).forEach(function(L){var B=xt.revivers[L]||[null,{}],U=m(B,2),J=U[1].plain;J&&(Re.push({keypath:Et,type:L}),delete ne[Et])})}),!!Re.length)return Re.sort(oe).reduce(function je(ft,Et){var Ke=Et.keypath,L=Et.type;if(C(ft))return ft.then(function(J){return je(J,{keypath:Ke,type:L})});var B=G(H,Ke);if(B=X(L,B),R(B,b))return B.then(function(J){var ie=j(H,Ke,J);ie===J&&(H=ie)});var U=j(H,Ke,B);U===B&&(H=U)},void 0)}var le=[];function Ae(Re,je,ft,Et,Ke){if(!(dt&&Re==="$types")){var L=ne[Re],B=Q(je);if(B||P(je)){var U=B?new Array(je.length):{};for(K(je).forEach(function(te){var ae=Ae(Re+(Re?".":"")+k(te),je[te],ft||U,U,te),de=function(Be){return R(Be,Y)?U[te]=void 0:Be!==void 0&&(U[te]=Be),Be};R(ae,b)?le.push(ae.then(function(Ee){return de(Ee)})):de(ae)}),je=U;xe.length;){var J=m(xe[0],4),ie=J[0],ke=J[1],Ve=J[2],ut=J[3],Ye=G(ie,ke);if(Ye!==void 0)Ve[ut]=Ye;else break;xe.splice(0,1)}}if(!L)return je;if(L==="#"){var vt=G(ft,je.slice(1));return vt===void 0&&xe.push([ft,je.slice(1),Et,Ke]),vt}return[].concat(L).reduce(function te(ae,de){return R(ae,b)?ae.then(function(Ee){return te(Ee,de)}):X(de,ae)},je)}}function ve(Re){return R(Re,Y)?void 0:Re}var ye=se(),Te;return R(ye,b)?Te=ye.then(function(){return H}):(Te=Ae("",H,null),le.length&&(Te=b.resolve(Te).then(function(Re){return b.all([Re].concat(le))}).then(function(Re){var je=m(Re,1),ft=je[0];return ft}))),C(Te)?be&&re.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():R(Te,b)?Te.p.then(ve):Te:!be&&re.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():be?ve(Te):Promise.resolve(ve(Te))}},{key:"reviveSync",value:function(H,re){return this.revive(H,h({throwOnBadSyncType:!0},re,{sync:!0}))}},{key:"reviveAsync",value:function(H,re){return this.revive(H,h({throwOnBadSyncType:!0},re,{sync:!1}))}},{key:"register",value:function(H,re){return re=re||{},[].concat(H).forEach(function ne(_e){var be=this;if(Q(_e))return _e.map(function(xe){return ne.call(be,xe)});_e&&K(_e).forEach(function(xe){if(xe==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(z.JSON_TYPES.includes(xe))throw new TypeError("Plain JSON object types are reserved as type names");var Se=_e[xe],dt=Se&&Se.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,xt=dt.filter(function(ft){return ft.type===xe});if(xt.length&&(dt.splice(dt.indexOf(xt[0]),1),delete this.revivers[xe],delete this.types[xe]),typeof Se=="function"){var X=Se;Se={test:function(Et){return Et&&Et.constructor===X},replace:function(Et){return h({},Et)},revive:function(Et){return Object.assign(Object.create(X.prototype),Et)}}}else if(Q(Se)){var se=Se,le=m(se,3),Ae=le[0],ve=le[1],ye=le[2];Se={test:Ae,replace:ve,revive:ye}}if(!(!Se||!Se.test)){var Te={type:xe,test:Se.test.bind(Se)};Se.replace&&(Te.replace=Se.replace.bind(Se)),Se.replaceAsync&&(Te.replaceAsync=Se.replaceAsync.bind(Se));var Re=typeof re.fallback=="number"?re.fallback:re.fallback?0:1/0;if(Se.testPlainObjects?this.plainObjectReplacers.splice(Re,0,Te):this.nonplainObjectReplacers.splice(Re,0,Te),Se.revive||Se.reviveAsync){var je={};Se.revive&&(je.revive=Se.revive.bind(Se)),Se.reviveAsync&&(je.reviveAsync=Se.reviveAsync.bind(Se)),this.revivers[xe]=[je,{plain:Se.testPlainObjects}]}this.types[xe]=Se}},this)},this),this}}]),z}(),Y=function z(){o(this,z)};return Y.__typeson__type__="TypesonUndefined",he.Undefined=Y,he.Promise=b,he.isThenable=C,he.toStringTag=T,he.hasConstructorOf=R,he.isObject=I,he.isPlainObject=P,he.isUserObject=O,he.escapeKeyPathComponent=k,he.unescapeKeyPathComponent=W,he.getByKeyPath=G,he.getJSONType=$,he.JSON_TYPES=["null","boolean","number","string","array","object"],he})}),rSe=XB(function(t,e){(function(r,n){t.exports=n()})(D2,function(){function r(L){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(L)}function n(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function s(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function o(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function a(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ie){return Object.getOwnPropertyDescriptor(L,ie).enumerable})),U.push.apply(U,J)}return U}function l(L){return function(U){if(Array.isArray(U))return c(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||function(U,J){if(U){if(typeof U=="string")return c(U,J);var ie=Object.prototype.toString.call(U).slice(8,-1);if(ie==="Object"&&U.constructor&&(ie=U.constructor.name),ie==="Map"||ie==="Set")return Array.from(U);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return c(U,J)}}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}function d(L){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(L)}function h(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function m(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function g(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function y(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ie){return Object.getOwnPropertyDescriptor(L,ie).enumerable})),U.push.apply(U,J)}return U}function _(L){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{};B%2?y(Object(U),!0).forEach(function(J){g(L,J,U[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(U)):y(Object(U)).forEach(function(J){Object.defineProperty(L,J,Object.getOwnPropertyDescriptor(U,J))})}return L}function u(L,B){return function(J){if(Array.isArray(J))return J}(L)||function(J,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(J)))){var ke=[],Ve=!0,ut=!1,Ye=void 0;try{for(var vt,te=J[Symbol.iterator]();!(Ve=(vt=te.next()).done)&&(ke.push(vt.value),!ie||ke.length!==ie);Ve=!0);}catch(ae){ut=!0,Ye=ae}finally{try{Ve||te.return==null||te.return()}finally{if(ut)throw Ye}}return ke}}(L,B)||p(L,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(L){return function(U){if(Array.isArray(U))return v(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||p(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(L,B){if(L){if(typeof L=="string")return v(L,B);var U=Object.prototype.toString.call(L).slice(8,-1);return U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set"?Array.from(L):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?v(L,B):void 0}}function v(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}var b=function L(B){h(this,L),this.p=new Promise(B)};b.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(L,B){var U=this;return new b(function(J,ie){U.p.then(function(ke){J(L?L(ke):ke)}).catch(function(ke){return B?B(ke):Promise.reject(ke)}).then(J,ie)})},b.prototype.catch=function(L){return this.then(null,L)},b.resolve=function(L){return new b(function(B){B(L)})},b.reject=function(L){return new b(function(B,U){U(L)})},["all","race"].forEach(function(L){b[L]=function(B){return new b(function(U,J){Promise[L](B.map(function(ie){return ie&&ie.constructor&&ie.constructor.__typeson__type__==="TypesonPromise"?ie.p:ie})).then(U,J)})}});var w={}.toString,x={}.hasOwnProperty,S=Object.getPrototypeOf,A=x.toString;function D(L,B){return P(L)&&typeof L.then=="function"&&(!B||typeof L.catch=="function")}function C(L){return w.call(L).slice(8,-1)}function T(L,B){if(!L||d(L)!=="object")return!1;var U=S(L);if(!U)return B===null;var J=x.call(U,"constructor")&&U.constructor;return typeof J!="function"?B===null:B===J||B!==null&&A.call(J)===A.call(B)||typeof B=="function"&&typeof J.__typeson__type__=="string"&&J.__typeson__type__===B.__typeson__type__}function R(L){return!(!L||C(L)!=="Object")&&(!S(L)||T(L,Object))}function P(L){return L&&d(L)==="object"}function O(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function I(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function k(L,B){if(B==="")return L;var U=B.indexOf(".");if(U>-1){var J=L[I(B.slice(0,U))];return J===void 0?void 0:k(J,B.slice(U+1))}return L[I(B)]}function W(L,B,U){if(B==="")return U;var J=B.indexOf(".");return J>-1?W(L[I(B.slice(0,J))],B.slice(J+1),U):(L[I(B)]=U,L)}function G(L,B,U){return U?B?B(L):L:(L&&L.then||(L=Promise.resolve(L)),B?L.then(B):L)}var j=Object.keys,$=Array.isArray,K={}.hasOwnProperty,Q=["type","replaced","iterateIn","iterateUnsetNumeric"];function ue(L){return function(){for(var B=[],U=0;U<arguments.length;U++)B[U]=arguments[U];try{return Promise.resolve(L.apply(this,B))}catch(J){return Promise.reject(J)}}}function pe(L,B){if(L.keypath==="")return-1;var U=L.keypath.match(/\./g)||0,J=B.keypath.match(/\./g)||0;return U&&(U=U.length),J&&(J=J.length),U>J?-1:U<J?1:L.keypath<B.keypath?-1:L.keypath>B.keypath}var oe=function(){function L(B){h(this,L),this.options=B,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(U,J,ie){return J&&m(U.prototype,J),ie&&m(U,ie),U}(L,[{key:"stringify",value:function(U,J,ie,ke){ke=_(_(_({},this.options),ke),{},{stringification:!0});var Ve=this.encapsulate(U,null,ke);return $(Ve)?JSON.stringify(Ve[0],J,ie):Ve.then(function(ut){return JSON.stringify(ut,J,ie)})}},{key:"stringifySync",value:function(U,J,ie,ke){return this.stringify(U,J,ie,_(_({throwOnBadSyncType:!0},ke),{},{sync:!0}))}},{key:"stringifyAsync",value:function(U,J,ie,ke){return this.stringify(U,J,ie,_(_({throwOnBadSyncType:!0},ke),{},{sync:!1}))}},{key:"parse",value:function(U,J,ie){return ie=_(_(_({},this.options),ie),{},{parse:!0}),this.revive(JSON.parse(U,J),ie)}},{key:"parseSync",value:function(U,J,ie){return this.parse(U,J,_(_({throwOnBadSyncType:!0},ie),{},{sync:!0}))}},{key:"parseAsync",value:function(U,J,ie){return this.parse(U,J,_(_({throwOnBadSyncType:!0},ie),{},{sync:!1}))}},{key:"specialTypeNames",value:function(U,J){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(U,J,ie)}},{key:"rootTypeName",value:function(U,J){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(U,J,ie)}},{key:"encapsulate",value:function(U,J,ie){var ke=ue(function(Fe,Ce){return G(Promise.all(Ce.map(function(Ne){return Ne[1].p})),function(Ne){return G(Promise.all(Ne.map(ue(function(Le){var Qe=!1,Dt=[],nr=u(Ce.splice(0,1),1),ir=u(nr[0],7),rn=ir[0],Ar=ir[2],Nt=ir[3],gn=ir[4],Lt=ir[5],vn=ir[6],Yr=De(rn,Le,Ar,Nt,Dt,!0,vn),Bt=T(Yr,b);return function(Oi,$t){var Ii=Oi();return Ii&&Ii.then?Ii.then($t):$t(Ii)}(function(){if(rn&&Bt)return G(Yr.p,function(yr){return gn[Lt]=yr,Qe=!0,ke(Fe,Dt)})},function(yr){return Qe?yr:(rn?gn[Lt]=Yr:Fe=Bt?Yr.p:Yr,ke(Fe,Dt))})}))),function(){return Fe})})}),Ve=(ie=_(_({sync:!0},this.options),ie)).sync,ut=this,Ye={},vt=[],te=[],ae=[],de=!("cyclic"in ie)||ie.cyclic,Ee=ie.encapsulateObserver,Be=De("",U,de,J||{},ae);function We(Fe){var Ce=Object.values(Ye);if(ie.iterateNone)return Ce.length?Ce[0]:L.getJSONType(Fe);if(Ce.length){if(ie.returnTypeNames)return f(new Set(Ce));Fe&&R(Fe)&&!K.call(Fe,"$types")?Fe.$types=Ye:Fe={$:Fe,$types:{$:Ye}}}else P(Fe)&&K.call(Fe,"$types")&&(Fe={$:Fe,$types:!0});return!ie.returnTypeNames&&Fe}function Ze(Fe,Ce,Ne){Object.assign(Fe,Ce);var Le=Q.map(function(Qe){var Dt=Fe[Qe];return delete Fe[Qe],Dt});Ne(),Q.forEach(function(Qe,Dt){Fe[Qe]=Le[Dt]})}function De(Fe,Ce,Ne,Le,Qe,Dt,nr){var ir,rn={},Ar=d(Ce),Nt=Ee?function(Ts){var $n=nr||Le.type||L.getJSONType(Ce);Ee(Object.assign(Ts||rn,{keypath:Fe,value:Ce,cyclic:Ne,stateObj:Le,promisesData:Qe,resolvingTypesonPromise:Dt,awaitingTypesonPromise:T(Ce,b)},{type:$n}))}:null;if(["string","boolean","number","undefined"].includes(Ar))return Ce===void 0||Number.isNaN(Ce)||Ce===Number.NEGATIVE_INFINITY||Ce===Number.POSITIVE_INFINITY?(ir=Le.replaced?Ce:Je(Fe,Ce,Le,Qe,!1,Dt,Nt))!==Ce&&(rn={replaced:ir}):ir=Ce,Nt&&Nt(),ir;if(Ce===null)return Nt&&Nt(),Ce;if(Ne&&!Le.iterateIn&&!Le.iterateUnsetNumeric&&Ce&&d(Ce)==="object"){var gn=vt.indexOf(Ce);if(!(gn<0))return Ye[Fe]="#",Nt&&Nt({cyclicKeypath:te[gn]}),"#"+te[gn];Ne===!0&&(vt.push(Ce),te.push(Fe))}var Lt,vn=R(Ce),Yr=$(Ce),Bt=(vn||Yr)&&(!ut.plainObjectReplacers.length||Le.replaced)||Le.iterateIn?Ce:Je(Fe,Ce,Le,Qe,vn||Yr,null,Nt);if(Bt!==Ce?(ir=Bt,rn={replaced:Bt}):Fe===""&&T(Ce,b)?(Qe.push([Fe,Ce,Ne,Le,void 0,void 0,Le.type]),ir=Ce):Yr&&Le.iterateIn!=="object"||Le.iterateIn==="array"?(Lt=new Array(Ce.length),rn={clone:Lt}):(["function","symbol"].includes(d(Ce))||"toJSON"in Ce||T(Ce,b)||T(Ce,Promise)||T(Ce,ArrayBuffer))&&!vn&&Le.iterateIn!=="object"?ir=Ce:(Lt={},Le.addLength&&(Lt.length=Ce.length),rn={clone:Lt}),Nt&&Nt(),ie.iterateNone)return Lt||ir;if(!Lt)return ir;if(Le.iterateIn){var yr=function($n){var ho={ownKeys:K.call(Ce,$n)};Ze(Le,ho,function(){var Ds=Fe+(Fe?".":"")+O($n),lf=De(Ds,Ce[$n],!!Ne,Le,Qe,Dt);T(lf,b)?Qe.push([Ds,lf,!!Ne,Le,Lt,$n,Le.type]):lf!==void 0&&(Lt[$n]=lf)})};for(var Oi in Ce)yr(Oi);Nt&&Nt({endIterateIn:!0,end:!0})}else j(Ce).forEach(function(Ts){var $n=Fe+(Fe?".":"")+O(Ts);Ze(Le,{ownKeys:!0},function(){var ho=De($n,Ce[Ts],!!Ne,Le,Qe,Dt);T(ho,b)?Qe.push([$n,ho,!!Ne,Le,Lt,Ts,Le.type]):ho!==void 0&&(Lt[Ts]=ho)})}),Nt&&Nt({endIterateOwn:!0,end:!0});if(Le.iterateUnsetNumeric){for(var $t=Ce.length,Ii=function($n){if(!($n in Ce)){var ho=Fe+(Fe?".":"")+$n;Ze(Le,{ownKeys:!1},function(){var Ds=De(ho,void 0,!!Ne,Le,Qe,Dt);T(Ds,b)?Qe.push([ho,Ds,!!Ne,Le,Lt,$n,Le.type]):Ds!==void 0&&(Lt[$n]=Ds)})}},Kl=0;Kl<$t;Kl++)Ii(Kl);Nt&&Nt({endIterateUnsetNumeric:!0,end:!0})}return Lt}function Je(Fe,Ce,Ne,Le,Qe,Dt,nr){for(var ir=Qe?ut.plainObjectReplacers:ut.nonplainObjectReplacers,rn=ir.length;rn--;){var Ar=ir[rn];if(Ar.test(Ce,Ne)){var Nt=Ar.type;if(ut.revivers[Nt]){var gn=Ye[Fe];Ye[Fe]=gn?[Nt].concat(gn):Nt}return Object.assign(Ne,{type:Nt,replaced:!0}),!Ve&&Ar.replaceAsync||Ar.replace?(nr&&nr({replacing:!0}),De(Fe,Ar[Ve||!Ar.replaceAsync?"replace":"replaceAsync"](Ce,Ne),de&&"readonly",Ne,Le,Dt,Nt)):(nr&&nr({typeDetected:!0}),De(Fe,Ce,de&&"readonly",Ne,Le,Dt,Nt))}}return Ce}return ae.length?Ve&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(ke(Be,ae)).then(We):!Ve&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&Ve?[We(Be)]:Ve?We(Be):Promise.resolve(We(Be))}},{key:"encapsulateSync",value:function(U,J,ie){return this.encapsulate(U,J,_(_({throwOnBadSyncType:!0},ie),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(U,J,ie){return this.encapsulate(U,J,_(_({throwOnBadSyncType:!0},ie),{},{sync:!1}))}},{key:"revive",value:function(U,J){var ie=U&&U.$types;if(!ie)return U;if(ie===!0)return U.$;var ke=(J=_(_({sync:!0},this.options),J)).sync,Ve=[],ut={},Ye=!0;ie.$&&R(ie.$)&&(U=U.$,ie=ie.$,Ye=!1);var vt=this;function te(We,Ze){var De=u(vt.revivers[We]||[],1)[0];if(!De)throw new Error("Unregistered type: "+We);return ke&&!("revive"in De)?Ze:De[ke&&De.revive?"revive":!ke&&De.reviveAsync?"reviveAsync":"revive"](Ze,ut)}var ae=[];function de(We){return T(We,he)?void 0:We}var Ee,Be=function(){var Ze=[];if(Object.entries(ie).forEach(function(De){var Je=u(De,2),Fe=Je[0],Ce=Je[1];Ce!=="#"&&[].concat(Ce).forEach(function(Ne){u(vt.revivers[Ne]||[null,{}],2)[1].plain&&(Ze.push({keypath:Fe,type:Ne}),delete ie[Fe])})}),Ze.length)return Ze.sort(pe).reduce(function De(Je,Fe){var Ce=Fe.keypath,Ne=Fe.type;if(D(Je))return Je.then(function(Dt){return De(Dt,{keypath:Ce,type:Ne})});var Le=k(U,Ce);if(T(Le=te(Ne,Le),b))return Le.then(function(Dt){var nr=W(U,Ce,Dt);nr===Dt&&(U=nr)});var Qe=W(U,Ce,Le);Qe===Le&&(U=Qe)},void 0)}();return T(Be,b)?Ee=Be.then(function(){return U}):(Ee=function We(Ze,De,Je,Fe,Ce){if(!Ye||Ze!=="$types"){var Ne=ie[Ze],Le=$(De);if(Le||R(De)){var Qe=Le?new Array(De.length):{};for(j(De).forEach(function(Lt){var vn=We(Ze+(Ze?".":"")+O(Lt),De[Lt],Je||Qe,Qe,Lt),Yr=function(yr){return T(yr,he)?Qe[Lt]=void 0:yr!==void 0&&(Qe[Lt]=yr),yr};T(vn,b)?ae.push(vn.then(function(Bt){return Yr(Bt)})):Yr(vn)}),De=Qe;Ve.length;){var Dt=u(Ve[0],4),nr=Dt[0],ir=Dt[1],rn=Dt[2],Ar=Dt[3],Nt=k(nr,ir);if(Nt===void 0)break;rn[Ar]=Nt,Ve.splice(0,1)}}if(!Ne)return De;if(Ne==="#"){var gn=k(Je,De.slice(1));return gn===void 0&&Ve.push([Je,De.slice(1),Fe,Ce]),gn}return[].concat(Ne).reduce(function Lt(vn,Yr){return T(vn,b)?vn.then(function(Bt){return Lt(Bt,Yr)}):te(Yr,vn)},De)}}("",U,null),ae.length&&(Ee=b.resolve(Ee).then(function(We){return b.all([We].concat(ae))}).then(function(We){return u(We,1)[0]}))),D(Ee)?ke&&J.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():T(Ee,b)?Ee.p.then(de):Ee:!ke&&J.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ke?de(Ee):Promise.resolve(de(Ee))}},{key:"reviveSync",value:function(U,J){return this.revive(U,_(_({throwOnBadSyncType:!0},J),{},{sync:!0}))}},{key:"reviveAsync",value:function(U,J){return this.revive(U,_(_({throwOnBadSyncType:!0},J),{},{sync:!1}))}},{key:"register",value:function(U,J){return J=J||{},[].concat(U).forEach(function ie(ke){var Ve=this;if($(ke))return ke.map(function(ut){return ie.call(Ve,ut)});ke&&j(ke).forEach(function(ut){if(ut==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(L.JSON_TYPES.includes(ut))throw new TypeError("Plain JSON object types are reserved as type names");var Ye=ke[ut],vt=Ye&&Ye.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,te=vt.filter(function(Ze){return Ze.type===ut});if(te.length&&(vt.splice(vt.indexOf(te[0]),1),delete this.revivers[ut],delete this.types[ut]),typeof Ye=="function"){var ae=Ye;Ye={test:function(De){return De&&De.constructor===ae},replace:function(De){return _({},De)},revive:function(De){return Object.assign(Object.create(ae.prototype),De)}}}else if($(Ye)){var de=u(Ye,3);Ye={test:de[0],replace:de[1],revive:de[2]}}if(Ye&&Ye.test){var Ee={type:ut,test:Ye.test.bind(Ye)};Ye.replace&&(Ee.replace=Ye.replace.bind(Ye)),Ye.replaceAsync&&(Ee.replaceAsync=Ye.replaceAsync.bind(Ye));var Be=typeof J.fallback=="number"?J.fallback:J.fallback?0:Number.POSITIVE_INFINITY;if(Ye.testPlainObjects?this.plainObjectReplacers.splice(Be,0,Ee):this.nonplainObjectReplacers.splice(Be,0,Ee),Ye.revive||Ye.reviveAsync){var We={};Ye.revive&&(We.revive=Ye.revive.bind(Ye)),Ye.reviveAsync&&(We.reviveAsync=Ye.reviveAsync.bind(Ye)),this.revivers[ut]=[We,{plain:Ye.testPlainObjects}]}this.types[ut]=Ye}},this)},this),this}}]),L}(),he=function L(){h(this,L)};he.__typeson__type__="TypesonUndefined",oe.Undefined=he,oe.Promise=b,oe.isThenable=D,oe.toStringTag=C,oe.hasConstructorOf=T,oe.isObject=P,oe.isPlainObject=R,oe.isUserObject=function L(B){if(!B||C(B)!=="Object")return!1;var U=S(B);return!U||T(B,Object)||L(U)},oe.escapeKeyPathComponent=O,oe.unescapeKeyPathComponent=I,oe.getByKeyPath=k,oe.getJSONType=function(B){return B===null?"null":Array.isArray(B)?"array":d(B)},oe.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Y={userObject:{test:function(B,U){return oe.isUserObject(B)},replace:function(B){return function(J){for(var ie=1;ie<arguments.length;ie++){var ke=arguments[ie]!=null?arguments[ie]:{};ie%2?a(Object(ke),!0).forEach(function(Ve){o(J,Ve,ke[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ke)):a(Object(ke)).forEach(function(Ve){Object.defineProperty(J,Ve,Object.getOwnPropertyDescriptor(ke,Ve))})}return J}({},B)},revive:function(B){return B}}},z=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(B,U){return!!Array.isArray(B)&&(Object.keys(B).some(function(J){return String(Number.parseInt(J))!==J})&&(U.iterateIn="object",U.addLength=!0),!0)},replace:function(B,U){return U.iterateUnsetNumeric=!0,B},revive:function(B){if(Array.isArray(B))return B;var U=[];return Object.keys(B).forEach(function(J){var ie=B[J];U[J]=ie}),U}}},{sparseUndefined:{test:function(B,U){return B===void 0&&U.ownKeys===!1},replace:function(B){return 0},revive:function(B){}}}],V={undef:{test:function(B,U){return B===void 0&&(U.ownKeys||!("ownKeys"in U))},replace:function(B){return 0},revive:function(B){return new oe.Undefined}}},H={StringObject:{test:function(B){return oe.toStringTag(B)==="String"&&r(B)==="object"},replace:function(B){return String(B)},revive:function(B){return new String(B)}},BooleanObject:{test:function(B){return oe.toStringTag(B)==="Boolean"&&r(B)==="object"},replace:function(B){return!!B},revive:function(B){return new Boolean(B)}},NumberObject:{test:function(B){return oe.toStringTag(B)==="Number"&&r(B)==="object"},replace:function(B){return Number(B)},revive:function(B){return new Number(B)}}},re=[{nan:{test:function(B){return Number.isNaN(B)},replace:function(B){return"NaN"},revive:function(B){return Number.NaN}}},{infinity:{test:function(B){return B===Number.POSITIVE_INFINITY},replace:function(B){return"Infinity"},revive:function(B){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(B){return B===Number.NEGATIVE_INFINITY},replace:function(B){return"-Infinity"},revive:function(B){return Number.NEGATIVE_INFINITY}}}],ne={date:{test:function(B){return oe.toStringTag(B)==="Date"},replace:function(B){var U=B.getTime();return Number.isNaN(U)?"NaN":U},revive:function(B){return B==="NaN"?new Date(Number.NaN):new Date(B)}}},_e={regexp:{test:function(B){return oe.toStringTag(B)==="RegExp"},replace:function(B){return{source:B.source,flags:(B.global?"g":"")+(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.sticky?"y":"")+(B.unicode?"u":"")}},revive:function(B){var U=B.source,J=B.flags;return new RegExp(U,J)}}},be={map:{test:function(B){return oe.toStringTag(B)==="Map"},replace:function(B){return l(B.entries())},revive:function(B){return new Map(B)}}},xe={set:{test:function(B){return oe.toStringTag(B)==="Set"},replace:function(B){return l(B.values())},revive:function(B){return new Set(B)}}},Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt=new Uint8Array(256),xt=0;xt<Se.length;xt++)dt[Se.charCodeAt(xt)]=xt;var X=function(B,U,J){J==null&&(J=B.byteLength);for(var ie=new Uint8Array(B,U||0,J),ke=ie.length,Ve="",ut=0;ut<ke;ut+=3)Ve+=Se[ie[ut]>>2],Ve+=Se[(3&ie[ut])<<4|ie[ut+1]>>4],Ve+=Se[(15&ie[ut+1])<<2|ie[ut+2]>>6],Ve+=Se[63&ie[ut+2]];return ke%3==2?Ve=Ve.slice(0,-1)+"=":ke%3==1&&(Ve=Ve.slice(0,-2)+"=="),Ve},se=function(B){var U,J,ie,ke,Ve=B.length,ut=.75*B.length,Ye=0;B[B.length-1]==="="&&(ut--,B[B.length-2]==="="&&ut--);for(var vt=new ArrayBuffer(ut),te=new Uint8Array(vt),ae=0;ae<Ve;ae+=4)U=dt[B.charCodeAt(ae)],J=dt[B.charCodeAt(ae+1)],ie=dt[B.charCodeAt(ae+2)],ke=dt[B.charCodeAt(ae+3)],te[Ye++]=U<<2|J>>4,te[Ye++]=(15&J)<<4|ie>>2,te[Ye++]=(3&ie)<<6|63&ke;return vt},le={arraybuffer:{test:function(B){return oe.toStringTag(B)==="ArrayBuffer"},replace:function(B,U){U.buffers||(U.buffers=[]);var J=U.buffers.indexOf(B);return J>-1?{index:J}:(U.buffers.push(B),X(B))},revive:function(B,U){if(U.buffers||(U.buffers=[]),r(B)==="object")return U.buffers[B.index];var J=se(B);return U.buffers.push(J),J}}},Ae=typeof self>"u"?D2:self,ve={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(L){var B=L,U=Ae[B];U&&(ve[L.toLowerCase()]={test:function(ie){return oe.toStringTag(ie)===B},replace:function(ie,ke){var Ve=ie.buffer,ut=ie.byteOffset,Ye=ie.length;ke.buffers||(ke.buffers=[]);var vt=ke.buffers.indexOf(Ve);return vt>-1?{index:vt,byteOffset:ut,length:Ye}:(ke.buffers.push(Ve),{encoded:X(Ve),byteOffset:ut,length:Ye})},revive:function(ie,ke){ke.buffers||(ke.buffers=[]);var Ve,ut=ie.byteOffset,Ye=ie.length,vt=ie.encoded,te=ie.index;return"index"in ie?Ve=ke.buffers[te]:(Ve=se(vt),ke.buffers.push(Ve)),new U(Ve,ut,Ye)}})});var ye={dataview:{test:function(B){return oe.toStringTag(B)==="DataView"},replace:function(B,U){var J=B.buffer,ie=B.byteOffset,ke=B.byteLength;U.buffers||(U.buffers=[]);var Ve=U.buffers.indexOf(J);return Ve>-1?{index:Ve,byteOffset:ie,byteLength:ke}:(U.buffers.push(J),{encoded:X(J),byteOffset:ie,byteLength:ke})},revive:function(B,U){U.buffers||(U.buffers=[]);var J,ie=B.byteOffset,ke=B.byteLength,Ve=B.encoded,ut=B.index;return"index"in B?J=U.buffers[ut]:(J=se(Ve),U.buffers.push(J)),new DataView(J,ie,ke)}}},Te={IntlCollator:{test:function(B){return oe.hasConstructorOf(B,Intl.Collator)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.Collator(B.locale,B)}},IntlDateTimeFormat:{test:function(B){return oe.hasConstructorOf(B,Intl.DateTimeFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.DateTimeFormat(B.locale,B)}},IntlNumberFormat:{test:function(B){return oe.hasConstructorOf(B,Intl.NumberFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.NumberFormat(B.locale,B)}}};function Re(L){for(var B=new Uint8Array(L.length),U=0;U<L.length;U++)B[U]=L.charCodeAt(U);return B.buffer}var je={file:{test:function(B){return oe.toStringTag(B)==="File"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad File access: "+U.status);return{type:B.type,stringContents:U.responseText,name:B.name,lastModified:B.lastModified}},revive:function(B){var U=B.name,J=B.type,ie=B.stringContents,ke=B.lastModified;return new File([Re(ie)],U,{type:J,lastModified:ke})},replaceAsync:function(B){return new oe.Promise(function(U,J){var ie=new FileReader;ie.addEventListener("load",function(){U({type:B.type,stringContents:ie.result,name:B.name,lastModified:B.lastModified})}),ie.addEventListener("error",function(){J(ie.error)}),ie.readAsBinaryString(B)})}}},ft={bigint:{test:function(B){return typeof B=="bigint"},replace:function(B){return String(B)},revive:function(B){return BigInt(B)}}},Et={bigintObject:{test:function(B){return r(B)==="object"&&oe.hasConstructorOf(B,BigInt)},replace:function(B){return String(B)},revive:function(B){return new Object(BigInt(B))}}},Ke={cryptokey:{test:function(B){return oe.toStringTag(B)==="CryptoKey"&&B.extractable},replaceAsync:function(B){return new oe.Promise(function(U,J){crypto.subtle.exportKey("jwk",B).catch(function(ie){J(ie)}).then(function(ie){U({jwk:ie,algorithm:B.algorithm,usages:B.usages})})})},revive:function(B){var U=B.jwk,J=B.algorithm,ie=B.usages;return crypto.subtle.importKey("jwk",U,J,!0,ie)}}};return[Y,V,z,H,re,ne,_e,{imagedata:{test:function(B){return oe.toStringTag(B)==="ImageData"},replace:function(B){return{array:l(B.data),width:B.width,height:B.height}},revive:function(B){return new ImageData(new Uint8ClampedArray(B.array),B.width,B.height)}}},{imagebitmap:{test:function(B){return oe.toStringTag(B)==="ImageBitmap"||B&&B.dataset&&B.dataset.toStringTag==="ImageBitmap"},replace:function(B){var U=document.createElement("canvas");return U.getContext("2d").drawImage(B,0,0),U.toDataURL()},revive:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ie=document.createElement("img");return ie.addEventListener("load",function(){J.drawImage(ie,0,0)}),ie.src=B,U},reviveAsync:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ie=document.createElement("img");return ie.addEventListener("load",function(){J.drawImage(ie,0,0)}),ie.src=B,createImageBitmap(U)}}},je,{file:je.file,filelist:{test:function(B){return oe.toStringTag(B)==="FileList"},replace:function(B){for(var U=[],J=0;J<B.length;J++)U[J]=B.item(J);return U},revive:function(B){return new(function(){function U(){n(this,U),this._files=arguments[0],this.length=this._files.length}return function(ie,ke,Ve){return ke&&s(ie.prototype,ke),Ve&&s(ie,Ve),ie}(U,[{key:"item",value:function(ie){return this._files[ie]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),U}())(B)}}},{blob:{test:function(B){return oe.toStringTag(B)==="Blob"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad Blob access: "+U.status);return{type:B.type,stringContents:U.responseText}},revive:function(B){var U=B.type,J=B.stringContents;return new Blob([Re(J)],{type:U})},replaceAsync:function(B){return new oe.Promise(function(U,J){var ie=new FileReader;ie.addEventListener("load",function(){U({type:B.type,stringContents:ie.result})}),ie.addEventListener("error",function(){J(ie.error)}),ie.readAsBinaryString(B)})}}}].concat(typeof Map=="function"?be:[],typeof Set=="function"?xe:[],typeof ArrayBuffer=="function"?le:[],typeof Uint8Array=="function"?ve:[],typeof DataView=="function"?ye:[],typeof Intl<"u"?Te:[],typeof crypto<"u"?Ke:[],typeof BigInt<"u"?[ft,Et]:[])})}),ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ig=new Uint8Array(256);for(var J0=0;J0<ah.length;J0++)ig[ah.codePointAt(J0)]=J0;var P2=function(e,r,n){n==null&&(n=e.byteLength);for(var s=new Uint8Array(e,r||0,n),o=s.length,a="",l=0;l<o;l+=3)a+=ah[s[l]>>2],a+=ah[(s[l]&3)<<4|s[l+1]>>4],a+=ah[(s[l+1]&15)<<2|s[l+2]>>6],a+=ah[s[l+2]&63];return o%3===2?a=a.slice(0,-1)+"=":o%3===1&&(a=a.slice(0,-2)+"=="),a},jK=function(e){var r=e.length,n=e.length*.75,s=0,o,a,l,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);for(var d=new ArrayBuffer(n),h=new Uint8Array(d),m=0;m<r;m+=4)o=ig[e.codePointAt(m)],a=ig[e.codePointAt(m+1)],l=ig[e.codePointAt(m+2)],c=ig[e.codePointAt(m+3)],h[s++]=o<<2|a>>4,h[s++]=(a&15)<<4|l>>2,h[s++]=(l&3)<<6|c&63;return d},nSe=typeof self>"u"?global:self,zK={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,r=nSe[e];r&&(zK[t.toLowerCase()+"2"]={test:function(n){return $E.toStringTag(n)===e},replace:function(n){var s=n.buffer,o=n.byteOffset,a=n.length;return{buffer:s,byteOffset:o,length:a}},revive:function(n){var s=n.buffer,o=n.byteOffset,a=n.length;return new r(s,o,a)}})});var iSe={arraybuffer:{test:function(t){return $E.toStringTag(t)==="ArrayBuffer"},replace:function(t){return P2(t,0,t.byteLength)},revive:function(t){var e=jK(t);return e}}},$s=new $E().register(rSe),sSe="FileReaderSync"in self,W1=[],ow=0;$s.register([iSe,zK,{blob2:{test:function(t){return $E.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(sSe){var e=$K(t,"binary"),r=P2(e,0,e.byteLength);return{type:t.type,data:r}}else{W1.push(t);var n={type:t.type,data:{start:ow,end:ow+t.size}};return ow+=t.size,n}},finalize:function(t,e){t.data=P2(e,0,e.byteLength)},revive:function(t){var e=t.type,r=t.data;return new Blob([jK(r)],{type:e})}}}]);$s.mustFinalize=function(){return W1.length>0};$s.finalize=function(t){return sc(void 0,void 0,void 0,function(){var e,r,n,s,o,a,l,c,d,h,m,g;return Po(this,function(y){switch(y.label){case 0:return[4,UK(new Blob(W1),"binary")];case 1:if(e=y.sent(),t){for(r=0,n=t;r<n.length;r++)if(s=n[r],s.$types){o=s.$types,a=o.$,a&&(o=o.$);for(l in o)c=o[l],d=$s.types[c],d&&d.finalize&&(h=cn.getByKeyPath(s,a?"$."+l:l),d.finalize(h,e.slice((m=h.data)===null||m===void 0?void 0:m.start,(g=h.data)===null||g===void 0?void 0:g.end)))}}return W1=[],ow=0,[2]}})})};var oSe=2e3;function aSe(t,e){return sc(this,void 0,void 0,function(){function r(){return sc(this,void 0,void 0,function(){var m,g,y,_,u,f,p,v,b,w;return Po(this,function(x){switch(x.label){case 0:return[4,Promise.all(s.map(function(S){return S.count()}))];case 1:m=x.sent(),m.forEach(function(S,A){return a[A].rowCount=S}),h.totalRows=m.reduce(function(S,A){return S+A}),g=JSON.stringify(c,void 0,l?2:void 0),y=g.lastIndexOf("]"),_=g.substring(0,y),o.push(_),u=e.filter,f=e.transform,p=function(S){var A,D,C,T,R,P,O,I,k,W,G,j;return Po(this,function($){switch($.label){case 0:A=t.table(S),D=A.schema.primKey,C=!!D.keyPath,T=e.numRowsPerChunk||oSe,R=C?{tableName:A.name,inbound:!0,rows:[]}:{tableName:A.name,inbound:!1,rows:[]},P=JSON.stringify(R,void 0,l?2:void 0),l&&(P=P.split("\n").join("\n    ")),O=P.lastIndexOf("]"),o.push(P.substring(0,O)),I=null,k=0,W=!0,G=function(){var K,Q,ue,pe,oe,V,he,Y,z,V;return Po(this,function(H){switch(H.label){case 0:return d&&cn.ignoreTransaction(function(){return d(h)}),K=I==null?A.limit(T):A.where(":id").above(I).limit(T),[4,K.toArray()];case 1:return Q=H.sent(),Q.length===0?[2,"break"]:(I!=null&&k>0&&(o.push(","),l&&o.push("\n      ")),W=Q.length===T,C?(ue=u?Q.filter(function(re){return u(S,re)}):Q,pe=f?ue.map(function(re){return f(S,re).value}):ue,oe=pe.map(function(re){return $s.encapsulate(re)}),$s.mustFinalize()?[4,cn.waitFor($s.finalize(oe))]:[3,3]):[3,4]);case 2:H.sent(),H.label=3;case 3:return V=JSON.stringify(oe,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),o.push(new Blob([V.substring(1,V.length-1)])),k=pe.length,I=Q.length>0?cn.getByKeyPath(Q[Q.length-1],D.keyPath):null,[3,8];case 4:return[4,K.primaryKeys()];case 5:return he=H.sent(),Y=he.map(function(re,ne){return[re,Q[ne]]}),u&&(Y=Y.filter(function(re){var ne=re[0],_e=re[1];return u(S,_e,ne)})),f&&(Y=Y.map(function(re){var ne=re[0],_e=re[1],be=f(S,_e,ne);return[be.key,be.value]})),z=Y.map(function(re){return $s.encapsulate(re)}),$s.mustFinalize()?[4,cn.waitFor($s.finalize(z))]:[3,7];case 6:H.sent(),H.label=7;case 7:V=JSON.stringify(z,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),o.push(new Blob([V.substring(1,V.length-1)])),k=Y.length,I=he.length>0?he[he.length-1]:null,H.label=8;case 8:return h.completedRows+=Q.length,[2]}})},$.label=1;case 1:return W?[5,G()]:[3,3];case 2:return j=$.sent(),j==="break"?[3,3]:[3,1];case 3:return o.push(P.substr(O)),h.completedTables+=1,h.completedTables<h.totalTables&&o.push(","),[2]}})},v=0,b=a,x.label=2;case 2:return v<b.length?(w=b[v].name,[5,p(w)]):[3,5];case 3:x.sent(),x.label=4;case 4:return v++,[3,2];case 5:return o.push(g.substr(y)),h.done=!0,d&&cn.ignoreTransaction(function(){return d(h)}),[2]}})})}var n,s,o,a,l,c,d,h;return Po(this,function(m){switch(m.label){case 0:e=e||{},n=e.skipTables?e.skipTables:[],s=t.tables.filter(function(g){return!n.includes(g.name)}),o=[],a=s.map(function(g){return{name:g.name,schema:eSe(g),rowCount:0}}),l=e.prettyJson,c={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:a,data:[]}},d=e.progressCallback,h={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:a.length},m.label=1;case 1:return m.trys.push([1,,6,7]),e.noTransaction?[4,r()]:[3,3];case 2:return m.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,r)];case 4:m.sent(),m.label=5;case 5:return[3,7];case 6:return $s.finalize(),[7];case 7:return[2,new Blob(o,{type:"text/json"})]}})})}var lSe=1,uSe={Stream:function(){}},cSe=XB(function(t,e){(function(r){var n=typeof process=="object"&&process.env?process.env:self;r.parser=function(C){return new y(C)},r.CParser=y,r.CStream=u,r.createStream=_,r.MAX_BUFFER_LENGTH=10*1024*1024,r.DEBUG=n.CDEBUG==="debug",r.INFO=n.CDEBUG==="debug"||n.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},o=r.EVENTS.filter(function(C){return C!=="error"&&C!=="end"}),a=0,l;r.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var c in r.STATE)r.STATE[r.STATE[c]]=c;a=r.STATE;const d={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(C){function T(){this.__proto__=C}return T.prototype=C,new T}),Object.getPrototypeOf||(Object.getPrototypeOf=function(C){return C.__proto__}),Object.keys||(Object.keys=function(C){var T=[];for(var R in C)C.hasOwnProperty(R)&&T.push(R);return T});function h(C){var T=Math.max(r.MAX_BUFFER_LENGTH,10),R=0;for(var P in s){var O=C[P]===void 0?0:C[P].length;if(O>T)switch(P){case"text":closeText(C);break;default:x(C,"Max buffer length exceeded: "+P)}R=Math.max(R,O)}C.bufferCheckPosition=r.MAX_BUFFER_LENGTH-R+C.position}function m(C){for(var T in s)C[T]=s[T]}var g=/[\\"\n]/g;function y(C){if(!(this instanceof y))return new y(C);var T=this;m(T),T.bufferCheckPosition=r.MAX_BUFFER_LENGTH,T.q=T.c=T.p="",T.opt=C||{},T.closed=T.closedRoot=T.sawRoot=!1,T.tag=T.error=null,T.state=a.BEGIN,T.stack=new Array,T.position=T.column=0,T.line=1,T.slashed=!1,T.unicodeI=0,T.unicodeS=null,T.depth=0,f(T,"onready")}y.prototype={end:function(){S(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=uSe.Stream}catch(C){l=function(){}}function _(C){return new u(C)}function u(C){if(!(this instanceof u))return new u(C);this._parser=new y(C),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var T=this;l.apply(T),this._parser.onend=function(){T.emit("end")},this._parser.onerror=function(R){T.emit("error",R),T._parser.error=null},o.forEach(function(R){Object.defineProperty(T,"on"+R,{get:function(){return T._parser["on"+R]},set:function(P){if(!P)return T.removeAllListeners(R),T._parser["on"+R]=P,P;T.on(R,P)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(l.prototype,{constructor:{value:u}}),u.prototype.write=function(C){C=new Buffer(C);for(var T=0;T<C.length;T++){var R=C[T];if(this.bytes_remaining>0){for(var P=0;P<this.bytes_remaining;P++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+P]=C[P];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,T=T+P-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&R>=128)if(R>=194&&R<=223&&(this.bytes_in_sequence=2),R>=224&&R<=239&&(this.bytes_in_sequence=3),R>=240&&R<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+T>C.length){for(var O=0;O<=C.length-1-T;O++)this.temp_buffs[this.bytes_in_sequence][O]=C[T+O];return this.bytes_remaining=T+this.bytes_in_sequence-C.length,!0}else{this.string=C.slice(T,T+this.bytes_in_sequence).toString(),T=T+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var I=T;I<C.length&&!(C[I]>=128);I++);this.string=C.slice(T,I).toString(),this._parser.write(this.string),this.emit("data",this.string),T=I-1}},u.prototype.end=function(C){return C&&C.length&&this._parser.write(C.toString()),this._parser.end(),!0},u.prototype.on=function(C,T){var R=this;return!R._parser["on"+C]&&o.indexOf(C)!==-1&&(R._parser["on"+C]=function(){var P=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,C),R.emit.apply(R,P)}),l.prototype.on.call(R,C,T)},u.prototype.destroy=function(){m(this._parser),this.emit("close")};function f(C,T,R){r.INFO&&console.log("-- emit",T,R),C[T]&&C[T](R)}function p(C,T,R){v(C),f(C,T,R)}function v(C,T){C.textNode=w(C.opt,C.textNode),C.textNode!==void 0&&f(C,T||"onvalue",C.textNode),C.textNode=void 0}function b(C){C.numberNode&&f(C,"onvalue",parseFloat(C.numberNode)),C.numberNode=""}function w(C,T){return T===void 0||(C.trim&&(T=T.trim()),C.normalize&&(T=T.replace(/\s+/g," "))),T}function x(C,T){return v(C),T+="\nLine: "+C.line+"\nColumn: "+C.column+"\nChar: "+C.c,T=new Error(T),C.error=T,f(C,"onerror",T),C}function S(C){return(C.state!==a.VALUE||C.depth!==0)&&x(C,"Unexpected end"),v(C),C.c="",C.closed=!0,f(C,"onend"),y.call(C,C.opt),C}function A(C){return C===d.carriageReturn||C===d.lineFeed||C===d.space||C===d.tab}function D(C){var T=this;if(this.error)throw this.error;if(T.closed)return x(T,"Cannot write after close. Assign an onready handler.");if(C===null)return S(T);var R=0,P=C.charCodeAt(0),O=T.p;for(r.DEBUG&&console.log("write -> ["+C+"]");P&&(O=P,T.c=P=C.charCodeAt(R++),O!==P?T.p=O:O=T.p,!!P);)switch(r.DEBUG&&console.log(R,P,r.STATE[T.state]),T.position++,P===d.lineFeed?(T.line++,T.column=0):T.column++,T.state){case a.BEGIN:P===d.openBrace?T.state=a.OPEN_OBJECT:P===d.openBracket?T.state=a.OPEN_ARRAY:A(P)||x(T,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(A(P))continue;if(T.state===a.OPEN_KEY)T.stack.push(a.CLOSE_KEY);else if(P===d.closeBrace){f(T,"onopenobject"),this.depth++,f(T,"oncloseobject"),this.depth--,T.state=T.stack.pop()||a.VALUE;continue}else T.stack.push(a.CLOSE_OBJECT);P===d.doubleQuote?T.state=a.STRING:x(T,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(A(P))continue;T.state,a.CLOSE_KEY,P===d.colon?(T.state===a.CLOSE_OBJECT?(T.stack.push(a.CLOSE_OBJECT),v(T,"onopenobject"),this.depth++):v(T,"onkey"),T.state=a.VALUE):P===d.closeBrace?(p(T,"oncloseobject"),this.depth--,T.state=T.stack.pop()||a.VALUE):P===d.comma?(T.state===a.CLOSE_OBJECT&&T.stack.push(a.CLOSE_OBJECT),v(T),T.state=a.OPEN_KEY):x(T,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(A(P))continue;if(T.state===a.OPEN_ARRAY)if(f(T,"onopenarray"),this.depth++,T.state=a.VALUE,P===d.closeBracket){f(T,"onclosearray"),this.depth--,T.state=T.stack.pop()||a.VALUE;continue}else T.stack.push(a.CLOSE_ARRAY);P===d.doubleQuote?T.state=a.STRING:P===d.openBrace?T.state=a.OPEN_OBJECT:P===d.openBracket?T.state=a.OPEN_ARRAY:P===d.t?T.state=a.TRUE:P===d.f?T.state=a.FALSE:P===d.n?T.state=a.NULL:P===d.minus?T.numberNode+="-":d._0<=P&&P<=d._9?(T.numberNode+=String.fromCharCode(P),T.state=a.NUMBER_DIGIT):x(T,"Bad value");continue;case a.CLOSE_ARRAY:if(P===d.comma)T.stack.push(a.CLOSE_ARRAY),v(T,"onvalue"),T.state=a.VALUE;else if(P===d.closeBracket)p(T,"onclosearray"),this.depth--,T.state=T.stack.pop()||a.VALUE;else{if(A(P))continue;x(T,"Bad array")}continue;case a.STRING:T.textNode===void 0&&(T.textNode="");var I=R-1,k=T.slashed,W=T.unicodeI;e:for(;;){for(r.DEBUG&&console.log(R,P,r.STATE[T.state],k);W>0;)if(T.unicodeS+=String.fromCharCode(P),P=C.charCodeAt(R++),T.position++,W===4?(T.textNode+=String.fromCharCode(parseInt(T.unicodeS,16)),W=0,I=R-1):W++,!P)break e;if(P===d.doubleQuote&&!k){T.state=T.stack.pop()||a.VALUE,T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}if(P===d.backslash&&!k&&(k=!0,T.textNode+=C.substring(I,R-1),T.position+=R-1-I,P=C.charCodeAt(R++),T.position++,!P))break;if(k){if(k=!1,P===d.n?T.textNode+="\n":P===d.r?T.textNode+="\r":P===d.t?T.textNode+="	":P===d.f?T.textNode+="\f":P===d.b?T.textNode+="\b":P===d.u?(W=1,T.unicodeS=""):T.textNode+=String.fromCharCode(P),P=C.charCodeAt(R++),T.position++,I=R-1,P)continue;break}g.lastIndex=R;var G=g.exec(C);if(G===null){R=C.length+1,T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}if(R=G.index+1,P=C.charCodeAt(G.index),!P){T.textNode+=C.substring(I,R-1),T.position+=R-1-I;break}}T.slashed=k,T.unicodeI=W;continue;case a.TRUE:P===d.r?T.state=a.TRUE2:x(T,"Invalid true started with t"+P);continue;case a.TRUE2:P===d.u?T.state=a.TRUE3:x(T,"Invalid true started with tr"+P);continue;case a.TRUE3:P===d.e?(f(T,"onvalue",!0),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid true started with tru"+P);continue;case a.FALSE:P===d.a?T.state=a.FALSE2:x(T,"Invalid false started with f"+P);continue;case a.FALSE2:P===d.l?T.state=a.FALSE3:x(T,"Invalid false started with fa"+P);continue;case a.FALSE3:P===d.s?T.state=a.FALSE4:x(T,"Invalid false started with fal"+P);continue;case a.FALSE4:P===d.e?(f(T,"onvalue",!1),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid false started with fals"+P);continue;case a.NULL:P===d.u?T.state=a.NULL2:x(T,"Invalid null started with n"+P);continue;case a.NULL2:P===d.l?T.state=a.NULL3:x(T,"Invalid null started with nu"+P);continue;case a.NULL3:P===d.l?(f(T,"onvalue",null),T.state=T.stack.pop()||a.VALUE):x(T,"Invalid null started with nul"+P);continue;case a.NUMBER_DECIMAL_POINT:P===d.period?(T.numberNode+=".",T.state=a.NUMBER_DIGIT):x(T,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:d._0<=P&&P<=d._9?T.numberNode+=String.fromCharCode(P):P===d.period?(T.numberNode.indexOf(".")!==-1&&x(T,"Invalid number has two dots"),T.numberNode+="."):P===d.e||P===d.E?((T.numberNode.indexOf("e")!==-1||T.numberNode.indexOf("E")!==-1)&&x(T,"Invalid number has two exponential"),T.numberNode+="e"):P===d.plus||P===d.minus?(O===d.e||O===d.E||x(T,"Invalid symbol in number"),T.numberNode+=String.fromCharCode(P)):(b(T),R--,T.state=T.stack.pop()||a.VALUE);continue;default:x(T,"Unknown state: "+T.state)}return T.position>=T.bufferCheckPosition&&h(T),T}})(e)});function dSe(t){var e=0,r=fSe(!0),n={pullAsync:function(s){return sc(this,void 0,void 0,function(){var o,a,l;return Po(this,function(c){switch(c.label){case 0:return o=t.slice(e,e+s),e+=s,[4,UK(o,"text")];case 1:return a=c.sent(),l=r.write(a),n.result=l||{},[2,l]}})})},pullSync:function(s){var o=t.slice(e,e+s);e+=s;var a=$K(o,"text"),l=r.write(a);return n.result=l||{},l},done:function(){return r.done()},eof:function(){return e>=t.size},result:{}};return n}function fSe(t){var e=cSe.parser(),r=0,n,s=[],o,a,l=!1,c=!1;return e.onopenobject=function(d){var h={};h.incomplete=!0,n||(n=h),o&&(s.push([a,o,c]),t&&(c?o.push(h):o[a]=h)),o=h,a=d,c=!1,++r},e.onkey=function(d){return a=d},e.onvalue=function(d){return c?o.push(d):o[a]=d},e.oncloseobject=function(){var d;if(delete o.incomplete,a=null,--r===0)l=!0;else{var h=o;d=s.pop(),a=d[0],o=d[1],c=d[2],t||(c?o.push(h):o[a]=h)}},e.onopenarray=function(){var d=[];d.incomplete=!0,n||(n=d),o&&(s.push([a,o,c]),t&&(c?o.push(d):o[a]=d)),o=d,c=!0,a=null,++r},e.onclosearray=function(){var d;if(delete o.incomplete,a=null,--r===0)l=!0;else{var h=o;d=s.pop(),a=d[0],o=d[1],c=d[2],t||(c?o.push(h):o[a]=h)}},{write:function(d){return e.write(d),n},done:function(){return l}}}var GK=1024;function hSe(t,e){return sc(this,void 0,void 0,function(){var r,n,s,o;return Po(this,function(a){switch(a.label){case 0:return e=e||{},r=e.chunkSizeBytes||GK*1024,[4,HK(t,r)];case 1:return n=a.sent(),s=n.result.data,o=new cn(e.name!==void 0?e.name:s.databaseName),o.version(s.databaseVersion).stores(tSe(s)),[4,VK(o,n,e.name!==void 0?H1(H1({},e),{acceptNameDiff:!0}):e)];case 2:return a.sent(),[2,o]}})})}function VK(t,e,r){return sc(this,void 0,void 0,function(){function n(){return sc(this,void 0,void 0,function(){var u,f,p,v,b;return Po(this,function(w){switch(w.label){case 0:u=function(x){var S,A,D,C,T,R,P,O,I,k,W,G,j;return Po(this,function($){switch($.label){case 0:if(d.includes(x.tableName))return[2,"continue"];if(!x.rows)return[2,"break"];if(!x.rows.incomplete&&x.rows.length===0)return[2,"continue"];if(h&&cn.ignoreTransaction(function(){return h(m)}),S=x.tableName,A=t.table(S),D=c.tables.filter(function(K){return K.name===S})[0].schema,!A){if(r.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(x.tableName," is missing in installed database"))}if(!r.acceptChangedPrimaryKey&&D.split(",")[0]!=A.schema.primKey.src)throw new Error("Primary key differs for table ".concat(x.tableName,". "));for(C=x.rows,T=[],R=0;R<C.length&&(P=C[R],!P.incomplete);R++)T.push($s.revive(P));return O=r.filter,I=r.transform,k=O?x.inbound?T.filter(function(K){return O(S,K)}):T.filter(function(K){var Q=K[0],ue=K[1];return O(S,ue,Q)}):T,I&&(k=k.map(x.inbound?function(K){return I(S,K).value}:function(K){var Q=K[0],ue=K[1],pe=I(S,ue,Q);return[pe.key,pe.value]})),W=x.inbound?[void 0,k]:[k.map(function(K){return K[0]}),T.map(function(K){return K[1]})],G=W[0],j=W[1],r.overwriteValues?[4,A.bulkPut(j,G)]:[3,2];case 1:return $.sent(),[3,4];case 2:return[4,A.bulkAdd(j,G)];case 3:$.sent(),$.label=4;case 4:return m.completedRows+=T.length,T.incomplete||(m.completedTables+=1),C.splice(0,T.length),[2]}})},f=0,p=c.data,w.label=1;case 1:return f<p.length?(v=p[f],[5,u(v)]):[3,4];case 2:if(b=w.sent(),b==="break")return[3,4];w.label=3;case 3:return f++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!o.done()&&!o.eof()?l?(o.pullSync(s),[3,7]):[3,5]:[3,8];case 5:return[4,cn.waitFor(o.pullAsync(s))];case 6:w.sent(),w.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var s,o,a,l,c,d,h,m,g,y,_;return Po(this,function(u){switch(u.label){case 0:return r=r||{},s=r.chunkSizeBytes||GK*1024,[4,HK(e,s)];case 1:if(o=u.sent(),a=o.result,l="FileReaderSync"in self,c=a.data,d=r.skipTables?r.skipTables:[],!r.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(t.name," but export is ").concat(c.databaseName));if(!r.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(t.verno," but export is ").concat(c.databaseVersion));if(h=r.progressCallback,m={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(f,p){return f+p.rowCount},0),totalTables:c.tables.length},h&&cn.ignoreTransaction(function(){return h(m)}),!r.clearTablesBeforeImport)return[3,5];g=0,y=t.tables,u.label=2;case 2:return g<y.length?(_=y[g],d.includes(_.name)?[3,4]:[4,_.clear()]):[3,5];case 3:u.sent(),u.label=4;case 4:return g++,[3,2];case 5:return r.noTransaction?[4,n()]:[3,7];case 6:return u.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,n)];case 8:u.sent(),u.label=9;case 9:return m.done=!0,h&&cn.ignoreTransaction(function(){return h(m)}),[2]}})})}function HK(t,e){return sc(this,void 0,void 0,function(){var r,n;return Po(this,function(s){switch(s.label){case 0:r="slice"in t?dSe(t):t,s.label=1;case 1:return r.eof()?[3,3]:[4,r.pullAsync(e)];case 2:return s.sent(),r.result.data&&r.result.data.data?[3,3]:[3,1];case 3:if(n=r.result,!n||n.formatName!="dexie")throw new Error("Given file is not a dexie export");if(n.formatVersion>lSe)throw new Error("Format version ".concat(n.formatVersion," not supported"));if(!n.data)throw new Error("No data in export file");if(!n.data.databaseName)throw new Error("Missing databaseName in export file");if(!n.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!n.data.tables)throw new Error("Missing tables in export file");return[2,r]}})})}cn.prototype.export=function(t){return aSe(this,t)};cn.prototype.import=function(t,e){return VK(this,t,e)};cn.import=function(t,e){return hSe(t,e)};function pSe(t,e,r){var n,s;typeof t=="function"?(n=e||[],s=r):(n=[],s=e);var o=Z.useRef({hasResult:!1,result:s,error:null}),a=Z.useReducer(function(d){return d+1},0);a[0];var l=a[1],c=Z.useMemo(function(){var d=typeof t=="function"?t():t;if(!d||typeof d.subscribe!="function")throw t===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")o.current.result=d.getValue(),o.current.hasResult=!0;else{var h=d.subscribe(function(m){o.current.result=m,o.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return d},n);if(Z.useDebugValue(o.current.result),Z.useEffect(function(){var d=c.subscribe(function(h){var m=o.current;(m.error!==null||m.result!==h)&&(m.error=null,m.result=h,m.hasResult=!0,l())},function(h){var m=o.current;m.error!==h&&(m.error=h,l())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),o.current.error)throw o.current.error;return o.current.result}function gZe(t,e,r){return pSe(function(){return LK(t)},e||[],r)}function mSe(t,e){const r=E.createContext(e),n=o=>{const{children:a,...l}=o,c=E.useMemo(()=>l,Object.values(l));return F.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(o){const a=E.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error("`".concat(o,"` must be used within `").concat(t,"`"))}return[n,s]}function jp(t,e=[]){let r=[];function n(o,a){const l=E.createContext(a),c=r.length;r=[...r,a];const d=m=>{var p;const{scope:g,children:y,..._}=m,u=((p=g==null?void 0:g[t])==null?void 0:p[c])||l,f=E.useMemo(()=>_,Object.values(_));return F.jsx(u.Provider,{value:f,children:y})};d.displayName=o+"Provider";function h(m,g){var u;const y=((u=g==null?void 0:g[t])==null?void 0:u[c])||l,_=E.useContext(y);if(_)return _;if(a!==void 0)return a;throw new Error("`".concat(m,"` must be used within `").concat(o,"`"))}return[d,h]}const s=()=>{const o=r.map(a=>E.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,gSe(s,...e)]}function gSe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)["__scope".concat(d)];return{...l,...m}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:a}),[a])}};return r.scopeName=e.scopeName,r}var vSe="DismissableLayer",R2="dismissableLayer.update",ySe="dismissableLayer.pointerDownOutside",_Se="dismissableLayer.focusOutside",d$,WK=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jE=E.forwardRef((t,e)=>{var A;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=E.useContext(WK),[h,m]=E.useState(null),g=(A=h==null?void 0:h.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),_=_t(e,D=>m(D)),u=Array.from(d.layers),[f]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(f),v=h?u.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,x=wSe(D=>{const C=D.target,T=[...d.branches].some(R=>R.contains(C));!w||T||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},g),S=xSe(D=>{const C=D.target;[...d.branches].some(R=>R.contains(C))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},g);return BH(D=>{v===d.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},g),E.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(d$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),f$(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=d$)}},[h,g,r,d]),E.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),f$())},[h,d]),E.useEffect(()=>{const D=()=>y({});return document.addEventListener(R2,D),()=>document.removeEventListener(R2,D)},[]),F.jsx(Xe.div,{...c,ref:_,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,x.onPointerDownCapture)})});jE.displayName=vSe;var bSe="DismissableLayerBranch",KK=E.forwardRef((t,e)=>{const r=E.useContext(WK),n=E.useRef(null),s=_t(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),F.jsx(Xe.div,{...t,ref:s})});KK.displayName=bSe;function wSe(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){XK(ySe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function xSe(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&XK(_Se,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f$(){const t=new CustomEvent(R2);document.dispatchEvent(t)}function XK(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?s_(s,o):s.dispatchEvent(o)}var ESe=jE,SSe=KK,TA=0;function YK(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:h$()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:h$()),TA++,()=>{TA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),TA--}},[])}function h$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var CSe="Portal",zE=E.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=E.useState(!1);pn(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?NO.createPortal(F.jsx(Xe.div,{...n,ref:e}),a):null});zE.displayName=CSe;function ASe(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var zl=t=>{const{present:e,children:r}=t,n=TSe(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=_t(n.ref,DSe(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};zl.displayName="Presence";function TSe(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[l,c]=ASe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Q0(n.current);o.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=n.current,h=s.current;if(h!==t){const g=o.current,y=Q0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pn(()=>{var d;if(e){let h;const m=(d=e.ownerDocument.defaultView)!=null?d:window,g=_=>{const f=Q0(n.current).includes(_.animationName);if(_.target===e&&f&&(c("ANIMATION_END"),!s.current)){const p=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=p)})}},y=_=>{_.target===e&&(o.current=Q0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Q0(t){return(t==null?void 0:t.animationName)||"none"}function DSe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qK=fW(),DA=function(){},GE=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:DA,onWheelCapture:DA,onTouchMoveCapture:DA}),s=n[0],o=n[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,y=t.noIsolation,_=t.inert,u=t.allowPinchZoom,f=t.as,p=f===void 0?"div":f,v=t.gapMode,b=SB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=g,x=dW([r,e]),S=ni(ni({},b),s);return E.createElement(E.Fragment,null,h&&E.createElement(w,{sideCar:qK,removeScrollBar:d,shards:m,noIsolation:y,inert:_,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),a?E.cloneElement(E.Children.only(l),ni(ni({},S),{ref:x})):E.createElement(p,ni({},S,{className:c,ref:x}),l))});GE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GE.classNames={fullWidth:Lg,zeroRight:Ng};var O2=!1;if(typeof window<"u")try{var eb=Object.defineProperty({},"passive",{get:function(){return O2=!0,!0}});window.addEventListener("test",eb,eb),window.removeEventListener("test",eb,eb)}catch(t){O2=!1}var Cf=O2?{passive:!1}:!1,PSe=function(t){return t.tagName==="TEXTAREA"},ZK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!PSe(t)&&r[e]==="visible")},RSe=function(t){return ZK(t,"overflowY")},OSe=function(t){return ZK(t,"overflowX")},p$=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=JK(t,n);if(s){var o=QK(t,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ISe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},BSe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},JK=function(t,e){return t==="v"?RSe(e):OSe(e)},QK=function(t,e){return t==="v"?ISe(e):BSe(e)},FSe=function(t,e){return t==="h"&&e==="rtl"?-1:1},MSe=function(t,e,r,n,s){var o=FSe(t,window.getComputedStyle(e).direction),a=o*n,l=r.target,c=e.contains(l),d=!1,h=a>0,m=0,g=0;do{var y=QK(t,l),_=y[0],u=y[1],f=y[2],p=u-f-o*_;(_||p)&&JK(t,l)&&(m+=p,g+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(s&&Math.abs(m)<1||!s&&a>m)||!h&&(s&&Math.abs(g)<1||!s&&-a>g))&&(d=!0),d},tb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m$=function(t){return[t.deltaX,t.deltaY]},g$=function(t){return t&&"current"in t?t.current:t},kSe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},NSe=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},LSe=0,Af=[];function USe(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(LSe++)[0],o=E.useState(CB)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=cW([t.lockRef.current],(t.shards||[]).map(g$),!0).filter(Boolean);return u.forEach(function(f){return f.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(u,f){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!a.current.allowPinchZoom;var p=tb(u),v=r.current,b="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],x,S=u.target,A=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in u&&A==="h"&&S.type==="range")return!1;var D=p$(A,S);if(!D)return!0;if(D?x=A:(x=A==="v"?"h":"v",D=p$(A,S)),!D)return!1;if(!n.current&&"changedTouches"in u&&(b||w)&&(n.current=x),!x)return!0;var C=n.current||x;return MSe(C,f,u,C==="h"?b:w,!0)},[]),c=E.useCallback(function(u){var f=u;if(!(!Af.length||Af[Af.length-1]!==o)){var p="deltaY"in f?m$(f):tb(f),v=e.current.filter(function(x){return x.name===f.type&&(x.target===f.target||f.target===x.shadowParent)&&kSe(x.delta,p)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var b=(a.current.shards||[]).map(g$).filter(Boolean).filter(function(x){return x.contains(f.target)}),w=b.length>0?l(f,b[0]):!a.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),d=E.useCallback(function(u,f,p,v){var b={name:u,delta:f,target:p,should:v,shadowParent:$Se(p)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),h=E.useCallback(function(u){r.current=tb(u),n.current=void 0},[]),m=E.useCallback(function(u){d(u.type,m$(u),u.target,l(u,t.lockRef.current))},[]),g=E.useCallback(function(u){d(u.type,tb(u),u.target,l(u,t.lockRef.current))},[]);E.useEffect(function(){return Af.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Cf),document.addEventListener("touchmove",c,Cf),document.addEventListener("touchstart",h,Cf),function(){Af=Af.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,Cf),document.removeEventListener("touchmove",c,Cf),document.removeEventListener("touchstart",h,Cf)}},[]);var y=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(o,{styles:NSe(s)}):null,y?E.createElement(gW,{gapMode:t.gapMode}):null)}function $Se(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jSe=pW(qK,USe);var eX=E.forwardRef(function(t,e){return E.createElement(GE,ni({},t,{ref:e,sideCar:jSe}))});eX.classNames=GE.classNames;const tX=eX;var I2=["Enter"," "],zSe=["ArrowDown","PageUp","Home"],rX=["ArrowUp","PageDown","End"],GSe=[...zSe,...rX],VSe={ltr:[...I2,"ArrowRight"],rtl:[...I2,"ArrowLeft"]},HSe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},y_="Menu",[ly,WSe,KSe]=Zd(y_),[rf,XSe]=jp(y_,[KSe,ka,fo]),VE=ka(),nX=fo(),[YSe,nf]=rf(y_),[qSe,__]=rf(y_),iX=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,l=VE(e),[c,d]=E.useState(null),h=E.useRef(!1),m=ur(o),g=Fa(s);return E.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),F.jsx(kp,{...l,children:F.jsx(YSe,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:d,children:F.jsx(qSe,{scope:e,onClose:E.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:a,children:n})})})};iX.displayName=y_;var ZSe="MenuAnchor",YB=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=VE(r);return F.jsx(Np,{...s,...n,ref:e})});YB.displayName=ZSe;var qB="MenuPortal",[JSe,sX]=rf(qB,{forceMount:void 0}),oX=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=nf(qB,e);return F.jsx(JSe,{scope:e,forceMount:r,children:F.jsx(zl,{present:r||o.open,children:F.jsx(zE,{asChild:!0,container:s,children:n})})})};oX.displayName=qB;var io="MenuContent",[QSe,ZB]=rf(io),aX=E.forwardRef((t,e)=>{const r=sX(io,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=nf(io,t.__scopeMenu),a=__(io,t.__scopeMenu);return F.jsx(ly.Provider,{scope:t.__scopeMenu,children:F.jsx(zl,{present:n||o.open,children:F.jsx(ly.Slot,{scope:t.__scopeMenu,children:a.modal?F.jsx(eCe,{...s,ref:e}):F.jsx(tCe,{...s,ref:e})})})})}),eCe=E.forwardRef((t,e)=>{const r=nf(io,t.__scopeMenu),n=E.useRef(null),s=_t(e,n);return E.useEffect(()=>{const o=n.current;if(o)return d_(o)},[]),F.jsx(JB,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tCe=E.forwardRef((t,e)=>{const r=nf(io,t.__scopeMenu);return F.jsx(JB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),JB=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:_,...u}=t,f=nf(io,r),p=__(io,r),v=VE(r),b=nX(r),w=WSe(r),[x,S]=E.useState(null),A=E.useRef(null),D=_t(e,A,f.onContentChange),C=E.useRef(0),T=E.useRef(""),R=E.useRef(0),P=E.useRef(null),O=E.useRef("right"),I=E.useRef(0),k=_?tX:E.Fragment,W=_?{as:Da,allowPinchZoom:!0}:void 0,G=$=>{var z,V;const K=T.current+$,Q=w().filter(H=>!H.disabled),ue=document.activeElement,pe=(z=Q.find(H=>H.ref.current===ue))==null?void 0:z.textValue,oe=Q.map(H=>H.textValue),he=hCe(oe,K,pe),Y=(V=Q.find(H=>H.textValue===he))==null?void 0:V.ref.current;(function H(re){T.current=re,window.clearTimeout(C.current),re!==""&&(C.current=window.setTimeout(()=>H(""),1e3))})(K),Y&&setTimeout(()=>Y.focus())};E.useEffect(()=>()=>window.clearTimeout(C.current),[]),YK();const j=E.useCallback($=>{var Q,ue;return O.current===((Q=P.current)==null?void 0:Q.side)&&mCe($,(ue=P.current)==null?void 0:ue.area)},[]);return F.jsx(QSe,{scope:r,searchRef:T,onItemEnter:E.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:E.useCallback($=>{var K;j($)||((K=A.current)==null||K.focus(),S(null))},[j]),onTriggerLeave:E.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:R,onPointerGraceIntentChange:E.useCallback($=>{P.current=$},[]),children:F.jsx(k,{...W,children:F.jsx(Bp,{asChild:!0,trapped:s,onMountAutoFocus:fe(o,$=>{var K;$.preventDefault(),(K=A.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:F.jsx(jE,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:F.jsx(Lp,{asChild:!0,...b,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,$=>{p.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(l_,{role:"menu","aria-orientation":"vertical","data-state":EX(f.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:D,style:{outline:"none",...u.style},onKeyDown:fe(u.onKeyDown,$=>{const Q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ue=$.ctrlKey||$.altKey||$.metaKey,pe=$.key.length===1;Q&&($.key==="Tab"&&$.preventDefault(),!ue&&pe&&G($.key));const oe=A.current;if($.target!==oe||!GSe.includes($.key))return;$.preventDefault();const Y=w().filter(z=>!z.disabled).map(z=>z.ref.current);rX.includes($.key)&&Y.reverse(),dCe(Y)}),onBlur:fe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:fe(t.onPointerMove,uy($=>{const K=$.target,Q=I.current!==$.clientX;if($.currentTarget.contains(K)&&Q){const ue=$.clientX>I.current?"right":"left";O.current=ue,I.current=$.clientX}}))})})})})})})});aX.displayName=io;var rCe="MenuGroup",QB=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{role:"group",...n,ref:e})});QB.displayName=rCe;var nCe="MenuLabel",lX=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{...n,ref:e})});lX.displayName=nCe;var K1="MenuItem",v$="menu.itemSelect",HE=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),a=__(K1,t.__scopeMenu),l=ZB(K1,t.__scopeMenu),c=_t(e,o),d=E.useRef(!1),h=()=>{const m=o.current;if(!r&&m){const g=new CustomEvent(v$,{bubbles:!0,cancelable:!0});m.addEventListener(v$,y=>n==null?void 0:n(y),{once:!0}),s_(m,g),g.defaultPrevented?d.current=!1:a.onClose()}};return F.jsx(uX,{...s,ref:c,disabled:r,onClick:fe(t.onClick,h),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),d.current=!0},onPointerUp:fe(t.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:fe(t.onKeyDown,m=>{const g=l.searchRef.current!=="";r||g&&m.key===" "||I2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});HE.displayName=K1;var uX=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=ZB(K1,r),l=nX(r),c=E.useRef(null),d=_t(e,c),[h,m]=E.useState(!1),[g,y]=E.useState("");return E.useEffect(()=>{var u;const _=c.current;_&&y(((u=_.textContent)!=null?u:"").trim())},[o.children]),F.jsx(ly.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:g,children:F.jsx(Jd,{asChild:!0,...l,focusable:!n,children:F.jsx(Xe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:fe(t.onPointerMove,uy(_=>{n?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,uy(_=>a.onItemLeave(_))),onFocus:fe(t.onFocus,()=>m(!0)),onBlur:fe(t.onBlur,()=>m(!1))})})})}),iCe="MenuCheckboxItem",cX=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return F.jsx(mX,{scope:t.__scopeMenu,checked:r,children:F.jsx(HE,{role:"menuitemcheckbox","aria-checked":X1(r)?"mixed":r,...s,ref:e,"data-state":tF(r),onSelect:fe(s.onSelect,()=>n==null?void 0:n(X1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});cX.displayName=iCe;var dX="MenuRadioGroup",[sCe,oCe]=rf(dX,{value:void 0,onValueChange:()=>{}}),fX=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=ur(n);return F.jsx(sCe,{scope:t.__scopeMenu,value:r,onValueChange:o,children:F.jsx(QB,{...s,ref:e})})});fX.displayName=dX;var hX="MenuRadioItem",pX=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=oCe(hX,t.__scopeMenu),o=r===s.value;return F.jsx(mX,{scope:t.__scopeMenu,checked:o,children:F.jsx(HE,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":tF(o),onSelect:fe(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});pX.displayName=hX;var eF="MenuItemIndicator",[mX,aCe]=rf(eF,{checked:!1}),gX=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=aCe(eF,r);return F.jsx(zl,{present:n||X1(o.checked)||o.checked===!0,children:F.jsx(Xe.span,{...s,ref:e,"data-state":tF(o.checked)})})});gX.displayName=eF;var lCe="MenuSeparator",vX=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return F.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});vX.displayName=lCe;var uCe="MenuArrow",yX=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=VE(r);return F.jsx(u_,{...s,...n,ref:e})});yX.displayName=uCe;var cCe="MenuSub",[vZe,_X]=rf(cCe),sg="MenuSubTrigger",bX=E.forwardRef((t,e)=>{const r=nf(sg,t.__scopeMenu),n=__(sg,t.__scopeMenu),s=_X(sg,t.__scopeMenu),o=ZB(sg,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),F.jsx(YB,{asChild:!0,...d,children:F.jsx(uX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":EX(r.open),...t,ref:i_(e,s.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,uy(m=>{o.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:fe(t.onPointerLeave,uy(m=>{var y,_;h();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const u=(_=r.content)==null?void 0:_.dataset.side,f=u==="right",p=f?-5:5,v=g[f?"left":"right"],b=g[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+p,y:m.clientY},{x:v,y:g.top},{x:b,y:g.top},{x:b,y:g.bottom},{x:v,y:g.bottom}],side:u}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,m=>{var y;const g=o.searchRef.current!=="";t.disabled||g&&m.key===" "||VSe[n.dir].includes(m.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),m.preventDefault())})})})});bX.displayName=sg;var wX="MenuSubContent",xX=E.forwardRef((t,e)=>{const r=sX(io,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=nf(io,t.__scopeMenu),a=__(io,t.__scopeMenu),l=_X(wX,t.__scopeMenu),c=E.useRef(null),d=_t(e,c);return F.jsx(ly.Provider,{scope:t.__scopeMenu,children:F.jsx(zl,{present:n||o.open,children:F.jsx(ly.Slot,{scope:t.__scopeMenu,children:F.jsx(JB,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;a.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:fe(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{var y;const m=h.currentTarget.contains(h.target),g=HSe[a.dir].includes(h.key);m&&g&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});xX.displayName=wX;function EX(t){return t?"open":"closed"}function X1(t){return t==="indeterminate"}function tF(t){return X1(t)?"indeterminate":t?"checked":"unchecked"}function dCe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function fCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function hCe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=fCe(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function pCe(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function mCe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return pCe(r,e)}function uy(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gCe=iX,vCe=YB,yCe=oX,_Ce=aX,bCe=QB,wCe=lX,xCe=HE,ECe=cX,SCe=fX,CCe=pX,ACe=gX,TCe=vX,DCe=yX,PCe=bX,RCe=xX,WE="Menubar",[B2,OCe,ICe]=Zd(WE),[SX,yZe]=jp(WE,[ICe,fo]),Pi=XSe(),CX=fo(),[BCe,rF]=SX(WE),AX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,value:n,onValueChange:s,defaultValue:o,loop:a=!0,dir:l,...c}=t,d=Fa(l),h=CX(r),[m="",g]=di({prop:n,onChange:s,defaultProp:o}),[y,_]=E.useState(null);return F.jsx(BCe,{scope:r,value:m,onMenuOpen:E.useCallback(u=>{g(u),_(u)},[g]),onMenuClose:E.useCallback(()=>g(""),[g]),onMenuToggle:E.useCallback(u=>{g(f=>f?"":u),_(u)},[g]),dir:d,loop:a,children:F.jsx(B2.Provider,{scope:r,children:F.jsx(B2.Slot,{scope:r,children:F.jsx(Lp,{asChild:!0,...h,orientation:"horizontal",loop:a,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:_,children:F.jsx(Xe.div,{role:"menubar",...c,ref:e})})})})})});AX.displayName=WE;var nF="MenubarMenu",[FCe,TX]=SX(nF),DX=t=>{const{__scopeMenubar:e,value:r,...n}=t,s=Kn(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=rF(nF,e),l=Pi(e),c=E.useRef(null),d=E.useRef(!1),h=a.value===o;return E.useEffect(()=>{h||(d.current=!1)},[h]),F.jsx(FCe,{scope:e,value:o,triggerId:Kn(),triggerRef:c,contentId:Kn(),wasKeyboardTriggerOpenRef:d,children:F.jsx(gCe,{...l,open:h,onOpenChange:m=>{m||a.onMenuClose()},modal:!1,dir:a.dir,...n})})};DX.displayName=nF;var F2="MenubarTrigger",PX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,disabled:n=!1,...s}=t,o=CX(r),a=Pi(r),l=rF(F2,r),c=TX(F2,r),d=E.useRef(null),h=_t(e,d,c.triggerRef),[m,g]=E.useState(!1),y=l.value===c.value;return F.jsx(B2.ItemSlot,{scope:r,value:c.value,disabled:n,children:F.jsx(Jd,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:F.jsx(vCe,{asChild:!0,...a,children:F.jsx(Xe.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":m?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:h,onPointerDown:fe(t.onPointerDown,_=>{!n&&_.button===0&&_.ctrlKey===!1&&(l.onMenuOpen(c.value),y||_.preventDefault())}),onPointerEnter:fe(t.onPointerEnter,()=>{var u;!!l.value&&!y&&(l.onMenuOpen(c.value),(u=d.current)==null||u.focus())}),onKeyDown:fe(t.onKeyDown,_=>{n||(["Enter"," "].includes(_.key)&&l.onMenuToggle(c.value),_.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(_.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,_.preventDefault()))}),onFocus:fe(t.onFocus,()=>g(!0)),onBlur:fe(t.onBlur,()=>g(!1))})})})})});PX.displayName=F2;var MCe="MenubarPortal",RX=t=>{const{__scopeMenubar:e,...r}=t,n=Pi(e);return F.jsx(yCe,{...n,...r})};RX.displayName=MCe;var M2="MenubarContent",OX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,align:n="start",...s}=t,o=Pi(r),a=rF(M2,r),l=TX(M2,r),c=OCe(r),d=E.useRef(!1);return F.jsx(_Ce,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...o,...s,ref:e,align:n,onCloseAutoFocus:fe(t.onCloseAutoFocus,h=>{var g;!!!a.value&&!d.current&&((g=l.triggerRef.current)==null||g.focus()),d.current=!1,h.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,h=>{const m=h.target;c().some(y=>{var _;return(_=y.ref.current)==null?void 0:_.contains(m)})&&h.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:h=>{l.wasKeyboardTriggerOpenRef.current||h.preventDefault()},onKeyDown:fe(t.onKeyDown,h=>{if(["ArrowRight","ArrowLeft"].includes(h.key)){const m=h.target,g=m.hasAttribute("data-radix-menubar-subtrigger"),y=m.closest("[data-radix-menubar-content]")!==h.currentTarget,u=(a.dir==="rtl"?"ArrowRight":"ArrowLeft")===h.key;if(!u&&g||y&&u)return;let v=c().filter(x=>!x.disabled).map(x=>x.value);u&&v.reverse();const b=v.indexOf(l.value);v=a.loop?qCe(v,b+1):v.slice(b+1);const[w]=v;w&&a.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});OX.displayName=M2;var kCe="MenubarGroup",NCe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(bCe,{...s,...n,ref:e})});NCe.displayName=kCe;var LCe="MenubarLabel",IX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(wCe,{...s,...n,ref:e})});IX.displayName=LCe;var UCe="MenubarItem",BX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(xCe,{...s,...n,ref:e})});BX.displayName=UCe;var $Ce="MenubarCheckboxItem",FX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(ECe,{...s,...n,ref:e})});FX.displayName=$Ce;var jCe="MenubarRadioGroup",zCe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(SCe,{...s,...n,ref:e})});zCe.displayName=jCe;var GCe="MenubarRadioItem",MX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(CCe,{...s,...n,ref:e})});MX.displayName=GCe;var VCe="MenubarItemIndicator",kX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(ACe,{...s,...n,ref:e})});kX.displayName=VCe;var HCe="MenubarSeparator",NX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(TCe,{...s,...n,ref:e})});NX.displayName=HCe;var WCe="MenubarArrow",KCe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(DCe,{...s,...n,ref:e})});KCe.displayName=WCe;var XCe="MenubarSubTrigger",LX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(PCe,{"data-radix-menubar-subtrigger":"",...s,...n,ref:e})});LX.displayName=XCe;var YCe="MenubarSubContent",UX=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Pi(r);return F.jsx(RCe,{...s,"data-radix-menubar-content":"",...n,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});UX.displayName=YCe;function qCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _Ze=AX,bZe=DX,wZe=PX,xZe=RX,EZe=OX,SZe=IX,CZe=BX,AZe=FX,TZe=MX,DZe=kX,PZe=NX,RZe=LX,OZe=UX,b_=t=>t.type==="checkbox",lh=t=>t instanceof Date,_i=t=>t==null;const $X=t=>typeof t=="object";var mn=t=>!_i(t)&&!Array.isArray(t)&&$X(t)&&!lh(t),jX=t=>mn(t)&&t.target?b_(t.target)?t.target.checked:t.target.value:t,ZCe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zX=(t,e)=>t.has(ZCe(e)),JCe=t=>{const e=t.constructor&&t.constructor.prototype;return mn(e)&&e.hasOwnProperty("isPrototypeOf")},iF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(iF&&(t instanceof Blob||t instanceof FileList))&&(r||mn(t)))if(e=r?[]:{},!r&&!JCe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=bn(t[n]));else return t;return e}var w_=t=>Array.isArray(t)?t.filter(Boolean):[],gr=t=>t===void 0,Ue=(t,e,r)=>{if(!e||!mn(t))return r;const n=w_(e.split(/[,[\].]+?/)).reduce((s,o)=>_i(s)?s:s[o],t);return gr(n)||n===t?gr(t[e])?r:t[e]:n},js=t=>typeof t=="boolean",sF=t=>/^\w*$/.test(t),GX=t=>w_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),er=(t,e,r)=>{let n=-1;const s=sF(e)?[e]:GX(e),o=s.length,a=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==a){const d=t[l];c=mn(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Y1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ws={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VX=Z.createContext(null),KE=()=>Z.useContext(VX),IZe=t=>{const{children:e,...r}=t;return Z.createElement(VX.Provider,{value:r},e)};var HX=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const a=o;return e._proxyFormState[a]!==Ws.all&&(e._proxyFormState[a]=!n||Ws.all),r&&(r[a]=!0),t[a]}});return s},gi=t=>mn(t)&&!Object.keys(t).length,WX=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return gi(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!n||Ws.all))},ji=t=>Array.isArray(t)?t:[t],KX=(t,e,r)=>!t||!e||t===e||ji(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function XE(t){const e=Z.useRef(t);e.current=t,Z.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function QCe(t){const e=KE(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[a,l]=Z.useState(r._formState),c=Z.useRef(!0),d=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Z.useRef(s);return h.current=s,XE({disabled:n,next:m=>c.current&&KX(h.current,m.name,o)&&WX(m,d.current,r._updateFormState)&&l({...r._formState,...m}),subject:r._subjects.state}),Z.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),HX(a,r,d.current,!1)}var va=t=>typeof t=="string",XX=(t,e,r,n,s)=>va(t)?(n&&e.watch.add(t),Ue(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),Ue(r,o))):(n&&(e.watchAll=!0),r);function eAe(t){const e=KE(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:a}=t||{},l=Z.useRef(n);l.current=n,XE({disabled:o,subject:r._subjects.values,next:h=>{KX(l.current,h.name,a)&&d(bn(XX(l.current,r._names,h.values||r._formValues,!1,s)))}});const[c,d]=Z.useState(r._getWatch(n,s));return Z.useEffect(()=>r._removeUnmounted()),c}function tAe(t){const e=KE(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o}=t,a=zX(s._names.array,r),l=eAe({control:s,name:r,defaultValue:Ue(s._formValues,r,Ue(s._defaultValues,r,t.defaultValue)),exact:!0}),c=QCe({control:s,name:r,exact:!0}),d=Z.useRef(s.register(r,{...t.rules,value:l,...js(t.disabled)?{disabled:t.disabled}:{}}));return Z.useEffect(()=>{const h=s._options.shouldUnregister||o,m=(g,y)=>{const _=Ue(s._fields,g);_&&_._f&&(_._f.mount=y)};if(m(r,!0),h){const g=bn(Ue(s._options.defaultValues,r));er(s._defaultValues,r,g),gr(Ue(s._formValues,r))&&er(s._formValues,r,g)}return()=>{(a?h&&!s._state.action:h)?s.unregister(r):m(r,!1)}},[r,s,a,o]),Z.useEffect(()=>{Ue(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Ue(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...js(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Z.useCallback(h=>d.current.onChange({target:{value:jX(h),name:r},type:Y1.CHANGE}),[r]),onBlur:Z.useCallback(()=>d.current.onBlur({target:{value:Ue(s._formValues,r),name:r},type:Y1.BLUR}),[r,s]),ref:Z.useCallback(h=>{const m=Ue(s._fields,r);m&&h&&(m._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:g=>h.setCustomValidity(g),reportValidity:()=>h.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ue(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ue(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ue(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ue(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ue(c.errors,r)}})}}const BZe=t=>t.render(tAe(t));var YX=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Ql=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},PA=(t,e,r={})=>r.shouldFocus||gr(r.shouldFocus)?r.focusName||"".concat(t,".").concat(gr(r.focusIndex)?e:r.focusIndex,"."):"",Vg=t=>({isOnSubmit:!t||t===Ws.onSubmit,isOnBlur:t===Ws.onBlur,isOnChange:t===Ws.onChange,isOnAll:t===Ws.all,isOnTouch:t===Ws.onTouched}),k2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Oh=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=Ue(t,s);if(o){const{_f:a,...l}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Oh(l,e))break}else if(mn(l)&&Oh(l,e))break}}};var qX=(t,e,r)=>{const n=ji(Ue(t,r));return er(n,"root",e[r]),er(t,r,n),t},oF=t=>t.type==="file",pl=t=>typeof t=="function",q1=t=>{if(!iF)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aw=t=>va(t),aF=t=>t.type==="radio",Z1=t=>t instanceof RegExp;const y$={value:!1,isValid:!1},_$={value:!0,isValid:!0};var ZX=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!gr(t[0].attributes.value)?gr(t[0].value)||t[0].value===""?_$:{value:t[0].value,isValid:!0}:_$:y$}return y$};const b$={isValid:!1,value:null};var JX=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,b$):b$;function w$(t,e,r="validate"){if(aw(t)||Array.isArray(t)&&t.every(aw)||js(t)&&!t)return{type:r,message:aw(t)?t:"",ref:e}}var Tf=t=>mn(t)&&!Z1(t)?t:{value:t,message:""},N2=async(t,e,r,n,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:m,pattern:g,validate:y,name:_,valueAsNumber:u,mount:f,disabled:p}=t._f,v=Ue(e,_);if(!f||p)return{};const b=a?a[0]:o,w=P=>{n&&b.reportValidity&&(b.setCustomValidity(js(P)?"":P||""),b.reportValidity())},x={},S=aF(o),A=b_(o),D=S||A,C=(u||oF(o))&&gr(o.value)&&gr(v)||q1(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=YX.bind(null,_,r,x),R=(P,O,I,k=Ha.maxLength,W=Ha.minLength)=>{const G=P?O:I;x[_]={type:P?k:W,message:G,ref:o,...T(P?k:W,G)}};if(s?!Array.isArray(v)||!v.length:l&&(!D&&(C||_i(v))||js(v)&&!v||A&&!ZX(a).isValid||S&&!JX(a).isValid)){const{value:P,message:O}=aw(l)?{value:!!l,message:l}:Tf(l);if(P&&(x[_]={type:Ha.required,message:O,ref:b,...T(Ha.required,O)},!r))return w(O),x}if(!C&&(!_i(h)||!_i(m))){let P,O;const I=Tf(m),k=Tf(h);if(!_i(v)&&!isNaN(v)){const W=o.valueAsNumber||v&&+v;_i(I.value)||(P=W>I.value),_i(k.value)||(O=W<k.value)}else{const W=o.valueAsDate||new Date(v),G=K=>new Date(new Date().toDateString()+" "+K),j=o.type=="time",$=o.type=="week";va(I.value)&&v&&(P=j?G(v)>G(I.value):$?v>I.value:W>new Date(I.value)),va(k.value)&&v&&(O=j?G(v)<G(k.value):$?v<k.value:W<new Date(k.value))}if((P||O)&&(R(!!P,I.message,k.message,Ha.max,Ha.min),!r))return w(x[_].message),x}if((c||d)&&!C&&(va(v)||s&&Array.isArray(v))){const P=Tf(c),O=Tf(d),I=!_i(P.value)&&v.length>+P.value,k=!_i(O.value)&&v.length<+O.value;if((I||k)&&(R(I,P.message,O.message),!r))return w(x[_].message),x}if(g&&!C&&va(v)){const{value:P,message:O}=Tf(g);if(Z1(P)&&!v.match(P)&&(x[_]={type:Ha.pattern,message:O,ref:o,...T(Ha.pattern,O)},!r))return w(O),x}if(y){if(pl(y)){const P=await y(v,e),O=w$(P,b);if(O&&(x[_]={...O,...T(Ha.validate,O.message)},!r))return w(O.message),x}else if(mn(y)){let P={};for(const O in y){if(!gi(P)&&!r)break;const I=w$(await y[O](v,e),b,O);I&&(P={...I,...T(O,I.message)},w(I.message),r&&(x[_]=P))}if(!gi(P)&&(x[_]={ref:b,...P},!r))return x}}return w(!0),x},RA=(t,e)=>[...t,...ji(e)],OA=t=>Array.isArray(t)?t.map(()=>{}):void 0;function IA(t,e,r){return[...t.slice(0,e),...ji(r),...t.slice(e)]}var BA=(t,e,r)=>Array.isArray(t)?(gr(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],FA=(t,e)=>[...ji(e),...ji(t)];function rAe(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return w_(n).length?n:[]}var MA=(t,e)=>gr(e)?[]:rAe(t,ji(e).sort((r,n)=>r-n)),kA=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function nAe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=gr(t)?n++:t[e[n++]];return t}function iAe(t){for(const e in t)if(t.hasOwnProperty(e)&&!gr(t[e]))return!1;return!0}function nn(t,e){const r=Array.isArray(e)?e:sF(e)?[e]:GX(e),n=r.length===1?t:nAe(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(mn(n)&&gi(n)||Array.isArray(n)&&iAe(n))&&nn(t,r.slice(0,-1)),t}var x$=(t,e,r)=>(t[e]=r,t);function FZe(t){const e=KE(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:o}=t,[a,l]=Z.useState(r._getFieldArray(n)),c=Z.useRef(r._getFieldArray(n).map(Ql)),d=Z.useRef(a),h=Z.useRef(n),m=Z.useRef(!1);h.current=n,d.current=a,r._names.array.add(n),t.rules&&r.register(n,t.rules),XE({next:({values:x,name:S})=>{if(S===h.current||!S){const A=Ue(x,h.current);Array.isArray(A)&&(l(A),c.current=A.map(Ql))}},subject:r._subjects.array});const g=Z.useCallback(x=>{m.current=!0,r._updateFieldArray(n,x)},[r,n]),y=(x,S)=>{const A=ji(bn(x)),D=RA(r._getFieldArray(n),A);r._names.focus=PA(n,D.length-1,S),c.current=RA(c.current,A.map(Ql)),g(D),l(D),r._updateFieldArray(n,D,RA,{argA:OA(x)})},_=(x,S)=>{const A=ji(bn(x)),D=FA(r._getFieldArray(n),A);r._names.focus=PA(n,0,S),c.current=FA(c.current,A.map(Ql)),g(D),l(D),r._updateFieldArray(n,D,FA,{argA:OA(x)})},u=x=>{const S=MA(r._getFieldArray(n),x);c.current=MA(c.current,x),g(S),l(S),r._updateFieldArray(n,S,MA,{argA:x})},f=(x,S,A)=>{const D=ji(bn(S)),C=IA(r._getFieldArray(n),x,D);r._names.focus=PA(n,x,A),c.current=IA(c.current,x,D.map(Ql)),g(C),l(C),r._updateFieldArray(n,C,IA,{argA:x,argB:OA(S)})},p=(x,S)=>{const A=r._getFieldArray(n);kA(A,x,S),kA(c.current,x,S),g(A),l(A),r._updateFieldArray(n,A,kA,{argA:x,argB:S},!1)},v=(x,S)=>{const A=r._getFieldArray(n);BA(A,x,S),BA(c.current,x,S),g(A),l(A),r._updateFieldArray(n,A,BA,{argA:x,argB:S},!1)},b=(x,S)=>{const A=bn(S),D=x$(r._getFieldArray(n),x,A);c.current=[...D].map((C,T)=>!C||T===x?Ql():c.current[T]),g(D),l([...D]),r._updateFieldArray(n,D,x$,{argA:x,argB:A},!0,!1)},w=x=>{const S=ji(bn(x));c.current=S.map(Ql),g([...S]),l([...S]),r._updateFieldArray(n,[...S],A=>A,{},!0,!1)};return Z.useEffect(()=>{if(r._state.action=!1,k2(n,r._names)&&r._subjects.state.next({...r._formState}),m.current&&(!Vg(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(x=>{const S=Ue(x.errors,n),A=Ue(r._formState.errors,n);(A?!S&&A.type||S&&(A.type!==S.type||A.message!==S.message):S&&S.type)&&(S?er(r._formState.errors,n,S):nn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const x=Ue(r._fields,n);x&&x._f&&!(Vg(r._options.reValidateMode).isOnSubmit&&Vg(r._options.mode).isOnSubmit)&&N2(x,r._formValues,r._options.criteriaMode===Ws.all,r._options.shouldUseNativeValidation,!0).then(S=>!gi(S)&&r._subjects.state.next({errors:qX(r._formState.errors,S,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Oh(r._fields,(x,S)=>{if(r._names.focus&&S.startsWith(r._names.focus)&&x.focus)return x.focus(),1}),r._names.focus="",r._updateValid(),m.current=!1},[a,n,r]),Z.useEffect(()=>(!Ue(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,s,o]),{swap:Z.useCallback(p,[g,n,r]),move:Z.useCallback(v,[g,n,r]),prepend:Z.useCallback(_,[g,n,r]),append:Z.useCallback(y,[g,n,r]),remove:Z.useCallback(u,[g,n,r]),insert:Z.useCallback(f,[g,n,r]),update:Z.useCallback(b,[g,n,r]),replace:Z.useCallback(w,[g,n,r]),fields:Z.useMemo(()=>a.map((x,S)=>({...x,[s]:c.current[S]||Ql()})),[a,s])}}var NA=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},J1=t=>_i(t)||!$X(t);function _u(t,e){if(J1(t)||J1(e))return t===e;if(lh(t)&&lh(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const o=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(lh(o)&&lh(a)||mn(o)&&mn(a)||Array.isArray(o)&&Array.isArray(a)?!_u(o,a):o!==a)return!1}}return!0}var QX=t=>t.type==="select-multiple",sAe=t=>aF(t)||b_(t),LA=t=>q1(t)&&t.isConnected,eY=t=>{for(const e in t)if(pl(t[e]))return!0;return!1};function Q1(t,e={}){const r=Array.isArray(t);if(mn(t)||r)for(const n in t)Array.isArray(t[n])||mn(t[n])&&!eY(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Q1(t[n],e[n])):_i(t[n])||(e[n]=!0);return e}function tY(t,e,r){const n=Array.isArray(t);if(mn(t)||n)for(const s in t)Array.isArray(t[s])||mn(t[s])&&!eY(t[s])?gr(e)||J1(r[s])?r[s]=Array.isArray(t[s])?Q1(t[s],[]):{...Q1(t[s])}:tY(t[s],_i(e)?{}:e[s],r[s]):r[s]=!_u(t[s],e[s]);return r}var rb=(t,e)=>tY(t,e,Q1(e)),rY=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>gr(t)?t:e?t===""?NaN:t&&+t:r&&va(t)?new Date(t):n?n(t):t;function UA(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return oF(e)?e.files:aF(e)?JX(t.refs).value:QX(e)?[...e.selectedOptions].map(({value:r})=>r):b_(e)?ZX(t.refs).value:rY(gr(e.value)?t.ref.value:e.value,t)}var oAe=(t,e,r,n)=>{const s={};for(const o of t){const a=Ue(e,o);a&&er(s,o,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Im=t=>gr(t)?t:Z1(t)?t.source:mn(t)?Z1(t.value)?t.value.source:t.value:t;const E$="AsyncFunction";var aAe=t=>(!t||!t.validate)&&!!(pl(t.validate)&&t.validate.constructor.name===E$||mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===E$)),lAe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function S$(t,e,r){const n=Ue(t,r);if(n||sF(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),a=Ue(e,o),l=Ue(t,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var uAe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,cAe=(t,e)=>!w_(Ue(t,e)).length&&nn(t,e);const dAe={mode:Ws.onSubmit,reValidateMode:Ws.onChange,shouldFocusError:!0};function fAe(t={}){let e={...dAe,...t},r={submitCount:0,isDirty:!1,isLoading:pl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=mn(e.defaultValues)||mn(e.values)?bn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:bn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:NA(),array:NA(),state:NA()},g=Vg(e.mode),y=Vg(e.reValidateMode),_=e.criteriaMode===Ws.all,u=X=>se=>{clearTimeout(d),d=setTimeout(X,se)},f=async X=>{if(h.isValid||X){const se=e.resolver?gi((await D()).errors):await T(n,!0);se!==r.isValid&&m.state.next({isValid:se})}},p=(X,se)=>{(h.isValidating||h.validatingFields)&&((X||Array.from(l.mount)).forEach(le=>{le&&(se?er(r.validatingFields,le,se):nn(r.validatingFields,le))}),m.state.next({validatingFields:r.validatingFields,isValidating:!gi(r.validatingFields)}))},v=(X,se=[],le,Ae,ve=!0,ye=!0)=>{if(Ae&&le){if(a.action=!0,ye&&Array.isArray(Ue(n,X))){const Te=le(Ue(n,X),Ae.argA,Ae.argB);ve&&er(n,X,Te)}if(ye&&Array.isArray(Ue(r.errors,X))){const Te=le(Ue(r.errors,X),Ae.argA,Ae.argB);ve&&er(r.errors,X,Te),cAe(r.errors,X)}if(h.touchedFields&&ye&&Array.isArray(Ue(r.touchedFields,X))){const Te=le(Ue(r.touchedFields,X),Ae.argA,Ae.argB);ve&&er(r.touchedFields,X,Te)}h.dirtyFields&&(r.dirtyFields=rb(s,o)),m.state.next({name:X,isDirty:P(X,se),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else er(o,X,se)},b=(X,se)=>{er(r.errors,X,se),m.state.next({errors:r.errors})},w=X=>{r.errors=X,m.state.next({errors:r.errors,isValid:!1})},x=(X,se,le,Ae)=>{const ve=Ue(n,X);if(ve){const ye=Ue(o,X,gr(le)?Ue(s,X):le);gr(ye)||Ae&&Ae.defaultChecked||se?er(o,X,se?ye:UA(ve._f)):k(X,ye),a.mount&&f()}},S=(X,se,le,Ae,ve)=>{let ye=!1,Te=!1;const Re={name:X},je=!!(Ue(n,X)&&Ue(n,X)._f&&Ue(n,X)._f.disabled);if(!le||Ae){h.isDirty&&(Te=r.isDirty,r.isDirty=Re.isDirty=P(),ye=Te!==Re.isDirty);const ft=je||_u(Ue(s,X),se);Te=!!(!je&&Ue(r.dirtyFields,X)),ft||je?nn(r.dirtyFields,X):er(r.dirtyFields,X,!0),Re.dirtyFields=r.dirtyFields,ye=ye||h.dirtyFields&&Te!==!ft}if(le){const ft=Ue(r.touchedFields,X);ft||(er(r.touchedFields,X,le),Re.touchedFields=r.touchedFields,ye=ye||h.touchedFields&&ft!==le)}return ye&&ve&&m.state.next(Re),ye?Re:{}},A=(X,se,le,Ae)=>{const ve=Ue(r.errors,X),ye=h.isValid&&js(se)&&r.isValid!==se;if(t.delayError&&le?(c=u(()=>b(X,le)),c(t.delayError)):(clearTimeout(d),c=null,le?er(r.errors,X,le):nn(r.errors,X)),(le?!_u(ve,le):ve)||!gi(Ae)||ye){const Te={...Ae,...ye&&js(se)?{isValid:se}:{},errors:r.errors,name:X};r={...r,...Te},m.state.next(Te)}},D=async X=>{p(X,!0);const se=await e.resolver(o,e.context,oAe(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return p(X),se},C=async X=>{const{errors:se}=await D(X);if(X)for(const le of X){const Ae=Ue(se,le);Ae?er(r.errors,le,Ae):nn(r.errors,le)}else r.errors=se;return se},T=async(X,se,le={valid:!0})=>{for(const Ae in X){const ve=X[Ae];if(ve){const{_f:ye,...Te}=ve;if(ye){const Re=l.array.has(ye.name),je=ve._f&&aAe(ve._f);je&&h.validatingFields&&p([Ae],!0);const ft=await N2(ve,o,_,e.shouldUseNativeValidation&&!se,Re);if(je&&h.validatingFields&&p([Ae]),ft[ye.name]&&(le.valid=!1,se))break;!se&&(Ue(ft,ye.name)?Re?qX(r.errors,ft,ye.name):er(r.errors,ye.name,ft[ye.name]):nn(r.errors,ye.name))}!gi(Te)&&await T(Te,se,le)}}return le.valid},R=()=>{for(const X of l.unMount){const se=Ue(n,X);se&&(se._f.refs?se._f.refs.every(le=>!LA(le)):!LA(se._f.ref))&&Y(X)}l.unMount=new Set},P=(X,se)=>(X&&se&&er(o,X,se),!_u(Q(),s)),O=(X,se,le)=>XX(X,l,{...a.mount?o:gr(se)?s:va(X)?{[X]:se}:se},le,se),I=X=>w_(Ue(a.mount?o:s,X,t.shouldUnregister?Ue(s,X,[]):[])),k=(X,se,le={})=>{const Ae=Ue(n,X);let ve=se;if(Ae){const ye=Ae._f;ye&&(!ye.disabled&&er(o,X,rY(se,ye)),ve=q1(ye.ref)&&_i(se)?"":se,QX(ye.ref)?[...ye.ref.options].forEach(Te=>Te.selected=ve.includes(Te.value)):ye.refs?b_(ye.ref)?ye.refs.length>1?ye.refs.forEach(Te=>(!Te.defaultChecked||!Te.disabled)&&(Te.checked=Array.isArray(ve)?!!ve.find(Re=>Re===Te.value):ve===Te.value)):ye.refs[0]&&(ye.refs[0].checked=!!ve):ye.refs.forEach(Te=>Te.checked=Te.value===ve):oF(ye.ref)?ye.ref.value="":(ye.ref.value=ve,ye.ref.type||m.values.next({name:X,values:{...o}})))}(le.shouldDirty||le.shouldTouch)&&S(X,ve,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&K(X)},W=(X,se,le)=>{for(const Ae in se){const ve=se[Ae],ye="".concat(X,".").concat(Ae),Te=Ue(n,ye);(l.array.has(X)||!J1(ve)||Te&&!Te._f)&&!lh(ve)?W(ye,ve,le):k(ye,ve,le)}},G=(X,se,le={})=>{const Ae=Ue(n,X),ve=l.array.has(X),ye=bn(se);er(o,X,ye),ve?(m.array.next({name:X,values:{...o}}),(h.isDirty||h.dirtyFields)&&le.shouldDirty&&m.state.next({name:X,dirtyFields:rb(s,o),isDirty:P(X,ye)})):Ae&&!Ae._f&&!_i(ye)?W(X,ye,le):k(X,ye,le),k2(X,l)&&m.state.next({...r}),m.values.next({name:a.mount?X:void 0,values:{...o}})},j=async X=>{a.mount=!0;const se=X.target;let le=se.name,Ae=!0;const ve=Ue(n,le),ye=()=>se.type?UA(ve._f):jX(X),Te=Re=>{Ae=Number.isNaN(Re)||_u(Re,Ue(o,le,Re))};if(ve){let Re,je;const ft=ye(),Et=X.type===Y1.BLUR||X.type===Y1.FOCUS_OUT,Ke=!lAe(ve._f)&&!e.resolver&&!Ue(r.errors,le)&&!ve._f.deps||uAe(Et,Ue(r.touchedFields,le),r.isSubmitted,y,g),L=k2(le,l,Et);er(o,le,ft),Et?(ve._f.onBlur&&ve._f.onBlur(X),c&&c(0)):ve._f.onChange&&ve._f.onChange(X);const B=S(le,ft,Et,!1),U=!gi(B)||L;if(!Et&&m.values.next({name:le,type:X.type,values:{...o}}),Ke)return h.isValid&&(t.mode==="onBlur"?Et&&f():f()),U&&m.state.next({name:le,...L?{}:B});if(!Et&&L&&m.state.next({...r}),e.resolver){const{errors:J}=await D([le]);if(Te(ft),Ae){const ie=S$(r.errors,n,le),ke=S$(J,n,ie.name||le);Re=ke.error,le=ke.name,je=gi(J)}}else p([le],!0),Re=(await N2(ve,o,_,e.shouldUseNativeValidation))[le],p([le]),Te(ft),Ae&&(Re?je=!1:h.isValid&&(je=await T(n,!0)));Ae&&(ve._f.deps&&K(ve._f.deps),A(le,je,Re,B))}},$=(X,se)=>{if(Ue(r.errors,se)&&X.focus)return X.focus(),1},K=async(X,se={})=>{let le,Ae;const ve=ji(X);if(e.resolver){const ye=await C(gr(X)?X:ve);le=gi(ye),Ae=X?!ve.some(Te=>Ue(ye,Te)):le}else X?(Ae=(await Promise.all(ve.map(async ye=>{const Te=Ue(n,ye);return await T(Te&&Te._f?{[ye]:Te}:Te)}))).every(Boolean),!(!Ae&&!r.isValid)&&f()):Ae=le=await T(n);return m.state.next({...!va(X)||h.isValid&&le!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:le}:{},errors:r.errors}),se.shouldFocus&&!Ae&&Oh(n,$,X?ve:l.mount),Ae},Q=X=>{const se={...a.mount?o:s};return gr(X)?se:va(X)?Ue(se,X):X.map(le=>Ue(se,le))},ue=(X,se)=>({invalid:!!Ue((se||r).errors,X),isDirty:!!Ue((se||r).dirtyFields,X),error:Ue((se||r).errors,X),isValidating:!!Ue(r.validatingFields,X),isTouched:!!Ue((se||r).touchedFields,X)}),pe=X=>{X&&ji(X).forEach(se=>nn(r.errors,se)),m.state.next({errors:X?r.errors:{}})},oe=(X,se,le)=>{const Ae=(Ue(n,X,{_f:{}})._f||{}).ref,ve=Ue(r.errors,X)||{},{ref:ye,message:Te,type:Re,...je}=ve;er(r.errors,X,{...je,...se,ref:Ae}),m.state.next({name:X,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},he=(X,se)=>pl(X)?m.values.subscribe({next:le=>X(O(void 0,se),le)}):O(X,se,!0),Y=(X,se={})=>{for(const le of X?ji(X):l.mount)l.mount.delete(le),l.array.delete(le),se.keepValue||(nn(n,le),nn(o,le)),!se.keepError&&nn(r.errors,le),!se.keepDirty&&nn(r.dirtyFields,le),!se.keepTouched&&nn(r.touchedFields,le),!se.keepIsValidating&&nn(r.validatingFields,le),!e.shouldUnregister&&!se.keepDefaultValue&&nn(s,le);m.values.next({values:{...o}}),m.state.next({...r,...se.keepDirty?{isDirty:P()}:{}}),!se.keepIsValid&&f()},z=({disabled:X,name:se,field:le,fields:Ae,value:ve})=>{if(js(X)&&a.mount||X){const ye=X?void 0:gr(ve)?UA(le?le._f:Ue(Ae,se)._f):ve;er(o,se,ye),S(se,ye,!1,!1,!0)}},V=(X,se={})=>{let le=Ue(n,X);const Ae=js(se.disabled)||js(t.disabled);return er(n,X,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:X}},name:X,mount:!0,...se}}),l.mount.add(X),le?z({field:le,disabled:js(se.disabled)?se.disabled:t.disabled,name:X,value:se.value}):x(X,!0,se.value),{...Ae?{disabled:se.disabled||t.disabled}:{},...e.progressive?{required:!!se.required,min:Im(se.min),max:Im(se.max),minLength:Im(se.minLength),maxLength:Im(se.maxLength),pattern:Im(se.pattern)}:{},name:X,onChange:j,onBlur:j,ref:ve=>{if(ve){V(X,se),le=Ue(n,X);const ye=gr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Te=sAe(ye),Re=le._f.refs||[];if(Te?Re.find(je=>je===ye):ye===le._f.ref)return;er(n,X,{_f:{...le._f,...Te?{refs:[...Re.filter(LA),ye,...Array.isArray(Ue(s,X))?[{}]:[]],ref:{type:ye.type,name:X}}:{ref:ye}}}),x(X,!1,void 0,ye)}else le=Ue(n,X,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(zX(l.array,X)&&a.action)&&l.unMount.add(X)}}},H=()=>e.shouldFocusError&&Oh(n,$,l.mount),re=X=>{js(X)&&(m.state.next({disabled:X}),Oh(n,(se,le)=>{const Ae=Ue(n,le);Ae&&(se.disabled=Ae._f.disabled||X,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(ve=>{ve.disabled=Ae._f.disabled||X}))},0,!1))},ne=(X,se)=>async le=>{let Ae;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let ve=bn(o);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:Te}=await D();r.errors=ye,ve=Te}else await T(n);if(nn(r.errors,"root"),gi(r.errors)){m.state.next({errors:{}});try{await X(ve,le)}catch(ye){Ae=ye}}else se&&await se({...r.errors},le),H(),setTimeout(H);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gi(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},_e=(X,se={})=>{Ue(n,X)&&(gr(se.defaultValue)?G(X,bn(Ue(s,X))):(G(X,se.defaultValue),er(s,X,bn(se.defaultValue))),se.keepTouched||nn(r.touchedFields,X),se.keepDirty||(nn(r.dirtyFields,X),r.isDirty=se.defaultValue?P(X,bn(Ue(s,X))):P()),se.keepError||(nn(r.errors,X),h.isValid&&f()),m.state.next({...r}))},be=(X,se={})=>{const le=X?bn(X):s,Ae=bn(le),ve=gi(X),ye=ve?s:Ae;if(se.keepDefaultValues||(s=le),!se.keepValues){if(se.keepDirtyValues)for(const Te of l.mount)Ue(r.dirtyFields,Te)?er(ye,Te,Ue(o,Te)):G(Te,Ue(ye,Te));else{if(iF&&gr(X))for(const Te of l.mount){const Re=Ue(n,Te);if(Re&&Re._f){const je=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(q1(je)){const ft=je.closest("form");if(ft){ft.reset();break}}}}n={}}o=t.shouldUnregister?se.keepDefaultValues?bn(s):{}:bn(ye),m.array.next({values:{...ye}}),m.values.next({values:{...ye}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!se.keepIsValid||!!se.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:se.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:se.keepDirty?r.isDirty:!!(se.keepDefaultValues&&!_u(X,s)),isSubmitted:se.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:se.keepDirtyValues?se.keepDefaultValues&&o?rb(s,o):r.dirtyFields:se.keepDefaultValues&&X?rb(s,X):se.keepDirty?r.dirtyFields:{},touchedFields:se.keepTouched?r.touchedFields:{},errors:se.keepErrors?r.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(X,se)=>be(pl(X)?X(o):X,se);return{control:{register:V,unregister:Y,getFieldState:ue,handleSubmit:ne,setError:oe,_executeSchema:D,_getWatch:O,_getDirty:P,_updateValid:f,_removeUnmounted:R,_updateFieldArray:v,_updateDisabledField:z,_getFieldArray:I,_reset:be,_resetDefaultValues:()=>pl(e.defaultValues)&&e.defaultValues().then(X=>{xe(X,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:X=>{r={...r,...X}},_disableForm:re,_subjects:m,_proxyFormState:h,_setErrors:w,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(X){a=X},get _defaultValues(){return s},get _names(){return l},set _names(X){l=X},get _formState(){return r},set _formState(X){r=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:K,register:V,handleSubmit:ne,watch:he,setValue:G,getValues:Q,reset:xe,resetField:_e,clearErrors:pe,unregister:Y,setError:oe,setFocus:(X,se={})=>{const le=Ue(n,X),Ae=le&&le._f;if(Ae){const ve=Ae.refs?Ae.refs[0]:Ae.ref;ve.focus&&(ve.focus(),se.shouldSelect&&ve.select())}},getFieldState:ue}}function MZe(t={}){const e=Z.useRef(),r=Z.useRef(),[n,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:pl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:pl(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...fAe(t),formState:n});const o=e.current.control;return o._options=t,XE({subject:o._subjects.state,next:a=>{WX(a,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Z.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Z.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),Z.useEffect(()=>{t.values&&!_u(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,s(a=>({...a}))):o._resetDefaultValues()},[t.values,o]),Z.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),Z.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Z.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=HX(n,o),e.current}const C$=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ue(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},nY=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?C$(n.ref,r,t):n.refs&&n.refs.forEach(s=>C$(s,r,t))}},hAe=(t,e)=>{e.shouldUseNativeValidation&&nY(t,e);const r={};for(const n in t){const s=Ue(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(pAe(e.names||Object.keys(t),n)){const a=Object.assign({},Ue(r,n));er(a,"root",o),er(r,n,a)}else er(r,n,o)}return r},pAe=(t,e)=>t.some(r=>r.startsWith(e+"."));var mAe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var c=r[a].types,d=c&&c[n.code];r[a]=YX(a,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},kZe=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return o.shouldUseNativeValidation&&nY({},o),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:hAe(mAe(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},Yt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of o)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},t.find=(s,o)=>{for(const a of s)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(a=>typeof a=="string"?"'".concat(a,"'"):a).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Yt||(Yt={}));var L2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(L2||(L2={}));const st=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bu=t=>{switch(typeof t){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(t)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(t)?st.array:t===null?st.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?st.promise:typeof Map<"u"&&t instanceof Map?st.map:typeof Set<"u"&&t instanceof Set?st.set:typeof Date<"u"&&t instanceof Date?st.date:st.object;default:return st.unknown}},Oe=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gAe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ys extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof ys))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ys.create=t=>new ys(t);const cp=(t,e)=>{let r;switch(t.code){case Oe.invalid_type:t.received===st.undefined?r="Required":r="Expected ".concat(t.expected,", received ").concat(t.received);break;case Oe.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(t.expected,Yt.jsonStringifyReplacer));break;case Oe.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(Yt.joinValues(t.keys,", "));break;case Oe.invalid_union:r="Invalid input";break;case Oe.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(Yt.joinValues(t.options));break;case Oe.invalid_enum_value:r="Invalid enum value. Expected ".concat(Yt.joinValues(t.options),", received '").concat(t.received,"'");break;case Oe.invalid_arguments:r="Invalid function arguments";break;case Oe.invalid_return_type:r="Invalid function return type";break;case Oe.invalid_date:r="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r='Invalid input: must include "'.concat(t.validation.includes,'"'),typeof t.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(t.validation.position))):"startsWith"in t.validation?r='Invalid input: must start with "'.concat(t.validation.startsWith,'"'):"endsWith"in t.validation?r='Invalid input: must end with "'.concat(t.validation.endsWith,'"'):Yt.assertNever(t.validation):t.validation!=="regex"?r="Invalid ".concat(t.validation):r="Invalid";break;case Oe.too_small:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"more than"," ").concat(t.minimum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"over"," ").concat(t.minimum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(t.minimum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(t.minimum))):r="Invalid input";break;case Oe.too_big:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"less than"," ").concat(t.maximum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"under"," ").concat(t.maximum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="bigint"?r="BigInt must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(t.maximum))):r="Invalid input";break;case Oe.custom:r="Invalid input";break;case Oe.invalid_intersection_types:r="Intersection results could not be merged";break;case Oe.not_multiple_of:r="Number must be a multiple of ".concat(t.multipleOf);break;case Oe.not_finite:r="Number must be finite";break;default:r=e.defaultError,Yt.assertNever(t)}return{message:r}};let iY=cp;function vAe(t){iY=t}function ex(){return iY}const tx=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],a={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(a,{data:e,defaultError:l}).message;return{...s,path:o,message:l}},yAe=[];function et(t,e){const r=ex(),n=tx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===cp?void 0:cp].filter(s=>!!s)});t.common.issues.push(n)}class fi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Tt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,a=await s.value;n.push({key:o,value:a})}return fi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:a}=s;if(o.status==="aborted"||a.status==="aborted")return Tt;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[o.value]=a.value)}return{status:e.value,value:n}}}const Tt=Object.freeze({status:"aborted"}),uh=t=>({status:"dirty",value:t}),Ai=t=>({status:"valid",value:t}),U2=t=>t.status==="aborted",$2=t=>t.status==="dirty",cy=t=>t.status==="valid",dy=t=>typeof Promise<"u"&&t instanceof Promise;function rx(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sY(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}var gt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(gt||(gt={}));var og,ag;class Ra{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A$=(t,e)=>{if(cy(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ys(t.common.issues);return this._error=r,this._error}}};function Ft(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{var c,d;const{message:h}=t;return a.code==="invalid_enum_value"?{message:h!=null?h:l.defaultError}:typeof l.data>"u"?{message:(c=h!=null?h:n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h!=null?h:r)!==null&&d!==void 0?d:l.defaultError}},description:s}}class kt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fi,ctx:{common:e.parent.common,data:e.data,parsedType:bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(dy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bu(e)},o=this._parseSync({data:e,path:s.path,parent:s});return A$(s,o)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bu(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(dy(s)?s:Promise.resolve(s));return A$(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const a=e(s),l=()=>o.addIssue({code:Oe.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ho({schema:this,typeName:St.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ea.create(this,this._def)}nullable(){return uc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jo.create(this,this._def)}promise(){return fp.create(this,this._def)}or(e){return my.create([this,e],this._def)}and(e){return gy.create(this,e,this._def)}transform(e){return new Ho({...Ft(this._def),schema:this,typeName:St.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wy({...Ft(this._def),innerType:this,defaultValue:r,typeName:St.ZodDefault})}brand(){return new lF({typeName:St.ZodBranded,type:this,...Ft(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new xy({...Ft(this._def),innerType:this,catchValue:r,typeName:St.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return x_.create(this,e)}readonly(){return Ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _Ae=/^c[^\s-]{8,}$/i,bAe=/^[0-9a-z]+$/,wAe=/^[0-9A-HJKMNP-TV-Z]{26}$/,xAe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EAe=/^[a-z0-9_-]{21}$/i,SAe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CAe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AAe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $A;const TAe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DAe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,PAe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RAe=new RegExp("^".concat(oY,"$"));function aY(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e="".concat(e,"\\.\\d{").concat(t.precision,"}"):t.precision==null&&(e="".concat(e,"(\\.\\d+)?")),e}function OAe(t){return new RegExp("^".concat(aY(t),"$"))}function lY(t){let e="".concat(oY,"T").concat(aY(t));const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e="".concat(e,"(").concat(r.join("|"),")"),new RegExp("^".concat(e,"$"))}function IAe(t,e){return!!((e==="v4"||!e)&&TAe.test(t)||(e==="v6"||!e)&&DAe.test(t))}class Ro extends kt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.string,received:o.parsedType}),Tt}const n=new fi;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,l=e.data.length<o.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?et(s,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&et(s,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")CAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"email",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")$A||($A=new RegExp(AAe,"u")),$A.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"emoji",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")xAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"uuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")EAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"nanoid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")_Ae.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")bAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid2",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")wAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ulid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch(a){s=this._getOrReturnCtx(e,s),et(s,{validation:"url",code:Oe.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"regex",code:Oe.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?lY(o).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?RAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?OAe(o).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?SAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"duration",code:Oe.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?IAe(e.data,o.version)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ip",code:Oe.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?PAe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"base64",code:Oe.invalid_string,message:o.message}),n.dirty()):Yt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Oe.invalid_string,...gt.errToObj(n)})}_addCheck(e){return new Ro({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...gt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...gt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...gt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...gt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...gt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...gt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...gt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...gt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...gt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...gt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...gt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...gt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...gt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...gt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...gt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...gt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...gt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...gt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...gt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...gt.errToObj(r)})}nonempty(e){return this.min(1,gt.errToObj(e))}trim(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ro.create=t=>{var e;return new Ro({checks:[],typeName:St.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ft(t)})};function BAe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return o%a/Math.pow(10,s)}class oc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.number,received:o.parsedType}),Tt}let n;const s=new fi;for(const o of this._def.checks)o.kind==="int"?Yt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?BAe(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_finite,message:o.message}),s.dirty()):Yt.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,gt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,gt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,gt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,gt.toString(r))}setLimit(e,r,n,s){return new oc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(e){return new oc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:gt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:gt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:gt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}oc.create=t=>new oc({checks:[],typeName:St.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ft(t)});class ac extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==st.bigint){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.bigint,received:o.parsedType}),Tt}let n;const s=new fi;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Yt.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,gt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,gt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,gt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,gt.toString(r))}setLimit(e,r,n,s){return new ac({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(e){return new ac({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:gt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ac.create=t=>{var e;return new ac({checks:[],typeName:St.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ft(t)})};class fy extends kt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.boolean,received:n.parsedType}),Tt}return Ai(e.data)}}fy.create=t=>new fy({typeName:St.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ft(t)});class kd extends kt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_type,expected:st.date,received:o.parsedType}),Tt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return et(o,{code:Oe.invalid_date}),Tt}const n=new fi;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Oe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Yt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:gt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:gt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}kd.create=t=>new kd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:St.ZodDate,...Ft(t)});class nx extends kt{_parse(e){if(this._getType(e)!==st.symbol){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.symbol,received:n.parsedType}),Tt}return Ai(e.data)}}nx.create=t=>new nx({typeName:St.ZodSymbol,...Ft(t)});class hy extends kt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.undefined,received:n.parsedType}),Tt}return Ai(e.data)}}hy.create=t=>new hy({typeName:St.ZodUndefined,...Ft(t)});class py extends kt{_parse(e){if(this._getType(e)!==st.null){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.null,received:n.parsedType}),Tt}return Ai(e.data)}}py.create=t=>new py({typeName:St.ZodNull,...Ft(t)});class dp extends kt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ai(e.data)}}dp.create=t=>new dp({typeName:St.ZodAny,...Ft(t)});class yd extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ai(e.data)}}yd.create=t=>new yd({typeName:St.ZodUnknown,...Ft(t)});class Fl extends kt{_parse(e){const r=this._getOrReturnCtx(e);return et(r,{code:Oe.invalid_type,expected:st.never,received:r.parsedType}),Tt}}Fl.create=t=>new Fl({typeName:St.ZodNever,...Ft(t)});class ix extends kt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.void,received:n.parsedType}),Tt}return Ai(e.data)}}ix.create=t=>new ix({typeName:St.ZodVoid,...Ft(t)});class jo extends kt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==st.array)return et(r,{code:Oe.invalid_type,expected:st.array,received:r.parsedType}),Tt;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(et(r,{code:a?Oe.too_big:Oe.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(et(r,{code:Oe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(et(r,{code:Oe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new Ra(r,a,r.path,l)))).then(a=>fi.mergeArray(n,a));const o=[...r.data].map((a,l)=>s.type._parseSync(new Ra(r,a,r.path,l)));return fi.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new jo({...this._def,minLength:{value:e,message:gt.toString(r)}})}max(e,r){return new jo({...this._def,maxLength:{value:e,message:gt.toString(r)}})}length(e,r){return new jo({...this._def,exactLength:{value:e,message:gt.toString(r)}})}nonempty(e){return this.min(1,e)}}jo.create=(t,e)=>new jo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:St.ZodArray,...Ft(e)});function zf(t){if(t instanceof Lr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ea.create(zf(n))}return new Lr({...t._def,shape:()=>e})}else return t instanceof jo?new jo({...t._def,type:zf(t.element)}):t instanceof Ea?Ea.create(zf(t.unwrap())):t instanceof uc?uc.create(zf(t.unwrap())):t instanceof Oa?Oa.create(t.items.map(e=>zf(e))):t}class Lr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Yt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==st.object){const d=this._getOrReturnCtx(e);return et(d,{code:Oe.invalid_type,expected:st.object,received:d.parsedType}),Tt}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fl&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const c=[];for(const d of a){const h=o[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ra(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Fl){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")l.length>0&&(et(s,{code:Oe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=s.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ra(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,g=await h.value;d.push({key:m,value:g,alwaysSet:h.alwaysSet})}return d}).then(d=>fi.mergeObjectSync(n,d)):fi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return gt.errToObj,new Lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o,a,l;const c=(a=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=gt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Lr({...this._def,unknownKeys:"strip"})}passthrough(){return new Lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:St.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Lr({...this._def,catchall:e})}pick(e){const r={};return Yt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Lr({...this._def,shape:()=>r})}omit(e){const r={};return Yt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Lr({...this._def,shape:()=>r})}deepPartial(){return zf(this)}partial(e){const r={};return Yt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new Lr({...this._def,shape:()=>r})}required(e){const r={};return Yt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ea;)o=o._def.innerType;r[n]=o}}),new Lr({...this._def,shape:()=>r})}keyof(){return uY(Yt.objectKeys(this.shape))}}Lr.create=(t,e)=>new Lr({shape:()=>t,unknownKeys:"strip",catchall:Fl.create(),typeName:St.ZodObject,...Ft(e)});Lr.strictCreate=(t,e)=>new Lr({shape:()=>t,unknownKeys:"strict",catchall:Fl.create(),typeName:St.ZodObject,...Ft(e)});Lr.lazycreate=(t,e)=>new Lr({shape:t,unknownKeys:"strip",catchall:Fl.create(),typeName:St.ZodObject,...Ft(e)});class my extends kt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=o.map(l=>new ys(l.ctx.common.issues));return et(r,{code:Oe.invalid_union,unionErrors:a}),Tt}if(r.common.async)return Promise.all(n.map(async o=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let o;const a=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=a.map(c=>new ys(c));return et(r,{code:Oe.invalid_union,unionErrors:l}),Tt}}get options(){return this._def.options}}my.create=(t,e)=>new my({options:t,typeName:St.ZodUnion,...Ft(e)});const Ya=t=>t instanceof yy?Ya(t.schema):t instanceof Ho?Ya(t.innerType()):t instanceof _y?[t.value]:t instanceof lc?t.options:t instanceof by?Yt.objectValues(t.enum):t instanceof wy?Ya(t._def.innerType):t instanceof hy?[void 0]:t instanceof py?[null]:t instanceof Ea?[void 0,...Ya(t.unwrap())]:t instanceof uc?[null,...Ya(t.unwrap())]:t instanceof lF||t instanceof Ey?Ya(t.unwrap()):t instanceof xy?Ya(t._def.innerType):[];class YE extends kt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.object)return et(r,{code:Oe.invalid_type,expected:st.object,received:r.parsedType}),Tt;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(et(r,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const o of r){const a=Ya(o.shape[e]);if(!a.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const l of a){if(s.has(l))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(l)));s.set(l,o)}}return new YE({typeName:St.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Ft(n)})}}function j2(t,e){const r=bu(t),n=bu(e);if(t===e)return{valid:!0,data:t};if(r===st.object&&n===st.object){const s=Yt.objectKeys(e),o=Yt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of o){const c=j2(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===st.array&&n===st.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=e[o],c=j2(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===st.date&&n===st.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gy extends kt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,a)=>{if(U2(o)||U2(a))return Tt;const l=j2(o.value,a.value);return l.valid?(($2(o)||$2(a))&&r.dirty(),{status:r.value,value:l.data}):(et(n,{code:Oe.invalid_intersection_types}),Tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>s(o,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gy.create=(t,e,r)=>new gy({left:t,right:e,typeName:St.ZodIntersection,...Ft(r)});class Oa extends kt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.array)return et(n,{code:Oe.invalid_type,expected:st.array,received:n.parsedType}),Tt;if(n.data.length<this._def.items.length)return et(n,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&n.data.length>this._def.items.length&&(et(n,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ra(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>fi.mergeArray(r,a)):fi.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new Oa({...this._def,rest:e})}}Oa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oa({items:t,typeName:St.ZodTuple,rest:null,...Ft(e)})};class vy extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.object)return et(n,{code:Oe.invalid_type,expected:st.object,received:n.parsedType}),Tt;const s=[],o=this._def.keyType,a=this._def.valueType;for(const l in n.data)s.push({key:o._parse(new Ra(n,l,n.path,l)),value:a._parse(new Ra(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?fi.mergeObjectAsync(r,s):fi.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof kt?new vy({keyType:e,valueType:r,typeName:St.ZodRecord,...Ft(n)}):new vy({keyType:Ro.create(),valueType:e,typeName:St.ZodRecord,...Ft(r)})}}class sx extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.map)return et(n,{code:Oe.invalid_type,expected:st.map,received:n.parsedType}),Tt;const s=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new Ra(n,l,n.path,[d,"key"])),value:o._parse(new Ra(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Tt;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Tt;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}sx.create=(t,e,r)=>new sx({valueType:e,keyType:t,typeName:St.ZodMap,...Ft(r)});class Nd extends kt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.set)return et(n,{code:Oe.invalid_type,expected:st.set,received:n.parsedType}),Tt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(et(n,{code:Oe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(et(n,{code:Oe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Tt;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>o._parse(new Ra(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new Nd({...this._def,minSize:{value:e,message:gt.toString(r)}})}max(e,r){return new Nd({...this._def,maxSize:{value:e,message:gt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Nd.create=(t,e)=>new Nd({valueType:t,minSize:null,maxSize:null,typeName:St.ZodSet,...Ft(e)});class Ih extends kt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.function)return et(r,{code:Oe.invalid_type,expected:st.function,received:r.parsedType}),Tt;function n(l,c){return tx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ex(),cp].filter(d=>!!d),issueData:{code:Oe.invalid_arguments,argumentsError:c}})}function s(l,c){return tx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ex(),cp].filter(d=>!!d),issueData:{code:Oe.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof fp){const l=this;return Ai(async function(...c){const d=new ys([]),h=await l._def.args.parseAsync(c,o).catch(y=>{throw d.addIssue(n(c,y)),d}),m=await Reflect.apply(a,this,h);return await l._def.returns._def.type.parseAsync(m,o).catch(y=>{throw d.addIssue(s(m,y)),d})})}else{const l=this;return Ai(function(...c){const d=l._def.args.safeParse(c,o);if(!d.success)throw new ys([n(c,d.error)]);const h=Reflect.apply(a,this,d.data),m=l._def.returns.safeParse(h,o);if(!m.success)throw new ys([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ih({...this._def,args:Oa.create(e).rest(yd.create())})}returns(e){return new Ih({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ih({args:e||Oa.create([]).rest(yd.create()),returns:r||yd.create(),typeName:St.ZodFunction,...Ft(n)})}}class yy extends kt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yy.create=(t,e)=>new yy({getter:t,typeName:St.ZodLazy,...Ft(e)});class _y extends kt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return et(r,{received:r.data,code:Oe.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}_y.create=(t,e)=>new _y({value:t,typeName:St.ZodLiteral,...Ft(e)});function uY(t,e){return new lc({values:t,typeName:St.ZodEnum,...Ft(e)})}class lc extends kt{constructor(){super(...arguments),og.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{expected:Yt.joinValues(n),received:r.parsedType,code:Oe.invalid_type}),Tt}if(rx(this,og,"f")||sY(this,og,new Set(this._def.values),"f"),!rx(this,og,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{received:r.data,code:Oe.invalid_enum_value,options:n}),Tt}return Ai(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return lc.create(e,{...this._def,...r})}exclude(e,r=this._def){return lc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}og=new WeakMap;lc.create=uY;class by extends kt{constructor(){super(...arguments),ag.set(this,void 0)}_parse(e){const r=Yt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==st.string&&n.parsedType!==st.number){const s=Yt.objectValues(r);return et(n,{expected:Yt.joinValues(s),received:n.parsedType,code:Oe.invalid_type}),Tt}if(rx(this,ag,"f")||sY(this,ag,new Set(Yt.getValidEnumValues(this._def.values)),"f"),!rx(this,ag,"f").has(e.data)){const s=Yt.objectValues(r);return et(n,{received:n.data,code:Oe.invalid_enum_value,options:s}),Tt}return Ai(e.data)}get enum(){return this._def.values}}ag=new WeakMap;by.create=(t,e)=>new by({values:t,typeName:St.ZodNativeEnum,...Ft(e)});class fp extends kt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.promise&&r.common.async===!1)return et(r,{code:Oe.invalid_type,expected:st.promise,received:r.parsedType}),Tt;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return Ai(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fp.create=(t,e)=>new fp({type:t,typeName:St.ZodPromise,...Ft(e)});class Ho extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===St.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:a=>{et(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const a=s.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Tt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Tt:c.status==="dirty"||r.value==="dirty"?uh(c.value):c});{if(r.value==="aborted")return Tt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Tt:l.status==="dirty"||r.value==="dirty"?uh(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Tt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Tt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cy(a))return a;const l=s.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>cy(a)?Promise.resolve(s.transform(a.value,o)).then(l=>({status:r.value,value:l})):a);Yt.assertNever(s)}}Ho.create=(t,e,r)=>new Ho({schema:t,typeName:St.ZodEffects,effect:e,...Ft(r)});Ho.createWithPreprocess=(t,e,r)=>new Ho({schema:e,effect:{type:"preprocess",transform:t},typeName:St.ZodEffects,...Ft(r)});class Ea extends kt{_parse(e){return this._getType(e)===st.undefined?Ai(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ea.create=(t,e)=>new Ea({innerType:t,typeName:St.ZodOptional,...Ft(e)});class uc extends kt{_parse(e){return this._getType(e)===st.null?Ai(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uc.create=(t,e)=>new uc({innerType:t,typeName:St.ZodNullable,...Ft(e)});class wy extends kt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wy.create=(t,e)=>new wy({innerType:t,typeName:St.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ft(e)});class xy extends kt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dy(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xy.create=(t,e)=>new xy({innerType:t,typeName:St.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ft(e)});class ox extends kt{_parse(e){if(this._getType(e)!==st.nan){const n=this._getOrReturnCtx(e);return et(n,{code:Oe.invalid_type,expected:st.nan,received:n.parsedType}),Tt}return{status:"valid",value:e.data}}}ox.create=t=>new ox({typeName:St.ZodNaN,...Ft(t)});const FAe=Symbol("zod_brand");class lF extends kt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class x_ extends kt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Tt:o.status==="dirty"?(r.dirty(),uh(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Tt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new x_({in:e,out:r,typeName:St.ZodPipeline})}}class Ey extends kt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(cy(s)&&(s.value=Object.freeze(s.value)),s);return dy(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ey.create=(t,e)=>new Ey({innerType:t,typeName:St.ZodReadonly,...Ft(e)});function cY(t,e={},r){return t?dp.create().superRefine((n,s)=>{var o,a;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(a=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&a!==void 0?a:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:c})}}):dp.create()}const MAe={object:Lr.lazycreate};var St;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(St||(St={}));const kAe=(t,e={message:"Input not instance of ".concat(t.name)})=>cY(r=>r instanceof t,e),dY=Ro.create,fY=oc.create,NAe=ox.create,LAe=ac.create,hY=fy.create,UAe=kd.create,$Ae=nx.create,jAe=hy.create,zAe=py.create,GAe=dp.create,VAe=yd.create,HAe=Fl.create,WAe=ix.create,KAe=jo.create,XAe=Lr.create,YAe=Lr.strictCreate,qAe=my.create,ZAe=YE.create,JAe=gy.create,QAe=Oa.create,eTe=vy.create,tTe=sx.create,rTe=Nd.create,nTe=Ih.create,iTe=yy.create,sTe=_y.create,oTe=lc.create,aTe=by.create,lTe=fp.create,T$=Ho.create,uTe=Ea.create,cTe=uc.create,dTe=Ho.createWithPreprocess,fTe=x_.create,hTe=()=>dY().optional(),pTe=()=>fY().optional(),mTe=()=>hY().optional(),gTe={string:t=>Ro.create({...t,coerce:!0}),number:t=>oc.create({...t,coerce:!0}),boolean:t=>fy.create({...t,coerce:!0}),bigint:t=>ac.create({...t,coerce:!0}),date:t=>kd.create({...t,coerce:!0})},vTe=Tt;var NZe=Object.freeze({__proto__:null,defaultErrorMap:cp,setErrorMap:vAe,getErrorMap:ex,makeIssue:tx,EMPTY_PATH:yAe,addIssueToContext:et,ParseStatus:fi,INVALID:Tt,DIRTY:uh,OK:Ai,isAborted:U2,isDirty:$2,isValid:cy,isAsync:dy,get util(){return Yt},get objectUtil(){return L2},ZodParsedType:st,getParsedType:bu,ZodType:kt,datetimeRegex:lY,ZodString:Ro,ZodNumber:oc,ZodBigInt:ac,ZodBoolean:fy,ZodDate:kd,ZodSymbol:nx,ZodUndefined:hy,ZodNull:py,ZodAny:dp,ZodUnknown:yd,ZodNever:Fl,ZodVoid:ix,ZodArray:jo,ZodObject:Lr,ZodUnion:my,ZodDiscriminatedUnion:YE,ZodIntersection:gy,ZodTuple:Oa,ZodRecord:vy,ZodMap:sx,ZodSet:Nd,ZodFunction:Ih,ZodLazy:yy,ZodLiteral:_y,ZodEnum:lc,ZodNativeEnum:by,ZodPromise:fp,ZodEffects:Ho,ZodTransformer:Ho,ZodOptional:Ea,ZodNullable:uc,ZodDefault:wy,ZodCatch:xy,ZodNaN:ox,BRAND:FAe,ZodBranded:lF,ZodPipeline:x_,ZodReadonly:Ey,custom:cY,Schema:kt,ZodSchema:kt,late:MAe,get ZodFirstPartyTypeKind(){return St},coerce:gTe,any:GAe,array:KAe,bigint:LAe,boolean:hY,date:UAe,discriminatedUnion:ZAe,effect:T$,enum:oTe,function:nTe,instanceof:kAe,intersection:JAe,lazy:iTe,literal:sTe,map:tTe,nan:NAe,nativeEnum:aTe,never:HAe,null:zAe,nullable:cTe,number:fY,object:XAe,oboolean:mTe,onumber:pTe,optional:uTe,ostring:hTe,pipeline:fTe,preprocess:dTe,promise:lTe,record:eTe,set:rTe,strictObject:YAe,string:dY,symbol:$Ae,transformer:T$,tuple:QAe,undefined:jAe,union:qAe,unknown:VAe,void:WAe,NEVER:vTe,ZodIssueCode:Oe,quotelessJson:gAe,ZodError:ys}),uF="Dialog",[pY,mY]=jp(uF),[yTe,Ko]=pY(uF),gY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=E.useRef(null),c=E.useRef(null),[d=!1,h]=di({prop:n,defaultProp:s,onChange:o});return F.jsx(yTe,{scope:e,triggerRef:l,contentRef:c,contentId:Kn(),titleId:Kn(),descriptionId:Kn(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(m=>!m),[h]),modal:a,children:r})};gY.displayName=uF;var vY="DialogTrigger",yY=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ko(vY,r),o=_t(e,s.triggerRef);return F.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fF(s.open),...n,ref:o,onClick:fe(t.onClick,s.onOpenToggle)})});yY.displayName=vY;var cF="DialogPortal",[_Te,_Y]=pY(cF,{forceMount:void 0}),bY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Ko(cF,e);return F.jsx(_Te,{scope:e,forceMount:r,children:E.Children.map(n,a=>F.jsx(zl,{present:r||o.open,children:F.jsx(zE,{asChild:!0,container:s,children:a})}))})};bY.displayName=cF;var ax="DialogOverlay",wY=E.forwardRef((t,e)=>{const r=_Y(ax,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Ko(ax,t.__scopeDialog);return o.modal?F.jsx(zl,{present:n||o.open,children:F.jsx(bTe,{...s,ref:e})}):null});wY.displayName=ax;var bTe=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ko(ax,r);return F.jsx(tX,{as:Da,allowPinchZoom:!0,shards:[s.contentRef],children:F.jsx(Xe.div,{"data-state":fF(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ld="DialogContent",xY=E.forwardRef((t,e)=>{const r=_Y(Ld,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Ko(Ld,t.__scopeDialog);return F.jsx(zl,{present:n||o.open,children:o.modal?F.jsx(wTe,{...s,ref:e}):F.jsx(xTe,{...s,ref:e})})});xY.displayName=Ld;var wTe=E.forwardRef((t,e)=>{const r=Ko(Ld,t.__scopeDialog),n=E.useRef(null),s=_t(e,r.contentRef,n);return E.useEffect(()=>{const o=n.current;if(o)return d_(o)},[]),F.jsx(EY,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault())})}),xTe=E.forwardRef((t,e)=>{const r=Ko(Ld,t.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return F.jsx(EY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),EY=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Ko(Ld,r),c=E.useRef(null),d=_t(e,c);return YK(),F.jsxs(F.Fragment,{children:[F.jsx(Bp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:F.jsx(jE,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fF(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),F.jsxs(F.Fragment,{children:[F.jsx(STe,{titleId:l.titleId}),F.jsx(ATe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dF="DialogTitle",SY=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ko(dF,r);return F.jsx(Xe.h2,{id:s.titleId,...n,ref:e})});SY.displayName=dF;var CY="DialogDescription",AY=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ko(CY,r);return F.jsx(Xe.p,{id:s.descriptionId,...n,ref:e})});AY.displayName=CY;var TY="DialogClose",DY=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ko(TY,r);return F.jsx(Xe.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});DY.displayName=TY;function fF(t){return t?"open":"closed"}var PY="DialogTitleWarning",[ETe,RY]=mSe(PY,{contentName:Ld,titleName:dF,docsSlug:"dialog"}),STe=({titleId:t})=>{const e=RY(PY),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},CTe="DialogDescriptionWarning",ATe=({contentRef:t,descriptionId:e})=>{const r=RY(CTe),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},TTe=gY,DTe=yY,PTe=bY,RTe=wY,OTe=xY,ITe=SY,BTe=AY,OY=DY,FTe="Label",IY=E.forwardRef((t,e)=>F.jsx(Xe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));IY.displayName=FTe;var LZe=IY,hF="Progress",pF=100,[MTe,UZe]=Ji(hF),[kTe,NTe]=MTe(hF),BY=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=LTe,...a}=t;(s||s===0)&&!D$(s)&&console.error(UTe("".concat(s),"Progress"));const l=D$(s)?s:pF;n!==null&&!P$(n,l)&&console.error($Te("".concat(n),"Progress"));const c=P$(n,l)?n:null,d=lx(c)?o(c,l):void 0;return F.jsx(kTe,{scope:r,value:c,max:l,children:F.jsx(Xe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":lx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":kY(c,l),"data-value":c!=null?c:void 0,"data-max":l,...a,ref:e})})});BY.displayName=hF;var FY="ProgressIndicator",MY=E.forwardRef((t,e)=>{var o;const{__scopeProgress:r,...n}=t,s=NTe(FY,r);return F.jsx(Xe.div,{"data-state":kY(s.value,s.max),"data-value":(o=s.value)!=null?o:void 0,"data-max":s.max,...n,ref:e})});MY.displayName=FY;function LTe(t,e){return"".concat(Math.round(t/e*100),"%")}function kY(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function lx(t){return typeof t=="number"}function D$(t){return lx(t)&&!isNaN(t)&&t>0}function P$(t,e){return lx(t)&&!isNaN(t)&&t<=e&&t>=0}function UTe(t,e){return"Invalid prop `max` of value `".concat(t,"` supplied to `").concat(e,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(pF,"`.")}function $Te(t,e){return"Invalid prop `value` of value `".concat(t,"` supplied to `").concat(e,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(pF," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var $Ze=BY,jZe=MY,NY="AlertDialog",[jTe,zZe]=jp(NY,[mY]),Gl=mY(),LY=t=>{const{__scopeAlertDialog:e,...r}=t,n=Gl(e);return F.jsx(TTe,{...n,...r,modal:!0})};LY.displayName=NY;var zTe="AlertDialogTrigger",GTe=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Gl(r);return F.jsx(DTe,{...s,...n,ref:e})});GTe.displayName=zTe;var VTe="AlertDialogPortal",UY=t=>{const{__scopeAlertDialog:e,...r}=t,n=Gl(e);return F.jsx(PTe,{...n,...r})};UY.displayName=VTe;var HTe="AlertDialogOverlay",$Y=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Gl(r);return F.jsx(RTe,{...s,...n,ref:e})});$Y.displayName=HTe;var Bh="AlertDialogContent",[WTe,KTe]=jTe(Bh),jY=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=Gl(r),a=E.useRef(null),l=_t(e,a),c=E.useRef(null);return F.jsx(ETe,{contentName:Bh,titleName:zY,docsSlug:"alert-dialog",children:F.jsx(WTe,{scope:r,cancelRef:c,children:F.jsxs(OTe,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:fe(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[F.jsx(cB,{children:n}),F.jsx(YTe,{contentRef:a})]})})})});jY.displayName=Bh;var zY="AlertDialogTitle",GY=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Gl(r);return F.jsx(ITe,{...s,...n,ref:e})});GY.displayName=zY;var VY="AlertDialogDescription",HY=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Gl(r);return F.jsx(BTe,{...s,...n,ref:e})});HY.displayName=VY;var XTe="AlertDialogAction",WY=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Gl(r);return F.jsx(OY,{...s,...n,ref:e})});WY.displayName=XTe;var KY="AlertDialogCancel",XY=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=KTe(KY,r),o=Gl(r),a=_t(e,s);return F.jsx(OY,{...o,...n,ref:a})});XY.displayName=KY;var YTe=({contentRef:t})=>{const e="`".concat(Bh,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Bh,"` by passing a `").concat(VY,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Bh,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return E.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},GZe=LY,VZe=UY,HZe=$Y,WZe=jY,KZe=WY,XZe=XY,YZe=GY,qZe=HY,mF="Tabs",[qTe,ZZe]=Ji(mF,[fo]),YY=fo(),[ZTe,gF]=qTe(mF),qY=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Fa(l),[m,g]=di({prop:n,onChange:s,defaultProp:o});return F.jsx(ZTe,{scope:r,baseId:Kn(),value:m,onValueChange:g,orientation:a,dir:h,activationMode:c,children:F.jsx(Xe.div,{dir:h,"data-orientation":a,...d,ref:e})})});qY.displayName=mF;var ZY="TabsList",JY=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=gF(ZY,r),a=YY(r);return F.jsx(Lp,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:F.jsx(Xe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});JY.displayName=ZY;var QY="TabsTrigger",eq=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,a=gF(QY,r),l=YY(r),c=nq(a.baseId,n),d=iq(a.baseId,n),h=n===a.value;return F.jsx(Jd,{asChild:!0,...l,focusable:!s,active:h,children:F.jsx(Xe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:fe(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?a.onValueChange(n):m.preventDefault()}),onKeyDown:fe(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(n)}),onFocus:fe(t.onFocus,()=>{const m=a.activationMode!=="manual";!h&&!s&&m&&a.onValueChange(n)})})})});eq.displayName=QY;var tq="TabsContent",rq=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=t,l=gF(tq,r),c=nq(l.baseId,n),d=iq(l.baseId,n),h=n===l.value,m=E.useRef(h);return E.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),F.jsx(Zi,{present:s||h,children:({present:g})=>F.jsx(Xe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&o})})});rq.displayName=tq;function nq(t,e){return"".concat(t,"-trigger-").concat(e)}function iq(t,e){return"".concat(t,"-content-").concat(e)}var JZe=qY,QZe=JY,eJe=eq,tJe=rq;const z2="RFC3986",G2={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},JTe="RFC1738",QTe=Array.isArray,ea=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),jA=1024,eDe=(t,e,r,n,s)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let a="";for(let l=0;l<o.length;l+=jA){const c=o.length>=jA?o.slice(l,l+jA):o,d=[];for(let h=0;h<c.length;++h){let m=c.charCodeAt(h);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===JTe&&(m===40||m===41)){d[d.length]=c.charAt(h);continue}if(m<128){d[d.length]=ea[m];continue}if(m<2048){d[d.length]=ea[192|m>>6]+ea[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ea[224|m>>12]+ea[128|m>>6&63]+ea[128|m&63];continue}h+=1,m=65536+((m&1023)<<10|c.charCodeAt(h)&1023),d[d.length]=ea[240|m>>18]+ea[128|m>>12&63]+ea[128|m>>6&63]+ea[128|m&63]}a+=d.join("")}return a};function tDe(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function R$(t,e){if(QTe(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const rDe=Object.prototype.hasOwnProperty,sq={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},la=Array.isArray,nDe=Array.prototype.push,oq=function(t,e){nDe.apply(t,la(e)?e:[e])},iDe=Date.prototype.toISOString,_n={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:eDe,encodeValuesOnly:!1,format:z2,formatter:G2[z2],indices:!1,serializeDate(t){return iDe.call(t)},skipNulls:!1,strictNullHandling:!1};function sDe(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const zA={};function aq(t,e,r,n,s,o,a,l,c,d,h,m,g,y,_,u,f,p){let v=t,b=p,w=0,x=!1;for(;(b=b.get(zA))!==void 0&&!x;){const T=b.get(t);if(w+=1,typeof T<"u"){if(T===w)throw new RangeError("Cyclic object value");x=!0}typeof b.get(zA)>"u"&&(w=0)}if(typeof d=="function"?v=d(e,v):v instanceof Date?v=g==null?void 0:g(v):r==="comma"&&la(v)&&(v=R$(v,function(T){return T instanceof Date?g==null?void 0:g(T):T})),v===null){if(o)return c&&!u?c(e,_n.encoder,f,"key",y):e;v=""}if(sDe(v)||tDe(v)){if(c){const T=u?e:c(e,_n.encoder,f,"key",y);return[(_==null?void 0:_(T))+"="+(_==null?void 0:_(c(v,_n.encoder,f,"value",y)))]}return[(_==null?void 0:_(e))+"="+(_==null?void 0:_(String(v)))]}const S=[];if(typeof v>"u")return S;let A;if(r==="comma"&&la(v))u&&c&&(v=R$(v,c)),A=[{value:v.length>0?v.join(",")||null:void 0}];else if(la(d))A=d;else{const T=Object.keys(v);A=h?T.sort(h):T}const D=l?String(e).replace(/\./g,"%2E"):String(e),C=n&&la(v)&&v.length===1?D+"[]":D;if(s&&la(v)&&v.length===0)return C+"[]";for(let T=0;T<A.length;++T){const R=A[T],P=typeof R=="object"&&typeof R.value<"u"?R.value:v[R];if(a&&P===null)continue;const O=m&&l?R.replace(/\./g,"%2E"):R,I=la(v)?typeof r=="function"?r(C,O):C:C+(m?"."+O:"["+O+"]");p.set(t,w);const k=new WeakMap;k.set(zA,p),oq(S,aq(P,I,r,n,s,o,a,l,r==="comma"&&u&&la(v)?null:c,d,h,m,g,y,_,u,f,k))}return S}function oDe(t=_n){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||_n.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=z2;if(typeof t.format<"u"){if(!rDe.call(G2,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=G2[r];let s=_n.filter;(typeof t.filter=="function"||la(t.filter))&&(s=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in sq?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=_n.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:_n.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:_n.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:_n.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:_n.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?_n.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:_n.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:_n.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:_n.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:_n.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:_n.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:_n.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:_n.strictNullHandling}}function aDe(t,e={}){let r=t;const n=oDe(e);let s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):la(n.filter)&&(o=n.filter,s=o);const a=[];if(typeof r!="object"||r===null)return"";const l=sq[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const d=new WeakMap;for(let g=0;g<s.length;++g){const y=s[g];n.skipNulls&&r[y]===null||oq(a,aq(r[y],y,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}const h=a.join(n.delimiter);let m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""}const Gf="4.77.0";let O$=!1,Hg,lq,uq,V2,cq,dq,fq,hq,pq;function lDe(t,e={auto:!1}){if(O$)throw new Error("you must `import 'openai/shims/".concat(t.kind,"'` before importing anything else from openai"));if(Hg)throw new Error("can't `import 'openai/shims/".concat(t.kind,"'` after `import 'openai/shims/").concat(Hg,"'`"));O$=e.auto,Hg=t.kind,lq=t.fetch,t.Request,t.Response,t.Headers,uq=t.FormData,t.Blob,V2=t.File,cq=t.ReadableStream,dq=t.getMultipartRequestOptions,fq=t.getDefaultAgent,hq=t.fileFromPath,pq=t.isFsReadStream}class uDe{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function cDe({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,s,o;try{r=fetch,n=Request,s=Response,o=Headers}catch(a){throw new Error("this environment is missing the following Web Fetch API type: ".concat(a.message,". ").concat(e))}return{kind:"web",fetch:r,Request:n,Response:s,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(e))}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(e))}},File:typeof File<"u"?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(e))}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(e))}},getMultipartRequestOptions:async(a,l)=>({...l,body:new uDe(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}Hg||lDe(cDe(),{auto:!0});class Gt extends Error{}class Yn extends Gt{constructor(e,r,n,s){super("".concat(Yn.makeMessage(e,r,n))),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=r;const o=r;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&s?"".concat(e," ").concat(s):e?"".concat(e," status code (no body)"):s||"(no status code or body)"}static generate(e,r,n,s){if(!e||!s)return new qE({message:n,cause:W2(r)});const o=r==null?void 0:r.error;return e===400?new mq(e,o,n,s):e===401?new gq(e,o,n,s):e===403?new vq(e,o,n,s):e===404?new yq(e,o,n,s):e===409?new _q(e,o,n,s):e===422?new bq(e,o,n,s):e===429?new wq(e,o,n,s):e>=500?new xq(e,o,n,s):new Yn(e,o,n,s)}}class Oo extends Yn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qE extends Yn{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class vF extends qE{constructor({message:e}={}){super({message:e!=null?e:"Request timed out."})}}class mq extends Yn{}class gq extends Yn{}class vq extends Yn{}class yq extends Yn{}class _q extends Yn{}class bq extends Yn{}class wq extends Yn{}class xq extends Yn{}class Eq extends Gt{constructor(){super("Could not parse response content as the length limit was reached")}}class Sq extends Gt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ud{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];const n=Ud.NEWLINE_CHARS.has(r[r.length-1]||"");let s=r.split(Ud.NEWLINE_REGEXP);return n&&s.pop(),s.length===1&&!n?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),n||(this.buffer=[s.pop()||""]),s)}decodeText(e){var r;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Gt("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(r=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Gt("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new Gt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Ud.NEWLINE_CHARS=new Set(["\n","\r"]);Ud.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class ya{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const a of dDe(e,r))if(!o){if(a.data.startsWith("[DONE]")){o=!0;continue}if(a.event===null){let l;try{l=JSON.parse(a.data)}catch(c){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),c}if(l&&l.error)throw new Yn(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(a.data)}catch(c){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),c}if(a.event=="error")throw new Yn(void 0,l.error,l.message,void 0);yield{event:a.event,data:l}}}o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||r.abort()}}return new ya(s,r)}static fromReadableStream(e,r){let n=!1;async function*s(){const a=new Ud,l=Cq(e);for await(const c of l)for(const d of a.decode(c))yield d;for(const c of a.flush())yield c}async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const l of s())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{a||r.abort()}}return new ya(o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),s=o=>({next:()=>{if(o.length===0){const a=n.next();e.push(a),r.push(a)}return o.shift()}});return[new ya(()=>s(e),this.controller),new ya(()=>s(r),this.controller)]}toReadableStream(){const e=this;let r;const n=new TextEncoder;return new cq({async start(){r=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:a}=await r.next();if(a)return s.close();const l=n.encode(JSON.stringify(o)+"\n");s.enqueue(l)}catch(o){s.error(o)}},async cancel(){var s;await((s=r.return)==null?void 0:s.call(r))}})}}async function*dDe(t,e){if(!t.body)throw e.abort(),new Gt("Attempted to iterate over a response with no body");const r=new pDe,n=new Ud,s=Cq(t.body);for await(const o of fDe(s))for(const a of n.decode(o)){const l=r.decode(a);l&&(yield l)}for(const o of n.flush()){const a=r.decode(o);a&&(yield a)}}async function*fDe(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let o;for(;(o=hDe(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}function hDe(t){for(let n=0;n<t.length-2;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}class pDe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,s]=mDe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function mDe(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}function Cq(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Aq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Tq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ZE(t),ZE=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",gDe=t=>Tq(t)||Aq(t)||pq(t);async function Dq(t,e,r){var s,o,a;if(t=await t,Tq(t))return t;if(Aq(t)){const l=await t.blob();e||(e=(s=new URL(t.url).pathname.split(/[\\/]/).pop())!=null?s:"unknown_file");const c=ZE(l)?[await l.arrayBuffer()]:[l];return new V2(c,e,r)}const n=await vDe(t);if(e||(e=(o=_De(t))!=null?o:"unknown_file"),!(r!=null&&r.type)){const l=(a=n[0])==null?void 0:a.type;typeof l=="string"&&(r={...r,type:l})}return new V2(n,e,r)}async function vDe(t){var r;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(ZE(t))e.push(await t.arrayBuffer());else if(bDe(t))for await(const n of t)e.push(n);else throw new Error("Unexpected data type: ".concat(typeof t,"; constructor: ").concat((r=t==null?void 0:t.constructor)==null?void 0:r.name,"; props: ").concat(yDe(t)));return e}function yDe(t){const e=Object.getOwnPropertyNames(t);return"[".concat(e.map(r=>'"'.concat(r,'"')).join(", "),"]")}function _De(t){var e;return GA(t.name)||GA(t.filename)||((e=GA(t.path))==null?void 0:e.split(/[\\/]/).pop())}const GA=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},bDe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",I$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",hp=async t=>{const e=await wDe(t.body);return dq(e,t)},wDe=async t=>{const e=new uq;return await Promise.all(Object.entries(t||{}).map(([r,n])=>H2(e,r,n))),e},H2=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError('Received null for "'.concat(e,"\"; to pass null in FormData, you must use the string 'null'"));if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(gDe(r)){const n=await Dq(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>H2(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>H2(t,"".concat(e,"[").concat(n,"]"),s)));else throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(r," instead"))}};var xDe=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},EDe=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},nb;async function Pq(t){const{response:e}=t;if(t.options.stream)return Fh("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):ya.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const r=e.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const o=await e.json();return Fh("response",e.status,e.url,e.headers,o),Rq(o,e)}const s=await e.text();return Fh("response",e.status,e.url,e.headers,s),s}function Rq(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class JE extends Promise{constructor(e,r=Pq){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new JE(this.responsePromise,async r=>Rq(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class SDe{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:s,fetch:o}){this.baseURL=e,this.maxRetries=VA("maxRetries",r),this.timeout=VA("timeout",n),this.httpAgent=s,this.fetch=o!=null?o:lq}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...RDe(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(FDe())}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async s=>{const o=s&&ZE(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:r,...s,body:o}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){var u,f,p,v,b,w;const{method:n,path:s,query:o,headers:a={}}=e,l=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:I$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,c=this.calculateContentLength(l),d=this.buildURL(s,o);"timeout"in e&&VA("timeout",e.timeout);const h=(u=e.timeout)!=null?u:this.timeout,m=(p=(f=e.httpAgent)!=null?f:this.httpAgent)!=null?p:fq(d),g=h+1e3;typeof((v=m==null?void 0:m.options)==null?void 0:v.timeout)=="number"&&g>((b=m.options.timeout)!=null?b:0)&&(m.options.timeout=g),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:e,headers:a,contentLength:c,retryCount:r});return{req:{method:n,...l&&{body:l},headers:y,...m&&{agent:m},signal:(w=e.signal)!=null?w:null},url:d,timeout:h}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:s}){const o={};n&&(o["content-length"]=n);const a=this.defaultHeaders(e);return M$(o,a),M$(o,r),I$(e.body)&&Hg!=="node"&&delete o["content-type"],k$(a,"x-stainless-retry-count")===void 0&&k$(r,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(s)),this.validateHeaders(o,r),o}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,s){return Yn.generate(e,r,n,s)}request(e,r=null){return new JE(this.makeRequest(e,r))}async makeRequest(e,r){var m,g,y;const n=await e,s=(m=n.maxRetries)!=null?m:this.maxRetries;r==null&&(r=s),await this.prepareOptions(n);const{req:o,url:a,timeout:l}=this.buildRequest(n,{retryCount:s-r});if(await this.prepareRequest(o,{url:a,options:n}),Fh("request",a,n,o.headers),(g=n.signal)!=null&&g.aborted)throw new Oo;const c=new AbortController,d=await this.fetchWithTimeout(a,o,l,c).catch(W2);if(d instanceof Error){if((y=n.signal)!=null&&y.aborted)throw new Oo;if(r)return this.retryRequest(n,r);throw d.name==="AbortError"?new vF:new qE({cause:d})}const h=ADe(d.headers);if(!d.ok){if(r&&this.shouldRetry(d)){const b="retrying, ".concat(r," attempts remaining");return Fh("response (error; ".concat(b,")"),d.status,a,h),this.retryRequest(n,r,h)}const _=await d.text().catch(b=>W2(b).message),u=ODe(_),f=u?void 0:_,p=r?"(error; no more retries left)":"(error; not retryable)";throw Fh("response (error; ".concat(p,")"),d.status,a,h,f),this.makeStatusError(d.status,u,f,h)}return{response:d,options:n,controller:c}}requestAPIList(e,r){const n=this.makeRequest(r,null);return new CDe(this,n,e)}buildURL(e,r){const n=BDe(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Iq(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n));if(n===null)return"".concat(encodeURIComponent(r),"=");throw new Gt("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))}).join("&")}async fetchWithTimeout(e,r,n,s){const{signal:o,...a}=r||{};o&&o.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),n);return this.fetch.call(void 0,e,{signal:s.signal,...a}).finally(()=>{clearTimeout(l)})}shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){var l;let s;const o=n==null?void 0:n["retry-after-ms"];if(o){const c=parseFloat(o);Number.isNaN(c)||(s=c)}const a=n==null?void 0:n["retry-after"];if(a&&!s){const c=parseFloat(a);Number.isNaN(c)?s=Date.parse(a)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(l=e.maxRetries)!=null?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,c)}return await E_(s),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){const o=r-e,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(Gf)}}class Oq{constructor(e,r,n,s){nb.set(this,void 0),xDe(this,nb,e,"f"),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Gt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){const n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(const[s,o]of n)e.url.searchParams.set(s,o);r.query=void 0,r.path=e.url.toString()}return await EDe(this,nb,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(nb=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class CDe extends JE{constructor(e,r,n){super(r,async s=>new n(e,s.response,await Pq(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}const ADe=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){const n=r.toString();return e[n.toLowerCase()]||e[n]}}),TDe={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},qi=t=>typeof t=="object"&&t!==null&&!Iq(t)&&Object.keys(t).every(e=>Bq(TDe,e)),DDe=()=>{var e,r;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gf,"X-Stainless-OS":F$(Deno.build.os),"X-Stainless-Arch":B$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(r=(e=Deno.version)==null?void 0:e.deno)!=null?r:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gf,"X-Stainless-OS":F$(process.platform),"X-Stainless-Arch":B$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=PDe();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(t.browser),"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PDe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,o=n[2]||0,a=n[3]||0;return{browser:e,version:"".concat(s,".").concat(o,".").concat(a)}}}return null}const B$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?"other:".concat(t):"unknown",F$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?"Other:".concat(t):"Unknown");let ib;const RDe=()=>ib!=null?ib:ib=DDe(),ODe=t=>{try{return JSON.parse(t)}catch(e){return}},IDe=/^[a-z][a-z0-9+.-]*:/i,BDe=t=>IDe.test(t),E_=t=>new Promise(e=>setTimeout(e,t)),VA=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Gt("".concat(t," must be an integer"));if(e<0)throw new Gt("".concat(t," must be a positive integer"));return e},W2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch(e){}return new Error(t)},sb=t=>{var e,r,n,s,o,a;if(typeof process<"u")return(n=(r=(e=process.env)==null?void 0:e[t])==null?void 0:r.trim())!=null?n:void 0;if(typeof Deno<"u")return(a=(o=(s=Deno.env)==null?void 0:s.get)==null?void 0:o.call(s,t))==null?void 0:a.trim()};function Iq(t){if(!t)return!0;for(const e in t)return!1;return!0}function Bq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M$(t,e){for(const r in e){if(!Bq(e,r))continue;const n=r.toLowerCase();if(!n)continue;const s=e[r];s===null?delete t[n]:s!==void 0&&(t[n]=s)}}function Fh(t,...e){var r;typeof process<"u"&&((r=process==null?void 0:process.env)==null?void 0:r.DEBUG)==="true"&&console.log("OpenAI:DEBUG:".concat(t),...e)}const FDe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),MDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",kDe=t=>typeof(t==null?void 0:t.get)=="function",k$=(t,e)=>{var n;const r=e.toLowerCase();if(kDe(t)){const s=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(o,a,l)=>a+l.toUpperCase());for(const o of[e,r,e.toUpperCase(),s]){const a=t.get(o);if(a)return a}}for(const[s,o]of Object.entries(t))if(s.toLowerCase()===r)return Array.isArray(o)?(o.length<=1||console.warn("Received ".concat(o.length," entries for the ").concat(e," header, using the first entry.")),o[0]):o};function HA(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class NDe extends Oq{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Xo extends Oq{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[]}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const r=(n=e[e.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class or{constructor(e){this._client=e}}let Fq=class extends or{create(e,r){var n;return this._client.post("/chat/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}},yF=class extends or{constructor(){super(...arguments),this.completions=new Fq(this._client)}};yF.Completions=Fq;class Mq extends or{create(e,r){return this._client.post("/audio/speech",{body:e,...r,__binaryResponse:!0})}}class kq extends or{create(e,r){return this._client.post("/audio/transcriptions",hp({body:e,...r}))}}class Nq extends or{create(e,r){return this._client.post("/audio/translations",hp({body:e,...r}))}}class S_ extends or{constructor(){super(...arguments),this.transcriptions=new kq(this._client),this.translations=new Nq(this._client),this.speech=new Mq(this._client)}}S_.Transcriptions=kq;S_.Translations=Nq;S_.Speech=Mq;class _F extends or{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get("/batches/".concat(e),r)}list(e={},r){return qi(e)?this.list({},e):this._client.getAPIList("/batches",bF,{query:e,...r})}cancel(e,r){return this._client.post("/batches/".concat(e,"/cancel"),r)}}class bF extends Xo{}_F.BatchesPage=bF;class wF extends or{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/assistants/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return qi(e)?this.list({},e):this._client.getAPIList("/assistants",xF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class xF extends Xo{}wF.AssistantsPage=xF;function N$(t){return typeof t.parse=="function"}const Mh=t=>(t==null?void 0:t.role)==="assistant",Lq=t=>(t==null?void 0:t.role)==="function",Uq=t=>(t==null?void 0:t.role)==="tool";var yo=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},kr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},K2,lw,uw,lg,ug,cw,cg,qa,dg,ux,cx,Vf,$q;class jq{constructor(){K2.add(this),this.controller=new AbortController,lw.set(this,void 0),uw.set(this,()=>{}),lg.set(this,()=>{}),ug.set(this,void 0),cw.set(this,()=>{}),cg.set(this,()=>{}),qa.set(this,{}),dg.set(this,!1),ux.set(this,!1),cx.set(this,!1),Vf.set(this,!1),yo(this,lw,new Promise((e,r)=>{yo(this,uw,e,"f"),yo(this,lg,r,"f")}),"f"),yo(this,ug,new Promise((e,r)=>{yo(this,cw,e,"f"),yo(this,cg,r,"f")}),"f"),kr(this,lw,"f").catch(()=>{}),kr(this,ug,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},kr(this,K2,"m",$q).bind(this))},0)}_connected(){this.ended||(kr(this,uw,"f").call(this),this._emit("connect"))}get ended(){return kr(this,dg,"f")}get errored(){return kr(this,ux,"f")}get aborted(){return kr(this,cx,"f")}abort(){this.controller.abort()}on(e,r){return(kr(this,qa,"f")[e]||(kr(this,qa,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=kr(this,qa,"f")[e];if(!n)return this;const s=n.findIndex(o=>o.listener===r);return s>=0&&n.splice(s,1),this}once(e,r){return(kr(this,qa,"f")[e]||(kr(this,qa,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{yo(this,Vf,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){yo(this,Vf,!0,"f"),await kr(this,ug,"f")}_emit(e,...r){if(kr(this,dg,"f"))return;e==="end"&&(yo(this,dg,!0,"f"),kr(this,cw,"f").call(this));const n=kr(this,qa,"f")[e];if(n&&(kr(this,qa,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),e==="abort"){const s=r[0];!kr(this,Vf,"f")&&!(n!=null&&n.length)&&Promise.reject(s),kr(this,lg,"f").call(this,s),kr(this,cg,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=r[0];!kr(this,Vf,"f")&&!(n!=null&&n.length)&&Promise.reject(s),kr(this,lg,"f").call(this,s),kr(this,cg,"f").call(this,s),this._emit("end")}}_emitFinal(){}}lw=new WeakMap,uw=new WeakMap,lg=new WeakMap,ug=new WeakMap,cw=new WeakMap,cg=new WeakMap,qa=new WeakMap,dg=new WeakMap,ux=new WeakMap,cx=new WeakMap,Vf=new WeakMap,K2=new WeakSet,$q=function(e){if(yo(this,ux,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Oo),e instanceof Oo)return yo(this,cx,!0,"f"),this._emit("abort",e);if(e instanceof Gt)return this._emit("error",e);if(e instanceof Error){const r=new Gt(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new Gt(String(e)))};function zq(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function C_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function LDe(t,e){return!e||!Gq(e)?{...t,choices:t.choices.map(r=>{var n;return{...r,message:{...r.message,parsed:null,tool_calls:(n=r.message.tool_calls)!=null?n:[]}}})}:EF(t,e)}function EF(t,e){const r=t.choices.map(n=>{var s,o;if(n.finish_reason==="length")throw new Eq;if(n.finish_reason==="content_filter")throw new Sq;return{...n,message:{...n.message,tool_calls:(o=(s=n.message.tool_calls)==null?void 0:s.map(a=>$De(e,a)))!=null?o:[],parsed:n.message.content&&!n.message.refusal?UDe(e,n.message.content):null}}});return{...t,choices:r}}function UDe(t,e){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function $De(t,e){var n;const r=(n=t.tools)==null?void 0:n.find(s=>{var o;return((o=s.function)==null?void 0:o.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:C_(r)?r.$parseRaw(e.function.arguments):r!=null&&r.function.strict?JSON.parse(e.function.arguments):null}}}function jDe(t,e){var n;if(!t)return!1;const r=(n=t.tools)==null?void 0:n.find(s=>{var o;return((o=s.function)==null?void 0:o.name)===e.function.name});return C_(r)||(r==null?void 0:r.function.strict)||!1}function Gq(t){var e,r;return zq(t.response_format)?!0:(r=(e=t.tools)==null?void 0:e.some(n=>C_(n)||n.type==="function"&&n.function.strict===!0))!=null?r:!1}function zDe(t){for(const e of t!=null?t:[]){if(e.type!=="function")throw new Gt("Currently only `function` tool types support auto-parsing; Received `".concat(e.type,"`"));if(e.function.strict!==!0)throw new Gt("The `".concat(e.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}var Mi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Qn,X2,dx,Y2,q2,Z2,Vq,J2;const L$=10;class Hq extends jq{constructor(){super(...arguments),Qn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=(n=e.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(Lq(e)||Uq(e))&&e.content)this._emit("functionCallResult",e.content);else if(Mh(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Mh(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Gt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Mi(this,Qn,"m",X2).call(this)}async finalMessage(){return await this.done(),Mi(this,Qn,"m",dx).call(this)}async finalFunctionCall(){return await this.done(),Mi(this,Qn,"m",Y2).call(this)}async finalFunctionCallResult(){return await this.done(),Mi(this,Qn,"m",q2).call(this)}async totalUsage(){return await this.done(),Mi(this,Qn,"m",Z2).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=Mi(this,Qn,"m",dx).call(this);r&&this._emit("finalMessage",r);const n=Mi(this,Qn,"m",X2).call(this);n&&this._emit("finalContent",n);const s=Mi(this,Qn,"m",Y2).call(this);s&&this._emit("finalFunctionCall",s);const o=Mi(this,Qn,"m",q2).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Mi(this,Qn,"m",Z2).call(this))}async _createChatCompletion(e,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Mi(this,Qn,"m",Vq).call(this,r);const o=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(EF(o,r))}async _runChatCompletion(e,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){var g;const s="function",{function_call:o="auto",stream:a,...l}=r,c=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:d=L$}=n||{},h={};for(const y of r.functions)h[y.name||y.function.name]=y;const m=r.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of r.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const u=(g=(await this._createChatCompletion(e,{...l,function_call:o,functions:m,messages:[...this.messages]},n)).choices[0])==null?void 0:g.message;if(!u)throw new Gt("missing message in ChatCompletion response");if(!u.function_call)return;const{name:f,arguments:p}=u.function_call,v=h[f];if(v){if(c&&c!==f){const S="Invalid function_call: ".concat(JSON.stringify(f),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,name:f,content:S});continue}}else{const S="Invalid function_call: ".concat(JSON.stringify(f),". Available options are: ").concat(m.map(A=>JSON.stringify(A.name)).join(", "),". Please try again");this._addMessage({role:s,name:f,content:S});continue}let b;try{b=N$(v)?await v.parse(p):p}catch(S){this._addMessage({role:s,name:f,content:S instanceof Error?S.message:String(S)});continue}const w=await v.function(b,this),x=Mi(this,Qn,"m",J2).call(this,w);if(this._addMessage({role:s,name:f,content:x}),c)return}}async _runTools(e,r,n){var y,_,u;const s="tool",{tool_choice:o="auto",stream:a,...l}=r,c=typeof o!="string"&&((y=o==null?void 0:o.function)==null?void 0:y.name),{maxChatCompletions:d=L$}=n||{},h=r.tools.map(f=>{if(C_(f)){if(!f.$callback)throw new Gt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),m={};for(const f of h)f.type==="function"&&(m[f.function.name||f.function.function.name]=f.function);const g="tools"in r?h.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(const f of r.messages)this._addMessage(f,!1);for(let f=0;f<d;++f){const v=(_=(await this._createChatCompletion(e,{...l,tool_choice:o,tools:g,messages:[...this.messages]},n)).choices[0])==null?void 0:_.message;if(!v)throw new Gt("missing message in ChatCompletion response");if(!((u=v.tool_calls)!=null&&u.length))return;for(const b of v.tool_calls){if(b.type!=="function")continue;const w=b.id,{name:x,arguments:S}=b.function,A=m[x];if(A){if(c&&c!==x){const R="Invalid tool_call: ".concat(JSON.stringify(x),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}}else{const R="Invalid tool_call: ".concat(JSON.stringify(x),". Available options are: ").concat(Object.keys(m).map(P=>JSON.stringify(P)).join(", "),". Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}let D;try{D=N$(A)?await A.parse(S):S}catch(R){const P=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:w,content:P});continue}const C=await A.function(D,this),T=Mi(this,Qn,"m",J2).call(this,C);if(this._addMessage({role:s,tool_call_id:w,content:T}),c)return}}}}Qn=new WeakSet,X2=function(){var e;return(e=Mi(this,Qn,"m",dx).call(this).content)!=null?e:null},dx=function(){var r,n;let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(Mh(s)){const{function_call:o,...a}=s,l={...a,content:(r=s.content)!=null?r:null,refusal:(n=s.refusal)!=null?n:null};return o&&(l.function_call=o),l}}throw new Gt("stream ended without producing a ChatCompletionMessage with role=assistant")},Y2=function(){var e,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(Mh(s)&&(s!=null&&s.function_call))return s.function_call;if(Mh(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(r=s.tool_calls.at(-1))==null?void 0:r.function}},q2=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(Lq(r)&&r.content!=null||Uq(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(o=>o.type==="function"&&o.id===r.tool_call_id))}))return r.content}},Z2=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},Vq=function(e){if(e.n!=null&&e.n>1)throw new Gt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},J2=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Sy extends Hq{static runFunctions(e,r,n){const s=new Sy,o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,o)),s}static runTools(e,r,n){const s=new Sy,o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,o)),s}_addMessage(e,r=!0){super._addMessage(e,r),Mh(e)&&e.content&&this._emit("content",e.content)}}const Wq=1,Kq=2,Xq=4,Yq=8,qq=16,Zq=32,Jq=64,Qq=128,eZ=256,tZ=Qq|eZ,rZ=qq|Zq|tZ|Jq,nZ=Wq|Kq|rZ,iZ=Xq|Yq,GDe=nZ|iZ,Dn={STR:Wq,NUM:Kq,ARR:Xq,OBJ:Yq,NULL:qq,BOOL:Zq,NAN:Jq,INFINITY:Qq,MINUS_INFINITY:eZ,INF:tZ,SPECIAL:rZ,ATOM:nZ,COLLECTION:iZ,ALL:GDe};class VDe extends Error{}class HDe extends Error{}function WDe(t,e=Dn.ALL){if(typeof t!="string")throw new TypeError("expecting str, got ".concat(typeof t));if(!t.trim())throw new Error("".concat(t," is empty"));return KDe(t.trim(),e)}const KDe=(t,e)=>{const r=t.length;let n=0;const s=g=>{throw new VDe("".concat(g," at position ").concat(n))},o=g=>{throw new HDe("".concat(g," at position ").concat(n))},a=()=>(m(),n>=r&&s("Unexpected end of input"),t[n]==='"'?l():t[n]==="{"?c():t[n]==="["?d():t.substring(n,n+4)==="null"||Dn.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Dn.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Dn.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Dn.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Dn.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Dn.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):h()),l=()=>{const g=n;let y=!1;for(n++;n<r&&(t[n]!=='"'||y&&t[n-1]==="\\");)y=t[n]==="\\"?!y:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(g,++n-Number(y)))}catch(_){o(String(_))}else if(Dn.STR&e)try{return JSON.parse(t.substring(g,n-Number(y))+'"')}catch(_){return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,m();const g={};try{for(;t[n]!=="}";){if(m(),n>=r&&Dn.OBJ&e)return g;const y=l();m(),n++;try{const _=a();Object.defineProperty(g,y,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(Dn.OBJ&e)return g;throw _}m(),t[n]===","&&n++}}catch(y){if(Dn.OBJ&e)return g;s("Expected '}' at end of object")}return n++,g},d=()=>{n++;const g=[];try{for(;t[n]!=="]";)g.push(a()),m(),t[n]===","&&n++}catch(y){if(Dn.ARR&e)return g;s("Expected ']' at end of array")}return n++,g},h=()=>{if(n===0){t==="-"&&Dn.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(Dn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch(_){}o(String(y))}}const g=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Dn.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(g,n))}catch(y){t.substring(g,n)==="-"&&Dn.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(_){o(String(_))}}},m=()=>{for(;n<r&&" \n\r	".includes(t[n]);)n++};return a()},U$=t=>WDe(t,Dn.ALL^Dn.NUM);var Df=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ar=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},yn,Wa,Pf,eu,WA,ob,KA,XA,YA,ab,qA,$$;class Cy extends Hq{constructor(e){super(),yn.add(this),Wa.set(this,void 0),Pf.set(this,void 0),eu.set(this,void 0),Df(this,Wa,e,"f"),Df(this,Pf,[],"f")}get currentChatCompletionSnapshot(){return ar(this,eu,"f")}static fromReadableStream(e){const r=new Cy(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const s=new Cy(r);return s._run(()=>s._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,r,n){var a;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ar(this,yn,"m",WA).call(this);const o=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of o)ar(this,yn,"m",KA).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Oo;return this._addChatCompletion(ar(this,yn,"m",ab).call(this))}async _fromReadableStream(e,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),ar(this,yn,"m",WA).call(this),this._connected();const s=ya.fromReadableStream(e,this.controller);let o;for await(const l of s)o&&o!==l.id&&this._addChatCompletion(ar(this,yn,"m",ab).call(this)),ar(this,yn,"m",KA).call(this,l),o=l.id;if((a=s.controller.signal)!=null&&a.aborted)throw new Oo;return this._addChatCompletion(ar(this,yn,"m",ab).call(this))}[(Wa=new WeakMap,Pf=new WeakMap,eu=new WeakMap,yn=new WeakSet,WA=function(){this.ended||Df(this,eu,void 0,"f")},ob=function(r){let n=ar(this,Pf,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ar(this,Pf,"f")[r.index]=n,n)},KA=function(r){var s,o,a,l,c,d,h,m,g,y,_,u,f,p,v,b,w,x,S,A;if(this.ended)return;const n=ar(this,yn,"m",$$).call(this,r);this._emit("chunk",r,n);for(const D of r.choices){const C=n.choices[D.index];D.delta.content!=null&&((s=C.message)==null?void 0:s.role)==="assistant"&&((o=C.message)!=null&&o.content)&&(this._emit("content",D.delta.content,C.message.content),this._emit("content.delta",{delta:D.delta.content,snapshot:C.message.content,parsed:C.message.parsed})),D.delta.refusal!=null&&((a=C.message)==null?void 0:a.role)==="assistant"&&((l=C.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:D.delta.refusal,snapshot:C.message.refusal}),((c=D.logprobs)==null?void 0:c.content)!=null&&((d=C.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=D.logprobs)==null?void 0:h.content,snapshot:(g=(m=C.logprobs)==null?void 0:m.content)!=null?g:[]}),((y=D.logprobs)==null?void 0:y.refusal)!=null&&((_=C.message)==null?void 0:_.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(u=D.logprobs)==null?void 0:u.refusal,snapshot:(p=(f=C.logprobs)==null?void 0:f.refusal)!=null?p:[]});const T=ar(this,yn,"m",ob).call(this,C);C.finish_reason&&(ar(this,yn,"m",YA).call(this,C),T.current_tool_call_index!=null&&ar(this,yn,"m",XA).call(this,C,T.current_tool_call_index));for(const R of(v=D.delta.tool_calls)!=null?v:[])T.current_tool_call_index!==R.index&&(ar(this,yn,"m",YA).call(this,C),T.current_tool_call_index!=null&&ar(this,yn,"m",XA).call(this,C,T.current_tool_call_index)),T.current_tool_call_index=R.index;for(const R of(b=D.delta.tool_calls)!=null?b:[]){const P=(w=C.message.tool_calls)==null?void 0:w[R.index];P!=null&&P.type&&((P==null?void 0:P.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=P.function)==null?void 0:x.name,index:R.index,arguments:P.function.arguments,parsed_arguments:P.function.parsed_arguments,arguments_delta:(A=(S=R.function)==null?void 0:S.arguments)!=null?A:""}):(P==null||P.type,void 0))}}},XA=function(r,n){var a,l,c;if(ar(this,yn,"m",ob).call(this,r).done_tool_calls.has(n))return;const o=(a=r.message.tool_calls)==null?void 0:a[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const d=(c=(l=ar(this,Wa,"f"))==null?void 0:l.tools)==null?void 0:c.find(h=>h.type==="function"&&h.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:C_(d)?d.$parseRaw(o.function.arguments):d!=null&&d.function.strict?JSON.parse(o.function.arguments):null})}else o.type},YA=function(r){var s,o;const n=ar(this,yn,"m",ob).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const a=ar(this,yn,"m",qA).call(this);this._emit("content.done",{content:r.message.content,parsed:a?a.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(o=r.logprobs)!=null&&o.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},ab=function(){if(this.ended)throw new Gt("stream has ended, this shouldn't happen");const r=ar(this,eu,"f");if(!r)throw new Gt("request ended without sending any chunks");return Df(this,eu,void 0,"f"),Df(this,Pf,[],"f"),XDe(r,ar(this,Wa,"f"))},qA=function(){var n;const r=(n=ar(this,Wa,"f"))==null?void 0:n.response_format;return zq(r)?r:null},$$=function(r){var h,m,g,y,_,u;var n,s,o,a;let l=ar(this,eu,"f");const{choices:c,...d}=r;l?Object.assign(l,d):l=Df(this,eu,{...d,choices:[]},"f");for(const{delta:f,finish_reason:p,index:v,logprobs:b=null,...w}of r.choices){let x=l.choices[v];if(x||(x=l.choices[v]={finish_reason:p,index:v,message:{},logprobs:b,...w}),b)if(!x.logprobs)x.logprobs=Object.assign({},b);else{const{content:P,refusal:O,...I}=b;Object.assign(x.logprobs,I),P&&((h=(n=x.logprobs).content)!=null||(n.content=[]),x.logprobs.content.push(...P)),O&&((m=(s=x.logprobs).refusal)!=null||(s.refusal=[]),x.logprobs.refusal.push(...O))}if(p&&(x.finish_reason=p,ar(this,Wa,"f")&&Gq(ar(this,Wa,"f")))){if(p==="length")throw new Eq;if(p==="content_filter")throw new Sq}if(Object.assign(x,w),!f)continue;const{content:S,refusal:A,function_call:D,role:C,tool_calls:T,...R}=f;if(Object.assign(x.message,R),A&&(x.message.refusal=(x.message.refusal||"")+A),C&&(x.message.role=C),D&&(x.message.function_call?(D.name&&(x.message.function_call.name=D.name),D.arguments&&((g=(o=x.message.function_call).arguments)!=null||(o.arguments=""),x.message.function_call.arguments+=D.arguments)):x.message.function_call=D),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&ar(this,yn,"m",qA).call(this)&&(x.message.parsed=U$(x.message.content))),T){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:P,id:O,type:I,function:k,...W}of T){const G=(y=(a=x.message.tool_calls)[P])!=null?y:a[P]={};Object.assign(G,W),O&&(G.id=O),I&&(G.type=I),k&&((u=G.function)!=null||(G.function={name:(_=k.name)!=null?_:"",arguments:""})),k!=null&&k.name&&(G.function.name=k.name),k!=null&&k.arguments&&(G.function.arguments+=k.arguments,jDe(ar(this,Wa,"f"),G)&&(G.function.parsed_arguments=U$(G.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",s=>{const o=r.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ya(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function XDe(t,e){const{id:r,choices:n,created:s,model:o,system_fingerprint:a,...l}=t,c={...l,id:r,choices:n.map(({message:d,finish_reason:h,index:m,logprobs:g,...y})=>{var b,w,x;if(!h)throw new Gt("missing finish_reason for choice ".concat(m));const{content:_=null,function_call:u,tool_calls:f,...p}=d,v=d.role;if(!v)throw new Gt("missing role for choice ".concat(m));if(u){const{arguments:S,name:A}=u;if(S==null)throw new Gt("missing function_call.arguments for choice ".concat(m));if(!A)throw new Gt("missing function_call.name for choice ".concat(m));return{...y,message:{content:_,function_call:{arguments:S,name:A},role:v,refusal:(b=d.refusal)!=null?b:null},finish_reason:h,index:m,logprobs:g}}return f?{...y,index:m,finish_reason:h,logprobs:g,message:{...p,role:v,content:_,refusal:(w=d.refusal)!=null?w:null,tool_calls:f.map((S,A)=>{const{function:D,type:C,id:T,...R}=S,{arguments:P,name:O,...I}=D||{};if(T==null)throw new Gt("missing choices[".concat(m,"].tool_calls[").concat(A,"].id\n").concat(lb(t)));if(C==null)throw new Gt("missing choices[".concat(m,"].tool_calls[").concat(A,"].type\n").concat(lb(t)));if(O==null)throw new Gt("missing choices[".concat(m,"].tool_calls[").concat(A,"].function.name\n").concat(lb(t)));if(P==null)throw new Gt("missing choices[".concat(m,"].tool_calls[").concat(A,"].function.arguments\n").concat(lb(t)));return{...R,id:T,type:C,function:{...I,name:O,arguments:P}}})}}:{...y,message:{...p,content:_,role:v,refusal:(x=d.refusal)!=null?x:null},finish_reason:h,index:m,logprobs:g}}),created:s,model:o,object:"chat.completion",...a?{system_fingerprint:a}:{}};return LDe(c,e)}function lb(t){return JSON.stringify(t)}class kh extends Cy{static fromReadableStream(e){const r=new kh(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){const s=new kh(null),o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,o)),s}static runTools(e,r,n){const s=new kh(r),o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,o)),s}}let sZ=class extends or{parse(e,r){return zDe(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>EF(n,e))}runFunctions(e,r){return e.stream?kh.runFunctions(this._client,e,r):Sy.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?kh.runTools(this._client,e,r):Sy.runTools(this._client,e,r)}stream(e,r){return Cy.createChatCompletion(this._client,e,r)}};class Q2 extends or{constructor(){super(...arguments),this.completions=new sZ(this._client)}}(function(t){t.Completions=sZ})(Q2||(Q2={}));var yt=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},es=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},zn,eR,ua,dw,bo,Qc,ch,Hc,fx,ns,fw,hw,Wg,fg,hg,j$,z$,G$,V$,H$,W$,K$;class Io extends jq{constructor(){super(...arguments),zn.add(this),eR.set(this,[]),ua.set(this,{}),dw.set(this,{}),bo.set(this,void 0),Qc.set(this,void 0),ch.set(this,void 0),Hc.set(this,void 0),fx.set(this,void 0),ns.set(this,void 0),fw.set(this,void 0),hw.set(this,void 0),Wg.set(this,void 0)}[(eR=new WeakMap,ua=new WeakMap,dw=new WeakMap,bo=new WeakMap,Qc=new WeakMap,ch=new WeakMap,Hc=new WeakMap,fx=new WeakMap,ns=new WeakMap,fw=new WeakMap,hw=new WeakMap,Wg=new WeakMap,zn=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const o=r.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new Io;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=ya.fromReadableStream(e,this.controller);for await(const a of s)yt(this,zn,"m",fg).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new Oo;return this._addRun(yt(this,zn,"m",hg).call(this))}toReadableStream(){return new ya(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,s,o){const a=new Io;return a._run(()=>a._runToolAssistantStream(e,r,n,s,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,r,n,s,o){var d;const a=o==null?void 0:o.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},c=await e.submitToolOutputs(r,n,l,{...o,signal:this.controller.signal});this._connected();for await(const h of c)yt(this,zn,"m",fg).call(this,h);if((d=c.controller.signal)!=null&&d.aborted)throw new Oo;return this._addRun(yt(this,zn,"m",hg).call(this))}static createThreadAssistantStream(e,r,n){const s=new Io;return s._run(()=>s._threadAssistantStream(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,r,n,s){const o=new Io;return o._run(()=>o._runAssistantStream(e,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return yt(this,fw,"f")}currentRun(){return yt(this,hw,"f")}currentMessageSnapshot(){return yt(this,bo,"f")}currentRunStepSnapshot(){return yt(this,Wg,"f")}async finalRunSteps(){return await this.done(),Object.values(yt(this,ua,"f"))}async finalMessages(){return await this.done(),Object.values(yt(this,dw,"f"))}async finalRun(){if(await this.done(),!yt(this,Qc,"f"))throw Error("Final run was not received.");return yt(this,Qc,"f")}async _createThreadAssistantStream(e,r,n){var l;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(const c of a)yt(this,zn,"m",fg).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Oo;return this._addRun(yt(this,zn,"m",hg).call(this))}async _createAssistantStream(e,r,n,s){var c;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},l=await e.create(r,a,{...s,signal:this.controller.signal});this._connected();for await(const d of l)yt(this,zn,"m",fg).call(this,d);if((c=l.controller.signal)!=null&&c.aborted)throw new Oo;return this._addRun(yt(this,zn,"m",hg).call(this))}static accumulateDelta(e,r){for(const[n,s]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let o=e[n];if(o==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof o=="string"&&typeof s=="string")o+=s;else if(typeof o=="number"&&typeof s=="number")o+=s;else if(HA(o)&&HA(s))o=this.accumulateDelta(o,s);else if(Array.isArray(o)&&Array.isArray(s)){if(o.every(a=>typeof a=="string"||typeof a=="number")){o.push(...s);continue}for(const a of s){if(!HA(a))throw new Error("Expected array delta entry to be an object but got: ".concat(a));const l=a.index;if(l==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error("Expected array delta entry `index` property to be a number but got ".concat(l));const c=o[l];c==null?o.push(a):o[l]=this.accumulateDelta(c,a)}continue}else throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(s,", accValue: ").concat(o));e[n]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,s){return await this._createAssistantStream(r,e,n,s)}async _runToolAssistantStream(e,r,n,s,o){return await this._createToolAssistantStream(n,e,r,s,o)}}fg=function(e){if(!this.ended)switch(es(this,fw,e,"f"),yt(this,zn,"m",G$).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":yt(this,zn,"m",K$).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":yt(this,zn,"m",z$).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":yt(this,zn,"m",j$).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},hg=function(){if(this.ended)throw new Gt("stream has ended, this shouldn't happen");if(!yt(this,Qc,"f"))throw Error("Final run has not been received");return yt(this,Qc,"f")},j$=function(e){const[r,n]=yt(this,zn,"m",H$).call(this,e,yt(this,bo,"f"));es(this,bo,r,"f"),yt(this,dw,"f")[r.id]=r;for(const s of n){const o=r.content[s.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let o=s.text,a=r.content[s.index];if(a&&a.type=="text")this._emit("textDelta",o,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=yt(this,ch,"f")){if(yt(this,Hc,"f"))switch(yt(this,Hc,"f").type){case"text":this._emit("textDone",yt(this,Hc,"f").text,yt(this,bo,"f"));break;case"image_file":this._emit("imageFileDone",yt(this,Hc,"f").image_file,yt(this,bo,"f"));break}es(this,ch,s.index,"f")}es(this,Hc,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(yt(this,ch,"f")!==void 0){const s=e.data.content[yt(this,ch,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,yt(this,bo,"f"));break;case"text":this._emit("textDone",s.text,yt(this,bo,"f"));break}}yt(this,bo,"f")&&this._emit("messageDone",e.data),es(this,bo,void 0,"f")}},z$=function(e){const r=yt(this,zn,"m",V$).call(this,e);switch(es(this,Wg,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const o of n.step_details.tool_calls)o.index==yt(this,fx,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(yt(this,ns,"f")&&this._emit("toolCallDone",yt(this,ns,"f")),es(this,fx,o.index,"f"),es(this,ns,r.step_details.tool_calls[o.index],"f"),yt(this,ns,"f")&&this._emit("toolCallCreated",yt(this,ns,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":es(this,Wg,void 0,"f"),e.data.step_details.type=="tool_calls"&&yt(this,ns,"f")&&(this._emit("toolCallDone",yt(this,ns,"f")),es(this,ns,void 0,"f")),this._emit("runStepDone",e.data,r);break}},G$=function(e){yt(this,eR,"f").push(e),this._emit("event",e)},V$=function(e){switch(e.event){case"thread.run.step.created":return yt(this,ua,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=yt(this,ua,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=Io.accumulateDelta(r,n.delta);yt(this,ua,"f")[e.data.id]=s}return yt(this,ua,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":yt(this,ua,"f")[e.data.id]=e.data;break}if(yt(this,ua,"f")[e.data.id])return yt(this,ua,"f")[e.data.id];throw new Error("No snapshot available")},H$=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const o of s.delta.content)if(o.index in r.content){let a=r.content[o.index];r.content[o.index]=yt(this,zn,"m",W$).call(this,o,a)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},W$=function(e,r){return Io.accumulateDelta(r,e)},K$=function(e){switch(es(this,hw,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":es(this,Qc,e.data,"f"),yt(this,ns,"f")&&(this._emit("toolCallDone",yt(this,ns,"f")),es(this,ns,void 0,"f"));break}};class SF extends or{create(e,r,n){return this._client.post("/threads/".concat(e,"/messages"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/messages/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return qi(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/messages"),CF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class CF extends Xo{}SF.MessagesPage=CF;class AF extends or{retrieve(e,r,n,s={},o){return qi(s)?this.retrieve(e,r,n,{},s):this._client.get("/threads/".concat(e,"/runs/").concat(r,"/steps/").concat(n),{query:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e,r,n={},s){return qi(n)?this.list(e,r,{},n):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(r,"/steps"),TF,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class TF extends Xo{}AF.RunStepsPage=TF;class A_ extends or{constructor(){super(...arguments),this.steps=new AF(this._client)}create(e,r,n){var a;const{include:s,...o}=r;return this._client.post("/threads/".concat(e,"/runs"),{query:{include:s},body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:(a=r.stream)!=null?a:!1})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/runs/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/runs/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return qi(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/runs"),DF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}createAndStream(e,r,n){return Io.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:a}=await this.retrieve(e,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await E_(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,r,n){return Io.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,s){var o;return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/submit_tool_outputs"),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:(o=n.stream)!=null?o:!1})}async submitToolOutputsAndPoll(e,r,n,s){const o=await this.submitToolOutputs(e,r,n,s);return await this.poll(e,o.id,s)}submitToolOutputsStream(e,r,n,s){return Io.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,s)}}class DF extends Xo{}A_.RunsPage=DF;A_.Steps=AF;A_.RunStepsPage=TF;class zp extends or{constructor(){super(...arguments),this.runs=new A_(this._client),this.messages=new SF(this._client)}create(e={},r){return qi(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/threads/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r){return this._client.delete("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(e,r){var n;return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:(n=e.stream)!=null?n:!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return Io.createThreadAssistantStream(e,this._client.beta.threads,r)}}zp.Runs=A_;zp.RunsPage=DF;zp.Messages=SF;zp.MessagesPage=CF;const YDe=async t=>{const e=await Promise.allSettled(t),r=e.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error("".concat(r.length," promise(s) failed - see the above errors"))}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};let PF=class extends or{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/files"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,r={},n){return qi(r)?this.list(e,{},r):this._client.getAPIList("/vector_stores/".concat(e,"/files"),QE,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const o=await this.retrieve(e,r,{...n,headers:s}).withResponse(),a=o.data;switch(a.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await E_(l);break;case"failed":case"completed":return a}}}async upload(e,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,r,n){const s=await this.upload(e,r,n);return await this.poll(e,s.id,n)}};class QE extends Xo{}PF.VectorStoreFilesPage=QE;class oZ extends or{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/file_batches/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r);return await this.poll(e,s.id,n)}listFiles(e,r,n={},s){return qi(n)?this.listFiles(e,r,{},n):this._client.getAPIList("/vector_stores/".concat(e,"/file_batches/").concat(r,"/files"),QE,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:a}=await this.retrieve(e,r,{...n,headers:s}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await E_(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},s){var g;if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(g=s==null?void 0:s.maxConcurrency)!=null?g:5,a=Math.min(o,r.length),l=this._client,c=r.values(),d=[...n];async function h(y){for(let _ of y){const u=await l.files.create({file:_,purpose:"assistants"},s);d.push(u.id)}}const m=Array(a).fill(c).map(h);return await YDe(m),await this.createAndPoll(e,{file_ids:d})}}class Gp extends or{constructor(){super(...arguments),this.files=new PF(this._client),this.fileBatches=new oZ(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/vector_stores/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return qi(e)?this.list({},e):this._client.getAPIList("/vector_stores",RF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class RF extends Xo{}Gp.VectorStoresPage=RF;Gp.Files=PF;Gp.VectorStoreFilesPage=QE;Gp.FileBatches=oZ;class sf extends or{constructor(){super(...arguments),this.vectorStores=new Gp(this._client),this.chat=new Q2(this._client),this.assistants=new wF(this._client),this.threads=new zp(this._client)}}sf.VectorStores=Gp;sf.VectorStoresPage=RF;sf.Assistants=wF;sf.AssistantsPage=xF;sf.Threads=zp;class aZ extends or{create(e,r){var n;return this._client.post("/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}}class lZ extends or{create(e,r){return this._client.post("/embeddings",{body:e,...r})}}class OF extends or{create(e,r){return this._client.post("/files",hp({body:e,...r}))}retrieve(e,r){return this._client.get("/files/".concat(e),r)}list(e={},r){return qi(e)?this.list({},e):this._client.getAPIList("/files",IF,{query:e,...r})}del(e,r){return this._client.delete("/files/".concat(e),r)}content(e,r){return this._client.get("/files/".concat(e,"/content"),{...r,__binaryResponse:!0})}retrieveContent(e,r){return this._client.get("/files/".concat(e,"/content"),{...r,headers:{Accept:"application/json",...r==null?void 0:r.headers}})}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),o=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await E_(r),a=await this.retrieve(e),Date.now()-o>n)throw new vF({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return a}}class IF extends Xo{}OF.FileObjectsPage=IF;class BF extends or{list(e,r={},n){return qi(r)?this.list(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/checkpoints"),FF,{query:r,...n})}}class FF extends Xo{}BF.FineTuningJobCheckpointsPage=FF;class Vp extends or{constructor(){super(...arguments),this.checkpoints=new BF(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get("/fine_tuning/jobs/".concat(e),r)}list(e={},r){return qi(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",MF,{query:e,...r})}cancel(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),r)}listEvents(e,r={},n){return qi(r)?this.listEvents(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),kF,{query:r,...n})}}class MF extends Xo{}class kF extends Xo{}Vp.FineTuningJobsPage=MF;Vp.FineTuningJobEventsPage=kF;Vp.Checkpoints=BF;Vp.FineTuningJobCheckpointsPage=FF;class T_ extends or{constructor(){super(...arguments),this.jobs=new Vp(this._client)}}T_.Jobs=Vp;T_.FineTuningJobsPage=MF;T_.FineTuningJobEventsPage=kF;class uZ extends or{createVariation(e,r){return this._client.post("/images/variations",hp({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",hp({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}}class NF extends or{retrieve(e,r){return this._client.get("/models/".concat(e),r)}list(e){return this._client.getAPIList("/models",LF,e)}del(e,r){return this._client.delete("/models/".concat(e),r)}}class LF extends NDe{}NF.ModelsPage=LF;class cZ extends or{create(e,r){return this._client.post("/moderations",{body:e,...r})}}class dZ extends or{create(e,r,n){return this._client.post("/uploads/".concat(e,"/parts"),hp({body:r,...n}))}}class UF extends or{constructor(){super(...arguments),this.parts=new dZ(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post("/uploads/".concat(e,"/cancel"),r)}complete(e,r,n){return this._client.post("/uploads/".concat(e,"/complete"),{body:r,...n})}}UF.Parts=dZ;var fZ;class qt extends SDe{constructor({baseURL:e=sb("OPENAI_BASE_URL"),apiKey:r=sb("OPENAI_API_KEY"),organization:n=(a=>(a=sb("OPENAI_ORG_ID"))!=null?a:null)(),project:s=(l=>(l=sb("OPENAI_PROJECT_ID"))!=null?l:null)(),...o}={}){var d;if(r===void 0)throw new Gt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const c={apiKey:r,organization:n,project:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&MDe())throw new Gt("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:c.baseURL,timeout:(d=c.timeout)!=null?d:6e5,httpAgent:c.httpAgent,maxRetries:c.maxRetries,fetch:c.fetch}),this.completions=new aZ(this),this.chat=new yF(this),this.embeddings=new lZ(this),this.files=new OF(this),this.images=new uZ(this),this.audio=new S_(this),this.moderations=new cZ(this),this.models=new NF(this),this.fineTuning=new T_(this),this.beta=new sf(this),this.batches=new _F(this),this.uploads=new UF(this),this._options=c,this.apiKey=r,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}stringifyQuery(e){return aDe(e,{arrayFormat:"brackets"})}}fZ=qt;qt.OpenAI=fZ;qt.DEFAULT_TIMEOUT=6e5;qt.OpenAIError=Gt;qt.APIError=Yn;qt.APIConnectionError=qE;qt.APIConnectionTimeoutError=vF;qt.APIUserAbortError=Oo;qt.NotFoundError=yq;qt.ConflictError=_q;qt.RateLimitError=wq;qt.BadRequestError=mq;qt.AuthenticationError=gq;qt.InternalServerError=xq;qt.PermissionDeniedError=vq;qt.UnprocessableEntityError=bq;qt.toFile=Dq;qt.fileFromPath=hq;qt.Completions=aZ;qt.Chat=yF;qt.Embeddings=lZ;qt.Files=OF;qt.FileObjectsPage=IF;qt.Images=uZ;qt.Audio=S_;qt.Moderations=cZ;qt.Models=NF;qt.ModelsPage=LF;qt.FineTuning=T_;qt.Beta=sf;qt.Batches=_F;qt.BatchesPage=bF;qt.Uploads=UF;const cJe=qt;function $F(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hZ=["PageUp","PageDown"],pZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mZ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hp="Slider",[tR,qDe,ZDe]=Zd(Hp),[gZ,dJe]=jp(Hp,[ZDe]),[JDe,eS]=gZ(Hp),vZ=E.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:_,...u}=t,f=E.useRef(new Set),p=E.useRef(0),b=a==="horizontal"?QDe:ePe,[w=[],x]=di({prop:h,defaultProp:d,onChange:R=>{var O;(O=[...f.current][p.current])==null||O.focus(),m(R)}}),S=E.useRef(w);function A(R){const P=sPe(w,R);T(R,P)}function D(R){T(R,p.current)}function C(){const R=S.current[p.current];w[p.current]!==R&&g(w)}function T(R,P,{commit:O}={commit:!1}){const I=uPe(o),k=cPe(Math.round((R-n)/o)*o+n,I),W=qv(k,[n,s]);x((G=[])=>{const j=nPe(G,W,P);if(lPe(j,c*o)){p.current=j.indexOf(W);const $=String(j)!==String(G);return $&&O&&g(j),$?j:G}else return G})}return F.jsx(JDe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:p,thumbs:f.current,values:w,orientation:a,form:_,children:F.jsx(tR.Provider,{scope:t.__scopeSlider,children:F.jsx(tR.Slot,{scope:t.__scopeSlider,children:F.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...u,ref:e,onPointerDown:fe(u.onPointerDown,()=>{l||(S.current=w)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:A,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,w.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:P})=>{if(!l){const k=hZ.includes(R.key)||R.shiftKey&&pZ.includes(R.key)?10:1,W=p.current,G=w[W],j=o*k*P;T(G+j,W,{commit:!0})}}})})})})});vZ.displayName=Hp;var[yZ,_Z]=gZ(Hp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QDe=E.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,[m,g]=E.useState(null),y=_t(e,b=>g(b)),_=E.useRef(),u=Fa(s),f=u==="ltr",p=f&&!o||!f&&o;function v(b){const w=_.current||m.getBoundingClientRect(),x=[0,w.width],A=jF(x,p?[r,n]:[n,r]);return _.current=w,A(b-w.left)}return F.jsx(yZ,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:F.jsx(bZ,{dir:u,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=v(b.clientX);a==null||a(w)},onSlideMove:b=>{const w=v(b.clientX);l==null||l(w)},onSlideEnd:()=>{_.current=void 0,c==null||c()},onStepKeyDown:b=>{const x=mZ[p?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:x?-1:1})}})})}),ePe=E.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,h=E.useRef(null),m=_t(e,h),g=E.useRef(),y=!s;function _(u){const f=g.current||h.current.getBoundingClientRect(),p=[0,f.height],b=jF(p,y?[n,r]:[r,n]);return g.current=f,b(u-f.top)}return F.jsx(yZ,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:F.jsx(bZ,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:u=>{const f=_(u.clientY);o==null||o(f)},onSlideMove:u=>{const f=_(u.clientY);a==null||a(f)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:u=>{const p=mZ[y?"from-bottom":"from-top"].includes(u.key);c==null||c({event:u,direction:p?-1:1})}})})}),bZ=E.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...d}=t,h=eS(Hp,r);return F.jsx(Xe.span,{...d,ref:e,onKeyDown:fe(t.onKeyDown,m=>{m.key==="Home"?(a(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):hZ.concat(pZ).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:fe(t.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(g)?g.focus():n(m)}),onPointerMove:fe(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:fe(t.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),o(m))})})}),wZ="SliderTrack",xZ=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=eS(wZ,r);return F.jsx(Xe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});xZ.displayName=wZ;var rR="SliderRange",EZ=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=eS(rR,r),o=_Z(rR,r),a=E.useRef(null),l=_t(e,a),c=s.values.length,d=s.values.map(g=>CZ(g,s.min,s.max)),h=c>1?Math.min(...d):0,m=100-Math.max(...d);return F.jsx(Xe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[o.startEdge]:h+"%",[o.endEdge]:m+"%"}})});EZ.displayName=rR;var nR="SliderThumb",SZ=E.forwardRef((t,e)=>{const r=qDe(t.__scopeSlider),[n,s]=E.useState(null),o=_t(e,l=>s(l)),a=E.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return F.jsx(tPe,{...t,ref:o,index:a})}),tPe=E.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,a=eS(nR,r),l=_Z(nR,r),[c,d]=E.useState(null),h=_t(e,v=>d(v)),m=c?a.form||!!c.closest("form"):!0,g=wB(c),y=a.values[n],_=y===void 0?0:CZ(y,a.min,a.max),u=iPe(n,a.values.length),f=g==null?void 0:g[l.size],p=f?oPe(f,_,l.direction):0;return E.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),F.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(_,"% + ").concat(p,"px)")},children:[F.jsx(tR.ItemSlot,{scope:t.__scopeSlider,children:F.jsx(Xe.span,{role:"slider","aria-label":t["aria-label"]||u,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:h,style:y===void 0?{display:"none"}:t.style,onFocus:fe(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),m&&F.jsx(rPe,{name:s!=null?s:a.name?a.name+(a.values.length>1?"[]":""):void 0,form:a.form,value:y},n)]})});SZ.displayName=nR;var rPe=t=>{const{value:e,...r}=t,n=E.useRef(null),s=$F(e);return E.useEffect(()=>{const o=n.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==e&&c){const d=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(d)}},[s,e]),F.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function nPe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function CZ(t,e,r){const o=100/(r-e)*(t-e);return qv(o,[0,100])}function iPe(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function sPe(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function oPe(t,e,r){const n=t/2,o=jF([0,50],[0,n]);return(n-o(e)*r)*r}function aPe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function lPe(t,e){if(e>0){const r=aPe(t);return Math.min(...r)>=e}return!0}function jF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function uPe(t){return(String(t).split(".")[1]||"").length}function cPe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var fJe=vZ,hJe=xZ,pJe=EZ,mJe=SZ,dPe="VisuallyHidden",D_=E.forwardRef((t,e)=>F.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));D_.displayName=dPe;var fPe=D_,hPe=[" ","Enter","ArrowUp","ArrowDown"],pPe=[" ","Enter"],P_="Select",[tS,rS,mPe]=Zd(P_),[Wp,gJe]=Ji(P_,[mPe,ka]),nS=ka(),[gPe,wc]=Wp(P_),[vPe,yPe]=Wp(P_),AZ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:m,disabled:g,required:y}=t,_=nS(e),[u,f]=E.useState(null),[p,v]=E.useState(null),[b,w]=E.useState(!1),x=Fa(d),[S=!1,A]=di({prop:n,defaultProp:s,onChange:o}),[D,C]=di({prop:a,defaultProp:l,onChange:c}),T=E.useRef(null),R=u?!!u.closest("form"):!0,[P,O]=E.useState(new Set),I=Array.from(P).map(k=>k.props.value).join(";");return F.jsx(kp,{..._,children:F.jsxs(gPe,{required:y,scope:e,trigger:u,onTriggerChange:f,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:Kn(),value:D,onValueChange:C,open:S,onOpenChange:A,dir:x,triggerPointerDownPosRef:T,disabled:g,children:[F.jsx(tS.Provider,{scope:e,children:F.jsx(vPe,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(k=>{O(W=>new Set(W).add(k))},[]),onNativeOptionRemove:E.useCallback(k=>{O(W=>{const G=new Set(W);return G.delete(k),G})},[]),children:r})}),R?F.jsxs(JZ,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:D,onChange:k=>C(k.target.value),disabled:g,children:[D===void 0?F.jsx("option",{value:""}):null,Array.from(P)]},I):null]})})};AZ.displayName=P_;var TZ="SelectTrigger",DZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=nS(r),a=wc(TZ,r),l=a.disabled||n,c=_t(e,a.onTriggerChange),d=rS(r),[h,m,g]=QZ(_=>{const u=d().filter(v=>!v.disabled),f=u.find(v=>v.value===a.value),p=eJ(u,_,f);p!==void 0&&a.onValueChange(p.value)}),y=()=>{l||(a.onOpenChange(!0),g())};return F.jsx(Np,{asChild:!0,...o,children:F.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ZZ(a.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,_=>{_.currentTarget.focus()}),onPointerDown:fe(s.onPointerDown,_=>{const u=_.target;u.hasPointerCapture(_.pointerId)&&u.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(y(),a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)},_.preventDefault())}),onKeyDown:fe(s.onKeyDown,_=>{const u=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(u&&_.key===" ")&&hPe.includes(_.key)&&(y(),_.preventDefault())})})})});DZ.displayName=TZ;var PZ="SelectValue",RZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=t,c=wc(PZ,r),{onValueNodeHasChildrenChange:d}=c,h=o!==void 0,m=_t(e,c.onValueNodeChange);return pn(()=>{d(h)},[d,h]),F.jsx(Xe.span,{...l,ref:m,style:{pointerEvents:"none"},children:ZZ(c.value)?F.jsx(F.Fragment,{children:a}):o})});RZ.displayName=PZ;var _Pe="SelectIcon",OZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return F.jsx(Xe.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});OZ.displayName=_Pe;var bPe="SelectPortal",IZ=t=>F.jsx(c_,{asChild:!0,...t});IZ.displayName=bPe;var $d="SelectContent",BZ=E.forwardRef((t,e)=>{const r=wc($d,t.__scopeSelect),[n,s]=E.useState();if(pn(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ll.createPortal(F.jsx(FZ,{scope:t.__scopeSelect,children:F.jsx(tS.Slot,{scope:t.__scopeSelect,children:F.jsx("div",{children:t.children})})}),o):null}return F.jsx(MZ,{...t,ref:e})});BZ.displayName=$d;var el=10,[FZ,xc]=Wp($d),wPe="SelectContentImpl",MZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:u,avoidCollisions:f,...p}=t,v=wc($d,r),[b,w]=E.useState(null),[x,S]=E.useState(null),A=_t(e,z=>w(z)),[D,C]=E.useState(null),[T,R]=E.useState(null),P=rS(r),[O,I]=E.useState(!1),k=E.useRef(!1);E.useEffect(()=>{if(b)return d_(b)},[b]),pB();const W=E.useCallback(z=>{const[V,...H]=P().map(_e=>_e.ref.current),[re]=H.slice(-1),ne=document.activeElement;for(const _e of z)if(_e===ne||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===V&&x&&(x.scrollTop=0),_e===re&&x&&(x.scrollTop=x.scrollHeight),_e==null||_e.focus(),document.activeElement!==ne))return},[P,x]),G=E.useCallback(()=>W([D,b]),[W,D,b]);E.useEffect(()=>{O&&G()},[O,G]);const{onOpenChange:j,triggerPointerDownPosRef:$}=v;E.useEffect(()=>{if(b){let z={x:0,y:0};const V=re=>{var ne,_e,be,xe;z={x:Math.abs(Math.round(re.pageX)-((_e=(ne=$.current)==null?void 0:ne.x)!=null?_e:0)),y:Math.abs(Math.round(re.pageY)-((xe=(be=$.current)==null?void 0:be.y)!=null?xe:0))}},H=re=>{z.x<=10&&z.y<=10?re.preventDefault():b.contains(re.target)||j(!1),document.removeEventListener("pointermove",V),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",H,{capture:!0})}}},[b,j,$]),E.useEffect(()=>{const z=()=>j(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[j]);const[K,Q]=QZ(z=>{const V=P().filter(ne=>!ne.disabled),H=V.find(ne=>ne.ref.current===document.activeElement),re=eJ(V,z,H);re&&setTimeout(()=>re.ref.current.focus())}),ue=E.useCallback((z,V,H)=>{const re=!k.current&&!H;(v.value!==void 0&&v.value===V||re)&&(C(z),re&&(k.current=!0))},[v.value]),pe=E.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=E.useCallback((z,V,H)=>{const re=!k.current&&!H;(v.value!==void 0&&v.value===V||re)&&R(z)},[v.value]),he=n==="popper"?iR:kZ,Y=he===iR?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:u,avoidCollisions:f}:{};return F.jsx(FZ,{scope:r,content:b,viewport:x,onViewportChange:S,itemRefCallback:ue,selectedItem:D,onItemLeave:pe,itemTextRefCallback:oe,focusSelectedItem:G,selectedItemText:T,position:n,isPositioned:O,searchRef:K,children:F.jsx(AB,{as:Da,allowPinchZoom:!0,children:F.jsx(Bp,{asChild:!0,trapped:v.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:fe(s,z=>{var V;(V=v.trigger)==null||V.focus({preventScroll:!0}),z.preventDefault()}),children:F.jsx(o_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:F.jsx(he,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:z=>z.preventDefault(),...p,...Y,onPlaced:()=>I(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:fe(p.onKeyDown,z=>{const V=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!V&&z.key.length===1&&Q(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let re=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(z.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ne=z.target,_e=re.indexOf(ne);re=re.slice(_e+1)}setTimeout(()=>W(re)),z.preventDefault()}})})})})})})});MZ.displayName=wPe;var xPe="SelectItemAlignedPosition",kZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=wc($d,r),a=xc($d,r),[l,c]=E.useState(null),[d,h]=E.useState(null),m=_t(e,A=>h(A)),g=rS(r),y=E.useRef(!1),_=E.useRef(!0),{viewport:u,selectedItem:f,selectedItemText:p,focusSelectedItem:v}=a,b=E.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&u&&f&&p){const A=o.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),T=p.getBoundingClientRect();if(o.dir!=="rtl"){const ne=T.left-D.left,_e=C.left-ne,be=A.left-_e,xe=A.width+be,Se=Math.max(xe,D.width),dt=window.innerWidth-el,xt=qv(_e,[el,dt-Se]);l.style.minWidth=xe+"px",l.style.left=xt+"px"}else{const ne=D.right-T.right,_e=window.innerWidth-C.right-ne,be=window.innerWidth-A.right-_e,xe=A.width+be,Se=Math.max(xe,D.width),dt=window.innerWidth-el,xt=qv(_e,[el,dt-Se]);l.style.minWidth=xe+"px",l.style.right=xt+"px"}const R=g(),P=window.innerHeight-el*2,O=u.scrollHeight,I=window.getComputedStyle(d),k=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),G=parseInt(I.borderBottomWidth,10),j=parseInt(I.paddingBottom,10),$=k+W+O+j+G,K=Math.min(f.offsetHeight*5,$),Q=window.getComputedStyle(u),ue=parseInt(Q.paddingTop,10),pe=parseInt(Q.paddingBottom,10),oe=A.top+A.height/2-el,he=P-oe,Y=f.offsetHeight/2,z=f.offsetTop+Y,V=k+W+z,H=$-V;if(V<=oe){const ne=f===R[R.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-u.offsetTop-u.offsetHeight,be=Math.max(he,Y+(ne?pe:0)+_e+G),xe=V+be;l.style.height=xe+"px"}else{const ne=f===R[0].ref.current;l.style.top="0px";const be=Math.max(oe,k+u.offsetTop+(ne?ue:0)+Y)+H;l.style.height=be+"px",u.scrollTop=V-oe+u.offsetTop}l.style.margin="".concat(el,"px 0"),l.style.minHeight=K+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[g,o.trigger,o.valueNode,l,d,u,f,p,o.dir,n]);pn(()=>b(),[b]);const[w,x]=E.useState();pn(()=>{d&&x(window.getComputedStyle(d).zIndex)},[d]);const S=E.useCallback(A=>{A&&_.current===!0&&(b(),v==null||v(),_.current=!1)},[b,v]);return F.jsx(SPe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:F.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:F.jsx(Xe.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kZ.displayName=xPe;var EPe="SelectPopperPosition",iR=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=el,...o}=t,a=nS(r);return F.jsx(l_,{...a,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iR.displayName=EPe;var[SPe,zF]=Wp($d,{}),sR="SelectViewport",NZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=xc(sR,r),a=zF(sR,r),l=_t(e,o.onViewportChange),c=E.useRef(0);return F.jsxs(F.Fragment,{children:[F.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),F.jsx(tS.Slot,{scope:r,children:F.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&m){const y=Math.abs(c.current-h.scrollTop);if(y>0){const _=window.innerHeight-el*2,u=parseFloat(m.style.minHeight),f=parseFloat(m.style.height),p=Math.max(u,f);if(p<_){const v=p+y,b=Math.min(_,v),w=v-b;m.style.height=b+"px",m.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});NZ.displayName=sR;var LZ="SelectGroup",[CPe,APe]=Wp(LZ),UZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Kn();return F.jsx(CPe,{scope:r,id:s,children:F.jsx(Xe.div,{role:"group","aria-labelledby":s,...n,ref:e})})});UZ.displayName=LZ;var $Z="SelectLabel",jZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=APe($Z,r);return F.jsx(Xe.div,{id:s.id,...n,ref:e})});jZ.displayName=$Z;var hx="SelectItem",[TPe,zZ]=Wp(hx),GZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=t,l=wc(hx,r),c=xc(hx,r),d=l.value===n,[h,m]=E.useState(o!=null?o:""),[g,y]=E.useState(!1),_=_t(e,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),u=Kn(),f=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return F.jsx(TPe,{scope:r,value:n,disabled:s,textId:u,isSelected:d,onItemTextChange:E.useCallback(p=>{m(v=>{var b;return v||((b=p==null?void 0:p.textContent)!=null?b:"").trim()})},[]),children:F.jsx(tS.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:F.jsx(Xe.div,{role:"option","aria-labelledby":u,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:_,onFocus:fe(a.onFocus,()=>y(!0)),onBlur:fe(a.onBlur,()=>y(!1)),onPointerUp:fe(a.onPointerUp,f),onPointerMove:fe(a.onPointerMove,p=>{var v;s?(v=c.onItemLeave)==null||v.call(c):p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(a.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:fe(a.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(pPe.includes(p.key)&&f(),p.key===" "&&p.preventDefault())})})})})});GZ.displayName=hx;var pg="SelectItemText",VZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,a=wc(pg,r),l=xc(pg,r),c=zZ(pg,r),d=yPe(pg,r),[h,m]=E.useState(null),g=_t(e,p=>m(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,p,c.value,c.disabled)}),y=h==null?void 0:h.textContent,_=E.useMemo(()=>F.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:u,onNativeOptionRemove:f}=d;return pn(()=>(u(_),()=>f(_)),[u,f,_]),F.jsxs(F.Fragment,{children:[F.jsx(Xe.span,{id:c.textId,...o,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ll.createPortal(o.children,a.valueNode):null]})});VZ.displayName=pg;var HZ="SelectItemIndicator",WZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return zZ(HZ,r).isSelected?F.jsx(Xe.span,{"aria-hidden":!0,...n,ref:e}):null});WZ.displayName=HZ;var oR="SelectScrollUpButton",KZ=E.forwardRef((t,e)=>{const r=xc(oR,t.__scopeSelect),n=zF(oR,t.__scopeSelect),[s,o]=E.useState(!1),a=_t(e,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?F.jsx(YZ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});KZ.displayName=oR;var aR="SelectScrollDownButton",XZ=E.forwardRef((t,e)=>{const r=xc(aR,t.__scopeSelect),n=zF(aR,t.__scopeSelect),[s,o]=E.useState(!1),a=_t(e,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;o(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?F.jsx(YZ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});XZ.displayName=aR;var YZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=xc("SelectScrollButton",r),a=E.useRef(null),l=rS(r),c=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),pn(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),F.jsx(Xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),DPe="SelectSeparator",qZ=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F.jsx(Xe.div,{"aria-hidden":!0,...n,ref:e})});qZ.displayName=DPe;var lR="SelectArrow",PPe=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=nS(r),o=wc(lR,r),a=xc(lR,r);return o.open&&a.position==="popper"?F.jsx(u_,{...s,...n,ref:e}):null});PPe.displayName=lR;function ZZ(t){return t===""||t===void 0}var JZ=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=E.useRef(null),o=_t(e,s),a=$F(r);return E.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[a,r]),F.jsx(D_,{asChild:!0,children:F.jsx("select",{...n,ref:o,defaultValue:r})})});JZ.displayName="BubbleSelect";function QZ(t){const e=ur(t),r=E.useRef(""),n=E.useRef(0),s=E.useCallback(a=>{const l=r.current+a;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function eJ(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=RPe(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function RPe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var vJe=AZ,yJe=DZ,_Je=RZ,bJe=OZ,wJe=IZ,xJe=BZ,EJe=NZ,SJe=UZ,CJe=jZ,AJe=GZ,TJe=VZ,DJe=WZ,PJe=KZ,RJe=XZ,OJe=qZ;function iS(){return(iS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function tJ(t,e){if(t==null)return{};var r,n,s={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(s[r]=t[r]);return s}function uR(t){var e=E.useRef(t),r=E.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var Ay=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Kg=function(t){return"touches"in t},cR=function(t){return t&&t.ownerDocument.defaultView||self},X$=function(t,e,r){var n=t.getBoundingClientRect(),s=Kg(e)?function(o,a){for(var l=0;l<o.length;l++)if(o[l].identifier===a)return o[l];return o[0]}(e.touches,r):e;return{left:Ay((s.pageX-(n.left+cR(t).pageXOffset))/n.width),top:Ay((s.pageY-(n.top+cR(t).pageYOffset))/n.height)}},Y$=function(t){!Kg(t)&&t.preventDefault()},rJ=Z.memo(function(t){var e=t.onMove,r=t.onKey,n=tJ(t,["onMove","onKey"]),s=E.useRef(null),o=uR(e),a=uR(r),l=E.useRef(null),c=E.useRef(!1),d=E.useMemo(function(){var y=function(f){Y$(f),(Kg(f)?f.touches.length>0:f.buttons>0)&&s.current?o(X$(s.current,f,l.current)):u(!1)},_=function(){return u(!1)};function u(f){var p=c.current,v=cR(s.current),b=f?v.addEventListener:v.removeEventListener;b(p?"touchmove":"mousemove",y),b(p?"touchend":"mouseup",_)}return[function(f){var p=f.nativeEvent,v=s.current;if(v&&(Y$(p),!function(w,x){return x&&!Kg(w)}(p,c.current)&&v)){if(Kg(p)){c.current=!0;var b=p.changedTouches||[];b.length&&(l.current=b[0].identifier)}v.focus(),o(X$(v,p,l.current)),u(!0)}},function(f){var p=f.which||f.keyCode;p<37||p>40||(f.preventDefault(),a({left:p===39?.05:p===37?-.05:0,top:p===40?.05:p===38?-.05:0}))},u]},[a,o]),h=d[0],m=d[1],g=d[2];return E.useEffect(function(){return g},[g]),Z.createElement("div",iS({},n,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:s,onKeyDown:m,tabIndex:0,role:"slider"}))}),GF=function(t){return t.filter(Boolean).join(" ")},nJ=function(t){var e=t.color,r=t.left,n=t.top,s=n===void 0?.5:n,o=GF(["react-colorful__pointer",t.className]);return Z.createElement("div",{className:o,style:{top:100*s+"%",left:100*r+"%"}},Z.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Hn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},OPe=function(t){return kPe(dR(t))},dR=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Hn(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?Hn(parseInt(t.substring(6,8),16)/255,2):1}},IPe=function(t){return MPe(FPe(t))},BPe=function(t){var e=t.s,r=t.v,n=t.a,s=(200-e)*r/100;return{h:Hn(t.h),s:Hn(s>0&&s<200?e*r/100/(s<=100?s:200-s)*100:0),l:Hn(s/2),a:Hn(n,2)}},fR=function(t){var e=BPe(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},FPe=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),a=n*(1-r),l=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:Hn(255*[n,l,a,a,c,n][d]),g:Hn(255*[c,n,n,l,a,a][d]),b:Hn(255*[a,a,c,n,n,l][d]),a:Hn(s,2)}},ub=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},MPe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s<1?ub(Hn(255*s)):"";return"#"+ub(e)+ub(r)+ub(n)+o},kPe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),a=o-Math.min(e,r,n),l=a?o===e?(r-n)/a:o===r?2+(n-e)/a:4+(e-r)/a:0;return{h:Hn(60*(l<0?l+6:l)),s:Hn(o?a/o*100:0),v:Hn(o/255*100),a:s}},NPe=Z.memo(function(t){var e=t.hue,r=t.onChange,n=GF(["react-colorful__hue",t.className]);return Z.createElement("div",{className:n},Z.createElement(rJ,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:Ay(e+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":Hn(e),"aria-valuemax":"360","aria-valuemin":"0"},Z.createElement(nJ,{className:"react-colorful__hue-pointer",left:e/360,color:fR({h:e,s:100,v:100,a:1})})))}),LPe=Z.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:fR({h:e.h,s:100,v:100,a:1})};return Z.createElement("div",{className:"react-colorful__saturation",style:n},Z.createElement(rJ,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:Ay(e.s+100*s.left,0,100),v:Ay(e.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Hn(e.s)+"%, Brightness "+Hn(e.v)+"%"},Z.createElement(nJ,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:fR(e)})))}),iJ=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},UPe=function(t,e){return t.toLowerCase()===e.toLowerCase()||iJ(dR(t),dR(e))};function $Pe(t,e,r){var n=uR(r),s=E.useState(function(){return t.toHsva(e)}),o=s[0],a=s[1],l=E.useRef({color:e,hsva:o});E.useEffect(function(){if(!t.equal(e,l.current.color)){var d=t.toHsva(e);l.current={hsva:d,color:e},a(d)}},[e,t]),E.useEffect(function(){var d;iJ(o,l.current.hsva)||t.equal(d=t.fromHsva(o),l.current.color)||(l.current={hsva:o,color:d},n(d))},[o,t,n]);var c=E.useCallback(function(d){a(function(h){return Object.assign({},h,d)})},[]);return[o,c]}var jPe=typeof window<"u"?E.useLayoutEffect:E.useEffect,zPe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},q$=new Map,GPe=function(t){jPe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!q$.has(e)){var r=e.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',q$.set(e,r);var n=zPe();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},VPe=function(t){var e=t.className,r=t.colorModel,n=t.color,s=n===void 0?r.defaultColor:n,o=t.onChange,a=tJ(t,["className","colorModel","color","onChange"]),l=E.useRef(null);GPe(l);var c=$Pe(r,s,o),d=c[0],h=c[1],m=GF(["react-colorful",e]);return Z.createElement("div",iS({},a,{ref:l,className:m}),Z.createElement(LPe,{hsva:d,onChange:h}),Z.createElement(NPe,{hue:d.h,onChange:h,className:"react-colorful__last-control"}))},HPe={defaultColor:"000",toHsva:OPe,fromHsva:function(t){return IPe({h:t.h,s:t.s,v:t.v,a:1})},equal:UPe},IJe=function(t){return Z.createElement(VPe,iS({},t,{colorModel:HPe}))},VF="Popover",[sJ,BJe]=Ji(VF,[ka]),R_=ka(),[WPe,Ec]=sJ(VF),oJ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!1}=t,l=R_(e),c=E.useRef(null),[d,h]=E.useState(!1),[m=!1,g]=di({prop:n,defaultProp:s,onChange:o});return F.jsx(kp,{...l,children:F.jsx(WPe,{scope:e,contentId:Kn(),triggerRef:c,open:m,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:d,onCustomAnchorAdd:E.useCallback(()=>h(!0),[]),onCustomAnchorRemove:E.useCallback(()=>h(!1),[]),modal:a,children:r})})};oJ.displayName=VF;var aJ="PopoverAnchor",KPe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ec(aJ,r),o=R_(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return E.useEffect(()=>(a(),()=>l()),[a,l]),F.jsx(Np,{...o,...n,ref:e})});KPe.displayName=aJ;var lJ="PopoverTrigger",uJ=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ec(lJ,r),o=R_(r),a=_t(e,s.triggerRef),l=F.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pJ(s.open),...n,ref:a,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:F.jsx(Np,{asChild:!0,...o,children:l})});uJ.displayName=lJ;var HF="PopoverPortal",[XPe,YPe]=sJ(HF,{forceMount:void 0}),cJ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,o=Ec(HF,e);return F.jsx(XPe,{scope:e,forceMount:r,children:F.jsx(Zi,{present:r||o.open,children:F.jsx(c_,{asChild:!0,container:s,children:n})})})};cJ.displayName=HF;var pp="PopoverContent",dJ=E.forwardRef((t,e)=>{const r=YPe(pp,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,o=Ec(pp,t.__scopePopover);return F.jsx(Zi,{present:n||o.open,children:o.modal?F.jsx(qPe,{...s,ref:e}):F.jsx(ZPe,{...s,ref:e})})});dJ.displayName=pp;var qPe=E.forwardRef((t,e)=>{const r=Ec(pp,t.__scopePopover),n=E.useRef(null),s=_t(e,n),o=E.useRef(!1);return E.useEffect(()=>{const a=n.current;if(a)return d_(a)},[]),F.jsx(AB,{as:Da,allowPinchZoom:!0,children:F.jsx(fJ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZPe=E.forwardRef((t,e)=>{const r=Ec(pp,t.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return F.jsx(fJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),fJ=E.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=t,g=Ec(pp,r),y=R_(r);return pB(),F.jsx(Bp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:F.jsx(o_,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:F.jsx(l_,{"data-state":pJ(g.open),role:"dialog",id:g.contentId,...y,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hJ="PopoverClose",JPe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ec(hJ,r);return F.jsx(Xe.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});JPe.displayName=hJ;var QPe="PopoverArrow",e2e=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=R_(r);return F.jsx(u_,{...s,...n,ref:e})});e2e.displayName=QPe;function pJ(t){return t?"open":"closed"}var FJe=oJ,MJe=uJ,kJe=cJ,NJe=dJ,t2e="Toggle",WF=E.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...o}=t,[a=!1,l]=di({prop:r,onChange:s,defaultProp:n});return F.jsx(Xe.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:fe(t.onClick,()=>{t.disabled||l(!a)})})});WF.displayName=t2e;var LJe=WF,Kp="ToggleGroup",[mJ,gJ]=Ji(Kp,[fo]),vJ=fo(),KF=Z.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return F.jsx(r2e,{...s,ref:e})}if(r==="multiple"){const s=n;return F.jsx(n2e,{...s,ref:e})}throw new Error("Missing prop `type` expected on `".concat(Kp,"`"))});KF.displayName=Kp;var[yJ,_J]=mJ(Kp),r2e=Z.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[a,l]=di({prop:r,defaultProp:n,onChange:s});return F.jsx(yJ,{scope:t.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:l,onItemDeactivate:Z.useCallback(()=>l(""),[l]),children:F.jsx(bJ,{...o,ref:e})})}),n2e=Z.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[a=[],l]=di({prop:r,defaultProp:n,onChange:s}),c=Z.useCallback(h=>l((m=[])=>[...m,h]),[l]),d=Z.useCallback(h=>l((m=[])=>m.filter(g=>g!==h)),[l]);return F.jsx(yJ,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:c,onItemDeactivate:d,children:F.jsx(bJ,{...o,ref:e})})});KF.displayName=Kp;var[i2e,s2e]=mJ(Kp),bJ=Z.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:o,dir:a,loop:l=!0,...c}=t,d=vJ(r),h=Fa(a),m={role:"group",dir:h,...c};return F.jsx(i2e,{scope:r,rovingFocus:s,disabled:n,children:s?F.jsx(Lp,{asChild:!0,...d,orientation:o,dir:h,loop:l,children:F.jsx(Xe.div,{...m,ref:e})}):F.jsx(Xe.div,{...m,ref:e})})}),px="ToggleGroupItem",wJ=Z.forwardRef((t,e)=>{const r=_J(px,t.__scopeToggleGroup),n=s2e(px,t.__scopeToggleGroup),s=vJ(t.__scopeToggleGroup),o=r.value.includes(t.value),a=n.disabled||t.disabled,l={...t,pressed:o,disabled:a},c=Z.useRef(null);return n.rovingFocus?F.jsx(Jd,{asChild:!0,...s,focusable:!a,active:o,ref:c,children:F.jsx(Z$,{...l,ref:e})}):F.jsx(Z$,{...l,ref:e})});wJ.displayName=px;var Z$=Z.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,o=_J(px,r),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?a:void 0;return F.jsx(WF,{...l,...s,ref:e,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),o2e=KF,a2e=wJ,[sS,UJe]=Ji("Tooltip",[ka]),oS=ka(),xJ="TooltipProvider",l2e=700,hR="tooltip.open",[u2e,XF]=sS(xJ),EJ=t=>{const{__scopeTooltip:e,delayDuration:r=l2e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[a,l]=E.useState(!0),c=E.useRef(!1),d=E.useRef(0);return E.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),F.jsx(u2e,{scope:e,isOpenDelayed:a,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};EJ.displayName=xJ;var aS="Tooltip",[c2e,O_]=sS(aS),SJ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=t,c=XF(aS,t.__scopeTooltip),d=oS(e),[h,m]=E.useState(null),g=Kn(),y=E.useRef(0),_=a!=null?a:c.disableHoverableContent,u=l!=null?l:c.delayDuration,f=E.useRef(!1),[p=!1,v]=di({prop:n,defaultProp:s,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(hR))):c.onClose(),o==null||o(A)}}),b=E.useMemo(()=>p?f.current?"delayed-open":"instant-open":"closed",[p]),w=E.useCallback(()=>{window.clearTimeout(y.current),f.current=!1,v(!0)},[v]),x=E.useCallback(()=>{window.clearTimeout(y.current),v(!1)},[v]),S=E.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{f.current=!0,v(!0)},u)},[u,v]);return E.useEffect(()=>()=>window.clearTimeout(y.current),[]),F.jsx(kp,{...d,children:F.jsx(c2e,{scope:e,contentId:g,open:p,stateAttribute:b,trigger:h,onTriggerChange:m,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayed?S():w()},[c.isOpenDelayed,S,w]),onTriggerLeave:E.useCallback(()=>{_?x():window.clearTimeout(y.current)},[x,_]),onOpen:w,onClose:x,disableHoverableContent:_,children:r})})};SJ.displayName=aS;var pR="TooltipTrigger",CJ=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=O_(pR,r),o=XF(pR,r),a=oS(r),l=E.useRef(null),c=_t(e,l,s.onTriggerChange),d=E.useRef(!1),h=E.useRef(!1),m=E.useCallback(()=>d.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),F.jsx(Np,{asChild:!0,...a,children:F.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:fe(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});CJ.displayName=pR;var YF="TooltipPortal",[d2e,f2e]=sS(YF,{forceMount:void 0}),AJ=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,o=O_(YF,e);return F.jsx(d2e,{scope:e,forceMount:r,children:F.jsx(Zi,{present:r||o.open,children:F.jsx(c_,{asChild:!0,container:s,children:n})})})};AJ.displayName=YF;var mp="TooltipContent",TJ=E.forwardRef((t,e)=>{const r=f2e(mp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,a=O_(mp,t.__scopeTooltip);return F.jsx(Zi,{present:n||a.open,children:a.disableHoverableContent?F.jsx(DJ,{side:s,...o,ref:e}):F.jsx(h2e,{side:s,...o,ref:e})})}),h2e=E.forwardRef((t,e)=>{const r=O_(mp,t.__scopeTooltip),n=XF(mp,t.__scopeTooltip),s=E.useRef(null),o=_t(e,s),[a,l]=E.useState(null),{trigger:c,onClose:d}=r,h=s.current,{onPointerInTransitChange:m}=n,g=E.useCallback(()=>{l(null),m(!1)},[m]),y=E.useCallback((_,u)=>{const f=_.currentTarget,p={x:_.clientX,y:_.clientY},v=v2e(p,f.getBoundingClientRect()),b=y2e(p,v),w=_2e(u.getBoundingClientRect()),x=w2e([...b,...w]);l(x),m(!0)},[m]);return E.useEffect(()=>()=>g(),[g]),E.useEffect(()=>{if(c&&h){const _=f=>y(f,h),u=f=>y(f,c);return c.addEventListener("pointerleave",_),h.addEventListener("pointerleave",u),()=>{c.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",u)}}},[c,h,y,g]),E.useEffect(()=>{if(a){const _=u=>{const f=u.target,p={x:u.clientX,y:u.clientY},v=(c==null?void 0:c.contains(f))||(h==null?void 0:h.contains(f)),b=!b2e(p,a);v?g():b&&(g(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,h,a,d,g]),F.jsx(DJ,{...t,ref:o})}),[p2e,m2e]=sS(aS,{isInside:!1}),DJ=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=O_(mp,r),d=oS(r),{onClose:h}=c;return E.useEffect(()=>(document.addEventListener(hR,h),()=>document.removeEventListener(hR,h)),[h]),E.useEffect(()=>{if(c.trigger){const m=g=>{const y=g.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),F.jsx(o_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:F.jsxs(l_,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[F.jsx(cB,{children:n}),F.jsx(p2e,{scope:r,isInside:!0,children:F.jsx(fPe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});TJ.displayName=mp;var PJ="TooltipArrow",g2e=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=oS(r);return m2e(PJ,r).isInside?null:F.jsx(u_,{...s,...n,ref:e})});g2e.displayName=PJ;function v2e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function y2e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function _2e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function b2e(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function w2e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),x2e(e)}function x2e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var $Je=EJ,jJe=SJ,zJe=CJ,GJe=AJ,VJe=TJ,E2e=Object.defineProperty,S2e=Object.defineProperties,C2e=Object.getOwnPropertyDescriptors,J$=Object.getOwnPropertySymbols,A2e=Object.prototype.hasOwnProperty,T2e=Object.prototype.propertyIsEnumerable,Q$=(t,e,r)=>e in t?E2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D2e=(t,e)=>{for(var r in e||(e={}))A2e.call(e,r)&&Q$(t,r,e[r]);if(J$)for(var r of J$(e))T2e.call(e,r)&&Q$(t,r,e[r]);return t},P2e=(t,e)=>S2e(t,C2e(e)),R2e=E.createContext(void 0),O2e=()=>E.useContext(R2e);function RJ(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((r,n)=>r&&RJ(t[n],e[n]),!0):t===e}var I2e=E.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),B2e=()=>E.useContext(I2e),OJ=new Set(["shift","alt","meta","mod","ctrl","control"]),F2e={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function gp(t){return(F2e[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function M2e(t){return OJ.has(t)}function ZA(t,e=","){return t.toLowerCase().split(e)}function JA(t,e="+",r=!1,n){const s=t.toLocaleLowerCase().split(e).map(l=>gp(l)),o={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),meta:s.includes("meta"),mod:s.includes("mod"),shift:s.includes("shift"),useKey:r},a=s.filter(l=>!OJ.has(l));return P2e(D2e({},o),{description:n,keys:a})}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&BJ([gp(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&FJ([gp(t.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{Du.clear()});var Du=new Set;function IJ(t){return Array.isArray(t)}function k2e(t,e=","){return(IJ(t)?t:t.split(e)).every(n=>Du.has(n.trim().toLowerCase()))}function BJ(t){const e=Array.isArray(t)?t:[t];Du.has("meta")&&Du.forEach(r=>!M2e(r)&&Du.delete(r.toLowerCase())),e.forEach(r=>Du.add(r.toLowerCase()))}function FJ(t){const e=Array.isArray(t)?t:[t];t==="meta"?Du.clear():e.forEach(r=>Du.delete(r.toLowerCase()))}var cb={AVRInput:"AVRInput",AVRPower:"AVRPower",Accept:"Accept",Add:"Add",Again:"Again",AllCandidates:"AllCandidates",Alphanumeric:"Alphanumeric",Alt:"Alt",AltGraph:"AltGraph",AppSwitch:"AppSwitch",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Attn:"Attn",AudioBalanceLeft:"AudioBalanceLeft",AudioBalanceRight:"AudioBalanceRight",AudioBassBoostDown:"AudioBassBoostDown",AudioBassBoostToggle:"AudioBassBoostToggle",AudioBassBoostUp:"AudioBassBoostUp",AudioBassDown:"AudioBassDown",AudioBassUp:"AudioBassUp",AudioFaderFront:"AudioFaderFront",AudioFaderRear:"AudioFaderRear",AudioSurroundModeNext:"AudioSurroundModeNext",AudioTrebleDown:"AudioTrebleDown",AudioTrebleUp:"AudioTrebleUp",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",Backspace:"Backspace",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Call:"Call",Camera:"Camera",CameraFocus:"CameraFocus",Cancel:"Cancel",CapsLock:"CapsLock",ChannelDown:"ChannelDown",ChannelUp:"ChannelUp",Clear:"Clear",Close:"Close",ClosedCaptionToggle:"ClosedCaptionToggle",CodeInput:"CodeInput",ColorF0Red:"ColorF0Red",ColorF1Green:"ColorF1Green",ColorF2Yellow:"ColorF2Yellow",ColorF3Blue:"ColorF3Blue",ColorF4Grey:"ColorF4Grey",ColorF5Brown:"ColorF5Brown",Compose:"Compose",ContextMenu:"ContextMenu",Control:"Control",Convert:"Convert",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",DVR:"DVR",Dead:"Dead",Decimal:"Decimal",Delete:"Delete",Dimmer:"Dimmer",DisplaySwap:"DisplaySwap",Divide:"Divide",Eisu:"Eisu",Eject:"Eject",End:"End",EndCall:"EndCall",Enter:"Enter",EraseEof:"EraseEof",Escape:"Escape",ExSel:"ExSel",Execute:"Execute",Exit:"Exit",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",FavoriteClear0:"FavoriteClear0",FavoriteClear1:"FavoriteClear1",FavoriteClear2:"FavoriteClear2",FavoriteClear3:"FavoriteClear3",FavoriteRecall0:"FavoriteRecall0",FavoriteRecall1:"FavoriteRecall1",FavoriteRecall2:"FavoriteRecall2",FavoriteRecall3:"FavoriteRecall3",FavoriteStore0:"FavoriteStore0",FavoriteStore1:"FavoriteStore1",FavoriteStore2:"FavoriteStore2",FavoriteStore3:"FavoriteStore3",FinalMode:"FinalMode",Find:"Find",Finish:"Finish",Fn:"Fn",FnLock:"FnLock",GoBack:"GoBack",GoHome:"GoHome",GroupFirst:"GroupFirst",GroupLast:"GroupLast",GroupNext:"GroupNext",GroupPrevious:"GroupPrevious",Guide:"Guide",GuideNextDay:"GuideNextDay",GuidePreviousDay:"GuidePreviousDay",HangulMode:"HangulMode",HanjaMode:"HanjaMode",Hankaku:"Hankaku",HeadsetHook:"HeadsetHook",Help:"Help",Hibernate:"Hibernate",Hiragana:"Hiragana",HiraganaKatakana:"HiraganaKatakana",Home:"Home",Hyper:"Hyper",Info:"Info",Insert:"Insert",InstantReplay:"InstantReplay",JunjaMode:"JunjaMode",KanaMode:"KanaMode",KanjiMode:"KanjiMode",Katakana:"Katakana",Key11:"Key11",Key12:"Key12",LastNumberRedial:"LastNumberRedial",LaunchApplication1:"LaunchApplication1",LaunchApplication2:"LaunchApplication2",LaunchApplication3:"LaunchApplication3",LaunchApplication4:"LaunchApplication4",LaunchApplication5:"LaunchApplication5",LaunchApplication6:"LaunchApplication6",LaunchApplication7:"LaunchApplication7",LaunchApplication8:"LaunchApplication8",LaunchApplication9:"LaunchApplication9",LaunchApplication10:"LaunchApplication10",LaunchApplication11:"LaunchApplication11",LaunchApplication12:"LaunchApplication12",LaunchApplication13:"LaunchApplication13",LaunchApplication14:"LaunchApplication14",LaunchApplication15:"LaunchApplication15",LaunchApplication16:"LaunchApplication16",LaunchCalculator:"LaunchCalculator",LaunchCalendar:"LaunchCalendar",LaunchContacts:"LaunchContacts",LaunchMail:"LaunchMail",LaunchMediaPlayer:"LaunchMediaPlayer",LaunchMusicPlayer:"LaunchMusicPlayer",LaunchMyComputer:"LaunchMyComputer",LaunchPhone:"LaunchPhone",LaunchScreenSaver:"LaunchScreenSaver",LaunchSpreadsheet:"LaunchSpreadsheet",LaunchWebBrowser:"LaunchWebBrowser",LaunchWebCam:"LaunchWebCam",LaunchWordProcessor:"LaunchWordProcessor",Link:"Link",ListProgram:"ListProgram",LiveContent:"LiveContent",Lock:"Lock",LogOff:"LogOff",MailForward:"MailForward",MailReply:"MailReply",MailSend:"MailSend",MannerMode:"MannerMode",MediaApps:"MediaApps",MediaAudioTrack:"MediaAudioTrack",MediaFastForward:"MediaFastForward",MediaLast:"MediaLast",MediaPause:"MediaPause",MediaPlay:"MediaPlay",MediaPlayPause:"MediaPlayPause",MediaRecord:"MediaRecord",MediaRewind:"MediaRewind",MediaSkipBackward:"MediaSkipBackward",MediaSkipForward:"MediaSkipForward",MediaStepBackward:"MediaStepBackward",MediaStepForward:"MediaStepForward",MediaStop:"MediaStop",MediaTopMenu:"MediaTopMenu",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Meta:"Meta",MicrophoneToggle:"MicrophoneToggle",MicrophoneVolumeDown:"MicrophoneVolumeDown",MicrophoneVolumeMute:"MicrophoneVolumeMute",MicrophoneVolumeUp:"MicrophoneVolumeUp",Mod:"Mod",ModeChange:"ModeChange",Multiply:"Multiply",NavigateIn:"NavigateIn",NavigateNext:"NavigateNext",NavigateOut:"NavigateOut",NavigatePrevious:"NavigatePrevious",New:"New",NextCandidate:"NextCandidate",NextFavoriteChannel:"NextFavoriteChannel",NextUserProfile:"NextUserProfile",NonConvert:"NonConvert",Notification:"Notification",NumLock:"NumLock",OnDemand:"OnDemand",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Pairing:"Pairing",Paste:"Paste",Pause:"Pause",PinPDown:"PinPDown",PinPMove:"PinPMove",PinPToggle:"PinPToggle",PinPUp:"PinPUp",Play:"Play",PlaySpeedDown:"PlaySpeedDown",PlaySpeedReset:"PlaySpeedReset",PlaySpeedUp:"PlaySpeedUp",Power:"Power",PowerOff:"PowerOff",PreviousCandidate:"PreviousCandidate",Print:"Print",PrintScreen:"PrintScreen",Process:"Process",Props:"Props",RandomToggle:"RandomToggle",RcLowBattery:"RcLowBattery",RecordSpeedNext:"RecordSpeedNext",Redo:"Redo",RfBypass:"RfBypass",Romaji:"Romaji",STBInput:"STBInput",STBPower:"STBPower",Save:"Save",ScanChannelsToggle:"ScanChannelsToggle",ScreenModeNext:"ScreenModeNext",ScrollLock:"ScrollLock",Select:"Select",Separator:"Separator",Settings:"Settings",Shift:"Shift",SingleCandidate:"SingleCandidate",Soft1:"Soft1",Soft2:"Soft2",Soft3:"Soft3",Soft4:"Soft4",SpeechCorrectionList:"SpeechCorrectionList",SpeechInputToggle:"SpeechInputToggle",SpellCheck:"SpellCheck",SplitScreenToggle:"SplitScreenToggle",Standby:"Standby",Subtitle:"Subtitle",Subtract:"Subtract",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",TV:"TV",TV3DMode:"TV3DMode",TVAntennaCable:"TVAntennaCable",TVAudioDescription:"TVAudioDescription",TVAudioDescriptionMixDown:"TVAudioDescriptionMixDown",TVAudioDescriptionMixUp:"TVAudioDescriptionMixUp",TVContentsMenu:"TVContentsMenu",TVDataService:"TVDataService",TVInput:"TVInput",TVInputComponent1:"TVInputComponent1",TVInputComponent2:"TVInputComponent2",TVInputComposite1:"TVInputComposite1",TVInputComposite2:"TVInputComposite2",TVInputHDMI1:"TVInputHDMI1",TVInputHDMI2:"TVInputHDMI2",TVInputHDMI3:"TVInputHDMI3",TVInputHDMI4:"TVInputHDMI4",TVInputVGA1:"TVInputVGA1",TVMediaContext:"TVMediaContext",TVNetwork:"TVNetwork",TVNumberEntry:"TVNumberEntry",TVPower:"TVPower",TVRadioService:"TVRadioService",TVSatellite:"TVSatellite",TVSatelliteBS:"TVSatelliteBS",TVSatelliteCS:"TVSatelliteCS",TVSatelliteToggle:"TVSatelliteToggle",TVTerrestrialAnalog:"TVTerrestrialAnalog",TVTerrestrialDigital:"TVTerrestrialDigital",TVTimer:"TVTimer",Tab:"Tab",Teletext:"Teletext",Undo:"Undo",Unidentified:"Unidentified",VideoModeNext:"VideoModeNext",VoiceDial:"VoiceDial",WakeUp:"WakeUp",Wink:"Wink",Zenkaku:"Zenkaku",ZenkakuHanaku:"ZenkakuHanaku",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",ZoomToggle:"ZoomToggle"};function N2e(t){const e=E.useRef();return RJ(e.current,t)||(e.current=t),e.current}function L2e(t,e,r){(typeof r=="function"&&r(t,e)||r===!0)&&t.preventDefault()}function U2e(t,e,r){return typeof r=="function"?r(t,e):r===!0||r===void 0}function $2e(t){return MJ(t,["input","textarea","select"])}function MJ({target:t},e=!1){const r=t&&t.tagName;return IJ(e)?!!(r&&(e!=null&&e.some(n=>n.toLowerCase()===r.toLowerCase()))):!!(r&&e&&e)}function j2e(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(r=>e.includes(r))||t.includes("*"):!0}var z2e=(t,e,r=!1)=>{const{alt:n,ctrl:s,keys:o,meta:a,mod:l,shift:c,useKey:d}=e,{altKey:h,code:m,ctrlKey:g,key:y,metaKey:_,shiftKey:u}=t,f=gp(m);if(d&&(o==null?void 0:o.length)===1&&o.includes(y))return!0;if(!(o!=null&&o.includes(f))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(f))return!1;if(!r){if(n!==h&&f!=="alt"||c!==u&&f!=="shift")return!1;if(l){if(!_&&!g)return!1}else if(a!==_&&f!=="meta"&&f!=="os"||s!==g&&f!=="ctrl"&&f!=="control")return!1}return o&&o.length===1&&o.includes(f)?!0:o?k2e(o):!o},e4=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},G2e=typeof window>"u"?E.useEffect:E.useLayoutEffect;function V2e(t,e,r,n){const[s,o]=E.useState(null),a=E.useRef(!1),l=Array.isArray(r)?Array.isArray(n)?void 0:n:r,c=E.useMemo(()=>Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(u=>u.map(f=>f.toString()).join((l==null?void 0:l.splitKey)||"+")).join((l==null?void 0:l.delimiter)||","):Array.isArray(t)?t.join((l==null?void 0:l.delimiter)||","):t,[t,l==null?void 0:l.splitKey,l==null?void 0:l.delimiter]),d=Array.isArray(r)?r:Array.isArray(n)?n:void 0,h=E.useCallback(e,d!=null?d:[]),m=E.useRef(h);m.current=d?h:e;const g=N2e(l),{activeScopes:y}=B2e(),_=O2e();return G2e(()=>{if((g==null?void 0:g.enabled)===!1||!j2e(y,g==null?void 0:g.scopes))return;const u=(b,w=!1)=>{var x;if(!($2e(b)&&!MJ(b,g==null?void 0:g.enableOnFormTags))){if(s!==null){const S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){e4(b);return}}(x=b.target)!=null&&x.isContentEditable&&!(g!=null&&g.enableOnContentEditable)||ZA(c,g==null?void 0:g.delimiter).forEach(S=>{var A,D,C;const T=JA(S,g==null?void 0:g.splitKey,g==null?void 0:g.useKey);if(z2e(b,T,g==null?void 0:g.ignoreModifiers)||(A=T.keys)!=null&&A.includes("*")){if(((D=g==null?void 0:g.ignoreEventWhenPrevented)==null||D)&&b.defaultPrevented||(C=g==null?void 0:g.ignoreEventWhen)!=null&&C.call(g,b)||w&&a.current)return;if(!U2e(b,T,g==null?void 0:g.enabled)){e4(b);return}m.current(b,T),L2e(b,T,g==null?void 0:g.preventDefault),w||(a.current=!0)}})}},f=b=>{b.code!==void 0&&(BJ(gp(b.code)),((g==null?void 0:g.keydown)===void 0&&(g==null?void 0:g.keyup)!==!0||g!=null&&g.keydown)&&u(b))},p=b=>{b.code!==void 0&&(FJ(gp(b.code)),a.current=!1,g!=null&&g.keyup&&u(b,!0))},v=s||(l==null?void 0:l.document)||document;return v.addEventListener("keyup",p),v.addEventListener("keydown",f),_&&ZA(c,g==null?void 0:g.delimiter).forEach(b=>_.addHotkey(JA(b,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description))),()=>{v.removeEventListener("keyup",p),v.removeEventListener("keydown",f),_&&ZA(c,g==null?void 0:g.delimiter).forEach(b=>_.removeHotkey(JA(b,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description)))}},[s,c,g,y]),o}var mx=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),H2e=t=>t===void 0,W2e=t=>t===null,K2e=t=>H2e(t)||W2e(t),of=t=>!K2e(t);function vp(t,e){return(...r)=>t(e,...r)}let X2e=0;function Sa(t,e){const r="atom".concat(++X2e),n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=Y2e,n.write=q2e),e&&(n.write=e),n}function Y2e(t){return t(this)}function q2e(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}const QA=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,t4=t=>"init"in t,r4=t=>!!t.write,gx=new WeakMap,Z2e=(t,e)=>{gx.set(t,e),t.catch(()=>{}).finally(()=>gx.delete(t))},n4=(t,e)=>{const r=gx.get(t);r&&(gx.delete(t),r(e))},i4=(t,e)=>{t.status="fulfilled",t.value=e},s4=(t,e)=>{t.status="rejected",t.reason=e},J2e=t=>typeof(t==null?void 0:t.then)=="function",Bm=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),o4=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),Rf=t=>!!t&&"v"in t&&t.v instanceof Promise,Q2e=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,db=t=>{if("e"in t)throw t.e;return t.v},kJ=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let s,o;const a=D=>t.get(D),l=(D,C)=>{C.d.forEach((T,R)=>{if(!n.has(R)){const P=a(R);n.set(R,[P,new Set]),P&&l(R,P)}n.get(R)[1].add(D)})},c=(D,C)=>{var T;const R=a(D);if(t.set(D,C),(T=r[r.length-1])==null||T.add(D),n.has(D)||(n.set(D,[R,new Set]),l(D,C)),Rf(R)){const P="v"in C?C.v instanceof Promise?C.v:Promise.resolve(C.v):Promise.reject(C.e);R.v!==P&&n4(R.v,P)}},d=(D,C,T,R)=>{const P=new Map(R?C.d:null);let O=!1;T.forEach((I,k)=>{!I&&QA(D,k)&&(I=C),I&&(P.set(k,I),C.d.get(k)!==I&&(O=!0))}),(O||C.d.size!==P.size)&&(C.d=P)},h=(D,C,T,R)=>{const P=a(D),O={d:(P==null?void 0:P.d)||new Map,v:C};if(T&&d(D,O,T,R),Bm(P,O)&&P.d===O.d)return P;if(Rf(P)&&Rf(O)&&Q2e(P,O)){if(P.d===O.d)return P;O.v=P.v}return c(D,O),O},m=(D,C,T,R)=>{if(J2e(C)){let P;const O=()=>{const k=a(D);if(!Rf(k)||k.v!==I)return;const W=h(D,I,T);e.has(D)&&k.d!==W.d&&x(D,W,k.d)},I=new Promise((k,W)=>{let G=!1;C.then(j=>{G||(G=!0,i4(I,j),k(j),O())},j=>{G||(G=!0,s4(I,j),W(j),O())}),P=j=>{G||(G=!0,j.then($=>i4(I,$),$=>s4(I,$)),k(j))}});return I.orig=C,I.status="pending",Z2e(I,k=>{k&&(P(k),R==null||R())}),h(D,I,T,!0)}return h(D,C,T)},g=(D,C,T)=>{const R=a(D),P={d:(R==null?void 0:R.d)||new Map,e:C};return T&&d(D,P,T),o4(R,P)&&R.d===P.d?R:(c(D,P),P)},y=(D,C)=>{const T=a(D);if(!(C!=null&&C(D))&&T&&(e.has(D)||Array.from(T.d).every(([G,j])=>{if(G===D)return!0;const $=y(G,C);return $===j||Bm($,j)})))return T;const R=new Map;let P=!0;const O=G=>{if(QA(D,G)){const $=a(G);if($)return R.set(G,$),db($);if(t4(G))return R.set(G,void 0),G.init;throw new Error("no atom init")}const j=y(G,C);return R.set(G,j),db(j)};let I,k;const W={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return!k&&r4(D)&&(k=(...G)=>{if(!P)return p(D,...G)}),k}};try{const G=D.read(O,W);return m(D,G,R,()=>I==null?void 0:I.abort())}catch(G){return g(D,G,R)}finally{P=!1}},_=D=>db(y(D)),u=D=>{const C=k=>{var W,G;const j=new Set((W=e.get(k))==null?void 0:W.t);return(G=n.get(k))==null||G[1].forEach($=>{j.add($)}),j},T=new Array,R=new Set,P=k=>{if(!R.has(k)){R.add(k);for(const W of C(k))k!==W&&P(W);T.push(k)}};P(D);const O=new Set([D]),I=k=>R.has(k);for(let k=T.length-1;k>=0;--k){const W=T[k],G=a(W);if(!G)continue;let j=!1;for(const $ of G.d.keys())if($!==W&&O.has($)){j=!0;break}if(j){const $=y(W,I);l(W,$),Bm(G,$)||O.add(W)}R.delete(W)}},f=(D,...C)=>{const T=O=>db(y(O)),R=(O,...I)=>{const k=r.length>0;k||r.push(new Set([O]));let W;if(QA(D,O)){if(!t4(O))throw new Error("atom not writable");const G=a(O),j=m(O,I[0]);Bm(G,j)||u(O)}else W=f(O,...I);if(!k){const G=S(r.pop())}return W};return D.write(T,R,...C)},p=(D,...C)=>{r.push(new Set([D]));const T=f(D,...C),R=S(r.pop());return T},v=(D,C,T)=>{var R;const P=e.get(D);if(P)return C&&P.t.add(C),P;const O=T||[];(R=a(D))==null||R.d.forEach((k,W)=>{W!==D&&v(W,D,O)}),y(D);const I={t:new Set(C&&[C]),l:new Set};if(e.set(D,I),r4(D)&&D.onMount){const{onMount:k}=D;O.push(()=>{const W=k((...G)=>p(D,...G));W&&(I.u=W)})}return T||O.forEach(k=>k()),I},b=(D,C)=>!C.l.size&&(!C.t.size||C.t.size===1&&C.t.has(D)),w=(D,C)=>{if(!b(D,C))return;const T=C.u;T&&T(),e.delete(D);const R=a(D);R&&(Rf(R)&&n4(R.v),R.d.forEach((P,O)=>{if(O!==D){const I=e.get(O);I&&(I.t.delete(D),w(O,I))}}))},x=(D,C,T)=>{const R=new Set(C.d.keys()),P=new Set;T==null||T.forEach((O,I)=>{if(R.has(I)){R.delete(I);return}P.add(I);const k=e.get(I);k&&k.t.delete(D)}),R.forEach(O=>{v(O,D)}),P.forEach(O=>{const I=e.get(O);I&&w(O,I)})},S=D=>{let C;const T=[],R=P=>{var O;if(!n.has(P))return;const[I,k]=n.get(P);n.delete(P),T.push([P,I]),k.forEach(R),(O=a(P))==null||O.d.forEach((W,G)=>R(G))};D.forEach(R),T.forEach(([P,O])=>{const I=a(P);if(I&&I!==O){const k=e.get(P);k&&I.d!==(O==null?void 0:O.d)&&x(P,I,O==null?void 0:O.d),k&&!(!Rf(O)&&(Bm(O,I)||o4(O,I)))&&k.l.forEach(W=>W())}})};return{get:_,set:p,sub:(D,C)=>{const T=v(D),R=S([D]),P=T.l;return P.add(C),()=>{P.delete(C),w(D,T)}}}};let eT;const eRe=()=>(eT||(eT=kJ()),eT);Symbol("");const mR=kJ,tRe=eRe,rRe=E.createContext(void 0),qF=t=>{const e=E.useContext(rRe);return(t==null?void 0:t.store)||e||tRe()},nRe=t=>typeof(t==null?void 0:t.then)=="function",iRe=Z.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function NJ(t,e){const r=qF(e),[[n,s,o],a]=E.useReducer(d=>{const h=r.get(t);return Object.is(d[0],h)&&d[1]===r&&d[2]===t?d:[h,r,t]},void 0,()=>[r.get(t),r,t]);let l=n;(s!==r||o!==t)&&(a(),l=r.get(t));const c=e==null?void 0:e.delay;return E.useEffect(()=>{const d=r.sub(t,()=>{if(typeof c=="number"){setTimeout(a,c);return}a()});return a(),d},[r,t,c]),E.useDebugValue(l),nRe(l)?iRe(l):l}function ZF(t,e){const r=qF(e);return E.useCallback((...s)=>r.set(t,...s),[r,t])}function sRe(t,e){return[NJ(t,e),ZF(t,e)]}const a4=new WeakMap;function oRe(t,e){const r=qF(e),n=aRe(r);for(const[s,o]of t)(!n.has(s)||e!=null&&e.dangerouslyForceHydrate)&&(n.add(s),r.set(s,o))}const aRe=t=>{let e=a4.get(t);return e||(e=new WeakSet,a4.set(t,e)),e};var lRe=Object.defineProperty,uRe=Object.defineProperties,cRe=Object.getOwnPropertyDescriptors,vx=Object.getOwnPropertySymbols,LJ=Object.prototype.hasOwnProperty,UJ=Object.prototype.propertyIsEnumerable,l4=(t,e,r)=>e in t?lRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pn=(t,e)=>{for(var r in e||(e={}))LJ.call(e,r)&&l4(t,r,e[r]);if(vx)for(var r of vx(e))UJ.call(e,r)&&l4(t,r,e[r]);return t},tT=(t,e)=>uRe(t,cRe(e)),$J=(t,e)=>{var r={};for(var n in t)LJ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&vx)for(var n of vx(t))e.indexOf(n)<0&&UJ.call(t,n)&&(r[n]=t[n]);return r},u4=t=>typeof t=="function"?{__fn:t}:t,dRe=t=>t&&typeof t=="object"&&"__fn"in t?t.__fn:t,fRe=t=>{const e=Sa(u4(t));return Sa(r=>dRe(r(e)),(r,n,s)=>n(e,u4(s)))},hRe=(t,e,r={})=>{const n=[];for(const s of Object.keys(t)){const o=e[s];o!==void 0&&n.push([t[s],o])}oRe(n,r)},pRe=(t,e,{store:r}={})=>{for(const n of Object.keys(t)){const s=e[n],o=t[n],a=ZF(o,{store:r});Z.useEffect(()=>{s!=null&&a(s)},[a,s])}},yx=(t,e)=>"".concat(t,":").concat(e),gR="provider",vR=Z.createContext(new Map),mRe=(t,e=gR,r=!0)=>{var n;const s=Z.useContext(vR),o=(n=s.get(yx(t,e)))!=null?n:s.get(yx(t,gR));return!o&&r&&console.warn("Tried to access jotai store '".concat(t,"' outside of a matching provider.")),o},gRe=t=>{var e=t,{initialValues:r,children:n,store:s,atoms:o}=e,a=$J(e,["initialValues","children","store","atoms"]);return hRe(o,Pn(Pn({},r),a),{store:s}),pRe(o,a,{store:s}),Z.createElement(Z.Fragment,null,n)},vRe=(t,e,r={})=>{const n=r.effect;return s=>{var o=s,{store:a,scope:l,children:c,resetKey:d}=o,h=$J(o,["store","scope","children","resetKey"]);const[m,g]=Z.useState(mR());Z.useEffect(()=>{d&&g(mR())},[d]);const y=Z.useContext(vR),_=Z.useMemo(()=>{const u=new Map(y);return l&&u.set(yx(t,l),m),u.set(yx(t,gR),m),u},[y,l,m]);return Z.createElement(vR.Provider,{value:_},Z.createElement(gRe,Pn({store:m,atoms:e},h),!!n&&Z.createElement(n,null),c))}},jJ=(t="")=>t.length>0?t[0].toUpperCase()+t.slice(1):"",yRe=(t="")=>"".concat(jJ(t),"Provider"),_Re=(t="")=>t.length>0?"".concat(t,"Store"):"store",bRe=(t="")=>"use".concat(jJ(t),"Store"),wRe=t=>!!t&&typeof t=="object"&&"read"in t&&typeof t.read=="function",rT=(t,e)=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,(s={})=>n(Pn(Pn({},e),s))])),Fi=(t={})=>typeof t=="string"?{scope:t}:t,JF=(t,{name:e,delay:r,effect:n,extend:s})=>{const o=yRe(e),a=bRe(e),l=_Re(e),c={},d={},h={};for(const[S,A]of Object.entries(t)){const D=wRe(A)?A:fRe(A);c[S]=D;const C="write"in D;h[S]=C,C&&(d[S]=D)}const m=Pn({},c);if(s){const S=s(c);for(const[A,D]of Object.entries(S))m[A]=D,h[A]="write"in D}const g={},y={},_={},u=(S={})=>{const{scope:A,store:D,warnIfNoStore:C=!0}=Fi(S),T=mRe(e,A,!D&&C);return D!=null?D:T},f=(S,A)=>{var D;const C=Fi(A),T=u(Pn({warnIfNoStore:!1},C));return NJ(S,{store:T,delay:(D=C.delay)!=null?D:r})},p=(S,A)=>{const D=u(A);return ZF(S,{store:D})},v=(S,A)=>{const D=u(A),{delay:C=r}=Fi(A);return sRe(S,{store:D,delay:C})};for(const S of Object.keys(m)){const A=m[S],D=h[S];g[S]=(C={})=>f(A,C),D&&(y[S]=(C={})=>p(A,C),_[S]=(C={})=>v(A,C))}const b=vRe(e,d,{effect:n}),w={atom:m,name:e},x=(S={})=>({get:tT(Pn({},rT(g,Fi(S))),{atom:(A,D)=>f(A,Pn(Pn({},Fi(S)),Fi(D)))}),set:tT(Pn({},rT(y,Fi(S))),{atom:(A,D)=>p(A,Pn(Pn({},Fi(S)),Fi(D)))}),use:tT(Pn({},rT(_,Fi(S))),{atom:(A,D)=>v(A,Pn(Pn({},Fi(S)),Fi(D)))}),store:A=>u(Pn(Pn({},Fi(S)),Fi(A)))});return{[o]:b,[a]:x,[l]:w,name:e}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function c4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fn(t){var e,r;return c4(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(c4(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var xRe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=ee.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},ERe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=Ut.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},SRe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=ce.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},_x=new WeakMap,bx=new WeakMap,Xg=new WeakMap,zJ=new WeakMap,d4=new WeakMap,f4=new WeakMap,h4=new WeakMap,ee={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=ee.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var s=t[n],o=e[n];if(s!==o)break;r.push(s)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],a=e[r];return ee.equals(n,s)&&o>a},endsAt(t,e){var r=t.length,n=t.slice(0,r),s=e.slice(0,r);return ee.equals(n,s)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],a=e[r];return ee.equals(n,s)&&o<a},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return ee.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&ee.compare(t,e)===0},isBefore(t,e){return ee.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&ee.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&ee.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&ee.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&ee.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],o=e[e.length-1];return s!==o&&ee.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!ee.isAncestor(e,t)&&!ee.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:o}=e;(ee.equals(o,n)||ee.endsBefore(o,n)||ee.isAncestor(o,n))&&(n[o.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(ee.equals(a,n)||ee.isAncestor(a,n))return null;ee.endsBefore(a,n)&&(n[a.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;ee.equals(l,n)||ee.endsBefore(l,n)?n[l.length-1]-=1:ee.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:d,position:h}=e;if(ee.equals(d,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else ee.endsBefore(d,n)?n[d.length-1]+=1:ee.isAncestor(d,n)&&t[d.length]>=h&&(n[d.length-1]+=1,n[d.length]-=h);break}case"move_node":{var{path:m,newPath:g}=e;if(ee.equals(m,g))return n;if(ee.isAncestor(m,n)||ee.equals(m,n)){var y=g.slice();return ee.endsBefore(m,g)&&m.length<g.length&&(y[m.length-1]-=1),y.concat(n.slice(m.length))}else ee.isSibling(m,g)&&(ee.isAncestor(g,n)||ee.equals(g,n))?ee.endsBefore(m,n)?n[m.length-1]-=1:n[m.length-1]+=1:ee.endsBefore(g,n)||ee.equals(g,n)||ee.isAncestor(g,n)?(ee.endsBefore(m,n)&&(n[m.length-1]-=1),n[g.length-1]+=1):ee.endsBefore(m,n)&&(ee.equals(g,n)&&(n[g.length-1]+=1),n[m.length-1]-=1);break}}return n}};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function CRe(t,e){if(Ty(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ty(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ARe(t){var e=CRe(t,"string");return Ty(e)==="symbol"?e:String(e)}function Ri(t,e,r){return e=ARe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TRe=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:s}=r,o=Me.parent(t,n),a=n[n.length-1];if(a>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(a,0,s),e)for(var[l,c]of ce.points(e))e[c]=Ut.transform(l,r);break}case"insert_text":{var{path:d,offset:h,text:m}=r;if(m.length===0)break;var g=Me.leaf(t,d),y=g.text.slice(0,h),_=g.text.slice(h);if(g.text=y+m+_,e)for(var[u,f]of ce.points(e))e[f]=Ut.transform(u,r);break}case"merge_node":{var{path:p}=r,v=Me.get(t,p),b=ee.previous(p),w=Me.get(t,b),x=Me.parent(t,p),S=p[p.length-1];if(rt.isText(v)&&rt.isText(w))w.text+=v.text;else if(!rt.isText(v)&&!rt.isText(w))w.children.push(...v.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(p,"] to nodes of different interfaces: ").concat(Mn.stringify(v)," ").concat(Mn.stringify(w)));if(x.children.splice(S,1),e)for(var[A,D]of ce.points(e))e[D]=Ut.transform(A,r);break}case"move_node":{var{path:C,newPath:T}=r;if(ee.isAncestor(C,T))throw new Error("Cannot move a path [".concat(C,"] to new path [").concat(T,"] because the destination is inside itself."));var R=Me.get(t,C),P=Me.parent(t,C),O=C[C.length-1];P.children.splice(O,1);var I=ee.transform(C,r),k=Me.get(t,ee.parent(I)),W=I[I.length-1];if(k.children.splice(W,0,R),e)for(var[G,j]of ce.points(e))e[j]=Ut.transform(G,r);break}case"remove_node":{var{path:$}=r,K=$[$.length-1],Q=Me.parent(t,$);if(Q.children.splice(K,1),e)for(var[ue,pe]of ce.points(e)){var oe=Ut.transform(ue,r);if(e!=null&&oe!=null)e[pe]=oe;else{var he=void 0,Y=void 0;for(var[z,V]of Me.texts(t))if(ee.compare(V,$)===-1)he=[z,V];else{Y=[z,V];break}var H=!1;he&&Y&&(ee.equals(Y[1],$)?H=!ee.hasPrevious(Y[1]):H=ee.common(he[1],$).length<ee.common(Y[1],$).length),he&&!H?(ue.path=he[1],ue.offset=he[0].text.length):Y?(ue.path=Y[1],ue.offset=0):e=null}}break}case"remove_text":{var{path:re,offset:ne,text:_e}=r;if(_e.length===0)break;var be=Me.leaf(t,re),xe=be.text.slice(0,ne),Se=be.text.slice(ne+_e.length);if(be.text=xe+Se,e)for(var[dt,xt]of ce.points(e))e[xt]=Ut.transform(dt,r);break}case"set_node":{var{path:X,properties:se,newProperties:le}=r;if(X.length===0)throw new Error("Cannot set properties on the root node!");var Ae=Me.get(t,X);for(var ve in le){if(ve==="children"||ve==="text")throw new Error('Cannot set the "'.concat(ve,'" property of nodes!'));var ye=le[ve];ye==null?delete Ae[ve]:Ae[ve]=ye}for(var Te in se)le.hasOwnProperty(Te)||delete Ae[Te];break}case"set_selection":{var{newProperties:Re}=r;if(Re==null)e=Re;else{if(e==null){if(!ce.isRange(Re))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Mn.stringify(Re)," when there is no current selection."));e=Fm({},Re)}for(var je in Re){var ft=Re[je];if(ft==null){if(je==="anchor"||je==="focus")throw new Error('Cannot remove the "'.concat(je,'" selection property'));delete e[je]}else e[je]=ft}}break}case"split_node":{var{path:Et,position:Ke,properties:L}=r;if(Et.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Et,"] because the root node cannot be split."));var B=Me.get(t,Et),U=Me.parent(t,Et),J=Et[Et.length-1],ie;if(rt.isText(B)){var ke=B.text.slice(0,Ke),Ve=B.text.slice(Ke);B.text=ke,ie=Fm(Fm({},L),{},{text:Ve})}else{var ut=B.children.slice(0,Ke),Ye=B.children.slice(Ke);B.children=ut,ie=Fm(Fm({},L),{},{children:Ye})}if(U.children.splice(J+1,0,ie),e)for(var[vt,te]of ce.points(e))e[te]=Ut.transform(vt,r);break}}return e},DRe={transform(t,e){t.children=PU(t.children);var r=t.selection&&PU(t.selection);try{r=TRe(t,r,e)}finally{t.children=RU(t.children),r?t.selection=Od(r)?RU(r):r:t.selection=null}}},PRe={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},RRe={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},GJ=(t,e)=>{for(var r in t){var n=t[r],s=e[r];if(Fn(n)&&Fn(s)){if(!GJ(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==s[o])return!1}else if(n!==s)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0};function ORe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Ml(t,e){if(t==null)return{};var r=ORe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var IRe=["anchor","focus"];function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function BRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ce={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:s}=t;return ce.isBackward(t)===r?[n,s]:[s,n]},end(t){var[,e]=ce.edges(t);return e},equals(t,e){return Ut.equals(t.anchor,e.anchor)&&Ut.equals(t.focus,e.focus)},includes(t,e){if(ce.isRange(e)){if(ce.includes(t,e.anchor)||ce.includes(t,e.focus))return!0;var[r,n]=ce.edges(t),[s,o]=ce.edges(e);return Ut.isBefore(r,s)&&Ut.isAfter(n,o)}var[a,l]=ce.edges(t),c=!1,d=!1;return Ut.isPoint(e)?(c=Ut.compare(e,a)>=0,d=Ut.compare(e,l)<=0):(c=ee.compare(e,a.path)>=0,d=ee.compare(e,l.path)<=0),c&&d},intersection(t,e){var r=Ml(t,IRe),[n,s]=ce.edges(t),[o,a]=ce.edges(e),l=Ut.isBefore(n,o)?o:n,c=Ut.isBefore(s,a)?s:a;return Ut.isBefore(c,l)?null:BRe({anchor:l,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return Ut.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return Ut.equals(e,r)},isExpanded(t){return!ce.isCollapsed(t)},isForward(t){return!ce.isBackward(t)},isRange(t){return Fn(t)&&Ut.isPoint(t.anchor)&&Ut.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=ce.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n_(t,n=>{if(n===null)return null;var{affinity:s="inward"}=r,o,a;if(s==="inward"){var l=ce.isCollapsed(n);ce.isForward(n)?(o="forward",a=l?o:"backward"):(o="backward",a=l?o:"forward")}else s==="outward"?ce.isForward(n)?(o="backward",a="forward"):(o="forward",a="backward"):(o=s,a=s);var c=Ut.transform(n.anchor,e,{affinity:o}),d=Ut.transform(n.focus,e,{affinity:a});if(!c||!d)return null;n.anchor=c,n.focus=d})}},g4=t=>Fn(t)&&Me.isNodeList(t.children)&&!M.isEditor(t),ot={isAncestor(t){return Fn(t)&&Me.isNodeList(t.children)},isElement:g4,isElementList(t){return Array.isArray(t)&&t.every(e=>ot.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return g4(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},FRe=["children"],MRe=["text"],v4=new WeakMap,Me={ancestor(t,e){var r=Me.get(t,e);if(rt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Mn.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.ancestors(e,r)){var s=Me.ancestor(t,n),o=[s,n];yield o}}()},child(t,e){if(rt.isText(t))throw new Error("Cannot get the child of a text node: ".concat(Mn.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Mn.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,s=Me.ancestor(t,e),{children:o}=s,a=n?o.length-1:0;n?a>=0:a<o.length;){var l=Me.child(s,a),c=e.concat(a);yield[l,c],a=n?a-1:a+1}}()},common(t,e,r){var n=ee.common(e,r),s=Me.get(t,n);return[s,n]},descendant(t,e){var r=Me.get(t,e);if(M.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Mn.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))ot.isElement(r)&&(yield[r,n])}()},extractProps(t){if(ot.isAncestor(t)){var e=Ml(t,FRe);return e}else{var e=Ml(t,MRe);return e}},first(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(rt.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(rt.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Mn.stringify(t)));var r=n_({children:t.children},n=>{var[s,o]=ce.edges(e),a=Me.nodes(n,{reverse:!0,pass:g=>{var[,y]=g;return!ce.includes(e,y)}});for(var[,l]of a){if(!ce.includes(e,l)){var c=Me.parent(n,l),d=l[l.length-1];c.children.splice(d,1)}if(ee.equals(l,o.path)){var h=Me.leaf(n,l);h.text=h.text.slice(0,o.offset)}if(ee.equals(l,s.path)){var m=Me.leaf(n,l);m.text=m.text.slice(s.offset)}}M.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(rt.isText(r)||!r.children[s])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Mn.stringify(t)));r=r.children[s]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(rt.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return rt.isText(t)||ot.isElement(t)||M.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=v4.get(t);if(e!==void 0)return e;var r=t.every(n=>Me.isNode(n));return v4.set(t,r),r},last(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(rt.isText(n)||n.children.length===0);){var s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){var r=Me.get(t,e);if(!rt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Mn.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.levels(e,r)){var s=Me.get(t,n);yield[s,n]}}()},matches(t,e){return ot.isElement(t)&&ot.isElementProps(e)&&ot.matches(t,e)||rt.isText(t)&&rt.isTextProps(e)&&rt.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:s=[],to:o}=e,a=new Set,l=[],c=t;!(o&&(n?ee.isBefore(l,o):ee.isAfter(l,o)));){if(a.has(c)||(yield[c,l]),!a.has(c)&&!rt.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){a.add(c);var d=n?c.children.length-1:0;ee.isAncestor(l,s)&&(d=s[l.length]),l=l.concat(d),c=Me.get(t,l);continue}if(l.length===0)break;if(!n){var h=ee.next(l);if(Me.has(t,h)){l=h,c=Me.get(t,l);continue}}if(n&&l[l.length-1]!==0){var m=ee.previous(l);l=m,c=Me.get(t,l);continue}l=ee.parent(l),c=Me.get(t,l),a.add(c)}}()},parent(t,e){var r=ee.parent(e),n=Me.get(t,r);if(rt.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return rt.isText(t)?t.text:t.children.map(Me.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))rt.isText(r)&&(yield[r,n])}()}};function y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Pu={isNodeOperation(t){return Pu.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Fn(t))return!1;switch(t.type){case"insert_node":return ee.isPath(t.path)&&Me.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&ee.isPath(t.path);case"merge_node":return typeof t.position=="number"&&ee.isPath(t.path)&&Fn(t.properties);case"move_node":return ee.isPath(t.path)&&ee.isPath(t.newPath);case"remove_node":return ee.isPath(t.path)&&Me.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&ee.isPath(t.path);case"set_node":return ee.isPath(t.path)&&Fn(t.properties)&&Fn(t.newProperties);case"set_selection":return t.properties===null&&ce.isRange(t.newProperties)||t.newProperties===null&&ce.isRange(t.properties)||Fn(t.properties)&&Fn(t.newProperties);case"split_node":return ee.isPath(t.path)&&typeof t.position=="number"&&Fn(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>Pu.isOperation(e))},isSelectionOperation(t){return Pu.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return Pu.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return Tr(Tr({},t),{},{type:"remove_node"});case"insert_text":return Tr(Tr({},t),{},{type:"remove_text"});case"merge_node":return Tr(Tr({},t),{},{type:"split_node",path:ee.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(ee.equals(e,r))return t;if(ee.isSibling(r,e))return Tr(Tr({},t),{},{path:e,newPath:r});var n=ee.transform(r,t),s=ee.transform(ee.next(r),t);return Tr(Tr({},t),{},{path:n,newPath:s})}case"remove_node":return Tr(Tr({},t),{},{type:"insert_node"});case"remove_text":return Tr(Tr({},t),{},{type:"insert_text"});case"set_node":{var{properties:o,newProperties:a}=t;return Tr(Tr({},t),{},{properties:a,newProperties:o})}case"set_selection":{var{properties:l,newProperties:c}=t;return l==null?Tr(Tr({},t),{},{properties:c,newProperties:null}):c==null?Tr(Tr({},t),{},{properties:null,newProperties:l}):Tr(Tr({},t),{},{properties:c,newProperties:l})}case"split_node":return Tr(Tr({},t),{},{type:"merge_node",path:ee.next(t.path)})}}},_4=new WeakMap,kRe=t=>{var e=_4.get(t);if(e!==void 0)return e;if(!Fn(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Fn(t.marks))&&(t.selection===null||ce.isRange(t.selection))&&Me.isNodeList(t.children)&&Pu.isOperationList(t.operations);return _4.set(t,r),r},M={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return kRe(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(t,e,r)=>t.shouldMergeNodesRemovePrevNode(e,r)},NRe={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(ee.isPath)}};function b4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function w4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ut={compare(t,e){var r=ee.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return Ut.compare(t,e)===1},isBefore(t,e){return Ut.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&ee.equals(t.path,e.path)},isPoint(t){return Fn(t)&&typeof t.offset=="number"&&ee.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n_(t,n=>{if(n===null)return null;var{affinity:s="forward"}=r,{path:o,offset:a}=n;switch(e.type){case"insert_node":case"move_node":{n.path=ee.transform(o,e,r);break}case"insert_text":{ee.equals(e.path,o)&&(e.offset<a||e.offset===a&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{ee.equals(e.path,o)&&(n.offset+=e.position),n.path=ee.transform(o,e,r);break}case"remove_text":{ee.equals(e.path,o)&&e.offset<=a&&(n.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(ee.equals(e.path,o)||ee.isAncestor(e.path,o))return null;n.path=ee.transform(o,e,r);break}case"split_node":{if(ee.equals(e.path,o)){if(e.position===a&&s==null)return null;(e.position<a||e.position===a&&s==="forward")&&(n.offset-=e.position,n.path=ee.transform(o,e,w4(w4({},r),{},{affinity:"forward"})))}else n.path=ee.transform(o,e,r);break}}})}},x4=void 0,Mn={setScrubber(t){x4=t},stringify(t){return JSON.stringify(t,x4)}},LRe=["text"],URe=["anchor","focus"];function E4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rt={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function s(o){var a=Ml(o,LRe);return a}return GJ(n?s(t):t,n?s(e):e)},isText(t){return Fn(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>rt.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[Ka({},t)];for(var n of e){var s=Ml(n,URe),[o,a]=ce.edges(n),l=[],c=0,d=o.offset,h=a.offset;for(var m of r){var{length:g}=m.text,y=c;if(c+=g,d<=y&&c<=h){Object.assign(m,s),l.push(m);continue}if(d!==h&&(d===c||h===y)||d>c||h<y||h===y&&y!==0){l.push(m);continue}var _=m,u=void 0,f=void 0;if(h<c){var p=h-y;f=Ka(Ka({},_),{},{text:_.text.slice(p)}),_=Ka(Ka({},_),{},{text:_.text.slice(0,p)})}if(d>y){var v=d-y;u=Ka(Ka({},_),{},{text:_.text.slice(0,v)}),_=Ka(Ka({},_),{},{text:_.text.slice(v)})}Object.assign(_,s),u&&l.push(u),l.push(_),f&&l.push(f)}r=l}return r}},QF=t=>t.selection?t.selection:t.children.length>0?M.end(t,[]):[0],Xp=(t,e)=>{var[r]=M.node(t,e);return n=>n===r},eM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,s=r?HRe(e):e,o=Pt.None,a=Pt.None,l=0,c=null,d=null;for(var h of s){var m=h.codePointAt(0);if(!m)break;var g=nOe(h,m);if([o,a]=n?[a,g]:[g,o],dh(o,Pt.ZWJ)&&dh(a,Pt.ExtPict)&&(n?c=S4(e.substring(0,l)):c=S4(e.substring(0,e.length-l)),!c)||dh(o,Pt.RI)&&dh(a,Pt.RI)&&(d!==null?d=!d:n?d=!0:d=lOe(e.substring(0,e.length-l)),!d)||o!==Pt.None&&a!==Pt.None&&sOe(o,a))break;l+=h.length}return l||1},$Re=/\s/,jRe=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,zRe=/['\u2018\u2019]/,GRe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,s=!1;e.length>0;){var o=eM(e,r),[a,l]=tM(e,o,r);if(VRe(a,l,r))s=!0,n+=o;else if(!s)n+=o;else break;e=l}return n},tM=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},VRe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if($Re.test(e))return!1;if(zRe.test(e)){var s=eM(r,n),[o,a]=tM(r,s,n);if(t(o,a,n))return!0}return!jRe.test(e)},HRe=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var s=e.charAt(r-n);if(KRe(s.charCodeAt(0))){var o=e.charAt(r-n-1);if(WRe(o.charCodeAt(0))){yield o+s,n++;continue}}yield s}},WRe=t=>t>=55296&&t<=56319,KRe=t=>t>=56320&&t<=57343,Pt;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(Pt||(Pt={}));var XRe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,YRe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,qRe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ZRe=/^[\u1100-\u115F\uA960-\uA97C]$/,JRe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,QRe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,eOe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,tOe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,rOe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,nOe=(t,e)=>{var r=Pt.Any;return t.search(XRe)!==-1&&(r|=Pt.Extend),e===8205&&(r|=Pt.ZWJ),e>=127462&&e<=127487&&(r|=Pt.RI),t.search(YRe)!==-1&&(r|=Pt.Prepend),t.search(qRe)!==-1&&(r|=Pt.SpacingMark),t.search(ZRe)!==-1&&(r|=Pt.L),t.search(JRe)!==-1&&(r|=Pt.V),t.search(QRe)!==-1&&(r|=Pt.T),t.search(eOe)!==-1&&(r|=Pt.LV),t.search(tOe)!==-1&&(r|=Pt.LVT),t.search(rOe)!==-1&&(r|=Pt.ExtPict),r};function dh(t,e){return(t&e)!==0}var iOe=[[Pt.L,Pt.L|Pt.V|Pt.LV|Pt.LVT],[Pt.LV|Pt.V,Pt.V|Pt.T],[Pt.LVT|Pt.T,Pt.T],[Pt.Any,Pt.Extend|Pt.ZWJ],[Pt.Any,Pt.SpacingMark],[Pt.Prepend,Pt.Any],[Pt.ZWJ,Pt.ExtPict],[Pt.RI,Pt.RI]];function sOe(t,e){return iOe.findIndex(r=>dh(t,r[0])&&dh(e,r[1]))===-1}var oOe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,S4=t=>t.search(oOe)!==-1,aOe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,lOe=t=>{var e=t.match(aOe);if(e===null)return!1;var r=e[0].length/2;return r%2===1},uOe={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:s=QF(t)}=r;if(ee.isPath(s)&&(s=M.range(t,s)),ce.isRange(s))if(ce.isCollapsed(s))s=s.anchor;else{var o=ce.end(s);if(!n&&M.void(t,{at:o}))return;var a=ce.start(s),l=M.pointRef(t,a),c=M.pointRef(t,o);we.delete(t,{at:s,voids:n});var d=l.unref(),h=c.unref();s=d||h,we.setSelection(t,{anchor:s,focus:s})}if(!(!n&&M.void(t,{at:s})||M.elementReadOnly(t,{at:s}))){var{path:m,offset:g}=s;e.length>0&&t.apply({type:"insert_text",path:m,offset:g,text:e})}})}};function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var we=fb(fb(fb(fb({},DRe),PRe),RRe),uOe),pw=new WeakMap,cOe=t=>pw.get(t)||!1,dOe=(t,e,r)=>{var n=pw.get(t)||!1;pw.set(t,!0);try{e(),r()}finally{pw.set(t,n)}};function VJ(t,e,r){var n=_x.get(t)||[],s=bx.get(t)||new Set,o,a,l=m=>{if(m){var g=m.join(",");a.has(g)||(a.add(g),o.push(m))}};if(r){o=[],a=new Set;for(var c of n){var d=r(c);l(d)}}else o=n,a=s;for(var h of e)l(h);_x.set(t,o),bx.set(t,a)}var fOe=(t,e)=>{for(var r of M.pathRefs(t))xRe.transform(r,e);for(var n of M.pointRefs(t))ERe.transform(n,e);for(var s of M.rangeRefs(t))SRe.transform(s,e);if(!cOe(t)){var o=ee.operationCanTransformPath(e)?a=>ee.transform(a,e):void 0;VJ(t,t.getDirtyPaths(e),o)}we.transform(t,e),t.operations.push(e),M.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Xg.get(t)||(Xg.set(t,!0),Promise.resolve().then(()=>{Xg.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},hOe=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return ee.levels(r)}case"insert_node":{var{node:n,path:s}=e,o=ee.levels(s),a=rt.isText(n)?[]:Array.from(Me.nodes(n),T=>{var[,R]=T;return s.concat(R)});return[...o,...a]}case"merge_node":{var{path:l}=e,c=ee.ancestors(l),d=ee.previous(l);return[...c,d]}case"move_node":{var{path:h,newPath:m}=e;if(ee.equals(h,m))return[];var g=[],y=[];for(var _ of ee.ancestors(h)){var u=ee.transform(_,e);g.push(u)}for(var f of ee.ancestors(m)){var p=ee.transform(f,e);y.push(p)}var v=y[y.length-1],b=m[m.length-1],w=v.concat(b);return[...g,...y,w]}case"remove_node":{var{path:x}=e,S=ee.ancestors(x);return[...S]}case"split_node":{var{path:A}=e,D=ee.levels(A),C=ee.next(A);return[...D,C]}default:return[]}},pOe=t=>{var{selection:e}=t;return e?Me.fragment(t,e):[]},mOe=(t,e)=>{var[r,n]=e;if(!rt.isText(r)){if(ot.isElement(r)&&r.children.length===0){var s={text:""};we.insertNodes(t,s,{at:n.concat(0),voids:!0});return}for(var o=M.isEditor(r)?!1:ot.isElement(r)&&(t.isInline(r)||r.children.length===0||rt.isText(r.children[0])||t.isInline(r.children[0])),a=0,l=0;l<r.children.length;l++,a++){var c=Me.get(t,n);if(!rt.isText(c)){var d=c.children[a],h=c.children[a-1],m=l===r.children.length-1,g=rt.isText(d)||ot.isElement(d)&&t.isInline(d);if(g!==o)we.removeNodes(t,{at:n.concat(a),voids:!0}),a--;else if(ot.isElement(d)){if(t.isInline(d)){if(h==null||!rt.isText(h)){var y={text:""};we.insertNodes(t,y,{at:n.concat(a),voids:!0}),a++}else if(m){var _={text:""};we.insertNodes(t,_,{at:n.concat(a+1),voids:!0}),a++}}}else{if(!rt.isText(d)&&!("children"in d)){var u=d;u.children=[]}h!=null&&rt.isText(h)&&(rt.equals(d,h,{loose:!0})?(we.mergeNodes(t,{at:n.concat(a),voids:!0}),a--):h.text===""?(we.removeNodes(t,{at:n.concat(a-1),voids:!0}),a--):d.text===""&&(we.removeNodes(t,{at:n.concat(a),voids:!0}),a--))}}}}},gOe=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,s=n*42;if(r>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},vOe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:s="lowest",at:o=e.selection,match:a}=r;if(o){var l=M.path(e,o),c=s==="lowest";for(var[d,h]of M.levels(e,{at:l,voids:n,match:a,reverse:c}))if(!rt.isText(d)){if(ce.isRange(o)){if(ee.isAncestor(h,o.anchor.path)&&ee.isAncestor(h,o.focus.path))return[d,h]}else if(!ee.equals(l,h))return[d,h]}}};function A4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yOe=(t,e,r)=>{var{selection:n}=t;if(n){var s=(m,g)=>{if(!rt.isText(m))return!1;var[y,_]=M.parent(t,g);return!t.isVoid(y)||t.markableVoid(y)},o=ce.isExpanded(n),a=!1;if(!o){var[l,c]=M.node(t,n);if(l&&s(l,c)){var[d]=M.parent(t,c);a=d&&t.markableVoid(d)}}if(o||a)we.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{var h=T4(T4({},M.marks(t)||{}),{},{[e]:r});t.marks=h,Xg.get(t)||t.onChange()}}};function D4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function P4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _Oe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.point(e,r,{edge:"end"}),o=M.end(e,[]),a={anchor:s,focus:o},{distance:l=1}=n,c=0,d;for(var h of M.positions(e,P4(P4({},n),{},{at:a}))){if(c>l)break;c!==0&&(d=h),c++}return d};function R4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function O4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.start(e,[]),o=M.point(e,r,{edge:"start"}),a={anchor:s,focus:o},{distance:l=1}=n,c=0,d;for(var h of M.positions(e,O4(O4({},n),{},{at:a,reverse:!0}))){if(c>l)break;c!==0&&(d=h),c++}return d},wOe=(t,e)=>{var{selection:r}=t;r&&ce.isCollapsed(r)&&we.delete(t,{unit:e,reverse:!0})},xOe=(t,e)=>{var{selection:r}=t;r&&ce.isCollapsed(r)&&we.delete(t,{unit:e})},EOe=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&ce.isExpanded(n)&&we.delete(e,{reverse:r==="backward"})},SOe=(t,e)=>[M.start(t,e),M.end(t,e)];function I4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var COe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,B4(B4({},r),{},{match:n=>ot.isElement(n)&&M.isElementReadOnly(e,n)}))},AOe=(t,e)=>M.point(t,e,{edge:"end"}),TOe=(t,e)=>{var r=M.path(t,e,{edge:"start"});return M.node(t,r)},DOe=(t,e)=>{var r=M.range(t,e);return Me.fragment(t,r)};function F4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var POe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,M4(M4({},r),{},{match:n=>ot.isElement(n)&&M.isVoid(e,n)}))},ROe=(t,e)=>e.children.some(r=>ot.isElement(r)&&M.isBlock(t,r)),OOe=(t,e)=>e.children.some(r=>rt.isText(r)||M.isInline(t,r)),IOe=(t,e)=>Me.has(t,e),BOe=(t,e)=>e.children.every(r=>rt.isText(r)),FOe=t=>{we.splitNodes(t,{always:!0})},MOe=(t,e,r)=>{we.insertNodes(t,e,r)},kOe=t=>{we.splitNodes(t,{always:!0})};function k4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function NOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s,marks:o}=e;if(s){if(o){var a=NOe({text:r},o);we.insertNodes(e,a,{at:n.at,voids:n.voids})}else we.insertText(e,r,n);e.marks=null}},UOe=(t,e)=>!t.isInline(e),$Oe=(t,e,r)=>M.isStart(t,e,r)||M.isEnd(t,e,r),jOe=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&rt.isText(n)&&n.text===""&&!t.isVoid(e)},zOe=(t,e,r)=>{var n=M.end(t,r);return Ut.equals(e,n)},GOe=t=>{var e=zJ.get(t);return e===void 0?!0:e},VOe=(t,e,r)=>{if(e.offset!==0)return!1;var n=M.start(t,r);return Ut.equals(e,n)},HOe=(t,e)=>{var r=M.path(t,e,{edge:"end"});return M.node(t,r)},WOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=Me.leaf(e,s);return[o,s]};function KOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:s=!1}=e,{match:o}=e;if(o==null&&(o=()=>!0),!!r){var a=[],l=M.path(t,r);for(var[c,d]of Me.levels(t,l))if(o(c,d)&&(a.push([c,d]),!s&&ot.isElement(c)&&M.isVoid(t,c)))break;n&&a.reverse(),yield*a}}()}var XOe=["text"],YOe=["text"],qOe=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:s,focus:o}=n;if(r)return r;if(ce.isExpanded(n)){var a=M.isEnd(e,s,s.path);if(a){var l=M.after(e,s);l&&(s=l)}var[c]=M.nodes(e,{match:rt.isText,at:{anchor:s,focus:o}});if(c){var[d]=c,h=Ml(d,XOe);return h}else return{}}var{path:m}=s,[g]=M.leaf(e,m);if(s.offset===0){var y=M.previous(e,{at:m,match:rt.isText}),_=M.above(e,{match:w=>ot.isElement(w)&&M.isVoid(e,w)&&e.markableVoid(w)});if(!_){var u=M.above(e,{match:w=>ot.isElement(w)&&M.isBlock(e,w)});if(y&&u){var[f,p]=y,[,v]=u;ee.isAncestor(v,p)&&(g=f)}}}var b=Ml(g,YOe);return b},ZOe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection}=r;if(a){var l=M.after(e,a,{voids:s});if(l){var[,c]=M.last(e,[]),d=[l.path,c];if(ee.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(ee.isPath(a)){var[h]=M.parent(e,a);o=g=>h.children.includes(g)}else o=()=>!0;var[m]=M.nodes(e,{at:d,match:o,mode:n,voids:s});return m}}},JOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=Me.get(e,s);return[o,s]};function QOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:s=!1,reverse:o=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var d,h;if(NRe.isSpan(r))d=r[0],h=r[1];else{var m=M.path(t,r,{edge:"start"}),g=M.path(t,r,{edge:"end"});d=o?g:m,h=o?m:g}var y=Me.nodes(t,{reverse:o,from:d,to:h,pass:w=>{var[x]=w;return ot.isElement(x)?!!(!a&&(M.isVoid(t,x)||M.isElementReadOnly(t,x))||l&&!M.isSelectable(t,x)):!1}}),_=[],u;for(var[f,p]of y)if(!(l&&ot.isElement(f)&&!M.isSelectable(t,f))){var v=u&&ee.compare(p,u[1])===0;if(!(n==="highest"&&v)){if(!c(f,p)){if(s&&!v&&rt.isText(f))return;continue}if(n==="lowest"&&v){u=[f,p];continue}var b=n==="lowest"?u:[f,p];b&&(s?_.push(b):yield b),u=[f,p]}}n==="lowest"&&u&&(s?_.push(u):yield u),s&&(yield*_)}}()}var eIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:s}=r,o=h=>_x.get(h)||[],a=h=>bx.get(h)||new Set,l=h=>{var m=o(h).pop(),g=m.join(",");return a(h).delete(g),m};if(M.isNormalizing(e)){if(n){var c=Array.from(Me.nodes(e),h=>{var[,m]=h;return m}),d=new Set(c.map(h=>h.join(",")));_x.set(e,c),bx.set(e,d)}o(e).length!==0&&M.withoutNormalizing(e,()=>{for(var h of o(e))if(Me.has(e,h)){var m=M.node(e,h),[g,y]=m;ot.isElement(g)&&g.children.length===0&&e.normalizeNode(m,{operation:s})}for(var _=o(e),u=_.length,f=0;_.length!==0;){if(!e.shouldNormalize({dirtyPaths:_,iteration:f,initialDirtyPathsLength:u,operation:s}))return;var p=l(e);if(Me.has(e,p)){var v=M.node(e,p);e.normalizeNode(v,{operation:s})}f++,_=o(e)}})}},tIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=ee.parent(s),a=M.node(e,o);return a},rIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.pathRefs(e);return c.delete(o),o.current=null,l}},a=M.pathRefs(e);return a.add(o),o},nIe=t=>{var e=d4.get(t);return e||(e=new Set,d4.set(t,e)),e},iIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:s,edge:o}=n;if(ee.isPath(r)){if(o==="start"){var[,a]=Me.first(e,r);r=a}else if(o==="end"){var[,l]=Me.last(e,r);r=l}}return ce.isRange(r)&&(o==="start"?r=ce.start(r):o==="end"?r=ce.end(r):r=ee.common(r.anchor.path,r.focus.path)),Ut.isPoint(r)&&(r=r.path),s!=null&&(r=r.slice(0,s)),r},sIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.pointRefs(e);return c.delete(o),o.current=null,l}},a=M.pointRefs(e);return a.add(o),o},oIe=t=>{var e=f4.get(t);return e||(e=new Set,f4.set(t,e)),e},aIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:s="start"}=n;if(ee.isPath(r)){var o;if(s==="end"){var[,a]=Me.last(e,r);o=a}else{var[,l]=Me.first(e,r);o=l}var c=Me.get(e,o);if(!rt.isText(c))throw new Error("Cannot get the ".concat(s," point in the node at path [").concat(r,"] because it has no ").concat(s," text node."));return{path:o,offset:s==="end"?c.text.length:0}}if(ce.isRange(r)){var[d,h]=ce.edges(r);return s==="start"?d:h}return r};function lIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:o=!1,ignoreNonSelectable:a=!1}=e;if(!r)return;var l=M.range(t,r),[c,d]=ce.edges(l),h=s?d:c,m=!1,g="",y=0,_=0,u=0;for(var[f,p]of M.nodes(t,{at:r,reverse:s,voids:o,ignoreNonSelectable:a})){if(ot.isElement(f)){if(!o&&(t.isVoid(f)||t.isElementReadOnly(f))){yield M.start(t,p);continue}if(t.isInline(f))continue;if(M.hasInlines(t,f)){var v=ee.isAncestor(p,d.path)?d:M.end(t,p),b=ee.isAncestor(p,c.path)?c:M.start(t,p);g=M.string(t,{anchor:b,focus:v},{voids:o}),m=!0}}if(rt.isText(f)){var w=ee.equals(p,h.path);for(w?(_=s?h.offset:f.text.length-h.offset,u=h.offset):(_=f.text.length,u=s?_:0),(w||m||n==="offset")&&(yield{path:p,offset:u},m=!1);;){if(y===0){if(g==="")break;y=x(g,n,s),g=tM(g,y,s)[1]}if(u=s?u-y:u+y,_=_-y,_<0){y=-_;break}y=0,yield{path:p,offset:u}}}}function x(S,A,D){return A==="character"?eM(S,D):A==="word"?GRe(S,D):A==="line"||A==="block"?S.length:1}}()}var uIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection}=r;if(a){var l=M.before(e,a,{voids:s});if(l){var[,c]=M.first(e,[]),d=[l.path,c];if(ee.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(ee.isPath(a)){var[h]=M.parent(e,a);o=g=>h.children.includes(g)}else o=()=>!0;var[m]=M.nodes(e,{reverse:!0,at:d,match:o,mode:n,voids:s});return m}}},cIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:l}=o,c=M.rangeRefs(e);return c.delete(o),o.current=null,l}},a=M.rangeRefs(e);return a.add(o),o},dIe=t=>{var e=h4.get(t);return e||(e=new Set,h4.set(t,e)),e},fIe=(t,e,r)=>{if(ce.isRange(e)&&!r)return e;var n=M.start(t,e),s=M.end(t,r||e);return{anchor:n,focus:s}};function N4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pIe=(t,e)=>{var{selection:r}=t;if(r){var n=(h,m)=>{if(!rt.isText(h))return!1;var[g,y]=M.parent(t,m);return!t.isVoid(g)||t.markableVoid(g)},s=ce.isExpanded(r),o=!1;if(!s){var[a,l]=M.node(t,r);if(a&&n(a,l)){var[c]=M.parent(t,l);o=c&&t.markableVoid(c)}}if(s||o)we.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var d=hIe({},M.marks(t)||{});delete d[e],t.marks=d,Xg.get(t)||t.onChange()}}},mIe=(t,e)=>{zJ.set(t,e)},gIe=(t,e)=>M.point(t,e,{edge:"start"}),vIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,o=M.range(e,r),[a,l]=ce.edges(o),c="";for(var[d,h]of M.nodes(e,{at:o,match:rt.isText,voids:s})){var m=d.text;ee.equals(h,l.path)&&(m=m.slice(0,l.offset)),ee.equals(h,a.path)&&(m=m.slice(a.offset)),c+=m}return c},yIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,[o,a]=ce.edges(r);if(o.offset!==0||a.offset!==0||ce.isCollapsed(r)||ee.hasPrevious(a.path))return r;var l=M.above(e,{at:a,match:_=>ot.isElement(_)&&M.isBlock(e,_),voids:s}),c=l?l[1]:[],d=M.start(e,o),h={anchor:d,focus:a},m=!0;for(var[g,y]of M.nodes(e,{at:h,match:rt.isText,reverse:!0,voids:s})){if(m){m=!1;continue}if(g.text!==""||ee.isBefore(y,c)){a={path:y,offset:g.text.length};break}}return{anchor:o,focus:a}},HJ=(t,e)=>{var r=M.isNormalizing(t);M.setNormalizing(t,!1);try{e()}finally{M.setNormalizing(t,r)}M.normalize(t)},_Ie=(t,e,r)=>{var[n,s]=e;return ot.isElement(n)&&M.isEmpty(t,n)||rt.isText(n)&&n.text===""&&s[s.length-1]!==0},bIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var n,s,{reverse:o=!1,unit:a="character",distance:l=1,voids:c=!1}=r,{at:d=e.selection,hanging:h=!1}=r;if(d){var m=!1;if(ce.isRange(d)&&ce.isCollapsed(d)&&(m=!0,d=d.anchor),Ut.isPoint(d)){var g=M.void(e,{at:d,mode:"highest"});if(!c&&g){var[,y]=g;d=y}else{var _={unit:a,distance:l},u=o?M.before(e,d,_)||M.start(e,[]):M.after(e,d,_)||M.end(e,[]);d={anchor:d,focus:u},h=!0}}if(ee.isPath(d)){we.removeNodes(e,{at:d,voids:c});return}if(!ce.isCollapsed(d)){if(!h){var[,f]=ce.edges(d),p=M.end(e,[]);Ut.equals(f,p)||(d=M.unhangRange(e,d,{voids:c}))}var[v,b]=ce.edges(d),w=M.above(e,{match:xe=>ot.isElement(xe)&&M.isBlock(e,xe),at:v,voids:c}),x=M.above(e,{match:xe=>ot.isElement(xe)&&M.isBlock(e,xe),at:b,voids:c}),S=w&&x&&!ee.equals(w[1],x[1]),A=ee.equals(v.path,b.path),D=c?null:(n=M.void(e,{at:v,mode:"highest"}))!==null&&n!==void 0?n:M.elementReadOnly(e,{at:v,mode:"highest"}),C=c?null:(s=M.void(e,{at:b,mode:"highest"}))!==null&&s!==void 0?s:M.elementReadOnly(e,{at:b,mode:"highest"});if(D){var T=M.before(e,v);T&&w&&ee.isAncestor(w[1],T.path)&&(v=T)}if(C){var R=M.after(e,b);R&&x&&ee.isAncestor(x[1],R.path)&&(b=R)}var P=[],O;for(var I of M.nodes(e,{at:d,voids:c})){var[k,W]=I;O&&ee.compare(W,O)===0||(!c&&ot.isElement(k)&&(M.isVoid(e,k)||M.isElementReadOnly(e,k))||!ee.isCommon(W,v.path)&&!ee.isCommon(W,b.path))&&(P.push(I),O=W)}var G=Array.from(P,xe=>{var[,Se]=xe;return M.pathRef(e,Se)}),j=M.pointRef(e,v),$=M.pointRef(e,b),K="";if(!A&&!D){var Q=j.current,[ue]=M.leaf(e,Q),{path:pe}=Q,{offset:oe}=v,he=ue.text.slice(oe);he.length>0&&(e.apply({type:"remove_text",path:pe,offset:oe,text:he}),K=he)}if(G.reverse().map(xe=>xe.unref()).filter(xe=>xe!==null).forEach(xe=>we.removeNodes(e,{at:xe,voids:c})),!C){var Y=$.current,[z]=M.leaf(e,Y),{path:V}=Y,H=A?v.offset:0,re=z.text.slice(H,b.offset);re.length>0&&(e.apply({type:"remove_text",path:V,offset:H,text:re}),K=re)}!A&&S&&$.current&&j.current&&we.mergeNodes(e,{at:$.current,hanging:!0,voids:c}),m&&o&&a==="character"&&K.length>1&&K.match(/[\u0E00-\u0E7F]+/)&&we.insertText(e,K.slice(0,K.length-l));var ne=j.unref(),_e=$.unref(),be=o?ne||_e:_e||ne;r.at==null&&be&&we.select(e,be)}}})},wIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1}=n,{at:a=QF(e),batchDirty:l=!0}=n;if(r.length){if(ce.isRange(a))if(s||(a=M.unhangRange(e,a,{voids:o})),ce.isCollapsed(a))a=a.anchor;else{var[,c]=ce.edges(a);if(!o&&M.void(e,{at:c}))return;var d=M.pointRef(e,c);we.delete(e,{at:a}),a=d.unref()}else ee.isPath(a)&&(a=M.start(e,a));if(!(!o&&M.void(e,{at:a}))){var h=M.above(e,{at:a,match:he=>ot.isElement(he)&&M.isInline(e,he),mode:"highest",voids:o});if(h){var[,m]=h;if(M.isEnd(e,a,m)){var g=M.after(e,m);a=g}else if(M.isStart(e,a,m)){var y=M.before(e,m);a=y}}var _=M.above(e,{match:he=>ot.isElement(he)&&M.isBlock(e,he),at:a,voids:o}),[,u]=_,f=M.isStart(e,a,u),p=M.isEnd(e,a,u),v=f&&p,b=!f||f&&p,w=!p,[,x]=Me.first({children:r},[]),[,S]=Me.last({children:r},[]),A=[],D=he=>{var[Y,z]=he,V=z.length===0;return V?!1:v?!0:!(b&&ee.isAncestor(z,x)&&ot.isElement(Y)&&!e.isVoid(Y)&&!e.isInline(Y)||w&&ee.isAncestor(z,S)&&ot.isElement(Y)&&!e.isVoid(Y)&&!e.isInline(Y))};for(var C of Me.nodes({children:r},{pass:D}))D(C)&&A.push(C);var T=[],R=[],P=[],O=!0,I=!1;for(var[k]of A)ot.isElement(k)&&!e.isInline(k)?(O=!1,I=!0,R.push(k)):O?T.push(k):P.push(k);var[W]=M.nodes(e,{at:a,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o}),[,G]=W,j=M.isStart(e,a,G),$=M.isEnd(e,a,G),K=M.pathRef(e,p&&!P.length?ee.next(u):u),Q=M.pathRef(e,$?ee.next(G):G);we.splitNodes(e,{at:a,match:he=>I?ot.isElement(he)&&M.isBlock(e,he):rt.isText(he)||M.isInline(e,he),mode:I?"lowest":"highest",always:I&&(!f||T.length>0)&&(!p||P.length>0),voids:o});var ue=M.pathRef(e,!j||j&&$?ee.next(G):G);if(we.insertNodes(e,T,{at:ue.current,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o,batchDirty:l}),v&&!T.length&&R.length&&!P.length&&we.delete(e,{at:u,voids:o}),we.insertNodes(e,R,{at:K.current,match:he=>ot.isElement(he)&&M.isBlock(e,he),mode:"lowest",voids:o,batchDirty:l}),we.insertNodes(e,P,{at:Q.current,match:he=>rt.isText(he)||M.isInline(e,he),mode:"highest",voids:o,batchDirty:l}),!n.at){var pe;if(P.length>0&&Q.current?pe=ee.previous(Q.current):R.length>0&&K.current?pe=ee.previous(K.current):ue.current&&(pe=ee.previous(ue.current)),pe){var oe=M.end(e,pe);we.select(e,oe)}}ue.unref(),K.unref(),Q.unref()}}})},xIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:s}=e;if(s){if(n==="anchor")we.select(e,s.anchor);else if(n==="focus")we.select(e,s.focus);else if(n==="start"){var[o]=ce.edges(s);we.select(e,o)}else if(n==="end"){var[,a]=ce.edges(s);we.select(e,a)}}else return},EIe=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},SIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:s=1,unit:o="character",reverse:a=!1}=r,{edge:l=null}=r;if(n){l==="start"&&(l=ce.isBackward(n)?"focus":"anchor"),l==="end"&&(l=ce.isBackward(n)?"anchor":"focus");var{anchor:c,focus:d}=n,h={distance:s,unit:o,ignoreNonSelectable:!0},m={};if(l==null||l==="anchor"){var g=a?M.before(e,c,h):M.after(e,c,h);g&&(m.anchor=g)}if(l==null||l==="focus"){var y=a?M.before(e,d,h):M.after(e,d,h);y&&(m.focus=y)}we.setSelection(e,m)}},CIe=(t,e)=>{var{selection:r}=t;if(e=M.range(t,e),r){we.setSelection(t,e);return}if(!ce.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Mn.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function L4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function U4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s}=e,{edge:o="both"}=n;if(s){o==="start"&&(o=ce.isBackward(s)?"focus":"anchor"),o==="end"&&(o=ce.isBackward(s)?"anchor":"focus");var{anchor:a,focus:l}=s,c=o==="anchor"?a:l;we.setSelection(e,{[o==="anchor"?"anchor":"focus"]:U4(U4({},c),r)})}},TIe=(t,e)=>{var{selection:r}=t,n={},s={};if(r){for(var o in e)(o==="anchor"&&e.anchor!=null&&!Ut.equals(e.anchor,r.anchor)||o==="focus"&&e.focus!=null&&!Ut.equals(e.focus,r.focus)||o!=="anchor"&&o!=="focus"&&e[o]!==r[o])&&(n[o]=r[o],s[o]=e[o]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},DIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1,mode:a="lowest",batchDirty:l=!0}=n,{at:c,match:d,select:h}=n;if(Me.isNode(r)&&(r=[r]),r.length!==0){var[m]=r;if(c||(c=QF(e),h!==!1&&(h=!0)),h==null&&(h=!1),ce.isRange(c))if(s||(c=M.unhangRange(e,c,{voids:o})),ce.isCollapsed(c))c=c.anchor;else{var[,g]=ce.edges(c),y=M.pointRef(e,g);we.delete(e,{at:c}),c=y.unref()}if(Ut.isPoint(c)){d==null&&(rt.isText(m)?d=T=>rt.isText(T):e.isInline(m)?d=T=>rt.isText(T)||M.isInline(e,T):d=T=>ot.isElement(T)&&M.isBlock(e,T));var[_]=M.nodes(e,{at:c.path,match:d,mode:a,voids:o});if(_){var[,u]=_,f=M.pathRef(e,u),p=M.isEnd(e,c,u);we.splitNodes(e,{at:c,match:d,mode:a,voids:o});var v=f.unref();c=p?ee.next(v):v}else return}var b=ee.parent(c),w=c[c.length-1];if(!(!o&&M.void(e,{at:b}))){if(l){var x=[],S=ee.levels(b);dOe(e,()=>{var T=function(){var O=b.concat(w);w++;var I={type:"insert_node",path:O,node:R};e.apply(I),c=ee.next(c),x.push(I),rt.isText?S.push(...Array.from(Me.nodes(R),k=>{var[,W]=k;return O.concat(W)})):S.push(O)};for(var R of r)T()},()=>{VJ(e,S,T=>{var R=T;for(var P of x)if(ee.operationCanTransformPath(P)&&(R=ee.transform(R,P),!R))return null;return R})})}else for(var A of r){var D=b.concat(w);w++,e.apply({type:"insert_node",path:D,node:A}),c=ee.next(c)}if(c=ee.previous(c),h){var C=M.end(e,c);C&&we.select(e,C)}}}})},PIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:s="lowest",voids:o=!1}=r,{match:a}=r;if(a==null&&(a=ee.isPath(n)?Xp(e,n):w=>ot.isElement(w)&&M.isBlock(e,w)),!!n){var l=M.nodes(e,{at:n,match:a,mode:s,voids:o}),c=Array.from(l,w=>{var[,x]=w;return M.pathRef(e,x)});for(var d of c){var h=d.unref();if(h.length<2)throw new Error("Cannot lift node at a path [".concat(h,"] because it has a depth of less than `2`."));var m=M.node(e,ee.parent(h)),[g,y]=m,_=h[h.length-1],{length:u}=g.children;if(u===1){var f=ee.next(y);we.moveNodes(e,{at:h,to:f,voids:o}),we.removeNodes(e,{at:y,voids:o})}else if(_===0)we.moveNodes(e,{at:h,to:y,voids:o});else if(_===u-1){var p=ee.next(y);we.moveNodes(e,{at:h,to:p,voids:o})}else{var v=ee.next(h),b=ee.next(y);we.splitNodes(e,{at:v,voids:o}),we.moveNodes(e,{at:h,to:b,voids:o})}}}})},RIe=["text"],OIe=["children"],WJ=(t,e)=>{if(ot.isElement(e)){var r=e;return M.isVoid(t,e)?!0:r.children.length===1?WJ(t,r.children[0]):!1}else return!M.isEditor(e)},IIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{match:n,at:s=e.selection}=r,{hanging:o=!1,voids:a=!1,mode:l="lowest"}=r;if(s){if(n==null)if(ee.isPath(s)){var[c]=M.parent(e,s);n=T=>c.children.includes(T)}else n=T=>ot.isElement(T)&&M.isBlock(e,T);if(!o&&ce.isRange(s)&&(s=M.unhangRange(e,s,{voids:a})),ce.isRange(s))if(ce.isCollapsed(s))s=s.anchor;else{var[,d]=ce.edges(s),h=M.pointRef(e,d);we.delete(e,{at:s}),s=h.unref(),r.at==null&&we.select(e,s)}var[m]=M.nodes(e,{at:s,match:n,voids:a,mode:l}),g=M.previous(e,{at:s,match:n,voids:a,mode:l});if(!(!m||!g)){var[y,_]=m,[u,f]=g;if(!(_.length===0||f.length===0)){var p=ee.next(f),v=ee.common(_,f),b=ee.isSibling(_,f),w=Array.from(M.levels(e,{at:_}),T=>{var[R]=T;return R}).slice(v.length).slice(0,-1),x=M.above(e,{at:_,mode:"highest",match:T=>w.includes(T)&&WJ(e,T)}),S=x&&M.pathRef(e,x[1]),A,D;if(rt.isText(y)&&rt.isText(u)){var C=Ml(y,RIe);D=u.text.length,A=C}else if(ot.isElement(y)&&ot.isElement(u)){var C=Ml(y,OIe);D=u.children.length,A=C}else throw new Error("Cannot merge the node at path [".concat(_,"] with the previous sibling because it is not the same kind: ").concat(Mn.stringify(y)," ").concat(Mn.stringify(u)));b||we.moveNodes(e,{at:_,to:p,voids:a}),S&&we.removeNodes(e,{at:S.current,voids:a}),M.shouldMergeNodesRemovePrevNode(e,g,m)?we.removeNodes(e,{at:f,voids:a}):e.apply({type:"merge_node",path:p,position:D,properties:A}),S&&S.unref()}}}})},BIe=(t,e)=>{M.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:s="lowest",voids:o=!1}=e,{match:a}=e;if(n){a==null&&(a=ee.isPath(n)?Xp(t,n):y=>ot.isElement(y)&&M.isBlock(t,y));var l=M.pathRef(t,r),c=M.nodes(t,{at:n,match:a,mode:s,voids:o}),d=Array.from(c,y=>{var[,_]=y;return M.pathRef(t,_)});for(var h of d){var m=h.unref(),g=l.current;m.length!==0&&t.apply({type:"move_node",path:m,newPath:g}),l.current&&ee.isSibling(g,m)&&ee.isAfter(g,m)&&(l.current=ee.next(l.current))}l.unref()}})},KJ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:s=!1,mode:o="lowest"}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=ee.isPath(a)?Xp(e,a):y=>ot.isElement(y)&&M.isBlock(e,y)),!n&&ce.isRange(a)&&(a=M.unhangRange(e,a,{voids:s}));var c=M.nodes(e,{at:a,match:l,mode:o,voids:s}),d=Array.from(c,y=>{var[,_]=y;return M.pathRef(e,_)});for(var h of d){var m=h.unref();if(m){var[g]=M.node(e,m);e.apply({type:"remove_node",path:m,node:g})}}}})},FIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{match:s,at:o=e.selection,compare:a,merge:l}=n,{hanging:c=!1,mode:d="lowest",split:h=!1,voids:m=!1}=n;if(o){if(s==null&&(s=ee.isPath(o)?Xp(e,o):D=>ot.isElement(D)&&M.isBlock(e,D)),!c&&ce.isRange(o)&&(o=M.unhangRange(e,o,{voids:m})),h&&ce.isRange(o)){if(ce.isCollapsed(o)&&M.leaf(e,o.anchor)[0].text.length>0)return;var g=M.rangeRef(e,o,{affinity:"inward"}),[y,_]=ce.edges(o),u=d==="lowest"?"lowest":"highest",f=M.isEnd(e,_,_.path);we.splitNodes(e,{at:_,match:s,mode:u,voids:m,always:!f});var p=M.isStart(e,y,y.path);we.splitNodes(e,{at:y,match:s,mode:u,voids:m,always:!p}),o=g.unref(),n.at==null&&we.select(e,o)}a||(a=(D,C)=>D!==C);for(var[v,b]of M.nodes(e,{at:o,match:s,mode:d,voids:m})){var w={},x={};if(b.length!==0){var S=!1;for(var A in r)A==="children"||A==="text"||a(r[A],v[A])&&(S=!0,v.hasOwnProperty(A)&&(w[A]=v[A]),l?r[A]!=null&&(x[A]=l(v[A],r[A])):r[A]!=null&&(x[A]=r[A]));S&&e.apply({type:"set_node",path:b,properties:w,newProperties:x})}}}})},MIe=(t,e)=>{if(ce.isCollapsed(e))return e.anchor;var[,r]=ce.edges(e),n=M.pointRef(t,r);return we.delete(t,{at:e}),n.unref()},kIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:s=!1}=r,{match:o,at:a=e.selection,height:l=0,always:c=!1}=r;if(o==null&&(o=$=>ot.isElement($)&&M.isBlock(e,$)),ce.isRange(a)&&(a=MIe(e,a)),ee.isPath(a)){var d=a,h=M.point(e,d),[m]=M.parent(e,d);o=$=>$===m,l=h.path.length-d.length+1,a=h,c=!0}if(a){var g=M.pointRef(e,a,{affinity:"backward"}),y;try{var[_]=M.nodes(e,{at:a,match:o,mode:n,voids:s});if(!_)return;var u=M.void(e,{at:a,mode:"highest"}),f=0;if(!s&&u){var[p,v]=u;if(ot.isElement(p)&&e.isInline(p)){var b=M.after(e,v);if(!b){var w={text:""},x=ee.next(v);we.insertNodes(e,w,{at:x,voids:s}),b=M.point(e,x)}a=b,c=!0}var S=a.path.length-v.length;l=S+1,c=!0}y=M.pointRef(e,a);var A=a.path.length-l,[,D]=_,C=a.path.slice(0,A),T=l===0?a.offset:a.path[A]+f;for(var[R,P]of M.levels(e,{at:C,reverse:!0,voids:s})){var O=!1;if(P.length<D.length||P.length===0||!s&&ot.isElement(R)&&M.isVoid(e,R))break;var I=g.current,k=M.isEnd(e,I,P);if(c||!g||!M.isEdge(e,I,P)){O=!0;var W=Me.extractProps(R);e.apply({type:"split_node",path:P,position:T,properties:W})}T=P[P.length-1]+(O||k?1:0)}if(r.at==null){var G=y.current||M.end(e,[]);we.select(e,G)}}finally{var j;g.unref(),(j=y)===null||j===void 0||j.unref()}}})},NIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var s={};for(var o of r)s[o]=null;we.setNodes(e,s,n)},LIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",split:s=!1,voids:o=!1}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=ee.isPath(a)?Xp(e,a):y=>ot.isElement(y)&&M.isBlock(e,y)),ee.isPath(a)&&(a=M.range(e,a));var c=ce.isRange(a)?M.rangeRef(e,a):null,d=M.nodes(e,{at:a,match:l,mode:n,voids:o}),h=Array.from(d,y=>{var[,_]=y;return M.pathRef(e,_)}).reverse(),m=function(){var _=g.unref(),[u]=M.node(e,_),f=M.range(e,_);s&&c&&(f=ce.intersection(c.current,f)),we.liftNodes(e,{at:f,match:p=>ot.isAncestor(u)&&u.children.includes(p),voids:o})};for(var g of h)m();c&&c.unref()}})};function $4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function j4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{mode:s="lowest",split:o=!1,voids:a=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(ee.isPath(c)?l=Xp(e,c):e.isInline(r)?l=f=>ot.isElement(f)&&M.isInline(e,f)||rt.isText(f):l=f=>ot.isElement(f)&&M.isBlock(e,f)),o&&ce.isRange(c)){var[d,h]=ce.edges(c),m=M.rangeRef(e,c,{affinity:"inward"});we.splitNodes(e,{at:h,match:l,voids:a}),we.splitNodes(e,{at:d,match:l,voids:a}),c=m.unref(),n.at==null&&we.select(e,c)}var g=Array.from(M.nodes(e,{at:c,match:e.isInline(r)?f=>ot.isElement(f)&&M.isBlock(e,f):f=>M.isEditor(f),mode:"lowest",voids:a})),y=function(){var p=ce.isRange(c)?ce.intersection(c,M.range(e,u)):c;if(!p)return 0;var v=Array.from(M.nodes(e,{at:p,match:l,mode:s,voids:a}));if(v.length>0){var[b]=v,w=v[v.length-1],[,x]=b,[,S]=w;if(x.length===0&&S.length===0)return 0;var A=ee.equals(x,S)?ee.parent(x):ee.common(x,S),D=M.range(e,x,S),C=M.node(e,A),[T]=C,R=A.length+1,P=ee.next(S.slice(0,R)),O=j4(j4({},r),{},{children:[]});we.insertNodes(e,O,{at:P,voids:a}),we.moveNodes(e,{at:D,match:I=>ot.isAncestor(T)&&T.children.includes(I),to:P.concat(0),voids:a})}},_;for(var[,u]of g)_=y()}})},XJ=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fOe(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yOe(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wOe(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xOe(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EOe(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pOe(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FOe(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kOe(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wIe(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MOe(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LOe(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mOe(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pIe(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return hOe(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gOe(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vOe(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Oe(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bOe(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xIe(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bIe(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EIe(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SOe(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return COe(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return AOe(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TOe(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DOe(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qOe(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ROe(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OOe(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IOe(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BOe(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DIe(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UOe(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Oe(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jOe(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zOe(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GOe(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VOe(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HOe(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WOe(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KOe(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PIe(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IIe(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SIe(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BIe(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZOe(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return JOe(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QOe(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eIe(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return tIe(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iIe(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rIe(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nIe(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return aIe(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return sIe(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return oIe(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return lIe(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return uIe(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fIe(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cIe(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return dIe(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KJ(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CIe(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FIe(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mIe(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return AIe(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TIe(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kIe(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gIe(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vIe(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yIe(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NIe(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LIe(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return POe(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HJ(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UIe(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Ie(t,...n)}};return t},$Ie={isHistory(t){return Fn(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||Pu.isOperationList(t.redos[0].operations))&&(t.undos.length===0||Pu.isOperationList(t.undos[0].operations))}},nT=new WeakMap,Mm=new WeakMap,ed={isHistoryEditor(t){return $Ie.isHistory(t.history)&&M.isEditor(t)},isMerging(t){return Mm.get(t)},isSaving(t){return nT.get(t)},redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var r=ed.isMerging(t);Mm.set(t,!0),e(),Mm.set(t,r)},withoutMerging(t,e){var r=ed.isMerging(t);Mm.set(t,!1),e(),Mm.set(t,r)},withoutSaving(t,e){var r=ed.isSaving(t);nT.set(t,!1),e(),nT.set(t,r)}},YJ=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:s}=n;if(s.length>0){var o=s[s.length-1];o.selectionBefore&&we.setSelection(e,o.selectionBefore),ed.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{for(var a of o.operations)e.apply(a)})}),n.redos.pop(),e.writeHistory("undos",o)}},e.undo=()=>{var{history:n}=e,{undos:s}=n;if(s.length>0){var o=s[s.length-1];ed.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{var a=o.operations.map(Pu.inverse).reverse();for(var l of a)e.apply(l);o.selectionBefore&&we.setSelection(e,o.selectionBefore)})}),e.writeHistory("redos",o),n.undos.pop()}},e.apply=n=>{var{operations:s,history:o}=e,{undos:a}=o,l=a[a.length-1],c=l&&l.operations[l.operations.length-1],d=ed.isSaving(e),h=ed.isMerging(e);if(d==null&&(d=zIe(n)),d){if(h==null&&(l==null?h=!1:s.length!==0?h=!0:h=jIe(n,c)),l&&h)l.operations.push(n);else{var m={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",m)}for(;a.length>100;)a.shift();o.redos=[]}r(n)},e.writeHistory=(n,s)=>{e.history[n].push(s)},e},jIe=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&ee.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&ee.equals(t.path,e.path)),zIe=(t,e)=>t.type!=="set_selection",GIe=Object.defineProperty,VIe=Object.defineProperties,HIe=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,z4=(t,e,r)=>e in t?GIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JJ=(t,e)=>{for(var r in e||(e={}))qJ.call(e,r)&&z4(t,r,e[r]);if(wx)for(var r of wx(e))ZJ.call(e,r)&&z4(t,r,e[r]);return t},WIe=(t,e)=>VIe(t,HIe(e)),KIe=(t,e)=>{var r={};for(var n in t)qJ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&wx)for(var n of wx(t))e.indexOf(n)<0&&ZJ.call(t,n)&&(r[n]=t[n]);return r},Os=(t,e)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(t,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),e),XIe=()=>{const t=XJ();return t.hasEditableTarget=Os("hasEditableTarget",!1),t.hasRange=Os("hasRange",!1),t.hasSelectableTarget=Os("hasSelectableTarget",!1),t.hasTarget=Os("hasTarget",!1),t.insertData=Os("insertData"),t.insertFragmentData=Os("insertFragmentData"),t.insertTextData=Os("insertTextData",!1),t.isTargetInsideNonReadonlyVoid=Os("isTargetInsideNonReadonlyVoid",!1),t.setFragmentData=Os("setFragmentData"),t.history={redos:[],undos:[]},t.undo=Os("undo"),t.redo=Os("redo"),t.writeHistory=Os("writeHistory"),t},Vl=t=>ot.isElement(t),YIe=(t,e)=>Vl(e)&&M.isBlock(t,e);function qIe(t){return Array.isArray(t)?t:[t]}var ZIe=(t,e,r)=>r?typeof r=="object"?Object.entries(r).every(([n,s])=>qIe(s).includes(t[n])):r(t,e):!0,rM=(t,e={})=>{const{block:r,match:n}=e;return WIe(JJ({},e),{match:n||r?(s,o)=>ZIe(s,o,n)&&(!r||YIe(t,s)):void 0})},xx=(t,e)=>M.above(t,rM(t,e)),JIe=(t,e,r={})=>{const{unhang:n=!0,voids:s}=r;return ce.isRange(e)&&n?M.unhangRange(t,e,{voids:s}):e},QJ=(t,e)=>(JIe(t,e==null?void 0:e.at,e),M.nodes(t,rM(t,e))),Sc=(t,e)=>{let r=!1;return M.withoutNormalizing(t,()=>{r=!!e()}),r},cc=t=>rt.isText(t),nM=(t,e)=>we.removeNodes(t,e),iM=(t,e)=>{we.select(t,e)},sM=(t,e)=>M.end(t,e),QIe=(t,e,r)=>M.before(t,e,r),eQ=(t,e)=>M.start(t,e),tQ=(t,e,r)=>{if(!e)return"";try{return M.string(t,e,r)}catch(n){return""}},oM=t=>M.marks(t),eBe=(t,e,r)=>M.point(t,e,r),rQ=(t,e)=>Vl(e)&&M.isInline(t,e),G4=(t,e,r)=>!!e&&M.isStart(t,e,r),tBe=(t,e)=>M.normalize(t,e),rBe=(t,e)=>M.removeMark(t,e),nBe=(t,e)=>{try{for(let r=0;r<e.length;r++){const n=e[r];if(cc(t)||!t.children[n])return null;t=t.children[n]}return t}catch(r){return null}},iBe=(t,e,r)=>Me.children(t,e,r),aM=t=>Me.string(t),nQ=t=>ot.isAncestor(t),sBe=t=>!!t&&ce.isCollapsed(t),iQ=t=>!!t&&ce.isExpanded(t),oBe=t=>{we.deselect(t)};function iT(t){return Array.isArray(t)?t:[t]}var I_=(t,{allow:e,exclude:r,filter:n,level:s,maxLevel:o}={})=>{if(!t)return!1;const[a,l]=t;if(s&&!iT(s).includes(l.length)||o&&l.length>o||n&&!n(t))return!1;if(e){const c=iT(e);if(c.length>0&&!c.includes(a.type))return!1}if(r){const c=iT(r);if(c.length>0&&c.includes(a.type))return!1}return!0},aBe=(t,e,r={})=>{var n=r,{nextBlock:s,removeEmpty:o}=n,a=KIe(n,["nextBlock","removeEmpty"]);HJ(t,()=>{if(o){const l=xx(t,{at:a.at});if(l){const c=o===!0?{allow:["p"]}:o,{filter:d}=c;c.filter=([h,m])=>aM(h)||h.children.some(y=>rQ(t,y))?!1:!d||d([h,m]),I_(l,c)&&(KJ(t,{at:l[1]}),s=!1)}}if(s){const{at:l=t.selection}=a;if(l){const c=sM(t,l),d=xx(t,{at:c,block:!0});d&&(a.at=ee.next(d[1]))}}we.insertNodes(t,e,a)})},HJe=(t,e)=>{we.move(t,e)},WJe=(t,e,r)=>we.setNodes(t,e,r),lBe=(t,e,r)=>we.unsetNodes(t,e,r),uBe=(t,e={})=>{try{const r=QJ(t,JJ({at:t.selection||[]},rM(t,e)));for(const[n,s]of r)return[n,s]}catch(r){return}},sQ=(t,e)=>!!uBe(t,e);function cBe(){this.__data__=[],this.size=0}var dBe=cBe;function fBe(t,e){return t===e||t!==t&&e!==e}var B_=fBe,hBe=B_;function pBe(t,e){for(var r=t.length;r--;)if(hBe(t[r][0],e))return r;return-1}var lS=pBe,mBe=lS,gBe=Array.prototype,vBe=gBe.splice;function yBe(t){var e=this.__data__,r=mBe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vBe.call(e,r,1),--this.size,!0}var _Be=yBe,bBe=lS;function wBe(t){var e=this.__data__,r=bBe(e,t);return r<0?void 0:e[r][1]}var xBe=wBe,EBe=lS;function SBe(t){return EBe(this.__data__,t)>-1}var CBe=SBe,ABe=lS;function TBe(t,e){var r=this.__data__,n=ABe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var DBe=TBe,PBe=dBe,RBe=_Be,OBe=xBe,IBe=CBe,BBe=DBe;function Yp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yp.prototype.clear=PBe;Yp.prototype.delete=RBe;Yp.prototype.get=OBe;Yp.prototype.has=IBe;Yp.prototype.set=BBe;var uS=Yp,FBe=uS;function MBe(){this.__data__=new FBe,this.size=0}var kBe=MBe;function NBe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var LBe=NBe;function UBe(t){return this.__data__.get(t)}var $Be=UBe;function jBe(t){return this.__data__.has(t)}var zBe=jBe,GBe=typeof ds=="object"&&ds&&ds.Object===Object&&ds,oQ=GBe,VBe=oQ,HBe=typeof self=="object"&&self&&self.Object===Object&&self,WBe=VBe||HBe||Function("return this")(),Yo=WBe,KBe=Yo,XBe=KBe.Symbol,qp=XBe,V4=qp,aQ=Object.prototype,YBe=aQ.hasOwnProperty,qBe=aQ.toString,km=V4?V4.toStringTag:void 0;function ZBe(t){var e=YBe.call(t,km),r=t[km];try{t[km]=void 0;var n=!0}catch(o){}var s=qBe.call(t);return n&&(e?t[km]=r:delete t[km]),s}var JBe=ZBe,QBe=Object.prototype,eFe=QBe.toString;function tFe(t){return eFe.call(t)}var rFe=tFe,H4=qp,nFe=JBe,iFe=rFe,sFe="[object Null]",oFe="[object Undefined]",W4=H4?H4.toStringTag:void 0;function aFe(t){return t==null?t===void 0?oFe:sFe:W4&&W4 in Object(t)?nFe(t):iFe(t)}var Zp=aFe;function lFe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Cs=lFe,uFe=Zp,cFe=Cs,dFe="[object AsyncFunction]",fFe="[object Function]",hFe="[object GeneratorFunction]",pFe="[object Proxy]";function mFe(t){if(!cFe(t))return!1;var e=uFe(t);return e==fFe||e==hFe||e==dFe||e==pFe}var lM=mFe,gFe=Yo,vFe=gFe["__core-js_shared__"],yFe=vFe,sT=yFe,K4=function(){var t=/[^.]+$/.exec(sT&&sT.keys&&sT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _Fe(t){return!!K4&&K4 in t}var bFe=_Fe,wFe=Function.prototype,xFe=wFe.toString;function EFe(t){if(t!=null){try{return xFe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var lQ=EFe,SFe=lM,CFe=bFe,AFe=Cs,TFe=lQ,DFe=/[\\^$.*+?()[\]{}|]/g,PFe=/^\[object .+?Constructor\]$/,RFe=Function.prototype,OFe=Object.prototype,IFe=RFe.toString,BFe=OFe.hasOwnProperty,FFe=RegExp("^"+IFe.call(BFe).replace(DFe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MFe(t){if(!AFe(t)||CFe(t))return!1;var e=SFe(t)?FFe:PFe;return e.test(TFe(t))}var kFe=MFe;function NFe(t,e){return t==null?void 0:t[e]}var LFe=NFe,UFe=kFe,$Fe=LFe;function jFe(t,e){var r=$Fe(t,e);return UFe(r)?r:void 0}var af=jFe,zFe=af,GFe=Yo,VFe=zFe(GFe,"Map"),uM=VFe,HFe=af,WFe=HFe(Object,"create"),cS=WFe,X4=cS;function KFe(){this.__data__=X4?X4(null):{},this.size=0}var XFe=KFe;function YFe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qFe=YFe,ZFe=cS,JFe="__lodash_hash_undefined__",QFe=Object.prototype,eMe=QFe.hasOwnProperty;function tMe(t){var e=this.__data__;if(ZFe){var r=e[t];return r===JFe?void 0:r}return eMe.call(e,t)?e[t]:void 0}var rMe=tMe,nMe=cS,iMe=Object.prototype,sMe=iMe.hasOwnProperty;function oMe(t){var e=this.__data__;return nMe?e[t]!==void 0:sMe.call(e,t)}var aMe=oMe,lMe=cS,uMe="__lodash_hash_undefined__";function cMe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=lMe&&e===void 0?uMe:e,this}var dMe=cMe,fMe=XFe,hMe=qFe,pMe=rMe,mMe=aMe,gMe=dMe;function Jp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jp.prototype.clear=fMe;Jp.prototype.delete=hMe;Jp.prototype.get=pMe;Jp.prototype.has=mMe;Jp.prototype.set=gMe;var vMe=Jp,Y4=vMe,yMe=uS,_Me=uM;function bMe(){this.size=0,this.__data__={hash:new Y4,map:new(_Me||yMe),string:new Y4}}var wMe=bMe;function xMe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var EMe=xMe,SMe=EMe;function CMe(t,e){var r=t.__data__;return SMe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var dS=CMe,AMe=dS;function TMe(t){var e=AMe(this,t).delete(t);return this.size-=e?1:0,e}var DMe=TMe,PMe=dS;function RMe(t){return PMe(this,t).get(t)}var OMe=RMe,IMe=dS;function BMe(t){return IMe(this,t).has(t)}var FMe=BMe,MMe=dS;function kMe(t,e){var r=MMe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var NMe=kMe,LMe=wMe,UMe=DMe,$Me=OMe,jMe=FMe,zMe=NMe;function Qp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qp.prototype.clear=LMe;Qp.prototype.delete=UMe;Qp.prototype.get=$Me;Qp.prototype.has=jMe;Qp.prototype.set=zMe;var cM=Qp,GMe=uS,VMe=uM,HMe=cM,WMe=200;function KMe(t,e){var r=this.__data__;if(r instanceof GMe){var n=r.__data__;if(!VMe||n.length<WMe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new HMe(n)}return r.set(t,e),this.size=r.size,this}var XMe=KMe,YMe=uS,qMe=kBe,ZMe=LBe,JMe=$Be,QMe=zBe,eke=XMe;function em(t){var e=this.__data__=new YMe(t);this.size=e.size}em.prototype.clear=qMe;em.prototype.delete=ZMe;em.prototype.get=JMe;em.prototype.has=QMe;em.prototype.set=eke;var dM=em,tke=af,rke=function(){try{var t=tke(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),uQ=rke,q4=uQ;function nke(t,e,r){e=="__proto__"&&q4?q4(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var fM=nke,ike=fM,ske=B_;function oke(t,e,r){(r!==void 0&&!ske(t[e],r)||r===void 0&&!(e in t))&&ike(t,e,r)}var cQ=oke;function ake(t){return function(e,r,n){for(var s=-1,o=Object(e),a=n(e),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}var lke=ake,uke=lke,cke=uke(),dke=cke,Ex={exports:{}};Ex.exports;(function(t,e){var r=Yo,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function c(d,h){if(h)return d.slice();var m=d.length,g=l?l(m):new d.constructor(m);return d.copy(g),g}t.exports=c})(Ex,Ex.exports);var dQ=Ex.exports,fke=Yo,hke=fke.Uint8Array,fQ=hke,Z4=fQ;function pke(t){var e=new t.constructor(t.byteLength);return new Z4(e).set(new Z4(t)),e}var hM=pke,mke=hM;function gke(t,e){var r=e?mke(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var hQ=gke;function vke(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var pQ=vke,yke=Cs,J4=Object.create,_ke=function(){function t(){}return function(e){if(!yke(e))return{};if(J4)return J4(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),bke=_ke;function wke(t,e){return function(r){return t(e(r))}}var mQ=wke,xke=mQ,Eke=xke(Object.getPrototypeOf,Object),pM=Eke,Ske=Object.prototype;function Cke(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ske;return t===r}var mM=Cke,Ake=bke,Tke=pM,Dke=mM;function Pke(t){return typeof t.constructor=="function"&&!Dke(t)?Ake(Tke(t)):{}}var gQ=Pke;function Rke(t){return t!=null&&typeof t=="object"}var Hl=Rke,Oke=Zp,Ike=Hl,Bke="[object Arguments]";function Fke(t){return Ike(t)&&Oke(t)==Bke}var Mke=Fke,Q4=Mke,kke=Hl,vQ=Object.prototype,Nke=vQ.hasOwnProperty,Lke=vQ.propertyIsEnumerable,Uke=Q4(function(){return arguments}())?Q4:function(t){return kke(t)&&Nke.call(t,"callee")&&!Lke.call(t,"callee")},fS=Uke,$ke=Array.isArray,qo=$ke,jke=9007199254740991;function zke(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jke}var gM=zke,Gke=lM,Vke=gM;function Hke(t){return t!=null&&Vke(t.length)&&!Gke(t)}var hS=Hke,Wke=hS,Kke=Hl;function Xke(t){return Kke(t)&&Wke(t)}var Yke=Xke,Sx={exports:{}};function qke(){return!1}var Zke=qke;Sx.exports;(function(t,e){var r=Yo,n=Zke,s=e&&!e.nodeType&&e,o=s&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===s,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Sx,Sx.exports);var pS=Sx.exports,Jke=Zp,Qke=pM,eNe=Hl,tNe="[object Object]",rNe=Function.prototype,nNe=Object.prototype,yQ=rNe.toString,iNe=nNe.hasOwnProperty,sNe=yQ.call(Object);function oNe(t){if(!eNe(t)||Jke(t)!=tNe)return!1;var e=Qke(t);if(e===null)return!0;var r=iNe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&yQ.call(r)==sNe}var _Q=oNe,aNe=Zp,lNe=gM,uNe=Hl,cNe="[object Arguments]",dNe="[object Array]",fNe="[object Boolean]",hNe="[object Date]",pNe="[object Error]",mNe="[object Function]",gNe="[object Map]",vNe="[object Number]",yNe="[object Object]",_Ne="[object RegExp]",bNe="[object Set]",wNe="[object String]",xNe="[object WeakMap]",ENe="[object ArrayBuffer]",SNe="[object DataView]",CNe="[object Float32Array]",ANe="[object Float64Array]",TNe="[object Int8Array]",DNe="[object Int16Array]",PNe="[object Int32Array]",RNe="[object Uint8Array]",ONe="[object Uint8ClampedArray]",INe="[object Uint16Array]",BNe="[object Uint32Array]",Er={};Er[CNe]=Er[ANe]=Er[TNe]=Er[DNe]=Er[PNe]=Er[RNe]=Er[ONe]=Er[INe]=Er[BNe]=!0;Er[cNe]=Er[dNe]=Er[ENe]=Er[fNe]=Er[SNe]=Er[hNe]=Er[pNe]=Er[mNe]=Er[gNe]=Er[vNe]=Er[yNe]=Er[_Ne]=Er[bNe]=Er[wNe]=Er[xNe]=!1;function FNe(t){return uNe(t)&&lNe(t.length)&&!!Er[aNe(t)]}var MNe=FNe;function kNe(t){return function(e){return t(e)}}var vM=kNe,Cx={exports:{}};Cx.exports;(function(t,e){var r=oQ,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch(d){}}();t.exports=l})(Cx,Cx.exports);var yM=Cx.exports,NNe=MNe,LNe=vM,e8=yM,t8=e8&&e8.isTypedArray,UNe=t8?LNe(t8):NNe,_M=UNe;function $Ne(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var bQ=$Ne,jNe=fM,zNe=B_,GNe=Object.prototype,VNe=GNe.hasOwnProperty;function HNe(t,e,r){var n=t[e];(!(VNe.call(t,e)&&zNe(n,r))||r===void 0&&!(e in t))&&jNe(t,e,r)}var bM=HNe,WNe=bM,KNe=fM;function XNe(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?KNe(r,l,c):WNe(r,l,c)}return r}var tm=XNe;function YNe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var qNe=YNe,ZNe=9007199254740991,JNe=/^(?:0|[1-9]\d*)$/;function QNe(t,e){var r=typeof t;return e=e==null?ZNe:e,!!e&&(r=="number"||r!="symbol"&&JNe.test(t))&&t>-1&&t%1==0&&t<e}var mS=QNe,e3e=qNe,t3e=fS,r3e=qo,n3e=pS,i3e=mS,s3e=_M,o3e=Object.prototype,a3e=o3e.hasOwnProperty;function l3e(t,e){var r=r3e(t),n=!r&&t3e(t),s=!r&&!n&&n3e(t),o=!r&&!n&&!s&&s3e(t),a=r||n||s||o,l=a?e3e(t.length,String):[],c=l.length;for(var d in t)(e||a3e.call(t,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||i3e(d,c)))&&l.push(d);return l}var wQ=l3e;function u3e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var c3e=u3e,d3e=Cs,f3e=mM,h3e=c3e,p3e=Object.prototype,m3e=p3e.hasOwnProperty;function g3e(t){if(!d3e(t))return h3e(t);var e=f3e(t),r=[];for(var n in t)n=="constructor"&&(e||!m3e.call(t,n))||r.push(n);return r}var v3e=g3e,y3e=wQ,_3e=v3e,b3e=hS;function w3e(t){return b3e(t)?y3e(t,!0):_3e(t)}var F_=w3e,x3e=tm,E3e=F_;function S3e(t){return x3e(t,E3e(t))}var C3e=S3e,r8=cQ,A3e=dQ,T3e=hQ,D3e=pQ,P3e=gQ,n8=fS,i8=qo,R3e=Yke,O3e=pS,I3e=lM,B3e=Cs,F3e=_Q,M3e=_M,s8=bQ,k3e=C3e;function N3e(t,e,r,n,s,o,a){var l=s8(t,r),c=s8(e,r),d=a.get(c);if(d){r8(t,r,d);return}var h=o?o(l,c,r+"",t,e,a):void 0,m=h===void 0;if(m){var g=i8(c),y=!g&&O3e(c),_=!g&&!y&&M3e(c);h=c,g||y||_?i8(l)?h=l:R3e(l)?h=D3e(l):y?(m=!1,h=A3e(c,!0)):_?(m=!1,h=T3e(c,!0)):h=[]:F3e(c)||n8(c)?(h=l,n8(l)?h=k3e(l):(!B3e(l)||I3e(l))&&(h=P3e(c))):m=!1}m&&(a.set(c,h),s(h,c,n,o,a),a.delete(c)),r8(t,r,h)}var L3e=N3e,U3e=dM,$3e=cQ,j3e=dke,z3e=L3e,G3e=Cs,V3e=F_,H3e=bQ;function xQ(t,e,r,n,s){t!==e&&j3e(e,function(o,a){if(s||(s=new U3e),G3e(o))z3e(t,e,a,r,xQ,n,s);else{var l=n?n(H3e(t,a),o,a+"",t,e,s):void 0;l===void 0&&(l=o),$3e(t,a,l)}},V3e)}var wM=xQ;function W3e(t){return t}var EQ=W3e;function K3e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var SQ=K3e,X3e=SQ,o8=Math.max;function Y3e(t,e,r){return e=o8(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=o8(n.length-e,0),a=Array(o);++s<o;)a[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(a),X3e(t,this,l)}}var CQ=Y3e;function q3e(t){return function(){return t}}var Z3e=q3e,J3e=Z3e,a8=uQ,Q3e=EQ,eLe=a8?function(t,e){return a8(t,"toString",{configurable:!0,enumerable:!1,value:J3e(e),writable:!0})}:Q3e,tLe=eLe,rLe=800,nLe=16,iLe=Date.now;function sLe(t){var e=0,r=0;return function(){var n=iLe(),s=nLe-(n-r);if(r=n,s>0){if(++e>=rLe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oLe=sLe,aLe=tLe,lLe=oLe,uLe=lLe(aLe),AQ=uLe,cLe=EQ,dLe=CQ,fLe=AQ;function hLe(t,e){return fLe(dLe(t,e,cLe),t+"")}var TQ=hLe,pLe=B_,mLe=hS,gLe=mS,vLe=Cs;function yLe(t,e,r){if(!vLe(r))return!1;var n=typeof e;return(n=="number"?mLe(r)&&gLe(e,r.length):n=="string"&&e in r)?pLe(r[e],t):!1}var _Le=yLe,bLe=TQ,wLe=_Le;function xLe(t){return bLe(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,a&&wLe(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,o)}return e})}var DQ=xLe,ELe=wM,SLe=DQ,CLe=SLe(function(t,e,r,n){ELe(t,e,r,n)}),PQ=CLe;const RQ=qn(PQ);var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});var ALe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),oT={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},OQ={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:ALe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},xM={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var hb=1;hb<20;hb++)xM["f"+hb]=111+hb;function gS(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(a){return IQ(a,e)}),s=function(l){return n.some(function(c){return BQ(c,l)})},o=r==null?s:s(r);return o}function TLe(t,e){return gS(t,e)}function DLe(t,e){return gS(t,{byKey:!0},e)}function IQ(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var s=t.split("+"),o=s.length;for(var a in oT)n[oT[a]]=!1;var l=!0,c=!1,d=void 0;try{for(var h=s[Symbol.iterator](),m;!(l=(m=h.next()).done);l=!0){var g=m.value,y=g.endsWith("?")&&g.length>1;y&&(g=g.slice(0,-1));var _=EM(g),u=oT[_];if(g.length>1&&!u&&!OQ[g]&&!xM[_])throw new TypeError('Unknown modifier: "'+g+'"');(o===1||!u)&&(r?n.key=_:n.which=FQ(g)),u&&(n[u]=y?null:!0)}}catch(f){c=!0,d=f}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}return n}function BQ(t,e){for(var r in t){var n=t[r],s=void 0;if(n!=null&&(r==="key"&&e.key!=null?s=e.key.toLowerCase():r==="which"?s=n===91&&e.which===93?91:e.which:s=e[r],!(s==null&&n===!1)&&s!==n))return!1}return!0}function FQ(t){t=EM(t);var e=xM[t]||t.toUpperCase().charCodeAt(0);return e}function EM(t){return t=t.toLowerCase(),t=OQ[t]||t,t}Wl.default=gS;var aT=Wl.isHotkey=gS;Wl.isCodeHotkey=TLe;var Nh=Wl.isKeyHotkey=DLe;Wl.parseHotkey=IQ;Wl.compareHotkey=BQ;Wl.toKeyCode=FQ;Wl.toKeyName=EM;var PLe=wM,RLe=DQ,OLe=RLe(function(t,e,r){PLe(t,e,r)}),ILe=OLe;const wo=qn(ILe);var BLe=qo;function FLe(){if(!arguments.length)return[];var t=arguments[0];return BLe(t)?t:[t]}var MLe=FLe;const Gu=qn(MLe);function kLe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var MQ=kLe,NLe="__lodash_hash_undefined__";function LLe(t){return this.__data__.set(t,NLe),this}var ULe=LLe;function $Le(t){return this.__data__.has(t)}var jLe=$Le,zLe=cM,GLe=ULe,VLe=jLe;function Ax(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new zLe;++e<r;)this.add(t[e])}Ax.prototype.add=Ax.prototype.push=GLe;Ax.prototype.has=VLe;var HLe=Ax;function WLe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var KLe=WLe;function XLe(t,e){return t.has(e)}var YLe=XLe,qLe=HLe,ZLe=KLe,JLe=YLe,QLe=1,eUe=2;function tUe(t,e,r,n,s,o){var a=r&QLe,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var m=-1,g=!0,y=r&eUe?new qLe:void 0;for(o.set(t,e),o.set(e,t);++m<l;){var _=t[m],u=e[m];if(n)var f=a?n(u,_,m,e,t,o):n(_,u,m,t,e,o);if(f!==void 0){if(f)continue;g=!1;break}if(y){if(!ZLe(e,function(p,v){if(!JLe(y,v)&&(_===p||s(_,p,r,n,o)))return y.push(v)})){g=!1;break}}else if(!(_===u||s(_,u,r,n,o))){g=!1;break}}return o.delete(t),o.delete(e),g}var kQ=tUe;function rUe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var nUe=rUe;function iUe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var sUe=iUe,l8=qp,u8=fQ,oUe=B_,aUe=kQ,lUe=nUe,uUe=sUe,cUe=1,dUe=2,fUe="[object Boolean]",hUe="[object Date]",pUe="[object Error]",mUe="[object Map]",gUe="[object Number]",vUe="[object RegExp]",yUe="[object Set]",_Ue="[object String]",bUe="[object Symbol]",wUe="[object ArrayBuffer]",xUe="[object DataView]",c8=l8?l8.prototype:void 0,lT=c8?c8.valueOf:void 0;function EUe(t,e,r,n,s,o,a){switch(r){case xUe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wUe:return!(t.byteLength!=e.byteLength||!o(new u8(t),new u8(e)));case fUe:case hUe:case gUe:return oUe(+t,+e);case pUe:return t.name==e.name&&t.message==e.message;case vUe:case _Ue:return t==e+"";case mUe:var l=lUe;case yUe:var c=n&cUe;if(l||(l=uUe),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;n|=dUe,a.set(t,e);var h=aUe(l(t),l(e),n,s,o,a);return a.delete(t),h;case bUe:if(lT)return lT.call(t)==lT.call(e)}return!1}var SUe=EUe;function CUe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var SM=CUe,AUe=SM,TUe=qo;function DUe(t,e,r){var n=e(t);return TUe(t)?n:AUe(n,r(t))}var NQ=DUe;function PUe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[s++]=a)}return o}var RUe=PUe;function OUe(){return[]}var LQ=OUe,IUe=RUe,BUe=LQ,FUe=Object.prototype,MUe=FUe.propertyIsEnumerable,d8=Object.getOwnPropertySymbols,kUe=d8?function(t){return t==null?[]:(t=Object(t),IUe(d8(t),function(e){return MUe.call(t,e)}))}:BUe,CM=kUe,NUe=mQ,LUe=NUe(Object.keys,Object),UUe=LUe,$Ue=mM,jUe=UUe,zUe=Object.prototype,GUe=zUe.hasOwnProperty;function VUe(t){if(!$Ue(t))return jUe(t);var e=[];for(var r in Object(t))GUe.call(t,r)&&r!="constructor"&&e.push(r);return e}var HUe=VUe,WUe=wQ,KUe=HUe,XUe=hS;function YUe(t){return XUe(t)?WUe(t):KUe(t)}var AM=YUe,qUe=NQ,ZUe=CM,JUe=AM;function QUe(t){return qUe(t,JUe,ZUe)}var UQ=QUe,f8=UQ,e$e=1,t$e=Object.prototype,r$e=t$e.hasOwnProperty;function n$e(t,e,r,n,s,o){var a=r&e$e,l=f8(t),c=l.length,d=f8(e),h=d.length;if(c!=h&&!a)return!1;for(var m=c;m--;){var g=l[m];if(!(a?g in e:r$e.call(e,g)))return!1}var y=o.get(t),_=o.get(e);if(y&&_)return y==e&&_==t;var u=!0;o.set(t,e),o.set(e,t);for(var f=a;++m<c;){g=l[m];var p=t[g],v=e[g];if(n)var b=a?n(v,p,g,e,t,o):n(p,v,g,t,e,o);if(!(b===void 0?p===v||s(p,v,r,n,o):b)){u=!1;break}f||(f=g=="constructor")}if(u&&!f){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(u=!1)}return o.delete(t),o.delete(e),u}var i$e=n$e,s$e=af,o$e=Yo,a$e=s$e(o$e,"DataView"),l$e=a$e,u$e=af,c$e=Yo,d$e=u$e(c$e,"Promise"),f$e=d$e,h$e=af,p$e=Yo,m$e=h$e(p$e,"Set"),g$e=m$e,v$e=af,y$e=Yo,_$e=v$e(y$e,"WeakMap"),b$e=_$e,yR=l$e,_R=uM,bR=f$e,wR=g$e,xR=b$e,$Q=Zp,rm=lQ,h8="[object Map]",w$e="[object Object]",p8="[object Promise]",m8="[object Set]",g8="[object WeakMap]",v8="[object DataView]",x$e=rm(yR),E$e=rm(_R),S$e=rm(bR),C$e=rm(wR),A$e=rm(xR),zc=$Q;(yR&&zc(new yR(new ArrayBuffer(1)))!=v8||_R&&zc(new _R)!=h8||bR&&zc(bR.resolve())!=p8||wR&&zc(new wR)!=m8||xR&&zc(new xR)!=g8)&&(zc=function(t){var e=$Q(t),r=e==w$e?t.constructor:void 0,n=r?rm(r):"";if(n)switch(n){case x$e:return v8;case E$e:return h8;case S$e:return p8;case C$e:return m8;case A$e:return g8}return e});var vS=zc,uT=dM,T$e=kQ,D$e=SUe,P$e=i$e,y8=vS,_8=qo,b8=pS,R$e=_M,O$e=1,w8="[object Arguments]",x8="[object Array]",pb="[object Object]",I$e=Object.prototype,E8=I$e.hasOwnProperty;function B$e(t,e,r,n,s,o){var a=_8(t),l=_8(e),c=a?x8:y8(t),d=l?x8:y8(e);c=c==w8?pb:c,d=d==w8?pb:d;var h=c==pb,m=d==pb,g=c==d;if(g&&b8(t)){if(!b8(e))return!1;a=!0,h=!1}if(g&&!h)return o||(o=new uT),a||R$e(t)?T$e(t,e,r,n,s,o):D$e(t,e,c,r,n,s,o);if(!(r&O$e)){var y=h&&E8.call(t,"__wrapped__"),_=m&&E8.call(e,"__wrapped__");if(y||_){var u=y?t.value():t,f=_?e.value():e;return o||(o=new uT),s(u,f,r,n,o)}}return g?(o||(o=new uT),P$e(t,e,r,n,s,o)):!1}var F$e=B$e,M$e=F$e,S8=Hl;function jQ(t,e,r,n,s){return t===e?!0:t==null||e==null||!S8(t)&&!S8(e)?t!==t&&e!==e:M$e(t,e,r,n,jQ,s)}var k$e=jQ,N$e=Zp,L$e=Hl,U$e="[object Symbol]";function $$e(t){return typeof t=="symbol"||L$e(t)&&N$e(t)==U$e}var yS=$$e,j$e=qo,z$e=yS,G$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V$e=/^\w*$/;function H$e(t,e){if(j$e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||z$e(t)?!0:V$e.test(t)||!G$e.test(t)||e!=null&&t in Object(e)}var W$e=H$e,zQ=cM,K$e="Expected a function";function TM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(K$e);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var a=t.apply(this,n);return r.cache=o.set(s,a)||o,a};return r.cache=new(TM.Cache||zQ),r}TM.Cache=zQ;var X$e=TM,Y$e=X$e,q$e=500;function Z$e(t){var e=Y$e(t,function(n){return r.size===q$e&&r.clear(),n}),r=e.cache;return e}var J$e=Z$e,Q$e=J$e,e4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t4e=/\\(\\)?/g,r4e=Q$e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(e4e,function(r,n,s,o){e.push(s?o.replace(t4e,"$1"):n||r)}),e}),n4e=r4e,C8=qp,i4e=MQ,s4e=qo,o4e=yS,a4e=1/0,A8=C8?C8.prototype:void 0,T8=A8?A8.toString:void 0;function GQ(t){if(typeof t=="string")return t;if(s4e(t))return i4e(t,GQ)+"";if(o4e(t))return T8?T8.call(t):"";var e=t+"";return e=="0"&&1/t==-a4e?"-0":e}var l4e=GQ,u4e=l4e;function c4e(t){return t==null?"":u4e(t)}var d4e=c4e,f4e=qo,h4e=W$e,p4e=n4e,m4e=d4e;function g4e(t,e){return f4e(t)?t:h4e(t,e)?[t]:p4e(m4e(t))}var nm=g4e,v4e=yS,y4e=1/0;function _4e(t){if(typeof t=="string"||v4e(t))return t;var e=t+"";return e=="0"&&1/t==-y4e?"-0":e}var _S=_4e,b4e=nm,w4e=_S;function x4e(t,e){e=b4e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[w4e(e[r++])];return r&&r==n?t:void 0}var VQ=x4e;function E4e(t,e){return t!=null&&e in Object(t)}var S4e=E4e,C4e=nm,A4e=fS,T4e=qo,D4e=mS,P4e=gM,R4e=_S;function O4e(t,e,r){e=C4e(e,t);for(var n=-1,s=e.length,o=!1;++n<s;){var a=R4e(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=s?o:(s=t==null?0:t.length,!!s&&P4e(s)&&D4e(a,s)&&(T4e(t)||A4e(t)))}var I4e=O4e,B4e=S4e,F4e=I4e;function M4e(t,e){return t!=null&&F4e(t,e,B4e)}var k4e=M4e;function N4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var L4e=N4e,U4e=Object.defineProperty,$4e=Object.defineProperties,j4e=Object.getOwnPropertyDescriptors,Tx=Object.getOwnPropertySymbols,HQ=Object.prototype.hasOwnProperty,WQ=Object.prototype.propertyIsEnumerable,D8=(t,e,r)=>e in t?U4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bS=(t,e)=>{for(var r in e||(e={}))HQ.call(e,r)&&D8(t,r,e[r]);if(Tx)for(var r of Tx(e))WQ.call(e,r)&&D8(t,r,e[r]);return t},DM=(t,e)=>$4e(t,j4e(e)),z4e=(t,e)=>{var r={};for(var n in t)HQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Tx)for(var n of Tx(t))e.indexOf(n)<0&&WQ.call(t,n)&&(r[n]=t[n]);return r},KQ=(t,e={})=>xx(t,DM(bS({},e),{block:!0})),G4e=(t,e)=>{if(!t)return;const r=oM(t);return r==null?void 0:r[e]},V4e=(t,e)=>!aM(e)&&!e.children.some(r=>rQ(t,r)),H4e=t=>{var e;const r=(e=KQ(t))==null?void 0:e[0];return r?V4e(t,r):!1},W4e=(t,e)=>of(G4e(t,e)),XQ=(t,e)=>{var r;const{selection:n}=t;if(!n)return!1;const s=(r=KQ(t,e))==null?void 0:r[1];return s?G4(t,n.focus,s)||iQ(t.selection)&&G4(t,n.anchor,s):!1},K4e=t=>iQ(t.selection),X4e=(t,e)=>{var r=e,{key:n,at:s,shouldChange:o=!0}=r,a=z4e(r,["key","at","shouldChange"]),l;const c=s!=null?s:t.selection;if(n=Gu(n),c){if(ce.isRange(c)&&ce.isExpanded(c))lBe(t,n,bS({at:c,match:cc,split:!0},a));else if(t.selection){const d=(l=oM(t))!=null?l:{};n.forEach(h=>{delete d[h]}),t.marks=d,o&&t.onChange()}}},Y4e=(t,e,r)=>{Sc(t,()=>{for(const[,n]of iBe(t,e,{reverse:!0}))nM(t,DM(bS({},r),{at:n}))})},YQ=t=>{const e=oM(t);e&&Object.keys(e).forEach(r=>{rBe(t,r)})},wS=(t,{at:e,insertOptions:r,nodes:n,removeOptions:s})=>{Sc(t,()=>{Y4e(t,e,s),aBe(t,n,DM(bS({},r),{at:e.concat([0])}))})},qQ=(t,{key:e,clear:r})=>{t.selection&&Sc(t,()=>{if(W4e(t,e)){t.removeMark(e);return}if(r){const s=Gu(r);X4e(t,{key:s})}t.addMark(e,!0)})};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function q4e(t,e){if(Dy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z4e(t){var e=q4e(t,"string");return Dy(e)==="symbol"?e:String(e)}function yp(t,e,r){return e=Z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ZQ=new WeakMap,JQ=new WeakMap;class PM{}class xS extends PM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),yp(this,"offset",void 0),yp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}class ES extends PM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),yp(this,"offset",void 0),yp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}var J4e=(t,e)=>{var r=t.text.length;ZQ.set(t,[r,e])},Q4e=t=>ZQ.get(t),e8e=(t,e)=>{var r=t.text.length;JQ.set(t,[r,e])},t8e=t=>JQ.get(t);function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){yp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mw=new WeakSet,SS=t=>{var e=[],r=s=>{if(s!=null){var o=e[e.length-1];if(typeof s=="string"){var a={text:s};mw.add(a),s=a}if(rt.isText(s)){var l=s;rt.isText(o)&&mw.has(o)&&mw.has(l)&&rt.equals(o,l,{loose:!0})?o.text+=l.text:e.push(l)}else if(ot.isElement(s))e.push(s);else if(s instanceof PM){var c=e[e.length-1];rt.isText(c)||(r(""),c=e[e.length-1]),s instanceof xS?J4e(c,s):s instanceof ES&&e8e(c,s)}else throw new Error("Unexpected hyperscript child object: ".concat(s))}};for(var n of t.flat(1/0))r(n);return e};function r8e(t,e,r){return new xS(e)}function n8e(t,e,r){return[new xS(e),new ES(e)]}function QQ(t,e,r){return ER(ER({},e),{},{children:SS(r)})}function i8e(t,e,r){return new ES(e)}function s8e(t,e,r){return SS(r)}function o8e(t,e,r){var n=r.find(o=>o instanceof xS),s=r.find(o=>o instanceof ES);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!s||s.offset==null||s.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return ER({anchor:{offset:n.offset,path:n.path},focus:{offset:s.offset,path:s.path}},e)}function a8e(t,e,r){var n=SS(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[s]=n;if(s==null&&(s={text:""}),!rt.isText(s))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return mw.delete(s),Object.assign(s,e),s}var l8e=t=>(e,r,n)=>{var s=[],o;for(var a of n)ce.isRange(a)?o=a:s.push(a);var l=SS(s),c={},d=t();Object.assign(d,r),d.children=l;for(var[h,m]of Me.texts(d)){var g=Q4e(h),y=t8e(h);if(g!=null){var[_]=g;c.anchor={path:m,offset:_}}if(y!=null){var[u]=y;c.focus={path:m,offset:u}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return o!=null?d.selection=o:ce.isRange(c)&&(d.selection=c),d};function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Yg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){yp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var u8e={anchor:r8e,cursor:n8e,editor:l8e(XJ),element:QQ,focus:i8e,fragment:s8e,selection:o8e,text:a8e},c8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=e,n=f8e(r),s=Yg(Yg(Yg({},u8e),n),e.creators),o=d8e(s);return o},d8e=t=>{var e=function(n,s){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];var c=t[n];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));s==null&&(s={}),Fn(s)||(a=[s].concat(a),s={}),a=a.filter(h=>!!h).flat();var d=c(n,s,a);return d};return e},f8e=t=>{var e={},r=function(){var o=t[n];if(typeof o!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(o));e[n]=(a,l,c)=>QQ("element",Yg(Yg({},o),l),c)};for(var n in t)r();return e},im=c8e();function h8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var p8e=h8e,m8e=tm,g8e=AM;function v8e(t,e){return t&&m8e(e,g8e(e),t)}var y8e=v8e,_8e=tm,b8e=F_;function w8e(t,e){return t&&_8e(e,b8e(e),t)}var x8e=w8e,E8e=tm,S8e=CM;function C8e(t,e){return E8e(t,S8e(t),e)}var A8e=C8e,T8e=SM,D8e=pM,P8e=CM,R8e=LQ,O8e=Object.getOwnPropertySymbols,I8e=O8e?function(t){for(var e=[];t;)T8e(e,P8e(t)),t=D8e(t);return e}:R8e,eee=I8e,B8e=tm,F8e=eee;function M8e(t,e){return B8e(t,F8e(t),e)}var k8e=M8e,N8e=NQ,L8e=eee,U8e=F_;function $8e(t){return N8e(t,U8e,L8e)}var tee=$8e,j8e=Object.prototype,z8e=j8e.hasOwnProperty;function G8e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&z8e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var V8e=G8e,H8e=hM;function W8e(t,e){var r=e?H8e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var K8e=W8e,X8e=/\w*$/;function Y8e(t){var e=new t.constructor(t.source,X8e.exec(t));return e.lastIndex=t.lastIndex,e}var q8e=Y8e,O8=qp,I8=O8?O8.prototype:void 0,B8=I8?I8.valueOf:void 0;function Z8e(t){return B8?Object(B8.call(t)):{}}var J8e=Z8e,Q8e=hM,eje=K8e,tje=q8e,rje=J8e,nje=hQ,ije="[object Boolean]",sje="[object Date]",oje="[object Map]",aje="[object Number]",lje="[object RegExp]",uje="[object Set]",cje="[object String]",dje="[object Symbol]",fje="[object ArrayBuffer]",hje="[object DataView]",pje="[object Float32Array]",mje="[object Float64Array]",gje="[object Int8Array]",vje="[object Int16Array]",yje="[object Int32Array]",_je="[object Uint8Array]",bje="[object Uint8ClampedArray]",wje="[object Uint16Array]",xje="[object Uint32Array]";function Eje(t,e,r){var n=t.constructor;switch(e){case fje:return Q8e(t);case ije:case sje:return new n(+t);case hje:return eje(t,r);case pje:case mje:case gje:case vje:case yje:case _je:case bje:case wje:case xje:return nje(t,r);case oje:return new n;case aje:case cje:return new n(t);case lje:return tje(t);case uje:return new n;case dje:return rje(t)}}var Sje=Eje,Cje=vS,Aje=Hl,Tje="[object Map]";function Dje(t){return Aje(t)&&Cje(t)==Tje}var Pje=Dje,Rje=Pje,Oje=vM,F8=yM,M8=F8&&F8.isMap,Ije=M8?Oje(M8):Rje,Bje=Ije,Fje=vS,Mje=Hl,kje="[object Set]";function Nje(t){return Mje(t)&&Fje(t)==kje}var Lje=Nje,Uje=Lje,$je=vM,k8=yM,N8=k8&&k8.isSet,jje=N8?$je(N8):Uje,zje=jje,Gje=dM,Vje=p8e,Hje=bM,Wje=y8e,Kje=x8e,Xje=dQ,Yje=pQ,qje=A8e,Zje=k8e,Jje=UQ,Qje=tee,e6e=vS,t6e=V8e,r6e=Sje,n6e=gQ,i6e=qo,s6e=pS,o6e=Bje,a6e=Cs,l6e=zje,u6e=AM,c6e=F_,d6e=1,f6e=2,h6e=4,ree="[object Arguments]",p6e="[object Array]",m6e="[object Boolean]",g6e="[object Date]",v6e="[object Error]",nee="[object Function]",y6e="[object GeneratorFunction]",_6e="[object Map]",b6e="[object Number]",iee="[object Object]",w6e="[object RegExp]",x6e="[object Set]",E6e="[object String]",S6e="[object Symbol]",C6e="[object WeakMap]",A6e="[object ArrayBuffer]",T6e="[object DataView]",D6e="[object Float32Array]",P6e="[object Float64Array]",R6e="[object Int8Array]",O6e="[object Int16Array]",I6e="[object Int32Array]",B6e="[object Uint8Array]",F6e="[object Uint8ClampedArray]",M6e="[object Uint16Array]",k6e="[object Uint32Array]",mr={};mr[ree]=mr[p6e]=mr[A6e]=mr[T6e]=mr[m6e]=mr[g6e]=mr[D6e]=mr[P6e]=mr[R6e]=mr[O6e]=mr[I6e]=mr[_6e]=mr[b6e]=mr[iee]=mr[w6e]=mr[x6e]=mr[E6e]=mr[S6e]=mr[B6e]=mr[F6e]=mr[M6e]=mr[k6e]=!0;mr[v6e]=mr[nee]=mr[C6e]=!1;function gw(t,e,r,n,s,o){var a,l=e&d6e,c=e&f6e,d=e&h6e;if(r&&(a=s?r(t,n,s,o):r(t)),a!==void 0)return a;if(!a6e(t))return t;var h=i6e(t);if(h){if(a=t6e(t),!l)return Yje(t,a)}else{var m=e6e(t),g=m==nee||m==y6e;if(s6e(t))return Xje(t,l);if(m==iee||m==ree||g&&!s){if(a=c||g?{}:n6e(t),!l)return c?Zje(t,Kje(a,t)):qje(t,Wje(a,t))}else{if(!mr[m])return s?t:{};a=r6e(t,m,l)}}o||(o=new Gje);var y=o.get(t);if(y)return y;o.set(t,a),l6e(t)?t.forEach(function(f){a.add(gw(f,e,r,f,t,o))}):o6e(t)&&t.forEach(function(f,p){a.set(p,gw(f,e,r,p,t,o))});var _=d?c?Qje:Jje:c?c6e:u6e,u=h?void 0:_(t);return Vje(u||t,function(f,p){u&&(p=f,f=t[p]),Hje(a,p,gw(f,e,r,p,t,o))}),a}var see=gw,N6e=see,L6e=1,U6e=4;function $6e(t){return N6e(t,L6e|U6e)}var j6e=$6e;const z6e=qn(j6e);var G6e=k$e;function V6e(t,e){return G6e(t,e)}var H6e=V6e;const W6e=qn(H6e),K6e=Symbol(),oee=Symbol(),Nm="a",vw="w";let X6e=(t,e)=>new Proxy(t,e);const SR=Object.getPrototypeOf,L8=new WeakMap,Y6e=t=>t&&(L8.has(t)?L8.get(t):SR(t)===Object.prototype||SR(t)===Array.prototype),U8=t=>typeof t=="object"&&t!==null,q6e=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(SR(t),e)},aee=t=>t[oee]||t,lee=(t,e,r,n)=>{if(!Y6e(t))return t;let s=n&&n.get(t);if(!s){const c=aee(t);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(h=>!h.configurable&&!h.writable))(c)?[c,q6e(c)]:[c],n==null||n.set(t,s)}const[o,a]=s;let l=r&&r.get(o);return l&&l[1].f===!!a||(l=((c,d)=>{const h={f:d};let m=!1;const g=(_,u)=>{if(!m){let f=h[Nm].get(c);if(f||(f={},h[Nm].set(c,f)),_===vw)f[vw]=!0;else{let p=f[_];p||(p=new Set,f[_]=p),p.add(u)}}},y={get:(_,u)=>u===oee?c:(g("k",u),lee(Reflect.get(_,u),h[Nm],h.c,h.t)),has:(_,u)=>u===K6e?(m=!0,h[Nm].delete(c),!0):(g("h",u),Reflect.has(_,u)),getOwnPropertyDescriptor:(_,u)=>(g("o",u),Reflect.getOwnPropertyDescriptor(_,u)),ownKeys:_=>(g(vw),Reflect.ownKeys(_))};return d&&(y.set=y.deleteProperty=()=>!1),[y,h]})(o,!!a),l[1].p=X6e(a||o,l[0]),r&&r.set(o,l)),l[1][Nm]=e,l[1].c=r,l[1].t=n,l[1].p},CR=(t,e,r,n,s=Object.is)=>{if(s(t,e))return!1;if(!U8(t)||!U8(e))return!0;const o=r.get(aee(t));if(!o)return!0;if(n){const l=n.get(t);if(l&&l.n===e)return l.g;n.set(t,{n:e,g:!1})}let a=null;try{for(const l of o.h||[])if(a=Reflect.has(t,l)!==Reflect.has(e,l),a)return a;if(o[vw]===!0){if(a=((l,c)=>{const d=Reflect.ownKeys(l),h=Reflect.ownKeys(c);return d.length!==h.length||d.some((m,g)=>m!==h[g])})(t,e),a)return a}else for(const l of o.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(t,l)!=!!Reflect.getOwnPropertyDescriptor(e,l),a)return a;for(const l of o.k||[])if(a=CR(t[l],e[l],r,n,s),a)return a;return a===null&&(a=!0),a}finally{n&&n.set(t,{n:e,g:a})}};const Z6e=t=>()=>{const[,r]=E.useReducer(h=>h+1,0),n=new WeakMap,s=E.useRef(),o=E.useRef(),a=E.useRef();E.useEffect(()=>{s.current=n,o.current!==a.current&&CR(o.current,a.current,n,new WeakMap)&&(o.current=a.current,r())});const l=E.useCallback(h=>(a.current=h,o.current&&o.current!==h&&s.current&&!CR(o.current,h,s.current,new WeakMap)?o.current:(o.current=h,h)),[]),c=t(l),d=E.useMemo(()=>new WeakMap,[]);return lee(c,n,d)},AR=new Map,mb=t=>{const e=AR.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},J6e=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=AR.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return AR.set(r.name,s),{type:"tracked",store:t,...s}},Q6e=(t,e={})=>(r,n,s)=>{const{enabled:o,anonymousActionType:a,store:l,...c}=e;let d;try{d=(o!=null?o:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!d)return t(r,n,s);const{connection:h,...m}=J6e(l,d,c);let g=!0;s.setState=(u,f,p)=>{const v=r(u,f);if(!g)return v;const b=p===void 0?{type:a||"anonymous"}:typeof p=="string"?{type:p}:p;return l===void 0?(h==null||h.send(b,n()),v):(h==null||h.send({...b,type:"".concat(l,"/").concat(b.type)},{...mb(c.name),[l]:s.getState()}),v)};const y=(...u)=>{const f=g;g=!1,r(...u),g=f},_=t(s.setState,n,s);if(m.type==="untracked"?h==null||h.init(_):(m.stores[m.store]=s,h==null||h.init(Object.fromEntries(Object.entries(m.stores).map(([u,f])=>[u,u===m.store?_:f.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let u=!1;const f=s.dispatch;s.dispatch=(...p)=>{f(...p)}}return h.subscribe(u=>{var f;switch(u.type){case"ACTION":if(typeof u.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return cT(u.payload,p=>{if(p.type==="__setState"){if(l===void 0){y(p.state);return}Object.keys(p.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const v=p.state[l];if(v==null)return;JSON.stringify(s.getState())!==JSON.stringify(v)&&y(v);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(p)});case"DISPATCH":switch(u.payload.type){case"RESET":return y(_),l===void 0?h==null?void 0:h.init(s.getState()):h==null?void 0:h.init(mb(c.name));case"COMMIT":if(l===void 0){h==null||h.init(s.getState());return}return h==null?void 0:h.init(mb(c.name));case"ROLLBACK":return cT(u.state,p=>{if(l===void 0){y(p),h==null||h.init(s.getState());return}y(p[l]),h==null||h.init(mb(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return cT(u.state,p=>{if(l===void 0){y(p);return}JSON.stringify(s.getState())!==JSON.stringify(p[l])&&y(p[l])});case"IMPORT_STATE":{const{nextLiftedState:p}=u.payload,v=(f=p.computedStates.slice(-1)[0])==null?void 0:f.state;if(!v)return;y(l===void 0?v:v[l]),h==null||h.send(null,p);return}case"PAUSE_RECORDING":return g=!g}return}}),_},e5e=Q6e,cT=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function t5e(t,e){let r;try{r=t()}catch(s){return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const Py=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Py(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Py(n)(r)}}}},r5e=(t,e)=>(r,n,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,p)=>({...p,...f}),...e},a=!1;const l=new Set,c=new Set;let d;try{d=o.getStorage()}catch(f){}if(!d)return t((...f)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...f)},n,s);const h=Py(o.serialize),m=()=>{const f=o.partialize({...n()});let p;const v=h({state:f,version:o.version}).then(b=>d.setItem(o.name,b)).catch(b=>{p=b});if(p)throw p;return v},g=s.setState;s.setState=(f,p)=>{g(f,p),m()};const y=t((...f)=>{r(...f),m()},n,s);let _;const u=()=>{var f;if(!d)return;a=!1,l.forEach(v=>v(n()));const p=((f=o.onRehydrateStorage)==null?void 0:f.call(o,n()))||void 0;return Py(d.getItem.bind(d))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return _=o.merge(v,(b=n())!=null?b:y),r(_,!0),m()}).then(()=>{p==null||p(_,void 0),a=!0,c.forEach(v=>v(_))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:f=>{o={...o,...f},f.getStorage&&(d=f.getStorage())},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>u(),hasHydrated:()=>a,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},u(),_||y},n5e=(t,e)=>(r,n,s)=>{let o={storage:t5e(()=>localStorage),partialize:u=>u,version:0,merge:(u,f)=>({...f,...u}),...e},a=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return t((...u)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...u)},n,s);const h=()=>{const u=o.partialize({...n()});return d.setItem(o.name,{state:u,version:o.version})},m=s.setState;s.setState=(u,f)=>{m(u,f),h()};const g=t((...u)=>{r(...u),h()},n,s);s.getInitialState=()=>g;let y;const _=()=>{var u,f;if(!d)return;a=!1,l.forEach(v=>{var b;return v((b=n())!=null?b:g)});const p=((f=o.onRehydrateStorage)==null?void 0:f.call(o,(u=n())!=null?u:g))||void 0;return Py(d.getItem.bind(d))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[w,x]=v;if(y=o.merge(x,(b=n())!=null?b:g),r(y,!0),w)return h()}).then(()=>{p==null||p(y,void 0),y=n(),a=!0,c.forEach(v=>v(y))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:u=>{o={...o,...u},u.storage&&(d=u.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},o.skipHydration||_(),y||g},i5e=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?r5e(t,e):n5e(t,e),s5e=i5e,{useDebugValue:o5e}=Z,{useSyncExternalStoreWithSelector:a5e}=Gz,l5e=t=>t;function u5e(t,e=l5e,r){const n=a5e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return o5e(n),n}var Dx={exports:{}};Dx.exports;(function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",o=1,a=2,l=1/0,c=9007199254740991,d="[object Arguments]",h="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Function]",u="[object GeneratorFunction]",f="[object Map]",p="[object Number]",v="[object Object]",b="[object Promise]",w="[object RegExp]",x="[object Set]",S="[object String]",A="[object Symbol]",D="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",k="[object Int32Array]",W="[object Uint8Array]",G="[object Uint8ClampedArray]",j="[object Uint16Array]",$="[object Uint32Array]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ue=/^\./,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,he=/\\(\\)?/g,Y=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,V={};V[R]=V[P]=V[O]=V[I]=V[k]=V[W]=V[G]=V[j]=V[$]=!0,V[d]=V[h]=V[C]=V[m]=V[T]=V[g]=V[y]=V[_]=V[f]=V[p]=V[v]=V[w]=V[x]=V[S]=V[D]=!1;var H=typeof ds=="object"&&ds&&ds.Object===Object&&ds,re=typeof self=="object"&&self&&self.Object===Object&&self,ne=H||re||Function("return this")(),_e=e&&!e.nodeType&&e,be=_e&&!0&&t&&!t.nodeType&&t,xe=be&&be.exports===_e,Se=xe&&H.process,dt=function(){try{return Se&&Se.binding("util")}catch(N){}}(),xt=dt&&dt.isTypedArray;function X(N,q){for(var me=-1,ze=N?N.length:0;++me<ze;)if(q(N[me],me,N))return!0;return!1}function se(N){return function(q){return q==null?void 0:q[N]}}function le(N,q){for(var me=-1,ze=Array(N);++me<N;)ze[me]=q(me);return ze}function Ae(N){return function(q){return N(q)}}function ve(N,q){return N==null?void 0:N[q]}function ye(N){var q=!1;if(N!=null&&typeof N.toString!="function")try{q=!!(N+"")}catch(me){}return q}function Te(N){var q=-1,me=Array(N.size);return N.forEach(function(ze,Ot){me[++q]=[Ot,ze]}),me}function Re(N,q){return function(me){return N(q(me))}}function je(N){var q=-1,me=Array(N.size);return N.forEach(function(ze){me[++q]=ze}),me}var ft=Array.prototype,Et=Function.prototype,Ke=Object.prototype,L=ne["__core-js_shared__"],B=function(){var N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),U=Et.toString,J=Ke.hasOwnProperty,ie=Ke.toString,ke=RegExp("^"+U.call(J).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=ne.Symbol,ut=ne.Uint8Array,Ye=Ke.propertyIsEnumerable,vt=ft.splice,te=Re(Object.keys,Object),ae=uf(ne,"DataView"),de=uf(ne,"Map"),Ee=uf(ne,"Promise"),Be=uf(ne,"Set"),We=uf(ne,"WeakMap"),Ze=uf(Object,"create"),De=Ac(ae),Je=Ac(de),Fe=Ac(Ee),Ce=Ac(Be),Ne=Ac(We),Le=Ve?Ve.prototype:void 0,Qe=Le?Le.valueOf:void 0,Dt=Le?Le.toString:void 0;function nr(N){var q=-1,me=N?N.length:0;for(this.clear();++q<me;){var ze=N[q];this.set(ze[0],ze[1])}}function ir(){this.__data__=Ze?Ze(null):{}}function rn(N){return this.has(N)&&delete this.__data__[N]}function Ar(N){var q=this.__data__;if(Ze){var me=q[N];return me===s?void 0:me}return J.call(q,N)?q[N]:void 0}function Nt(N){var q=this.__data__;return Ze?q[N]!==void 0:J.call(q,N)}function gn(N,q){var me=this.__data__;return me[N]=Ze&&q===void 0?s:q,this}nr.prototype.clear=ir,nr.prototype.delete=rn,nr.prototype.get=Ar,nr.prototype.has=Nt,nr.prototype.set=gn;function Lt(N){var q=-1,me=N?N.length:0;for(this.clear();++q<me;){var ze=N[q];this.set(ze[0],ze[1])}}function vn(){this.__data__=[]}function Yr(N){var q=this.__data__,me=L_(q,N);if(me<0)return!1;var ze=q.length-1;return me==ze?q.pop():vt.call(q,me,1),!0}function Bt(N){var q=this.__data__,me=L_(q,N);return me<0?void 0:q[me][1]}function yr(N){return L_(this.__data__,N)>-1}function Oi(N,q){var me=this.__data__,ze=L_(me,N);return ze<0?me.push([N,q]):me[ze][1]=q,this}Lt.prototype.clear=vn,Lt.prototype.delete=Yr,Lt.prototype.get=Bt,Lt.prototype.has=yr,Lt.prototype.set=Oi;function $t(N){var q=-1,me=N?N.length:0;for(this.clear();++q<me;){var ze=N[q];this.set(ze[0],ze[1])}}function Ii(){this.__data__={hash:new nr,map:new(de||Lt),string:new nr}}function Kl(N){return U_(this,N).delete(N)}function Ts(N){return U_(this,N).get(N)}function $n(N){return U_(this,N).has(N)}function ho(N,q){return U_(this,N).set(N,q),this}$t.prototype.clear=Ii,$t.prototype.delete=Kl,$t.prototype.get=Ts,$t.prototype.has=$n,$t.prototype.set=ho;function Ds(N){var q=-1,me=N?N.length:0;for(this.__data__=new $t;++q<me;)this.add(N[q])}function lf(N){return this.__data__.set(N,s),this}function Are(N){return this.__data__.has(N)}Ds.prototype.add=Ds.prototype.push=lf,Ds.prototype.has=Are;function Ua(N){this.__data__=new Lt(N)}function Tre(){this.__data__=new Lt}function Dre(N){return this.__data__.delete(N)}function Pre(N){return this.__data__.get(N)}function Rre(N){return this.__data__.has(N)}function Ore(N,q){var me=this.__data__;if(me instanceof Lt){var ze=me.__data__;if(!de||ze.length<r-1)return ze.push([N,q]),this;me=this.__data__=new $t(ze)}return me.set(N,q),this}Ua.prototype.clear=Tre,Ua.prototype.delete=Dre,Ua.prototype.get=Pre,Ua.prototype.has=Rre,Ua.prototype.set=Ore;function Ire(N,q){var me=Tc(N)||hk(N)?le(N.length,String):[],ze=me.length,Ot=!!ze;for(var pt in N)(q||J.call(N,pt))&&!(Ot&&(pt=="length"||uk(pt,ze)))&&me.push(pt);return me}function L_(N,q){for(var me=N.length;me--;)if(fk(N[me][0],q))return me;return-1}var Bre=Kre();function Fre(N,q){return N&&Bre(N,q,V_)}function ok(N,q){q=$_(q,N)?[q]:ak(q);for(var me=0,ze=q.length;N!=null&&me<ze;)N=N[j_(q[me++])];return me&&me==ze?N:void 0}function Mre(N){return ie.call(N)}function kre(N,q){return N!=null&&q in Object(N)}function FS(N,q,me,ze,Ot){return N===q?!0:N==null||q==null||!z_(N)&&!G_(q)?N!==N&&q!==q:Nre(N,q,FS,me,ze,Ot)}function Nre(N,q,me,ze,Ot,pt){var tr=Tc(N),hr=Tc(q),Mr=h,Sn=h;tr||(Mr=Xl(N),Mr=Mr==d?v:Mr),hr||(Sn=Xl(q),Sn=Sn==d?v:Sn);var pi=Mr==v&&!ye(N),Bi=Sn==v&&!ye(q),Cn=Mr==Sn;if(Cn&&!pi)return pt||(pt=new Ua),tr||nne(N)?lk(N,q,me,ze,Ot,pt):Xre(N,q,Mr,me,ze,Ot,pt);if(!(Ot&a)){var Ps=pi&&J.call(N,"__wrapped__"),Rs=Bi&&J.call(q,"__wrapped__");if(Ps||Rs){var Yl=Ps?N.value():N,$a=Rs?q.value():q;return pt||(pt=new Ua),me(Yl,$a,ze,Ot,pt)}}return Cn?(pt||(pt=new Ua),Yre(N,q,me,ze,Ot,pt)):!1}function Lre(N,q,me,ze){var Ot=me.length,pt=Ot,tr=!ze;if(N==null)return!pt;for(N=Object(N);Ot--;){var hr=me[Ot];if(tr&&hr[2]?hr[1]!==N[hr[0]]:!(hr[0]in N))return!1}for(;++Ot<pt;){hr=me[Ot];var Mr=hr[0],Sn=N[Mr],pi=hr[1];if(tr&&hr[2]){if(Sn===void 0&&!(Mr in N))return!1}else{var Bi=new Ua;if(ze)var Cn=ze(Sn,pi,Mr,N,q,Bi);if(!(Cn===void 0?FS(pi,Sn,ze,o|a,Bi):Cn))return!1}}return!0}function Ure(N){if(!z_(N)||Qre(N))return!1;var q=mk(N)||ye(N)?ke:Y;return q.test(Ac(N))}function $re(N){return G_(N)&&kS(N.length)&&!!V[ie.call(N)]}function jre(N){return typeof N=="function"?N:N==null?lne:typeof N=="object"?Tc(N)?Vre(N[0],N[1]):Gre(N):une(N)}function zre(N){if(!ene(N))return te(N);var q=[];for(var me in Object(N))J.call(N,me)&&me!="constructor"&&q.push(me);return q}function Gre(N){var q=qre(N);return q.length==1&&q[0][2]?dk(q[0][0],q[0][1]):function(me){return me===N||Lre(me,N,q)}}function Vre(N,q){return $_(N)&&ck(q)?dk(j_(N),q):function(me){var ze=sne(me,N);return ze===void 0&&ze===q?one(me,N):FS(q,ze,void 0,o|a)}}function Hre(N){return function(q){return ok(q,N)}}function Wre(N){if(typeof N=="string")return N;if(NS(N))return Dt?Dt.call(N):"";var q=N+"";return q=="0"&&1/N==-l?"-0":q}function ak(N){return Tc(N)?N:tne(N)}function Kre(N){return function(q,me,ze){for(var Ot=-1,pt=Object(q),tr=ze(q),hr=tr.length;hr--;){var Mr=tr[N?hr:++Ot];if(me(pt[Mr],Mr,pt)===!1)break}return q}}function lk(N,q,me,ze,Ot,pt){var tr=Ot&a,hr=N.length,Mr=q.length;if(hr!=Mr&&!(tr&&Mr>hr))return!1;var Sn=pt.get(N);if(Sn&&pt.get(q))return Sn==q;var pi=-1,Bi=!0,Cn=Ot&o?new Ds:void 0;for(pt.set(N,q),pt.set(q,N);++pi<hr;){var Ps=N[pi],Rs=q[pi];if(ze)var Yl=tr?ze(Rs,Ps,pi,q,N,pt):ze(Ps,Rs,pi,N,q,pt);if(Yl!==void 0){if(Yl)continue;Bi=!1;break}if(Cn){if(!X(q,function($a,Dc){if(!Cn.has(Dc)&&(Ps===$a||me(Ps,$a,ze,Ot,pt)))return Cn.add(Dc)})){Bi=!1;break}}else if(!(Ps===Rs||me(Ps,Rs,ze,Ot,pt))){Bi=!1;break}}return pt.delete(N),pt.delete(q),Bi}function Xre(N,q,me,ze,Ot,pt,tr){switch(me){case T:if(N.byteLength!=q.byteLength||N.byteOffset!=q.byteOffset)return!1;N=N.buffer,q=q.buffer;case C:return!(N.byteLength!=q.byteLength||!ze(new ut(N),new ut(q)));case m:case g:case p:return fk(+N,+q);case y:return N.name==q.name&&N.message==q.message;case w:case S:return N==q+"";case f:var hr=Te;case x:var Mr=pt&a;if(hr||(hr=je),N.size!=q.size&&!Mr)return!1;var Sn=tr.get(N);if(Sn)return Sn==q;pt|=o,tr.set(N,q);var pi=lk(hr(N),hr(q),ze,Ot,pt,tr);return tr.delete(N),pi;case A:if(Qe)return Qe.call(N)==Qe.call(q)}return!1}function Yre(N,q,me,ze,Ot,pt){var tr=Ot&a,hr=V_(N),Mr=hr.length,Sn=V_(q),pi=Sn.length;if(Mr!=pi&&!tr)return!1;for(var Bi=Mr;Bi--;){var Cn=hr[Bi];if(!(tr?Cn in q:J.call(q,Cn)))return!1}var Ps=pt.get(N);if(Ps&&pt.get(q))return Ps==q;var Rs=!0;pt.set(N,q),pt.set(q,N);for(var Yl=tr;++Bi<Mr;){Cn=hr[Bi];var $a=N[Cn],Dc=q[Cn];if(ze)var gk=tr?ze(Dc,$a,Cn,q,N,pt):ze($a,Dc,Cn,N,q,pt);if(!(gk===void 0?$a===Dc||me($a,Dc,ze,Ot,pt):gk)){Rs=!1;break}Yl||(Yl=Cn=="constructor")}if(Rs&&!Yl){var H_=N.constructor,W_=q.constructor;H_!=W_&&"constructor"in N&&"constructor"in q&&!(typeof H_=="function"&&H_ instanceof H_&&typeof W_=="function"&&W_ instanceof W_)&&(Rs=!1)}return pt.delete(N),pt.delete(q),Rs}function U_(N,q){var me=N.__data__;return Jre(q)?me[typeof q=="string"?"string":"hash"]:me.map}function qre(N){for(var q=V_(N),me=q.length;me--;){var ze=q[me],Ot=N[ze];q[me]=[ze,Ot,ck(Ot)]}return q}function uf(N,q){var me=ve(N,q);return Ure(me)?me:void 0}var Xl=Mre;(ae&&Xl(new ae(new ArrayBuffer(1)))!=T||de&&Xl(new de)!=f||Ee&&Xl(Ee.resolve())!=b||Be&&Xl(new Be)!=x||We&&Xl(new We)!=D)&&(Xl=function(N){var q=ie.call(N),me=q==v?N.constructor:void 0,ze=me?Ac(me):void 0;if(ze)switch(ze){case De:return T;case Je:return f;case Fe:return b;case Ce:return x;case Ne:return D}return q});function Zre(N,q,me){q=$_(q,N)?[q]:ak(q);for(var ze,Ot=-1,tr=q.length;++Ot<tr;){var pt=j_(q[Ot]);if(!(ze=N!=null&&me(N,pt)))break;N=N[pt]}if(ze)return ze;var tr=N?N.length:0;return!!tr&&kS(tr)&&uk(pt,tr)&&(Tc(N)||hk(N))}function uk(N,q){return q=q==null?c:q,!!q&&(typeof N=="number"||z.test(N))&&N>-1&&N%1==0&&N<q}function $_(N,q){if(Tc(N))return!1;var me=typeof N;return me=="number"||me=="symbol"||me=="boolean"||N==null||NS(N)?!0:Q.test(N)||!K.test(N)||q!=null&&N in Object(q)}function Jre(N){var q=typeof N;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?N!=="__proto__":N===null}function Qre(N){return!!B&&B in N}function ene(N){var q=N&&N.constructor,me=typeof q=="function"&&q.prototype||Ke;return N===me}function ck(N){return N===N&&!z_(N)}function dk(N,q){return function(me){return me==null?!1:me[N]===q&&(q!==void 0||N in Object(me))}}var tne=MS(function(N){N=ine(N);var q=[];return ue.test(N)&&q.push(""),N.replace(pe,function(me,ze,Ot,pt){q.push(Ot?pt.replace(he,"$1"):ze||me)}),q});function j_(N){if(typeof N=="string"||NS(N))return N;var q=N+"";return q=="0"&&1/N==-l?"-0":q}function Ac(N){if(N!=null){try{return U.call(N)}catch(q){}try{return N+""}catch(q){}}return""}function MS(N,q){if(typeof N!="function"||q&&typeof q!="function")throw new TypeError(n);var me=function(){var ze=arguments,Ot=q?q.apply(this,ze):ze[0],pt=me.cache;if(pt.has(Ot))return pt.get(Ot);var tr=N.apply(this,ze);return me.cache=pt.set(Ot,tr),tr};return me.cache=new(MS.Cache||$t),me}MS.Cache=$t;function fk(N,q){return N===q||N!==N&&q!==q}function hk(N){return rne(N)&&J.call(N,"callee")&&(!Ye.call(N,"callee")||ie.call(N)==d)}var Tc=Array.isArray;function pk(N){return N!=null&&kS(N.length)&&!mk(N)}function rne(N){return G_(N)&&pk(N)}function mk(N){var q=z_(N)?ie.call(N):"";return q==_||q==u}function kS(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=c}function z_(N){var q=typeof N;return!!N&&(q=="object"||q=="function")}function G_(N){return!!N&&typeof N=="object"}function NS(N){return typeof N=="symbol"||G_(N)&&ie.call(N)==A}var nne=xt?Ae(xt):$re;function ine(N){return N==null?"":Wre(N)}function sne(N,q,me){var ze=N==null?void 0:ok(N,q);return ze===void 0?me:ze}function one(N,q){return N!=null&&Zre(N,q,kre)}function V_(N){return pk(N)?Ire(N):zre(N)}function ane(N,q){var me={};return q=jre(q),Fre(N,function(ze,Ot,pt){me[Ot]=q(ze,Ot,pt)}),me}function lne(N){return N}function une(N){return $_(N)?se(j_(N)):Hre(N)}t.exports=ane})(Dx,Dx.exports);Dx.exports;var c5e=Object.defineProperty,d5e=Object.defineProperties,f5e=Object.getOwnPropertyDescriptors,$8=Object.getOwnPropertySymbols,h5e=Object.prototype.hasOwnProperty,p5e=Object.prototype.propertyIsEnumerable,j8=(t,e,r)=>e in t?c5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qs=(t,e)=>{for(var r in e||(e={}))h5e.call(e,r)&&j8(t,r,e[r]);if($8)for(var r of $8(e))p5e.call(e,r)&&j8(t,r,e[r]);return t},Ry=(t,e)=>d5e(t,f5e(e)),m5e=t=>(e,r,n)=>{const s=(o,a)=>e(n_(o),!0,a);return n.setState=s,t(s,r,n)},g5e=(t,e)=>{const r={};return Object.keys(t.getState()).forEach(n=>{r[n]=s=>{if(t.getState()[n]===s)return;const a=n.replace(/^\S/,l=>l.toUpperCase());t.setState(l=>{l[n]=s},"@@".concat(e,"/set").concat(a))}}),r},v5e=t=>{const e={};return Object.keys(t.getState()).forEach(r=>{e[r]=()=>t.getState()[r]}),e},y5e=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=s=>t(o=>o[n],s)}),r},_5e=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=()=>t()[n]}),r};function b5e(t,...e){return e.reduce((r,n)=>n(r),t)}var w5e=(t,e)=>{const r=t(e.set,e.get,e);return Ry(Qs({},e),{set:Qs(Qs({},e.set),r)})},x5e=(t,e)=>{const r=Qs({},e.use),n=Qs({},e.useTracked),s=Qs({},e.get);return Object.keys(t(e.store.getState(),e.get,e)).forEach(o=>{r[o]=(...a)=>e.useStore(l=>{const d=t(l,e.get,e)[o];return d(...a)}),n[o]=(...a)=>{const l=e.useTrackedStore(),d=t(l,e.get,e)[o];return d(...a)},s[o]=(...a)=>{const c=t(e.store.getState(),e.get,e)[o];return c(...a)}}),Ry(Qs({},e),{get:s,use:r,useTracked:n})},TR=t=>Ry(Qs({},t),{extendSelectors:e=>TR(x5e(e,t)),extendActions:e=>TR(w5e(e,t))}),E5e=t=>(e,r={})=>{var n,s;const{middlewares:o=[],devtools:a,persist:l,immer:c}=r;dbe((n=c==null?void 0:c.enabledAutoFreeze)!=null?n:!1),c!=null&&c.enableMapSet&&cbe();const d=[m5e,...o];if(l!=null&&l.enabled){const x=Ry(Qs({},l),{name:(s=l.name)!=null?s:t});d.push(S=>s5e(S,x))}a!=null&&a.enabled&&d.push(x=>e5e(x,Ry(Qs({},a),{name:t}))),d.push(Lz);const m=(x=>b5e(x,...d))(()=>e),g=(x,S)=>u5e(m,x,S),y=g5e(m,t),_=(x,S)=>{m.setState(A=>{Object.assign(A,x)},S||"@@".concat(t,"/mergeState"))},u=(x,S)=>{m.setState(x,S||"@@".concat(t,"/setState"))},f=y5e(g,m),p=v5e(m),v=Z6e(g),b=_5e(v,m),w={get:Qs({state:m.getState},p),name:t,set:Qs({state:u,mergeState:_},y),store:m,use:f,useTracked:b,useStore:g,useTrackedStore:v,extendSelectors:()=>w,extendActions:()=>w};return TR(w)},uee=E5e,S5e=T5e,cee="---",dee="A-Za-z--------",C5e=new RegExp("^[^"+dee+"]*["+cee+"]"),A5e=new RegExp("^[^"+cee+"]*["+dee+"]");function T5e(t){return t=String(t||""),C5e.test(t)?"rtl":A5e.test(t)?"ltr":"neutral"}const fee=qn(S5e);var D5e=Yo,P5e=function(){return D5e.Date.now()},R5e=P5e,O5e=/\s/;function I5e(t){for(var e=t.length;e--&&O5e.test(t.charAt(e)););return e}var B5e=I5e,F5e=B5e,M5e=/^\s+/;function k5e(t){return t&&t.slice(0,F5e(t)+1).replace(M5e,"")}var N5e=k5e,L5e=N5e,z8=Cs,U5e=yS,G8=0/0,$5e=/^[-+]0x[0-9a-f]+$/i,j5e=/^0b[01]+$/i,z5e=/^0o[0-7]+$/i,G5e=parseInt;function V5e(t){if(typeof t=="number")return t;if(U5e(t))return G8;if(z8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=z8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=L5e(t);var r=j5e.test(t);return r||z5e.test(t)?G5e(t.slice(2),r?2:8):$5e.test(t)?G8:+t}var H5e=V5e,W5e=Cs,dT=R5e,V8=H5e,K5e="Expected a function",X5e=Math.max,Y5e=Math.min;function q5e(t,e,r){var n,s,o,a,l,c,d=0,h=!1,m=!1,g=!0;if(typeof t!="function")throw new TypeError(K5e);e=V8(e)||0,W5e(r)&&(h=!!r.leading,m="maxWait"in r,o=m?X5e(V8(r.maxWait)||0,e):o,g="trailing"in r?!!r.trailing:g);function y(S){var A=n,D=s;return n=s=void 0,d=S,a=t.apply(D,A),a}function _(S){return d=S,l=setTimeout(p,e),h?y(S):a}function u(S){var A=S-c,D=S-d,C=e-A;return m?Y5e(C,o-D):C}function f(S){var A=S-c,D=S-d;return c===void 0||A>=e||A<0||m&&D>=o}function p(){var S=dT();if(f(S))return v(S);l=setTimeout(p,u(S))}function v(S){return l=void 0,g&&n?y(S):(n=s=void 0,a)}function b(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?a:v(dT())}function x(){var S=dT(),A=f(S);if(n=arguments,s=this,c=S,A){if(l===void 0)return _(c);if(m)return clearTimeout(l),l=setTimeout(p,e),y(c)}return l===void 0&&(l=setTimeout(p,e)),a}return x.cancel=b,x.flush=w,x}var hee=q5e;const Z5e=qn(hee);var J5e=hee,Q5e=Cs,eze="Expected a function";function tze(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(eze);return Q5e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),J5e(t,e,{leading:n,maxWait:e,trailing:s})}var rze=tze;const nze=qn(rze),H8=t=>typeof t=="object"&&t!=null&&t.nodeType===1,W8=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",fT=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return W8(r.overflowY,e)||W8(r.overflowX,e)||(n=>{const s=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(a){return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(t)}return!1},gb=(t,e,r,n,s,o,a,l)=>o<t&&a>e||o>t&&a<e?0:o<=t&&l<=r||a>=e&&l>=r?o-t-n:a>e&&l<r||o<t&&l>r?a-e+s:0,ize=t=>{const e=t.parentElement;return e==null?t.getRootNode().host||null:e},K8=(t,e)=>{var r,n,s,o;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:c,boundary:d,skipOverflowHiddenElements:h}=e,m=typeof d=="function"?d:P=>P!==d;if(!H8(t))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,y=[];let _=t;for(;H8(_)&&m(_);){if(_=ize(_),_===g){y.push(_);break}_!=null&&_===document.body&&fT(_)&&!fT(document.documentElement)||_!=null&&fT(_,h)&&y.push(_)}const u=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,f=(o=(s=window.visualViewport)==null?void 0:s.height)!=null?o:innerHeight,{scrollX:p,scrollY:v}=window,{height:b,width:w,top:x,right:S,bottom:A,left:D}=t.getBoundingClientRect();let C=l==="start"||l==="nearest"?x:l==="end"?A:x+b/2,T=c==="center"?D+w/2:c==="end"?S:D;const R=[];for(let P=0;P<y.length;P++){const O=y[P],{height:I,width:k,top:W,right:G,bottom:j,left:$}=O.getBoundingClientRect();if(a==="if-needed"&&x>=0&&D>=0&&A<=f&&S<=u&&x>=W&&A<=j&&D>=$&&S<=G)return R;const K=getComputedStyle(O),Q=parseInt(K.borderLeftWidth,10),ue=parseInt(K.borderTopWidth,10),pe=parseInt(K.borderRightWidth,10),oe=parseInt(K.borderBottomWidth,10);let he=0,Y=0;const z="offsetWidth"in O?O.offsetWidth-O.clientWidth-Q-pe:0,V="offsetHeight"in O?O.offsetHeight-O.clientHeight-ue-oe:0,H="offsetWidth"in O?O.offsetWidth===0?0:k/O.offsetWidth:0,re="offsetHeight"in O?O.offsetHeight===0?0:I/O.offsetHeight:0;if(g===O)he=l==="start"?C:l==="end"?C-f:l==="nearest"?gb(v,v+f,f,ue,oe,v+C,v+C+b,b):C-f/2,Y=c==="start"?T:c==="center"?T-u/2:c==="end"?T-u:gb(p,p+u,u,Q,pe,p+T,p+T+w,w),he=Math.max(0,he+v),Y=Math.max(0,Y+p);else{he=l==="start"?C-W-ue:l==="end"?C-j+oe+V:l==="nearest"?gb(W,j,I,ue,oe+V,C,C+b,b):C-(W+I/2)+V/2,Y=c==="start"?T-$-Q:c==="center"?T-($+k/2)+z/2:c==="end"?T-G+pe+z:gb($,G,k,Q,pe+z,T,T+w,w);const{scrollLeft:ne,scrollTop:_e}=O;he=Math.max(0,Math.min(_e+he/re,O.scrollHeight-I/re+V)),Y=Math.max(0,Math.min(ne+Y/H,O.scrollWidth-k/H+z)),C+=_e-he,T+=ne-Y}R.push({el:O,top:he,left:Y})}return R},sze=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function oze(t,e){if(!t.isConnected||!(s=>{let o=s;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const r=(s=>{const o=window.getComputedStyle(s);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(K8(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:o,left:a}of K8(t,sze(e))){const l=o-r.top+r.bottom,c=a-r.left+r.right;s.scroll({top:l,left:c,behavior:n})}}var _d=[],aze=function(){return _d.some(function(t){return t.activeTargets.length>0})},lze=function(){return _d.some(function(t){return t.skippedTargets.length>0})},X8="ResizeObserver loop completed with undelivered notifications.",uze=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:X8}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=X8),window.dispatchEvent(t)},Oy;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Oy||(Oy={}));var bd=function(t){return Object.freeze(t)},cze=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,bd(this)}return t}(),pee=function(){function t(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,bd(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,s=e.top,o=e.right,a=e.bottom,l=e.left,c=e.width,d=e.height;return{x:r,y:n,top:s,right:o,bottom:a,left:l,width:c,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),RM=function(t){return t instanceof SVGElement&&"getBBox"in t},mee=function(t){if(RM(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var s=t,o=s.offsetWidth,a=s.offsetHeight;return!(o||a||t.getClientRects().length)},Y8=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},dze=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},qg=typeof window<"u"?window:{},vb=new WeakMap,q8=/auto|scroll/,fze=/^tb|vertical/,hze=/msie|trident/i.test(qg.navigator&&qg.navigator.userAgent),ta=function(t){return parseFloat(t||"0")},Lh=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new cze((r?e:t)||0,(r?t:e)||0)},Z8=bd({devicePixelContentBoxSize:Lh(),borderBoxSize:Lh(),contentBoxSize:Lh(),contentRect:new pee(0,0,0,0)}),gee=function(t,e){if(e===void 0&&(e=!1),vb.has(t)&&!e)return vb.get(t);if(mee(t))return vb.set(t,Z8),Z8;var r=getComputedStyle(t),n=RM(t)&&t.ownerSVGElement&&t.getBBox(),s=!hze&&r.boxSizing==="border-box",o=fze.test(r.writingMode||""),a=!n&&q8.test(r.overflowY||""),l=!n&&q8.test(r.overflowX||""),c=n?0:ta(r.paddingTop),d=n?0:ta(r.paddingRight),h=n?0:ta(r.paddingBottom),m=n?0:ta(r.paddingLeft),g=n?0:ta(r.borderTopWidth),y=n?0:ta(r.borderRightWidth),_=n?0:ta(r.borderBottomWidth),u=n?0:ta(r.borderLeftWidth),f=m+d,p=c+h,v=u+y,b=g+_,w=l?t.offsetHeight-b-t.clientHeight:0,x=a?t.offsetWidth-v-t.clientWidth:0,S=s?f+v:0,A=s?p+b:0,D=n?n.width:ta(r.width)-S-x,C=n?n.height:ta(r.height)-A-w,T=D+f+x+v,R=C+p+w+b,P=bd({devicePixelContentBoxSize:Lh(Math.round(D*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Lh(T,R,o),contentBoxSize:Lh(D,C,o),contentRect:new pee(m,c,D,C)});return vb.set(t,P),P},vee=function(t,e,r){var n=gee(t,r),s=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Oy.DEVICE_PIXEL_CONTENT_BOX:return a;case Oy.BORDER_BOX:return s;default:return o}},pze=function(){function t(e){var r=gee(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=bd([r.borderBoxSize]),this.contentBoxSize=bd([r.contentBoxSize]),this.devicePixelContentBoxSize=bd([r.devicePixelContentBoxSize])}return t}(),yee=function(t){if(mee(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},mze=function(){var t=1/0,e=[];_d.forEach(function(a){if(a.activeTargets.length!==0){var l=[];a.activeTargets.forEach(function(d){var h=new pze(d.target),m=yee(d.target);l.push(h),d.lastReportedSize=vee(d.target,d.observedBox),m<t&&(t=m)}),e.push(function(){a.callback.call(a.observer,l,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var s=n[r];s()}return t},J8=function(t){_d.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(s){s.isActive()&&(yee(s.target)>t?r.activeTargets.push(s):r.skippedTargets.push(s))})})},gze=function(){var t=0;for(J8(t);aze();)t=mze(),J8(t);return lze()&&uze(),t>0},hT,_ee=[],vze=function(){return _ee.splice(0).forEach(function(t){return t()})},yze=function(t){if(!hT){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return vze()}).observe(r,n),hT=function(){r.textContent="".concat(e?e--:e++)}}_ee.push(t),hT()},_ze=function(t){yze(function(){requestAnimationFrame(t)})},yw=0,bze=function(){return!!yw},wze=250,xze={attributes:!0,characterData:!0,childList:!0,subtree:!0},Q8=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ej=function(t){return t===void 0&&(t=0),Date.now()+t},pT=!1,Eze=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=wze),!pT){pT=!0;var n=ej(e);_ze(function(){var s=!1;try{s=gze()}finally{if(pT=!1,e=n-ej(),!bze())return;s?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,xze)};document.body?r():qg.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Q8.forEach(function(r){return qg.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Q8.forEach(function(r){return qg.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),DR=new Eze,tj=function(t){!yw&&t>0&&DR.start(),yw+=t,!yw&&DR.stop()},Sze=function(t){return!RM(t)&&!dze(t)&&getComputedStyle(t).display==="inline"},Cze=function(){function t(e,r){this.target=e,this.observedBox=r||Oy.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=vee(this.target,this.observedBox,!0);return Sze(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Aze=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),yb=new WeakMap,rj=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},_b=function(){function t(){}return t.connect=function(e,r){var n=new Aze(e,r);yb.set(e,n)},t.observe=function(e,r,n){var s=yb.get(e),o=s.observationTargets.length===0;rj(s.observationTargets,r)<0&&(o&&_d.push(s),s.observationTargets.push(new Cze(r,n&&n.box)),tj(1),DR.schedule())},t.unobserve=function(e,r){var n=yb.get(e),s=rj(n.observationTargets,r),o=n.observationTargets.length===1;s>=0&&(o&&_d.splice(_d.indexOf(n),1),n.observationTargets.splice(s,1),tj(-1))},t.disconnect=function(e){var r=this,n=yb.get(e);n.observationTargets.slice().forEach(function(s){return r.unobserve(e,s.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),Tze=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");_b.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Y8(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");_b.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Y8(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");_b.unobserve(this,e)},t.prototype.disconnect=function(){_b.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function Dze(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function _p(t,e){if(t==null)return{};var r=Dze(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function Pze(t,e){if(Iy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rze(t){var e=Pze(t,"string");return Iy(e)==="symbol"?e:String(e)}function so(t,e,r){return e=Rze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var OM=E.createContext(null),Cc=()=>{var t=E.useContext(OM);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},mT,gT,bee=parseInt(Z.version.split(".")[0],10),Oze=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,nj=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),wi=typeof navigator<"u"&&/Android/.test(navigator.userAgent),fh=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Gc=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Ize=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),wee=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Bze=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Fze=wi&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Mze=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),kze=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Nze=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),_w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((mT=navigator.userAgent.match(/Version\/(\d+)/))!==null&&mT!==void 0&&mT[1]&&parseInt((gT=navigator.userAgent.match(/Version\/(\d+)/))===null||gT===void 0?void 0:gT[1],10)<17);var tu=(!Bze||!Fze)&&!Ize&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",IM=new WeakMap,BM=new WeakMap,xee=new WeakMap,bw=new WeakMap,PR=new WeakMap,By=new WeakMap,wd=new WeakMap,Px=new WeakMap,CS=new WeakMap,RR=new WeakMap,Ru=new WeakMap,td=new WeakMap,Zg=new WeakMap,OR=new WeakMap,FM=new WeakMap,Bo=new WeakMap,ml=new WeakMap,Ni=new WeakMap,fu=new WeakMap,hu=new WeakMap,Eee=new WeakMap,bp=Symbol("placeholder"),See=Symbol("mark-placeholder"),Cee=globalThis.Node,Lze=globalThis.Text,MM=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,Uze=t=>dc(t)&&t.nodeType===8,Ks=t=>dc(t)&&t.nodeType===1,dc=t=>{var e=MM(t);return!!e&&t instanceof e.Node},IR=t=>{var e=t&&t.anchorNode&&MM(t.anchorNode);return!!e&&t instanceof e.Selection},Aee=t=>dc(t)&&t.nodeType===3,$ze=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,jze=t=>{var[e,r]=t;if(Ks(e)&&e.childNodes.length){var n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=Tee(e,s,n?"backward":"forward"),n=s<r;Ks(e)&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=Gze(e,o,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},zze=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Tee=(t,e,r)=>{for(var{childNodes:n}=t,s=n[e],o=e,a=!1,l=!1;(Uze(s)||Ks(s)&&s.childNodes.length===0||Ks(s)&&s.getAttribute("contenteditable")==="false")&&!(a&&l);){if(o>=n.length){a=!0,o=e-1,r="backward";continue}if(o<0){l=!0,o=e+1,r="forward";continue}s=n[o],e=o,o+=r==="forward"?1:-1}return[s,e]},Gze=(t,e,r)=>{var[n]=Tee(t,e,r);return n},Dee=t=>{var e="";if(Aee(t)&&t.nodeValue)return t.nodeValue;if(Ks(t)){for(var r of Array.from(t.childNodes))e+=Dee(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+="\n")}return e},Vze=/data-slate-fragment="(.+?)"/m,Hze=t=>{var e=t.getData("text/html"),[,r]=e.match(Vze)||[];return r},Jg=t=>t.getSelection!=null?t.getSelection():document.getSelection(),kM=(t,e,r)=>{var{target:n}=e;if(Ks(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:s}=ge.getWindow(t);if(s.contains(n))return ge.hasDOMNode(t,n,{editable:!0});var o=r.find(a=>{var{addedNodes:l,removedNodes:c}=a;for(var d of l)if(d===n||d.contains(n))return!0;for(var h of c)if(h===n||h.contains(n))return!0});return!o||o===e?!1:kM(t,o,r)},Wze=()=>{for(var t=document.activeElement;(e=t)!==null&&e!==void 0&&e.shadowRoot&&(r=t.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var e,r,n;t=(n=t)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return t},ij=(t,e)=>!!(t.compareDocumentPosition(e)&Cee.DOCUMENT_POSITION_PRECEDING),Kze=(t,e)=>!!(t.compareDocumentPosition(e)&Cee.DOCUMENT_POSITION_FOLLOWING),Xze=0;class Yze{constructor(){so(this,"id",void 0),this.id="".concat(Xze++)}}var ge={androidPendingDiffs:t=>Ni.get(t),androidScheduleFlush:t=>{var e;(e=FM.get(t))===null||e===void 0||e()},blur:t=>{var e=ge.toDOMNode(t,t),r=ge.findDocumentOrShadowRoot(t);Ru.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=ge.findDocumentOrShadowRoot(t),n=Jg(r);n&&n.rangeCount>0&&n.removeAllRanges(),e&&we.deselect(t)},findDocumentOrShadowRoot:t=>{var e=ge.toDOMNode(t,t),r=e.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:s}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=ge.toSlateNode(t,e.target),a=ge.findPath(t,o);if(ot.isElement(o)&&M.isVoid(t,o)){var l=s.getBoundingClientRect(),c=t.isInline(o)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,d=M.point(t,a,{edge:c?"start":"end"}),h=c?M.before(t,d):M.after(t,d);if(h){var m=M.range(t,h);return m}}var g,{document:y}=ge.getWindow(t);if(y.caretRangeFromPoint)g=y.caretRangeFromPoint(r,n);else{var _=y.caretPositionFromPoint(r,n);_&&(g=y.createRange(),g.setStart(_.offsetNode,_.offset),g.setEnd(_.offsetNode,_.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var u=ge.toSlateRange(t,g,{exactMatch:!1,suppressThrow:!1});return u},findKey:(t,e)=>{var r=Px.get(e);return r||(r=new Yze,Px.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var s=BM.get(n);if(s==null){if(M.isEditor(n))return r;break}var o=IM.get(n);if(o==null)break;r.unshift(o),n=s}throw new Error("Unable to find the path for Slate node: ".concat(Mn.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Ru.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{ge.focus(e,{retries:r.retries-1})},10);return}var n=ge.toDOMNode(e,e),s=ge.findDocumentOrShadowRoot(e);if(s.activeElement!==n){if(e.selection&&s instanceof Document){var o=Jg(s),a=ge.toDOMRange(e,e.selection);o==null||o.removeAllRanges(),o==null||o.addRange(a)}e.selection||we.select(e,M.start(e,[])),Ru.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=xee.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:s=!1}=n,o=ge.toDOMNode(e,e),a;try{a=Ks(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return a?a.closest("[data-slate-editor]")===o&&(!s||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===o||!!a.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>dc(e)&&ge.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return M.hasPath(t,r.path)&&M.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>ge.hasEditableTarget(t,e)||ge.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>dc(e)&&ge.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!td.get(t),isFocused:t=>!!Ru.get(t),isReadOnly:t=>!!RR.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(RR.get(t))return!1;var r=ge.hasTarget(t,e)&&ge.toSlateNode(t,e);return ot.isElement(r)&&M.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=CS.get(t),n=M.isEditor(e)?bw.get(t):r==null?void 0:r.get(ge.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Mn.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=M.node(t,e.path),n=ge.toDOMNode(t,r),s;M.void(t,{at:e})&&(e={path:e.path,offset:0});for(var o="[data-slate-string], [data-slate-zero-width]",a=Array.from(n.querySelectorAll(o)),l=0,c=0;c<a.length;c++){var d=a[c],h=d.childNodes[0];if(!(h==null||h.textContent==null)){var{length:m}=h.textContent,g=d.getAttribute("data-slate-length"),y=g==null?m:parseInt(g,10),_=l+y,u=a[c+1];if(e.offset===_&&u!==null&&u!==void 0&&u.hasAttribute("data-slate-mark-placeholder")){var f,p=u.childNodes[0];s=[p instanceof Lze?p:u,(f=u.textContent)!==null&&f!==void 0&&f.startsWith("\uFEFF")?1:0];break}if(e.offset<=_){var v=Math.min(m,Math.max(0,e.offset-l));s=[h,v];break}l=_}}if(!s)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Mn.stringify(e)));return s},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,s=ce.isBackward(e),o=ge.toDOMPoint(t,r),a=ce.isCollapsed(e)?o:ge.toDOMPoint(t,n),l=ge.getWindow(t),c=l.document.createRange(),[d,h]=s?a:o,[m,g]=s?o:a,y=Ks(d)?d:d.parentElement,_=!!y.getAttribute("data-slate-zero-width"),u=Ks(m)?m:m.parentElement,f=!!u.getAttribute("data-slate-zero-width");return c.setStart(d,_?1:h),c.setEnd(m,f?1:g),c},toSlateNode:(t,e)=>{var r=Ks(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?By.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:s,searchDirection:o="backward"}=r,[a,l]=n?e:jze(e),c=a.parentNode,d=null,h=0;if(c){var m,g,y=ge.toDOMNode(t,t),_=c.closest('[data-slate-void="true"]'),u=_&&y.contains(_)?_:null,f=c.closest('[contenteditable="false"]'),p=f&&y.contains(f)?f:null,v=c.closest("[data-slate-leaf]"),b=null;if(v){if(d=v.closest('[data-slate-node="text"]'),d){var w=ge.getWindow(t),x=w.document.createRange();x.setStart(d,0),x.setEnd(a,l);var S=x.cloneContents(),A=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];A.forEach(pe=>{if(wi&&!n&&pe.hasAttribute("data-slate-zero-width")&&pe.textContent.length>0&&pe.textContext!=="\uFEFF"){pe.textContent.startsWith("\uFEFF")&&(pe.textContent=pe.textContent.slice(1));return}pe.parentNode.removeChild(pe)}),h=S.textContent.length,b=d}}else if(u){for(var D=u.querySelectorAll("[data-slate-leaf]"),C=0;C<D.length;C++){var T=D[C];if(ge.hasDOMNode(t,T)){v=T;break}}v?(d=v.closest('[data-slate-node="text"]'),b=v,h=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(pe=>{h-=pe.textContent.length})):h=1}else if(p){var R=pe=>pe?pe.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],P=p.closest('[data-slate-node="element"]');if(o==="forward"){var O,I=[...R(P),...R(P==null?void 0:P.nextElementSibling)];v=(O=I.find(pe=>Kze(p,pe)))!==null&&O!==void 0?O:null}else{var k,W=[...R(P==null?void 0:P.previousElementSibling),...R(P)];v=(k=W.findLast(pe=>ij(p,pe)))!==null&&k!==void 0?k:null}v&&(d=v.closest('[data-slate-node="text"]'),b=v,o==="forward"?h=0:(h=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(pe=>{h-=pe.textContent.length})))}b&&h===b.textContent.length&&wi&&b.getAttribute("data-slate-zero-width")==="z"&&(m=b.textContent)!==null&&m!==void 0&&m.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||fh&&(g=b.textContent)!==null&&g!==void 0&&g.endsWith("\n\n"))&&h--}if(wi&&!d&&!n){var G=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(G&&ge.hasDOMNode(t,G,{editable:!0})){var j=ge.toSlateNode(t,G),{path:$,offset:K}=M.start(t,ge.findPath(t,j));return G.querySelector("[data-slate-leaf]")||(K=l),{path:$,offset:K}}}if(!d){if(s)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var Q=ge.toSlateNode(t,d),ue=ge.findPath(t,Q);return{path:ue,offset:h}},toSlateRange:(t,e,r)=>{var n,{exactMatch:s,suppressThrow:o}=r,a=IR(e)?e.anchorNode:e.startContainer,l,c,d,h,m;if(a)if(IR(e)){if(fh&&e.rangeCount>1){d=e.focusNode;var g=e.getRangeAt(0),y=e.getRangeAt(e.rangeCount-1);if(d instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement){let S=function(A){return A.childElementCount>0?S(A.children[0]):A};var _=g.startContainer,u=y.startContainer,f=S(_.children[g.startOffset]),p=S(u.children[y.startOffset]);h=0,p.childNodes.length>0?l=p.childNodes[0]:l=p,f.childNodes.length>0?d=f.childNodes[0]:d=f,p instanceof HTMLElement?c=p.innerHTML.length:c=0}else g.startContainer===d?(l=y.endContainer,c=y.endOffset,h=g.startOffset):(l=g.startContainer,c=g.endOffset,h=y.startOffset)}else l=e.anchorNode,c=e.anchorOffset,d=e.focusNode,h=e.focusOffset;wee&&zze(l)||fh?m=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:m=e.isCollapsed}else l=e.startContainer,c=e.startOffset,d=e.endContainer,h=e.endOffset,m=e.collapsed;if(l==null||d==null||c==null||h==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));fh&&(n=d.textContent)!==null&&n!==void 0&&n.endsWith("\n\n")&&h===d.textContent.length&&h--;var v=ge.toSlatePoint(t,[l,c],{exactMatch:s,suppressThrow:o});if(!v)return null;var b=ij(l,d)||l===d&&h<c,w=m?v:ge.toSlatePoint(t,[d,h],{exactMatch:s,suppressThrow:o,searchDirection:b?"forward":"backward"});if(!w)return null;var x={anchor:v,focus:w};return ce.isExpanded(x)&&ce.isForward(x)&&Ks(d)&&M.void(t,{at:x.focus,mode:"highest"})&&(x=M.unhangRange(t,x,{voids:!0})),x}};function qze(t,e){var{path:r,diff:n}=e;if(!M.hasPath(t,r))return!1;var s=Me.get(t,r);if(!rt.isText(s))return!1;if(n.start!==s.text.length||n.text.length===0)return s.text.slice(n.start,n.start+n.text.length)===n.text;var o=ee.next(r);if(!M.hasPath(t,o))return!1;var a=Me.get(t,o);return rt.isText(a)&&a.text.startsWith(n.text)}function Pee(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((s,o)=>s.slice(0,o.start)+o.text+s.slice(o.end),t)}function Zze(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function Jze(t,e,r){for(var n=Math.min(t.length,e.length,r),s=0;s<n;s++)if(t.charAt(t.length-s-1)!==e.charAt(e.length-s-1))return s;return n}function Ree(t,e){var{start:r,end:n,text:s}=e,o=t.slice(r,n),a=Zze(o,s),l=Math.min(o.length-a,s.length-a),c=Jze(o,s,l),d={start:r+a,end:n-c,text:s.slice(a,s.length-c)};return d.start===d.end&&d.text.length===0?null:d}function Qze(t,e,r){var n=Math.min(e.start,r.start),s=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),o=Pee(t,e,r),a=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-s),l=o.slice(n,a),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return Ree(t,{start:n,end:c,text:l})}function e7e(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function BR(t,e){var{path:r,offset:n}=e;if(!M.hasPath(t,r))return null;var s=Me.get(t,r);if(!rt.isText(s))return null;var o=M.above(t,{match:l=>ot.isElement(l)&&M.isBlock(t,l),at:r});if(!o)return null;for(;n>s.text.length;){var a=M.next(t,{at:r,match:rt.isText});if(!a||!ee.isDescendant(a[1],o[1]))return null;n-=s.text.length,s=a[0],r=a[1]}return{path:r,offset:n}}function sj(t,e){var r=BR(t,e.anchor);if(!r)return null;if(ce.isCollapsed(e))return{anchor:r,focus:r};var n=BR(t,e.focus);return n?{anchor:r,focus:n}:null}function FR(t,e,r){var n=Ni.get(t),s=n==null?void 0:n.find(h=>{var{path:m}=h;return ee.equals(m,e.path)});if(!s||e.offset<=s.diff.start)return Ut.transform(e,r,{affinity:"backward"});var{diff:o}=s;if(e.offset<=o.start+o.text.length){var a={path:e.path,offset:o.start},l=Ut.transform(a,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-o.start}:null}var c={path:e.path,offset:e.offset-o.text.length+o.end-o.start},d=Ut.transform(c,r,{affinity:"backward"});return d?r.type==="split_node"&&ee.equals(r.path,e.path)&&c.offset<r.position&&o.start<r.position?d:{path:d.path,offset:d.offset+o.text.length-o.end+o.start}:null}function oj(t,e,r){var n=FR(t,e.anchor,r);if(!n)return null;if(ce.isCollapsed(e))return{anchor:n,focus:n};var s=FR(t,e.focus,r);return s?{anchor:n,focus:s}:null}function t7e(t,e){var{path:r,diff:n,id:s}=t;switch(e.type){case"insert_text":return!ee.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:s,path:r};case"remove_text":return!ee.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:s,path:r};case"split_node":return!ee.equals(e.path,r)||e.position>=n.end?{diff:n,id:s,path:ee.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:s,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:s,path:ee.transform(r,e,{affinity:"forward"})};case"merge_node":return ee.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:s,path:ee.transform(r,e)}:{diff:n,id:s,path:ee.transform(r,e)}}var o=ee.transform(r,e);return o?{diff:n,path:o,id:s}:null}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var r7e=25,n7e=200,i7e=function(){},s7e=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function o7e(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,s=!1,o=null,a=null,l=null,c=0,d=!1,h=()=>{var P=hu.get(e);if(hu.delete(e),P){var{selection:O}=e,I=sj(e,P);I&&(!O||!ce.equals(I,O))&&we.select(e,I)}},m=()=>{var P=fu.get(e);if(fu.delete(e),!!P){if(P.at){var O=Ut.isPoint(P.at)?BR(e,P.at):sj(e,P.at);if(!O)return;var I=M.range(e,O);(!e.selection||!ce.equals(e.selection,I))&&we.select(e,O)}P.run()}},g=()=>{if(a&&(clearTimeout(a),a=null),l&&(clearTimeout(l),l=null),!w()&&!b()){h();return}s||(s=!0,setTimeout(()=>s=!1)),b()&&(s="action");var P=e.selection&&M.rangeRef(e,e.selection,{affinity:"forward"});ml.set(e,e.marks),i7e("flush",fu.get(e),Ni.get(e));for(var O=w(),I;I=(k=Ni.get(e))===null||k===void 0?void 0:k[0];){var k,W,G=Bo.get(e);G!==void 0&&(Bo.delete(e),e.marks=G),G&&d===!1&&(d=null);var j=e7e(I);(!e.selection||!ce.equals(e.selection,j))&&we.select(e,j),I.diff.text?M.insertText(e,I.diff.text):M.deleteFragment(e),Ni.set(e,(W=Ni.get(e))===null||W===void 0?void 0:W.filter(Q=>{var{id:ue}=Q;return ue!==I.id})),qze(e,I)||(O=!1,fu.delete(e),ml.delete(e),s="action",hu.delete(e),r.cancel(),n.cancel(),P==null||P.unref())}var $=P==null?void 0:P.unref();if($&&!hu.get(e)&&(!e.selection||!ce.equals($,e.selection))&&we.select(e,$),b()){m();return}O&&r(),r.flush(),n.flush(),h();var K=ml.get(e);ml.delete(e),K!==void 0&&(e.marks=K,e.onChange())},y=P=>{o&&clearTimeout(o),o=setTimeout(()=>{td.set(e,!1),g()},r7e)},_=P=>{td.set(e,!0),o&&(clearTimeout(o),o=null)},u=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=PR.get(e);if(I){if(w()||O){I.style.display="none";return}I.style.removeProperty("display")}},f=(P,O)=>{var I,k=(I=Ni.get(e))!==null&&I!==void 0?I:[];Ni.set(e,k);var W=Me.leaf(e,P),G=k.findIndex(K=>ee.equals(K.path,P));if(G<0){var j=Ree(W.text,O);j&&k.push({path:P,diff:O,id:c++}),u();return}var $=Qze(W.text,k[G].diff,O);if(!$){k.splice(G,1),u();return}k[G]=bb(bb({},k[G]),{},{diff:$})},p=function(O){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,hu.delete(e),r.cancel(),n.cancel(),b()&&g(),fu.set(e,{at:I,run:O}),l=setTimeout(g)},v=P=>{var O;a&&(clearTimeout(a),a=null);var{inputType:I}=P,k=null,W=P.dataTransfer||P.data||void 0;d!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(d=!1);var[G]=P.getTargetRanges();G&&(k=ge.toSlateRange(e,G,{exactMatch:!1,suppressThrow:!0}));var j=ge.getWindow(e),$=j.getSelection();if(!k&&$&&(G=$,k=ge.toSlateRange(e,$,{exactMatch:!1,suppressThrow:!0})),k=(O=k)!==null&&O!==void 0?O:e.selection,!!k){var K=!0;if(I.startsWith("delete")){if(ce.isExpanded(k)){var[Q,ue]=ce.edges(k),pe=Me.leaf(e,Q.path);if(pe.text.length===Q.offset&&ue.offset===0){var oe=M.next(e,{at:Q.path,match:rt.isText});oe&&ee.equals(oe[1],ue.path)&&(k={anchor:ue,focus:ue})}}var he=I.endsWith("Backward")?"backward":"forward",[Y,z]=ce.edges(k),[V,H]=M.leaf(e,Y.path),re={text:"",start:Y.offset,end:z.offset},ne=Ni.get(e),_e=ne==null?void 0:ne.find(Et=>ee.equals(Et.path,H)),be=_e?[_e.diff,re]:[re],xe=Pee(V.text,...be);if(xe.length===0&&(K=!1),ce.isExpanded(k)){if(K&&ee.equals(k.anchor.path,k.focus.path)){var Se={path:k.anchor.path,offset:Y.offset},dt=M.range(e,Se,Se);return A(dt),f(k.anchor.path,{text:"",end:z.offset,start:Y.offset})}return p(()=>M.deleteFragment(e,{direction:he}),{at:k})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>M.deleteFragment(e),{at:k});case"deleteContent":case"deleteContentForward":{var{anchor:xt}=k;if(K&&ce.isCollapsed(k)){var X=Me.leaf(e,xt.path);if(xt.offset<X.text.length)return f(xt.path,{text:"",start:xt.offset,end:xt.offset+1})}return p(()=>M.deleteForward(e),{at:k})}case"deleteContentBackward":{var se,{anchor:le}=k,Ae=IR(G)?G.isCollapsed:!!((se=G)!==null&&se!==void 0&&se.collapsed);return K&&Ae&&ce.isCollapsed(k)&&le.offset>0?f(le.path,{text:"",start:le.offset-1,end:le.offset}):p(()=>M.deleteBackward(e),{at:k})}case"deleteEntireSoftLine":return p(()=>{M.deleteBackward(e,{unit:"line"}),M.deleteForward(e,{unit:"line"})},{at:k});case"deleteHardLineBackward":return p(()=>M.deleteBackward(e,{unit:"block"}),{at:k});case"deleteSoftLineBackward":return p(()=>M.deleteBackward(e,{unit:"line"}),{at:k});case"deleteHardLineForward":return p(()=>M.deleteForward(e,{unit:"block"}),{at:k});case"deleteSoftLineForward":return p(()=>M.deleteForward(e,{unit:"line"}),{at:k});case"deleteWordBackward":return p(()=>M.deleteBackward(e,{unit:"word"}),{at:k});case"deleteWordForward":return p(()=>M.deleteForward(e,{unit:"word"}),{at:k});case"insertLineBreak":return p(()=>M.insertSoftBreak(e),{at:k});case"insertParagraph":return p(()=>M.insertBreak(e),{at:k});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(s7e(W))return p(()=>ge.insertData(e,W),{at:k});var ve=W!=null?W:"";if(Bo.get(e)&&(ve=ve.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(ve)&&(ve=ve.slice(0,-1)),ve.includes("\n"))return p(()=>{var Et=ve.split("\n");Et.forEach((Ke,L)=>{Ke&&M.insertText(e,Ke),L!==Et.length-1&&M.insertSoftBreak(e)})},{at:k});if(ee.equals(k.anchor.path,k.focus.path)){var[ye,Te]=ce.edges(k),Re={start:ye.offset,end:Te.offset,text:ve};if(ve&&d&&I==="insertCompositionText"){var je=d.start+d.text.search(/\S|$/),ft=Re.start+Re.text.search(/\S|$/);ft===je+1&&Re.end===d.start+d.text.length?(Re.start-=1,d=null,T()):d=!1}else I==="insertText"?d===null?d=Re:d&&ce.isCollapsed(k)&&d.end+d.text.length===ye.offset?d=bb(bb({},d),{},{text:d.text+ve}):d=!1:d=!1;if(K){f(ye.path,Re);return}}return p(()=>M.insertText(e,ve),{at:k})}}}},b=()=>!!fu.get(e),w=()=>{var P;return!!((P=Ni.get(e))!==null&&P!==void 0&&P.length)},x=()=>b()||w(),S=()=>s,A=P=>{hu.set(e,P),a&&(clearTimeout(a),a=null);var{selection:O}=e;if(P){var I=!O||!ee.equals(O.anchor.path,P.anchor.path),k=!O||!ee.equals(O.anchor.path.slice(0,-1),P.anchor.path.slice(0,-1));(I&&d||k)&&(d=!1),(I||w())&&(a=setTimeout(g,n7e))}},D=()=>{(b()||!w())&&g()},C=P=>{w()||(u(!0),setTimeout(u))},T=()=>{b()||(l=setTimeout(g))},R=P=>{if(!(w()||b())&&P.some(I=>kM(e,I,P))){var O;(O=Eee.get(e))===null||O===void 0||O()}};return{flush:g,scheduleFlush:T,hasPendingDiffs:w,hasPendingAction:b,hasPendingChanges:x,isFlushing:S,handleUserSelect:A,handleCompositionEnd:y,handleCompositionStart:_,handleDOMBeforeInput:v,handleKeyDown:C,handleDomMutations:R,handleInput:D}}function a7e(){var t=E.useRef(!1);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var Fy=_w?E.useLayoutEffect:E.useEffect;function l7e(t,e,r){var[n]=E.useState(()=>new MutationObserver(e));Fy(()=>{n.takeRecords()}),E.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var u7e=["node"];function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function c7e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var d7e={subtree:!0,childList:!0,characterData:!0},f7e=wi?t=>{var{node:e}=t,r=_p(t,u7e);if(!wi)return null;var n=Cc(),s=a7e(),[o]=E.useState(()=>o7e(c7e({editor:n},r)));return l7e(e,o.handleDomMutations,d7e),FM.set(n,o.scheduleFlush),s&&o.flush(),o}:()=>null,h7e=["anchor","focus"],p7e=["anchor","focus"],m7e=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),Oee=(t,e)=>{var r=_p(t,h7e),n=_p(e,p7e);return t[bp]===e[bp]&&m7e(r,n)},g7e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(!ce.equals(n,s)||!Oee(n,s))return!1}return!0},v7e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(n.anchor.offset!==s.anchor.offset||n.focus.offset!==s.focus.offset||!Oee(n,s))return!1}return!0};function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y7e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _7e=t=>{var{isLast:e,leaf:r,parent:n,text:s}=t,o=Cc(),a=ge.findPath(o,s),l=ee.parent(a),c=!!r[See];return o.isVoid(n)?Z.createElement(vT,{length:Me.string(n).length}):r.text===""&&n.children[n.children.length-1]===s&&!o.isInline(n)&&M.string(o,l)===""?Z.createElement(vT,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?Z.createElement(vT,{isMarkPlaceholder:c}):e&&r.text.slice(-1)==="\n"?Z.createElement(cj,{isTrailing:!0,text:r.text}):Z.createElement(cj,{text:r.text})},cj=t=>{var{text:e,isTrailing:r=!1}=t,n=E.useRef(null),s=()=>"".concat(e!=null?e:"").concat(r?"\n":""),[o]=E.useState(s);return Fy(()=>{var a=s();n.current&&n.current.textContent!==a&&(n.current.textContent=a)}),Z.createElement(b7e,{ref:n},o)},b7e=E.memo(E.forwardRef((t,e)=>Z.createElement("span",{"data-slate-string":!0,ref:e},t.children))),vT=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,s={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(s["data-slate-mark-placeholder"]=!0),Z.createElement("span",y7e({},s),!wi||!r?"\uFEFF":null,r?Z.createElement("br",null):null)};function dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Iee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var w7e=wi?300:0;function x7e(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function fj(t){t.current&&(clearTimeout(t.current),t.current=null)}var E7e=t=>{var{leaf:e,isLast:r,text:n,parent:s,renderPlaceholder:o,renderLeaf:a=v=>Z.createElement(C7e,Iee({},v))}=t,l=Cc(),c=E.useRef(null),d=E.useRef(null),[h,m]=E.useState(!1),g=E.useRef(null),y=E.useCallback(v=>{if(x7e(c,v==null),v==null){var b;PR.delete(l),(b=e.onPlaceholderResize)===null||b===void 0||b.call(e,null)}else{if(PR.set(l,v),!c.current){var w=window.ResizeObserver||Tze;c.current=new w(()=>{var x;(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,v)})}c.current.observe(v),d.current=v}},[d,e,l]),_=Z.createElement(_7e,{isLast:r,leaf:e,parent:s,text:n}),u=!!e[bp];if(E.useEffect(()=>(u?g.current||(g.current=setTimeout(()=>{m(!0),g.current=null},w7e)):(fj(g),m(!1)),()=>fj(g)),[u,m]),u&&h){var f={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Gc?"inherit":void 0},contentEditable:!1,ref:y}};_=Z.createElement(Z.Fragment,null,o(f),_)}var p={"data-slate-leaf":!0};return a({attributes:p,children:_,leaf:e,text:n})},S7e=Z.memo(E7e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&rt.equals(e.leaf,t.leaf)&&e.leaf[bp]===t.leaf[bp]),C7e=t=>{var{attributes:e,children:r}=t;return Z.createElement("span",Iee({},e),r)},A7e=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:s,renderLeaf:o,text:a}=t,l=Cc(),c=E.useRef(null),d=rt.decorations(a,e),h=ge.findKey(l,a),m=[],g=0;g<d.length;g++){var y=d[g];m.push(Z.createElement(S7e,{isLast:r&&g===d.length-1,key:"".concat(h.id,"-").concat(g),renderPlaceholder:s,leaf:y,text:a,parent:n,renderLeaf:o}))}var _=E.useCallback(u=>{var f=CS.get(l);u?(f==null||f.set(h,u),wd.set(a,u),By.set(u,a)):(f==null||f.delete(h),wd.delete(a),c.current&&By.delete(c.current)),c.current=u},[c,l,h,a]);return Z.createElement("span",{"data-slate-node":"text",ref:_},m)},Bee=Z.memo(A7e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&v7e(e.decorations,t.decorations));function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var T7e=t=>{var{decorations:e,element:r,renderElement:n=v=>Z.createElement(NM,MR({},v)),renderPlaceholder:s,renderLeaf:o,selection:a}=t,l=Cc(),c=R7e(),d=l.isInline(r),h=ge.findKey(l,r),m=E.useCallback(v=>{var b=CS.get(l);v?(b==null||b.set(h,v),wd.set(r,v),By.set(v,r)):(b==null||b.delete(h),wd.delete(r))},[l,h,r]),g=kee({decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:a}),y={"data-slate-node":"element",ref:m};if(d&&(y["data-slate-inline"]=!0),!d&&M.hasInlines(l,r)){var _=Me.string(r),u=fee(_);u==="rtl"&&(y.dir=u)}if(M.isVoid(l,r)){y["data-slate-void"]=!0,!c&&d&&(y.contentEditable=!1);var f=d?"span":"div",[[p]]=Me.texts(r);g=Z.createElement(f,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Z.createElement(Bee,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:p})),IM.set(p,0),BM.set(p,r)}return n({attributes:y,children:g,element:r})},D7e=Z.memo(T7e,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&g7e(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&ce.equals(t.selection,e.selection))),NM=t=>{var{attributes:e,children:r,element:n}=t,s=Cc(),o=s.isInline(n)?"span":"div";return Z.createElement(o,MR(MR({},e),{},{style:{position:"relative"}}),r)},Fee=E.createContext(()=>[]),P7e=()=>E.useContext(Fee),Mee=E.createContext(!1),KJe=()=>E.useContext(Mee),kee=t=>{for(var{decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:a}=t,l=P7e(),c=Cc(),d=ge.findPath(c,r),h=[],m=ot.isElement(r)&&!c.isInline(r)&&M.hasInlines(c,r),g=0;g<r.children.length;g++){var y=d.concat(g),_=r.children[g],u=ge.findKey(c,_),f=M.range(c,y),p=a&&ce.intersection(f,a),v=l([_,y]);for(var b of e){var w=ce.intersection(b,f);w&&v.push(w)}ot.isElement(_)?h.push(Z.createElement(Mee.Provider,{key:"provider-".concat(u.id),value:!!p},Z.createElement(D7e,{decorations:v,element:_,key:u.id,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:p}))):h.push(Z.createElement(Bee,{decorations:v,key:u.id,isLast:m&&g===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:o,text:_})),IM.set(_,g),BM.set(_,r)}return h},Nee=E.createContext(!1),R7e=()=>E.useContext(Nee),Lee=E.createContext(null),Uee=()=>{var t=E.useContext(Lee);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function O7e(){var t=Cc(),e=E.useRef(!1),r=E.useRef(0),n=E.useCallback(()=>{if(!e.current){e.current=!0;var s=ge.getWindow(t);s.cancelAnimationFrame(r.current),r.current=s.requestAnimationFrame(()=>{e.current=!1})}},[t]);return E.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var I7e=3,B7e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},F7e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},M7e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Dr=t=>{var e=B7e[t],r=F7e[t],n=M7e[t],s=e&&aT(e),o=r&&aT(r),a=n&&aT(n);return l=>!!(s&&s(l)||nj&&o&&o(l)||!nj&&a&&a(l))},Nr={isBold:Dr("bold"),isCompose:Dr("compose"),isMoveBackward:Dr("moveBackward"),isMoveForward:Dr("moveForward"),isDeleteBackward:Dr("deleteBackward"),isDeleteForward:Dr("deleteForward"),isDeleteLineBackward:Dr("deleteLineBackward"),isDeleteLineForward:Dr("deleteLineForward"),isDeleteWordBackward:Dr("deleteWordBackward"),isDeleteWordForward:Dr("deleteWordForward"),isExtendBackward:Dr("extendBackward"),isExtendForward:Dr("extendForward"),isExtendLineBackward:Dr("extendLineBackward"),isExtendLineForward:Dr("extendLineForward"),isItalic:Dr("italic"),isMoveLineBackward:Dr("moveLineBackward"),isMoveLineForward:Dr("moveLineForward"),isMoveWordBackward:Dr("moveWordBackward"),isMoveWordForward:Dr("moveWordForward"),isRedo:Dr("redo"),isSoftBreak:Dr("insertSoftBreak"),isSplitBlock:Dr("splitBlock"),isTransposeCharacter:Dr("transposeCharacter"),isUndo:Dr("undo")},k7e=(t,e)=>{var r=[],n=()=>{r=[]},s=a=>{if(e.current){var l=a.filter(c=>kM(t,c,a));r.push(...l)}};function o(){r.length>0&&(r.reverse().forEach(a=>{a.type!=="characterData"&&(a.removedNodes.forEach(l=>{a.target.insertBefore(l,a.nextSibling)}),a.addedNodes.forEach(l=>{a.target.removeChild(l)}))}),n())}return{registerMutations:s,restoreDOM:o,clear:n}},N7e={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class $ee extends E.Component{constructor(){super(...arguments),so(this,"context",null),so(this,"manager",null),so(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,N7e)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=k7e(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,s=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(s!=null&&s.length){var o;(o=this.manager)===null||o===void 0||o.registerMutations(s)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}so($ee,"contextType",OM);var L7e=wi?$ee:t=>{var{children:e}=t;return Z.createElement(Z.Fragment,null,e)},U7e=E.createContext(!1),$7e=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],j7e=["text"];function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var z7e=t=>Z.createElement(Z.Fragment,null,kee(t)),G7e=E.forwardRef((t,e)=>{var r=E.useCallback(Y=>Z.createElement(V7e,sa({},Y)),[]),{autoFocus:n,decorate:s=H7e,onDOMBeforeInput:o,placeholder:a,readOnly:l=!1,renderElement:c,renderLeaf:d,renderPlaceholder:h=r,scrollSelectionIntoView:m=W7e,style:g={},as:y="div",disableDefaultStyles:_=!1}=t,u=_p(t,$7e),f=Uee(),[p,v]=E.useState(!1),b=E.useRef(null),w=E.useRef([]),[x,S]=E.useState(),A=E.useRef(!1),{onUserInput:D,receivedUserInput:C}=O7e(),[,T]=E.useReducer(Y=>Y+1,0);Eee.set(f,T),RR.set(f,l);var R=E.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);E.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var P=E.useRef(),O=E.useMemo(()=>nze(()=>{var Y=ge.toDOMNode(f,f),z=Y.getRootNode();if(!A.current&&Gc&&z instanceof ShadowRoot){A.current=!0;var V=Wze();V?document.execCommand("indent"):we.deselect(f),A.current=!1;return}var H=P.current;if((wi||!ge.isComposing(f))&&(!R.isUpdatingSelection||H!=null&&H.isFlushing())&&!R.isDraggingInternally){var re=ge.findDocumentOrShadowRoot(f),{activeElement:ne}=re,_e=ge.toDOMNode(f,f),be=Jg(re);if(ne===_e?(R.latestElement=ne,Ru.set(f,!0)):Ru.delete(f),!be)return we.deselect(f);var{anchorNode:xe,focusNode:Se}=be,dt=ge.hasEditableTarget(f,xe)||ge.isTargetInsideNonReadonlyVoid(f,xe),xt=ge.hasTarget(f,Se);if(dt&&xt){var X=ge.toSlateRange(f,be,{exactMatch:!1,suppressThrow:!0});X&&(!ge.isComposing(f)&&!(H!=null&&H.hasPendingChanges())&&!(H!=null&&H.isFlushing())?we.select(f,X):H==null||H.handleUserSelect(X))}l&&(!dt||!xt)&&we.deselect(f)}},100),[f,l,R]),I=E.useMemo(()=>Z5e(O,0),[O]);P.current=f7e({node:b,onDOMSelectionChange:O,scheduleOnDOMSelectionChange:I}),Fy(()=>{var Y,z,V;b.current&&(V=MM(b.current))?(xee.set(f,V),bw.set(f,b.current),wd.set(f,b.current),By.set(b.current,f)):wd.delete(f);var{selection:H}=f,re=ge.findDocumentOrShadowRoot(f),ne=Jg(re);if(!(!ne||!ge.isFocused(f)||(Y=P.current)!==null&&Y!==void 0&&Y.hasPendingAction())){var _e=dt=>{var xt=ne.type!=="None";if(!(!H&&!xt)){var X=ne.focusNode,se;if(fh&&ne.rangeCount>1){var le=ne.getRangeAt(0),Ae=ne.getRangeAt(ne.rangeCount-1);le.startContainer===X?se=Ae.endContainer:se=le.startContainer}else se=ne.anchorNode;var ve=bw.get(f),ye=!1;if(ve.contains(se)&&ve.contains(X)&&(ye=!0),xt&&ye&&H&&!dt){var Te=ge.toSlateRange(f,ne,{exactMatch:!0,suppressThrow:!0});if(Te&&ce.equals(Te,H)){var Re;if(!R.hasMarkPlaceholder||(Re=se)!==null&&Re!==void 0&&(Re=Re.parentElement)!==null&&Re!==void 0&&Re.hasAttribute("data-slate-mark-placeholder"))return}}if(H&&!ge.hasRange(f,H)){f.selection=ge.toSlateRange(f,ne,{exactMatch:!1,suppressThrow:!0});return}R.isUpdatingSelection=!0;var je=H&&ge.toDOMRange(f,H);return je?(ge.isComposing(f)&&!wi?ne.collapseToEnd():ce.isBackward(H)?ne.setBaseAndExtent(je.endContainer,je.endOffset,je.startContainer,je.startOffset):ne.setBaseAndExtent(je.startContainer,je.startOffset,je.endContainer,je.endOffset),m(f,je)):ne.removeAllRanges(),je}};ne.rangeCount<=1&&_e();var be=((z=P.current)===null||z===void 0?void 0:z.isFlushing())==="action";if(!wi||!be){setTimeout(()=>{R.isUpdatingSelection=!1});return}var xe=null,Se=requestAnimationFrame(()=>{if(be){var dt=xt=>{try{var X=ge.toDOMNode(f,f);X.focus(),_e(xt)}catch(se){}};dt(),xe=setTimeout(()=>{dt(!0),R.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Se),xe&&clearTimeout(xe)}}});var k=E.useCallback(Y=>{var z=ge.toDOMNode(f,f),V=z.getRootNode();if(A!=null&&A.current&&Gc&&V instanceof ShadowRoot){var H=Y.getTargetRanges(),re=H[0],ne=new window.Range;ne.setStart(re.startContainer,re.startOffset),ne.setEnd(re.endContainer,re.endOffset);var _e=ge.toSlateRange(f,ne,{exactMatch:!1,suppressThrow:!1});we.select(f,_e),Y.preventDefault(),Y.stopImmediatePropagation();return}if(D(),!l&&ge.hasEditableTarget(f,Y.target)&&!K7e(Y,o)){var be;if(P.current)return P.current.handleDOMBeforeInput(Y);I.flush(),O.flush();var{selection:xe}=f,{inputType:Se}=Y,dt=Y.dataTransfer||Y.data||void 0,xt=Se==="insertCompositionText"||Se==="deleteCompositionText";if(xt&&ge.isComposing(f))return;var X=!1;if(Se==="insertText"&&xe&&ce.isCollapsed(xe)&&Y.data&&Y.data.length===1&&/[a-z ]/i.test(Y.data)&&xe.anchor.offset!==0){var se,le;X=!0,f.marks&&(X=!1);var{anchor:Ae}=xe,[ve,ye]=ge.toDOMPoint(f,Ae),Te=(se=ve.parentElement)===null||se===void 0?void 0:se.closest("a"),Re=ge.getWindow(f);if(X&&Te&&ge.hasDOMNode(f,Te)){var je,ft=Re==null?void 0:Re.document.createTreeWalker(Te,NodeFilter.SHOW_TEXT).lastChild();ft===ve&&((je=ft.textContent)===null||je===void 0?void 0:je.length)===ye&&(X=!1)}if(X&&ve.parentElement&&(Re==null||(le=Re.getComputedStyle(ve.parentElement))===null||le===void 0?void 0:le.whiteSpace)==="pre"){var Et=M.above(f,{at:Ae.path,match:ie=>ot.isElement(ie)&&M.isBlock(f,ie)});Et&&Me.string(Et[0]).includes("	")&&(X=!1)}}if(!Se.startsWith("delete")||Se.startsWith("deleteBy")){var[Ke]=Y.getTargetRanges();if(Ke){var L=ge.toSlateRange(f,Ke,{exactMatch:!1,suppressThrow:!1});if(!xe||!ce.equals(xe,L)){X=!1;var B=!xt&&f.selection&&M.rangeRef(f,f.selection);we.select(f,L),B&&Zg.set(f,B)}}}if(xt)return;if(X||Y.preventDefault(),xe&&ce.isExpanded(xe)&&Se.startsWith("delete")){var U=Se.endsWith("Backward")?"backward":"forward";M.deleteFragment(f,{direction:U});return}switch(Se){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{M.deleteFragment(f);break}case"deleteContent":case"deleteContentForward":{M.deleteForward(f);break}case"deleteContentBackward":{M.deleteBackward(f);break}case"deleteEntireSoftLine":{M.deleteBackward(f,{unit:"line"}),M.deleteForward(f,{unit:"line"});break}case"deleteHardLineBackward":{M.deleteBackward(f,{unit:"block"});break}case"deleteSoftLineBackward":{M.deleteBackward(f,{unit:"line"});break}case"deleteHardLineForward":{M.deleteForward(f,{unit:"block"});break}case"deleteSoftLineForward":{M.deleteForward(f,{unit:"line"});break}case"deleteWordBackward":{M.deleteBackward(f,{unit:"word"});break}case"deleteWordForward":{M.deleteForward(f,{unit:"word"});break}case"insertLineBreak":M.insertSoftBreak(f);break;case"insertParagraph":{M.insertBreak(f);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Se==="insertFromComposition"&&ge.isComposing(f)&&(v(!1),td.set(f,!1)),(dt==null?void 0:dt.constructor.name)==="DataTransfer"?ge.insertData(f,dt):typeof dt=="string"&&(X?w.current.push(()=>M.insertText(f,dt)):M.insertText(f,dt));break}}var J=(be=Zg.get(f))===null||be===void 0?void 0:be.unref();Zg.delete(f),J&&(!f.selection||!ce.equals(f.selection,J))&&we.select(f,J)}},[f,O,D,o,l,I]),W=E.useCallback(Y=>{Y==null?(O.cancel(),I.cancel(),bw.delete(f),wd.delete(f),b.current&&tu&&b.current.removeEventListener("beforeinput",k)):tu&&Y.addEventListener("beforeinput",k),b.current=Y,typeof e=="function"?e(Y):e&&(e.current=Y)},[O,I,f,k,e]);Fy(()=>{var Y=ge.getWindow(f);Y.document.addEventListener("selectionchange",I);var z=()=>{R.isDraggingInternally=!1};return Y.document.addEventListener("dragend",z),Y.document.addEventListener("drop",z),()=>{Y.document.removeEventListener("selectionchange",I),Y.document.removeEventListener("dragend",z),Y.document.removeEventListener("drop",z)}},[I,R]);var G=s([f,[]]),j=a&&f.children.length===1&&Array.from(Me.texts(f)).length===1&&Me.string(f)===""&&!p,$=E.useCallback(Y=>{if(Y&&j){var z;S((z=Y.getBoundingClientRect())===null||z===void 0?void 0:z.height)}else S(void 0)},[j]);if(j){var K=M.start(f,[]);G.push({[bp]:!0,placeholder:a,onPlaceholderResize:$,anchor:K,focus:K})}var{marks:Q}=f;if(R.hasMarkPlaceholder=!1,f.selection&&ce.isCollapsed(f.selection)&&Q){var{anchor:ue}=f.selection,pe=Me.leaf(f,ue.path),oe=_p(pe,j7e);if(!rt.equals(pe,Q,{loose:!0})){R.hasMarkPlaceholder=!0;var he=Object.fromEntries(Object.keys(oe).map(Y=>[Y,null]));G.push(sa(sa(sa({[See]:!0},he),Q),{},{anchor:ue,focus:ue}))}}return E.useEffect(()=>{setTimeout(()=>{var{selection:Y}=f;if(Y){var{anchor:z}=Y,V=Me.leaf(f,z.path);if(Q&&!rt.equals(V,Q,{loose:!0})){Bo.set(f,Q);return}}Bo.delete(f)})}),Z.createElement(Nee.Provider,{value:l},Z.createElement(U7e.Provider,{value:p},Z.createElement(Fee.Provider,{value:s},Z.createElement(L7e,{node:b,receivedUserInput:C},Z.createElement(y,sa(sa({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},u),{},{spellCheck:tu||!_w?u.spellCheck:!1,autoCorrect:tu||!_w?u.autoCorrect:"false",autoCapitalize:tu||!_w?u.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:W,style:sa(sa({},_?{}:sa({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},x?{minHeight:x}:{})),g),onBeforeInput:E.useCallback(Y=>{if(!tu&&!l&&!mi(Y,u.onBeforeInput)&&ge.hasSelectableTarget(f,Y.target)&&(Y.preventDefault(),!ge.isComposing(f))){var z=Y.data;M.insertText(f,z)}},[u.onBeforeInput,f,l]),onInput:E.useCallback(Y=>{if(!mi(Y,u.onInput)){if(P.current){P.current.handleInput();return}for(var z of w.current)z();w.current=[]}},[u.onInput]),onBlur:E.useCallback(Y=>{if(!(l||R.isUpdatingSelection||!ge.hasSelectableTarget(f,Y.target)||mi(Y,u.onBlur))){var z=ge.findDocumentOrShadowRoot(f);if(R.latestElement!==z.activeElement){var{relatedTarget:V}=Y,H=ge.toDOMNode(f,f);if(V!==H&&!(Ks(V)&&V.hasAttribute("data-slate-spacer"))){if(V!=null&&dc(V)&&ge.hasDOMNode(f,V)){var re=ge.toSlateNode(f,V);if(ot.isElement(re)&&!f.isVoid(re))return}if(Gc){var ne=Jg(z);ne==null||ne.removeAllRanges()}Ru.delete(f)}}}},[l,R.isUpdatingSelection,R.latestElement,f,u.onBlur]),onClick:E.useCallback(Y=>{if(ge.hasTarget(f,Y.target)&&!mi(Y,u.onClick)&&dc(Y.target)){var z=ge.toSlateNode(f,Y.target),V=ge.findPath(f,z);if(!M.hasPath(f,V)||Me.get(f,V)!==z)return;if(Y.detail===I7e&&V.length>=1){var H=V;if(!(ot.isElement(z)&&M.isBlock(f,z))){var re,ne=M.above(f,{match:X=>ot.isElement(X)&&M.isBlock(f,X),at:V});H=(re=ne==null?void 0:ne[1])!==null&&re!==void 0?re:V.slice(0,1)}var _e=M.range(f,H);we.select(f,_e);return}if(l)return;var be=M.start(f,V),xe=M.end(f,V),Se=M.void(f,{at:be}),dt=M.void(f,{at:xe});if(Se&&dt&&ee.equals(Se[1],dt[1])){var xt=M.range(f,be);we.select(f,xt)}}},[f,u.onClick,l]),onCompositionEnd:E.useCallback(Y=>{if(ge.hasSelectableTarget(f,Y.target)){var z;if(ge.isComposing(f)&&Promise.resolve().then(()=>{v(!1),td.set(f,!1)}),(z=P.current)===null||z===void 0||z.handleCompositionEnd(Y),mi(Y,u.onCompositionEnd)||wi)return;if(!Gc&&!Mze&&!Oze&&!Nze&&!kze&&Y.data){var V=Bo.get(f);Bo.delete(f),V!==void 0&&(ml.set(f,f.marks),f.marks=V),M.insertText(f,Y.data);var H=ml.get(f);ml.delete(f),H!==void 0&&(f.marks=H)}}},[u.onCompositionEnd,f]),onCompositionUpdate:E.useCallback(Y=>{ge.hasSelectableTarget(f,Y.target)&&!mi(Y,u.onCompositionUpdate)&&(ge.isComposing(f)||(v(!0),td.set(f,!0)))},[u.onCompositionUpdate,f]),onCompositionStart:E.useCallback(Y=>{if(ge.hasSelectableTarget(f,Y.target)){var z;if((z=P.current)===null||z===void 0||z.handleCompositionStart(Y),mi(Y,u.onCompositionStart)||wi)return;v(!0);var{selection:V}=f;if(V&&ce.isExpanded(V)){M.deleteFragment(f);return}}},[u.onCompositionStart,f]),onCopy:E.useCallback(Y=>{ge.hasSelectableTarget(f,Y.target)&&!mi(Y,u.onCopy)&&!mj(Y)&&(Y.preventDefault(),ge.setFragmentData(f,Y.clipboardData,"copy"))},[u.onCopy,f]),onCut:E.useCallback(Y=>{if(!l&&ge.hasSelectableTarget(f,Y.target)&&!mi(Y,u.onCut)&&!mj(Y)){Y.preventDefault(),ge.setFragmentData(f,Y.clipboardData,"cut");var{selection:z}=f;if(z)if(ce.isExpanded(z))M.deleteFragment(f);else{var V=Me.parent(f,z.anchor.path);M.isVoid(f,V)&&we.delete(f)}}},[l,f,u.onCut]),onDragOver:E.useCallback(Y=>{if(ge.hasTarget(f,Y.target)&&!mi(Y,u.onDragOver)){var z=ge.toSlateNode(f,Y.target);ot.isElement(z)&&M.isVoid(f,z)&&Y.preventDefault()}},[u.onDragOver,f]),onDragStart:E.useCallback(Y=>{if(!l&&ge.hasTarget(f,Y.target)&&!mi(Y,u.onDragStart)){var z=ge.toSlateNode(f,Y.target),V=ge.findPath(f,z),H=ot.isElement(z)&&M.isVoid(f,z)||M.void(f,{at:V,voids:!0});if(H){var re=M.range(f,V);we.select(f,re)}R.isDraggingInternally=!0,ge.setFragmentData(f,Y.dataTransfer,"drag")}},[l,f,u.onDragStart,R]),onDrop:E.useCallback(Y=>{if(!l&&ge.hasTarget(f,Y.target)&&!mi(Y,u.onDrop)){Y.preventDefault();var z=f.selection,V=ge.findEventRange(f,Y),H=Y.dataTransfer;we.select(f,V),R.isDraggingInternally&&z&&!ce.equals(z,V)&&!M.void(f,{at:V,voids:!0})&&we.delete(f,{at:z}),ge.insertData(f,H),ge.isFocused(f)||ge.focus(f)}},[l,f,u.onDrop,R]),onDragEnd:E.useCallback(Y=>{!l&&R.isDraggingInternally&&u.onDragEnd&&ge.hasTarget(f,Y.target)&&u.onDragEnd(Y)},[l,R,u,f]),onFocus:E.useCallback(Y=>{if(!l&&!R.isUpdatingSelection&&ge.hasEditableTarget(f,Y.target)&&!mi(Y,u.onFocus)){var z=ge.toDOMNode(f,f),V=ge.findDocumentOrShadowRoot(f);if(R.latestElement=V.activeElement,fh&&Y.target!==z){z.focus();return}Ru.set(f,!0)}},[l,R,f,u.onFocus]),onKeyDown:E.useCallback(Y=>{if(!l&&ge.hasEditableTarget(f,Y.target)){var z;(z=P.current)===null||z===void 0||z.handleKeyDown(Y);var{nativeEvent:V}=Y;if(ge.isComposing(f)&&V.isComposing===!1&&(td.set(f,!1),v(!1)),mi(Y,u.onKeyDown)||ge.isComposing(f))return;var{selection:H}=f,re=f.children[H!==null?H.focus.path[0]:0],ne=fee(Me.string(re))==="rtl";if(Nr.isRedo(V)){Y.preventDefault();var _e=f;typeof _e.redo=="function"&&_e.redo();return}if(Nr.isUndo(V)){Y.preventDefault();var be=f;typeof be.undo=="function"&&be.undo();return}if(Nr.isMoveLineBackward(V)){Y.preventDefault(),we.move(f,{unit:"line",reverse:!0});return}if(Nr.isMoveLineForward(V)){Y.preventDefault(),we.move(f,{unit:"line"});return}if(Nr.isExtendLineBackward(V)){Y.preventDefault(),we.move(f,{unit:"line",edge:"focus",reverse:!0});return}if(Nr.isExtendLineForward(V)){Y.preventDefault(),we.move(f,{unit:"line",edge:"focus"});return}if(Nr.isMoveBackward(V)){Y.preventDefault(),H&&ce.isCollapsed(H)?we.move(f,{reverse:!ne}):we.collapse(f,{edge:ne?"end":"start"});return}if(Nr.isMoveForward(V)){Y.preventDefault(),H&&ce.isCollapsed(H)?we.move(f,{reverse:ne}):we.collapse(f,{edge:ne?"start":"end"});return}if(Nr.isMoveWordBackward(V)){Y.preventDefault(),H&&ce.isExpanded(H)&&we.collapse(f,{edge:"focus"}),we.move(f,{unit:"word",reverse:!ne});return}if(Nr.isMoveWordForward(V)){Y.preventDefault(),H&&ce.isExpanded(H)&&we.collapse(f,{edge:"focus"}),we.move(f,{unit:"word",reverse:ne});return}if(tu){if((wee||Gc)&&H&&(Nr.isDeleteBackward(V)||Nr.isDeleteForward(V))&&ce.isCollapsed(H)){var xe=Me.parent(f,H.anchor.path);if(ot.isElement(xe)&&M.isVoid(f,xe)&&(M.isInline(f,xe)||M.isBlock(f,xe))){Y.preventDefault(),M.deleteBackward(f,{unit:"block"});return}}}else{if(Nr.isBold(V)||Nr.isItalic(V)||Nr.isTransposeCharacter(V)){Y.preventDefault();return}if(Nr.isSoftBreak(V)){Y.preventDefault(),M.insertSoftBreak(f);return}if(Nr.isSplitBlock(V)){Y.preventDefault(),M.insertBreak(f);return}if(Nr.isDeleteBackward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f);return}if(Nr.isDeleteForward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f);return}if(Nr.isDeleteLineBackward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f,{unit:"line"});return}if(Nr.isDeleteLineForward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f,{unit:"line"});return}if(Nr.isDeleteWordBackward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"backward"}):M.deleteBackward(f,{unit:"word"});return}if(Nr.isDeleteWordForward(V)){Y.preventDefault(),H&&ce.isExpanded(H)?M.deleteFragment(f,{direction:"forward"}):M.deleteForward(f,{unit:"word"});return}}}},[l,f,u.onKeyDown]),onPaste:E.useCallback(Y=>{!l&&ge.hasEditableTarget(f,Y.target)&&!mi(Y,u.onPaste)&&(!tu||$ze(Y.nativeEvent)||Gc)&&(Y.preventDefault(),ge.insertData(f,Y.clipboardData))},[l,f,u.onPaste])}),Z.createElement(z7e,{decorations:G,node:f,renderElement:c,renderPlaceholder:h,renderLeaf:d,selection:f.selection}))))))}),V7e=t=>{var{attributes:e,children:r}=t;return Z.createElement("span",sa({},e),r,wi&&Z.createElement("br",null))},H7e=()=>[],W7e=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&ce.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),oze(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},mi=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},mj=t=>dc(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),K7e=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},jee=E.createContext(!1),X7e=()=>E.useContext(jee),Y7e=E.createContext({});function q7e(t){var e=E.useRef([]).current,r=E.useRef({editor:t}).current,n=E.useCallback(o=>{r.editor=o,e.forEach(a=>a(o))},[e,r]),s=E.useMemo(()=>({getSlate:()=>r.editor,addEventListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1)})}),[e,r]);return{selectorContext:s,onChange:n}}var Z7e=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],J7e=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:s,onValueChange:o,initialValue:a}=t,l=_p(t,Z7e),[c,d]=Z.useState(()=>{if(!Me.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Mn.stringify(a)));if(!M.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Mn.stringify(e)));return e.children=a,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:h,onChange:m}=q7e(e),g=E.useCallback(u=>{var f;switch(n&&n(e.children),u==null||(f=u.operation)===null||f===void 0?void 0:f.type){case"set_selection":s==null||s(e.selection);break;default:o==null||o(e.children)}d(p=>({v:p.v+1,editor:e})),m(e)},[e,m,n,s,o]);E.useEffect(()=>(OR.set(e,g),()=>{OR.set(e,()=>{})}),[e,g]);var[y,_]=E.useState(ge.isFocused(e));return E.useEffect(()=>{_(ge.isFocused(e))},[e]),Fy(()=>{var u=()=>_(ge.isFocused(e));return bee>=17?(document.addEventListener("focusin",u),document.addEventListener("focusout",u),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",u)}):(document.addEventListener("focus",u,!0),document.addEventListener("blur",u,!0),()=>{document.removeEventListener("focus",u,!0),document.removeEventListener("blur",u,!0)})},[]),Z.createElement(Y7e.Provider,{value:h},Z.createElement(Lee.Provider,{value:c},Z.createElement(OM.Provider,{value:c.editor},Z.createElement(jee.Provider,{value:y},r))))},gj=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},vj=(t,e,r)=>{var n=ge.toDOMRange(t,e).getBoundingClientRect(),s=ge.toDOMRange(t,r).getBoundingClientRect();return gj(n,s)&&gj(s,n)},Q7e=(t,e)=>{var r=M.range(t,ce.end(e)),n=Array.from(M.positions(t,{at:e})),s=0,o=n.length,a=Math.floor(o/2);if(vj(t,M.range(t,n[s]),r))return M.range(t,n[s],r);if(n.length<2)return M.range(t,n[n.length-1],r);for(;a!==n.length&&a!==s;)vj(t,M.range(t,n[a]),r)?o=a:s=a,a=Math.floor((s+o)/2);return M.range(t,n[o],r)};function yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var e9e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:s,onChange:o,deleteBackward:a,addMark:l,removeMark:c}=n;return CS.set(n,new WeakMap),n.addMark=(d,h)=>{var m,g;(m=FM.get(n))===null||m===void 0||m(),!Bo.get(n)&&(g=Ni.get(n))!==null&&g!==void 0&&g.length&&Bo.set(n,null),ml.delete(n),l(d,h)},n.removeMark=d=>{var h;!Bo.get(n)&&(h=Ni.get(n))!==null&&h!==void 0&&h.length&&Bo.set(n,null),ml.delete(n),c(d)},n.deleteBackward=d=>{if(d!=="line")return a(d);if(n.selection&&ce.isCollapsed(n.selection)){var h=M.above(n,{match:_=>ot.isElement(_)&&M.isBlock(n,_),at:n.selection});if(h){var[,m]=h,g=M.range(n,m,n.selection.anchor),y=Q7e(n,g);ce.isCollapsed(y)||we.delete(n,{at:y})}}},n.apply=d=>{var h=[],m=[],g=Ni.get(n);if(g!=null&&g.length){var y=g.map(I=>t7e(I,d)).filter(Boolean);Ni.set(n,y)}var _=hu.get(n);_&&hu.set(n,oj(n,_,d));var u=fu.get(n);if(u!=null&&u.at){var f=Ut.isPoint(u==null?void 0:u.at)?FR(n,u.at,d):oj(n,u.at,d);fu.set(n,f?_j(_j({},u),{},{at:f}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{h.push(...Of(n,d.path));break}case"set_selection":{var p;(p=Zg.get(n))===null||p===void 0||p.unref(),Zg.delete(n);break}case"insert_node":case"remove_node":{h.push(...Of(n,ee.parent(d.path)));break}case"merge_node":{var v=ee.previous(d.path);h.push(...Of(n,v));break}case"move_node":{var b=ee.common(ee.parent(d.path),ee.parent(d.newPath));h.push(...Of(n,b));var w;ee.isBefore(d.path,d.newPath)?(h.push(...Of(n,ee.parent(d.path))),w=d.newPath):(h.push(...Of(n,ee.parent(d.newPath))),w=d.path);var x=Me.get(e,ee.parent(w)),S=ge.findKey(n,x),A=M.pathRef(n,ee.parent(w));m.push([A,S]);break}}s(d);for(var[D,C]of h){var[T]=M.node(n,D);Px.set(T,C)}for(var[R,P]of m)if(R.current){var[O]=M.node(n,R.current);Px.set(O,P)}},n.setFragmentData=d=>{var{selection:h}=n;if(h){var[m,g]=ce.edges(h),y=M.void(n,{at:m.path}),_=M.void(n,{at:g.path});if(!(ce.isCollapsed(h)&&!y)){var u=ge.toDOMRange(n,h),f=u.cloneContents(),p=f.childNodes[0];if(f.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(p=T)}),_){var[v]=_,b=u.cloneRange(),w=ge.toDOMNode(n,v);b.setEndAfter(w),f=b.cloneContents()}if(y&&(p=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var R=T.getAttribute("data-slate-zero-width")==="n";T.textContent=R?"\n":""}),Aee(p)){var x=p.ownerDocument.createElement("span");x.style.whiteSpace="pre",x.appendChild(p),f.appendChild(x),p=x}var S=n.getFragment(),A=JSON.stringify(S),D=window.btoa(encodeURIComponent(A));p.setAttribute("data-slate-fragment",D),d.setData("application/".concat(r),D);var C=f.ownerDocument.createElement("div");return C.appendChild(f),C.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(C),d.setData("text/html",C.innerHTML),d.setData("text/plain",Dee(C)),f.ownerDocument.body.removeChild(C),d}}},n.insertData=d=>{n.insertFragmentData(d)||n.insertTextData(d)},n.insertFragmentData=d=>{var h=d.getData("application/".concat(r))||Hze(d);if(h){var m=decodeURIComponent(window.atob(h)),g=JSON.parse(m);return n.insertFragment(g),!0}return!1},n.insertTextData=d=>{var h=d.getData("text/plain");if(h){var m=h.split(/\r\n|\r|\n/),g=!1;for(var y of m)g&&we.splitNodes(n,{always:!0}),n.insertText(y),g=!0;return!0}return!1},n.onChange=d=>{var h=bee<18?NO.unstable_batchedUpdates:m=>m();h(()=>{var m=OR.get(n);m&&m(d),o(d)})},n},Of=(t,e)=>{var r=[];for(var[n,s]of M.levels(t,{at:e})){var o=ge.findKey(t,n);r.push([s,o])}return r},t9e=(t,e)=>{e&&Sc(t,()=>{oBe(t),iM(t,e)}),ge.focus(t)},r9e=t=>ge.isComposing(t),n9e=t=>ge.isFocused(t),i9e=(t,{edge:e="start"}={})=>{const r=e==="start"?eQ(t,[]):sM(t,[]);t9e(t,r)},s9e=bM,o9e=nm,a9e=mS,bj=Cs,l9e=_S;function u9e(t,e,r,n){if(!bj(t))return t;e=o9e(e,t);for(var s=-1,o=e.length,a=o-1,l=t;l!=null&&++s<o;){var c=l9e(e[s]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=a){var h=l[c];d=n?n(h,c,l):void 0,d===void 0&&(d=bj(h)?h:a9e(e[s+1])?[]:{})}s9e(l,c,d),l=l[c]}return t}var c9e=u9e,d9e=VQ,f9e=c9e,h9e=nm;function p9e(t,e,r){for(var n=-1,s=e.length,o={};++n<s;){var a=e[n],l=d9e(t,a);r(l,a)&&f9e(o,h9e(a,t),l)}return o}var m9e=p9e,g9e=m9e,v9e=k4e;function y9e(t,e){return g9e(t,e,function(r,n){return v9e(t,n)})}var _9e=y9e,wj=qp,b9e=fS,w9e=qo,xj=wj?wj.isConcatSpreadable:void 0;function x9e(t){return w9e(t)||b9e(t)||!!(xj&&t&&t[xj])}var E9e=x9e,S9e=SM,C9e=E9e;function zee(t,e,r,n,s){var o=-1,a=t.length;for(r||(r=C9e),s||(s=[]);++o<a;){var l=t[o];e>0&&r(l)?e>1?zee(l,e-1,r,n,s):S9e(s,l):n||(s[s.length]=l)}return s}var A9e=zee,T9e=A9e;function D9e(t){var e=t==null?0:t.length;return e?T9e(t,1):[]}var P9e=D9e,R9e=P9e,O9e=CQ,I9e=AQ;function B9e(t){return I9e(O9e(t,void 0,R9e),t+"")}var Gee=B9e,F9e=_9e,M9e=Gee,k9e=M9e(function(t,e){return t==null?{}:F9e(t,e)}),N9e=k9e;const L9e=qn(N9e);var U9e=Object.defineProperty,$9e=Object.defineProperties,j9e=Object.getOwnPropertyDescriptors,Rx=Object.getOwnPropertySymbols,Vee=Object.prototype.hasOwnProperty,Hee=Object.prototype.propertyIsEnumerable,Ej=(t,e,r)=>e in t?U9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wee=(t,e)=>{for(var r in e||(e={}))Vee.call(e,r)&&Ej(t,r,e[r]);if(Rx)for(var r of Rx(e))Hee.call(e,r)&&Ej(t,r,e[r]);return t},z9e=(t,e)=>$9e(t,j9e(e)),G9e=(t,e)=>{var r={};for(var n in t)Vee.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Rx)for(var n of Rx(t))e.indexOf(n)<0&&Hee.call(t,n)&&(r[n]=t[n]);return r},Kee=t=>Z.forwardRef((e,r)=>{var n=e,{as:s,asChild:o=!1}=n,a=G9e(n,["as","asChild"]);const l=o?Da:s||t;return Z.createElement(l,Wee({ref:r},a))}),V9e=Kee("div"),H9e=Kee("span"),W9e=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},K9e=(...t)=>e=>t.forEach(r=>W9e(r,e)),LM=(...t)=>Z.useCallback(K9e(...t),t);function XJe(t){return Z.forwardRef(function(r,n){return Z.createElement(t,z9e(Wee({},r),{ref:n}))})}var Sj,X9e=typeof window<"u"&&((Sj=window.document)==null?void 0:Sj.createElement)!==void 0,yT=X9e?Z.useLayoutEffect:Z.useEffect,Y9e=()=>{if(typeof window>"u"||typeof window.addEventListener!="function")return!1;let t=!1;const e=Object.defineProperty({},"passive",{get(){t=!0}}),r=()=>null;return window.addEventListener("test",r,e),window.removeEventListener("test",r,e),t},q9e="ignore-onclickoutside",Cj=(t,e)=>{var r;return(r=t.classList)==null?void 0:r.contains(e)},Aj=(t,e)=>{let r=t.target||t;for(;r;){if(Array.isArray(e)){if(e.some(n=>Cj(r,n)))return!0}else if(Cj(r,e))return!0;r=r.parentElement}return!1},Z9e=t=>document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY,Tj=t=>t.includes("touch")&&Y9e()?{passive:!0}:!1,YJe=(t,{detectIFrame:e=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:s,ignoreClass:o=q9e,refs:a}={})=>{const[l,c]=Z.useState([]),d=Z.useRef(t);d.current=t;const h=Z.useCallback(m=>c(g=>[...g,{current:m}]),[]);return Z.useEffect(()=>{if(!(a!=null&&a.length)&&l.length===0)return;const m=()=>{const u=[];return(a||l).forEach(({current:f})=>f&&u.push(f)),u},g=u=>{!Aj(u,o)&&!(s&&Z9e(u))&&m().every(f=>!f.contains(u.target))&&d.current(u)},y=u=>setTimeout(()=>{const{activeElement:f}=document;(f==null?void 0:f.tagName)==="IFRAME"&&!Aj(f,o)&&!m().includes(f)&&d.current(u)},0),_=()=>{n.forEach(u=>document.removeEventListener(u,g,Tj(u))),e&&window.removeEventListener("blur",y)};if(r){_();return}return n.forEach(u=>document.addEventListener(u,g,Tj(u))),e&&window.addEventListener("blur",y),()=>_()},[l,o,s,r,e,JSON.stringify(n)]),h};function qJe(t){return Z.forwardRef(t)}function J9e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++n<s;)o[n]=t[n+e];return o}var Q9e=J9e,eGe=VQ,tGe=Q9e;function rGe(t,e){return e.length<2?t:eGe(t,tGe(e,0,-1))}var nGe=rGe,iGe=nm,sGe=L4e,oGe=nGe,aGe=_S;function lGe(t,e){return e=iGe(e,t),t=oGe(t,e),t==null||delete t[aGe(sGe(e))]}var uGe=lGe,cGe=_Q;function dGe(t){return cGe(t)?void 0:t}var fGe=dGe,hGe=MQ,pGe=see,mGe=uGe,gGe=nm,vGe=tm,yGe=fGe,_Ge=Gee,bGe=tee,wGe=1,xGe=2,EGe=4,SGe=_Ge(function(t,e){var r={};if(t==null)return r;var n=!1;e=hGe(e,function(o){return o=gGe(o,t),n||(n=o.length>1),o}),vGe(t,bGe(t),r),n&&(r=pGe(r,wGe|xGe|EGe,yGe));for(var s=e.length;s--;)mGe(r,e[s]);return r}),CGe=SGe;const AGe=qn(CGe);var Dj=Object.prototype.hasOwnProperty;function Pj(t,e,r){for(r of t.keys())if(Qg(r,e))return r}function Qg(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Qg(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=Pj(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=Pj(e,s),!s)||!Qg(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Dj.call(t,r)&&++n&&!Dj.call(e,r)||!(r in e)||!Qg(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function TGe(t){const e=Z.useRef(t),r=Z.useRef(0);return Qg(t,e.current)||(e.current=t,r.current+=1),Z.useMemo(()=>e.current,[r.current])}function Rj(t,e){return Z.useMemo(t,TGe(e))}globalThis&&globalThis.__rest;const kl=t=>t,UM=t=>({_tag:"Left",value:t}),AS=t=>({_tag:"Right",value:t}),DGe=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),Xee={dimap:(t,e,r)=>n=>e(r(t(n))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:AS(t(e.value)),wander:t=>e=>e.map(t)},PGe={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const n=t(e[r]);if(n!=null)return n}}},RGe={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(n=>{r=r.concat(t(n))}),r}},$M=t=>({dimap:(e,r,n)=>s=>n(e(s)),first:e=>([r,n])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),_T={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},sm=(t,e)=>{const r=e;return r._tag=t,r},Yee=t=>(t._removable=!0,t);function Jt(t,e,r){switch(arguments.length){case 2:{const n=(s,o)=>t(s,e(s,o));return n._tag=_T[t._tag][e._tag],n._removable=e._removable||!1,n}default:{const n=_T[t._tag][e._tag],s=(o,a)=>t(o,e(o,r(o,a)));return s._tag=_T[n][r._tag],s._removable=r._removable||!1,s}}}const OGe=sm("Equivalence",(t,e)=>e),TS=(t,e)=>sm("Iso",(r,n)=>r.dimap(t,e,n)),As=(t,e)=>sm("Lens",(r,n)=>r.dimap(s=>[t(s),s],e,r.first(n))),jM=(t,e)=>sm("Prism",(r,n)=>r.dimap(t,s=>DGe(kl,e,s),r.right(n))),zM=sm("Traversal",(t,e)=>t.dimap(kl,kl,t.wander(e))),IGe=t=>sm("Getter",(e,r)=>e.dimap(t,kl,r)),qee=(t,e,r)=>t(Xee,e)(r),BGe=(t,e,r)=>t(Xee,()=>e)(r),FGe=(t,e)=>t($M({}),kl)(e),MGe=(t,e)=>t($M(PGe),kl)(e),Zee=(t,e)=>t($M(RGe),r=>[r])(e),kGe=TS(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((n,s)=>n[0]-s[0]),r=[];for(let n=0;n<e.length;++n)(n===e.length-1||e[n][0]!==e[n+1][0])&&r.push(e[n][1]);return r}),Oj=t=>As(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),NGe=t=>As(e=>{const r={};for(const n of t)r[n]=e[n];return r},([e,r])=>{const n=Object.assign({},r);for(const s of t)delete n[s];return Object.assign(n,e)}),Jee=t=>As(e=>e[t],([e,r])=>{const n=r.slice();return n[t]=e,n}),GM=Jee(0),VM=t=>jM(e=>t(e)?AS(e):UM(e),kl),My=Symbol("__no_match__"),Qee=VM(t=>t!==My),ete=Symbol("__remove_me__"),bT=t=>Yee(Jt(As(e=>0<=t&&t<e.length?e[t]:My,([e,r])=>{if(e===My)return r;if(e===ete)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const n=r.slice();return n[t]=e,n}}),Qee)),LGe=jM(t=>t===void 0?UM(void 0):AS(t),kl),UGe=t=>jM(e=>t(e)?AS(e):UM(e),kl),$Ge=t=>Yee(Jt(As(e=>{const r=e.findIndex(t);return r===-1?[My,-1]:[e[r],r]},([[e,r],n])=>{if(e===My)return n;if(e===ete)return[...n.slice(0,r),...n.slice(r+1)];const s=n.slice();return s[r]=e,s}),GM,Qee)),jGe=t=>Jt(As(e=>{const r=e.map((n,s)=>t(n)?s:null).filter(n=>n!=null);return[r.map(n=>e[n]),r]},([[e,r],n])=>{const s=n.length,o=e.length;let a=0,l=0,c=0;const d=[];for(;a<s;)r[l]===a?(++l,c<o&&(d.push(e[c]),++c)):d.push(n[a]),++a;for(;c<o;)d.push(e[c++]);return d}),GM),zGe=t=>As(e=>e===void 0?t:e,([e,r])=>e),GGe=t=>Jt(As(e=>{const r=Zee(t,e);return[r,r.length]},([[e,r],n])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let s=0;return qee(t,()=>e[s++],n)}),GM),VGe=t=>As(e=>t(e),([e,r])=>e),HGe=t=>As(e=>e,([e,r])=>t(e)),WGe=As(t=>{},([t,e])=>t===void 0?e:[t,...e]),KGe=As(t=>{},([t,e])=>t===void 0?e:[...e,t]),XGe=Jt(TS(t=>t.split(""),t=>t.join("")),zM),YGe=Jt(TS(t=>t.split(/\b/),t=>t.join("")),zM,VM(t=>!/\s+/.test(t)));class lr{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new lr(Jt(this._ref,e._ref))}iso(e,r){return new lr(Jt(this._ref,TS(e,r)))}lens(e,r){return new lr(Jt(this._ref,As(e,([n,s])=>r(s,n))))}indexed(){return new lr(Jt(this._ref,kGe))}prop(e){return new lr(Jt(this._ref,Oj(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new lr(e.reduce((r,n)=>Jt(r,Oj(n)),this._ref))}pick(e){return new lr(Jt(this._ref,NGe(e)))}nth(e){return new lr(Jt(this._ref,Jee(e)))}filter(e){return new lr(Jt(this._ref,jGe(e)))}valueOr(e){return new lr(Jt(this._ref,zGe(e)))}partsOf(e){const r=typeof e=="function"?e(tte):e;return new lr(Jt(this._ref,GGe(r._ref)))}reread(e){return new lr(Jt(this._ref,VGe(e)))}rewrite(e){return new lr(Jt(this._ref,HGe(e)))}optional(){return new lr(Jt(this._ref,LGe))}guard_(){return e=>this.guard(e)}guard(e){return new lr(Jt(this._ref,UGe(e)))}at(e){return new lr(Jt(this._ref,bT(e)))}head(){return new lr(Jt(this._ref,bT(0)))}index(e){return new lr(Jt(this._ref,bT(e)))}find(e){return new lr(Jt(this._ref,$Ge(e)))}elems(){return new lr(Jt(this._ref,zM))}to(e){return new lr(Jt(this._ref,IGe(e)))}when(e){return new lr(Jt(this._ref,VM(e)))}chars(){return new lr(Jt(this._ref,XGe))}words(){return new lr(Jt(this._ref,YGe))}prependTo(){return new lr(Jt(this._ref,WGe))}appendTo(){return new lr(Jt(this._ref,KGe))}}const tte=new lr(OGe);function qGe(){return tte}function ZGe(t){return e=>FGe(t._ref,e)}function JGe(t){return e=>MGe(t._ref,e)}function QGe(t){return e=>Zee(t._ref,e)}function eVe(t){return e=>r=>qee(t._ref,e,r)}function tVe(t){return e=>r=>BGe(t._ref,e,r)}const Ij=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),rVe=new WeakMap,nVe=(t,e,r)=>{const n=Ij(()=>new WeakMap,rVe,e);return Ij(t,n,r)},iVe=t=>typeof t=="function";function sVe(t,e){return nVe(()=>{const r=e(qGe());return Sa(s=>{const o=s(t);return o instanceof Promise?o.then(a=>Bj(r,a)):Bj(r,o)},(s,o,a)=>{const l=iVe(a)?eVe(r)(a):tVe(r)(a),c=s(t);return o(t,c instanceof Promise?c.then(l):l(c))})},t,e)}const Bj=(t,e)=>t._tag==="Traversal"?QGe(t)(e):t._tag==="Prism"?JGe(t)(e):ZGe(t)(e);var oVe=Object.defineProperty,aVe=Object.defineProperties,lVe=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,nte=Object.prototype.propertyIsEnumerable,Fj=(t,e,r)=>e in t?oVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$e=(t,e)=>{for(var r in e||(e={}))rte.call(e,r)&&Fj(t,r,e[r]);if(Ox)for(var r of Ox(e))nte.call(e,r)&&Fj(t,r,e[r]);return t},Vt=(t,e)=>aVe(t,lVe(e)),Zo=(t,e)=>{var r={};for(var n in t)rte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ox)for(var n of Ox(t))e.indexOf(n)<0&&nte.call(t,n)&&(r[n]=t[n]);return r};function ite(t){var e=t,{attributes:r,children:n,editor:s,leaf:o,nodeProps:a,text:l}=e,c=Zo(e,["attributes","children","editor","leaf","nodeProps","text"]);return Z.createElement("span",$e($e({},r),c),n)}var uVe=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:ZJe,plateControllerStore:ww,usePlateControllerStore:HM}=JF({activeId:Sa(null),editorStores:Sa({}),primaryEditorIds:Sa([])},{name:"plateController"}),cVe=()=>HM().get,wT=()=>HM().set,dVe=()=>!!HM().store({warnIfNoStore:!1}),fVe=t=>{const e=Z.useMemo(()=>Sa(r=>{const n=r(ww.atom.editorStores),s=a=>{var l;return a&&(l=n[a])!=null?l:null};if(t)return s(t);const o=[r(ww.atom.activeId),...r(ww.atom.primaryEditorIds)];for(const a of o){const l=s(a);if(l)return l}return null}),[t]);return cVe().atom(e)},hVe=(t={})=>{var e=t,{id:r,decorate:n=null,editor:s,isMounted:o=!1,primary:a=!0,readOnly:l=null,renderElement:c=null,renderLeaf:d=null,versionDecorate:h=1,versionEditor:m=1,versionSelection:g=1,versionValue:y=1,onChange:_=null,onSelectionChange:u=null,onValueChange:f=null}=e,p=Zo(e,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return JF($e({decorate:n,editor:s,isMounted:o,primary:a,readOnly:l,renderElement:c,renderLeaf:d,versionDecorate:h,versionEditor:m,versionSelection:g,versionValue:y,onChange:_,onSelectionChange:u,onValueChange:f},p),{extend:v=>({trackedEditor:Sa(b=>({editor:b(v.editor),version:b(v.versionEditor)})),trackedSelection:Sa(b=>({selection:b(v.editor).selection,version:b(v.versionSelection)})),trackedValue:Sa(b=>({value:b(v.editor).children,version:b(v.versionValue)}))}),name:"plate"})},{PlateProvider:pVe,plateStore:JJe,usePlateStore:M_}=hVe(),ste=(t,{debugHookName:e="usePlateEditorStore"}={})=>{var r;const n=(r=M_(t).store({warnIfNoStore:!1}))!=null?r:null,[s]=Z.useState(!!n),o=s?n:fVe(t),a=dVe(),l=Z.useMemo(()=>mR(),[]);if(!o){if(a)return l;throw new Error("".concat(e," must be used inside a Plate or PlateController"))}return o},Vu=(t,e)=>{const r=ste(t,$e({debugHookName:"usePlateSelectors"},e));return M_({store:r}).get},ote=(t,e)=>{const r=ste(t,$e({debugHookName:"usePlateActions"},e));return M_({store:r}).set},kR=(t,e,r={})=>{const n=Z.useRef(1),s=ote(e,$e({debugHookName:"useIncrementVersion"},r))[t]();return Z.useCallback(()=>{const o=n.current+1;s(o),n.current=o},[s])},mVe=(t,e={})=>{const r=kR("versionDecorate",t,$e({debugHookName:"useRedecorate"},e));return Z.useCallback(()=>{r()},[r])},gVe=()=>Vu(void 0,{debugHookName:"useEditorId"}).editor().id;function bl(t,...e){return RQ({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return $e($e({},r),n)})}function If(t){return typeof t=="function"}function Or(t={}){var e;let r,n;If(t)?(r={key:""},n=a=>t(a)):r=t;const s=(e=r.key)!=null?e:"",o=bl({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=a=>{const l=$e({},o);return l.__configuration=c=>If(a)?a(c):a,Or(l)},o.configurePlugin=(a,l)=>{const c=$e({},o),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===a.key)return g=!0,Or(Vt($e({},_),{__configuration:u=>If(l)?l(u):l}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return g=!0,Vt($e({},_),{plugins:u.plugins})}return _});return{found:g,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,Or(c)},o.extendEditorApi=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1}],Or(l)},o.extendOptions=a=>{const l=$e({},o);return l.__optionExtensions=[...l.__optionExtensions,a],Or(l)},o.extendApi=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0}],Or(l)},o.extendEditorTransforms=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1,isTransform:!0}],Or(l)},o.extendTransforms=a=>{const l=$e({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0,isTransform:!0}],Or(l)},o.extend=a=>{let l=$e({},o);return If(a)?l.__extensions=[...l.__extensions,a]:l=bl(l,a),Or(l)},o.clone=()=>bl(o),o.extendPlugin=(a,l)=>{const c=$e({},o),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===a.key)return g=!0,Or(Vt($e({},_),{__extensions:[..._.__extensions,u=>If(l)?l(u):l]}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return g=!0,Vt($e({},_),{plugins:u.plugins})}return _});return{found:g,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,h.found||c.plugins.push(Or({key:a.key,__extensions:[m=>If(l)?l(m):l]})),Or(c)},o}function WM(t={}){return Or(t)}var ate=({apply:t,node:e,path:r=[],query:n,source:s})=>{I_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),nQ(e)&&e.children.forEach((a,l)=>{ate({apply:t,node:a,path:r.concat([l]),query:n,source:s})})},lte=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},vVe=(t,e)=>{var r;const n=Object.values(t.plugins).find(s=>s.node.type===e);return(r=n==null?void 0:n.key)!=null?r:e},yVe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},_Ve={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},bVe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},wr=t=>{const e=yVe[t],r=_Ve[t],n=bVe[t],s=e&&Nh(e),o=r&&Nh(r),a=n&&Nh(n);return l=>!!(s!=null&&s(l)||mx&&(o!=null&&o(l))||!mx&&(a!=null&&a(l)))},wVe={isBold:wr("bold"),isCompose:wr("compose"),isDeleteBackward:wr("deleteBackward"),isDeleteForward:wr("deleteForward"),isDeleteLineBackward:wr("deleteLineBackward"),isDeleteLineForward:wr("deleteLineForward"),isDeleteWordBackward:wr("deleteWordBackward"),isDeleteWordForward:wr("deleteWordForward"),isExtendBackward:wr("extendBackward"),isExtendForward:wr("extendForward"),isExtendLineBackward:wr("extendLineBackward"),isExtendLineForward:wr("extendLineForward"),isItalic:wr("italic"),isMoveBackward:wr("moveBackward"),isMoveForward:wr("moveForward"),isMoveLineBackward:wr("moveLineBackward"),isMoveLineForward:wr("moveLineForward"),isMoveWordBackward:wr("moveWordBackward"),isMoveWordForward:wr("moveWordForward"),isRedo:wr("redo"),isSoftBreak:wr("insertSoftBreak"),isSplitBlock:wr("splitBlock"),isTransposeCharacter:wr("transposeCharacter"),isUndo:wr("undo")},xVe=t=>{ate(Vt($e({},t),{apply:wo}))};function Ln(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}var EVe=Or({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}}),SVe=Or({key:"dom"}),CVe=({editor:t})=>YJ(t),AVe=Or({key:"history",extendEditor:CVe}),TVe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],a=[];return t.pluginList.forEach(l=>{l.node.isInline&&o.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&a.push(l.node.type)}),t.isInline=l=>o.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>a.includes(l.type)?!0:n(l),t},DVe=Or({key:"inlineVoid",extendEditor:TVe}),PVe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const a=lte(t,s),{deserialize:l,format:c,mimeTypes:d}=o;if(!c)return!1;const h=Array.isArray(c)?c:[c],m=d||h.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of m){let y=r.getData(g);if(!y||!fHe(t,a,{data:y,dataTransfer:r}))continue;y=mHe(t,a,{data:y,dataTransfer:r});let _=l==null?void 0:l(Vt($e({},Ln(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=gHe(t,a,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return hHe(t,a,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t},RVe=Or({key:"parser",extendEditor:PVe}),OVe=class extends Error{constructor(e,r="DEFAULT"){super("[".concat(r,"] ").concat(e)),this.type=r,this.name="PlateError"}},IVe=WM({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,a)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new OVe(s,o);(c=(l=d.logger)[n])==null||c.call(l,s,o,a)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}}),BVe=(t,e)=>{wS(t,$e({at:[],nodes:t.api.create.value()},e))},FVe=t=>{BVe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},MVe=(t,e,r)=>{var n;const{defaultType:s=t.getType(k_),type:o}=e,a=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!a)return;const l=sQ(t,Vt($e({},r),{match:{type:o}}));l&&o===s||t.setNodes({type:l?s:o},{at:a})},k_=Or({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),kVe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{XQ(t)&&YQ(t)};return t.deleteBackward=a=>{r(a),o()},t.deleteForward=a=>{n(a),o()},t.deleteFragment=a=>{s(a),o()},t.apply=a=>{if(a.type==="set_selection"){const{properties:l}=a;t.prevSelection=l,e(a),t.currentKeyboardEvent=null;return}e(a)},t},ute=WM({key:"slateNext",extendEditor:kVe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>$e({children:[{text:""}],type:t.getType(k_)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{FVe(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),wS(t,{at:[],nodes:r})},toggle:{block:vp(MVe,t),mark:vp(qQ,t)}})),DS=t=>t.nodeType===Node.ELEMENT_NODE,cte=t=>t.nodeType===Node.TEXT_NODE,NVe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),KM=t=>{if(!DS(t))return!1;const e=t,r=NVe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?KM(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Mj=t=>DS(t)?!KM(t):!1,LVe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),UVe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&Mj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||Mj(e))return!0;if((e.textContent||"").length>0)return!1}},$Ve=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},kj=t=>{t.inlineFormattingContext=null},jVe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&$Ve(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),a=(()=>s==="normal"?"collapse":UVe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=LVe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:a,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},zVe=(t,e)=>{if(DS(t)){fte(t,e);return}if(cte(t)){jVe(t,e);return}dte(t,e)},dte=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)zVe(n,e)},GVe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},fte=(t,e)=>{const r=KM(t),n=e.whiteSpaceRule,s=GVe(t);s&&(e.whiteSpaceRule=s),r||kj(e),dte(t,e),r||kj(e),e.whiteSpaceRule=n},VVe=t=>{const e=t.cloneNode(!0);return fte(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},XM=(t,e)=>Array.from(e.childNodes).flatMap(pte(t)),HVe=(t,e)=>{if(e.nodeName==="BODY")return im("fragment",{},XM(t,e))},WVe=t=>{if(t.nodeName==="BR")return"\n"},hte=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:a,isLeaf:l,type:c},parsers:d}=e,h=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!h)return;const{attributeNames:m,isElement:g,isLeaf:y,query:_,rules:u}=h;let{parse:f}=h;const p=g||a,v=y||l;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:A,validNodeName:D="*",validStyle:C})=>{var T;if(D){const R=Gu(D);if(R.length>0&&!R.includes(n.nodeName)&&D!=="*")return!1}if(A&&!n.classList.contains(A))return!1;if(C)for(const[R,P]of Object.entries(C)){if(!Gu(P).includes(n.style[R])&&P!=="*"||P==="*"&&!n.style[R])return;const I=(T=e.inject.nodeProps)==null?void 0:T.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,P]of Object.entries(S)){const O=Gu(P),I=n.getAttribute(R);if(!of(I)||!O.includes(I))return!1}return!0})||_&&!_(Vt($e({},Ln(t,e)),{element:n})))return;if(!f)if(p)f=()=>({type:c});else if(v)f=()=>({[c]:!0});else return;let b=(o=f(Vt($e({},Ln(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(b).length===0)return;if(lte(t,e).forEach(x=>{var S,A,D,C;const T=(C=(D=(A=(S=x.parsers)==null?void 0:S.html)==null?void 0:A.deserializer)==null?void 0:D.parse)==null?void 0:C.call(D,Vt($e({},Ln(t,e)),{element:n,node:b}));T&&(b=$e($e({},b),T))}),m){const x={},S=n.getAttributeNames();for(const A of S)m.includes(A)&&(x[A]=n.getAttribute(A));Object.keys(x).length>0&&(b.attributes=x)}return Vt($e({},h),{node:b})},KVe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=hte(t,n,{element:e}),!!r)),r},XVe=(t,e)=>{var r;const n=KVe(t,e);if(n){const{node:s,withoutChildren:o}=n;let a=(r=s.children)!=null?r:XM(t,e);return(a.length===0||o)&&(a=[{text:""}]),im("element",s,a)}},YVe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=hte(t,n,{deserializeLeaf:!0,element:e});s&&(r=$e($e({},r),s.node))}),r},qVe=(t,e)=>{const r=YVe(t,e);return XM(t,e).reduce((n,s)=>{if(!s)return n;if(Vl(s))Object.keys(r).length>0&&xVe({node:s,query:{filter:([o])=>cc(o)},source:r}),n.push(s);else{const o=$e({},r);cc(s)&&s.text&&Object.keys(o).forEach(a=>{o[a]&&s[a]&&(o[a]=s[a])}),n.push(im("text",o,s))}return n},[])},ZVe=t=>{if(cte(t))return t.textContent||""},pte=t=>e=>{const r=ZVe(e);if(r)return r;if(!DS(e))return null;const n=WVe(e);if(n)return n;const s=HVe(t,e);if(s)return s;const o=XVe(t,e);return o||qVe(t,e)},JVe=(t,e)=>pte(t)(e),QVe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},eHe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=QVe(r)),e&&(r=VVe(r));const n=JVe(t,r);return cHe(t,{descendants:n})},tHe=t=>new DOMParser().parseFromString(t,"text/html"),rHe=Or({key:"html"}).extendApi(({editor:t})=>({deserialize:vp(eHe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=tHe(e);return t.html.deserialize({element:r.body})},format:"text/html"}}),nHe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Sc(t,()=>{r(n);const s=e();if(s.maxLength){const o=tQ(t,[]).length;if(o>s.maxLength){const a=o-s.maxLength;t.delete({distance:a,reverse:!0,unit:"character"})}}})},t},Nj=WM({key:"length",extendEditor:nHe}),iHe=({maxLength:t,plugins:e=[]})=>{let r=[IVe,ute,SVe,AVe,DVe,RVe,t?Nj.configure({options:{maxLength:t}}):Nj,rHe,EVe,k_];const n=new Map(e.map(s=>[s.key,s]));return r=r.map(s=>{const o=n.get(s.key);if(o){const a=e.findIndex(l=>l.key===s.key);return a!==-1&&e.splice(a,1),o}return s}),r},sHe=t=>e=>cc(e)||Vl(e)&&t.isInline(e),oHe=t=>()=>({children:[],type:t}),aHe=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),lHe=(t,e,r)=>{const n=aHe(t,e),{fragment:s}=t.reduce((o,a)=>{if(n&&e(a)){let l=o.precedingBlock;l||(l=r(),o.precedingBlock=l,o.fragment.push(l)),l.children.push(a)}else o.fragment.push(a),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},uHe=t=>t.length===0?[{text:""}]:t,mte=(t,e,r)=>(t=uHe(t),t=lHe(t,e,r),t=t.map(n=>Vl(n)?Vt($e({},n),{children:mte(n.children,e,r)}):n),t),cHe=(t,{descendants:e})=>{const r=sHe(t),n=t.getType(k_),s=oHe(n);return mte(e,r,s)},dHe=(t,e,r)=>{var n,s,o,a;const{key:l,inject:{nodeProps:c,targetPlugins:d}}=e,{className:h,element:m,style:g,text:y}=r,_=m!=null?m:y;if(!_||!c)return;const{classNames:u,defaultNodeValue:f,nodeKey:p=l,query:v,styleKey:b=p,transformClassName:w,transformNodeValue:x,transformProps:S,transformStyle:A,validNodeValues:D}=c,C=v==null?void 0:v(Vt($e($e({},c),Ln(t,e)),{nodeProps:r}));if(!C&&d&&Vl(_)&&_.type&&!d.includes(vVe(t,_.type)))return;const T=_[p];if(!C&&(!of(T)||D&&!D.includes(T)||T===f))return;const R=Vt($e($e({},r),Ln(t,e)),{nodeValue:T}),P=(n=x==null?void 0:x(R))!=null?n:T;R.value=P;let O={};return m&&(O.className=yv(h,"slate-".concat(p,"-").concat(T))),(u!=null&&u[T]||w)&&(O.className=(s=w==null?void 0:w(R))!=null?s:yv(h,u==null?void 0:u[P])),b&&(O.style=(o=A==null?void 0:A(R))!=null?o:Vt($e({},g),{[b]:P})),S&&(O=(a=S(Vt($e({},R),{props:O})))!=null?a:O),O},gte=(t,e)=>(t.pluginList.forEach(r=>{if(r.inject.nodeProps){const n=dHe(t,r,e);n&&(e=$e($e({},e),n))}}),Vt($e({},e),{editor:t})),fHe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const a=(o=s.parser)==null?void 0:o.query;return!a||a(Vt($e({},Ln(t,s)),{data:r,dataTransfer:n}))}),hHe=(t,e,r)=>{var n=r,{fragment:s}=n,o=Zo(n,["fragment"]);Sc(t,()=>{e.some(a=>{var l,c;return((c=(l=a.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,$e(Vt($e({},Ln(t,a)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},pHe=t=>{const e=t.children;let r=z6e(e);t.pluginList.forEach(n=>{var s;const o=(s=n.normalizeInitialValue)==null?void 0:s.call(n,Vt($e({},Ln(t,n)),{value:r}));o&&(r=o)}),!W6e(e,r)&&r&&(t.children=r)},mHe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const a=(o=s.parser)==null?void 0:o.transformData;a&&(r=a(Vt($e({},Ln(t,s)),{data:r,dataTransfer:n})))}),r),gHe=(t,e,r)=>{var n=r,{fragment:s}=n,o=Zo(n,["fragment"]);return e.forEach(a=>{var l;const c=(l=a.parser)==null?void 0:l.transformFragment;c&&(s=c($e($e({fragment:s},o),Ln(t,a))))}),s},vte=(t,e)=>{var r,n,s,o;let a=bl({},e);if(a.__resolved=!0,a.__configuration){const d=a.__configuration(Ln(t,a));a=bl(a,d),delete a.__configuration}a.__extensions&&a.__extensions.length>0&&(a.__extensions.forEach(d=>{a=bl(a,d(Ln(t,a)))}),a.__extensions=[]);const l=(r=a.inject)==null?void 0:r.targetPluginToInject,c=(n=a.inject)==null?void 0:n.targetPlugins;return l&&c&&c.length>0&&(a.inject=a.inject||{},a.inject.plugins=wo({},a.inject.plugins,Object.fromEntries(c.map(d=>{const h=l(Vt($e({},Ln(t,a)),{targetPlugin:d}));return[d,h]})))),(s=a.node)!=null&&s.component&&(a.render.node=a.node.component),(o=a.render)!=null&&o.node&&(a.node.component=a.render.node),vHe(t,a),a},vHe=(t,e)=>{e.__extensions||t.api.debug.error("Invalid plugin '".concat(e.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),e.node.isElement&&e.node.isLeaf&&t.api.debug.error("Plugin ".concat(e.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")},yHe=(t,e=[])=>{t.pluginList=[],t.plugins={},t.api={},t.transforms={},t.tf=t.transforms,t.shortcuts={};const r=xHe(t,e);return EHe(t,r),SHe(t),_He(t),bHe(t),t.pluginList.forEach(n=>{n.extendEditor&&(t=n.extendEditor(Ln(t,n)))}),t},_He=t=>{t.pluginList.forEach(e=>{let r=uee(e.key)(e.options,{immer:{enableMapSet:!0}});e.__optionExtensions&&e.__optionExtensions.length>0&&e.__optionExtensions.forEach(n=>{const s=n(Ln(t,e));r=r.extendSelectors(()=>s)}),e.optionsStore=r})},bHe=t=>{const e=[];t.pluginList.forEach(r=>{Object.entries(r.api).forEach(([n,s])=>{t.api[n]=s}),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach(({extension:n,isPluginSpecific:s,isTransform:o})=>{const a=n(Ln(t,r));o?s?(t.transforms[r.key]||(t.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),wo(t.transforms[r.key],a),wo(r.transforms[r.key],a)):(wo(t.transforms,a),wo(r.transforms,a)):s?(t.api[r.key]||(t.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),wo(t.api[r.key],a),wo(r.api[r.key],a)):(wo(t.api,a),wo(r.api,a))}),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach(([n,s])=>{var o;if(s===null){const a=e.findIndex(l=>l.key===n);a!==-1&&e.splice(a,1)}else{const a=(o=s.priority)!=null?o:r.priority,l=e.findIndex(c=>c.key===n);(l===-1||a>=e[l].priority)&&(l!==-1&&e.splice(l,1),e.push({key:n,hotkey:s,priority:a}))}})}),e.sort((r,n)=>n.hotkey.priority-r.hotkey.priority),t.shortcuts=Object.fromEntries(e.map(({key:r,hotkey:n})=>{const s=n,o=Zo(s,["priority"]);return[r,o]}))},wHe=(t,e)=>{const r=new Map,n=s=>{const o=vte(t,s),a=r.get(o.key);a?r.set(o.key,bl(a,o)):r.set(o.key,o),o.plugins&&o.plugins.length>0&&o.plugins.forEach(n)};return e.forEach(n),r},xHe=(t,e)=>{const r=wHe(t,e),n=Array.from(r.values()).filter(l=>l.enabled!==!1);n.sort((l,c)=>c.priority-l.priority);const s=[],o=new Set,a=l=>{var c;o.has(l.key)||(o.add(l.key),(c=l.dependencies)==null||c.forEach(d=>{const h=r.get(d);h?a(h):t.api.debug.warn('Plugin "'.concat(l.key,'" depends on missing plugin "').concat(d,'"'),"PLUGIN_DEPENDENCY_MISSING")}),s.push(l))};return n.forEach(a),s},EHe=(t,e)=>{t.pluginList=e,t.plugins=Object.fromEntries(e.map(r=>[r.key,r]))},SHe=t=>{const e=r=>{let n=[...r];const s={},o={},a={};for(const l of r)l.override.enabled&&Object.assign(s,l.override.enabled),l.override.components&&Object.entries(l.override.components).forEach(([c,d])=>{(!o[c]||l.priority>o[c].priority)&&(o[c]={component:d,priority:l.priority})}),l.override.plugins&&Object.entries(l.override.plugins).forEach(([c,d])=>{a[c]=bl(a[c],d),d.enabled!==void 0&&(s[c]=d.enabled)});return n=n.map(l=>{var c;let d=$e({},l);a[l.key]&&(d=bl(d,a[l.key])),o[l.key]&&(!l.render.node&&!l.node.component||o[l.key].priority>l.priority)&&(d.render.node=o[l.key].component,d.node.component=o[l.key].component);const h=(c=s[l.key])!=null?c:d.enabled;return of(h)&&(d.enabled=h),d}),n.filter(l=>l.enabled!==!1).map(l=>Vt($e({},l),{plugins:e(l.plugins||[])}))};t.pluginList=e(t.pluginList),t.plugins=Object.fromEntries(t.pluginList.map(r=>[r.key,r]))},CHe=t=>"slate-".concat(t);function AHe(t,e){let r=e;const n=t.plugins[e.key];return n||(r.node||(r=Or(r)),r.__resolved?r:vte(t,r))}function THe(t,e){var r,n;const s=t.getPlugin(e);return(n=(r=s.node.type)!=null?r:s.key)!=null?n:""}var DHe=(t,e={})=>{var r=e,{id:n,autoSelect:s,maxLength:o,plugins:a=[],rootPlugin:l,selection:c,shouldNormalizeEditor:d,value:h}=r,m=Zo(r,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]),g,y;const _=t;_.id=n!=null?n:_.id,_.key=(g=_.key)!=null?g:Math.random(),_.isFallback=!1,_.getApi=()=>_.api,_.getTransforms=()=>_.transforms,_.getPlugin=p=>AHe(_,p),_.getType=p=>THe(_,p),_.getInjectProps=p=>{var v,b;return(b=(v=_.getPlugin(p).inject)==null?void 0:v.nodeProps)!=null?b:{}},_.getOptionsStore=p=>_.getPlugin(p).optionsStore,_.getOptions=p=>_.getOptionsStore(p)?_.getOptionsStore(p).get.state():_.getPlugin(p).options,_.getOption=(p,v,...b)=>{const w=_.getOptionsStore(p);if(!w)return _.getPlugin(p).options[v];const x=w.get[v];if(x)return x(...b);_.api.debug.error("editor.getOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},_.setOption=(p,v,b)=>{const w=_.getOptionsStore(p);if(!w)return;const x=w.set[v];x?x(b):_.api.debug.error("editor.setOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},_.setOptions=(p,v)=>{const b=_.getOptionsStore(p);b&&(typeof v=="object"?b.set.mergeState(v):typeof v=="function"&&b.set.state(v))};const u=iHe({maxLength:o,plugins:a});let f=Or(Vt($e({key:"root",priority:1e4},m),{plugins:[...u,...a]}));if(l&&(f=l(f)),yHe(_,[f]),typeof h=="string"?_.children=_.api.html.deserialize({element:h}):h&&(_.children=h),((y=_.children)==null?void 0:y.length)===0&&(_.children=_.api.create.value()),c)_.selection=c;else if(s){const v=(s==="start"?"start":"end")==="start"?eQ(_,[]):sM(_,[]);iM(_,v)}return h&&pHe(_),d&&tBe(_,{force:!0}),_},PHe=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function PS(t,e){const r=$e({},t);return PHe.forEach(s=>{const o=r[s];r[s]=(...a)=>{const l=o(...a);return PS(l)}}),r.withComponent=s=>r.extend({node:{component:s},render:{node:s}}),e?r.extend(e):r}var yte=(t={})=>{const e=Or(t);return PS(e)};function RHe(t={}){return yte(t)}function om(t,e){return Vt($e({},Ln(t,e)),{useOption:(r,...n)=>t.useOption(e,r,...n)})}var _te=t=>Zo(t,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),OHe=RHe({key:"plateApi",dependencies:["debug"]}).extendEditorApi(({editor:t})=>({redecorate:()=>{t.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})),IHe=PS(ute,{handlers:{onKeyDown:({editor:t,event:e})=>{e.persist(),t.currentKeyboardEvent=e}}}),YM=uee("event-editor")({blur:null,focus:null,last:null}),xT=YM.set,BHe=YM.get;YM.use;var FHe="focus-editor-event",MHe="blur-editor-event",kHe=yte({key:"eventEditor",handlers:{onBlur:({editor:t})=>{BHe.focus()===t.id&&xT.focus(null),xT.blur(t.id),document.dispatchEvent(new CustomEvent(MHe,{detail:{id:t.id}}))},onFocus:({editor:t})=>{xT.focus(t.id),document.dispatchEvent(new CustomEvent(FHe,{detail:{id:t.id}}))}}}),NHe=PS(k_,({editor:t,type:e})=>({shortcuts:{toggleParagraph:{keys:[[cb.Mod,cb.Alt,"0"],[cb.Mod,cb.Shift,"0"]],preventDefault:!0,handler:()=>{t.tf.toggle.block({type:e})}}}})),LHe=({editor:t})=>e9e(t),UHe=Or({key:"dom",extendEditor:LHe}).extendEditorTransforms(({editor:t})=>{const{reset:e}=t.tf;return{reset:()=>{const r=n9e(t);e(),r&&i9e(t,{edge:"start"})}}}),$He=()=>[IHe,UHe,kHe,OHe,NHe],jHe=(t,e={})=>{var r=e,{plugins:n=[]}=r,s=Zo(r,["plugins"]);const o=DHe(t,Vt($e({},s),{plugins:[...$He(),...n]}));return o.useOptions=(a,l,c)=>{const d=o.getOptionsStore(a);return d||o.api.debug.error("editor.useOptions: ".concat(a.key," plugin is missing"),"PLUGIN_MISSING"),d.useStore(l,c)},o.useOption=(a,l,...c)=>{const d=o.getOptionsStore(a);d||o.api.debug.error("editor.useOption: ".concat(a.key," plugin is missing"),"PLUGIN_MISSING");const h=d==null?void 0:d.use[l];if(h)return h(...c);o.api.debug.error("editor.useOption: ".concat(l," option is not defined in plugin ").concat(a.key),"OPTION_UNDEFINED")},o},bte=(t={})=>{var e=t,{editor:r=XIe()}=e,n=Zo(e,["editor"]);return jHe(r,n)},zHe=(t={})=>{const e=bte(t);return e.isFallback=!0,e.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},e},Lj=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wte=({attributes:t,editor:e,plugin:r,props:n})=>{var s,o;let a={};r.node.props&&(a=(s=typeof r.node.props=="function"?r.node.props(n):r.node.props)!=null?s:{}),!a.nodeProps&&t&&(a.nodeProps=L9e(t,(o=r.node.dangerouslyAllowAttributes)!=null?o:[])),n=$e($e({},n),a),n.nodeProps&&Object.keys(n.nodeProps).forEach(c=>{var d,h;((d=n.nodeProps)==null?void 0:d[c])===void 0&&((h=n.nodeProps)==null||delete h[c])});const{className:l}=n;return $e(Vt($e({},n),{className:yv(CHe(r.node.type),l)}),om(e,r))},Uj=t=>(e,r,{composing:n}={})=>!(!wr(t)(r)||!!n!==r9e(e));Vt($e({},wVe),{isTab:Uj("tab"),isUntab:Uj("untab")});var GHe=(t,e)=>{const r=t.pluginList.filter(n=>n.decorate);if(!(r.length===0&&!e))return n=>{let s=[];const o=a=>{a!=null&&a.length&&(s=[...s,...a])};return r.forEach(a=>{o(a.decorate(Vt($e({},om(t,a)),{entry:n})))}),e&&o(e({editor:t,entry:n})),s}},VHe=t=>{let e=!1;return Vt($e({},t),{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>e,isTrusted:t.isTrusted,nativeEvent:t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>t.preventDefault(),stopPropagation:()=>{e=!0,t.stopPropagation()},target:t.target,timeStamp:t.timeStamp,type:t.type})},HHe=(t,e)=>{if(!e)return!1;const r=e(t);return r!=null?r:t.isPropagationStopped()},WHe=(t,{editableProps:e,handlerKey:r})=>{const n=e==null?void 0:e[r],s=t.pluginList.filter(o=>{var a;return(a=o.handlers)==null?void 0:a[r]});if(!(s.length===0&&!n))return o=>{const l=o instanceof Event?VHe(o):o;return s.some(d=>{const h=d.handlers[r],m=h(Vt($e({},om(t,d)),{event:l}));return m!=null?m:!1})?!0:HHe(l,n)}},KHe=(t,e)=>t.pluginList.some(r=>{const n=r.handlers.onChange;if(!n)return!1;const s=n(Vt($e({},om(t,r)),{value:e}));return s!=null?s:!1}),XHe="element",YHe={element:null},{ElementProvider:qHe,useElementStore:ZHe}=JF(YHe,{name:"element"}),JHe=(t,e)=>function(n){const{key:s,render:{node:o}}=e,{children:a,element:l}=n;if(l.type===e.node.type){const c=o!=null?o:NM,d=t.pluginList.flatMap(y=>{var _,u;return(u=(_=y.render)==null?void 0:_.aboveNodes)!=null?u:[]}),h=t.pluginList.flatMap(y=>{var _,u;return(u=(_=y.render)==null?void 0:_.belowNodes)!=null?u:[]});n=wte({attributes:l.attributes,editor:t,plugin:e,props:n});let m=a;h.forEach(y=>{const _=y(Vt($e({},n),{key:s}));_&&(m=_(Vt($e({},n),{children:m})))});let g=Z.createElement(c,$e({},n),m);return d.forEach(y=>{const _=y(Vt($e({},n),{key:s}));_&&(g=_(Vt($e({},n),{children:g})))}),Z.createElement(qHe,{element:l,scope:s},g)}},QHe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isElement&&r.push(JHe(t,n))}),function(s){const o=gte(t,s);let a;return r.some(l=>(a=l(o),!!a)),a||(e?e(o):Z.createElement(NM,$e({},o)))}},eWe=(t,e)=>function(n){var s;const{render:{node:o}}=e,{children:a,leaf:l}=n;if(l[(s=e.node.type)!=null?s:e.key]){const c=o!=null?o:ite,d=wte({attributes:l.attributes,editor:t,plugin:e,props:n});return Z.createElement(c,$e({},d),a)}return a},tWe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isLeaf&&n.key&&r.push(eWe(t,n))}),function(s){const o=gte(t,s);return r.forEach(a=>{const l=a(o);l!==void 0&&(o.children=l)}),e?e(o):Z.createElement(ite,$e({},o))}},La=(t,e={})=>{var r;return(r=Vu(t,$e({debugHookName:"useEditorRef"},e)).editor())!=null?r:zHe()};function eQe(t,e){const r=La(e);return om(r,t)}var tQe=(t=XHe)=>{const e=La(),r=ZHe(t).get.element();return r||(e.api.debug.warn("useElement(".concat(t,") hook must be used inside the node component's context"),"USE_ELEMENT_CONTEXT"),{})};function rWe({id:t,editableRef:e}){const r=La(t);return Z.createElement(Z.Fragment,null,Object.entries(r.shortcuts).map(([n,s])=>!s||!of(s.keys)||!s.handler?null:Z.createElement(nWe,{id:t,key:n,editableRef:e,hotkeyConfig:s})))}function nWe({id:t,editableRef:e,hotkeyConfig:r}){const n=La(t),s=r,{keys:o,handler:a}=s,l=Zo(s,["keys","handler"]),c=V2e(o,(d,h)=>{a({editor:n,event:d,eventDetails:h})},$e({enableOnContentEditable:!0},l),[]);return E.useEffect(()=>{e.current&&c(e.current)},[c,e]),null}var iWe=({id:t})=>{const e=La(t),r=mVe(t),n=M_(t),s=Object.fromEntries(uVe.map(a=>[a,n.set[a]()])),o=Z.useMemo(()=>s,[]);return Z.useEffect(()=>{e.api.redecorate=r,e.setPlateState=(a,l)=>{var c;const d=o;(c=d[a])==null||c.call(d,l)}},[e,r,o]),null};function sWe({id:t,plugin:e}){var r;const n=La(t);return(r=e.useHooks)==null||r.call(e,om(n,e)),null}function oWe({id:t}){const e=Vu(t).editor(),r=ote(t).isMounted();return Z.useEffect(()=>(r(!0),()=>{r(!1)}),[r]),Z.createElement(Z.Fragment,null,e.pluginList.map(n=>Z.createElement(sWe,{id:t,key:n.key,plugin:n})))}var aWe=Z.memo(({id:t})=>{const e=Uee(),r=kR("versionEditor",t);Z.useEffect(()=>{r()});const n=kR("versionSelection",t),s=Z.useRef(e.selection),o=lWe(s.current,e.selection);return Z.useEffect(()=>{o||n(),s.current=e.selection},[e.selection,o,n]),null}),lWe=(t,e)=>!t&&!e?!0:!t||!e?!1:ce.equals(t,e);function uWe({children:t,decorate:e,editor:r,primary:n,readOnly:s,renderElement:o,renderLeaf:a,onChange:l,onSelectionChange:c,onValueChange:d}){return Z.createElement(pVe,{readOnly:s,onChange:l,onSelectionChange:c,onValueChange:d,decorate:e,editor:r,primary:n,renderElement:o,renderLeaf:a,scope:r.id},t)}function rQe(t){return t.editor?Z.createElement(uWe,$e({key:t.editor.key},t)):null}var cWe=(t={})=>{const{id:e}=t,r=La(e),n=Vu(e),s=n.versionDecorate(),o=n.readOnly(),a=n.decorate(),l=n.renderLeaf(),c=n.renderElement(),d=Z.useMemo(()=>GHe(r,a!=null?a:t==null?void 0:t.decorate),[t==null?void 0:t.decorate,r,a]),h=Z.useMemo(()=>{if(!(!s||!d))return _=>d(_)},[d,s]),m=Z.useMemo(()=>QHe(r,c!=null?c:t==null?void 0:t.renderElement),[t==null?void 0:t.renderElement,r,c]),g=Z.useMemo(()=>tWe(r,l!=null?l:t==null?void 0:t.renderLeaf),[t==null?void 0:t.renderLeaf,r,l]),y=Rj(()=>{const _={decorate:h,renderElement:m,renderLeaf:g};return of(o)&&(_.readOnly=o),Lj.forEach(u=>{const f=WHe(r,{editableProps:t,handlerKey:u});f&&(_[u]=f)}),_},[h,t,m,g,o]);return Rj(()=>$e($e({},AGe(t,[...Lj,"renderElement","renderLeaf","decorate"])),y),[t,y])},dWe=({id:t})=>{const e=La(t),r=Vu(t).onChange(),n=Vu(t).onValueChange(),s=Vu(t).onSelectionChange(),o=Z.useCallback(c=>{KHe(e,c)||r==null||r({editor:e,value:c})},[e,r]),a=Z.useMemo(()=>c=>{n==null||n({editor:e,value:c})},[e,n]),l=Z.useMemo(()=>c=>{s==null||s({editor:e,selection:c})},[e,s]);return Z.useMemo(()=>({key:e.key,editor:e,initialValue:e.children,value:e.children,onChange:o,onSelectionChange:l,onValueChange:a}),[e,o,l,a])},fWe=({id:t})=>{const e=gVe(),r=t!=null?t:e,n=Z.useMemo(()=>sVe(ww.atom.editorStores,h=>h.prop(r)),[r]),s=wT().atom(n,{warnIfNoStore:!1}),o=M_(r).store(),a=Vu(r).primary(),l=wT().primaryEditorIds({warnIfNoStore:!1}),c=X7e(),d=wT().activeId({warnIfNoStore:!1});return Z.useEffect(()=>(s(o!=null?o:null),()=>{s(null),d(h=>h===r?null:h)}),[o,s,d,r]),Z.useEffect(()=>{if(a)return l(h=>[...h,r]),()=>{l(h=>h.filter(m=>m!==r))}},[r,a,l]),Z.useEffect(()=>{r&&c&&d(r)},[r,c,d]),null};function hWe({id:t,children:e}){var r;const n=dWe({id:t}),s=La(t);let o=Z.createElement(J7e,$e({},n),e);return(r=s.pluginList)==null||r.forEach(a=>{const{render:{aboveSlate:l}}=a;l&&(o=Z.createElement(l,null,o))}),o}var pWe=Z.forwardRef((t,e)=>{var r=t,{renderEditable:n}=r,s=Zo(r,["renderEditable"]);const{id:o}=s,a=La(o);if(!a)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const l=cWe(s),c=E.useRef(null),d=LM(e,c),h=Z.createElement(G7e,$e({ref:d},l));let m=null,g=null;a.pluginList.forEach(_=>{const{render:{afterEditable:u,beforeEditable:f}}=_;u&&(m=Z.createElement(Z.Fragment,null,m,Z.createElement(u,$e({},l)))),f&&(g=Z.createElement(Z.Fragment,null,g,Z.createElement(f,$e({},l))))});let y=Z.createElement(Z.Fragment,null,g,n?n(h):h,Z.createElement(iWe,{id:o}),Z.createElement(rWe,{id:o,editableRef:c}),Z.createElement(aWe,{id:o}),Z.createElement(oWe,{id:o}),Z.createElement(fWe,{id:o}),m);return a.pluginList.forEach(_=>{const{render:{aboveEditable:u}}=_;u&&(y=Z.createElement(u,null,y))}),Z.createElement(hWe,{id:o},y)});pWe.displayName="PlateContent";function nQe(t={},e=[]){return Z.useMemo(()=>t.enabled===!1?null:bte(t),[t.id,t.enabled,...e])}var mWe=Object.defineProperty,gWe=Object.defineProperties,vWe=Object.getOwnPropertyDescriptors,Ix=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,$j=(t,e,r)=>e in t?mWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eo=(t,e)=>{for(var r in e||(e={}))xte.call(e,r)&&$j(t,r,e[r]);if(Ix)for(var r of Ix(e))Ete.call(e,r)&&$j(t,r,e[r]);return t},wp=(t,e)=>gWe(t,vWe(e)),Ste=(t,e)=>{var r={};for(var n in t)xte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ix)for(var n of Ix(t))e.indexOf(n)<0&&Ete.call(t,n)&&(r[n]=t[n]);return r},yWe=t=>{const e=_te(t),{attributes:r,element:n,elementToAttributes:s,nodeProps:o}=e,a=Ste(e,["attributes","element","elementToAttributes","nodeProps"]);return{props:wp(eo(eo(eo(eo({},r),a),o),s==null?void 0:s(n)),{className:yv(t.className,o==null?void 0:o.className)}),ref:LM(t.ref,r.ref)}},_We=Z.forwardRef((t,e)=>{const{props:r,ref:n}=yWe(wp(eo({},t),{ref:e}));return Z.createElement(V9e,wp(eo({},r),{ref:n}))});_We.displayName="PlateElement";var bWe=t=>{const e=_te(t),{attributes:r,leaf:n,leafToAttributes:s,nodeProps:o,text:a}=e,l=Ste(e,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:wp(eo(eo(eo(eo({},r),l),o),s==null?void 0:s(n)),{className:yv(t.className,o==null?void 0:o.className)}),ref:LM(t.ref,r.ref)}},wWe=Z.forwardRef((t,e)=>{const{props:r,ref:n}=bWe(wp(eo({},t),{ref:e}));return Z.createElement(H9e,wp(eo({},r),{ref:n}))});wWe.displayName="PlateLeaf";var iQe=t=>{if(!t)return{props:{}};const{preventDefaultOnEnterKeydown:e}=t,r=n=>{(n.key==="Enter"||n.keyCode===13)&&n.preventDefault()};return{props:{onKeyDownCapture:e?n=>r(n):void 0}}},xWe=wM,jj=Cs;function Cte(t,e,r,n,s,o){return jj(t)&&jj(e)&&(o.set(e,t),xWe(t,e,void 0,Cte,o),o.delete(e)),t}var EWe=Cte,SWe=SQ,CWe=TQ,AWe=EWe,TWe=PQ;CWe(function(t){return t.push(void 0,AWe),SWe(TWe,void 0,t)});var DWe=Object.defineProperty,PWe=Object.defineProperties,RWe=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,Ate=Object.prototype.hasOwnProperty,Tte=Object.prototype.propertyIsEnumerable,zj=(t,e,r)=>e in t?DWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zt=(t,e)=>{for(var r in e||(e={}))Ate.call(e,r)&&zj(t,r,e[r]);if(Bx)for(var r of Bx(e))Tte.call(e,r)&&zj(t,r,e[r]);return t},Ei=(t,e)=>PWe(t,RWe(e)),Dte=(t,e)=>{var r={};for(var n in t)Ate.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bx)for(var n of Bx(t))e.indexOf(n)<0&&Tte.call(t,n)&&(r[n]=t[n]);return r};function ET(t,...e){return RQ({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return zt(zt({},r),n)})}function Bf(t){return typeof t=="function"}function on(t={}){var e;let r,n;Bf(t)?(r={key:""},n=a=>t(a)):r=t;const s=(e=r.key)!=null?e:"",o=ET({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=a=>{const l=zt({},o);return l.__configuration=c=>Bf(a)?a(c):a,on(l)},o.configurePlugin=(a,l)=>{const c=zt({},o),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===a.key)return g=!0,on(Ei(zt({},_),{__configuration:u=>Bf(l)?l(u):l}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return g=!0,Ei(zt({},_),{plugins:u.plugins})}return _});return{found:g,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,on(c)},o.extendEditorApi=a=>{const l=zt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1}],on(l)},o.extendOptions=a=>{const l=zt({},o);return l.__optionExtensions=[...l.__optionExtensions,a],on(l)},o.extendApi=a=>{const l=zt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0}],on(l)},o.extendEditorTransforms=a=>{const l=zt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!1,isTransform:!0}],on(l)},o.extendTransforms=a=>{const l=zt({},o);return l.__apiExtensions=[...l.__apiExtensions,{extension:a,isPluginSpecific:!0,isTransform:!0}],on(l)},o.extend=a=>{let l=zt({},o);return Bf(a)?l.__extensions=[...l.__extensions,a]:l=ET(l,a),on(l)},o.clone=()=>ET(o),o.extendPlugin=(a,l)=>{const c=zt({},o),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===a.key)return g=!0,on(Ei(zt({},_),{__extensions:[..._.__extensions,u=>Bf(l)?l(u):l]}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return g=!0,Ei(zt({},_),{plugins:u.plugins})}return _});return{found:g,plugins:y}},h=d(c.plugins);return c.plugins=h.plugins,h.found||c.plugins.push(on({key:a.key,__extensions:[m=>Bf(l)?l(m):l]})),on(c)},o}function N_(t={}){return on(t)}var Pte=({apply:t,node:e,path:r=[],query:n,source:s})=>{I_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),nQ(e)&&e.children.forEach((a,l)=>{Pte({apply:t,node:a,path:r.concat([l]),query:n,source:s})})},Rte=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},OWe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},IWe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},BWe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Pr=t=>{const e=OWe[t],r=IWe[t],n=BWe[t],s=e&&Nh(e),o=r&&Nh(r),a=n&&Nh(n);return l=>!!(s!=null&&s(l)||mx&&(o!=null&&o(l))||!mx&&(a!=null&&a(l)))};Pr("bold"),Pr("compose"),Pr("deleteBackward"),Pr("deleteForward"),Pr("deleteLineBackward"),Pr("deleteLineForward"),Pr("deleteWordBackward"),Pr("deleteWordForward"),Pr("extendBackward"),Pr("extendForward"),Pr("extendLineBackward"),Pr("extendLineForward"),Pr("italic"),Pr("moveBackward"),Pr("moveForward"),Pr("moveLineBackward"),Pr("moveLineForward"),Pr("moveWordBackward"),Pr("moveWordForward"),Pr("redo"),Pr("insertSoftBreak"),Pr("splitBlock"),Pr("transposeCharacter"),Pr("undo");var FWe=t=>{Pte(Ei(zt({},t),{apply:wo}))};function Hu(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}on({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}});on({key:"dom"});var MWe=({editor:t})=>YJ(t);on({key:"history",extendEditor:MWe});var kWe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],a=[];return t.pluginList.forEach(l=>{l.node.isInline&&o.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&a.push(l.node.type)}),t.isInline=l=>o.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>a.includes(l.type)?!0:n(l),t};on({key:"inlineVoid",extendEditor:kWe});var NWe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const a=Rte(t,s),{deserialize:l,format:c,mimeTypes:d}=o;if(!c)return!1;const h=Array.isArray(c)?c:[c],m=d||h.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of m){let y=r.getData(g);if(!y||!mKe(t,a,{data:y,dataTransfer:r}))continue;y=vKe(t,a,{data:y,dataTransfer:r});let _=l==null?void 0:l(Ei(zt({},Hu(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=yKe(t,a,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return gKe(t,a,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t};on({key:"parser",extendEditor:NWe});var LWe=class extends Error{constructor(t,e="DEFAULT"){super("[".concat(e,"] ").concat(t)),this.type=e,this.name="PlateError"}};N_({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,a)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new LWe(s,o);(c=(l=d.logger)[n])==null||c.call(l,s,o,a)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}});var UWe=(t,e)=>{wS(t,zt({at:[],nodes:t.api.create.value()},e))},$We=t=>{UWe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},jWe=(t,e,r)=>{var n;const{defaultType:s=t.getType(RS),type:o}=e,a=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!a)return;const l=sQ(t,Ei(zt({},r),{match:{type:o}}));l&&o===s||t.setNodes({type:l?s:o},{at:a})},RS=on({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),zWe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{XQ(t)&&YQ(t)};return t.deleteBackward=a=>{r(a),o()},t.deleteForward=a=>{n(a),o()},t.deleteFragment=a=>{s(a),o()},t.apply=a=>{if(a.type==="set_selection"){const{properties:l}=a;t.prevSelection=l,e(a),t.currentKeyboardEvent=null;return}e(a)},t};N_({key:"slateNext",extendEditor:zWe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>zt({children:[{text:""}],type:t.getType(RS)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{$We(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),wS(t,{at:[],nodes:r})},toggle:{block:vp(jWe,t),mark:vp(qQ,t)}}));var OS=t=>t.nodeType===Node.ELEMENT_NODE,Ote=t=>t.nodeType===Node.TEXT_NODE,GWe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),qM=t=>{if(!OS(t))return!1;const e=t,r=GWe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?qM(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Gj=t=>OS(t)?!qM(t):!1,VWe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),HWe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&Gj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||Gj(e))return!0;if((e.textContent||"").length>0)return!1}},WWe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Vj=t=>{t.inlineFormattingContext=null},KWe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&WWe(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),a=(()=>s==="normal"?"collapse":HWe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=VWe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:a,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},XWe=(t,e)=>{if(OS(t)){Bte(t,e);return}if(Ote(t)){KWe(t,e);return}Ite(t,e)},Ite=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)XWe(n,e)},YWe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},Bte=(t,e)=>{const r=qM(t),n=e.whiteSpaceRule,s=YWe(t);s&&(e.whiteSpaceRule=s),r||Vj(e),Ite(t,e),r||Vj(e),e.whiteSpaceRule=n},qWe=t=>{const e=t.cloneNode(!0);return Bte(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},ZM=(t,e)=>Array.from(e.childNodes).flatMap(Mte(t)),ZWe=(t,e)=>{if(e.nodeName==="BODY")return im("fragment",{},ZM(t,e))},JWe=t=>{if(t.nodeName==="BR")return"\n"},Fte=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:a,isLeaf:l,type:c},parsers:d}=e,h=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!h)return;const{attributeNames:m,isElement:g,isLeaf:y,query:_,rules:u}=h;let{parse:f}=h;const p=g||a,v=y||l;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:A,validNodeName:D="*",validStyle:C})=>{var T;if(D){const R=Gu(D);if(R.length>0&&!R.includes(n.nodeName)&&D!=="*")return!1}if(A&&!n.classList.contains(A))return!1;if(C)for(const[R,P]of Object.entries(C)){if(!Gu(P).includes(n.style[R])&&P!=="*"||P==="*"&&!n.style[R])return;const I=(T=e.inject.nodeProps)==null?void 0:T.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,P]of Object.entries(S)){const O=Gu(P),I=n.getAttribute(R);if(!of(I)||!O.includes(I))return!1}return!0})||_&&!_(Ei(zt({},Hu(t,e)),{element:n})))return;if(!f)if(p)f=()=>({type:c});else if(v)f=()=>({[c]:!0});else return;let b=(o=f(Ei(zt({},Hu(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(b).length===0)return;if(Rte(t,e).forEach(x=>{var S,A,D,C;const T=(C=(D=(A=(S=x.parsers)==null?void 0:S.html)==null?void 0:A.deserializer)==null?void 0:D.parse)==null?void 0:C.call(D,Ei(zt({},Hu(t,e)),{element:n,node:b}));T&&(b=zt(zt({},b),T))}),m){const x={},S=n.getAttributeNames();for(const A of S)m.includes(A)&&(x[A]=n.getAttribute(A));Object.keys(x).length>0&&(b.attributes=x)}return Ei(zt({},h),{node:b})},QWe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=Fte(t,n,{element:e}),!!r)),r},eKe=(t,e)=>{var r;const n=QWe(t,e);if(n){const{node:s,withoutChildren:o}=n;let a=(r=s.children)!=null?r:ZM(t,e);return(a.length===0||o)&&(a=[{text:""}]),im("element",s,a)}},tKe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=Fte(t,n,{deserializeLeaf:!0,element:e});s&&(r=zt(zt({},r),s.node))}),r},rKe=(t,e)=>{const r=tKe(t,e);return ZM(t,e).reduce((n,s)=>{if(!s)return n;if(Vl(s))Object.keys(r).length>0&&FWe({node:s,query:{filter:([o])=>cc(o)},source:r}),n.push(s);else{const o=zt({},r);cc(s)&&s.text&&Object.keys(o).forEach(a=>{o[a]&&s[a]&&(o[a]=s[a])}),n.push(im("text",o,s))}return n},[])},nKe=t=>{if(Ote(t))return t.textContent||""},Mte=t=>e=>{const r=nKe(e);if(r)return r;if(!OS(e))return null;const n=JWe(e);if(n)return n;const s=ZWe(t,e);if(s)return s;const o=eKe(t,e);return o||rKe(t,e)},iKe=(t,e)=>Mte(t)(e),sKe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},oKe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=sKe(r)),e&&(r=qWe(r));const n=iKe(t,r);return pKe(t,{descendants:n})},aKe=t=>new DOMParser().parseFromString(t,"text/html");on({key:"html"}).extendApi(({editor:t})=>({deserialize:vp(oKe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=aKe(e);return t.html.deserialize({element:r.body})},format:"text/html"}});var lKe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Sc(t,()=>{r(n);const s=e();if(s.maxLength){const o=tQ(t,[]).length;if(o>s.maxLength){const a=o-s.maxLength;t.delete({distance:a,reverse:!0,unit:"character"})}}})},t};N_({key:"length",extendEditor:lKe});var uKe=t=>e=>cc(e)||Vl(e)&&t.isInline(e),cKe=t=>()=>({children:[],type:t}),dKe=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),fKe=(t,e,r)=>{const n=dKe(t,e),{fragment:s}=t.reduce((o,a)=>{if(n&&e(a)){let l=o.precedingBlock;l||(l=r(),o.precedingBlock=l,o.fragment.push(l)),l.children.push(a)}else o.fragment.push(a),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},hKe=t=>t.length===0?[{text:""}]:t,kte=(t,e,r)=>(t=hKe(t),t=fKe(t,e,r),t=t.map(n=>Vl(n)?Ei(zt({},n),{children:kte(n.children,e,r)}):n),t),pKe=(t,{descendants:e})=>{const r=uKe(t),n=t.getType(RS),s=cKe(n);return kte(e,r,s)},mKe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const a=(o=s.parser)==null?void 0:o.query;return!a||a(Ei(zt({},Hu(t,s)),{data:r,dataTransfer:n}))}),gKe=(t,e,r)=>{var n=r,{fragment:s}=n,o=Dte(n,["fragment"]);Sc(t,()=>{e.some(a=>{var l,c;return((c=(l=a.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,zt(Ei(zt({},Hu(t,a)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},vKe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const a=(o=s.parser)==null?void 0:o.transformData;a&&(r=a(Ei(zt({},Hu(t,s)),{data:r,dataTransfer:n})))}),r),yKe=(t,e,r)=>{var n=r,{fragment:s}=n,o=Dte(n,["fragment"]);return e.forEach(a=>{var l;const c=(l=a.parser)==null?void 0:l.transformFragment;c&&(s=c(zt(zt({fragment:s},o),Hu(t,a))))}),s},_Ke=({editor:t,getOptions:e})=>{const{deleteForward:r}=t;return t.deleteForward=n=>{if(!t.selection)return;const{query:s}=e(),o=!s||I_(xx(t),s);!K4e(t)&&H4e(t)&&o?nM(t):r(n)},t},sQe=N_({key:"delete",extendEditor:_Ke,options:{query:{allow:[RS.key]}}}),bKe=({editor:t,getOptions:e})=>{const{deleteBackward:r}=t;return t.deleteBackward=n=>{const{selection:s}=t,{query:o,removeNodeIfEmpty:a}=e();if(n==="character"&&sBe(s)){const l=QIe(t,s,{unit:n});if(l){const[c]=QJ(t,{at:l,match:d=>I_([d,l.path],o)});if(c&&l){const d=eBe(t,s),h=nBe(t,d.path);a&&h&&!aM(h)&&nM(t),iM(t,l)}else r(n)}else r(n)}else r(n)},t};N_({key:"selectOnBackspace",extendEditor:bKe,options:{removeNodeIfEmpty:!1}});var wKe=Object.defineProperty,xKe=Object.defineProperties,EKe=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,Hj=(t,e,r)=>e in t?wKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mx=(t,e)=>{for(var r in e||(e={}))Nte.call(e,r)&&Hj(t,r,e[r]);if(Fx)for(var r of Fx(e))Lte.call(e,r)&&Hj(t,r,e[r]);return t},SKe=(t,e)=>xKe(t,EKe(e)),CKe=(t,e)=>{var r={};for(var n in t)Nte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Fx)for(var n of Fx(t))e.indexOf(n)<0&&Lte.call(t,n)&&(r[n]=t[n]);return r};function JM(...t){return Aae(XP(t))}function AKe(t,e){const r=t;return Z.forwardRef(function(s,o){return Z.createElement(r,SKe(Mx(Mx({ref:o},e),s),{className:JM(e.className,s.className)}))})}function oQe(t,...e){return AKe(t,{className:JM(e)})}function aQe(t,e,r){const n=t;return Z.forwardRef(function(o,a){const l=o,{className:c}=l,d=CKe(l,["className"]),h=Mx({},d);return r&&r.forEach(m=>{d[m]!==void 0&&delete h[m]}),Z.createElement(n,Mx({ref:a,className:JM(e(d),c)},h))})}var TKe="Separator",Wj="horizontal",DKe=["horizontal","vertical"],Ute=E.forwardRef((t,e)=>{const{decorative:r,orientation:n=Wj,...s}=t,o=PKe(n)?n:Wj,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return F.jsx(Xe.div,{"data-orientation":o,...l,...s,ref:e})});Ute.displayName=TKe;function PKe(t){return DKe.includes(t)}var RKe=Ute,QM="Toolbar",[OKe,lQe]=Ji(QM,[fo,gJ]),ek=fo(),$te=gJ(),[IKe,jte]=OKe(QM),zte=E.forwardRef((t,e)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:s,loop:o=!0,...a}=t,l=ek(r),c=Fa(s);return F.jsx(IKe,{scope:r,orientation:n,dir:c,children:F.jsx(Lp,{asChild:!0,...l,orientation:n,dir:c,loop:o,children:F.jsx(Xe.div,{role:"toolbar","aria-orientation":n,dir:c,...a,ref:e})})})});zte.displayName=QM;var Gte="ToolbarSeparator",Vte=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=jte(Gte,r);return F.jsx(RKe,{orientation:s.orientation==="horizontal"?"vertical":"horizontal",...n,ref:e})});Vte.displayName=Gte;var BKe="ToolbarButton",tk=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=ek(r);return F.jsx(Jd,{asChild:!0,...s,focusable:!t.disabled,children:F.jsx(Xe.button,{type:"button",...n,ref:e})})});tk.displayName=BKe;var FKe="ToolbarLink",Hte=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=ek(r);return F.jsx(Jd,{asChild:!0,...s,focusable:!0,children:F.jsx(Xe.a,{...n,ref:e,onKeyDown:fe(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});Hte.displayName=FKe;var Wte="ToolbarToggleGroup",MKe=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=jte(Wte,r),o=$te(r);return F.jsx(o2e,{"data-orientation":s.orientation,dir:s.dir,...o,...n,ref:e,rovingFocus:!1})});MKe.displayName=Wte;var kKe="ToolbarToggleItem",Kte=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=$te(r),o={__scopeToolbar:t.__scopeToolbar};return F.jsx(tk,{asChild:!0,...o,children:F.jsx(a2e,{...s,...n,ref:e})})});Kte.displayName=kKe;var uQe=zte,cQe=Vte,dQe=tk,fQe=Hte,hQe=Kte;function NKe(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function LKe(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&JP(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function UKe(){return/apple/i.test(navigator.vendor)}function $Ke(t){return(t==null?void 0:t.ownerDocument)||document}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jKe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],NR=jKe.join(","),Xte=typeof Element>"u",ky=Xte?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,kx=!Xte&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Nx=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",a=o||r&&e&&t(e.parentNode);return a},zKe=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},GKe=function(e,r,n){if(Nx(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(NR));return r&&ky.call(e,NR)&&s.unshift(e),s=s.filter(n),s},VKe=function t(e,r,n){for(var s=[],o=Array.from(e);o.length;){var a=o.shift();if(!Nx(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),c=l.length?l:a.children,d=t(c,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:a,candidates:d})}else{var h=ky.call(a,NR);h&&n.filter(a)&&(r||!e.includes(a))&&s.push(a);var m=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),g=!Nx(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(m&&g){var y=t(m===!0?a.children:m.children,!0,n);n.flatten?s.push.apply(s,y):s.push({scopeParent:a,candidates:y})}else o.unshift.apply(o,a.children)}}return s},Yte=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},qte=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||zKe(e))&&!Yte(e)?0:e.tabIndex},HKe=function(e,r){var n=qte(e);return n<0&&r&&!Yte(e)?0:n},WKe=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Zte=function(e){return e.tagName==="INPUT"},KKe=function(e){return Zte(e)&&e.type==="hidden"},XKe=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},YKe=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},qKe=function(e){if(!e.name)return!0;var r=e.form||kx(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=YKe(s,e.form);return!o||o===e},ZKe=function(e){return Zte(e)&&e.type==="radio"},JKe=function(e){return ZKe(e)&&!qKe(e)},QKe=function(e){var r,n=e&&kx(e),s=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var a,l,c;for(o=!!((a=s)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(s)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!o&&s;){var d,h,m;n=kx(s),s=(d=n)===null||d===void 0?void 0:d.host,o=!!((h=s)!==null&&h!==void 0&&(m=h.ownerDocument)!==null&&m!==void 0&&m.contains(s))}}return o},Kj=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},eXe=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=ky.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(ky.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var l=e;e;){var c=e.parentElement,d=kx(e);if(c&&!c.shadowRoot&&s(c)===!0)return Kj(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(QKe(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Kj(e);return!1},tXe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return ky.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},rXe=function(e,r){return!(r.disabled||Nx(r)||KKe(r)||eXe(r,e)||XKe(r)||tXe(r))},Xj=function(e,r){return!(JKe(r)||qte(r)<0||!rXe(e,r))},nXe=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},iXe=function t(e){var r=[],n=[];return e.forEach(function(s,o){var a=!!s.scopeParent,l=a?s.scopeParent:s,c=HKe(l,a),d=a?t(s.candidates):l;c===0?a?r.push.apply(r,d):r.push(l):n.push({documentOrder:o,tabIndex:c,item:s,isScope:a,content:d})}),n.sort(WKe).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(r)},Jte=function(e,r){r=r||{};var n;return r.getShadowRoot?n=VKe([e],r.includeContainer,{filter:Xj.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:nXe}):n=GKe(e,r.includeContainer,Xj.bind(null,r)),iXe(n)};const Qte={...WR},sXe=Qte.useInsertionEffect,oXe=sXe||(t=>t());function aXe(t){const e=E.useRef(()=>{});return oXe(()=>{e.current=t}),E.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}var xd=typeof document<"u"?E.useLayoutEffect:E.useEffect;function LR(){return LR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LR.apply(this,arguments)}let Yj=!1,lXe=0;const qj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lXe++;function uXe(){const[t,e]=E.useState(()=>Yj?qj():void 0);return xd(()=>{t==null&&e(qj())},[]),E.useEffect(()=>{Yj=!0},[]),t}const cXe=Qte.useId,ere=cXe||uXe;function dXe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const fXe=E.createContext(null),hXe=E.createContext(null),pXe=()=>{var t;return((t=E.useContext(fXe))==null?void 0:t.id)||null},mXe=()=>E.useContext(hXe);function tre(t){return"data-floating-ui-"+t}const rre=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nre(t,e){const r=Jte(t,rre());e==="prev"&&r.reverse();const n=r.indexOf(NKe($Ke(t)));return r.slice(n+1)[0]}function gXe(){return nre(document.body,"next")}function vXe(){return nre(document.body,"prev")}function ST(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!LKe(r,n)}function yXe(t){Jte(t,rre()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function Zj(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const ire={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let _Xe;function Jj(t){t.key==="Tab"&&(t.target,clearTimeout(_Xe))}const Qj=E.forwardRef(function(e,r){const[n,s]=E.useState();xd(()=>(UKe()&&s("button"),document.addEventListener("keydown",Jj),()=>{document.removeEventListener("keydown",Jj)}),[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[tre("focus-guard")]:"",style:ire};return E.createElement("span",LR({},e,o))}),sre=E.createContext(null),e6=tre("portal");function bXe(t){t===void 0&&(t={});const{id:e,root:r}=t,n=ere(),s=wXe(),[o,a]=E.useState(null),l=E.useRef(null);return xd(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{l.current=null})},[o]),xd(()=>{if(!n||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=n,d.setAttribute(e6,""),c.appendChild(d),l.current=d,a(d)},[e,n]),xd(()=>{if(!n||l.current)return;let c=r||(s==null?void 0:s.portalNode);c&&!si(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const h=document.createElement("div");h.id=n,h.setAttribute(e6,""),c=d||c,c.appendChild(h),l.current=h,a(h)},[e,r,n,s]),o}function pQe(t){const{children:e,id:r,root:n=null,preserveTabOrder:s=!0}=t,o=bXe({id:r,root:n}),[a,l]=E.useState(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),m=E.useRef(null),g=a==null?void 0:a.modal,y=a==null?void 0:a.open,_=!!a&&!a.modal&&a.open&&s&&!!(n||o);return E.useEffect(()=>{if(!o||!s||g)return;function u(f){o&&ST(f)&&(f.type==="focusin"?Zj:yXe)(o)}return o.addEventListener("focusin",u,!0),o.addEventListener("focusout",u,!0),()=>{o.removeEventListener("focusin",u,!0),o.removeEventListener("focusout",u,!0)}},[o,s,g]),E.useEffect(()=>{o&&(y||Zj(o))},[y,o]),E.createElement(sre.Provider,{value:E.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:m,portalNode:o,setFocusManagerState:l}),[s,o])},_&&o&&E.createElement(Qj,{"data-type":"outside",ref:c,onFocus:u=>{if(ST(u,o)){var f;(f=h.current)==null||f.focus()}else{const p=vXe()||(a==null?void 0:a.refs.domReference.current);p==null||p.focus()}}}),_&&o&&E.createElement("span",{"aria-owns":o.id,style:ire}),o&&Ll.createPortal(e,o),_&&o&&E.createElement(Qj,{"data-type":"outside",ref:d,onFocus:u=>{if(ST(u,o)){var f;(f=m.current)==null||f.focus()}else{const p=gXe()||(a==null?void 0:a.refs.domReference.current);p==null||p.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,u.nativeEvent,"focus-out"))}}}))}const wXe=()=>E.useContext(sre);function xXe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=ere(),o=E.useRef({}),[a]=E.useState(()=>dXe()),l=pXe()!=null,[c,d]=E.useState(n.reference),h=aXe((y,_,u)=>{o.current.openEvent=y?_:void 0,a.emit("openchange",{open:y,event:_,reason:u,nested:l}),r==null||r(y,_,u)}),m=E.useMemo(()=>({setPositionReference:d}),[]),g=E.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return E.useMemo(()=>({dataRef:o,open:e,onOpenChange:h,elements:g,events:a,floatingId:s,refs:m}),[e,h,g,a,s,m])}function EXe(t){t===void 0&&(t={});const{nodeId:e}=t,r=xXe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[o,a]=E.useState(null),[l,c]=E.useState(null),h=(s==null?void 0:s.reference)||o,m=E.useRef(null),g=mXe();xd(()=>{h&&(m.current=h)},[h]);const y=KH({...t,elements:{...s,...l&&{reference:l}}}),_=E.useCallback(b=>{const w=si(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;c(w),y.refs.setReference(w)},[y.refs]),u=E.useCallback(b=>{(si(b)||b===null)&&(m.current=b,a(b)),(si(y.refs.reference.current)||y.refs.reference.current===null||b!==null&&!si(b))&&y.refs.setReference(b)},[y.refs]),f=E.useMemo(()=>({...y.refs,setReference:u,setPositionReference:_,domReference:m}),[y.refs,u,_]),p=E.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),v=E.useMemo(()=>({...y,...n,refs:f,elements:p,nodeId:e}),[y,f,p,e,n]);return xd(()=>{n.dataRef.current.floatingContext=v;const b=g==null?void 0:g.nodesRef.current.find(w=>w.id===e);b&&(b.context=v)}),E.useMemo(()=>({...y,context:v,refs:f,elements:p}),[y,f,p,v])}var SXe=Object.defineProperty,CXe=Object.defineProperties,AXe=Object.getOwnPropertyDescriptors,Lx=Object.getOwnPropertySymbols,ore=Object.prototype.hasOwnProperty,are=Object.prototype.propertyIsEnumerable,t6=(t,e,r)=>e in t?SXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r6=(t,e)=>{for(var r in e||(e={}))ore.call(e,r)&&t6(t,r,e[r]);if(Lx)for(var r of Lx(e))are.call(e,r)&&t6(t,r,e[r]);return t},TXe=(t,e)=>CXe(t,AXe(e)),DXe=(t,e)=>{var r={};for(var n in t)ore.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Lx)for(var n of Lx(t))e.indexOf(n)<0&&are.call(t,n)&&(r[n]=t[n]);return r},lre=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),PXe=()=>({getBoundingClientRect:lre}),RXe=()=>{const t=window.getSelection();return!t||t.rangeCount<1?lre():t.getRangeAt(0).getBoundingClientRect()},mQe=t=>{var e=t,{getBoundingClientRect:r=RXe}=e,n=DXe(e,["getBoundingClientRect"]);const s=Z.useRef(PXe()),[o,a]=Z.useState(!0),l=EXe(r6({whileElementsMounted:HH},n)),{middlewareData:c,refs:d,strategy:h,update:m,x:g,y}=l;return yT(()=>{s.current.getBoundingClientRect=r},[r,m]),yT(()=>{d.setReference(s.current)},[d]),yT(()=>{if(!(c!=null&&c.hide))return;const{referenceHidden:_}=c.hide;a(!_)},[c.hide]),TXe(r6({},l),{style:{display:n.open===!1?"none":void 0,left:g!=null?g:0,position:h,top:y!=null?y:0,visibility:o?void 0:"hidden"},virtualElementRef:s})},rk="Switch",[OXe,gQe]=Ji(rk),[IXe,BXe]=OXe(rk),ure=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:d,...h}=t,[m,g]=E.useState(null),y=_t(e,v=>g(v)),_=E.useRef(!1),u=m?!!m.closest("form"):!0,[f=!1,p]=di({prop:s,defaultProp:o,onChange:d});return F.jsxs(IXe,{scope:r,checked:f,disabled:l,children:[F.jsx(Xe.button,{type:"button",role:"switch","aria-checked":f,"aria-required":a,"data-state":fre(f),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:fe(t.onClick,v=>{p(b=>!b),u&&(_.current=v.isPropagationStopped(),_.current||v.stopPropagation())})}),u&&F.jsx(FXe,{control:m,bubbles:!_.current,name:n,value:c,checked:f,required:a,disabled:l,style:{transform:"translateX(-100%)"}})]})});ure.displayName=rk;var cre="SwitchThumb",dre=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=BXe(cre,r);return F.jsx(Xe.span,{"data-state":fre(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});dre.displayName=cre;var FXe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,o=E.useRef(null),a=$F(r),l=wB(e);return E.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==r&&m){const g=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(g)}},[a,r,n]),F.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fre(t){return t?"checked":"unchecked"}var vQe=ure,yQe=dre,nk="ToastProvider",[ik,MXe,kXe]=Zd("Toast"),[hre,_Qe]=jp("Toast",[kXe]),[NXe,IS]=hre(nk),pre=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[l,c]=E.useState(null),[d,h]=E.useState(0),m=E.useRef(!1),g=E.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(nk,"`. Expected non-empty `string`.")),F.jsx(ik.Provider,{scope:e,children:F.jsx(NXe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:E.useCallback(()=>h(y=>y+1),[]),onToastRemove:E.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:a})})};pre.displayName=nk;var mre="ToastViewport",LXe=["F8"],UR="toast.viewportPause",$R="toast.viewportResume",gre=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=LXe,label:s="Notifications ({hotkey})",...o}=t,a=IS(mre,r),l=MXe(r),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),m=E.useRef(null),g=_t(e,m,a.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.toastCount>0;E.useEffect(()=>{const f=p=>{var b;n.length!==0&&n.every(w=>p[w]||p.code===w)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[n]),E.useEffect(()=>{const f=c.current,p=m.current;if(_&&f&&p){const v=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(UR);p.dispatchEvent(S),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent($R);p.dispatchEvent(S),a.isClosePausedRef.current=!1}},w=S=>{!f.contains(S.relatedTarget)&&b()},x=()=>{f.contains(document.activeElement)||b()};return f.addEventListener("focusin",v),f.addEventListener("focusout",w),f.addEventListener("pointermove",v),f.addEventListener("pointerleave",x),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{f.removeEventListener("focusin",v),f.removeEventListener("focusout",w),f.removeEventListener("pointermove",v),f.removeEventListener("pointerleave",x),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[_,a.isClosePausedRef]);const u=E.useCallback(({tabbingDirection:f})=>{const v=l().map(b=>{const w=b.ref.current,x=[w,...ZXe(w)];return f==="forwards"?x:x.reverse()});return(f==="forwards"?v.reverse():v).flat()},[l]);return E.useEffect(()=>{const f=m.current;if(f){const p=v=>{var x,S,A;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const D=document.activeElement,C=v.shiftKey;if(v.target===f&&C){(x=d.current)==null||x.focus();return}const P=u({tabbingDirection:C?"backwards":"forwards"}),O=P.findIndex(I=>I===D);CT(P.slice(O+1))?v.preventDefault():C?(S=d.current)==null||S.focus():(A=h.current)==null||A.focus()}};return f.addEventListener("keydown",p),()=>f.removeEventListener("keydown",p)}},[l,u]),F.jsxs(SSe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&F.jsx(jR,{ref:d,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"forwards"});CT(f)}}),F.jsx(ik.Slot,{scope:r,children:F.jsx(Xe.ol,{tabIndex:-1,...o,ref:g})}),_&&F.jsx(jR,{ref:h,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"backwards"});CT(f)}})]})});gre.displayName=mre;var vre="ToastFocusProxy",jR=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=IS(vre,r);return F.jsx(D_,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});jR.displayName=vre;var BS="Toast",UXe="toast.swipeStart",$Xe="toast.swipeMove",jXe="toast.swipeCancel",zXe="toast.swipeEnd",yre=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=t,[l=!0,c]=di({prop:n,defaultProp:s,onChange:o});return F.jsx(zl,{present:r||l,children:F.jsx(HXe,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:ur(t.onPause),onResume:ur(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(h,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(m,"px"))}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(h,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(m,"px")),c(!1)})})})});yre.displayName=BS;var[GXe,VXe]=hre(BS,{onClose(){}}),HXe=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:y,..._}=t,u=IS(BS,r),[f,p]=E.useState(null),v=_t(e,I=>p(I)),b=E.useRef(null),w=E.useRef(null),x=s||u.duration,S=E.useRef(0),A=E.useRef(x),D=E.useRef(0),{onToastAdd:C,onToastRemove:T}=u,R=ur(()=>{var k;(f==null?void 0:f.contains(document.activeElement))&&((k=u.viewport)==null||k.focus()),a()}),P=E.useCallback(I=>{!I||I===1/0||(window.clearTimeout(D.current),S.current=new Date().getTime(),D.current=window.setTimeout(R,I))},[R]);E.useEffect(()=>{const I=u.viewport;if(I){const k=()=>{P(A.current),d==null||d()},W=()=>{const G=new Date().getTime()-S.current;A.current=A.current-G,window.clearTimeout(D.current),c==null||c()};return I.addEventListener(UR,W),I.addEventListener($R,k),()=>{I.removeEventListener(UR,W),I.removeEventListener($R,k)}}},[u.viewport,x,c,d,P]),E.useEffect(()=>{o&&!u.isClosePausedRef.current&&P(x)},[o,x,u.isClosePausedRef,P]),E.useEffect(()=>(C(),()=>T()),[C,T]);const O=E.useMemo(()=>f?Cre(f):null,[f]);return u.viewport?F.jsxs(F.Fragment,{children:[O&&F.jsx(WXe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),F.jsx(GXe,{scope:r,onClose:R,children:Ll.createPortal(F.jsx(ik.ItemSlot,{scope:r,children:F.jsx(ESe,{asChild:!0,onEscapeKeyDown:fe(l,()=>{u.isFocusedToastEscapeKeyDownRef.current||R(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:F.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":u.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:fe(t.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:fe(t.onPointerMove,I=>{if(!b.current)return;const k=I.clientX-b.current.x,W=I.clientY-b.current.y,G=!!w.current,j=["left","right"].includes(u.swipeDirection),$=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,K=j?$(0,k):0,Q=j?0:$(0,W),ue=I.pointerType==="touch"?10:2,pe={x:K,y:Q},oe={originalEvent:I,delta:pe};G?(w.current=pe,wb($Xe,m,oe,{discrete:!1})):n6(pe,u.swipeDirection,ue)?(w.current=pe,wb(UXe,h,oe,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(k)>ue||Math.abs(W)>ue)&&(b.current=null)}),onPointerUp:fe(t.onPointerUp,I=>{const k=w.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),w.current=null,b.current=null,k){const G=I.currentTarget,j={originalEvent:I,delta:k};n6(k,u.swipeDirection,u.swipeThreshold)?wb(zXe,y,j,{discrete:!0}):wb(jXe,g,j,{discrete:!0}),G.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),WXe=t=>{const{__scopeToast:e,children:r,...n}=t,s=IS(BS,e),[o,a]=E.useState(!1),[l,c]=E.useState(!1);return YXe(()=>a(!0)),E.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:F.jsx(zE,{asChild:!0,children:F.jsx(D_,{...n,children:o&&F.jsxs(F.Fragment,{children:[s.label," ",r]})})})},KXe="ToastTitle",_re=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return F.jsx(Xe.div,{...n,ref:e})});_re.displayName=KXe;var XXe="ToastDescription",bre=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return F.jsx(Xe.div,{...n,ref:e})});bre.displayName=XXe;var wre="ToastAction",xre=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?F.jsx(Sre,{altText:r,asChild:!0,children:F.jsx(sk,{...n,ref:e})}):(console.error("Invalid prop `altText` supplied to `".concat(wre,"`. Expected non-empty `string`.")),null)});xre.displayName=wre;var Ere="ToastClose",sk=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=VXe(Ere,r);return F.jsx(Sre,{asChild:!0,children:F.jsx(Xe.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,s.onClose)})})});sk.displayName=Ere;var Sre=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return F.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Cre(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),qXe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Cre(n))}}),e}function wb(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?s_(s,o):s.dispatchEvent(o)}var n6=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function YXe(t=()=>{}){const e=ur(t);pn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function qXe(t){return t.nodeType===t.ELEMENT_NODE}function ZXe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function CT(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var bQe=pre,wQe=gre,xQe=yre,EQe=_re,SQe=bre,CQe=xre,AQe=sk;export{AYe as $,Wm as A,v9 as B,o1 as C,pYe as D,qe as E,Zy as F,fl as G,gYe as H,Cbe as I,Obe as J,Eqe as K,pE as L,aYe as M,b9 as N,_Ye as O,R0e as P,bYe as Q,Rt as R,Vd as S,OI as T,Aa as U,mYe as V,wYe as W,xYe as X,RYe as Y,yqe as Z,Sqe as _,ppe as a,nqe as a$,PYe as a0,OYe as a1,IYe as a2,Xqe as a3,BYe as a4,jYe as a5,CYe as a6,Aqe as a7,FYe as a8,Vqe as a9,Dqe as aA,Pqe as aB,Fqe as aC,Mqe as aD,Nqe as aE,Lqe as aF,Uqe as aG,jqe as aH,lqe as aI,Gqe as aJ,sqe as aK,$Ye as aL,UYe as aM,dqe as aN,cqe as aO,zqe as aP,yYe as aQ,TYe as aR,MYe as aS,SYe as aT,EYe as aU,Bqe as aV,GYe as aW,DYe as aX,pqe as aY,kYe as aZ,Iqe as a_,hqe as aa,fqe as ab,$qe as ac,VYe as ad,bqe as ae,Rqe as af,LYe as ag,HYe as ah,WYe as ai,KYe as aj,XYe as ak,YYe as al,qYe as am,ZYe as an,eqe as ao,tqe as ap,rqe as aq,Kqe as ar,oqe as as,mqe as at,NYe as au,aqe as av,QYe as aw,wqe as ax,Tqe as ay,Cqe as az,aG as b,KZe as b$,Hqe as b0,JYe as b1,gqe as b2,iqe as b3,Wqe as b4,Oqe as b5,vqe as b6,kqe as b7,aZe as b8,fZe as b9,SZe as bA,PZe as bB,bZe as bC,RTe as bD,OTe as bE,OY as bF,pZe as bG,ITe as bH,BTe as bI,TTe as bJ,PTe as bK,LZe as bL,vYe as bM,Da as bN,BZe as bO,KE as bP,IZe as bQ,XAe as bR,dY as bS,MZe as bT,kZe as bU,$Ze as bV,jZe as bW,HZe as bX,WZe as bY,YZe as bZ,qZe as b_,lZe as ba,Jqe as bb,Qqe as bc,tZe as bd,rZe as be,iZe as bf,cZe as bg,nZe as bh,mZe as bi,eZe as bj,sZe as bk,qqe as bl,Zqe as bm,oZe as bn,cn as bo,gZe as bp,_Ze as bq,wZe as br,RZe as bs,OZe as bt,xZe as bu,EZe as bv,CZe as bw,AZe as bx,DZe as by,TZe as bz,yv as c,eQe as c$,XZe as c0,VZe as c1,GZe as c2,QZe as c3,eJe as c4,tJe as c5,JZe as c6,cJe as c7,fJe as c8,hJe as c9,o2e as cA,a2e as cB,VJe as cC,$Je as cD,jJe as cE,zJe as cF,JM as cG,Z as cH,pWe as cI,aQe as cJ,AKe as cK,RKe as cL,oQe as cM,GJe as cN,dQe as cO,qJe as cP,uQe as cQ,MKe as cR,fQe as cS,cQe as cT,hQe as cU,XJe as cV,PS as cW,on as cX,aBe as cY,WJe as cZ,Hu as c_,pJe as ca,mJe as cb,yJe as cc,bJe as cd,uZe as ce,PJe as cf,hZe as cg,RJe as ch,dZe as ci,wJe as cj,xJe as ck,EJe as cl,CJe as cm,AJe as cn,DJe as co,TJe as cp,OJe as cq,vJe as cr,SJe as cs,_Je as ct,kJe as cu,NJe as cv,FJe as cw,MJe as cx,IJe as cy,LJe as cz,Fv as d,mQe as d0,RXe as d1,YJe as d2,LM as d3,t9e as d4,HJe as d5,uBe as d6,La as d7,vQe as d8,yQe as d9,bQe as dA,uqe as dB,JXe as dC,QXe as dD,bk as dE,NZe as da,eAe as db,tQe as dc,KJe as dd,X7e as de,_We as df,mx as dg,Hwe as dh,Xwe as di,pQe as dj,iQe as dk,nQe as dl,NHe as dm,sQe as dn,rQe as dp,_qe as dq,xqe as dr,zYe as ds,FZe as dt,wQe as du,xQe as dv,CQe as dw,AQe as dx,EQe as dy,SQe as dz,uo as e,it as f,ct as g,ha as h,Dpe as i,F as j,dn as k,sYe as l,Xi as m,iYe as n,lYe as o,kpe as p,y0e as q,E as r,uYe as s,Aae as t,nYe as u,o9 as v,C9 as w,Is as x,eYe as y,fYe as z};
