function tJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var l4={exports:{}},sw={},u4={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),nJ=Symbol.for("react.portal"),iJ=Symbol.for("react.fragment"),sJ=Symbol.for("react.strict_mode"),oJ=Symbol.for("react.profiler"),aJ=Symbol.for("react.provider"),lJ=Symbol.for("react.context"),uJ=Symbol.for("react.forward_ref"),cJ=Symbol.for("react.suspense"),dJ=Symbol.for("react.memo"),hJ=Symbol.for("react.lazy"),NB=Symbol.iterator;function fJ(t){return t===null||typeof t!="object"?null:(t=NB&&t[NB]||t["@@iterator"],typeof t=="function"?t:null)}var c4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d4=Object.assign,h4={};function wf(t,e,r){this.props=t,this.context=e,this.refs=h4,this.updater=r||c4}wf.prototype.isReactComponent={};wf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f4(){}f4.prototype=wf.prototype;function BP(t,e,r){this.props=t,this.context=e,this.refs=h4,this.updater=r||c4}var MP=BP.prototype=new f4;MP.constructor=BP;d4(MP,wf.prototype);MP.isPureReactComponent=!0;var UB=Array.isArray,p4=Object.prototype.hasOwnProperty,FP={current:null},g4={key:!0,ref:!0,__self:!0,__source:!0};function m4(t,e,r){var n,s={},o=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)p4.call(e,n)&&!g4.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Av,type:t,key:o,ref:l,props:s,_owner:FP.current}}function pJ(t,e){return{$$typeof:Av,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Av}function gJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $B=/\/+/g;function eE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gJ(""+t.key):e.toString(36)}function t_(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Av:case nJ:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+eE(l,0):n,UB(s)?(r="",t!=null&&(r=t.replace($B,"$&/")+"/"),t_(s,e,r,"",function(d){return d})):s!=null&&(kP(s)&&(s=pJ(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace($B,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",UB(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+eE(o,a);l+=t_(o,e,r,c,s)}else if(c=fJ(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+eE(o,a++),l+=t_(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function By(t,e,r){if(t==null)return t;var n=[],s=0;return t_(t,n,"","",function(o){return e.call(r,o,s++)}),n}function mJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},r_={transition:null},vJ={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:r_,ReactCurrentOwner:FP};xt.Children={map:By,forEach:function(t,e,r){By(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return By(t,function(){e++}),e},toArray:function(t){return By(t,function(e){return e})||[]},only:function(t){if(!kP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=wf;xt.Fragment=iJ;xt.Profiler=oJ;xt.PureComponent=BP;xt.StrictMode=sJ;xt.Suspense=cJ;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vJ;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=d4({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=FP.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)p4.call(e,c)&&!g4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Av,type:t.type,key:s,ref:o,props:n,_owner:l}};xt.createContext=function(t){return t={$$typeof:lJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aJ,_context:t},t.Consumer=t};xt.createElement=m4;xt.createFactory=function(t){var e=m4.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:uJ,render:t}};xt.isValidElement=kP;xt.lazy=function(t){return{$$typeof:hJ,_payload:{_status:-1,_result:t},_init:mJ}};xt.memo=function(t,e){return{$$typeof:dJ,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=r_.transition;r_.transition={};try{t()}finally{r_.transition=e}};xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xt.useCallback=function(t,e){return Zn.current.useCallback(t,e)};xt.useContext=function(t){return Zn.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};xt.useEffect=function(t,e){return Zn.current.useEffect(t,e)};xt.useId=function(){return Zn.current.useId()};xt.useImperativeHandle=function(t,e,r){return Zn.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return Zn.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return Zn.current.useReducer(t,e,r)};xt.useRef=function(t){return Zn.current.useRef(t)};xt.useState=function(t){return Zn.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return Zn.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return Zn.current.useTransition()};xt.version="18.2.0";u4.exports=xt;var E=u4.exports;const V=xn(E),LP=tJ({__proto__:null,default:V},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yJ=E,_J=Symbol.for("react.element"),xJ=Symbol.for("react.fragment"),wJ=Object.prototype.hasOwnProperty,bJ=yJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EJ={key:!0,ref:!0,__self:!0,__source:!0};function v4(t,e,r){var n,s={},o=null,l=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)wJ.call(e,n)&&!EJ.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:_J,type:t,key:o,ref:l,props:s,_owner:bJ.current}}sw.Fragment=xJ;sw.jsx=v4;sw.jsxs=v4;l4.exports=sw;var I=l4.exports,jB={},y4={exports:{}},Vi={},_4={exports:{}},x4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var H=N.length;N.push(L);e:for(;0<H;){var K=H-1>>>1,te=N[K];if(0<s(te,L))N[K]=L,N[H]=te,H=K;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var L=N[0],H=N.pop();if(H!==L){N[0]=H;e:for(var K=0,te=N.length,le=te>>>1;K<le;){var ne=2*(K+1)-1,fe=N[ne],z=ne+1,Y=N[z];if(0>s(fe,H))z<te&&0>s(Y,fe)?(N[K]=Y,N[z]=H,K=z):(N[K]=fe,N[ne]=H,K=ne);else if(z<te&&0>s(Y,H))N[K]=Y,N[z]=H,K=z;else break e}}return L}function s(N,L){var H=N.sortIndex-L.sortIndex;return H!==0?H:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],f=1,g=null,m=3,y=!1,_=!1,u=!1,h=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var L=r(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=N)n(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(d)}}function w(N){if(u=!1,x(N),!_)if(r(c)!==null)_=!0,j(b);else{var L=r(d);L!==null&&U(w,L.startTime-N)}}function b(N,L){_=!1,u&&(u=!1,p(A),A=-1),y=!0;var H=m;try{for(x(L),g=r(c);g!==null&&(!(g.expirationTime>L)||N&&!B());){var K=g.callback;if(typeof K=="function"){g.callback=null,m=g.priorityLevel;var te=K(g.expirationTime<=L);L=t.unstable_now(),typeof te=="function"?g.callback=te:g===r(c)&&n(c),x(L)}else n(c);g=r(c)}if(g!==null)var le=!0;else{var ne=r(d);ne!==null&&U(w,ne.startTime-L),le=!1}return le}finally{g=null,m=H,y=!1}}var S=!1,C=null,A=-1,T=5,P=-1;function B(){return!(t.unstable_now()-P<T)}function D(){if(C!==null){var N=t.unstable_now();P=N;var L=!0;try{L=C(!0,N)}finally{L?R():(S=!1,C=null)}}else S=!1}var R;if(typeof v=="function")R=function(){v(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,k=O.port2;O.port1.onmessage=D,R=function(){k.postMessage(null)}}else R=function(){h(D,0)};function j(N){C=N,S||(S=!0,R())}function U(N,L){A=h(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,j(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return N()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=m;m=N;try{return L()}finally{m=H}},t.unstable_scheduleCallback=function(N,L,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=H+te,N={id:f++,callback:L,priorityLevel:N,startTime:H,expirationTime:te,sortIndex:-1},H>K?(N.sortIndex=H,e(d,N),r(c)===null&&N===r(d)&&(u?(p(A),A=-1):u=!0,U(w,H-K))):(N.sortIndex=te,e(c,N),_||y||(_=!0,j(b))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var L=m;return function(){var H=m;m=L;try{return N.apply(this,arguments)}finally{m=H}}}})(x4);_4.exports=x4;var SJ=_4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=E,$i=SJ;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b4=new Set,Hg={};function Xc(t,e){Nh(t,e),Nh(t+"Capture",e)}function Nh(t,e){for(Hg[t]=e,t=0;t<e.length;t++)b4.add(e[t])}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OC=Object.prototype.hasOwnProperty,CJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zB={},GB={};function AJ(t){return OC.call(GB,t)?!0:OC.call(zB,t)?!1:CJ.test(t)?GB[t]=!0:(zB[t]=!0,!1)}function TJ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DJ(t,e,r,n){if(e===null||typeof e>"u"||TJ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,r,n,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var NP=/[\-:]([a-z])/g;function UP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(NP,UP);_n[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(NP,UP);_n[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(NP,UP);_n[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $P(t,e,r,n){var s=_n.hasOwnProperty(e)?_n[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DJ(e,r,s,n)&&(r=null),n||s===null?AJ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Wa=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,My=Symbol.for("react.element"),Xd=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),BC=Symbol.for("react.profiler"),E4=Symbol.for("react.provider"),S4=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),FC=Symbol.for("react.suspense_list"),GP=Symbol.for("react.memo"),pl=Symbol.for("react.lazy"),C4=Symbol.for("react.offscreen"),VB=Symbol.iterator;function ap(t){return t===null||typeof t!="object"?null:(t=VB&&t[VB]||t["@@iterator"],typeof t=="function"?t:null)}var xr=Object.assign,tE;function Np(t){if(tE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tE=e&&e[1]||""}return"\n"+tE+t}var rE=!1;function nE(t,e){if(!t||rE)return"";rE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split("\n"),o=n.stack.split("\n"),l=s.length-1,a=o.length-1;1<=l&&0<=a&&s[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==o[a]){var c="\n"+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{rE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Np(t):""}function PJ(t){switch(t.tag){case 5:return Np(t.type);case 16:return Np("Lazy");case 13:return Np("Suspense");case 19:return Np("SuspenseList");case 0:case 2:case 15:return t=nE(t.type,!1),t;case 11:return t=nE(t.type.render,!1),t;case 1:return t=nE(t.type,!0),t;default:return""}}function kC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yd:return"Fragment";case Xd:return"Portal";case BC:return"Profiler";case jP:return"StrictMode";case MC:return"Suspense";case FC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S4:return(t.displayName||"Context")+".Consumer";case E4:return(t._context.displayName||"Context")+".Provider";case zP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GP:return e=t.displayName||null,e!==null?e:kC(t.type)||"Memo";case pl:e=t._payload,t=t._init;try{return kC(t(e))}catch(r){}}return null}function RJ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kC(e);case 8:return e===jP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IJ(t){var e=A4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fy(t){t._valueTracker||(t._valueTracker=IJ(t))}function T4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=A4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function X_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function LC(t,e){var r=e.checked;return xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function HB(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D4(t,e){e=e.checked,e!=null&&$P(t,"checked",e,!1)}function NC(t,e){D4(t,e);var r=eu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?UC(t,e.type,r):e.hasOwnProperty("defaultValue")&&UC(t,e.type,eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WB(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function UC(t,e,r){(e!=="number"||X_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Up=Array.isArray;function ph(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $C(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KB(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(Up(r)){if(1<r.length)throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eu(r)}}function P4(t,e){var r=eu(e.value),n=eu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function XB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ky,I4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ky=ky||document.createElement("div"),ky.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ky.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OJ=["Webkit","ms","Moz","O"];Object.keys(lg).forEach(function(t){OJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lg[e]=lg[t]})});function O4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lg.hasOwnProperty(t)&&lg[t]?(""+e).trim():e+"px"}function B4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=O4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var BJ=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zC(t,e){if(e){if(BJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function GC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VC=null;function VP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var HC=null,gh=null,mh=null;function YB(t){if(t=Pv(t)){if(typeof HC!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=cw(e),HC(t.stateNode,t.type,e))}}function M4(t){gh?mh?mh.push(t):mh=[t]:gh=t}function F4(){if(gh){var t=gh,e=mh;if(mh=gh=null,YB(t),e)for(t=0;t<e.length;t++)YB(e[t])}}function k4(t,e){return t(e)}function L4(){}var iE=!1;function N4(t,e,r){if(iE)return t(e,r);iE=!0;try{return k4(t,e,r)}finally{iE=!1,(gh!==null||mh!==null)&&(L4(),F4())}}function Kg(t,e){var r=t.stateNode;if(r===null)return null;var n=cw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var WC=!1;if(Ra)try{var lp={};Object.defineProperty(lp,"passive",{get:function(){WC=!0}}),window.addEventListener("test",lp,lp),window.removeEventListener("test",lp,lp)}catch(t){WC=!1}function MJ(t,e,r,n,s,o,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(f){this.onError(f)}}var ug=!1,Y_=null,q_=!1,KC=null,FJ={onError:function(t){ug=!0,Y_=t}};function kJ(t,e,r,n,s,o,l,a,c){ug=!1,Y_=null,MJ.apply(FJ,arguments)}function LJ(t,e,r,n,s,o,l,a,c){if(kJ.apply(this,arguments),ug){if(ug){var d=Y_;ug=!1,Y_=null}else throw Error(ge(198));q_||(q_=!0,KC=d)}}function Yc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function U4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qB(t){if(Yc(t)!==t)throw Error(ge(188))}function NJ(t){var e=t.alternate;if(!e){if(e=Yc(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return qB(s),t;if(o===n)return qB(s),e;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=o;else{for(var l=!1,a=s.child;a;){if(a===r){l=!0,r=s,n=o;break}if(a===n){l=!0,n=s,r=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===r){l=!0,r=o,n=s;break}if(a===n){l=!0,n=o,r=s;break}a=a.sibling}if(!l)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function $4(t){return t=NJ(t),t!==null?j4(t):null}function j4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j4(t);if(e!==null)return e;t=t.sibling}return null}var z4=$i.unstable_scheduleCallback,ZB=$i.unstable_cancelCallback,UJ=$i.unstable_shouldYield,$J=$i.unstable_requestPaint,Ir=$i.unstable_now,jJ=$i.unstable_getCurrentPriorityLevel,HP=$i.unstable_ImmediatePriority,G4=$i.unstable_UserBlockingPriority,Z_=$i.unstable_NormalPriority,zJ=$i.unstable_LowPriority,V4=$i.unstable_IdlePriority,ow=null,Ro=null;function GJ(t){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(ow,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Ws=Math.clz32?Math.clz32:WJ,VJ=Math.log,HJ=Math.LN2;function WJ(t){return t>>>=0,t===0?32:31-(VJ(t)/HJ|0)|0}var Ly=64,Ny=4194304;function $p(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Q_(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,l=r&268435455;if(l!==0){var a=l&~s;a!==0?n=$p(a):(o&=l,o!==0&&(n=$p(o)))}else l=r&~s,l!==0?n=$p(l):o!==0&&(n=$p(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ws(e),s=1<<r,n|=t[r],e&=~s;return n}function KJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XJ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ws(o),a=1<<l,c=s[l];c===-1?(!(a&r)||a&n)&&(s[l]=KJ(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function XC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H4(){var t=Ly;return Ly<<=1,!(Ly&4194240)&&(Ly=64),t}function sE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Tv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ws(e),t[e]=r}function YJ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ws(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function WP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ws(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Lt=0;function W4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K4,KP,X4,Y4,q4,YC=!1,Uy=[],Ul=null,$l=null,jl=null,Xg=new Map,Yg=new Map,bl=[],qJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QB(t,e){switch(t){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":Xg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yg.delete(e.pointerId)}}function up(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Pv(e),e!==null&&KP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZJ(t,e,r,n,s){switch(e){case"focusin":return Ul=up(Ul,t,e,r,n,s),!0;case"dragenter":return $l=up($l,t,e,r,n,s),!0;case"mouseover":return jl=up(jl,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Xg.set(o,up(Xg.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Yg.set(o,up(Yg.get(o)||null,t,e,r,n,s)),!0}return!1}function Z4(t){var e=tc(t.target);if(e!==null){var r=Yc(e);if(r!==null){if(e=r.tag,e===13){if(e=U4(r),e!==null){t.blockedOn=e,q4(t.priority,function(){X4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);VC=n,r.target.dispatchEvent(n),VC=null}else return e=Pv(r),e!==null&&KP(e),t.blockedOn=r,!1;e.shift()}return!0}function JB(t,e,r){n_(t)&&r.delete(e)}function QJ(){YC=!1,Ul!==null&&n_(Ul)&&(Ul=null),$l!==null&&n_($l)&&($l=null),jl!==null&&n_(jl)&&(jl=null),Xg.forEach(JB),Yg.forEach(JB)}function cp(t,e){t.blockedOn===e&&(t.blockedOn=null,YC||(YC=!0,$i.unstable_scheduleCallback($i.unstable_NormalPriority,QJ)))}function qg(t){function e(s){return cp(s,t)}if(0<Uy.length){cp(Uy[0],t);for(var r=1;r<Uy.length;r++){var n=Uy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ul!==null&&cp(Ul,t),$l!==null&&cp($l,t),jl!==null&&cp(jl,t),Xg.forEach(e),Yg.forEach(e),r=0;r<bl.length;r++)n=bl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bl.length&&(r=bl[0],r.blockedOn===null);)Z4(r),r.blockedOn===null&&bl.shift()}var vh=Wa.ReactCurrentBatchConfig,J_=!0;function JJ(t,e,r,n){var s=Lt,o=vh.transition;vh.transition=null;try{Lt=1,XP(t,e,r,n)}finally{Lt=s,vh.transition=o}}function eee(t,e,r,n){var s=Lt,o=vh.transition;vh.transition=null;try{Lt=4,XP(t,e,r,n)}finally{Lt=s,vh.transition=o}}function XP(t,e,r,n){if(J_){var s=qC(t,e,r,n);if(s===null)gE(t,e,n,e1,r),QB(t,n);else if(ZJ(s,t,e,r,n))n.stopPropagation();else if(QB(t,n),e&4&&-1<qJ.indexOf(t)){for(;s!==null;){var o=Pv(s);if(o!==null&&K4(o),o=qC(t,e,r,n),o===null&&gE(t,e,n,e1,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else gE(t,e,n,null,r)}}var e1=null;function qC(t,e,r,n){if(e1=null,t=VP(n),t=tc(t),t!==null)if(e=Yc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=U4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return e1=t,null}function Q4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jJ()){case HP:return 1;case G4:return 4;case Z_:case zJ:return 16;case V4:return 536870912;default:return 16}default:return 16}}var Pl=null,YP=null,i_=null;function J4(){if(i_)return i_;var t,e=YP,r=e.length,n,s="value"in Pl?Pl.value:Pl.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[o-n];n++);return i_=s.slice(t,1<n?1-n:void 0)}function s_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $y(){return!0}function eM(){return!1}function Hi(t){function e(r,n,s,o,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$y:eM,this.isPropagationStopped=eM,this}return xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$y)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$y)},persist:function(){},isPersistent:$y}),e}var bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qP=Hi(bf),Dv=xr({},bf,{view:0,detail:0}),tee=Hi(Dv),oE,aE,dp,aw=xr({},Dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dp&&(dp&&t.type==="mousemove"?(oE=t.screenX-dp.screenX,aE=t.screenY-dp.screenY):aE=oE=0,dp=t),oE)},movementY:function(t){return"movementY"in t?t.movementY:aE}}),tM=Hi(aw),ree=xr({},aw,{dataTransfer:0}),nee=Hi(ree),iee=xr({},Dv,{relatedTarget:0}),lE=Hi(iee),see=xr({},bf,{animationName:0,elapsedTime:0,pseudoElement:0}),oee=Hi(see),aee=xr({},bf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lee=Hi(aee),uee=xr({},bf,{data:0}),rM=Hi(uee),cee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hee[t])?!!e[t]:!1}function ZP(){return fee}var pee=xr({},Dv,{key:function(t){if(t.key){var e=cee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=s_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZP,charCode:function(t){return t.type==="keypress"?s_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?s_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gee=Hi(pee),mee=xr({},aw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nM=Hi(mee),vee=xr({},Dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZP}),yee=Hi(vee),_ee=xr({},bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),xee=Hi(_ee),wee=xr({},aw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bee=Hi(wee),Eee=[9,13,27,32],QP=Ra&&"CompositionEvent"in window,cg=null;Ra&&"documentMode"in document&&(cg=document.documentMode);var See=Ra&&"TextEvent"in window&&!cg,e8=Ra&&(!QP||cg&&8<cg&&11>=cg),iM=String.fromCharCode(32),sM=!1;function t8(t,e){switch(t){case"keyup":return Eee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qd=!1;function Cee(t,e){switch(t){case"compositionend":return r8(e);case"keypress":return e.which!==32?null:(sM=!0,iM);case"textInput":return t=e.data,t===iM&&sM?null:t;default:return null}}function Aee(t,e){if(qd)return t==="compositionend"||!QP&&t8(t,e)?(t=J4(),i_=YP=Pl=null,qd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e8&&e.locale!=="ko"?null:e.data;default:return null}}var Tee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tee[t.type]:e==="textarea"}function n8(t,e,r,n){M4(n),e=t1(e,"onChange"),0<e.length&&(r=new qP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var dg=null,Zg=null;function Dee(t){p8(t,0)}function lw(t){var e=Jd(t);if(T4(e))return t}function Pee(t,e){if(t==="change")return e}var i8=!1;if(Ra){var uE;if(Ra){var cE="oninput"in document;if(!cE){var aM=document.createElement("div");aM.setAttribute("oninput","return;"),cE=typeof aM.oninput=="function"}uE=cE}else uE=!1;i8=uE&&(!document.documentMode||9<document.documentMode)}function lM(){dg&&(dg.detachEvent("onpropertychange",s8),Zg=dg=null)}function s8(t){if(t.propertyName==="value"&&lw(Zg)){var e=[];n8(e,Zg,t,VP(t)),N4(Dee,e)}}function Ree(t,e,r){t==="focusin"?(lM(),dg=e,Zg=r,dg.attachEvent("onpropertychange",s8)):t==="focusout"&&lM()}function Iee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lw(Zg)}function Oee(t,e){if(t==="click")return lw(e)}function Bee(t,e){if(t==="input"||t==="change")return lw(e)}function Mee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eo=typeof Object.is=="function"?Object.is:Mee;function Qg(t,e){if(eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!OC.call(e,s)||!eo(t[s],e[s]))return!1}return!0}function uM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cM(t,e){var r=uM(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uM(r)}}function o8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a8(){for(var t=window,e=X_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=X_(t.document)}return e}function JP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fee(t){var e=a8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&o8(r.ownerDocument.documentElement,r)){if(n!==null&&JP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=cM(r,o);var l=cM(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kee=Ra&&"documentMode"in document&&11>=document.documentMode,Zd=null,ZC=null,hg=null,QC=!1;function dM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QC||Zd==null||Zd!==X_(n)||(n=Zd,"selectionStart"in n&&JP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hg&&Qg(hg,n)||(hg=n,n=t1(ZC,"onSelect"),0<n.length&&(e=new qP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zd)))}function jy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qd={animationend:jy("Animation","AnimationEnd"),animationiteration:jy("Animation","AnimationIteration"),animationstart:jy("Animation","AnimationStart"),transitionend:jy("Transition","TransitionEnd")},dE={},l8={};Ra&&(l8=document.createElement("div").style,"AnimationEvent"in window||(delete Qd.animationend.animation,delete Qd.animationiteration.animation,delete Qd.animationstart.animation),"TransitionEvent"in window||delete Qd.transitionend.transition);function uw(t){if(dE[t])return dE[t];if(!Qd[t])return t;var e=Qd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in l8)return dE[t]=e[r];return t}var u8=uw("animationend"),c8=uw("animationiteration"),d8=uw("animationstart"),h8=uw("transitionend"),f8=new Map,hM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _u(t,e){f8.set(t,e),Xc(e,[t])}for(var hE=0;hE<hM.length;hE++){var fE=hM[hE],Lee=fE.toLowerCase(),Nee=fE[0].toUpperCase()+fE.slice(1);_u(Lee,"on"+Nee)}_u(u8,"onAnimationEnd");_u(c8,"onAnimationIteration");_u(d8,"onAnimationStart");_u("dblclick","onDoubleClick");_u("focusin","onFocus");_u("focusout","onBlur");_u(h8,"onTransitionEnd");Nh("onMouseEnter",["mouseout","mouseover"]);Nh("onMouseLeave",["mouseout","mouseover"]);Nh("onPointerEnter",["pointerout","pointerover"]);Nh("onPointerLeave",["pointerout","pointerover"]);Xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uee=new Set("cancel close invalid load scroll toggle".split(" ").concat(jp));function fM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,LJ(n,e,void 0,t),t.currentTarget=null}function p8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;fM(s,a,d),o=c}else for(l=0;l<n.length;l++){if(a=n[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;fM(s,a,d),o=c}}}if(q_)throw t=KC,q_=!1,KC=null,t}function Zt(t,e){var r=e[nA];r===void 0&&(r=e[nA]=new Set);var n=t+"__bubble";r.has(n)||(g8(e,t,2,!1),r.add(n))}function pE(t,e,r){var n=0;e&&(n|=4),g8(r,t,n,e)}var zy="_reactListening"+Math.random().toString(36).slice(2);function Jg(t){if(!t[zy]){t[zy]=!0,b4.forEach(function(r){r!=="selectionchange"&&(Uee.has(r)||pE(r,!1,t),pE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zy]||(e[zy]=!0,pE("selectionchange",!1,e))}}function g8(t,e,r,n){switch(Q4(e)){case 1:var s=JJ;break;case 4:s=eee;break;default:s=XP}r=s.bind(null,e,r,t),s=void 0,!WC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function gE(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=tc(a),l===null)return;if(c=l.tag,c===5||c===6){n=o=l;continue e}a=a.parentNode}}n=n.return}N4(function(){var d=o,f=VP(r),g=[];e:{var m=f8.get(t);if(m!==void 0){var y=qP,_=t;switch(t){case"keypress":if(s_(r)===0)break e;case"keydown":case"keyup":y=gee;break;case"focusin":_="focus",y=lE;break;case"focusout":_="blur",y=lE;break;case"beforeblur":case"afterblur":y=lE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=tM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=nee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yee;break;case u8:case c8:case d8:y=oee;break;case h8:y=xee;break;case"scroll":y=tee;break;case"wheel":y=bee;break;case"copy":case"cut":case"paste":y=lee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=nM}var u=(e&4)!==0,h=!u&&t==="scroll",p=u?m!==null?m+"Capture":null:m;u=[];for(var v=d,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,p!==null&&(w=Kg(v,p),w!=null&&u.push(em(v,w,x)))),h)break;v=v.return}0<u.length&&(m=new y(m,_,null,r,f),g.push({event:m,listeners:u}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==VC&&(_=r.relatedTarget||r.fromElement)&&(tc(_)||_[Ia]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=d,_=_?tc(_):null,_!==null&&(h=Yc(_),_!==h||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=d),y!==_)){if(u=tM,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(u=nM,w="onPointerLeave",p="onPointerEnter",v="pointer"),h=y==null?m:Jd(y),x=_==null?m:Jd(_),m=new u(w,v+"leave",y,r,f),m.target=h,m.relatedTarget=x,w=null,tc(f)===d&&(u=new u(p,v+"enter",_,r,f),u.target=x,u.relatedTarget=h,w=u),h=w,y&&_)t:{for(u=y,p=_,v=0,x=u;x;x=vd(x))v++;for(x=0,w=p;w;w=vd(w))x++;for(;0<v-x;)u=vd(u),v--;for(;0<x-v;)p=vd(p),x--;for(;v--;){if(u===p||p!==null&&u===p.alternate)break t;u=vd(u),p=vd(p)}u=null}else u=null;y!==null&&pM(g,m,y,u,!1),_!==null&&h!==null&&pM(g,h,_,u,!0)}}e:{if(m=d?Jd(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var b=Pee;else if(oM(m))if(i8)b=Bee;else{b=Iee;var S=Ree}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=Oee);if(b&&(b=b(t,d))){n8(g,b,r,f);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&UC(m,"number",m.value)}switch(S=d?Jd(d):window,t){case"focusin":(oM(S)||S.contentEditable==="true")&&(Zd=S,ZC=d,hg=null);break;case"focusout":hg=ZC=Zd=null;break;case"mousedown":QC=!0;break;case"contextmenu":case"mouseup":case"dragend":QC=!1,dM(g,r,f);break;case"selectionchange":if(kee)break;case"keydown":case"keyup":dM(g,r,f)}var C;if(QP)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qd?t8(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(e8&&r.locale!=="ko"&&(qd||A!=="onCompositionStart"?A==="onCompositionEnd"&&qd&&(C=J4()):(Pl=f,YP="value"in Pl?Pl.value:Pl.textContent,qd=!0)),S=t1(d,A),0<S.length&&(A=new rM(A,t,null,r,f),g.push({event:A,listeners:S}),C?A.data=C:(C=r8(r),C!==null&&(A.data=C)))),(C=See?Cee(t,r):Aee(t,r))&&(d=t1(d,"onBeforeInput"),0<d.length&&(f=new rM("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:d}),f.data=C))}p8(g,e)})}function em(t,e,r){return{instance:t,listener:e,currentTarget:r}}function t1(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Kg(t,r),o!=null&&n.unshift(em(t,o,s)),o=Kg(t,e),o!=null&&n.push(em(t,o,s))),t=t.return}return n}function vd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pM(t,e,r,n,s){for(var o=e._reactName,l=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,s?(c=Kg(r,o),c!=null&&l.unshift(em(r,c,a))):s||(c=Kg(r,o),c!=null&&l.push(em(r,c,a)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var $ee=/\r\n?/g,jee=/\u0000|\uFFFD/g;function gM(t){return(typeof t=="string"?t:""+t).replace($ee,"\n").replace(jee,"")}function Gy(t,e,r){if(e=gM(e),gM(t)!==e&&r)throw Error(ge(425))}function r1(){}var JC=null,eA=null;function tA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rA=typeof setTimeout=="function"?setTimeout:void 0,zee=typeof clearTimeout=="function"?clearTimeout:void 0,mM=typeof Promise=="function"?Promise:void 0,Gee=typeof queueMicrotask=="function"?queueMicrotask:typeof mM<"u"?function(t){return mM.resolve(null).then(t).catch(Vee)}:rA;function Vee(t){setTimeout(function(){throw t})}function mE(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),qg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qg(e)}function zl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ef=Math.random().toString(36).slice(2),Eo="__reactFiber$"+Ef,tm="__reactProps$"+Ef,Ia="__reactContainer$"+Ef,nA="__reactEvents$"+Ef,Hee="__reactListeners$"+Ef,Wee="__reactHandles$"+Ef;function tc(t){var e=t[Eo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ia]||r[Eo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vM(t);t!==null;){if(r=t[Eo])return r;t=vM(t)}return e}t=r,r=t.parentNode}return null}function Pv(t){return t=t[Eo]||t[Ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function cw(t){return t[tm]||null}var iA=[],eh=-1;function xu(t){return{current:t}}function rr(t){0>eh||(t.current=iA[eh],iA[eh]=null,eh--)}function Xt(t,e){eh++,iA[eh]=t.current,t.current=e}var tu={},On=xu(tu),ui=xu(!1),Ic=tu;function Uh(t,e){var r=t.type.contextTypes;if(!r)return tu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ci(t){return t=t.childContextTypes,t!=null}function n1(){rr(ui),rr(On)}function yM(t,e,r){if(On.current!==tu)throw Error(ge(168));Xt(On,e),Xt(ui,r)}function m8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(ge(108,RJ(t)||"Unknown",s));return xr({},r,n)}function i1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tu,Ic=On.current,Xt(On,t),Xt(ui,ui.current),!0}function _M(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=m8(t,e,Ic),n.__reactInternalMemoizedMergedChildContext=t,rr(ui),rr(On),Xt(On,t)):rr(ui),Xt(ui,r)}var ca=null,dw=!1,vE=!1;function v8(t){ca===null?ca=[t]:ca.push(t)}function Kee(t){dw=!0,v8(t)}function wu(){if(!vE&&ca!==null){vE=!0;var t=0,e=Lt;try{var r=ca;for(Lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ca=null,dw=!1}catch(s){throw ca!==null&&(ca=ca.slice(t+1)),z4(HP,wu),s}finally{Lt=e,vE=!1}}return null}var th=[],rh=0,s1=null,o1=0,os=[],as=0,Oc=null,va=1,ya="";function Vu(t,e){th[rh++]=o1,th[rh++]=s1,s1=t,o1=e}function y8(t,e,r){os[as++]=va,os[as++]=ya,os[as++]=Oc,Oc=t;var n=va;t=ya;var s=32-Ws(n)-1;n&=~(1<<s),r+=1;var o=32-Ws(e)+s;if(30<o){var l=s-s%5;o=(n&(1<<l)-1).toString(32),n>>=l,s-=l,va=1<<32-Ws(e)+s|r<<s|n,ya=o+t}else va=1<<o|r<<s|n,ya=t}function e2(t){t.return!==null&&(Vu(t,1),y8(t,1,0))}function t2(t){for(;t===s1;)s1=th[--rh],th[rh]=null,o1=th[--rh],th[rh]=null;for(;t===Oc;)Oc=os[--as],os[as]=null,ya=os[--as],os[as]=null,va=os[--as],os[as]=null}var Fi=null,Bi=null,ur=!1,Us=null;function _8(t,e){var r=hs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function xM(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fi=t,Bi=zl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fi=t,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Oc!==null?{id:va,overflow:ya}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=hs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Fi=t,Bi=null,!0):!1;default:return!1}}function sA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oA(t){if(ur){var e=Bi;if(e){var r=e;if(!xM(t,e)){if(sA(t))throw Error(ge(418));e=zl(r.nextSibling);var n=Fi;e&&xM(t,e)?_8(n,r):(t.flags=t.flags&-4097|2,ur=!1,Fi=t)}}else{if(sA(t))throw Error(ge(418));t.flags=t.flags&-4097|2,ur=!1,Fi=t}}}function wM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fi=t}function Vy(t){if(t!==Fi)return!1;if(!ur)return wM(t),ur=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tA(t.type,t.memoizedProps)),e&&(e=Bi)){if(sA(t))throw x8(),Error(ge(418));for(;e;)_8(t,e),e=zl(e.nextSibling)}if(wM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bi=zl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bi=null}}else Bi=Fi?zl(t.stateNode.nextSibling):null;return!0}function x8(){for(var t=Bi;t;)t=zl(t.nextSibling)}function $h(){Bi=Fi=null,ur=!1}function r2(t){Us===null?Us=[t]:Us.push(t)}var Xee=Wa.ReactCurrentBatchConfig;function Fs(t,e){if(t&&t.defaultProps){e=xr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var a1=xu(null),l1=null,nh=null,n2=null;function i2(){n2=nh=l1=null}function s2(t){var e=a1.current;rr(a1),t._currentValue=e}function aA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yh(t,e){l1=t,n2=nh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ai=!0),t.firstContext=null)}function Ss(t){var e=t._currentValue;if(n2!==t)if(t={context:t,memoizedValue:e,next:null},nh===null){if(l1===null)throw Error(ge(308));nh=t,l1.dependencies={lanes:0,firstContext:t}}else nh=nh.next=t;return e}var rc=null;function o2(t){rc===null?rc=[t]:rc.push(t)}function w8(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,o2(e)):(r.next=s.next,s.next=r),e.interleaved=r,Oa(t,n)}function Oa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var gl=!1;function a2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Oa(t,r)}return s=n.interleaved,s===null?(e.next=e,o2(n)):(e.next=s.next,s.next=e),n.interleaved=e,Oa(t,r)}function o_(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,WP(t,r)}}function bM(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function u1(t,e,r,n){var s=t.updateQueue;gl=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?o=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(o!==null){var g=s.baseState;l=0,f=d=c=null,a=o;do{var m=a.lane,y=a.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,u=a;switch(m=e,y=r,u.tag){case 1:if(_=u.payload,typeof _=="function"){g=_.call(y,g,m);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=u.payload,m=typeof _=="function"?_.call(y,g,m):_,m==null)break e;g=xr({},g,m);break e;case 2:gl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=y,c=g):f=f.next=y,l|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(f===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Mc|=l,t.lanes=l,t.memoizedState=g}}function EM(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var E8=new w4.Component().refs;function lA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hw={isMounted:function(t){return(t=t._reactInternals)?Yc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xn(),s=Hl(t),o=Ca(n,s);o.payload=e,r!=null&&(o.callback=r),e=Gl(t,o,s),e!==null&&(Ks(e,t,s,n),o_(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xn(),s=Hl(t),o=Ca(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Gl(t,o,s),e!==null&&(Ks(e,t,s,n),o_(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xn(),n=Hl(t),s=Ca(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gl(t,s,n),e!==null&&(Ks(e,t,n,r),o_(e,t,n))}};function SM(t,e,r,n,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,l):e.prototype&&e.prototype.isPureReactComponent?!Qg(r,n)||!Qg(s,o):!0}function S8(t,e,r){var n=!1,s=tu,o=e.contextType;return typeof o=="object"&&o!==null?o=Ss(o):(s=ci(e)?Ic:On.current,n=e.contextTypes,o=(n=n!=null)?Uh(t,s):tu),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function CM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hw.enqueueReplaceState(e,e.state,null)}function uA(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=E8,a2(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Ss(o):(o=ci(e)?Ic:On.current,s.context=Uh(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(lA(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hw.enqueueReplaceState(s,s.state,null),u1(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var a=s.refs;a===E8&&(a=s.refs={}),l===null?delete a[o]:a[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function Hy(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AM(t){var e=t._init;return e(t._payload)}function C8(t){function e(p,v){if(t){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function s(p,v){return p=Wl(p,v),p.index=0,p.sibling=null,p}function o(p,v,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=2,v):x):(p.flags|=2,v)):(p.flags|=1048576,v)}function l(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,x,w){return v===null||v.tag!==6?(v=SE(x,p.mode,w),v.return=p,v):(v=s(v,x),v.return=p,v)}function c(p,v,x,w){var b=x.type;return b===Yd?f(p,v,x.props.children,w,x.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pl&&AM(b)===v.type)?(w=s(v,x.props),w.ref=hp(p,v,x),w.return=p,w):(w=h_(x.type,x.key,x.props,null,p.mode,w),w.ref=hp(p,v,x),w.return=p,w)}function d(p,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=CE(x,p.mode,w),v.return=p,v):(v=s(v,x.children||[]),v.return=p,v)}function f(p,v,x,w,b){return v===null||v.tag!==7?(v=dc(x,p.mode,w,b),v.return=p,v):(v=s(v,x),v.return=p,v)}function g(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=SE(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case My:return x=h_(v.type,v.key,v.props,null,p.mode,x),x.ref=hp(p,null,v),x.return=p,x;case Xd:return v=CE(v,p.mode,x),v.return=p,v;case pl:var w=v._init;return g(p,w(v._payload),x)}if(Up(v)||ap(v))return v=dc(v,p.mode,x,null),v.return=p,v;Hy(p,v)}return null}function m(p,v,x,w){var b=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(p,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case My:return x.key===b?c(p,v,x,w):null;case Xd:return x.key===b?d(p,v,x,w):null;case pl:return b=x._init,m(p,v,b(x._payload),w)}if(Up(x)||ap(x))return b!==null?null:f(p,v,x,w,null);Hy(p,x)}return null}function y(p,v,x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(x)||null,a(v,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case My:return p=p.get(w.key===null?x:w.key)||null,c(v,p,w,b);case Xd:return p=p.get(w.key===null?x:w.key)||null,d(v,p,w,b);case pl:var S=w._init;return y(p,v,x,S(w._payload),b)}if(Up(w)||ap(w))return p=p.get(x)||null,f(v,p,w,b,null);Hy(v,w)}return null}function _(p,v,x,w){for(var b=null,S=null,C=v,A=v=0,T=null;C!==null&&A<x.length;A++){C.index>A?(T=C,C=null):T=C.sibling;var P=m(p,C,x[A],w);if(P===null){C===null&&(C=T);break}t&&C&&P.alternate===null&&e(p,C),v=o(P,v,A),S===null?b=P:S.sibling=P,S=P,C=T}if(A===x.length)return r(p,C),ur&&Vu(p,A),b;if(C===null){for(;A<x.length;A++)C=g(p,x[A],w),C!==null&&(v=o(C,v,A),S===null?b=C:S.sibling=C,S=C);return ur&&Vu(p,A),b}for(C=n(p,C);A<x.length;A++)T=y(C,p,A,x[A],w),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?A:T.key),v=o(T,v,A),S===null?b=T:S.sibling=T,S=T);return t&&C.forEach(function(B){return e(p,B)}),ur&&Vu(p,A),b}function u(p,v,x,w){var b=ap(x);if(typeof b!="function")throw Error(ge(150));if(x=b.call(x),x==null)throw Error(ge(151));for(var S=b=null,C=v,A=v=0,T=null,P=x.next();C!==null&&!P.done;A++,P=x.next()){C.index>A?(T=C,C=null):T=C.sibling;var B=m(p,C,P.value,w);if(B===null){C===null&&(C=T);break}t&&C&&B.alternate===null&&e(p,C),v=o(B,v,A),S===null?b=B:S.sibling=B,S=B,C=T}if(P.done)return r(p,C),ur&&Vu(p,A),b;if(C===null){for(;!P.done;A++,P=x.next())P=g(p,P.value,w),P!==null&&(v=o(P,v,A),S===null?b=P:S.sibling=P,S=P);return ur&&Vu(p,A),b}for(C=n(p,C);!P.done;A++,P=x.next())P=y(C,p,A,P.value,w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?A:P.key),v=o(P,v,A),S===null?b=P:S.sibling=P,S=P);return t&&C.forEach(function(D){return e(p,D)}),ur&&Vu(p,A),b}function h(p,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Yd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case My:e:{for(var b=x.key,S=v;S!==null;){if(S.key===b){if(b=x.type,b===Yd){if(S.tag===7){r(p,S.sibling),v=s(S,x.props.children),v.return=p,p=v;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pl&&AM(b)===S.type){r(p,S.sibling),v=s(S,x.props),v.ref=hp(p,S,x),v.return=p,p=v;break e}r(p,S);break}else e(p,S);S=S.sibling}x.type===Yd?(v=dc(x.props.children,p.mode,w,x.key),v.return=p,p=v):(w=h_(x.type,x.key,x.props,null,p.mode,w),w.ref=hp(p,v,x),w.return=p,p=w)}return l(p);case Xd:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(p,v.sibling),v=s(v,x.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else e(p,v);v=v.sibling}v=CE(x,p.mode,w),v.return=p,p=v}return l(p);case pl:return S=x._init,h(p,v,S(x._payload),w)}if(Up(x))return _(p,v,x,w);if(ap(x))return u(p,v,x,w);Hy(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(p,v.sibling),v=s(v,x),v.return=p,p=v):(r(p,v),v=SE(x,p.mode,w),v.return=p,p=v),l(p)):r(p,v)}return h}var jh=C8(!0),A8=C8(!1),Rv={},Io=xu(Rv),rm=xu(Rv),nm=xu(Rv);function nc(t){if(t===Rv)throw Error(ge(174));return t}function l2(t,e){switch(Xt(nm,e),Xt(rm,t),Xt(Io,Rv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jC(e,t)}rr(Io),Xt(Io,e)}function zh(){rr(Io),rr(rm),rr(nm)}function T8(t){nc(nm.current);var e=nc(Io.current),r=jC(e,t.type);e!==r&&(Xt(rm,t),Xt(Io,r))}function u2(t){rm.current===t&&(rr(Io),rr(rm))}var gr=xu(0);function c1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yE=[];function c2(){for(var t=0;t<yE.length;t++)yE[t]._workInProgressVersionPrimary=null;yE.length=0}var a_=Wa.ReactCurrentDispatcher,_E=Wa.ReactCurrentBatchConfig,Bc=0,_r=null,Kr=null,nn=null,d1=!1,fg=!1,im=0,Yee=0;function wn(){throw Error(ge(321))}function d2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!eo(t[r],e[r]))return!1;return!0}function h2(t,e,r,n,s,o){if(Bc=o,_r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,a_.current=t===null||t.memoizedState===null?Jee:ete,t=r(n,s),fg){o=0;do{if(fg=!1,im=0,25<=o)throw Error(ge(301));o+=1,nn=Kr=null,e.updateQueue=null,a_.current=tte,t=r(n,s)}while(fg)}if(a_.current=h1,e=Kr!==null&&Kr.next!==null,Bc=0,nn=Kr=_r=null,d1=!1,e)throw Error(ge(300));return t}function f2(){var t=im!==0;return im=0,t}function xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?_r.memoizedState=nn=t:nn=nn.next=t,nn}function Cs(){if(Kr===null){var t=_r.alternate;t=t!==null?t.memoizedState:null}else t=Kr.next;var e=nn===null?_r.memoizedState:nn.next;if(e!==null)nn=e,Kr=t;else{if(t===null)throw Error(ge(310));Kr=t,t={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},nn===null?_r.memoizedState=nn=t:nn=nn.next=t}return nn}function sm(t,e){return typeof e=="function"?e(t):e}function xE(t){var e=Cs(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=Kr,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=l=null,c=null,d=o;do{var f=d.lane;if((Bc&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var g={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,l=n):c=c.next=g,_r.lanes|=f,Mc|=f}d=d.next}while(d!==null&&d!==o);c===null?l=n:c.next=a,eo(n,e.memoizedState)||(ai=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,_r.lanes|=o,Mc|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wE(t){var e=Cs(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);eo(o,e.memoizedState)||(ai=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function D8(){}function P8(t,e){var r=_r,n=Cs(),s=e(),o=!eo(n.memoizedState,s);if(o&&(n.memoizedState=s,ai=!0),n=n.queue,p2(O8.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||nn!==null&&nn.memoizedState.tag&1){if(r.flags|=2048,om(9,I8.bind(null,r,n,s,e),void 0,null),un===null)throw Error(ge(349));Bc&30||R8(r,e,s)}return s}function R8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function I8(t,e,r,n){e.value=r,e.getSnapshot=n,B8(e)&&M8(t)}function O8(t,e,r){return r(function(){B8(e)&&M8(t)})}function B8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!eo(t,r)}catch(n){return!0}}function M8(t){var e=Oa(t,1);e!==null&&Ks(e,t,1,-1)}function TM(t){var e=xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:t},e.queue=t,t=t.dispatch=Qee.bind(null,_r,t),[e.memoizedState,t]}function om(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function F8(){return Cs().memoizedState}function l_(t,e,r,n){var s=xo();_r.flags|=t,s.memoizedState=om(1|e,r,void 0,n===void 0?null:n)}function fw(t,e,r,n){var s=Cs();n=n===void 0?null:n;var o=void 0;if(Kr!==null){var l=Kr.memoizedState;if(o=l.destroy,n!==null&&d2(n,l.deps)){s.memoizedState=om(e,r,o,n);return}}_r.flags|=t,s.memoizedState=om(1|e,r,o,n)}function DM(t,e){return l_(8390656,8,t,e)}function p2(t,e){return fw(2048,8,t,e)}function k8(t,e){return fw(4,2,t,e)}function L8(t,e){return fw(4,4,t,e)}function N8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U8(t,e,r){return r=r!=null?r.concat([t]):null,fw(4,4,N8.bind(null,e,t),r)}function g2(){}function $8(t,e){var r=Cs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&d2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function j8(t,e){var r=Cs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&d2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function z8(t,e,r){return Bc&21?(eo(r,e)||(r=H4(),_r.lanes|=r,Mc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ai=!0),t.memoizedState=r)}function qee(t,e){var r=Lt;Lt=r!==0&&4>r?r:4,t(!0);var n=_E.transition;_E.transition={};try{t(!1),e()}finally{Lt=r,_E.transition=n}}function G8(){return Cs().memoizedState}function Zee(t,e,r){var n=Hl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V8(t))H8(e,r);else if(r=w8(t,e,r,n),r!==null){var s=Xn();Ks(r,t,n,s),W8(r,e,n)}}function Qee(t,e,r){var n=Hl(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V8(t))H8(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,a=o(l,r);if(s.hasEagerState=!0,s.eagerState=a,eo(a,l)){var c=e.interleaved;c===null?(s.next=s,o2(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch(d){}finally{}r=w8(t,e,s,n),r!==null&&(s=Xn(),Ks(r,t,n,s),W8(r,e,n))}}function V8(t){var e=t.alternate;return t===_r||e!==null&&e===_r}function H8(t,e){fg=d1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function W8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,WP(t,r)}}var h1={readContext:Ss,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},Jee={readContext:Ss,useCallback:function(t,e){return xo().memoizedState=[t,e===void 0?null:e],t},useContext:Ss,useEffect:DM,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,l_(4194308,4,N8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return l_(4194308,4,t,e)},useInsertionEffect:function(t,e){return l_(4,2,t,e)},useMemo:function(t,e){var r=xo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Zee.bind(null,_r,t),[n.memoizedState,t]},useRef:function(t){var e=xo();return t={current:t},e.memoizedState=t},useState:TM,useDebugValue:g2,useDeferredValue:function(t){return xo().memoizedState=t},useTransition:function(){var t=TM(!1),e=t[0];return t=qee.bind(null,t[1]),xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_r,s=xo();if(ur){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=e(),un===null)throw Error(ge(349));Bc&30||R8(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,DM(O8.bind(null,n,o,t),[t]),n.flags|=2048,om(9,I8.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=xo(),e=un.identifierPrefix;if(ur){var r=ya,n=va;r=(n&~(1<<32-Ws(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=im++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Yee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ete={readContext:Ss,useCallback:$8,useContext:Ss,useEffect:p2,useImperativeHandle:U8,useInsertionEffect:k8,useLayoutEffect:L8,useMemo:j8,useReducer:xE,useRef:F8,useState:function(){return xE(sm)},useDebugValue:g2,useDeferredValue:function(t){var e=Cs();return z8(e,Kr.memoizedState,t)},useTransition:function(){var t=xE(sm)[0],e=Cs().memoizedState;return[t,e]},useMutableSource:D8,useSyncExternalStore:P8,useId:G8,unstable_isNewReconciler:!1},tte={readContext:Ss,useCallback:$8,useContext:Ss,useEffect:p2,useImperativeHandle:U8,useInsertionEffect:k8,useLayoutEffect:L8,useMemo:j8,useReducer:wE,useRef:F8,useState:function(){return wE(sm)},useDebugValue:g2,useDeferredValue:function(t){var e=Cs();return Kr===null?e.memoizedState=t:z8(e,Kr.memoizedState,t)},useTransition:function(){var t=wE(sm)[0],e=Cs().memoizedState;return[t,e]},useMutableSource:D8,useSyncExternalStore:P8,useId:G8,unstable_isNewReconciler:!1};function Gh(t,e){try{var r="",n=e;do r+=PJ(n),n=n.return;while(n);var s=r}catch(o){s="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:s,digest:null}}function bE(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function cA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var rte=typeof WeakMap=="function"?WeakMap:Map;function K8(t,e,r){r=Ca(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){p1||(p1=!0,xA=n),cA(t,e)},r}function X8(t,e,r){r=Ca(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){cA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){cA(t,e),typeof n!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function PM(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new rte;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=mte.bind(null,t,e,r),e.then(t,t))}function RM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IM(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ca(-1,1),e.tag=2,Gl(r,e,1))),r.lanes|=1),t)}var nte=Wa.ReactCurrentOwner,ai=!1;function jn(t,e,r,n){e.child=t===null?A8(e,null,r,n):jh(e,t.child,r,n)}function OM(t,e,r,n,s){r=r.render;var o=e.ref;return yh(e,s),n=h2(t,e,r,n,o,s),r=f2(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ba(t,e,s)):(ur&&r&&e2(e),e.flags|=1,jn(t,e,n,s),e.child)}function BM(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!E2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Y8(t,e,o,n,s)):(t=h_(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Qg,r(l,n)&&t.ref===e.ref)return Ba(t,e,s)}return e.flags|=1,t=Wl(o,n),t.ref=e.ref,t.return=e,e.child=t}function Y8(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Qg(o,n)&&t.ref===e.ref)if(ai=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(ai=!0);else return e.lanes=t.lanes,Ba(t,e,s)}return dA(t,e,r,n,s)}function q8(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(sh,Ci),Ci|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(sh,Ci),Ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Xt(sh,Ci),Ci|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Xt(sh,Ci),Ci|=n;return jn(t,e,s,r),e.child}function Z8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function dA(t,e,r,n,s){var o=ci(r)?Ic:On.current;return o=Uh(e,o),yh(e,s),r=h2(t,e,r,n,o,s),n=f2(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ba(t,e,s)):(ur&&n&&e2(e),e.flags|=1,jn(t,e,r,s),e.child)}function MM(t,e,r,n,s){if(ci(r)){var o=!0;i1(e)}else o=!1;if(yh(e,s),e.stateNode===null)u_(t,e),S8(e,r,n),uA(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ss(d):(d=ci(r)?Ic:On.current,d=Uh(e,d));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||c!==d)&&CM(e,l,n,d),gl=!1;var m=e.memoizedState;l.state=m,u1(e,n,l,s),c=e.memoizedState,a!==n||m!==c||ui.current||gl?(typeof f=="function"&&(lA(e,r,f,n),c=e.memoizedState),(a=gl||SM(e,r,a,n,m,c,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=d,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,b8(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Fs(e.type,a),l.props=d,g=e.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ss(c):(c=ci(r)?Ic:On.current,c=Uh(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||m!==c)&&CM(e,l,n,c),gl=!1,m=e.memoizedState,l.state=m,u1(e,n,l,s);var _=e.memoizedState;a!==g||m!==_||ui.current||gl?(typeof y=="function"&&(lA(e,r,y,n),_=e.memoizedState),(d=gl||SM(e,r,d,n,m,_,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,_,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,_,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),l.props=n,l.state=_,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return hA(t,e,r,n,o,s)}function hA(t,e,r,n,s,o){Z8(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&_M(e,r,!1),Ba(t,e,o);n=e.stateNode,nte.current=e;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=jh(e,t.child,null,o),e.child=jh(e,null,a,o)):jn(t,e,a,o),e.memoizedState=n.state,s&&_M(e,r,!0),e.child}function Q8(t){var e=t.stateNode;e.pendingContext?yM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yM(t,e.context,!1),l2(t,e.containerInfo)}function FM(t,e,r,n,s){return $h(),r2(s),e.flags|=256,jn(t,e,r,n),e.child}var fA={dehydrated:null,treeContext:null,retryLane:0};function pA(t){return{baseLanes:t,cachePool:null,transitions:null}}function J8(t,e,r){var n=e.pendingProps,s=gr.current,o=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Xt(gr,s&1),t===null)return oA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,o?(n=e.mode,o=e.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=mw(l,n,0,null),t=dc(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=pA(r),e.memoizedState=fA,t):m2(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ite(t,e,l,n,a,s,r);if(o){o=n.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Wl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Wl(a,o):(o=dc(o,l,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,l=t.child.memoizedState,l=l===null?pA(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~r,e.memoizedState=fA,n}return o=t.child,t=o.sibling,n=Wl(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function m2(t,e){return e=mw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wy(t,e,r,n){return n!==null&&r2(n),jh(e,t.child,null,r),t=m2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ite(t,e,r,n,s,o,l){if(r)return e.flags&256?(e.flags&=-257,n=bE(Error(ge(422))),Wy(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=mw({mode:"visible",children:n.children},s,0,null),o=dc(o,s,l,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&jh(e,t.child,null,l),e.child.memoizedState=pA(l),e.memoizedState=fA,o);if(!(e.mode&1))return Wy(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(ge(419)),n=bE(o,n,void 0),Wy(t,e,l,n)}if(a=(l&t.childLanes)!==0,ai||a){if(n=un,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Oa(t,s),Ks(n,t,s,-1))}return b2(),n=bE(Error(ge(421))),Wy(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vte.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Bi=zl(s.nextSibling),Fi=e,ur=!0,Us=null,t!==null&&(os[as++]=va,os[as++]=ya,os[as++]=Oc,va=t.id,ya=t.overflow,Oc=e),e=m2(e,n.children),e.flags|=4096,e)}function kM(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aA(t.return,e,r)}function EE(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function e6(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(jn(t,e,n.children,r),n=gr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kM(t,r,e);else if(t.tag===19)kM(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Xt(gr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&c1(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),EE(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&c1(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}EE(e,!0,r,null,o);break;case"together":EE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function u_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ba(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=Wl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ste(t,e,r){switch(e.tag){case 3:Q8(e),$h();break;case 5:T8(e);break;case 1:ci(e.type)&&i1(e);break;case 4:l2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Xt(a1,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Xt(gr,gr.current&1),e.flags|=128,null):r&e.child.childLanes?J8(t,e,r):(Xt(gr,gr.current&1),t=Ba(t,e,r),t!==null?t.sibling:null);Xt(gr,gr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return e6(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(gr,gr.current),n)break;return null;case 22:case 23:return e.lanes=0,q8(t,e,r)}return Ba(t,e,r)}var t6,gA,r6,n6;t6=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gA=function(){};r6=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,nc(Io.current);var o=null;switch(r){case"input":s=LC(t,s),n=LC(t,n),o=[];break;case"select":s=xr({},s,{value:void 0}),n=xr({},n,{value:void 0}),o=[];break;case"textarea":s=$C(t,s),n=$C(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=r1)}zC(r,n);var l;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hg.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(a=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Zt("scroll",t),o||a===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};n6=function(t,e,r,n){r!==n&&(e.flags|=4)};function fp(t,e){if(!ur)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ote(t,e,r){var n=e.pendingProps;switch(t2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return ci(e.type)&&n1(),bn(e),null;case 3:return n=e.stateNode,zh(),rr(ui),rr(On),c2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(EA(Us),Us=null))),gA(t,e),bn(e),null;case 5:u2(e);var s=nc(nm.current);if(r=e.type,t!==null&&e.stateNode!=null)r6(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return bn(e),null}if(t=nc(Io.current),Vy(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Eo]=e,n[tm]=o,t=(e.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<jp.length;s++)Zt(jp[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":HB(n,o),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Zt("invalid",n);break;case"textarea":KB(n,o),Zt("invalid",n)}zC(r,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Gy(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Gy(n.textContent,a,t),s=["children",""+a]):Hg.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&Zt("scroll",n)}switch(r){case"input":Fy(n),WB(n,o,!0);break;case"textarea":Fy(n),XB(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=r1)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Eo]=e,t[tm]=n,t6(t,e,!1,!1),e.stateNode=t;e:{switch(l=GC(r,n),r){case"dialog":Zt("cancel",t),Zt("close",t),s=n;break;case"iframe":case"object":case"embed":Zt("load",t),s=n;break;case"video":case"audio":for(s=0;s<jp.length;s++)Zt(jp[s],t);s=n;break;case"source":Zt("error",t),s=n;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),s=n;break;case"details":Zt("toggle",t),s=n;break;case"input":HB(t,n),s=LC(t,n),Zt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=xr({},n,{value:void 0}),Zt("invalid",t);break;case"textarea":KB(t,n),s=$C(t,n),Zt("invalid",t);break;default:s=n}zC(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?B4(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I4(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wg(t,c):typeof c=="number"&&Wg(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hg.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Zt("scroll",t):c!=null&&$P(t,o,c,l))}switch(r){case"input":Fy(t),WB(t,n,!1);break;case"textarea":Fy(t),XB(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eu(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?ph(t,!!n.multiple,o,!1):n.defaultValue!=null&&ph(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=r1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)n6(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));if(r=nc(nm.current),nc(Io.current),Vy(e)){if(n=e.stateNode,r=e.memoizedProps,n[Eo]=e,(o=n.nodeValue!==r)&&(t=Fi,t!==null))switch(t.tag){case 3:Gy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gy(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Eo]=e,e.stateNode=n}return bn(e),null;case 13:if(rr(gr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ur&&Bi!==null&&e.mode&1&&!(e.flags&128))x8(),$h(),e.flags|=98560,o=!1;else if(o=Vy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(ge(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ge(317));o[Eo]=e}else $h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),o=!1}else Us!==null&&(EA(Us),Us=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gr.current&1?Xr===0&&(Xr=3):b2())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return zh(),gA(t,e),t===null&&Jg(e.stateNode.containerInfo),bn(e),null;case 10:return s2(e.type._context),bn(e),null;case 17:return ci(e.type)&&n1(),bn(e),null;case 19:if(rr(gr),o=e.memoizedState,o===null)return bn(e),null;if(n=(e.flags&128)!==0,l=o.rendering,l===null)if(n)fp(o,!1);else{if(Xr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=c1(t),l!==null){for(e.flags|=128,fp(o,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Xt(gr,gr.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ir()>Vh&&(e.flags|=128,n=!0,fp(o,!1),e.lanes=4194304)}else{if(!n)if(t=c1(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ur)return bn(e),null}else 2*Ir()-o.renderingStartTime>Vh&&r!==1073741824&&(e.flags|=128,n=!0,fp(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(r=o.last,r!==null?r.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ir(),e.sibling=null,r=gr.current,Xt(gr,n?r&1|2:r&1),e):(bn(e),null);case 22:case 23:return w2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ci&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function ate(t,e){switch(t2(e),e.tag){case 1:return ci(e.type)&&n1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zh(),rr(ui),rr(On),c2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u2(e),null;case 13:if(rr(gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));$h()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rr(gr),null;case 4:return zh(),null;case 10:return s2(e.type._context),null;case 22:case 23:return w2(),null;case 24:return null;default:return null}}var Ky=!1,Sn=!1,lte=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ih(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(t,e,n)}else r.current=null}function mA(t,e,r){try{r()}catch(n){wr(t,e,n)}}var LM=!1;function ute(t,e){if(JC=J_,t=a8(),JP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var l=0,a=-1,c=-1,d=0,f=0,g=t,m=null;t:for(;;){for(var y;g!==r||s!==0&&g.nodeType!==3||(a=l+s),g!==o||n!==0&&g.nodeType!==3||(c=l+n),g.nodeType===3&&(l+=g.nodeValue.length),(y=g.firstChild)!==null;)m=g,g=y;for(;;){if(g===t)break t;if(m===r&&++d===s&&(a=l),m===o&&++f===n&&(c=l),(y=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=y}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(eA={focusedElem:t,selectionRange:r},J_=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var u=_.memoizedProps,h=_.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?u:Fs(e.type,u),h);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(w){wr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return _=LM,LM=!1,_}function pg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&mA(e,r,o)}s=s.next}while(s!==n)}}function pw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function i6(t){var e=t.alternate;e!==null&&(t.alternate=null,i6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Eo],delete e[tm],delete e[nA],delete e[Hee],delete e[Wee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function s6(t){return t.tag===5||t.tag===3||t.tag===4}function NM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=r1));else if(n!==4&&(t=t.child,t!==null))for(yA(t,e,r),t=t.sibling;t!==null;)yA(t,e,r),t=t.sibling}function _A(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_A(t,e,r),t=t.sibling;t!==null;)_A(t,e,r),t=t.sibling}var fn=null,Ls=!1;function sl(t,e,r){for(r=r.child;r!==null;)o6(t,e,r),r=r.sibling}function o6(t,e,r){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(ow,r)}catch(a){}switch(r.tag){case 5:Sn||ih(r,e);case 6:var n=fn,s=Ls;fn=null,sl(t,e,r),fn=n,Ls=s,fn!==null&&(Ls?(t=fn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fn.removeChild(r.stateNode));break;case 18:fn!==null&&(Ls?(t=fn,r=r.stateNode,t.nodeType===8?mE(t.parentNode,r):t.nodeType===1&&mE(t,r),qg(t)):mE(fn,r.stateNode));break;case 4:n=fn,s=Ls,fn=r.stateNode.containerInfo,Ls=!0,sl(t,e,r),fn=n,Ls=s;break;case 0:case 11:case 14:case 15:if(!Sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&mA(r,e,l),s=s.next}while(s!==n)}sl(t,e,r);break;case 1:if(!Sn&&(ih(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){wr(r,e,a)}sl(t,e,r);break;case 21:sl(t,e,r);break;case 22:r.mode&1?(Sn=(n=Sn)||r.memoizedState!==null,sl(t,e,r),Sn=n):sl(t,e,r);break;default:sl(t,e,r)}}function UM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lte),e.forEach(function(n){var s=yte.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Is(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:fn=a.stateNode,Ls=!1;break e;case 3:fn=a.stateNode.containerInfo,Ls=!0;break e;case 4:fn=a.stateNode.containerInfo,Ls=!0;break e}a=a.return}if(fn===null)throw Error(ge(160));o6(o,l,s),fn=null,Ls=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){wr(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a6(e,t),e=e.sibling}function a6(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Is(e,t),fo(t),n&4){try{pg(3,t,t.return),pw(3,t)}catch(u){wr(t,t.return,u)}try{pg(5,t,t.return)}catch(u){wr(t,t.return,u)}}break;case 1:Is(e,t),fo(t),n&512&&r!==null&&ih(r,r.return);break;case 5:if(Is(e,t),fo(t),n&512&&r!==null&&ih(r,r.return),t.flags&32){var s=t.stateNode;try{Wg(s,"")}catch(u){wr(t,t.return,u)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=r!==null?r.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&D4(s,o),GC(a,l);var d=GC(a,o);for(l=0;l<c.length;l+=2){var f=c[l],g=c[l+1];f==="style"?B4(s,g):f==="dangerouslySetInnerHTML"?I4(s,g):f==="children"?Wg(s,g):$P(s,f,g,d)}switch(a){case"input":NC(s,o);break;case"textarea":P4(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ph(s,!!o.multiple,y,!1):m!==!!o.multiple&&(o.defaultValue!=null?ph(s,!!o.multiple,o.defaultValue,!0):ph(s,!!o.multiple,o.multiple?[]:"",!1))}s[tm]=o}catch(u){wr(t,t.return,u)}}break;case 6:if(Is(e,t),fo(t),n&4){if(t.stateNode===null)throw Error(ge(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(u){wr(t,t.return,u)}}break;case 3:if(Is(e,t),fo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qg(e.containerInfo)}catch(u){wr(t,t.return,u)}break;case 4:Is(e,t),fo(t);break;case 13:Is(e,t),fo(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(_2=Ir())),n&4&&UM(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Sn=(d=Sn)||f,Is(e,t),Sn=d):Is(e,t),fo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Ue=t,f=t.child;f!==null;){for(g=Ue=f;Ue!==null;){switch(m=Ue,y=m.child,m.tag){case 0:case 11:case 14:case 15:pg(4,m,m.return);break;case 1:ih(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(u){wr(n,r,u)}}break;case 5:ih(m,m.return);break;case 22:if(m.memoizedState!==null){jM(g);continue}}y!==null?(y.return=m,Ue=y):jM(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=O4("display",l))}catch(u){wr(t,t.return,u)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(u){wr(t,t.return,u)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Is(e,t),fo(t),n&4&&UM(t);break;case 21:break;default:Is(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(s6(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wg(s,""),n.flags&=-33);var o=NM(t);_A(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=NM(t);yA(t,a,l);break;default:throw Error(ge(161))}}catch(c){wr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cte(t,e,r){Ue=t,l6(t)}function l6(t,e,r){for(var n=(t.mode&1)!==0;Ue!==null;){var s=Ue,o=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ky;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Sn;a=Ky;var d=Sn;if(Ky=l,(Sn=c)&&!d)for(Ue=s;Ue!==null;)l=Ue,c=l.child,l.tag===22&&l.memoizedState!==null?zM(s):c!==null?(c.return=l,Ue=c):zM(s);for(;o!==null;)Ue=o,l6(o),o=o.sibling;Ue=s,Ky=a,Sn=d}$M(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Ue=o):$M(t)}}function $M(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||pw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Sn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Fs(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&EM(e,o,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}EM(e,l,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&qg(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Sn||e.flags&512&&vA(e)}catch(m){wr(e,e.return,m)}}if(e===t){Ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function jM(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function zM(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{pw(4,e)}catch(c){wr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){wr(e,s,c)}}var o=e.return;try{vA(e)}catch(c){wr(e,o,c)}break;case 5:var l=e.return;try{vA(e)}catch(c){wr(e,l,c)}}}catch(c){wr(e,e.return,c)}if(e===t){Ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ue=a;break}Ue=e.return}}var dte=Math.ceil,f1=Wa.ReactCurrentDispatcher,v2=Wa.ReactCurrentOwner,_s=Wa.ReactCurrentBatchConfig,At=0,un=null,Ur=null,vn=0,Ci=0,sh=xu(0),Xr=0,am=null,Mc=0,gw=0,y2=0,gg=null,si=null,_2=0,Vh=1/0,oa=null,p1=!1,xA=null,Vl=null,Xy=!1,Rl=null,g1=0,mg=0,wA=null,c_=-1,d_=0;function Xn(){return At&6?Ir():c_!==-1?c_:c_=Ir()}function Hl(t){return t.mode&1?At&2&&vn!==0?vn&-vn:Xee.transition!==null?(d_===0&&(d_=H4()),d_):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:Q4(t.type)),t):1}function Ks(t,e,r,n){if(50<mg)throw mg=0,wA=null,Error(ge(185));Tv(t,r,n),(!(At&2)||t!==un)&&(t===un&&(!(At&2)&&(gw|=r),Xr===4&&El(t,vn)),di(t,n),r===1&&At===0&&!(e.mode&1)&&(Vh=Ir()+500,dw&&wu()))}function di(t,e){var r=t.callbackNode;XJ(t,e);var n=Q_(t,t===un?vn:0);if(n===0)r!==null&&ZB(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ZB(r),e===1)t.tag===0?Kee(GM.bind(null,t)):v8(GM.bind(null,t)),Gee(function(){!(At&6)&&wu()}),r=null;else{switch(W4(n)){case 1:r=HP;break;case 4:r=G4;break;case 16:r=Z_;break;case 536870912:r=V4;break;default:r=Z_}r=m6(r,u6.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function u6(t,e){if(c_=-1,d_=0,At&6)throw Error(ge(327));var r=t.callbackNode;if(_h()&&t.callbackNode!==r)return null;var n=Q_(t,t===un?vn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=m1(t,n);else{e=n;var s=At;At|=2;var o=d6();(un!==t||vn!==e)&&(oa=null,Vh=Ir()+500,cc(t,e));do try{pte();break}catch(a){c6(t,a)}while(1);i2(),f1.current=o,At=s,Ur!==null?e=0:(un=null,vn=0,e=Xr)}if(e!==0){if(e===2&&(s=XC(t),s!==0&&(n=s,e=bA(t,s))),e===1)throw r=am,cc(t,0),El(t,n),di(t,Ir()),r;if(e===6)El(t,n);else{if(s=t.current.alternate,!(n&30)&&!hte(s)&&(e=m1(t,n),e===2&&(o=XC(t),o!==0&&(n=o,e=bA(t,o))),e===1))throw r=am,cc(t,0),El(t,n),di(t,Ir()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(ge(345));case 2:Hu(t,si,oa);break;case 3:if(El(t,n),(n&130023424)===n&&(e=_2+500-Ir(),10<e)){if(Q_(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Xn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rA(Hu.bind(null,t,si,oa),e);break}Hu(t,si,oa);break;case 4:if(El(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-Ws(n);o=1<<l,l=e[l],l>s&&(s=l),n&=~o}if(n=s,n=Ir()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dte(n/1960))-n,10<n){t.timeoutHandle=rA(Hu.bind(null,t,si,oa),n);break}Hu(t,si,oa);break;case 5:Hu(t,si,oa);break;default:throw Error(ge(329))}}}return di(t,Ir()),t.callbackNode===r?u6.bind(null,t):null}function bA(t,e){var r=gg;return t.current.memoizedState.isDehydrated&&(cc(t,e).flags|=256),t=m1(t,e),t!==2&&(e=si,si=r,e!==null&&EA(e)),t}function EA(t){si===null?si=t:si.push.apply(si,t)}function hte(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!eo(o(),s))return!1}catch(l){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function El(t,e){for(e&=~y2,e&=~gw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ws(e),n=1<<r;t[r]=-1,e&=~n}}function GM(t){if(At&6)throw Error(ge(327));_h();var e=Q_(t,0);if(!(e&1))return di(t,Ir()),null;var r=m1(t,e);if(t.tag!==0&&r===2){var n=XC(t);n!==0&&(e=n,r=bA(t,n))}if(r===1)throw r=am,cc(t,0),El(t,e),di(t,Ir()),r;if(r===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hu(t,si,oa),di(t,Ir()),null}function x2(t,e){var r=At;At|=1;try{return t(e)}finally{At=r,At===0&&(Vh=Ir()+500,dw&&wu())}}function Fc(t){Rl!==null&&Rl.tag===0&&!(At&6)&&_h();var e=At;At|=1;var r=_s.transition,n=Lt;try{if(_s.transition=null,Lt=1,t)return t()}finally{Lt=n,_s.transition=r,At=e,!(At&6)&&wu()}}function w2(){Ci=sh.current,rr(sh)}function cc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zee(r)),Ur!==null)for(r=Ur.return;r!==null;){var n=r;switch(t2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&n1();break;case 3:zh(),rr(ui),rr(On),c2();break;case 5:u2(n);break;case 4:zh();break;case 13:rr(gr);break;case 19:rr(gr);break;case 10:s2(n.type._context);break;case 22:case 23:w2()}r=r.return}if(un=t,Ur=t=Wl(t.current,null),vn=Ci=e,Xr=0,am=null,y2=gw=Mc=0,si=gg=null,rc!==null){for(e=0;e<rc.length;e++)if(r=rc[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=s,n.next=l}r.pending=n}rc=null}return t}function c6(t,e){do{var r=Ur;try{if(i2(),a_.current=h1,d1){for(var n=_r.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}d1=!1}if(Bc=0,nn=Kr=_r=null,fg=!1,im=0,v2.current=null,r===null||r.return===null){Xr=1,am=e,Ur=null;break}e:{var o=t,l=r.return,a=r,c=e;if(e=vn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=RM(l);if(y!==null){y.flags&=-257,IM(y,l,a,o,e),y.mode&1&&PM(o,d,e),e=y,c=d;var _=e.updateQueue;if(_===null){var u=new Set;u.add(c),e.updateQueue=u}else _.add(c);break e}else{if(!(e&1)){PM(o,d,e),b2();break e}c=Error(ge(426))}}else if(ur&&a.mode&1){var h=RM(l);if(h!==null){!(h.flags&65536)&&(h.flags|=256),IM(h,l,a,o,e),r2(Gh(c,a));break e}}o=c=Gh(c,a),Xr!==4&&(Xr=2),gg===null?gg=[o]:gg.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=K8(o,c,e);bM(o,p);break e;case 1:a=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vl===null||!Vl.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=X8(o,a,e);bM(o,w);break e}}o=o.return}while(o!==null)}f6(r)}catch(b){e=b,Ur===r&&r!==null&&(Ur=r=r.return);continue}break}while(1)}function d6(){var t=f1.current;return f1.current=h1,t===null?h1:t}function b2(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),un===null||!(Mc&268435455)&&!(gw&268435455)||El(un,vn)}function m1(t,e){var r=At;At|=2;var n=d6();(un!==t||vn!==e)&&(oa=null,cc(t,e));do try{fte();break}catch(s){c6(t,s)}while(1);if(i2(),At=r,f1.current=n,Ur!==null)throw Error(ge(261));return un=null,vn=0,Xr}function fte(){for(;Ur!==null;)h6(Ur)}function pte(){for(;Ur!==null&&!UJ();)h6(Ur)}function h6(t){var e=g6(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,e===null?f6(t):Ur=e,v2.current=null}function f6(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ate(r,e),r!==null){r.flags&=32767,Ur=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xr=6,Ur=null;return}}else if(r=ote(r,e,Ci),r!==null){Ur=r;return}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=t}while(e!==null);Xr===0&&(Xr=5)}function Hu(t,e,r){var n=Lt,s=_s.transition;try{_s.transition=null,Lt=1,gte(t,e,r,n)}finally{_s.transition=s,Lt=n}return null}function gte(t,e,r,n){do _h();while(Rl!==null);if(At&6)throw Error(ge(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(YJ(t,o),t===un&&(Ur=un=null,vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xy||(Xy=!0,m6(Z_,function(){return _h(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=_s.transition,_s.transition=null;var l=Lt;Lt=1;var a=At;At|=4,v2.current=null,ute(t,r),a6(r,t),Fee(eA),J_=!!JC,eA=JC=null,t.current=r,cte(r),$J(),At=a,Lt=l,_s.transition=o}else t.current=r;if(Xy&&(Xy=!1,Rl=t,g1=s),o=t.pendingLanes,o===0&&(Vl=null),GJ(r.stateNode),di(t,Ir()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(p1)throw p1=!1,t=xA,xA=null,t;return g1&1&&t.tag!==0&&_h(),o=t.pendingLanes,o&1?t===wA?mg++:(mg=0,wA=t):mg=0,wu(),null}function _h(){if(Rl!==null){var t=W4(g1),e=_s.transition,r=Lt;try{if(_s.transition=null,Lt=16>t?16:t,Rl===null)var n=!1;else{if(t=Rl,Rl=null,g1=0,At&6)throw Error(ge(331));var s=At;for(At|=4,Ue=t.current;Ue!==null;){var o=Ue,l=o.child;if(Ue.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(Ue=d;Ue!==null;){var f=Ue;switch(f.tag){case 0:case 11:case 15:pg(8,f,o)}var g=f.child;if(g!==null)g.return=f,Ue=g;else for(;Ue!==null;){f=Ue;var m=f.sibling,y=f.return;if(i6(f),f===d){Ue=null;break}if(m!==null){m.return=y,Ue=m;break}Ue=y}}}var _=o.alternate;if(_!==null){var u=_.child;if(u!==null){_.child=null;do{var h=u.sibling;u.sibling=null,u=h}while(u!==null)}}Ue=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Ue=l;else e:for(;Ue!==null;){if(o=Ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pg(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Ue=p;break e}Ue=o.return}}var v=t.current;for(Ue=v;Ue!==null;){l=Ue;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,Ue=x;else e:for(l=v;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pw(9,a)}}catch(b){wr(a,a.return,b)}if(a===l){Ue=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ue=w;break e}Ue=a.return}}if(At=s,wu(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(ow,t)}catch(b){}n=!0}return n}finally{Lt=r,_s.transition=e}}return!1}function VM(t,e,r){e=Gh(r,e),e=K8(t,e,1),t=Gl(t,e,1),e=Xn(),t!==null&&(Tv(t,1,e),di(t,e))}function wr(t,e,r){if(t.tag===3)VM(t,t,r);else for(;e!==null;){if(e.tag===3){VM(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vl===null||!Vl.has(n))){t=Gh(r,t),t=X8(e,t,1),e=Gl(e,t,1),t=Xn(),e!==null&&(Tv(e,1,t),di(e,t));break}}e=e.return}}function mte(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xn(),t.pingedLanes|=t.suspendedLanes&r,un===t&&(vn&r)===r&&(Xr===4||Xr===3&&(vn&130023424)===vn&&500>Ir()-_2?cc(t,0):y2|=r),di(t,e)}function p6(t,e){e===0&&(t.mode&1?(e=Ny,Ny<<=1,!(Ny&130023424)&&(Ny=4194304)):e=1);var r=Xn();t=Oa(t,e),t!==null&&(Tv(t,e,r),di(t,r))}function vte(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),p6(t,r)}function yte(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(e),p6(t,r)}var g6;g6=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ui.current)ai=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ai=!1,ste(t,e,r);ai=!!(t.flags&131072)}else ai=!1,ur&&e.flags&1048576&&y8(e,o1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;u_(t,e),t=e.pendingProps;var s=Uh(e,On.current);yh(e,r),s=h2(null,e,n,t,s,r);var o=f2();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(n)?(o=!0,i1(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,a2(e),s.updater=hw,e.stateNode=s,s._reactInternals=e,uA(e,n,t,r),e=hA(null,e,n,!0,o,r)):(e.tag=0,ur&&o&&e2(e),jn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(u_(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=xte(n),t=Fs(n,t),s){case 0:e=dA(null,e,n,t,r);break e;case 1:e=MM(null,e,n,t,r);break e;case 11:e=OM(null,e,n,t,r);break e;case 14:e=BM(null,e,n,Fs(n.type,t),r);break e}throw Error(ge(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fs(n,s),dA(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fs(n,s),MM(t,e,n,s,r);case 3:e:{if(Q8(e),t===null)throw Error(ge(387));n=e.pendingProps,o=e.memoizedState,s=o.element,b8(t,e),u1(e,n,null,r);var l=e.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Gh(Error(ge(423)),e),e=FM(t,e,n,r,s);break e}else if(n!==s){s=Gh(Error(ge(424)),e),e=FM(t,e,n,r,s);break e}else for(Bi=zl(e.stateNode.containerInfo.firstChild),Fi=e,ur=!0,Us=null,r=A8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($h(),n===s){e=Ba(t,e,r);break e}jn(t,e,n,r)}e=e.child}return e;case 5:return T8(e),t===null&&oA(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,tA(n,s)?l=null:o!==null&&tA(n,o)&&(e.flags|=32),Z8(t,e),jn(t,e,l,r),e.child;case 6:return t===null&&oA(e),null;case 13:return J8(t,e,r);case 4:return l2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jh(e,null,n,r):jn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fs(n,s),OM(t,e,n,s,r);case 7:return jn(t,e,e.pendingProps,r),e.child;case 8:return jn(t,e,e.pendingProps.children,r),e.child;case 12:return jn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,Xt(a1,n._currentValue),n._currentValue=l,o!==null)if(eo(o.value,l)){if(o.children===s.children&&!ui.current){e=Ba(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ca(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),aA(o.return,r,e),a.lanes|=r;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(ge(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),aA(l,r,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}jn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,yh(e,r),s=Ss(s),n=n(s),e.flags|=1,jn(t,e,n,r),e.child;case 14:return n=e.type,s=Fs(n,e.pendingProps),s=Fs(n.type,s),BM(t,e,n,s,r);case 15:return Y8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fs(n,s),u_(t,e),e.tag=1,ci(n)?(t=!0,i1(e)):t=!1,yh(e,r),S8(e,n,s),uA(e,n,s,r),hA(null,e,n,!0,t,r);case 19:return e6(t,e,r);case 22:return q8(t,e,r)}throw Error(ge(156,e.tag))};function m6(t,e){return z4(t,e)}function _te(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,e,r,n){return new _te(t,e,r,n)}function E2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xte(t){if(typeof t=="function")return E2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zP)return 11;if(t===GP)return 14}return 2}function Wl(t,e){var r=t.alternate;return r===null?(r=hs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function h_(t,e,r,n,s,o){var l=2;if(n=t,typeof t=="function")E2(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Yd:return dc(r.children,s,o,e);case jP:l=8,s|=8;break;case BC:return t=hs(12,r,e,s|2),t.elementType=BC,t.lanes=o,t;case MC:return t=hs(13,r,e,s),t.elementType=MC,t.lanes=o,t;case FC:return t=hs(19,r,e,s),t.elementType=FC,t.lanes=o,t;case C4:return mw(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E4:l=10;break e;case S4:l=9;break e;case zP:l=11;break e;case GP:l=14;break e;case pl:l=16,n=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=hs(l,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function dc(t,e,r,n){return t=hs(7,t,n,e),t.lanes=r,t}function mw(t,e,r,n){return t=hs(22,t,n,e),t.elementType=C4,t.lanes=r,t.stateNode={isHidden:!1},t}function SE(t,e,r){return t=hs(6,t,null,e),t.lanes=r,t}function CE(t,e,r){return e=hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wte(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sE(0),this.expirationTimes=sE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sE(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function S2(t,e,r,n,s,o,l,a,c){return t=new wte(t,e,r,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},a2(o),t}function bte(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function v6(t){if(!t)return tu;t=t._reactInternals;e:{if(Yc(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var r=t.type;if(ci(r))return m8(t,r,e)}return e}function y6(t,e,r,n,s,o,l,a,c){return t=S2(r,n,!0,t,s,o,l,a,c),t.context=v6(null),r=t.current,n=Xn(),s=Hl(r),o=Ca(n,s),o.callback=e!=null?e:null,Gl(r,o,s),t.current.lanes=s,Tv(t,s,n),di(t,n),t}function vw(t,e,r,n){var s=e.current,o=Xn(),l=Hl(s);return r=v6(r),e.context===null?e.context=r:e.pendingContext=r,e=Ca(o,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gl(s,e,l),t!==null&&(Ks(t,s,l,o),o_(t,s,l)),l}function v1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function C2(t,e){HM(t,e),(t=t.alternate)&&HM(t,e)}function Ete(){return null}var _6=typeof reportError=="function"?reportError:function(t){console.error(t)};function A2(t){this._internalRoot=t}yw.prototype.render=A2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));vw(t,e,null,null)};yw.prototype.unmount=A2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fc(function(){vw(null,t,null,null)}),e[Ia]=null}};function yw(t){this._internalRoot=t}yw.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bl.length&&e!==0&&e<bl[r].priority;r++);bl.splice(r,0,t),r===0&&Z4(t)}};function T2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WM(){}function Ste(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=v1(l);o.call(d)}}var l=y6(e,n,t,0,null,!1,!1,"",WM);return t._reactRootContainer=l,t[Ia]=l.current,Jg(t.nodeType===8?t.parentNode:t),Fc(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var d=v1(c);a.call(d)}}var c=S2(t,0,!1,null,null,!1,!1,"",WM);return t._reactRootContainer=c,t[Ia]=c.current,Jg(t.nodeType===8?t.parentNode:t),Fc(function(){vw(e,c,r,n)}),c}function xw(t,e,r,n,s){var o=r._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var a=s;s=function(){var c=v1(l);a.call(c)}}vw(e,l,t,s)}else l=Ste(r,e,t,s,n);return v1(l)}K4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$p(e.pendingLanes);r!==0&&(WP(e,r|1),di(e,Ir()),!(At&6)&&(Vh=Ir()+500,wu()))}break;case 13:Fc(function(){var n=Oa(t,1);if(n!==null){var s=Xn();Ks(n,t,1,s)}}),C2(t,1)}};KP=function(t){if(t.tag===13){var e=Oa(t,134217728);if(e!==null){var r=Xn();Ks(e,t,134217728,r)}C2(t,134217728)}};X4=function(t){if(t.tag===13){var e=Hl(t),r=Oa(t,e);if(r!==null){var n=Xn();Ks(r,t,e,n)}C2(t,e)}};Y4=function(){return Lt};q4=function(t,e){var r=Lt;try{return Lt=t,e()}finally{Lt=r}};HC=function(t,e,r){switch(e){case"input":if(NC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=cw(n);if(!s)throw Error(ge(90));T4(n),NC(n,s)}}}break;case"textarea":P4(t,r);break;case"select":e=r.value,e!=null&&ph(t,!!r.multiple,e,!1)}};k4=x2;L4=Fc;var Cte={usingClientEntryPoint:!1,Events:[Pv,Jd,cw,M4,F4,x2]},pp={findFiberByHostInstance:tc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ate={bundleType:pp.bundleType,version:pp.version,rendererPackageName:pp.rendererPackageName,rendererConfig:pp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$4(t),t===null?null:t.stateNode},findFiberByHostInstance:pp.findFiberByHostInstance||Ete,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yy.isDisabled&&Yy.supportsFiber)try{ow=Yy.inject(Ate),Ro=Yy}catch(t){}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cte;Vi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T2(e))throw Error(ge(200));return bte(t,e,null,r)};Vi.createRoot=function(t,e){if(!T2(t))throw Error(ge(299));var r=!1,n="",s=_6;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=S2(t,1,!1,null,null,r,!1,n,s),t[Ia]=e.current,Jg(t.nodeType===8?t.parentNode:t),new A2(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=$4(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Fc(t)};Vi.hydrate=function(t,e,r){if(!_w(e))throw Error(ge(200));return xw(null,t,e,!0,r)};Vi.hydrateRoot=function(t,e,r){if(!T2(t))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",l=_6;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=y6(e,null,t,1,r!=null?r:null,s,!1,o,l),t[Ia]=e.current,Jg(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new yw(e)};Vi.render=function(t,e,r){if(!_w(e))throw Error(ge(200));return xw(null,t,e,!1,r)};Vi.unmountComponentAtNode=function(t){if(!_w(t))throw Error(ge(40));return t._reactRootContainer?(Fc(function(){xw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ia]=null})}),!0):!1};Vi.unstable_batchedUpdates=x2;Vi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_w(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return xw(t,e,r,!1,n)};Vi.version="18.2.0-next-9e3b772b8-20220608";function x6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x6)}catch(t){console.error(t)}}x6(),y4.exports=Vi;var Ka=y4.exports;const D2=xn(Ka);var KM=Ka;jB.createRoot=KM.createRoot,jB.hydrateRoot=KM.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function br(){return br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},br.apply(this,arguments)}var Ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ar||(Ar={}));const XM="popstate";function Tte(t){t===void 0&&(t={});function e(s,o){let{pathname:l="/",search:a="",hash:c=""}=Go(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),lm("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let l=s.document.querySelector("base"),a="";if(l&&l.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");a=d===-1?c:c.slice(0,d)}return a+"#"+(typeof o=="string"?o:Iv(o))}function n(s,o){ru(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Pte(e,r,n,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ru(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function Dte(){return Math.random().toString(36).substr(2,8)}function YM(t,e){return{usr:t.state,key:t.key,idx:e}}function lm(t,e,r,n){return r===void 0&&(r=null),br({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Go(e):e,{state:r,key:e&&e.key||n||Dte()})}function Iv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Go(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Pte(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,a=Ar.Pop,c=null,d=f();d==null&&(d=0,l.replaceState(br({},l.state,{idx:d}),""));function f(){return(l.state||{idx:null}).idx}function g(){a=Ar.Pop;let h=f(),p=h==null?null:h-d;d=h,c&&c({action:a,location:u.location,delta:p})}function m(h,p){a=Ar.Push;let v=lm(u.location,h,p);r&&r(v,h),d=f()+1;let x=YM(v,d),w=u.createHref(v);try{l.pushState(x,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(w)}o&&c&&c({action:a,location:u.location,delta:1})}function y(h,p){a=Ar.Replace;let v=lm(u.location,h,p);r&&r(v,h),d=f();let x=YM(v,d),w=u.createHref(v);l.replaceState(x,"",w),o&&c&&c({action:a,location:u.location,delta:0})}function _(h){let p=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof h=="string"?h:Iv(h);return St(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let u={get action(){return a},get location(){return t(s,l)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(XM,g),c=h,()=>{s.removeEventListener(XM,g),c=null}},createHref(h){return e(s,h)},createURL:_,encodeLocation(h){let p=_(h);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(h){return l.go(h)}};return u}var Tr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tr||(Tr={}));const Rte=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ite(t){return t.index===!0}function SA(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,o)=>{let l=[...r,o],a=typeof s.id=="string"?s.id:l.join("-");if(St(s.index!==!0||!s.children,"Cannot specify children on an index route"),St(!n[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),Ite(s)){let c=br({},s,e(s),{id:a});return n[a]=c,c}else{let c=br({},s,e(s),{id:a,children:void 0});return n[a]=c,s.children&&(c.children=SA(s.children,e,l,n)),c}})}function oh(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Go(e):e,s=Ov(n.pathname||"/",r);if(s==null)return null;let o=w6(t);Bte(o);let l=null;for(let a=0;l==null&&a<o.length;++a)l=zte(o[a],Hte(s));return l}function Ote(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function w6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=hc([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(St(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),w6(o.children,e,f,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:$te(d,o.index),routesMeta:f})};return t.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,l);else for(let c of b6(o.path))s(o,l,c)}),e}function b6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=b6(n.join("/")),a=[];return a.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...l),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bte(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jte(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mte=/^:\w+$/,Fte=3,kte=2,Lte=1,Nte=10,Ute=-2,qM=t=>t==="*";function $te(t,e){let r=t.split("/"),n=r.length;return r.some(qM)&&(n+=Ute),e&&(n+=kte),r.filter(s=>!qM(s)).reduce((s,o)=>s+(Mte.test(o)?Fte:o===""?Lte:Nte),n)}function jte(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function zte(t,e){let{routesMeta:r}=t,n={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Gte({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!f)return null;Object.assign(n,f.params);let g=a.route;o.push({params:n,pathname:hc([s,f.pathname]),pathnameBase:qte(hc([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=hc([s,f.pathnameBase]))}return o}function Gte(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Vte(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((d,f,g)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let u=a[g]||"";l=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}const _=a[g];return y&&!_?d[m]=void 0:d[m]=Wte(_||"",m),d},{}),pathname:o,pathnameBase:l,pattern:t}}function Vte(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ru(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Hte(t){try{return decodeURI(t)}catch(e){return ru(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wte(t,e){try{return decodeURIComponent(t)}catch(r){return ru(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Ov(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Kte(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Go(t):t;return{pathname:r?r.startsWith("/")?r:Xte(r,e):e,search:Zte(n),hash:Qte(s)}}function Xte(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function AE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Yte(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Go(t):(s=br({},t),St(!s.pathname||!s.pathname.includes("?"),AE("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),AE("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),AE("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,a;if(n||l==null)a=r;else{let g=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?e[g]:"/"}let c=Kte(s,a),d=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const hc=t=>t.join("/").replace(/\/\/+/g,"/"),qte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zte=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class P2{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function S6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C6=["post","put","patch","delete"],Jte=new Set(C6),ere=["get",...C6],tre=new Set(ere),rre=new Set([301,302,303,307,308]),nre=new Set([307,308]),TE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ire={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},A6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sre=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),T6="remix-router-transitions";function ore(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;St(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let X=t.detectErrorBoundary;s=re=>({hasErrorBoundary:X(re)})}else s=sre;let o={},l=SA(t.routes,s,void 0,o),a,c=t.basename||"/",d=br({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,g=new Set,m=null,y=null,_=null,u=t.hydrationData!=null,h=oh(l,t.history.location,c),p=null;if(h==null){let X=ts(404,{pathname:t.history.location.pathname}),{matches:re,route:ce}=iF(l);h=re,p={[ce.id]:X}}let v=!h.some(X=>X.route.lazy)&&(!h.some(X=>X.route.loader)||t.hydrationData!=null),x,w={historyAction:t.history.action,location:t.history.location,matches:h,initialized:v,navigation:TE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},b=Ar.Pop,S=!1,C,A=!1,T=new Map,P=null,B=!1,D=!1,R=[],O=[],k=new Map,j=0,U=-1,N=new Map,L=new Set,H=new Map,K=new Map,te=new Set,le=new Map,ne=new Map,fe=!1;function z(){if(f=t.history.listen(X=>{let{action:re,location:ce,delta:Pe}=X;if(fe){fe=!1;return}ru(ne.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ke=Cr({currentLocation:w.location,nextLocation:ce,historyAction:re});if(Ke&&Pe!=null){fe=!0,t.history.go(Pe*-1),_i(Ke,{state:"blocked",location:ce,proceed(){_i(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),t.history.go(Pe)},reset(){let Ze=new Map(w.blockers);Ze.set(Ke,gp),Q({blockers:Ze})}});return}return Re(re,ce)}),r){vre(e,T);let X=()=>yre(e,T);e.addEventListener("pagehide",X),P=()=>e.removeEventListener("pagehide",X)}return w.initialized||Re(Ar.Pop,w.location),x}function Y(){f&&f(),P&&P(),g.clear(),C&&C.abort(),w.fetchers.forEach((X,re)=>De(re)),w.blockers.forEach((X,re)=>Br(re))}function Z(X){return g.add(X),()=>g.delete(X)}function Q(X,re){w=br({},w,X);let ce=[],Pe=[];d.v7_fetcherPersist&&w.fetchers.forEach((Ke,Ze)=>{Ke.state==="idle"&&(te.has(Ze)?Pe.push(Ze):ce.push(Ze))}),g.forEach(Ke=>Ke(w,{deletedFetchers:Pe,unstable_viewTransitionOpts:re})),d.v7_fetcherPersist&&(ce.forEach(Ke=>w.fetchers.delete(Ke)),Pe.forEach(Ke=>De(Ke)))}function pe(X,re){var ce,Pe;let Ke=w.actionData!=null&&w.navigation.formMethod!=null&&Ns(w.navigation.formMethod)&&w.navigation.state==="loading"&&((ce=X.state)==null?void 0:ce._isRedirect)!==!0,Ze;re.actionData?Object.keys(re.actionData).length>0?Ze=re.actionData:Ze=null:Ke?Ze=w.actionData:Ze=null;let nt=re.loaderData?nF(w.loaderData,re.loaderData,re.matches||[],re.errors):w.loaderData,et=w.blockers;et.size>0&&(et=new Map(et),et.forEach((Yt,mt)=>et.set(mt,gp)));let Ye=S===!0||w.navigation.formMethod!=null&&Ns(w.navigation.formMethod)&&((Pe=X.state)==null?void 0:Pe._isRedirect)!==!0;a&&(l=a,a=void 0),B||b===Ar.Pop||(b===Ar.Push?t.history.push(X,X.state):b===Ar.Replace&&t.history.replace(X,X.state));let kt;if(b===Ar.Pop){let Yt=T.get(w.location.pathname);Yt&&Yt.has(X.pathname)?kt={currentLocation:w.location,nextLocation:X}:T.has(X.pathname)&&(kt={currentLocation:X,nextLocation:w.location})}else if(A){let Yt=T.get(w.location.pathname);Yt?Yt.add(X.pathname):(Yt=new Set([X.pathname]),T.set(w.location.pathname,Yt)),kt={currentLocation:w.location,nextLocation:X}}Q(br({},re,{actionData:Ze,loaderData:nt,historyAction:b,location:X,initialized:!0,navigation:TE,revalidation:"idle",restoreScrollPosition:pd(X,re.matches||w.matches),preventScrollReset:Ye,blockers:et}),kt),b=Ar.Pop,S=!1,A=!1,B=!1,D=!1,R=[],O=[]}async function ae(X,re){if(typeof X=="number"){t.history.go(X);return}let ce=CA(w.location,w.matches,c,d.v7_prependBasename,X,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:Pe,submission:Ke,error:Ze}=ZM(d.v7_normalizeFormMethod,!1,ce,re),nt=w.location,et=lm(w.location,Pe,re&&re.state);et=br({},et,t.history.encodeLocation(et));let Ye=re&&re.replace!=null?re.replace:void 0,kt=Ar.Push;Ye===!0?kt=Ar.Replace:Ye===!1||Ke!=null&&Ns(Ke.formMethod)&&Ke.formAction===w.location.pathname+w.location.search&&(kt=Ar.Replace);let Yt=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,mt=Cr({currentLocation:nt,nextLocation:et,historyAction:kt});if(mt){_i(mt,{state:"blocked",location:et,proceed(){_i(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:et}),ae(X,re)},reset(){let Tt=new Map(w.blockers);Tt.set(mt,gp),Q({blockers:Tt})}});return}return await Re(kt,et,{submission:Ke,pendingError:Ze,preventScrollReset:Yt,replace:re&&re.replace,enableViewTransition:re&&re.unstable_viewTransition})}function Ce(){if(ue(),Q({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Re(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Re(b||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Re(X,re,ce){C&&C.abort(),C=null,b=X,B=(ce&&ce.startUninterruptedRevalidation)===!0,fd(w.location,w.matches),S=(ce&&ce.preventScrollReset)===!0,A=(ce&&ce.enableViewTransition)===!0;let Pe=a||l,Ke=ce&&ce.overrideNavigation,Ze=oh(Pe,re,c);if(!Ze){let Tt=ts(404,{pathname:re.pathname}),{matches:dr,route:uo}=iF(Pe);Hr(),pe(re,{matches:dr,loaderData:{},errors:{[uo.id]:Tt}});return}if(w.initialized&&!D&&dre(w.location,re)&&!(ce&&ce.submission&&Ns(ce.submission.formMethod))){pe(re,{matches:Ze});return}C=new AbortController;let nt=vp(t.history,re,C.signal,ce&&ce.submission),et,Ye;if(ce&&ce.pendingError)Ye={[vg(Ze).route.id]:ce.pendingError};else if(ce&&ce.submission&&Ns(ce.submission.formMethod)){let Tt=await Ie(nt,re,ce.submission,Ze,{replace:ce.replace});if(Tt.shortCircuited)return;et=Tt.pendingActionData,Ye=Tt.pendingActionError,Ke=DE(re,ce.submission),nt=new Request(nt.url,{signal:nt.signal})}let{shortCircuited:kt,loaderData:Yt,errors:mt}=await tt(nt,re,Ze,Ke,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,et,Ye);kt||(C=null,pe(re,br({matches:Ze},et?{actionData:et}:{},{loaderData:Yt,errors:mt})))}async function Ie(X,re,ce,Pe,Ke){Ke===void 0&&(Ke={}),ue();let Ze=gre(re,ce);Q({navigation:Ze});let nt,et=TA(Pe,re);if(!et.route.action&&!et.route.lazy)nt={type:Tr.error,error:ts(405,{method:X.method,pathname:re.pathname,routeId:et.route.id})};else if(nt=await mp("action",X,et,Pe,o,s,c),X.signal.aborted)return{shortCircuited:!0};if(xh(nt)){let Ye;return Ke&&Ke.replace!=null?Ye=Ke.replace:Ye=nt.location===w.location.pathname+w.location.search,await J(w,nt,{submission:ce,replace:Ye}),{shortCircuited:!0}}if(yg(nt)){let Ye=vg(Pe,et.route.id);return(Ke&&Ke.replace)!==!0&&(b=Ar.Push),{pendingActionData:{},pendingActionError:{[Ye.route.id]:nt.error}}}if(ic(nt))throw ts(400,{type:"defer-action"});return{pendingActionData:{[et.route.id]:nt.data}}}async function tt(X,re,ce,Pe,Ke,Ze,nt,et,Ye){let kt=Pe||DE(re,Ke),Yt=Ke||Ze||aF(kt),mt=a||l,[Tt,dr]=QM(t.history,w,ce,Yt,re,D,R,O,H,L,mt,c,et,Ye);if(Hr(Bt=>!(ce&&ce.some(wi=>wi.route.id===Bt))||Tt&&Tt.some(wi=>wi.route.id===Bt)),U=++j,Tt.length===0&&dr.length===0){let Bt=$t();return pe(re,br({matches:ce,loaderData:{},errors:Ye||null},et?{actionData:et}:{},Bt?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!B){dr.forEach(wi=>{let ho=w.fetchers.get(wi.key),It=yp(void 0,ho?ho.data:void 0);w.fetchers.set(wi.key,It)});let Bt=et||w.actionData;Q(br({navigation:kt},Bt?Object.keys(Bt).length===0?{actionData:null}:{actionData:Bt}:{},dr.length>0?{fetchers:new Map(w.fetchers)}:{}))}dr.forEach(Bt=>{k.has(Bt.key)&&qe(Bt.key),Bt.controller&&k.set(Bt.key,Bt.controller)});let uo=()=>dr.forEach(Bt=>qe(Bt.key));C&&C.signal.addEventListener("abort",uo);let{results:Ln,loaderResults:Mu,fetcherResults:ip}=await ve(w.matches,ce,Tt,dr,X);if(X.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",uo),dr.forEach(Bt=>k.delete(Bt.key));let Rs=sF(Ln);if(Rs){if(Rs.idx>=Tt.length){let Bt=dr[Rs.idx-Tt.length].key;L.add(Bt)}return await J(w,Rs.result,{replace:nt}),{shortCircuited:!0}}let{loaderData:co,errors:gd}=rF(w,ce,Tt,Mu,Ye,dr,ip,le);le.forEach((Bt,wi)=>{Bt.subscribe(ho=>{(ho||Bt.done)&&le.delete(wi)})});let xi=$t(),sp=Or(U),op=xi||sp||dr.length>0;return br({loaderData:co,errors:gd},op?{fetchers:new Map(w.fetchers)}:{})}function dt(X){return d.v7_fetcherPersist&&(K.set(X,(K.get(X)||0)+1),te.has(X)&&te.delete(X)),w.fetchers.get(X)||ire}function wt(X,re,ce,Pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(X)&&qe(X);let Ke=a||l,Ze=CA(w.location,w.matches,c,d.v7_prependBasename,ce,re,Pe==null?void 0:Pe.relative),nt=oh(Ke,Ze,c);if(!nt){he(X,re,ts(404,{pathname:Ze}));return}let{path:et,submission:Ye,error:kt}=ZM(d.v7_normalizeFormMethod,!0,Ze,Pe);if(kt){he(X,re,kt);return}let Yt=TA(nt,et);if(S=(Pe&&Pe.preventScrollReset)===!0,Ye&&Ns(Ye.formMethod)){$(X,re,et,Yt,nt,Ye);return}H.set(X,{routeId:re,path:et}),q(X,re,et,Yt,nt,Ye)}async function $(X,re,ce,Pe,Ke,Ze){if(ue(),H.delete(X),!Pe.route.action&&!Pe.route.lazy){let It=ts(405,{method:Ze.formMethod,pathname:ce,routeId:re});he(X,re,It);return}let nt=w.fetchers.get(X),et=mre(Ze,nt);w.fetchers.set(X,et),Q({fetchers:new Map(w.fetchers)});let Ye=new AbortController,kt=vp(t.history,ce,Ye.signal,Ze);k.set(X,Ye);let Yt=j,mt=await mp("action",kt,Pe,Ke,o,s,c);if(kt.signal.aborted){k.get(X)===Ye&&k.delete(X);return}if(te.has(X)){w.fetchers.set(X,cl(void 0)),Q({fetchers:new Map(w.fetchers)});return}if(xh(mt))if(k.delete(X),U>Yt){let It=cl(void 0);w.fetchers.set(X,It),Q({fetchers:new Map(w.fetchers)});return}else{L.add(X);let It=yp(Ze);return w.fetchers.set(X,It),Q({fetchers:new Map(w.fetchers)}),J(w,mt,{fetcherSubmission:Ze})}if(yg(mt)){he(X,re,mt.error);return}if(ic(mt))throw ts(400,{type:"defer-action"});let Tt=w.navigation.location||w.location,dr=vp(t.history,Tt,Ye.signal),uo=a||l,Ln=w.navigation.state!=="idle"?oh(uo,w.navigation.location,c):w.matches;St(Ln,"Didn't find any matches after fetcher action");let Mu=++j;N.set(X,Mu);let ip=yp(Ze,mt.data);w.fetchers.set(X,ip);let[Rs,co]=QM(t.history,w,Ln,Ze,Tt,D,R,O,H,L,uo,c,{[Pe.route.id]:mt.data},void 0);co.filter(It=>It.key!==X).forEach(It=>{let Fu=It.key,by=w.fetchers.get(Fu),Yb=yp(void 0,by?by.data:void 0);w.fetchers.set(Fu,Yb),k.has(Fu)&&qe(Fu),It.controller&&k.set(Fu,It.controller)}),Q({fetchers:new Map(w.fetchers)});let gd=()=>co.forEach(It=>qe(It.key));Ye.signal.addEventListener("abort",gd);let{results:xi,loaderResults:sp,fetcherResults:op}=await ve(w.matches,Ln,Rs,co,dr);if(Ye.signal.aborted)return;Ye.signal.removeEventListener("abort",gd),N.delete(X),k.delete(X),co.forEach(It=>k.delete(It.key));let Bt=sF(xi);if(Bt){if(Bt.idx>=Rs.length){let It=co[Bt.idx-Rs.length].key;L.add(It)}return J(w,Bt.result)}let{loaderData:wi,errors:ho}=rF(w,w.matches,Rs,sp,void 0,co,op,le);if(w.fetchers.has(X)){let It=cl(mt.data);w.fetchers.set(X,It)}Or(Mu),w.navigation.state==="loading"&&Mu>U?(St(b,"Expected pending action"),C&&C.abort(),pe(w.navigation.location,{matches:Ln,loaderData:wi,errors:ho,fetchers:new Map(w.fetchers)})):(Q({errors:ho,loaderData:nF(w.loaderData,wi,Ln,ho),fetchers:new Map(w.fetchers)}),D=!1)}async function q(X,re,ce,Pe,Ke,Ze){let nt=w.fetchers.get(X),et=yp(Ze,nt?nt.data:void 0);w.fetchers.set(X,et),Q({fetchers:new Map(w.fetchers)});let Ye=new AbortController,kt=vp(t.history,ce,Ye.signal);k.set(X,Ye);let Yt=j,mt=await mp("loader",kt,Pe,Ke,o,s,c);if(ic(mt)&&(mt=await R6(mt,kt.signal,!0)||mt),k.get(X)===Ye&&k.delete(X),kt.signal.aborted)return;if(te.has(X)){w.fetchers.set(X,cl(void 0)),Q({fetchers:new Map(w.fetchers)});return}if(xh(mt))if(U>Yt){let dr=cl(void 0);w.fetchers.set(X,dr),Q({fetchers:new Map(w.fetchers)});return}else{L.add(X),await J(w,mt);return}if(yg(mt)){he(X,re,mt.error);return}St(!ic(mt),"Unhandled fetcher deferred data");let Tt=cl(mt.data);w.fetchers.set(X,Tt),Q({fetchers:new Map(w.fetchers)})}async function J(X,re,ce){let{submission:Pe,fetcherSubmission:Ke,replace:Ze}=ce===void 0?{}:ce;re.revalidate&&(D=!0);let nt=lm(X.location,re.location,{_isRedirect:!0});if(St(nt,"Expected a location on the redirect navigation"),r){let Tt=!1;if(re.reloadDocument)Tt=!0;else if(A6.test(re.location)){const dr=t.history.createURL(re.location);Tt=dr.origin!==e.location.origin||Ov(dr.pathname,c)==null}if(Tt){Ze?e.location.replace(re.location):e.location.assign(re.location);return}}C=null;let et=Ze===!0?Ar.Replace:Ar.Push,{formMethod:Ye,formAction:kt,formEncType:Yt}=X.navigation;!Pe&&!Ke&&Ye&&kt&&Yt&&(Pe=aF(X.navigation));let mt=Pe||Ke;if(nre.has(re.status)&&mt&&Ns(mt.formMethod))await Re(et,nt,{submission:br({},mt,{formAction:re.location}),preventScrollReset:S});else{let Tt=DE(nt,Pe);await Re(et,nt,{overrideNavigation:Tt,fetcherSubmission:Ke,preventScrollReset:S})}}async function ve(X,re,ce,Pe,Ke){let Ze=await Promise.all([...ce.map(Ye=>mp("loader",Ke,Ye,re,o,s,c)),...Pe.map(Ye=>Ye.matches&&Ye.match&&Ye.controller?mp("loader",vp(t.history,Ye.path,Ye.controller.signal),Ye.match,Ye.matches,o,s,c):{type:Tr.error,error:ts(404,{pathname:Ye.path})})]),nt=Ze.slice(0,ce.length),et=Ze.slice(ce.length);return await Promise.all([oF(X,ce,nt,nt.map(()=>Ke.signal),!1,w.loaderData),oF(X,Pe.map(Ye=>Ye.match),et,Pe.map(Ye=>Ye.controller?Ye.controller.signal:null),!0)]),{results:Ze,loaderResults:nt,fetcherResults:et}}function ue(){D=!0,R.push(...Hr()),H.forEach((X,re)=>{k.has(re)&&(O.push(re),qe(re))})}function he(X,re,ce){let Pe=vg(w.matches,re);De(X),Q({errors:{[Pe.route.id]:ce},fetchers:new Map(w.fetchers)})}function De(X){let re=w.fetchers.get(X);k.has(X)&&!(re&&re.state==="loading"&&N.has(X))&&qe(X),H.delete(X),N.delete(X),L.delete(X),te.delete(X),w.fetchers.delete(X)}function je(X){if(d.v7_fetcherPersist){let re=(K.get(X)||0)-1;re<=0?(K.delete(X),te.add(X)):K.set(X,re)}else De(X);Q({fetchers:new Map(w.fetchers)})}function qe(X){let re=k.get(X);St(re,"Expected fetch controller: "+X),re.abort(),k.delete(X)}function Rt(X){for(let re of X){let ce=dt(re),Pe=cl(ce.data);w.fetchers.set(re,Pe)}}function $t(){let X=[],re=!1;for(let ce of L){let Pe=w.fetchers.get(ce);St(Pe,"Expected fetcher: "+ce),Pe.state==="loading"&&(L.delete(ce),X.push(ce),re=!0)}return Rt(X),re}function Or(X){let re=[];for(let[ce,Pe]of N)if(Pe<X){let Ke=w.fetchers.get(ce);St(Ke,"Expected fetcher: "+ce),Ke.state==="loading"&&(qe(ce),N.delete(ce),re.push(ce))}return Rt(re),re.length>0}function hn(X,re){let ce=w.blockers.get(X)||gp;return ne.get(X)!==re&&ne.set(X,re),ce}function Br(X){w.blockers.delete(X),ne.delete(X)}function _i(X,re){let ce=w.blockers.get(X)||gp;St(ce.state==="unblocked"&&re.state==="blocked"||ce.state==="blocked"&&re.state==="blocked"||ce.state==="blocked"&&re.state==="proceeding"||ce.state==="blocked"&&re.state==="unblocked"||ce.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+re.state);let Pe=new Map(w.blockers);Pe.set(X,re),Q({blockers:Pe})}function Cr(X){let{currentLocation:re,nextLocation:ce,historyAction:Pe}=X;if(ne.size===0)return;ne.size>1&&ru(!1,"A router only supports one blocker at a time");let Ke=Array.from(ne.entries()),[Ze,nt]=Ke[Ke.length-1],et=w.blockers.get(Ze);if(!(et&&et.state==="proceeding")&&nt({currentLocation:re,nextLocation:ce,historyAction:Pe}))return Ze}function Hr(X){let re=[];return le.forEach((ce,Pe)=>{(!X||X(Pe))&&(ce.cancel(),re.push(Pe),le.delete(Pe))}),re}function rl(X,re,ce){if(m=X,_=re,y=ce||null,!u&&w.navigation===TE){u=!0;let Pe=pd(w.location,w.matches);Pe!=null&&Q({restoreScrollPosition:Pe})}return()=>{m=null,_=null,y=null}}function Bu(X,re){return y&&y(X,re.map(Pe=>Ote(Pe,w.loaderData)))||X.key}function fd(X,re){if(m&&_){let ce=Bu(X,re);m[ce]=_()}}function pd(X,re){if(m){let ce=Bu(X,re),Pe=m[ce];if(typeof Pe=="number")return Pe}return null}function np(X){o={},a=SA(X,s,void 0,o)}return x={get basename(){return c},get state(){return w},get routes(){return l},get window(){return e},initialize:z,subscribe:Z,enableScrollRestoration:rl,navigate:ae,fetch:wt,revalidate:Ce,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:dt,deleteFetcher:je,dispose:Y,getBlocker:hn,deleteBlocker:Br,_internalFetchControllers:k,_internalActiveDeferreds:le,_internalSetRoutes:np},x}function are(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function CA(t,e,r,n,s,o,l){let a,c;if(o!=null&&l!=="path"){a=[];for(let f of e)if(a.push(f),f.route.id===o){c=f;break}}else a=e,c=e[e.length-1];let d=Yte(s||".",E6(a).map(f=>f.pathnameBase),Ov(t.pathname,r)||t.pathname,l==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!R2(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:hc([r,d.pathname])),Iv(d)}function ZM(t,e,r,n){if(!n||!are(n))return{path:r};if(n.formMethod&&!pre(n.formMethod))return{path:r,error:ts(405,{method:n.formMethod})};let s=()=>({path:r,error:ts(400,{type:"invalid-body"})}),o=n.formMethod||"get",l=t?o.toUpperCase():o.toLowerCase(),a=P6(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ns(l))return s();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,_)=>{let[u,h]=_;return""+y+u+"="+h+"\n"},""):String(n.body);return{path:r,submission:{formMethod:l,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Ns(l))return s();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:l,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch(m){return s()}}}St(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=AA(n.formData),d=n.formData;else if(n.body instanceof FormData)c=AA(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=tF(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=tF(c)}catch(m){return s()}let f={formMethod:l,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ns(f.formMethod))return{path:r,submission:f};let g=Go(r);return e&&g.search&&R2(g.search)&&c.append("index",""),g.search="?"+c,{path:Iv(g),submission:f}}function lre(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function QM(t,e,r,n,s,o,l,a,c,d,f,g,m,y){let _=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,u=t.createURL(e.location),h=t.createURL(s),p=y?Object.keys(y)[0]:void 0,x=lre(r,p).filter((b,S)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(ure(e.loaderData,e.matches[S],b)||l.some(T=>T===b.route.id))return!0;let C=e.matches[S],A=b;return JM(b,br({currentUrl:u,currentParams:C.params,nextUrl:h,nextParams:A.params},n,{actionResult:_,defaultShouldRevalidate:o||u.pathname+u.search===h.pathname+h.search||u.search!==h.search||D6(C,A)}))}),w=[];return c.forEach((b,S)=>{if(!r.some(B=>B.route.id===b.routeId))return;let C=oh(f,b.path,g);if(!C){w.push({key:S,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(S),T=TA(C,b.path),P=!1;d.has(S)?P=!1:a.includes(S)?P=!0:A&&A.state!=="idle"&&A.data===void 0?P=o:P=JM(T,br({currentUrl:u,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:r[r.length-1].params},n,{actionResult:_,defaultShouldRevalidate:o})),P&&w.push({key:S,routeId:b.routeId,path:b.path,matches:C,match:T,controller:new AbortController})}),[x,w]}function ure(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function D6(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function JM(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function eF(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];St(s,"No route found in manifest");let o={};for(let l in n){let c=s[l]!==void 0&&l!=="hasErrorBoundary";ru(!c,'Route "'+s.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!c&&!Rte.has(l)&&(o[l]=n[l])}Object.assign(s,o),Object.assign(s,br({},e(s),{lazy:void 0}))}async function mp(t,e,r,n,s,o,l,a){a===void 0&&(a={});let c,d,f,g=_=>{let u,h=new Promise((p,v)=>u=v);return f=()=>u(),e.signal.addEventListener("abort",f),Promise.race([_({request:e,params:r.params,context:a.requestContext}),h])};try{let _=r.route[t];if(r.route.lazy)if(_){let u,h=await Promise.all([g(_).catch(p=>{u=p}),eF(r.route,o,s)]);if(u)throw u;d=h[0]}else if(await eF(r.route,o,s),_=r.route[t],_)d=await g(_);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw ts(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:Tr.data,data:void 0};else if(_)d=await g(_);else{let u=new URL(e.url),h=u.pathname+u.search;throw ts(404,{pathname:h})}St(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){c=Tr.error,d=_}finally{f&&e.signal.removeEventListener("abort",f)}if(fre(d)){let _=d.status;if(rre.has(_)){let p=d.headers.get("Location");if(St(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!A6.test(p))p=CA(new URL(e.url),n.slice(0,n.indexOf(r)+1),l,!0,p);else if(!a.isStaticRequest){let v=new URL(e.url),x=p.startsWith("//")?new URL(v.protocol+p):new URL(p),w=Ov(x.pathname,l)!=null;x.origin===v.origin&&w&&(p=x.pathname+x.search+x.hash)}if(a.isStaticRequest)throw d.headers.set("Location",p),d;return{type:Tr.redirect,status:_,location:p,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:c===Tr.error?Tr.error:Tr.data,response:d};let u,h=d.headers.get("Content-Type");return h&&/\bapplication\/json\b/.test(h)?u=await d.json():u=await d.text(),c===Tr.error?{type:c,error:new P2(_,d.statusText,u),headers:d.headers}:{type:Tr.data,data:u,statusCode:d.status,headers:d.headers}}if(c===Tr.error)return{type:c,error:d};if(hre(d)){var m,y;return{type:Tr.deferred,deferredData:d,statusCode:(m=d.init)==null?void 0:m.status,headers:((y=d.init)==null?void 0:y.headers)&&new Headers(d.init.headers)}}return{type:Tr.data,data:d}}function vp(t,e,r,n){let s=t.createURL(P6(e)).toString(),o={signal:r};if(n&&Ns(n.formMethod)){let{formMethod:l,formEncType:a}=n;o.method=l.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(n.json)):a==="text/plain"?o.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?o.body=AA(n.formData):o.body=n.formData}return new Request(s,o)}function AA(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function tF(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function cre(t,e,r,n,s){let o={},l=null,a,c=!1,d={};return r.forEach((f,g)=>{let m=e[g].route.id;if(St(!xh(f),"Cannot handle redirect results in processLoaderData"),yg(f)){let y=vg(t,m),_=f.error;n&&(_=Object.values(n)[0],n=void 0),l=l||{},l[y.route.id]==null&&(l[y.route.id]=_),o[m]=void 0,c||(c=!0,a=S6(f.error)?f.error.status:500),f.headers&&(d[m]=f.headers)}else ic(f)?(s.set(m,f.deferredData),o[m]=f.deferredData.data):o[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(a=f.statusCode),f.headers&&(d[m]=f.headers)}),n&&(l=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:l,statusCode:a||200,loaderHeaders:d}}function rF(t,e,r,n,s,o,l,a){let{loaderData:c,errors:d}=cre(e,r,n,s,a);for(let f=0;f<o.length;f++){let{key:g,match:m,controller:y}=o[f];St(l!==void 0&&l[f]!==void 0,"Did not find corresponding fetcher result");let _=l[f];if(!(y&&y.signal.aborted))if(yg(_)){let u=vg(t.matches,m==null?void 0:m.route.id);d&&d[u.route.id]||(d=br({},d,{[u.route.id]:_.error})),t.fetchers.delete(g)}else if(xh(_))St(!1,"Unhandled fetcher revalidation redirect");else if(ic(_))St(!1,"Unhandled fetcher deferred data");else{let u=cl(_.data);t.fetchers.set(g,u)}}return{loaderData:c,errors:d}}function nF(t,e,r,n){let s=br({},e);for(let o of r){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(s[l]=e[l]):t[l]!==void 0&&o.route.loader&&(s[l]=t[l]),n&&n.hasOwnProperty(l))break}return s}function vg(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function iF(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(t,e){let{pathname:r,routeId:n,method:s,type:o}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",s&&r&&n?a="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(l="Not Found",a='No route matches URL "'+r+'"'):t===405&&(l="Method Not Allowed",s&&r&&n?a="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new P2(t||500,l,new Error(a),!0)}function sF(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(xh(r))return{result:r,idx:e}}}function P6(t){let e=typeof t=="string"?Go(t):t;return Iv(br({},e,{hash:""}))}function dre(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ic(t){return t.type===Tr.deferred}function yg(t){return t.type===Tr.error}function xh(t){return(t&&t.type)===Tr.redirect}function hre(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function pre(t){return tre.has(t.toLowerCase())}function Ns(t){return Jte.has(t.toLowerCase())}async function oF(t,e,r,n,s,o){for(let l=0;l<r.length;l++){let a=r[l],c=e[l];if(!c)continue;let d=t.find(g=>g.route.id===c.route.id),f=d!=null&&!D6(d,c)&&(o&&o[c.route.id])!==void 0;if(ic(a)&&(s||f)){let g=n[l];St(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await R6(a,g,s).then(m=>{m&&(r[l]=m||r[l])})}}}async function R6(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Tr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Tr.error,error:s}}return{type:Tr.data,data:t.deferredData.data}}}function R2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function TA(t,e){let r=typeof e=="string"?Go(e).search:e.search;if(t[t.length-1].route.index&&R2(r||""))return t[t.length-1];let n=E6(t);return n[n.length-1]}function aF(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:o,json:l}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:l,text:void 0}}}function DE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gre(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mre(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function cl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vre(t,e){try{let r=t.sessionStorage.getItem(T6);if(r){let n=JSON.parse(r);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch(r){}}function yre(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(T6,JSON.stringify(r))}catch(n){ru(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DA.apply(this,arguments)}const I6=E.createContext(null),O6=E.createContext(null),B6=E.createContext(null),ww=E.createContext(null),bw=E.createContext({outlet:null,matches:[],isDataRoute:!1}),M6=E.createContext(null);function I2(){return E.useContext(ww)!=null}function _re(){return I2()||St(!1),E.useContext(ww).location}function xre(t,e,r){I2()||St(!1);let{navigator:n}=E.useContext(B6),{matches:s}=E.useContext(bw),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=_re(),d;if(e){var f;let u=typeof e=="string"?Go(e):e;a==="/"||(f=u.pathname)!=null&&f.startsWith(a)||St(!1),d=u}else d=c;let g=d.pathname||"/",m=a==="/"?g:g.slice(a.length)||"/",y=oh(t,{pathname:m}),_=Cre(y&&y.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:hc([a,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?a:hc([a,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),s,r);return e&&_?E.createElement(ww.Provider,{value:{location:DA({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ar.Pop}},_):_}function wre(){let t=Pre(),e=S6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,o)}const bre=E.createElement(wre,null);class Ere extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?E.createElement(bw.Provider,{value:this.props.routeContext},E.createElement(M6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sre(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(I6);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(bw.Provider,{value:e},n)}function Cre(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,l=(n=r)==null?void 0:n.errors;if(l!=null){let a=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id]));a>=0||St(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,c,d)=>{let f=c.route.id?l==null?void 0:l[c.route.id]:null,g=null;r&&(g=c.route.errorElement||bre);let m=e.concat(o.slice(0,d+1)),y=()=>{let _;return f?_=g:c.route.Component?_=E.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=a,E.createElement(Sre,{match:c,routeContext:{outlet:a,matches:m,isDataRoute:r!=null},children:_})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?E.createElement(Ere,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var PA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PA||{});function Are(t){let e=E.useContext(O6);return e||St(!1),e}function Tre(t){let e=E.useContext(bw);return e||St(!1),e}function Dre(t){let e=Tre(),r=e.matches[e.matches.length-1];return r.route.id||St(!1),r.route.id}function Pre(){var t;let e=E.useContext(M6),r=Are(PA.UseRouteError),n=Dre(PA.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function Rre(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ar.Pop,navigator:o,static:l=!1}=t;I2()&&St(!1);let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:o,static:l}),[a,o,l]);typeof n=="string"&&(n=Go(n));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:y="default"}=n,_=E.useMemo(()=>{let u=Ov(d,a);return u==null?null:{location:{pathname:u,search:f,hash:g,state:m,key:y},navigationType:s}},[a,d,f,g,m,y,s]);return _==null?null:E.createElement(B6.Provider,{value:c},E.createElement(ww.Provider,{children:r,value:_}))}new Promise(()=>{});function Ire(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y1.apply(this,arguments)}function IGe(t,e){return ore({basename:e==null?void 0:e.basename,future:y1({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Tte({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Ore(),routes:t,mapRouteProperties:Ire,window:e==null?void 0:e.window}).initialize()}function Ore(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=y1({},e,{errors:Bre(e.errors)})),e}function Bre(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new P2(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",r[n]=l}catch(l){}}if(r[n]==null){let o=new Error(s.message);o.stack="",r[n]=o}}else r[n]=s;return r}const Mre=E.createContext({isTransitioning:!1}),Fre=E.createContext(new Map),kre="startTransition",lF=LP[kre];function Lre(t){lF?lF(t):t()}class Nre{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function OGe(t){let{fallbackElement:e,router:r,future:n}=t,[s,o]=E.useState(r.state),[l,a]=E.useState(),[c,d]=E.useState({isTransitioning:!1}),[f,g]=E.useState(),[m,y]=E.useState(),[_,u]=E.useState(),h=E.useRef(new Map),{v7_startTransition:p}=n||{},v=E.useCallback(C=>{p?Lre(C):C()},[p]),x=E.useCallback((C,A)=>{let{deletedFetchers:T,unstable_viewTransitionOpts:P}=A;T.forEach(B=>h.current.delete(B)),C.fetchers.forEach((B,D)=>{B.data!==void 0&&h.current.set(D,B.data)}),!P||r.window==null||typeof r.window.document.startViewTransition!="function"?v(()=>o(C)):m&&f?(f.resolve(),m.skipTransition(),u({state:C,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(a(C),d({isTransitioning:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[r.window,m,f,h,v]);E.useLayoutEffect(()=>r.subscribe(x),[r,x]),E.useEffect(()=>{c.isTransitioning&&g(new Nre)},[c.isTransitioning]),E.useEffect(()=>{if(f&&l&&r.window){let C=l,A=f.promise,T=r.window.document.startViewTransition(async()=>{v(()=>o(C)),await A});T.finished.finally(()=>{g(void 0),y(void 0),a(void 0),d({isTransitioning:!1})}),y(T)}},[v,l,f,r.window]),E.useEffect(()=>{f&&l&&s.location.key===l.location.key&&f.resolve()},[f,m,s.location,l]),E.useEffect(()=>{!c.isTransitioning&&_&&(a(_.state),d({isTransitioning:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),u(void 0))},[c.isTransitioning,_]);let w=E.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:C=>r.navigate(C),push:(C,A,T)=>r.navigate(C,{state:A,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(C,A,T)=>r.navigate(C,{replace:!0,state:A,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),b=r.basename||"/",S=E.useMemo(()=>({router:r,navigator:w,static:!1,basename:b}),[r,w,b]);return E.createElement(E.Fragment,null,E.createElement(I6.Provider,{value:S},E.createElement(O6.Provider,{value:s},E.createElement(Fre.Provider,{value:h.current},E.createElement(Mre.Provider,{value:c},E.createElement(Rre,{basename:b,location:s.location,navigationType:s.historyAction,navigator:w},s.initialized?E.createElement(Ure,{routes:r.routes,state:s}):e))))),null)}function Ure(t){let{routes:e,state:r}=t;return xre(e,void 0,r)}var uF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uF||(uF={}));var cF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cF||(cF={}));function F6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=F6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function um(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=F6(t))&&(n&&(n+=" "),n+=e);return n}const O2="-",$re=t=>{const e=zre(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const a=l.split(O2);return a[0]===""&&a.length!==1&&a.shift(),k6(a,e)||jre(l)},getConflictingClassGroupIds:(l,a)=>{const c=r[l]||[];return a&&n[l]?[...c,...n[l]]:c}}},k6=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?k6(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(O2);return(l=e.validators.find(({validator:a})=>a(o)))==null?void 0:l.classGroupId},dF=/^\[(.+)\]$/,jre=t=>{if(dF.test(t)){const e=dF.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},zre=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Vre(Object.entries(t.classGroups),r).forEach(([o,l])=>{RA(l,n,o,e)}),n},RA=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:hF(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Gre(s)){RA(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,l])=>{RA(l,hF(e,o),r,n)})})},hF=(t,e)=>{let r=t;return e.split(O2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gre=t=>t.isThemeGetter,Vre=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,a])=>[e+l,a])):o);return[r,s]}):t,Hre=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){r.has(o)?r.set(o,l):s(o,l)}}},L6="!",Wre=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,l=a=>{const c=[];let d=0,f=0,g;for(let h=0;h<a.length;h++){let p=a[h];if(d===0){if(p===s&&(n||a.slice(h,h+o)===e)){c.push(a.slice(f,h)),f=h+o;continue}if(p==="/"){g=h;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?a:a.substring(f),y=m.startsWith(L6),_=y?m.substring(1):m,u=g&&g>f?g-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:u}};return r?a=>r({className:a,parseClassName:l}):l},Kre=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Xre=t=>({cache:Hre(t.cacheSize),parseClassName:Wre(t),...$re(t)}),Yre=/\s+/,qre=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(Yre);let a="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:f,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}=r(d);let _=!!y,u=n(_?m.substring(0,y):m);if(!u){if(!_){a=d+(a.length>0?" "+a:a);continue}if(u=n(m),!u){a=d+(a.length>0?" "+a:a);continue}_=!1}const h=Kre(f).join(":"),p=g?h+L6:h,v=p+u;if(o.includes(v))continue;o.push(v);const x=s(u,_);for(let w=0;w<x.length;++w){const b=x[w];o.push(p+b)}a=d+(a.length>0?" "+a:a)}return a};function Zre(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=N6(e))&&(n&&(n+=" "),n+=r);return n}const N6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=N6(t[n]))&&(r&&(r+=" "),r+=e);return r};function Qre(t,...e){let r,n,s,o=l;function l(c){const d=e.reduce((f,g)=>g(f),t());return r=Xre(d),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const d=n(c);if(d)return d;const f=qre(c,r);return s(c,f),f}return function(){return o(Zre.apply(null,arguments))}}const qt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},U6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jre=/^\d+\/\d+$/,ene=new Set(["px","full","screen"]),tne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ine=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=t=>wh(t)||ene.has(t)||Jre.test(t),ol=t=>Sf(t,"length",fne),wh=t=>!!t&&!Number.isNaN(Number(t)),PE=t=>Sf(t,"number",wh),_p=t=>!!t&&Number.isInteger(Number(t)),one=t=>t.endsWith("%")&&wh(t.slice(0,-1)),ft=t=>U6.test(t),al=t=>tne.test(t),ane=new Set(["length","size","percentage"]),lne=t=>Sf(t,ane,$6),une=t=>Sf(t,"position",$6),cne=new Set(["image","url"]),dne=t=>Sf(t,cne,gne),hne=t=>Sf(t,"",pne),xp=()=>!0,Sf=(t,e,r)=>{const n=U6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},fne=t=>rne.test(t)&&!nne.test(t),$6=()=>!1,pne=t=>ine.test(t),gne=t=>sne.test(t),mne=()=>{const t=qt("colors"),e=qt("spacing"),r=qt("blur"),n=qt("brightness"),s=qt("borderColor"),o=qt("borderRadius"),l=qt("borderSpacing"),a=qt("borderWidth"),c=qt("contrast"),d=qt("grayscale"),f=qt("hueRotate"),g=qt("invert"),m=qt("gap"),y=qt("gradientColorStops"),_=qt("gradientColorStopPositions"),u=qt("inset"),h=qt("margin"),p=qt("opacity"),v=qt("padding"),x=qt("saturate"),w=qt("scale"),b=qt("sepia"),S=qt("skew"),C=qt("space"),A=qt("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",ft,e],D=()=>[ft,e],R=()=>["",Qo,ol],O=()=>["auto",wh,ft],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ft],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[wh,ft];return{cacheSize:500,separator:":",theme:{colors:[xp],spacing:[Qo,ol],blur:["none","",al,ft],brightness:K(),borderColor:[t],borderRadius:["none","","full",al,ft],borderSpacing:D(),borderWidth:R(),contrast:K(),grayscale:L(),hueRotate:K(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[one,ol],inset:B(),margin:B(),opacity:K(),padding:D(),saturate:K(),scale:K(),sepia:L(),skew:K(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[al]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),ft]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_p,ft]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",_p,ft]}],"grid-cols":[{"grid-cols":[xp]}],"col-start-end":[{col:["auto",{span:["full",_p,ft]},ft]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[xp]}],"row-start-end":[{row:["auto",{span:[_p,ft]},ft]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[al]},al]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",al,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PE]}],"font-family":[{font:[xp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",wh,PE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qo,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qo,ol]}],"underline-offset":[{"underline-offset":["auto",Qo,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),une]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dne]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:j()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Qo,ft]}],"outline-w":[{outline:[Qo,ol]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Qo,ol]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",al,hne]}],"shadow-color":[{shadow:[xp]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",al,ft]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[g]}],saturate:[{saturate:[x]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[_p,ft]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qo,ol,PE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vne=Qre(mne),fF=t=>{let e;const r=new Set,n=(f,g)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const y=e;e=(g!=null?g:typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(_=>_(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{r.clear()}},d=e=t(n,s,c);return c},j6=t=>t?fF(t):fF;var z6={exports:{}},G6={},V6={exports:{}},H6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=E;function yne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _ne=typeof Object.is=="function"?Object.is:yne,xne=Hh.useState,wne=Hh.useEffect,bne=Hh.useLayoutEffect,Ene=Hh.useDebugValue;function Sne(t,e){var r=e(),n=xne({inst:{value:r,getSnapshot:e}}),s=n[0].inst,o=n[1];return bne(function(){s.value=r,s.getSnapshot=e,RE(s)&&o({inst:s})},[t,r,e]),wne(function(){return RE(s)&&o({inst:s}),t(function(){RE(s)&&o({inst:s})})},[t]),Ene(r),r}function RE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_ne(t,r)}catch(n){return!0}}function Cne(t,e){return e()}var Ane=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cne:Sne;H6.useSyncExternalStore=Hh.useSyncExternalStore!==void 0?Hh.useSyncExternalStore:Ane;V6.exports=H6;var Tne=V6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew=E,Dne=Tne;function Pne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rne=typeof Object.is=="function"?Object.is:Pne,Ine=Dne.useSyncExternalStore,One=Ew.useRef,Bne=Ew.useEffect,Mne=Ew.useMemo,Fne=Ew.useDebugValue;G6.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var o=One(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=Mne(function(){function c(y){if(!d){if(d=!0,f=y,y=n(y),s!==void 0&&l.hasValue){var _=l.value;if(s(_,y))return g=_}return g=y}if(_=g,Rne(f,y))return _;var u=n(y);return s!==void 0&&s(_,u)?_:(f=y,g=u)}var d=!1,f,g,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,s]);var a=Ine(t,o[0],o[1]);return Bne(function(){l.hasValue=!0,l.value=a},[a]),Fne(a),a};z6.exports=G6;var kne=z6.exports;const W6=xn(kne),{useDebugValue:Lne}=V,{useSyncExternalStoreWithSelector:Nne}=W6;const Une=t=>t;function $ne(t,e=Une,r){const n=Nne(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Lne(n),n}const pF=t=>{const e=typeof t=="function"?j6(t):t,r=(n,s)=>$ne(e,n,s);return Object.assign(r,e),r},BGe=t=>t?pF(t):pF;var bu=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(bu||{}),B2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(B2||{}),_1=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(_1||{}),Je=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Je||{}),js=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(js||{}),ye=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ye||{}),fc=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(fc||{}),He=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(He||{}),Be=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Be||{}),Co=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Co||{}),Oo=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Oo||{}),to=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(to||{}),Wn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Wn||{}),$s=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))($s||{}),Sw=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Sw||{}),Mi=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Mi||{}),Fr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Fr||{}),K6=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(K6||{}),Rr=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Rr||{}),Xs=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Xs||{});const X6={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Fe={ADAPTER:X6,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var IE=/iPhone/i,gF=/iPod/i,mF=/iPad/i,vF=/\biOS-universal(?:.+)Mac\b/i,OE=/\bAndroid(?:.+)Mobile\b/i,yF=/Android/i,yd=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,qy=/Silk/i,Jo=/Windows Phone/i,_F=/\bWindows(?:.+)ARM\b/i,xF=/BlackBerry/i,wF=/BB10/i,bF=/Opera Mini/i,EF=/\b(CriOS|Chrome)(?:.+)Mobile/i,SF=/Mobile(?:.+)Firefox\b/i,CF=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jne(t){return function(e){return e.test(t)}}function AF(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var s=jne(r),o={apple:{phone:s(IE)&&!s(Jo),ipod:s(gF),tablet:!s(IE)&&(s(mF)||CF(e))&&!s(Jo),universal:s(vF),device:(s(IE)||s(gF)||s(mF)||s(vF)||CF(e))&&!s(Jo)},amazon:{phone:s(yd),tablet:!s(yd)&&s(qy),device:s(yd)||s(qy)},android:{phone:!s(Jo)&&s(yd)||!s(Jo)&&s(OE),tablet:!s(Jo)&&!s(yd)&&!s(OE)&&(s(qy)||s(yF)),device:!s(Jo)&&(s(yd)||s(qy)||s(OE)||s(yF))||s(/\bokhttp\b/i)},windows:{phone:s(Jo),tablet:s(_F),device:s(Jo)||s(_F)},other:{blackberry:s(xF),blackberry10:s(wF),opera:s(bF),firefox:s(SF),chrome:s(EF),device:s(xF)||s(wF)||s(bF)||s(SF)||s(EF)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var a4;const zne=(a4=AF.default)!=null?a4:AF,zs=zne(globalThis.navigator);Fe.RETINA_PREFIX=/@([0-9\.]+)x/;Fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Y6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function o(c,d,f,g,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,g||c,m),_=r?r+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)e.call(f,g)&&d.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},a.prototype.listeners=function(d){var f=r?r+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,_=new Array(y);m<y;m++)_[m]=g[m].fn;return _},a.prototype.listenerCount=function(d){var f=r?r+d:d,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(d,f,g,m,y,_){var u=r?r+d:d;if(!this._events[u])return!1;var h=this._events[u],p=arguments.length,v,x;if(h.fn){switch(h.once&&this.removeListener(d,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,f),!0;case 3:return h.fn.call(h.context,f,g),!0;case 4:return h.fn.call(h.context,f,g,m),!0;case 5:return h.fn.call(h.context,f,g,m,y),!0;case 6:return h.fn.call(h.context,f,g,m,y,_),!0}for(x=1,v=new Array(p-1);x<p;x++)v[x-1]=arguments[x];h.fn.apply(h.context,v)}else{var w=h.length,b;for(x=0;x<w;x++)switch(h[x].once&&this.removeListener(d,h[x].fn,void 0,!0),p){case 1:h[x].fn.call(h[x].context);break;case 2:h[x].fn.call(h[x].context,f);break;case 3:h[x].fn.call(h[x].context,f,g);break;case 4:h[x].fn.call(h[x].context,f,g,m);break;default:if(!v)for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];h[x].fn.apply(h[x].context,v)}}return!0},a.prototype.on=function(d,f,g){return o(this,d,f,g,!1)},a.prototype.once=function(d,f,g){return o(this,d,f,g,!0)},a.prototype.removeListener=function(d,f,g,m){var y=r?r+d:d;if(!this._events[y])return this;if(!f)return l(this,y),this;var _=this._events[y];if(_.fn)_.fn===f&&(!m||_.once)&&(!g||_.context===g)&&l(this,y);else{for(var u=0,h=[],p=_.length;u<p;u++)(_[u].fn!==f||m&&!_[u].once||g&&_[u].context!==g)&&h.push(_[u]);h.length?this._events[y]=h.length===1?h[0]:h:l(this,y)}return this},a.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&l(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Y6);var Gne=Y6.exports;const Cf=xn(Gne);var M2={exports:{}};M2.exports=Cw;M2.exports.default=Cw;function Cw(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,o=q6(t,0,s,r,!0),l=[];if(!o||o.next===o.prev)return l;var a,c,d,f,g,m,y;if(n&&(o=Xne(t,e,o,r)),t.length>80*r){a=d=t[0],c=f=t[1];for(var _=r;_<s;_+=r)g=t[_],m=t[_+1],g<a&&(a=g),m<c&&(c=m),g>d&&(d=g),m>f&&(f=m);y=Math.max(d-a,f-c),y=y!==0?32767/y:0}return cm(o,l,r,a,c,y,0),l}function q6(t,e,r,n,s){var o,l;if(s===BA(t,e,r,n)>0)for(o=e;o<r;o+=n)l=TF(o,t[o],t[o+1],l);else for(o=r-n;o>=e;o-=n)l=TF(o,t[o],t[o+1],l);return l&&Aw(l,l.next)&&(hm(l),l=l.next),l}function kc(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Aw(r,r.next)||vr(r.prev,r,r.next)===0)){if(hm(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function cm(t,e,r,n,s,o,l){if(t){!l&&o&&Jne(t,n,s,o);for(var a=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,o?Hne(t,n,s,o):Vne(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),hm(t),t=d.next,a=d.next;continue}if(t=d,t===a){l?l===1?(t=Wne(kc(t),e,r),cm(t,e,r,n,s,o,2)):l===2&&Kne(t,e,r,n,s,o):cm(kc(t),e,r,n,s,o,1);break}}}}function Vne(t){var e=t.prev,r=t,n=t.next;if(vr(e,r,n)>=0)return!1;for(var s=e.x,o=r.x,l=n.x,a=e.y,c=r.y,d=n.y,f=s<o?s<l?s:l:o<l?o:l,g=a<c?a<d?a:d:c<d?c:d,m=s>o?s>l?s:l:o>l?o:l,y=a>c?a>d?a:d:c>d?c:d,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=g&&_.y<=y&&ah(s,a,o,c,l,d,_.x,_.y)&&vr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Hne(t,e,r,n){var s=t.prev,o=t,l=t.next;if(vr(s,o,l)>=0)return!1;for(var a=s.x,c=o.x,d=l.x,f=s.y,g=o.y,m=l.y,y=a<c?a<d?a:d:c<d?c:d,_=f<g?f<m?f:m:g<m?g:m,u=a>c?a>d?a:d:c>d?c:d,h=f>g?f>m?f:m:g>m?g:m,p=IA(y,_,e,r,n),v=IA(u,h,e,r,n),x=t.prevZ,w=t.nextZ;x&&x.z>=p&&w&&w.z<=v;){if(x.x>=y&&x.x<=u&&x.y>=_&&x.y<=h&&x!==s&&x!==l&&ah(a,f,c,g,d,m,x.x,x.y)&&vr(x.prev,x,x.next)>=0||(x=x.prevZ,w.x>=y&&w.x<=u&&w.y>=_&&w.y<=h&&w!==s&&w!==l&&ah(a,f,c,g,d,m,w.x,w.y)&&vr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;x&&x.z>=p;){if(x.x>=y&&x.x<=u&&x.y>=_&&x.y<=h&&x!==s&&x!==l&&ah(a,f,c,g,d,m,x.x,x.y)&&vr(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;w&&w.z<=v;){if(w.x>=y&&w.x<=u&&w.y>=_&&w.y<=h&&w!==s&&w!==l&&ah(a,f,c,g,d,m,w.x,w.y)&&vr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Wne(t,e,r){var n=t;do{var s=n.prev,o=n.next.next;!Aw(s,o)&&Z6(s,n,n.next,o)&&dm(s,o)&&dm(o,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),hm(n),hm(n.next),n=t=o),n=n.next}while(n!==t);return kc(n)}function Kne(t,e,r,n,s,o){var l=t;do{for(var a=l.next.next;a!==l.prev;){if(l.i!==a.i&&rie(l,a)){var c=Q6(l,a);l=kc(l,l.next),c=kc(c,c.next),cm(l,e,r,n,s,o,0),cm(c,e,r,n,s,o,0);return}a=a.next}l=l.next}while(l!==t)}function Xne(t,e,r,n){var s=[],o,l,a,c,d;for(o=0,l=e.length;o<l;o++)a=e[o]*n,c=o<l-1?e[o+1]*n:t.length,d=q6(t,a,c,n,!1),d===d.next&&(d.steiner=!0),s.push(tie(d));for(s.sort(Yne),o=0;o<s.length;o++)r=qne(s[o],r);return r}function Yne(t,e){return t.x-e.x}function qne(t,e){var r=Zne(t,e);if(!r)return e;var n=Q6(r,t);return kc(n,n.next),kc(r,r.next)}function Zne(t,e){var r=e,n=t.x,s=t.y,o=-1/0,l;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o&&(o=a,l=r.x<r.next.x?r:r.next,a===n))return l}r=r.next}while(r!==e);if(!l)return null;var c=l,d=l.x,f=l.y,g=1/0,m;r=l;do n>=r.x&&r.x>=d&&n!==r.x&&ah(s<f?n:o,s,d,f,s<f?o:n,s,r.x,r.y)&&(m=Math.abs(s-r.y)/(n-r.x),dm(r,t)&&(m<g||m===g&&(r.x>l.x||r.x===l.x&&Qne(l,r)))&&(l=r,g=m)),r=r.next;while(r!==c);return l}function Qne(t,e){return vr(t.prev,t,e.prev)<0&&vr(e.next,t,t.next)<0}function Jne(t,e,r,n){var s=t;do s.z===0&&(s.z=IA(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,eie(s)}function eie(t){var e,r,n,s,o,l,a,c,d=1;do{for(r=t,t=null,o=null,l=0;r;){for(l++,n=r,a=0,e=0;e<d&&(a++,n=n.nextZ,!!n);e++);for(c=d;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,a--):(s=n,n=n.nextZ,c--),o?o.nextZ=s:t=s,s.prevZ=o,o=s;r=n}o.nextZ=null,d*=2}while(l>1);return t}function IA(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tie(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ah(t,e,r,n,s,o,l,a){return(s-l)*(e-a)>=(t-l)*(o-a)&&(t-l)*(n-a)>=(r-l)*(e-a)&&(r-l)*(o-a)>=(s-l)*(n-a)}function rie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nie(t,e)&&(dm(t,e)&&dm(e,t)&&iie(t,e)&&(vr(t.prev,t,e.prev)||vr(t,e.prev,e))||Aw(t,e)&&vr(t.prev,t,t.next)>0&&vr(e.prev,e,e.next)>0)}function vr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Aw(t,e){return t.x===e.x&&t.y===e.y}function Z6(t,e,r,n){var s=Qy(vr(t,e,r)),o=Qy(vr(t,e,n)),l=Qy(vr(r,n,t)),a=Qy(vr(r,n,e));return!!(s!==o&&l!==a||s===0&&Zy(t,r,e)||o===0&&Zy(t,n,e)||l===0&&Zy(r,t,n)||a===0&&Zy(r,e,n))}function Zy(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Qy(t){return t>0?1:t<0?-1:0}function nie(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Z6(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function dm(t,e){return vr(t.prev,t,t.next)<0?vr(t,e,t.next)>=0&&vr(t,t.prev,e)>=0:vr(t,e,t.prev)<0||vr(t,t.next,e)<0}function iie(t,e){var r=t,n=!1,s=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&s<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Q6(t,e){var r=new OA(t.i,t.x,t.y),n=new OA(e.i,e.x,e.y),s=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function TF(t,e,r,n){var s=new OA(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function hm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function OA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Cw.deviation=function(t,e,r,n){var s=e&&e.length,o=s?e[0]*r:t.length,l=Math.abs(BA(t,0,o,r));if(s)for(var a=0,c=e.length;a<c;a++){var d=e[a]*r,f=a<c-1?e[a+1]*r:t.length;l-=Math.abs(BA(t,d,f,r))}var g=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,y=n[a+1]*r,_=n[a+2]*r;g+=Math.abs((t[m]-t[_])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[_+1]-t[m+1]))}return l===0&&g===0?0:Math.abs((g-l)/l)};function BA(t,e,r,n){for(var s=0,o=e,l=r-n;o<r;o+=n)s+=(t[l]-t[o])*(t[o+1]+t[l+1]),l=o;return s}Cw.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var o=0;o<t[s].length;o++)for(var l=0;l<e;l++)r.vertices.push(t[s][o][l]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var sie=M2.exports;const J6=xn(sie);var x1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */x1.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,o=typeof Oi=="object"&&Oi;(o.global===o||o.window===o||o.self===o)&&(r=o);var l,a=2147483647,c=36,d=1,f=26,g=38,m=700,y=72,_=128,u="-",h=/^xn--/,p=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,b=Math.floor,S=String.fromCharCode,C;function A(H){throw new RangeError(x[H])}function T(H,K){for(var te=H.length,le=[];te--;)le[te]=K(H[te]);return le}function P(H,K){var te=H.split("@"),le="";te.length>1&&(le=te[0]+"@",H=te[1]),H=H.replace(v,".");var ne=H.split("."),fe=T(ne,K).join(".");return le+fe}function B(H){for(var K=[],te=0,le=H.length,ne,fe;te<le;)ne=H.charCodeAt(te++),ne>=55296&&ne<=56319&&te<le?(fe=H.charCodeAt(te++),(fe&64512)==56320?K.push(((ne&1023)<<10)+(fe&1023)+65536):(K.push(ne),te--)):K.push(ne);return K}function D(H){return T(H,function(K){var te="";return K>65535&&(K-=65536,te+=S(K>>>10&1023|55296),K=56320|K&1023),te+=S(K),te}).join("")}function R(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:c}function O(H,K){return H+22+75*(H<26)-((K!=0)<<5)}function k(H,K,te){var le=0;for(H=te?b(H/m):H>>1,H+=b(H/K);H>w*f>>1;le+=c)H=b(H/w);return b(le+(w+1)*H/(H+g))}function j(H){var K=[],te=H.length,le,ne=0,fe=_,z=y,Y,Z,Q,pe,ae,Ce,Re,Ie,tt;for(Y=H.lastIndexOf(u),Y<0&&(Y=0),Z=0;Z<Y;++Z)H.charCodeAt(Z)>=128&&A("not-basic"),K.push(H.charCodeAt(Z));for(Q=Y>0?Y+1:0;Q<te;){for(pe=ne,ae=1,Ce=c;Q>=te&&A("invalid-input"),Re=R(H.charCodeAt(Q++)),(Re>=c||Re>b((a-ne)/ae))&&A("overflow"),ne+=Re*ae,Ie=Ce<=z?d:Ce>=z+f?f:Ce-z,!(Re<Ie);Ce+=c)tt=c-Ie,ae>b(a/tt)&&A("overflow"),ae*=tt;le=K.length+1,z=k(ne-pe,le,pe==0),b(ne/le)>a-fe&&A("overflow"),fe+=b(ne/le),ne%=le,K.splice(ne++,0,fe)}return D(K)}function U(H){var K,te,le,ne,fe,z,Y,Z,Q,pe,ae,Ce=[],Re,Ie,tt,dt;for(H=B(H),Re=H.length,K=_,te=0,fe=y,z=0;z<Re;++z)ae=H[z],ae<128&&Ce.push(S(ae));for(le=ne=Ce.length,ne&&Ce.push(u);le<Re;){for(Y=a,z=0;z<Re;++z)ae=H[z],ae>=K&&ae<Y&&(Y=ae);for(Ie=le+1,Y-K>b((a-te)/Ie)&&A("overflow"),te+=(Y-K)*Ie,K=Y,z=0;z<Re;++z)if(ae=H[z],ae<K&&++te>a&&A("overflow"),ae==K){for(Z=te,Q=c;pe=Q<=fe?d:Q>=fe+f?f:Q-fe,!(Z<pe);Q+=c)dt=Z-pe,tt=c-pe,Ce.push(S(O(pe+dt%tt,0))),Z=b(dt/tt);Ce.push(S(O(Z,0))),fe=k(te,Ie,le==ne),te=0,++le}++te,++K}return Ce.join("")}function N(H){return P(H,function(K){return h.test(K)?j(K.slice(4).toLowerCase()):K})}function L(H){return P(H,function(K){return p.test(K)?"xn--"+U(K):K})}if(l={version:"1.4.1",ucs2:{decode:B,encode:D},decode:j,encode:U,toASCII:L,toUnicode:N},n&&s)if(t.exports==n)s.exports=l;else for(C in l)l.hasOwnProperty(C)&&(n[C]=l[C]);else r.punycode=l})(Oi)})(x1,x1.exports);var oie=x1.exports,aie=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0},DF=typeof Symbol<"u"&&Symbol,lie=aie,uie=function(){return typeof DF!="function"||typeof Symbol!="function"||typeof DF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lie()},PF={foo:{}},cie=Object,die=function(){return{__proto__:PF}.foo===PF.foo&&!({__proto__:null}instanceof cie)},hie="Function.prototype.bind called on incompatible ",fie=Object.prototype.toString,pie=Math.max,gie="[object Function]",RF=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},mie=function(e,r){for(var n=[],s=r||0,o=0;s<e.length;s+=1,o+=1)n[o]=e[s];return n},vie=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},yie=function(e){var r=this;if(typeof r!="function"||fie.apply(r)!==gie)throw new TypeError(hie+r);for(var n=mie(arguments,1),s,o=function(){if(this instanceof s){var f=r.apply(this,RF(n,arguments));return Object(f)===f?f:this}return r.apply(e,RF(n,arguments))},l=pie(0,r.length-n.length),a=[],c=0;c<l;c++)a[c]="$"+c;if(s=Function("binder","return function ("+vie(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},_ie=yie,F2=Function.prototype.bind||_ie,xie=Function.prototype.call,wie=Object.prototype.hasOwnProperty,bie=F2,Eie=bie.call(xie,wie),vt,Wh=SyntaxError,ej=Function,bh=TypeError,BE=function(t){try{return ej('"use strict"; return ('+t+").constructor;")()}catch(e){}},pc=Object.getOwnPropertyDescriptor;if(pc)try{pc({},"")}catch(t){pc=null}var ME=function(){throw new bh},Sie=pc?function(){try{return arguments.callee,ME}catch(t){try{return pc(arguments,"callee").get}catch(e){return ME}}}():ME,_d=uie(),Cie=die(),tn=Object.getPrototypeOf||(Cie?function(t){return t.__proto__}:null),Ud={},Aie=typeof Uint8Array>"u"||!tn?vt:tn(Uint8Array),gc={"%AggregateError%":typeof AggregateError>"u"?vt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vt:ArrayBuffer,"%ArrayIteratorPrototype%":_d&&tn?tn([][Symbol.iterator]()):vt,"%AsyncFromSyncIteratorPrototype%":vt,"%AsyncFunction%":Ud,"%AsyncGenerator%":Ud,"%AsyncGeneratorFunction%":Ud,"%AsyncIteratorPrototype%":Ud,"%Atomics%":typeof Atomics>"u"?vt:Atomics,"%BigInt%":typeof BigInt>"u"?vt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?vt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vt:FinalizationRegistry,"%Function%":ej,"%GeneratorFunction%":Ud,"%Int8Array%":typeof Int8Array>"u"?vt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_d&&tn?tn(tn([][Symbol.iterator]())):vt,"%JSON%":typeof JSON=="object"?JSON:vt,"%Map%":typeof Map>"u"?vt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_d||!tn?vt:tn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vt:Promise,"%Proxy%":typeof Proxy>"u"?vt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?vt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_d||!tn?vt:tn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_d&&tn?tn(""[Symbol.iterator]()):vt,"%Symbol%":_d?Symbol:vt,"%SyntaxError%":Wh,"%ThrowTypeError%":Sie,"%TypedArray%":Aie,"%TypeError%":bh,"%Uint8Array%":typeof Uint8Array>"u"?vt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?vt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vt:WeakSet};if(tn)try{null.error}catch(t){var Tie=tn(tn(t));gc["%Error.prototype%"]=Tie}var Die=function t(e){var r;if(e==="%AsyncFunction%")r=BE("async function () {}");else if(e==="%GeneratorFunction%")r=BE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=BE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&tn&&(r=tn(s.prototype))}return gc[e]=r,r},IF={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Bv=F2,w1=Eie,Pie=Bv.call(Function.call,Array.prototype.concat),Rie=Bv.call(Function.apply,Array.prototype.splice),OF=Bv.call(Function.call,String.prototype.replace),b1=Bv.call(Function.call,String.prototype.slice),Iie=Bv.call(Function.call,RegExp.prototype.exec),Oie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bie=/\\(\\)?/g,Mie=function(e){var r=b1(e,0,1),n=b1(e,-1);if(r==="%"&&n!=="%")throw new Wh("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Wh("invalid intrinsic syntax, expected opening `%`");var s=[];return OF(e,Oie,function(o,l,a,c){s[s.length]=a?OF(c,Bie,"$1"):l||o}),s},Fie=function(e,r){var n=e,s;if(w1(IF,n)&&(s=IF[n],n="%"+s[0]+"%"),w1(gc,n)){var o=gc[n];if(o===Ud&&(o=Die(n)),typeof o>"u"&&!r)throw new bh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:o}}throw new Wh("intrinsic "+e+" does not exist!")},qc=function(e,r){if(typeof e!="string"||e.length===0)throw new bh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new bh('"allowMissing" argument must be a boolean');if(Iie(/^%?[^%]*%?$/,e)===null)throw new Wh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Mie(e),s=n.length>0?n[0]:"",o=Fie("%"+s+"%",r),l=o.name,a=o.value,c=!1,d=o.alias;d&&(s=d[0],Rie(n,Pie([0,1],d)));for(var f=1,g=!0;f<n.length;f+=1){var m=n[f],y=b1(m,0,1),_=b1(m,-1);if((y==='"'||y==="'"||y==="`"||_==='"'||_==="'"||_==="`")&&y!==_)throw new Wh("property names with quotes must have matching quotes");if((m==="constructor"||!g)&&(c=!0),s+="."+m,l="%"+s+"%",w1(gc,l))a=gc[l];else if(a!=null){if(!(m in a)){if(!r)throw new bh("base intrinsic for "+e+" exists, but the property is not available.");return}if(pc&&f+1>=n.length){var u=pc(a,m);g=!!u,g&&"get"in u&&!("originalValue"in u.get)?a=u.get:a=a[m]}else g=w1(a,m),a=a[m];g&&!c&&(gc[l]=a)}}return a},tj={exports:{}},kie=qc,MA=kie("%Object.defineProperty%",!0),FA=function(){if(MA)try{return MA({},"a",{value:1}),!0}catch(e){return!1}return!1};FA.hasArrayLengthDefineBug=function(){if(!FA())return null;try{return MA([],"length",{value:1}).length!==1}catch(e){return!0}};var rj=FA,Lie=qc,f_=Lie("%Object.getOwnPropertyDescriptor%",!0);if(f_)try{f_([],"length")}catch(t){f_=null}var nj=f_,Nie=rj(),k2=qc,_g=Nie&&k2("%Object.defineProperty%",!0);if(_g)try{_g({},"a",{value:1})}catch(t){_g=!1}var Uie=k2("%SyntaxError%"),xd=k2("%TypeError%"),BF=nj,$ie=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new xd("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new xd("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new xd("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new xd("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new xd("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new xd("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!BF&&BF(e,r);if(_g)_g(e,r,{configurable:l===null&&c?c.configurable:!l,enumerable:s===null&&c?c.enumerable:!s,value:n,writable:o===null&&c?c.writable:!o});else if(a||!s&&!o&&!l)e[r]=n;else throw new Uie("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ij=qc,MF=$ie,jie=rj(),FF=nj,kF=ij("%TypeError%"),zie=ij("%Math.floor%"),Gie=function(e,r){if(typeof e!="function")throw new kF("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||zie(r)!==r)throw new kF("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,o=!0;if("length"in e&&FF){var l=FF(e,"length");l&&!l.configurable&&(s=!1),l&&!l.writable&&(o=!1)}return(s||o||!n)&&(jie?MF(e,"length",r,!0,!0):MF(e,"length",r)),e};(function(t){var e=F2,r=qc,n=Gie,s=r("%TypeError%"),o=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(l,o),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(g){c=null}t.exports=function(m){if(typeof m!="function")throw new s("a function is required");var y=a(e,l,arguments);return n(y,1+d(0,m.length-(arguments.length-1)),!0)};var f=function(){return a(e,o,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f})(tj);var Vie=tj.exports,sj=qc,oj=Vie,Hie=oj(sj("String.prototype.indexOf")),Wie=function(e,r){var n=sj(e,!!r);return typeof n=="function"&&Hie(e,".prototype.")>-1?oj(n):n};const Kie={},Xie=Object.freeze(Object.defineProperty({__proto__:null,default:Kie},Symbol.toStringTag,{value:"Module"})),Yie=rJ(Xie);var L2=typeof Map=="function"&&Map.prototype,FE=Object.getOwnPropertyDescriptor&&L2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,E1=L2&&FE&&typeof FE.get=="function"?FE.get:null,LF=L2&&Map.prototype.forEach,N2=typeof Set=="function"&&Set.prototype,kE=Object.getOwnPropertyDescriptor&&N2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S1=N2&&kE&&typeof kE.get=="function"?kE.get:null,NF=N2&&Set.prototype.forEach,qie=typeof WeakMap=="function"&&WeakMap.prototype,xg=qie?WeakMap.prototype.has:null,Zie=typeof WeakSet=="function"&&WeakSet.prototype,wg=Zie?WeakSet.prototype.has:null,Qie=typeof WeakRef=="function"&&WeakRef.prototype,UF=Qie?WeakRef.prototype.deref:null,Jie=Boolean.prototype.valueOf,ese=Object.prototype.toString,tse=Function.prototype.toString,rse=String.prototype.match,U2=String.prototype.slice,Il=String.prototype.replace,nse=String.prototype.toUpperCase,$F=String.prototype.toLowerCase,aj=RegExp.prototype.test,jF=Array.prototype.concat,bo=Array.prototype.join,ise=Array.prototype.slice,zF=Math.floor,kA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,LE=Object.getOwnPropertySymbols,LA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Bn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Kh||"symbol")?Symbol.toStringTag:null,lj=Object.prototype.propertyIsEnumerable,GF=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function VF(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||aj.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-zF(-t):zF(t);if(n!==t){var s=String(n),o=U2.call(e,s.length+1);return Il.call(s,r,"$&_")+"."+Il.call(Il.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Il.call(e,r,"$&_")}var NA=Yie,HF=NA.custom,WF=cj(HF)?HF:null,sse=function t(e,r,n,s){var o=r||{};if(ml(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ml(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=ml(o,"customInspect")?o.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ml(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ml(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return hj(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?VF(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return a?VF(e,d):d}var f=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return UA(e)?"[Array]":"[Object]";var g=Ese(o,n);if(typeof s>"u")s=[];else if(dj(s,e)>=0)return"[Circular]";function m(R,O,k){if(O&&(s=ise.call(s),s.push(O)),k){var j={depth:o.depth};return ml(o,"quoteStyle")&&(j.quoteStyle=o.quoteStyle),t(R,j,n+1,s)}return t(R,o,n+1,s)}if(typeof e=="function"&&!KF(e)){var y=pse(e),_=Jy(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+bo.call(_,", ")+" }":"")}if(cj(e)){var u=Kh?Il.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):LA.call(e);return typeof e=="object"&&!Kh?wp(u):u}if(xse(e)){for(var h="<"+$F.call(String(e.nodeName)),p=e.attributes||[],v=0;v<p.length;v++)h+=" "+p[v].name+"="+uj(ose(p[v].value),"double",o);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+$F.call(String(e.nodeName))+">",h}if(UA(e)){if(e.length===0)return"[]";var x=Jy(e,m);return g&&!bse(x)?"["+$A(x,g)+"]":"[ "+bo.call(x,", ")+" ]"}if(lse(e)){var w=Jy(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!lj.call(e,"cause")?"{ ["+String(e)+"] "+bo.call(jF.call("[cause]: "+m(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+bo.call(w,", ")+" }"}if(typeof e=="object"&&l){if(WF&&typeof e[WF]=="function"&&NA)return NA(e,{depth:f-n});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(gse(e)){var b=[];return LF&&LF.call(e,function(R,O){b.push(m(O,e,!0)+" => "+m(R,e))}),XF("Map",E1.call(e),b,g)}if(yse(e)){var S=[];return NF&&NF.call(e,function(R){S.push(m(R,e))}),XF("Set",S1.call(e),S,g)}if(mse(e))return NE("WeakMap");if(_se(e))return NE("WeakSet");if(vse(e))return NE("WeakRef");if(cse(e))return wp(m(Number(e)));if(hse(e))return wp(m(kA.call(e)));if(dse(e))return wp(Jie.call(e));if(use(e))return wp(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Oi)return"{ [object globalThis] }";if(!ase(e)&&!KF(e)){var C=Jy(e,m),A=GF?GF(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",P=!A&&Bn&&Object(e)===e&&Bn in e?U2.call(Eu(e),8,-1):T?"Object":"",B=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",D=B+(P||T?"["+bo.call(jF.call([],P||[],T||[]),": ")+"] ":"");return C.length===0?D+"{}":g?D+"{"+$A(C,g)+"}":D+"{ "+bo.call(C,", ")+" }"}return String(e)};function uj(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ose(t){return Il.call(String(t),/"/g,"&quot;")}function UA(t){return Eu(t)==="[object Array]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function ase(t){return Eu(t)==="[object Date]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function KF(t){return Eu(t)==="[object RegExp]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function lse(t){return Eu(t)==="[object Error]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function use(t){return Eu(t)==="[object String]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function cse(t){return Eu(t)==="[object Number]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function dse(t){return Eu(t)==="[object Boolean]"&&(!Bn||!(typeof t=="object"&&Bn in t))}function cj(t){if(Kh)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!LA)return!1;try{return LA.call(t),!0}catch(e){}return!1}function hse(t){if(!t||typeof t!="object"||!kA)return!1;try{return kA.call(t),!0}catch(e){}return!1}var fse=Object.prototype.hasOwnProperty||function(t){return t in this};function ml(t,e){return fse.call(t,e)}function Eu(t){return ese.call(t)}function pse(t){if(t.name)return t.name;var e=rse.call(tse.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function dj(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function gse(t){if(!E1||!t||typeof t!="object")return!1;try{E1.call(t);try{S1.call(t)}catch(e){return!0}return t instanceof Map}catch(e){}return!1}function mse(t){if(!xg||!t||typeof t!="object")return!1;try{xg.call(t,xg);try{wg.call(t,wg)}catch(e){return!0}return t instanceof WeakMap}catch(e){}return!1}function vse(t){if(!UF||!t||typeof t!="object")return!1;try{return UF.call(t),!0}catch(e){}return!1}function yse(t){if(!S1||!t||typeof t!="object")return!1;try{S1.call(t);try{E1.call(t)}catch(e){return!0}return t instanceof Set}catch(e){}return!1}function _se(t){if(!wg||!t||typeof t!="object")return!1;try{wg.call(t,wg);try{xg.call(t,xg)}catch(e){return!0}return t instanceof WeakSet}catch(e){}return!1}function xse(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function hj(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return hj(U2.call(t,0,e.maxStringLength),e)+n}var s=Il.call(Il.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wse);return uj(s,"single",e)}function wse(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+nse.call(e.toString(16))}function wp(t){return"Object("+t+")"}function NE(t){return t+" { ? }"}function XF(t,e,r,n){var s=n?$A(r,n):bo.call(r,", ");return t+" ("+e+") {"+s+"}"}function bse(t){for(var e=0;e<t.length;e++)if(dj(t[e],"\n")>=0)return!1;return!0}function Ese(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=bo.call(Array(t.indent+1)," ");else return null;return{base:r,prev:bo.call(Array(e+1),r)}}function $A(t,e){if(t.length===0)return"";var r="\n"+e.prev+e.base;return r+bo.call(t,","+r)+"\n"+e.prev}function Jy(t,e){var r=UA(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=ml(t,s)?e(t[s],t):""}var o=typeof LE=="function"?LE(t):[],l;if(Kh){l={};for(var a=0;a<o.length;a++)l["$"+o[a]]=o[a]}for(var c in t)ml(t,c)&&(r&&String(Number(c))===c&&c<t.length||Kh&&l["$"+c]instanceof Symbol||(aj.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof LE=="function")for(var d=0;d<o.length;d++)lj.call(t,o[d])&&n.push("["+e(o[d])+"]: "+e(t[o[d]],t));return n}var $2=qc,Af=Wie,Sse=sse,Cse=$2("%TypeError%"),e0=$2("%WeakMap%",!0),t0=$2("%Map%",!0),Ase=Af("WeakMap.prototype.get",!0),Tse=Af("WeakMap.prototype.set",!0),Dse=Af("WeakMap.prototype.has",!0),Pse=Af("Map.prototype.get",!0),Rse=Af("Map.prototype.set",!0),Ise=Af("Map.prototype.has",!0),j2=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Ose=function(t,e){var r=j2(t,e);return r&&r.value},Bse=function(t,e,r){var n=j2(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Mse=function(t,e){return!!j2(t,e)},Fse=function(){var e,r,n,s={assert:function(o){if(!s.has(o))throw new Cse("Side channel does not contain "+Sse(o))},get:function(o){if(e0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ase(e,o)}else if(t0){if(r)return Pse(r,o)}else if(n)return Ose(n,o)},has:function(o){if(e0&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Dse(e,o)}else if(t0){if(r)return Ise(r,o)}else if(n)return Mse(n,o);return!1},set:function(o,l){e0&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new e0),Tse(e,o,l)):t0?(r||(r=new t0),Rse(r,o,l)):(n||(n={key:{},next:null}),Bse(n,o,l))}};return s},kse=String.prototype.replace,Lse=/%20/g,UE={RFC1738:"RFC1738",RFC3986:"RFC3986"},z2={default:UE.RFC3986,formatters:{RFC1738:function(t){return kse.call(t,Lse,"+")},RFC3986:function(t){return String(t)}},RFC1738:UE.RFC1738,RFC3986:UE.RFC3986},Nse=z2,$E=Object.prototype.hasOwnProperty,ec=Array.isArray,po=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Use=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ec(n)){for(var s=[],o=0;o<n.length;++o)typeof n[o]<"u"&&s.push(n[o]);r.obj[r.prop]=s}}},fj=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},$se=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ec(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$E.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return ec(e)&&!ec(r)&&(s=fj(e,n)),ec(e)&&ec(r)?(r.forEach(function(o,l){if($E.call(e,l)){var a=e[l];a&&typeof a=="object"&&o&&typeof o=="object"?e[l]=t(a,o,n):e.push(o)}else e[l]=o}),e):Object.keys(r).reduce(function(o,l){var a=r[l];return $E.call(o,l)?o[l]=t(o[l],a,n):o[l]=a,o},s)},jse=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},zse=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(s){return n}},Gse=function(e,r,n,s,o){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),n==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",c=0;c<l.length;++c){var d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Nse.RFC1738&&(d===40||d===41)){a+=l.charAt(c);continue}if(d<128){a=a+po[d];continue}if(d<2048){a=a+(po[192|d>>6]+po[128|d&63]);continue}if(d<55296||d>=57344){a=a+(po[224|d>>12]+po[128|d>>6&63]+po[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),a+=po[240|d>>18]+po[128|d>>12&63]+po[128|d>>6&63]+po[128|d&63]}return a},Vse=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var o=r[s],l=o.obj[o.prop],a=Object.keys(l),c=0;c<a.length;++c){var d=a[c],f=l[d];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:l,prop:d}),n.push(f))}return Use(r),e},Hse=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Wse=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Kse=function(e,r){return[].concat(e,r)},Xse=function(e,r){if(ec(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},pj={arrayToObject:fj,assign:jse,combine:Kse,compact:Vse,decode:zse,encode:Gse,isBuffer:Wse,isRegExp:Hse,maybeMap:Xse,merge:$se},gj=Fse,p_=pj,bg=z2,Yse=Object.prototype.hasOwnProperty,YF={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},da=Array.isArray,qse=Array.prototype.push,mj=function(t,e){qse.apply(t,da(e)?e:[e])},Zse=Date.prototype.toISOString,qF=bg.default,En={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:p_.encode,encodeValuesOnly:!1,format:qF,formatter:bg.formatters[qF],indices:!1,serializeDate:function(e){return Zse.call(e)},skipNulls:!1,strictNullHandling:!1},Qse=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},jE={},Jse=function t(e,r,n,s,o,l,a,c,d,f,g,m,y,_,u,h){for(var p=e,v=h,x=0,w=!1;(v=v.get(jE))!==void 0&&!w;){var b=v.get(e);if(x+=1,typeof b<"u"){if(b===x)throw new RangeError("Cyclic object value");w=!0}typeof v.get(jE)>"u"&&(x=0)}if(typeof c=="function"?p=c(r,p):p instanceof Date?p=g(p):n==="comma"&&da(p)&&(p=p_.maybeMap(p,function(j){return j instanceof Date?g(j):j})),p===null){if(o)return a&&!_?a(r,En.encoder,u,"key",m):r;p=""}if(Qse(p)||p_.isBuffer(p)){if(a){var S=_?r:a(r,En.encoder,u,"key",m);return[y(S)+"="+y(a(p,En.encoder,u,"value",m))]}return[y(r)+"="+y(String(p))]}var C=[];if(typeof p>"u")return C;var A;if(n==="comma"&&da(p))_&&a&&(p=p_.maybeMap(p,a)),A=[{value:p.length>0?p.join(",")||null:void 0}];else if(da(c))A=c;else{var T=Object.keys(p);A=d?T.sort(d):T}for(var P=s&&da(p)&&p.length===1?r+"[]":r,B=0;B<A.length;++B){var D=A[B],R=typeof D=="object"&&typeof D.value<"u"?D.value:p[D];if(!(l&&R===null)){var O=da(p)?typeof n=="function"?n(P,D):P:P+(f?"."+D:"["+D+"]");h.set(e,x);var k=gj();k.set(jE,h),mj(C,t(R,O,n,s,o,l,n==="comma"&&_&&da(p)?null:a,c,d,f,g,m,y,_,u,k))}}return C},eoe=function(e){if(!e)return En;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||En.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=bg.default;if(typeof e.format<"u"){if(!Yse.call(bg.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=bg.formatters[n],o=En.filter;return(typeof e.filter=="function"||da(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:En.addQueryPrefix,allowDots:typeof e.allowDots>"u"?En.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:En.charsetSentinel,delimiter:typeof e.delimiter>"u"?En.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:En.encode,encoder:typeof e.encoder=="function"?e.encoder:En.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:En.encodeValuesOnly,filter:o,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:En.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:En.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:En.strictNullHandling}},toe=function(t,e){var r=t,n=eoe(e),s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):da(n.filter)&&(o=n.filter,s=o);var l=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in YF?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=YF[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var f=gj(),g=0;g<s.length;++g){var m=s[g];n.skipNulls&&r[m]===null||mj(l,Jse(r[m],m,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var y=l.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""},Xh=pj,jA=Object.prototype.hasOwnProperty,roe=Array.isArray,Jr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Xh.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},noe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},vj=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ioe="utf8=%26%2310003%3B",soe="utf8=%E2%9C%93",ooe=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,l=s.split(r.delimiter,o),a=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<l.length;++c)l[c].indexOf("utf8=")===0&&(l[c]===soe?d="utf-8":l[c]===ioe&&(d="iso-8859-1"),a=c,c=l.length);for(c=0;c<l.length;++c)if(c!==a){var f=l[c],g=f.indexOf("]="),m=g===-1?f.indexOf("="):g+1,y,_;m===-1?(y=r.decoder(f,Jr.decoder,d,"key"),_=r.strictNullHandling?null:""):(y=r.decoder(f.slice(0,m),Jr.decoder,d,"key"),_=Xh.maybeMap(vj(f.slice(m+1),r),function(u){return r.decoder(u,Jr.decoder,d,"value")})),_&&r.interpretNumericEntities&&d==="iso-8859-1"&&(_=noe(_)),f.indexOf("[]=")>-1&&(_=roe(_)?[_]:_),jA.call(n,y)?n[y]=Xh.combine(n[y],_):n[y]=_}return n},aoe=function(t,e,r,n){for(var s=n?e:vj(e,r),o=t.length-1;o>=0;--o){var l,a=t[o];if(a==="[]"&&r.parseArrays)l=[].concat(s);else{l=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=parseInt(c,10);!r.parseArrays&&c===""?l={0:s}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(l=[],l[d]=s):c!=="__proto__"&&(l[c]=s)}s=l}return s},loe=function(e,r,n,s){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&l.exec(o),d=c?o.slice(0,c.index):o,f=[];if(d){if(!n.plainObjects&&jA.call(Object.prototype,d)&&!n.allowPrototypes)return;f.push(d)}for(var g=0;n.depth>0&&(c=a.exec(o))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&jA.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+o.slice(c.index)+"]"),aoe(f,r,n,s)}},uoe=function(e){if(!e)return Jr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Jr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Jr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Jr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Jr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Jr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Jr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Jr.comma,decoder:typeof e.decoder=="function"?e.decoder:Jr.decoder,delimiter:typeof e.delimiter=="string"||Xh.isRegExp(e.delimiter)?e.delimiter:Jr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Jr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Jr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Jr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Jr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Jr.strictNullHandling}},coe=function(t,e){var r=uoe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ooe(t,r):t,s=r.plainObjects?Object.create(null):{},o=Object.keys(n),l=0;l<o.length;++l){var a=o[l],c=loe(a,n[a],r,typeof t=="string");s=Xh.merge(s,c,r)}return r.allowSparse===!0?s:Xh.compact(s)},doe=toe,hoe=coe,foe=z2,poe={formats:foe,parse:hoe,stringify:doe},goe=oie;function Ys(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var moe=/^([a-z0-9.+-]+:)/i,voe=/:[0-9]*$/,yoe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,_oe=["<",">",'"',"`"," ","\r","\n","	"],xoe=["{","}","|","\\","^","`"].concat(_oe),zA=["'"].concat(xoe),ZF=["%","/","?",";","#"].concat(zA),QF=["/","?","#"],woe=255,JF=/^[+a-z0-9A-Z_-]{0,63}$/,boe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Eoe={javascript:!0,"javascript:":!0},GA={javascript:!0,"javascript:":!0},Eh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},VA=poe;function Tw(t,e,r){if(t&&typeof t=="object"&&t instanceof Ys)return t;var n=new Ys;return n.parse(t,e,r),n}Ys.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(s),l=/\\/g;o[0]=o[0].replace(l,"/"),t=o.join(s);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=yoe.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=VA.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=moe.exec(a);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@/]+@[^@/]+/)){var g=a.substr(0,2)==="//";g&&!(d&&GA[d])&&(a=a.substr(2),this.slashes=!0)}if(!GA[d]&&(g||d&&!Eh[d])){for(var m=-1,y=0;y<QF.length;y++){var _=a.indexOf(QF[y]);_!==-1&&(m===-1||_<m)&&(m=_)}var u,h;m===-1?h=a.lastIndexOf("@"):h=a.lastIndexOf("@",m),h!==-1&&(u=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(u)),m=-1;for(var y=0;y<ZF.length;y++){var _=a.indexOf(ZF[y]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p)for(var v=this.hostname.split(/\./),y=0,x=v.length;y<x;y++){var w=v[y];if(w&&!w.match(JF)){for(var b="",S=0,C=w.length;S<C;S++)w.charCodeAt(S)>127?b+="x":b+=w[S];if(!b.match(JF)){var A=v.slice(0,y),T=v.slice(y+1),P=w.match(boe);P&&(A.push(P[1]),T.unshift(P[2])),T.length&&(a="/"+T.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>woe?this.hostname="":this.hostname=this.hostname.toLowerCase(),p||(this.hostname=goe.toASCII(this.hostname));var B=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+B,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Eoe[f])for(var y=0,x=zA.length;y<x;y++){var R=zA[y];if(a.indexOf(R)!==-1){var O=encodeURIComponent(R);O===R&&(O=escape(R)),a=a.split(R).join(O)}}var k=a.indexOf("#");k!==-1&&(this.hash=a.substr(k),a=a.slice(0,k));var j=a.indexOf("?");if(j!==-1?(this.search=a.substr(j),this.query=a.substr(j+1),e&&(this.query=VA.parse(this.query)),a=a.slice(0,j)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Eh[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",U=this.search||"";this.path=B+U}return this.href=this.format(),this};function Soe(t){return typeof t=="string"&&(t=Tw(t)),t instanceof Ys?t.format():Ys.prototype.format.call(t)}Ys.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=VA.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var l=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Eh[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),l&&l.charAt(0)!=="?"&&(l="?"+l),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),l=l.replace("#","%23"),e+s+r+l+n};function Coe(t,e){return Tw(t,!1,!0).resolve(e)}Ys.prototype.resolve=function(t){return this.resolveObject(Tw(t,!1,!0)).format()};Ys.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ys;e.parse(t,!1,!0),t=e}for(var r=new Ys,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),a=0;a<l.length;a++){var c=l[a];c!=="protocol"&&(r[c]=t[c])}return Eh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Eh[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var g=d[f];r[g]=t[g]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!GA[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",u=t.host||t.pathname&&t.pathname.charAt(0)==="/",h=u||_||r.host&&t.pathname,p=h,v=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Eh[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),h=h&&(x[0]===""||v[0]==="")),u)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,v=x;else if(x.length)v||(v=[]),v.pop(),v=v.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=v.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=v.slice(-1)[0],C=(r.host||t.host||v.length>1)&&(S==="."||S==="..")||S==="",A=0,T=v.length;T>=0;T--)S=v[T],S==="."?v.splice(T,1):S===".."?(v.splice(T,1),A++):A&&(v.splice(T,1),A--);if(!h&&!p)for(;A--;A)v.unshift("..");h&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),C&&v.join("/").substr(-1)!=="/"&&v.push("");var P=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(w){r.hostname=P?"":v.length?v.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return h=h||r.host&&v.length,h&&!P&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ys.prototype.parseHost=function(){var t=this.host,e=voe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Aoe=Tw,Toe=Coe,Doe=Soe;const ek={};function it(t,e,r=3){if(ek[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),ek[e]=!0}const Poe={get parse(){return it("7.3.0","utils.url.parse is deprecated, use native URL API instead."),Aoe},get format(){return it("7.3.0","utils.url.format is deprecated, use native URL API instead."),Doe},get resolve(){return it("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),Toe}};function Os(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function bp(t){return t.split("?")[0].split("#")[0]}function Roe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ioe(t,e,r){return t.replace(new RegExp(Roe(e),"g"),r)}function Ooe(t,e){let r="",n=0,s=-1,o=0,l=-1;for(let a=0;a<=t.length;++a){if(a<t.length)l=t.charCodeAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=a,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=a,o=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(s+1,a)):r=t.slice(s+1,a),n=a-s-1;s=a,o=0}else l===46&&o!==-1?++o:o=-1}return r}const jr={toPosix(t){return Ioe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Os(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Os(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=bp(this.toPosix(e!=null?e:Fe.ADAPTER.getBaseUrl())),s=bp(this.toPosix(r!=null?r:this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?jr.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Os(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Ooe(t,!1),t.length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return Os(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var r;if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const s=t[n];if(Os(s),s.length>0)if(e===void 0)e=s;else{const o=(r=t[n-1])!=null?r:"";this.extname(o)?e+="/../".concat(s):e+="/".concat(s)}}return e===void 0?".":this.normalize(e)},dirname(t){if(Os(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const o=this.getProtocol(t),l=t;t=t.slice(o.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":this.isUrl(l)?o+t:o:r&&n===1?"//":o+t.slice(0,n)},rootname(t){Os(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Os(t),e&&Os(e),t=bp(this.toPosix(t));let r=0,n=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let l=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){const c=t.charCodeAt(o);if(c===47){if(!s){r=o+1;break}}else a===-1&&(s=!1,a=o+1),l>=0&&(c===e.charCodeAt(l)?--l===-1&&(n=o):(l=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!s){r=o+1;break}}else n===-1&&(s=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){Os(t),t=bp(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,o=0;for(let l=t.length-1;l>=0;--l){const a=t.charCodeAt(l);if(a===47){if(!s){r=l+1;break}continue}n===-1&&(s=!1,n=l+1),a===46?e===-1?e=l:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Os(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=bp(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let o=-1,l=0,a=-1,c=!0,d=t.length-1,f=0;for(;d>=s;--d){if(r=t.charCodeAt(d),r===47){if(!c){l=d+1;break}continue}a===-1&&(c=!1,a=d+1),r===46?o===-1?o=d:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||a===-1||f===0||f===1&&o===a-1&&o===l+1?a!==-1&&(l===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(l,a)):(l===0&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(l,o),e.base=t.slice(l,a)),e.ext=t.slice(o,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Ep;async function yj(){return Ep!=null||(Ep=(async()=>{var o;const t=document.createElement("canvas").getContext("webgl");if(!t)return Wn.UNPACK;const e=await new Promise(l=>{const a=document.createElement("video");a.onloadeddata=()=>l(a),a.onerror=()=>l(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Wn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(r),(o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?Wn.PMA:Wn.UNPACK})()),Ep}function Boe(){it("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function Moe(){it("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}let zE;function _j(){return typeof zE>"u"&&(zE=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:Fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Fe.ADAPTER.getWebGLRenderingContext())return!1;const r=Fe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch(r){return!1}}()),zE}var Foe={grad:.9,turn:360,rad:360/(2*Math.PI)},ea=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},sn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},fs=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},xj=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},tk=function(t){return{r:fs(t.r,0,255),g:fs(t.g,0,255),b:fs(t.b,0,255),a:fs(t.a)}},GE=function(t){return{r:sn(t.r),g:sn(t.g),b:sn(t.b),a:sn(t.a,3)}},koe=/^#([0-9a-f]{3,8})$/i,r0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},wj=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),l=o-Math.min(e,r,n),a=l?o===e?(r-n)/l:o===r?2+(n-e)/l:4+(e-r)/l:0;return{h:60*(a<0?a+6:a),s:o?l/o*100:0,v:o/255*100,a:s}},bj=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),l=n*(1-r),a=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:255*[n,a,l,l,c,n][d],g:255*[c,n,n,a,l,l][d],b:255*[l,l,c,n,n,a][d],a:s}},rk=function(t){return{h:xj(t.h),s:fs(t.s,0,100),l:fs(t.l,0,100),a:fs(t.a)}},nk=function(t){return{h:sn(t.h),s:sn(t.s),l:sn(t.l),a:sn(t.a,3)}},ik=function(t){return bj((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Eg=function(t){return{h:(e=wj(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},Loe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Noe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uoe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$oe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,HA={string:[[function(t){var e=koe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?sn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?sn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Uoe.exec(t)||$oe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:tk({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Loe.exec(t)||Noe.exec(t);if(!e)return null;var r,n,s=rk({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Foe[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ik(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s===void 0?1:s;return ea(e)&&ea(r)&&ea(n)?tk({r:Number(e),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,o=s===void 0?1:s;if(!ea(e)||!ea(r)||!ea(n))return null;var l=rk({h:Number(e),s:Number(r),l:Number(n),a:Number(o)});return ik(l)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,o=s===void 0?1:s;if(!ea(e)||!ea(r)||!ea(n))return null;var l=function(a){return{h:xj(a.h),s:fs(a.s,0,100),v:fs(a.v,0,100),a:fs(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(o)});return bj(l)},"hsv"]]},sk=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},joe=function(t){return typeof t=="string"?sk(t.trim(),HA.string):typeof t=="object"&&t!==null?sk(t,HA.object):[null,void 0]},VE=function(t,e){var r=Eg(t);return{h:r.h,s:fs(r.s+100*e,0,100),l:r.l,a:r.a}},HE=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ok=function(t,e){var r=Eg(t);return{h:r.h,s:r.s,l:fs(r.l+100*e,0,100),a:r.a}},WA=function(){function t(e){this.parsed=joe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return sn(HE(this.rgba),2)},t.prototype.isDark=function(){return HE(this.rgba)<.5},t.prototype.isLight=function(){return HE(this.rgba)>=.5},t.prototype.toHex=function(){return e=GE(this.rgba),r=e.r,n=e.g,s=e.b,l=(o=e.a)<1?r0(sn(255*o)):"","#"+r0(r)+r0(n)+r0(s)+l;var e,r,n,s,o,l},t.prototype.toRgb=function(){return GE(this.rgba)},t.prototype.toRgbString=function(){return e=GE(this.rgba),r=e.r,n=e.g,s=e.b,(o=e.a)<1?"rgba("+r+", "+n+", "+s+", "+o+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,o},t.prototype.toHsl=function(){return nk(Eg(this.rgba))},t.prototype.toHslString=function(){return e=nk(Eg(this.rgba)),r=e.h,n=e.s,s=e.l,(o=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+o+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,o},t.prototype.toHsv=function(){return e=wj(this.rgba),{h:sn(e.h),s:sn(e.s),v:sn(e.v),a:sn(e.a,3)};var e},t.prototype.invert=function(){return mo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),mo(VE(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),mo(VE(this.rgba,-e))},t.prototype.grayscale=function(){return mo(VE(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),mo(ok(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),mo(ok(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?mo({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):sn(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Eg(this.rgba);return typeof e=="number"?mo({h:e,s:r.s,l:r.l,a:r.a}):sn(r.h)},t.prototype.isEqual=function(e){return this.toHex()===mo(e).toHex()},t}(),mo=function(t){return t instanceof WA?t:new WA(t)},ak=[],zoe=function(t){t.forEach(function(e){ak.indexOf(e)<0&&(e(WA,HA),ak.push(e))})};function Goe(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var o={};t.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=n[this.toHex()];if(d)return d;if(l!=null&&l.closest){var f=this.toRgb(),g=1/0,m="black";if(!o.length)for(var y in r)o[y]=new t(r[y]).toRgb();for(var _ in r){var u=(a=f,c=o[_],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));u<g&&(g=u,m=_)}return m}},e.string.push([function(l){var a=l.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}zoe([Goe]);const $d=class g_{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof g_)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(l=>e[l]===r[l])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[r,n,s]=this._components;return e=e!=null?e:[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e!=null?e:[];const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,o]=g_.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,s]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[r,n,s,o]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=o,e}normalize(e){let r,n,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const l=e;r=(l>>16&255)/255,n=(l>>8&255)/255,s=(l&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,o=255]=e,r/=255,n/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=g_.HEX_PATTERN.exec(e);a&&(e="#".concat(a[2]))}const l=mo(e);l.isValid()&&({r,g:n,b:s,a:o}=l.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error("Unable to convert color ".concat(e))}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,r),n)}),e)}};$d.shared=new $d,$d.temp=new $d,$d.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Pt=$d;function Voe(t,e=[]){return it("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Pt.shared.setValue(t).toRgbArray(e)}function Ej(t){return it("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Pt.shared.setValue(t).toHex()}function Hoe(t){return it("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),Pt.shared.setValue(t).toNumber()}function Sj(t){return it("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Pt.shared.setValue(t).toNumber()}function Woe(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Je.NORMAL_NPM]=Je.NORMAL,t[Je.ADD_NPM]=Je.ADD,t[Je.SCREEN_NPM]=Je.SCREEN,e[Je.NORMAL]=Je.NORMAL_NPM,e[Je.ADD]=Je.ADD_NPM,e[Je.SCREEN]=Je.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const G2=Woe();function V2(t,e){return G2[e?1:0][t]}function Koe(t,e,r,n=!0){return it("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),Pt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}function Xoe(t,e){return it("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),Pt.shared.setValue(t).toPremultiplied(e)}function Yoe(t,e,r,n=!0){return it("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),Pt.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}const Cj=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Aj(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,s=0;n<r;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function Dw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const qoe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Zoe(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let l=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],g=Dw(f);s[g]||(s[g]=new qoe[g](o)),l=s[g];for(let m=0;m<f.length;m++){const y=(m/d|0)*n+a,_=m%d;l[y+_]=f[m]}a+=d}return new Float32Array(o)}function fm(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function KA(t){return!(t&t-1)&&!!t}function XA(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function mc(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const o=n-r;for(s=e;s<o;++s)t[s]=t[s+r];t.length=o}function _a(t){return t===0?0:t<0?-1:1}let Qoe=0;function nu(){return++Qoe}const YA=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};YA.EMPTY=new YA(0,0,0,0);let qA=YA;const ZA={},zn=Object.create(null),Ai=Object.create(null);function Joe(){let t;for(t in zn)zn[t].destroy();for(t in Ai)Ai[t].destroy()}function eae(){let t;for(t in zn)delete zn[t];for(t in Ai)delete Ai[t]}class Tj{constructor(e,r,n){this._canvas=Fe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Fe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function lk(t,e,r){for(let n=0,s=4*r*e;n<e;++n,s+=4)if(t[s+3]!==0)return!1;return!0}function uk(t,e,r,n,s){const o=4*e;for(let l=n,a=n*o+4*r;l<=s;++l,a+=o)if(t[a+3]!==0)return!1;return!0}function Dj(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,l=0,a=e-1,c=r-1;for(;l<r&&lk(s,e,l);)++l;if(l===r)return qA.EMPTY;for(;lk(s,e,c);)--c;for(;uk(s,e,o,l,c);)++o;for(;uk(s,e,a,l,c);)--a;return++a,++c,new qA(o,l,a,c)}function Pj(t){const e=Dj(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const o=t.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}function tae(t){const e=Cj.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function Rj(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ko(t,e=1){var n;const r=(n=Fe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}const rae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Ai,BoundingBox:qA,CanvasRenderTarget:Tj,DATA_URI:Cj,EventEmitter:Cf,ProgramCache:ZA,TextureCache:zn,clearTextureCache:eae,correctBlendMode:V2,createIndicesForQuads:Aj,decomposeDataUri:tae,deprecation:it,destroyTextureCache:Joe,detectVideoAlphaMode:yj,determineCrossOrigin:Rj,earcut:J6,getBufferType:Dw,getCanvasBoundingBox:Dj,getResolutionOfUrl:ko,hex2rgb:Voe,hex2string:Ej,interleaveTypedArrays:Zoe,isMobile:zs,isPow2:KA,isWebGLSupported:_j,log2:XA,nextPow2:fm,path:jr,premultiplyBlendMode:G2,premultiplyRgba:Koe,premultiplyTint:Xoe,premultiplyTintToRgba:Yoe,removeItems:mc,rgb2hex:Sj,sayHello:Moe,sign:_a,skipHello:Boe,string2hex:Hoe,trimCanvas:Pj,uid:nu,url:Poe},Symbol.toStringTag,{value:"Module"}));var Te=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Te||{});const QA=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ck=(t,e)=>{var r;return(r=QA(t).priority)!=null?r:e},ze={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(QA).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(QA).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,s=this._queue;n[r]?n[r](e):(s[r]=s[r]||[],s[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,s[t]=r;const o=this._queue;return o[t]&&(o[t].forEach(l=>e(l)),delete o[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,o)=>ck(o,r)-ck(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class C1{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const nae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function iae(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}function Ij(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=nae.replace(/%forloop%/gi,iae(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const WE=0,KE=1,XE=2,YE=3,qE=4,ZE=5;class io{constructor(){this.data=0,this.blendMode=Je.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<WE)}set blend(e){!!(this.data&1<<WE)!==e&&(this.data^=1<<WE)}get offsets(){return!!(this.data&1<<KE)}set offsets(e){!!(this.data&1<<KE)!==e&&(this.data^=1<<KE)}get culling(){return!!(this.data&1<<XE)}set culling(e){!!(this.data&1<<XE)!==e&&(this.data^=1<<XE)}get depthTest(){return!!(this.data&1<<YE)}set depthTest(e){!!(this.data&1<<YE)!==e&&(this.data^=1<<YE)}get depthMask(){return!!(this.data&1<<ZE)}set depthMask(e){!!(this.data&1<<ZE)!==e&&(this.data^=1<<ZE)}get clockwiseFrontFace(){return!!(this.data&1<<qE)}set clockwiseFrontFace(e){!!(this.data&1<<qE)!==e&&(this.data^=1<<qE)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Je.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new io;return e.depthTest=!1,e.blend=!0,e}}io.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const A1=[];function H2(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=A1.length-1;n>=0;--n){const s=A1[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class ki{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,s,o,l,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:f}=this;this._aliasCount++;for(let g=0,m=f.length;g<m;g++)f[g][d](e,r,n,s,o,l,a,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(ki.prototype,{dispatch:{value:ki.prototype.emit},run:{value:ki.prototype.emit}});class Yh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ki("setRealSize"),this.onUpdate=new ki("update"),this.onError=new ki("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Mv extends Yh{constructor(e,r){var o;const{width:n,height:s}=r||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=(o=r.unpackAlignment)!=null?o:4}upload(e,r,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Wn.UNPACK);const o=r.realWidth,l=r.realHeight;return n.width===o&&n.height===l?s.texSubImage2D(r.target,0,0,0,o,l,r.format,n.type,this.data):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,o,l,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const sae={scaleMode:Co.NEAREST,alphaMode:Wn.NPM},JA=class jd extends Cf{constructor(e=null,r=null){super(),r=Object.assign({},jd.defaultOptions,r);const{alphaMode:n,mipmap:s,anisotropicLevel:o,scaleMode:l,width:a,height:c,wrapMode:d,format:f,type:g,target:m,resolution:y,resourceOptions:_}=r;e&&!(e instanceof Yh)&&(e=H2(e,_),e.internal=!0),this.resolution=y||Fe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=d,this._scaleMode=l,this.format=f,this.type=g,this.target=m,this.alphaMode=n,this.uid=nu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=KA(this.realWidth)&&KA(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ai[this.cacheId],delete zn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),jd.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=Fe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(a,"_").concat(nu())}o=e._pixiId}let l=Ai[o];if(s&&n&&!l)throw new Error('The cacheId "'.concat(o,'" does not exist in BaseTextureCache.'));return l||(l=new jd(e,r),l.cacheId=o,jd.addToCache(l,o)),l}static fromBuffer(e,r,n,s){e=e||new Float32Array(r*n*4);const o=new Mv(e,{width:r,height:n,...s==null?void 0:s.resourceOptions});let l,a;return e instanceof Float32Array?(l=ye.RGBA,a=He.FLOAT):e instanceof Int32Array?(l=ye.RGBA_INTEGER,a=He.INT):e instanceof Uint32Array?(l=ye.RGBA_INTEGER,a=He.UNSIGNED_INT):e instanceof Int16Array?(l=ye.RGBA_INTEGER,a=He.SHORT):e instanceof Uint16Array?(l=ye.RGBA_INTEGER,a=He.UNSIGNED_SHORT):e instanceof Int8Array?(l=ye.RGBA,a=He.BYTE):(l=ye.RGBA,a=He.UNSIGNED_BYTE),o.internal=!0,new jd(o,Object.assign({},sae,{type:a,format:l},s))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Ai[r]&&Ai[r]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(r,"] that already had an entry")),Ai[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Ai[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Ai[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Ai[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};JA.defaultOptions={mipmap:to.POW2,anisotropicLevel:0,scaleMode:Co.LINEAR,wrapMode:Oo.CLAMP,alphaMode:Wn.UNPACK,target:fc.TEXTURE_2D,format:ye.RGBA,type:He.UNSIGNED_BYTE},JA._globalBatch=0;let ct=JA;class T1{constructor(){this.texArray=null,this.blend=0,this.type=js.TRIANGLES,this.start=0,this.size=0,this.data=null}}let oae=0,Nr=class Oj{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=oae++,this.disposeRunner=new ki("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Xs.ELEMENT_ARRAY_BUFFER:Xs.ARRAY_BUFFER}get index(){return this.type===Xs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Oj(e)}};class pm{constructor(e,r=0,n=!1,s=He.FLOAT,o,l,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=s,this.stride=o,this.start=l,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,s,o){return new pm(e,r,n,s,o)}}const aae={Float32Array,Uint32Array,Int32Array,Uint8Array};function lae(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const o=new ArrayBuffer(r*4);let l=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],g=Dw(f);s[g]||(s[g]=new aae[g](o)),l=s[g];for(let m=0;m<f.length;m++){const y=(m/d|0)*n+a,_=m%d;l[y+_]=f[m]}a+=d}return new Float32Array(o)}const dk={5126:4,5123:2,5121:1};let uae=0;const cae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ma{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=uae++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ki("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,s=!1,o,l,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Nr||(r instanceof Array&&(r=new Float32Array(r)),r=new Nr(r));const d=e.split("|");if(d.length>1){for(let g=0;g<d.length;g++)this.addAttribute(d[g],r,n,s,o);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new pm(f,n,s,o,l,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Nr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Nr(e)),e.type=Xs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Nr;let s;for(s in this.attributes){const o=this.attributes[s],l=this.buffers[o.buffer];e.push(l.data),r.push(o.size*dk[o.type]/4),o.buffer=0}for(n.data=lae(e,r),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ma;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Nr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new pm(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Xs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Ma,n=[],s=[],o=[];let l;for(let a=0;a<e.length;a++){l=e[a];for(let c=0;c<l.buffers.length;c++)s[c]=s[c]||0,s[c]+=l.buffers[c].data.length,o[c]=0}for(let a=0;a<l.buffers.length;a++)n[a]=new cae[Dw(l.buffers[a].data)](s[a]),r.buffers[a]=new Nr(n[a]);for(let a=0;a<e.length;a++){l=e[a];for(let c=0;c<l.buffers.length;c++)n[c].set(l.buffers[c].data,o[c]),o[c]+=l.buffers[c].data.length}if(r.attributes=l.attributes,l.indexBuffer){r.indexBuffer=r.buffers[l.buffers.indexOf(l.indexBuffer)],r.indexBuffer.type=Xs.ELEMENT_ARRAY_BUFFER;let a=0,c=0,d=0,f=0;for(let g=0;g<l.buffers.length;g++)if(l.buffers[g]!==l.indexBuffer){f=g;break}for(const g in l.attributes){const m=l.attributes[g];(m.buffer|0)===f&&(c+=m.size*dk[m.type]/4)}for(let g=0;g<e.length;g++){const m=e[g].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+d]+=a;a+=e[g].buffers[f].data.length/c,d+=m.length}}return r}}class W2 extends Ma{constructor(e=!1){super(),this._buffer=new Nr(null,e,!1),this._indexBuffer=new Nr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,He.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,He.FLOAT).addAttribute("aColor",this._buffer,4,!0,He.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,He.FLOAT).addIndex(this._indexBuffer)}}const gm=Math.PI*2,Bj=180/Math.PI,Mj=Math.PI/180;var ln=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ln||{});let Ee=class Fj{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fj(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};Ee.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const n0=[new Ee,new Ee,new Ee,new Ee];class lt{constructor(e=0,r=0,n=0,s=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=ln.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new lt(0,0,0,0)}clone(){return new lt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const T=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>T}const n=this.left,s=this.right,o=this.top,l=this.bottom;if(s<=n||l<=o)return!1;const a=n0[0].set(e.left,e.top),c=n0[1].set(e.left,e.bottom),d=n0[2].set(e.right,e.top),f=n0[3].set(e.right,e.bottom);if(d.x<=a.x||c.y<=a.y)return!1;const g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(a,a),r.apply(c,c),r.apply(d,d),r.apply(f,f),Math.max(a.x,c.x,d.x,f.x)<=n||Math.min(a.x,c.x,d.x,f.x)>=s||Math.max(a.y,c.y,d.y,f.y)<=o||Math.min(a.y,c.y,d.y,f.y)>=l))return!1;const m=g*(c.y-a.y),y=g*(a.x-c.x),_=m*n+y*o,u=m*s+y*o,h=m*n+y*l,p=m*s+y*l;if(Math.max(_,u,h,p)<=m*a.x+y*a.y||Math.min(_,u,h,p)>=m*f.x+y*f.y)return!1;const v=g*(a.y-d.y),x=g*(d.x-a.x),w=v*n+x*o,b=v*s+x*o,S=v*n+x*l,C=v*s+x*l;return!(Math.max(w,b,S,C)<=v*a.x+x*a.y||Math.min(w,b,S,C)>=v*f.x+x*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}lt.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Fv{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=ln.CIRC}clone(){return new Fv(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,o=this.y-r;return s*=s,o*=o,s+o<=n}getBounds(){return new lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Fv.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class kv{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s,this.type=ln.ELIP}clone(){return new kv(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(r-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new lt(this.x-this.width,this.y-this.height,this.width,this.height)}}kv.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Kl{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=ln.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Kl(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let o=0,l=s-1;o<s;l=o++){const a=this.points[o*2],c=this.points[o*2+1],d=this.points[l*2],f=this.points[l*2+1];c>r!=f>r&&e<(d-a)*((r-c)/(f-c))+a&&(n=!n)}return n}}Kl.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")};class Lv{constructor(e=0,r=0,n=0,s=0,o=20){this.x=e,this.y=r,this.width=n,this.height=s,this.radius=o,this.type=ln.RREC}clone(){return new Lv(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),o=r-(this.y+n);const l=n*n;if(s*s+o*o<=l||(s=e-(this.x+this.width-n),s*s+o*o<=l)||(o=r-(this.y+this.height-n),s*s+o*o<=l)||(s=e-(this.x+n),s*s+o*o<=l))return!0}return!1}}Lv.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class Et{constructor(e=1,r=0,n=0,s=1,o=0,l=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=l}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,o,l){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=o,this.ty=l,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ee;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new Ee;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return r.x=this.d*n*s+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,o=this.c,l=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=l*r-this.ty*n,this.ty=l*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,o=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this}setTransform(e,r,n,s,o,l,a,c,d){return this.a=Math.cos(a+d)*o,this.b=Math.sin(a+d)*o,this.c=-Math.sin(a-c)*l,this.d=Math.cos(a-c)*l,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,o=this.d,l=e.pivot,a=-Math.atan2(-s,o),c=Math.atan2(n,r),d=Math.abs(a+c);return d<1e-5||Math.abs(gm-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(l.x*r+l.y*s),e.position.y=this.ty+(l.x*n+l.y*o),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,o=this.tx,l=e*s-r*n;return this.a=s/l,this.b=-r/l,this.c=-n/l,this.d=e/l,this.tx=(n*this.ty-s*o)/l,this.ty=-(e*this.ty-r*o)/l,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Et;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Et}static get TEMP_MATRIX(){return new Et}}Et.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const Wu=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ku=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Xu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],eT=[],kj=[],i0=Math.sign;function dae(){for(let t=0;t<16;t++){const e=[];eT.push(e);for(let r=0;r<16;r++){const n=i0(Wu[t]*Wu[r]+Xu[t]*Ku[r]),s=i0(Ku[t]*Wu[r]+Yu[t]*Ku[r]),o=i0(Wu[t]*Xu[r]+Xu[t]*Yu[r]),l=i0(Ku[t]*Xu[r]+Yu[t]*Yu[r]);for(let a=0;a<16;a++)if(Wu[a]===n&&Ku[a]===s&&Xu[a]===o&&Yu[a]===l){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Et;e.set(Wu[t],Ku[t],Xu[t],Yu[t],0,0),kj.push(e)}}dae();const or={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Wu[t],uY:t=>Ku[t],vX:t=>Xu[t],vY:t=>Yu[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>eT[t][e],sub:(t,e)=>eT[t][or.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?or.S:or.N:Math.abs(e)*2<=Math.abs(t)?t>0?or.E:or.W:e>0?t>0?or.SE:or.SW:t>0?or.NE:or.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=kj[or.inv(e)];s.tx=r,s.ty=n,t.append(s)}};class Gs{constructor(e,r,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Gs(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Gs.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const tT=class{constructor(){this.worldTransform=new Et,this.localTransform=new Et,this.position=new Gs(this.onChange,this,0,0),this.scale=new Gs(this.onChange,this,1,1),this.pivot=new Gs(this.onChange,this,0,0),this.skew=new Gs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};tT.IDENTITY=new tT;let Tf=tT;Tf.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};var hae="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",fae="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function hk(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function QE(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Lj(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return QE(2*e);case"bvec3":return QE(3*e);case"bvec4":return QE(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const vc=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],pae={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},gae={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function mae(t,e){var n;const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const s in t.uniforms){const o=e[s];if(!o){((n=t.uniforms[s])==null?void 0:n.group)===!0&&(t.uniforms[s].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")));continue}const l=t.uniforms[s];let a=!1;for(let c=0;c<vc.length;c++)if(vc[c].test(o,l)){r.push(vc[c].code(s,l)),a=!0;break}if(!a){const c=(o.size===1&&!o.isArray?pae:gae)[o.type].replace("location",'ud["'.concat(s,'"].location'));r.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(c,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}const Nj={};let wd=Nj;function Uj(){if(wd===Nj||wd!=null&&wd.isContextLost()){const t=Fe.ADAPTER.createCanvas();let e;Fe.PREFER_ENV>=bu.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),wd=e}return wd}let s0;function vae(){if(!s0){s0=Mi.MEDIUM;const t=Uj();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(s0=e.precision?Mi.HIGH:Mi.MEDIUM)}}return s0}function fk(t,e){const r=t.getShaderSource(e).split("\n").map((d,f)=>"".concat(f,": ").concat(d)),n=t.getShaderInfoLog(e),s=n.split("\n"),o={},l=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!o[d]?(o[d]=!0,!0):!1),a=[""];l.forEach(d=>{r[d-1]="%c".concat(r[d-1],"%c"),a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join("\n");a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function yae(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||fk(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||fk(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const _ae={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function $j(t){return _ae[t]}let o0=null;const pk={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function jj(t,e){if(!o0){const r=Object.keys(pk);o0={};for(let n=0;n<r.length;++n){const s=r[n];o0[t[s]]=pk[s]}}return o0[e]}function gk(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Mi.HIGH&&r!==Mi.HIGH&&(n=Mi.MEDIUM),"precision ".concat(n," float;\n").concat(t)}else if(r!==Mi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Sp;function zj(){if(typeof Sp=="boolean")return Sp;try{Sp=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(t){Sp=!1}return Sp}let xae=0;const a0={},rT=class zd{constructor(e,r,n="pixi-shader",s={}){this.extra={},this.id=xae++,this.vertexSrc=e||zd.defaultVertexSrc,this.fragmentSrc=r||zd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),a0[n]?(a0[n]++,n+="-".concat(a0[n])):a0[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=gk(this.vertexSrc,zd.defaultVertexPrecision,Mi.HIGH),this.fragmentSrc=gk(this.fragmentSrc,zd.defaultFragmentPrecision,vae())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return fae}static get defaultFragmentSrc(){return hae}static from(e,r,n){const s=e+r;let o=ZA[s];return o||(ZA[s]=o=new zd(e,r,n)),o}};rT.defaultVertexPrecision=Mi.HIGH,rT.defaultFragmentPrecision=zs.apple.device?Mi.HIGH:Mi.MEDIUM;let Ao=rT,wae=0;class xs{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=wae++,this.static=!!r,this.ubo=!!n,e instanceof Nr?(this.buffer=e,this.buffer.type=Xs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Nr(new Float32Array(1)),this.buffer.type=Xs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new xs(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new xs(e,r,n)}static uboFrom(e,r){return new xs(e,r!=null?r:!0,!0)}}class qs{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof xs?this.uniformGroup=r:this.uniformGroup=new xs(r):this.uniformGroup=new xs({}),this.disposeRunner=new ki("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const s=r.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const s=Ao.from(e,r);return new qs(s,n)}}class Gj{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let o=0;o<e;o++)n[o]=o;this.defaultGroupCache[e]=xs.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,"".concat(e)),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ao(this.vertexSrc,s)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Et,default:this.defaultGroupCache[e]};return new qs(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let n=0;n<e;n++)n>0&&(r+="\nelse "),n<e-1&&(r+="if(vTextureId < ".concat(n,".5)")),r+="\n{",r+="\n	color = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),r+="\n}";return r+="\n",r+="\n",r}}class D1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function bae(){return!zs.apple.device}function Eae(t){let e=!0;const r=Fe.ADAPTER.getNavigator();if(zs.tablet||zs.phone){if(zs.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(zs.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Nv{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Sae="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Cae="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const zp=class Ms extends Nv{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=W2,this.vertexSize=6,this.state=io.for2d(),this.size=Ms.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:Eae(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:bae(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return it("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Cae}static get defaultFragmentTemplate(){return Sae}setShaderGenerator({vertex:e=Ms.defaultVertexSrc,fragment:r=Ms.defaultFragmentTemplate}={}){this.shaderGenerator=new Gj(e,r)}contextChange(){const e=this.renderer.gl;Fe.PREFER_ENV===bu.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ms.defaultMaxTextures),this.maxTextures=Ij(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Ms,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new T1);for(;r.length<s;)r.push(new D1);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Ms._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,l=this.renderer.textureGC.count;let a=++ct._globalBatch,c=0,d=n[0],f=0;s.copyBoundTextures(o,r);for(let g=0;g<this._bufferSize;++g){const m=e[g];e[g]=null,m._batchEnabled!==a&&(d.count>=r&&(s.boundArray(d,o,a,r),this.buildDrawCalls(d,f,g),f=g,d=n[++c],++a),m._batchEnabled=a,m.touched=l,d.elements[d.count++]=m)}d.count>0&&(s.boundArray(d,o,a,r),this.buildDrawCalls(d,f,this._bufferSize),++c,++a);for(let g=0;g<o.length;g++)o[g]=null;ct._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:l,vertexSize:a}=this,c=Ms._drawCallPool;let d=this._dcIndex,f=this._aIndex,g=this._iIndex,m=c[d];m.start=this._iIndex,m.texArray=e;for(let y=r;y<n;++y){const _=s[y],u=_._texture.baseTexture,h=G2[u.alphaMode?1:0][_.blendMode];s[y]=null,r<y&&m.blend!==h&&(m.size=g-m.start,r=y,m=c[++d],m.texArray=e,m.start=g),this.packInterleavedGeometry(_,o,l,f,g),f+=_.vertexData.length/2*a,g+=_.indices.length,m.blend=h}r<n&&(m.size=g-m.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=g}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Ms.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,s=Ms._drawCallPool;let o=null;for(let l=0;l<e;l++){const{texArray:a,type:c,size:d,start:f,blend:g}=s[l];o!==a&&(o=a,this.bindAndClearTexArray(a)),this.state.blendMode=g,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ms.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=fm(Math.ceil(e/8)),n=XA(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new C1(s*this.vertexSize*4)),o}getIndexBuffer(e){const r=fm(Math.ceil(e/12)),n=XA(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,r,n,s,o){const{uint32View:l,float32View:a}=r,c=s/this.vertexSize,d=e.uvs,f=e.indices,g=e.vertexData,m=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),_=Pt.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let u=0;u<g.length;u+=2)a[s++]=g[u],a[s++]=g[u+1],a[s++]=d[u],a[s++]=d[u+1],l[s++]=_,a[s++]=m;for(let u=0;u<f.length;u++)n[o++]=c+f[u]}};zp.defaultBatchSize=4096,zp.extension={name:"batch",type:Te.RendererPlugin},zp._drawCallPool=[],zp._textureArrayPool=[];let vl=zp;ze.add(vl);var Aae="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Tae="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const nT=class Gp extends qs{constructor(e,r,n){const s=Ao.from(e||Gp.defaultVertexSrc,r||Gp.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Gp.defaultResolution,this.multisample=Gp.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new io}apply(e,r,n,s,o){e.applyFilter(this,r,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Tae}static get defaultFragmentSrc(){return Aae}};nT.defaultResolution=1,nT.defaultMultisample=Rr.NONE;let gn=nT;class mm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Pt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:s}=e,o=n!=null?n:r;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}mm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},mm.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"background"};ze.add(mm);class K2{constructor(e){this.renderer=e,this.emptyRenderer=new Nv(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let s=r-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,r,n,s){const{elements:o,ids:l,count:a}=e;let c=0;for(let d=0;d<a;d++){const f=o[d],g=f._batchLocation;if(g>=0&&g<s&&r[g]===f){l[d]=g;continue}for(;c<s;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}l[d]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}K2.extension={type:Te.RendererSystem,name:"batch"};ze.add(K2);let mk=0;class vm{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=mk++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=mk++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(Fe.PREFER_ENV>=bu.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}vm.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},vm.extension={type:Te.RendererSystem,name:"context"};ze.add(vm);class P1{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ki("disposeFramebuffer"),this.multisample=Rr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ct(null,{scaleMode:Co.NEAREST,resolution:1,mipmap:to.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ct(null,{scaleMode:Co.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:to.OFF,format:ye.DEPTH_COMPONENT,type:He.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],o=s.resolution;s.setSize(e/o,r/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class X2 extends ct{constructor(e={}){var r,n,s;if(typeof e=="number"){const o=arguments[0],l=arguments[1],a=arguments[2],c=arguments[3];e={width:o,height:l,scaleMode:a,resolution:c}}e.width=(r=e.width)!=null?r:100,e.height=(n=e.height)!=null?n:100,(s=e.multisample)!=null||(e.multisample=Rr.NONE),super(null,e),this.mipmap=to.OFF,this.valid=!0,this._clear=new Pt([0,0,0,0]),this.framebuffer=new P1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Fa extends Yh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=Rj(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,s){const o=e.gl,l=r.realWidth,a=r.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Wn.UNPACK),!this.noSubImage&&r.target===o.TEXTURE_2D&&n.width===l&&n.height===a?o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,n.type,s):(n.width=l,n.height=a,o.texImage2D(r.target,0,n.internalFormat,r.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Y2 extends Fa{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const s=new Image;Fa.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:Fe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=l=>{n(l),this.onError.emit(l)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>r(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Wn.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let s=!0;const o=r._glTextures;for(const l in o){const a=o[l];if(a!==n&&a.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Pw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const s=r.width,o=r.height;if(n){const l=e.width/2/s,a=e.height/2/o,c=e.x/s+l,d=e.y/o+a;n=or.add(n,or.NW),this.x0=c+l*or.uX(n),this.y0=d+a*or.uY(n),n=or.add(n,2),this.x1=c+l*or.uX(n),this.y1=d+a*or.uY(n),n=or.add(n,2),this.x2=c+l*or.uX(n),this.y2=d+a*or.uY(n),n=or.add(n,2),this.x3=c+l*or.uX(n),this.y3=d+a*or.uY(n)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Pw.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const vk=new Pw;function l0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ke extends Cf{constructor(e,r,n,s,o,l,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new lt(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=vk,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=l?new Ee(l.x,l.y):new Ee(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&zn[r.url]&&ke.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ke(this.baseTexture,!this.noFrame&&e,r,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===vk&&(this._uvs=new Pw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=Fe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof ct){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId="".concat(a,"-").concat(nu()),ct.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(a,"_").concat(nu())}o=e._pixiId}let l=zn[o];if(s&&n&&!l)throw new Error('The cacheId "'.concat(o,'" does not exist in TextureCache.'));return!l&&!(e instanceof ct)?(r.resolution||(r.resolution=ko(e)),l=new ke(new ct(e,r)),l.baseTexture.cacheId=o,ct.addToCache(l.baseTexture,o),ke.addToCache(l,o)):!l&&e instanceof ct&&(l=new ke(e),ke.addToCache(l,o)),l}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=ke.from(e,Object.assign({resourceOptions:n},r),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,r,n,s){return new ke(ct.fromBuffer(e,r,n,s))}static fromLoader(e,r,n,s){const o=new ct(e,Object.assign({scaleMode:ct.defaultOptions.scaleMode,resolution:ko(r)},s)),{resource:l}=o;l instanceof Y2&&(l.url=r);const a=new ke(o);return n||(n=r),ct.addToCache(a.baseTexture,n),ke.addToCache(a,n),n!==r&&(ct.addToCache(a.baseTexture,r),ke.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),zn[r]&&zn[r]!==e&&console.warn("Texture added to the cache with an id [".concat(r,"] that already had an entry")),zn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=zn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete zn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)zn[e.textureCacheIds[r]]===e&&delete zn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:s,height:o}=e,l=r+s>this.baseTexture.width,a=n+o>this.baseTexture.height;if(l||a){const c=l&&a?"and":"or",d="X: ".concat(r," + ").concat(s," = ").concat(r+s," > ").concat(this.baseTexture.width),f="Y: ".concat(n," + ").concat(o," = ").concat(n+o," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(d," ").concat(c," ").concat(f))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new ct),l0(ke._EMPTY),l0(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Fe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ke._WHITE=new ke(ct.from(e)),l0(ke._WHITE),l0(ke._WHITE.baseTexture)}return ke._WHITE}}class Su extends ke{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,l=Math.round(r*s)/s;this.valid=o>0&&l>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=l,n&&this.baseTexture.resize(o,l),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Su(new X2(e))}}class q2{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Rr.NONE){const s=new X2(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Su(s)}getOptimalTexture(e,r,n=1,s=Rr.NONE){let o;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=fm(e),r=fm(r),o=((e&65535)<<16|r&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let l=this.texturePool[o].pop();return l||(l=this.createTexture(e,r,s)),l.filterPoolKey=o,l.setResolution(n),l}getFilterTexture(e,r,n){const s=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}q2.SCREEN_KEY=-1;class Vj extends Ma{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Z2 extends Ma{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Nr(this.vertices),this.uvBuffer=new Nr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/e.width,this.uvs[3]=s,this.uvs[4]=n+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=n,this.uvs[7]=s+r.height/e.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Hj{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Rr.NONE,this.sourceFrame=new lt,this.destinationFrame=new lt,this.bindingSourceFrame=new lt,this.bindingDestinationFrame=new lt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const u0=[new Ee,new Ee,new Ee,new Ee],JE=new Et;class Q2{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new q2,this.statePool=[],this.quad=new Vj,this.quadUv=new Z2,this.tempRect=new lt,this.activeState={},this.globalUniforms=new xs({outputFrame:new lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var h,p,v,x;const n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new Hj,l=n.renderTexture;let a,c;if(l.current){const w=l.current;a=w.resolution,c=w.multisample}else a=n.resolution,c=n.multisample;let d=r[0].resolution||a,f=(h=r[0].multisample)!=null?h:c,g=r[0].padding,m=r[0].autoFit,y=(p=r[0].legacy)!=null?p:!0;for(let w=1;w<r.length;w++){const b=r[w];d=Math.min(d,b.resolution||a),f=Math.min(f,(v=b.multisample)!=null?v:c),g=this.useMaxPadding?Math.max(g,b.padding):g+b.padding,m=m&&b.autoFit,y=y||((x=b.legacy)!=null?x:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(o),o.resolution=d,o.multisample=f,o.legacy=y,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(g);const _=this.tempRect.copyFrom(l.sourceFrame);n.projection.transform&&this.transformAABB(JE.copyFrom(n.projection.transform).invert(),_),m?(o.sourceFrame.fit(_),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(_)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,l.current?l.current.resolution:n.resolution,l.sourceFrame,l.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,d,f),o.filters=r,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const u=this.tempRect;u.x=0,u.y=0,u.width=o.sourceFrame.width,u.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(l.sourceFrame),o.bindingDestinationFrame.copyFrom(l.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,l.bind(o.renderTexture,o.sourceFrame,u),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;const o=s.inputSize,l=s.inputPixel,a=s.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],l[0]=Math.round(o[0]*r.resolution),l[1]=Math.round(o[1]*r.resolution),l[2]=1/l[0],l[3]=1/l[1],a[0]=.5*l[2],a[1]=.5*l[3],a[2]=r.sourceFrame.width*o[2]-.5*l[2],a[3]=r.sourceFrame.height*o[3]-.5*l[3],r.legacy){const d=s.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,$s.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[g].apply(this,d,f,$s.CLEAR,r);const m=d;d=f,f=m}n[g].apply(this,d,c.renderTexture,$s.BLEND,r),g>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=$s.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const l=this.tempRect;l.x=0,l.y=0,l.width=e.filterFrame.width,l.height=e.filterFrame.height,n.bind(e,e.filterFrame,l)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(r===$s.CLEAR||r===$s.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(js.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(js.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:o}=r._texture,l=e.set(s.width,0,0,s.height,n.x,n.y),a=r.worldTransform.copyTo(Et.TEMP_MATRIX);return a.invert(),l.prepend(a),l.scale(1/o.width,1/o.height),l.translate(r.anchor.x,r.anchor.y),l}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,s=Rr.NONE){return this.texturePool.getOptimalTexture(e,r,n,s)}getFilterTexture(e,r,n){if(typeof e=="number"){const o=e;e=r,r=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=u0[0],s=u0[1],o=u0[2],l=u0[3];n.set(r.left,r.top),s.set(r.left,r.bottom),o.set(r.right,r.top),l.set(r.right,r.bottom),e.apply(n,n),e.apply(s,s),e.apply(o,o),e.apply(l,l);const a=Math.min(n.x,s.x,o.x,l.x),c=Math.min(n.y,s.y,o.y,l.y),d=Math.max(n.x,s.x,o.x,l.x),f=Math.max(n.y,s.y,o.y,l.y);r.x=a,r.y=c,r.width=d-a,r.height=f-c}roundFrame(e,r,n,s,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){const{a:l,b:a,c,d}=o;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(d)>1e-4))return}o=o?JE.copyFrom(o):JE.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(r),this.transformAABB(o.invert(),e)}}}Q2.extension={type:Te.RendererSystem,name:"filter"};ze.add(Q2);class Wj{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Rr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Dae=new lt;class J2{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new P1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Fe.PREFER_ENV===bu.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=s=>r.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let l=0;l<e.colorTextures.length;l++){const a=e.colorTextures[l];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const l=r.width>>n,a=r.height>>n,c=l/r.width;this.setViewport(r.x*c,r.y*c,l,a)}else{const l=e.width>>n,a=e.height>>n;this.setViewport(0,0,l,a)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,s){const o=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),s=Math.round(s),(o.width!==n||o.height!==s||o.x!==e||o.y!==r)&&(o.x=e,o.y=r,o.width=n,o.height=s,this.gl.viewport(e,r,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,s,o=_1.COLOR|_1.DEPTH){const{gl:l}=this;l.clearColor(e,r,n,s),l.clear(o)}initFramebuffer(e){const{gl:r}=this,n=new Wj(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let l;this.renderer.context.webGLVersion===1?l=r.DEPTH_STENCIL:e.depth&&e.stencil?l=r.DEPTH24_STENCIL8:e.depth?l=r.DEPTH_COMPONENT24:l=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,l,e.width,e.height)}const s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1));for(let l=0;l<o;l++){const a=s[l],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let l=o.length;n.drawBuffers||(l=Math.min(l,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const a=[];for(let c=0;c<l;c++){const d=o[c],f=d.parentTextureArray||d;this.renderer.texture.bind(f,0),c===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,f._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Rr.NONE;if(e<=1||r===null)return n;for(let s=0;s<r.length;s++)if(r[s]<=e){n=r[s];break}return n===1&&(n=Rr.NONE),n}blit(e,r,n){const{current:s,renderer:o,gl:l,CONTEXT_UID:a}=this;if(o.context.webGLVersion!==2||!s)return;const c=s.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=s.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new P1(s.width,s.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=Dae,r.width=s.width,r.height=s.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),l.bindFramebuffer(l.READ_FRAMEBUFFER,c.framebuffer),l.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,l.COLOR_BUFFER_BIT,d?l.NEAREST:l.LINEAR),l.bindFramebuffer(l.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,o=this.gl,l=r.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,l);let a,c;this.renderer.context.webGLVersion===1?(a=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH_STENCIL):e.depth?(a=o.DEPTH_STENCIL_ATTACHMENT,c=o.DEPTH24_STENCIL8):(a=o.STENCIL_ATTACHMENT,c=o.STENCIL_INDEX8),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,c,n,s):o.renderbufferStorage(o.RENDERBUFFER,c,n,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,a,o.RENDERBUFFER,l)}reset(){this.current=this.unknownFramebuffer,this.viewport=new lt}destroy(){this.renderer=null}}J2.extension={type:Te.RendererSystem,name:"framebuffer"};ze.add(J2);const eS={5126:4,5123:2,5121:1};class eR{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Fe.PREFER_ENV===bu.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,o)=>n.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,l,a,c)=>n.drawElementsInstancedANGLE(s,o,l,a,c),e.drawArraysInstanced=(s,o,l,a)=>n.drawArraysInstancedANGLE(s,o,l,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const l=s[r.program.id]||this.initGeometryVao(e,r,o);this._activeGeometry=e,this._activeVao!==l&&(this._activeVao=l,this.hasVao?n.bindVertexArray(l):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];r.update(s)}}checkCompatibility(e,r){const n=e.attributes,s=r.attributeData;for(const o in s)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(o,'" attribute'))}getSignature(e,r){const n=e.attributes,s=r.attributeData,o=["g",e.id];for(const l in n)s[l]&&o.push(l,s[l].location);return o.join("-")}initGeometryVao(e,r,n=!0){const s=this.gl,o=this.CONTEXT_UID,l=this.renderer.buffer,a=r.program;a.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),d=e.glVertexArrayObjects[this.CONTEXT_UID];let f=d[c];if(f)return d[a.id]=f,f;const g=e.buffers,m=e.attributes,y={},_={};for(const u in g)y[u]=0,_[u]=0;for(const u in m)!m[u].size&&a.attributeData[u]?m[u].size=a.attributeData[u].size:m[u].size||console.warn("PIXI Geometry attribute '".concat(u,"' size cannot be determined (likely the bound shader does not have the attribute)")),y[m[u].buffer]+=m[u].size*eS[m[u].type];for(const u in m){const h=m[u],p=h.size;h.stride===void 0&&(y[h.buffer]===p*eS[h.type]?h.stride=0:h.stride=y[h.buffer]),h.start===void 0&&(h.start=_[h.buffer],_[h.buffer]+=p*eS[h.type])}f=s.createVertexArray(),s.bindVertexArray(f);for(let u=0;u<g.length;u++){const h=g[u];l.bind(h),n&&h._glBuffers[o].refCount++}return this.activateVao(e,a),d[a.id]=f,d[c]=f,s.bindVertexArray(null),l.unbind(Xs.ARRAY_BUFFER),f}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,l=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(l)for(let c=0;c<o.length;c++){const d=o[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&l.dispose(o[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=e.buffers,a=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let c=null;for(const d in a){const f=a[d],g=l[f.buffer],m=g._glBuffers[s];if(r.attributeData[d]){c!==m&&(o.bind(g),c=m);const y=r.attributeData[d].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(y,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,s){const{gl:o}=this,l=this._activeGeometry;if(l.indexBuffer){const a=l.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?l.instanced?o.drawElementsInstanced(e,r||l.indexBuffer.data.length,c,(n||0)*a,s||1):o.drawElements(e,r||l.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else l.instanced?o.drawArraysInstanced(e,n,r||l.getSize(),s||1):o.drawArrays(e,n,r||l.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}eR.extension={type:Te.RendererSystem,name:"geometry"};ze.add(eR);const yk=new Et;class Rw{constructor(e,r){this._texture=e,this.mapCoord=new Et,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],l=e[s+1];r[s]=o*n.a+l*n.c+n.tx,r[s+1]=o*n.b+l*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=r.orig,o=r.trim;o&&(yk.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(yk));const l=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/l.resolution,d=this.clampOffset;return a[0]=(r._frame.x+c+d)/l.width,a[1]=(r._frame.y+c+d)/l.height,a[2]=(r._frame.x+r._frame.width-c+d)/l.width,a[3]=(r._frame.y+r._frame.height-c+d)/l.height,this.uClampOffset[0]=d/l.realWidth,this.uClampOffset[1]=d/l.realHeight,this.isSimple=r._frame.width===l.width&&r._frame.height===l.height&&r.rotate===0,!0}}var Pae="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Rae="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class Kj extends gn{constructor(e,r,n){let s=null;typeof e!="string"&&r===void 0&&n===void 0&&(s=e,e=void 0,r=void 0,n=void 0),super(e||Rae,r||Pae,n),this.maskSprite=s,this.maskMatrix=new Et}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,s){const o=this._maskSprite,l=o._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new Rw(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,e.applyFilter(this,r,n,s))}}class Xj{constructor(e=null){this.type=Fr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Fr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class tR{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const o=this.maskDataPool.pop()||new Xj;o.pooled=!0,o.maskObject=r,n=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Fr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Fr.SCISSOR:this.renderer.scissor.push(n);break;case Fr.STENCIL:this.renderer.stencil.push(n);break;case Fr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Fr.COLOR:this.pushColorMask(n);break}n.type===Fr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Fr.SCISSOR:this.renderer.scissor.pop(r);break;case Fr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Fr.SPRITE:this.popSpriteMask(r);break;case Fr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Fr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Fr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Fr.SCISSOR:e.type=Fr.STENCIL:e.type=Fr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Kj])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=r;const o=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}tR.extension={type:Te.RendererSystem,name:"mask"};ze.add(tR);class Yj{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const _k=new Et,xk=[],qj=class m_ extends Yj{constructor(e){super(e),this.glConst=Fe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var a;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,o=s.renderTexture,l=n.getBounds(!0,(a=xk.pop())!=null?a:new lt);this.roundFrameToPixels(l,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r&&l.fit(r),e._scissorRectLocal=l}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:s,d:o}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||m_.isMatrixRotated(r.worldTransform)||m_.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,s,o){m_.isMatrixRotated(o)||(o=o?_k.copyFrom(o):_k.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&xk.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};qj.extension={type:Te.RendererSystem,name:"scissor"};let Zj=qj;ze.add(Zj);class rR extends Yj{constructor(e){super(e),this.glConst=Fe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(e._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}rR.extension={type:Te.RendererSystem,name:"stencil"};ze.add(rR);class nR{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return it("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return it("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return it("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}nR.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"_plugin"};ze.add(nR);class iR{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Et,this.transform=null}update(e,r,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,r,n,s){const o=this.projectionMatrix,l=s?-1:1;o.identity(),o.a=1/r.width*2,o.d=l*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-l-r.y*o.d}setTransform(e){}destroy(){this.renderer=null}}iR.extension={type:Te.RendererSystem,name:"projection"};ze.add(iR);const Iae=new Tf,wk=new lt;class sR{constructor(e){this.renderer=e,this._tempMatrix=new Et}generateTexture(e,r){var d;const{region:n,...s}=r||{},o=(n==null?void 0:n.copyTo(wk))||e.getLocalBounds(wk,!0),l=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/l),o.height=Math.max(o.height,1/l),s.width=o.width,s.height=o.height,s.resolution=l,(d=s.multisample)!=null||(s.multisample=this.renderer.multisample);const a=Su.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const c=e.transform;return e.transform=Iae,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}sR.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"textureGenerator"};ze.add(sR);const Uu=new lt,Cp=new lt;class oR{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new lt,this.destinationFrame=new lt,this.viewportFrame=new lt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const s=this.renderer;this.current=e;let o,l,a;e?(o=e.baseTexture,a=o.resolution,r||(Uu.width=e.frame.width,Uu.height=e.frame.height,r=Uu),n||(Cp.x=e.frame.x,Cp.y=e.frame.y,Cp.width=r.width,Cp.height=r.height,n=Cp),l=o.framebuffer):(a=s.resolution,r||(Uu.width=s._view.screen.width,Uu.height=s._view.screen.height,r=Uu),n||(n=Uu,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=s.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(l,c),this.renderer.projection.update(n,r,a,!l),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Pt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,l=this.current?this.current.baseTexture:this.renderer._view.screen,a=o.width!==l.width||o.height!==l.height;if(a){let{x:c,y:d,width:f,height:g}=this.viewportFrame;c=Math.round(c),d=Math.round(d),f=Math.round(f),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,f,g)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}oR.extension={type:Te.RendererSystem,name:"renderTexture"};ze.add(oR);class Oae{}class Qj{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Bae(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=e.getActiveAttrib(t,s);if(o.name.startsWith("gl_"))continue;const l=jj(e,o.type),a={type:l,name:o.name,size:$j(l),location:e.getAttribLocation(t,o.name)};r[o.name]=a}return r}function Mae(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const o=e.getActiveUniform(t,s),l=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),c=jj(e,o.type);r[l]={name:l,index:s,type:c,size:o.size,isArray:a,value:Lj(c,o.size)}}return r}function Jj(t,e){var a;const r=hk(t,t.VERTEX_SHADER,e.vertexSrc),n=hk(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,r),t.attachShader(s,n);const o=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(o&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||yae(t,s,r,n),e.attributeData=Bae(s,t),e.uniformData=Mae(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,f)=>d>f?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(s,d,c[d]);t.linkProgram(s)}t.deleteShader(r),t.deleteShader(n);const l={};for(const c in e.uniformData){const d=e.uniformData[c];l[c]={location:t.getUniformLocation(s,c),value:Lj(d.type,d.size)}}return new Qj(s,l)}function Fae(t,e,r,n,s){r.buffer.update(s)}const kae={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},e5={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function t5(t){const e=t.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let r=0,n=0,s=0;for(let o=0;o<e.length;o++){const l=e[o];if(r=e5[l.data.type],l.data.size>1&&(r=Math.max(r,16)*l.data.size),l.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,s+=a}n+r>16?(s=Math.ceil(s/16)*16,l.offset=s,s+=r,n=r):(l.offset=s,n+=r,s+=r)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function r5(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,s)=>n.index-s.index),r}function n5(t,e){if(!t.autoManage)return{size:0,syncFunc:Fae};const r=r5(t.uniforms,e),{uboElements:n,size:s}=t5(r),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let l=0;l<n.length;l++){const a=n[l],c=t.uniforms[a.data.name],d=a.data.name;let f=!1;for(let g=0;g<vc.length;g++){const m=vc[g];if(m.codeUbo&&m.test(a.data,c)){o.push("offset = ".concat(a.offset/4,";"),vc[g].codeUbo(a.data.name,c)),f=!0;break}}if(!f)if(a.data.size>1){const g=$j(a.data.type),m=Math.max(e5[a.data.type]/16,1),y=g/m,_=(4-y%4)%4;o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(a.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(a.data.size*m,"; i++)\n                {\n                    for(var j = 0; j < ").concat(y,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(_,";\n                }\n\n                "))}else{const g=kae[a.data.type];o.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(a.offset/4,";\n                ").concat(g,";\n                "))}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}let Lae=0;const c0={textureCount:0,uboCount:0};class aR{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Lae++}systemCheck(){if(!zj())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(c0.textureCount=0,c0.uboCount=0,this.syncUniformGroup(e.uniformGroup,c0)),s}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=mae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,c0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const l=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[l];if(a||(a=this._uboCache[l]=n5(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const s=e.uniforms,o=["".concat(n,"-")];for(const l in s)o.push(l),r[l]&&o.push(r[l].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,s=Jj(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}aR.extension={type:Te.RendererSystem,name:"shader"};ze.add(aR);class ym{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log("PixiJS 7.3.2 - ".concat(r.rendererLogId," - https://pixijs.com")),r.resize(r.screen.width,r.screen.height)}destroy(){}}ym.defaultOptions={hello:!1},ym.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"startup"};ze.add(ym);function Nae(t,e=[]){return e[Je.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.ADD]=[t.ONE,t.ONE],e[Je.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.NONE]=[0,0],e[Je.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Je.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Je.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Je.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Je.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Je.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Je.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Je.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Je.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Je.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Je.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Uae=0,$ae=1,jae=2,zae=3,Gae=4,Vae=5,i5=class iT{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Je.NONE,this._blendEq=!1,this.map=[],this.map[Uae]=this.setBlend,this.map[$ae]=this.setOffset,this.map[jae]=this.setCullFace,this.map[zae]=this.setDepthTest,this.map[Gae]=this.setFrontFace,this.map[Vae]=this.setDepthMask,this.checks=[],this.defaultState=new io,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Nae(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(iT.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(iT.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};i5.extension={type:Te.RendererSystem,name:"state"};let s5=i5;ze.add(s5);class o5 extends Cf{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var s;this.addRunners(...e.runners);const r=((s=e.priority)!=null?s:[]).filter(o=>e.systems[o]),n=[...r,...Object.keys(e.systems).filter(o=>!r.includes(o))];for(const o of n)this.addSystem(e.systems[o],o)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ki(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error('Whoops! The name "'.concat(r,'" is already in use'));this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=n.find(l=>this._systemsHash[l]===s);s[e.name](r[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Vp=class v_{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=v_.defaultMaxIdle,this.checkCountMax=v_.defaultCheckCountMax,this.mode=v_.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Sw.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let s=0;s<r.length;s++){const o=r[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[s]=null,n=!0)}if(n){let s=0;for(let o=0;o<r.length;o++)r[o]!==null&&(r[s++]=r[o]);r.length=s}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Vp.defaultMode=Sw.AUTO,Vp.defaultMaxIdle=60*60,Vp.defaultCheckCountMax=60*10,Vp.extension={type:Te.RendererSystem,name:"textureGC"};let yl=Vp;ze.add(yl);class y_{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=He.UNSIGNED_BYTE,this.internalFormat=ye.RGBA,this.samplerType=0}}function Hae(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Be.FLOAT,[t.RGBA]:Be.FLOAT,[t.ALPHA]:Be.FLOAT,[t.LUMINANCE]:Be.FLOAT,[t.LUMINANCE_ALPHA]:Be.FLOAT,[t.R8]:Be.FLOAT,[t.R8_SNORM]:Be.FLOAT,[t.RG8]:Be.FLOAT,[t.RG8_SNORM]:Be.FLOAT,[t.RGB8]:Be.FLOAT,[t.RGB8_SNORM]:Be.FLOAT,[t.RGB565]:Be.FLOAT,[t.RGBA4]:Be.FLOAT,[t.RGB5_A1]:Be.FLOAT,[t.RGBA8]:Be.FLOAT,[t.RGBA8_SNORM]:Be.FLOAT,[t.RGB10_A2]:Be.FLOAT,[t.RGB10_A2UI]:Be.FLOAT,[t.SRGB8]:Be.FLOAT,[t.SRGB8_ALPHA8]:Be.FLOAT,[t.R16F]:Be.FLOAT,[t.RG16F]:Be.FLOAT,[t.RGB16F]:Be.FLOAT,[t.RGBA16F]:Be.FLOAT,[t.R32F]:Be.FLOAT,[t.RG32F]:Be.FLOAT,[t.RGB32F]:Be.FLOAT,[t.RGBA32F]:Be.FLOAT,[t.R11F_G11F_B10F]:Be.FLOAT,[t.RGB9_E5]:Be.FLOAT,[t.R8I]:Be.INT,[t.R8UI]:Be.UINT,[t.R16I]:Be.INT,[t.R16UI]:Be.UINT,[t.R32I]:Be.INT,[t.R32UI]:Be.UINT,[t.RG8I]:Be.INT,[t.RG8UI]:Be.UINT,[t.RG16I]:Be.INT,[t.RG16UI]:Be.UINT,[t.RG32I]:Be.INT,[t.RG32UI]:Be.UINT,[t.RGB8I]:Be.INT,[t.RGB8UI]:Be.UINT,[t.RGB16I]:Be.INT,[t.RGB16UI]:Be.UINT,[t.RGB32I]:Be.INT,[t.RGB32UI]:Be.UINT,[t.RGBA8I]:Be.INT,[t.RGBA8UI]:Be.UINT,[t.RGBA16I]:Be.INT,[t.RGBA16UI]:Be.UINT,[t.RGBA32I]:Be.INT,[t.RGBA32UI]:Be.UINT,[t.DEPTH_COMPONENT16]:Be.FLOAT,[t.DEPTH_COMPONENT24]:Be.FLOAT,[t.DEPTH_COMPONENT32F]:Be.FLOAT,[t.DEPTH_STENCIL]:Be.FLOAT,[t.DEPTH24_STENCIL8]:Be.FLOAT,[t.DEPTH32F_STENCIL8]:Be.FLOAT}:e={[t.RGB]:Be.FLOAT,[t.RGBA]:Be.FLOAT,[t.ALPHA]:Be.FLOAT,[t.LUMINANCE]:Be.FLOAT,[t.LUMINANCE_ALPHA]:Be.FLOAT,[t.DEPTH_STENCIL]:Be.FLOAT},e}function Wae(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[He.UNSIGNED_BYTE]:{[ye.RGBA]:t.RGBA8,[ye.RGB]:t.RGB8,[ye.RG]:t.RG8,[ye.RED]:t.R8,[ye.RGBA_INTEGER]:t.RGBA8UI,[ye.RGB_INTEGER]:t.RGB8UI,[ye.RG_INTEGER]:t.RG8UI,[ye.RED_INTEGER]:t.R8UI,[ye.ALPHA]:t.ALPHA,[ye.LUMINANCE]:t.LUMINANCE,[ye.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[He.BYTE]:{[ye.RGBA]:t.RGBA8_SNORM,[ye.RGB]:t.RGB8_SNORM,[ye.RG]:t.RG8_SNORM,[ye.RED]:t.R8_SNORM,[ye.RGBA_INTEGER]:t.RGBA8I,[ye.RGB_INTEGER]:t.RGB8I,[ye.RG_INTEGER]:t.RG8I,[ye.RED_INTEGER]:t.R8I},[He.UNSIGNED_SHORT]:{[ye.RGBA_INTEGER]:t.RGBA16UI,[ye.RGB_INTEGER]:t.RGB16UI,[ye.RG_INTEGER]:t.RG16UI,[ye.RED_INTEGER]:t.R16UI,[ye.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[He.SHORT]:{[ye.RGBA_INTEGER]:t.RGBA16I,[ye.RGB_INTEGER]:t.RGB16I,[ye.RG_INTEGER]:t.RG16I,[ye.RED_INTEGER]:t.R16I},[He.UNSIGNED_INT]:{[ye.RGBA_INTEGER]:t.RGBA32UI,[ye.RGB_INTEGER]:t.RGB32UI,[ye.RG_INTEGER]:t.RG32UI,[ye.RED_INTEGER]:t.R32UI,[ye.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[He.INT]:{[ye.RGBA_INTEGER]:t.RGBA32I,[ye.RGB_INTEGER]:t.RGB32I,[ye.RG_INTEGER]:t.RG32I,[ye.RED_INTEGER]:t.R32I},[He.FLOAT]:{[ye.RGBA]:t.RGBA32F,[ye.RGB]:t.RGB32F,[ye.RG]:t.RG32F,[ye.RED]:t.R32F,[ye.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[He.HALF_FLOAT]:{[ye.RGBA]:t.RGBA16F,[ye.RGB]:t.RGB16F,[ye.RG]:t.RG16F,[ye.RED]:t.R16F},[He.UNSIGNED_SHORT_5_6_5]:{[ye.RGB]:t.RGB565},[He.UNSIGNED_SHORT_4_4_4_4]:{[ye.RGBA]:t.RGBA4},[He.UNSIGNED_SHORT_5_5_5_1]:{[ye.RGBA]:t.RGB5_A1},[He.UNSIGNED_INT_2_10_10_10_REV]:{[ye.RGBA]:t.RGB10_A2,[ye.RGBA_INTEGER]:t.RGB10_A2UI},[He.UNSIGNED_INT_10F_11F_11F_REV]:{[ye.RGB]:t.R11F_G11F_B10F},[He.UNSIGNED_INT_5_9_9_9_REV]:{[ye.RGB]:t.RGB9_E5},[He.UNSIGNED_INT_24_8]:{[ye.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[He.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ye.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[He.UNSIGNED_BYTE]:{[ye.RGBA]:t.RGBA,[ye.RGB]:t.RGB,[ye.ALPHA]:t.ALPHA,[ye.LUMINANCE]:t.LUMINANCE,[ye.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[He.UNSIGNED_SHORT_5_6_5]:{[ye.RGB]:t.RGB},[He.UNSIGNED_SHORT_4_4_4_4]:{[ye.RGBA]:t.RGBA},[He.UNSIGNED_SHORT_5_5_5_1]:{[ye.RGBA]:t.RGBA}},e}class lR{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ct,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Wae(e),this.samplerTypes=Hae(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new y_(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new y_(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let o=e-1;o>=0;--o){const l=r[o];l&&l._glTextures[s].samplerType!==Be.FLOAT&&this.renderer.texture.unbind(l)}}initTexture(e){const r=new y_(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,s,o;r.internalFormat=(s=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?s:e.format,r.samplerType=(o=this.samplerTypes[r.internalFormat])!=null?o:Be.FLOAT,this.webGLVersion===2&&e.type===He.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var s;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(s=e.resource)==null?void 0:s.upload(n,e,r))r.samplerType!==Be.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,l=e.realHeight,a=n.gl;(r.width!==o||r.height!==l||r.dirtyId<0)&&(r.width=o,r.height=l,a.texImage2D(e.target,0,r.internalFormat,o,l,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const s=this.managedTextures.indexOf(e);s!==-1&&mc(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===to.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Oo.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==to.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Co.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===Co.LINEAR){const o=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Co.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Co.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}lR.extension={type:Te.RendererSystem,name:"texture"};ze.add(lR);class uR{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:s}=this;r&&s.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:s}=this,o=r.createTransformFeedback();e._glTransformFeedbacks[s]=o,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,o);for(let l=0;l<e.buffers.length;l++){const a=e.buffers[l];a&&(n.buffer.update(a),a._glBuffers[s].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,l,a._glBuffers[s].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let l=0;l<e.buffers.length;l++){const a=e.buffers[l];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(a,r))}n&&(r||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}uR.extension={type:Te.RendererSystem,name:"transformFeedback"};ze.add(uR);class _m{constructor(e){this.renderer=e}init(e){this.screen=new lt(0,0,e.width,e.height),this.element=e.view||Fe.ADAPTER.createCanvas(),this.resolution=e.resolution||Fe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(s,"px")),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}_m.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},_m.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"_view"};ze.add(_m);Fe.PREFER_ENV=bu.WEBGL2;Fe.STRICT_TEXTURE_CACHE=!1;Fe.RENDER_OPTIONS={...vm.defaultOptions,...mm.defaultOptions,..._m.defaultOptions,...ym.defaultOptions};Object.defineProperties(Fe,{WRAP_MODE:{get(){return ct.defaultOptions.wrapMode},set(t){it("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ct.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ct.defaultOptions.scaleMode},set(t){it("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ct.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ct.defaultOptions.mipmap},set(t){it("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ct.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ct.defaultOptions.anisotropicLevel},set(t){it("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ct.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return it("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gn.defaultResolution},set(t){gn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return it("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gn.defaultMultisample},set(t){gn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return vl.defaultMaxTextures},set(t){it("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),vl.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return vl.defaultBatchSize},set(t){it("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),vl.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return vl.canUploadSameBuffer},set(t){it("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),vl.canUploadSameBuffer=t}},GC_MODE:{get(){return yl.defaultMode},set(t){it("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),yl.defaultMode=t}},GC_MAX_IDLE:{get(){return yl.defaultMaxIdle},set(t){it("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),yl.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return yl.defaultCheckCountMax},set(t){it("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),yl.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ao.defaultVertexPrecision},set(t){it("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ao.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ao.defaultFragmentPrecision},set(t){it("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ao.defaultFragmentPrecision=t}}});var Lo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Lo||{});class tS{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=s}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const a5=class Ei{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new tS(null,null,1/0),this.deltaMS=1/Ei.targetFPMS,this.elapsedMS=1/Ei.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Lo.NORMAL){return this._addListener(new tS(e,r,n))}addOnce(e,r,n=Lo.NORMAL){return this._addListener(new tS(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ei.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ei.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Ei._shared){const e=Ei._shared=new Ei;e.autoStart=!0,e._protected=!0}return Ei._shared}static get system(){if(!Ei._system){const e=Ei._system=new Ei;e.autoStart=!0,e._protected=!0}return Ei._system}};a5.targetFPMS=.06;let $r=a5;Object.defineProperties(Fe,{TARGET_FPMS:{get(){return $r.targetFPMS},set(t){it("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),$r.targetFPMS=t}}});class cR{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Lo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?$r.shared:new $r,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}cR.extension=Te.Application;ze.add(cR);const l5=[];ze.handleByList(Te.Renderer,l5);function u5(t){for(const e of l5)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Kae="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Xae="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const c5=Kae,dR=Xae;class hR{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Rr.HIGH?this.multisample=Rr.HIGH:r>=Rr.MEDIUM?this.multisample=Rr.MEDIUM:r>=Rr.LOW?this.multisample=Rr.LOW:this.multisample=Rr.NONE}destroy(){}}hR.extension={type:Te.RendererSystem,name:"_multisample"};ze.add(hR);class Yae{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class fR{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[r]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,o.buffer)}}bindBufferRange(e,r,n){const{gl:s,CONTEXT_UID:o}=this;n=n||0;const l=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,l.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const o=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,o)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Yae(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}fR.extension={type:Te.RendererSystem,name:"buffer"};ze.add(fR);class pR{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let s,o,l,a;if(r&&(s=r.renderTexture,o=r.clear,l=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=l,!n.context.isLost){if(s||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(o!=null?o:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(r.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}pR.extension={type:Te.RendererSystem,name:"objectRenderer"};ze.add(pR);const __=class sT extends o5{constructor(e){super(),this.type=B2.WEBGL,e=Object.assign({},Fe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new xs({projectionMatrix:new Et},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sT.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(it("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=sT.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:_j()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return it("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return it("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return it("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return it("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){it("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return it("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){it("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return it("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};__.extension={type:Te.Renderer,priority:1},__.__plugins={},__.__systems={};let Iw=__;ze.handleByMap(Te.RendererPlugin,Iw.__plugins);ze.handleByMap(Te.RendererSystem,Iw.__systems);ze.add(Iw);class gR extends Yh{constructor(e,r){const{width:n,height:s}=r||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const l=new ct;this.items.push(l),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Yh?this.addResourceAt(e[n],n):this.addResourceAt(H2(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class d5 extends gR{constructor(e,r){const{width:n,height:s}=r||{};let o,l;Array.isArray(e)?(o=e,l=e.length):l=e,super(l,{width:n,height:s}),o&&this.initFromArray(o,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=fc.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:s,itemDirtyIds:o,items:l}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,r.format,n.type,null);for(let c=0;c<s;c++){const d=l[c];o[c]<d.dirtyId&&(o[c]=d.dirtyId,d.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class h5 extends Fa{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const f5=class Hp extends gR{constructor(e,r){const{width:n,height:s,autoLoad:o,linkBaseTexture:l}=r||{};if(e&&e.length!==Hp.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:s});for(let a=0;a<Hp.SIDES;a++)this.items[a].target=fc.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=l!==!1,e&&this.initFromArray(e,r),o!==!1&&this.load()}bind(e){super.bind(e),e.target=fc.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=fc.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const s=this.itemDirtyIds;for(let o=0;o<Hp.SIDES;o++){const l=this.items[o];(s[o]<l.dirtyId||n.dirtyId<r.dirtyId)&&(l.valid&&l.resource?(l.resource.upload(e,l,n),s[o]=l.dirtyId):s[o]<-1&&(e.gl.texImage2D(l.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Hp.SIDES}};f5.SIDES=6;let p5=f5;class sc extends Fa{constructor(e,r){var l,a;r=r||{};let n,s,o;typeof e=="string"?(n=sc.EMPTY,s=e,o=!0):(n=e,s=null,o=!1),super(n),this.url=s,this.crossOrigin=(l=r.crossOrigin)!=null?l:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=(a=r.ownsImageBitmap)!=null?a:o,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await Fe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Wn.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return sc._EMPTY=(e=sc._EMPTY)!=null?e:Fe.ADAPTER.createCanvas(0,0),sc._EMPTY}}const oT=class x_ extends Fa{constructor(e,r){r=r||{},super(Fe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},x_.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Fa.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=r*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*r,o=this._overrideHeight||this._overrideWidth/r*n),s=Math.round(s),o=Math.round(o);const l=this.source;l.width=s,l.height=o,l._pixiId="canvas_".concat(nu()),l.getContext("2d").drawImage(e,0,0,r,n,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const r=x_.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&x_.SVG_XML.test(e)}};oT.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,oT.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let R1=oT;const aT=class lT extends Fa{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Fa.crossOrigin(n,s,r.crossorigin);for(let o=0;o<e.length;++o){const l=document.createElement("source");let{src:a,mime:c}=e[o];if(a=a||e[o],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const d=a.split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);c=c||lT.MIME_TYPES[f]||"video/".concat(f)}l.src=a,c&&(l.type=c),n.appendChild(l)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=$r.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&($r.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||($r.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&($r.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||lT.TYPES.includes(r)}};aT.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],aT.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let mR=aT;A1.push(sc,Y2,h5,mR,R1,Mv,p5,d5);class qae{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new ki("disposeTransformFeedback")}bindBuffer(e,r){this.buffers[e]=r}destroy(){this.disposeRunner.emit(this,!1)}}const Zae="7.3.2";class xm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?lt.EMPTY:(e=e||new lt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:s,c:o,d:l,tx:a,ty:c}=e,d=n*r.x+o*r.y+a,f=s*r.x+l*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,l=e[0],a=e[1];r=l<r?l:r,n=a<n?a:n,s=l>s?l:s,o=a>o?a:o,l=e[2],a=e[3],r=l<r?l:r,n=a<n?a:n,s=l>s?l:s,o=a>o?a:o,l=e[4],a=e[5],r=l<r?l:r,n=a<n?a:n,s=l>s?l:s,o=a>o?a:o,l=e[6],a=e[7],r=l<r?l:r,n=a<n?a:n,s=l>s?l:s,o=a>o?a:o,this.minX=r,this.minY=n,this.maxX=s,this.maxY=o}addFrame(e,r,n,s,o){this.addFrameMatrix(e.worldTransform,r,n,s,o)}addFrameMatrix(e,r,n,s,o){const l=e.a,a=e.b,c=e.c,d=e.d,f=e.tx,g=e.ty;let m=this.minX,y=this.minY,_=this.maxX,u=this.maxY,h=l*r+c*n+f,p=a*r+d*n+g;m=h<m?h:m,y=p<y?p:y,_=h>_?h:_,u=p>u?p:u,h=l*s+c*n+f,p=a*s+d*n+g,m=h<m?h:m,y=p<y?p:y,_=h>_?h:_,u=p>u?p:u,h=l*r+c*o+f,p=a*r+d*o+g,m=h<m?h:m,y=p<y?p:y,_=h>_?h:_,u=p>u?p:u,h=l*s+c*o+f,p=a*s+d*o+g,m=h<m?h:m,y=p<y?p:y,_=h>_?h:_,u=p>u?p:u,this.minX=m,this.minY=y,this.maxX=_,this.maxY=u}addVertexData(e,r,n){let s=this.minX,o=this.minY,l=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],f=e[c+1];s=d<s?d:s,o=f<o?f:o,l=d>l?d:l,a=f>a?f:a}this.minX=s,this.minY=o,this.maxX=l,this.maxY=a}addVertices(e,r,n,s){this.addVerticesMatrix(e.worldTransform,r,n,s)}addVerticesMatrix(e,r,n,s,o=0,l=o){const a=e.a,c=e.b,d=e.c,f=e.d,g=e.tx,m=e.ty;let y=this.minX,_=this.minY,u=this.maxX,h=this.maxY;for(let p=n;p<s;p+=2){const v=r[p],x=r[p+1],w=a*v+d*x+g,b=f*x+c*v+m;y=Math.min(y,w-o),u=Math.max(u,w+o),_=Math.min(_,b-l),h=Math.max(h,b+l)}this.minX=y,this.minY=_,this.maxX=u,this.maxY=h}addBounds(e){const r=this.minX,n=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,s=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,l=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&s<=l){const a=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=l>f?l:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,s=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,l=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&s<=l){const a=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=s<c?s:c,this.maxX=o>d?o:d,this.maxY=l>f?l:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,s,o,l){e-=o,r-=l,n+=o,s+=l,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>s?this.maxY:s}}class cr extends Cf{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Tf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new xm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];Object.defineProperty(cr.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new lt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){var a;e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new xm);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(a=n==null?void 0:n.worldAlpha)!=null?a:1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const l=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-o,l}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,s){return r&&(e=r.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,s=1,o=0,l=0,a=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=o,this.skew.x=l,this.skew.y=a,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new g5),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Bj}set angle(e){this.transform.rotation=e*Mj}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class g5 extends cr{constructor(){super(...arguments),this.sortDirty=null}}cr.prototype.displayObjectUpdateTransform=cr.prototype.updateTransform;const Qae=new Et;function Jae(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const m5=class uT extends cr{constructor(){super(),this.children=[],this.sortableChildren=uT.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(r," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error("The index ".concat(r," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);mc(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,mc(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,mc(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,s=r,o=s-n;let l;if(o>0&&o<=s){l=this.children.splice(n,o);for(let a=0;a<l.length;++a)l[a].parent=null,l[a].transform&&(l[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<l.length;++a)l[a].emit("removed",this),this.emit("childRemoved",l[a],this,a);return l}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const s=this.children[r];s._lastSortedIndex=r,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Jae),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s];l.visible&&l.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==uT.prototype._render&&(n=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=Qae.copyFrom(s),s.prepend(o)):s=o),n&&r.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let l=0,a=this.children.length;l<a;++l){const c=this.children[l],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var o,l,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const s=r&&((o=this._enabledFilters)==null?void 0:o.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Fr.NONE));if(s&&e.batch.flush(),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};m5.defaultSortableChildren=!1;let gi=m5;gi.prototype.containerUpdateTransform=gi.prototype.updateTransform;Object.defineProperties(Fe,{SORTABLE_CHILDREN:{get(){return gi.defaultSortableChildren},set(t){it("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),gi.defaultSortableChildren=t}}});const Ap=new Ee,ele=new Uint16Array([0,1,2,0,2,3]);let Zc=class v5 extends gi{constructor(e){super(),this._anchor=new Gs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Pt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Je.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ele,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Fe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_a(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_a(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,l=r.d,a=r.tx,c=r.ty,d=this.vertexData,f=e.trim,g=e.orig,m=this._anchor;let y=0,_=0,u=0,h=0;if(f?(_=f.x-m._x*g.width,y=_+f.width,h=f.y-m._y*g.height,u=h+f.height):(_=-m._x*g.width,y=_+g.width,h=-m._y*g.height,u=h+g.height),d[0]=n*_+o*h+a,d[1]=l*h+s*_+c,d[2]=n*y+o*h+a,d[3]=l*h+s*y+c,d[4]=n*y+o*u+a,d[5]=l*u+s*y+c,d[6]=n*_+o*u+a,d[7]=l*u+s*_+c,this._roundPixels){const p=Fe.RESOLUTION;for(let v=0;v<d.length;++v)d[v]=Math.round(d[v]*p)/p}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,s=this._anchor,o=this.transform.worldTransform,l=o.a,a=o.b,c=o.c,d=o.d,f=o.tx,g=o.ty,m=-s._x*n.width,y=m+n.width,_=-s._y*n.height,u=_+n.height;if(r[0]=l*m+c*_+f,r[1]=d*_+a*m+g,r[2]=l*y+c*_+f,r[3]=d*_+a*y+g,r[4]=l*y+c*u+f,r[5]=d*u+a*y+g,r[6]=l*m+c*u+f,r[7]=d*u+a*m+g,this._roundPixels){const h=Fe.RESOLUTION;for(let p=0;p<r.length;++p)r[p]=Math.round(r[p]*h)/h}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new xm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ap);const r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x;let o=0;return Ap.x>=s&&Ap.x<s+r&&(o=-n*this.anchor.y,Ap.y>=o&&Ap.y<o+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ke?e:ke.from(e,r);return new v5(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=_a(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=_a(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const y5=new Et;cr.prototype._cacheAsBitmap=!1;cr.prototype._cacheData=null;cr.prototype._cacheAsBitmapResolution=null;cr.prototype._cacheAsBitmapMultisample=null;class tle{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(cr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new tle),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});cr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};cr.prototype._initCachedDisplayObject=function(t){var m,y,_;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new lt,!0);if((y=this.filters)!=null&&y.length){const u=this.filters[0].padding;r.pad(u)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const s=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=Su.create({width:r.width,height:r.height,resolution:n,multisample:(_=this.cacheAsBitmapMultisample)!=null?_:t.multisample}),d="cacheAsBitmap_".concat(nu());this._cacheData.textureCacheId=d,ct.addToCache(c.baseTexture,d),ke.addToCache(c,d);const f=this.transform.localTransform.copyTo(y5).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(s,o,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const g=new Zc(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(r.x/r.width),g.anchor.y=-(r.y/r.height),g.alpha=e,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)};cr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};cr.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new lt,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,s=t._projTransform,o=this.cacheAsBitmapResolution||t.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const l=Su.create({width:e.width,height:e.height,resolution:o}),a="cacheAsBitmap_".concat(nu());this._cacheData.textureCacheId=a,ct.addToCache(l.baseTexture,a),ke.addToCache(l,a);const c=y5;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new Zc(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};cr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};cr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};cr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ct.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};cr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};cr.prototype.name=null;gi.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(t,!0);if(o)return o}return null};cr.prototype.getGlobalPosition=function(t=new Ee,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var rle="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class _5 extends gn{constructor(e=1){super(c5,rle,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const nle={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ile=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function sle(t){const e=nle[t],r=e.length;let n=ile,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let l;for(let a=0;a<t;a++){let c=o.replace("%index%",a.toString());l=a,a>=r&&(l=t-a-1),c=c.replace("%value%",e[l].toString()),s+=c,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}const ole="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function ale(t,e){const r=Math.ceil(t/2);let n=ole,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let l=0;l<t;l++){let a=o.replace("%index%",l.toString());a=a.replace("%sampleIndex%","".concat(l-(r-1),".0")),s+=a,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}class I1 extends gn{constructor(e,r=8,n=4,s=gn.defaultResolution,o=5){const l=ale(o,e),a=sle(o);super(l,a),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,s);else{const o=e.getFilterTexture(),l=e.renderer;let a=r,c=o;this.state.blend=!1,e.applyFilter(this,a,c,$s.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(a,$s.BLIT),this.uniforms.uSampler=c;const f=c;c=a,a=f,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let x5=class extends gn{constructor(e=8,r=4,n=gn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new I1(!0,e,r,n,s),this.blurYFilter=new I1(!1,e,r,n,s),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,s){const o=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(o&&l){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,$s.CLEAR),this.blurYFilter.apply(e,a,n,s),e.returnFilterTexture(a)}else l?this.blurYFilter.apply(e,r,n,s):this.blurXFilter.apply(e,r,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};var lle="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";class O1 extends gn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(dR,lle,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,s,o]=Pt.shared.setValue(e).toArray(),l=[n,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(l,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),s=Math.sin(e),o=Math.sqrt,l=1/3,a=o(l),c=n+(1-n)*l,d=l*(1-n)-a*s,f=l*(1-n)+a*s,g=l*(1-n)+a*s,m=n+l*(1-n),y=l*(1-n)-a*s,_=l*(1-n)-a*s,u=l*(1-n)+a*s,h=n+l*(1-n),p=[c,d,f,0,0,g,m,y,0,0,_,u,h,0,0,0,0,0,1,0];this._loadMatrix(p,r)}contrast(e,r){const n=(e||0)+1,s=-.5*(n-1),o=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(o,r)}saturate(e=0,r){const n=e*2/3+1,s=(n-1)*-.5,o=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,s,o){e=e||.2,r=r||.15,n=n||16770432,s=s||3375104;const l=Pt.shared,[a,c,d]=l.setValue(n).toArray(),[f,g,m]=l.setValue(s).toArray(),y=[.3,.59,.11,0,0,a,c,d,e,0,f,g,m,r,0,a-f,c-g,d-m,0,0];this._loadMatrix(y,o)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}O1.prototype.grayscale=O1.prototype.greyscale;var ule="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",cle="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";class w5 extends gn{constructor(e,r){const n=new Et;e.renderable=!1,super(cle,ule,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ee(r,r)}apply(e,r,n,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,l=Math.sqrt(o.a*o.a+o.b*o.b),a=Math.sqrt(o.c*o.c+o.d*o.d);l!==0&&a!==0&&(this.uniforms.rotation[0]=o.a/l,this.uniforms.rotation[1]=o.b/l,this.uniforms.rotation[2]=o.c/a,this.uniforms.rotation[3]=o.d/a),e.applyFilter(this,r,n,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var dle='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',hle="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";class b5 extends gn{constructor(){super(hle,dle)}}var fle="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";let E5=class extends gn{constructor(e=.5,r=Math.random()){super(dR,fle,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};const cT={AlphaFilter:_5,BlurFilter:x5,BlurFilterPass:I1,ColorMatrixFilter:O1,DisplacementFilter:w5,FXAAFilter:b5,NoiseFilter:E5};Object.entries(cT).forEach(([t,e])=>{Object.defineProperty(cT,t,{get(){return it("7.1.0","filters.".concat(t," has moved to ").concat(t)),e}})});class ple{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||($r.system.add(this.tickerUpdate,this,Lo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&($r.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Sl=new ple;class Df{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Df.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ee,this.page=new Ee,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class wm extends Df{constructor(){super(...arguments),this.client=new Ee,this.movement=new Ee,this.offset=new Ee,this.global=new Ee,this.screen=new Ee}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,s,o,l,a,c,d,f,g,m,y,_,u){throw new Error("Method not implemented.")}}class Qi extends wm{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class yc extends wm{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}yc.DOM_DELTA_PIXEL=0,yc.DOM_DELTA_LINE=1,yc.DOM_DELTA_PAGE=2;const gle=2048,mle=new Ee,rS=new Ee;class S5{constructor(e){this.dispatch=new Cf,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,s=r.length;n<s;n++)r[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,r){Sl.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,mle.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=n.length-1;s<o;s++)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(r)?r:[r];for(let o=n.length-1;o>=0;o--)s.forEach(l=>{e.currentTarget=n[o],this.notifyTarget(e,l)})}propagationPath(e){const r=[e];for(let n=0;n<gle&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,s,o,l=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Sl.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let g=f.length-1;g>=0;g--){const m=f[g],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,s,o,l||o(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),a=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),l||this._hitElements.length>0?null:a?this._hitElements:c&&!o(e,n)&&s(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,s,o){if(this._interactivePrune(e)||o(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Sl.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const f=c[d],g=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,s,o);if(g){if(g.length>0&&!g[g.length-1].parent)continue;const m=e.isInteractive();return(g.length>0||m)&&g.push(e),g}}}const l=this._isInteractive(r),a=e.isInteractive();return l&&s(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,rS),!e.hitArea.contains(rS.x,rS.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var o,l;r=r!=null?r:e.type;const n="on".concat(r);(l=(o=e.currentTarget)[n])==null||l.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const s=r.button===2;this.dispatchEvent(r,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d,f;if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((c=s.overTargets)==null?void 0:c.length)>0&&o!==r.target){const g=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,g,o);if(this.dispatchEvent(m,"pointerout"),n&&this.dispatchEvent(m,"mouseout"),!r.composedPath().includes(o)){const y=this.createPointerEvent(e,"pointerleave",o);for(y.eventPhase=y.AT_TARGET;y.target&&!r.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(m)}if(o!==r.target){const g=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(r,g);this.dispatchEvent(m,"pointerover"),n&&this.dispatchEvent(m,"mouseover");let y=o==null?void 0:o.parent;for(;y&&y!==this.rootTarget.parent&&y!==r.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const _=this.clonePointerEvent(r,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==o&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(m)}const l=[],a=(d=this.enableGlobalMoveEvents)!=null?d:!0;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&l.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&l.push("globaltouchmove")),n&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&l.push("globalmousemove"),this.cursor=(f=r.target)==null?void 0:f.cursor),l.length>0&&this.all(r,l),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var l;if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(l=n.target)==null?void 0:l.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(r.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const l=this.createPointerEvent(e,"pointerleave",s);for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==this.rootTarget.parent;)l.currentTarget=l.target,this.notifyTarget(l),n&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;r.overTargets=null,this.freeEvent(o),this.freeEvent(l)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let l=o;if(o&&!n.composedPath().includes(o)){let a=o;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete s.pressTargetsByButton[e.button],l=a}if(l){const a=this.clonePointerEvent(n,"click");a.target=l,a.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=s.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const d=a.button===2;this.dispatchEvent(a,d?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Qi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let o=n;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof yc)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){var o;const s=this.allocateEvent(Qi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=(o=n!=null?n:this.hitTest(s.global.x,s.global.y))!=null?o:this._hitElements[0],typeof r=="string"&&(s.type=r),s}createWheelEvent(e){const r=this.allocateEvent(yc);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Qi);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Qi&&r instanceof Qi&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof wm&&r instanceof wm&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,o=n.length;s<o&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(r,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const vle=1,yle={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},dT=class hT{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new S5(null),Sl.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Qi(null),this.rootWheelEvent=new yc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...hT.defaultEventFeatures},{set:(r,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),r[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var s,o;const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,hT._defaultEventMode=(s=e.eventMode)!=null?s:"auto",Object.assign(this.features,(o=e.eventFeatures)!=null?o:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=r.length;n<s;n++){const o=r[n],l=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Sl.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,l=s.length;o<l;o++){const a=this.bootstrapEvent(this.rootPointerEvent,s[o]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Sl.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Sl.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Sl.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(r-s.left)*(this.domElement.width/s.width)*o,e.y=(n-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const o=e.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,r.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=vle),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=yle[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};dT.extension={name:"events",type:[Te.RendererSystem,Te.CanvasRendererSystem]},dT.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let B1=dT;ze.add(B1);function bk(t){return t==="dynamic"||t==="static"}const C5={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return(t=this._internalInteractive)!=null?t:bk(B1.defaultEventMode)},set interactive(t){it("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return(t=this._internalEventMode)!=null?t:B1.defaultEventMode},set eventMode(t){this._internalInteractive=bk(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,s)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof Df))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};cr.mixin(C5);const A5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};cr.mixin(A5);const _le=9,d0=100,xle=0,wle=0,Ek=2,Sk=1,ble=-1e3,Ele=-1e3,Sle=2;class vR{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(zs.tablet||zs.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="".concat(d0,"px"),r.style.height="".concat(d0,"px"),r.style.position="absolute",r.style.top="".concat(xle,"px"),r.style.left="".concat(wle,"px"),r.style.zIndex=Ek.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat(Sk,"px"),e.style.height="".concat(Sk,"px"),e.style.position="absolute",e.style.top="".concat(ble,"px"),e.style.left="".concat(Ele,"px"),e.style.zIndex=Sle.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(zs.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:l,height:a,resolution:c}=this.renderer,d=s/l*c,f=o/a*c;let g=this.div;g.style.left="".concat(r,"px"),g.style.top="".concat(n,"px"),g.style.width="".concat(l,"px"),g.style.height="".concat(a,"px");for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,mc(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{g=y._accessibleDiv;let _=y.hitArea;const u=y.worldTransform;y.hitArea?(g.style.left="".concat((u.tx+_.x*u.a)*d,"px"),g.style.top="".concat((u.ty+_.y*u.d)*f,"px"),g.style.width="".concat(_.width*u.a*d,"px"),g.style.height="".concat(_.height*u.d*f,"px")):(_=y.getBounds(),this.capHitArea(_),g.style.left="".concat(_.x*d,"px"),g.style.top="".concat(_.y*f,"px"),g.style.width="".concat(_.width*d,"px"),g.style.height="".concat(_.height*f,"px"),g.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(g.title=y.accessibleTitle),g.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&g.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==g.title||y.tabIndex!==g.tabIndex)&&(g.title=y.accessibleTitle,g.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="".concat(d0,"px"),r.style.height="".concat(d0,"px"),r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Ek.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new Df(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,r.forEach(l=>s.dispatchEvent(o,l))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===_le&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}vR.extension={name:"accessibility",type:[Te.RendererPlugin,Te.CanvasRendererPlugin]};ze.add(vR);const T5=class fT{constructor(e){this.stage=new gi,e=Object.assign({forceCanvas:!1},e),this.renderer=u5(e),fT._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=fT._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};T5._plugins=[];let D5=T5;ze.handleByList(Te.Application,D5._plugins);class yR{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;r=s,n=o}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}yR.extension=Te.Application;ze.add(yR);const Ck={loader:Te.LoadParser,resolver:Te.ResolveParser,cache:Te.CacheParser,detection:Te.DetectionParser};ze.handle(Te.Asset,t=>{const e=t.ref;Object.entries(Ck).filter(([r])=>!!e[r]).forEach(([r,n])=>{var s;return ze.add(Object.assign(e[r],{extension:(s=e[r].extension)!=null?s:n}))})},t=>{const e=t.ref;Object.keys(Ck).filter(r=>!!e[r]).forEach(r=>ze.remove(e[r]))});class Cle{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Qc(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}function Xa(t,e){const r=t.split("?")[0],n=jr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const ls=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),M1=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};function P5(t,e,r,n,s){const o=e[r];for(let l=0;l<o.length;l++){const a=o[l];r<e.length-1?P5(t.replace(n[r],a),e,r+1,n,s):s.push(t.replace(n[r],a))}}function R5(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(o=>{const l=o.substring(1,o.length-1).split(",");s.push(l)}),P5(t,s,0,r,n)}else n.push(t);return n}const bm=t=>!Array.isArray(t);class Ale{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),r}set(e,r){const n=ls(e);let s;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}s||(s={},n.forEach(a=>{s[a]=r}));const o=Object.keys(s),l={cacheKeys:o,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,l)}),o.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,s[a])}),r instanceof ke){const a=r;n.forEach(c=>{a.baseTexture!==ke.EMPTY.baseTexture&&ct.addToCache(a.baseTexture,c),ke.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Cl=new Ale;class Tle{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var l,a;let s=null,o=null;if(r.loadParser&&(o=this._parserHash[r.loadParser],o||console.warn('[Assets] specified load parser "'.concat(r.loadParser,'" not found while loading ').concat(e))),!o){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((l=d.test)!=null&&l.call(d,e,r,this))){o=d;break}}if(!o)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await o.load(e,r,this),n.parser=o;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((a=d.testParse)==null?void 0:a.call(d,s,r,this))&&(s=await d.parse(s,r,this)||s,n.parser=d)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},o=bm(e),l=ls(e,d=>({alias:[d],src:d})),a=l.length,c=l.map(async d=>{const f=jr.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,d)),s[d.src]=await this.promiseCache[f].promise,r&&r(++n/a)}catch(g){throw delete this.promiseCache[f],delete s[d.src],new Error("[Loader.load] Failed to load ".concat(f,".\n").concat(g))}});return await Promise.all(c),o?s[l[0].src]:s}async unload(e){const r=ls(e,n=>({alias:[n],src:n})).map(async n=>{var l,a;const s=jr.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;delete this.promiseCache[s],(a=(l=o.parser)==null?void 0:l.unload)==null||a.call(l,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn('[Assets] loadParser name conflict "'.concat(r.name,'"')),{...e,[r.name]:r}),{})}}var Ts=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Ts||{});const Dle=".json",Ple="application/json",I5={extension:{type:Te.LoadParser,priority:Ts.Low},name:"loadJson",test(t){return Qc(t,Ple)||Xa(t,Dle)},async load(t){return await(await Fe.ADAPTER.fetch(t)).json()}};ze.add(I5);const Rle=".txt",Ile="text/plain",O5={name:"loadTxt",extension:{type:Te.LoadParser,priority:Ts.Low},test(t){return Qc(t,Ile)||Xa(t,Rle)},async load(t){return await(await Fe.ADAPTER.fetch(t)).text()}};ze.add(O5);const Ole=["normal","bold","100","200","300","400","500","600","700","800","900"],Ble=[".ttf",".otf",".woff",".woff2"],Mle=["font/ttf","font/otf","font/woff","font/woff2"],Fle=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function B5(t){const e=jr.extname(t),r=jr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=r.length>0;for(const o of r)if(!o.match(Fle)){n=!1;break}let s=r.join(" ");return n||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}const kle=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Lle(t){return kle.test(t)?t:encodeURI(t)}const M5={extension:{type:Te.LoadParser,priority:Ts.Low},name:"loadWebFont",test(t){return Qc(t,Mle)||Xa(t,Ble)},async load(t,e){var n,s,o,l,a,c;const r=Fe.ADAPTER.getFontFaceSet();if(r){const d=[],f=(s=(n=e.data)==null?void 0:n.family)!=null?s:B5(t),g=(a=(l=(o=e.data)==null?void 0:o.weights)==null?void 0:l.filter(y=>Ole.includes(y)))!=null?a:["normal"],m=(c=e.data)!=null?c:{};for(let y=0;y<g.length;y++){const _=g[y],u=new FontFace(f,"url(".concat(Lle(t),")"),{...m,weight:_});await u.load(),r.add(u),d.push(u)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Fe.ADAPTER.getFontFaceSet().delete(e))}};ze.add(M5);let Ak=0,nS;const Nle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",Ule={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat(Nle,"');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},$le={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let iS;class jle{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([Ule.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",s=>{n.terminate(),URL.revokeObjectURL(r),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){nS===void 0&&(nS=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<nS&&(iS||(iS=URL.createObjectURL(new Blob([$le.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(iS),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,o)=>{this.queue.push({id:e,arguments:r,resolve:s,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[Ak]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Ak++,id:n})}}const Tk=new jle;function Pf(t,e,r){t.resource.internal=!0;const n=new ke(t),s=()=>{delete e.promiseCache[r],Cl.has(r)&&Cl.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const zle=[".jpeg",".jpg",".png",".webp",".avif"],Gle=["image/jpeg","image/png","image/webp","image/avif"];async function F5(t){const e=await Fe.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}const Uv={name:"loadTextures",extension:{type:Te.LoadParser,priority:Ts.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Qc(t,Gle)||Xa(t,zle)},async load(t,e,r){var a,c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await Tk.isImageBitmapSupported()?s=await Tk.loadImageBitmap(t):s=await F5(t):s=await new Promise((d,f)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=t,g.complete?d(g):(g.onload=()=>d(g),g.onerror=m=>f(m))});const o={...e.data};(a=o.resolution)!=null||(o.resolution=ko(t)),n&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const l=new ct(s,o);return l.resource.src=t,Pf(l,r,t)},unload(t){t.destroy(!0)}};ze.add(Uv);const Vle=".svg",Hle="image/svg+xml",k5={extension:{type:Te.LoadParser,priority:Ts.High},name:"loadSVG",test(t){return Qc(t,Hle)||Xa(t,Vle)},async testParse(t){return R1.test(t)},async parse(t,e,r){var o;const n=new R1(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const s=new ct(n,{resolution:ko(t),...e==null?void 0:e.data});return s.resource.src=e.src,Pf(s,r,e.src)},async load(t,e){return(await Fe.ADAPTER.fetch(t)).text()},unload:Uv.unload};ze.add(k5);const Wle=[".mp4",".m4v",".webm",".ogv"],Kle=["video/mp4","video/webm","video/ogg"],L5={name:"loadVideo",extension:{type:Te.LoadParser,priority:Ts.High},config:{defaultAutoPlay:!0},test(t){return Qc(t,Kle)||Xa(t,Wle)},async load(t,e,r){var l;let n;const s=await(await Fe.ADAPTER.fetch(t)).blob(),o=URL.createObjectURL(s);try{const a={autoPlay:this.config.defaultAutoPlay,...(l=e==null?void 0:e.data)==null?void 0:l.resourceOptions},c=new mR(o,a);await c.load();const d=new ct(c,{alphaMode:await yj(),resolution:ko(t),...e==null?void 0:e.data});d.resource.src=t,n=Pf(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(a){throw URL.revokeObjectURL(o),a}return n},unload(t){t.destroy(!0)}};ze.add(L5);class Xle{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>"".concat(e).concat(this._bundleIdConnector).concat(r),extractAssetIdFromBundle:(e,r)=>r.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var r,n,s;if(this._bundleIdConnector=(r=e.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=e.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(s=e.extractAssetIdFromBundle)!=null?s:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r[n]))).join("&")}}getAlias(e){const{alias:r,name:n,src:s,srcs:o}=e;return ls(r||n||s||o,l=>{var a;return typeof l=="string"?l:Array.isArray(l)?l.map(c=>{var d,f;return(f=(d=c==null?void 0:c.src)!=null?d:c==null?void 0:c.srcs)!=null?f:c}):l!=null&&l.src||l!=null&&l.srcs?(a=l.src)!=null?a:l.srcs:l},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(s=>{var c,d;const o=(c=s.src)!=null?c:s.srcs,l=(d=s.alias)!=null?d:s.name;let a;if(typeof l=="string"){const f=this._createBundleAssetId(e,l);n.push(f),a=[l,f]}else{const f=l.map(g=>this._createBundleAssetId(e,g));n.push(...f),a=[...l,...f]}this.add({...s,alias:a,src:o})}):Object.keys(r).forEach(s=>{var l;const o=[s,this._createBundleAssetId(e,s)];if(typeof r[s]=="string")this.add({alias:o,src:r[s]});else if(Array.isArray(r[s]))this.add({alias:o,src:r[s]});else{const a=r[s],c=(l=a.src)!=null?l:a.srcs;this.add({...a,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[e]=n}add(e,r,n,s,o){const l=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(it("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),l.push({alias:e,src:r,data:n,format:s,loadParser:o})):Array.isArray(e)?l.push(...e):l.push(e);let a;a=c=>{this.hasKey(c)&&console.warn("[Resolver] already has key: ".concat(c," overwriting"))},ls(l).forEach(c=>{const{src:d,srcs:f}=c;let{data:g,format:m,loadParser:y}=c;const _=ls(d||f).map(p=>typeof p=="string"?R5(p):Array.isArray(p)?p:[p]),u=this.getAlias(c);Array.isArray(u)?u.forEach(a):a(u);const h=[];_.forEach(p=>{p.forEach(v=>{var w,b,S;let x={};if(typeof v!="object"){x.src=v;for(let C=0;C<this._parsers.length;C++){const A=this._parsers[C];if(A.test(v)){x=A.parse(v);break}}}else g=(w=v.data)!=null?w:g,m=(b=v.format)!=null?b:m,y=(S=v.loadParser)!=null?S:y,x={...x,...v};if(!u)throw new Error("[Resolver] alias is undefined for this asset: ".concat(x.src));x=this.buildResolvedAsset(x,{aliases:u,data:g,format:m,loadParser:y}),h.push(x)})}),u.forEach(p=>{this._assetMap[p]=h})})}resolveBundle(e){const r=bm(e);e=ls(e);const n={};return e.forEach(s=>{const o=this._bundles[s];if(o){const l=this.resolve(o),a={};for(const c in l){const d=l[c];a[this._extractAssetIdFromBundle(s,c)]=d}n[s]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=bm(e);e=ls(e);const n={};return e.forEach(s=>{var o;if(!this._resolverHash[s])if(this._assetMap[s]){let l=this._assetMap[s];const a=l[0],c=this._getPreferredOrder(l);c==null||c.priority.forEach(d=>{c.params[d].forEach(f=>{const g=l.filter(m=>m[d]?m[d]===f:!1);g.length&&(l=g)})}),this._resolverHash[s]=(o=l[0])!=null?o:a}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return"".concat(e).concat(r).concat(this._defaultSearchParams)}buildResolvedAsset(e,r){var a;const{aliases:n,data:s,loadParser:o,format:l}=r;return(this._basePath||this._rootPath)&&(e.src=jr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=(a=n!=null?n:e.alias)!=null?a:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o!=null?o:e.loadParser,e.format=l!=null?l:jr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class N5{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Xle,this.loader=new Tle,this.cache=Cl,this._backgroundLoader=new Cle(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,l,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=(l=(o=e.texturePreference)==null?void 0:o.resolution)!=null?l:1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,s,o){this.resolver.add(e,r,n,s,o)}async load(e,r){this._initialized||await this.init();const n=bm(e),s=ls(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(d=>!this.resolver.hasKey(d))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),o=this.resolver.resolve(s),l=await this._mapLoadToResolve(o,r);return n?l[s[0]]:l}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},l=Object.keys(s);let a=0,c=0;const d=()=>{r==null||r(++a/c)},f=l.map(g=>{const m=s[g];return c+=Object.keys(m).length,this._mapLoadToResolve(m,d).then(y=>{o[g]=y})});return await Promise.all(f),n?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Cl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Cl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(n,r);this._backgroundLoader.active=!0;const l={};return n.forEach((a,c)=>{const d=o[a.src],f=[a.src];a.alias&&f.push(...a.alias),l[s[c]]=d,Cl.set(f,d)}),l}async unload(e){this._initialized||await this.init();const r=ls(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=ls(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Cl.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}get preferWorkers(){return Uv.config.preferWorkers}set preferWorkers(e){it("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Wp=new N5;ze.handleByList(Te.LoadParser,Wp.loader.parsers).handleByList(Te.ResolveParser,Wp.resolver.parsers).handleByList(Te.CacheParser,Wp.cache.parsers).handleByList(Te.DetectionParser,Wp.detections);const U5={extension:Te.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ke),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,o)=>{r[n+(o===0?"":o+1)]=s})}),r}};ze.add(U5);async function $5(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(e){return!1}return!0}return!1}const j5={extension:{type:Te.DetectionParser,priority:1},test:async()=>$5("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ze.add(j5);const z5={extension:{type:Te.DetectionParser,priority:0},test:async()=>$5("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ze.add(z5);const Dk=["png","jpg","jpeg"],G5={extension:{type:Te.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Dk],remove:async t=>t.filter(e=>!Dk.includes(e))};ze.add(G5);const Yle="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function _R(t){return Yle?!1:document.createElement("video").canPlayType(t)!==""}const V5={extension:{type:Te.DetectionParser,priority:0},test:async()=>_R("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ze.add(V5);const H5={extension:{type:Te.DetectionParser,priority:0},test:async()=>_R("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ze.add(H5);const W5={extension:{type:Te.DetectionParser,priority:0},test:async()=>_R("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ze.add(W5);const K5={extension:Te.ResolveParser,test:Uv.test,parse:t=>{var e,r;return{resolution:parseFloat((r=(e=Fe.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?r:"1"),format:jr.extname(t).slice(1),src:t}}};ze.add(K5);var ni=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ni||{});const Em={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let ia,Gd;function Pk(){Gd={s3tc:ia.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ia.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ia.getExtension("WEBGL_compressed_texture_etc"),etc1:ia.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ia.getExtension("WEBGL_compressed_texture_pvrtc")||ia.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ia.getExtension("WEBGL_compressed_texture_atc"),astc:ia.getExtension("WEBGL_compressed_texture_astc")}}const X5={extension:{type:Te.DetectionParser,priority:2},test:async()=>{const t=Fe.ADAPTER.createCanvas().getContext("webgl");return t?(ia=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Gd||Pk();const e=[];for(const r in Gd)Gd[r]&&e.push(r);return[...e,...t]},remove:async t=>(Gd||Pk(),t.filter(e=>!(e in Gd)))};ze.add(X5);class Y5 extends Mv{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,s;typeof e=="string"?(n=e,s=new Uint8Array):(n=null,s=e),super(s,r),this.origin=n,this.buffer=s?new C1(s):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new C1(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Xl extends Y5{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Xl._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Xl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,l=this.levels;o<l;o++){const{levelID:a,levelWidth:c,levelHeight:d,levelBuffer:f}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,a,this.format,c,d,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Xl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,s,o,l,a){const c=new Array(n);let d=e.byteOffset,f=l,g=a,m=f+s-1&~(s-1),y=g+o-1&~(o-1),_=m*y*Em[r];for(let u=0;u<n;u++)c[u]={levelID:u,levelWidth:n>1?f:m,levelHeight:n>1?g:y,levelBuffer:new Uint8Array(e.buffer,d,_)},d+=_,f=f>>1||1,g=g>>1||1,m=f+s-1&~(s-1),y=g+o-1&~(o-1),_=m*y*Em[r];return c}}const sS=4,h0=124,qle=32,Rk=20,Zle=542327876,f0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Qle={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},p0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Jle=1,eue=2,tue=4,rue=64,nue=512,iue=131072,sue=827611204,oue=861165636,aue=894720068,lue=808540228,uue=4,cue={[sue]:ni.COMPRESSED_RGBA_S3TC_DXT1_EXT,[oue]:ni.COMPRESSED_RGBA_S3TC_DXT3_EXT,[aue]:ni.COMPRESSED_RGBA_S3TC_DXT5_EXT},due={70:ni.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:ni.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:ni.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:ni.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:ni.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:ni.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:ni.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:ni.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:ni.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function q5(t){const e=new Uint32Array(t);if(e[0]!==Zle)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,h0/Uint32Array.BYTES_PER_ELEMENT),n=r[f0.HEIGHT],s=r[f0.WIDTH],o=r[f0.MIPMAP_COUNT],l=new Uint32Array(t,f0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,qle/Uint32Array.BYTES_PER_ELEMENT),a=l[Jle];if(a&tue){const c=l[Qle.FOURCC];if(c!==lue){const v=cue[c],x=sS+h0,w=new Uint8Array(t,x);return[new Xl(w,{format:v,width:s,height:n,levels:o})]}const d=sS+h0,f=new Uint32Array(e.buffer,d,Rk/Uint32Array.BYTES_PER_ELEMENT),g=f[p0.DXGI_FORMAT],m=f[p0.RESOURCE_DIMENSION],y=f[p0.MISC_FLAG],_=f[p0.ARRAY_SIZE],u=due[g];if(u===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(g));if(y===uue)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const h=new Array,p=sS+h0+Rk;if(_===1)h.push(new Uint8Array(t,p));else{const v=Em[u];let x=0,w=s,b=n;for(let C=0;C<o;C++){const A=Math.max(1,w+3&-4),T=Math.max(1,b+3&-4),P=A*T*v;x+=P,w=w>>>1,b=b>>>1}let S=p;for(let C=0;C<_;C++)h.push(new Uint8Array(t,S,x)),S+=x}return h.map(v=>new Xl(v,{format:u,width:s,height:n,levels:o}))}throw a&rue?new Error("DDSParser does not support uncompressed texture data."):a&nue?new Error("DDSParser does not supported YUV uncompressed texture data."):a&iue?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&eue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Ik=[171,75,84,88,32,49,49,187,13,10,26,10],hue=67305985,Bs={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},pT=64,gT={[He.UNSIGNED_BYTE]:1,[He.UNSIGNED_SHORT]:2,[He.INT]:4,[He.UNSIGNED_INT]:4,[He.FLOAT]:4,[He.HALF_FLOAT]:8},Z5={[ye.RGBA]:4,[ye.RGB]:3,[ye.RG]:2,[ye.RED]:1,[ye.LUMINANCE]:1,[ye.LUMINANCE_ALPHA]:2,[ye.ALPHA]:1},Q5={[He.UNSIGNED_SHORT_4_4_4_4]:2,[He.UNSIGNED_SHORT_5_5_5_1]:2,[He.UNSIGNED_SHORT_5_6_5]:2};function J5(t,e,r=!1){const n=new DataView(e);if(!fue(t,n))return null;const s=n.getUint32(Bs.ENDIANNESS,!0)===hue,o=n.getUint32(Bs.GL_TYPE,s),l=n.getUint32(Bs.GL_FORMAT,s),a=n.getUint32(Bs.GL_INTERNAL_FORMAT,s),c=n.getUint32(Bs.PIXEL_WIDTH,s),d=n.getUint32(Bs.PIXEL_HEIGHT,s)||1,f=n.getUint32(Bs.PIXEL_DEPTH,s)||1,g=n.getUint32(Bs.NUMBER_OF_ARRAY_ELEMENTS,s)||1,m=n.getUint32(Bs.NUMBER_OF_FACES,s),y=n.getUint32(Bs.NUMBER_OF_MIPMAP_LEVELS,s),_=n.getUint32(Bs.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(g!==1)throw new Error("WebGL does not support array textures");const u=4,h=4,p=c+3&-4,v=d+3&-4,x=new Array(g);let w=c*d;o===0&&(w=p*v);let b;if(o!==0?gT[o]?b=gT[o]*Z5[l]:b=Q5[o]:b=Em[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?gue(n,_,s):null;let C=w*b,A=c,T=d,P=p,B=v,D=pT+_;for(let R=0;R<y;R++){const O=n.getUint32(D,s);let k=D+4;for(let j=0;j<g;j++){let U=x[j];U||(U=x[j]=new Array(y)),U[R]={levelID:R,levelWidth:y>1||o!==0?A:P,levelHeight:y>1||o!==0?T:B,levelBuffer:new Uint8Array(e,k,C)},k+=C}D+=O+4,D=D%4!==0?D+4-D%4:D,A=A>>1||1,T=T>>1||1,P=A+u-1&~(u-1),B=T+h-1&~(h-1),C=P*B*b}return o!==0?{uncompressed:x.map(R=>{let O=R[0].levelBuffer,k=!1;return o===He.FLOAT?O=new Float32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4):o===He.UNSIGNED_INT?(k=!0,O=new Uint32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)):o===He.INT&&(k=!0,O=new Int32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)),{resource:new Mv(O,{width:R[0].levelWidth,height:R[0].levelHeight}),type:o,format:k?pue(l):l}}),kvData:S}:{compressed:x.map(R=>new Xl(null,{format:a,width:c,height:d,levels:y,levelBuffers:R})),kvData:S}}function fue(t,e){for(let r=0;r<Ik.length;r++)if(e.getUint8(r)!==Ik[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}function pue(t){switch(t){case ye.RGBA:return ye.RGBA_INTEGER;case ye.RGB:return ye.RGB_INTEGER;case ye.RG:return ye.RG_INTEGER;case ye.RED:return ye.RED_INTEGER;default:return t}}function gue(t,e,r){const n=new Map;let s=0;for(;s<e;){const o=t.getUint32(pT+s,r),l=pT+s+4,a=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<o&&t.getUint8(l+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,l,c)),f=new DataView(t.buffer,l+c+1,o-c-1);n.set(d,f),s+=4+o+a}return n}const ez={extension:{type:Te.LoadParser,priority:Ts.High},name:"loadDDS",test(t){return Xa(t,".dds")},async load(t,e,r){const n=await(await Fe.ADAPTER.fetch(t)).arrayBuffer(),s=q5(n).map(o=>{const l=new ct(o,{mipmap:to.OFF,alphaMode:Wn.NO_PREMULTIPLIED_ALPHA,resolution:ko(t),...e.data});return Pf(l,r,t)});return s.length===1?s[0]:s},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ze.add(ez);const tz={extension:{type:Te.LoadParser,priority:Ts.High},name:"loadKTX",test(t){return Xa(t,".ktx")},async load(t,e,r){const n=await(await Fe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:l}=J5(t,n),a=s!=null?s:o,c={mipmap:to.OFF,alphaMode:Wn.NO_PREMULTIPLIED_ALPHA,resolution:ko(t),...e.data},d=a.map(f=>{var y;a===o&&Object.assign(c,{type:f.type,format:f.format});const g=(y=f.resource)!=null?y:f,m=new ct(g,c);return m.ktxKeyValueData=l,Pf(m,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ze.add(tz);const rz={extension:Te.ResolveParser,test:t=>{const e=jr.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n,s,o;const e=jr.extname(t).slice(1);if(e==="ktx"){const l=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(l.some(a=>t.endsWith(a)))return{resolution:parseFloat((n=(r=Fe.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:l.find(a=>t.endsWith(a)),src:t}}return{resolution:parseFloat((o=(s=Fe.RETINA_PREFIX.exec(t))==null?void 0:s[1])!=null?o:"1"),format:e,src:t}}};ze.add(rz);const g0=new lt,mue=4,nz=class Kp{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,s){const o=new Image;return o.src=await this.base64(e,r,n,s),o}async base64(e,r,n,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((l,a)=>{o.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>l(d.result),d.onerror=a,d.readAsDataURL(c)},r,n)});if(o.toDataURL!==void 0)return o.toDataURL(r,n);if(o.convertToBlob!==void 0){const l=await o.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const d=new FileReader;d.onload=()=>a(d.result),d.onerror=c,d.readAsDataURL(l)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:s,height:o,flipY:l,premultipliedAlpha:a}=this._rawPixels(e,r);l&&Kp._flipY(n,s,o),a&&Kp._unpremultiplyAlpha(n);const c=new Tj(s,o,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,o);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:s,height:o,flipY:l,premultipliedAlpha:a}=this._rawPixels(e,r);return l&&Kp._flipY(n,s,o),a&&Kp._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,o=!1,l=!1,a,c=!1;e&&(e instanceof Su?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(g0.width=r.width,g0.height=r.height,r=g0)));const d=n.gl;if(a){if(s=a.baseTexture.resolution,r=r!=null?r:a.frame,o=!1,l=a.baseTexture.alphaMode>0&&a.baseTexture.format===ye.RGBA,!c){n.renderTexture.bind(a);const y=a.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else s=n.resolution,r||(r=g0,r.width=n.width/s,r.height=n.height/s),o=!0,l=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*s),1),g=Math.max(Math.round(r.height*s),1),m=new Uint8Array(mue*f*g);return d.readPixels(Math.round(r.x*s),Math.round(r.y*s),f,g,d.RGBA,d.UNSIGNED_BYTE,m),c&&(a==null||a.destroy(!0)),{pixels:m,width:f,height:g,flipY:o,premultipliedAlpha:l}}destroy(){this.renderer=null}static _flipY(e,r,n){const s=r<<2,o=n>>1,l=new Uint8Array(s);for(let a=0;a<o;a++){const c=a*s,d=(n-a-1)*s;l.set(e.subarray(c,c+s)),e.copyWithin(c,d,d+s),e.set(l,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const s=e[n+3];if(s!==0){const o=255.001/s;e[n]=e[n]*o+.5,e[n+1]=e[n+1]*o+.5,e[n+2]=e[n+2]*o+.5}}}};nz.extension={name:"extract",type:Te.RendererSystem};let iz=nz;ze.add(iz);const Sm={build(t){const e=t.points;let r,n,s,o,l,a;if(t.type===ln.CIRC){const _=t.shape;r=_.x,n=_.y,l=a=_.radius,s=o=0}else if(t.type===ln.ELIP){const _=t.shape;r=_.x,n=_.y,l=_.width,a=_.height,s=o=0}else{const _=t.shape,u=_.width/2,h=_.height/2;r=_.x+u,n=_.y+h,l=a=Math.max(0,Math.min(_.radius,Math.min(u,h))),s=u-l,o=h-a}if(!(l>=0&&a>=0&&s>=0&&o>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(l+a)),d=c*8+(s?4:0)+(o?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+o,e[2]=e[4]=r-s,e[5]=e[7]=n-o;return}let f=0,g=c*4+(s?2:0)+2,m=g,y=d;{const _=s+l,u=o,h=r+_,p=r-_,v=n+u;if(e[f++]=h,e[f++]=v,e[--g]=v,e[--g]=p,o){const x=n-u;e[m++]=p,e[m++]=x,e[--y]=x,e[--y]=h}}for(let _=1;_<c;_++){const u=Math.PI/2*(_/c),h=s+Math.cos(u)*l,p=o+Math.sin(u)*a,v=r+h,x=r-h,w=n+p,b=n-p;e[f++]=v,e[f++]=w,e[--g]=w,e[--g]=x,e[m++]=x,e[m++]=b,e[--y]=b,e[--y]=v}{const _=s,u=o+a,h=r+_,p=r-_,v=n+u,x=n-u;e[f++]=h,e[f++]=v,e[--y]=x,e[--y]=h,s&&(e[f++]=p,e[f++]=v,e[--y]=x,e[--y]=p)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(r.length===0)return;let o=n.length/2;const l=o;let a,c;if(t.type!==ln.RREC){const f=t.shape;a=f.x,c=f.y}else{const f=t.shape;a=f.x+f.width/2,c=f.y+f.height/2}const d=t.matrix;n.push(t.matrix?d.a*a+d.c*c+d.tx:a,t.matrix?d.b*a+d.d*c+d.ty:c),o++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),s.push(o++,l,o);s.push(l+1,l,o)}};function Ok(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let s=0,o=t[r-2],l=t[r-1];s<r;s+=2){const a=t[s],c=t[s+1];n+=(a-o)*(c+l),o=a,l=c}if(!e&&n>0||e&&n<=0){const s=r/2;for(let o=s+s%2;o<r;o+=2){const l=r-o-2,a=r-o-1,c=o,d=o+1;[t[l],t[c]]=[t[c],t[l]],[t[a],t[d]]=[t[d],t[a]]}}}const xR={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,s=e.points,o=e.indices;if(r.length>=6){Ok(r,!1);const l=[];for(let d=0;d<n.length;d++){const f=n[d];Ok(f.points,!0),l.push(r.length/2),r=r.concat(f.points)}const a=J6(r,l,2);if(!a)return;const c=s.length/2;for(let d=0;d<a.length;d+=3)o.push(a[d]+c),o.push(a[d+1]+c),o.push(a[d+2]+c);for(let d=0;d<r.length;d++)s.push(r[d])}}},sz={build(t){const e=t.shape,r=e.x,n=e.y,s=e.width,o=e.height,l=t.points;l.length=0,s>=0&&o>=0&&l.push(r,n,r+s,n,r+s,n+o,r,n+o)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const s=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},oz={build(t){Sm.build(t)},triangulate(t,e){Sm.triangulate(t,e)}};var Ti=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Ti||{}),xa=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(xa||{});const iu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},vue=iu;class mT{static curveTo(e,r,n,s,o,l){const a=l[l.length-2],c=l[l.length-1]-r,d=a-e,f=s-r,g=n-e,m=Math.abs(c*g-d*f);if(m<1e-8||o===0)return(l[l.length-2]!==e||l[l.length-1]!==r)&&l.push(e,r),null;const y=c*c+d*d,_=f*f+g*g,u=c*f+d*g,h=o*Math.sqrt(y)/m,p=o*Math.sqrt(_)/m,v=h*u/y,x=p*u/_,w=h*g+p*d,b=h*f+p*c,S=d*(p+v),C=c*(p+v),A=g*(h+x),T=f*(h+x),P=Math.atan2(C-b,S-w),B=Math.atan2(T-b,A-w);return{cx:w+e,cy:b+r,radius:o,startAngle:P,endAngle:B,anticlockwise:d*f>g*c}}static arc(e,r,n,s,o,l,a,c,d){const f=a-l,g=iu._segmentsCount(Math.abs(f)*o,Math.ceil(Math.abs(f)/gm)*40),m=f/(g*2),y=m*2,_=Math.cos(m),u=Math.sin(m),h=g-1,p=h%1/h;for(let v=0;v<=h;++v){const x=v+p*v,w=m+l+y*x,b=Math.cos(w),S=-Math.sin(w);d.push((_*b+u*S)*o+n,(_*-S+u*b)*o+s)}}}class az{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Ow{static curveLength(e,r,n,s,o,l,a,c){let d=0,f=0,g=0,m=0,y=0,_=0,u=0,h=0,p=0,v=0,x=0,w=e,b=r;for(let S=1;S<=10;++S)f=S/10,g=f*f,m=g*f,y=1-f,_=y*y,u=_*y,h=u*e+3*_*f*n+3*y*g*o+m*a,p=u*r+3*_*f*s+3*y*g*l+m*c,v=w-h,x=b-p,w=h,b=p,d+=Math.sqrt(v*v+x*x);return d}static curveTo(e,r,n,s,o,l,a){const c=a[a.length-2],d=a[a.length-1];a.length-=2;const f=iu._segmentsCount(Ow.curveLength(c,d,e,r,n,s,o,l));let g=0,m=0,y=0,_=0,u=0;a.push(c,d);for(let h=1,p=0;h<=f;++h)p=h/f,g=1-p,m=g*g,y=m*g,_=p*p,u=_*p,a.push(y*c+3*m*p*e+3*g*_*n+u*o,y*d+3*m*p*r+3*g*_*s+u*l)}}function Bk(t,e,r,n,s,o,l,a){const c=t-r*s,d=e-n*s,f=t+r*o,g=e+n*o;let m,y;l?(m=n,y=-r):(m=-n,y=r);const _=c+m,u=d+y,h=f+m,p=g+y;return a.push(_,u,h,p),2}function $u(t,e,r,n,s,o,l,a){const c=r-t,d=n-e;let f=Math.atan2(c,d),g=Math.atan2(s-t,o-e);a&&f<g?f+=Math.PI*2:!a&&f>g&&(g+=Math.PI*2);let m=f;const y=g-f,_=Math.abs(y),u=Math.sqrt(c*c+d*d),h=(15*_*Math.sqrt(u)/Math.PI>>0)+1,p=y/h;if(m+=p,a){l.push(t,e,r,n);for(let v=1,x=m;v<h;v++,x+=p)l.push(t,e,t+Math.sin(x)*u,e+Math.cos(x)*u);l.push(t,e,s,o)}else{l.push(r,n,t,e);for(let v=1,x=m;v<h;v++,x+=p)l.push(t+Math.sin(x)*u,e+Math.cos(x)*u,t,e);l.push(s,o,t,e)}return h*2}function yue(t,e){const r=t.shape;let n=t.points||r.points.slice();const s=e.closePointEps;if(n.length===0)return;const o=t.lineStyle,l=new Ee(n[0],n[1]),a=new Ee(n[n.length-2],n[n.length-1]),c=r.type!==ln.POLY||r.closeStroke,d=Math.abs(l.x-a.x)<s&&Math.abs(l.y-a.y)<s;if(c){n=n.slice(),d&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const U=(l.x+a.x)*.5,N=(a.y+l.y)*.5;n.unshift(U,N),n.push(U,N)}const f=e.points,g=n.length/2;let m=n.length;const y=f.length/2,_=o.width/2,u=_*_,h=o.miterLimit*o.miterLimit;let p=n[0],v=n[1],x=n[2],w=n[3],b=0,S=0,C=-(v-w),A=p-x,T=0,P=0,B=Math.sqrt(C*C+A*A);C/=B,A/=B,C*=_,A*=_;const D=o.alignment,R=(1-D)*2,O=D*2;c||(o.cap===xa.ROUND?m+=$u(p-C*(R-O)*.5,v-A*(R-O)*.5,p-C*R,v-A*R,p+C*O,v+A*O,f,!0)+2:o.cap===xa.SQUARE&&(m+=Bk(p,v,C,A,R,O,!0,f))),f.push(p-C*R,v-A*R,p+C*O,v+A*O);for(let U=1;U<g-1;++U){p=n[(U-1)*2],v=n[(U-1)*2+1],x=n[U*2],w=n[U*2+1],b=n[(U+1)*2],S=n[(U+1)*2+1],C=-(v-w),A=p-x,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=_,A*=_,T=-(w-S),P=x-b,B=Math.sqrt(T*T+P*P),T/=B,P/=B,T*=_,P*=_;const N=x-p,L=v-w,H=x-b,K=S-w,te=N*H+L*K,le=L*H-K*N,ne=le<0;if(Math.abs(le)<.001*Math.abs(te)){f.push(x-C*R,w-A*R,x+C*O,w+A*O),te>=0&&(o.join===Ti.ROUND?m+=$u(x,w,x-C*R,w-A*R,x-T*R,w-P*R,f,!1)+4:m+=2,f.push(x-T*O,w-P*O,x+T*R,w+P*R));continue}const fe=(-C+p)*(-A+w)-(-C+x)*(-A+v),z=(-T+b)*(-P+w)-(-T+x)*(-P+S),Y=(N*z-H*fe)/le,Z=(K*fe-L*z)/le,Q=(Y-x)*(Y-x)+(Z-w)*(Z-w),pe=x+(Y-x)*R,ae=w+(Z-w)*R,Ce=x-(Y-x)*O,Re=w-(Z-w)*O,Ie=Math.min(N*N+L*L,H*H+K*K),tt=ne?R:O,dt=Ie+tt*tt*u,wt=Q<=dt;let $=o.join;if($===Ti.MITER&&Q/u>h&&($=Ti.BEVEL),wt)switch($){case Ti.MITER:{f.push(pe,ae,Ce,Re);break}case Ti.BEVEL:{ne?f.push(pe,ae,x+C*O,w+A*O,pe,ae,x+T*O,w+P*O):f.push(x-C*R,w-A*R,Ce,Re,x-T*R,w-P*R,Ce,Re),m+=2;break}case Ti.ROUND:{ne?(f.push(pe,ae,x+C*O,w+A*O),m+=$u(x,w,x+C*O,w+A*O,x+T*O,w+P*O,f,!0)+4,f.push(pe,ae,x+T*O,w+P*O)):(f.push(x-C*R,w-A*R,Ce,Re),m+=$u(x,w,x-C*R,w-A*R,x-T*R,w-P*R,f,!1)+4,f.push(x-T*R,w-P*R,Ce,Re));break}}else{switch(f.push(x-C*R,w-A*R,x+C*O,w+A*O),$){case Ti.MITER:{ne?f.push(Ce,Re,Ce,Re):f.push(pe,ae,pe,ae),m+=2;break}case Ti.ROUND:{ne?m+=$u(x,w,x+C*O,w+A*O,x+T*O,w+P*O,f,!0)+2:m+=$u(x,w,x-C*R,w-A*R,x-T*R,w-P*R,f,!1)+2;break}}f.push(x-T*R,w-P*R,x+T*O,w+P*O),m+=2}}p=n[(g-2)*2],v=n[(g-2)*2+1],x=n[(g-1)*2],w=n[(g-1)*2+1],C=-(v-w),A=p-x,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=_,A*=_,f.push(x-C*R,w-A*R,x+C*O,w+A*O),c||(o.cap===xa.ROUND?m+=$u(x-C*(R-O)*.5,w-A*(R-O)*.5,x-C*R,w-A*R,x+C*O,w+A*O,f,!1)+2:o.cap===xa.SQUARE&&(m+=Bk(x,w,C,A,R,O,!1,f)));const k=e.indices,j=iu.epsilon*iu.epsilon;for(let U=y;U<m+y-2;++U)p=f[U*2],v=f[U*2+1],x=f[(U+1)*2],w=f[(U+1)*2+1],b=f[(U+2)*2],S=f[(U+2)*2+1],!(Math.abs(p*(w-S)+x*(S-v)+b*(v-w))<j)&&k.push(U,U+1,U+2)}function _ue(t,e){let r=0;const n=t.shape,s=t.points||n.points,o=n.type!==ln.POLY||n.closeStroke;if(s.length===0)return;const l=e.points,a=e.indices,c=s.length/2,d=l.length/2;let f=d;for(l.push(s[0],s[1]),r=1;r<c;r++)l.push(s[r*2],s[r*2+1]),a.push(f,f+1),f++;o&&a.push(f,d)}function vT(t,e){t.lineStyle.native?_ue(t,e):yue(t,e)}class Bw{static curveLength(e,r,n,s,o,l){const a=e-2*n+o,c=r-2*s+l,d=2*n-2*e,f=2*s-2*r,g=4*(a*a+c*c),m=4*(a*d+c*f),y=d*d+f*f,_=2*Math.sqrt(g+m+y),u=Math.sqrt(g),h=2*g*u,p=2*Math.sqrt(y),v=m/u;return(h*_+u*m*(_-p)+(4*y*g-m*m)*Math.log((2*u+v+_)/(v+p)))/(4*h)}static curveTo(e,r,n,s,o){const l=o[o.length-2],a=o[o.length-1],c=iu._segmentsCount(Bw.curveLength(l,a,e,r,n,s));let d=0,f=0;for(let g=1;g<=c;++g){const m=g/c;d=l+(e-l)*m,f=a+(r-a)*m,o.push(d+(e+(n-e)*m-d)*m,f+(r+(s-r)*m-f)*m)}}}const w_={[ln.POLY]:xR,[ln.CIRC]:Sm,[ln.ELIP]:Sm,[ln.RECT]:sz,[ln.RREC]:oz},yT=[],Xp=[];class Cm{constructor(e,r=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=s,this.type=e.type}clone(){return new Cm(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const bd=new Ee,lz=class uz extends W2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new xm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Xp.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),yT.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,s=null){const o=new Cm(e,r,n,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Cm(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const s=r[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,bd):bd.copyFrom(e),s.shape.contains(bd.x,bd.y))){let o=!1;if(s.holes){for(let l=0;l<s.holes.length;l++)if(s.holes[l].shape.contains(bd.x,bd.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],f=d.fillStyle,g=d.lineStyle;w_[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(f.visible||g.visible)&&this.processHoles(d.holes);for(let m=0;m<2;m++){const y=m===0?f:g;if(!y.visible)continue;const _=y.texture.baseTexture,u=this.indices.length,h=this.points.length/2;_.wrapMode=Oo.REPEAT,m===0?this.processFill(d):this.processLine(d);const p=this.points.length/2-h;p!==0&&(n&&!this._compareStyles(s,y)&&(n.end(u,h),n=null),n||(n=yT.pop()||new az,n.begin(y,u,h),this.batches.push(n),s=y),this.addUvs(this.points,e,y.texture,h,p,y.matrix))}}const o=this.indices.length,l=this.points.length/2;if(n&&n.end(o,l),this.batches.length===0){this.batchable=!0;return}const a=l>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],s=n.fillStyle,o=n.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const s=e[r];for(let o=0;o<s.size;o++){const l=s.start+o;this.indicesUint16[l]=this.indicesUint16[l]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<uz.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ct._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),Xp.push(this.drawCalls[g]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let s=Xp.pop();s||(s=new T1,s.texArray=new D1),s.texArray.count=0,s.start=0,s.size=0,s.type=js.TRIANGLES;let o=0,l=null,a=0,c=!1,d=js.TRIANGLES,f=0;this.drawCalls.push(s);for(let g=0;g<this.batches.length;g++){const m=this.batches[g],y=8,_=m.style,u=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,d=c?js.LINES:js.TRIANGLES,l=null,o=y,e++),l!==u&&(l=u,u._batchEnabled!==e&&(o===y&&(e++,o=0,s.size>0&&(s=Xp.pop(),s||(s=new T1,s.texArray=new D1),this.drawCalls.push(s)),s.start=f,s.size=0,s.texArray.count=0,s.type=d),u.touched=1,u._batchEnabled=e,u._batchLocation=o,u.wrapMode=Oo.REPEAT,s.texArray.elements[s.texArray.count++]=u,o++)),s.size+=m.size,f+=m.size,a=u._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}ct._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),l=new Float32Array(o),a=new Uint32Array(o);let c=0;for(let d=0;d<e.length/2;d++)l[c++]=e[d*2],l[c++]=e[d*2+1],l[c++]=r[d*2],l[c++]=r[d*2+1],a[c++]=n[d],l[c++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?xR.triangulate(e,this):w_[e.type].triangulate(e,this)}processLine(e){vT(e,this);for(let r=0;r<e.holes.length;r++)vT(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];w_[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const s=e[n*2],o=e[n*2+1];e[n*2]=r.a*s+r.c*o+r.tx,e[n*2+1]=r.b*s+r.d*o+r.ty}}addColors(e,r,n,s,o=0){const l=Pt.shared.setValue(r).toLittleEndianNumber(),a=Pt.shared.setValue(l).toPremultiplied(n);e.length=Math.max(e.length,o+s);for(let c=0;c<s;c++)e[o+c]=a}addTextureIds(e,r,n,s=0){e.length=Math.max(e.length,s+n);for(let o=0;o<n;o++)e[s+o]=r}addUvs(e,r,n,s,o,l=null){let a=0;const c=r.length,d=n.frame;for(;a<o;){let g=e[(s+a)*2],m=e[(s+a)*2+1];if(l){const y=l.a*g+l.c*m+l.tx;m=l.b*g+l.d*m+l.ty,g=y}a++,r.push(g/d.width,m/d.height)}const f=n.baseTexture;(d.width<f.width||d.height<f.height)&&this.adjustUvs(r,n,c,o)}adjustUvs(e,r,n,s){const o=r.baseTexture,l=1e-6,a=n+s*2,c=r.frame,d=c.width/o.width,f=c.height/o.height;let g=c.x/c.width,m=c.y/c.height,y=Math.floor(e[n]+l),_=Math.floor(e[n+1]+l);for(let u=n+2;u<a;u+=2)y=Math.min(y,Math.floor(e[u]+l)),_=Math.min(_,Math.floor(e[u+1]+l));g-=y,m-=_;for(let u=n;u<a;u+=2)e[u]=(e[u]+g)*d,e[u+1]=(e[u+1]+m)*f}};lz.BATCHABLE_SIZE=100;let cz=lz;class $v{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new $v;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Mw extends $v{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=xa.BUTT,this.join=Ti.MITER,this.miterLimit=10}clone(){const e=new Mw;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=xa.BUTT,this.join=Ti.MITER,this.miterLimit=10}}const oS={},_T=class b_ extends gi{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new $v,this._lineStyle=new Mw,this._matrix=null,this._holeMode=!1,this.state=io.for2d(),this._geometry=e||new cz,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Pt(16777215),this.blendMode=Je.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new b_(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ke.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:xa.BUTT,join:Ti.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Kl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Kl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],o=n[n.length-1];return(s!==e||o!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Bw.curveTo(e,r,n,s,o),this}bezierCurveTo(e,r,n,s,o,l){return this._initCurve(),Ow.curveTo(e,r,n,s,o,l,this.currentPath.points),this}arcTo(e,r,n,s,o){this._initCurve(e,r);const l=this.currentPath.points,a=mT.curveTo(e,r,n,s,o,l);if(a){const{cx:c,cy:d,radius:f,startAngle:g,endAngle:m,anticlockwise:y}=a;this.arc(c,d,f,g,m,y)}return this}arc(e,r,n,s,o,l=!1){if(s===o)return this;if(!l&&o<=s?o+=gm:l&&s<=o&&(s+=gm),o-s===0)return this;const a=e+Math.cos(s)*n,c=r+Math.sin(s)*n,d=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const g=Math.abs(f[f.length-2]-a),m=Math.abs(f[f.length-1]-c);g<d&&m<d||f.push(a,c)}else this.moveTo(a,c),f=this.currentPath.points;return mT.arc(a,c,e,r,n,s,o,l,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:r})}normalizeColor(e){var n,s;const r=Pt.shared.setValue((n=e.color)!=null?n:0);e.color=r.toNumber(),(s=e.alpha)!=null||(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,s){return this.drawShape(new lt(e,r,n,s))}drawRoundedRect(e,r,n,s,o){return this.drawShape(new Lv(e,r,n,s,o))}drawCircle(e,r,n){return this.drawShape(new Fv(e,r,n))}drawEllipse(e,r,n,s){return this.drawShape(new kv(e,r,n,s))}drawPolygon(...e){let r,n=!0;const s=e[0];s.points?(n=s.closeStroke,r=s.points):Array.isArray(e[0])?r=e[0]:r=e;const o=new Kl(r);return o.closeStroke=n,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===ln.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const o=e.batches[s],l=o.style.color,a=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),f={vertexData:a,blendMode:r,indices:d,uvs:c,_batchRGB:Pt.shared.setValue(l).toRgbArray(),_tintRGB:l,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,o=r.uniforms,l=n.drawCalls;o.translationMatrix=this.transform.worldTransform,Pt.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=l.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:s,size:o,start:l}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(s,o,l)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!oS[n]){const{maxTextures:s}=e.plugins[n],o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=c;const l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Et,default:xs.from({uSamplers:o},!0)},a=e.plugins[n]._shader.program;oS[n]=new qs(a,l)}r=oS[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,r,n,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,b_._TEMP_POINT),this._geometry.containsPoint(b_._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Pt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,s=r.b,o=r.c,l=r.d,a=r.tx,c=r.ty,d=this._geometry.points,f=this.vertexData;let g=0;for(let m=0;m<d.length;m+=2){const y=d[m],_=d[m+1];f[g++]=n*y+o*_+a,f[g++]=l*_+s*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};_T.curves=iu,_T._TEMP_POINT=new Ee;let wa=_T;const xue={buildPoly:xR,buildCircle:Sm,buildRectangle:sz,buildRoundedRectangle:oz,buildLine:vT,ArcUtils:mT,BezierUtils:Ow,QuadraticUtils:Bw,BatchPart:az,FILL_COMMANDS:w_,BATCH_POOL:yT,DRAW_CALL_POOL:Xp};class dz{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const aS=new Ee,Mk=new Kl,hz=class fz extends gi{constructor(e,r,n,s=js.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||io.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Fe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===js.TRIANGLES&&r.length<fz.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const s=this.transform.worldTransform,o=s.a,l=s.b,a=s.c,c=s.d,d=s.tx,f=s.ty,g=this.vertexData;for(let m=0;m<g.length/2;m++){const y=r[m*2],_=r[m*2+1];g[m*2]=o*y+a*_+d,g[m*2+1]=l*y+c*_+f}if(this._roundPixels){const m=Fe.RESOLUTION;for(let y=0;y<g.length;++y)g[y]=Math.round(g[y]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new dz(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,aS);const r=this.geometry.getBuffer("aVertexPosition").data,n=Mk.points,s=this.geometry.getIndex().data,o=s.length,l=this.drawMode===4?3:1;for(let a=0;a+2<o;a+=l){const c=s[a]*2,d=s[a+1]*2,f=s[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[f],n[5]=r[f+1],Mk.contains(aS.x,aS.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};hz.BATCHABLE_SIZE=100;let qh=hz;class jv extends Ma{constructor(e,r,n){super();const s=new Nr(e),o=new Nr(r,!0),l=new Nr(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,He.FLOAT).addAttribute("aTextureCoord",o,2,!1,He.FLOAT).addIndex(l),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var wue="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",bue="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";class Zh extends qs{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Et.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ao.from(bue,wue),n),this._colorDirty=!1,this.uvMatrix=new Rw(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Pt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Pt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class pz extends jv{constructor(e=100,r=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],s=[],o=this.segWidth-1,l=this.segHeight-1,a=this.width/o,c=this.height/l;for(let f=0;f<e;f++){const g=f%this.segWidth,m=f/this.segWidth|0;r.push(g*a,m*c),n.push(g/o,m/l)}const d=o*l;for(let f=0;f<d;f++){const g=f%o,m=f/o|0,y=m*this.segWidth+g,_=m*this.segWidth+g+1,u=(m+1)*this.segWidth+g,h=(m+1)*this.segWidth+g+1;s.push(y,_,u,_,h,u)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class gz extends jv{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const o=n.data,l=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let a=0,c=e[0];const d=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const y=m*4;if(this.textureScale>0){const _=c.x-e[m].x,u=c.y-e[m].y,h=Math.sqrt(_*_+u*u);c=e[m],a+=h/d}else a=m/(f-1);o[y]=a,o[y+1]=0,o[y+2]=a,o[y+3]=1}let g=0;for(let m=0;m<f-1;m++){const y=m*2;l[g++]=y,l[g++]=y+1,l[g++]=y+2,l[g++]=y+2,l[g++]=y+1,l[g++]=y+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,s=0,o=0;const l=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<a;d++){const f=e[d],g=d*4;d<e.length-1?n=e[d+1]:n=f,o=-(n.x-r.x),s=n.y-r.y;const m=Math.sqrt(s*s+o*o);m<1e-6?(s=0,o=0):(s/=m,o/=m,s*=c,o*=c),l[g]=f.x+s,l[g+1]=f.y+o,l[g+2]=f.x-s,l[g+3]=f.y-o,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class mz extends qh{constructor(e,r,n){const s=new pz(e.width,e.height,r,n),o=new Zh(ke.WHITE);super(s,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const m0=10;class Eue extends mz{constructor(e,r,n,s,o){var l,a,c,d,f,g,m,y;super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(a=r!=null?r:(l=e.defaultBorders)==null?void 0:l.left)!=null?a:m0,this._rightWidth=(d=s!=null?s:(c=e.defaultBorders)==null?void 0:c.right)!=null?d:m0,this._topHeight=(g=n!=null?n:(f=e.defaultBorders)==null?void 0:f.top)!=null?g:m0,this._bottomHeight=(y=o!=null?o:(m=e.defaultBorders)==null?void 0:m.bottom)!=null?y:m0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(r,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Sue extends qh{constructor(e=ke.EMPTY,r,n,s,o){const l=new jv(r,n,s);l.getBuffer("aVertexPosition").static=!1;const a=new Zh(e);super(l,a,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Cue extends qh{constructor(e,r,n=0){const s=new gz(e.height,r,n),o=new Zh(e);n>0&&(e.baseTexture.wrapMode=Oo.REPEAT),super(s,o),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class Aue extends gi{constructor(e=1500,r,n=16384,s=!1){super();const o=16384;n>o&&(n=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Je.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Pt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Fk{constructor(e,r,n){this.geometry=new Ma,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||He.FLOAT,offset:o.offset},r[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Nr(Aj(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let l=0;l<this.dynamicProperties.length;++l){const a=this.dynamicProperties[l];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Nr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let l=0;l<this.staticProperties.length;++l){const a=this.staticProperties[l];a.offset=s,s+=a.size,this.staticStride+=a.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Nr(this.staticData,!0,!1);for(let l=0;l<this.dynamicProperties.length;++l){const a=this.dynamicProperties[l];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===He.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let l=0;l<this.staticProperties.length;++l){const a=this.staticProperties[l];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===He.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,r,n,o.type===He.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,r,n,o.type===He.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Tue="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Due="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";class wR extends Nv{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Et,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:He.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=qs.from(Due,Tue,{}),this.state=io.for2d()}render(e){const r=e.children,n=e._maxSize,s=e._batchSize,o=this.renderer;let l=r.length;if(l===0)return;l>n&&!e.autoResize&&(l=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=V2(e.blendMode,d),o.state.set(this.state);const f=o.gl,g=e.worldTransform.copyTo(this.tempMatrix);g.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=Pt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,_=0;y<l;y+=s,_+=1){let u=l-y;u>s&&(u=s),_>=a.length&&a.push(this._generateOneMoreBuffer(e));const h=a[_];h.uploadDynamic(r,y,u);const p=e._bufferUpdateIDs[_]||0;m=m||h._updateID<p,m&&(h._updateID=e._updateID,h.uploadStatic(r,y,u)),o.geometry.bind(h.geometry),f.drawElements(f.TRIANGLES,u*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,s=e._batchSize,o=e._properties;for(let l=0;l<n;l+=s)r.push(new Fk(this.properties,o,s));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Fk(this.properties,n,r)}uploadVertices(e,r,n,s,o,l){let a=0,c=0,d=0,f=0;for(let g=0;g<n;++g){const m=e[r+g],y=m._texture,_=m.scale.x,u=m.scale.y,h=y.trim,p=y.orig;h?(c=h.x-m.anchor.x*p.width,a=c+h.width,f=h.y-m.anchor.y*p.height,d=f+h.height):(a=p.width*(1-m.anchor.x),c=p.width*-m.anchor.x,d=p.height*(1-m.anchor.y),f=p.height*-m.anchor.y),s[l]=c*_,s[l+1]=f*u,s[l+o]=a*_,s[l+o+1]=f*u,s[l+o*2]=a*_,s[l+o*2+1]=d*u,s[l+o*3]=c*_,s[l+o*3+1]=d*u,l+=o*4}}uploadPosition(e,r,n,s,o,l){for(let a=0;a<n;a++){const c=e[r+a].position;s[l]=c.x,s[l+1]=c.y,s[l+o]=c.x,s[l+o+1]=c.y,s[l+o*2]=c.x,s[l+o*2+1]=c.y,s[l+o*3]=c.x,s[l+o*3+1]=c.y,l+=o*4}}uploadRotation(e,r,n,s,o,l){for(let a=0;a<n;a++){const c=e[r+a].rotation;s[l]=c,s[l+o]=c,s[l+o*2]=c,s[l+o*3]=c,l+=o*4}}uploadUvs(e,r,n,s,o,l){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(s[l]=c.x0,s[l+1]=c.y0,s[l+o]=c.x1,s[l+o+1]=c.y1,s[l+o*2]=c.x2,s[l+o*2+1]=c.y2,s[l+o*3]=c.x3,s[l+o*3+1]=c.y3,l+=o*4):(s[l]=0,s[l+1]=0,s[l+o]=0,s[l+o+1]=0,s[l+o*2]=0,s[l+o*2+1]=0,s[l+o*3]=0,s[l+o*3+1]=0,l+=o*4)}}uploadTint(e,r,n,s,o,l){for(let a=0;a<n;++a){const c=e[r+a],d=Pt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);s[l]=d,s[l+o]=d,s[l+o*2]=d,s[l+o*3]=d,l+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}wR.extension={name:"particle",type:Te.RendererPlugin};ze.add(wR);var zv=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(zv||{});const v0={willReadFrequently:!0},vo=class Ge{static get experimentalLetterSpacingSupported(){let e=Ge._experimentalLetterSpacingSupported;if(e!==void 0){const r=Fe.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ge._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,o,l,a,c,d){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=o,this.lineWidths=l,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,s=Ge._canvas){n=n!=null?n:r.wordWrap;const o=r.toFontString(),l=Ge.measureFont(o);l.fontSize===0&&(l.fontSize=r.fontSize,l.ascent=r.fontSize);const a=s.getContext("2d",v0);a.font=o;const c=(n?Ge.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const u=Ge._measureText(c[_],r.letterSpacing,a);d[_]=u,f=Math.max(f,u)}let g=f+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);const m=r.lineHeight||l.fontSize+r.strokeThickness;let y=Math.max(m,l.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new Ge(e,r,g,y,c,d,m+r.leading,f,l)}static _measureText(e,r,n){let s=!1;Ge.experimentalLetterSpacingSupported&&(Ge.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(e).width;return o>0&&(s?o-=r:o+=(Ge.graphemeSegmenter(e).length-1)*r),o}static wordWrap(e,r,n=Ge._canvas){const s=n.getContext("2d",v0);let o=0,l="",a="";const c=Object.create(null),{letterSpacing:d,whiteSpace:f}=r,g=Ge.collapseSpaces(f),m=Ge.collapseNewlines(f);let y=!g;const _=r.wordWrapWidth+d,u=Ge.tokenize(e);for(let h=0;h<u.length;h++){let p=u[h];if(Ge.isNewline(p)){if(!m){a+=Ge.addLine(l),y=!g,l="",o=0;continue}p=" "}if(g){const x=Ge.isBreakingSpace(p),w=Ge.isBreakingSpace(l[l.length-1]);if(x&&w)continue}const v=Ge.getFromCache(p,d,c,s);if(v>_)if(l!==""&&(a+=Ge.addLine(l),l="",o=0),Ge.canBreakWords(p,r.breakWords)){const x=Ge.wordWrapSplit(p);for(let w=0;w<x.length;w++){let b=x[w],S=b,C=1;for(;x[w+C];){const T=x[w+C];if(!Ge.canBreakChars(S,T,p,w,r.breakWords))b+=T;else break;S=T,C++}w+=C-1;const A=Ge.getFromCache(b,d,c,s);A+o>_&&(a+=Ge.addLine(l),y=!1,l="",o=0),l+=b,o+=A}}else{l.length>0&&(a+=Ge.addLine(l),l="",o=0);const x=h===u.length-1;a+=Ge.addLine(p,!x),y=!1,l="",o=0}else v+o>_&&(y=!1,a+=Ge.addLine(l),l="",o=0),(l.length>0||!Ge.isBreakingSpace(p)||y)&&(l+=p,o+=v)}return a+=Ge.addLine(l,!1),a}static addLine(e,r=!0){return e=Ge.trimRight(e),e=r?"".concat(e,"\n"):e,e}static getFromCache(e,r,n,s){let o=n[e];return typeof o!="number"&&(o=Ge._measureText(e,r,s)+r,n[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Ge.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ge._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Ge._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const o=e[s],l=e[s+1];if(Ge.isBreakingSpace(o,l)||Ge.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,o){return!0}static wordWrapSplit(e){return Ge.graphemeSegmenter(e)}static measureFont(e){if(Ge._fonts[e])return Ge._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=Ge._canvas,s=Ge._context;s.font=e;const o=Ge.METRICS_STRING+Ge.BASELINE_SYMBOL,l=Math.ceil(s.measureText(o).width);let a=Math.ceil(s.measureText(Ge.BASELINE_SYMBOL).width);const c=Math.ceil(Ge.HEIGHT_MULTIPLIER*a);if(a=a*Ge.BASELINE_MULTIPLIER|0,l===0||c===0)return Ge._fonts[e]=r,r;n.width=l,n.height=c,s.fillStyle="#f00",s.fillRect(0,0,l,c),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,a);const d=s.getImageData(0,0,l,c).data,f=d.length,g=l*4;let m=0,y=0,_=!1;for(m=0;m<a;++m){for(let u=0;u<g;u+=4)if(d[y+u]!==255){_=!0;break}if(!_)y+=g;else break}for(r.ascent=a-m,y=f-g,_=!1,m=c;m>a;--m){for(let u=0;u<g;u+=4)if(d[y+u]!==255){_=!0;break}if(!_)y-=g;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,Ge._fonts[e]=r,r}static clearMetrics(e=""){e?delete Ge._fonts[e]:Ge._fonts={}}static get _canvas(){var e;if(!Ge.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",v0))!=null&&e.measureText)return Ge.__canvas=n,n;r=Fe.ADAPTER.createCanvas()}catch(n){r=Fe.ADAPTER.createCanvas()}r.width=r.height=10,Ge.__canvas=r}return Ge.__canvas}static get _context(){return Ge.__context||(Ge.__context=Ge._canvas.getContext("2d",v0)),Ge.__context}};vo.METRICS_STRING="|q",vo.BASELINE_SYMBOL="M",vo.BASELINE_MULTIPLIER=1.4,vo.HEIGHT_MULTIPLIER=2,vo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),vo.experimentalLetterSpacing=!1,vo._fonts={},vo._newlines=[10,13],vo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ha=vo;const Pue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],vz=class Yp{constructor(e){this.styleID=0,this.reset(),uS(this,e,e)}clone(){const e={};return uS(e,this,Yp.defaultStyle),new Yp(e)}reset(){uS(this,Yp.defaultStyle,Yp.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=lS(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=lS(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Rue(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=lS(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?"".concat(this.fontSize,"px"):this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!Pue.includes(s)&&(s='"'.concat(s,'"')),r[n]=s}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(r.join(","))}};vz.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:zv.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ka=vz;function lS(t){const e=Pt.shared,r=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Rue(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function uS(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const Iue={texture:!0,children:!1,baseTexture:!0},yz=class xT extends Zc{constructor(e,r,n){var l;let s=!1;n||(n=Fe.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const o=ke.from(n);o.orig=new lt,o.trim=new lt,super(o),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(l=xT.defaultResolution)!=null?l:Fe.RESOLUTION,this._autoResolution=xT.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ha.experimentalLetterSpacing}static set experimentalLetterSpacing(e){it("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ha.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=ha.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,l=s.height,a=s.lines,c=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,g=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,y;const _=r.dropShadow?2:1;for(let u=0;u<_;++u){const h=r.dropShadow&&u===0,p=h?Math.ceil(Math.max(1,l)+r.padding*2):0,v=p*this._resolution;if(h){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,b=r.dropShadowBlur*this._resolution,S=r.dropShadowDistance*this._resolution;n.shadowColor=Pt.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=b,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*S,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*S+v}else n.fillStyle=this._generateFillStyle(r,a,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let x=(c-g.fontSize)/2;c-g.fontSize<0&&(x=0);for(let w=0;w<a.length;w++)m=r.strokeThickness/2,y=r.strokeThickness/2+w*c+g.ascent+x,r.align==="right"?m+=f-d[w]:r.align==="center"&&(m+=(f-d[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[w],m+r.padding,y+r.padding-p,!0),r.fill&&this.drawLetterSpacing(a[w],m+r.padding,y+r.padding-p)}this.updateTexture()}drawLetterSpacing(e,r,n,s=!1){const o=this._style.letterSpacing;let l=!1;if(ha.experimentalLetterSpacingSupported&&(ha.experimentalLetterSpacing?(this.context.letterSpacing="".concat(o,"px"),this.context.textLetterSpacing="".concat(o,"px"),l=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||l){s?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=ha.graphemeSegmenter(e);let d=this.context.measureText(e).width,f=0;for(let g=0;g<c.length;++g){const m=c[g];s?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let y="";for(let _=g+1;_<c.length;++_)y+=c[_];f=this.context.measureText(y).width,a+=d-f+o,d=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const l=Pj(e);l.data&&(e.width=l.width,e.height=l.height,this.context.putImageData(l.data,0,0))}const r=this._texture,n=this._style,s=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const l=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-l-a*2,d=this.canvas.height/this._resolution-l-a*2,f=s.slice(),g=e.fillGradientStops.slice();if(!g.length){const m=f.length+1;for(let y=1;y<m;++y)g.push(y/m)}if(f.unshift(s[0]),g.unshift(0),f.push(s[s.length-1]),g.push(1),e.fillGradientType===zv.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,a,c/2,d+a);const m=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const _=n.lineHeight*(y-1)+m,u=n.lineHeight*y;let h=u;y>0&&_>u&&(h=(u+_)/2);const p=u+m,v=n.lineHeight*(y+1);let x=p;y+1<r.length&&v<p&&(x=(p+v)/2);const w=(x-h)/d;for(let b=0;b<f.length;b++){let S=0;typeof g[b]=="number"?S=g[b]:S=b/f.length;let C=Math.min(1,Math.max(0,h/d+S*w));C=Number(C.toFixed(5)),o.addColorStop(C,f[b])}}}else{o=this.context.createLinearGradient(a,d/2,c+a,d/2);const m=f.length+1;let y=1;for(let _=0;_<f.length;_++){let u;typeof g[_]=="number"?u=g[_]:u=y/m,o.addColorStop(u,f[_]),y++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Iue,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=_a(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=_a(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ka?this._style=e:this._style=new ka(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};yz.defaultAutoResolution=!0;let bR=yz;class _z{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Oue(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let s=0;s<t._textures.length;s++)if(t._textures[s]instanceof ke){const o=t._textures[s].baseTexture;e.includes(o)||(e.push(o),r=!0)}}return r}function Bue(t,e){if(t.baseTexture instanceof ct){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Mue(t,e){if(t._texture&&t._texture instanceof ke){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Fue(t,e){return e instanceof bR?(e.updateText(!0),!0):!1}function kue(t,e){if(e instanceof ka){const r=e.toFontString();return ha.measureFont(r),!0}return!1}function Lue(t,e){if(t instanceof bR){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Nue(t,e){return t instanceof ka?(e.includes(t)||e.push(t),!0):!1}const xz=class wz{constructor(e){this.limiter=new _z(wz.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Lue),this.registerFindHook(Nue),this.registerFindHook(Oue),this.registerFindHook(Bue),this.registerFindHook(Mue),this.registerUploadHook(Fue),this.registerUploadHook(kue)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,$r.system.addOnce(this.tick,this,Lo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)$r.system.addOnce(this.tick,this,Lo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof gi)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&$r.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};xz.uploadsPerFrame=4;let F1=xz;Object.defineProperties(Fe,{UPLOADS_PER_FRAME:{get(){return F1.uploadsPerFrame},set(t){it("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),F1.uploadsPerFrame=t}}});function bz(t,e){return e instanceof ct?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Uue(t,e){if(!(e instanceof wa))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let s=0;s<n.length;s++){const{texture:o}=n[s].style;o&&bz(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function $ue(t,e){return t instanceof wa?(e.push(t),!0):!1}class ER extends F1{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook($ue),this.registerUploadHook(bz),this.registerUploadHook(Uue)}}ER.extension={name:"prepare",type:Te.RendererSystem};ze.add(ER);class jue{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class k1 extends Zc{constructor(e,r=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&($r.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&($r.shared.add(this.update,this,Lo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ke.from(e[n]));return new k1(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ke.from(e[n]));return new k1(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?($r.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&($r.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Tp=new Ee;class SR extends Zc{constructor(e,r=100,n=100){super(e),this.tileTransform=new Tf,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Rw(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Tp);const r=this._width,n=this._height,s=-r*this.anchor._x;if(Tp.x>=s&&Tp.x<s+r){const o=-n*this.anchor._y;if(Tp.y>=o&&Tp.y<o+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ke?e:ke.from(e,r);return new SR(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var zue="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",Gue="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Vue="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",kk="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Hue="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";const y0=new Et;class CR extends Nv{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Z2,this.state=io.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=qs.from(kk,Hue,r),this.shader=e.context.webGLVersion>1?qs.from(Gue,zue,r):qs.from(kk,Vue,r)}render(e){const r=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,l=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-o,s[1]=s[3]=-l,s[2]=s[4]=1-o,s[5]=s[7]=1-l,n.invalidate();const a=e._texture,c=a.baseTexture,d=c.alphaMode>0,f=e.tileTransform.localTransform,g=e.uvMatrix;let m=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==Oo.CLAMP:c.wrapMode===Oo.CLAMP&&(c.wrapMode=Oo.REPEAT));const y=m?this.simpleShader:this.shader,_=a.width,u=a.height,h=e._width,p=e._height;y0.set(f.a*_/h,f.b*_/p,f.c*u/h,f.d*u/p,f.tx/h,f.ty/p),y0.invert(),m?y0.prepend(g.mapCoord):(y.uniforms.uMapCoord=g.mapCoord.toArray(!0),y.uniforms.uClampFrame=g.uClampFrame,y.uniforms.uClampOffset=g.uClampOffset),y.uniforms.uTransform=y0.toArray(!0),y.uniforms.uColor=Pt.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=a,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=V2(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}CR.extension={name:"tilingSprite",type:Te.RendererPlugin};ze.add(CR);const Ez=class qp{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof ke?e:null,this.baseTexture=e instanceof ct?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const s=this.baseTexture.resource;this.resolution=this._updateResolution(n||(s?s.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ko(e,null);return n===null&&(n=parseFloat(r!=null?r:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=qp.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=qp.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],o=this._frames[s],l=o.frame;if(l){let a=null,c=null;const d=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,f=new lt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);o.rotated?a=new lt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):a=new lt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(c=new lt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[s]=new ke(this.baseTexture,a,f,c,o.rotated?2:0,o.anchor,o.borders),ke.addToCache(this.textures[s],s.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*qp.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*qp.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Ez.BATCH_SIZE=1e3;let wT=Ez;const Wue=["jpg","png","jpeg","avif","webp"];function Sz(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[s]=e.textures[s]}),!r){const s=jr.dirname(t[0]);e.linkedSheets.forEach((o,l)=>{const a=Sz(["".concat(s,"/").concat(e.data.meta.related_multi_packs[l])],o,!0);Object.assign(n,a)})}return n}const Cz={extension:Te.Asset,cache:{test:t=>t instanceof wT,getCacheableAssets:(t,e)=>Sz(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Wue.includes(n)},parse:t=>{var r,n;const e=t.split(".");return{resolution:parseFloat((n=(r=Fe.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Te.LoadParser,priority:Ts.Normal},async testParse(t,e){return jr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=jr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let s=n+t.meta.image;s=M1(s,e.src);const o=(await r.load([s]))[s],l=new wT(o.baseTexture,t,e.src);await l.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const f=[];for(const m of a){if(typeof m!="string")continue;let y=n+m;(d=e.data)!=null&&d.ignoreMultiPack||(y=M1(y,e.src),f.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(f);l.linkedSheets=g,g.forEach(m=>{m.linkedSheets=[l].concat(l.linkedSheets.filter(y=>y!==m))})}return l},unload(t){t.destroy(!0)}}};ze.add(Cz);class Am{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Sg{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in r){const l=r[o].match(/^[a-z]+/gm)[0],a=r[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in a){const f=a[d].split("="),g=f[0],m=f[1].replace(/"/gm,""),y=parseFloat(m),_=isNaN(y)?m:y;c[g]=_}n[l].push(c)}const s=new Am;return n.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class L1{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Am,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),l=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)r.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<o.length;d++)r.page.push({id:parseInt(o[d].getAttribute("id"),10)||0,file:o[d].getAttribute("file")});for(let d=0;d<l.length;d++){const f=l[d];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let d=0;d<a.length;d++)r.kerning.push({first:parseInt(a[d].getAttribute("first"),10),second:parseInt(a[d].getAttribute("second"),10),amount:parseInt(a[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class N1{static test(e){return typeof e=="string"&&e.includes("<font>")?L1.test(Fe.ADAPTER.parseXML(e)):!1}static parse(e){return L1.parse(Fe.ADAPTER.parseXML(e))}}const cS=[Sg,L1,N1];function Az(t){for(let e=0;e<cS.length;e++)if(cS[e].test(t))return cS[e];return null}function Kue(t,e,r,n,s,o){const l=r.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let a;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,f=t.width/n-c-d*2,g=t.height/n-c-d*2,m=l.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=m.length+1;for(let u=1;u<_;++u)y.push(u/_)}if(m.unshift(l[0]),y.unshift(0),m.push(l[l.length-1]),y.push(1),r.fillGradientType===zv.LINEAR_VERTICAL){a=e.createLinearGradient(f/2,d,f/2,g+d);let _=0;const u=(o.fontProperties.fontSize+r.strokeThickness)/g;for(let h=0;h<s.length;h++){const p=o.lineHeight*h;for(let v=0;v<m.length;v++){let x=0;typeof y[v]=="number"?x=y[v]:x=v/m.length;const w=p/g+x*u;let b=Math.max(_,w);b=Math.min(b,1),a.addColorStop(b,m[v]),_=b}}}else{a=e.createLinearGradient(d,g/2,f+d,g/2);const _=m.length+1;let u=1;for(let h=0;h<m.length;h++){let p;typeof y[h]=="number"?p=y[h]:p=u/_,a.addColorStop(p,m[h]),u++}}return a}function Xue(t,e,r,n,s,o,l){const a=r.text,c=r.fontProperties;e.translate(n,s),e.scale(o,o);const d=l.strokeThickness/2,f=-(l.strokeThickness/2);if(e.font=l.toFontString(),e.lineWidth=l.strokeThickness,e.textBaseline=l.textBaseline,e.lineJoin=l.lineJoin,e.miterLimit=l.miterLimit,e.fillStyle=Kue(t,e,l,o,[a],r),e.strokeStyle=l.stroke,l.dropShadow){const g=l.dropShadowColor,m=l.dropShadowBlur*o,y=l.dropShadowDistance*o;e.shadowColor=Pt.shared.setValue(g).setAlpha(l.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(l.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(l.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;l.stroke&&l.strokeThickness&&e.strokeText(a,d,f+r.lineHeight-c.descent),l.fill&&e.fillText(a,d,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function E_(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Tz(t){return Array.from?Array.from(t):t.split("")}function Yue(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));const o=s[0].charCodeAt(0),l=s[1].charCodeAt(0);if(l<o)throw new Error("[BitmapFont]: Invalid character range.");for(let a=o,c=l;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...Tz(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const dl=class yo{constructor(e,r,n){var f,g;const[s]=e.info,[o]=e.common,[l]=e.page,[a]=e.distanceField,c=ko(l.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/c,this.chars={},this.pageTextures=d;for(let m=0;m<e.page.length;m++){const{id:y,file:_}=e.page[m];d[y]=r instanceof Array?r[m]:r[_],a!=null&&a.fieldType&&a.fieldType!=="none"&&(d[y].baseTexture.alphaMode=Wn.NO_PREMULTIPLIED_ALPHA,d[y].baseTexture.mipmap=to.OFF)}for(let m=0;m<e.char.length;m++){const{id:y,page:_}=e.char[m];let{x:u,y:h,width:p,height:v,xoffset:x,yoffset:w,xadvance:b}=e.char[m];u/=c,h/=c,p/=c,v/=c,x/=c,w/=c,b/=c;const S=new lt(u+d[_].frame.x/c,h+d[_].frame.y/c,p,v);this.chars[y]={xOffset:x,yOffset:w,xAdvance:b,kerning:{},texture:new ke(d[_].baseTexture,S),page:_}}for(let m=0;m<e.kerning.length;m++){let{first:y,second:_,amount:u}=e.kerning[m];y/=c,_/=c,u/=c,this.chars[_]&&(this.chars[_].kerning[y]=u)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=(g=(f=a==null?void 0:a.fieldType)==null?void 0:f.toLowerCase())!=null?g:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let s;if(e instanceof Am)s=e;else{const l=Az(e);if(!l)throw new Error("Unrecognized data format for font.");s=l.parse(e)}r instanceof ke&&(r=[r]);const o=new yo(s,r,n);return yo.available[o.font]=o,o}static uninstall(e){const r=yo.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete yo.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:l,textureWidth:a,textureHeight:c,...d}=Object.assign({},yo.defaultOptions,n),f=Yue(s),g=r instanceof ka?r:new ka(r),m=a,y=new Am;y.info[0]={face:g.fontFamily,size:g.fontSize},y.common[0]={lineHeight:g.fontSize};let _=0,u=0,h,p,v,x=0;const w=[];for(let S=0;S<f.length;S++){h||(h=Fe.ADAPTER.createCanvas(),h.width=a,h.height=c,p=h.getContext("2d"),v=new ct(h,{resolution:l,...d}),w.push(new ke(v)),y.page.push({id:w.length-1,file:""}));const C=f[S],A=ha.measureText(C,g,!1,h),T=A.width,P=Math.ceil(A.height),B=Math.ceil((g.fontStyle==="italic"?2:1)*T);if(u>=c-P*l){if(u===0)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(C,"')"));--S,h=null,p=null,v=null,u=0,_=0,x=0;continue}if(x=Math.max(P+A.fontProperties.descent,x),B*l+_>=m){if(_===0)throw new Error("[BitmapFont] textureWidth ".concat(a,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(C,"')"));--S,u+=x*l,u=Math.ceil(u),_=0,x=0;continue}Xue(h,p,A,_,u,l,g);const D=E_(A.text);y.char.push({id:D,page:w.length-1,x:_/l,y:u/l,width:B,height:P,xoffset:0,yoffset:0,xadvance:T-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),_+=(B+2*o)*l,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let S=0,C=f.length;S<C;S++){const A=f[S];for(let T=0;T<C;T++){const P=f[T],B=p.measureText(A).width,D=p.measureText(P).width,R=p.measureText(A+P).width-(B+D);R&&y.kerning.push({first:E_(A),second:E_(P),amount:R})}}const b=new yo(y,w,!0);return yo.available[e]!==void 0&&yo.uninstall(e),yo.available[e]=b,b}};dl.ALPHA=[["a","z"],["A","Z"]," "],dl.NUMERIC=[["0","9"]],dl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],dl.ASCII=[[" ","~"]],dl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:dl.ALPHANUMERIC},dl.available={};let aa=dl;var que="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",Zue="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";const Lk=[],Nk=[],Uk=[],Dz=class Pz extends gi{constructor(e,r={}){super();const{align:n,tint:s,maxWidth:o,letterSpacing:l,fontName:a,fontSize:c}=Object.assign({},Pz.styleDefaults,r);if(!aa.available[a])throw new Error('Missing BitmapFont "'.concat(a,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Pt(s),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=l,this._anchor=new Gs(()=>{this.dirty=!0},this,0,0),this._roundPixels=Fe.ROUND_PIXELS,this.dirty=!0,this._resolution=Fe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var B;const e=aa.available[this._fontName],r=this.fontSize,n=r/e.size,s=new Ee,o=[],l=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=Tz(c),f=this._maxWidth*e.size/r,g=e.distanceFieldType==="none"?Lk:Nk;let m=null,y=0,_=0,u=0,h=-1,p=0,v=0,x=0,w=0;for(let D=0;D<d.length;D++){const R=d[D],O=E_(R);if(/(?:\s)/.test(R)&&(h=D,p=y,w++),R==="\r"||R==="\n"){l.push(y),a.push(-1),_=Math.max(_,y),++u,++v,s.x=0,s.y+=e.lineHeight,m=null,w=0;continue}const k=e.chars[O];if(!k)continue;m&&k.kerning[m]&&(s.x+=k.kerning[m]);const j=Uk.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ee};j.texture=k.texture,j.line=u,j.charCode=O,j.position.x=Math.round(s.x+k.xOffset+this._letterSpacing/2),j.position.y=Math.round(s.y+k.yOffset),j.prevSpaces=w,o.push(j),y=j.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),s.x+=k.xAdvance+this._letterSpacing,x=Math.max(x,k.yOffset+k.texture.height),m=O,h!==-1&&f>0&&s.x>f&&(++v,mc(o,1+h-v,1+D-h),D=h,h=-1,l.push(p),a.push(o.length>0?o[o.length-1].prevSpaces:0),_=Math.max(_,p),u++,s.x=0,s.y+=e.lineHeight,m=null,w=0)}const b=d[d.length-1];b!=="\r"&&b!=="\n"&&(/(?:\s)/.test(b)&&(y=p),l.push(y),_=Math.max(_,y),a.push(-1));const S=[];for(let D=0;D<=u;D++){let R=0;this._align==="right"?R=_-l[D]:this._align==="center"?R=(_-l[D])/2:this._align==="justify"&&(R=a[D]<0?0:(_-l[D])/a[D]),S.push(R)}const C=o.length,A={},T=[],P=this._activePagesMeshData;g.push(...P);for(let D=0;D<C;D++){const R=o[D].texture,O=R.baseTexture.uid;if(!A[O]){let k=g.pop();if(!k){const U=new jv;let N,L;e.distanceFieldType==="none"?(N=new Zh(ke.EMPTY),L=Je.NORMAL):(N=new Zh(ke.EMPTY,{program:Ao.from(Zue,que),uniforms:{uFWidth:0}}),L=Je.NORMAL_NPM);const H=new qh(U,N);H.blendMode=L,k={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}k.index=0,k.indexCount=0,k.vertexCount=0,k.uvsCount=0,k.total=0;const{_textureCache:j}=this;j[O]=j[O]||new ke(R.baseTexture),k.mesh.texture=j[O],k.mesh.tint=this._tintColor.value,T.push(k),A[O]=k}A[O].total++}for(let D=0;D<P.length;D++)T.includes(P[D])||this.removeChild(P[D].mesh);for(let D=0;D<T.length;D++)T[D].mesh.parent!==this&&this.addChild(T[D].mesh);this._activePagesMeshData=T;for(const D in A){const R=A[D],O=R.total;if(!(((B=R.indices)==null?void 0:B.length)>6*O)||R.vertices.length<qh.BATCHABLE_SIZE*2)R.vertices=new Float32Array(4*2*O),R.uvs=new Float32Array(4*2*O),R.indices=new Uint16Array(6*O);else{const k=R.total,j=R.vertices;for(let U=k*4*2;U<j.length;U++)j[U]=0}R.mesh.size=6*O}for(let D=0;D<C;D++){const R=o[D];let O=R.position.x+S[R.line]*(this._align==="justify"?R.prevSpaces:1);this._roundPixels&&(O=Math.round(O));const k=O*n,j=R.position.y*n,U=R.texture,N=A[U.baseTexture.uid],L=U.frame,H=U._uvs,K=N.index++;N.indices[K*6+0]=0+K*4,N.indices[K*6+1]=1+K*4,N.indices[K*6+2]=2+K*4,N.indices[K*6+3]=0+K*4,N.indices[K*6+4]=2+K*4,N.indices[K*6+5]=3+K*4,N.vertices[K*8+0]=k,N.vertices[K*8+1]=j,N.vertices[K*8+2]=k+L.width*n,N.vertices[K*8+3]=j,N.vertices[K*8+4]=k+L.width*n,N.vertices[K*8+5]=j+L.height*n,N.vertices[K*8+6]=k,N.vertices[K*8+7]=j+L.height*n,N.uvs[K*8+0]=H.x0,N.uvs[K*8+1]=H.y0,N.uvs[K*8+2]=H.x1,N.uvs[K*8+3]=H.y1,N.uvs[K*8+4]=H.x2,N.uvs[K*8+5]=H.y2,N.uvs[K*8+6]=H.x3,N.uvs[K*8+7]=H.y3}this._textWidth=_*n,this._textHeight=(s.y+e.lineHeight)*n;for(const D in A){const R=A[D];if(this.anchor.x!==0||this.anchor.y!==0){let U=0;const N=this._textWidth*this.anchor.x,L=this._textHeight*this.anchor.y;for(let H=0;H<R.total;H++)R.vertices[U++]-=N,R.vertices[U++]-=L,R.vertices[U++]-=N,R.vertices[U++]-=L,R.vertices[U++]-=N,R.vertices[U++]-=L,R.vertices[U++]-=N,R.vertices[U++]-=L}this._maxLineHeight=x*n;const O=R.mesh.geometry.getBuffer("aVertexPosition"),k=R.mesh.geometry.getBuffer("aTextureCoord"),j=R.mesh.geometry.getIndex();O.data=R.vertices,k.data=R.uvs,j.data=R.indices,O.update(),k.update(),j.update()}for(let D=0;D<o.length;D++)Uk.push(o[D]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:s}=aa.available[this._fontName];if(n!=="none"){const{a:o,b:l,c:a,d:c}=this.worldTransform,d=Math.sqrt(o*o+l*l),f=Math.sqrt(a*a+c*c),g=(Math.abs(d)+Math.abs(f))/2,m=this.fontSize/s,y=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=g*r*m*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=aa.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!aa.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:aa.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=aa.available[this._fontName].distanceFieldType==="none"?Lk:Nk;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>r[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=ke.EMPTY});for(const s in r)r[s].destroy(),delete r[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Dz.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Que=Dz;const Jue=[".xml",".fnt"],Rz={extension:{type:Te.LoadParser,priority:Ts.Normal},name:"loadBitmapFont",test(t){return Jue.includes(jr.extname(t).toLowerCase())},async testParse(t){return Sg.test(t)||N1.test(t)},async parse(t,e,r){const n=Sg.test(t)?Sg.parse(t):N1.parse(t),{src:s}=e,{page:o}=n,l=[];for(let d=0;d<o.length;++d){const f=o[d].file;let g=jr.join(jr.dirname(s),f);g=M1(g,s),l.push(g)}const a=await r.load(l),c=l.map(d=>a[d]);return aa.install(n,c,!0)},async load(t,e){return(await Fe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ze.add(Rz);const bT=class Vd extends ka{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Vd(Object.keys(Vd.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Vd.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Vd;if(n[e]){const s=n[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Fe.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,l)=>{const a=URL.createObjectURL(s),c=new FileReader;c.onload=()=>o([a,c.result]),c.onerror=l,c.readAsDataURL(s)})).then(async([s,o])=>{const l=Object.assign({family:jr.basename(e,jr.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},r);n[e]=l,this._fonts.push(l),this.styleID++;const a=new FontFace(l.family,"url(".concat(l.src,")"),{weight:l.weight,style:l.style,display:l.display});l.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(r.family,"\";\n                src: url('").concat(r.dataSrc,"');\n                font-weight: ").concat(r.weight,";\n                font-style: ").concat(r.style,";\n                font-display: ").concat(r.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Sj(e)),typeof e=="number"?Ej(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const o="".concat(n,"px ").concat(s,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(o," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(o," ").concat(e)}reset(){Object.assign(this,Vd.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Fe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};bT.availableFonts={},bT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let S_=bT;const Zp=class Hd extends Zc{constructor(e="",r={}){var g;super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=ke.from(n,{scaleMode:Fe.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new lt,s.trim=new lt,this.texture=s;const o="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg"),c=document.createElementNS(o,"foreignObject"),d=document.createElementNS(l,"div"),f=document.createElementNS(l,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=Hd.defaultMaxWidth,this.maxHeight=Hd.defaultMaxHeight,this._domElement=d,this._styleElement=f,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(f),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=Hd.defaultAutoResolution,this._resolution=(g=Hd.defaultResolution)!=null?g:Fe.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,g;const{text:r,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:l,height:a}=o;(l>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(l)),d=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(s)}),this._styleElement.textContent=(g=this._style)==null?void 0:g.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:s}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:o,height:l}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,o)),n.height=s.height=Math.ceil(Math.max(1,l)),this._updateID++;const a=this._updateID;await new Promise(c=>{s.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:s}=this,{padding:o}=e,{baseTexture:l}=r;r.trim.width=r._frame.width=n.width/s,r.trim.height=r._frame.height=n.height/s,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-o*2,r.orig.height=r._frame.height-o*2,this._onTextureUpdate(),l.setRealSize(n.width,n.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,s,o,l,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Hd.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(s=this._svgRoot)==null||s.remove(),this._svgRoot=r,(o=this._domElement)==null||o.remove(),this._domElement=r,(l=this._foreignObject)==null||l.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=_a(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=_a(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof S_?(this.ownsStyle=!1,this._style=e):e instanceof ka?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=S_.from(e)):(this.ownsStyle=!0,this._style=new S_(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Zp.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Zp.defaultMaxWidth=2024,Zp.defaultMaxHeight=2024,Zp.defaultAutoResolution=!0;let ece=Zp;const kGe=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Wn,AbstractMultiResource:gR,AccessibilityManager:vR,AlphaFilter:_5,AnimatedSprite:k1,Application:D5,ArrayResource:d5,Assets:Wp,AssetsClass:N5,Attribute:pm,BLEND_MODES:Je,BUFFER_BITS:_1,BUFFER_TYPE:Xs,BackgroundSystem:mm,BaseImageResource:Fa,BasePrepare:F1,BaseRenderTexture:X2,BaseTexture:ct,BatchDrawCall:T1,BatchGeometry:W2,BatchRenderer:vl,BatchShaderGenerator:Gj,BatchSystem:K2,BatchTextureArray:D1,BitmapFont:aa,BitmapFontData:Am,BitmapText:Que,BlobResource:Y5,BlurFilter:x5,BlurFilterPass:I1,Bounds:xm,BrowserAdapter:X6,Buffer:Nr,BufferResource:Mv,BufferSystem:fR,CLEAR_MODES:$s,COLOR_MASK_BITS:K6,Cache:Cl,CanvasResource:h5,Circle:Fv,Color:Pt,ColorMatrixFilter:O1,CompressedTextureResource:Xl,Container:gi,ContextSystem:vm,CountLimiter:_z,CubeResource:p5,DEG_TO_RAD:Mj,DRAW_MODES:js,DisplacementFilter:w5,DisplayObject:cr,ENV:bu,Ellipse:kv,EventBoundary:S5,EventSystem:B1,ExtensionType:Te,Extract:iz,FORMATS:ye,FORMATS_TO_COMPONENTS:Z5,FXAAFilter:b5,FederatedDisplayObject:C5,FederatedEvent:Df,FederatedMouseEvent:wm,FederatedPointerEvent:Qi,FederatedWheelEvent:yc,FillStyle:$v,Filter:gn,FilterState:Hj,FilterSystem:Q2,Framebuffer:P1,FramebufferSystem:J2,GC_MODES:Sw,GLFramebuffer:Wj,GLProgram:Qj,GLTexture:y_,GRAPHICS_CURVES:vue,GenerateTextureSystem:sR,Geometry:Ma,GeometrySystem:eR,Graphics:wa,GraphicsData:Cm,GraphicsGeometry:cz,HTMLText:ece,HTMLTextStyle:S_,IGLUniformData:Oae,INSTALLED:A1,INTERNAL_FORMATS:ni,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Em,ImageBitmapResource:sc,ImageResource:Y2,LINE_CAP:xa,LINE_JOIN:Ti,LineStyle:Mw,LoaderParserPriority:Ts,MASK_TYPES:Fr,MIPMAP_MODES:to,MSAA_QUALITY:Rr,MaskData:Xj,MaskSystem:tR,Matrix:Et,Mesh:qh,MeshBatchUvs:dz,MeshGeometry:jv,MeshMaterial:Zh,MultisampleSystem:hR,NineSlicePlane:Eue,NoiseFilter:E5,ObjectRenderer:Nv,ObjectRendererSystem:pR,ObservablePoint:Gs,PI_2:gm,PRECISION:Mi,ParticleContainer:Aue,ParticleRenderer:wR,PlaneGeometry:pz,PluginSystem:nR,Point:Ee,Polygon:Kl,Prepare:ER,Program:Ao,ProjectionSystem:iR,Quad:Vj,QuadUv:Z2,RAD_TO_DEG:Bj,RENDERER_TYPE:B2,Rectangle:lt,RenderTexture:Su,RenderTexturePool:q2,RenderTextureSystem:oR,Renderer:Iw,ResizePlugin:yR,Resource:Yh,RopeGeometry:gz,RoundedRectangle:Lv,Runner:ki,SAMPLER_TYPES:Be,SCALE_MODES:Co,SHAPES:ln,SVGResource:R1,ScissorSystem:Zj,Shader:qs,ShaderSystem:aR,SimpleMesh:Sue,SimplePlane:mz,SimpleRope:Cue,Sprite:Zc,SpriteMaskFilter:Kj,Spritesheet:wT,StartupSystem:ym,State:io,StateSystem:s5,StencilSystem:rR,SystemManager:o5,TARGETS:fc,TEXT_GRADIENT:zv,TYPES:He,TYPES_TO_BYTES_PER_COMPONENT:gT,TYPES_TO_BYTES_PER_PIXEL:Q5,TemporaryDisplayObject:g5,Text:bR,TextFormat:Sg,TextMetrics:ha,TextStyle:ka,Texture:ke,TextureGCSystem:yl,TextureMatrix:Rw,TextureSystem:lR,TextureUvs:Pw,Ticker:$r,TickerPlugin:cR,TilingSprite:SR,TilingSpriteRenderer:CR,TimeLimiter:jue,Transform:Tf,TransformFeedback:qae,TransformFeedbackSystem:uR,UPDATE_PRIORITY:Lo,UniformGroup:xs,VERSION:Zae,VideoResource:mR,ViewSystem:_m,ViewableBuffer:C1,WRAP_MODES:Oo,XMLFormat:L1,XMLStringFormat:N1,accessibleTarget:A5,autoDetectFormat:Az,autoDetectRenderer:u5,autoDetectResource:H2,cacheTextureArray:U5,checkDataUrl:Qc,checkExtension:Xa,checkMaxIfStatementsInShader:Ij,convertToList:ls,copySearchParams:M1,createStringVariations:R5,createTexture:Pf,createUBOElements:t5,curves:iu,defaultFilterVertex:dR,defaultVertex:c5,detectAvif:j5,detectCompressedTextures:X5,detectDefaults:G5,detectMp4:H5,detectOgv:W5,detectWebm:V5,detectWebp:z5,extensions:ze,filters:cT,generateProgram:Jj,generateUniformBufferSync:n5,getFontFamilyName:B5,getTestContext:Uj,getUBOData:r5,graphicsUtils:xue,groupD8:or,isMobile:zs,isSingleItem:bm,loadBitmapFont:Rz,loadDDS:ez,loadImageBitmap:F5,loadJson:I5,loadKTX:tz,loadSVG:k5,loadTextures:Uv,loadTxt:O5,loadVideo:L5,loadWebFont:M5,parseDDS:q5,parseKTX:J5,resolveCompressedTextureUrl:rz,resolveTextureUrl:K5,settings:Fe,spritesheetAsset:Cz,uniformParsers:vc,unsafeEvalSupported:zj,utils:rae},Symbol.toStringTag,{value:"Module"})),tce="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let LGe=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=tce[r[t]&63];return e};var Iz={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Oi,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"];function o(u,h){var p=u[h];if(typeof p.bind=="function")return p.bind(u);try{return Function.prototype.bind.call(p,u)}catch(v){return function(){return Function.prototype.apply.apply(p,[u,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(u){return u==="debug"&&(u="log"),typeof console===r?!1:u==="trace"&&n?l:console[u]!==void 0?o(console,u):console.log!==void 0?o(console,"log"):e}function c(u,h){for(var p=0;p<s.length;p++){var v=s[p];this[v]=p<u?e:this.methodFactory(v,u,h)}this.log=this.debug}function d(u,h,p){return function(){typeof console!==r&&(c.call(this,h,p),this[u].apply(this,arguments))}}function f(u,h,p){return a(u)||d.apply(this,arguments)}function g(u,h,p){var v=this,x;h=h==null?"WARN":h;var w="loglevel";typeof u=="string"?w+=":"+u:typeof u=="symbol"&&(w=void 0);function b(T){var P=(s[T]||"silent").toUpperCase();if(!(typeof window===r||!w)){try{window.localStorage[w]=P;return}catch(B){}try{window.document.cookie=encodeURIComponent(w)+"="+P+";"}catch(B){}}}function S(){var T;if(!(typeof window===r||!w)){try{T=window.localStorage[w]}catch(D){}if(typeof T===r)try{var P=window.document.cookie,B=P.indexOf(encodeURIComponent(w)+"=");B!==-1&&(T=/^([^;]+)/.exec(P.slice(B))[1])}catch(D){}return v.levels[T]===void 0&&(T=void 0),T}}function C(){if(!(typeof window===r||!w)){try{window.localStorage.removeItem(w);return}catch(T){}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(T){}}}v.name=u,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=p||f,v.getLevel=function(){return x},v.setLevel=function(T,P){if(typeof T=="string"&&v.levels[T.toUpperCase()]!==void 0&&(T=v.levels[T.toUpperCase()]),typeof T=="number"&&T>=0&&T<=v.levels.SILENT){if(x=T,P!==!1&&b(T),c.call(v,T,u),typeof console===r&&T<v.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+T},v.setDefaultLevel=function(T){h=T,S()||v.setLevel(T,!1)},v.resetLevel=function(){v.setLevel(h,!1),C()},v.enableAll=function(T){v.setLevel(v.levels.TRACE,T)},v.disableAll=function(T){v.setLevel(v.levels.SILENT,T)};var A=S();A==null&&(A=h),v.setLevel(A,!1)}var m=new g,y={};m.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var p=y[h];return p||(p=y[h]=new g(h,m.getLevel(),m.methodFactory)),p};var _=typeof window!==r?window.log:void 0;return m.noConflict=function(){return typeof window!==r&&window.log===m&&(window.log=_),m},m.getLoggers=function(){return y},m.default=m,m})})(Iz);var rce=Iz.exports;const NGe=xn(rce);var nce="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ice="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n";const Oz=class extends gn{constructor(e,r=0){super(nce,ice),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,Oz.defaults,e)}apply(e,r,n,s){var o,l;this.uniforms.dimensions[0]=(o=r.filterFrame)==null?void 0:o.width,this.uniforms.dimensions[1]=(l=r.filterFrame)==null?void 0:l.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,s)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let sce=Oz;sce.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var _c={},Bz={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.loop=Aa.conditional=Aa.parse=void 0;var oce=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(l){return t(e,l,n,s)});else if(typeof r=="function")r(e,n,s,t);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(s[o]={},t(e,r[o],n,s[o])):s[o]=r[o](e,n,s,t)}return n};Aa.parse=oce;var ace=function(e,r){return function(n,s,o,l){r(n,s,o)&&l(n,e,s,o)}};Aa.conditional=ace;var lce=function(e,r){return function(n,s,o,l){for(var a=[],c=n.pos;r(n,s,o);){var d={};if(l(n,e,s,d),n.pos===c)break;c=n.pos,a.push(d)}return a}};Aa.loop=lce;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.readBits=Dr.readArray=Dr.readUnsigned=Dr.readString=Dr.peekBytes=Dr.readBytes=Dr.peekByte=Dr.readByte=Dr.buildStream=void 0;var uce=function(e){return{data:e,pos:0}};Dr.buildStream=uce;var Mz=function(){return function(e){return e.data[e.pos++]}};Dr.readByte=Mz;var cce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};Dr.peekByte=cce;var Fw=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};Dr.readBytes=Fw;var dce=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};Dr.peekBytes=dce;var hce=function(e){return function(r){return Array.from(Fw(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};Dr.readString=hce;var fce=function(e){return function(r){var n=Fw(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};Dr.readUnsigned=fce;var pce=function(e,r){return function(n,s,o){for(var l=typeof r=="function"?r(n,s,o):r,a=Fw(e),c=new Array(l),d=0;d<l;d++)c[d]=a(n);return c}};Dr.readArray=pce;var gce=function(e,r,n){for(var s=0,o=0;o<n;o++)s+=e[r+o]&&Math.pow(2,n-o-1);return s},mce=function(e){return function(r){for(var n=Mz()(r),s=new Array(8),o=0;o<8;o++)s[7-o]=!!(n&1<<o);return Object.keys(e).reduce(function(l,a){var c=e[a];return c.length?l[a]=gce(s,c.index,c.length):l[a]=s[c.index],l},{})}};Dr.readBits=mce;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Aa,r=Dr,n={blocks:function(m){for(var y=0,_=[],u=m.data.length,h=0,p=(0,r.readByte)()(m);p!==y&&p;p=(0,r.readByte)()(m)){if(m.pos+p>=u){var v=u-m.pos;_.push((0,r.readBytes)(v)(m)),h+=v;break}_.push((0,r.readBytes)(p)(m)),h+=p}for(var x=new Uint8Array(h),w=0,b=0;b<_.length;b++)x.set(_[b],w),w+=_[b].length;return x}},s=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===249}),o=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(g,m,y){return Math.pow(2,y.descriptor.lct.size+1)})},function(g,m,y){return y.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(g){return(0,r.peekByte)()(g)===44}),l=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(m,y,_){return(0,r.readBytes)(_.text.blockSize)(m)}},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===1}),a=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(m,y,_){return(0,r.readString)(_.blockSize)(m)}},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(g){var m=(0,r.peekBytes)(2)(g);return m[0]===33&&m[1]===254}),d=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(g,m){return Math.pow(2,m.lsd.gct.size+1)})},function(g,m){return m.lsd.gct.exists}),{frames:(0,e.loop)([s,a,c,o,l],function(g){var m=(0,r.peekByte)()(g);return m===33||m===44})}],f=d;t.default=f})(Bz);var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.deinterlace=void 0;var vce=function(e,r){for(var n=new Array(e.length),s=e.length/r,o=function(m,y){var _=e.slice(y*r,(y+1)*r);n.splice.apply(n,[m*r,r].concat(_))},l=[0,4,2,1],a=[8,8,4,2],c=0,d=0;d<4;d++)for(var f=l[d];f<s;f+=a[d])o(f,c),c++;return n};kw.deinterlace=vce;var Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.lzw=void 0;var yce=function(e,r,n){var s=4096,o=-1,l=n,a,c,d,f,g,m,y,S,_,u,b,h,C,A,P,T,p=new Array(n),v=new Array(s),x=new Array(s),w=new Array(s+1);for(h=e,c=1<<h,g=c+1,a=c+2,y=o,f=h+1,d=(1<<f)-1,_=0;_<c;_++)v[_]=0,x[_]=_;var b,S,C,A,T,P;for(b=S=C=A=T=P=0,u=0;u<l;){if(A===0){if(S<f){b+=r[P]<<S,S+=8,P++;continue}if(_=b&d,b>>=f,S-=f,_>a||_==g)break;if(_==c){f=h+1,d=(1<<f)-1,a=c+2,y=o;continue}if(y==o){w[A++]=x[_],y=_,C=_;continue}for(m=_,_==a&&(w[A++]=C,_=y);_>c;)w[A++]=x[_],_=v[_];C=x[_]&255,w[A++]=C,a<s&&(v[a]=y,x[a]=C,a++,!(a&d)&&a<s&&(f++,d+=a)),y=m}A--,p[T++]=w[A],u++}for(u=T;u<l;u++)p[u]=0;return p};Lw.lzw=yce;Object.defineProperty(_c,"__esModule",{value:!0});var _ce=_c.decompressFrames=_c.decompressFrame=Tce=_c.parseGIF=void 0,xce=Cce(Bz),wce=Aa,bce=Dr,Ece=kw,Sce=Lw;function Cce(t){return t&&t.__esModule?t:{default:t}}var Ace=function(e){var r=new Uint8Array(e);return(0,wce.parse)((0,bce.buildStream)(r),xce.default)},Tce=_c.parseGIF=Ace,Dce=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),s=0;s<r;s++){var o=s*4,l=e.pixels[s],a=e.colorTable[l]||[0,0,0];n[o]=a[0],n[o+1]=a[1],n[o+2]=a[2],n[o+3]=l!==e.transparentIndex?255:0}return n},Fz=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var s=e.image,o=s.descriptor.width*s.descriptor.height,l=(0,Sce.lzw)(s.data.minCodeSize,s.data.blocks,o);s.descriptor.lct.interlaced&&(l=(0,Ece.deinterlace)(l,s.descriptor.width));var a={pixels:l,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return s.descriptor.lct&&s.descriptor.lct.exists?a.colorTable=s.lct:a.colorTable=r,e.gce&&(a.delay=(e.gce.delay||10)*10,a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),n&&(a.patch=Dce(a)),a};_c.decompressFrame=Fz;var Pce=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return Fz(n,e.gct,r)})};_ce=_c.decompressFrames=Pce;var kz={};(function(t){var e=function(){var u=new Date,h=4,p=3,v=2,x=1,w=h,b={setLogLevel:function(S){S==this.debug?w=x:S==this.info?w=v:S==this.warn?w=p:(S==this.error,w=h)},debug:function(S,C){console.debug===void 0&&(console.debug=console.log),x>=w&&console.debug("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",C)},log:function(S,C){this.debug(S.msg)},info:function(S,C){v>=w&&console.info("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",C)},warn:function(S,C){p>=w&&console.warn("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",C)},error:function(S,C){h>=w&&console.error("["+e.getDurationString(new Date-u,1e3)+"]","["+S+"]",C)}};return b}();e.getDurationString=function(u,h){var p;function v(A,T){for(var P=""+A,B=P.split(".");B[0].length<T;)B[0]="0"+B[0];return B.join(".")}u<0?(p=!0,u=-u):p=!1;var x=h||1,w=u/x,b=Math.floor(w/3600);w-=b*3600;var S=Math.floor(w/60);w-=S*60;var C=w*1e3;return w=Math.floor(w),C-=w*1e3,C=Math.floor(C),(p?"-":"")+b+":"+v(S,2)+":"+v(w,2)+"."+v(C,3)},e.printRanges=function(u){var h=u.length;if(h>0){for(var p="",v=0;v<h;v++)v>0&&(p+=","),p+="["+e.getDurationString(u.start(v))+","+e.getDurationString(u.end(v))+"]";return p}else return"(empty)"},t.Log=e;var r=function(u){if(u instanceof ArrayBuffer)this.buffer=u,this.dataview=new DataView(u);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(u){var h=Math.max(0,Math.min(this.buffer.byteLength,u));return this.position=isNaN(h)||!isFinite(h)?0:h,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(u,h){var p=0;if(this.position+u<=this.buffer.byteLength){switch(u){case 1:h?p=this.dataview.getInt8(this.position):p=this.dataview.getUint8(this.position);break;case 2:h?p=this.dataview.getInt16(this.position):p=this.dataview.getUint16(this.position);break;case 3:if(h)throw"No method for reading signed 24 bits values";p=this.dataview.getUint8(this.position)<<16,p|=this.dataview.getUint8(this.position+1)<<8,p|=this.dataview.getUint8(this.position+2);break;case 4:h?p=this.dataview.getInt32(this.position):p=this.dataview.getUint32(this.position);break;case 8:if(h)throw"No method for reading signed 64 bits values";p=this.dataview.getUint32(this.position)<<32,p|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+u}return this.position+=u,p}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(u){if(this.position+u<=this.buffer.byteLength){for(var h="",p=0;p<u;p++)h+=String.fromCharCode(this.readUint8());return h}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var u=[];;){var h=this.readUint8();if(h!==0)u.push(h);else break}return String.fromCharCode.apply(null,u)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(u){for(var h=new Uint8Array(u),p=0;p<u;p++)h[p]=this.readUint8();return h},r.prototype.readInt16Array=function(u){for(var h=new Int16Array(u),p=0;p<u;p++)h[p]=this.readInt16();return h},r.prototype.readUint16Array=function(u){for(var h=new Int16Array(u),p=0;p<u;p++)h[p]=this.readUint16();return h},r.prototype.readUint32Array=function(u){for(var h=new Uint32Array(u),p=0;p<u;p++)h[p]=this.readUint32();return h},r.prototype.readInt32Array=function(u){for(var h=new Int32Array(u),p=0;p<u;p++)h[p]=this.readInt32();return h},t.MP4BoxStream=r;var n=function(u,h,p){this._byteOffset=h||0,u instanceof ArrayBuffer?this.buffer=u:typeof u=="object"?(this.dataView=u,h&&(this._byteOffset+=h)):this.buffer=new ArrayBuffer(u||0),this.position=0,this.endianness=p==null?n.LITTLE_ENDIAN:p};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(u){if(this._dynamicSize){var h=this._byteOffset+this.position+u,p=this._buffer.byteLength;if(h<=p){h>this._byteLength&&(this._byteLength=h);return}for(p<1&&(p=1);h>p;)p*=2;var v=new ArrayBuffer(p),x=new Uint8Array(this._buffer),w=new Uint8Array(v,0,x.length);w.set(x),this.buffer=v,this._byteLength=h}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var u=new ArrayBuffer(this._byteLength),h=new Uint8Array(u),p=new Uint8Array(this._buffer,0,h.length);h.set(p),this.buffer=u}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(u){this._buffer=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(u){this._byteOffset=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(u){this._byteOffset=u.byteOffset,this._buffer=u.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+u.byteLength}}),n.prototype.seek=function(u){var h=Math.max(0,Math.min(this.byteLength,u));this.position=isNaN(h)||!isFinite(h)?0:h},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(u){this._realloc(u*1);var h=new Uint8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.readInt32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Int32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var p=new Int16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Int8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readUint32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Uint32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readUint16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var p=new Uint16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readUint8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Uint8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readFloat64Array=function(u,h){u=u==null?this.byteLength-this.position/8:u;var p=new Float64Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readFloat32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Float32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt32=function(u){var h=this._dataView.getInt32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readInt16=function(u){var h=this._dataView.getInt16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readInt8=function(){var u=this._dataView.getInt8(this.position);return this.position+=1,u},n.prototype.readUint32=function(u){var h=this._dataView.getUint32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readUint16=function(u){var h=this._dataView.getUint16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readUint8=function(){var u=this._dataView.getUint8(this.position);return this.position+=1,u},n.prototype.readFloat32=function(u){var h=this._dataView.getFloat32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readFloat64=function(u){var h=this._dataView.getFloat64(this.position,u==null?this.endianness:u);return this.position+=8,h},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(u,h,p,v,x){var w=new Uint8Array(u,h,x),b=new Uint8Array(p,v,x);w.set(b)},n.arrayToNative=function(u,h){return h==this.endianness?u:this.flipArrayEndianness(u)},n.nativeToEndian=function(u,h){return this.endianness==h?u:this.flipArrayEndianness(u)},n.flipArrayEndianness=function(u){for(var h=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),p=0;p<u.byteLength;p+=u.BYTES_PER_ELEMENT)for(var v=p+u.BYTES_PER_ELEMENT-1,x=p;v>x;v--,x++){var w=h[x];h[x]=h[v],h[v]=w}return u},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(u){for(var h=[],p=0;p<u.length;p++)h[p]=u[p];return String.fromCharCode.apply(null,h)},n.prototype.readString=function(u,h){return h==null||h=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(u==null?this.byteLength-this.position:u)]):new TextDecoder(h).decode(this.mapUint8Array(u))},n.prototype.readCString=function(u){var h=this.byteLength-this.position,p=new Uint8Array(this._buffer,this._byteOffset+this.position),v=h;u!=null&&(v=Math.min(u,h));for(var x=0;x<v&&p[x]!==0;x++);var w=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(x)]);return u!=null?this.position+=v-x:x!=h&&(this.position+=1),w};var s=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=n,n.prototype.save=function(u){var h=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var p=window.URL.createObjectURL(h),v=document.createElement("a");document.body.appendChild(v),v.setAttribute("href",p),v.setAttribute("download",u),v.setAttribute("target","_self"),v.click(),window.URL.revokeObjectURL(p)}else throw"DataStream.save: Can't create object URL."},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(u){u||this._trimAlloc(),this._dynamicSize=u}}),n.prototype.shift=function(u){var h=new ArrayBuffer(this._byteLength-u),p=new Uint8Array(h),v=new Uint8Array(this._buffer,u,p.length);p.set(v),this.buffer=h,this.position-=u},n.prototype.writeInt32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Int32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeInt32(u[p],h)},n.prototype.writeInt16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Int16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt16Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeInt16(u[p],h)},n.prototype.writeInt8Array=function(u){if(this._realloc(u.length*1),u instanceof Int8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt8Array(u.length);else for(var h=0;h<u.length;h++)this.writeInt8(u[h])},n.prototype.writeUint32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Uint32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeUint32(u[p],h)},n.prototype.writeUint16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Uint16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint16Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeUint16(u[p],h)},n.prototype.writeUint8Array=function(u){if(this._realloc(u.length*1),u instanceof Uint8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint8Array(u.length);else for(var h=0;h<u.length;h++)this.writeUint8(u[h])},n.prototype.writeFloat64Array=function(u,h){if(this._realloc(u.length*8),u instanceof Float64Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat64Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeFloat64(u[p],h)},n.prototype.writeFloat32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Float32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeFloat32(u[p],h)},n.prototype.writeInt32=function(u,h){this._realloc(4),this._dataView.setInt32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeInt16=function(u,h){this._realloc(2),this._dataView.setInt16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeInt8=function(u){this._realloc(1),this._dataView.setInt8(this.position,u),this.position+=1},n.prototype.writeUint32=function(u,h){this._realloc(4),this._dataView.setUint32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeUint16=function(u,h){this._realloc(2),this._dataView.setUint16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeUint8=function(u){this._realloc(1),this._dataView.setUint8(this.position,u),this.position+=1},n.prototype.writeFloat32=function(u,h){this._realloc(4),this._dataView.setFloat32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeFloat64=function(u,h){this._realloc(8),this._dataView.setFloat64(this.position,u,h==null?this.endianness:h),this.position+=8},n.prototype.writeUCS2String=function(u,h,p){p==null&&(p=u.length);for(var v=0;v<u.length&&v<p;v++)this.writeUint16(u.charCodeAt(v),h);for(;v<p;v++)this.writeUint16(0)},n.prototype.writeString=function(u,h,p){var v=0;if(h==null||h=="ASCII")if(p!=null){var x=Math.min(u.length,p);for(v=0;v<x;v++)this.writeUint8(u.charCodeAt(v));for(;v<p;v++)this.writeUint8(0)}else for(v=0;v<u.length;v++)this.writeUint8(u.charCodeAt(v));else this.writeUint8Array(new TextEncoder(h).encode(u.substring(0,p)))},n.prototype.writeCString=function(u,h){var p=0;if(h!=null){var v=Math.min(u.length,h);for(p=0;p<v;p++)this.writeUint8(u.charCodeAt(p));for(;p<h;p++)this.writeUint8(0)}else{for(p=0;p<u.length;p++)this.writeUint8(u.charCodeAt(p));this.writeUint8(0)}},n.prototype.writeStruct=function(u,h){for(var p=0;p<u.length;p+=2){var v=u[p+1];this.writeType(v,h[u[p]],h)}},n.prototype.writeType=function(u,h,p){var v;if(typeof u=="function")return u(this,h);if(typeof u=="object"&&!(u instanceof Array))return u.set(this,h,p);var x=null,w="ASCII",b=this.position;switch(typeof u=="string"&&/:/.test(u)&&(v=u.split(":"),u=v[0],x=parseInt(v[1])),typeof u=="string"&&/,/.test(u)&&(v=u.split(","),u=v[0],w=parseInt(v[1])),u){case"uint8":this.writeUint8(h);break;case"int8":this.writeInt8(h);break;case"uint16":this.writeUint16(h,this.endianness);break;case"int16":this.writeInt16(h,this.endianness);break;case"uint32":this.writeUint32(h,this.endianness);break;case"int32":this.writeInt32(h,this.endianness);break;case"float32":this.writeFloat32(h,this.endianness);break;case"float64":this.writeFloat64(h,this.endianness);break;case"uint16be":this.writeUint16(h,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(h,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(h,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(h,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(h,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(h,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(h,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(h,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(h,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(h,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(h,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(h,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(h,x);break;case"string":this.writeString(h,w,x);break;case"u16string":this.writeUCS2String(h,this.endianness,x);break;case"u16stringle":this.writeUCS2String(h,n.LITTLE_ENDIAN,x);break;case"u16stringbe":this.writeUCS2String(h,n.BIG_ENDIAN,x);break;default:if(u.length==3){for(var S=u[1],C=0;C<h.length;C++)this.writeType(S,h[C]);break}else{this.writeStruct(u,h);break}}x!=null&&(this.position=b,this._realloc(x),this.position=b+x)},n.prototype.writeUint64=function(u){var h=Math.floor(u/s);this.writeUint32(h),this.writeUint32(u&4294967295)},n.prototype.writeUint24=function(u){this.writeUint8((u&16711680)>>16),this.writeUint8((u&65280)>>8),this.writeUint8(u&255)},n.prototype.adjustUint32=function(u,h){var p=this.position;this.seek(u),this.writeUint32(h),this.seek(p)},n.prototype.mapInt32Array=function(u,h){this._realloc(u*4);var p=new Int32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p},n.prototype.mapInt16Array=function(u,h){this._realloc(u*2);var p=new Int16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*2,p},n.prototype.mapInt8Array=function(u){this._realloc(u*1);var h=new Int8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.mapUint32Array=function(u,h){this._realloc(u*4);var p=new Uint32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p},n.prototype.mapUint16Array=function(u,h){this._realloc(u*2);var p=new Uint16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*2,p},n.prototype.mapFloat64Array=function(u,h){this._realloc(u*8);var p=new Float64Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*8,p},n.prototype.mapFloat32Array=function(u,h){this._realloc(u*4);var p=new Float32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p};var o=function(u){this.buffers=[],this.bufferIndex=-1,u&&(this.insertBuffer(u),this.bufferIndex=0)};o.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN),o.prototype.initialized=function(){var u;return this.bufferIndex>-1?!0:this.buffers.length>0?(u=this.buffers[0],u.fileStart===0?(this.buffer=u,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(u,h){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(u.byteLength+h.byteLength));var p=new Uint8Array(u.byteLength+h.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(h),u.byteLength),p.buffer},o.prototype.reduceBuffer=function(u,h,p){var v;return v=new Uint8Array(p),v.set(new Uint8Array(u,h,p)),v.buffer.fileStart=u.fileStart+h,v.buffer.usedBytes=0,v.buffer},o.prototype.insertBuffer=function(u){for(var h=!0,p=0;p<this.buffers.length;p++){var v=this.buffers[p];if(u.fileStart<=v.fileStart){if(u.fileStart===v.fileStart)if(u.byteLength>v.byteLength){this.buffers.splice(p,1),p--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+") already appended, ignoring");else u.fileStart+u.byteLength<=v.fileStart||(u=this.reduceBuffer(u,0,v.fileStart-u.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.splice(p,0,u),p===0&&(this.buffer=u);h=!1;break}else if(u.fileStart<v.fileStart+v.byteLength){var x=v.fileStart+v.byteLength-u.fileStart,w=u.byteLength-x;if(w>0)u=this.reduceBuffer(u,x,w);else{h=!1;break}}}h&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.push(u),p===0&&(this.buffer=u))},o.prototype.logBufferLevel=function(u){var h,p,v,x,w=[],b,S="";for(v=0,x=0,h=0;h<this.buffers.length;h++)p=this.buffers[h],h===0?(b={},w.push(b),b.start=p.fileStart,b.end=p.fileStart+p.byteLength,S+="["+b.start+"-"):b.end===p.fileStart?b.end=p.fileStart+p.byteLength:(b={},b.start=p.fileStart,S+=w[w.length-1].end-1+"], ["+b.start+"-",b.end=p.fileStart+p.byteLength,w.push(b)),v+=p.usedBytes,x+=p.byteLength;w.length>0&&(S+=b.end-1+"]");var C=u?e.info:e.debug;this.buffers.length===0?C("MultiBufferStream","No more buffer in memory"):C("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+v+"/"+x+" bytes), continuous ranges: "+S)},o.prototype.cleanBuffers=function(){var u,h;for(u=0;u<this.buffers.length;u++)h=this.buffers[u],h.usedBytes===h.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+u),this.buffers.splice(u,1),u--)},o.prototype.mergeNextBuffer=function(){var u;if(this.bufferIndex+1<this.buffers.length)if(u=this.buffers[this.bufferIndex+1],u.fileStart===this.buffer.fileStart+this.buffer.byteLength){var h=this.buffer.byteLength,p=this.buffer.usedBytes,v=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,u),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=p,this.buffer.fileStart=v,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+h+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(u,h,p){var v,x=null,w=-1;for(u===!0?v=0:v=this.bufferIndex;v<this.buffers.length&&(x=this.buffers[v],x.fileStart<=h);){w=v,p&&(x.fileStart+x.byteLength<=h?x.usedBytes=x.byteLength:x.usedBytes=h-x.fileStart,this.logBufferLevel());v++}return w!==-1?(x=this.buffers[w],x.fileStart+x.byteLength>=h?(e.debug("MultiBufferStream","Found position in existing buffer #"+w),w):-1):-1},o.prototype.findEndContiguousBuf=function(u){var h,p,v,x=u!==void 0?u:this.bufferIndex;if(p=this.buffers[x],this.buffers.length>x+1)for(h=x+1;h<this.buffers.length&&(v=this.buffers[h],v.fileStart===p.fileStart+p.byteLength);h++)p=v;return p.fileStart+p.byteLength},o.prototype.getEndFilePositionAfter=function(u){var h=this.findPosition(!0,u,!1);return h!==-1?this.findEndContiguousBuf(h):u},o.prototype.addUsedBytes=function(u){this.buffer.usedBytes+=u,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(u,h,p){var v;return v=this.findPosition(h,u,p),v!==-1?(this.buffer=this.buffers[v],this.bufferIndex=v,this.position=u-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+u+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=o;var l=function(){var u=3,h=4,p=5,v=6,x=[];x[u]="ES_Descriptor",x[h]="DecoderConfigDescriptor",x[p]="DecoderSpecificInfo",x[v]="SLConfigDescriptor",this.getDescriptorName=function(S){return x[S]};var w=this,b={};return this.parseOneDescriptor=function(S){var C=0,A,T,P;for(A=S.readUint8(),P=S.readUint8();P&128;)C=(C<<7)+(P&127),P=S.readUint8();return C=(C<<7)+(P&127),e.debug("MPEG4DescriptorParser","Found "+(x[A]||"Descriptor "+A)+", size "+C+" at position "+S.getPosition()),x[A]?T=new b[x[A]](C):T=new b.Descriptor(C),T.parse(S),T},b.Descriptor=function(S,C){this.tag=S,this.size=C,this.descs=[]},b.Descriptor.prototype.parse=function(S){this.data=S.readUint8Array(this.size)},b.Descriptor.prototype.findDescriptor=function(S){for(var C=0;C<this.descs.length;C++)if(this.descs[C].tag==S)return this.descs[C];return null},b.Descriptor.prototype.parseRemainingDescriptors=function(S){for(var C=S.position;S.position<C+this.size;){var A=w.parseOneDescriptor(S);this.descs.push(A)}},b.ES_Descriptor=function(S){b.Descriptor.call(this,u,S)},b.ES_Descriptor.prototype=new b.Descriptor,b.ES_Descriptor.prototype.parse=function(S){if(this.ES_ID=S.readUint16(),this.flags=S.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=S.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var C=S.readUint8();this.URL=S.readString(C),this.size-=C+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=S.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(S)},b.ES_Descriptor.prototype.getOTI=function(S){var C=this.findDescriptor(h);return C?C.oti:0},b.ES_Descriptor.prototype.getAudioConfig=function(S){var C=this.findDescriptor(h);if(!C)return null;var A=C.findDescriptor(p);if(A&&A.data){var T=(A.data[0]&248)>>3;return T===31&&A.data.length>=2&&(T=32+((A.data[0]&7)<<3)+((A.data[1]&224)>>5)),T}else return null},b.DecoderConfigDescriptor=function(S){b.Descriptor.call(this,h,S)},b.DecoderConfigDescriptor.prototype=new b.Descriptor,b.DecoderConfigDescriptor.prototype.parse=function(S){this.oti=S.readUint8(),this.streamType=S.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=S.readUint24(),this.maxBitrate=S.readUint32(),this.avgBitrate=S.readUint32(),this.size-=13,this.parseRemainingDescriptors(S)},b.DecoderSpecificInfo=function(S){b.Descriptor.call(this,p,S)},b.DecoderSpecificInfo.prototype=new b.Descriptor,b.SLConfigDescriptor=function(S){b.Descriptor.call(this,v,S)},b.SLConfigDescriptor.prototype=new b.Descriptor,this};t.MPEG4DescriptorParser=l;var a={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){a.FullBox.prototype=new a.Box,a.ContainerBox.prototype=new a.Box,a.SampleEntry.prototype=new a.Box,a.TrackGroupTypeBox.prototype=new a.FullBox,a.BASIC_BOXES.forEach(function(u){a.createBoxCtor(u)}),a.FULL_BOXES.forEach(function(u){a.createFullBoxCtor(u)}),a.CONTAINER_BOXES.forEach(function(u){a.createContainerBoxCtor(u[0],null,u[1])})},Box:function(u,h,p){this.type=u,this.size=h,this.uuid=p},FullBox:function(u,h,p){a.Box.call(this,u,h,p),this.flags=0,this.version=0},ContainerBox:function(u,h,p){a.Box.call(this,u,h,p),this.boxes=[]},SampleEntry:function(u,h,p,v){a.ContainerBox.call(this,u,h),this.hdr_size=p,this.start=v},SampleGroupEntry:function(u){this.grouping_type=u},TrackGroupTypeBox:function(u,h){a.FullBox.call(this,u,h)},createBoxCtor:function(u,h){a.boxCodes.push(u),a[u+"Box"]=function(p){a.Box.call(this,u,p)},a[u+"Box"].prototype=new a.Box,h&&(a[u+"Box"].prototype.parse=h)},createFullBoxCtor:function(u,h){a[u+"Box"]=function(p){a.FullBox.call(this,u,p)},a[u+"Box"].prototype=new a.FullBox,a[u+"Box"].prototype.parse=function(p){this.parseFullHeader(p),h&&h.call(this,p)}},addSubBoxArrays:function(u){if(u){this.subBoxNames=u;for(var h=u.length,p=0;p<h;p++)this[u[p]+"s"]=[]}},createContainerBoxCtor:function(u,h,p){a[u+"Box"]=function(v){a.ContainerBox.call(this,u,v),a.addSubBoxArrays.call(this,p)},a[u+"Box"].prototype=new a.ContainerBox,h&&(a[u+"Box"].prototype.parse=h)},createMediaSampleEntryCtor:function(u,h,p){a.sampleEntryCodes[u]=[],a[u+"SampleEntry"]=function(v,x){a.SampleEntry.call(this,v,x),a.addSubBoxArrays.call(this,p)},a[u+"SampleEntry"].prototype=new a.SampleEntry,h&&(a[u+"SampleEntry"].prototype.parse=h)},createSampleEntryCtor:function(u,h,p,v){a.sampleEntryCodes[u].push(h),a[h+"SampleEntry"]=function(x){a[u+"SampleEntry"].call(this,h,x),a.addSubBoxArrays.call(this,v)},a[h+"SampleEntry"].prototype=new a[u+"SampleEntry"],p&&(a[h+"SampleEntry"].prototype.parse=p)},createEncryptedSampleEntryCtor:function(u,h,p){a.createSampleEntryCtor.call(this,u,h,p,["sinf"])},createSampleGroupCtor:function(u,h){a[u+"SampleGroupEntry"]=function(p){a.SampleGroupEntry.call(this,u,p)},a[u+"SampleGroupEntry"].prototype=new a.SampleGroupEntry,h&&(a[u+"SampleGroupEntry"].prototype.parse=h)},createTrackGroupCtor:function(u,h){a[u+"TrackGroupTypeBox"]=function(p){a.TrackGroupTypeBox.call(this,u,p)},a[u+"TrackGroupTypeBox"].prototype=new a.TrackGroupTypeBox,h&&(a[u+"TrackGroupTypeBox"].prototype.parse=h)},createUUIDBox:function(u,h,p,v){a.UUIDs.push(u),a.UUIDBoxes[u]=function(x){h?a.FullBox.call(this,"uuid",x,u):p?a.ContainerBox.call(this,"uuid",x,u):a.Box.call(this,"uuid",x,u)},a.UUIDBoxes[u].prototype=h?new a.FullBox:p?new a.ContainerBox:new a.Box,v&&(h?a.UUIDBoxes[u].prototype.parse=function(x){this.parseFullHeader(x),v&&v.call(this,x)}:a.UUIDBoxes[u].prototype.parse=v)}};a.initialize(),a.TKHD_FLAG_ENABLED=1,a.TKHD_FLAG_IN_MOVIE=2,a.TKHD_FLAG_IN_PREVIEW=4,a.TFHD_FLAG_BASE_DATA_OFFSET=1,a.TFHD_FLAG_SAMPLE_DESC=2,a.TFHD_FLAG_SAMPLE_DUR=8,a.TFHD_FLAG_SAMPLE_SIZE=16,a.TFHD_FLAG_SAMPLE_FLAGS=32,a.TFHD_FLAG_DUR_EMPTY=65536,a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,a.TRUN_FLAGS_DATA_OFFSET=1,a.TRUN_FLAGS_FIRST_FLAG=4,a.TRUN_FLAGS_DURATION=256,a.TRUN_FLAGS_SIZE=512,a.TRUN_FLAGS_FLAGS=1024,a.TRUN_FLAGS_CTS_OFFSET=2048,a.Box.prototype.add=function(u){return this.addBox(new a[u+"Box"])},a.Box.prototype.addBox=function(u){return this.boxes.push(u),this[u.type+"s"]?this[u.type+"s"].push(u):this[u.type]=u,u},a.Box.prototype.set=function(u,h){return this[u]=h,this},a.Box.prototype.addEntry=function(u,h){var p=h||"entries";return this[p]||(this[p]=[]),this[p].push(u),this},t.BoxParser=a,a.parseUUID=function(u){return a.parseHex16(u)},a.parseHex16=function(u){for(var h="",p=0;p<16;p++){var v=u.readUint8().toString(16);h+=v.length===1?"0"+v:v}return h},a.parseOneBox=function(u,h,p){var v,x=u.getPosition(),w=0,b,S;if(u.getEndPosition()-x<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:a.ERR_NOT_ENOUGH_DATA};if(p&&p<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:a.ERR_NOT_ENOUGH_DATA};var C=u.readUint32(),A=u.readString(4),T=A;if(e.debug("BoxParser","Found box of type '"+A+"' and size "+C+" at position "+x),w=8,A=="uuid"){if(u.getEndPosition()-u.getPosition()<16||p-w<16)return u.seek(x),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:a.ERR_NOT_ENOUGH_DATA};S=a.parseUUID(u),w+=16,T=S}if(C==1){if(u.getEndPosition()-u.getPosition()<8||p&&p-w<8)return u.seek(x),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+A+'" box'),{code:a.ERR_NOT_ENOUGH_DATA};C=u.readUint64(),w+=8}else if(C===0){if(p)C=p;else if(A!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+A+"'"),v=new a.Box(A,C),{code:a.OK,box:v,size:v.size}}return C!==0&&C<w?(e.error("BoxParser","Box of type "+A+" has an invalid size "+C+" (too small to be a box)"),{code:a.ERR_NOT_ENOUGH_DATA,type:A,size:C,hdr_size:w,start:x}):C!==0&&p&&C>p?(e.error("BoxParser","Box of type '"+A+"' has a size "+C+" greater than its container size "+p),{code:a.ERR_NOT_ENOUGH_DATA,type:A,size:C,hdr_size:w,start:x}):C!==0&&x+C>u.getEndPosition()?(u.seek(x),e.info("BoxParser","Not enough data in stream to parse the entire '"+A+"' box"),{code:a.ERR_NOT_ENOUGH_DATA,type:A,size:C,hdr_size:w,start:x}):h?{code:a.OK,type:A,size:C,hdr_size:w,start:x}:(a[A+"Box"]?v=new a[A+"Box"](C):A!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+A+"'"),v=new a.Box(A,C),v.has_unparsed_data=!0):a.UUIDBoxes[S]?v=new a.UUIDBoxes[S](C):(e.warn("BoxParser","Unknown uuid type: '"+S+"'"),v=new a.Box(A,C),v.uuid=S,v.has_unparsed_data=!0),v.hdr_size=w,v.start=x,v.write===a.Box.prototype.write&&v.type!=="mdat"&&(e.info("BoxParser","'"+T+"' box writing not yet implemented, keeping unparsed data in memory for later write"),v.parseDataAndRewind(u)),v.parse(u),b=u.getPosition()-(v.start+v.size),b<0?(e.warn("BoxParser","Parsing of box '"+T+"' did not read the entire indicated box data size (missing "+-b+" bytes), seeking forward"),u.seek(v.start+v.size)):b>0&&(e.error("BoxParser","Parsing of box '"+T+"' read "+b+" more bytes than the indicated box data size, seeking backwards"),v.size!==0&&u.seek(v.start+v.size)),{code:a.OK,box:v,size:v.size})},a.Box.prototype.parse=function(u){this.type!="mdat"?this.data=u.readUint8Array(this.size-this.hdr_size):this.size===0?u.seek(u.getEndPosition()):u.seek(this.start+this.size)},a.Box.prototype.parseDataAndRewind=function(u){this.data=u.readUint8Array(this.size-this.hdr_size),u.position-=this.size-this.hdr_size},a.FullBox.prototype.parseDataAndRewind=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,u.position-=this.size-this.hdr_size},a.FullBox.prototype.parseFullHeader=function(u){this.version=u.readUint8(),this.flags=u.readUint24(),this.hdr_size+=4},a.FullBox.prototype.parse=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},a.ContainerBox.prototype.parse=function(u){for(var h,p;u.getPosition()<this.start+this.size;)if(h=a.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===a.OK)if(p=h.box,this.boxes.push(p),this.subBoxNames&&this.subBoxNames.indexOf(p.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(p.type)]+"s"].push(p);else{var v=p.type!=="uuid"?p.type:p.uuid;this[v]?e.warn("Box of type "+v+" already stored in field of this type"):this[v]=p}else return},a.Box.prototype.parseLanguage=function(u){this.language=u.readUint16();var h=[];h[0]=this.language>>10&31,h[1]=this.language>>5&31,h[2]=this.language&31,this.languageString=String.fromCharCode(h[0]+96,h[1]+96,h[2]+96)},a.SAMPLE_ENTRY_TYPE_VISUAL="Visual",a.SAMPLE_ENTRY_TYPE_AUDIO="Audio",a.SAMPLE_ENTRY_TYPE_HINT="Hint",a.SAMPLE_ENTRY_TYPE_METADATA="Metadata",a.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",a.SAMPLE_ENTRY_TYPE_SYSTEM="System",a.SAMPLE_ENTRY_TYPE_TEXT="Text",a.SampleEntry.prototype.parseHeader=function(u){u.readUint8Array(6),this.data_reference_index=u.readUint16(),this.hdr_size+=8},a.SampleEntry.prototype.parse=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},a.SampleEntry.prototype.parseDataAndRewind=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,u.position-=this.size-this.hdr_size},a.SampleEntry.prototype.parseFooter=function(u){a.ContainerBox.prototype.parse.call(this,u)},a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_HINT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,function(u){var h;this.parseHeader(u),u.readUint16(),u.readUint16(),u.readUint32Array(3),this.width=u.readUint16(),this.height=u.readUint16(),this.horizresolution=u.readUint32(),this.vertresolution=u.readUint32(),u.readUint32(),this.frame_count=u.readUint16(),h=Math.min(31,u.readUint8()),this.compressorname=u.readString(h),h<31&&u.readString(31-h),this.depth=u.readUint16(),u.readUint16(),this.parseFooter(u)}),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,function(u){this.parseHeader(u),u.readUint32Array(2),this.channel_count=u.readUint16(),this.samplesize=u.readUint16(),u.readUint16(),u.readUint16(),this.samplerate=u.readUint32()/65536,this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT,"enct"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"encm"),a.createBoxCtor("a1lx",function(u){var h=u.readUint8()&1,p=((h&1)+1)*16;this.layer_size=[];for(var v=0;v<3;v++)p==16?this.layer_size[v]=u.readUint16():this.layer_size[v]=u.readUint32()}),a.createBoxCtor("a1op",function(u){this.op_index=u.readUint8()}),a.createFullBoxCtor("auxC",function(u){this.aux_type=u.readCString();var h=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=u.readUint8Array(h)}),a.createBoxCtor("av1C",function(u){var h=u.readUint8();if(h>>7&!1){e.error("av1C marker problem");return}if(this.version=h&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(h=u.readUint8(),this.seq_profile=h>>5&7,this.seq_level_idx_0=h&31,h=u.readUint8(),this.seq_tier_0=h>>7&1,this.high_bitdepth=h>>6&1,this.twelve_bit=h>>5&1,this.monochrome=h>>4&1,this.chroma_subsampling_x=h>>3&1,this.chroma_subsampling_y=h>>2&1,this.chroma_sample_position=h&3,h=u.readUint8(),this.reserved_1=h>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=h>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=h&15;else if(this.reserved_2=h&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var p=this.size-this.hdr_size-4;this.configOBUs=u.readUint8Array(p)}),a.createBoxCtor("avcC",function(u){var h,p;for(this.configurationVersion=u.readUint8(),this.AVCProfileIndication=u.readUint8(),this.profile_compatibility=u.readUint8(),this.AVCLevelIndication=u.readUint8(),this.lengthSizeMinusOne=u.readUint8()&3,this.nb_SPS_nalus=u.readUint8()&31,p=this.size-this.hdr_size-6,this.SPS=[],h=0;h<this.nb_SPS_nalus;h++)this.SPS[h]={},this.SPS[h].length=u.readUint16(),this.SPS[h].nalu=u.readUint8Array(this.SPS[h].length),p-=2+this.SPS[h].length;for(this.nb_PPS_nalus=u.readUint8(),p--,this.PPS=[],h=0;h<this.nb_PPS_nalus;h++)this.PPS[h]={},this.PPS[h].length=u.readUint16(),this.PPS[h].nalu=u.readUint8Array(this.PPS[h].length),p-=2+this.PPS[h].length;p>0&&(this.ext=u.readUint8Array(p))}),a.createBoxCtor("btrt",function(u){this.bufferSizeDB=u.readUint32(),this.maxBitrate=u.readUint32(),this.avgBitrate=u.readUint32()}),a.createFullBoxCtor("ccst",function(u){var h=u.readUint8();this.all_ref_pics_intra=(h&128)==128,this.intra_pred_used=(h&64)==64,this.max_ref_per_pic=(h&63)>>2,u.readUint24()}),a.createBoxCtor("cdef",function(u){var h;for(this.channel_count=u.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],h=0;h<this.channel_count;h++)this.channel_indexes.push(u.readUint16()),this.channel_types.push(u.readUint16()),this.channel_associations.push(u.readUint16())}),a.createBoxCtor("clap",function(u){this.cleanApertureWidthN=u.readUint32(),this.cleanApertureWidthD=u.readUint32(),this.cleanApertureHeightN=u.readUint32(),this.cleanApertureHeightD=u.readUint32(),this.horizOffN=u.readUint32(),this.horizOffD=u.readUint32(),this.vertOffN=u.readUint32(),this.vertOffD=u.readUint32()}),a.createBoxCtor("clli",function(u){this.max_content_light_level=u.readUint16(),this.max_pic_average_light_level=u.readUint16()}),a.createFullBoxCtor("cmex",function(u){this.flags&1&&(this.pos_x=u.readInt32()),this.flags&2&&(this.pos_y=u.readInt32()),this.flags&4&&(this.pos_z=u.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=u.readInt32(),this.quat_y=u.readInt32(),this.quat_z=u.readInt32()):(this.quat_x=u.readInt16(),this.quat_y=u.readInt16(),this.quat_z=u.readInt16()):this.version==1),this.flags&32&&(this.id=u.readUint32())}),a.createFullBoxCtor("cmin",function(u){this.focal_length_x=u.readInt32(),this.principal_point_x=u.readInt32(),this.principal_point_y=u.readInt32(),this.flags&1&&(this.focal_length_y=u.readInt32(),this.skew_factor=u.readInt32())}),a.createBoxCtor("cmpd",function(u){for(this.component_count=u.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var h=u.readUint16();this.component_types.push(h),h>=32768&&this.component_type_urls.push(u.readCString())}}),a.createFullBoxCtor("co64",function(u){var h,p;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(p=0;p<h;p++)this.chunk_offsets.push(u.readUint64())}),a.createFullBoxCtor("CoLL",function(u){this.maxCLL=u.readUint16(),this.maxFALL=u.readUint16()}),a.createBoxCtor("colr",function(u){if(this.colour_type=u.readString(4),this.colour_type==="nclx"){this.colour_primaries=u.readUint16(),this.transfer_characteristics=u.readUint16(),this.matrix_coefficients=u.readUint16();var h=u.readUint8();this.full_range_flag=h>>7}else this.colour_type==="rICC"?this.ICC_profile=u.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=u.readUint8Array(this.size-4))}),a.createFullBoxCtor("cprt",function(u){this.parseLanguage(u),this.notice=u.readCString()}),a.createFullBoxCtor("cslg",function(u){this.version===0&&(this.compositionToDTSShift=u.readInt32(),this.leastDecodeToDisplayDelta=u.readInt32(),this.greatestDecodeToDisplayDelta=u.readInt32(),this.compositionStartTime=u.readInt32(),this.compositionEndTime=u.readInt32())}),a.createFullBoxCtor("ctts",function(u){var h,p;if(h=u.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(p=0;p<h;p++){this.sample_counts.push(u.readUint32());var v=u.readInt32();v<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(v)}else if(this.version==1)for(p=0;p<h;p++)this.sample_counts.push(u.readUint32()),this.sample_offsets.push(u.readInt32())}),a.createBoxCtor("dac3",function(u){var h=u.readUint8(),p=u.readUint8(),v=u.readUint8();this.fscod=h>>6,this.bsid=h>>1&31,this.bsmod=(h&1)<<2|p>>6&3,this.acmod=p>>3&7,this.lfeon=p>>2&1,this.bit_rate_code=p&3|v>>5&7}),a.createBoxCtor("dec3",function(u){var h=u.readUint16();this.data_rate=h>>3,this.num_ind_sub=h&7,this.ind_subs=[];for(var p=0;p<this.num_ind_sub+1;p++){var v={};this.ind_subs.push(v);var x=u.readUint8(),w=u.readUint8(),b=u.readUint8();v.fscod=x>>6,v.bsid=x>>1&31,v.bsmod=(x&1)<<4|w>>4&15,v.acmod=w>>1&7,v.lfeon=w&1,v.num_dep_sub=b>>1&15,v.num_dep_sub>0&&(v.chan_loc=(b&1)<<8|u.readUint8())}}),a.createFullBoxCtor("dfLa",function(u){var h=127,p=128,v=[],x=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var w=u.readUint8(),b=Math.min(w&h,x.length-1);if(b?u.readUint8Array(u.readUint24()):(u.readUint8Array(13),this.samplerate=u.readUint32()>>12,u.readUint8Array(20)),v.push(x[b]),w&p)break}while(!0);this.numMetadataBlocks=v.length+" ("+v.join(", ")+")"}),a.createBoxCtor("dimm",function(u){this.bytessent=u.readUint64()}),a.createBoxCtor("dmax",function(u){this.time=u.readUint32()}),a.createBoxCtor("dmed",function(u){this.bytessent=u.readUint64()}),a.createBoxCtor("dOps",function(u){if(this.Version=u.readUint8(),this.OutputChannelCount=u.readUint8(),this.PreSkip=u.readUint16(),this.InputSampleRate=u.readUint32(),this.OutputGain=u.readInt16(),this.ChannelMappingFamily=u.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=u.readUint8(),this.CoupledCount=u.readUint8(),this.ChannelMapping=[];for(var h=0;h<this.OutputChannelCount;h++)this.ChannelMapping[h]=u.readUint8()}}),a.createFullBoxCtor("dref",function(u){var h,p;this.entries=[];for(var v=u.readUint32(),x=0;x<v;x++)if(h=a.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===a.OK)p=h.box,this.entries.push(p);else return}),a.createBoxCtor("drep",function(u){this.bytessent=u.readUint64()}),a.createFullBoxCtor("elng",function(u){this.extended_language=u.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("elst",function(u){this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.entries.push(v),this.version===1?(v.segment_duration=u.readUint64(),v.media_time=u.readInt64()):(v.segment_duration=u.readUint32(),v.media_time=u.readInt32()),v.media_rate_integer=u.readInt16(),v.media_rate_fraction=u.readInt16()}}),a.createFullBoxCtor("emsg",function(u){this.version==1?(this.timescale=u.readUint32(),this.presentation_time=u.readUint64(),this.event_duration=u.readUint32(),this.id=u.readUint32(),this.scheme_id_uri=u.readCString(),this.value=u.readCString()):(this.scheme_id_uri=u.readCString(),this.value=u.readCString(),this.timescale=u.readUint32(),this.presentation_time_delta=u.readUint32(),this.event_duration=u.readUint32(),this.id=u.readUint32());var h=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(h-=4),this.message_data=u.readUint8Array(h)}),a.createEntityToGroupCtor=function(u,h){a[u+"Box"]=function(p){a.FullBox.call(this,u,p)},a[u+"Box"].prototype=new a.FullBox,a[u+"Box"].prototype.parse=function(p){if(this.parseFullHeader(p),h)h.call(this,p);else for(this.group_id=p.readUint32(),this.num_entities_in_group=p.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var v=p.readUint32();this.entity_ids.push(v)}}},a.createEntityToGroupCtor("aebr"),a.createEntityToGroupCtor("afbr"),a.createEntityToGroupCtor("albc"),a.createEntityToGroupCtor("altr"),a.createEntityToGroupCtor("brst"),a.createEntityToGroupCtor("dobr"),a.createEntityToGroupCtor("eqiv"),a.createEntityToGroupCtor("favc"),a.createEntityToGroupCtor("fobr"),a.createEntityToGroupCtor("iaug"),a.createEntityToGroupCtor("pano"),a.createEntityToGroupCtor("slid"),a.createEntityToGroupCtor("ster"),a.createEntityToGroupCtor("tsyn"),a.createEntityToGroupCtor("wbbr"),a.createEntityToGroupCtor("prgr"),a.createEntityToGroupCtor("pymd",function(u){this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[];for(var h=0;h<this.num_entities_in_group;h++){var p=u.readUint32();this.entity_ids.push(p)}for(this.tile_size_x=u.readUint16(),this.tile_size_y=u.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],h=0;h<this.num_entities_in_group;h++)this.layer_binning[h]=u.readUint16(),this.tiles_in_layer_row_minus1[h]=u.readUint16(),this.tiles_in_layer_column_minus1[h]=u.readUint16()}),a.createFullBoxCtor("esds",function(u){var h=u.readUint8Array(this.size-this.hdr_size);if(typeof l<"u"){var p=new l;this.esd=p.parseOneDescriptor(new n(h.buffer,0,n.BIG_ENDIAN))}}),a.createBoxCtor("fiel",function(u){this.fieldCount=u.readUint8(),this.fieldOrdering=u.readUint8()}),a.createBoxCtor("frma",function(u){this.data_format=u.readString(4)}),a.createBoxCtor("ftyp",function(u){var h=this.size-this.hdr_size;this.major_brand=u.readString(4),this.minor_version=u.readUint32(),h-=8,this.compatible_brands=[];for(var p=0;h>=4;)this.compatible_brands[p]=u.readString(4),h-=4,p++}),a.createFullBoxCtor("hdlr",function(u){this.version===0&&(u.readUint32(),this.handler=u.readString(4),u.readUint32Array(3),this.name=u.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),a.createBoxCtor("hvcC",function(u){var h,p,v,x;this.configurationVersion=u.readUint8(),x=u.readUint8(),this.general_profile_space=x>>6,this.general_tier_flag=(x&32)>>5,this.general_profile_idc=x&31,this.general_profile_compatibility=u.readUint32(),this.general_constraint_indicator=u.readUint8Array(6),this.general_level_idc=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,this.chroma_format_idc=u.readUint8()&3,this.bit_depth_luma_minus8=u.readUint8()&7,this.bit_depth_chroma_minus8=u.readUint8()&7,this.avgFrameRate=u.readUint16(),x=u.readUint8(),this.constantFrameRate=x>>6,this.numTemporalLayers=(x&13)>>3,this.temporalIdNested=(x&4)>>2,this.lengthSizeMinusOne=x&3,this.nalu_arrays=[];var w=u.readUint8();for(h=0;h<w;h++){var b=[];this.nalu_arrays.push(b),x=u.readUint8(),b.completeness=(x&128)>>7,b.nalu_type=x&63;var S=u.readUint16();for(p=0;p<S;p++){var C={};b.push(C),v=u.readUint16(),C.data=u.readUint8Array(v)}}}),a.createFullBoxCtor("iinf",function(u){var h;this.version===0?this.entry_count=u.readUint16():this.entry_count=u.readUint32(),this.item_infos=[];for(var p=0;p<this.entry_count;p++)if(h=a.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===a.OK)h.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+h.box.type),this.item_infos[p]=h.box;else return}),a.createFullBoxCtor("iloc",function(u){var h;h=u.readUint8(),this.offset_size=h>>4&15,this.length_size=h&15,h=u.readUint8(),this.base_offset_size=h>>4&15,this.version===1||this.version===2?this.index_size=h&15:this.index_size=0,this.items=[];var p=0;if(this.version<2)p=u.readUint16();else if(this.version===2)p=u.readUint32();else throw"version of iloc box not supported";for(var v=0;v<p;v++){var x={};if(this.items.push(x),this.version<2)x.item_ID=u.readUint16();else if(this.version===2)x.item_ID=u.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?x.construction_method=u.readUint16()&15:x.construction_method=0,x.data_reference_index=u.readUint16(),this.base_offset_size){case 0:x.base_offset=0;break;case 4:x.base_offset=u.readUint32();break;case 8:x.base_offset=u.readUint64();break;default:throw"Error reading base offset size"}var w=u.readUint16();x.extents=[];for(var b=0;b<w;b++){var S={};if(x.extents.push(S),this.version===1||this.version===2)switch(this.index_size){case 0:S.extent_index=0;break;case 4:S.extent_index=u.readUint32();break;case 8:S.extent_index=u.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:S.extent_offset=0;break;case 4:S.extent_offset=u.readUint32();break;case 8:S.extent_offset=u.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:S.extent_length=0;break;case 4:S.extent_length=u.readUint32();break;case 8:S.extent_length=u.readUint64();break;default:throw"Error reading extent index"}}}}),a.createBoxCtor("imir",function(u){var h=u.readUint8();this.reserved=h>>7,this.axis=h&1}),a.createFullBoxCtor("infe",function(u){if((this.version===0||this.version===1)&&(this.item_ID=u.readUint16(),this.item_protection_index=u.readUint16(),this.item_name=u.readCString(),this.content_type=u.readCString(),this.content_encoding=u.readCString()),this.version===1){this.extension_type=u.readString(4),e.warn("BoxParser","Cannot parse extension type"),u.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=u.readUint16():this.version===3&&(this.item_ID=u.readUint32()),this.item_protection_index=u.readUint16(),this.item_type=u.readString(4),this.item_name=u.readCString(),this.item_type==="mime"?(this.content_type=u.readCString(),this.content_encoding=u.readCString()):this.item_type==="uri "&&(this.item_uri_type=u.readCString()))}),a.createFullBoxCtor("ipma",function(u){var h,p;for(entry_count=u.readUint32(),this.associations=[],h=0;h<entry_count;h++){var v={};this.associations.push(v),this.version<1?v.id=u.readUint16():v.id=u.readUint32();var x=u.readUint8();for(v.props=[],p=0;p<x;p++){var w=u.readUint8(),b={};v.props.push(b),b.essential=(w&128)>>7===1,this.flags&1?b.property_index=(w&127)<<8|u.readUint8():b.property_index=w&127}}}),a.createFullBoxCtor("iref",function(u){var h,p;for(this.references=[];u.getPosition()<this.start+this.size;)if(h=a.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===a.OK)this.version===0?p=new a.SingleItemTypeReferenceBox(h.type,h.size,h.hdr_size,h.start):p=new a.SingleItemTypeReferenceBoxLarge(h.type,h.size,h.hdr_size,h.start),p.write===a.Box.prototype.write&&p.type!=="mdat"&&(e.warn("BoxParser",p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.references.push(p);else return}),a.createBoxCtor("irot",function(u){this.angle=u.readUint8()&3}),a.createFullBoxCtor("ispe",function(u){this.image_width=u.readUint32(),this.image_height=u.readUint32()}),a.createFullBoxCtor("kind",function(u){this.schemeURI=u.readCString(),this.value=u.readCString()}),a.createFullBoxCtor("leva",function(u){var h=u.readUint8();this.levels=[];for(var p=0;p<h;p++){var v={};this.levels[p]=v,v.track_ID=u.readUint32();var x=u.readUint8();switch(v.padding_flag=x>>7,v.assignment_type=x&127,v.assignment_type){case 0:v.grouping_type=u.readString(4);break;case 1:v.grouping_type=u.readString(4),v.grouping_type_parameter=u.readUint32();break;case 2:break;case 3:break;case 4:v.sub_track_id=u.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),a.createBoxCtor("lhvC",function(u){var h,p,v;this.configurationVersion=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,v=u.readUint8(),this.numTemporalLayers=(v&13)>>3,this.temporalIdNested=(v&4)>>2,this.lengthSizeMinusOne=v&3,this.nalu_arrays=[];var x=u.readUint8();for(h=0;h<x;h++){var w=[];this.nalu_arrays.push(w),v=u.readUint8(),w.completeness=(v&128)>>7,w.nalu_type=v&63;var b=u.readUint16();for(p=0;p<b;p++){var S={};w.push(S);var C=u.readUint16();S.data=u.readUint8Array(C)}}}),a.createBoxCtor("lsel",function(u){this.layer_id=u.readUint16()}),a.createBoxCtor("maxr",function(u){this.period=u.readUint32(),this.bytes=u.readUint32()});function c(u,h){this.x=u,this.y=h}c.prototype.toString=function(){return"("+this.x+","+this.y+")"},a.createBoxCtor("mdcv",function(u){this.display_primaries=[],this.display_primaries[0]=new c(u.readUint16(),u.readUint16()),this.display_primaries[1]=new c(u.readUint16(),u.readUint16()),this.display_primaries[2]=new c(u.readUint16(),u.readUint16()),this.white_point=new c(u.readUint16(),u.readUint16()),this.max_display_mastering_luminance=u.readUint32(),this.min_display_mastering_luminance=u.readUint32()}),a.createFullBoxCtor("mdhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.parseLanguage(u),u.readUint16()}),a.createFullBoxCtor("mehd",function(u){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=u.readUint64():this.fragment_duration=u.readUint32()}),a.createFullBoxCtor("meta",function(u){this.boxes=[],a.ContainerBox.prototype.parse.call(this,u)}),a.createFullBoxCtor("mfhd",function(u){this.sequence_number=u.readUint32()}),a.createFullBoxCtor("mfro",function(u){this._size=u.readUint32()}),a.createFullBoxCtor("mskC",function(u){this.bits_per_pixel=u.readUint8()}),a.createFullBoxCtor("mvhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.rate=u.readUint32(),this.volume=u.readUint16()>>8,u.readUint16(),u.readUint32Array(2),this.matrix=u.readUint32Array(9),u.readUint32Array(6),this.next_track_id=u.readUint32()}),a.createBoxCtor("npck",function(u){this.packetssent=u.readUint32()}),a.createBoxCtor("nump",function(u){this.packetssent=u.readUint64()}),a.createFullBoxCtor("padb",function(u){var h=u.readUint32();this.padbits=[];for(var p=0;p<Math.floor((h+1)/2);p++)this.padbits=u.readUint8()}),a.createBoxCtor("pasp",function(u){this.hSpacing=u.readUint32(),this.vSpacing=u.readUint32()}),a.createBoxCtor("payl",function(u){this.text=u.readString(this.size-this.hdr_size)}),a.createBoxCtor("payt",function(u){this.payloadID=u.readUint32();var h=u.readUint8();this.rtpmap_string=u.readString(h)}),a.createFullBoxCtor("pdin",function(u){var h=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var p=0;p<h;p++)this.rate[p]=u.readUint32(),this.initial_delay[p]=u.readUint32()}),a.createFullBoxCtor("pitm",function(u){this.version===0?this.item_id=u.readUint16():this.item_id=u.readUint32()}),a.createFullBoxCtor("pixi",function(u){var h;for(this.num_channels=u.readUint8(),this.bits_per_channels=[],h=0;h<this.num_channels;h++)this.bits_per_channels[h]=u.readUint8()}),a.createBoxCtor("pmax",function(u){this.bytes=u.readUint32()}),a.createFullBoxCtor("prdi",function(u){if(this.step_count=u.readUint16(),this.item_count=[],this.flags&2)for(var h=0;h<this.step_count;h++)this.item_count[h]=u.readUint16()}),a.createFullBoxCtor("prft",function(u){this.ref_track_id=u.readUint32(),this.ntp_timestamp=u.readUint64(),this.version===0?this.media_time=u.readUint32():this.media_time=u.readUint64()}),a.createFullBoxCtor("pssh",function(u){if(this.system_id=a.parseHex16(u),this.version>0){var h=u.readUint32();this.kid=[];for(var p=0;p<h;p++)this.kid[p]=a.parseHex16(u)}var v=u.readUint32();v>0&&(this.data=u.readUint8Array(v))}),a.createFullBoxCtor("clef",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),a.createFullBoxCtor("enof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),a.createFullBoxCtor("prof",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),a.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),a.createBoxCtor("rtp ",function(u){this.descriptionformat=u.readString(4),this.sdptext=u.readString(this.size-this.hdr_size-4)}),a.createFullBoxCtor("saio",function(u){this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32());var h=u.readUint32();this.offset=[];for(var p=0;p<h;p++)this.version===0?this.offset[p]=u.readUint32():this.offset[p]=u.readUint64()}),a.createFullBoxCtor("saiz",function(u){if(this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32()),this.default_sample_info_size=u.readUint8(),this.sample_count=u.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var h=0;h<this.sample_count;h++)this.sample_info_size[h]=u.readUint8()}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(u){this.parseHeader(u),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.auxiliary_mime_types=u.readCString(),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(u){this.parseHeader(u),this.displayFlags=u.readUint32(),this.horizontal_justification=u.readInt8(),this.vertical_justification=u.readInt8(),this.bg_color_rgba=u.readUint8Array(4),this.box_record=u.readInt16Array(4),this.style_record=u.readUint8Array(12),this.parseFooter(u)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(u){this.parseHeader(u),this.parseFooter(u)}),a.createSampleGroupCtor("alst",function(u){var h,p=u.readUint16();for(this.first_output_sample=u.readUint16(),this.sample_offset=[],h=0;h<p;h++)this.sample_offset[h]=u.readUint32();var v=this.description_length-4-4*p;for(this.num_output_samples=[],this.num_total_samples=[],h=0;h<v/4;h++)this.num_output_samples[h]=u.readUint16(),this.num_total_samples[h]=u.readUint16()}),a.createSampleGroupCtor("avll",function(u){this.layerNumber=u.readUint8(),this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()}),a.createSampleGroupCtor("avss",function(u){this.subSequenceIdentifier=u.readUint16(),this.layerNumber=u.readUint8();var h=u.readUint8();this.durationFlag=h>>7,this.avgRateFlag=h>>6&1,this.durationFlag&&(this.duration=u.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()),this.dependency=[];for(var p=u.readUint8(),v=0;v<p;v++){var x={};this.dependency.push(x),x.subSeqDirectionFlag=u.readUint8(),x.layerNumber=u.readUint8(),x.subSequenceIdentifier=u.readUint16()}}),a.createSampleGroupCtor("dtrt",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("mvif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("prol",function(u){this.roll_distance=u.readInt16()}),a.createSampleGroupCtor("rap ",function(u){var h=u.readUint8();this.num_leading_samples_known=h>>7,this.num_leading_samples=h&127}),a.createSampleGroupCtor("rash",function(u){if(this.operation_point_count=u.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=u.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=u.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var h=0;h<this.operation_point_count;h++)this.available_bitrate[h]=u.readUint32(),this.target_rate_share[h]=u.readUint16()}this.maximum_bitrate=u.readUint32(),this.minimum_bitrate=u.readUint32(),this.discard_priority=u.readUint8()}}),a.createSampleGroupCtor("roll",function(u){this.roll_distance=u.readInt16()}),a.SampleGroupEntry.prototype.parse=function(u){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=u.readUint8Array(this.description_length)},a.createSampleGroupCtor("scif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("scnm",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("seig",function(u){this.reserved=u.readUint8();var h=u.readUint8();this.crypt_byte_block=h>>4,this.skip_byte_block=h&15,this.isProtected=u.readUint8(),this.Per_Sample_IV_Size=u.readUint8(),this.KID=a.parseHex16(u),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=u.readUint8(),this.constant_IV=u.readUint8Array(this.constant_IV_size))}),a.createSampleGroupCtor("stsa",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("sync",function(u){var h=u.readUint8();this.NAL_unit_type=h&63}),a.createSampleGroupCtor("tele",function(u){var h=u.readUint8();this.level_independently_decodable=h>>7}),a.createSampleGroupCtor("tsas",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("tscl",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("vipr",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createFullBoxCtor("sbgp",function(u){this.grouping_type=u.readString(4),this.version===1?this.grouping_type_parameter=u.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.entries.push(v),v.sample_count=u.readInt32(),v.group_description_index=u.readInt32()}});function d(u,h){this.bad_pixel_row=u,this.bad_pixel_column=h}d.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},a.createFullBoxCtor("sbpm",function(u){var h;for(this.component_count=u.readUint16(),this.component_index=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16());var p=u.readUint8();for(this.correction_applied=(p&128)==128,this.num_bad_rows=u.readUint32(),this.num_bad_cols=u.readUint32(),this.num_bad_pixels=u.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],h=0;h<this.num_bad_rows;h++)this.bad_rows.push(u.readUint32());for(h=0;h<this.num_bad_cols;h++)this.bad_columns.push(u.readUint32());for(h=0;h<this.num_bad_pixels;h++){var v=u.readUint32(),x=u.readUint32();this.bad_pixels.push(new d(v,x))}}),a.createFullBoxCtor("schm",function(u){this.scheme_type=u.readString(4),this.scheme_version=u.readUint32(),this.flags&1&&(this.scheme_uri=u.readString(this.size-this.hdr_size-8))}),a.createBoxCtor("sdp ",function(u){this.sdptext=u.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("sdtp",function(u){var h,p=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var v=0;v<p;v++)h=u.readUint8(),this.is_leading[v]=h>>6,this.sample_depends_on[v]=h>>4&3,this.sample_is_depended_on[v]=h>>2&3,this.sample_has_redundancy[v]=h&3}),a.createFullBoxCtor("senc"),a.createFullBoxCtor("sgpd",function(u){this.grouping_type=u.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=u.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=u.readUint32()),this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v;a[this.grouping_type+"SampleGroupEntry"]?v=new a[this.grouping_type+"SampleGroupEntry"](this.grouping_type):v=new a.SampleGroupEntry(this.grouping_type),this.entries.push(v),this.version===1?this.default_length===0?v.description_length=u.readUint32():v.description_length=this.default_length:v.description_length=this.default_length,v.write===a.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),v.data=u.readUint8Array(v.description_length),u.position-=v.description_length),v.parse(u)}}),a.createFullBoxCtor("sidx",function(u){this.reference_ID=u.readUint32(),this.timescale=u.readUint32(),this.version===0?(this.earliest_presentation_time=u.readUint32(),this.first_offset=u.readUint32()):(this.earliest_presentation_time=u.readUint64(),this.first_offset=u.readUint64()),u.readUint16(),this.references=[];for(var h=u.readUint16(),p=0;p<h;p++){var v={};this.references.push(v);var x=u.readUint32();v.reference_type=x>>31&1,v.referenced_size=x&2147483647,v.subsegment_duration=u.readUint32(),x=u.readUint32(),v.starts_with_SAP=x>>31&1,v.SAP_type=x>>28&7,v.SAP_delta_time=x&268435455}}),a.SingleItemTypeReferenceBox=function(u,h,p,v){a.Box.call(this,u,h),this.hdr_size=p,this.start=v},a.SingleItemTypeReferenceBox.prototype=new a.Box,a.SingleItemTypeReferenceBox.prototype.parse=function(u){this.from_item_ID=u.readUint16();var h=u.readUint16();this.references=[];for(var p=0;p<h;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint16()},a.SingleItemTypeReferenceBoxLarge=function(u,h,p,v){a.Box.call(this,u,h),this.hdr_size=p,this.start=v},a.SingleItemTypeReferenceBoxLarge.prototype=new a.Box,a.SingleItemTypeReferenceBoxLarge.prototype.parse=function(u){this.from_item_ID=u.readUint32();var h=u.readUint16();this.references=[];for(var p=0;p<h;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint32()},a.createFullBoxCtor("SmDm",function(u){this.primaryRChromaticity_x=u.readUint16(),this.primaryRChromaticity_y=u.readUint16(),this.primaryGChromaticity_x=u.readUint16(),this.primaryGChromaticity_y=u.readUint16(),this.primaryBChromaticity_x=u.readUint16(),this.primaryBChromaticity_y=u.readUint16(),this.whitePointChromaticity_x=u.readUint16(),this.whitePointChromaticity_y=u.readUint16(),this.luminanceMax=u.readUint32(),this.luminanceMin=u.readUint32()}),a.createFullBoxCtor("smhd",function(u){this.balance=u.readUint16(),u.readUint16()}),a.createFullBoxCtor("ssix",function(u){this.subsegments=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.subsegments.push(v),v.ranges=[];for(var x=u.readUint32(),w=0;w<x;w++){var b={};v.ranges.push(b),b.level=u.readUint8(),b.range_size=u.readUint24()}}}),a.createFullBoxCtor("stco",function(u){var h;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(var p=0;p<h;p++)this.chunk_offsets.push(u.readUint32())}),a.createFullBoxCtor("stdp",function(u){var h=(this.size-this.hdr_size)/2;this.priority=[];for(var p=0;p<h;p++)this.priority[p]=u.readUint16()}),a.createFullBoxCtor("sthd"),a.createFullBoxCtor("stri",function(u){this.switch_group=u.readUint16(),this.alternate_group=u.readUint16(),this.sub_track_id=u.readUint32();var h=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var p=0;p<h;p++)this.attribute_list[p]=u.readUint32()}),a.createFullBoxCtor("stsc",function(u){var h,p;if(h=u.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(p=0;p<h;p++)this.first_chunk.push(u.readUint32()),this.samples_per_chunk.push(u.readUint32()),this.sample_description_index.push(u.readUint32())}),a.createFullBoxCtor("stsd",function(u){var h,p,v,x;for(this.entries=[],v=u.readUint32(),h=1;h<=v;h++)if(p=a.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),p.code===a.OK)a[p.type+"SampleEntry"]?(x=new a[p.type+"SampleEntry"](p.size),x.hdr_size=p.hdr_size,x.start=p.start):(e.warn("BoxParser","Unknown sample entry type: "+p.type),x=new a.SampleEntry(p.type,p.size,p.hdr_size,p.start)),x.write===a.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+x.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),x.parseDataAndRewind(u)),x.parse(u),this.entries.push(x);else return}),a.createFullBoxCtor("stsg",function(u){this.grouping_type=u.readUint32();var h=u.readUint16();this.group_description_index=[];for(var p=0;p<h;p++)this.group_description_index[p]=u.readUint32()}),a.createFullBoxCtor("stsh",function(u){var h,p;if(h=u.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(p=0;p<h;p++)this.shadowed_sample_numbers.push(u.readUint32()),this.sync_sample_numbers.push(u.readUint32())}),a.createFullBoxCtor("stss",function(u){var h,p;if(p=u.readUint32(),this.version===0)for(this.sample_numbers=[],h=0;h<p;h++)this.sample_numbers.push(u.readUint32())}),a.createFullBoxCtor("stsz",function(u){var h;if(this.sample_sizes=[],this.version===0)for(this.sample_size=u.readUint32(),this.sample_count=u.readUint32(),h=0;h<this.sample_count;h++)this.sample_size===0?this.sample_sizes.push(u.readUint32()):this.sample_sizes[h]=this.sample_size}),a.createFullBoxCtor("stts",function(u){var h,p,v;if(h=u.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(p=0;p<h;p++)this.sample_counts.push(u.readUint32()),v=u.readInt32(),v<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),v=1),this.sample_deltas.push(v)}),a.createFullBoxCtor("stvi",function(u){var h=u.readUint32();this.single_view_allowed=h&3,this.stereo_scheme=u.readUint32();var p=u.readUint32();this.stereo_indication_type=u.readString(p);var v,x;for(this.boxes=[];u.getPosition()<this.start+this.size;)if(v=a.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),v.code===a.OK)x=v.box,this.boxes.push(x),this[x.type]=x;else return}),a.createBoxCtor("styp",function(u){a.ftypBox.prototype.parse.call(this,u)}),a.createFullBoxCtor("stz2",function(u){var h,p;if(this.sample_sizes=[],this.version===0)if(this.reserved=u.readUint24(),this.field_size=u.readUint8(),p=u.readUint32(),this.field_size===4)for(h=0;h<p;h+=2){var v=u.readUint8();this.sample_sizes[h]=v>>4&15,this.sample_sizes[h+1]=v&15}else if(this.field_size===8)for(h=0;h<p;h++)this.sample_sizes[h]=u.readUint8();else if(this.field_size===16)for(h=0;h<p;h++)this.sample_sizes[h]=u.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),a.createFullBoxCtor("subs",function(u){var h,p,v,x;for(v=u.readUint32(),this.entries=[],h=0;h<v;h++){var w={};if(this.entries[h]=w,w.sample_delta=u.readUint32(),w.subsamples=[],x=u.readUint16(),x>0)for(p=0;p<x;p++){var b={};w.subsamples.push(b),this.version==1?b.size=u.readUint32():b.size=u.readUint16(),b.priority=u.readUint8(),b.discardable=u.readUint8(),b.codec_specific_parameters=u.readUint32()}}}),a.createFullBoxCtor("tenc",function(u){if(u.readUint8(),this.version===0)u.readUint8();else{var h=u.readUint8();this.default_crypt_byte_block=h>>4&15,this.default_skip_byte_block=h&15}this.default_isProtected=u.readUint8(),this.default_Per_Sample_IV_Size=u.readUint8(),this.default_KID=a.parseHex16(u),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=u.readUint8(),this.default_constant_IV=u.readUint8Array(this.default_constant_IV_size))}),a.createFullBoxCtor("tfdt",function(u){this.version==1?this.baseMediaDecodeTime=u.readUint64():this.baseMediaDecodeTime=u.readUint32()}),a.createFullBoxCtor("tfhd",function(u){var h=0;this.track_id=u.readUint32(),this.size-this.hdr_size>h&&this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=u.readUint64(),h+=8):this.base_data_offset=0,this.size-this.hdr_size>h&&this.flags&a.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=u.readUint32(),h+=4):this.default_sample_description_index=0,this.size-this.hdr_size>h&&this.flags&a.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=u.readUint32(),h+=4):this.default_sample_duration=0,this.size-this.hdr_size>h&&this.flags&a.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=u.readUint32(),h+=4):this.default_sample_size=0,this.size-this.hdr_size>h&&this.flags&a.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=u.readUint32(),h+=4):this.default_sample_flags=0}),a.createFullBoxCtor("tfra",function(u){this.track_ID=u.readUint32(),u.readUint24();var h=u.readUint8();this.length_size_of_traf_num=h>>4&3,this.length_size_of_trun_num=h>>2&3,this.length_size_of_sample_num=h&3,this.entries=[];for(var p=u.readUint32(),v=0;v<p;v++)this.version===1?(this.time=u.readUint64(),this.moof_offset=u.readUint64()):(this.time=u.readUint32(),this.moof_offset=u.readUint32()),this.traf_number=u["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=u["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=u["readUint"+8*(this.length_size_of_sample_num+1)]()}),a.createFullBoxCtor("tkhd",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint32()),u.readUint32Array(2),this.layer=u.readInt16(),this.alternate_group=u.readInt16(),this.volume=u.readInt16()>>8,u.readUint16(),this.matrix=u.readInt32Array(9),this.width=u.readUint32(),this.height=u.readUint32()}),a.createBoxCtor("tmax",function(u){this.time=u.readUint32()}),a.createBoxCtor("tmin",function(u){this.time=u.readUint32()}),a.createBoxCtor("totl",function(u){this.bytessent=u.readUint32()}),a.createBoxCtor("tpay",function(u){this.bytessent=u.readUint32()}),a.createBoxCtor("tpyl",function(u){this.bytessent=u.readUint64()}),a.TrackGroupTypeBox.prototype.parse=function(u){this.parseFullHeader(u),this.track_group_id=u.readUint32()},a.createTrackGroupCtor("msrc"),a.TrackReferenceTypeBox=function(u,h,p,v){a.Box.call(this,u,h),this.hdr_size=p,this.start=v},a.TrackReferenceTypeBox.prototype=new a.Box,a.TrackReferenceTypeBox.prototype.parse=function(u){this.track_ids=u.readUint32Array((this.size-this.hdr_size)/4)},a.trefBox.prototype.parse=function(u){for(var h,p;u.getPosition()<this.start+this.size;)if(h=a.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===a.OK)p=new a.TrackReferenceTypeBox(h.type,h.size,h.hdr_size,h.start),p.write===a.Box.prototype.write&&p.type!=="mdat"&&(e.info("BoxParser","TrackReference "+p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.boxes.push(p);else return},a.createFullBoxCtor("trep",function(u){for(this.track_ID=u.readUint32(),this.boxes=[];u.getPosition()<this.start+this.size;)if(ret=a.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),ret.code===a.OK)box=ret.box,this.boxes.push(box);else return}),a.createFullBoxCtor("trex",function(u){this.track_id=u.readUint32(),this.default_sample_description_index=u.readUint32(),this.default_sample_duration=u.readUint32(),this.default_sample_size=u.readUint32(),this.default_sample_flags=u.readUint32()}),a.createBoxCtor("trpy",function(u){this.bytessent=u.readUint64()}),a.createFullBoxCtor("trun",function(u){var h=0;if(this.sample_count=u.readUint32(),h+=4,this.size-this.hdr_size>h&&this.flags&a.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=u.readInt32(),h+=4):this.data_offset=0,this.size-this.hdr_size>h&&this.flags&a.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=u.readUint32(),h+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>h)for(var p=0;p<this.sample_count;p++)this.flags&a.TRUN_FLAGS_DURATION&&(this.sample_duration[p]=u.readUint32()),this.flags&a.TRUN_FLAGS_SIZE&&(this.sample_size[p]=u.readUint32()),this.flags&a.TRUN_FLAGS_FLAGS&&(this.sample_flags[p]=u.readUint32()),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[p]=u.readUint32():this.sample_composition_time_offset[p]=u.readInt32())}),a.createFullBoxCtor("tsel",function(u){this.switch_group=u.readUint32();var h=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var p=0;p<h;p++)this.attribute_list[p]=u.readUint32()}),a.createFullBoxCtor("txtC",function(u){this.config=u.readCString()}),a.createBoxCtor("tyco",function(u){var h=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var p=0;p<h;p++)this.compatible_brands[p]=u.readString(4)}),a.createFullBoxCtor("udes",function(u){this.lang=u.readCString(),this.name=u.readCString(),this.description=u.readCString(),this.tags=u.readCString()}),a.createFullBoxCtor("uncC",function(u){var h;if(this.profile=u.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=u.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16()),this.component_bit_depth_minus_one.push(u.readUint8()),this.component_format.push(u.readUint8()),this.component_align_size.push(u.readUint8());this.sampling_type=u.readUint8(),this.interleave_type=u.readUint8(),this.block_size=u.readUint8();var p=u.readUint8();this.component_little_endian=p>>7&1,this.block_pad_lsb=p>>6&1,this.block_little_endian=p>>5&1,this.block_reversed=p>>4&1,this.pad_unknown=p>>3&1,this.pixel_size=u.readUint32(),this.row_align_size=u.readUint32(),this.tile_align_size=u.readUint32(),this.num_tile_cols_minus_one=u.readUint32(),this.num_tile_rows_minus_one=u.readUint32()}}}),a.createFullBoxCtor("url ",function(u){this.flags!==1&&(this.location=u.readCString())}),a.createFullBoxCtor("urn ",function(u){this.name=u.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=u.readCString())}),a.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(u){this.LiveServerManifest=u.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),a.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(u){this.system_id=a.parseHex16(u);var h=u.readUint32();h>0&&(this.data=u.readUint8Array(h))}),a.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),a.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(u){this.default_AlgorithmID=u.readUint24(),this.default_IV_size=u.readUint8(),this.default_KID=a.parseHex16(u)}),a.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(u){this.fragment_count=u.readUint8(),this.entries=[];for(var h=0;h<this.fragment_count;h++){var p={},v=0,x=0;this.version===1?(v=u.readUint64(),x=u.readUint64()):(v=u.readUint32(),x=u.readUint32()),p.absolute_time=v,p.absolute_duration=x,this.entries.push(p)}}),a.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(u){this.version===1?(this.absolute_time=u.readUint64(),this.duration=u.readUint64()):(this.absolute_time=u.readUint32(),this.duration=u.readUint32())}),a.createFullBoxCtor("vmhd",function(u){this.graphicsmode=u.readUint16(),this.opcolor=u.readUint16Array(3)}),a.createFullBoxCtor("vpcC",function(u){var h;this.version===1?(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4,this.chromaSubsampling=h>>1&7,this.videoFullRangeFlag=h&1,this.colourPrimaries=u.readUint8(),this.transferCharacteristics=u.readUint8(),this.matrixCoefficients=u.readUint8(),this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize)):(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4&15,this.colorSpace=h&15,h=u.readUint8(),this.chromaSubsampling=h>>4&15,this.transferFunction=h>>1&7,this.videoFullRangeFlag=h&1,this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize))}),a.createBoxCtor("vttC",function(u){this.text=u.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("vvcC",function(u){var h,p,v={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(D){this.held_bits=D.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(D){this.held_bits=D.readUint16(),this.num_held_bits=16},extract_bits:function(D){var R=this.held_bits>>this.num_held_bits-D&(1<<D)-1;return this.num_held_bits-=D,R}};if(v.stream_read_1_bytes(u),v.extract_bits(5),this.lengthSizeMinusOne=v.extract_bits(2),this.ptl_present_flag=v.extract_bits(1),this.ptl_present_flag){v.stream_read_2_bytes(u),this.ols_idx=v.extract_bits(9),this.num_sublayers=v.extract_bits(3),this.constant_frame_rate=v.extract_bits(2),this.chroma_format_idc=v.extract_bits(2),v.stream_read_1_bytes(u),this.bit_depth_minus8=v.extract_bits(3),v.extract_bits(5);{if(v.stream_read_2_bytes(u),v.extract_bits(2),this.num_bytes_constraint_info=v.extract_bits(6),this.general_profile_idc=v.extract_bits(7),this.general_tier_flag=v.extract_bits(1),this.general_level_idc=u.readUint8(),v.stream_read_1_bytes(u),this.ptl_frame_only_constraint_flag=v.extract_bits(1),this.ptl_multilayer_enabled_flag=v.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(h=0;h<this.num_bytes_constraint_info-1;h++){var x=v.extract_bits(6);v.stream_read_1_bytes(u);var w=v.extract_bits(2);this.general_constraint_info[h]=x<<2|w}this.general_constraint_info[this.num_bytes_constraint_info-1]=v.extract_bits(6)}else v.extract_bits(6);if(this.num_sublayers>1){for(v.stream_read_1_bytes(u),this.ptl_sublayer_present_mask=0,p=this.num_sublayers-2;p>=0;--p){var b=v.extract_bits(1);this.ptl_sublayer_present_mask|=b<<p}for(p=this.num_sublayers;p<=8&&this.num_sublayers>1;++p)v.extract_bits(1);for(this.sublayer_level_idc=[],p=this.num_sublayers-2;p>=0;--p)this.ptl_sublayer_present_mask&1<<p&&(this.sublayer_level_idc[p]=u.readUint8())}if(this.ptl_num_sub_profiles=u.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(h=0;h<this.ptl_num_sub_profiles;h++)this.general_sub_profile_idc.push(u.readUint32())}this.max_picture_width=u.readUint16(),this.max_picture_height=u.readUint16(),this.avg_frame_rate=u.readUint16()}var S=12,C=13;this.nalu_arrays=[];var A=u.readUint8();for(h=0;h<A;h++){var T=[];this.nalu_arrays.push(T),v.stream_read_1_bytes(u),T.completeness=v.extract_bits(1),v.extract_bits(2),T.nalu_type=v.extract_bits(5);var P=1;for(T.nalu_type!=C&&T.nalu_type!=S&&(P=u.readUint16()),p=0;p<P;p++){var B=u.readUint16();T.push({data:u.readUint8Array(B),length:B})}}}),a.createFullBoxCtor("vvnC",function(u){var h=strm.readUint8();this.lengthSizeMinusOne=h&3}),a.SampleEntry.prototype.isVideo=function(){return!1},a.SampleEntry.prototype.isAudio=function(){return!1},a.SampleEntry.prototype.isSubtitle=function(){return!1},a.SampleEntry.prototype.isMetadata=function(){return!1},a.SampleEntry.prototype.isHint=function(){return!1},a.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},a.SampleEntry.prototype.getWidth=function(){return""},a.SampleEntry.prototype.getHeight=function(){return""},a.SampleEntry.prototype.getChannelCount=function(){return""},a.SampleEntry.prototype.getSampleRate=function(){return""},a.SampleEntry.prototype.getSampleSize=function(){return""},a.VisualSampleEntry.prototype.isVideo=function(){return!0},a.VisualSampleEntry.prototype.getWidth=function(){return this.width},a.VisualSampleEntry.prototype.getHeight=function(){return this.height},a.AudioSampleEntry.prototype.isAudio=function(){return!0},a.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},a.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},a.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},a.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},a.MetadataSampleEntry.prototype.isMetadata=function(){return!0},a.decimalToHex=function(u,h){var p=Number(u).toString(16);for(h=typeof h>"u"||h===null?h=2:h;p.length<h;)p="0"+p;return p},a.avc1SampleEntry.prototype.getCodec=a.avc2SampleEntry.prototype.getCodec=a.avc3SampleEntry.prototype.getCodec=a.avc4SampleEntry.prototype.getCodec=function(){var u=a.SampleEntry.prototype.getCodec.call(this);return this.avcC?u+"."+a.decimalToHex(this.avcC.AVCProfileIndication)+a.decimalToHex(this.avcC.profile_compatibility)+a.decimalToHex(this.avcC.AVCLevelIndication):u},a.hev1SampleEntry.prototype.getCodec=a.hvc1SampleEntry.prototype.getCodec=function(){var u,h=a.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(h+=".",this.hvcC.general_profile_space){case 0:h+="";break;case 1:h+="A";break;case 2:h+="B";break;case 3:h+="C";break}h+=this.hvcC.general_profile_idc,h+=".";var p=this.hvcC.general_profile_compatibility,v=0;for(u=0;u<32&&(v|=p&1,u!=31);u++)v<<=1,p>>=1;h+=a.decimalToHex(v,0),h+=".",this.hvcC.general_tier_flag===0?h+="L":h+="H",h+=this.hvcC.general_level_idc;var x=!1,w="";for(u=5;u>=0;u--)(this.hvcC.general_constraint_indicator[u]||x)&&(w="."+a.decimalToHex(this.hvcC.general_constraint_indicator[u],0)+w,x=!0);h+=w}return h},a.vvc1SampleEntry.prototype.getCodec=a.vvi1SampleEntry.prototype.getCodec=function(){var u,h=a.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){h+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?h+=".H":h+=".L",h+=this.vvcC.general_level_idc;var p="";if(this.vvcC.general_constraint_info){var v=[],x=0;x|=this.vvcC.ptl_frame_only_constraint<<7,x|=this.vvcC.ptl_multilayer_enabled<<6;var w;for(u=0;u<this.vvcC.general_constraint_info.length;++u)x|=this.vvcC.general_constraint_info[u]>>2&63,v.push(x),x&&(w=u),x=this.vvcC.general_constraint_info[u]>>2&3;if(w===void 0)p=".CA";else{p=".C";var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",S=0,C=0;for(u=0;u<=w;++u)for(S=S<<8|v[u],C+=8;C>=5;){var A=S>>C-5&31;p+=b[A],C-=5,S&=(1<<C)-1}C&&(S<<=5-C,p+=b[S&31])}}h+=p}return h},a.mp4aSampleEntry.prototype.getCodec=function(){var u=a.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var h=this.esds.esd.getOTI(),p=this.esds.esd.getAudioConfig();return u+"."+a.decimalToHex(h)+(p?"."+p:"")}else return u},a.stxtSampleEntry.prototype.getCodec=function(){var u=a.SampleEntry.prototype.getCodec.call(this);return this.mime_format?u+"."+this.mime_format:u},a.vp08SampleEntry.prototype.getCodec=a.vp09SampleEntry.prototype.getCodec=function(){var u=a.SampleEntry.prototype.getCodec.call(this),h=this.vpcC.level;h==0&&(h="00");var p=this.vpcC.bitDepth;return p==8&&(p="08"),u+".0"+this.vpcC.profile+"."+h+"."+p},a.av01SampleEntry.prototype.getCodec=function(){var u=a.SampleEntry.prototype.getCodec.call(this),h=this.av1C.seq_level_idx_0;h<10&&(h="0"+h);var p;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?p=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(p=this.av1C.high_bitdepth===1?"10":"08"),u+"."+this.av1C.seq_profile+"."+h+(this.av1C.seq_tier_0?"H":"M")+"."+p},a.Box.prototype.writeHeader=function(u,h){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+u.getPosition()+(h||"")),this.size>s?u.writeUint32(1):(this.sizePosition=u.getPosition(),u.writeUint32(this.size)),u.writeString(this.type,null,4),this.type==="uuid"&&u.writeUint8Array(this.uuid),this.size>s&&u.writeUint64(this.size)},a.FullBox.prototype.writeHeader=function(u){this.size+=4,a.Box.prototype.writeHeader.call(this,u," v="+this.version+" f="+this.flags),u.writeUint8(this.version),u.writeUint24(this.flags)},a.Box.prototype.write=function(u){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(u),u.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(u),this.data&&u.writeUint8Array(this.data))},a.ContainerBox.prototype.write=function(u){this.size=0,this.writeHeader(u);for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&(this.boxes[h].write(u),this.size+=this.boxes[h].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},a.TrackReferenceTypeBox.prototype.write=function(u){this.size=this.track_ids.length*4,this.writeHeader(u),u.writeUint32Array(this.track_ids)},a.avcCBox.prototype.write=function(u){var h;for(this.size=7,h=0;h<this.SPS.length;h++)this.size+=2+this.SPS[h].length;for(h=0;h<this.PPS.length;h++)this.size+=2+this.PPS[h].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8(this.AVCProfileIndication),u.writeUint8(this.profile_compatibility),u.writeUint8(this.AVCLevelIndication),u.writeUint8(this.lengthSizeMinusOne+252),u.writeUint8(this.SPS.length+224),h=0;h<this.SPS.length;h++)u.writeUint16(this.SPS[h].length),u.writeUint8Array(this.SPS[h].nalu);for(u.writeUint8(this.PPS.length),h=0;h<this.PPS.length;h++)u.writeUint16(this.PPS[h].length),u.writeUint8Array(this.PPS[h].nalu);this.ext&&u.writeUint8Array(this.ext)},a.co64Box.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),h=0;h<this.chunk_offsets.length;h++)u.writeUint64(this.chunk_offsets[h])},a.cslgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeInt32(this.compositionToDTSShift),u.writeInt32(this.leastDecodeToDisplayDelta),u.writeInt32(this.greatestDecodeToDisplayDelta),u.writeInt32(this.compositionStartTime),u.writeInt32(this.compositionEndTime)},a.cttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),this.version===1?u.writeInt32(this.sample_offsets[h]):u.writeUint32(this.sample_offsets[h])},a.drefBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},a.elngBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(u),u.writeString(this.extended_language)},a.elstBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var p=this.entries[h];u.writeUint32(p.segment_duration),u.writeInt32(p.media_time),u.writeInt16(p.media_rate_integer),u.writeInt16(p.media_rate_fraction)}},a.emsgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(u),u.writeCString(this.scheme_id_uri),u.writeCString(this.value),u.writeUint32(this.timescale),u.writeUint32(this.presentation_time_delta),u.writeUint32(this.event_duration),u.writeUint32(this.id),u.writeUint8Array(this.message_data)},a.ftypBox.prototype.write=function(u){this.size=8+4*this.compatible_brands.length,this.writeHeader(u),u.writeString(this.major_brand,null,4),u.writeUint32(this.minor_version);for(var h=0;h<this.compatible_brands.length;h++)u.writeString(this.compatible_brands[h],null,4)},a.hdlrBox.prototype.write=function(u){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(u),u.writeUint32(0),u.writeString(this.handler,null,4),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeCString(this.name)},a.hvcCBox.prototype.write=function(u){var h,p;for(this.size=23,h=0;h<this.nalu_arrays.length;h++)for(this.size+=3,p=0;p<this.nalu_arrays[h].length;p++)this.size+=2+this.nalu_arrays[h][p].data.length;for(this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),u.writeUint32(this.general_profile_compatibility),u.writeUint8Array(this.general_constraint_indicator),u.writeUint8(this.general_level_idc),u.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),u.writeUint8(this.parallelismType+252),u.writeUint8(this.chroma_format_idc+252),u.writeUint8(this.bit_depth_luma_minus8+248),u.writeUint8(this.bit_depth_chroma_minus8+248),u.writeUint16(this.avgFrameRate),u.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),u.writeUint8(this.nalu_arrays.length),h=0;h<this.nalu_arrays.length;h++)for(u.writeUint8((this.nalu_arrays[h].completeness<<7)+this.nalu_arrays[h].nalu_type),u.writeUint16(this.nalu_arrays[h].length),p=0;p<this.nalu_arrays[h].length;p++)u.writeUint16(this.nalu_arrays[h][p].data.length),u.writeUint8Array(this.nalu_arrays[h][p].data)},a.kindBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(u),u.writeCString(this.schemeURI),u.writeCString(this.value)},a.mdhdBox.prototype.write=function(u){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint16(this.language),u.writeUint16(0)},a.mehdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.fragment_duration)},a.mfhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.sequence_number)},a.mvhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint32(this.rate),u.writeUint16(this.volume<<8),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32Array(this.matrix),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(this.next_track_id)},a.SampleEntry.prototype.writeHeader=function(u){this.size=8,a.Box.prototype.writeHeader.call(this,u),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint16(this.data_reference_index)},a.SampleEntry.prototype.writeFooter=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u),this.size+=this.boxes[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},a.SampleEntry.prototype.write=function(u){this.writeHeader(u),u.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},a.VisualSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*7+6*4+32,u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.width),u.writeUint16(this.height),u.writeUint32(this.horizresolution),u.writeUint32(this.vertresolution),u.writeUint32(0),u.writeUint16(this.frame_count),u.writeUint8(Math.min(31,this.compressorname.length)),u.writeString(this.compressorname,null,31),u.writeUint16(this.depth),u.writeInt16(-1),this.writeFooter(u)},a.AudioSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*4+3*4,u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.channel_count),u.writeUint16(this.samplesize),u.writeUint16(0),u.writeUint16(0),u.writeUint32(this.samplerate<<16),this.writeFooter(u)},a.stppSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,u.writeCString(this.namespace),u.writeCString(this.schema_location),u.writeCString(this.auxiliary_mime_types),this.writeFooter(u)},a.SampleGroupEntry.prototype.write=function(u){u.writeUint8Array(this.data)},a.sbgpBox.prototype.write=function(u){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(u),u.writeString(this.grouping_type,null,4),u.writeUint32(this.grouping_type_parameter),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var p=this.entries[h];u.writeInt32(p.sample_count),u.writeInt32(p.group_description_index)}},a.sgpdBox.prototype.write=function(u){var h,p;for(this.flags=0,this.size=12,h=0;h<this.entries.length;h++)p=this.entries[h],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=p.data.length);for(this.writeHeader(u),u.writeString(this.grouping_type,null,4),this.version===1&&u.writeUint32(this.default_length),this.version>=2&&u.writeUint32(this.default_sample_description_index),u.writeUint32(this.entries.length),h=0;h<this.entries.length;h++)p=this.entries[h],this.version===1&&this.default_length===0&&u.writeUint32(p.description_length),p.write(u)},a.sidxBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(u),u.writeUint32(this.reference_ID),u.writeUint32(this.timescale),u.writeUint32(this.earliest_presentation_time),u.writeUint32(this.first_offset),u.writeUint16(0),u.writeUint16(this.references.length);for(var h=0;h<this.references.length;h++){var p=this.references[h];u.writeUint32(p.reference_type<<31|p.referenced_size),u.writeUint32(p.subsegment_duration),u.writeUint32(p.starts_with_SAP<<31|p.SAP_type<<28|p.SAP_delta_time)}},a.smhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=4,this.writeHeader(u),u.writeUint16(this.balance),u.writeUint16(0)},a.stcoBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),u.writeUint32Array(this.chunk_offsets)},a.stscBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(u),u.writeUint32(this.first_chunk.length),h=0;h<this.first_chunk.length;h++)u.writeUint32(this.first_chunk[h]),u.writeUint32(this.samples_per_chunk[h]),u.writeUint32(this.sample_description_index[h])},a.stsdBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(u),u.writeUint32(this.entries.length),this.size+=4,h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},a.stshBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(u),u.writeUint32(this.shadowed_sample_numbers.length),h=0;h<this.shadowed_sample_numbers.length;h++)u.writeUint32(this.shadowed_sample_numbers[h]),u.writeUint32(this.sync_sample_numbers[h])},a.stssBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(u),u.writeUint32(this.sample_numbers.length),u.writeUint32Array(this.sample_numbers)},a.stszBox.prototype.write=function(u){var h,p=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(h=0;h+1<this.sample_sizes.length;)if(this.sample_sizes[h+1]!==this.sample_sizes[0]){p=!1;break}else h++;else p=!1;this.size=8,p||(this.size+=4*this.sample_sizes.length),this.writeHeader(u),p?u.writeUint32(this.sample_sizes[0]):u.writeUint32(0),u.writeUint32(this.sample_sizes.length),p||u.writeUint32Array(this.sample_sizes)},a.sttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),u.writeUint32(this.sample_deltas[h])},a.tfdtBox.prototype.write=function(u){var h=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>h?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(u),this.version===1?u.writeUint64(this.baseMediaDecodeTime):u.writeUint32(this.baseMediaDecodeTime)},a.tfhdBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(u),u.writeUint32(this.track_id),this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&u.writeUint64(this.base_data_offset),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&u.writeUint32(this.default_sample_description_index),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&u.writeUint32(this.default_sample_duration),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&u.writeUint32(this.default_sample_size),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&u.writeUint32(this.default_sample_flags)},a.tkhdBox.prototype.write=function(u){this.version=0,this.size=4*18+2*4,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.track_id),u.writeUint32(0),u.writeUint32(this.duration),u.writeUint32(0),u.writeUint32(0),u.writeInt16(this.layer),u.writeInt16(this.alternate_group),u.writeInt16(this.volume<<8),u.writeUint16(0),u.writeInt32Array(this.matrix),u.writeUint32(this.width),u.writeUint32(this.height)},a.trexBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeUint32(this.track_id),u.writeUint32(this.default_sample_description_index),u.writeUint32(this.default_sample_duration),u.writeUint32(this.default_sample_size),u.writeUint32(this.default_sample_flags)},a.trunBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&a.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&a.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&a.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(u),u.writeUint32(this.sample_count),this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=u.getPosition(),u.writeInt32(this.data_offset)),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&u.writeUint32(this.first_sample_flags);for(var h=0;h<this.sample_count;h++)this.flags&a.TRUN_FLAGS_DURATION&&u.writeUint32(this.sample_duration[h]),this.flags&a.TRUN_FLAGS_SIZE&&u.writeUint32(this.sample_size[h]),this.flags&a.TRUN_FLAGS_FLAGS&&u.writeUint32(this.sample_flags[h]),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?u.writeUint32(this.sample_composition_time_offset[h]):u.writeInt32(this.sample_composition_time_offset[h]))},a["url Box"].prototype.write=function(u){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(u),this.location&&u.writeCString(this.location)},a["urn Box"].prototype.write=function(u){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(u),u.writeCString(this.name),this.location&&u.writeCString(this.location)},a.vmhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=8,this.writeHeader(u),u.writeUint16(this.graphicsmode),u.writeUint16Array(this.opcolor)},a.cttsBox.prototype.unpack=function(u){var h,p,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(p=0;p<this.sample_counts[h];p++)u[v].pts=u[v].dts+this.sample_offsets[h],v++},a.sttsBox.prototype.unpack=function(u){var h,p,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(p=0;p<this.sample_counts[h];p++)v===0?u[v].dts=0:u[v].dts=u[v-1].dts+this.sample_deltas[h],v++},a.stcoBox.prototype.unpack=function(u){var h;for(h=0;h<this.chunk_offsets.length;h++)u[h].offset=this.chunk_offsets[h]},a.stscBox.prototype.unpack=function(u){var h,p,v,x,w;for(x=0,w=0,h=0;h<this.first_chunk.length;h++)for(p=0;p<(h+1<this.first_chunk.length?this.first_chunk[h+1]:1/0);p++)for(w++,v=0;v<this.samples_per_chunk[h];v++){if(u[x])u[x].description_index=this.sample_description_index[h],u[x].chunk_index=w;else return;x++}},a.stszBox.prototype.unpack=function(u){var h;for(h=0;h<this.sample_sizes.length;h++)u[h].size=this.sample_sizes[h]},a.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],a.boxEqualFields=function(u,h){if(u&&!h)return!1;var p;for(p in u)if(!(a.DIFF_BOXES_PROP_NAMES.indexOf(p)>-1)){if(u[p]instanceof a.Box||h[p]instanceof a.Box)continue;if(typeof u[p]>"u"||typeof h[p]>"u")continue;if(typeof u[p]=="function"||typeof h[p]=="function")continue;if(u.subBoxNames&&u.subBoxNames.indexOf(p.slice(0,4))>-1||h.subBoxNames&&h.subBoxNames.indexOf(p.slice(0,4))>-1)continue;if(p==="data"||p==="start"||p==="size"||p==="creation_time"||p==="modification_time")continue;if(a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(p)>-1)continue;if(u[p]!==h[p])return!1}return!0},a.boxEqual=function(u,h){if(!a.boxEqualFields(u,h))return!1;for(var p=0;p<a.DIFF_BOXES_PROP_NAMES.length;p++){var v=a.DIFF_BOXES_PROP_NAMES[p];if(u[v]&&h[v]&&!a.boxEqual(u[v],h[v]))return!1}return!0};var f=function(){};f.prototype.parseSample=function(u){var h,p,v=new r(u.buffer);for(h=[];!v.isEos();)p=a.parseOneBox(v,!1),p.code===a.OK&&p.box.type==="vttc"&&h.push(p.box);return h},f.prototype.getText=function(u,h,p){function v(A,T,P){return P=P||"0",A=A+"",A.length>=T?A:new Array(T-A.length+1).join(P)+A}function x(A){var T=Math.floor(A/3600),P=Math.floor((A-T*3600)/60),B=Math.floor(A-T*3600-P*60),D=Math.floor((A-T*3600-P*60-B)*1e3);return""+v(T,2)+":"+v(P,2)+":"+v(B,2)+"."+v(D,3)}for(var w=this.parseSample(p),b="",S=0;S<w.length;S++){var C=w[S];b+=x(u)+" --> "+x(h)+"\r\n",b+=C.payl.text}return b};var g=function(){};g.prototype.parseSample=function(u){var h={},p;h.resources=[];var v=new r(u.data.buffer);if(!u.subsamples||u.subsamples.length===0)h.documentString=v.readString(u.data.length);else if(h.documentString=v.readString(u.subsamples[0].size),u.subsamples.length>1)for(p=1;p<u.subsamples.length;p++)h.resources[p]=v.readUint8Array(u.subsamples[p].size);return typeof DOMParser<"u"&&(h.document=new DOMParser().parseFromString(h.documentString,"application/xml")),h};var m=function(){};m.prototype.parseSample=function(u){var h,p=new r(u.data.buffer);return h=p.readString(u.data.length),h},m.prototype.parseConfig=function(u){var h,p=new r(u.buffer);return p.readUint32(),h=p.readCString(),h},t.VTTin4Parser=f,t.XMLSubtitlein4Parser=g,t.Textin4Parser=m;var y=function(u){this.stream=u||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};y.prototype.setSegmentOptions=function(u,h,p){var v=this.getTrackById(u);if(v){var x={};this.fragmentedTracks.push(x),x.id=u,x.user=h,x.trak=v,v.nextSample=0,x.segmentStream=null,x.nb_samples=1e3,x.rapAlignement=!0,p&&(p.nbSamples&&(x.nb_samples=p.nbSamples),p.rapAlignement&&(x.rapAlignement=p.rapAlignement))}},y.prototype.unsetSegmentOptions=function(u){for(var h=-1,p=0;p<this.fragmentedTracks.length;p++){var v=this.fragmentedTracks[p];v.id==u&&(h=p)}h>-1&&this.fragmentedTracks.splice(h,1)},y.prototype.setExtractionOptions=function(u,h,p){var v=this.getTrackById(u);if(v){var x={};this.extractedTracks.push(x),x.id=u,x.user=h,x.trak=v,v.nextSample=0,x.nb_samples=1e3,x.samples=[],p&&p.nbSamples&&(x.nb_samples=p.nbSamples)}},y.prototype.unsetExtractionOptions=function(u){for(var h=-1,p=0;p<this.extractedTracks.length;p++){var v=this.extractedTracks[p];v.id==u&&(h=p)}h>-1&&this.extractedTracks.splice(h,1)},y.prototype.parse=function(){var u,h,p=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),u=a.parseOneBox(this.stream,p),u.code===a.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}else return;else{var v;switch(h=u.box,v=h.type!=="uuid"?h.type:h.uuid,this.boxes.push(h),v){case"mdat":this.mdats.push(h);break;case"moof":this.moofs.push(h);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[v]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+v+", overriding previous occurrence"),this[v]=h;break}this.updateUsedBytes&&this.updateUsedBytes(h,u)}},y.prototype.checkBuffer=function(u){if(u==null)throw"Buffer must be defined and non empty";if(u.fileStart===void 0)throw"Buffer must have a fileStart property";return u.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+u.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+u.fileStart+")"),u.usedBytes=0,this.stream.insertBuffer(u),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},y.prototype.appendBuffer=function(u,h){var p;if(this.checkBuffer(u))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(h),this.nextSeekPosition?(p=this.nextSeekPosition,this.nextSeekPosition=void 0):p=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(p=this.stream.getEndFilePositionAfter(p))):this.nextParsePosition?p=this.nextParsePosition:p=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+u.fileStart+") - next buffer to fetch should have a fileStart position of "+p),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),p},y.prototype.getInfo=function(){var u,h,p={},v,x,w,b,S=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(p.hasMoov=!0,p.duration=this.moov.mvhd.duration,p.timescale=this.moov.mvhd.timescale,p.isFragmented=this.moov.mvex!=null,p.isFragmented&&this.moov.mvex.mehd&&(p.fragment_duration=this.moov.mvex.mehd.fragment_duration),p.isProgressive=this.isProgressive,p.hasIOD=this.moov.iods!=null,p.brands=[],p.brands.push(this.ftyp.major_brand),p.brands=p.brands.concat(this.ftyp.compatible_brands),p.created=new Date(S+this.moov.mvhd.creation_time*1e3),p.modified=new Date(S+this.moov.mvhd.modification_time*1e3),p.tracks=[],p.audioTracks=[],p.videoTracks=[],p.subtitleTracks=[],p.metadataTracks=[],p.hintTracks=[],p.otherTracks=[],u=0;u<this.moov.traks.length;u++){if(v=this.moov.traks[u],b=v.mdia.minf.stbl.stsd.entries[0],x={},p.tracks.push(x),x.id=v.tkhd.track_id,x.name=v.mdia.hdlr.name,x.references=[],v.tref)for(h=0;h<v.tref.boxes.length;h++)w={},x.references.push(w),w.type=v.tref.boxes[h].type,w.track_ids=v.tref.boxes[h].track_ids;v.edts&&(x.edits=v.edts.elst.entries),x.created=new Date(S+v.tkhd.creation_time*1e3),x.modified=new Date(S+v.tkhd.modification_time*1e3),x.movie_duration=v.tkhd.duration,x.movie_timescale=p.timescale,x.layer=v.tkhd.layer,x.alternate_group=v.tkhd.alternate_group,x.volume=v.tkhd.volume,x.matrix=v.tkhd.matrix,x.track_width=v.tkhd.width/65536,x.track_height=v.tkhd.height/65536,x.timescale=v.mdia.mdhd.timescale,x.cts_shift=v.mdia.minf.stbl.cslg,x.duration=v.mdia.mdhd.duration,x.samples_duration=v.samples_duration,x.codec=b.getCodec(),x.kind=v.udta&&v.udta.kinds.length?v.udta.kinds[0]:{schemeURI:"",value:""},x.language=v.mdia.elng?v.mdia.elng.extended_language:v.mdia.mdhd.languageString,x.nb_samples=v.samples.length,x.size=v.samples_size,x.bitrate=x.size*8*x.timescale/x.samples_duration,b.isAudio()?(x.type="audio",p.audioTracks.push(x),x.audio={},x.audio.sample_rate=b.getSampleRate(),x.audio.channel_count=b.getChannelCount(),x.audio.sample_size=b.getSampleSize()):b.isVideo()?(x.type="video",p.videoTracks.push(x),x.video={},x.video.width=b.getWidth(),x.video.height=b.getHeight()):b.isSubtitle()?(x.type="subtitles",p.subtitleTracks.push(x)):b.isHint()?(x.type="metadata",p.hintTracks.push(x)):b.isMetadata()?(x.type="metadata",p.metadataTracks.push(x)):(x.type="metadata",p.otherTracks.push(x))}else p.hasMoov=!1;if(p.mime="",p.hasMoov&&p.tracks){for(p.videoTracks&&p.videoTracks.length>0?p.mime+='video/mp4; codecs="':p.audioTracks&&p.audioTracks.length>0?p.mime+='audio/mp4; codecs="':p.mime+='application/mp4; codecs="',u=0;u<p.tracks.length;u++)u!==0&&(p.mime+=","),p.mime+=p.tracks[u].codec;p.mime+='"; profiles="',p.mime+=this.ftyp.compatible_brands.join(),p.mime+='"'}return p},y.prototype.setNextSeekPositionFromSample=function(u){u&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(u.offset+u.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=u.offset+u.alreadyRead)},y.prototype.processSamples=function(u){var h,p;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(h=0;h<this.fragmentedTracks.length;h++){var v=this.fragmentedTracks[h];for(p=v.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+v.id+" for sample "+p.nextSample);var x=this.createFragment(v.id,p.nextSample,v.segmentStream);if(x)v.segmentStream=x,p.nextSample++;else break;if((p.nextSample%v.nb_samples===0||u||p.nextSample>=p.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+v.id+" for samples ["+Math.max(0,p.nextSample-v.nb_samples)+","+(p.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(v.id,v.user,v.segmentStream.buffer,p.nextSample,u||p.nextSample>=p.samples.length),v.segmentStream=null,v!==this.fragmentedTracks[h]))break}}if(this.onSamples!==null)for(h=0;h<this.extractedTracks.length;h++){var w=this.extractedTracks[h];for(p=w.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+w.id+" sample #"+p.nextSample);var b=this.getSample(p,p.nextSample);if(b)p.nextSample++,w.samples.push(b);else{this.setNextSeekPositionFromSample(p.samples[p.nextSample]);break}if((p.nextSample%w.nb_samples===0||p.nextSample>=p.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+w.id+" for sample "+p.nextSample),this.onSamples&&this.onSamples(w.id,w.user,w.samples),w.samples=[],w!==this.extractedTracks[h]))break}}}},y.prototype.getBox=function(u){var h=this.getBoxes(u,!0);return h.length?h[0]:null},y.prototype.getBoxes=function(u,h){var p=[];return y._sweep.call(this,u,p,h),p},y._sweep=function(u,h,p){this.type&&this.type==u&&h.push(this);for(var v in this.boxes){if(h.length&&p)return;y._sweep.call(this.boxes[v],u,h,p)}},y.prototype.getTrackSamplesInfo=function(u){var h=this.getTrackById(u);if(h)return h.samples},y.prototype.getTrackSample=function(u,h){var p=this.getTrackById(u),v=this.getSample(p,h);return v},y.prototype.releaseUsedSamples=function(u,h){var p=0,v=this.getTrackById(u);v.lastValidSample||(v.lastValidSample=0);for(var x=v.lastValidSample;x<h;x++)p+=this.releaseSample(v,x);e.info("ISOFile","Track #"+u+" released samples up to "+h+" (released size: "+p+", remaining: "+this.samplesDataSize+")"),v.lastValidSample=h},y.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},y.prototype.stop=function(){this.sampleProcessingStarted=!1},y.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},y.prototype.seekTrack=function(u,h,p){var v,x,w=1/0,b=0,S=0,C;if(p.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(v=0;v<p.samples.length;v++){if(x=p.samples[v],v===0)S=0,C=x.timescale;else if(x.cts>u*x.timescale){S=v-1;break}h&&x.is_sync&&(b=v)}for(h&&(S=b),u=p.samples[S].cts,p.nextSample=S;p.samples[S].alreadyRead===p.samples[S].size&&p.samples[S+1];)S++;return w=p.samples[S].offset+p.samples[S].alreadyRead,e.info("ISOFile","Seeking to "+(h?"RAP":"")+" sample #"+p.nextSample+" on track "+p.tkhd.track_id+", time "+e.getDurationString(u,C)+" and offset: "+w),{offset:w,time:u/C}},y.prototype.getTrackDuration=function(u){var h;return u.samples?(h=u.samples[u.samples.length-1],(h.cts+h.duration)/h.timescale):1/0},y.prototype.seek=function(u,h){var p=this.moov,v,x,w,b={offset:1/0,time:1/0};if(this.moov){for(w=0;w<p.traks.length;w++)v=p.traks[w],!(u>this.getTrackDuration(v))&&(x=this.seekTrack(u,h,v),x.offset<b.offset&&(b.offset=x.offset),x.time<b.time&&(b.time=x.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(b.time,1)+" needs a buffer with a fileStart position of "+b.offset),b.offset===1/0?b={offset:this.nextParsePosition,time:0}:b.offset=this.stream.getEndFilePositionAfter(b.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+b.offset),b}else throw"Cannot seek: moov not received!"},y.prototype.equal=function(u){for(var h=0;h<this.boxes.length&&h<u.boxes.length;){var p=this.boxes[h],v=u.boxes[h];if(!a.boxEqual(p,v))return!1;h++}return!0},t.ISOFile=y,y.prototype.lastBoxStartPosition=0,y.prototype.parsingMdat=null,y.prototype.nextParsePosition=0,y.prototype.discardMdatData=!1,y.prototype.processIncompleteBox=function(u){var h,p,v;return u.type==="mdat"?(h=new a[u.type+"Box"](u.size),this.parsingMdat=h,this.boxes.push(h),this.mdats.push(h),h.start=u.start,h.hdr_size=u.hdr_size,this.stream.addUsedBytes(h.hdr_size),this.lastBoxStartPosition=h.start+h.size,v=this.stream.seek(h.start+h.size,!1,this.discardMdatData),v?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=h.start+h.size,!1)):(u.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),p=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,p?(this.nextParsePosition=this.stream.getEndPosition(),!0):(u.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+u.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},y.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},y.prototype.processIncompleteMdat=function(){var u,h;return u=this.parsingMdat,h=this.stream.seek(u.start+u.size,!1,this.discardMdatData),h?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},y.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},y.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},y.prototype.updateUsedBytes=function(u,h){this.stream.addUsedBytes&&(u.type==="mdat"?(this.stream.addUsedBytes(u.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(u.size-u.hdr_size)):this.stream.addUsedBytes(u.size))},y.prototype.add=a.Box.prototype.add,y.prototype.addBox=a.Box.prototype.addBox,y.prototype.init=function(u){var h=u||{};this.add("ftyp").set("major_brand",h.brands&&h.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",h.brands||["iso4"]);var p=this.add("moov");return p.add("mvhd").set("timescale",h.timescale||600).set("rate",h.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",h.duration||0).set("volume",h.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),p.add("mvex"),this},y.prototype.addTrack=function(u){this.moov||this.init(u);var h=u||{};h.width=h.width||320,h.height=h.height||320,h.id=h.id||this.moov.mvhd.next_track_id,h.type=h.type||"avc1";var p=this.moov.add("trak");this.moov.mvhd.next_track_id=h.id+1,p.add("tkhd").set("flags",a.TKHD_FLAG_ENABLED|a.TKHD_FLAG_IN_MOVIE|a.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",h.id).set("duration",h.duration||0).set("layer",h.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",h.width<<16).set("height",h.height<<16);var v=p.add("mdia");v.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",h.timescale||1).set("duration",h.media_duration||0).set("language",h.language||"und"),v.add("hdlr").set("handler",h.hdlr||"vide").set("name",h.name||"Track created with MP4Box.js"),v.add("elng").set("extended_language",h.language||"fr-FR");var x=v.add("minf");if(a[h.type+"SampleEntry"]!==void 0){var w=new a[h.type+"SampleEntry"];w.data_reference_index=1;var b="";for(var S in a.sampleEntryCodes)for(var C=a.sampleEntryCodes[S],A=0;A<C.length;A++)if(C.indexOf(h.type)>-1){b=S;break}switch(b){case"Visual":if(x.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),w.set("width",h.width).set("height",h.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",h.type+" Compressor").set("depth",24),h.avcDecoderConfigRecord){var T=new a.avcCBox;T.parse(new r(h.avcDecoderConfigRecord)),w.addBox(T)}else if(h.hevcDecoderConfigRecord){var P=new a.hvcCBox;P.parse(new r(h.hevcDecoderConfigRecord)),w.addBox(P)}break;case"Audio":x.add("smhd").set("balance",h.balance||0),w.set("channel_count",h.channel_count||2).set("samplesize",h.samplesize||16).set("samplerate",h.samplerate||65536);break;case"Hint":x.add("hmhd");break;case"Subtitle":switch(x.add("sthd"),h.type){case"stpp":w.set("namespace",h.namespace||"nonamespace").set("schema_location",h.schema_location||"").set("auxiliary_mime_types",h.auxiliary_mime_types||"");break}break;case"Metadata":x.add("nmhd");break;case"System":x.add("nmhd");break;default:x.add("nmhd");break}h.description&&w.addBox(h.description),h.description_boxes&&h.description_boxes.forEach(function(D){w.addBox(D)}),x.add("dinf").add("dref").addEntry(new a["url Box"]().set("flags",1));var B=x.add("stbl");return B.add("stsd").addEntry(w),B.add("stts").set("sample_counts",[]).set("sample_deltas",[]),B.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),B.add("stco").set("chunk_offsets",[]),B.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",h.id).set("default_sample_description_index",h.default_sample_description_index||1).set("default_sample_duration",h.default_sample_duration||0).set("default_sample_size",h.default_sample_size||0).set("default_sample_flags",h.default_sample_flags||0),this.buildTrakSampleLists(p),h.id}},a.Box.prototype.computeSize=function(u){var h=u||new n;h.endianness=n.BIG_ENDIAN,this.write(h)},y.prototype.addSample=function(u,h,p){var v=p||{},x={},w=this.getTrackById(u);if(w!==null){x.number=w.samples.length,x.track_id=w.tkhd.track_id,x.timescale=w.mdia.mdhd.timescale,x.description_index=v.sample_description_index?v.sample_description_index-1:0,x.description=w.mdia.minf.stbl.stsd.entries[x.description_index],x.data=h,x.size=h.byteLength,x.alreadyRead=x.size,x.duration=v.duration||1,x.cts=v.cts||0,x.dts=v.dts||0,x.is_sync=v.is_sync||!1,x.is_leading=v.is_leading||0,x.depends_on=v.depends_on||0,x.is_depended_on=v.is_depended_on||0,x.has_redundancy=v.has_redundancy||0,x.degradation_priority=v.degradation_priority||0,x.offset=0,x.subsamples=v.subsamples,w.samples.push(x),w.samples_size+=x.size,w.samples_duration+=x.duration,w.first_dts===void 0&&(w.first_dts=v.dts),this.processSamples();var b=this.createSingleSampleMoof(x);return this.addBox(b),b.computeSize(),b.trafs[0].truns[0].data_offset=b.size+8,this.add("mdat").data=new Uint8Array(h),x}},y.prototype.createSingleSampleMoof=function(u){var h=0;u.is_sync?h=1<<25:h=65536;var p=new a.moofBox;p.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var v=p.add("traf"),x=this.getTrackById(u.track_id);return v.add("tfhd").set("track_id",u.track_id).set("flags",a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),v.add("tfdt").set("baseMediaDecodeTime",u.dts-(x.first_dts||0)),v.add("trun").set("flags",a.TRUN_FLAGS_DATA_OFFSET|a.TRUN_FLAGS_DURATION|a.TRUN_FLAGS_SIZE|a.TRUN_FLAGS_FLAGS|a.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[u.duration]).set("sample_size",[u.size]).set("sample_flags",[h]).set("sample_composition_time_offset",[u.cts-u.dts]),p},y.prototype.lastMoofIndex=0,y.prototype.samplesDataSize=0,y.prototype.resetTables=function(){var u,h,p,v,x,w,b,S;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,u=0;u<this.moov.traks.length;u++){h=this.moov.traks[u],h.tkhd.duration=0,h.mdia.mdhd.duration=0,p=h.mdia.minf.stbl.stco||h.mdia.minf.stbl.co64,p.chunk_offsets=[],v=h.mdia.minf.stbl.stsc,v.first_chunk=[],v.samples_per_chunk=[],v.sample_description_index=[],x=h.mdia.minf.stbl.stsz||h.mdia.minf.stbl.stz2,x.sample_sizes=[],w=h.mdia.minf.stbl.stts,w.sample_counts=[],w.sample_deltas=[],b=h.mdia.minf.stbl.ctts,b&&(b.sample_counts=[],b.sample_offsets=[]),S=h.mdia.minf.stbl.stss;var C=h.mdia.minf.stbl.boxes.indexOf(S);C!=-1&&(h.mdia.minf.stbl.boxes[C]=null)}},y.initSampleGroups=function(u,h,p,v,x){var w,b,S,C;function A(T,P,B){this.grouping_type=T,this.grouping_type_parameter=P,this.sbgp=B,this.last_sample_in_run=-1,this.entry_index=-1}for(h&&(h.sample_groups_info=[]),u.sample_groups_info||(u.sample_groups_info=[]),b=0;b<p.length;b++){for(C=p[b].grouping_type+"/"+p[b].grouping_type_parameter,S=new A(p[b].grouping_type,p[b].grouping_type_parameter,p[b]),h&&(h.sample_groups_info[C]=S),u.sample_groups_info[C]||(u.sample_groups_info[C]=S),w=0;w<v.length;w++)v[w].grouping_type===p[b].grouping_type&&(S.description=v[w],S.description.used=!0);if(x)for(w=0;w<x.length;w++)x[w].grouping_type===p[b].grouping_type&&(S.fragment_description=x[w],S.fragment_description.used=!0,S.is_fragment=!0)}if(h){if(x)for(b=0;b<x.length;b++)!x[b].used&&x[b].version>=2&&(C=x[b].grouping_type+"/0",S=new A(x[b].grouping_type,0),S.is_fragment=!0,h.sample_groups_info[C]||(h.sample_groups_info[C]=S))}else for(b=0;b<v.length;b++)!v[b].used&&v[b].version>=2&&(C=v[b].grouping_type+"/0",S=new A(v[b].grouping_type,0),u.sample_groups_info[C]||(u.sample_groups_info[C]=S))},y.setSampleGroupProperties=function(u,h,p,v){var x,w;h.sample_groups=[];for(x in v)if(h.sample_groups[x]={},h.sample_groups[x].grouping_type=v[x].grouping_type,h.sample_groups[x].grouping_type_parameter=v[x].grouping_type_parameter,p>=v[x].last_sample_in_run&&(v[x].last_sample_in_run<0&&(v[x].last_sample_in_run=0),v[x].entry_index++,v[x].entry_index<=v[x].sbgp.entries.length-1&&(v[x].last_sample_in_run+=v[x].sbgp.entries[v[x].entry_index].sample_count)),v[x].entry_index<=v[x].sbgp.entries.length-1?h.sample_groups[x].group_description_index=v[x].sbgp.entries[v[x].entry_index].group_description_index:h.sample_groups[x].group_description_index=-1,h.sample_groups[x].group_description_index!==0){var b;v[x].fragment_description?b=v[x].fragment_description:b=v[x].description,h.sample_groups[x].group_description_index>0?(h.sample_groups[x].group_description_index>65535?w=(h.sample_groups[x].group_description_index>>16)-1:w=h.sample_groups[x].group_description_index-1,b&&w>=0&&(h.sample_groups[x].description=b.entries[w])):b&&b.version>=2&&b.default_group_description_index>0&&(h.sample_groups[x].description=b.entries[b.default_group_description_index-1])}},y.process_sdtp=function(u,h,p){h&&(u?(h.is_leading=u.is_leading[p],h.depends_on=u.sample_depends_on[p],h.is_depended_on=u.sample_is_depended_on[p],h.has_redundancy=u.sample_has_redundancy[p]):(h.is_leading=0,h.depends_on=0,h.is_depended_on=0,h.has_redundancy=0))},y.prototype.buildSampleLists=function(){var u,h;for(u=0;u<this.moov.traks.length;u++)h=this.moov.traks[u],this.buildTrakSampleLists(h)},y.prototype.buildTrakSampleLists=function(u){var h,p,v,x,w,b,S,C,A,T,P,B,D,R,O,k,j,U,N,L,H,K,te,le;if(u.samples=[],u.samples_duration=0,u.samples_size=0,p=u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64,v=u.mdia.minf.stbl.stsc,x=u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2,w=u.mdia.minf.stbl.stts,b=u.mdia.minf.stbl.ctts,S=u.mdia.minf.stbl.stss,C=u.mdia.minf.stbl.stsd,A=u.mdia.minf.stbl.subs,B=u.mdia.minf.stbl.stdp,T=u.mdia.minf.stbl.sbgps,P=u.mdia.minf.stbl.sgpds,U=-1,N=-1,L=-1,H=-1,K=0,te=0,le=0,y.initSampleGroups(u,null,T,P),!(typeof x>"u")){for(h=0;h<x.sample_sizes.length;h++){var ne={};ne.number=h,ne.track_id=u.tkhd.track_id,ne.timescale=u.mdia.mdhd.timescale,ne.alreadyRead=0,u.samples[h]=ne,ne.size=x.sample_sizes[h],u.samples_size+=ne.size,h===0?(R=1,D=0,ne.chunk_index=R,ne.chunk_run_index=D,j=v.samples_per_chunk[D],k=0,D+1<v.first_chunk.length?O=v.first_chunk[D+1]-1:O=1/0):h<j?(ne.chunk_index=R,ne.chunk_run_index=D):(R++,ne.chunk_index=R,k=0,R<=O||(D++,D+1<v.first_chunk.length?O=v.first_chunk[D+1]-1:O=1/0),ne.chunk_run_index=D,j+=v.samples_per_chunk[D]),ne.description_index=v.sample_description_index[ne.chunk_run_index]-1,ne.description=C.entries[ne.description_index],ne.offset=p.chunk_offsets[ne.chunk_index-1]+k,k+=ne.size,h>U&&(N++,U<0&&(U=0),U+=w.sample_counts[N]),h>0?(u.samples[h-1].duration=w.sample_deltas[N],u.samples_duration+=u.samples[h-1].duration,ne.dts=u.samples[h-1].dts+u.samples[h-1].duration):ne.dts=0,b?(h>=L&&(H++,L<0&&(L=0),L+=b.sample_counts[H]),ne.cts=u.samples[h].dts+b.sample_offsets[H]):ne.cts=ne.dts,S?(h==S.sample_numbers[K]-1?(ne.is_sync=!0,K++):(ne.is_sync=!1,ne.degradation_priority=0),A&&A.entries[te].sample_delta+le==h+1&&(ne.subsamples=A.entries[te].subsamples,le+=A.entries[te].sample_delta,te++)):ne.is_sync=!0,y.process_sdtp(u.mdia.minf.stbl.sdtp,ne,ne.number),B?ne.degradation_priority=B.priority[h]:ne.degradation_priority=0,A&&A.entries[te].sample_delta+le==h&&(ne.subsamples=A.entries[te].subsamples,le+=A.entries[te].sample_delta),(T.length>0||P.length>0)&&y.setSampleGroupProperties(u,ne,h,u.sample_groups_info)}h>0&&(u.samples[h-1].duration=Math.max(u.mdia.mdhd.duration-u.samples[h-1].dts,0),u.samples_duration+=u.samples[h-1].duration)}},y.prototype.updateSampleLists=function(){var u,h,p,v,x,w,b,S,C,A,T,P,B,D,R;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(C=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,C.type=="moof")for(A=C,u=0;u<A.trafs.length;u++){for(T=A.trafs[u],P=this.getTrackById(T.tfhd.track_id),B=this.getTrexById(T.tfhd.track_id),T.tfhd.flags&a.TFHD_FLAG_SAMPLE_DESC?v=T.tfhd.default_sample_description_index:v=B?B.default_sample_description_index:1,T.tfhd.flags&a.TFHD_FLAG_SAMPLE_DUR?x=T.tfhd.default_sample_duration:x=B?B.default_sample_duration:0,T.tfhd.flags&a.TFHD_FLAG_SAMPLE_SIZE?w=T.tfhd.default_sample_size:w=B?B.default_sample_size:0,T.tfhd.flags&a.TFHD_FLAG_SAMPLE_FLAGS?b=T.tfhd.default_sample_flags:b=B?B.default_sample_flags:0,T.sample_number=0,T.sbgps.length>0&&y.initSampleGroups(P,T,T.sbgps,P.mdia.minf.stbl.sgpds,T.sgpds),h=0;h<T.truns.length;h++){var O=T.truns[h];for(p=0;p<O.sample_count;p++){D={},D.moof_number=this.lastMoofIndex,D.number_in_traf=T.sample_number,T.sample_number++,D.number=P.samples.length,T.first_sample_index=P.samples.length,P.samples.push(D),D.track_id=P.tkhd.track_id,D.timescale=P.mdia.mdhd.timescale,D.description_index=v-1,D.description=P.mdia.minf.stbl.stsd.entries[D.description_index],D.size=w,O.flags&a.TRUN_FLAGS_SIZE&&(D.size=O.sample_size[p]),P.samples_size+=D.size,D.duration=x,O.flags&a.TRUN_FLAGS_DURATION&&(D.duration=O.sample_duration[p]),P.samples_duration+=D.duration,P.first_traf_merged||p>0?D.dts=P.samples[P.samples.length-2].dts+P.samples[P.samples.length-2].duration:(T.tfdt?D.dts=T.tfdt.baseMediaDecodeTime:D.dts=0,P.first_traf_merged=!0),D.cts=D.dts,O.flags&a.TRUN_FLAGS_CTS_OFFSET&&(D.cts=D.dts+O.sample_composition_time_offset[p]),R=b,O.flags&a.TRUN_FLAGS_FLAGS?R=O.sample_flags[p]:p===0&&O.flags&a.TRUN_FLAGS_FIRST_FLAG&&(R=O.first_sample_flags),D.is_sync=!(R>>16&1),D.is_leading=R>>26&3,D.depends_on=R>>24&3,D.is_depended_on=R>>22&3,D.has_redundancy=R>>20&3,D.degradation_priority=R&65535;var k=!!(T.tfhd.flags&a.TFHD_FLAG_BASE_DATA_OFFSET),j=!!(T.tfhd.flags&a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),U=!!(O.flags&a.TRUN_FLAGS_DATA_OFFSET),N=0;k?N=T.tfhd.base_data_offset:j||h===0?N=A.start:N=S,h===0&&p===0?U?D.offset=N+O.data_offset:D.offset=N:D.offset=S,S=D.offset+D.size,(T.sbgps.length>0||T.sgpds.length>0||P.mdia.minf.stbl.sbgps.length>0||P.mdia.minf.stbl.sgpds.length>0)&&y.setSampleGroupProperties(P,D,D.number_in_traf,T.sample_groups_info)}}if(T.subs){P.has_fragment_subsamples=!0;var L=T.first_sample_index;for(h=0;h<T.subs.entries.length;h++)L+=T.subs.entries[h].sample_delta,D=P.samples[L-1],D.subsamples=T.subs.entries[h].subsamples}}}},y.prototype.getSample=function(u,h){var p,v=u.samples[h];if(!this.moov)return null;if(!v.data)v.data=new Uint8Array(v.size),v.alreadyRead=0,this.samplesDataSize+=v.size,e.debug("ISOFile","Allocating sample #"+h+" on track #"+u.tkhd.track_id+" of size "+v.size+" (total: "+this.samplesDataSize+")");else if(v.alreadyRead==v.size)return v;for(;;){var x=this.stream.findPosition(!0,v.offset+v.alreadyRead,!1);if(x>-1){p=this.stream.buffers[x];var w=p.byteLength-(v.offset+v.alreadyRead-p.fileStart);if(v.size-v.alreadyRead<=w)return e.debug("ISOFile","Getting sample #"+h+" data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+(v.size-v.alreadyRead)+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,v.size-v.alreadyRead),p.usedBytes+=v.size-v.alreadyRead,this.stream.logBufferLevel(),v.alreadyRead=v.size,v;if(w===0)return null;e.debug("ISOFile","Getting sample #"+h+" partial data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+w+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,w),v.alreadyRead+=w,p.usedBytes+=w,this.stream.logBufferLevel()}else return null}},y.prototype.releaseSample=function(u,h){var p=u.samples[h];return p.data?(this.samplesDataSize-=p.size,p.data=null,p.alreadyRead=0,p.size):0},y.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},y.prototype.getCodecs=function(){var u,h="";for(u=0;u<this.moov.traks.length;u++){var p=this.moov.traks[u];u>0&&(h+=","),h+=p.mdia.minf.stbl.stsd.entries[0].getCodec()}return h},y.prototype.getTrexById=function(u){var h;if(!this.moov||!this.moov.mvex)return null;for(h=0;h<this.moov.mvex.trexs.length;h++){var p=this.moov.mvex.trexs[h];if(p.track_id==u)return p}return null},y.prototype.getTrackById=function(u){if(this.moov===void 0)return null;for(var h=0;h<this.moov.traks.length;h++){var p=this.moov.traks[h];if(p.tkhd.track_id==u)return p}return null},y.prototype.itemsDataSize=0,y.prototype.flattenItemInfo=function(){var u=this.items,h=this.entity_groups,p,v,x,w=this.meta;if(w!=null&&w.hdlr!==void 0&&w.iinf!==void 0){for(p=0;p<w.iinf.item_infos.length;p++)x={},x.id=w.iinf.item_infos[p].item_ID,u[x.id]=x,x.ref_to=[],x.name=w.iinf.item_infos[p].item_name,w.iinf.item_infos[p].protection_index>0&&(x.protection=w.ipro.protections[w.iinf.item_infos[p].protection_index-1]),w.iinf.item_infos[p].item_type?x.type=w.iinf.item_infos[p].item_type:x.type="mime",x.content_type=w.iinf.item_infos[p].content_type,x.content_encoding=w.iinf.item_infos[p].content_encoding;if(w.grpl)for(p=0;p<w.grpl.boxes.length;p++)entity_group={},entity_group.id=w.grpl.boxes[p].group_id,entity_group.entity_ids=w.grpl.boxes[p].entity_ids,entity_group.type=w.grpl.boxes[p].type,h[entity_group.id]=entity_group;if(w.iloc)for(p=0;p<w.iloc.items.length;p++){var b=w.iloc.items[p];switch(x=u[b.item_ID],b.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),x.source=w.dinf.boxes[b.data_reference_index-1]),b.construction_method){case 0:break;case 1:break;case 2:e.warn("Item storage with construction_method : not supported");break}for(x.extents=[],x.size=0,v=0;v<b.extents.length;v++)x.extents[v]={},x.extents[v].offset=b.extents[v].extent_offset+b.base_offset,b.construction_method==1&&(x.extents[v].offset+=w.idat.start+w.idat.hdr_size),x.extents[v].length=b.extents[v].extent_length,x.extents[v].alreadyRead=0,x.size+=x.extents[v].length}if(w.pitm&&(u[w.pitm.item_id].primary=!0),w.iref)for(p=0;p<w.iref.references.length;p++){var S=w.iref.references[p];for(v=0;v<S.references.length;v++)u[S.from_item_ID].ref_to.push({type:S.type,id:S.references[v]})}if(w.iprp)for(var C=0;C<w.iprp.ipmas.length;C++){var A=w.iprp.ipmas[C];for(p=0;p<A.associations.length;p++){var T=A.associations[p];if(x=u[T.id],x||(x=h[T.id]),x)for(x.properties===void 0&&(x.properties={},x.properties.boxes=[]),v=0;v<T.props.length;v++){var P=T.props[v];if(P.property_index>0&&P.property_index-1<w.iprp.ipco.boxes.length){var B=w.iprp.ipco.boxes[P.property_index-1];x.properties[B.type]=B,x.properties.boxes.push(B)}}}}}},y.prototype.getItem=function(u){var h,p;if(!this.meta)return null;if(p=this.items[u],!p.data&&p.size)p.data=new Uint8Array(p.size),p.alreadyRead=0,this.itemsDataSize+=p.size,e.debug("ISOFile","Allocating item #"+u+" of size "+p.size+" (total: "+this.itemsDataSize+")");else if(p.alreadyRead===p.size)return p;for(var v=0;v<p.extents.length;v++){var x=p.extents[v];if(x.alreadyRead!==x.length){var w=this.stream.findPosition(!0,x.offset+x.alreadyRead,!1);if(w>-1){h=this.stream.buffers[w];var b=h.byteLength-(x.offset+x.alreadyRead-h.fileStart);if(x.length-x.alreadyRead<=b)e.debug("ISOFile","Getting item #"+u+" extent #"+v+" data (alreadyRead: "+x.alreadyRead+" offset: "+(x.offset+x.alreadyRead-h.fileStart)+" read size: "+(x.length-x.alreadyRead)+" full extent size: "+x.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,h,x.offset+x.alreadyRead-h.fileStart,x.length-x.alreadyRead),h.usedBytes+=x.length-x.alreadyRead,this.stream.logBufferLevel(),p.alreadyRead+=x.length-x.alreadyRead,x.alreadyRead=x.length;else return e.debug("ISOFile","Getting item #"+u+" extent #"+v+" partial data (alreadyRead: "+x.alreadyRead+" offset: "+(x.offset+x.alreadyRead-h.fileStart)+" read size: "+b+" full extent size: "+x.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,h,x.offset+x.alreadyRead-h.fileStart,b),x.alreadyRead+=b,p.alreadyRead+=b,h.usedBytes+=b,this.stream.logBufferLevel(),null}else return null}}return p.alreadyRead===p.size?p:null},y.prototype.releaseItem=function(u){var h=this.items[u];if(h.data){this.itemsDataSize-=h.size,h.data=null,h.alreadyRead=0;for(var p=0;p<h.extents.length;p++){var v=h.extents[p];v.alreadyRead=0}return h.size}else return 0},y.prototype.processItems=function(u){for(var h in this.items){var p=this.items[h];this.getItem(p.id),u&&!p.sent&&(u(p),p.sent=!0,p.data=null)}},y.prototype.hasItem=function(u){for(var h in this.items){var p=this.items[h];if(p.name===u)return p.id}return-1},y.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},y.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},y.prototype.itemToFragmentedTrackFile=function(u){var h=u||{},p=null;if(h.itemId?p=this.getItem(h.itemId):p=this.getPrimaryItem(),p==null)return null;var v=new y;v.discardMdatData=!1;var x={type:p.type,description_boxes:p.properties.boxes};p.properties.ispe&&(x.width=p.properties.ispe.image_width,x.height=p.properties.ispe.image_height);var w=v.addTrack(x);return w?(v.addSample(w,p.data),v):null},y.prototype.write=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u)},y.prototype.createFragment=function(u,h,p){var v=this.getTrackById(u),x=this.getSample(v,h);if(x==null)return this.setNextSeekPositionFromSample(v.samples[h]),null;var w=p||new n;w.endianness=n.BIG_ENDIAN;var b=this.createSingleSampleMoof(x);b.write(w),b.trafs[0].truns[0].data_offset=b.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+b.trafs[0].truns[0].data_offset),w.adjustUint32(b.trafs[0].truns[0].data_offset_position,b.trafs[0].truns[0].data_offset);var S=new a.mdatBox;return S.data=x.data,S.write(w),w},y.writeInitializationSegment=function(u,h,p,v){var x;e.debug("ISOFile","Generating initialization segment");var w=new n;w.endianness=n.BIG_ENDIAN,u.write(w);var b=h.add("mvex");for(p&&b.add("mehd").set("fragment_duration",p),x=0;x<h.traks.length;x++)b.add("trex").set("track_id",h.traks[x].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",v).set("default_sample_size",0).set("default_sample_flags",65536);return h.write(w),w.buffer},y.prototype.save=function(u){var h=new n;h.endianness=n.BIG_ENDIAN,this.write(h),h.save(u)},y.prototype.getBuffer=function(){var u=new n;return u.endianness=n.BIG_ENDIAN,this.write(u),u.buffer},y.prototype.initializeSegmentation=function(){var u,h,p,v;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),h=[],u=0;u<this.fragmentedTracks.length;u++){var x=new a.moovBox;x.mvhd=this.moov.mvhd,x.boxes.push(x.mvhd),p=this.getTrackById(this.fragmentedTracks[u].id),x.boxes.push(p),x.traks.push(p),v={},v.id=p.tkhd.track_id,v.user=this.fragmentedTracks[u].user,v.buffer=y.writeInitializationSegment(this.ftyp,x,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[u].samples.length>0?this.moov.traks[u].samples[0].duration:0),h.push(v)}return h},a.Box.prototype.printHeader=function(u){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),u.log(u.indent+"size:"+this.size),u.log(u.indent+"type:"+this.type)},a.FullBox.prototype.printHeader=function(u){this.size+=4,a.Box.prototype.printHeader.call(this,u),u.log(u.indent+"version:"+this.version),u.log(u.indent+"flags:"+this.flags)},a.Box.prototype.print=function(u){this.printHeader(u)},a.ContainerBox.prototype.print=function(u){this.printHeader(u);for(var h=0;h<this.boxes.length;h++)if(this.boxes[h]){var p=u.indent;u.indent+=" ",this.boxes[h].print(u),u.indent=p}},y.prototype.print=function(u){u.indent="";for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&this.boxes[h].print(u)},a.mvhdBox.prototype.print=function(u){a.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"timescale: "+this.timescale),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"rate: "+this.rate),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"next_track_id: "+this.next_track_id)},a.tkhdBox.prototype.print=function(u){a.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"track_id: "+this.track_id),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"layer: "+this.layer),u.log(u.indent+"alternate_group: "+this.alternate_group),u.log(u.indent+"width: "+this.width),u.log(u.indent+"height: "+this.height)};var _={};_.createFile=function(u,h){var p=u!==void 0?u:!0,v=new y(h);return v.discardMdatData=!p,v},t.createFile=_.createFile})(kz);const $Ge=xn(kz);var Rce=typeof global=="object"&&global&&global.Object===Object&&global;const Lz=Rce;var Ice=typeof self=="object"&&self&&self.Object===Object&&self,Oce=Lz||Ice||Function("return this")();const Vo=Oce;var Bce=Vo.Symbol;const Qh=Bce;var Nz=Object.prototype,Mce=Nz.hasOwnProperty,Fce=Nz.toString,Dp=Qh?Qh.toStringTag:void 0;function kce(t){var e=Mce.call(t,Dp),r=t[Dp];try{t[Dp]=void 0;var n=!0}catch(o){}var s=Fce.call(t);return n&&(e?t[Dp]=r:delete t[Dp]),s}var Lce=Object.prototype,Nce=Lce.toString;function Uce(t){return Nce.call(t)}var $ce="[object Null]",jce="[object Undefined]",$k=Qh?Qh.toStringTag:void 0;function Rf(t){return t==null?t===void 0?jce:$ce:$k&&$k in Object(t)?kce(t):Uce(t)}function Jc(t){return t!=null&&typeof t=="object"}var zce=Array.isArray;const Tm=zce;function Cu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Uz(t){return t}var Gce="[object AsyncFunction]",Vce="[object Function]",Hce="[object GeneratorFunction]",Wce="[object Proxy]";function AR(t){if(!Cu(t))return!1;var e=Rf(t);return e==Vce||e==Hce||e==Gce||e==Wce}var Kce=Vo["__core-js_shared__"];const dS=Kce;var jk=function(){var t=/[^.]+$/.exec(dS&&dS.keys&&dS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xce(t){return!!jk&&jk in t}var Yce=Function.prototype,qce=Yce.toString;function ed(t){if(t!=null){try{return qce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Zce=/[\\^$.*+?()[\]{}|]/g,Qce=/^\[object .+?Constructor\]$/,Jce=Function.prototype,ede=Object.prototype,tde=Jce.toString,rde=ede.hasOwnProperty,nde=RegExp("^"+tde.call(rde).replace(Zce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ide(t){if(!Cu(t)||Xce(t))return!1;var e=AR(t)?nde:Qce;return e.test(ed(t))}function sde(t,e){return t==null?void 0:t[e]}function td(t,e){var r=sde(t,e);return ide(r)?r:void 0}var ode=td(Vo,"WeakMap");const ET=ode;var zk=Object.create,ade=function(){function t(){}return function(e){if(!Cu(e))return{};if(zk)return zk(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const lde=ade;function ude(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function $z(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var cde=800,dde=16,hde=Date.now;function fde(t){var e=0,r=0;return function(){var n=hde(),s=dde-(n-r);if(r=n,s>0){if(++e>=cde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function pde(t){return function(){return t}}var gde=function(){try{var t=td(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const U1=gde;var mde=U1?function(t,e){return U1(t,"toString",{configurable:!0,enumerable:!1,value:pde(e),writable:!0})}:Uz;const vde=mde;var yde=fde(vde);const _de=yde;function xde(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var wde=9007199254740991,bde=/^(?:0|[1-9]\d*)$/;function jz(t,e){var r=typeof t;return e=e==null?wde:e,!!e&&(r=="number"||r!="symbol"&&bde.test(t))&&t>-1&&t%1==0&&t<e}function TR(t,e,r){e=="__proto__"&&U1?U1(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Nw(t,e){return t===e||t!==t&&e!==e}var Ede=Object.prototype,Sde=Ede.hasOwnProperty;function zz(t,e,r){var n=t[e];(!(Sde.call(t,e)&&Nw(n,r))||r===void 0&&!(e in t))&&TR(t,e,r)}function Gv(t,e,r,n){var s=!r;r||(r={});for(var o=-1,l=e.length;++o<l;){var a=e[o],c=n?n(r[a],t[a],a,r,t):void 0;c===void 0&&(c=t[a]),s?TR(r,a,c):zz(r,a,c)}return r}var Gk=Math.max;function Cde(t,e,r){return e=Gk(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=Gk(n.length-e,0),l=Array(o);++s<o;)l[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=r(l),ude(t,this,a)}}function Ade(t,e){return _de(Cde(t,e,Uz),t+"")}var Tde=9007199254740991;function Gz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Tde}function Uw(t){return t!=null&&Gz(t.length)&&!AR(t)}function Dde(t,e,r){if(!Cu(r))return!1;var n=typeof e;return(n=="number"?Uw(r)&&jz(e,r.length):n=="string"&&e in r)?Nw(r[e],t):!1}function Pde(t){return Ade(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,l=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,l&&Dde(r[0],r[1],l)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var a=r[n];a&&t(e,a,n,o)}return e})}var Rde=Object.prototype;function DR(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Rde;return t===r}function Ide(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Ode="[object Arguments]";function Vk(t){return Jc(t)&&Rf(t)==Ode}var Vz=Object.prototype,Bde=Vz.hasOwnProperty,Mde=Vz.propertyIsEnumerable,Fde=Vk(function(){return arguments}())?Vk:function(t){return Jc(t)&&Bde.call(t,"callee")&&!Mde.call(t,"callee")};const ST=Fde;function kde(){return!1}var Hz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hk=Hz&&typeof module=="object"&&module&&!module.nodeType&&module,Lde=Hk&&Hk.exports===Hz,Wk=Lde?Vo.Buffer:void 0,Nde=Wk?Wk.isBuffer:void 0,Ude=Nde||kde;const PR=Ude;var $de="[object Arguments]",jde="[object Array]",zde="[object Boolean]",Gde="[object Date]",Vde="[object Error]",Hde="[object Function]",Wde="[object Map]",Kde="[object Number]",Xde="[object Object]",Yde="[object RegExp]",qde="[object Set]",Zde="[object String]",Qde="[object WeakMap]",Jde="[object ArrayBuffer]",ehe="[object DataView]",the="[object Float32Array]",rhe="[object Float64Array]",nhe="[object Int8Array]",ihe="[object Int16Array]",she="[object Int32Array]",ohe="[object Uint8Array]",ahe="[object Uint8ClampedArray]",lhe="[object Uint16Array]",uhe="[object Uint32Array]",Jt={};Jt[the]=Jt[rhe]=Jt[nhe]=Jt[ihe]=Jt[she]=Jt[ohe]=Jt[ahe]=Jt[lhe]=Jt[uhe]=!0;Jt[$de]=Jt[jde]=Jt[Jde]=Jt[zde]=Jt[ehe]=Jt[Gde]=Jt[Vde]=Jt[Hde]=Jt[Wde]=Jt[Kde]=Jt[Xde]=Jt[Yde]=Jt[qde]=Jt[Zde]=Jt[Qde]=!1;function che(t){return Jc(t)&&Gz(t.length)&&!!Jt[Rf(t)]}function RR(t){return function(e){return t(e)}}var Wz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cg=Wz&&typeof module=="object"&&module&&!module.nodeType&&module,dhe=Cg&&Cg.exports===Wz,hS=dhe&&Lz.process,hhe=function(){try{var t=Cg&&Cg.require&&Cg.require("util").types;return t||hS&&hS.binding&&hS.binding("util")}catch(e){}}();const Jh=hhe;var Kk=Jh&&Jh.isTypedArray,fhe=Kk?RR(Kk):che;const Kz=fhe;var phe=Object.prototype,ghe=phe.hasOwnProperty;function Xz(t,e){var r=Tm(t),n=!r&&ST(t),s=!r&&!n&&PR(t),o=!r&&!n&&!s&&Kz(t),l=r||n||s||o,a=l?Ide(t.length,String):[],c=a.length;for(var d in t)(e||ghe.call(t,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||jz(d,c)))&&a.push(d);return a}function Yz(t,e){return function(r){return t(e(r))}}var mhe=Yz(Object.keys,Object);const vhe=mhe;var yhe=Object.prototype,_he=yhe.hasOwnProperty;function xhe(t){if(!DR(t))return vhe(t);var e=[];for(var r in Object(t))_he.call(t,r)&&r!="constructor"&&e.push(r);return e}function IR(t){return Uw(t)?Xz(t):xhe(t)}function whe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var bhe=Object.prototype,Ehe=bhe.hasOwnProperty;function She(t){if(!Cu(t))return whe(t);var e=DR(t),r=[];for(var n in t)n=="constructor"&&(e||!Ehe.call(t,n))||r.push(n);return r}function Vv(t){return Uw(t)?Xz(t,!0):She(t)}var Che=td(Object,"create");const Dm=Che;function Ahe(){this.__data__=Dm?Dm(null):{},this.size=0}function The(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dhe="__lodash_hash_undefined__",Phe=Object.prototype,Rhe=Phe.hasOwnProperty;function Ihe(t){var e=this.__data__;if(Dm){var r=e[t];return r===Dhe?void 0:r}return Rhe.call(e,t)?e[t]:void 0}var Ohe=Object.prototype,Bhe=Ohe.hasOwnProperty;function Mhe(t){var e=this.__data__;return Dm?e[t]!==void 0:Bhe.call(e,t)}var Fhe="__lodash_hash_undefined__";function khe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Dm&&e===void 0?Fhe:e,this}function Lc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lc.prototype.clear=Ahe;Lc.prototype.delete=The;Lc.prototype.get=Ihe;Lc.prototype.has=Mhe;Lc.prototype.set=khe;function Lhe(){this.__data__=[],this.size=0}function $w(t,e){for(var r=t.length;r--;)if(Nw(t[r][0],e))return r;return-1}var Nhe=Array.prototype,Uhe=Nhe.splice;function $he(t){var e=this.__data__,r=$w(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Uhe.call(e,r,1),--this.size,!0}function jhe(t){var e=this.__data__,r=$w(e,t);return r<0?void 0:e[r][1]}function zhe(t){return $w(this.__data__,t)>-1}function Ghe(t,e){var r=this.__data__,n=$w(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ya(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ya.prototype.clear=Lhe;Ya.prototype.delete=$he;Ya.prototype.get=jhe;Ya.prototype.has=zhe;Ya.prototype.set=Ghe;var Vhe=td(Vo,"Map");const Pm=Vhe;function Hhe(){this.size=0,this.__data__={hash:new Lc,map:new(Pm||Ya),string:new Lc}}function Whe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function jw(t,e){var r=t.__data__;return Whe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Khe(t){var e=jw(this,t).delete(t);return this.size-=e?1:0,e}function Xhe(t){return jw(this,t).get(t)}function Yhe(t){return jw(this,t).has(t)}function qhe(t,e){var r=jw(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function If(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}If.prototype.clear=Hhe;If.prototype.delete=Khe;If.prototype.get=Xhe;If.prototype.has=Yhe;If.prototype.set=qhe;function qz(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var Zhe=Yz(Object.getPrototypeOf,Object);const OR=Zhe;var Qhe="[object Object]",Jhe=Function.prototype,efe=Object.prototype,Zz=Jhe.toString,tfe=efe.hasOwnProperty,rfe=Zz.call(Object);function nfe(t){if(!Jc(t)||Rf(t)!=Qhe)return!1;var e=OR(t);if(e===null)return!0;var r=tfe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Zz.call(r)==rfe}function ife(){this.__data__=new Ya,this.size=0}function sfe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function ofe(t){return this.__data__.get(t)}function afe(t){return this.__data__.has(t)}var lfe=200;function ufe(t,e){var r=this.__data__;if(r instanceof Ya){var n=r.__data__;if(!Pm||n.length<lfe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new If(n)}return r.set(t,e),this.size=r.size,this}function rd(t){var e=this.__data__=new Ya(t);this.size=e.size}rd.prototype.clear=ife;rd.prototype.delete=sfe;rd.prototype.get=ofe;rd.prototype.has=afe;rd.prototype.set=ufe;function cfe(t,e){return t&&Gv(e,IR(e),t)}function dfe(t,e){return t&&Gv(e,Vv(e),t)}var Qz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xk=Qz&&typeof module=="object"&&module&&!module.nodeType&&module,hfe=Xk&&Xk.exports===Qz,Yk=hfe?Vo.Buffer:void 0,qk=Yk?Yk.allocUnsafe:void 0;function Jz(t,e){if(e)return t.slice();var r=t.length,n=qk?qk(r):new t.constructor(r);return t.copy(n),n}function ffe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var l=t[r];e(l,r,t)&&(o[s++]=l)}return o}function e7(){return[]}var pfe=Object.prototype,gfe=pfe.propertyIsEnumerable,Zk=Object.getOwnPropertySymbols,mfe=Zk?function(t){return t==null?[]:(t=Object(t),ffe(Zk(t),function(e){return gfe.call(t,e)}))}:e7;const BR=mfe;function vfe(t,e){return Gv(t,BR(t),e)}var yfe=Object.getOwnPropertySymbols,_fe=yfe?function(t){for(var e=[];t;)qz(e,BR(t)),t=OR(t);return e}:e7;const t7=_fe;function xfe(t,e){return Gv(t,t7(t),e)}function r7(t,e,r){var n=e(t);return Tm(t)?n:qz(n,r(t))}function wfe(t){return r7(t,IR,BR)}function bfe(t){return r7(t,Vv,t7)}var Efe=td(Vo,"DataView");const CT=Efe;var Sfe=td(Vo,"Promise");const AT=Sfe;var Cfe=td(Vo,"Set");const TT=Cfe;var Qk="[object Map]",Afe="[object Object]",Jk="[object Promise]",e3="[object Set]",t3="[object WeakMap]",r3="[object DataView]",Tfe=ed(CT),Dfe=ed(Pm),Pfe=ed(AT),Rfe=ed(TT),Ife=ed(ET),qu=Rf;(CT&&qu(new CT(new ArrayBuffer(1)))!=r3||Pm&&qu(new Pm)!=Qk||AT&&qu(AT.resolve())!=Jk||TT&&qu(new TT)!=e3||ET&&qu(new ET)!=t3)&&(qu=function(t){var e=Rf(t),r=e==Afe?t.constructor:void 0,n=r?ed(r):"";if(n)switch(n){case Tfe:return r3;case Dfe:return Qk;case Pfe:return Jk;case Rfe:return e3;case Ife:return t3}return e});const MR=qu;var Ofe=Object.prototype,Bfe=Ofe.hasOwnProperty;function Mfe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Bfe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Ffe=Vo.Uint8Array;const n3=Ffe;function FR(t){var e=new t.constructor(t.byteLength);return new n3(e).set(new n3(t)),e}function kfe(t,e){var r=e?FR(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Lfe=/\w*$/;function Nfe(t){var e=new t.constructor(t.source,Lfe.exec(t));return e.lastIndex=t.lastIndex,e}var i3=Qh?Qh.prototype:void 0,s3=i3?i3.valueOf:void 0;function Ufe(t){return s3?Object(s3.call(t)):{}}function n7(t,e){var r=e?FR(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var $fe="[object Boolean]",jfe="[object Date]",zfe="[object Map]",Gfe="[object Number]",Vfe="[object RegExp]",Hfe="[object Set]",Wfe="[object String]",Kfe="[object Symbol]",Xfe="[object ArrayBuffer]",Yfe="[object DataView]",qfe="[object Float32Array]",Zfe="[object Float64Array]",Qfe="[object Int8Array]",Jfe="[object Int16Array]",epe="[object Int32Array]",tpe="[object Uint8Array]",rpe="[object Uint8ClampedArray]",npe="[object Uint16Array]",ipe="[object Uint32Array]";function spe(t,e,r){var n=t.constructor;switch(e){case Xfe:return FR(t);case $fe:case jfe:return new n(+t);case Yfe:return kfe(t,r);case qfe:case Zfe:case Qfe:case Jfe:case epe:case tpe:case rpe:case npe:case ipe:return n7(t,r);case zfe:return new n;case Gfe:case Wfe:return new n(t);case Vfe:return Nfe(t);case Hfe:return new n;case Kfe:return Ufe(t)}}function i7(t){return typeof t.constructor=="function"&&!DR(t)?lde(OR(t)):{}}var ope="[object Map]";function ape(t){return Jc(t)&&MR(t)==ope}var o3=Jh&&Jh.isMap,lpe=o3?RR(o3):ape;const upe=lpe;var cpe="[object Set]";function dpe(t){return Jc(t)&&MR(t)==cpe}var a3=Jh&&Jh.isSet,hpe=a3?RR(a3):dpe;const fpe=hpe;var ppe=1,gpe=2,mpe=4,s7="[object Arguments]",vpe="[object Array]",ype="[object Boolean]",_pe="[object Date]",xpe="[object Error]",o7="[object Function]",wpe="[object GeneratorFunction]",bpe="[object Map]",Epe="[object Number]",a7="[object Object]",Spe="[object RegExp]",Cpe="[object Set]",Ape="[object String]",Tpe="[object Symbol]",Dpe="[object WeakMap]",Ppe="[object ArrayBuffer]",Rpe="[object DataView]",Ipe="[object Float32Array]",Ope="[object Float64Array]",Bpe="[object Int8Array]",Mpe="[object Int16Array]",Fpe="[object Int32Array]",kpe="[object Uint8Array]",Lpe="[object Uint8ClampedArray]",Npe="[object Uint16Array]",Upe="[object Uint32Array]",Ht={};Ht[s7]=Ht[vpe]=Ht[Ppe]=Ht[Rpe]=Ht[ype]=Ht[_pe]=Ht[Ipe]=Ht[Ope]=Ht[Bpe]=Ht[Mpe]=Ht[Fpe]=Ht[bpe]=Ht[Epe]=Ht[a7]=Ht[Spe]=Ht[Cpe]=Ht[Ape]=Ht[Tpe]=Ht[kpe]=Ht[Lpe]=Ht[Npe]=Ht[Upe]=!0;Ht[xpe]=Ht[o7]=Ht[Dpe]=!1;function C_(t,e,r,n,s,o){var l,a=e&ppe,c=e&gpe,d=e&mpe;if(r&&(l=s?r(t,n,s,o):r(t)),l!==void 0)return l;if(!Cu(t))return t;var f=Tm(t);if(f){if(l=Mfe(t),!a)return $z(t,l)}else{var g=MR(t),m=g==o7||g==wpe;if(PR(t))return Jz(t,a);if(g==a7||g==s7||m&&!s){if(l=c||m?{}:i7(t),!a)return c?xfe(t,dfe(l,t)):vfe(t,cfe(l,t))}else{if(!Ht[g])return s?t:{};l=spe(t,g,a)}}o||(o=new rd);var y=o.get(t);if(y)return y;o.set(t,l),fpe(t)?t.forEach(function(h){l.add(C_(h,e,r,h,t,o))}):upe(t)&&t.forEach(function(h,p){l.set(p,C_(h,e,r,p,t,o))});var _=d?c?bfe:wfe:c?Vv:IR,u=f?void 0:_(t);return xde(u||t,function(h,p){u&&(p=h,h=t[p]),zz(l,p,C_(h,e,r,p,t,o))}),l}var $pe=1,jpe=4;function jGe(t){return C_(t,$pe|jpe)}function zpe(t){return function(e,r,n){for(var s=-1,o=Object(e),l=n(e),a=l.length;a--;){var c=l[t?a:++s];if(r(o[c],c,o)===!1)break}return e}}var Gpe=zpe();const Vpe=Gpe;function DT(t,e,r){(r!==void 0&&!Nw(t[e],r)||r===void 0&&!(e in t))&&TR(t,e,r)}function Hpe(t){return Jc(t)&&Uw(t)}function PT(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Wpe(t){return Gv(t,Vv(t))}function Kpe(t,e,r,n,s,o,l){var a=PT(t,r),c=PT(e,r),d=l.get(c);if(d){DT(t,r,d);return}var f=o?o(a,c,r+"",t,e,l):void 0,g=f===void 0;if(g){var m=Tm(c),y=!m&&PR(c),_=!m&&!y&&Kz(c);f=c,m||y||_?Tm(a)?f=a:Hpe(a)?f=$z(a):y?(g=!1,f=Jz(c,!0)):_?(g=!1,f=n7(c,!0)):f=[]:nfe(c)||ST(c)?(f=a,ST(a)?f=Wpe(a):(!Cu(a)||AR(a))&&(f=i7(c))):g=!1}g&&(l.set(c,f),s(f,c,n,o,l),l.delete(c)),DT(t,r,f)}function l7(t,e,r,n,s){t!==e&&Vpe(e,function(o,l){if(s||(s=new rd),Cu(o))Kpe(t,e,l,r,l7,n,s);else{var a=n?n(PT(t,l),o,l+"",t,e,s):void 0;a===void 0&&(a=o),DT(t,l,a)}},Vv)}var Xpe=Pde(function(t,e,r){l7(t,e,r)});const zGe=Xpe;function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Li={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ef={duration:.5,overwrite:!1,delay:0},kR,Rn,Er,ps=1e8,zt=1/ps,RT=Math.PI*2,Ype=RT/4,qpe=0,c7=Math.sqrt,Zpe=Math.cos,Qpe=Math.sin,dn=function(e){return typeof e=="string"},Sr=function(e){return typeof e=="function"},La=function(e){return typeof e=="number"},LR=function(e){return typeof e>"u"},No=function(e){return typeof e=="object"},hi=function(e){return e!==!1},NR=function(){return typeof window<"u"},_0=function(e){return Sr(e)||dn(e)},d7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},In=Array.isArray,IT=/(?:-?\.?\d|\.)+/gi,h7=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,lh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,fS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,f7=/[+-]=-?[.\d]+/,p7=/[^,'"\[\]\s]+/gi,Jpe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,mr,es,OT,UR,ji={},$1={},g7,m7=function(e){return($1=Nc(e,ji))&&mi},$R=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},j1=function(e,r){return!r&&console.warn(e)},v7=function(e,r){return e&&(ji[e]=r)&&$1&&($1[e]=r)||ji},Rm=function(){return 0},ege={suppressEvents:!0,isStart:!0,kill:!1},A_={suppressEvents:!0,kill:!1},tge={suppressEvents:!0},jR={},Yl=[],BT={},y7,Di={},pS={},l3=30,T_=[],zR="",GR=function(e){var r=e[0],n,s;if(No(r)||Sr(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=T_.length;s--&&!T_[s].targetTest(r););n=T_[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new z7(e[s],n)))||e.splice(s,1);return e},xc=function(e){return e._gsap||GR(gs(e))[0]._gsap},_7=function(e,r,n){return(n=e[r])&&Sr(n)?e[r]():LR(n)&&e.getAttribute&&e.getAttribute(r)||n},fi=function(e,r){return(e=e.split(",")).forEach(r)||e},Pr=function(e){return Math.round(e*1e5)/1e5||0},pn=function(e){return Math.round(e*1e7)/1e7||0},Sh=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},rge=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},z1=function(){var e=Yl.length,r=Yl.slice(0),n,s;for(BT={},Yl.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},x7=function(e,r,n,s){Yl.length&&!Rn&&z1(),e.render(r,n,s||Rn&&r<0&&(e._initted||e._startAt)),Yl.length&&!Rn&&z1()},w7=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(p7).length<2?r:dn(e)?e.trim():e},b7=function(e){return e},As=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},nge=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},Nc=function(e,r){for(var n in r)e[n]=r[n];return e},u3=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=No(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},G1=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Ag=function(e){var r=e.parent||mr,n=e.keyframes?nge(In(e.keyframes)):As;if(hi(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},ige=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},E7=function(e,r,n,s,o){n===void 0&&(n="_first"),s===void 0&&(s="_last");var l=e[s],a;if(o)for(a=r[o];l&&l[o]>a;)l=l._prev;return l?(r._next=l._next,l._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=l,r.parent=r._dp=e,r},zw=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=r._prev,l=r._next;o?o._next=l:e[n]===r&&(e[n]=l),l?l._prev=o:e[s]===r&&(e[s]=o),r._next=r._prev=r.parent=null},su=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},wc=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},sge=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},MT=function(e,r,n,s){return e._startAt&&(Rn?e._startAt.revert(A_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},oge=function t(e){return!e||e._ts&&t(e.parent)},c3=function(e){return e._repeat?tf(e._tTime,e=e.duration()+e._rDelay)*e:0},tf=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},V1=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Gw=function(e){return e._end=pn(e._start+(e._tDur/Math.abs(e._ts||e._rts||zt)||0))},Vw=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=pn(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Gw(e),n._dirty||wc(n,e)),e},S7=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=V1(e.rawTime(),r),(!r._dur||Hv(0,r.totalDuration(),n)-r._tTime>zt)&&r.render(n,!0)),wc(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-zt}},So=function(e,r,n,s){return r.parent&&su(r),r._start=pn((La(n)?n:n||e!==mr?Ji(e,n,r):e._time)+r._delay),r._end=pn(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),E7(e,r,"_first","_last",e._sort?"_start":0),FT(r)||(e._recent=r),s||S7(e,r),e._ts<0&&Vw(e,e._tTime),e},C7=function(e,r){return(ji.ScrollTrigger||$R("scrollTrigger",r))&&ji.ScrollTrigger.create(r,e)},A7=function(e,r,n,s,o){if(HR(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!Rn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&y7!==Ri.frame)return Yl.push(e),e._lazy=[o,s],1},age=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},FT=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},lge=function(e,r,n,s){var o=e.ratio,l=r<0||!r&&(!e._start&&age(e)&&!(!e._initted&&FT(e))||(e._ts<0||e._dp._ts<0)&&!FT(e))?0:1,a=e._rDelay,c=0,d,f,g;if(a&&e._repeat&&(c=Hv(0,e._tDur,r),f=tf(c,a),e._yoyo&&f&1&&(l=1-l),f!==tf(e._tTime,a)&&(o=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==o||Rn||s||e._zTime===zt||!r&&e._zTime){if(!e._initted&&A7(e,r,s,n,c))return;for(g=e._zTime,e._zTime=r||(n?zt:0),n||(n=r&&!g),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,d=e._pt;d;)d.r(l,d.d),d=d._next;r<0&&MT(e,r,n,!0),e._onUpdate&&!n&&ms(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ms(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===l&&(l&&su(e,1),!n&&!Rn&&(ms(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},uge=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},rf=function(e,r,n,s){var o=e._repeat,l=pn(r)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=l/e._dur),e._dur=l,e._tDur=o?o<0?1e10:pn(l*(o+1)+e._rDelay*o):l,a>0&&!s&&Vw(e,e._tTime=e._tDur*a),e.parent&&Gw(e),n||wc(e.parent,e),e},d3=function(e){return e instanceof oi?wc(e):rf(e,e._dur)},cge={_start:0,endTime:Rm,totalDuration:Rm},Ji=function t(e,r,n){var s=e.labels,o=e._recent||cge,l=e.duration()>=ps?o.endTime(!1):e._dur,a,c,d;return dn(r)&&(isNaN(r)||r in s)?(c=r.charAt(0),d=r.substr(-1)==="%",a=r.indexOf("="),c==="<"||c===">"?(a>=0&&(r=r.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(a<0?o:n).totalDuration()/100:1)):a<0?(r in s||(s[r]=l),s[r]):(c=parseFloat(r.charAt(a-1)+r.substr(a+1)),d&&n&&(c=c/100*(In(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+c:l+c)):r==null?l:+r},Tg=function(e,r,n){var s=La(r[1]),o=(s?2:1)+(e<2?0:1),l=r[o],a,c;if(s&&(l.duration=r[1]),l.parent=n,e){for(a=l,c=n;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=hi(c.vars.inherit)&&c.parent;l.immediateRender=hi(a.immediateRender),e<2?l.runBackwards=1:l.startAt=r[o-1]}return new Lr(r[0],l,r[o+1])},Au=function(e,r){return e||e===0?r(e):r},Hv=function(e,r,n){return n<e?e:n>r?r:n},Cn=function(e,r){return!dn(e)||!(r=Jpe.exec(e))?"":r[1]},dge=function(e,r,n){return Au(n,function(s){return Hv(e,r,s)})},kT=[].slice,T7=function(e,r){return e&&No(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&No(e[0]))&&!e.nodeType&&e!==es},hge=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return dn(s)&&!r||T7(s,1)?(o=n).push.apply(o,gs(s)):n.push(s)})||n},gs=function(e,r,n){return Er&&!r&&Er.selector?Er.selector(e):dn(e)&&!n&&(OT||!nf())?kT.call((r||UR).querySelectorAll(e),0):In(e)?hge(e,n):T7(e)?kT.call(e,0):e?[e]:[]},LT=function(e){return e=gs(e)[0]||j1("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return gs(r,n.querySelectorAll?n:n===e?j1("Invalid scope")||UR.createElement("div"):e)}},D7=function(e){return e.sort(function(){return .5-Math.random()})},P7=function(e){if(Sr(e))return e;var r=No(e)?e:{each:e},n=bc(r.ease),s=r.from||0,o=parseFloat(r.base)||0,l={},a=s>0&&s<1,c=isNaN(s)||a,d=r.axis,f=s,g=s;return dn(s)?f=g={center:.5,edges:.5,end:1}[s]||0:!a&&c&&(f=s[0],g=s[1]),function(m,y,_){var u=(_||r).length,h=l[u],p,v,x,w,b,S,C,A,T;if(!h){if(T=r.grid==="auto"?0:(r.grid||[1,ps])[1],!T){for(C=-ps;C<(C=_[T++].getBoundingClientRect().left)&&T<u;);T--}for(h=l[u]=[],p=c?Math.min(T,u)*f-.5:s%T,v=T===ps?0:c?u*g/T-.5:s/T|0,C=0,A=ps,S=0;S<u;S++)x=S%T-p,w=v-(S/T|0),h[S]=b=d?Math.abs(d==="y"?w:x):c7(x*x+w*w),b>C&&(C=b),b<A&&(A=b);s==="random"&&D7(h),h.max=C-A,h.min=A,h.v=u=(parseFloat(r.amount)||parseFloat(r.each)*(T>u?u-1:d?d==="y"?u/T:T:Math.max(T,u/T))||0)*(s==="edges"?-1:1),h.b=u<0?o-u:o,h.u=Cn(r.amount||r.each)||0,n=n&&u<0?U7(n):n}return u=(h[m]-h.min)/h.max||0,pn(h.b+(n?n(u):u)*h.v)+h.u}},NT=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=pn(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(La(n)?0:Cn(n))}},R7=function(e,r){var n=In(e),s,o;return!n&&No(e)&&(s=n=e.radius||ps,e.values?(e=gs(e.values),(o=!La(e[0]))&&(s*=s)):e=NT(e.increment)),Au(r,n?Sr(e)?function(l){return o=e(l),Math.abs(o-l)<=s?o:l}:function(l){for(var a=parseFloat(o?l.x:l),c=parseFloat(o?l.y:0),d=ps,f=0,g=e.length,m,y;g--;)o?(m=e[g].x-a,y=e[g].y-c,m=m*m+y*y):m=Math.abs(e[g]-a),m<d&&(d=m,f=g);return f=!s||d<=s?e[f]:l,o||f===l||La(l)?f:f+Cn(l)}:NT(e))},I7=function(e,r,n,s){return Au(In(e)?!r:n===!0?!!(n=0):!s,function(){return In(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},fge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(o,l){return l(o)},s)}},pge=function(e,r){return function(n){return e(parseFloat(n))+(r||Cn(n))}},gge=function(e,r,n){return B7(e,r,0,1,n)},O7=function(e,r,n){return Au(n,function(s){return e[~~r(s)]})},mge=function t(e,r,n){var s=r-e;return In(e)?O7(e,t(0,e.length),r):Au(n,function(o){return(s+(o-e)%s)%s+e})},vge=function t(e,r,n){var s=r-e,o=s*2;return In(e)?O7(e,t(0,e.length-1),r):Au(n,function(l){return l=(o+(l-e)%o)%o||0,e+(l>s?o-l:l)})},Im=function(e){for(var r=0,n="",s,o,l,a;~(s=e.indexOf("random(",r));)l=e.indexOf(")",s),a=e.charAt(s+7)==="[",o=e.substr(s+7,l-s-7).match(a?p7:IT),n+=e.substr(r,s-r)+I7(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),r=l+1;return n+e.substr(r,e.length-r)},B7=function(e,r,n,s,o){var l=r-e,a=s-n;return Au(o,function(c){return n+((c-e)/l*a||0)})},yge=function t(e,r,n,s){var o=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!o){var l=dn(e),a={},c,d,f,g,m;if(n===!0&&(s=1)&&(n=null),l)e={p:e},r={p:r};else if(In(e)&&!In(r)){for(f=[],g=e.length,m=g-2,d=1;d<g;d++)f.push(t(e[d-1],e[d]));g--,o=function(_){_*=g;var u=Math.min(m,~~_);return f[u](_-u)},n=r}else s||(e=Nc(In(e)?[]:{},e));if(!f){for(c in r)VR.call(a,e,c,"get",r[c]);o=function(_){return XR(_,a)||(l?e.p:e)}}}return Au(n,o)},h3=function(e,r,n){var s=e.labels,o=ps,l,a,c;for(l in s)a=s[l]-r,a<0==!!n&&a&&o>(a=Math.abs(a))&&(c=l,o=a);return c},ms=function(e,r,n){var s=e.vars,o=s[r],l=Er,a=e._ctx,c,d,f;if(o)return c=s[r+"Params"],d=s.callbackScope||e,n&&Yl.length&&z1(),a&&(Er=a),f=c?o.apply(d,c):o.call(d),Er=l,f},Qp=function(e){return su(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Rn),e.progress()<1&&ms(e,"onInterrupt"),e},uh,M7=[],F7=function(e){if(NR()&&e){e=!e.name&&e.default||e;var r=e.name,n=Sr(e),s=r&&!n&&e.init?function(){this._props=[]}:e,o={init:Rm,render:XR,add:VR,kill:Mge,modifier:Bge,rawVars:0},l={targetTest:0,get:0,getSetter:KR,aliases:{},register:0};if(nf(),e!==s){if(Di[r])return;As(s,As(G1(e,o),l)),Nc(s.prototype,Nc(o,G1(e,l))),Di[s.prop=r]=s,e.targetTest&&(T_.push(s),jR[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}v7(r,s),e.register&&e.register(mi,s,pi)}else e&&M7.push(e)},jt=255,Jp={aqua:[0,jt,jt],lime:[0,jt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,jt],navy:[0,0,128],white:[jt,jt,jt],olive:[128,128,0],yellow:[jt,jt,0],orange:[jt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[jt,0,0],pink:[jt,192,203],cyan:[0,jt,jt],transparent:[jt,jt,jt,0]},gS=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*jt+.5|0},k7=function(e,r,n){var s=e?La(e)?[e>>16,e>>8&jt,e&jt]:0:Jp.black,o,l,a,c,d,f,g,m,y,_;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Jp[e])s=Jp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),l=e.charAt(2),a=e.charAt(3),e="#"+o+o+l+l+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&jt,s&jt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&jt,e&jt]}else if(e.substr(0,3)==="hsl"){if(s=_=e.match(IT),!r)c=+s[0]%360/360,d=+s[1]/100,f=+s[2]/100,l=f<=.5?f*(d+1):f+d-f*d,o=f*2-l,s.length>3&&(s[3]*=1),s[0]=gS(c+1/3,o,l),s[1]=gS(c,o,l),s[2]=gS(c-1/3,o,l);else if(~e.indexOf("="))return s=e.match(h7),n&&s.length<4&&(s[3]=1),s}else s=e.match(IT)||Jp.transparent;s=s.map(Number)}return r&&!_&&(o=s[0]/jt,l=s[1]/jt,a=s[2]/jt,g=Math.max(o,l,a),m=Math.min(o,l,a),f=(g+m)/2,g===m?c=d=0:(y=g-m,d=f>.5?y/(2-g-m):y/(g+m),c=g===o?(l-a)/y+(l<a?6:0):g===l?(a-o)/y+2:(o-l)/y+4,c*=60),s[0]=~~(c+.5),s[1]=~~(d*100+.5),s[2]=~~(f*100+.5)),n&&s.length<4&&(s[3]=1),s},L7=function(e){var r=[],n=[],s=-1;return e.split(ql).forEach(function(o){var l=o.match(lh)||[];r.push.apply(r,l),n.push(s+=l.length+1)}),r.c=n,r},f3=function(e,r,n){var s="",o=(e+s).match(ql),l=r?"hsla(":"rgba(",a=0,c,d,f,g;if(!o)return e;if(o=o.map(function(m){return(m=k7(m,r,1))&&l+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(f=L7(e),c=n.c,c.join(s)!==f.c.join(s)))for(d=e.replace(ql,"1").split(lh),g=d.length-1;a<g;a++)s+=d[a]+(~c.indexOf(a)?o.shift()||l+"0,0,0,0)":(f.length?f:o.length?o:n).shift());if(!d)for(d=e.split(ql),g=d.length-1;a<g;a++)s+=d[a]+o[a];return s+d[g]},ql=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Jp)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_ge=/hsl[a]?\(/,N7=function(e){var r=e.join(" "),n;if(ql.lastIndex=0,ql.test(r))return n=_ge.test(r),e[1]=f3(e[1],n),e[0]=f3(e[0],n,L7(e[1])),!0},Om,Ri=function(){var t=Date.now,e=500,r=33,n=t(),s=n,o=1e3/240,l=o,a=[],c,d,f,g,m,y,_=function u(h){var p=t()-s,v=h===!0,x,w,b,S;if(p>e&&(n+=p-r),s+=p,b=s-n,x=b-l,(x>0||v)&&(S=++g.frame,m=b-g.time*1e3,g.time=b=b/1e3,l+=x+(x>=o?4:o-x),w=1),v||(c=d(u)),w)for(y=0;y<a.length;y++)a[y](b,m,S,h)};return g={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(h){return m/(1e3/(h||60))},wake:function(){g7&&(!OT&&NR()&&(es=OT=window,UR=es.document||{},ji.gsap=mi,(es.gsapVersions||(es.gsapVersions=[])).push(mi.version),m7($1||es.GreenSockGlobals||!es.gsap&&es||{}),f=es.requestAnimationFrame,M7.forEach(F7)),c&&g.sleep(),d=f||function(h){return setTimeout(h,l-g.time*1e3+1|0)},Om=1,_(2))},sleep:function(){(f?es.cancelAnimationFrame:clearTimeout)(c),Om=0,d=Rm},lagSmoothing:function(h,p){e=h||1/0,r=Math.min(p||33,e)},fps:function(h){o=1e3/(h||240),l=g.time*1e3+o},add:function(h,p,v){var x=p?function(w,b,S,C){h(w,b,S,C),g.remove(x)}:h;return g.remove(h),a[v?"unshift":"push"](x),nf(),x},remove:function(h,p){~(p=a.indexOf(h))&&a.splice(p,1)&&y>=p&&y--},_listeners:a},g}(),nf=function(){return!Om&&Ri.wake()},bt={},xge=/^[\d.\-M][\d.\-,\s]/,wge=/["']/g,bge=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,l=n.length,a,c,d;o<l;o++)c=n[o],a=o!==l-1?c.lastIndexOf(","):c.length,d=c.substr(0,a),r[s]=isNaN(d)?d.replace(wge,"").trim():+d,s=c.substr(a+1).trim();return r},Ege=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},Sge=function(e){var r=(e+"").split("("),n=bt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[bge(r[1])]:Ege(e).split(",").map(w7)):bt._CE&&xge.test(e)?bt._CE("",e):n},U7=function(e){return function(r){return 1-e(1-r)}},$7=function t(e,r){for(var n=e._first,s;n;)n instanceof oi?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},bc=function(e,r){return e&&(Sr(e)?e:bt[e]||Sge(e))||r},nd=function(e,r,n,s){n===void 0&&(n=function(c){return 1-r(1-c)}),s===void 0&&(s=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:s},l;return fi(e,function(a){bt[a]=ji[a]=o,bt[l=a.toLowerCase()]=n;for(var c in o)bt[l+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=bt[a+"."+c]=o[c]}),o},j7=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},mS=function t(e,r,n){var s=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),l=o/RT*(Math.asin(1/s)||0),a=function(f){return f===1?1:s*Math.pow(2,-10*f)*Qpe((f-l)*o)+1},c=e==="out"?a:e==="in"?function(d){return 1-a(1-d)}:j7(a);return o=RT/o,c.config=function(d,f){return t(e,d,f)},c},vS=function t(e,r){r===void 0&&(r=1.70158);var n=function(l){return l?--l*l*((r+1)*l+r)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:j7(n);return s.config=function(o){return t(e,o)},s};fi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;nd(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});bt.Linear.easeNone=bt.none=bt.Linear.easeIn;nd("Elastic",mS("in"),mS("out"),mS());(function(t,e){var r=1/e,n=2*r,s=2.5*r,o=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};nd("Bounce",function(l){return 1-o(1-l)},o)})(7.5625,2.75);nd("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});nd("Circ",function(t){return-(c7(1-t*t)-1)});nd("Sine",function(t){return t===1?1:-Zpe(t*Ype)+1});nd("Back",vS("in"),vS("out"),vS());bt.SteppedEase=bt.steps=ji.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),o=r?1:0,l=1-zt;return function(a){return((s*Hv(0,l,a)|0)+o)*n}}};ef.ease=bt["quad.out"];fi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return zR+=t+","+t+"Params,"});var z7=function(e,r){this.id=qpe++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:_7,this.set=r?r.getSetter:KR},Bm=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,rf(this,+r.duration,1,1),this.data=r.data,Er&&(this._ctx=Er,Er.data.push(this)),Om||Ri.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,rf(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(nf(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(Vw(this,n),!o._dp||o.parent||S7(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&So(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===zt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),x7(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+c3(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+c3(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?tf(this._tTime,o)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?V1(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-zt?0:this._rts,this.totalTime(Hv(-Math.abs(this._delay),this._tDur,s),!0),Gw(this),sge(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nf(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&So(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(hi(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?V1(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=tge);var s=Rn;return Rn=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Rn=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(s._ts||1),s=s._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,d3(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,d3(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Ji(this,n),hi(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,hi(s))},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-zt)},e.eventCallback=function(n,s,o){var l=this.vars;return arguments.length>1?(s?(l[n]=s,o&&(l[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete l[n],this):l[n]},e.then=function(n){var s=this;return new Promise(function(o){var l=Sr(n)?n:b7,a=function(){var d=s.then;s.then=null,Sr(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=d),o(l),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){Qp(this)},t}();As(Bm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var oi=function(t){u7(e,t);function e(n,s){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=hi(n.sortChildren),mr&&So(n.parent||mr,la(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&C7(la(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(s,o,l){return Tg(0,arguments,this),this},r.from=function(s,o,l){return Tg(1,arguments,this),this},r.fromTo=function(s,o,l,a){return Tg(2,arguments,this),this},r.set=function(s,o,l){return o.duration=0,o.parent=this,Ag(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Lr(s,o,Ji(this,l),1),this},r.call=function(s,o,l){return So(this,Lr.delayedCall(0,s,o),l)},r.staggerTo=function(s,o,l,a,c,d,f){return l.duration=o,l.stagger=l.stagger||a,l.onComplete=d,l.onCompleteParams=f,l.parent=this,new Lr(s,l,Ji(this,c)),this},r.staggerFrom=function(s,o,l,a,c,d,f){return l.runBackwards=1,Ag(l).immediateRender=hi(l.immediateRender),this.staggerTo(s,o,l,a,c,d,f)},r.staggerFromTo=function(s,o,l,a,c,d,f,g){return a.startAt=l,Ag(a).immediateRender=hi(a.immediateRender),this.staggerTo(s,o,a,c,d,f,g)},r.render=function(s,o,l){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=s<=0?0:pn(s),g=this._zTime<0!=s<0&&(this._initted||!d),m,y,_,u,h,p,v,x,w,b,S,C;if(this!==mr&&f>c&&s>=0&&(f=c),f!==this._tTime||l||g){if(a!==this._time&&d&&(f+=this._time-a,s+=this._time-a),m=f,w=this._start,x=this._ts,p=!x,g&&(d||(a=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,h=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(h*100+s,o,l);if(m=pn(f%h),f===c?(u=this._repeat,m=d):(u=~~(f/h),u&&u===f/h&&(m=d,u--),m>d&&(m=d)),b=tf(this._tTime,h),!a&&this._tTime&&b!==u&&this._tTime-b*h-this._dur<=0&&(b=u),S&&u&1&&(m=d-m,C=1),u!==b&&!this._lock){var A=S&&b&1,T=A===(S&&u&1);if(u<b&&(A=!A),a=A?0:f%d?d:f,this._lock=1,this.render(a||(C?0:pn(u*h)),o,!d)._lock=0,this._tTime=f,!o&&this.parent&&ms(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,T&&(this._lock=2,a=A?d:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;$7(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=uge(this,pn(a),pn(m)),v&&(f-=m-(m=v._start))),this._tTime=f,this._time=m,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&m&&!o&&!u&&(ms(this,"onStart"),this._tTime!==f))return this;if(m>=a&&s>=0)for(y=this._first;y;){if(_=y._next,(y._act||m>=y._start)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,l);if(y.render(y._ts>0?(m-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(m-y._start)*y._ts,o,l),m!==this._time||!this._ts&&!p){v=0,_&&(f+=this._zTime=-zt);break}}y=_}else{y=this._last;for(var P=s<0?s:m;y;){if(_=y._prev,(y._act||P<=y._end)&&y._ts&&v!==y){if(y.parent!==this)return this.render(s,o,l);if(y.render(y._ts>0?(P-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(P-y._start)*y._ts,o,l||Rn&&(y._initted||y._startAt)),m!==this._time||!this._ts&&!p){v=0,_&&(f+=this._zTime=P?-zt:zt);break}}y=_}}if(v&&!o&&(this.pause(),v.render(m>=a?0:-zt)._zTime=m>=a?1:-1,this._ts))return this._start=w,Gw(this),this.render(s,o,l);this._onUpdate&&!o&&ms(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&a)&&(w===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&su(this,1),!o&&!(s<0&&!a)&&(f||a||!c)&&(ms(this,f===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,o){var l=this;if(La(o)||(o=Ji(this,o,s)),!(s instanceof Bm)){if(In(s))return s.forEach(function(a){return l.add(a,o)}),this;if(dn(s))return this.addLabel(s,o);if(Sr(s))s=Lr.delayedCall(0,s);else return this}return this!==s?So(this,s,o):this},r.getChildren=function(s,o,l,a){s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),a===void 0&&(a=-ps);for(var c=[],d=this._first;d;)d._start>=a&&(d instanceof Lr?o&&c.push(d):(l&&c.push(d),s&&c.push.apply(c,d.getChildren(!0,o,l)))),d=d._next;return c},r.getById=function(s){for(var o=this.getChildren(1,1,1),l=o.length;l--;)if(o[l].vars.id===s)return o[l]},r.remove=function(s){return dn(s)?this.removeLabel(s):Sr(s)?this.killTweensOf(s):(zw(this,s),s===this._recent&&(this._recent=this._last),wc(this))},r.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pn(Ri.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},r.addLabel=function(s,o){return this.labels[s]=Ji(this,o),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,o,l){var a=Lr.delayedCall(0,o||Rm,l);return a.data="isPause",this._hasPause=1,So(this,a,Ji(this,s))},r.removePause=function(s){var o=this._first;for(s=Ji(this,s);o;)o._start===s&&o.data==="isPause"&&su(o),o=o._next},r.killTweensOf=function(s,o,l){for(var a=this.getTweensOf(s,l),c=a.length;c--;)Ol!==a[c]&&a[c].kill(s,o);return this},r.getTweensOf=function(s,o){for(var l=[],a=gs(s),c=this._first,d=La(o),f;c;)c instanceof Lr?rge(c._targets,a)&&(d?(!Ol||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&l.push(c):(f=c.getTweensOf(a,o)).length&&l.push.apply(l,f),c=c._next;return l},r.tweenTo=function(s,o){o=o||{};var l=this,a=Ji(l,s),c=o,d=c.startAt,f=c.onStart,g=c.onStartParams,m=c.immediateRender,y,_=Lr.to(l,As({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(d&&"time"in d?d.time:l._time))/l.timeScale())||zt,onStart:function(){if(l.pause(),!y){var h=o.duration||Math.abs((a-(d&&"time"in d?d.time:l._time))/l.timeScale());_._dur!==h&&rf(_,h,0,1).render(_._time,!0,!0),y=1}f&&f.apply(_,g||[])}},o));return m?_.render(0):_},r.tweenFromTo=function(s,o,l){return this.tweenTo(o,As({startAt:{time:Ji(this,s)}},l))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),h3(this,Ji(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),h3(this,Ji(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+zt)},r.shiftChildren=function(s,o,l){l===void 0&&(l=0);for(var a=this._first,c=this.labels,d;a;)a._start>=l&&(a._start+=s,a._end+=s),a=a._next;if(o)for(d in c)c[d]>=l&&(c[d]+=s);return wc(this)},r.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,l;o;)l=o._next,this.remove(o),o=l;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),wc(this)},r.totalDuration=function(s){var o=0,l=this,a=l._last,c=ps,d,f,g;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-s:s));if(l._dirty){for(g=l.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>c&&l._sort&&a._ts&&!l._lock?(l._lock=1,So(l,a,f-a._delay,1)._lock=0):c=f,f<0&&a._ts&&(o-=f,(!g&&!l._dp||g&&g.smoothChildTiming)&&(l._start+=f/l._ts,l._time-=f,l._tTime-=f),l.shiftChildren(-f,!1,-1/0),c=0),a._end>o&&a._ts&&(o=a._end),a=d;rf(l,l===mr&&l._time>o?l._time:o,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(s){if(mr._ts&&(x7(mr,V1(s,mr)),y7=Ri.frame),Ri.frame>=l3){l3+=Li.autoSleep||120;var o=mr._first;if((!o||!o._ts)&&Li.autoSleep&&Ri._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Ri.sleep()}}},e}(Bm);As(oi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Cge=function(e,r,n,s,o,l,a){var c=new pi(this._pt,e,r,0,1,X7,null,o),d=0,f=0,g,m,y,_,u,h,p,v;for(c.b=n,c.e=s,n+="",s+="",(p=~s.indexOf("random("))&&(s=Im(s)),l&&(v=[n,s],l(v,e,r),n=v[0],s=v[1]),m=n.match(fS)||[];g=fS.exec(s);)_=g[0],u=s.substring(d,g.index),y?y=(y+1)%5:u.substr(-5)==="rgba("&&(y=1),_!==m[f++]&&(h=parseFloat(m[f-1])||0,c._pt={_next:c._pt,p:u||f===1?u:",",s:h,c:_.charAt(1)==="="?Sh(h,_)-h:parseFloat(_)-h,m:y&&y<4?Math.round:0},d=fS.lastIndex);return c.c=d<s.length?s.substring(d,s.length):"",c.fp=a,(f7.test(s)||p)&&(c.e=0),this._pt=c,c},VR=function(e,r,n,s,o,l,a,c,d,f){Sr(s)&&(s=s(o||0,e,l));var g=e[r],m=n!=="get"?n:Sr(g)?d?e[r.indexOf("set")||!Sr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():g,y=Sr(g)?d?Rge:W7:WR,_;if(dn(s)&&(~s.indexOf("random(")&&(s=Im(s)),s.charAt(1)==="="&&(_=Sh(m,s)+(Cn(m)||0),(_||_===0)&&(s=_))),!f||m!==s||UT)return!isNaN(m*s)&&s!==""?(_=new pi(this._pt,e,r,+m||0,s-(m||0),typeof g=="boolean"?Oge:K7,0,y),d&&(_.fp=d),a&&_.modifier(a,this,e),this._pt=_):(!g&&!(r in e)&&$R(r,s),Cge.call(this,e,r,m,s,y,c||Li.stringFilter,d))},Age=function(e,r,n,s,o){if(Sr(e)&&(e=Dg(e,o,r,n,s)),!No(e)||e.style&&e.nodeType||In(e)||d7(e))return dn(e)?Dg(e,o,r,n,s):e;var l={},a;for(a in e)l[a]=Dg(e[a],o,r,n,s);return l},G7=function(e,r,n,s,o,l){var a,c,d,f;if(Di[e]&&(a=new Di[e]).init(o,a.rawVars?r[e]:Age(r[e],s,o,l,n),n,s,l)!==!1&&(n._pt=c=new pi(n._pt,o,e,0,1,a.render,a,0,a.priority),n!==uh))for(d=n._ptLookup[n._targets.indexOf(o)],f=a._props.length;f--;)d[a._props[f]]=c;return a},Ol,UT,HR=function t(e,r,n){var s=e.vars,o=s.ease,l=s.startAt,a=s.immediateRender,c=s.lazy,d=s.onUpdate,f=s.onUpdateParams,g=s.callbackScope,m=s.runBackwards,y=s.yoyoEase,_=s.keyframes,u=s.autoRevert,h=e._dur,p=e._startAt,v=e._targets,x=e.parent,w=x&&x.data==="nested"?x.vars.targets:v,b=e._overwrite==="auto"&&!kR,S=e.timeline,C,A,T,P,B,D,R,O,k,j,U,N,L;if(S&&(!_||!o)&&(o="none"),e._ease=bc(o,ef.ease),e._yEase=y?U7(bc(y===!0?o:y,ef.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!S&&!!s.runBackwards,!S||_&&!s.stagger){if(O=v[0]?xc(v[0]).harness:0,N=O&&s[O.prop],C=G1(s,jR),p&&(p._zTime<0&&p.progress(1),r<0&&m&&a&&!u?p.render(-1,!0):p.revert(m&&h?A_:ege),p._lazy=0),l){if(su(e._startAt=Lr.set(v,As({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!p&&hi(c),startAt:null,delay:0,onUpdate:d,onUpdateParams:f,callbackScope:g,stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Rn||!a&&!u)&&e._startAt.revert(A_),a&&h&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(m&&h&&!p){if(r&&(a=!1),T=As({overwrite:!1,data:"isFromStart",lazy:a&&!p&&hi(c),immediateRender:a,stagger:0,parent:x},C),N&&(T[O.prop]=N),su(e._startAt=Lr.set(v,T)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Rn?e._startAt.revert(A_):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,zt,zt);else if(!r)return}for(e._pt=e._ptCache=0,c=h&&hi(c)||c&&!h,A=0;A<v.length;A++){if(B=v[A],R=B._gsap||GR(v)[A]._gsap,e._ptLookup[A]=j={},BT[R.id]&&Yl.length&&z1(),U=w===v?A:w.indexOf(B),O&&(k=new O).init(B,N||C,e,U,w)!==!1&&(e._pt=P=new pi(e._pt,B,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(H){j[H]=P}),k.priority&&(D=1)),!O||N)for(T in C)Di[T]&&(k=G7(T,C,e,U,B,w))?k.priority&&(D=1):j[T]=P=VR.call(e,B,T,"get",C[T],U,w,0,s.stringFilter);e._op&&e._op[A]&&e.kill(B,e._op[A]),b&&e._pt&&(Ol=e,mr.killTweensOf(B,j,e.globalTime(r)),L=!e.parent,Ol=0),e._pt&&c&&(BT[R.id]=1)}D&&Y7(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!L,_&&r<=0&&S.render(ps,!0,!0)},Tge=function(e,r,n,s,o,l,a){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],d,f,g,m;if(!c)for(c=e._ptCache[r]=[],g=e._ptLookup,m=e._targets.length;m--;){if(d=g[m][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return UT=1,e.vars[r]="+=0",HR(e,a),UT=0,1;c.push(d)}for(m=c.length;m--;)f=c[m],d=f._pt||f,d.s=(s||s===0)&&!o?s:d.s+(s||0)+l*d.c,d.c=n-d.s,f.e&&(f.e=Pr(n)+Cn(f.e)),f.b&&(f.b=d.s+Cn(f.b))},Dge=function(e,r){var n=e[0]?xc(e[0]).harness:0,s=n&&n.aliases,o,l,a,c;if(!s)return r;o=Nc({},r);for(l in s)if(l in o)for(c=s[l].split(","),a=c.length;a--;)o[c[a]]=o[l];return o},Pge=function(e,r,n,s){var o=r.ease||s||"power1.inOut",l,a;if(In(r))a=n[e]||(n[e]=[]),r.forEach(function(c,d){return a.push({t:d/(r.length-1)*100,v:c,e:o})});else for(l in r)a=n[l]||(n[l]=[]),l==="ease"||a.push({t:parseFloat(e),v:r[l],e:o})},Dg=function(e,r,n,s,o){return Sr(e)?e.call(r,n,s,o):dn(e)&&~e.indexOf("random(")?Im(e):e},V7=zR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",H7={};fi(V7+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return H7[t]=1});var Lr=function(t){u7(e,t);function e(n,s,o,l){var a;typeof s=="number"&&(o.duration=s,s=o,o=null),a=t.call(this,l?s:Ag(s))||this;var c=a.vars,d=c.duration,f=c.delay,g=c.immediateRender,m=c.stagger,y=c.overwrite,_=c.keyframes,u=c.defaults,h=c.scrollTrigger,p=c.yoyoEase,v=s.parent||mr,x=(In(n)||d7(n)?La(n[0]):"length"in s)?[n]:gs(n),w,b,S,C,A,T,P,B;if(a._targets=x.length?GR(x):j1("GSAP target "+n+" not found. https://greensock.com",!Li.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=y,_||m||_0(d)||_0(f)){if(s=a.vars,w=a.timeline=new oi({data:"nested",defaults:u||{},targets:v&&v.data==="nested"?v.vars.targets:x}),w.kill(),w.parent=w._dp=la(a),w._start=0,m||_0(d)||_0(f)){if(C=x.length,P=m&&P7(m),No(m))for(A in m)~V7.indexOf(A)&&(B||(B={}),B[A]=m[A]);for(b=0;b<C;b++)S=G1(s,H7),S.stagger=0,p&&(S.yoyoEase=p),B&&Nc(S,B),T=x[b],S.duration=+Dg(d,la(a),b,T,x),S.delay=(+Dg(f,la(a),b,T,x)||0)-a._delay,!m&&C===1&&S.delay&&(a._delay=f=S.delay,a._start+=f,S.delay=0),w.to(T,S,P?P(b,T,x):0),w._ease=bt.none;w.duration()?d=f=0:a.timeline=0}else if(_){Ag(As(w.vars.defaults,{ease:"none"})),w._ease=bc(_.ease||s.ease||"none");var D=0,R,O,k;if(In(_))_.forEach(function(j){return w.to(x,j,">")}),w.duration();else{S={};for(A in _)A==="ease"||A==="easeEach"||Pge(A,_[A],S,_.easeEach);for(A in S)for(R=S[A].sort(function(j,U){return j.t-U.t}),D=0,b=0;b<R.length;b++)O=R[b],k={ease:O.e,duration:(O.t-(b?R[b-1].t:0))/100*d},k[A]=O.v,w.to(x,k,D),D+=k.duration;w.duration()<d&&w.to({},{duration:d-w.duration()})}}d||a.duration(d=w.duration())}else a.timeline=0;return y===!0&&!kR&&(Ol=la(a),mr.killTweensOf(x),Ol=0),So(v,la(a),o),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(g||!d&&!_&&a._start===pn(v._time)&&hi(g)&&oge(la(a))&&v.data!=="nested")&&(a._tTime=-zt,a.render(Math.max(0,-f)||0)),h&&C7(la(a),h),a}var r=e.prototype;return r.render=function(s,o,l){var a=this._time,c=this._tDur,d=this._dur,f=s<0,g=s>c-zt&&!f?c:s<zt?0:s,m,y,_,u,h,p,v,x,w;if(!d)lge(this,s,o,l);else if(g!==this._tTime||!s||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(m=g,x=this.timeline,this._repeat){if(u=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(u*100+s,o,l);if(m=pn(g%u),g===c?(_=this._repeat,m=d):(_=~~(g/u),_&&_===g/u&&(m=d,_--),m>d&&(m=d)),p=this._yoyo&&_&1,p&&(w=this._yEase,m=d-m),h=tf(this._tTime,u),m===a&&!l&&this._initted)return this._tTime=g,this;_!==h&&(x&&this._yEase&&$7(x,p),this.vars.repeatRefresh&&!p&&!this._lock&&(this._lock=l=1,this.render(pn(u*_),!0).invalidate()._lock=0))}if(!this._initted){if(A7(this,f?s:m,l,o,g))return this._tTime=0,this;if(a!==this._time)return this;if(d!==this._dur)return this.render(s,o,l)}if(this._tTime=g,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(w||this._ease)(m/d),this._from&&(this.ratio=v=1-v),m&&!a&&!o&&!_&&(ms(this,"onStart"),this._tTime!==g))return this;for(y=this._pt;y;)y.r(v,y.d),y=y._next;x&&x.render(s<0?s:!m&&p?-zt:x._dur*x._ease(m/this._dur),o,l)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(f&&MT(this,s,o,l),ms(this,"onUpdate")),this._repeat&&_!==h&&this.vars.onRepeat&&!o&&this.parent&&ms(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(f&&!this._onUpdate&&MT(this,s,!0,!0),(s||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&su(this,1),!o&&!(f&&!a)&&(g||a||p)&&(ms(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,o,l,a){Om||Ri.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||HR(this,c),d=this._ease(c/this._dur),Tge(this,s,o,l,a,d,c)?this.resetTo(s,o,l,a):(Vw(this,0),this.parent||E7(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?Qp(this):this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,Ol&&Ol.vars.overwrite!==!0)._first||Qp(this),this.parent&&l!==this.timeline.totalDuration()&&rf(this,this._dur*this.timeline._tDur/l,0,1),this}var a=this._targets,c=s?gs(s):a,d=this._ptLookup,f=this._pt,g,m,y,_,u,h,p;if((!o||o==="all")&&ige(a,c))return o==="all"&&(this._pt=0),Qp(this);for(g=this._op=this._op||[],o!=="all"&&(dn(o)&&(u={},fi(o,function(v){return u[v]=1}),o=u),o=Dge(a,o)),p=a.length;p--;)if(~c.indexOf(a[p])){m=d[p],o==="all"?(g[p]=o,_=m,y={}):(y=g[p]=g[p]||{},_=o);for(u in _)h=m&&m[u],h&&((!("kill"in h.d)||h.d.kill(u)===!0)&&zw(this,h,"_pt"),delete m[u]),y!=="all"&&(y[u]=1)}return this._initted&&!this._pt&&f&&Qp(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return Tg(1,arguments)},e.delayedCall=function(s,o,l,a){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:a})},e.fromTo=function(s,o,l){return Tg(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,l){return mr.killTweensOf(s,o,l)},e}(Bm);As(Lr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});fi("staggerTo,staggerFrom,staggerFromTo",function(t){Lr[t]=function(){var e=new oi,r=kT.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var WR=function(e,r,n){return e[r]=n},W7=function(e,r,n){return e[r](n)},Rge=function(e,r,n,s){return e[r](s.fp,n)},Ige=function(e,r,n){return e.setAttribute(r,n)},KR=function(e,r){return Sr(e[r])?W7:LR(e[r])&&e.setAttribute?Ige:WR},K7=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Oge=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},X7=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},XR=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},Bge=function(e,r,n,s){for(var o=this._pt,l;o;)l=o._next,o.p===s&&o.modifier(e,r,n),o=l},Mge=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?zw(this,r,"_pt"):r.dep||(n=1),r=s;return!n},Fge=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},Y7=function(e){for(var r=e._pt,n,s,o,l;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:l)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:l=r,r=n}e._pt=o},pi=function(){function t(r,n,s,o,l,a,c,d,f){this.t=n,this.s=o,this.c=l,this.p=s,this.r=a||K7,this.d=c||this,this.set=d||WR,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=Fge,this.m=n,this.mt=o,this.tween=s},t}();fi(zR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return jR[t]=1});ji.TweenMax=ji.TweenLite=Lr;ji.TimelineLite=ji.TimelineMax=oi;mr=new oi({sortChildren:!1,defaults:ef,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Li.stringFilter=N7;var Ec=[],D_={},kge=[],p3=0,Lge=0,yS=function(e){return(D_[e]||kge).map(function(r){return r()})},$T=function(){var e=Date.now(),r=[];e-p3>2&&(yS("matchMediaInit"),Ec.forEach(function(n){var s=n.queries,o=n.conditions,l,a,c,d;for(a in s)l=es.matchMedia(s[a]).matches,l&&(c=1),l!==o[a]&&(o[a]=l,d=1);d&&(n.revert(),c&&r.push(n))}),yS("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),p3=e,yS("matchMedia"))},q7=function(){function t(r,n){this.selector=n&&LT(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Lge++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,o){Sr(n)&&(o=s,s=n,n=Sr);var l=this,a=function(){var d=Er,f=l.selector,g;return d&&d!==l&&d.data.push(l),o&&(l.selector=LT(o)),Er=l,g=s.apply(l,arguments),Sr(g)&&l._r.push(g),Er=d,l.selector=f,l.isReverted=!1,g};return l.last=a,n===Sr?a(l):n?l[n]=a:a},e.ignore=function(n){var s=Er;Er=null,n(this),Er=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof Lr&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n){var l=this.getTweens();this.data.forEach(function(c){c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}))}),l.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),this.data.forEach(function(c){return!(c instanceof Lr)&&c.revert&&c.revert(n)}),this._r.forEach(function(c){return c(n,o)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),s)for(var a=Ec.length;a--;)Ec[a].id===this.id&&Ec.splice(a,1)},e.revert=function(n){this.kill(n||{})},t}(),Nge=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,s,o){No(n)||(n={matches:n});var l=new q7(0,o||this.scope),a=l.conditions={},c,d,f;Er&&!l.selector&&(l.selector=Er.selector),this.contexts.push(l),s=l.add("onMatch",s),l.queries=n;for(d in n)d==="all"?f=1:(c=es.matchMedia(n[d]),c&&(Ec.indexOf(l)<0&&Ec.push(l),(a[d]=c.matches)&&(f=1),c.addListener?c.addListener($T):c.addEventListener("change",$T)));return f&&s(l),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),H1={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return F7(s)})},timeline:function(e){return new oi(e)},getTweensOf:function(e,r){return mr.getTweensOf(e,r)},getProperty:function(e,r,n,s){dn(e)&&(e=gs(e)[0]);var o=xc(e||{}).get,l=n?b7:w7;return n==="native"&&(n=""),e&&(r?l((Di[r]&&Di[r].get||o)(e,r,n,s)):function(a,c,d){return l((Di[a]&&Di[a].get||o)(e,a,c,d))})},quickSetter:function(e,r,n){if(e=gs(e),e.length>1){var s=e.map(function(f){return mi.quickSetter(f,r,n)}),o=s.length;return function(f){for(var g=o;g--;)s[g](f)}}e=e[0]||{};var l=Di[r],a=xc(e),c=a.harness&&(a.harness.aliases||{})[r]||r,d=l?function(f){var g=new l;uh._pt=0,g.init(e,n?f+n:f,uh,0,[e]),g.render(1,g),uh._pt&&XR(1,uh)}:a.set(e,c);return l?d:function(f){return d(e,c,n?f+n:f,a,1)}},quickTo:function(e,r,n){var s,o=mi.to(e,Nc((s={},s[r]="+=0.1",s.paused=!0,s),n||{})),l=function(c,d,f){return o.resetTo(r,c,d,f)};return l.tween=o,l},isTweening:function(e){return mr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=bc(e.ease,ef.ease)),u3(ef,e||{})},config:function(e){return u3(Li,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,o=e.defaults,l=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Di[a]&&!ji[a]&&j1(r+" effect requires "+a+" plugin.")}),pS[r]=function(a,c,d){return n(gs(a),As(c||{},o),d)},l&&(oi.prototype[r]=function(a,c,d){return this.add(pS[r](a,No(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){bt[e]=bc(r)},parseEase:function(e,r){return arguments.length?bc(e,r):bt},getById:function(e){return mr.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new oi(e),s,o;for(n.smoothChildTiming=hi(e.smoothChildTiming),mr.remove(n),n._dp=0,n._time=n._tTime=mr._time,s=mr._first;s;)o=s._next,(r||!(!s._dur&&s instanceof Lr&&s.vars.onComplete===s._targets[0]))&&So(n,s,s._start-s._delay),s=o;return So(mr,n,0),n},context:function(e,r){return e?new q7(e,r):Er},matchMedia:function(e){return new Nge(e)},matchMediaRefresh:function(){return Ec.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||$T()},addEventListener:function(e,r){var n=D_[e]||(D_[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=D_[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:mge,wrapYoyo:vge,distribute:P7,random:I7,snap:R7,normalize:gge,getUnit:Cn,clamp:dge,splitColor:k7,toArray:gs,selector:LT,mapRange:B7,pipe:fge,unitize:pge,interpolate:yge,shuffle:D7},install:m7,effects:pS,ticker:Ri,updateRoot:oi.updateRoot,plugins:Di,globalTimeline:mr,core:{PropTween:pi,globals:v7,Tween:Lr,Timeline:oi,Animation:Bm,getCache:xc,_removeLinkedListItem:zw,reverting:function(){return Rn},context:function(e){return e&&Er&&(Er.data.push(e),e._ctx=Er),Er},suppressOverwrites:function(e){return kR=e}}};fi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return H1[t]=Lr[t]});Ri.add(oi.updateRoot);uh=H1.to({},{duration:0});var Uge=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},$ge=function(e,r){var n=e._targets,s,o,l;for(s in r)for(o=n.length;o--;)l=e._ptLookup[o][s],l&&(l=l.d)&&(l._pt&&(l=Uge(l,s)),l&&l.modifier&&l.modifier(r[s],e,n[o],s))},_S=function(e,r){return{name:e,rawVars:1,init:function(s,o,l){l._onInit=function(a){var c,d;if(dn(o)&&(c={},fi(o,function(f){return c[f]=1}),o=c),r){c={};for(d in o)c[d]=r(o[d]);o=c}$ge(a,o)}}}},mi=H1.registerPlugin({name:"attr",init:function(e,r,n,s,o){var l,a,c;this.tween=n;for(l in r)c=e.getAttribute(l)||"",a=this.add(e,"setAttribute",(c||0)+"",r[l],s,o,0,0,l),a.op=l,a.b=c,this._props.push(l)},render:function(e,r){for(var n=r._pt;n;)Rn?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},_S("roundProps",NT),_S("modifiers"),_S("snap",R7))||H1;Lr.version=oi.version=mi.version="3.12.2";g7=1;NR()&&nf();bt.Power0;bt.Power1;bt.Power2;bt.Power3;bt.Power4;bt.Linear;bt.Quad;bt.Cubic;bt.Quart;bt.Quint;bt.Strong;bt.Elastic;bt.Back;bt.SteppedEase;bt.Bounce;bt.Sine;bt.Expo;bt.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var g3,Bl,Ch,YR,oc,m3,qR,jge=function(){return typeof window<"u"},Na={},Zu=180/Math.PI,Ah=Math.PI/180,Ed=Math.atan2,v3=1e8,ZR=/([A-Z])/g,zge=/(left|right|width|margin|padding|x)/i,Gge=/[\s,\(]\S/,To={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},jT=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Vge=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Hge=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},Wge=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},Z7=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},Q7=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},Kge=function(e,r,n){return e.style[r]=n},Xge=function(e,r,n){return e.style.setProperty(r,n)},Yge=function(e,r,n){return e._gsap[r]=n},qge=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},Zge=function(e,r,n,s,o){var l=e._gsap;l.scaleX=l.scaleY=n,l.renderTransform(o,l)},Qge=function(e,r,n,s,o){var l=e._gsap;l[r]=n,l.renderTransform(o,l)},yr="transform",Zs=yr+"Origin",Jge=function t(e,r){var n=this,s=this.target,o=s.style;if(e in Na&&o){if(this.tfm=this.tfm||{},e!=="transform")e=To[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=fa(s,l)}):this.tfm[e]=s._gsap.x?s._gsap[e]:fa(s,e);else return To.transform.split(",").forEach(function(l){return t.call(n,l,r)});if(this.props.indexOf(yr)>=0)return;s._gsap.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Zs,r,"")),e=yr}(o||r)&&this.props.push(e,r,o[e])},J7=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},eme=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,o,l;for(o=0;o<e.length;o+=3)e[o+1]?r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(ZR,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)s[l]=this.tfm[l];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=qR(),(!o||!o.isStart)&&!n[yr]&&(J7(n),s.uncache=1)}},e9=function(e,r){var n={target:e,props:[],revert:eme,save:Jge};return e._gsap||mi.core.getCache(e),r&&r.split(",").forEach(function(s){return n.save(s)}),n},t9,zT=function(e,r){var n=Bl.createElementNS?Bl.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bl.createElement(e);return n.style?n:Bl.createElement(e)},Bo=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(ZR,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,sf(r)||r,1)||""},y3="O,Moz,ms,Ms,Webkit".split(","),sf=function(e,r,n){var s=r||oc,o=s.style,l=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(y3[l]+e in o););return l<0?null:(l===3?"ms":l>=0?y3[l]:"")+e},GT=function(){jge()&&window.document&&(g3=window,Bl=g3.document,Ch=Bl.documentElement,oc=zT("div")||{style:{}},zT("div"),yr=sf(yr),Zs=yr+"Origin",oc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",t9=!!sf("perspective"),qR=mi.core.reverting,YR=1)},xS=function t(e){var r=zT("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,o=this.style.cssText,l;if(Ch.appendChild(r),r.appendChild(this),this.style.display="block",e)try{l=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(a){}else this._gsapBBox&&(l=this._gsapBBox());return n&&(s?n.insertBefore(this,s):n.appendChild(this)),Ch.removeChild(r),this.style.cssText=o,l},_3=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},r9=function(e){var r;try{r=e.getBBox()}catch(n){r=xS.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===xS||(r=xS.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+_3(e,["x","cx","x1"])||0,y:+_3(e,["y","cy","y1"])||0,width:0,height:0}:r},n9=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&r9(e))},Mm=function(e,r){if(r){var n=e.style;r in Na&&r!==Zs&&(r=yr),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(ZR,"-$1").toLowerCase())):n.removeAttribute(r)}},Ml=function(e,r,n,s,o,l){var a=new pi(e._pt,r,n,0,1,l?Q7:Z7);return e._pt=a,a.b=s,a.e=o,e._props.push(n),a},x3={deg:1,rad:1,turn:1},tme={grid:1,flex:1},ou=function t(e,r,n,s){var o=parseFloat(n)||0,l=(n+"").trim().substr((o+"").length)||"px",a=oc.style,c=zge.test(r),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),g=100,m=s==="px",y=s==="%",_,u,h,p;return s===l||!o||x3[s]||x3[l]?o:(l!=="px"&&!m&&(o=t(e,r,n,"px")),p=e.getCTM&&n9(e),(y||l==="%")&&(Na[r]||~r.indexOf("adius"))?(_=p?e.getBBox()[c?"width":"height"]:e[f],Pr(y?o/_*g:o/100*_)):(a[c?"width":"height"]=g+(m?l:s),u=~r.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,p&&(u=(e.ownerSVGElement||{}).parentNode),(!u||u===Bl||!u.appendChild)&&(u=Bl.body),h=u._gsap,h&&y&&h.width&&c&&h.time===Ri.time&&!h.uncache?Pr(o/h.width*g):((y||l==="%")&&!tme[Bo(u,"display")]&&(a.position=Bo(e,"position")),u===e&&(a.position="static"),u.appendChild(oc),_=oc[f],u.removeChild(oc),a.position="absolute",c&&y&&(h=xc(u),h.time=Ri.time,h.width=u[f]),Pr(m?_*o/g:_&&o?g/_*o:0))))},fa=function(e,r,n,s){var o;return YR||GT(),r in To&&r!=="transform"&&(r=To[r],~r.indexOf(",")&&(r=r.split(",")[0])),Na[r]&&r!=="transform"?(o=km(e,s),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:K1(Bo(e,Zs))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=W1[r]&&W1[r](e,r,n)||Bo(e,r)||_7(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?ou(e,r,o,n)+n:o},rme=function(e,r,n,s){if(!n||n==="none"){var o=sf(r,e,1),l=o&&Bo(e,o,1);l&&l!==n?(r=o,n=l):r==="borderColor"&&(n=Bo(e,"borderTopColor"))}var a=new pi(this._pt,e.style,r,0,1,X7),c=0,d=0,f,g,m,y,_,u,h,p,v,x,w,b;if(a.b=n,a.e=s,n+="",s+="",s==="auto"&&(e.style[r]=s,s=Bo(e,r)||s,e.style[r]=n),f=[n,s],N7(f),n=f[0],s=f[1],m=n.match(lh)||[],b=s.match(lh)||[],b.length){for(;g=lh.exec(s);)h=g[0],v=s.substring(c,g.index),_?_=(_+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(_=1),h!==(u=m[d++]||"")&&(y=parseFloat(u)||0,w=u.substr((y+"").length),h.charAt(1)==="="&&(h=Sh(y,h)+w),p=parseFloat(h),x=h.substr((p+"").length),c=lh.lastIndex-x.length,x||(x=x||Li.units[r]||w,c===s.length&&(s+=x,a.e+=x)),w!==x&&(y=ou(e,r,u,x)||0),a._pt={_next:a._pt,p:v||d===1?v:",",s:y,c:p-y,m:_&&_<4||r==="zIndex"?Math.round:0});a.c=c<s.length?s.substring(c,s.length):""}else a.r=r==="display"&&s==="none"?Q7:Z7;return f7.test(s)&&(a.e=0),this._pt=a,a},w3={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},nme=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=w3[n]||n,r[1]=w3[s]||s,r.join(" ")},ime=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,o=r.u,l=n._gsap,a,c,d;if(o==="all"||o===!0)s.cssText="",c=1;else for(o=o.split(","),d=o.length;--d>-1;)a=o[d],Na[a]&&(c=1,a=a==="transformOrigin"?Zs:yr),Mm(n,a);c&&(Mm(n,yr),l&&(l.svg&&n.removeAttribute("transform"),km(n,1),l.uncache=1,J7(s)))}},W1={clearProps:function(e,r,n,s,o){if(o.data!=="isFromStart"){var l=e._pt=new pi(e._pt,r,n,0,0,ime);return l.u=s,l.pr=-10,l.tween=o,e._props.push(n),1}}},Fm=[1,0,0,1,0,0],i9={},s9=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},b3=function(e){var r=Bo(e,yr);return s9(r)?Fm:r.substr(7).match(h7).map(Pr)},QR=function(e,r){var n=e._gsap||xc(e),s=e.style,o=b3(e),l,a,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Fm:o):(o===Fm&&!e.offsetParent&&e!==Ch&&!n.svg&&(c=s.display,s.display="block",l=e.parentNode,(!l||!e.offsetParent)&&(d=1,a=e.nextElementSibling,Ch.appendChild(e)),o=b3(e),c?s.display=c:Mm(e,"display"),d&&(a?l.insertBefore(e,a):l?l.appendChild(e):Ch.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},VT=function(e,r,n,s,o,l){var a=e._gsap,c=o||QR(e,!0),d=a.xOrigin||0,f=a.yOrigin||0,g=a.xOffset||0,m=a.yOffset||0,y=c[0],_=c[1],u=c[2],h=c[3],p=c[4],v=c[5],x=r.split(" "),w=parseFloat(x[0])||0,b=parseFloat(x[1])||0,S,C,A,T;n?c!==Fm&&(C=y*h-_*u)&&(A=w*(h/C)+b*(-u/C)+(u*v-h*p)/C,T=w*(-_/C)+b*(y/C)-(y*v-_*p)/C,w=A,b=T):(S=r9(e),w=S.x+(~x[0].indexOf("%")?w/100*S.width:w),b=S.y+(~(x[1]||x[0]).indexOf("%")?b/100*S.height:b)),s||s!==!1&&a.smooth?(p=w-d,v=b-f,a.xOffset=g+(p*y+v*u)-p,a.yOffset=m+(p*_+v*h)-v):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=b,a.smooth=!!s,a.origin=r,a.originIsAbsolute=!!n,e.style[Zs]="0px 0px",l&&(Ml(l,a,"xOrigin",d,w),Ml(l,a,"yOrigin",f,b),Ml(l,a,"xOffset",g,a.xOffset),Ml(l,a,"yOffset",m,a.yOffset)),e.setAttribute("data-svg-origin",w+" "+b)},km=function(e,r){var n=e._gsap||new z7(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,l="px",a="deg",c=getComputedStyle(e),d=Bo(e,Zs)||"0",f,g,m,y,_,u,h,p,v,x,w,b,S,C,A,T,P,B,D,R,O,k,j,U,N,L,H,K,te,le,ne,fe;return f=g=m=u=h=p=v=x=w=0,y=_=1,n.svg=!!(e.getCTM&&n9(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[yr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[yr]!=="none"?c[yr]:"")),s.scale=s.rotate=s.translate="none"),C=QR(e,n.svg),n.svg&&(n.uncache?(N=e.getBBox(),d=n.xOrigin-N.x+"px "+(n.yOrigin-N.y)+"px",U=""):U=!r&&e.getAttribute("data-svg-origin"),VT(e,U||d,!!U||n.originIsAbsolute,n.smooth!==!1,C)),b=n.xOrigin||0,S=n.yOrigin||0,C!==Fm&&(B=C[0],D=C[1],R=C[2],O=C[3],f=k=C[4],g=j=C[5],C.length===6?(y=Math.sqrt(B*B+D*D),_=Math.sqrt(O*O+R*R),u=B||D?Ed(D,B)*Zu:0,v=R||O?Ed(R,O)*Zu+u:0,v&&(_*=Math.abs(Math.cos(v*Ah))),n.svg&&(f-=b-(b*B+S*R),g-=S-(b*D+S*O))):(fe=C[6],le=C[7],H=C[8],K=C[9],te=C[10],ne=C[11],f=C[12],g=C[13],m=C[14],A=Ed(fe,te),h=A*Zu,A&&(T=Math.cos(-A),P=Math.sin(-A),U=k*T+H*P,N=j*T+K*P,L=fe*T+te*P,H=k*-P+H*T,K=j*-P+K*T,te=fe*-P+te*T,ne=le*-P+ne*T,k=U,j=N,fe=L),A=Ed(-R,te),p=A*Zu,A&&(T=Math.cos(-A),P=Math.sin(-A),U=B*T-H*P,N=D*T-K*P,L=R*T-te*P,ne=O*P+ne*T,B=U,D=N,R=L),A=Ed(D,B),u=A*Zu,A&&(T=Math.cos(A),P=Math.sin(A),U=B*T+D*P,N=k*T+j*P,D=D*T-B*P,j=j*T-k*P,B=U,k=N),h&&Math.abs(h)+Math.abs(u)>359.9&&(h=u=0,p=180-p),y=Pr(Math.sqrt(B*B+D*D+R*R)),_=Pr(Math.sqrt(j*j+fe*fe)),A=Ed(k,j),v=Math.abs(A)>2e-4?A*Zu:0,w=ne?1/(ne<0?-ne:ne):0),n.svg&&(U=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!s9(Bo(e,yr)),U&&e.setAttribute("transform",U))),Math.abs(v)>90&&Math.abs(v)<270&&(o?(y*=-1,v+=u<=0?180:-180,u+=u<=0?180:-180):(_*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+l,n.y=g-((n.yPercent=g&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+l,n.z=m+l,n.scaleX=Pr(y),n.scaleY=Pr(_),n.rotation=Pr(u)+a,n.rotationX=Pr(h)+a,n.rotationY=Pr(p)+a,n.skewX=v+a,n.skewY=x+a,n.transformPerspective=w+l,(n.zOrigin=parseFloat(d.split(" ")[2])||0)&&(s[Zs]=K1(d)),n.xOffset=n.yOffset=0,n.force3D=Li.force3D,n.renderTransform=n.svg?ome:t9?o9:sme,n.uncache=0,n},K1=function(e){return(e=e.split(" "))[0]+" "+e[1]},wS=function(e,r,n){var s=Cn(r);return Pr(parseFloat(r)+parseFloat(ou(e,"x",n+"px",s)))+s},sme=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,o9(e,r)},ju="0deg",Pp="0px",zu=") ",o9=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,a=n.y,c=n.z,d=n.rotation,f=n.rotationY,g=n.rotationX,m=n.skewX,y=n.skewY,_=n.scaleX,u=n.scaleY,h=n.transformPerspective,p=n.force3D,v=n.target,x=n.zOrigin,w="",b=p==="auto"&&e&&e!==1||p===!0;if(x&&(g!==ju||f!==ju)){var S=parseFloat(f)*Ah,C=Math.sin(S),A=Math.cos(S),T;S=parseFloat(g)*Ah,T=Math.cos(S),l=wS(v,l,C*T*-x),a=wS(v,a,-Math.sin(S)*-x),c=wS(v,c,A*T*-x+x)}h!==Pp&&(w+="perspective("+h+zu),(s||o)&&(w+="translate("+s+"%, "+o+"%) "),(b||l!==Pp||a!==Pp||c!==Pp)&&(w+=c!==Pp||b?"translate3d("+l+", "+a+", "+c+") ":"translate("+l+", "+a+zu),d!==ju&&(w+="rotate("+d+zu),f!==ju&&(w+="rotateY("+f+zu),g!==ju&&(w+="rotateX("+g+zu),(m!==ju||y!==ju)&&(w+="skew("+m+", "+y+zu),(_!==1||u!==1)&&(w+="scale("+_+", "+u+zu),v.style[yr]=w||"translate(0, 0)"},ome=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,a=n.y,c=n.rotation,d=n.skewX,f=n.skewY,g=n.scaleX,m=n.scaleY,y=n.target,_=n.xOrigin,u=n.yOrigin,h=n.xOffset,p=n.yOffset,v=n.forceCSS,x=parseFloat(l),w=parseFloat(a),b,S,C,A,T;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=Ah,d*=Ah,b=Math.cos(c)*g,S=Math.sin(c)*g,C=Math.sin(c-d)*-m,A=Math.cos(c-d)*m,d&&(f*=Ah,T=Math.tan(d-f),T=Math.sqrt(1+T*T),C*=T,A*=T,f&&(T=Math.tan(f),T=Math.sqrt(1+T*T),b*=T,S*=T)),b=Pr(b),S=Pr(S),C=Pr(C),A=Pr(A)):(b=g,A=m,S=C=0),(x&&!~(l+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(x=ou(y,"x",l,"px"),w=ou(y,"y",a,"px")),(_||u||h||p)&&(x=Pr(x+_-(_*b+u*C)+h),w=Pr(w+u-(_*S+u*A)+p)),(s||o)&&(T=y.getBBox(),x=Pr(x+s/100*T.width),w=Pr(w+o/100*T.height)),T="matrix("+b+","+S+","+C+","+A+","+x+","+w+")",y.setAttribute("transform",T),v&&(y.style[yr]=T)},ame=function(e,r,n,s,o){var l=360,a=dn(o),c=parseFloat(o)*(a&&~o.indexOf("rad")?Zu:1),d=c-s,f=s+d+"deg",g,m;return a&&(g=o.split("_")[1],g==="short"&&(d%=l,d!==d%(l/2)&&(d+=d<0?l:-l)),g==="cw"&&d<0?d=(d+l*v3)%l-~~(d/l)*l:g==="ccw"&&d>0&&(d=(d-l*v3)%l-~~(d/l)*l)),e._pt=m=new pi(e._pt,r,n,s,d,Vge),m.e=f,m.u="deg",e._props.push(n),m},E3=function(e,r){for(var n in r)e[n]=r[n];return e},lme=function(e,r,n){var s=E3({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",l=n.style,a,c,d,f,g,m,y,_;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),l[yr]=r,a=km(n,1),Mm(n,yr),n.setAttribute("transform",d)):(d=getComputedStyle(n)[yr],l[yr]=r,a=km(n,1),l[yr]=d);for(c in Na)d=s[c],f=a[c],d!==f&&o.indexOf(c)<0&&(y=Cn(d),_=Cn(f),g=y!==_?ou(n,c,d,_):parseFloat(d),m=parseFloat(f),e._pt=new pi(e._pt,a,c,g,m-g,jT),e._pt.u=_||0,e._props.push(c));E3(a,s)};fi("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",o="Left",l=(e<3?[r,n,s,o]:[r+o,r+n,s+n,s+o]).map(function(a){return e<2?t+a:"border"+a+t});W1[e>1?"border"+t:t]=function(a,c,d,f,g){var m,y;if(arguments.length<4)return m=l.map(function(_){return fa(a,_,d)}),y=m.join(" "),y.split(m[0]).length===5?m[0]:y;m=(f+"").split(" "),y={},l.forEach(function(_,u){return y[_]=m[u]=m[u]||m[(u-1)/2|0]}),a.init(c,y,g)}});var a9={name:"css",register:GT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,o){var l=this._props,a=e.style,c=n.vars.startAt,d,f,g,m,y,_,u,h,p,v,x,w,b,S,C,A;YR||GT(),this.styles=this.styles||e9(e),A=this.styles.props,this.tween=n;for(u in r)if(u!=="autoRound"&&(f=r[u],!(Di[u]&&G7(u,r,n,s,e,o)))){if(y=typeof f,_=W1[u],y==="function"&&(f=f.call(n,s,e,o),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=Im(f)),_)_(this,e,u,f,n)&&(C=1);else if(u.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(u)+"").trim(),f+="",ql.lastIndex=0,ql.test(d)||(h=Cn(d),p=Cn(f)),p?h!==p&&(d=ou(e,u,d,p)+p):h&&(f+=h),this.add(a,"setProperty",d,f,s,o,0,0,u),l.push(u),A.push(u,0,a[u]);else if(y!=="undefined"){if(c&&u in c?(d=typeof c[u]=="function"?c[u].call(n,s,e,o):c[u],dn(d)&&~d.indexOf("random(")&&(d=Im(d)),Cn(d+"")||(d+=Li.units[u]||Cn(fa(e,u))||""),(d+"").charAt(1)==="="&&(d=fa(e,u))):d=fa(e,u),m=parseFloat(d),v=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),v&&(f=f.substr(2)),g=parseFloat(f),u in To&&(u==="autoAlpha"&&(m===1&&fa(e,"visibility")==="hidden"&&g&&(m=0),A.push("visibility",0,a.visibility),Ml(this,a,"visibility",m?"inherit":"hidden",g?"inherit":"hidden",!g)),u!=="scale"&&u!=="transform"&&(u=To[u],~u.indexOf(",")&&(u=u.split(",")[0]))),x=u in Na,x){if(this.styles.save(u),w||(b=e._gsap,b.renderTransform&&!r.parseTransform||km(e,r.parseTransform),S=r.smoothOrigin!==!1&&b.smooth,w=this._pt=new pi(this._pt,a,yr,0,1,b.renderTransform,b,0,-1),w.dep=1),u==="scale")this._pt=new pi(this._pt,b,"scaleY",b.scaleY,(v?Sh(b.scaleY,v+g):g)-b.scaleY||0,jT),this._pt.u=0,l.push("scaleY",u),u+="X";else if(u==="transformOrigin"){A.push(Zs,0,a[Zs]),f=nme(f),b.svg?VT(e,f,0,S,0,this):(p=parseFloat(f.split(" ")[2])||0,p!==b.zOrigin&&Ml(this,b,"zOrigin",b.zOrigin,p),Ml(this,a,u,K1(d),K1(f)));continue}else if(u==="svgOrigin"){VT(e,f,1,S,0,this);continue}else if(u in i9){ame(this,b,u,m,v?Sh(m,v+f):f);continue}else if(u==="smoothOrigin"){Ml(this,b,"smooth",b.smooth,f);continue}else if(u==="force3D"){b[u]=f;continue}else if(u==="transform"){lme(this,f,e);continue}}else u in a||(u=sf(u)||u);if(x||(g||g===0)&&(m||m===0)&&!Gge.test(f)&&u in a)h=(d+"").substr((m+"").length),g||(g=0),p=Cn(f)||(u in Li.units?Li.units[u]:h),h!==p&&(m=ou(e,u,d,p)),this._pt=new pi(this._pt,x?b:a,u,m,(v?Sh(m,v+g):g)-m,!x&&(p==="px"||u==="zIndex")&&r.autoRound!==!1?Wge:jT),this._pt.u=p||0,h!==p&&p!=="%"&&(this._pt.b=d,this._pt.r=Hge);else if(u in a)rme.call(this,e,u,d,v?v+f:f);else if(u in e)this.add(e,u,d||e[u],v?v+f:f,s,o);else if(u!=="parseTransform"){$R(u,f);continue}x||(u in a?A.push(u,0,a[u]):A.push(u,1,d||e[u])),l.push(u)}}C&&Y7(this)},render:function(e,r){if(r.tween._time||!qR())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:fa,aliases:To,getSetter:function(e,r,n){var s=To[r];return s&&s.indexOf(",")<0&&(r=s),r in Na&&r!==Zs&&(e._gsap.x||fa(e,"x"))?n&&m3===n?r==="scale"?qge:Yge:(m3=n||{})&&(r==="scale"?Zge:Qge):e.style&&!LR(e.style[r])?Kge:~r.indexOf("-")?Xge:KR(e,r)},core:{_removeProperty:Mm,_getMatrix:QR}};mi.utils.checkPrefix=sf;mi.core.getStyleSaver=e9;(function(t,e,r,n){var s=fi(t+","+e+","+r,function(o){Na[o]=1});fi(e,function(o){Li.units[o]="deg",i9[o]=1}),To[s[13]]=t+","+e,fi(n,function(o){var l=o.split(":");To[l[1]]=s[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");fi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Li.units[t]="px"});mi.registerPlugin(a9);var ume=mi.registerPlugin(a9)||mi;ume.core.Tween;/*!
 * PixiPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Fl,S3,X1,Ii,Pg,l9,HT,u9=function(){return typeof window<"u"},c9=function(){return Fl||u9()&&(Fl=window.gsap)&&Fl.registerPlugin&&Fl},WT=function(e){return typeof e=="function"},d9=function(e){return console.warn(e)},cme=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],rs=.212671,ns=.71516,is=.072169,h9=function(e){return WT(Ii[e])?Ii[e]:Ii.filters[e]},Hw=function(e,r){var n=[],s=0,o=0,l,a;for(l=0;l<4;l++){for(a=0;a<5;a++)o=a===4?e[s+4]:0,n[s+a]=e[s]*r[a]+e[s+1]*r[a+5]+e[s+2]*r[a+10]+e[s+3]*r[a+15]+o;s+=5}return n},C3=function(e,r){var n=1-r,s=n*rs,o=n*ns,l=n*is;return Hw([s+r,o,l,0,0,s,o+r,l,0,0,s,o,l+r,0,0,0,0,0,1,0],e)},A3=function(e,r,n){var s=X1(r),o=s[0]/255,l=s[1]/255,a=s[2]/255,c=1-n;return Hw([c+n*o*rs,n*o*ns,n*o*is,0,0,n*l*rs,c+n*l*ns,n*l*is,0,0,n*a*rs,n*a*ns,c+n*a*is,0,0,0,0,0,1,0],e)},T3=function(e,r){r*=Math.PI/180;var n=Math.cos(r),s=Math.sin(r);return Hw([rs+n*(1-rs)+s*-rs,ns+n*-ns+s*-ns,is+n*-is+s*(1-is),0,0,rs+n*-rs+s*.143,ns+n*(1-ns)+s*.14,is+n*-is+s*-.283,0,0,rs+n*-rs+s*-(1-rs),ns+n*-ns+s*ns,is+n*(1-is)+s*is,0,0,0,0,0,1,0,0,0,0,0,1],e)},D3=function(e,r){return Hw([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},f9=function(e,r){var n=h9(r),s=e.filters||[],o=s.length,l;for(n||d9(r+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(s[o]instanceof n)return s[o];return l=new n,r==="BlurFilter"&&(l.blur=0),s.push(l),e.filters=s,l},Qr=function(e,r,n,s){r.add(n,e,n[e],s[e]),r._props.push(e)},P3=function(e,r){var n=h9("ColorMatrixFilter"),s=new n;return s.matrix=r,s.brightness(e,!0),s.matrix},dme=function(e){var r={},n;for(n in e)r[n]=e[n];return r},bi={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},hme=function(e,r,n){var s=f9(e,"ColorMatrixFilter"),o=e._gsColorMatrixFilter=e._gsColorMatrixFilter||dme(bi),l=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),a,c,d;for(d=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===d.length?(c=r.matrix,o.contrast!==1&&Qr("contrast",n,o,bi),o.hue&&Qr("hue",n,o,bi),o.brightness!==1&&Qr("brightness",n,o,bi),o.colorizeAmount&&(Qr("colorize",n,o,bi),Qr("colorizeAmount",n,o,bi)),o.saturation!==1&&Qr("saturation",n,o,bi)):(c=cme.slice(),r.contrast!=null?(c=D3(c,+r.contrast),Qr("contrast",n,o,r)):o.contrast!==1&&(l?c=D3(c,o.contrast):Qr("contrast",n,o,bi)),r.hue!=null?(c=T3(c,+r.hue),Qr("hue",n,o,r)):o.hue&&(l?c=T3(c,o.hue):Qr("hue",n,o,bi)),r.brightness!=null?(c=P3(+r.brightness,c),Qr("brightness",n,o,r)):o.brightness!==1&&(l?c=P3(o.brightness,c):Qr("brightness",n,o,bi)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,c=A3(c,r.colorize,r.colorizeAmount),Qr("colorize",n,o,r),Qr("colorizeAmount",n,o,r)):o.colorizeAmount&&(l?c=A3(c,o.colorize,o.colorizeAmount):(Qr("colorize",n,o,bi),Qr("colorizeAmount",n,o,bi))),r.saturation!=null?(c=C3(c,+r.saturation),Qr("saturation",n,o,r)):o.saturation!==1&&(l?c=C3(c,o.saturation):Qr("saturation",n,o,bi))),a=c.length;--a>-1;)c[a]!==d[a]&&n.add(d,a,d[a],c[a],"colorMatrixFilter");n._props.push("colorMatrixFilter")},fme=function(e,r){var n=r.t,s=r.p,o=r.color,l=r.set;l(n,s,o[0]<<16|o[1]<<8|o[2])},pme=function(e,r){var n=r.g;n&&(n.dirty++,n.clearDirty++)},gme=function(e,r){r.t.visible=!!r.t.alpha},R3=function(e,r,n,s){var o=e[r],l=X1(WT(o)?e[r.indexOf("set")||!WT(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():o),a=X1(n);s._pt=new Pg(s._pt,e,r,0,0,fme,{t:e,p:r,color:l,set:l9(e,r)}),s.add(l,0,l[0],a[0]),s.add(l,1,l[1],a[1]),s.add(l,2,l[2],a[2])},mme={tint:1,lineColor:1,fillColor:1},I3="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),KT={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},vme={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Y1=Math.PI/180,p9=function(e){return typeof e=="string"},yme=function(e){return p9(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*Y1:e*Y1},_me=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},xme=function(e,r,n,s,o,l){var a=360*(l?Y1:1),c=p9(o),d=c&&o.charAt(1)==="="?+(o.charAt(0)+"1"):0,f=parseFloat(d?o.substr(2):o)*(l?Y1:1),g=d?f*d:f-s,m=s+g,y,_;return c&&(y=o.split("_")[1],y==="short"&&(g%=a,g!==g%(a/2)&&(g+=g<0?a:-a)),y==="cw"&&g<0?g=(g+a*1e10)%a-~~(g/a)*a:y==="ccw"&&g>0&&(g=(g-a*1e10)%a-~~(g/a)*a)),e._pt=_=new Pg(e._pt,r,n,s,g,_me),_.e=m,_},O3=function(){u9()&&(S3=window,Fl=c9(),Ii=Ii||S3.PIXI,HT=Ii&&Ii.VERSION&&Ii.VERSION.charAt(0)==="4",X1=function(r){return Fl.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)})},x0,Rp;for(x0=0;x0<I3.length;x0++)Rp=I3[x0],KT[Rp+"X"]=Rp,KT[Rp+"Y"]=Rp;var wme={version:"3.12.2",name:"pixi",register:function(e,r,n){Fl=e,Pg=n,l9=r.getSetter,O3()},registerPIXI:function(e){Ii=e},init:function(e,r,n,s,o){if(Ii||O3(),!Ii||!(e instanceof Ii.DisplayObject))return d9(e),!1;var l,a,c,d,f,g,m,y,_;for(g in r){if(l=KT[g],c=r[g],l)a=~g.charAt(g.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[l],a,e[l][a],l==="skew"?yme(c):c,0,0,0,0,0,1);else if(g==="scale"||g==="anchor"||g==="pivot"||g==="tileScale")this.add(e[g],"x",e[g].x,c),this.add(e[g],"y",e[g].y,c);else if(g==="rotation"||g==="angle")xme(this,e,g,e[g],c,g==="rotation");else if(vme[g])d||(hme(e,r.colorMatrixFilter||r,this),d=!0);else if(g==="blur"||g==="blurX"||g==="blurY"||g==="blurPadding"){if(f=f9(e,"BlurFilter"),this.add(f,g,f[g],c),r.blurPadding!==0)for(m=r.blurPadding||Math.max(f[g],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,m)}else if(mme[g])if((g==="lineColor"||g==="fillColor")&&e instanceof Ii.Graphics)for(_=(e.geometry||e).graphicsData,this._pt=new Pg(this._pt,e,g,0,0,pme,{g:e.geometry||e}),y=_.length;--y>-1;)R3(HT?_[y]:_[y][g.substr(0,4)+"Style"],HT?g:"color",c,this);else R3(e,g,c,this);else g==="autoAlpha"?(this._pt=new Pg(this._pt,e,"visible",0,0,gme),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):g!=="resolution"&&this.add(e,g,"get",c);this._props.push(g)}}};c9()&&Fl.registerPlugin(wme);class q1{constructor(e=0,r=0,n=0,s=0){this._x=Number(e),this._y=Number(r),this._width=Number(n),this._height=Number(s),this._hull=[new Ee,new Ee,new Ee,new Ee],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,r,n,s]=this._hull;e.set(this._x,this._y),r.set(this._x+this._width,this._y),n.set(this._x+this._width,this._y+this._height),s.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new q1(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}equals(e){return e?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:!1}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=o-s,this}}const B3=new Ee;class P_{constructor(e=0,r=0,n=0,s=0,o=0){e instanceof q1&&(o=r||0,r=e.y,n=e.width,s=e.height,e=e.x),this.innerBounds=new q1(e,r,n,s),this._rotation=o,this._center=new Gs(this.updateCenter,this),this._hull=[new Ee,new Ee,new Ee,new Ee],this._matrix=new Et,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return e?this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation:!1}contains(e,r){typeof e=="number"&&(e=B3.set(e,r));const n=this._matrix.applyInverse(e,B3);return this.innerBounds.contains(n.x,n.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,r=this._rotation,n=this._center,[s,o,l,a]=this._hull,c=this._matrix;n._x=e.x+e.width/2,n._y=e.y+e.height/2,c.identity().translate(-n.x,-n.y).rotate(r).translate(n.x,n.y),c.apply(e.topLeft,s),c.apply(e.topRight,o),c.apply(e.bottomRight,l),c.apply(e.bottomLeft,a),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,r=this.innerBounds;r.x=e.x-r.width/2,r.y=e.y-r.height/2}}class M3{constructor(e,r){this._history=new Array(e),this._decayRatio=r,this._currentIndex=0;for(let n=0;n<e;n++)this._history[n]=0}next(e){const{_history:r,_decayRatio:n}=this,s=r.length;this._currentIndex=this._currentIndex<s-1?this._currentIndex+1:0,r[this._currentIndex]=e;let o=0,l=0;for(let a=this._currentIndex+1;a<s;a++)o=(o+r[a])*n,l=(l+1)*n;for(let a=0;a<=this._currentIndex;a++)o=(o+r[a])*n,l=(l+1)*n;return this._average=o/l,this._average}absDev(){let e=0;for(let r=0,n=this._history.length;r<n;r++)e+=Math.abs(this._history[r]-this._average);return e/this._history.length}}class Z1{constructor(e={}){Z1.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new M3(128,this._decayRatio),this._marginAverageProvider=new M3(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let r,n;Array.isArray(e)?(r=e,n=e.length):(n=e,r=new Array(n)),this._borrowRate+=n,this._flowRate+=n;let s=0;if(this._freeCount>0){const o=this._freeList,l=Math.min(this._freeCount,n);let a=this._freeCount;for(let c=0;c<l;c++)r[s]=o[a-1],++s,--a;this._freeCount=a}for(;s<n;)r[s]=this.create(),++s;return r}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let r=0,n=e.length;r<n;r++)this._freeList[this._freeCount]=e[r],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const r=this._freeCount-e;for(let n=0;n<r;n++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const n=Math.min(this._freeCount,this.capacity);for(let s=e;s<n;s++)this._freeList[s]=null}}startGC(e=$r.shared){e.add(this._gcTick,null,Lo.UTILITY)}stopGC(e=$r.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const r=this._freeCount,n=this._freeList.length;if(r<128&&this._borrowRateAverage<128&&n<128)return;const s=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>s+e){const o=s+e;this.capacity=Math.min(this._freeList.length,Math.ceil(o)),this._freeCount=this._freeList.length}}}}var bS;const F3=new Map;class g9{static build(e){let r=F3.get(e);return r||(r=new class extends Z1{create(){return new e}},F3.set(e,r),r)}static buildFunctional(e){return new(bS=class extends Z1{constructor(...n){super(...n),bS.prototype.__init.call(this)}__init(){this.create=e}},bS)}}const k3={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},bme=wa;class Eme extends bme{constructor(e,r,n={},s,o,l){super(),this.transformer=e;const a=Object.assign({},k3,n);this._handle=r,this._style=a,this.onHandleDelta=s,this.onHandleCommit=o,this._dirty=!0,this.interactive=!0,this.cursor=l||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new Ee,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},k3,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,r=this._style,n=r.radius;if(this.clear().lineStyle(r.outlineThickness,r.outlineColor).beginFill(r.color),r.shape==="square")this.drawRect(-n/2,-n/2,n,n);else if(r.shape==="tooth")switch(e){case"middleLeft":this.drawPolygon([-n/2,-n/2,-n/2,n/2,n/2,n/2,n*1.1,0,n/2,-n/2]);break;case"topCenter":this.drawPolygon([-n/2,-n/2,n/2,-n/2,n/2,n/2,0,n*1.1,-n/2,n/2]);break;case"middleRight":this.drawPolygon([-n/2,n/2,-n*1.1,0,-n/2,-n/2,n/2,-n/2,n/2,n/2]);break;case"bottomCenter":this.drawPolygon([0,-n*1.1,n/2,-n/2,n/2,n/2,-n/2,n/2,-n/2,-n/2]);break;case"rotator":this.drawCircle(0,0,n/Math.sqrt(2));break;default:this.drawRect(-n/2,-n/2,n,n);break}else this.drawCircle(0,0,n);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const r=e.data.global;this.onHandleDelta&&this.onHandleDelta(r),this._pointerPosition.copyFrom(r)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function w0(t,e,r,n){const{x:s,y:o}=r,{x:l,y:a}=n;if(Math.abs(l-s)<.01)return Math.abs(t-s);if(Math.abs(a-o)<.01)return Math.abs(e-o);const c=(a-o)/(l-s);return Math.abs((c*t-e+(a-c*l))/Math.sqrt(c*c+1))}const L3=g9.build(Ee),Sme=[new Ee,new Ee,new Ee,new Ee],Cme=new Et,Sd=new Ee,Ame=[0,0,0,1,-1,1,-1,-1,1,-1,1,0],Tme=[0,0,-1,0,-1,-1,1,-1,1,1,0,1],Dme=[0,0,1,0,1,1,-1,1,-1,-1,0,-1],Pme=[0,0,0,-1,1,-1,1,1,-1,1,-1,0],ES=new Array(12),Rme=[Ame,Tme,Dme,Pme],Ime=wa;class Ome extends Ime{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new wa),this.addChild(new wa),this.addChild(new wa),this.addChild(new wa)],this.boxScalingHandles.forEach(r=>{r.interactive=!0}),this.boxScalingHandles[0].cursor=eg.topCenter,this.boxScalingHandles[1].cursor=eg.middleRight,this.boxScalingHandles[2].cursor=eg.bottomCenter,this.boxScalingHandles[3].cursor=eg.middleLeft}hitHandleType(e,r,n){const{boxRotationEnabled:s,boxRotationTolerance:o,boxScalingEnabled:l,boxScalingTolerance:a}=this.transformer,[c,d,f,g]=e.hull,{x:m,y}=r.applyInverse(n,Sd);if(l){const _=w0(m,y,c,d)*r.d,u=w0(m,y,c,g)*r.a,h=w0(m,y,d,f)*r.a,p=w0(m,y,g,f)*r.d,v=Math.min(_,u,h,p);if(v<a)switch(v){case _:return"topCenter";case u:return"middleLeft";case h:return"middleRight";case p:return"bottomCenter"}}if(s&&!e.contains(m,y)){const _=Math.sqrt((c.x-m)**2+(c.y-y)**2),u=Math.sqrt((d.x-m)**2+(d.y-y)**2),h=Math.sqrt((g.x-m)**2+(g.y-y)**2),p=Math.sqrt((f.x-m)**2+(f.y-y)**2),v=Math.min(_,u,h,p);if(v<o*1.45)switch(v){case _:return"boxRotateTopLeft";case u:return"boxRotateTopRight";case h:return"boxRotateBottomLeft";case p:return"boxRotateBottomRight"}}return null}drawBounds(e){const r=Sme;for(let n=0;n<4;n++)this.transformer.projectToLocal(e.hull[n],r[n]);this.drawPolygon(r)}drawBoxScalingTolerance(e,r=this.transformer.boxScalingTolerance){e.innerBounds.pad(-r);const n=L3.allocateArray(4);n.forEach((o,l)=>{this.projectToLocal(e.hull[l],o)}),e.innerBounds.pad(2.5*r);const s=L3.allocateArray(4);s.forEach((o,l)=>{this.projectToLocal(e.hull[l],o)}),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let o=0;o<4;o++){const l=n[o],a=n[(o+1)%4],c=s[o],d=s[(o+1)%4];this.boxScalingHandles[o].clear().beginFill(16777215,1e-4).drawPolygon(l,c,d,a).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:r,boxRotateBottomLeft:n,boxRotateBottomRight:s}=this.transformer.handleAnchors,o=this.transformer.boxRotationTolerance*2,l=Cme.identity().scale(o,o).rotate(this.transformer.getGroupBounds().rotation);for(let a=0;a<4;a++){const c=Rme[a];let d;switch(a){case 0:d=e;break;case 1:d=r;break;case 2:d=n;break;case 3:d=s;break}for(let f=0;f<c.length;f+=2){const g=c[f],m=c[f+1];Sd.set(g,m),l.apply(Sd,Sd),ES[f]=Sd.x+d.x,ES[f+1]=Sd.y+d.y}this.drawPolygon(ES.slice())}}projectToLocal(e,r){return this.transformer.projectToLocal(e,r)}}const m9=new Et;function N3(t){const e=m9.identity();return e.c=Math.tan(t),e}function U3(t){const e=m9.identity();return e.b=Math.tan(t),e}function v9(t,e,r,n=t.pivot){const s=e.a,o=e.b,l=e.c,a=e.d,c=-Math.atan2(-l,a),d=Math.atan2(o,s);return r=r!=null?r:d,t.pivot.set(n.x,n.y),t.rotation=r,t.skew.x=r+c,t.skew.y=-r+d,t.scale.x=Math.sqrt(s*s+o*o),t.scale.y=Math.sqrt(l*l+a*a),t.position.x=e.tx+(n.x*e.a+n.y*e.c),t.position.y=e.ty+(n.x*e.b+n.y*e.d),t}const b0=new Et,Bme=new Et;function Mme(t,e,r){if(!r){const o=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}const n=t.worldTransform,s=t.parent?Bme.copyFrom(t.parent.worldTransform):Et.IDENTITY;b0.copyFrom(n),b0.prepend(e),b0.prepend(s.invert()),v9(t.transform,b0)}const E0=new Tf,Fme=[new Ee,new Ee,new Ee,new Ee],Cd=new Et,Ad=new Ee,SS=new P_,kme=new lt,$3=[new Ee,new Ee,new Ee,new Ee],j3=new Ee,z3=new Et,S0=g9.build(Ee),eg={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},R_=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],G3={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},Lme=[...R_,"rotator","skewHorizontal","skewVertical"],Nme=4,Ume=16,$me=[Math.PI/4,Math.PI/2,Math.PI*3/4,Math.PI,0,-Math.PI/4,-Math.PI/2,-Math.PI*3/4,-Math.PI],jme=Math.PI/90,zme=[Math.PI/4,-Math.PI/4],Gme=Math.PI/90,V3={color:0,thickness:2},Vme=gi;class Zi extends Vme{constructor(e={}){super(),Zi.prototype.__init.call(this),Zi.prototype.__init2.call(this),Zi.prototype.__init3.call(this),Zi.prototype.__init4.call(this),Zi.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||Ume,this.boxScalingTolerance=e.boxScalingTolerance||Nme,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new Et,this.lockAspectRatio=e.lockAspectRatio===!0,this.rotationSnaps=e.rotationSnaps||$me,this.rotationSnapTolerance=e.rotationSnapTolerance!==void 0?e.rotationSnapTolerance:jme,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||zme,this.skewSnapTolerance=e.skewSnapTolerance!==void 0?e.skewSnapTolerance:Gme,this.boxRotationEnabled=e.boxRotationEnabled===!0,this.boxScalingEnabled=e.boxScalingEnabled===!0,this._rotateEnabled=e.rotateEnabled!==!1,this._scaleEnabled=e.scaleEnabled!==!1,this._skewEnabled=e.skewEnabled===!0,this.translateEnabled=e.translateEnabled!==!1,this.transientGroupTilt=e.transientGroupTilt!==void 0?e.transientGroupTilt:!0,this.wireframe=this.addChild(new Ome(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},V3,e.wireframeStyle||{});const r=e.handleConstructor||Eme,n=e.handleStyle||{};this._handleStyle=n;const s={rotator:this.addChild(new r(this,"rotator",n,a=>{this.rotateGroup("rotator",a)},this.commitGroup))},o=R_.reduce((a,c)=>{const d=new r(this,c,n,null,this.commitGroup,eg[c]);return d.onHandleDelta=f=>{this.scaleGroup(d.handle,f)},d.visible=this._scaleEnabled,a[c]=d,this.addChild(a[c]),a},{}),l={skewHorizontal:this.addChild(new r(this,"skewHorizontal",n,a=>{this.skewGroup("skewHorizontal",a)},this.commitGroup,"pointer")),skewVertical:this.addChild(new r(this,"skewVertical",n,a=>{this.skewGroup("skewVertical",a)},this.commitGroup,"pointer"))};this.handles=Object.assign({},o,s,l),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new Ee,boxRotateTopLeft:new Ee,boxRotateTopRight:new Ee,boxRotateBottomLeft:new Ee,boxRotateBottomRight:new Ee,topLeft:new Ee,topCenter:new Ee,topRight:new Ee,middleLeft:new Ee,middleCenter:new Ee,middleRight:new Ee,bottomLeft:new Ee,bottomCenter:new Ee,bottomRight:new Ee,skewHorizontal:new Ee,skewVertical:new Ee},this.groupBounds=new P_,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new Ee,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){!this._enabledHandles&&!e||(this._enabledHandles=e,Lme.forEach(r=>{this.handles[r].visible=!1}),e?e.forEach(r=>{this.handles[r].visible=!0}):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,R_.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=this._scaleEnabled)})))}get handleStyle(){return this._handleStyle}set handleStyle(e){const r=this.handles;for(const n in r)r[n].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;R_.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=e)})}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},V3,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const r=Cd.identity().translate(e.x,e.y);this.prependTransform(r)}}__init2(){this.rotateGroup=(e,r)=>{this._transformHandle=e,this._transformType="rotate";const n=this.groupBounds,s=this.worldTransform.apply(this.handleAnchors[e],Ad);this.projectionTransform.applyInverse(s,s),r=this.projectionTransform.applyInverse(r,j3);const o=n.center,l=Math.atan2(s.y-o.y,s.x-o.x);let c=Math.atan2(r.y-o.y,r.x-o.x)-l,d=this.groupBounds.rotation+c;d=this.snapAngle(d,this.rotationSnapTolerance,this.rotationSnaps),c=d-this.groupBounds.rotation;const f=Cd.identity().translate(-o.x,-o.y).rotate(c).translate(o.x,o.y);this.prependTransform(f,!0),this.updateGroupBounds(d),this._skewX+=c,this._skewY+=c}}__init3(){this.scaleGroup=(e,r)=>{this._transformHandle=e,this._transformType="scale";const n=G3[e].x,s=G3[e].y,o=this.handles,l=this.groupBounds,a=l.rotation,c=l.innerBounds,d=this.worldTransform.apply(this.handleAnchors[e],Ad);this.projectionTransform.applyInverse(d,d),r=this.projectionTransform.applyInverse(r,j3);const f=r.x-d.x,g=r.y-d.y,m=(l.topRight.x-l.topLeft.x)/c.width,y=(l.topRight.y-l.topLeft.y)/c.width,_=(l.bottomLeft.x-l.topLeft.x)/c.height,u=(l.bottomLeft.y-l.topLeft.y)/c.height,h=f*m+g*y,p=f*_+g*u;let v=1+h*n/c.width,x=1+p*s/c.height;this.lockAspectRatio&&(e==="topLeft"||e==="topRight"||e==="bottomLeft"||e==="bottomRight")&&(v>x?x=v:v=x);const b=Cd.identity();if(n!==0&&v!==0){const S=this.centeredScaling?l.center:n===1?l.topLeft:l.topRight;b.translate(-S.x,-S.y).rotate(-a).scale(v,1).rotate(a).translate(S.x,S.y)}if(s!==0&&x!==0){const S=this.centeredScaling?l.center:s===1?l.topLeft:l.bottomLeft;b.translate(-S.x,-S.y).rotate(-a).scale(1,x).rotate(a).translate(S.x,S.y)}if((x<0||v<0)&&!(x<0&&v<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(o.topLeft,o.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(o.topCenter,o.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(o.topRight,o.bottomRight);break}this.prependTransform(b)}}__init4(){this.skewGroup=(e,r)=>{this._transformHandle=e,this._transformType="skew";const n=this.groupBounds,s=Ad.copyFrom(r);this.projectionTransform.applyInverse(s,s);const o=n.center,l=Cd.identity().translate(-o.x,-o.y);let a=this.groupBounds.rotation;if(e==="skewHorizontal"){const c=this._skewX;this._skewX=Math.atan2(s.y-o.y,s.x-o.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),l.prepend(U3(-c)),l.prepend(U3(this._skewX))}else{const c=this._skewY,d=Math.atan2(s.y-o.y,s.x-o.x)-Math.PI/2;this._skewY=d,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),l.prepend(N3(c)),l.prepend(N3(-this._skewY)),a-=this._skewY-c}l.translate(o.x,o.y),this.prependTransform(l,!0),this.updateGroupBounds(a)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",this.transientGroupTilt!==!1&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:r,thickness:n}=this._wireframeStyle;this.wireframe.clear(),this.boundingBoxes!=="none"&&this.wireframe.lineStyle(n,r),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let o=0,l=e.length;o<l&&this.boundingBoxes==="all";o++)this.wireframe.drawBounds(Zi.calculateOrientedBounds(e[o],SS));const s=e.length!==1?Zi.calculateGroupOrientedBounds(e,this.groupBounds.rotation,SS,!0):Zi.calculateOrientedBounds(e[0],SS);this.wireframe.drawBounds(s),this.drawHandles(s),this.groupBounds.copyFrom(s),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(s)),this.lazyDirty=!1}drawHandles(e){const r=this.handles,n=this.handleAnchors,{topLeft:s,topRight:o,bottomLeft:l,bottomRight:a,center:c}=e,[d,f,g,m]=$3,y=Ad;if(this.projectToLocal(s,d),this.projectToLocal(o,f),this.projectToLocal(l,g),this.projectToLocal(a,m),this.projectToLocal(c,y),n.topLeft.copyFrom(d),n.topCenter.set((d.x+f.x)/2,(d.y+f.y)/2),n.topRight.copyFrom(f),n.middleLeft.set((d.x+g.x)/2,(d.y+g.y)/2),n.middleCenter.set((d.x+m.x)/2,(d.y+m.y)/2),n.middleRight.set((f.x+m.x)/2,(f.y+m.y)/2),n.bottomLeft.copyFrom(g),n.bottomCenter.set((g.x+m.x)/2,(g.y+m.y)/2),n.bottomRight.copyFrom(m),this.boxRotationEnabled&&(n.boxRotateTopLeft.copyFrom(n.topLeft),n.boxRotateTopRight.copyFrom(n.topRight),n.boxRotateBottomLeft.copyFrom(n.bottomLeft),n.boxRotateBottomRight.copyFrom(n.bottomRight)),this._rotateEnabled){const _=(d.x+f.x)/2,u=(d.y+f.y)/2;let h=-(d.y-f.y),p=d.x-f.x;const v=Math.sqrt(h*h+p*p);h*=32/v,p*=32/v,r.rotator.position.x=_+h,r.rotator.position.y=u+p,this.wireframe.moveTo(_,u).lineTo(r.rotator.position.x,r.rotator.position.y),this.handleAnchors.rotator.copyFrom(r.rotator.position)}if(this._skewEnabled){const _=y.x,u=y.y;this.worldTransform.apply(y,y),n.skewHorizontal.set(y.x+Math.cos(this._skewX)*this.skewRadius,y.y+Math.sin(this._skewX)*this.skewRadius),n.skewVertical.set(y.x+-Math.sin(this._skewY)*this.skewRadius,y.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(n.skewHorizontal,n.skewHorizontal),this.worldTransform.applyInverse(n.skewVertical,n.skewVertical),y.set(_,u),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(y.x,y.y,this.wireframeStyle.thickness*2).endFill(),this.wireframe.moveTo(y.x,y.y).lineTo(r.skewHorizontal.x,r.skewHorizontal.y).moveTo(y.x,y.y).lineTo(r.skewVertical.x,r.skewVertical.y)}for(const _ in r){let u=this.groupBounds.rotation;_==="skewHorizontal"?u=this._skewX:_==="skewVertical"&&(u=this._skewY);const h=r[_];h.rotation=u,h.position.copyFrom(n[_]),h.getBounds(!1,kme)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const r=this._pointerPosition,n=S0.allocate().copyFrom(e.data.global),s=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n);if(!this._pointerDown)this.setCursorFromHoveredHandle(s);else{const o=n.x,l=n.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,n);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,n);break;default:if(this.translateEnabled){const[a,c,d]=$3;a.set(0,0),c.set(n.x-r.x,n.y-r.y),this.projectionTransform.applyInverse(a,a),this.projectionTransform.applyInverse(c,c),d.set(c.x-a.x,c.y-a.y),this.translateGroup(d)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n),this.setCursorFromHoveredHandle(s);this._pointerPosition.x=o,this._pointerPosition.y=l,this._pointerDragging=!0,e.stopPropagation()}S0.release(n)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,r=!1){const n=this.group;for(let s=0,o=n.length;s<o;s++)Mme(n[s],e,!1);z3.copyFrom(e),r||this.updateGroupBounds(),this.emit("transformchange",z3)}updateGroupBounds(e=this.groupBounds.rotation){Zi.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,r,n){if(e=e%(Math.PI*2),!n||n.length===1||!r)return e;for(let s=0,o=n.length;s<o;s++)if(Math.abs(e-n[s])<=r)return n[s];return e}swapHandles(e,r){const n=e.handle,s=r.handle,o=e.cursor,l=r.cursor,a=e.x,c=r.x,d=e.y,f=r.y;e.handle=s,r.handle=n,e.position.set(c,f),r.position.set(a,d),e.cursor=l,r.cursor=o,this.handles[n]=r,this.handles[s]=e,this._transformHandle===n?this._transformHandle=s:this._transformHandle===s&&(this._transformHandle=n)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default;break}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,r){return r||(r=new Ee),this.projectionTransform.apply(e,r),this.worldTransform.applyInverse(r,r),r}static calculateTransformedCorners(e,r=e.worldTransform,n,s=0){const o=e.getLocalBounds();return e.getBounds(),n=n||[new Ee,new Ee,new Ee,new Ee],n[s].set(o.x,o.y),n[s+1].set(o.x+o.width,o.y),n[s+2].set(o.x+o.width,o.y+o.height),n[s+3].set(o.x,o.y+o.height),r.apply(n[s],n[s]),r.apply(n[s+1],n[s+1]),r.apply(n[s+2],n[s+2]),r.apply(n[s+3],n[s+3]),n}static calculateOrientedBounds(e,r){const n=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(n),v9(E0,e.worldTransform),E0.updateLocalTransform();const s=E0.rotation,o=Zi.calculateTransformedCorners(e,e.worldTransform,Fme),l=(o[0].x+o[1].x+o[2].x+o[3].x)/4,a=(o[0].y+o[1].y+o[2].y+o[3].y)/4,c=Cd.identity().translate(-l,-a).rotate(-E0.rotation).translate(l,a);return c.apply(o[0],o[0]),c.apply(o[1],o[1]),c.apply(o[2],o[2]),c.apply(o[3],o[3]),r=r||new P_,r.rotation=s,r.innerBounds.x=Math.min(o[0].x,o[1].x,o[2].x,o[3].x),r.innerBounds.y=Math.min(o[0].y,o[1].y,o[2].y,o[3].y),r.innerBounds.width=Math.max(o[0].x,o[1].x,o[2].x,o[3].x)-r.innerBounds.x,r.innerBounds.height=Math.max(o[0].y,o[1].y,o[2].y,o[3].y)-r.innerBounds.y,r}static calculateGroupOrientedBounds(e,r,n,s=!1){const o=e.length,l=S0.allocateArray(o*4);for(let m=0;m<o;m++){const y=e[m];if(!s){const _=y.parent?y.parent:y.enableTempParent();y.updateTransform(),y.disableTempParent(_)}Zi.calculateTransformedCorners(y,y.worldTransform,l,m*4)}const a=Cd.identity().rotate(-r);let c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let m=0,y=l.length;m<y;m++){const _=l[m];a.apply(_,_);const u=_.x,h=_.y;c=u<c?u:c,d=h<d?h:d,f=u>f?u:f,g=h>g?h:g}return S0.releaseArray(l),n=n||new P_,n.innerBounds.x=c,n.innerBounds.y=d,n.innerBounds.width=f-c,n.innerBounds.height=g-d,n.rotation=r,a.applyInverse(n.center,Ad),n.center.copyFrom(Ad),n}}var y9=Symbol.for("immer-nothing"),H3=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function us(t,...e){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var of=Object.getPrototypeOf;function Uc(t){return!!t&&!!t[Ft]}function Ua(t){var e;return t?_9(t)||Array.isArray(t)||!!t[H3]||!!((e=t.constructor)!=null&&e[H3])||Kw(t)||Xw(t):!1}var Hme=Object.prototype.constructor.toString();function _9(t){if(!t||typeof t!="object")return!1;const e=of(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Hme}function Lm(t,e){Ww(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Ww(t){const e=t[Ft];return e?e.type_:Array.isArray(t)?1:Kw(t)?2:Xw(t)?3:0}function XT(t,e){return Ww(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x9(t,e,r){const n=Ww(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Wme(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kw(t){return t instanceof Map}function Xw(t){return t instanceof Set}function rn(t){return t.copy_||t.base_}function YT(t,e){if(Kw(t))return new Map(t);if(Xw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=_9(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ft];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const l=s[o],a=n[l];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[l]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[l]})}return Object.create(of(t),n)}else{const n=of(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function JR(t,e=!1){return Yw(t)||Uc(t)||!Ua(t)||(Ww(t)>1&&(t.set=t.add=t.clear=t.delete=Kme),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>JR(n,!0))),t}function Kme(){us(2)}function Yw(t){return Object.isFrozen(t)}var qT={};function $c(t){const e=qT[t];return e||us(0,t),e}function Xme(t,e){qT[t]||(qT[t]=e)}var Nm;function Q1(){return Nm}function Yme(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W3(t,e){e&&($c("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZT(t){QT(t),t.drafts_.forEach(qme),t.drafts_=null}function QT(t){t===Nm&&(Nm=t.parent_)}function K3(t){return Nm=Yme(Nm,t)}function qme(t){const e=t[Ft];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function X3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ft].modified_&&(ZT(e),us(4)),Ua(t)&&(t=J1(e,t),e.parent_||ex(e,t)),e.patches_&&$c("Patches").generateReplacementPatches_(r[Ft].base_,t,e.patches_,e.inversePatches_)):t=J1(e,r,[]),ZT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y9?t:void 0}function J1(t,e,r){if(Yw(e))return e;const n=e[Ft];if(!n)return Lm(e,(s,o)=>Y3(t,n,e,s,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return ex(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,l=!1;n.type_===3&&(o=new Set(s),s.clear(),l=!0),Lm(o,(a,c)=>Y3(t,n,s,a,c,r,l)),ex(t,s,!1),r&&t.patches_&&$c("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function Y3(t,e,r,n,s,o,l){if(Uc(s)){const a=o&&e&&e.type_!==3&&!XT(e.assigned_,n)?o.concat(n):void 0,c=J1(t,s,a);if(x9(r,n,c),Uc(c))t.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Ua(s)&&!Yw(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;J1(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&ex(t,s)}}function ex(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JR(e,r)}function Zme(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Q1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=eI;r&&(s=[n],o=Um);const{revoke:l,proxy:a}=Proxy.revocable(s,o);return n.draft_=a,n.revoke_=l,a}var eI={get(t,e){if(e===Ft)return t;const r=rn(t);if(!XT(r,e))return Qme(t,r,e);const n=r[e];return t.finalized_||!Ua(n)?n:n===CS(t.base_,e)?(AS(t),t.copy_[e]=$m(n,t)):n},has(t,e){return e in rn(t)},ownKeys(t){return Reflect.ownKeys(rn(t))},set(t,e,r){const n=w9(rn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=CS(rn(t),e),o=s==null?void 0:s[Ft];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Wme(r,s)&&(r!==void 0||XT(t.base_,e)))return!0;AS(t),pa(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return CS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,AS(t),pa(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=rn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){us(11)},getPrototypeOf(t){return of(t.base_)},setPrototypeOf(){us(12)}},Um={};Lm(eI,(t,e)=>{Um[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Um.deleteProperty=function(t,e){return Um.set.call(this,t,e,void 0)};Um.set=function(t,e,r){return eI.set.call(this,t[0],e,r,t[0])};function CS(t,e){const r=t[Ft];return(r?rn(r):t)[e]}function Qme(t,e,r){var s;const n=w9(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function w9(t,e){if(!(e in t))return;let r=of(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=of(r)}}function pa(t){t.modified_||(t.modified_=!0,t.parent_&&pa(t.parent_))}function AS(t){t.copy_||(t.copy_=YT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Jme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const l=this;return function(c=o,...d){return l.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&us(6),n!==void 0&&typeof n!="function"&&us(7);let s;if(Ua(e)){const o=K3(this),l=$m(e,void 0);let a=!0;try{s=r(l),a=!1}finally{a?ZT(o):QT(o)}return W3(o,n),X3(s,o)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===y9&&(s=void 0),this.autoFreeze_&&JR(s,!0),n){const o=[],l=[];$c("Patches").generateReplacementPatches_(e,s,o,l),n(o,l)}return s}else us(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...a)=>this.produceWithPatches(l,c=>e(c,...a));let n,s;return[this.produce(e,r,(l,a)=>{n=l,s=a}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ua(t)||us(8),Uc(t)&&(t=eve(t));const e=K3(this),r=$m(t,void 0);return r[Ft].isManual_=!0,QT(e),r}finishDraft(t,e){const r=t&&t[Ft];(!r||!r.isManual_)&&us(9);const{scope_:n}=r;return W3(n,e),X3(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=$c("Patches").applyPatches_;return Uc(t)?n(t,e):this.produce(t,s=>n(s,e))}};function $m(t,e){const r=Kw(t)?$c("MapSet").proxyMap_(t,e):Xw(t)?$c("MapSet").proxySet_(t,e):Zme(t,e);return(e?e.scope_:Q1()).drafts_.push(r),r}function eve(t){return Uc(t)||us(10,t),b9(t)}function b9(t){if(!Ua(t)||Yw(t))return t;const e=t[Ft];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=YT(t,e.scope_.immer_.useStrictShallowCopy_)}else r=YT(t,!0);return Lm(r,(n,s)=>{x9(r,n,b9(s))}),e&&(e.finalized_=!1),r}function tve(){class t extends Map{constructor(c,d){super(),this[Ft]={type_:2,parent_:d,scope_:d?d.scope_:Q1(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return rn(this[Ft]).size}has(c){return rn(this[Ft]).has(c)}set(c,d){const f=this[Ft];return l(f),(!rn(f).has(c)||rn(f).get(c)!==d)&&(r(f),pa(f),f.assigned_.set(c,!0),f.copy_.set(c,d),f.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const d=this[Ft];return l(d),r(d),pa(d),d.base_.has(c)?d.assigned_.set(c,!1):d.assigned_.delete(c),d.copy_.delete(c),!0}clear(){const c=this[Ft];l(c),rn(c).size&&(r(c),pa(c),c.assigned_=new Map,Lm(c.base_,d=>{c.assigned_.set(d,!1)}),c.copy_.clear())}forEach(c,d){const f=this[Ft];rn(f).forEach((g,m,y)=>{c.call(d,this.get(m),m,this)})}get(c){const d=this[Ft];l(d);const f=rn(d).get(c);if(d.finalized_||!Ua(f)||f!==d.base_.get(c))return f;const g=$m(f,d);return r(d),d.copy_.set(c,g),g}keys(){return rn(this[Ft]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=c.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=c.next();if(d.done)return d;const f=this.get(d.value);return{done:!1,value:[d.value,f]}}}}[Symbol.iterator](){return this.entries()}}function e(a,c){return new t(a,c)}function r(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class n extends Set{constructor(c,d){super(),this[Ft]={type_:3,parent_:d,scope_:d?d.scope_:Q1(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return rn(this[Ft]).size}has(c){const d=this[Ft];return l(d),d.copy_?!!(d.copy_.has(c)||d.drafts_.has(c)&&d.copy_.has(d.drafts_.get(c))):d.base_.has(c)}add(c){const d=this[Ft];return l(d),this.has(c)||(o(d),pa(d),d.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const d=this[Ft];return l(d),o(d),pa(d),d.copy_.delete(c)||(d.drafts_.has(c)?d.copy_.delete(d.drafts_.get(c)):!1)}clear(){const c=this[Ft];l(c),rn(c).size&&(o(c),pa(c),c.copy_.clear())}values(){const c=this[Ft];return l(c),o(c),c.copy_.values()}entries(){const c=this[Ft];return l(c),o(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,d){const f=this.values();let g=f.next();for(;!g.done;)c.call(d,g.value,g.value,this),g=f.next()}}function s(a,c){return new n(a,c)}function o(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(Ua(c)){const d=$m(c,a);a.drafts_.set(c,d),a.copy_.add(d)}else a.copy_.add(c)}))}function l(a){a.revoked_&&us(3,JSON.stringify(rn(a)))}Xme("MapSet",{proxyMap_:e,proxySet_:s})}var zi=new Jme,Wv=zi.produce;zi.produceWithPatches.bind(zi);var rve=zi.setAutoFreeze.bind(zi);zi.setUseStrictShallowCopy.bind(zi);zi.applyPatches.bind(zi);var q3=zi.createDraft.bind(zi),Z3=zi.finishDraft.bind(zi);const nve=t=>(e,r,n)=>(n.setState=(s,o,...l)=>{const a=typeof s=="function"?Wv(s):s;return e(a,o,...l)},t(n.setState,r,n)),HGe=nve;function ive(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Kv(...t){return e=>t.forEach(r=>ive(r,e))}function Xe(...t){return E.useCallback(Kv(...t),t)}var Uo=E.forwardRef((t,e)=>{const{children:r,...n}=t,s=E.Children.toArray(r),o=s.find(sve);if(o){const l=o.props.children,a=s.map(c=>c===o?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:c);return I.jsx(JT,{...n,ref:e,children:E.isValidElement(l)?E.cloneElement(l,void 0,a):null})}return I.jsx(JT,{...n,ref:e,children:r})});Uo.displayName="Slot";var JT=E.forwardRef((t,e)=>{const{children:r,...n}=t;if(E.isValidElement(r)){const s=ave(r);return E.cloneElement(r,{...ove(n,r.props),ref:e?Kv(e,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});JT.displayName="SlotClone";var tI=({children:t})=>I.jsx(I.Fragment,{children:t});function sve(t){return E.isValidElement(t)&&t.type===tI}function ove(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function ave(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var lve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=lve.reduce((t,e)=>{const r=E.forwardRef((n,s)=>{const{asChild:o,...l}=n,a=o?Uo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(a,{...l,ref:s})});return r.displayName="Primitive.".concat(e),{...t,[e]:r}},{});function Xv(t,e){t&&Ka.flushSync(()=>t.dispatchEvent(e))}var Gr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function uve(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var vi=t=>{const{present:e,children:r}=t,n=cve(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=Xe(n.ref,dve(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};vi.displayName="Presence";function cve(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),l=t?"mounted":"unmounted",[a,c]=uve(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=C0(n.current);o.current=a==="mounted"?d:"none"},[a]),Gr(()=>{const d=n.current,f=s.current;if(f!==t){const m=o.current,y=C0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Gr(()=>{if(e){const d=g=>{const y=C0(n.current).includes(g.animationName);g.target===e&&y&&Ka.flushSync(()=>c("ANIMATION_END"))},f=g=>{g.target===e&&(o.current=C0(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function C0(t){return(t==null?void 0:t.animationName)||"none"}function dve(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function yi(t,e=[]){let r=[];function n(o,l){const a=E.createContext(l),c=r.length;r=[...r,l];function d(g){const{scope:m,children:y,..._}=g,u=(m==null?void 0:m[t][c])||a,h=E.useMemo(()=>_,Object.values(_));return I.jsx(u.Provider,{value:h,children:y})}function f(g,m){const y=(m==null?void 0:m[t][c])||a,_=E.useContext(y);if(_)return _;if(l!==void 0)return l;throw new Error("`".concat(g,"` must be used within `").concat(o,"`"))}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=r.map(l=>E.createContext(l));return function(a){const c=(a==null?void 0:a[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,hve(s,...e)]}function hve(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((a,{useScope:c,scopeName:d})=>{const g=c(o)["__scope".concat(d)];return{...a,...g}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:l}),[l])}};return r.scopeName=e.scopeName,r}function Ut(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var fve=E.createContext(void 0);function Ho(t){const e=E.useContext(fve);return t||e||"ltr"}function jm(t,[e,r]){return Math.min(r,Math.max(e,t))}function ie(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function pve(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var rI="ScrollArea",[E9,WGe]=yi(rI),[gve,Ds]=E9(rI),S9=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...l}=t,[a,c]=E.useState(null),[d,f]=E.useState(null),[g,m]=E.useState(null),[y,_]=E.useState(null),[u,h]=E.useState(null),[p,v]=E.useState(0),[x,w]=E.useState(0),[b,S]=E.useState(!1),[C,A]=E.useState(!1),T=Xe(e,B=>c(B)),P=Ho(s);return I.jsx(gve,{scope:r,type:n,dir:P,scrollHideDelay:o,scrollArea:a,viewport:d,onViewportChange:f,content:g,onContentChange:m,scrollbarX:y,onScrollbarXChange:_,scrollbarXEnabled:b,onScrollbarXEnabledChange:S,scrollbarY:u,onScrollbarYChange:h,scrollbarYEnabled:C,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:w,children:I.jsx(Ae.div,{dir:P,...l,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});S9.displayName=rI;var C9="ScrollAreaViewport",A9=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,l=Ds(C9,r),a=E.useRef(null),c=Xe(e,a,l.onViewportChange);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),I.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:I.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});A9.displayName=C9;var Wo="ScrollAreaScrollbar",mve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ds(Wo,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=s,a=t.orientation==="horizontal";return E.useEffect(()=>(a?o(!0):l(!0),()=>{a?o(!1):l(!1)}),[a,o,l]),s.type==="hover"?I.jsx(vve,{...n,ref:e,forceMount:r}):s.type==="scroll"?I.jsx(yve,{...n,ref:e,forceMount:r}):s.type==="auto"?I.jsx(T9,{...n,ref:e,forceMount:r}):s.type==="always"?I.jsx(nI,{...n,ref:e}):null});mve.displayName=Wo;var vve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ds(Wo,t.__scopeScrollArea),[o,l]=E.useState(!1);return E.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),l(!0)},f=()=>{c=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),I.jsx(vi,{present:r||o,children:I.jsx(T9,{"data-state":o?"visible":"hidden",...n,ref:e})})}),yve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ds(Wo,t.__scopeScrollArea),o=t.orientation==="horizontal",l=Zw(()=>c("SCROLL_END"),100),[a,c]=pve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,c]),E.useEffect(()=>{const d=s.viewport,f=o?"scrollLeft":"scrollTop";if(d){let g=d[f];const m=()=>{const y=d[f];g!==y&&(c("SCROLL"),l()),g=y};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,o,c,l]),I.jsx(vi,{present:r||a!=="hidden",children:I.jsx(nI,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ie(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),T9=E.forwardRef((t,e)=>{const r=Ds(Wo,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,l]=E.useState(!1),a=t.orientation==="horizontal",c=Zw(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;l(a?d:f)}},10);return af(r.viewport,c),af(r.content,c),I.jsx(vi,{present:n||o,children:I.jsx(nI,{"data-state":o?"visible":"hidden",...s,ref:e})})}),nI=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Ds(Wo,t.__scopeScrollArea),o=E.useRef(null),l=E.useRef(0),[a,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=I9(a.viewport,a.content),f={...n,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function g(m,y){return Cve(m,l.current,a,y)}return r==="horizontal"?I.jsx(_ve,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,y=Q3(m,a,s.dir);o.current.style.transform="translate3d(".concat(y,"px, 0, 0)")}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=g(m,s.dir))}}):r==="vertical"?I.jsx(xve,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,y=Q3(m,a);o.current.style.transform="translate3d(0, ".concat(y,"px, 0)")}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=g(m))}}):null}),_ve=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ds(Wo,t.__scopeScrollArea),[l,a]=E.useState(),c=E.useRef(null),d=Xe(e,c,o.onScrollbarXChange);return E.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),I.jsx(P9,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qw(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,g)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),B9(m,g)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&l&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rx(l.paddingLeft),paddingEnd:rx(l.paddingRight)}})}})}),xve=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ds(Wo,t.__scopeScrollArea),[l,a]=E.useState(),c=E.useRef(null),d=Xe(e,c,o.onScrollbarYChange);return E.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),I.jsx(P9,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qw(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,g)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),B9(m,g)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&l&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rx(l.paddingTop),paddingEnd:rx(l.paddingBottom)}})}})}),[wve,D9]=E9(Wo),P9=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:g,...m}=t,y=Ds(Wo,r),[_,u]=E.useState(null),h=Xe(e,T=>u(T)),p=E.useRef(null),v=E.useRef(""),x=y.viewport,w=n.content-n.viewport,b=Ut(f),S=Ut(c),C=Zw(g,10);function A(T){if(p.current){const P=T.clientX-p.current.left,B=T.clientY-p.current.top;d({x:P,y:B})}}return E.useEffect(()=>{const T=P=>{const B=P.target;(_==null?void 0:_.contains(B))&&b(P,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,_,w,b]),E.useEffect(S,[n,S]),af(_,C),af(y.content,C),I.jsx(wve,{scope:r,scrollbar:_,hasThumb:s,onThumbChange:Ut(o),onThumbPointerUp:Ut(l),onThumbPositionChange:S,onThumbPointerDown:Ut(a),children:I.jsx(Ae.div,{...m,ref:h,style:{position:"absolute",...m.style},onPointerDown:ie(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),p.current=_.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(T))}),onPointerMove:ie(t.onPointerMove,A),onPointerUp:ie(t.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),tx="ScrollAreaThumb",bve=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=D9(tx,t.__scopeScrollArea);return I.jsx(vi,{present:r||s.hasThumb,children:I.jsx(Eve,{ref:e,...n})})}),Eve=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=Ds(tx,r),l=D9(tx,r),{onThumbPositionChange:a}=l,c=Xe(e,g=>l.onThumbChange(g)),d=E.useRef(),f=Zw(()=>{d.current&&(d.current(),d.current=void 0)},100);return E.useEffect(()=>{const g=o.viewport;if(g){const m=()=>{if(f(),!d.current){const y=Ave(g,a);d.current=y,a()}};return a(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[o.viewport,f,a]),I.jsx(Ae.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ie(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),_=g.clientX-y.left,u=g.clientY-y.top;l.onThumbPointerDown({x:_,y:u})}),onPointerUp:ie(t.onPointerUp,l.onThumbPointerUp)})});bve.displayName=tx;var iI="ScrollAreaCorner",R9=E.forwardRef((t,e)=>{const r=Ds(iI,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?I.jsx(Sve,{...t,ref:e}):null});R9.displayName=iI;var Sve=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Ds(iI,r),[o,l]=E.useState(0),[a,c]=E.useState(0),d=!!(o&&a);return af(s.scrollbarX,()=>{var g;const f=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),af(s.scrollbarY,()=>{var g;const f=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(f),l(f)}),d?I.jsx(Ae.div,{...n,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function rx(t){return t?parseInt(t,10):0}function I9(t,e){const r=t/e;return isNaN(r)?0:r}function qw(t){const e=I9(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Cve(t,e,r,n="ltr"){const s=qw(r),o=s/2,l=e||o,a=s-l,c=r.scrollbar.paddingStart+l,d=r.scrollbar.size-r.scrollbar.paddingEnd-a,f=r.content-r.viewport,g=n==="ltr"?[0,f]:[f*-1,0];return O9([c,d],g)(t)}function Q3(t,e,r="ltr"){const n=qw(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,l=e.content-e.viewport,a=o-n,c=r==="ltr"?[0,l]:[l*-1,0],d=jm(t,c);return O9([0,l],[0,a])(d)}function O9(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function B9(t,e){return t>0&&t<e}var Ave=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},l=r.left!==o.left,a=r.top!==o.top;(l||a)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Zw(t,e){const r=Ut(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function af(t,e){const r=Ut(e);Gr(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var KGe=S9,XGe=A9,YGe=R9;function M9(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=M9(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Tve(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=M9(t))&&(n&&(n+=" "),n+=e);return n}const J3=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,eD=Tve,qGe=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return eD(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],g=o==null?void 0:o[d];if(f===null)return null;const m=J3(f)||J3(g);return s[d][m]}),a=r&&Object.entries(r).reduce((d,f)=>{let[g,m]=f;return m===void 0||(d[g]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:g,className:m,...y}=f;return Object.entries(y).every(_=>{let[u,h]=_;return Array.isArray(h)?h.includes({...o,...a}[u]):{...o,...a}[u]===h})?[...d,g,m]:d},[]);return eD(t,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F9=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...a},c)=>E.createElement("svg",{ref:c,...Pve,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:F9("lucide",s),...a},[...l.map(([d,f])=>E.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const r=E.forwardRef(({className:n,...s},o)=>E.createElement(Rve,{ref:o,iconNode:e,className:F9("lucide-".concat(Dve(t)),n),...s}));return r.displayName="".concat(t),r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZGe=Se("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QGe=Se("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JGe=Se("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eVe=Se("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tVe=Se("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rVe=Se("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nVe=Se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iVe=Se("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sVe=Se("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oVe=Se("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aVe=Se("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lVe=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uVe=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cVe=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dVe=Se("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hVe=Se("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fVe=Se("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pVe=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gVe=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mVe=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vVe=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yVe=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ve=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xVe=Se("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wVe=Se("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bVe=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EVe=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SVe=Se("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CVe=Se("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AVe=Se("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TVe=Se("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DVe=Se("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PVe=Se("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RVe=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IVe=Se("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OVe=Se("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BVe=Se("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MVe=Se("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FVe=Se("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kVe=Se("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LVe=Se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NVe=Se("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UVe=Se("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ve=Se("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jVe=Se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zVe=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GVe=Se("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VVe=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HVe=Se("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WVe=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KVe=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XVe=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YVe=Se("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qVe=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZVe=Se("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QVe=Se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JVe=Se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eHe=Se("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tHe=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rHe=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nHe=Se("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iHe=Se("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sHe=Se("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oHe=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aHe=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lHe=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uHe=Se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cHe=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dHe=Se("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hHe=Se("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fHe=Se("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pHe=Se("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gHe=Se("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mHe=Se("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vHe=Se("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yHe=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _He=Se("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xHe=Se("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wHe=Se("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bHe=Se("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EHe=Se("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SHe=Se("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CHe=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Mn({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Ive({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:n,a=Ut(r),c=E.useCallback(d=>{if(o){const g=typeof d=="function"?d(t):d;g!==t&&a(g)}else s(d)},[o,t,s,a]);return[l,c]}function Ive({defaultProp:t,onChange:e}){const r=E.useState(t),[n]=r,s=E.useRef(n),o=Ut(e);return E.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function id(t){const e=t+"CollectionProvider",[r,n]=yi(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:_,children:u}=y,h=V.useRef(null),p=V.useRef(new Map).current;return I.jsx(s,{scope:_,itemMap:p,collectionRef:h,children:u})};l.displayName=e;const a=t+"CollectionSlot",c=V.forwardRef((y,_)=>{const{scope:u,children:h}=y,p=o(a,u),v=Xe(_,p.collectionRef);return I.jsx(Uo,{ref:v,children:h})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=V.forwardRef((y,_)=>{const{scope:u,children:h,...p}=y,v=V.useRef(null),x=Xe(_,v),w=o(d,u);return V.useEffect(()=>(w.itemMap.set(v,{ref:v,...p}),()=>void w.itemMap.delete(v))),I.jsx(Uo,{[f]:"",ref:x,children:h})});g.displayName=d;function m(y){const _=o(t+"CollectionConsumer",y);return V.useCallback(()=>{const h=_.collectionRef.current;if(!h)return[];const p=Array.from(h.querySelectorAll("[".concat(f,"]")));return Array.from(_.itemMap.values()).sort((w,b)=>p.indexOf(w.ref.current)-p.indexOf(b.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:c,ItemSlot:g},m,n]}function k9(t,e=globalThis==null?void 0:globalThis.document){const r=Ut(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Ove="DismissableLayer",tD="dismissableLayer.update",Bve="dismissableLayer.pointerDownOutside",Mve="dismissableLayer.focusOutside",eL,L9=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yv=E.forwardRef((t,e)=>{var C;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...c}=t,d=E.useContext(L9),[f,g]=E.useState(null),m=(C=f==null?void 0:f.ownerDocument)!=null?C:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),_=Xe(e,A=>g(A)),u=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(h),v=f?u.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,b=Lve(A=>{const T=A.target,P=[...d.branches].some(B=>B.contains(T));!w||P||(s==null||s(A),l==null||l(A),A.defaultPrevented||a==null||a())},m),S=Nve(A=>{const T=A.target;[...d.branches].some(B=>B.contains(T))||(o==null||o(A),l==null||l(A),A.defaultPrevented||a==null||a())},m);return k9(A=>{v===d.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},m),E.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(eL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),tL(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eL)}},[f,m,r,d]),E.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),tL())},[f,d]),E.useEffect(()=>{const A=()=>y({});return document.addEventListener(tD,A),()=>document.removeEventListener(tD,A)},[]),I.jsx(Ae.div,{...c,ref:_,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,b.onPointerDownCapture)})});Yv.displayName=Ove;var Fve="DismissableLayerBranch",kve=E.forwardRef((t,e)=>{const r=E.useContext(L9),n=E.useRef(null),s=Xe(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),I.jsx(Ae.div,{...t,ref:s})});kve.displayName=Fve;function Lve(t,e=globalThis==null?void 0:globalThis.document){const r=Ut(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){N9(Bve,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Nve(t,e=globalThis==null?void 0:globalThis.document){const r=Ut(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&N9(Mve,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tL(){const t=new CustomEvent(tD);document.dispatchEvent(t)}function N9(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Xv(s,o):s.dispatchEvent(o)}var TS=0;function sI(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:rL()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:rL()),TS++,()=>{TS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),TS--}},[])}function rL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var DS="focusScope.autoFocusOnMount",PS="focusScope.autoFocusOnUnmount",nL={bubbles:!1,cancelable:!0},Uve="FocusScope",Of=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[a,c]=E.useState(null),d=Ut(s),f=Ut(o),g=E.useRef(null),m=Xe(e,u=>c(u)),y=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let u=function(x){if(y.paused||!a)return;const w=x.target;a.contains(w)?g.current=w:hl(g.current,{select:!0})},h=function(x){if(y.paused||!a)return;const w=x.relatedTarget;w!==null&&(a.contains(w)||hl(g.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const b of x)b.removedNodes.length>0&&hl(a)};document.addEventListener("focusin",u),document.addEventListener("focusout",h);const v=new MutationObserver(p);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",h),v.disconnect()}}},[n,a,y.paused]),E.useEffect(()=>{if(a){sL.add(y);const u=document.activeElement;if(!a.contains(u)){const p=new CustomEvent(DS,nL);a.addEventListener(DS,d),a.dispatchEvent(p),p.defaultPrevented||($ve(Hve(U9(a)),{select:!0}),document.activeElement===u&&hl(a))}return()=>{a.removeEventListener(DS,d),setTimeout(()=>{const p=new CustomEvent(PS,nL);a.addEventListener(PS,f),a.dispatchEvent(p),p.defaultPrevented||hl(u!=null?u:document.body,{select:!0}),a.removeEventListener(PS,f),sL.remove(y)},0)}}},[a,d,f,y]);const _=E.useCallback(u=>{if(!r&&!n||y.paused)return;const h=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=document.activeElement;if(h&&p){const v=u.currentTarget,[x,w]=jve(v);x&&w?!u.shiftKey&&p===w?(u.preventDefault(),r&&hl(x,{select:!0})):u.shiftKey&&p===x&&(u.preventDefault(),r&&hl(w,{select:!0})):p===v&&u.preventDefault()}},[r,n,y.paused]);return I.jsx(Ae.div,{tabIndex:-1,...l,ref:m,onKeyDown:_})});Of.displayName=Uve;function $ve(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(hl(n,{select:e}),document.activeElement!==r)return}function jve(t){const e=U9(t),r=iL(e,t),n=iL(e.reverse(),t);return[r,n]}function U9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function iL(t,e){for(const r of t)if(!zve(r,{upTo:e}))return r}function zve(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Gve(t){return t instanceof HTMLInputElement&&"select"in t}function hl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Gve(t)&&e&&t.select()}}var sL=Vve();function Vve(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=oL(t,e),t.unshift(e)},remove(e){var r;t=oL(t,e),(r=t[0])==null||r.resume()}}}function oL(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Hve(t){return t.filter(e=>e.tagName!=="A")}var Wve=LP["useId".toString()]||(()=>{}),Kve=0;function yn(t){const[e,r]=E.useState(Wve());return Gr(()=>{t||r(n=>n!=null?n:String(Kve++))},[t]),t||(e?"radix-".concat(e):"")}const Xve=["top","right","bottom","left"],Do=Math.min,Pi=Math.max,nx=Math.round,A0=Math.floor,au=t=>({x:t,y:t}),Yve={left:"right",right:"left",bottom:"top",top:"bottom"},qve={start:"end",end:"start"};function rD(t,e,r){return Pi(t,Do(e,r))}function $a(t,e){return typeof t=="function"?t(e):t}function ja(t){return t.split("-")[0]}function Bf(t){return t.split("-")[1]}function oI(t){return t==="x"?"y":"x"}function aI(t){return t==="y"?"height":"width"}function lu(t){return["top","bottom"].includes(ja(t))?"y":"x"}function lI(t){return oI(lu(t))}function Zve(t,e,r){r===void 0&&(r=!1);const n=Bf(t),s=lI(t),o=aI(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=ix(l)),[l,ix(l)]}function Qve(t){const e=ix(t);return[nD(t),e,nD(e)]}function nD(t){return t.replace(/start|end/g,e=>qve[e])}function Jve(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:l;default:return[]}}function eye(t,e,r,n){const s=Bf(t);let o=Jve(ja(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(nD)))),o}function ix(t){return t.replace(/left|right|bottom|top/g,e=>Yve[e])}function tye(t){return{top:0,right:0,bottom:0,left:0,...t}}function $9(t){return typeof t!="number"?tye(t):{top:t,right:t,bottom:t,left:t}}function sx(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function aL(t,e,r){let{reference:n,floating:s}=t;const o=lu(e),l=lI(e),a=aI(l),c=ja(e),d=o==="y",f=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let y;switch(c){case"top":y={x:f,y:n.y-s.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:g};break;case"left":y={x:n.x-s.width,y:g};break;default:y={x:n.x,y:n.y}}switch(Bf(e)){case"start":y[l]-=m*(r&&d?-1:1);break;case"end":y[l]+=m*(r&&d?-1:1);break}return y}const rye=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,a=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:g}=aL(d,n,c),m=n,y={},_=0;for(let u=0;u<a.length;u++){const{name:h,fn:p}=a[u],{x:v,y:x,data:w,reset:b}=await p({x:f,y:g,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:d,platform:l,elements:{reference:t,floating:e}});f=v!=null?v:f,g=x!=null?x:g,y={...y,[h]:{...y[h],...w}},b&&_<=50&&(_++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(d=b.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:f,y:g}=aL(d,m,c)),u=-1)}return{x:f,y:g,placement:m,strategy:s,middlewareData:y}};async function zm(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:m=!1,padding:y=0}=$a(e,t),_=$9(y),h=a[m?g==="floating"?"reference":"floating":g],p=sx(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(h)))==null||r?h:h.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),v=g==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},b=sx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(p.top-b.top+_.top)/w.y,bottom:(b.bottom-p.bottom+_.bottom)/w.y,left:(p.left-b.left+_.left)/w.x,right:(b.right-p.right+_.right)/w.x}}const nye=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:l,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=$a(t,e)||{};if(d==null)return{};const g=$9(f),m={x:r,y:n},y=lI(s),_=aI(y),u=await l.getDimensions(d),h=y==="y",p=h?"top":"left",v=h?"bottom":"right",x=h?"clientHeight":"clientWidth",w=o.reference[_]+o.reference[y]-m[y]-o.floating[_],b=m[y]-o.reference[y],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let C=S?S[x]:0;(!C||!await(l.isElement==null?void 0:l.isElement(S)))&&(C=a.floating[x]||o.floating[_]);const A=w/2-b/2,T=C/2-u[_]/2-1,P=Do(g[p],T),B=Do(g[v],T),D=P,R=C-u[_]-B,O=C/2-u[_]/2+A,k=rD(D,O,R),j=!c.arrow&&Bf(s)!=null&&O!==k&&o.reference[_]/2-(O<D?P:B)-u[_]/2<0,U=j?O<D?O-D:O-R:0;return{[y]:m[y]+U,data:{[y]:k,centerOffset:O-k-U,...j&&{alignmentOffset:U}},reset:j}}}),iye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:u=!0,...h}=$a(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=ja(s),v=lu(a),x=ja(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=m||(x||!u?[ix(a)]:Qve(a)),S=_!=="none";!m&&S&&b.push(...eye(a,u,_,w));const C=[a,...b],A=await zm(e,h),T=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&T.push(A[p]),g){const O=Zve(s,l,w);T.push(A[O[0]],A[O[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(O=>O<=0)){var B,D;const O=(((B=o.flip)==null?void 0:B.index)||0)+1,k=C[O];if(k)return{data:{index:O,overflows:P},reset:{placement:k}};let j=(D=P.filter(U=>U.overflows[0]<=0).sort((U,N)=>U.overflows[1]-N.overflows[1])[0])==null?void 0:D.placement;if(!j)switch(y){case"bestFit":{var R;const U=(R=P.filter(N=>{if(S){const L=lu(N.placement);return L===v||L==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((N,L)=>N[1]-L[1])[0])==null?void 0:R[0];U&&(j=U);break}case"initialPlacement":j=a;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function lL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uL(t){return Xve.some(e=>t[e]>=0)}const sye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=$a(t,e);switch(n){case"referenceHidden":{const o=await zm(e,{...s,elementContext:"reference"}),l=lL(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:uL(l)}}}case"escaped":{const o=await zm(e,{...s,altBoundary:!0}),l=lL(o,r.floating);return{data:{escapedOffsets:l,escaped:uL(l)}}}default:return{}}}}};async function oye(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=ja(r),a=Bf(r),c=lu(r)==="y",d=["left","top"].includes(l)?-1:1,f=o&&c?-1:1,g=$a(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),c?{x:y*f,y:m*d}:{x:m*d,y:y*f}}const aye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:a}=e,c=await oye(e,t);return l===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:l}}}}},lye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:h=>{let{x:p,y:v}=h;return{x:p,y:v}}},...c}=$a(t,e),d={x:r,y:n},f=await zm(e,c),g=lu(ja(s)),m=oI(g);let y=d[m],_=d[g];if(o){const h=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=y+f[h],x=y-f[p];y=rD(v,y,x)}if(l){const h=g==="y"?"top":"left",p=g==="y"?"bottom":"right",v=_+f[h],x=_-f[p];_=rD(v,_,x)}const u=a.fn({...e,[m]:y,[g]:_});return{...u,data:{x:u.x-r,y:u.y-n}}}}},uye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:l}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=$a(t,e),f={x:r,y:n},g=lu(s),m=oI(g);let y=f[m],_=f[g];const u=$a(a,e),h=typeof u=="number"?{mainAxis:u,crossAxis:0}:{mainAxis:0,crossAxis:0,...u};if(c){const x=m==="y"?"height":"width",w=o.reference[m]-o.floating[x]+h.mainAxis,b=o.reference[m]+o.reference[x]-h.mainAxis;y<w?y=w:y>b&&(y=b)}if(d){var p,v;const x=m==="y"?"width":"height",w=["top","left"].includes(ja(s)),b=o.reference[g]-o.floating[x]+(w&&((p=l.offset)==null?void 0:p[g])||0)+(w?0:h.crossAxis),S=o.reference[g]+o.reference[x]+(w?0:((v=l.offset)==null?void 0:v[g])||0)-(w?h.crossAxis:0);_<b?_=b:_>S&&(_=S)}return{[m]:y,[g]:_}}}},cye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:s,elements:o}=e,{apply:l=()=>{},...a}=$a(t,e),c=await zm(e,a),d=ja(r),f=Bf(r),g=lu(r)==="y",{width:m,height:y}=n.floating;let _,u;d==="top"||d==="bottom"?(_=d,u=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(u=d,_=f==="end"?"top":"bottom");const h=y-c.top-c.bottom,p=m-c.left-c.right,v=Do(y-c[_],h),x=Do(m-c[u],p),w=!e.middlewareData.shift;let b=v,S=x;if(g?S=f||w?Do(x,p):p:b=f||w?Do(v,h):h,w&&!f){const A=Pi(c.left,0),T=Pi(c.right,0),P=Pi(c.top,0),B=Pi(c.bottom,0);g?S=m-2*(A!==0||T!==0?A+T:Pi(c.left,c.right)):b=y-2*(P!==0||B!==0?P+B:Pi(c.top,c.bottom))}await l({...e,availableWidth:S,availableHeight:b});const C=await s.getDimensions(o.floating);return m!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}};function Qw(){return typeof window<"u"}function Mf(t){return j9(t)?(t.nodeName||"").toLowerCase():"#document"}function Ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qa(t){var e;return(e=(j9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function j9(t){return Qw()?t instanceof Node||t instanceof Ni(t).Node:!1}function Dn(t){return Qw()?t instanceof Element||t instanceof Ni(t).Element:!1}function $o(t){return Qw()?t instanceof HTMLElement||t instanceof Ni(t).HTMLElement:!1}function iD(t){return!Qw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ni(t).ShadowRoot}function qv(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function dye(t){return["table","td","th"].includes(Mf(t))}function Jw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(r){return!1}})}function uI(t){const e=cI(),r=Dn(t)?ro(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function hye(t){let e=uu(t);for(;$o(e)&&!lf(e);){if(uI(e))return e;if(Jw(e))return null;e=uu(e)}return null}function cI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lf(t){return["html","body","#document"].includes(Mf(t))}function ro(t){return Ni(t).getComputedStyle(t)}function eb(t){return Dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uu(t){if(Mf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iD(t)&&t.host||qa(t);return iD(e)?e.host:e}function z9(t){const e=uu(t);return lf(e)?t.ownerDocument?t.ownerDocument.body:t.body:$o(e)&&qv(e)?e:z9(e)}function Gm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=z9(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=Ni(s);if(o){const a=sD(l);return e.concat(l,l.visualViewport||[],qv(s)?s:[],a&&r?Gm(a):[])}return e.concat(s,Gm(s,[],r))}function sD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G9(t){const e=ro(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=$o(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,a=nx(r)!==o||nx(n)!==l;return a&&(r=o,n=l),{width:r,height:n,$:a}}function dI(t){return Dn(t)?t:t.contextElement}function Th(t){const e=dI(t);if(!$o(e))return au(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=G9(e);let l=(o?nx(r.width):r.width)/n,a=(o?nx(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const fye=au(0);function V9(t){const e=Ni(t);return!cI()||!e.visualViewport?fye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pye(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ni(t)?!1:e}function jc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=dI(t);let l=au(1);e&&(n?Dn(n)&&(l=Th(n)):l=Th(t));const a=pye(o,r,n)?V9(o):au(0);let c=(s.left+a.x)/l.x,d=(s.top+a.y)/l.y,f=s.width/l.x,g=s.height/l.y;if(o){const m=Ni(o),y=n&&Dn(n)?Ni(n):n;let _=m,u=sD(_);for(;u&&n&&y!==_;){const h=Th(u),p=u.getBoundingClientRect(),v=ro(u),x=p.left+(u.clientLeft+parseFloat(v.paddingLeft))*h.x,w=p.top+(u.clientTop+parseFloat(v.paddingTop))*h.y;c*=h.x,d*=h.y,f*=h.x,g*=h.y,c+=x,d+=w,_=Ni(u),u=sD(_)}}return sx({width:f,height:g,x:c,y:d})}function gye(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=qa(n),a=e?Jw(e.floating):!1;if(n===l||a&&o)return r;let c={scrollLeft:0,scrollTop:0},d=au(1);const f=au(0),g=$o(n);if((g||!g&&!o)&&((Mf(n)!=="body"||qv(l))&&(c=eb(n)),$o(n))){const m=jc(n);d=Th(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x,y:r.y*d.y-c.scrollTop*d.y+f.y}}function mye(t){return Array.from(t.getClientRects())}function H9(t){return jc(qa(t)).left+eb(t).scrollLeft}function vye(t){const e=qa(t),r=eb(t),n=t.ownerDocument.body,s=Pi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Pi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+H9(t);const a=-r.scrollTop;return ro(n).direction==="rtl"&&(l+=Pi(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:a}}function yye(t,e){const r=Ni(t),n=qa(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,a=0,c=0;if(s){o=s.width,l=s.height;const d=cI();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:l,x:a,y:c}}function _ye(t,e){const r=jc(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=$o(t)?Th(t):au(1),l=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:l,height:a,x:c,y:d}}function cL(t,e,r){let n;if(e==="viewport")n=yye(t,r);else if(e==="document")n=vye(qa(t));else if(Dn(e))n=_ye(e,r);else{const s=V9(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return sx(n)}function W9(t,e){const r=uu(t);return r===e||!Dn(r)||lf(r)?!1:ro(r).position==="fixed"||W9(r,e)}function xye(t,e){const r=e.get(t);if(r)return r;let n=Gm(t,[],!1).filter(a=>Dn(a)&&Mf(a)!=="body"),s=null;const o=ro(t).position==="fixed";let l=o?uu(t):t;for(;Dn(l)&&!lf(l);){const a=ro(l),c=uI(l);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qv(l)&&!c&&W9(t,l))?n=n.filter(f=>f!==l):s=a,l=uu(l)}return e.set(t,n),n}function wye(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Jw(e)?[]:xye(e,this._c):[].concat(r),n],a=l[0],c=l.reduce((d,f)=>{const g=cL(e,f,s);return d.top=Pi(g.top,d.top),d.right=Do(g.right,d.right),d.bottom=Do(g.bottom,d.bottom),d.left=Pi(g.left,d.left),d},cL(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bye(t){const{width:e,height:r}=G9(t);return{width:e,height:r}}function Eye(t,e,r){const n=$o(e),s=qa(e),o=r==="fixed",l=jc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=au(0);if(n||!n&&!o)if((Mf(e)!=="body"||qv(s))&&(a=eb(e)),n){const g=jc(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=H9(s));const d=l.left+a.scrollLeft-c.x,f=l.top+a.scrollTop-c.y;return{x:d,y:f,width:l.width,height:l.height}}function RS(t){return ro(t).position==="static"}function dL(t,e){return!$o(t)||ro(t).position==="fixed"?null:e?e(t):t.offsetParent}function K9(t,e){const r=Ni(t);if(Jw(t))return r;if(!$o(t)){let s=uu(t);for(;s&&!lf(s);){if(Dn(s)&&!RS(s))return s;s=uu(s)}return r}let n=dL(t,e);for(;n&&dye(n)&&RS(n);)n=dL(n,e);return n&&lf(n)&&RS(n)&&!uI(n)?r:n||hye(t)||r}const Sye=async function(t){const e=this.getOffsetParent||K9,r=this.getDimensions,n=await r(t.floating);return{reference:Eye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Cye(t){return ro(t).direction==="rtl"}const Aye={convertOffsetParentRelativeRectToViewportRelativeRect:gye,getDocumentElement:qa,getClippingRect:wye,getOffsetParent:K9,getElementRects:Sye,getClientRects:mye,getDimensions:bye,getScale:Th,isElement:Dn,isRTL:Cye};function Tye(t,e){let r=null,n;const s=qa(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function l(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:d,top:f,width:g,height:m}=t.getBoundingClientRect();if(a||e(),!g||!m)return;const y=A0(f),_=A0(s.clientWidth-(d+g)),u=A0(s.clientHeight-(f+m)),h=A0(d),v={rootMargin:-y+"px "+-_+"px "+-u+"px "+-h+"px",threshold:Pi(0,Do(1,c))||1};let x=!0;function w(b){const S=b[0].intersectionRatio;if(S!==c){if(!x)return l();S?l(!1,S):n=setTimeout(()=>{l(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch(b){r=new IntersectionObserver(w,v)}r.observe(t)}return l(!0),o}function X9(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=dI(t),f=s||o?[...d?Gm(d):[],...Gm(e)]:[];f.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const g=d&&a?Tye(d,r):null;let m=-1,y=null;l&&(y=new ResizeObserver(p=>{let[v]=p;v&&v.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let _,u=c?jc(t):null;c&&h();function h(){const p=jc(t);u&&(p.x!==u.x||p.y!==u.y||p.width!==u.width||p.height!==u.height)&&r(),u=p,_=requestAnimationFrame(h)}return r(),()=>{var p;f.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),g==null||g(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const Dye=aye,Pye=lye,Rye=iye,Iye=cye,Oye=sye,hL=nye,Bye=uye,Mye=(t,e,r)=>{const n=new Map,s={platform:Aye,...r},o={...s.platform,_c:n};return rye(t,e,{...s,platform:o})};var I_=typeof document<"u"?E.useLayoutEffect:E.useEffect;function ox(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ox(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!ox(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Y9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fL(t,e){const r=Y9(t);return Math.round(e*r)/r}function IS(t){const e=E.useRef(t);return I_(()=>{e.current=t}),e}function q9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[f,g]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=E.useState(n);ox(m,n)||y(n);const[_,u]=E.useState(null),[h,p]=E.useState(null),v=E.useCallback(N=>{N!==S.current&&(S.current=N,u(N))},[]),x=E.useCallback(N=>{N!==C.current&&(C.current=N,p(N))},[]),w=o||_,b=l||h,S=E.useRef(null),C=E.useRef(null),A=E.useRef(f),T=c!=null,P=IS(c),B=IS(s),D=IS(d),R=E.useCallback(()=>{if(!S.current||!C.current)return;const N={placement:e,strategy:r,middleware:m};B.current&&(N.platform=B.current),Mye(S.current,C.current,N).then(L=>{const H={...L,isPositioned:D.current!==!1};O.current&&!ox(A.current,H)&&(A.current=H,Ka.flushSync(()=>{g(H)}))})},[m,e,r,B,D]);I_(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g(N=>({...N,isPositioned:!1})))},[d]);const O=E.useRef(!1);I_(()=>(O.current=!0,()=>{O.current=!1}),[]),I_(()=>{if(w&&(S.current=w),b&&(C.current=b),w&&b){if(P.current)return P.current(w,b,R);R()}},[w,b,R,P,T]);const k=E.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:x}),[v,x]),j=E.useMemo(()=>({reference:w,floating:b}),[w,b]),U=E.useMemo(()=>{const N={position:r,left:0,top:0};if(!j.floating)return N;const L=fL(j.floating,f.x),H=fL(j.floating,f.y);return a?{...N,transform:"translate("+L+"px, "+H+"px)",...Y9(j.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:H}},[r,a,j.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:R,refs:k,elements:j,floatingStyles:U}),[f,R,k,j,U])}const Fye=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?hL({element:n.current,padding:s}).fn(r):{}:n?hL({element:n,padding:s}).fn(r):{}}}},kye=(t,e)=>({...Dye(t),options:[t,e]}),Lye=(t,e)=>({...Pye(t),options:[t,e]}),Nye=(t,e)=>({...Bye(t),options:[t,e]}),Uye=(t,e)=>({...Rye(t),options:[t,e]}),$ye=(t,e)=>({...Iye(t),options:[t,e]}),jye=(t,e)=>({...Oye(t),options:[t,e]}),zye=(t,e)=>({...Fye(t),options:[t,e]});var Gye="Arrow",Z9=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return I.jsx(Ae.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z9.displayName=Gye;var Vye=Z9;function hI(t){const[e,r]=E.useState(void 0);return Gr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,a;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,a=d.blockSize}else l=t.offsetWidth,a=t.offsetHeight;r({width:l,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var fI="Popper",[Q9,Ko]=yi(fI),[Hye,J9]=Q9(fI),eG=t=>{const{__scopePopper:e,children:r}=t,[n,s]=E.useState(null);return I.jsx(Hye,{scope:e,anchor:n,onAnchorChange:s,children:r})};eG.displayName=fI;var tG="PopperAnchor",rG=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=J9(tG,r),l=E.useRef(null),a=Xe(e,l);return E.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:I.jsx(Ae.div,{...s,ref:a})});rG.displayName=tG;var pI="PopperContent",[Wye,Kye]=Q9(pI),nG=E.forwardRef((t,e)=>{var Y,Z,Q,pe,ae,Ce,Re,Ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:_,...u}=t,h=J9(pI,r),[p,v]=E.useState(null),x=Xe(e,tt=>v(tt)),[w,b]=E.useState(null),S=hI(w),C=(Y=S==null?void 0:S.width)!=null?Y:0,A=(Z=S==null?void 0:S.height)!=null?Z:0,T=n+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(d)?d:[d],D=B.length>0,R={padding:P,boundary:B.filter(Yye),altBoundary:D},{refs:O,floatingStyles:k,placement:j,isPositioned:U,middlewareData:N}=q9({strategy:"fixed",placement:T,whileElementsMounted:(...tt)=>X9(...tt,{animationFrame:y==="always"}),elements:{reference:h.anchor},middleware:[kye({mainAxis:s+A,alignmentAxis:l}),c&&Lye({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Nye():void 0,...R}),c&&Uye({...R}),$ye({...R,apply:({elements:tt,rects:dt,availableWidth:wt,availableHeight:$})=>{const{width:q,height:J}=dt.reference,ve=tt.floating.style;ve.setProperty("--radix-popper-available-width","".concat(wt,"px")),ve.setProperty("--radix-popper-available-height","".concat($,"px")),ve.setProperty("--radix-popper-anchor-width","".concat(q,"px")),ve.setProperty("--radix-popper-anchor-height","".concat(J,"px"))}}),w&&zye({element:w,padding:a}),qye({arrowWidth:C,arrowHeight:A}),m&&jye({strategy:"referenceHidden",...R})]}),[L,H]=oG(j),K=Ut(_);Gr(()=>{U&&(K==null||K())},[U,K]);const te=(Q=N.arrow)==null?void 0:Q.x,le=(pe=N.arrow)==null?void 0:pe.y,ne=((ae=N.arrow)==null?void 0:ae.centerOffset)!==0,[fe,z]=E.useState();return Gr(()=>{p&&z(window.getComputedStyle(p).zIndex)},[p]),I.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:U?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ce=N.transformOrigin)==null?void 0:Ce.x,(Re=N.transformOrigin)==null?void 0:Re.y].join(" "),...((Ie=N.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:I.jsx(Wye,{scope:r,placedSide:L,onArrowChange:b,arrowX:te,arrowY:le,shouldHideArrow:ne,children:I.jsx(Ae.div,{"data-side":L,"data-align":H,...u,ref:x,style:{...u.style,animation:U?void 0:"none"}})})})});nG.displayName=pI;var iG="PopperArrow",Xye={top:"bottom",right:"left",bottom:"top",left:"right"},sG=E.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=Kye(iG,n),l=Xye[o.placedSide];return I.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:I.jsx(Vye,{...s,ref:r,style:{...s.style,display:"block"}})})});sG.displayName=iG;function Yye(t){return t!==null}var qye=t=>({name:"transformOrigin",options:t,fn(e){var h,p,v,x,w;const{placement:r,rects:n,middlewareData:s}=e,l=((h=s.arrow)==null?void 0:h.centerOffset)!==0,a=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,f]=oG(r),g={start:"0%",center:"50%",end:"100%"}[f],m=((v=(p=s.arrow)==null?void 0:p.x)!=null?v:0)+a/2,y=((w=(x=s.arrow)==null?void 0:x.y)!=null?w:0)+c/2;let _="",u="";return d==="bottom"?(_=l?g:"".concat(m,"px"),u="".concat(-c,"px")):d==="top"?(_=l?g:"".concat(m,"px"),u="".concat(n.floating.height+c,"px")):d==="right"?(_="".concat(-c,"px"),u=l?g:"".concat(y,"px")):d==="left"&&(_="".concat(n.floating.width+c,"px"),u=l?g:"".concat(y,"px")),{data:{x:_,y:u}}}});function oG(t){const[e,r="center"]=t.split("-");return[e,r]}var Ff=eG,kf=rG,Zv=nG,Qv=sG,Zye="Portal",Jv=E.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=E.useState(!1);Gr(()=>o(!0),[]);const l=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?D2.createPortal(I.jsx(Ae.div,{...n,ref:e}),l):null});Jv.displayName=Zye;var OS="rovingFocusGroup.onEntryFocus",Qye={bubbles:!1,cancelable:!0},tb="RovingFocusGroup",[oD,aG,Jye]=id(tb),[e0e,Ps]=yi(tb,[Jye]),[t0e,r0e]=e0e(tb),lG=E.forwardRef((t,e)=>I.jsx(oD.Provider,{scope:t.__scopeRovingFocusGroup,children:I.jsx(oD.Slot,{scope:t.__scopeRovingFocusGroup,children:I.jsx(n0e,{...t,ref:e})})}));lG.displayName=tb;var n0e=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...g}=t,m=E.useRef(null),y=Xe(e,m),_=Ho(o),[u=null,h]=Mn({prop:l,defaultProp:a,onChange:c}),[p,v]=E.useState(!1),x=Ut(d),w=aG(r),b=E.useRef(!1),[S,C]=E.useState(0);return E.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(OS,x),()=>A.removeEventListener(OS,x)},[x]),I.jsx(t0e,{scope:r,orientation:n,dir:_,loop:s,currentTabStopId:u,onItemFocus:E.useCallback(A=>h(A),[h]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(A=>A+1),[]),onFocusableItemRemove:E.useCallback(()=>C(A=>A-1),[]),children:I.jsx(Ae.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{b.current=!0}),onFocus:ie(t.onFocus,A=>{const T=!b.current;if(A.target===A.currentTarget&&T&&!p){const P=new CustomEvent(OS,Qye);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const B=w().filter(j=>j.focusable),D=B.find(j=>j.active),R=B.find(j=>j.id===u),k=[D,R,...B].filter(Boolean).map(j=>j.ref.current);dG(k,f)}}b.current=!1}),onBlur:ie(t.onBlur,()=>v(!1))})})}),uG="RovingFocusGroupItem",cG=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...l}=t,a=yn(),c=o||a,d=r0e(uG,r),f=d.currentTabStopId===c,g=aG(r),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return E.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),I.jsx(oD.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:I.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ie(t.onMouseDown,_=>{n?d.onItemFocus(c):_.preventDefault()}),onFocus:ie(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ie(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const u=o0e(_,d.orientation,d.dir);if(u!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let p=g().filter(v=>v.focusable).map(v=>v.ref.current);if(u==="last")p.reverse();else if(u==="prev"||u==="next"){u==="prev"&&p.reverse();const v=p.indexOf(_.currentTarget);p=d.loop?a0e(p,v+1):p.slice(v+1)}setTimeout(()=>dG(p))}})})})});cG.displayName=uG;var i0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function o0e(t,e,r){const n=s0e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return i0e[n]}function dG(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function a0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Lf=lG,sd=cG,l0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Td=new WeakMap,T0=new WeakMap,D0={},BS=0,hG=function(t){return t&&(t.host||hG(t.parentNode))},u0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=hG(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},c0e=function(t,e,r,n){var s=u0e(e,Array.isArray(t)?t:[t]);D0[r]||(D0[r]=new WeakMap);var o=D0[r],l=[],a=new Set,c=new Set(s),d=function(g){!g||a.has(g)||(a.add(g),d(g.parentNode))};s.forEach(d);var f=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(m){if(a.has(m))f(m);else{var y=m.getAttribute(n),_=y!==null&&y!=="false",u=(Td.get(m)||0)+1,h=(o.get(m)||0)+1;Td.set(m,u),o.set(m,h),l.push(m),u===1&&_&&T0.set(m,!0),h===1&&m.setAttribute(r,"true"),_||m.setAttribute(n,"true")}})};return f(e),a.clear(),BS++,function(){l.forEach(function(g){var m=Td.get(g)-1,y=o.get(g)-1;Td.set(g,m),o.set(g,y),m||(T0.has(g)||g.removeAttribute(n),T0.delete(g)),y||g.removeAttribute(r)}),BS--,BS||(Td=new WeakMap,Td=new WeakMap,T0=new WeakMap,D0={})}},ey=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||l0e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),c0e(n,s,r,"aria-hidden")):function(){return null}},An=function(){return An=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},An.apply(this,arguments)};function gI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function fG(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Rg="right-scroll-bar-position",Ig="width-before-scroll-bar",d0e="with-scroll-bars-hidden",h0e="--removed-body-scroll-bar-size";function f0e(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function p0e(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}function pG(t,e){return p0e(e||null,function(r){return t.forEach(function(n){return f0e(n,r)})})}function g0e(t){return t}function m0e(t,e){e===void 0&&(e=g0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var l=e(o,n);return r.push(l),function(){r=r.filter(function(a){return a!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var a=r;r=[],a.forEach(o),l=r}var c=function(){var f=l;l=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){l.push(f),d()},filter:function(f){return l=l.filter(f),r}}}};return s}function gG(t){t===void 0&&(t={});var e=m0e(null);return e.options=An({async:!0,ssr:!1},t),e}var mG=function(t){var e=t.sideCar,r=gI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,An({},r))};mG.isSideCarExport=!0;function vG(t,e){return t.useMedium(e),mG}var yG=gG(),MS=function(){},rb=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:MS,onWheelCapture:MS,onTouchMoveCapture:MS}),s=n[0],o=n[1],l=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,g=t.shards,m=t.sideCar,y=t.noIsolation,_=t.inert,u=t.allowPinchZoom,h=t.as,p=h===void 0?"div":h,v=t.gapMode,x=gI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,b=pG([r,e]),S=An(An({},x),s);return E.createElement(E.Fragment,null,f&&E.createElement(w,{sideCar:yG,removeScrollBar:d,shards:g,noIsolation:y,inert:_,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),l?E.cloneElement(E.Children.only(a),An(An({},S),{ref:b})):E.createElement(p,An({},S,{className:c,ref:b}),a))});rb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rb.classNames={fullWidth:Ig,zeroRight:Rg};var pL,v0e=function(){if(pL)return pL;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v0e();return e&&t.setAttribute("nonce",e),t}function _0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var w0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=y0e())&&(_0e(e,r),x0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},b0e=function(){var t=w0e();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},mI=function(){var t=b0e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},E0e={left:0,top:0,right:0,gap:0},FS=function(t){return parseInt(t||"",10)||0},S0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[FS(r),FS(n),FS(s)]},C0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E0e;var e=S0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},A0e=mI(),Dh="data-scroll-locked",T0e=function(t,e,r,n){var s=t.left,o=t.top,l=t.right,a=t.gap;return r===void 0&&(r="margin"),"\n  .".concat(d0e," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(Dh,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Rg," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(Ig," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(Rg," .").concat(Rg," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Ig," .").concat(Ig," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Dh,"] {\n    ").concat(h0e,": ").concat(a,"px;\n  }\n")},gL=function(){var t=parseInt(document.body.getAttribute(Dh)||"0",10);return isFinite(t)?t:0},D0e=function(){E.useEffect(function(){return document.body.setAttribute(Dh,(gL()+1).toString()),function(){var t=gL()-1;t<=0?document.body.removeAttribute(Dh):document.body.setAttribute(Dh,t.toString())}},[])},_G=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;D0e();var o=E.useMemo(function(){return C0e(s)},[s]);return E.createElement(A0e,{styles:T0e(o,!e,s,r?"":"!important")})},aD=!1;if(typeof window<"u")try{var P0=Object.defineProperty({},"passive",{get:function(){return aD=!0,!0}});window.addEventListener("test",P0,P0),window.removeEventListener("test",P0,P0)}catch(t){aD=!1}var Dd=aD?{passive:!1}:!1,P0e=function(t){return t.tagName==="TEXTAREA"},xG=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!P0e(t)&&r[e]==="visible")},R0e=function(t){return xG(t,"overflowY")},I0e=function(t){return xG(t,"overflowX")},mL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wG(t,n);if(s){var o=bG(t,n),l=o[1],a=o[2];if(l>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},O0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},B0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},wG=function(t,e){return t==="v"?R0e(e):I0e(e)},bG=function(t,e){return t==="v"?O0e(e):B0e(e)},M0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},F0e=function(t,e,r,n,s){var o=M0e(t,window.getComputedStyle(e).direction),l=o*n,a=r.target,c=e.contains(a),d=!1,f=l>0,g=0,m=0;do{var y=bG(t,a),_=y[0],u=y[1],h=y[2],p=u-h-o*_;(_||p)&&wG(t,a)&&(g+=p,m+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(s&&Math.abs(g)<1||!s&&l>g)||!f&&(s&&Math.abs(m)<1||!s&&-l>m))&&(d=!0),d},R0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vL=function(t){return[t.deltaX,t.deltaY]},yL=function(t){return t&&"current"in t?t.current:t},k0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L0e=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},N0e=0,Pd=[];function U0e(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(N0e++)[0],o=E.useState(mI)[0],l=E.useRef(t);E.useEffect(function(){l.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=fG([t.lockRef.current],(t.shards||[]).map(yL),!0).filter(Boolean);return u.forEach(function(h){return h.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(u,h){if("touches"in u&&u.touches.length===2)return!l.current.allowPinchZoom;var p=R0(u),v=r.current,x="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],b,S=u.target,C=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in u&&C==="h"&&S.type==="range")return!1;var A=mL(C,S);if(!A)return!0;if(A?b=C:(b=C==="v"?"h":"v",A=mL(C,S)),!A)return!1;if(!n.current&&"changedTouches"in u&&(x||w)&&(n.current=b),!b)return!0;var T=n.current||b;return F0e(T,h,u,T==="h"?x:w,!0)},[]),c=E.useCallback(function(u){var h=u;if(!(!Pd.length||Pd[Pd.length-1]!==o)){var p="deltaY"in h?vL(h):R0(h),v=e.current.filter(function(b){return b.name===h.type&&(b.target===h.target||h.target===b.shadowParent)&&k0e(b.delta,p)})[0];if(v&&v.should){h.cancelable&&h.preventDefault();return}if(!v){var x=(l.current.shards||[]).map(yL).filter(Boolean).filter(function(b){return b.contains(h.target)}),w=x.length>0?a(h,x[0]):!l.current.noIsolation;w&&h.cancelable&&h.preventDefault()}}},[]),d=E.useCallback(function(u,h,p,v){var x={name:u,delta:h,target:p,should:v,shadowParent:$0e(p)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(w){return w!==x})},1)},[]),f=E.useCallback(function(u){r.current=R0(u),n.current=void 0},[]),g=E.useCallback(function(u){d(u.type,vL(u),u.target,a(u,t.lockRef.current))},[]),m=E.useCallback(function(u){d(u.type,R0(u),u.target,a(u,t.lockRef.current))},[]);E.useEffect(function(){return Pd.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Dd),document.addEventListener("touchmove",c,Dd),document.addEventListener("touchstart",f,Dd),function(){Pd=Pd.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,Dd),document.removeEventListener("touchmove",c,Dd),document.removeEventListener("touchstart",f,Dd)}},[]);var y=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(o,{styles:L0e(s)}):null,y?E.createElement(_G,{gapMode:t.gapMode}):null)}function $0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const j0e=vG(yG,U0e);var EG=E.forwardRef(function(t,e){return E.createElement(rb,An({},t,{ref:e,sideCar:j0e}))});EG.classNames=rb.classNames;const vI=EG;var lD=["Enter"," "],z0e=["ArrowDown","PageUp","Home"],SG=["ArrowUp","PageDown","End"],G0e=[...z0e,...SG],V0e={ltr:[...lD,"ArrowRight"],rtl:[...lD,"ArrowLeft"]},H0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ty="Menu",[Vm,W0e,K0e]=id(ty),[od,CG]=yi(ty,[K0e,Ko,Ps]),ry=Ko(),AG=Ps(),[TG,Tu]=od(ty),[X0e,ny]=od(ty),DG=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:l=!0}=t,a=ry(e),[c,d]=E.useState(null),f=E.useRef(!1),g=Ut(o),m=Ho(s);return E.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),I.jsx(Ff,{...a,children:I.jsx(TG,{scope:e,open:r,onOpenChange:g,content:c,onContentChange:d,children:I.jsx(X0e,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:f,dir:m,modal:l,children:n})})})};DG.displayName=ty;var Y0e="MenuAnchor",yI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=ry(r);return I.jsx(kf,{...s,...n,ref:e})});yI.displayName=Y0e;var _I="MenuPortal",[q0e,PG]=od(_I,{forceMount:void 0}),RG=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Tu(_I,e);return I.jsx(q0e,{scope:e,forceMount:r,children:I.jsx(vi,{present:r||o.open,children:I.jsx(Jv,{asChild:!0,container:s,children:n})})})};RG.displayName=_I;var ws="MenuContent",[Z0e,xI]=od(ws),IG=E.forwardRef((t,e)=>{const r=PG(ws,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Tu(ws,t.__scopeMenu),l=ny(ws,t.__scopeMenu);return I.jsx(Vm.Provider,{scope:t.__scopeMenu,children:I.jsx(vi,{present:n||o.open,children:I.jsx(Vm.Slot,{scope:t.__scopeMenu,children:l.modal?I.jsx(Q0e,{...s,ref:e}):I.jsx(J0e,{...s,ref:e})})})})}),Q0e=E.forwardRef((t,e)=>{const r=Tu(ws,t.__scopeMenu),n=E.useRef(null),s=Xe(e,n);return E.useEffect(()=>{const o=n.current;if(o)return ey(o)},[]),I.jsx(wI,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),J0e=E.forwardRef((t,e)=>{const r=Tu(ws,t.__scopeMenu);return I.jsx(wI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),wI=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:y,disableOutsideScroll:_,...u}=t,h=Tu(ws,r),p=ny(ws,r),v=ry(r),x=AG(r),w=W0e(r),[b,S]=E.useState(null),C=E.useRef(null),A=Xe(e,C,h.onContentChange),T=E.useRef(0),P=E.useRef(""),B=E.useRef(0),D=E.useRef(null),R=E.useRef("right"),O=E.useRef(0),k=_?vI:E.Fragment,j=_?{as:Uo,allowPinchZoom:!0}:void 0,U=L=>{var Y,Z;const H=P.current+L,K=w().filter(Q=>!Q.disabled),te=document.activeElement,le=(Y=K.find(Q=>Q.ref.current===te))==null?void 0:Y.textValue,ne=K.map(Q=>Q.textValue),fe=d_e(ne,H,le),z=(Z=K.find(Q=>Q.textValue===fe))==null?void 0:Z.ref.current;(function Q(pe){P.current=pe,window.clearTimeout(T.current),pe!==""&&(T.current=window.setTimeout(()=>Q(""),1e3))})(H),z&&setTimeout(()=>z.focus())};E.useEffect(()=>()=>window.clearTimeout(T.current),[]),sI();const N=E.useCallback(L=>{var K,te;return R.current===((K=D.current)==null?void 0:K.side)&&f_e(L,(te=D.current)==null?void 0:te.area)},[]);return I.jsx(Z0e,{scope:r,searchRef:P,onItemEnter:E.useCallback(L=>{N(L)&&L.preventDefault()},[N]),onItemLeave:E.useCallback(L=>{var H;N(L)||((H=C.current)==null||H.focus(),S(null))},[N]),onTriggerLeave:E.useCallback(L=>{N(L)&&L.preventDefault()},[N]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(L=>{D.current=L},[]),children:I.jsx(k,{...j,children:I.jsx(Of,{asChild:!0,trapped:s,onMountAutoFocus:ie(o,L=>{var H;L.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:I.jsx(Yv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:y,children:I.jsx(Lf,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:ie(c,L=>{p.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(Zv,{role:"menu","aria-orientation":"vertical","data-state":XG(h.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:A,style:{outline:"none",...u.style},onKeyDown:ie(u.onKeyDown,L=>{const K=L.target.closest("[data-radix-menu-content]")===L.currentTarget,te=L.ctrlKey||L.altKey||L.metaKey,le=L.key.length===1;K&&(L.key==="Tab"&&L.preventDefault(),!te&&le&&U(L.key));const ne=C.current;if(L.target!==ne||!G0e.includes(L.key))return;L.preventDefault();const z=w().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);SG.includes(L.key)&&z.reverse(),u_e(z)}),onBlur:ie(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:ie(t.onPointerMove,Hm(L=>{const H=L.target,K=O.current!==L.clientX;if(L.currentTarget.contains(H)&&K){const te=L.clientX>O.current?"right":"left";R.current=te,O.current=L.clientX}}))})})})})})})});IG.displayName=ws;var e_e="MenuGroup",bI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{role:"group",...n,ref:e})});bI.displayName=e_e;var t_e="MenuLabel",OG=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{...n,ref:e})});OG.displayName=t_e;var ax="MenuItem",_L="menu.itemSelect",nb=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),l=ny(ax,t.__scopeMenu),a=xI(ax,t.__scopeMenu),c=Xe(e,o),d=E.useRef(!1),f=()=>{const g=o.current;if(!r&&g){const m=new CustomEvent(_L,{bubbles:!0,cancelable:!0});g.addEventListener(_L,y=>n==null?void 0:n(y),{once:!0}),Xv(g,m),m.defaultPrevented?d.current=!1:l.onClose()}};return I.jsx(BG,{...s,ref:c,disabled:r,onClick:ie(t.onClick,f),onPointerDown:g=>{var m;(m=t.onPointerDown)==null||m.call(t,g),d.current=!0},onPointerUp:ie(t.onPointerUp,g=>{var m;d.current||(m=g.currentTarget)==null||m.click()}),onKeyDown:ie(t.onKeyDown,g=>{const m=a.searchRef.current!=="";r||m&&g.key===" "||lD.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});nb.displayName=ax;var BG=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,l=xI(ax,r),a=AG(r),c=E.useRef(null),d=Xe(e,c),[f,g]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{var u;const _=c.current;_&&y(((u=_.textContent)!=null?u:"").trim())},[o.children]),I.jsx(Vm.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:m,children:I.jsx(sd,{asChild:!0,...a,focusable:!n,children:I.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:ie(t.onPointerMove,Hm(_=>{n?l.onItemLeave(_):(l.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Hm(_=>l.onItemLeave(_))),onFocus:ie(t.onFocus,()=>g(!0)),onBlur:ie(t.onBlur,()=>g(!1))})})})}),r_e="MenuCheckboxItem",MG=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return I.jsx(UG,{scope:t.__scopeMenu,checked:r,children:I.jsx(nb,{role:"menuitemcheckbox","aria-checked":lx(r)?"mixed":r,...s,ref:e,"data-state":CI(r),onSelect:ie(s.onSelect,()=>n==null?void 0:n(lx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});MG.displayName=r_e;var FG="MenuRadioGroup",[n_e,i_e]=od(FG,{value:void 0,onValueChange:()=>{}}),kG=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Ut(n);return I.jsx(n_e,{scope:t.__scopeMenu,value:r,onValueChange:o,children:I.jsx(bI,{...s,ref:e})})});kG.displayName=FG;var LG="MenuRadioItem",NG=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=i_e(LG,t.__scopeMenu),o=r===s.value;return I.jsx(UG,{scope:t.__scopeMenu,checked:o,children:I.jsx(nb,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":CI(o),onSelect:ie(n.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,r)},{checkForDefaultPrevented:!1})})})});NG.displayName=LG;var EI="MenuItemIndicator",[UG,s_e]=od(EI,{checked:!1}),$G=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=s_e(EI,r);return I.jsx(vi,{present:n||lx(o.checked)||o.checked===!0,children:I.jsx(Ae.span,{...s,ref:e,"data-state":CI(o.checked)})})});$G.displayName=EI;var o_e="MenuSeparator",jG=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});jG.displayName=o_e;var a_e="MenuArrow",zG=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=ry(r);return I.jsx(Qv,{...s,...n,ref:e})});zG.displayName=a_e;var SI="MenuSub",[l_e,GG]=od(SI),VG=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:s}=t,o=Tu(SI,e),l=ry(e),[a,c]=E.useState(null),[d,f]=E.useState(null),g=Ut(s);return E.useEffect(()=>(o.open===!1&&g(!1),()=>g(!1)),[o.open,g]),I.jsx(Ff,{...l,children:I.jsx(TG,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:f,children:I.jsx(l_e,{scope:e,contentId:yn(),triggerId:yn(),trigger:a,onTriggerChange:c,children:r})})})};VG.displayName=SI;var tg="MenuSubTrigger",HG=E.forwardRef((t,e)=>{const r=Tu(tg,t.__scopeMenu),n=ny(tg,t.__scopeMenu),s=GG(tg,t.__scopeMenu),o=xI(tg,t.__scopeMenu),l=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},f=E.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return E.useEffect(()=>f,[f]),E.useEffect(()=>{const g=a.current;return()=>{window.clearTimeout(g),c(null)}},[a,c]),I.jsx(yI,{asChild:!0,...d,children:I.jsx(BG,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":XG(r.open),...t,ref:Kv(e,s.onTriggerChange),onClick:g=>{var m;(m=t.onClick)==null||m.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Hm(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:ie(t.onPointerLeave,Hm(g=>{var y,_;f();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const u=(_=r.content)==null?void 0:_.dataset.side,h=u==="right",p=h?-5:5,v=m[h?"left":"right"],x=m[h?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+p,y:g.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:u}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,g=>{var y;const m=o.searchRef.current!=="";t.disabled||m&&g.key===" "||V0e[n.dir].includes(g.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),g.preventDefault())})})})});HG.displayName=tg;var WG="MenuSubContent",KG=E.forwardRef((t,e)=>{const r=PG(ws,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Tu(ws,t.__scopeMenu),l=ny(ws,t.__scopeMenu),a=GG(WG,t.__scopeMenu),c=E.useRef(null),d=Xe(e,c);return I.jsx(Vm.Provider,{scope:t.__scopeMenu,children:I.jsx(vi,{present:n||o.open,children:I.jsx(Vm.Slot,{scope:t.__scopeMenu,children:I.jsx(wI,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var g;l.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ie(t.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{var y;const g=f.currentTarget.contains(f.target),m=H0e[l.dir].includes(f.key);g&&m&&(o.onOpenChange(!1),(y=a.trigger)==null||y.focus(),f.preventDefault())})})})})})});KG.displayName=WG;function XG(t){return t?"open":"closed"}function lx(t){return t==="indeterminate"}function CI(t){return lx(t)?"indeterminate":t?"checked":"unchecked"}function u_e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function c_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function d_e(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=c_e(t,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function h_e(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const a=e[o].x,c=e[o].y,d=e[l].x,f=e[l].y;c>n!=f>n&&r<(d-a)*(n-c)/(f-c)+a&&(s=!s)}return s}function f_e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return h_e(r,e)}function Hm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var p_e=DG,g_e=yI,m_e=RG,v_e=IG,y_e=bI,__e=OG,x_e=nb,w_e=MG,b_e=kG,E_e=NG,S_e=$G,C_e=jG,A_e=zG,T_e=VG,D_e=HG,P_e=KG,AI="DropdownMenu",[R_e,AHe]=yi(AI,[CG]),kn=CG(),[I_e,YG]=R_e(AI),qG=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:l,modal:a=!0}=t,c=kn(e),d=E.useRef(null),[f=!1,g]=Mn({prop:s,defaultProp:o,onChange:l});return I.jsx(I_e,{scope:e,triggerId:yn(),triggerRef:d,contentId:yn(),open:f,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(m=>!m),[g]),modal:a,children:I.jsx(p_e,{...c,open:f,onOpenChange:g,dir:n,modal:a,children:r})})};qG.displayName=AI;var ZG="DropdownMenuTrigger",QG=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=YG(ZG,r),l=kn(r);return I.jsx(g_e,{asChild:!0,...l,children:I.jsx(Ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Kv(e,o.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});QG.displayName=ZG;var O_e="DropdownMenuPortal",JG=t=>{const{__scopeDropdownMenu:e,...r}=t,n=kn(e);return I.jsx(m_e,{...n,...r})};JG.displayName=O_e;var eV="DropdownMenuContent",tV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=YG(eV,r),o=kn(r),l=E.useRef(!1);return I.jsx(v_e,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var c;l.current||(c=s.triggerRef.current)==null||c.focus(),l.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tV.displayName=eV;var B_e="DropdownMenuGroup",M_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(y_e,{...s,...n,ref:e})});M_e.displayName=B_e;var F_e="DropdownMenuLabel",rV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(__e,{...s,...n,ref:e})});rV.displayName=F_e;var k_e="DropdownMenuItem",nV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(x_e,{...s,...n,ref:e})});nV.displayName=k_e;var L_e="DropdownMenuCheckboxItem",iV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(w_e,{...s,...n,ref:e})});iV.displayName=L_e;var N_e="DropdownMenuRadioGroup",U_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(b_e,{...s,...n,ref:e})});U_e.displayName=N_e;var $_e="DropdownMenuRadioItem",sV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(E_e,{...s,...n,ref:e})});sV.displayName=$_e;var j_e="DropdownMenuItemIndicator",oV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(S_e,{...s,...n,ref:e})});oV.displayName=j_e;var z_e="DropdownMenuSeparator",aV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(C_e,{...s,...n,ref:e})});aV.displayName=z_e;var G_e="DropdownMenuArrow",V_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(A_e,{...s,...n,ref:e})});V_e.displayName=G_e;var H_e=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:s,defaultOpen:o}=t,l=kn(e),[a=!1,c]=Mn({prop:n,defaultProp:o,onChange:s});return I.jsx(T_e,{...l,open:a,onOpenChange:c,children:r})},W_e="DropdownMenuSubTrigger",lV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(D_e,{...s,...n,ref:e})});lV.displayName=W_e;var K_e="DropdownMenuSubContent",uV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=kn(r);return I.jsx(P_e,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uV.displayName=K_e;var THe=qG,DHe=QG,PHe=JG,RHe=tV,IHe=rV,OHe=nV,BHe=iV,MHe=sV,FHe=oV,kHe=aV,LHe=H_e,NHe=lV,UHe=uV;function ad(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var X_e=["color"],$He=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,X_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Y_e=["color"],jHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,Y_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),q_e=["color"],zHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,q_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Z_e=["color"],GHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,Z_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Q_e=["color"],VHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,Q_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),J_e=["color"],HHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,J_e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),e1e=["color"],WHe=E.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=ad(t,e1e);return E.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),E.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const tr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zr=Object.keys,Pn=Array.isArray;function Yn(t,e){return typeof e!="object"||zr(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||tr.Promise||(tr.Promise=Promise);const Wm=Object.getPrototypeOf,t1e={}.hasOwnProperty;function Gi(t,e){return t1e.call(t,e)}function uf(t,e){typeof e=="function"&&(e=e(Wm(t))),(typeof Reflect>"u"?zr:Reflect.ownKeys)(e).forEach(r=>{Ta(t,r,e[r])})}const cV=Object.defineProperty;function Ta(t,e,r,n){cV(t,e,Yn(r&&Gi(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Ph(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Ta(t.prototype,"constructor",t),{extend:uf.bind(null,t.prototype)}}}}const r1e=Object.getOwnPropertyDescriptor;function TI(t,e){let r;return r1e(t,e)||(r=Wm(t))&&TI(r,e)}const n1e=[].slice;function ux(t,e,r){return n1e.call(t,e,r)}function dV(t,e){return e(t)}function rg(t){if(!t)throw new Error("Assertion Failed")}function hV(t){tr.setImmediate?setImmediate(t):setTimeout(t,0)}function fV(t,e){return t.reduce((r,n,s)=>{var o=e(n,s);return o&&(r[o[0]]=o[1]),r},{})}function Da(t,e){if(Gi(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var o=Da(t,e[n]);r.push(o)}return r}var l=e.indexOf(".");if(l!==-1){var a=t[e.substr(0,l)];return a===void 0?void 0:Da(a,e.substr(l+1))}}function Qs(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){rg(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)Qs(t,e[n],r[n])}else{var o=e.indexOf(".");if(o!==-1){var l=e.substr(0,o),a=e.substr(o+1);if(a==="")r===void 0?Pn(t)&&!isNaN(parseInt(l))?t.splice(l,1):delete t[l]:t[l]=r;else{var c=t[l];c&&Gi(t,l)||(c=t[l]={}),Qs(c,a,r)}}else r===void 0?Pn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function pV(t){var e={};for(var r in t)Gi(t,r)&&(e[r]=t[r]);return e}const i1e=[].concat;function gV(t){return i1e.apply([],t)}const mV="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(gV([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>tr[t]),s1e=mV.map(t=>tr[t]);fV(mV,t=>[t,!0]);let _l=null;function iy(t){_l=typeof WeakMap<"u"&&new WeakMap;const e=uD(t);return _l=null,e}function uD(t){if(!t||typeof t!="object")return t;let e=_l&&_l.get(t);if(e)return e;if(Pn(t)){e=[],_l&&_l.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(uD(t[r]))}else if(s1e.indexOf(t.constructor)>=0)e=t;else{const o=Wm(t);for(var s in e=o===Object.prototype?{}:Object.create(o),_l&&_l.set(t,e),t)Gi(t,s)&&(e[s]=uD(t[s]))}return e}const{toString:o1e}={};function cD(t){return o1e.call(t).slice(8,-1)}const dD=typeof Symbol<"u"?Symbol.iterator:"@@iterator",a1e=typeof dD=="symbol"?function(t){var e;return t!=null&&(e=t[dD])&&e.apply(t)}:function(){return null},Wd={};function ma(t){var e,r,n,s;if(arguments.length===1){if(Pn(t))return t.slice();if(this===Wd&&typeof t=="string")return[t];if(s=a1e(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const DI=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Xo=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function vV(t,e){Xo=t,yV=e}var yV=()=>!0;const l1e=!new Error("").stack;function ld(){if(l1e)try{throw ld.arguments,new Error}catch(t){return t}return new Error}function hD(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(yV).map(n=>"\n"+n).join("")):""}var _V=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],PI=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_V),u1e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rh(t,e){this._e=ld(),this.name=t,this.message=e}function xV(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join("\n")}function cx(t,e,r,n){this._e=ld(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=xV(t,e)}function Og(t,e){this._e=ld(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=xV(t,e)}Ph(Rh).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+hD(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ph(cx).from(Rh),Ph(Og).from(Rh);var RI=PI.reduce((t,e)=>(t[e]=e+"Error",t),{});const c1e=Rh;var st=PI.reduce((t,e)=>{var r=e+"Error";function n(s,o){this._e=ld(),this.name=r,s?typeof s=="string"?(this.message="".concat(s).concat(o?"\n "+o:""),this.inner=o||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=u1e[e]||r,this.inner=null)}return Ph(n).from(c1e),t[e]=n,t},{});st.Syntax=SyntaxError,st.Type=TypeError,st.Range=RangeError;var xL=_V.reduce((t,e)=>(t[e+"Error"]=st[e],t),{}),O_=PI.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=st[e]),t),{});function Gt(){}function Km(t){return t}function d1e(t,e){return t==null||t===Km?e:function(r){return e(t(r))}}function zc(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function h1e(t,e){return t===Gt?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?zc(n,this.onsuccess):n),s&&(this.onerror=this.onerror?zc(s,this.onerror):s),o!==void 0?o:r}}function f1e(t,e){return t===Gt?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?zc(r,this.onsuccess):r),n&&(this.onerror=this.onerror?zc(n,this.onerror):n)}}function p1e(t,e){return t===Gt?e:function(r){var n=t.apply(this,arguments);Yn(r,n);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var l=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?zc(s,this.onsuccess):s),o&&(this.onerror=this.onerror?zc(o,this.onerror):o),n===void 0?l===void 0?void 0:l:Yn(n,l)}}function g1e(t,e){return t===Gt?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function II(t,e){return t===Gt?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return r.then(function(){return e.apply(n,o)})}return e.apply(this,arguments)}}O_.ModifyError=cx,O_.DexieError=Rh,O_.BulkError=Og;var Xm={};const wV=100,[fD,dx,pD]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Wm(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Wm(e),t]})(),bV=dx&&dx.then,B_=fD&&fD.constructor,OI=!!pD;var gD=!1,m1e=pD?()=>{pD.then(I0)}:tr.setImmediate?setImmediate.bind(null,I0):tr.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{I0(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(I0,0)},Bg=function(t,e){ng.push([t,e]),hx&&(m1e(),hx=!1)},mD=!0,hx=!0,Sc=[],M_=[],vD=null,yD=Km,Ih={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:EL,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{EL(t[0],t[1])}catch(e){}})}},Qe=Ih,ng=[],Cc=0,F_=[];function $e(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Gt,this._lib=!1;var e=this._PSD=Qe;if(Xo&&(this._stackHolder=ld(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Xm)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&xD(this,this._value))}this._state=null,this._value=null,++e.ref,SV(this,t)}const _D={get:function(){var t=Qe,e=fx;function r(n,s){var o=!t.global&&(t!==Qe||e!==fx);const l=o&&!za();var a=new $e((c,d)=>{BI(this,new EV(px(n,t,o,l),px(s,t,o,l),c,d,t))});return Xo&&TV(a,this),a}return r.prototype=Xm,r},set:function(t){Ta(this,"then",t&&t.prototype===Xm?_D:{get:function(){return t},set:_D.set})}};function EV(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function SV(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&sy();r&&typeof r.then=="function"?SV(t,(s,o)=>{r instanceof $e?r._then(s,o):r.then(s,o)}):(t._state=!0,t._value=r,CV(t)),n&&oy()}},xD.bind(null,t))}catch(r){xD(t,r)}}function xD(t,e){if(M_.push(e),t._state===null){var r=t._lib&&sy();e=yD(e),t._state=!1,t._value=e,Xo&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,o){try{n.apply(null,o)}catch(l){s&&s(l)}}(()=>{var n=TI(e,"stack");e._promise=t,Ta(e,"stack",{get:()=>gD?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){Sc.some(s=>s._value===n._value)||Sc.push(n)}(t),CV(t),r&&oy()}}function CV(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)BI(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),Cc===0&&(++Cc,Bg(()=>{--Cc==0&&MI()},[]))}function BI(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Cc,Bg(v1e,[r,t,e])}else t._listeners.push(e)}function v1e(t,e,r){try{vD=e;var n,s=e._value;e._state?n=t(s):(M_.length&&(M_=[]),n=t(s),M_.indexOf(s)===-1&&function(o){for(var l=Sc.length;l;)if(Sc[--l]._value===o._value)return void Sc.splice(l,1)}(e)),r.resolve(n)}catch(o){r.reject(o)}finally{vD=null,--Cc==0&&MI(),--r.psd.ref||r.psd.finalize()}}function AV(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,o,l=t._value;l!=null?(s=l.name||"Error",o=l.message||l,n=hD(l,0)):(s=l,o=""),e.push(s+(o?": "+o:"")+n)}return Xo&&((n=hD(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&AV(t._prev,e,r)),e}function TV(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function I0(){sy()&&oy()}function sy(){var t=mD;return mD=!1,hx=!1,t}function oy(){var t,e,r;do for(;ng.length>0;)for(t=ng,ng=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(ng.length>0);mD=!0,hx=!0}function MI(){var t=Sc;Sc=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=F_.slice(0),r=e.length;r;)e[--r]()}function O0(t){return new $e(Xm,!1,t)}function lr(t,e){var r=Qe;return function(){var n=sy(),s=Qe;try{return du(r,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{du(s,!1),n&&oy()}}}uf($e.prototype,{then:_D,_then:function(t,e){BI(this,new EV(null,null,t,e,Qe))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):O0(n)):this.then(null,n=>n&&n.name===e?r(n):O0(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),O0(e)))},stack:{get:function(){if(this._stack)return this._stack;try{gD=!0;var t=AV(this,[],20).join("\nFrom previous: ");return this._state!==null&&(this._stack=t),t}finally{gD=!1}}},timeout:function(t,e){return t<1/0?new $e((r,n)=>{var s=setTimeout(()=>n(new st.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ta($e.prototype,Symbol.toStringTag,"Dexie.Promise"),Ih.env=DV(),uf($e,{all:function(){var t=ma.apply(null,arguments).map(B0);return new $e(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,o)=>$e.resolve(s).then(l=>{t[o]=l,--n||e(t)},r))})},resolve:t=>{if(t instanceof $e)return t;if(t&&typeof t.then=="function")return new $e((r,n)=>{t.then(r,n)});var e=new $e(Xm,!0,t);return TV(e,vD),e},reject:O0,race:function(){var t=ma.apply(null,arguments).map(B0);return new $e((e,r)=>{t.map(n=>$e.resolve(n).then(e,r))})},PSD:{get:()=>Qe,set:t=>Qe=t},totalEchoes:{get:()=>fx},newPSD:cu,usePSD:Uf,scheduler:{get:()=>Bg,set:t=>{Bg=t}},rejectionMapper:{get:()=>yD,set:t=>{yD=t}},follow:(t,e)=>new $e((r,n)=>cu((s,o)=>{var l=Qe;l.unhandleds=[],l.onunhandled=o,l.finalize=zc(function(){(function(a){function c(){a(),F_.splice(F_.indexOf(c),1)}F_.push(c),++Cc,Bg(()=>{--Cc==0&&MI()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},l.finalize),t()},e,r,n))}),B_&&(B_.allSettled&&Ta($e,"allSettled",function(){const t=ma.apply(null,arguments).map(B0);return new $e(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,o)=>$e.resolve(s).then(l=>n[o]={status:"fulfilled",value:l},l=>n[o]={status:"rejected",reason:l}).then(()=>--r||e(n)))})}),B_.any&&typeof AggregateError<"u"&&Ta($e,"any",function(){const t=ma.apply(null,arguments).map(B0);return new $e((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((o,l)=>$e.resolve(o).then(a=>e(a),a=>{s[l]=a,--n||r(new AggregateError(s))}))})}));const Tn={awaits:0,echoes:0,id:0};var y1e=0,k_=[],kS=0,fx=0,_1e=0;function cu(t,e,r,n){var s=Qe,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++_1e;var l=Ih.env;o.env=OI?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject,nthen:wL(l.nthen,o),gthen:wL(l.gthen,o)}:{},e&&Yn(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Uf(o,t,r,n);return o.ref===0&&o.finalize(),a}function Nf(){return Tn.id||(Tn.id=++y1e),++Tn.awaits,Tn.echoes+=wV,Tn.id}function za(){return!!Tn.awaits&&(--Tn.awaits==0&&(Tn.id=0),Tn.echoes=Tn.awaits*wV,!0)}function B0(t){return Tn.echoes&&t&&t.constructor===B_?(Nf(),t.then(e=>(za(),e),e=>(za(),Yr(e)))):t}function x1e(t){++fx,Tn.echoes&&--Tn.echoes!=0||(Tn.echoes=Tn.id=0),k_.push(Qe),du(t,!0)}function w1e(){var t=k_[k_.length-1];k_.pop(),du(t,!1)}function du(t,e){var r=Qe;if((e?!Tn.echoes||kS++&&t===Qe:!kS||--kS&&t===Qe)||PV(e?x1e.bind(null,t):w1e),t!==Qe&&(Qe=t,r===Ih&&(Ih.env=DV()),OI)){var n=Ih.env.Promise,s=t.env;dx.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(tr,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function DV(){var t=tr.Promise;return OI?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(tr,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:dx.then,gthen:t.prototype.then}:{}}function Uf(t,e,r,n,s){var o=Qe;try{return du(t,!0),e(r,n,s)}finally{du(o,!1)}}function PV(t){bV.call(fD,t)}function px(t,e,r,n){return typeof t!="function"?t:function(){var s=Qe;r&&Nf(),du(e,!0);try{return t.apply(this,arguments)}finally{du(s,!1),n&&PV(za)}}}function wL(t,e){return function(r,n){return t.call(this,px(r,e),px(n,e))}}(""+bV).indexOf("[native code]")===-1&&(Nf=za=Gt);const bL="unhandledrejection";function EL(t,e){var r;try{r=e.onuncatched(t)}catch(o){}if(r!==!1)try{var n,s={promise:e,reason:t};if(tr.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(bL,!0,!0),Yn(n,s)):tr.CustomEvent&&Yn(n=new CustomEvent(bL,{detail:s}),s),n&&tr.dispatchEvent&&(dispatchEvent(n),!tr.PromiseRejectionEvent&&tr.onunhandledrejection))try{tr.onunhandledrejection(n)}catch(o){}Xo&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(o){}}var Yr=$e.reject;function wD(t,e,r,n){if(t.idbdb&&(t._state.openComplete||Qe.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===RI.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>wD(t,e,r,n))):Yr(o)}return s._promise(e,(o,l)=>cu(()=>(Qe.trans=s,n(o,l,s)))).then(o=>s._completion.then(()=>o))}if(t._state.openComplete)return Yr(new st.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Yr(new st.DatabaseClosed);t.open().catch(Gt)}return t._state.dbReadyPromise.then(()=>wD(t,e,r,n))}const SL="3.2.4",ac=String.fromCharCode(65535),bD=-1/0,ta="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",RV="String expected.",Mg=[],ib=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),b1e=ib,E1e=ib,IV=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),sb="__dbnames",LS="readonly",NS="readwrite";function Gc(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const OV={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function M0(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=iy(e))[t],e)}class S1e{_trans(e,r,n){const s=this._tx||Qe.trans,o=this.name;function l(c,d,f){if(!f.schema[o])throw new st.NotFound("Table "+o+" not part of transaction");return r(f.idbtrans,f)}const a=sy();try{return s&&s.db===this.db?s===Qe.trans?s._promise(e,l,n):cu(()=>s._promise(e,l,n),{trans:s,transless:Qe.transless||Qe}):wD(this.db,e,[this.name],l)}finally{a&&oy()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Pn(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=zr(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&r.every(f=>d.keyPath.indexOf(f)>=0)&&d.keyPath.every(f=>r.indexOf(f)>=0))[0];if(n&&this.db._maxKey!==ac)return this.where(n.name).equals(n.keyPath.map(d=>e[d]));!n&&Xo&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function l(d,f){try{return o.cmp(d,f)===0}catch(g){return!1}}const[a,c]=r.reduce(([d,f],g)=>{const m=s[g],y=e[g];return[d||m,d||!m?Gc(f,m&&m.multi?_=>{const u=Da(_,g);return Pn(u)&&u.some(h=>l(y,h))}:_=>l(y,Da(_,g))):f]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Pn(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var o in n)if(Gi(n,o))try{s[o]=n[o]}catch(l){}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Yn(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=M0(s)(e)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"add",keys:r!=null?[r]:null,values:[o]})).then(l=>l.numFailures?$e.reject(l.failures[0]):l.lastResult).then(l=>{if(s)try{Qs(e,s,l)}catch(a){}return l})}update(e,r){if(typeof e!="object"||Pn(e))return this.where(":id").equals(e).modify(r);{const n=Da(e,this.schema.primKey.keyPath);if(n===void 0)return Yr(new st.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?zr(r).forEach(s=>{Qs(e,s,r[s])}):r(e,{value:e,primKey:n})}catch(s){}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=M0(s)(e)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"put",values:[o],keys:r!=null?[r]:null})).then(l=>l.numFailures?$e.reject(l.failures[0]):l.lastResult).then(l=>{if(s)try{Qs(e,s,l)}catch(a){}return l})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?$e.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:OV})).then(e=>e.numFailures?$e.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new st.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new st.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&a?e.map(M0(c)):e;return this.core.mutate({trans:l,type:"add",keys:s,values:f,wantResults:o}).then(({numFailures:g,results:m,lastResult:y,failures:_})=>{if(g===0)return o?m:y;throw new Og("".concat(this.name,".bulkAdd(): ").concat(g," of ").concat(d," operations failed"),_)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,o=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new st.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new st.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&a?e.map(M0(c)):e;return this.core.mutate({trans:l,type:"put",keys:s,values:f,wantResults:o}).then(({numFailures:g,results:m,lastResult:y,failures:_})=>{if(g===0)return o?m:y;throw new Og("".concat(this.name,".bulkPut(): ").concat(g," of ").concat(d," operations failed"),_)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:o})=>{if(n===0)return s;throw new Og("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),o)})}}function Fg(t){var e={},r=function(l,a){if(a){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[l].subscribe.apply(null,d),t}if(typeof l=="string")return e[l]};r.addEventType=o;for(var n=1,s=arguments.length;n<s;++n)o(arguments[n]);return r;function o(l,a,c){if(typeof l!="object"){var d;a||(a=g1e),c||(c=Gt);var f={subscribers:[],fire:c,subscribe:function(g){f.subscribers.indexOf(g)===-1&&(f.subscribers.push(g),f.fire=a(f.fire,g))},unsubscribe:function(g){f.subscribers=f.subscribers.filter(function(m){return m!==g}),f.fire=f.subscribers.reduce(a,c)}};return e[l]=r[l]=f,f}zr(d=l).forEach(function(g){var m=d[g];if(Pn(m))o(g,d[g][0],d[g][1]);else{if(m!=="asap")throw new st.InvalidArgument("Invalid event config");var y=o(g,Km,function(){for(var _=arguments.length,u=new Array(_);_--;)u[_]=arguments[_];y.subscribers.forEach(function(h){hV(function(){h.apply(null,u)})})})}})}}function Ip(t,e){return Ph(e).from({prototype:t}),e}function Rd(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function US(t,e){t.filter=Gc(t.filter,e)}function $S(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Gc(n(),e()):e,t.justLimit=r&&!n}function L_(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new st.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function CL(t,e,r){const n=L_(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function F0(t,e,r,n){const s=t.replayFilter?Gc(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},l=(a,c,d)=>{if(!s||s(c,d,m=>c.stop(m),m=>c.fail(m))){var f=c.primaryKey,g=""+f;g==="[object ArrayBuffer]"&&(g=""+new Uint8Array(f)),Gi(o,g)||(o[g]=!0,e(a,c,d))}};return Promise.all([t.or._iterate(l,r),AL(CL(t,n,r),t.algorithm,l,!t.keysOnly&&t.valueMapper)])}return AL(CL(t,n,r),Gc(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function AL(t,e,r,n){var s=lr(n?(o,l,a)=>r(n(o),l,a):r);return t.then(o=>{if(o)return o.start(()=>{var l=()=>o.continue();e&&!e(o,a=>l=a,a=>{o.stop(a),l=Gt},a=>{o.fail(a),l=Gt})||s(o.value,o,a=>l=a),l()})})}function Vn(t,e){try{const r=TL(t),n=TL(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,o){const l=s.length,a=o.length,c=l<a?l:a;for(let d=0;d<c;++d)if(s[d]!==o[d])return s[d]<o[d]?-1:1;return l===a?0:l<a?-1:1}(DL(t),DL(e));case"Array":return function(s,o){const l=s.length,a=o.length,c=l<a?l:a;for(let d=0;d<c;++d){const f=Vn(s[d],o[d]);if(f!==0)return f}return l===a?0:l<a?-1:1}(t,e)}}catch(r){}return NaN}function TL(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=cD(t);return r==="ArrayBuffer"?"binary":r}function DL(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class C1e{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,Yr.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,Yr.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Gc(r.algorithm,e)}_iterate(e,r){return F0(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Yn(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>F0(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Rd(n,!0))return s.count({trans:r,query:{index:L_(n,s.schema),range:n.range}}).then(l=>Math.min(l,n.limit));var o=0;return F0(n,()=>(++o,!1),r,s).then(()=>o)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],o=n.length-1;function l(d,f){return f?l(d[n[f]],f-1):d[s]}var a=this._ctx.dir==="next"?1:-1;function c(d,f){var g=l(d,o),m=l(f,o);return g<m?-a:g>m?a:0}return this.toArray(function(d){return d.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Rd(n,!0)&&n.limit>0){const{valueMapper:s}=n,o=L_(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:l})=>s?l.map(s):l)}{const s=[];return F0(n,o=>s.push(o),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Rd(r)?$S(r,()=>{var n=e;return(s,o)=>n===0||(n===1?(--n,!1):(o(()=>{s.advance(n),n=0}),!1))}):$S(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),$S(this._ctx,()=>{var r=e;return function(n,s,o){return--r<=0&&s(o),r>=0}},!0),this}until(e,r){return US(this._ctx,function(n,s,o){return!e(n.value)||(s(o),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return US(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=Gc(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Rd(r,!0)&&r.limit>0)return this._read(s=>{var o=L_(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return US(this._ctx,function(s){var o=s.primaryKey.toString(),l=Gi(n,o);return n[o]=!0,!l}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var o=zr(e),l=o.length;s=function(u){for(var h=!1,p=0;p<l;++p){var v=o[p],x=e[v];Da(u,v)!==x&&(Qs(u,v,x),h=!0)}return h}}const a=r.table.core,{outbound:c,extractKey:d}=a.schema.primaryKey,f=this.db._options.modifyChunkSize||200,g=[];let m=0;const y=[],_=(u,h)=>{const{failures:p,numFailures:v}=h;m+=u-v;for(let x of zr(p))g.push(p[x])};return this.clone().primaryKeys().then(u=>{const h=p=>{const v=Math.min(f,u.length-p);return a.getMany({trans:n,keys:u.slice(p,p+v),cache:"immutable"}).then(x=>{const w=[],b=[],S=c?[]:null,C=[];for(let T=0;T<v;++T){const P=x[T],B={value:iy(P),primKey:u[p+T]};s.call(B,B.value,B)!==!1&&(B.value==null?C.push(u[p+T]):c||Vn(d(P),d(B.value))===0?(b.push(B.value),c&&S.push(u[p+T])):(C.push(u[p+T]),w.push(B.value)))}const A=Rd(r)&&r.limit===1/0&&(typeof e!="function"||e===jS)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&a.mutate({trans:n,type:"add",values:w}).then(T=>{for(let P in T.failures)C.splice(parseInt(P),1);_(w.length,T)})).then(()=>(b.length>0||A&&typeof e=="object")&&a.mutate({trans:n,type:"put",keys:S,values:b,criteria:A,changeSpec:typeof e!="function"&&e}).then(T=>_(b.length,T))).then(()=>(C.length>0||A&&e===jS)&&a.mutate({trans:n,type:"delete",keys:C,criteria:A}).then(T=>_(C.length,T))).then(()=>u.length>p+v&&h(p+f))})};return h(0).then(()=>{if(g.length>0)throw new cx("Error modifying one or more objects",g,m,y);return u.length})})})}delete(){var e=this._ctx,r=e.range;return Rd(e)&&(e.isPrimKey&&!E1e||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,o=r;return e.table.core.count({trans:n,query:{index:s,range:o}}).then(l=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:a,lastResult:c,results:d,numFailures:f})=>{if(f)throw new cx("Could not delete some values",Object.keys(a).map(g=>a[g]),l-f);return l-f}))}):this.modify(jS)}}const jS=(t,e)=>e.value=null;function A1e(t,e){return t<e?-1:t===e?0:1}function T1e(t,e){return t>e?-1:t===e?0:1}function Si(t,e,r){var n=t instanceof MV?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function Id(t){return new t.Collection(t,()=>BV("")).limit(0)}function D1e(t,e,r,n,s,o){for(var l=Math.min(t.length,n.length),a=-1,c=0;c<l;++c){var d=e[c];if(d!==n[c])return s(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):s(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):a>=0?t.substr(0,a)+e[a]+r.substr(a+1):null;s(t[c],d)<0&&(a=c)}return l<n.length&&o==="next"?t+r.substr(t.length):l<t.length&&o==="prev"?t.substr(0,r.length):a<0?null:t.substr(0,a)+n[a]+r.substr(a+1)}function k0(t,e,r,n){var s,o,l,a,c,d,f,g=r.length;if(!r.every(u=>typeof u=="string"))return Si(t,RV);function m(u){s=function(p){return p==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(u),o=function(p){return p==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(u),l=u==="next"?A1e:T1e;var h=r.map(function(p){return{lower:o(p),upper:s(p)}}).sort(function(p,v){return l(p.lower,v.lower)});a=h.map(function(p){return p.upper}),c=h.map(function(p){return p.lower}),d=u,f=u==="next"?"":n}m("next");var y=new t.Collection(t,()=>fl(a[0],c[g-1]+n));y._ondirectionchange=function(u){m(u)};var _=0;return y._addAlgorithm(function(u,h,p){var v=u.key;if(typeof v!="string")return!1;var x=o(v);if(e(x,c,_))return!0;for(var w=null,b=_;b<g;++b){var S=D1e(v,x,a[b],c[b],l,d);S===null&&w===null?_=b+1:(w===null||l(w,S)>0)&&(w=S)}return h(w!==null?function(){u.continue(w+f)}:p),!1}),y}function fl(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function BV(t){return{type:1,lower:t,upper:t}}class MV{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?Id(this):new this.Collection(this,()=>fl(e,r,!n,!s))}catch(o){return Si(this,ta)}}equals(e){return e==null?Si(this,ta):new this.Collection(this,()=>BV(e))}above(e){return e==null?Si(this,ta):new this.Collection(this,()=>fl(e,void 0,!0))}aboveOrEqual(e){return e==null?Si(this,ta):new this.Collection(this,()=>fl(e,void 0,!1))}below(e){return e==null?Si(this,ta):new this.Collection(this,()=>fl(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Si(this,ta):new this.Collection(this,()=>fl(void 0,e))}startsWith(e){return typeof e!="string"?Si(this,RV):this.between(e,e+ac,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):k0(this,(r,n)=>r.indexOf(n[0])===0,[e],ac)}equalsIgnoreCase(e){return k0(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=ma.apply(Wd,arguments);return e.length===0?Id(this):k0(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ma.apply(Wd,arguments);return e.length===0?Id(this):k0(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,ac)}anyOf(){const e=ma.apply(Wd,arguments);let r=this._cmp;try{e.sort(r)}catch(o){return Si(this,ta)}if(e.length===0)return Id(this);const n=new this.Collection(this,()=>fl(e[0],e[e.length-1]));n._ondirectionchange=o=>{r=o==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((o,l,a)=>{const c=o.key;for(;r(c,e[s])>0;)if(++s,s===e.length)return l(a),!1;return r(c,e[s])===0||(l(()=>{o.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[bD,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ma.apply(Wd,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return Si(this,ta)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[bD,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,o=this._descending,l=this._min,a=this._max;if(e.length===0)return Id(this);if(!e.every(v=>v[0]!==void 0&&v[1]!==void 0&&s(v[0],v[1])<=0))return Si(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",st.InvalidArgument);const c=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let f,g=s;function m(v,x){return g(v[0],x[0])}try{f=e.reduce(function(v,x){let w=0,b=v.length;for(;w<b;++w){const S=v[w];if(n(x[0],S[1])<0&&n(x[1],S[0])>0){S[0]=l(S[0],x[0]),S[1]=a(S[1],x[1]);break}}return w===b&&v.push(x),v},[]),f.sort(m)}catch(v){return Si(this,ta)}let y=0;const _=d?v=>s(v,f[y][1])>0:v=>s(v,f[y][1])>=0,u=c?v=>o(v,f[y][0])>0:v=>o(v,f[y][0])>=0;let h=_;const p=new this.Collection(this,()=>fl(f[0][0],f[f.length-1][1],!c,!d));return p._ondirectionchange=v=>{v==="next"?(h=_,g=s):(h=u,g=o),f.sort(m)},p._addAlgorithm((v,x,w)=>{for(var b=v.key;h(b);)if(++y,y===f.length)return x(w),!1;return!!function(S){return!_(S)&&!u(S)}(b)||(this._cmp(b,f[y][1])===0||this._cmp(b,f[y][0])===0||x(()=>{g===s?v.continue(f[y][0]):v.continue(f[y][1])}),!1)}),p}startsWithAnyOf(){const e=ma.apply(Wd,arguments);return e.every(r=>typeof r=="string")?e.length===0?Id(this):this.inAnyRange(e.map(r=>[r,r+ac])):Si(this,"startsWithAnyOf() only works with strings")}}function wo(t){return lr(function(e){return Ym(e),t(e.target.error),!1})}function Ym(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const qm="storagemutated",Al="x-storagemutated-1",hu=Fg(null,qm);class P1e{_lock(){return rg(!Qe.global),++this._reculock,this._reculock!==1||Qe.global||(Qe.lockOwnerFor=this),this}_unlock(){if(rg(!Qe.global),--this._reculock==0)for(Qe.global||(Qe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Uf(e[1],e[0])}catch(r){}}return this}_locked(){return this._reculock&&Qe.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(rg(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new st.DatabaseClosed(n);case"MissingAPIError":throw new st.MissingAPI(n.message,n);default:throw new st.OpenFailed(n)}if(!this.active)throw new st.TransactionInactive;return rg(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=lr(s=>{Ym(s),this._reject(e.error)}),e.onabort=lr(s=>{Ym(s),this.active&&this._reject(new st.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=lr(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&hu.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return Yr(new st.ReadOnly("Transaction is readonly"));if(!this.active)return Yr(new st.TransactionInactive);if(this._locked())return new $e((o,l)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(o,l)},Qe])});if(n)return cu(()=>{var o=new $e((l,a)=>{this._lock();const c=r(l,a,this);c&&c.then&&c.then(l,a)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new $e((o,l)=>{var a=r(o,l,this);a&&a.then&&a.then(o,l)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=$e.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function l(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=l)})()}var o=r._waitingFor;return new $e((l,a)=>{n.then(c=>r._waitingQueue.push(lr(l.bind(null,c))),c=>r._waitingQueue.push(lr(a.bind(null,c)))).finally(()=>{r._waitingFor===o&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new st.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(Gi(r,e))return r[e];const n=this.schema[e];if(!n)throw new st.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function ED(t,e,r,n,s,o,l){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:o,src:(r&&!l?"&":"")+(n?"*":"")+(s?"++":"")+FV(e)}}function FV(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function kV(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:fV(r,n=>[n.name,n])}}let Zm=t=>{try{return t.only([[]]),Zm=()=>[[]],[[]]}catch(e){return Zm=()=>ac,ac}};function SD(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>Da(n,e)}(t):e=>Da(e,t)}function PL(t){return[].slice.call(t)}let R1e=0;function kg(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function I1e(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:f,lowerOpen:g,upperOpen:m}=c;return d===void 0?f===void 0?null:e.upperBound(f,!!m):f===void 0?e.lowerBound(d,!!g):e.bound(d,f,!!g,!!m)}const{schema:s,hasGetAll:o}=function(c,d){const f=PL(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(g=>d.objectStore(g)).map(g=>{const{keyPath:m,autoIncrement:y}=g,_=Pn(m),u=m==null,h={},p={name:g.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:u,compound:_,keyPath:m,autoIncrement:y,unique:!0,extractKey:SD(m)},indexes:PL(g.indexNames).map(v=>g.index(v)).map(v=>{const{name:x,unique:w,multiEntry:b,keyPath:S}=v,C={name:x,compound:Pn(S),keyPath:S,unique:w,multiEntry:b,extractKey:SD(S)};return h[kg(S)]=C,C}),getIndexByKeyPath:v=>h[kg(v)]};return h[":id"]=p.primaryKey,m!=null&&(h[kg(m)]=p.primaryKey),p})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),l=s.tables.map(c=>function(d){const f=d.name;return{name:f,schema:d,mutate:function({trans:g,type:m,keys:y,values:_,range:u}){return new Promise((h,p)=>{h=lr(h);const v=g.objectStore(f),x=v.keyPath==null,w=m==="put"||m==="add";if(!w&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);const{length:b}=y||_||{length:1};if(y&&_&&y.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(b===0)return h({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const C=[],A=[];let T=0;const P=D=>{++T,Ym(D)};if(m==="deleteRange"){if(u.type===4)return h({numFailures:T,failures:A,results:[],lastResult:void 0});u.type===3?C.push(S=v.clear()):C.push(S=v.delete(n(u)))}else{const[D,R]=w?x?[_,y]:[_,null]:[y,null];if(w)for(let O=0;O<b;++O)C.push(S=R&&R[O]!==void 0?v[m](D[O],R[O]):v[m](D[O])),S.onerror=P;else for(let O=0;O<b;++O)C.push(S=v[m](D[O])),S.onerror=P}const B=D=>{const R=D.target.result;C.forEach((O,k)=>O.error!=null&&(A[k]=O.error)),h({numFailures:T,failures:A,results:m==="delete"?y:C.map(O=>O.result),lastResult:R})};S.onerror=D=>{P(D),B(D)},S.onsuccess=B})},getMany:({trans:g,keys:m})=>new Promise((y,_)=>{y=lr(y);const u=g.objectStore(f),h=m.length,p=new Array(h);let v,x=0,w=0;const b=C=>{const A=C.target;p[A._pos]=A.result,++w===x&&y(p)},S=wo(_);for(let C=0;C<h;++C)m[C]!=null&&(v=u.get(m[C]),v._pos=C,v.onsuccess=b,v.onerror=S,++x);x===0&&y(p)}),get:({trans:g,key:m})=>new Promise((y,_)=>{y=lr(y);const u=g.objectStore(f).get(m);u.onsuccess=h=>y(h.target.result),u.onerror=wo(_)}),query:function(g){return m=>new Promise((y,_)=>{y=lr(y);const{trans:u,values:h,limit:p,query:v}=m,x=p===1/0?void 0:p,{index:w,range:b}=v,S=u.objectStore(f),C=w.isPrimaryKey?S:S.index(w.name),A=n(b);if(p===0)return y({result:[]});if(g){const T=h?C.getAll(A,x):C.getAllKeys(A,x);T.onsuccess=P=>y({result:P.target.result}),T.onerror=wo(_)}else{let T=0;const P=h||!("openKeyCursor"in C)?C.openCursor(A):C.openKeyCursor(A),B=[];P.onsuccess=D=>{const R=P.result;return R?(B.push(h?R.value:R.primaryKey),++T===p?y({result:B}):void R.continue()):y({result:B})},P.onerror=wo(_)}})}(o),openCursor:function({trans:g,values:m,query:y,reverse:_,unique:u}){return new Promise((h,p)=>{h=lr(h);const{index:v,range:x}=y,w=g.objectStore(f),b=v.isPrimaryKey?w:w.index(v.name),S=_?u?"prevunique":"prev":u?"nextunique":"next",C=m||!("openKeyCursor"in b)?b.openCursor(n(x),S):b.openKeyCursor(n(x),S);C.onerror=wo(p),C.onsuccess=lr(A=>{const T=C.result;if(!T)return void h(null);T.___id=++R1e,T.done=!1;const P=T.continue.bind(T);let B=T.continuePrimaryKey;B&&(B=B.bind(T));const D=T.advance.bind(T),R=()=>{throw new Error("Cursor not stopped")};T.trans=g,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=lr(p),T.next=function(){let O=1;return this.start(()=>O--?this.continue():this.stop()).then(()=>this)},T.start=O=>{const k=new Promise((U,N)=>{U=lr(U),C.onerror=wo(N),T.fail=N,T.stop=L=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=R,U(L)}}),j=()=>{if(C.result)try{O()}catch(U){T.fail(U)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return C.onsuccess=lr(U=>{C.onsuccess=j,j()}),T.continue=P,T.continuePrimaryKey=B,T.advance=D,j(),k},h(T)},p)})},count({query:g,trans:m}){const{index:y,range:_}=g;return new Promise((u,h)=>{const p=m.objectStore(f),v=y.isPrimaryKey?p:p.index(y.name),x=n(_),w=x?v.count(x):v.count();w.onsuccess=lr(b=>u(b.target.result)),w.onerror=wo(h)})}}}(c)),a={};return l.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!a[c])throw new Error("Table '".concat(c,"' not found"));return a[c]},MIN_KEY:-1/0,MAX_KEY:Zm(e),schema:s}}function CD({_novip:t},e){const r=e.db,n=function(s,o,{IDBKeyRange:l,indexedDB:a},c){return{dbcore:function(f,g){return g.reduce((m,{create:y})=>({...m,...y(m)}),f)}(I1e(o,l,c),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const o=s.name;t.core.schema.tables.some(l=>l.name===o)&&(s.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=s.core))})}function gx({_novip:t},e,r,n){r.forEach(s=>{const o=n[s];e.forEach(l=>{const a=TI(l,s);(!a||"value"in a&&a.value===void 0)&&(l===t.Transaction.prototype||l instanceof t.Transaction?Ta(l,s,{get(){return this.table(s)},set(c){cV(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):l[s]=new t.Table(s,o))})})}function AD({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function O1e(t,e){return t._cfg.version-e._cfg.version}function B1e(t,e,r,n){const s=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,s);o.create(r),o._completion.catch(n);const l=o._reject.bind(o),a=Qe.transless||Qe;cu(()=>{Qe.trans=o,Qe.transless=a,e===0?(zr(s).forEach(c=>{zS(r,c,s[c].primKey,s[c].indexes)}),CD(t,r),$e.follow(()=>t.on.populate.fire(o)).catch(l)):function({_novip:c},d,f,g){const m=[],y=c._versions;let _=c._dbSchema=DD(c,c.idbdb,g),u=!1;const h=y.filter(v=>v._cfg.version>=d);function p(){return m.length?$e.resolve(m.shift()(f.idbtrans)).then(p):$e.resolve()}return h.forEach(v=>{m.push(()=>{const x=_,w=v._cfg.dbschema;PD(c,x,g),PD(c,w,g),_=c._dbSchema=w;const b=LV(x,w);b.add.forEach(C=>{zS(g,C[0],C[1].primKey,C[1].indexes)}),b.change.forEach(C=>{if(C.recreate)throw new st.Upgrade("Not yet support for changing primary key");{const A=g.objectStore(C.name);C.add.forEach(T=>TD(A,T)),C.change.forEach(T=>{A.deleteIndex(T.name),TD(A,T)}),C.del.forEach(T=>A.deleteIndex(T))}});const S=v._cfg.contentUpgrade;if(S&&v._cfg.version>d){CD(c,g),f._memoizedTables={},u=!0;let C=pV(w);b.del.forEach(B=>{C[B]=x[B]}),AD(c,[c.Transaction.prototype]),gx(c,[c.Transaction.prototype],zr(C),C),f.schema=C;const A=DI(S);let T;A&&Nf();const P=$e.follow(()=>{if(T=S(f),T&&A){var B=za.bind(null,null);T.then(B,B)}});return T&&typeof T.then=="function"?$e.resolve(T):P.then(()=>T)}}),m.push(x=>{(!u||!b1e)&&function(w,b){[].slice.call(b.db.objectStoreNames).forEach(S=>w[S]==null&&b.db.deleteObjectStore(S))}(v._cfg.dbschema,x),AD(c,[c.Transaction.prototype]),gx(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),f.schema=c._dbSchema})}),p().then(()=>{var v,x;x=g,zr(v=_).forEach(w=>{x.db.objectStoreNames.contains(w)||zS(x,w,v[w].primKey,v[w].indexes)})})}(t,e,o,r).catch(l)})}function LV(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],o=e[n];if(s){const l={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!ib)l.recreate=!0,r.change.push(l);else{const a=s.idxByName,c=o.idxByName;let d;for(d in a)c[d]||l.del.push(d);for(d in c){const f=a[d],g=c[d];f?f.src!==g.src&&l.change.push(g):l.add.push(g)}(l.del.length>0||l.add.length>0||l.change.length>0)&&r.change.push(l)}}else r.add.push([n,o])}return r}function zS(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(o=>TD(s,o)),s}function TD(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function DD(t,e,r){const n={};return ux(e.objectStoreNames,0).forEach(s=>{const o=r.objectStore(s);let l=o.keyPath;const a=ED(FV(l),l||"",!1,!1,!!o.autoIncrement,l&&typeof l!="string",!0),c=[];for(let f=0;f<o.indexNames.length;++f){const g=o.index(o.indexNames[f]);l=g.keyPath;var d=ED(g.name,l,!!g.unique,!!g.multiEntry,!1,l&&typeof l!="string",!1);c.push(d)}n[s]=kV(s,a,c)}),n}function PD({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const o=n[s],l=r.objectStore(o);t._hasGetAll="getAll"in l;for(let a=0;a<l.indexNames.length;++a){const c=l.indexNames[a],d=l.index(c).keyPath,f=typeof d=="string"?d:"["+ux(d).join("+")+"]";if(e[o]){const g=e[o].idxByName[f];g&&(g.name=c,delete e[o].idxByName[f],e[o].idxByName[c]=g)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&tr.WorkerGlobalScope&&tr instanceof tr.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class M1e{_parseStoresSpec(e,r){zr(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((l,a)=>{const c=(l=l.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return ED(c,d||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),Pn(d),a===0)}),o=s.shift();if(o.multi)throw new st.Schema("Primary key cannot be multi-valued");s.forEach(l=>{if(l.auto)throw new st.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new st.Schema("Index must have a name and cannot be an empty string")}),r[n]=kV(n,o,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Yn(this._cfg.storesSource,e):e;const n=r._versions,s={};let o={};return n.forEach(l=>{Yn(s,l._cfg.storesSource),o=l._cfg.dbschema={},l._parseStoresSpec(s,o)}),r._dbSchema=o,AD(r,[r._allTables,r,r.Transaction.prototype]),gx(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],zr(o),o),r._storeNames=zr(o),this}upgrade(e){return this._cfg.contentUpgrade=II(this._cfg.contentUpgrade||Gt,e),this}}function FI(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new Oh(sb,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function kI(t){return t&&typeof t.databases=="function"}function RD(t){return cu(function(){return Qe.letThrough=!0,t()})}function F1e(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function k1e(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Yr(e.dbOpenError):t);Xo&&(e.openCanceller._stackHolder=ld()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new st.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,l=null,a=!1;return $e.race([n,(typeof navigator>"u"?$e.resolve():F1e()).then(()=>new $e((c,d)=>{if(s(),!r)throw new st.MissingAPI;const f=t.name,g=e.autoSchema?r.open(f):r.open(f,Math.round(10*t.verno));if(!g)throw new st.MissingAPI;g.onerror=wo(d),g.onblocked=lr(t._fireOnBlocked),g.onupgradeneeded=lr(m=>{if(l=g.transaction,e.autoSchema&&!t._options.allowEmptyDB){g.onerror=Ym,l.abort(),g.result.close();const _=r.deleteDatabase(f);_.onsuccess=_.onerror=lr(()=>{d(new st.NoSuchDatabase("Database ".concat(f," doesnt exist")))})}else{l.onerror=wo(d);var y=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;a=y<1,t._novip.idbdb=g.result,B1e(t,y/10,l,d)}},d),g.onsuccess=lr(()=>{l=null;const m=t._novip.idbdb=g.result,y=ux(m.objectStoreNames);if(y.length>0)try{const u=m.transaction((_=y).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:h},p,v){h.verno=p.version/10;const x=h._dbSchema=DD(0,p,v);h._storeNames=ux(p.objectStoreNames,0),gx(h,[h._allTables],zr(x),x)}(t,m,u):(PD(t,t._dbSchema,u),function(h,p){const v=LV(DD(0,h.idbdb,p),h._dbSchema);return!(v.add.length||v.change.some(x=>x.add.length||x.change.length))}(t,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),CD(t,u)}catch(u){}var _;Mg.push(t),m.onversionchange=lr(u=>{e.vcFired=!0,t.on("versionchange").fire(u)}),m.onclose=lr(u=>{t.on("close").fire(u)}),a&&function({indexedDB:u,IDBKeyRange:h},p){!kI(u)&&p!==sb&&FI(u,h).put({name:p}).catch(Gt)}(t._deps,f),c()},d)}))]).then(()=>(s(),e.onReadyBeingFired=[],$e.resolve(RD(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let d=e.onReadyBeingFired.reduce(II,Gt);return e.onReadyBeingFired=[],$e.resolve(RD(()=>d(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{l&&l.abort()}catch(d){}return n===e.openCanceller&&t._close(),Yr(c)}).finally(()=>{e.openComplete=!0,o()})}function ID(t){var e=o=>t.next(o),r=s(e),n=s(o=>t.throw(o));function s(o){return l=>{var a=o(l),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(r,n):Pn(c)?Promise.all(c).then(r,n):r(c)}}return s(e)()}function L1e(t,e,r){var n=arguments.length;if(n<2)throw new st.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,gV(s),r]}function NV(t,e,r,n,s){return $e.resolve().then(()=>{const o=Qe.transless||Qe,l=t._createTransaction(e,r,t._dbSchema,n),a={trans:l,transless:o};if(n)l.idbtrans=n.idbtrans;else try{l.create(),t._state.PR1398_maxLoop=3}catch(g){return g.name===RI.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>NV(t,e,r,null,s))):Yr(g)}const c=DI(s);let d;c&&Nf();const f=$e.follow(()=>{if(d=s.call(l,l),d)if(c){var g=za.bind(null,null);d.then(g,g)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=ID(d))},a);return(d&&typeof d.then=="function"?$e.resolve(d).then(g=>l.active?g:Yr(new st.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):f.then(()=>d)).then(g=>(n&&l._resolve(),l._completion.then(()=>g))).catch(g=>(l._reject(g),Yr(g)))})}function L0(t,e,r){const n=Pn(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const N1e={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},o=[];function l(f,g,m){const y=kg(f),_=s[y]=s[y]||[],u=f==null?0:typeof f=="string"?1:f.length,h=g>0,p={...m,isVirtual:h,keyTail:g,keyLength:u,extractKey:SD(f),unique:!h&&m.unique};return _.push(p),p.isPrimaryKey||o.push(p),u>1&&l(u===2?f[0]:f.slice(0,u-1),g+1,m),_.sort((v,x)=>v.keyTail-x.keyTail),p}const a=l(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[a];for(const f of n.indexes)l(f.keyPath,0,f);function c(f){const g=f.query.index;return g.isVirtual?{...f,query:{index:g,range:(m=f.query.range,y=g.keyTail,{type:m.type===1?2:m.type,lower:L0(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:L0(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:f;var m,y}return{...r,schema:{...n,primaryKey:a,indexes:o,getIndexByKeyPath:function(f){const g=s[kg(f)];return g&&g[0]}},count:f=>r.count(c(f)),query:f=>r.query(c(f)),openCursor(f){const{keyTail:g,isVirtual:m,keyLength:y}=f.query.index;return m?r.openCursor(c(f)).then(_=>_&&function(u){return Object.create(u,{continue:{value:function(p){p!=null?u.continue(L0(p,f.reverse?t.MAX_KEY:t.MIN_KEY,g)):f.unique?u.continue(u.key.slice(0,y).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,g)):u.continue()}},continuePrimaryKey:{value(p,v){u.continuePrimaryKey(L0(p,t.MAX_KEY,g),v)}},primaryKey:{get:()=>u.primaryKey},key:{get(){const p=u.key;return y===1?p[0]:p.slice(0,y)}},value:{get:()=>u.value}})}(_)):r.openCursor(f)}}}}}};function LI(t,e,r,n){return r=r||{},n=n||"",zr(t).forEach(s=>{if(Gi(e,s)){var o=t[s],l=e[s];if(typeof o=="object"&&typeof l=="object"&&o&&l){const a=cD(o);a!==cD(l)?r[n+s]=e[s]:a==="Object"?LI(o,l,r,n+s+"."):o!==l&&(r[n+s]=e[s])}else o!==l&&(r[n+s]=e[s])}else r[n+s]=void 0}),zr(e).forEach(s=>{Gi(t,s)||(r[n+s]=e[s])}),r}const U1e={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(o){const l=Qe.trans,{deleting:a,creating:c,updating:d}=l.table(e).hook;switch(o.type){case"add":if(c.fire===Gt)break;return l._promise("readwrite",()=>f(o),!0);case"put":if(c.fire===Gt&&d.fire===Gt)break;return l._promise("readwrite",()=>f(o),!0);case"delete":if(a.fire===Gt)break;return l._promise("readwrite",()=>f(o),!0);case"deleteRange":if(a.fire===Gt)break;return l._promise("readwrite",()=>function(m){return g(m.trans,m.range,1e4)}(o),!0)}return r.mutate(o);function f(m){const y=Qe.trans,_=m.keys||function(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}(n,m);if(!_)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?{...m,keys:_}:{...m}).type!=="delete"&&(m.values=[...m.values]),m.keys&&(m.keys=[...m.keys]),function(u,h,p){return h.type==="add"?Promise.resolve([]):u.getMany({trans:h.trans,keys:p,cache:"immutable"})}(r,m,_).then(u=>{const h=_.map((p,v)=>{const x=u[v],w={onerror:null,onsuccess:null};if(m.type==="delete")a.fire.call(w,p,x,y);else if(m.type==="add"||x===void 0){const b=c.fire.call(w,p,m.values[v],y);p==null&&b!=null&&(p=b,m.keys[v]=p,n.outbound||Qs(m.values[v],n.keyPath,p))}else{const b=LI(x,m.values[v]),S=d.fire.call(w,b,p,x,y);if(S){const C=m.values[v];Object.keys(S).forEach(A=>{Gi(C,A)?C[A]=S[A]:Qs(C,A,S[A])})}}return w});return r.mutate(m).then(({failures:p,results:v,numFailures:x,lastResult:w})=>{for(let b=0;b<_.length;++b){const S=v?v[b]:_[b],C=h[b];S==null?C.onerror&&C.onerror(p[b]):C.onsuccess&&C.onsuccess(m.type==="put"&&u[b]?m.values[b]:S)}return{failures:p,results:v,numFailures:x,lastResult:w}}).catch(p=>(h.forEach(v=>v.onerror&&v.onerror(p)),Promise.reject(p)))})}function g(m,y,_){return r.query({trans:m,values:!1,query:{index:n,range:y},limit:_}).then(({result:u})=>f({type:"delete",keys:u,trans:m}).then(h=>h.numFailures>0?Promise.reject(h.failures[0]):u.length<_?{failures:[],numFailures:0,lastResult:void 0}:g(m,{...y,lower:u[u.length-1],lowerOpen:!0},_)))}}}}})};function UV(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,o=0;s<e.keys.length&&o<t.length;++s)Vn(e.keys[s],t[o])===0&&(n.push(r?iy(e.values[s]):e.values[s]),++o);return n.length===t.length?n:null}catch(n){return null}}const $1e={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=UV(n.keys,n.trans._cache,n.cache==="clone");return s?$e.resolve(s):r.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?iy(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function NI(t){return!("from"in t)}const ga=function(t,e){if(!this){const r=new ga;return t&&"d"in t&&Yn(r,t),r}Yn(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Qm(t,e,r){const n=Vn(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(NI(t))return Yn(t,{from:e,to:r,d:1});const s=t.l,o=t.r;if(Vn(r,t.from)<0)return s?Qm(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},RL(t);if(Vn(e,t.to)>0)return o?Qm(o,e,r):t.r={from:e,to:r,d:1,l:null,r:null},RL(t);Vn(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),Vn(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const l=!t.r;s&&!t.l&&mx(t,s),o&&l&&mx(t,o)}function mx(t,e){NI(e)||function r(n,{from:s,to:o,l,r:a}){Qm(n,s,o),l&&r(n,l),a&&r(n,a)}(t,e)}function j1e(t,e){const r=OD(e);let n=r.next();if(n.done)return!1;let s=n.value;const o=OD(t);let l=o.next(s.from),a=l.value;for(;!n.done&&!l.done;){if(Vn(a.from,s.to)<=0&&Vn(a.to,s.from)>=0)return!0;Vn(s.from,a.from)<0?s=(n=r.next(a.from)).value:a=(l=o.next(s.from)).value}return!1}function OD(t){let e=NI(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Vn(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Vn(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function RL(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const o=s==="r"?"l":"r",l={...t},a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],l[s]=a[o],t[o]=l,l.d=IL(l)}t.d=IL(t)}function IL({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}uf(ga.prototype,{add(t){return mx(this,t),this},addKey(t){return Qm(this,t,t),this},addKeys(t){return t.forEach(e=>Qm(this,e,e)),this},[dD](){return OD(this)}});const z1e={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ga(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:o}=s,{primaryKey:l}=o,{extractKey:a,outbound:c}=l,d={...s,mutate:m=>{const y=m.trans,_=y.mutatedParts||(y.mutatedParts={}),u=S=>{const C="idb://".concat(e,"/").concat(n,"/").concat(S);return _[C]||(_[C]=new ga)},h=u(""),p=u(":dels"),{type:v}=m;let[x,w]=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[];const b=m.trans._cache;return s.mutate(m).then(S=>{if(Pn(x)){v!=="delete"&&(x=S.results),h.addKeys(x);const C=UV(x,b);C||v==="add"||p.addKeys(x),(C||w)&&function(A,T,P,B){function D(R){const O=A(R.name||"");function k(U){return U!=null?R.extractKey(U):null}const j=U=>R.multiEntry&&Pn(U)?U.forEach(N=>O.addKey(N)):O.addKey(U);(P||B).forEach((U,N)=>{const L=P&&k(P[N]),H=B&&k(B[N]);Vn(L,H)!==0&&(L!=null&&j(L),H!=null&&j(H))})}T.indexes.forEach(D)}(u,o,C,w)}else if(x){const C={from:x.lower,to:x.upper};p.add(C),h.add(C)}else h.add(r),p.add(r),o.indexes.forEach(C=>u(C.name).add(r));return S})}},f=({query:{index:m,range:y}})=>{var _,u;return[m,new ga((_=y.lower)!==null&&_!==void 0?_:t.MIN_KEY,(u=y.upper)!==null&&u!==void 0?u:t.MAX_KEY)]},g={get:m=>[l,new ga(m.key)],getMany:m=>[l,new ga().addKeys(m.keys)],count:f,query:f,openCursor:f};return zr(g).forEach(m=>{d[m]=function(y){const{subscr:_}=Qe;if(_){const u=w=>{const b="idb://".concat(e,"/").concat(n,"/").concat(w);return _[b]||(_[b]=new ga)},h=u(""),p=u(":dels"),[v,x]=g[m](y);if(u(v.name||"").add(x),!v.isPrimaryKey){if(m!=="count"){const w=m==="query"&&c&&y.values&&s.query({...y,values:!1});return s[m].apply(this,arguments).then(b=>{if(m==="query"){if(c&&y.values)return w.then(({result:C})=>(h.addKeys(C),b));const S=y.values?b.result.map(a):b.result;y.values?h.addKeys(S):p.addKeys(S)}else if(m==="openCursor"){const S=b,C=y.values;return S&&Object.create(S,{key:{get:()=>(p.addKey(S.primaryKey),S.key)},primaryKey:{get(){const A=S.primaryKey;return p.addKey(A),A}},value:{get:()=>(C&&h.addKey(S.primaryKey),S.value)}})}return b})}p.add(r)}}return s[m].apply(this,arguments)}}),d}}}};class Oh{constructor(e,r){this._middlewares={},this.verno=0;const n=Oh.dependencies;this._options=r={addons:Oh.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Gt,dbReadyPromise:null,cancelOpen:Gt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var l;o.dbReadyPromise=new $e(a=>{o.dbReadyResolve=a}),o.openCanceller=new $e((a,c)=>{o.cancelOpen=c}),this._state=o,this.name=e,this.on=Fg(this,"populate","blocked","versionchange","close",{ready:[II,Gt]}),this.on.ready.subscribe=dV(this.on.ready.subscribe,a=>(c,d)=>{Oh.vip(()=>{const f=this._state;if(f.openComplete)f.dbOpenError||$e.resolve().then(c),d&&a(c);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(c),d&&a(c);else{a(c);const g=this;d||a(function m(){g.on.ready.unsubscribe(c),g.on.ready.unsubscribe(m)})}})}),this.Collection=(l=this,Ip(C1e.prototype,function(a,c){this.db=l;let d=OV,f=null;if(c)try{d=c()}catch(_){f=_}const g=a._ctx,m=g.table,y=m.hook.reading.fire;this._ctx={table:m,index:g.index,isPrimKey:!g.index||m.schema.primKey.keyPath&&g.index===m.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:g.or,valueMapper:y!==Km?y:null}})),this.Table=function(a){return Ip(S1e.prototype,function(c,d,f){this.db=a,this._tx=f,this.name=c,this.schema=d,this.hook=a._allTables[c]?a._allTables[c].hook:Fg(null,{creating:[h1e,Gt],reading:[d1e,Km],updating:[p1e,Gt],deleting:[f1e,Gt]})})}(this),this.Transaction=function(a){return Ip(P1e.prototype,function(c,d,f,g,m){this.db=a,this.mode=c,this.storeNames=d,this.schema=f,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=Fg(this,"complete","error","abort"),this.parent=m||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e((y,_)=>{this._resolve=y,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var _=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):_&&this.idbtrans&&this.idbtrans.abort(),Yr(y)})})}(this),this.Version=function(a){return Ip(M1e.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Ip(MV.prototype,function(c,d,f){this.db=a,this._ctx={table:c,index:d===":id"?null:d,or:f};const g=a._deps.indexedDB;if(!g)throw new st.MissingAPI;this._cmp=this._ascending=g.cmp.bind(g),this._descending=(m,y)=>g.cmp(y,m),this._max=(m,y)=>g.cmp(m,y)>0?m:y,this._min=(m,y)=>g.cmp(m,y)<0?m:y,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(a.oldVersion/10))}),this._maxKey=Zm(r.IDBKeyRange),this._createTransaction=(a,c,d,f)=>new this.Transaction(a,c,d,this._options.chromeTransactionDurability,f),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Mg.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(N1e),this.use(U1e),this.use(z1e),this.use($1e),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new st.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new st.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(O1e),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Qe.letThrough||this._vip)?e():new $e((r,n)=>{if(this._state.openComplete)return n(new st.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new st.DatabaseClosed);this.open().catch(Gt)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:r,level:n==null?10:n,name:s}),o.sort((l,a)=>l.level-a.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return k1e(this)}_close(){const e=this._state,r=Mg.indexOf(this);if(r>=0&&Mg.splice(r,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new $e(n=>{e.dbReadyResolve=n}),e.openCanceller=new $e((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new st.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new $e((n,s)=>{const o=()=>{this.close();var l=this._deps.indexedDB.deleteDatabase(this.name);l.onsuccess=lr(()=>{(function({indexedDB:a,IDBKeyRange:c},d){!kI(a)&&d!==sb&&FI(a,c).delete(d).catch(Gt)})(this._deps,this.name),n()}),l.onerror=wo(s),l.onblocked=this._fireOnBlocked};if(e)throw new st.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return zr(this._allTables).map(e=>this._allTables[e])}transaction(){const e=L1e.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=Qe.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let l,a;e=e.replace("!","").replace("?","");try{if(a=r.map(d=>{var f=d instanceof this.Table?d.name:d;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e===LS)l=LS;else{if(e!="rw"&&e!=NS)throw new st.InvalidArgument("Invalid transaction mode: "+e);l=NS}if(s){if(s.mode===LS&&l===NS){if(!o)throw new st.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!o)throw new st.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(f,g)=>{g(d)}):Yr(d)}const c=NV.bind(null,this,l,a,s,n);return s?s._promise(l,c,"lock"):Qe.trans?Uf(Qe.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!Gi(this._allTables,e))throw new st.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const G1e=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class V1e{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[G1e](){return this}}function $V(t,e){return zr(e).forEach(r=>{mx(t[r]||(t[r]=new ga),e[r])}),t}function jV(t){let e,r=!1;const n=new V1e(s=>{const o=DI(t);let l=!1,a={},c={};const d={get closed(){return l},unsubscribe:()=>{l=!0,hu.storagemutated.unsubscribe(y)}};s.start&&s.start(d);let f=!1,g=!1;function m(){return zr(c).some(u=>a[u]&&j1e(a[u],c[u]))}const y=u=>{$V(a,u),m()&&_()},_=()=>{if(f||l)return;a={};const u={},h=function(p){o&&Nf();const v=()=>cu(t,{subscr:p,trans:null}),x=Qe.trans?Uf(Qe.transless,v):v();return o&&x.then(za,za),x}(u);g||(hu(qm,y),g=!0),f=!0,Promise.resolve(h).then(p=>{r=!0,e=p,f=!1,l||(m()?_():(a={},c=u,s.next&&s.next(p)))},p=>{f=!1,r=!1,s.error&&s.error(p),d.unsubscribe()})};return _(),d});return n.hasValue=()=>r,n.getValue=()=>e,n}let BD;try{BD={indexedDB:tr.indexedDB||tr.mozIndexedDB||tr.webkitIndexedDB||tr.msIndexedDB,IDBKeyRange:tr.IDBKeyRange||tr.webkitIDBKeyRange}}catch(t){BD={indexedDB:null,IDBKeyRange:null}}const Gu=Oh;function N_(t){let e=ba;try{ba=!0,hu.storagemutated.fire(t)}finally{ba=e}}uf(Gu,{...O_,delete:t=>new Gu(t,{addons:[]}).delete(),exists:t=>new Gu(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return kI(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==sb)):FI(e,r).toCollection().primaryKeys()}(Gu.dependencies).then(t)}catch(e){return Yr(new st.MissingAPI)}},defineClass:()=>function(t){Yn(this,t)},ignoreTransaction:t=>Qe.trans?Uf(Qe.transless,t):t(),vip:RD,async:function(t){return function(){try{var e=ID(t.apply(this,arguments));return e&&typeof e.then=="function"?e:$e.resolve(e)}catch(r){return Yr(r)}}},spawn:function(t,e,r){try{var n=ID(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:$e.resolve(n)}catch(s){return Yr(s)}},currentTransaction:{get:()=>Qe.trans||null},waitFor:function(t,e){const r=$e.resolve(typeof t=="function"?Gu.ignoreTransaction(t):t).timeout(e||6e4);return Qe.trans?Qe.trans.waitFor(r):r},Promise:$e,debug:{get:()=>Xo,set:t=>{vV(t,t==="dexie"?()=>!0:IV)}},derive:Ph,extend:Yn,props:uf,override:dV,Events:Fg,on:hu,liveQuery:jV,extendObservabilitySet:$V,getByKeyPath:Da,setByKeyPath:Qs,delByKeyPath:function(t,e){typeof e=="string"?Qs(t,e,void 0):"length"in e&&[].map.call(e,function(r){Qs(t,r,void 0)})},shallowClone:pV,deepClone:iy,getObjectDiff:LI,cmp:Vn,asap:hV,minKey:bD,addons:[],connections:Mg,errnames:RI,dependencies:BD,semVer:SL,version:SL.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),Gu.maxKey=Zm(Gu.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(hu(qm,t=>{if(!ba){let e;ib?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Al,!0,!0,t)):e=new CustomEvent(Al,{detail:t}),ba=!0,dispatchEvent(e),ba=!1}}),addEventListener(Al,({detail:t})=>{ba||N_(t)}));let ba=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Al);typeof t.unref=="function"&&t.unref(),hu(qm,e=>{ba||t.postMessage(e)}),t.onmessage=e=>{e.data&&N_(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){hu(qm,e=>{try{ba||(typeof localStorage<"u"&&localStorage.setItem(Al,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:Al,changedParts:e})))}catch(r){}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Al){const r=JSON.parse(e.newValue);r&&N_(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Al&&N_(e.changedParts)})}$e.rejectionMapper=function(t,e){if(!t||t instanceof Rh||t instanceof TypeError||t instanceof SyntaxError||!t.name||!xL[t.name])return t;var r=new xL[t.name](e||t.message,t);return"stack"in t&&Ta(r,"stack",{get:function(){return this.inner.stack}}),r},vV(Xo,IV);function H1e(t,e,r){var n,s;typeof t=="function"?(n=e||[],s=r):(n=[],s=e);var o=V.useRef({hasResult:!1,result:s,error:null}),l=V.useReducer(function(d){return d+1},0);l[0];var a=l[1],c=V.useMemo(function(){var d=typeof t=="function"?t():t;if(!d||typeof d.subscribe!="function")throw t===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")o.current.result=d.getValue(),o.current.hasResult=!0;else{var f=d.subscribe(function(g){o.current.result=g,o.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},n);if(V.useDebugValue(o.current.result),V.useEffect(function(){var d=c.subscribe(function(f){var g=o.current;(g.error!==null||g.result!==f)&&(g.error=null,g.result=f,g.hasResult=!0,a())},function(f){var g=o.current;g.error!==f&&(g.error=f,a())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),o.current.error)throw o.current.error;return o.current.result}function KHe(t,e,r){return H1e(function(){return jV(t)},e||[],r)}function W1e(t,e){const r=E.createContext(e),n=o=>{const{children:l,...a}=o,c=E.useMemo(()=>a,Object.values(a));return I.jsx(r.Provider,{value:c,children:l})};n.displayName=t+"Provider";function s(o){const l=E.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error("`".concat(o,"` must be used within `").concat(t,"`"))}return[n,s]}function $f(t,e=[]){let r=[];function n(o,l){const a=E.createContext(l),c=r.length;r=[...r,l];const d=g=>{var p;const{scope:m,children:y,..._}=g,u=((p=m==null?void 0:m[t])==null?void 0:p[c])||a,h=E.useMemo(()=>_,Object.values(_));return I.jsx(u.Provider,{value:h,children:y})};d.displayName=o+"Provider";function f(g,m){var u;const y=((u=m==null?void 0:m[t])==null?void 0:u[c])||a,_=E.useContext(y);if(_)return _;if(l!==void 0)return l;throw new Error("`".concat(g,"` must be used within `").concat(o,"`"))}return[d,f]}const s=()=>{const o=r.map(l=>E.createContext(l));return function(a){const c=(a==null?void 0:a[t])||o;return E.useMemo(()=>({["__scope".concat(t)]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,K1e(s,...e)]}function K1e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((a,{useScope:c,scopeName:d})=>{const g=c(o)["__scope".concat(d)];return{...a,...g}},{});return E.useMemo(()=>({["__scope".concat(e.scopeName)]:l}),[l])}};return r.scopeName=e.scopeName,r}var X1e="DismissableLayer",MD="dismissableLayer.update",Y1e="dismissableLayer.pointerDownOutside",q1e="dismissableLayer.focusOutside",OL,zV=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ob=E.forwardRef((t,e)=>{var C;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...c}=t,d=E.useContext(zV),[f,g]=E.useState(null),m=(C=f==null?void 0:f.ownerDocument)!=null?C:globalThis==null?void 0:globalThis.document,[,y]=E.useState({}),_=Xe(e,A=>g(A)),u=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(h),v=f?u.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,b=Q1e(A=>{const T=A.target,P=[...d.branches].some(B=>B.contains(T));!w||P||(s==null||s(A),l==null||l(A),A.defaultPrevented||a==null||a())},m),S=J1e(A=>{const T=A.target;[...d.branches].some(B=>B.contains(T))||(o==null||o(A),l==null||l(A),A.defaultPrevented||a==null||a())},m);return k9(A=>{v===d.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},m),E.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),BL(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=OL)}},[f,m,r,d]),E.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),BL())},[f,d]),E.useEffect(()=>{const A=()=>y({});return document.addEventListener(MD,A),()=>document.removeEventListener(MD,A)},[]),I.jsx(Ae.div,{...c,ref:_,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,b.onPointerDownCapture)})});ob.displayName=X1e;var Z1e="DismissableLayerBranch",GV=E.forwardRef((t,e)=>{const r=E.useContext(zV),n=E.useRef(null),s=Xe(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),I.jsx(Ae.div,{...t,ref:s})});GV.displayName=Z1e;function Q1e(t,e=globalThis==null?void 0:globalThis.document){const r=Ut(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){VV(Y1e,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function J1e(t,e=globalThis==null?void 0:globalThis.document){const r=Ut(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&VV(q1e,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function BL(){const t=new CustomEvent(MD);document.dispatchEvent(t)}function VV(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Xv(s,o):s.dispatchEvent(o)}var exe=ob,txe=GV,GS=0;function HV(){E.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:ML()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:ML()),GS++,()=>{GS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),GS--}},[])}function ML(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rxe="Portal",ab=E.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=E.useState(!1);Gr(()=>o(!0),[]);const l=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?D2.createPortal(I.jsx(Ae.div,{...n,ref:e}),l):null});ab.displayName=rxe;function nxe(t,e){return E.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var Za=t=>{const{present:e,children:r}=t,n=ixe(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=Xe(n.ref,sxe(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};Za.displayName="Presence";function ixe(t){const[e,r]=E.useState(),n=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),l=t?"mounted":"unmounted",[a,c]=nxe(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=N0(n.current);o.current=a==="mounted"?d:"none"},[a]),Gr(()=>{const d=n.current,f=s.current;if(f!==t){const m=o.current,y=N0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Gr(()=>{var d;if(e){let f;const g=(d=e.ownerDocument.defaultView)!=null?d:window,m=_=>{const h=N0(n.current).includes(_.animationName);if(_.target===e&&h&&(c("ANIMATION_END"),!s.current)){const p=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=p)})}},y=_=>{_.target===e&&(o.current=N0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function N0(t){return(t==null?void 0:t.animationName)||"none"}function sxe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var WV=gG(),VS=function(){},lb=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:VS,onWheelCapture:VS,onTouchMoveCapture:VS}),s=n[0],o=n[1],l=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,g=t.shards,m=t.sideCar,y=t.noIsolation,_=t.inert,u=t.allowPinchZoom,h=t.as,p=h===void 0?"div":h,v=t.gapMode,x=gI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,b=pG([r,e]),S=An(An({},x),s);return E.createElement(E.Fragment,null,f&&E.createElement(w,{sideCar:WV,removeScrollBar:d,shards:g,noIsolation:y,inert:_,setCallbacks:o,allowPinchZoom:!!u,lockRef:r,gapMode:v}),l?E.cloneElement(E.Children.only(a),An(An({},S),{ref:b})):E.createElement(p,An({},S,{className:c,ref:b}),a))});lb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lb.classNames={fullWidth:Ig,zeroRight:Rg};var FD=!1;if(typeof window<"u")try{var U0=Object.defineProperty({},"passive",{get:function(){return FD=!0,!0}});window.addEventListener("test",U0,U0),window.removeEventListener("test",U0,U0)}catch(t){FD=!1}var Od=FD?{passive:!1}:!1,oxe=function(t){return t.tagName==="TEXTAREA"},KV=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!oxe(t)&&r[e]==="visible")},axe=function(t){return KV(t,"overflowY")},lxe=function(t){return KV(t,"overflowX")},FL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=XV(t,n);if(s){var o=YV(t,n),l=o[1],a=o[2];if(l>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uxe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},cxe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},XV=function(t,e){return t==="v"?axe(e):lxe(e)},YV=function(t,e){return t==="v"?uxe(e):cxe(e)},dxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},hxe=function(t,e,r,n,s){var o=dxe(t,window.getComputedStyle(e).direction),l=o*n,a=r.target,c=e.contains(a),d=!1,f=l>0,g=0,m=0;do{var y=YV(t,a),_=y[0],u=y[1],h=y[2],p=u-h-o*_;(_||p)&&XV(t,a)&&(g+=p,m+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(s&&Math.abs(g)<1||!s&&l>g)||!f&&(s&&Math.abs(m)<1||!s&&-l>m))&&(d=!0),d},$0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kL=function(t){return[t.deltaX,t.deltaY]},LL=function(t){return t&&"current"in t?t.current:t},fxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pxe=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},gxe=0,Bd=[];function mxe(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(gxe++)[0],o=E.useState(mI)[0],l=E.useRef(t);E.useEffect(function(){l.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var u=fG([t.lockRef.current],(t.shards||[]).map(LL),!0).filter(Boolean);return u.forEach(function(h){return h.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(u,h){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!l.current.allowPinchZoom;var p=$0(u),v=r.current,x="deltaX"in u?u.deltaX:v[0]-p[0],w="deltaY"in u?u.deltaY:v[1]-p[1],b,S=u.target,C=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in u&&C==="h"&&S.type==="range")return!1;var A=FL(C,S);if(!A)return!0;if(A?b=C:(b=C==="v"?"h":"v",A=FL(C,S)),!A)return!1;if(!n.current&&"changedTouches"in u&&(x||w)&&(n.current=b),!b)return!0;var T=n.current||b;return hxe(T,h,u,T==="h"?x:w,!0)},[]),c=E.useCallback(function(u){var h=u;if(!(!Bd.length||Bd[Bd.length-1]!==o)){var p="deltaY"in h?kL(h):$0(h),v=e.current.filter(function(b){return b.name===h.type&&(b.target===h.target||h.target===b.shadowParent)&&fxe(b.delta,p)})[0];if(v&&v.should){h.cancelable&&h.preventDefault();return}if(!v){var x=(l.current.shards||[]).map(LL).filter(Boolean).filter(function(b){return b.contains(h.target)}),w=x.length>0?a(h,x[0]):!l.current.noIsolation;w&&h.cancelable&&h.preventDefault()}}},[]),d=E.useCallback(function(u,h,p,v){var x={name:u,delta:h,target:p,should:v,shadowParent:vxe(p)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(w){return w!==x})},1)},[]),f=E.useCallback(function(u){r.current=$0(u),n.current=void 0},[]),g=E.useCallback(function(u){d(u.type,kL(u),u.target,a(u,t.lockRef.current))},[]),m=E.useCallback(function(u){d(u.type,$0(u),u.target,a(u,t.lockRef.current))},[]);E.useEffect(function(){return Bd.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Od),document.addEventListener("touchmove",c,Od),document.addEventListener("touchstart",f,Od),function(){Bd=Bd.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,Od),document.removeEventListener("touchmove",c,Od),document.removeEventListener("touchstart",f,Od)}},[]);var y=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(o,{styles:pxe(s)}):null,y?E.createElement(_G,{gapMode:t.gapMode}):null)}function vxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yxe=vG(WV,mxe);var qV=E.forwardRef(function(t,e){return E.createElement(lb,An({},t,{ref:e,sideCar:yxe}))});qV.classNames=lb.classNames;const ZV=qV;var kD=["Enter"," "],_xe=["ArrowDown","PageUp","Home"],QV=["ArrowUp","PageDown","End"],xxe=[..._xe,...QV],wxe={ltr:[...kD,"ArrowRight"],rtl:[...kD,"ArrowLeft"]},bxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ay="Menu",[Jm,Exe,Sxe]=id(ay),[ud,Cxe]=$f(ay,[Sxe,Ko,Ps]),ub=Ko(),JV=Ps(),[Axe,cd]=ud(ay),[Txe,ly]=ud(ay),eH=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:l=!0}=t,a=ub(e),[c,d]=E.useState(null),f=E.useRef(!1),g=Ut(o),m=Ho(s);return E.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),I.jsx(Ff,{...a,children:I.jsx(Axe,{scope:e,open:r,onOpenChange:g,content:c,onContentChange:d,children:I.jsx(Txe,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:f,dir:m,modal:l,children:n})})})};eH.displayName=ay;var Dxe="MenuAnchor",UI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=ub(r);return I.jsx(kf,{...s,...n,ref:e})});UI.displayName=Dxe;var $I="MenuPortal",[Pxe,tH]=ud($I,{forceMount:void 0}),rH=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=cd($I,e);return I.jsx(Pxe,{scope:e,forceMount:r,children:I.jsx(Za,{present:r||o.open,children:I.jsx(ab,{asChild:!0,container:s,children:n})})})};rH.displayName=$I;var bs="MenuContent",[Rxe,jI]=ud(bs),nH=E.forwardRef((t,e)=>{const r=tH(bs,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=cd(bs,t.__scopeMenu),l=ly(bs,t.__scopeMenu);return I.jsx(Jm.Provider,{scope:t.__scopeMenu,children:I.jsx(Za,{present:n||o.open,children:I.jsx(Jm.Slot,{scope:t.__scopeMenu,children:l.modal?I.jsx(Ixe,{...s,ref:e}):I.jsx(Oxe,{...s,ref:e})})})})}),Ixe=E.forwardRef((t,e)=>{const r=cd(bs,t.__scopeMenu),n=E.useRef(null),s=Xe(e,n);return E.useEffect(()=>{const o=n.current;if(o)return ey(o)},[]),I.jsx(zI,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Oxe=E.forwardRef((t,e)=>{const r=cd(bs,t.__scopeMenu);return I.jsx(zI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),zI=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:y,disableOutsideScroll:_,...u}=t,h=cd(bs,r),p=ly(bs,r),v=ub(r),x=JV(r),w=Exe(r),[b,S]=E.useState(null),C=E.useRef(null),A=Xe(e,C,h.onContentChange),T=E.useRef(0),P=E.useRef(""),B=E.useRef(0),D=E.useRef(null),R=E.useRef("right"),O=E.useRef(0),k=_?ZV:E.Fragment,j=_?{as:Uo,allowPinchZoom:!0}:void 0,U=L=>{var Y,Z;const H=P.current+L,K=w().filter(Q=>!Q.disabled),te=document.activeElement,le=(Y=K.find(Q=>Q.ref.current===te))==null?void 0:Y.textValue,ne=K.map(Q=>Q.textValue),fe=Vxe(ne,H,le),z=(Z=K.find(Q=>Q.textValue===fe))==null?void 0:Z.ref.current;(function Q(pe){P.current=pe,window.clearTimeout(T.current),pe!==""&&(T.current=window.setTimeout(()=>Q(""),1e3))})(H),z&&setTimeout(()=>z.focus())};E.useEffect(()=>()=>window.clearTimeout(T.current),[]),HV();const N=E.useCallback(L=>{var K,te;return R.current===((K=D.current)==null?void 0:K.side)&&Wxe(L,(te=D.current)==null?void 0:te.area)},[]);return I.jsx(Rxe,{scope:r,searchRef:P,onItemEnter:E.useCallback(L=>{N(L)&&L.preventDefault()},[N]),onItemLeave:E.useCallback(L=>{var H;N(L)||((H=C.current)==null||H.focus(),S(null))},[N]),onTriggerLeave:E.useCallback(L=>{N(L)&&L.preventDefault()},[N]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(L=>{D.current=L},[]),children:I.jsx(k,{...j,children:I.jsx(Of,{asChild:!0,trapped:s,onMountAutoFocus:ie(o,L=>{var H;L.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:I.jsx(ob,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:y,children:I.jsx(Lf,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:ie(c,L=>{p.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(Zv,{role:"menu","aria-orientation":"vertical","data-state":_H(h.open),"data-radix-menu-content":"",dir:p.dir,...v,...u,ref:A,style:{outline:"none",...u.style},onKeyDown:ie(u.onKeyDown,L=>{const K=L.target.closest("[data-radix-menu-content]")===L.currentTarget,te=L.ctrlKey||L.altKey||L.metaKey,le=L.key.length===1;K&&(L.key==="Tab"&&L.preventDefault(),!te&&le&&U(L.key));const ne=C.current;if(L.target!==ne||!xxe.includes(L.key))return;L.preventDefault();const z=w().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);QV.includes(L.key)&&z.reverse(),zxe(z)}),onBlur:ie(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:ie(t.onPointerMove,ev(L=>{const H=L.target,K=O.current!==L.clientX;if(L.currentTarget.contains(H)&&K){const te=L.clientX>O.current?"right":"left";R.current=te,O.current=L.clientX}}))})})})})})})});nH.displayName=bs;var Bxe="MenuGroup",GI=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{role:"group",...n,ref:e})});GI.displayName=Bxe;var Mxe="MenuLabel",iH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{...n,ref:e})});iH.displayName=Mxe;var vx="MenuItem",NL="menu.itemSelect",cb=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=E.useRef(null),l=ly(vx,t.__scopeMenu),a=jI(vx,t.__scopeMenu),c=Xe(e,o),d=E.useRef(!1),f=()=>{const g=o.current;if(!r&&g){const m=new CustomEvent(NL,{bubbles:!0,cancelable:!0});g.addEventListener(NL,y=>n==null?void 0:n(y),{once:!0}),Xv(g,m),m.defaultPrevented?d.current=!1:l.onClose()}};return I.jsx(sH,{...s,ref:c,disabled:r,onClick:ie(t.onClick,f),onPointerDown:g=>{var m;(m=t.onPointerDown)==null||m.call(t,g),d.current=!0},onPointerUp:ie(t.onPointerUp,g=>{var m;d.current||(m=g.currentTarget)==null||m.click()}),onKeyDown:ie(t.onKeyDown,g=>{const m=a.searchRef.current!=="";r||m&&g.key===" "||kD.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});cb.displayName=vx;var sH=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,l=jI(vx,r),a=JV(r),c=E.useRef(null),d=Xe(e,c),[f,g]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{var u;const _=c.current;_&&y(((u=_.textContent)!=null?u:"").trim())},[o.children]),I.jsx(Jm.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:m,children:I.jsx(sd,{asChild:!0,...a,focusable:!n,children:I.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:ie(t.onPointerMove,ev(_=>{n?l.onItemLeave(_):(l.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,ev(_=>l.onItemLeave(_))),onFocus:ie(t.onFocus,()=>g(!0)),onBlur:ie(t.onBlur,()=>g(!1))})})})}),Fxe="MenuCheckboxItem",oH=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return I.jsx(dH,{scope:t.__scopeMenu,checked:r,children:I.jsx(cb,{role:"menuitemcheckbox","aria-checked":yx(r)?"mixed":r,...s,ref:e,"data-state":HI(r),onSelect:ie(s.onSelect,()=>n==null?void 0:n(yx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});oH.displayName=Fxe;var aH="MenuRadioGroup",[kxe,Lxe]=ud(aH,{value:void 0,onValueChange:()=>{}}),lH=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Ut(n);return I.jsx(kxe,{scope:t.__scopeMenu,value:r,onValueChange:o,children:I.jsx(GI,{...s,ref:e})})});lH.displayName=aH;var uH="MenuRadioItem",cH=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=Lxe(uH,t.__scopeMenu),o=r===s.value;return I.jsx(dH,{scope:t.__scopeMenu,checked:o,children:I.jsx(cb,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":HI(o),onSelect:ie(n.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,r)},{checkForDefaultPrevented:!1})})})});cH.displayName=uH;var VI="MenuItemIndicator",[dH,Nxe]=ud(VI,{checked:!1}),hH=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=Nxe(VI,r);return I.jsx(Za,{present:n||yx(o.checked)||o.checked===!0,children:I.jsx(Ae.span,{...s,ref:e,"data-state":HI(o.checked)})})});hH.displayName=VI;var Uxe="MenuSeparator",fH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return I.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});fH.displayName=Uxe;var $xe="MenuArrow",pH=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=ub(r);return I.jsx(Qv,{...s,...n,ref:e})});pH.displayName=$xe;var jxe="MenuSub",[XHe,gH]=ud(jxe),ig="MenuSubTrigger",mH=E.forwardRef((t,e)=>{const r=cd(ig,t.__scopeMenu),n=ly(ig,t.__scopeMenu),s=gH(ig,t.__scopeMenu),o=jI(ig,t.__scopeMenu),l=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},f=E.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return E.useEffect(()=>f,[f]),E.useEffect(()=>{const g=a.current;return()=>{window.clearTimeout(g),c(null)}},[a,c]),I.jsx(UI,{asChild:!0,...d,children:I.jsx(sH,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":_H(r.open),...t,ref:Kv(e,s.onTriggerChange),onClick:g=>{var m;(m=t.onClick)==null||m.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,ev(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:ie(t.onPointerLeave,ev(g=>{var y,_;f();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const u=(_=r.content)==null?void 0:_.dataset.side,h=u==="right",p=h?-5:5,v=m[h?"left":"right"],x=m[h?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+p,y:g.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:u}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,g=>{var y;const m=o.searchRef.current!=="";t.disabled||m&&g.key===" "||wxe[n.dir].includes(g.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),g.preventDefault())})})})});mH.displayName=ig;var vH="MenuSubContent",yH=E.forwardRef((t,e)=>{const r=tH(bs,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=cd(bs,t.__scopeMenu),l=ly(bs,t.__scopeMenu),a=gH(vH,t.__scopeMenu),c=E.useRef(null),d=Xe(e,c);return I.jsx(Jm.Provider,{scope:t.__scopeMenu,children:I.jsx(Za,{present:n||o.open,children:I.jsx(Jm.Slot,{scope:t.__scopeMenu,children:I.jsx(zI,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var g;l.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ie(t.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{var y;const g=f.currentTarget.contains(f.target),m=bxe[l.dir].includes(f.key);g&&m&&(o.onOpenChange(!1),(y=a.trigger)==null||y.focus(),f.preventDefault())})})})})})});yH.displayName=vH;function _H(t){return t?"open":"closed"}function yx(t){return t==="indeterminate"}function HI(t){return yx(t)?"indeterminate":t?"checked":"unchecked"}function zxe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Gxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Vxe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=Gxe(t,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Hxe(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const a=e[o].x,c=e[o].y,d=e[l].x,f=e[l].y;c>n!=f>n&&r<(d-a)*(n-c)/(f-c)+a&&(s=!s)}return s}function Wxe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Hxe(r,e)}function ev(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Kxe=eH,Xxe=UI,Yxe=rH,qxe=nH,Zxe=GI,Qxe=iH,Jxe=cb,ewe=oH,twe=lH,rwe=cH,nwe=hH,iwe=fH,swe=pH,owe=mH,awe=yH,db="Menubar",[LD,lwe,uwe]=id(db),[xH,YHe]=$f(db,[uwe,Ps]),Jn=Cxe(),wH=Ps(),[cwe,WI]=xH(db),bH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,value:n,onValueChange:s,defaultValue:o,loop:l=!0,dir:a,...c}=t,d=Ho(a),f=wH(r),[g="",m]=Mn({prop:n,onChange:s,defaultProp:o}),[y,_]=E.useState(null);return I.jsx(cwe,{scope:r,value:g,onMenuOpen:E.useCallback(u=>{m(u),_(u)},[m]),onMenuClose:E.useCallback(()=>m(""),[m]),onMenuToggle:E.useCallback(u=>{m(h=>h?"":u),_(u)},[m]),dir:d,loop:l,children:I.jsx(LD.Provider,{scope:r,children:I.jsx(LD.Slot,{scope:r,children:I.jsx(Lf,{asChild:!0,...f,orientation:"horizontal",loop:l,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:_,children:I.jsx(Ae.div,{role:"menubar",...c,ref:e})})})})})});bH.displayName=db;var KI="MenubarMenu",[dwe,EH]=xH(KI),SH=t=>{const{__scopeMenubar:e,value:r,...n}=t,s=yn(),o=r||s||"LEGACY_REACT_AUTO_VALUE",l=WI(KI,e),a=Jn(e),c=E.useRef(null),d=E.useRef(!1),f=l.value===o;return E.useEffect(()=>{f||(d.current=!1)},[f]),I.jsx(dwe,{scope:e,value:o,triggerId:yn(),triggerRef:c,contentId:yn(),wasKeyboardTriggerOpenRef:d,children:I.jsx(Kxe,{...a,open:f,onOpenChange:g=>{g||l.onMenuClose()},modal:!1,dir:l.dir,...n})})};SH.displayName=KI;var ND="MenubarTrigger",CH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,disabled:n=!1,...s}=t,o=wH(r),l=Jn(r),a=WI(ND,r),c=EH(ND,r),d=E.useRef(null),f=Xe(e,d,c.triggerRef),[g,m]=E.useState(!1),y=a.value===c.value;return I.jsx(LD.ItemSlot,{scope:r,value:c.value,disabled:n,children:I.jsx(sd,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:I.jsx(Xxe,{asChild:!0,...l,children:I.jsx(Ae.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":g?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:f,onPointerDown:ie(t.onPointerDown,_=>{!n&&_.button===0&&_.ctrlKey===!1&&(a.onMenuOpen(c.value),y||_.preventDefault())}),onPointerEnter:ie(t.onPointerEnter,()=>{var u;!!a.value&&!y&&(a.onMenuOpen(c.value),(u=d.current)==null||u.focus())}),onKeyDown:ie(t.onKeyDown,_=>{n||(["Enter"," "].includes(_.key)&&a.onMenuToggle(c.value),_.key==="ArrowDown"&&a.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(_.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,_.preventDefault()))}),onFocus:ie(t.onFocus,()=>m(!0)),onBlur:ie(t.onBlur,()=>m(!1))})})})})});CH.displayName=ND;var hwe="MenubarPortal",AH=t=>{const{__scopeMenubar:e,...r}=t,n=Jn(e);return I.jsx(Yxe,{...n,...r})};AH.displayName=hwe;var UD="MenubarContent",TH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,align:n="start",...s}=t,o=Jn(r),l=WI(UD,r),a=EH(UD,r),c=lwe(r),d=E.useRef(!1);return I.jsx(qxe,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...o,...s,ref:e,align:n,onCloseAutoFocus:ie(t.onCloseAutoFocus,f=>{var m;!!!l.value&&!d.current&&((m=a.triggerRef.current)==null||m.focus()),d.current=!1,f.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,f=>{const g=f.target;c().some(y=>{var _;return(_=y.ref.current)==null?void 0:_.contains(g)})&&f.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:f=>{a.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:ie(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const g=f.target,m=g.hasAttribute("data-radix-menubar-subtrigger"),y=g.closest("[data-radix-menubar-content]")!==f.currentTarget,u=(l.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!u&&m||y&&u)return;let v=c().filter(b=>!b.disabled).map(b=>b.value);u&&v.reverse();const x=v.indexOf(a.value);v=l.loop?Twe(v,x+1):v.slice(x+1);const[w]=v;w&&l.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});TH.displayName=UD;var fwe="MenubarGroup",pwe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(Zxe,{...s,...n,ref:e})});pwe.displayName=fwe;var gwe="MenubarLabel",DH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(Qxe,{...s,...n,ref:e})});DH.displayName=gwe;var mwe="MenubarItem",PH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(Jxe,{...s,...n,ref:e})});PH.displayName=mwe;var vwe="MenubarCheckboxItem",RH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(ewe,{...s,...n,ref:e})});RH.displayName=vwe;var ywe="MenubarRadioGroup",_we=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(twe,{...s,...n,ref:e})});_we.displayName=ywe;var xwe="MenubarRadioItem",IH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(rwe,{...s,...n,ref:e})});IH.displayName=xwe;var wwe="MenubarItemIndicator",OH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(nwe,{...s,...n,ref:e})});OH.displayName=wwe;var bwe="MenubarSeparator",BH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(iwe,{...s,...n,ref:e})});BH.displayName=bwe;var Ewe="MenubarArrow",Swe=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(swe,{...s,...n,ref:e})});Swe.displayName=Ewe;var Cwe="MenubarSubTrigger",MH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(owe,{"data-radix-menubar-subtrigger":"",...s,...n,ref:e})});MH.displayName=Cwe;var Awe="MenubarSubContent",FH=E.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Jn(r);return I.jsx(awe,{...s,"data-radix-menubar-content":"",...n,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});FH.displayName=Awe;function Twe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var qHe=bH,ZHe=SH,QHe=CH,JHe=AH,eWe=TH,tWe=DH,rWe=PH,nWe=RH,iWe=IH,sWe=OH,oWe=BH,aWe=MH,lWe=FH,uy=t=>t.type==="checkbox",ch=t=>t instanceof Date,Gn=t=>t==null;const kH=t=>typeof t=="object";var Vr=t=>!Gn(t)&&!Array.isArray(t)&&kH(t)&&!ch(t),LH=t=>Vr(t)&&t.target?uy(t.target)?t.target.checked:t.target.value:t,Dwe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NH=(t,e)=>t.has(Dwe(e)),Pwe=t=>{const e=t.constructor&&t.constructor.prototype;return Vr(e)&&e.hasOwnProperty("isPrototypeOf")},XI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wr(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(XI&&(t instanceof Blob||t instanceof FileList))&&(r||Vr(t)))if(e=r?[]:{},!r&&!Pwe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Wr(t[n]));else return t;return e}var cy=t=>Array.isArray(t)?t.filter(Boolean):[],Kt=t=>t===void 0,xe=(t,e,r)=>{if(!e||!Vr(t))return r;const n=cy(e.split(/[,[\].]+?/)).reduce((s,o)=>Gn(s)?s:s[o],t);return Kt(n)||n===t?Kt(t[e])?r:t[e]:n},ss=t=>typeof t=="boolean",YI=t=>/^\w*$/.test(t),UH=t=>cy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(t,e,r)=>{let n=-1;const s=YI(e)?[e]:UH(e),o=s.length,l=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==l){const d=t[a];c=Vr(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;t[a]=c,t=t[a]}return t};const _x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$H=V.createContext(null),hb=()=>V.useContext($H),uWe=t=>{const{children:e,...r}=t;return V.createElement($H.Provider,{value:r},e)};var jH=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const l=o;return e._proxyFormState[l]!==cs.all&&(e._proxyFormState[l]=!n||cs.all),r&&(r[l]=!0),t[l]}});return s},$n=t=>Vr(t)&&!Object.keys(t).length,zH=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return $n(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!n||cs.all))},li=t=>Array.isArray(t)?t:[t],GH=(t,e,r)=>!t||!e||t===e||li(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function fb(t){const e=V.useRef(t);e.current=t,V.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Rwe(t){const e=hb(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[l,a]=V.useState(r._formState),c=V.useRef(!0),d=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=V.useRef(s);return f.current=s,fb({disabled:n,next:g=>c.current&&GH(f.current,g.name,o)&&zH(g,d.current,r._updateFormState)&&a({...r._formState,...g}),subject:r._subjects.state}),V.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),jH(l,r,d.current,!1)}var Po=t=>typeof t=="string",VH=(t,e,r,n,s)=>Po(t)?(n&&e.watch.add(t),xe(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),xe(r,o))):(n&&(e.watchAll=!0),r);function Iwe(t){const e=hb(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:l}=t||{},a=V.useRef(n);a.current=n,fb({disabled:o,subject:r._subjects.values,next:f=>{GH(a.current,f.name,l)&&d(Wr(VH(a.current,r._names,f.values||r._formValues,!1,s)))}});const[c,d]=V.useState(r._getWatch(n,s));return V.useEffect(()=>r._removeUnmounted()),c}function Owe(t){const e=hb(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o}=t,l=NH(s._names.array,r),a=Iwe({control:s,name:r,defaultValue:xe(s._formValues,r,xe(s._defaultValues,r,t.defaultValue)),exact:!0}),c=Rwe({control:s,name:r,exact:!0}),d=V.useRef(s.register(r,{...t.rules,value:a,...ss(t.disabled)?{disabled:t.disabled}:{}}));return V.useEffect(()=>{const f=s._options.shouldUnregister||o,g=(m,y)=>{const _=xe(s._fields,m);_&&_._f&&(_._f.mount=y)};if(g(r,!0),f){const m=Wr(xe(s._options.defaultValues,r));Ot(s._defaultValues,r,m),Kt(xe(s._formValues,r))&&Ot(s._formValues,r,m)}return()=>{(l?f&&!s._state.action:f)?s.unregister(r):g(r,!1)}},[r,s,l,o]),V.useEffect(()=>{xe(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:xe(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...ss(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:V.useCallback(f=>d.current.onChange({target:{value:LH(f),name:r},type:_x.CHANGE}),[r]),onBlur:V.useCallback(()=>d.current.onBlur({target:{value:xe(s._formValues,r),name:r},type:_x.BLUR}),[r,s]),ref:V.useCallback(f=>{const g=xe(s._fields,r);g&&f&&(g._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:m=>f.setCustomValidity(m),reportValidity:()=>f.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(c.validatingFields,r)},error:{enumerable:!0,get:()=>xe(c.errors,r)}})}}const cWe=t=>t.render(Owe(t));var HH=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},ll=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},HS=(t,e,r={})=>r.shouldFocus||Kt(r.shouldFocus)?r.focusName||"".concat(t,".").concat(Kt(r.focusIndex)?e:r.focusIndex,"."):"",Lg=t=>({isOnSubmit:!t||t===cs.onSubmit,isOnBlur:t===cs.onBlur,isOnChange:t===cs.onChange,isOnAll:t===cs.all,isOnTouch:t===cs.onTouched}),$D=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Bh=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=xe(t,s);if(o){const{_f:l,...a}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(Bh(a,e))break}else if(Vr(a)&&Bh(a,e))break}}};var WH=(t,e,r)=>{const n=li(xe(t,r));return Ot(n,"root",e[r]),Ot(t,r,n),t},qI=t=>t.type==="file",Ea=t=>typeof t=="function",xx=t=>{if(!XI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},U_=t=>Po(t),ZI=t=>t.type==="radio",wx=t=>t instanceof RegExp;const UL={value:!1,isValid:!1},$L={value:!0,isValid:!0};var KH=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?$L:{value:t[0].value,isValid:!0}:$L:UL}return UL};const jL={isValid:!1,value:null};var XH=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,jL):jL;function zL(t,e,r="validate"){if(U_(t)||Array.isArray(t)&&t.every(U_)||ss(t)&&!t)return{type:r,message:U_(t)?t:"",ref:e}}var Md=t=>Vr(t)&&!wx(t)?t:{value:t,message:""},jD=async(t,e,r,n,s)=>{const{ref:o,refs:l,required:a,maxLength:c,minLength:d,min:f,max:g,pattern:m,validate:y,name:_,valueAsNumber:u,mount:h,disabled:p}=t._f,v=xe(e,_);if(!h||p)return{};const x=l?l[0]:o,w=D=>{n&&x.reportValidity&&(x.setCustomValidity(ss(D)?"":D||""),x.reportValidity())},b={},S=ZI(o),C=uy(o),A=S||C,T=(u||qI(o))&&Kt(o.value)&&Kt(v)||xx(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,P=HH.bind(null,_,r,b),B=(D,R,O,k=ra.maxLength,j=ra.minLength)=>{const U=D?R:O;b[_]={type:D?k:j,message:U,ref:o,...P(D?k:j,U)}};if(s?!Array.isArray(v)||!v.length:a&&(!A&&(T||Gn(v))||ss(v)&&!v||C&&!KH(l).isValid||S&&!XH(l).isValid)){const{value:D,message:R}=U_(a)?{value:!!a,message:a}:Md(a);if(D&&(b[_]={type:ra.required,message:R,ref:x,...P(ra.required,R)},!r))return w(R),b}if(!T&&(!Gn(f)||!Gn(g))){let D,R;const O=Md(g),k=Md(f);if(!Gn(v)&&!isNaN(v)){const j=o.valueAsNumber||v&&+v;Gn(O.value)||(D=j>O.value),Gn(k.value)||(R=j<k.value)}else{const j=o.valueAsDate||new Date(v),U=H=>new Date(new Date().toDateString()+" "+H),N=o.type=="time",L=o.type=="week";Po(O.value)&&v&&(D=N?U(v)>U(O.value):L?v>O.value:j>new Date(O.value)),Po(k.value)&&v&&(R=N?U(v)<U(k.value):L?v<k.value:j<new Date(k.value))}if((D||R)&&(B(!!D,O.message,k.message,ra.max,ra.min),!r))return w(b[_].message),b}if((c||d)&&!T&&(Po(v)||s&&Array.isArray(v))){const D=Md(c),R=Md(d),O=!Gn(D.value)&&v.length>+D.value,k=!Gn(R.value)&&v.length<+R.value;if((O||k)&&(B(O,D.message,R.message),!r))return w(b[_].message),b}if(m&&!T&&Po(v)){const{value:D,message:R}=Md(m);if(wx(D)&&!v.match(D)&&(b[_]={type:ra.pattern,message:R,ref:o,...P(ra.pattern,R)},!r))return w(R),b}if(y){if(Ea(y)){const D=await y(v,e),R=zL(D,x);if(R&&(b[_]={...R,...P(ra.validate,R.message)},!r))return w(R.message),b}else if(Vr(y)){let D={};for(const R in y){if(!$n(D)&&!r)break;const O=zL(await y[R](v,e),x,R);O&&(D={...O,...P(R,O.message)},w(O.message),r&&(b[_]=D))}if(!$n(D)&&(b[_]={ref:x,...D},!r))return b}}return w(!0),b},WS=(t,e)=>[...t,...li(e)],KS=t=>Array.isArray(t)?t.map(()=>{}):void 0;function XS(t,e,r){return[...t.slice(0,e),...li(r),...t.slice(e)]}var YS=(t,e,r)=>Array.isArray(t)?(Kt(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],qS=(t,e)=>[...li(e),...li(t)];function Bwe(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return cy(n).length?n:[]}var ZS=(t,e)=>Kt(e)?[]:Bwe(t,li(e).sort((r,n)=>r-n)),QS=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function Mwe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Kt(t)?n++:t[e[n++]];return t}function Fwe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function Mr(t,e){const r=Array.isArray(e)?e:YI(e)?[e]:UH(e),n=r.length===1?t:Mwe(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Vr(n)&&$n(n)||Array.isArray(n)&&Fwe(n))&&Mr(t,r.slice(0,-1)),t}var GL=(t,e,r)=>(t[e]=r,t);function dWe(t){const e=hb(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:o}=t,[l,a]=V.useState(r._getFieldArray(n)),c=V.useRef(r._getFieldArray(n).map(ll)),d=V.useRef(l),f=V.useRef(n),g=V.useRef(!1);f.current=n,d.current=l,r._names.array.add(n),t.rules&&r.register(n,t.rules),fb({next:({values:b,name:S})=>{if(S===f.current||!S){const C=xe(b,f.current);Array.isArray(C)&&(a(C),c.current=C.map(ll))}},subject:r._subjects.array});const m=V.useCallback(b=>{g.current=!0,r._updateFieldArray(n,b)},[r,n]),y=(b,S)=>{const C=li(Wr(b)),A=WS(r._getFieldArray(n),C);r._names.focus=HS(n,A.length-1,S),c.current=WS(c.current,C.map(ll)),m(A),a(A),r._updateFieldArray(n,A,WS,{argA:KS(b)})},_=(b,S)=>{const C=li(Wr(b)),A=qS(r._getFieldArray(n),C);r._names.focus=HS(n,0,S),c.current=qS(c.current,C.map(ll)),m(A),a(A),r._updateFieldArray(n,A,qS,{argA:KS(b)})},u=b=>{const S=ZS(r._getFieldArray(n),b);c.current=ZS(c.current,b),m(S),a(S),r._updateFieldArray(n,S,ZS,{argA:b})},h=(b,S,C)=>{const A=li(Wr(S)),T=XS(r._getFieldArray(n),b,A);r._names.focus=HS(n,b,C),c.current=XS(c.current,b,A.map(ll)),m(T),a(T),r._updateFieldArray(n,T,XS,{argA:b,argB:KS(S)})},p=(b,S)=>{const C=r._getFieldArray(n);QS(C,b,S),QS(c.current,b,S),m(C),a(C),r._updateFieldArray(n,C,QS,{argA:b,argB:S},!1)},v=(b,S)=>{const C=r._getFieldArray(n);YS(C,b,S),YS(c.current,b,S),m(C),a(C),r._updateFieldArray(n,C,YS,{argA:b,argB:S},!1)},x=(b,S)=>{const C=Wr(S),A=GL(r._getFieldArray(n),b,C);c.current=[...A].map((T,P)=>!T||P===b?ll():c.current[P]),m(A),a([...A]),r._updateFieldArray(n,A,GL,{argA:b,argB:C},!0,!1)},w=b=>{const S=li(Wr(b));c.current=S.map(ll),m([...S]),a([...S]),r._updateFieldArray(n,[...S],C=>C,{},!0,!1)};return V.useEffect(()=>{if(r._state.action=!1,$D(n,r._names)&&r._subjects.state.next({...r._formState}),g.current&&(!Lg(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(b=>{const S=xe(b.errors,n),C=xe(r._formState.errors,n);(C?!S&&C.type||S&&(C.type!==S.type||C.message!==S.message):S&&S.type)&&(S?Ot(r._formState.errors,n,S):Mr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const b=xe(r._fields,n);b&&b._f&&!(Lg(r._options.reValidateMode).isOnSubmit&&Lg(r._options.mode).isOnSubmit)&&jD(b,r._formValues,r._options.criteriaMode===cs.all,r._options.shouldUseNativeValidation,!0).then(S=>!$n(S)&&r._subjects.state.next({errors:WH(r._formState.errors,S,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Bh(r._fields,(b,S)=>{if(r._names.focus&&S.startsWith(r._names.focus)&&b.focus)return b.focus(),1}),r._names.focus="",r._updateValid(),g.current=!1},[l,n,r]),V.useEffect(()=>(!xe(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,s,o]),{swap:V.useCallback(p,[m,n,r]),move:V.useCallback(v,[m,n,r]),prepend:V.useCallback(_,[m,n,r]),append:V.useCallback(y,[m,n,r]),remove:V.useCallback(u,[m,n,r]),insert:V.useCallback(h,[m,n,r]),update:V.useCallback(x,[m,n,r]),replace:V.useCallback(w,[m,n,r]),fields:V.useMemo(()=>l.map((b,S)=>({...b,[s]:c.current[S]||ll()})),[l,s])}}var JS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},bx=t=>Gn(t)||!kH(t);function Tl(t,e){if(bx(t)||bx(e))return t===e;if(ch(t)&&ch(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const o=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(ch(o)&&ch(l)||Vr(o)&&Vr(l)||Array.isArray(o)&&Array.isArray(l)?!Tl(o,l):o!==l)return!1}}return!0}var YH=t=>t.type==="select-multiple",kwe=t=>ZI(t)||uy(t),eC=t=>xx(t)&&t.isConnected,qH=t=>{for(const e in t)if(Ea(t[e]))return!0;return!1};function Ex(t,e={}){const r=Array.isArray(t);if(Vr(t)||r)for(const n in t)Array.isArray(t[n])||Vr(t[n])&&!qH(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ex(t[n],e[n])):Gn(t[n])||(e[n]=!0);return e}function ZH(t,e,r){const n=Array.isArray(t);if(Vr(t)||n)for(const s in t)Array.isArray(t[s])||Vr(t[s])&&!qH(t[s])?Kt(e)||bx(r[s])?r[s]=Array.isArray(t[s])?Ex(t[s],[]):{...Ex(t[s])}:ZH(t[s],Gn(e)?{}:e[s],r[s]):r[s]=!Tl(t[s],e[s]);return r}var j0=(t,e)=>ZH(t,e,Ex(e)),QH=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Kt(t)?t:e?t===""?NaN:t&&+t:r&&Po(t)?new Date(t):n?n(t):t;function tC(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return qI(e)?e.files:ZI(e)?XH(t.refs).value:YH(e)?[...e.selectedOptions].map(({value:r})=>r):uy(e)?KH(t.refs).value:QH(Kt(e.value)?t.ref.value:e.value,t)}var Lwe=(t,e,r,n)=>{const s={};for(const o of t){const l=xe(e,o);l&&Ot(s,o,l._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Op=t=>Kt(t)?t:wx(t)?t.source:Vr(t)?wx(t.value)?t.value.source:t.value:t;const VL="AsyncFunction";var Nwe=t=>(!t||!t.validate)&&!!(Ea(t.validate)&&t.validate.constructor.name===VL||Vr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===VL)),Uwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function HL(t,e,r){const n=xe(t,r);if(n||YI(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),l=xe(e,o),a=xe(t,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};s.pop()}return{name:r}}var $we=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,jwe=(t,e)=>!cy(xe(t,e)).length&&Mr(t,e);const zwe={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function Gwe(t={}){let e={...zwe,...t},r={submitCount:0,isDirty:!1,isLoading:Ea(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Vr(e.defaultValues)||Vr(e.values)?Wr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Wr(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:JS(),array:JS(),state:JS()},m=Lg(e.mode),y=Lg(e.reValidateMode),_=e.criteriaMode===cs.all,u=$=>q=>{clearTimeout(d),d=setTimeout($,q)},h=async $=>{if(f.isValid||$){const q=e.resolver?$n((await A()).errors):await P(n,!0);q!==r.isValid&&g.state.next({isValid:q})}},p=($,q)=>{(f.isValidating||f.validatingFields)&&(($||Array.from(a.mount)).forEach(J=>{J&&(q?Ot(r.validatingFields,J,q):Mr(r.validatingFields,J))}),g.state.next({validatingFields:r.validatingFields,isValidating:!$n(r.validatingFields)}))},v=($,q=[],J,ve,ue=!0,he=!0)=>{if(ve&&J){if(l.action=!0,he&&Array.isArray(xe(n,$))){const De=J(xe(n,$),ve.argA,ve.argB);ue&&Ot(n,$,De)}if(he&&Array.isArray(xe(r.errors,$))){const De=J(xe(r.errors,$),ve.argA,ve.argB);ue&&Ot(r.errors,$,De),jwe(r.errors,$)}if(f.touchedFields&&he&&Array.isArray(xe(r.touchedFields,$))){const De=J(xe(r.touchedFields,$),ve.argA,ve.argB);ue&&Ot(r.touchedFields,$,De)}f.dirtyFields&&(r.dirtyFields=j0(s,o)),g.state.next({name:$,isDirty:D($,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ot(o,$,q)},x=($,q)=>{Ot(r.errors,$,q),g.state.next({errors:r.errors})},w=$=>{r.errors=$,g.state.next({errors:r.errors,isValid:!1})},b=($,q,J,ve)=>{const ue=xe(n,$);if(ue){const he=xe(o,$,Kt(J)?xe(s,$):J);Kt(he)||ve&&ve.defaultChecked||q?Ot(o,$,q?he:tC(ue._f)):k($,he),l.mount&&h()}},S=($,q,J,ve,ue)=>{let he=!1,De=!1;const je={name:$},qe=!!(xe(n,$)&&xe(n,$)._f&&xe(n,$)._f.disabled);if(!J||ve){f.isDirty&&(De=r.isDirty,r.isDirty=je.isDirty=D(),he=De!==je.isDirty);const Rt=qe||Tl(xe(s,$),q);De=!!(!qe&&xe(r.dirtyFields,$)),Rt||qe?Mr(r.dirtyFields,$):Ot(r.dirtyFields,$,!0),je.dirtyFields=r.dirtyFields,he=he||f.dirtyFields&&De!==!Rt}if(J){const Rt=xe(r.touchedFields,$);Rt||(Ot(r.touchedFields,$,J),je.touchedFields=r.touchedFields,he=he||f.touchedFields&&Rt!==J)}return he&&ue&&g.state.next(je),he?je:{}},C=($,q,J,ve)=>{const ue=xe(r.errors,$),he=f.isValid&&ss(q)&&r.isValid!==q;if(t.delayError&&J?(c=u(()=>x($,J)),c(t.delayError)):(clearTimeout(d),c=null,J?Ot(r.errors,$,J):Mr(r.errors,$)),(J?!Tl(ue,J):ue)||!$n(ve)||he){const De={...ve,...he&&ss(q)?{isValid:q}:{},errors:r.errors,name:$};r={...r,...De},g.state.next(De)}},A=async $=>{p($,!0);const q=await e.resolver(o,e.context,Lwe($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return p($),q},T=async $=>{const{errors:q}=await A($);if($)for(const J of $){const ve=xe(q,J);ve?Ot(r.errors,J,ve):Mr(r.errors,J)}else r.errors=q;return q},P=async($,q,J={valid:!0})=>{for(const ve in $){const ue=$[ve];if(ue){const{_f:he,...De}=ue;if(he){const je=a.array.has(he.name),qe=ue._f&&Nwe(ue._f);qe&&f.validatingFields&&p([ve],!0);const Rt=await jD(ue,o,_,e.shouldUseNativeValidation&&!q,je);if(qe&&f.validatingFields&&p([ve]),Rt[he.name]&&(J.valid=!1,q))break;!q&&(xe(Rt,he.name)?je?WH(r.errors,Rt,he.name):Ot(r.errors,he.name,Rt[he.name]):Mr(r.errors,he.name))}!$n(De)&&await P(De,q,J)}}return J.valid},B=()=>{for(const $ of a.unMount){const q=xe(n,$);q&&(q._f.refs?q._f.refs.every(J=>!eC(J)):!eC(q._f.ref))&&z($)}a.unMount=new Set},D=($,q)=>($&&q&&Ot(o,$,q),!Tl(K(),s)),R=($,q,J)=>VH($,a,{...l.mount?o:Kt(q)?s:Po($)?{[$]:q}:q},J,q),O=$=>cy(xe(l.mount?o:s,$,t.shouldUnregister?xe(s,$,[]):[])),k=($,q,J={})=>{const ve=xe(n,$);let ue=q;if(ve){const he=ve._f;he&&(!he.disabled&&Ot(o,$,QH(q,he)),ue=xx(he.ref)&&Gn(q)?"":q,YH(he.ref)?[...he.ref.options].forEach(De=>De.selected=ue.includes(De.value)):he.refs?uy(he.ref)?he.refs.length>1?he.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(ue)?!!ue.find(je=>je===De.value):ue===De.value)):he.refs[0]&&(he.refs[0].checked=!!ue):he.refs.forEach(De=>De.checked=De.value===ue):qI(he.ref)?he.ref.value="":(he.ref.value=ue,he.ref.type||g.values.next({name:$,values:{...o}})))}(J.shouldDirty||J.shouldTouch)&&S($,ue,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&H($)},j=($,q,J)=>{for(const ve in q){const ue=q[ve],he="".concat($,".").concat(ve),De=xe(n,he);(a.array.has($)||!bx(ue)||De&&!De._f)&&!ch(ue)?j(he,ue,J):k(he,ue,J)}},U=($,q,J={})=>{const ve=xe(n,$),ue=a.array.has($),he=Wr(q);Ot(o,$,he),ue?(g.array.next({name:$,values:{...o}}),(f.isDirty||f.dirtyFields)&&J.shouldDirty&&g.state.next({name:$,dirtyFields:j0(s,o),isDirty:D($,he)})):ve&&!ve._f&&!Gn(he)?j($,he,J):k($,he,J),$D($,a)&&g.state.next({...r}),g.values.next({name:l.mount?$:void 0,values:{...o}})},N=async $=>{l.mount=!0;const q=$.target;let J=q.name,ve=!0;const ue=xe(n,J),he=()=>q.type?tC(ue._f):LH($),De=je=>{ve=Number.isNaN(je)||Tl(je,xe(o,J,je))};if(ue){let je,qe;const Rt=he(),$t=$.type===_x.BLUR||$.type===_x.FOCUS_OUT,Or=!Uwe(ue._f)&&!e.resolver&&!xe(r.errors,J)&&!ue._f.deps||$we($t,xe(r.touchedFields,J),r.isSubmitted,y,m),hn=$D(J,a,$t);Ot(o,J,Rt),$t?(ue._f.onBlur&&ue._f.onBlur($),c&&c(0)):ue._f.onChange&&ue._f.onChange($);const Br=S(J,Rt,$t,!1),_i=!$n(Br)||hn;if(!$t&&g.values.next({name:J,type:$.type,values:{...o}}),Or)return f.isValid&&(t.mode==="onBlur"?$t&&h():h()),_i&&g.state.next({name:J,...hn?{}:Br});if(!$t&&hn&&g.state.next({...r}),e.resolver){const{errors:Cr}=await A([J]);if(De(Rt),ve){const Hr=HL(r.errors,n,J),rl=HL(Cr,n,Hr.name||J);je=rl.error,J=rl.name,qe=$n(Cr)}}else p([J],!0),je=(await jD(ue,o,_,e.shouldUseNativeValidation))[J],p([J]),De(Rt),ve&&(je?qe=!1:f.isValid&&(qe=await P(n,!0)));ve&&(ue._f.deps&&H(ue._f.deps),C(J,qe,je,Br))}},L=($,q)=>{if(xe(r.errors,q)&&$.focus)return $.focus(),1},H=async($,q={})=>{let J,ve;const ue=li($);if(e.resolver){const he=await T(Kt($)?$:ue);J=$n(he),ve=$?!ue.some(De=>xe(he,De)):J}else $?(ve=(await Promise.all(ue.map(async he=>{const De=xe(n,he);return await P(De&&De._f?{[he]:De}:De)}))).every(Boolean),!(!ve&&!r.isValid)&&h()):ve=J=await P(n);return g.state.next({...!Po($)||f.isValid&&J!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:J}:{},errors:r.errors}),q.shouldFocus&&!ve&&Bh(n,L,$?ue:a.mount),ve},K=$=>{const q={...l.mount?o:s};return Kt($)?q:Po($)?xe(q,$):$.map(J=>xe(q,J))},te=($,q)=>({invalid:!!xe((q||r).errors,$),isDirty:!!xe((q||r).dirtyFields,$),error:xe((q||r).errors,$),isValidating:!!xe(r.validatingFields,$),isTouched:!!xe((q||r).touchedFields,$)}),le=$=>{$&&li($).forEach(q=>Mr(r.errors,q)),g.state.next({errors:$?r.errors:{}})},ne=($,q,J)=>{const ve=(xe(n,$,{_f:{}})._f||{}).ref,ue=xe(r.errors,$)||{},{ref:he,message:De,type:je,...qe}=ue;Ot(r.errors,$,{...qe,...q,ref:ve}),g.state.next({name:$,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&ve&&ve.focus&&ve.focus()},fe=($,q)=>Ea($)?g.values.subscribe({next:J=>$(R(void 0,q),J)}):R($,q,!0),z=($,q={})=>{for(const J of $?li($):a.mount)a.mount.delete(J),a.array.delete(J),q.keepValue||(Mr(n,J),Mr(o,J)),!q.keepError&&Mr(r.errors,J),!q.keepDirty&&Mr(r.dirtyFields,J),!q.keepTouched&&Mr(r.touchedFields,J),!q.keepIsValidating&&Mr(r.validatingFields,J),!e.shouldUnregister&&!q.keepDefaultValue&&Mr(s,J);g.values.next({values:{...o}}),g.state.next({...r,...q.keepDirty?{isDirty:D()}:{}}),!q.keepIsValid&&h()},Y=({disabled:$,name:q,field:J,fields:ve,value:ue})=>{if(ss($)&&l.mount||$){const he=$?void 0:Kt(ue)?tC(J?J._f:xe(ve,q)._f):ue;Ot(o,q,he),S(q,he,!1,!1,!0)}},Z=($,q={})=>{let J=xe(n,$);const ve=ss(q.disabled)||ss(t.disabled);return Ot(n,$,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:$}},name:$,mount:!0,...q}}),a.mount.add($),J?Y({field:J,disabled:ss(q.disabled)?q.disabled:t.disabled,name:$,value:q.value}):b($,!0,q.value),{...ve?{disabled:q.disabled||t.disabled}:{},...e.progressive?{required:!!q.required,min:Op(q.min),max:Op(q.max),minLength:Op(q.minLength),maxLength:Op(q.maxLength),pattern:Op(q.pattern)}:{},name:$,onChange:N,onBlur:N,ref:ue=>{if(ue){Z($,q),J=xe(n,$);const he=Kt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,De=kwe(he),je=J._f.refs||[];if(De?je.find(qe=>qe===he):he===J._f.ref)return;Ot(n,$,{_f:{...J._f,...De?{refs:[...je.filter(eC),he,...Array.isArray(xe(s,$))?[{}]:[]],ref:{type:he.type,name:$}}:{ref:he}}}),b($,!1,void 0,he)}else J=xe(n,$,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(NH(a.array,$)&&l.action)&&a.unMount.add($)}}},Q=()=>e.shouldFocusError&&Bh(n,L,a.mount),pe=$=>{ss($)&&(g.state.next({disabled:$}),Bh(n,(q,J)=>{const ve=xe(n,J);ve&&(q.disabled=ve._f.disabled||$,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ue=>{ue.disabled=ve._f.disabled||$}))},0,!1))},ae=($,q)=>async J=>{let ve;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ue=Wr(o);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:De}=await A();r.errors=he,ue=De}else await P(n);if(Mr(r.errors,"root"),$n(r.errors)){g.state.next({errors:{}});try{await $(ue,J)}catch(he){ve=he}}else q&&await q({...r.errors},J),Q(),setTimeout(Q);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},Ce=($,q={})=>{xe(n,$)&&(Kt(q.defaultValue)?U($,Wr(xe(s,$))):(U($,q.defaultValue),Ot(s,$,Wr(q.defaultValue))),q.keepTouched||Mr(r.touchedFields,$),q.keepDirty||(Mr(r.dirtyFields,$),r.isDirty=q.defaultValue?D($,Wr(xe(s,$))):D()),q.keepError||(Mr(r.errors,$),f.isValid&&h()),g.state.next({...r}))},Re=($,q={})=>{const J=$?Wr($):s,ve=Wr(J),ue=$n($),he=ue?s:ve;if(q.keepDefaultValues||(s=J),!q.keepValues){if(q.keepDirtyValues)for(const De of a.mount)xe(r.dirtyFields,De)?Ot(he,De,xe(o,De)):U(De,xe(he,De));else{if(XI&&Kt($))for(const De of a.mount){const je=xe(n,De);if(je&&je._f){const qe=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(xx(qe)){const Rt=qe.closest("form");if(Rt){Rt.reset();break}}}}n={}}o=t.shouldUnregister?q.keepDefaultValues?Wr(s):{}:Wr(he),g.array.next({values:{...he}}),g.values.next({values:{...he}})}a={mount:q.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!q.keepIsValid||!!q.keepDirtyValues,l.watch=!!t.shouldUnregister,g.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Tl($,s)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:q.keepDirtyValues?q.keepDefaultValues&&o?j0(s,o):r.dirtyFields:q.keepDefaultValues&&$?j0(s,$):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=($,q)=>Re(Ea($)?$(o):$,q);return{control:{register:Z,unregister:z,getFieldState:te,handleSubmit:ae,setError:ne,_executeSchema:A,_getWatch:R,_getDirty:D,_updateValid:h,_removeUnmounted:B,_updateFieldArray:v,_updateDisabledField:Y,_getFieldArray:O,_reset:Re,_resetDefaultValues:()=>Ea(e.defaultValues)&&e.defaultValues().then($=>{Ie($,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:pe,_subjects:g,_proxyFormState:f,_setErrors:w,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state($){l=$},get _defaultValues(){return s},get _names(){return a},set _names($){a=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:H,register:Z,handleSubmit:ae,watch:fe,setValue:U,getValues:K,reset:Ie,resetField:Ce,clearErrors:le,unregister:z,setError:ne,setFocus:($,q={})=>{const J=xe(n,$),ve=J&&J._f;if(ve){const ue=ve.refs?ve.refs[0]:ve.ref;ue.focus&&(ue.focus(),q.shouldSelect&&ue.select())}},getFieldState:te}}function hWe(t={}){const e=V.useRef(),r=V.useRef(),[n,s]=V.useState({isDirty:!1,isValidating:!1,isLoading:Ea(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ea(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Gwe(t),formState:n});const o=e.current.control;return o._options=t,fb({subject:o._subjects.state,next:l=>{zH(l,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),V.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),V.useEffect(()=>{t.values&&!Tl(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,s(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),V.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),V.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),V.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=jH(n,o),e.current}const WL=(t,e,r)=>{if(t&&"reportValidity"in t){const n=xe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},JH=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?WL(n.ref,r,t):n.refs&&n.refs.forEach(s=>WL(s,r,t))}},Vwe=(t,e)=>{e.shouldUseNativeValidation&&JH(t,e);const r={};for(const n in t){const s=xe(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(Hwe(e.names||Object.keys(t),n)){const l=Object.assign({},xe(r,n));Ot(l,"root",o),Ot(r,n,l)}else Ot(r,n,o)}return r},Hwe=(t,e)=>t.some(r=>r.startsWith(e+"."));var Wwe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[l]={message:a.message,type:a.code}}else r[l]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(g){return t.push(g)})}),e){var c=r[l].types,d=c&&c[n.code];r[l]=HH(l,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},fWe=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(l,a){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return o.shouldUseNativeValidation&&JH({},o),{errors:{},values:r.raw?n:d}})}catch(d){return a(d)}return c&&c.then?c.then(void 0,a):c}(0,function(l){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(l))return{values:{},errors:Vwe(Wwe(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}},Ct;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),l={};for(const a of o)l[a]=s[a];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},t.find=(s,o)=>{for(const l of s)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(l=>typeof l=="string"?"'".concat(l,"'"):l).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ct||(Ct={}));var zD;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(zD||(zD={}));const Le=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dl=t=>{switch(typeof t){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return isNaN(t)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(t)?Le.array:t===null?Le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Le.promise:typeof Map<"u"&&t instanceof Map?Le.map:typeof Set<"u"&&t instanceof Set?Le.set:typeof Date<"u"&&t instanceof Date?Le.date:Le.object;default:return Le.unknown}},me=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Kwe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ui extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let a=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(r(l))):a[d]=a[d]||{_errors:[]},a=a[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof Ui))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ui.create=t=>new Ui(t);const cf=(t,e)=>{let r;switch(t.code){case me.invalid_type:t.received===Le.undefined?r="Required":r="Expected ".concat(t.expected,", received ").concat(t.received);break;case me.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(t.expected,Ct.jsonStringifyReplacer));break;case me.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(Ct.joinValues(t.keys,", "));break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(Ct.joinValues(t.options));break;case me.invalid_enum_value:r="Invalid enum value. Expected ".concat(Ct.joinValues(t.options),", received '").concat(t.received,"'");break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r='Invalid input: must include "'.concat(t.validation.includes,'"'),typeof t.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(t.validation.position))):"startsWith"in t.validation?r='Invalid input: must start with "'.concat(t.validation.startsWith,'"'):"endsWith"in t.validation?r='Invalid input: must end with "'.concat(t.validation.endsWith,'"'):Ct.assertNever(t.validation):t.validation!=="regex"?r="Invalid ".concat(t.validation):r="Invalid";break;case me.too_small:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"more than"," ").concat(t.minimum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"over"," ").concat(t.minimum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(t.minimum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(t.minimum))):r="Invalid input";break;case me.too_big:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"less than"," ").concat(t.maximum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"under"," ").concat(t.maximum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="bigint"?r="BigInt must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(t.maximum))):r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r="Number must be a multiple of ".concat(t.multipleOf);break;case me.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ct.assertNever(t)}return{message:r}};let eW=cf;function Xwe(t){eW=t}function Sx(){return eW}const Cx=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)a=d(l,{data:e,defaultError:a}).message;return{...s,path:o,message:a}},Ywe=[];function Oe(t,e){const r=Sx(),n=Cx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===cf?void 0:cf].filter(s=>!!s)});t.common.issues.push(n)}class Fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ot;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,l=await s.value;n.push({key:o,value:l})}return Fn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return ot;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}}const ot=Object.freeze({status:"aborted"}),dh=t=>({status:"dirty",value:t}),qn=t=>({status:"valid",value:t}),GD=t=>t.status==="aborted",VD=t=>t.status==="dirty",tv=t=>t.status==="valid",rv=t=>typeof Promise<"u"&&t instanceof Promise;function Ax(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function tW(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}var We;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(We||(We={}));var sg,og;class jo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const KL=(t,e)=>{if(tv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ui(t.common.issues);return this._error=r,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:s}:{errorMap:(l,a)=>{var c,d;const{message:f}=t;return l.code==="invalid_enum_value"?{message:f!=null?f:a.defaultError}:typeof a.data>"u"?{message:(c=f!=null?f:n)!==null&&c!==void 0?c:a.defaultError}:l.code!=="invalid_type"?{message:a.defaultError}:{message:(d=f!=null?f:r)!==null&&d!==void 0?d:a.defaultError}},description:s}}class pt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Dl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Dl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fn,ctx:{common:e.parent.common,data:e.data,parsedType:Dl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(rv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dl(e)},o=this._parseSync({data:e,path:s.path,parent:s});return KL(s,o)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dl(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(rv(s)?s:Promise.resolve(s));return KL(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const l=e(s),a=()=>o.addIssue({code:me.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(a(),!1)):l?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new no({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mo.create(this,this._def)}nullable(){return mu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Js.create(this,this._def)}promise(){return hf.create(this,this._def)}or(e){return ov.create([this,e],this._def)}and(e){return av.create(this,e,this._def)}transform(e){return new no({...ht(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new hv({...ht(this._def),innerType:this,defaultValue:r,typeName:rt.ZodDefault})}brand(){return new QI({typeName:rt.ZodBranded,type:this,...ht(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new fv({...ht(this._def),innerType:this,catchValue:r,typeName:rt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return dy.create(this,e)}readonly(){return pv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qwe=/^c[^\s-]{8,}$/i,Zwe=/^[0-9a-z]+$/,Qwe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Jwe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ebe=/^[a-z0-9_-]{21}$/i,tbe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rbe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nbe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rC;const ibe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sbe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,obe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",abe=new RegExp("^".concat(rW,"$"));function nW(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e="".concat(e,"\\.\\d{").concat(t.precision,"}"):t.precision==null&&(e="".concat(e,"(\\.\\d+)?")),e}function lbe(t){return new RegExp("^".concat(nW(t),"$"))}function iW(t){let e="".concat(rW,"T").concat(nW(t));const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e="".concat(e,"(").concat(r.join("|"),")"),new RegExp("^".concat(e,"$"))}function ube(t,e){return!!((e==="v4"||!e)&&ibe.test(t)||(e==="v6"||!e)&&sbe.test(t))}class Vs extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Le.string){const o=this._getOrReturnCtx(e);return Oe(o,{code:me.invalid_type,expected:Le.string,received:o.parsedType}),ot}const n=new Fn;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,a=e.data.length<o.value;(l||a)&&(s=this._getOrReturnCtx(e,s),l?Oe(s,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Oe(s,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")rbe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"email",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")rC||(rC=new RegExp(nbe,"u")),rC.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"emoji",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Jwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"uuid",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")ebe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"nanoid",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")qwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Zwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid2",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Qwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ulid",code:me.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch(l){s=this._getOrReturnCtx(e,s),Oe(s,{validation:"url",code:me.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"regex",code:me.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?iW(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?abe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?lbe(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?tbe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"duration",code:me.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?ube(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ip",code:me.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?obe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"base64",code:me.invalid_string,message:o.message}),n.dirty()):Ct.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:me.invalid_string,...We.errToObj(n)})}_addCheck(e){return new Vs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...We.errToObj(e)})}url(e){return this._addCheck({kind:"url",...We.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...We.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...We.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...We.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...We.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...We.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...We.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...We.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...We.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...We.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...We.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...We.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...We.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...We.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...We.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...We.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...We.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...We.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...We.errToObj(r)})}nonempty(e){return this.min(1,We.errToObj(e))}trim(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vs.create=t=>{var e;return new Vs({checks:[],typeName:rt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ht(t)})};function cbe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class fu extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Le.number){const o=this._getOrReturnCtx(e);return Oe(o,{code:me.invalid_type,expected:Le.number,received:o.parsedType}),ot}let n;const s=new Fn;for(const o of this._def.checks)o.kind==="int"?Ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?cbe(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.not_finite,message:o.message}),s.dirty()):Ct.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,s){return new fu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(s)}]})}_addCheck(e){return new fu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:We.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:We.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}fu.create=t=>new fu({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class pu extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Le.bigint){const o=this._getOrReturnCtx(e);return Oe(o,{code:me.invalid_type,expected:Le.bigint,received:o.parsedType}),ot}let n;const s=new Fn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ct.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,s){return new pu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(s)}]})}_addCheck(e){return new pu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pu.create=t=>{var e;return new pu({checks:[],typeName:rt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ht(t)})};class nv extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Le.boolean){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.boolean,received:n.parsedType}),ot}return qn(e.data)}}nv.create=t=>new nv({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Vc extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Le.date){const o=this._getOrReturnCtx(e);return Oe(o,{code:me.invalid_type,expected:Le.date,received:o.parsedType}),ot}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Oe(o,{code:me.invalid_date}),ot}const n=new Fn;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:me.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ct.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:We.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:We.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Vc.create=t=>new Vc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...ht(t)});class Tx extends pt{_parse(e){if(this._getType(e)!==Le.symbol){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.symbol,received:n.parsedType}),ot}return qn(e.data)}}Tx.create=t=>new Tx({typeName:rt.ZodSymbol,...ht(t)});class iv extends pt{_parse(e){if(this._getType(e)!==Le.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.undefined,received:n.parsedType}),ot}return qn(e.data)}}iv.create=t=>new iv({typeName:rt.ZodUndefined,...ht(t)});class sv extends pt{_parse(e){if(this._getType(e)!==Le.null){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.null,received:n.parsedType}),ot}return qn(e.data)}}sv.create=t=>new sv({typeName:rt.ZodNull,...ht(t)});class df extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return qn(e.data)}}df.create=t=>new df({typeName:rt.ZodAny,...ht(t)});class Ac extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qn(e.data)}}Ac.create=t=>new Ac({typeName:rt.ZodUnknown,...ht(t)});class Ga extends pt{_parse(e){const r=this._getOrReturnCtx(e);return Oe(r,{code:me.invalid_type,expected:Le.never,received:r.parsedType}),ot}}Ga.create=t=>new Ga({typeName:rt.ZodNever,...ht(t)});class Dx extends pt{_parse(e){if(this._getType(e)!==Le.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.void,received:n.parsedType}),ot}return qn(e.data)}}Dx.create=t=>new Dx({typeName:rt.ZodVoid,...ht(t)});class Js extends pt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Le.array)return Oe(r,{code:me.invalid_type,expected:Le.array,received:r.parsedType}),ot;if(s.exactLength!==null){const l=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(l||a)&&(Oe(r,{code:l?me.too_big:me.too_small,minimum:a?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Oe(r,{code:me.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Oe(r,{code:me.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,a)=>s.type._parseAsync(new jo(r,l,r.path,a)))).then(l=>Fn.mergeArray(n,l));const o=[...r.data].map((l,a)=>s.type._parseSync(new jo(r,l,r.path,a)));return Fn.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Js({...this._def,minLength:{value:e,message:We.toString(r)}})}max(e,r){return new Js({...this._def,maxLength:{value:e,message:We.toString(r)}})}length(e,r){return new Js({...this._def,exactLength:{value:e,message:We.toString(r)}})}nonempty(e){return this.min(1,e)}}Js.create=(t,e)=>new Js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ht(e)});function Kd(t){if(t instanceof pr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Mo.create(Kd(n))}return new pr({...t._def,shape:()=>e})}else return t instanceof Js?new Js({...t._def,type:Kd(t.element)}):t instanceof Mo?Mo.create(Kd(t.unwrap())):t instanceof mu?mu.create(Kd(t.unwrap())):t instanceof zo?zo.create(t.items.map(e=>Kd(e))):t}class pr extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ct.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Le.object){const d=this._getOrReturnCtx(e);return Oe(d,{code:me.invalid_type,expected:Le.object,received:d.parsedType}),ot}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ga&&this._def.unknownKeys==="strip"))for(const d in s.data)l.includes(d)||a.push(d);const c=[];for(const d of l){const f=o[d],g=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new jo(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ga){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")a.length>0&&(Oe(s,{code:me.unrecognized_keys,keys:a}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of a){const g=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new jo(s,g,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const g=await f.key,m=await f.value;d.push({key:g,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>Fn.mergeObjectSync(n,d)):Fn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return We.errToObj,new pr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o,l,a;const c=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=We.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new pr({...this._def,unknownKeys:"strip"})}passthrough(){return new pr({...this._def,unknownKeys:"passthrough"})}extend(e){return new pr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new pr({...this._def,catchall:e})}pick(e){const r={};return Ct.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new pr({...this._def,shape:()=>r})}omit(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new pr({...this._def,shape:()=>r})}deepPartial(){return Kd(this)}partial(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new pr({...this._def,shape:()=>r})}required(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Mo;)o=o._def.innerType;r[n]=o}}),new pr({...this._def,shape:()=>r})}keyof(){return sW(Ct.objectKeys(this.shape))}}pr.create=(t,e)=>new pr({shape:()=>t,unknownKeys:"strip",catchall:Ga.create(),typeName:rt.ZodObject,...ht(e)});pr.strictCreate=(t,e)=>new pr({shape:()=>t,unknownKeys:"strict",catchall:Ga.create(),typeName:rt.ZodObject,...ht(e)});pr.lazycreate=(t,e)=>new pr({shape:t,unknownKeys:"strip",catchall:Ga.create(),typeName:rt.ZodObject,...ht(e)});class ov extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(a=>new Ui(a.ctx.common.issues));return Oe(r,{code:me.invalid_union,unionErrors:l}),ot}if(r.common.async)return Promise.all(n.map(async o=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=l.map(c=>new Ui(c));return Oe(r,{code:me.invalid_union,unionErrors:a}),ot}}get options(){return this._def.options}}ov.create=(t,e)=>new ov({options:t,typeName:rt.ZodUnion,...ht(e)});const sa=t=>t instanceof uv?sa(t.schema):t instanceof no?sa(t.innerType()):t instanceof cv?[t.value]:t instanceof gu?t.options:t instanceof dv?Ct.objectValues(t.enum):t instanceof hv?sa(t._def.innerType):t instanceof iv?[void 0]:t instanceof sv?[null]:t instanceof Mo?[void 0,...sa(t.unwrap())]:t instanceof mu?[null,...sa(t.unwrap())]:t instanceof QI||t instanceof pv?sa(t.unwrap()):t instanceof fv?sa(t._def.innerType):[];class pb extends pt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.object)return Oe(r,{code:me.invalid_type,expected:Le.object,received:r.parsedType}),ot;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Oe(r,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ot)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const o of r){const l=sa(o.shape[e]);if(!l.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const a of l){if(s.has(a))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(a)));s.set(a,o)}}return new pb({typeName:rt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ht(n)})}}function HD(t,e){const r=Dl(t),n=Dl(e);if(t===e)return{valid:!0,data:t};if(r===Le.object&&n===Le.object){const s=Ct.objectKeys(e),o=Ct.objectKeys(t).filter(a=>s.indexOf(a)!==-1),l={...t,...e};for(const a of o){const c=HD(t[a],e[a]);if(!c.valid)return{valid:!1};l[a]=c.data}return{valid:!0,data:l}}else if(r===Le.array&&n===Le.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const l=t[o],a=e[o],c=HD(l,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Le.date&&n===Le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class av extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,l)=>{if(GD(o)||GD(l))return ot;const a=HD(o.value,l.value);return a.valid?((VD(o)||VD(l))&&r.dirty(),{status:r.value,value:a.data}):(Oe(n,{code:me.invalid_intersection_types}),ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}av.create=(t,e,r)=>new av({left:t,right:e,typeName:rt.ZodIntersection,...ht(r)});class zo extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.array)return Oe(n,{code:me.invalid_type,expected:Le.array,received:n.parsedType}),ot;if(n.data.length<this._def.items.length)return Oe(n,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&n.data.length>this._def.items.length&&(Oe(n,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((l,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new jo(n,l,n.path,a)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>Fn.mergeArray(r,l)):Fn.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new zo({...this._def,rest:e})}}zo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zo({items:t,typeName:rt.ZodTuple,rest:null,...ht(e)})};class lv extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.object)return Oe(n,{code:me.invalid_type,expected:Le.object,received:n.parsedType}),ot;const s=[],o=this._def.keyType,l=this._def.valueType;for(const a in n.data)s.push({key:o._parse(new jo(n,a,n.path,a)),value:l._parse(new jo(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Fn.mergeObjectAsync(r,s):Fn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof pt?new lv({keyType:e,valueType:r,typeName:rt.ZodRecord,...ht(n)}):new lv({keyType:Vs.create(),valueType:e,typeName:rt.ZodRecord,...ht(r)})}}class Px extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.map)return Oe(n,{code:me.invalid_type,expected:Le.map,received:n.parsedType}),ot;const s=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([a,c],d)=>({key:s._parse(new jo(n,a,n.path,[d,"key"])),value:o._parse(new jo(n,c,n.path,[d,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return ot;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(d.value,f.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of l){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return ot;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(d.value,f.value)}return{status:r.value,value:a}}}}Px.create=(t,e,r)=>new Px({valueType:e,keyType:t,typeName:rt.ZodMap,...ht(r)});class Hc extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.set)return Oe(n,{code:me.invalid_type,expected:Le.set,received:n.parsedType}),ot;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Oe(n,{code:me.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Oe(n,{code:me.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function l(c){const d=new Set;for(const f of c){if(f.status==="aborted")return ot;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const a=[...n.data.values()].map((c,d)=>o._parse(new jo(n,c,n.path,d)));return n.common.async?Promise.all(a).then(c=>l(c)):l(a)}min(e,r){return new Hc({...this._def,minSize:{value:e,message:We.toString(r)}})}max(e,r){return new Hc({...this._def,maxSize:{value:e,message:We.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Hc.create=(t,e)=>new Hc({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...ht(e)});class Mh extends pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.function)return Oe(r,{code:me.invalid_type,expected:Le.function,received:r.parsedType}),ot;function n(a,c){return Cx({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Sx(),cf].filter(d=>!!d),issueData:{code:me.invalid_arguments,argumentsError:c}})}function s(a,c){return Cx({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Sx(),cf].filter(d=>!!d),issueData:{code:me.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof hf){const a=this;return qn(async function(...c){const d=new Ui([]),f=await a._def.args.parseAsync(c,o).catch(y=>{throw d.addIssue(n(c,y)),d}),g=await Reflect.apply(l,this,f);return await a._def.returns._def.type.parseAsync(g,o).catch(y=>{throw d.addIssue(s(g,y)),d})})}else{const a=this;return qn(function(...c){const d=a._def.args.safeParse(c,o);if(!d.success)throw new Ui([n(c,d.error)]);const f=Reflect.apply(l,this,d.data),g=a._def.returns.safeParse(f,o);if(!g.success)throw new Ui([s(f,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Mh({...this._def,args:zo.create(e).rest(Ac.create())})}returns(e){return new Mh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Mh({args:e||zo.create([]).rest(Ac.create()),returns:r||Ac.create(),typeName:rt.ZodFunction,...ht(n)})}}class uv extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uv.create=(t,e)=>new uv({getter:t,typeName:rt.ZodLazy,...ht(e)});class cv extends pt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Oe(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:e.data}}get value(){return this._def.value}}cv.create=(t,e)=>new cv({value:t,typeName:rt.ZodLiteral,...ht(e)});function sW(t,e){return new gu({values:t,typeName:rt.ZodEnum,...ht(e)})}class gu extends pt{constructor(){super(...arguments),sg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{expected:Ct.joinValues(n),received:r.parsedType,code:me.invalid_type}),ot}if(Ax(this,sg,"f")||tW(this,sg,new Set(this._def.values),"f"),!Ax(this,sg,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{received:r.data,code:me.invalid_enum_value,options:n}),ot}return qn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return gu.create(e,{...this._def,...r})}exclude(e,r=this._def){return gu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}sg=new WeakMap;gu.create=sW;class dv extends pt{constructor(){super(...arguments),og.set(this,void 0)}_parse(e){const r=Ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const s=Ct.objectValues(r);return Oe(n,{expected:Ct.joinValues(s),received:n.parsedType,code:me.invalid_type}),ot}if(Ax(this,og,"f")||tW(this,og,new Set(Ct.getValidEnumValues(this._def.values)),"f"),!Ax(this,og,"f").has(e.data)){const s=Ct.objectValues(r);return Oe(n,{received:n.data,code:me.invalid_enum_value,options:s}),ot}return qn(e.data)}get enum(){return this._def.values}}og=new WeakMap;dv.create=(t,e)=>new dv({values:t,typeName:rt.ZodNativeEnum,...ht(e)});class hf extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.promise&&r.common.async===!1)return Oe(r,{code:me.invalid_type,expected:Le.promise,received:r.parsedType}),ot;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return qn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hf.create=(t,e)=>new hf({type:t,typeName:rt.ZodPromise,...ht(e)});class no extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{Oe(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(n.data,o);if(n.common.async)return Promise.resolve(l).then(async a=>{if(r.value==="aborted")return ot;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?ot:c.status==="dirty"||r.value==="dirty"?dh(c.value):c});{if(r.value==="aborted")return ot;const a=this._def.schema._parseSync({data:l,path:n.path,parent:n});return a.status==="aborted"?ot:a.status==="dirty"||r.value==="dirty"?dh(a.value):a}}if(s.type==="refinement"){const l=a=>{const c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ot:(a.status==="dirty"&&r.dirty(),l(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ot:(a.status==="dirty"&&r.dirty(),l(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tv(l))return l;const a=s.transform(l.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>tv(l)?Promise.resolve(s.transform(l.value,o)).then(a=>({status:r.value,value:a})):l);Ct.assertNever(s)}}no.create=(t,e,r)=>new no({schema:t,typeName:rt.ZodEffects,effect:e,...ht(r)});no.createWithPreprocess=(t,e,r)=>new no({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...ht(r)});class Mo extends pt{_parse(e){return this._getType(e)===Le.undefined?qn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mo.create=(t,e)=>new Mo({innerType:t,typeName:rt.ZodOptional,...ht(e)});class mu extends pt{_parse(e){return this._getType(e)===Le.null?qn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mu.create=(t,e)=>new mu({innerType:t,typeName:rt.ZodNullable,...ht(e)});class hv extends pt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}hv.create=(t,e)=>new hv({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class fv extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rv(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ui(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ui(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}fv.create=(t,e)=>new fv({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class Rx extends pt{_parse(e){if(this._getType(e)!==Le.nan){const n=this._getOrReturnCtx(e);return Oe(n,{code:me.invalid_type,expected:Le.nan,received:n.parsedType}),ot}return{status:"valid",value:e.data}}}Rx.create=t=>new Rx({typeName:rt.ZodNaN,...ht(t)});const dbe=Symbol("zod_brand");class QI extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class dy extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ot:o.status==="dirty"?(r.dirty(),dh(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ot:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new dy({in:e,out:r,typeName:rt.ZodPipeline})}}class pv extends pt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(tv(s)&&(s.value=Object.freeze(s.value)),s);return rv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}pv.create=(t,e)=>new pv({innerType:t,typeName:rt.ZodReadonly,...ht(e)});function oW(t,e={},r){return t?df.create().superRefine((n,s)=>{var o,l;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(l=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&l!==void 0?l:!0,d=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...d,fatal:c})}}):df.create()}const hbe={object:pr.lazycreate};var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const fbe=(t,e={message:"Input not instance of ".concat(t.name)})=>oW(r=>r instanceof t,e),aW=Vs.create,lW=fu.create,pbe=Rx.create,gbe=pu.create,uW=nv.create,mbe=Vc.create,vbe=Tx.create,ybe=iv.create,_be=sv.create,xbe=df.create,wbe=Ac.create,bbe=Ga.create,Ebe=Dx.create,Sbe=Js.create,Cbe=pr.create,Abe=pr.strictCreate,Tbe=ov.create,Dbe=pb.create,Pbe=av.create,Rbe=zo.create,Ibe=lv.create,Obe=Px.create,Bbe=Hc.create,Mbe=Mh.create,Fbe=uv.create,kbe=cv.create,Lbe=gu.create,Nbe=dv.create,Ube=hf.create,XL=no.create,$be=Mo.create,jbe=mu.create,zbe=no.createWithPreprocess,Gbe=dy.create,Vbe=()=>aW().optional(),Hbe=()=>lW().optional(),Wbe=()=>uW().optional(),Kbe={string:t=>Vs.create({...t,coerce:!0}),number:t=>fu.create({...t,coerce:!0}),boolean:t=>nv.create({...t,coerce:!0}),bigint:t=>pu.create({...t,coerce:!0}),date:t=>Vc.create({...t,coerce:!0})},Xbe=ot;var pWe=Object.freeze({__proto__:null,defaultErrorMap:cf,setErrorMap:Xwe,getErrorMap:Sx,makeIssue:Cx,EMPTY_PATH:Ywe,addIssueToContext:Oe,ParseStatus:Fn,INVALID:ot,DIRTY:dh,OK:qn,isAborted:GD,isDirty:VD,isValid:tv,isAsync:rv,get util(){return Ct},get objectUtil(){return zD},ZodParsedType:Le,getParsedType:Dl,ZodType:pt,datetimeRegex:iW,ZodString:Vs,ZodNumber:fu,ZodBigInt:pu,ZodBoolean:nv,ZodDate:Vc,ZodSymbol:Tx,ZodUndefined:iv,ZodNull:sv,ZodAny:df,ZodUnknown:Ac,ZodNever:Ga,ZodVoid:Dx,ZodArray:Js,ZodObject:pr,ZodUnion:ov,ZodDiscriminatedUnion:pb,ZodIntersection:av,ZodTuple:zo,ZodRecord:lv,ZodMap:Px,ZodSet:Hc,ZodFunction:Mh,ZodLazy:uv,ZodLiteral:cv,ZodEnum:gu,ZodNativeEnum:dv,ZodPromise:hf,ZodEffects:no,ZodTransformer:no,ZodOptional:Mo,ZodNullable:mu,ZodDefault:hv,ZodCatch:fv,ZodNaN:Rx,BRAND:dbe,ZodBranded:QI,ZodPipeline:dy,ZodReadonly:pv,custom:oW,Schema:pt,ZodSchema:pt,late:hbe,get ZodFirstPartyTypeKind(){return rt},coerce:Kbe,any:xbe,array:Sbe,bigint:gbe,boolean:uW,date:mbe,discriminatedUnion:Dbe,effect:XL,enum:Lbe,function:Mbe,instanceof:fbe,intersection:Pbe,lazy:Fbe,literal:kbe,map:Obe,nan:pbe,nativeEnum:Nbe,never:bbe,null:_be,nullable:jbe,number:lW,object:Cbe,oboolean:Wbe,onumber:Hbe,optional:$be,ostring:Vbe,pipeline:Gbe,preprocess:zbe,promise:Ube,record:Ibe,set:Bbe,strictObject:Abe,string:aW,symbol:vbe,transformer:XL,tuple:Rbe,undefined:ybe,union:Tbe,unknown:wbe,void:Ebe,NEVER:Xbe,ZodIssueCode:me,quotelessJson:Kwe,ZodError:Ui}),JI="Dialog",[cW,dW]=$f(JI),[Ybe,so]=cW(JI),hW=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,a=E.useRef(null),c=E.useRef(null),[d=!1,f]=Mn({prop:n,defaultProp:s,onChange:o});return I.jsx(Ybe,{scope:e,triggerRef:a,contentRef:c,contentId:yn(),titleId:yn(),descriptionId:yn(),open:d,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(g=>!g),[f]),modal:l,children:r})};hW.displayName=JI;var fW="DialogTrigger",pW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=so(fW,r),o=Xe(e,s.triggerRef);return I.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rO(s.open),...n,ref:o,onClick:ie(t.onClick,s.onOpenToggle)})});pW.displayName=fW;var eO="DialogPortal",[qbe,gW]=cW(eO,{forceMount:void 0}),mW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=so(eO,e);return I.jsx(qbe,{scope:e,forceMount:r,children:E.Children.map(n,l=>I.jsx(Za,{present:r||o.open,children:I.jsx(ab,{asChild:!0,container:s,children:l})}))})};mW.displayName=eO;var Ix="DialogOverlay",vW=E.forwardRef((t,e)=>{const r=gW(Ix,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=so(Ix,t.__scopeDialog);return o.modal?I.jsx(Za,{present:n||o.open,children:I.jsx(Zbe,{...s,ref:e})}):null});vW.displayName=Ix;var Zbe=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=so(Ix,r);return I.jsx(ZV,{as:Uo,allowPinchZoom:!0,shards:[s.contentRef],children:I.jsx(Ae.div,{"data-state":rO(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Wc="DialogContent",yW=E.forwardRef((t,e)=>{const r=gW(Wc,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=so(Wc,t.__scopeDialog);return I.jsx(Za,{present:n||o.open,children:o.modal?I.jsx(Qbe,{...s,ref:e}):I.jsx(Jbe,{...s,ref:e})})});yW.displayName=Wc;var Qbe=E.forwardRef((t,e)=>{const r=so(Wc,t.__scopeDialog),n=E.useRef(null),s=Xe(e,r.contentRef,n);return E.useEffect(()=>{const o=n.current;if(o)return ey(o)},[]),I.jsx(_W,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0;(l.button===2||a)&&o.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault())})}),Jbe=E.forwardRef((t,e)=>{const r=so(Wc,t.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return I.jsx(_W,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,a;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_W=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,a=so(Wc,r),c=E.useRef(null),d=Xe(e,c);return HV(),I.jsxs(I.Fragment,{children:[I.jsx(Of,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:I.jsx(ob,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":rO(a.open),...l,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(tEe,{titleId:a.titleId}),I.jsx(nEe,{contentRef:c,descriptionId:a.descriptionId})]})]})}),tO="DialogTitle",xW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=so(tO,r);return I.jsx(Ae.h2,{id:s.titleId,...n,ref:e})});xW.displayName=tO;var wW="DialogDescription",bW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=so(wW,r);return I.jsx(Ae.p,{id:s.descriptionId,...n,ref:e})});bW.displayName=wW;var EW="DialogClose",SW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=so(EW,r);return I.jsx(Ae.button,{type:"button",...n,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});SW.displayName=EW;function rO(t){return t?"open":"closed"}var CW="DialogTitleWarning",[eEe,AW]=W1e(CW,{contentName:Wc,titleName:tO,docsSlug:"dialog"}),tEe=({titleId:t})=>{const e=AW(CW),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},rEe="DialogDescriptionWarning",nEe=({contentRef:t,descriptionId:e})=>{const r=AW(rEe),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},iEe=hW,sEe=pW,oEe=mW,aEe=vW,lEe=yW,uEe=xW,cEe=bW,TW=SW,dEe="Label",DW=E.forwardRef((t,e)=>I.jsx(Ae.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DW.displayName=dEe;var gWe=DW,nO="Progress",iO=100,[hEe,mWe]=yi(nO),[fEe,pEe]=hEe(nO),PW=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=gEe,...l}=t;(s||s===0)&&!YL(s)&&console.error(mEe("".concat(s),"Progress"));const a=YL(s)?s:iO;n!==null&&!qL(n,a)&&console.error(vEe("".concat(n),"Progress"));const c=qL(n,a)?n:null,d=Ox(c)?o(c,a):void 0;return I.jsx(fEe,{scope:r,value:c,max:a,children:I.jsx(Ae.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ox(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":OW(c,a),"data-value":c!=null?c:void 0,"data-max":a,...l,ref:e})})});PW.displayName=nO;var RW="ProgressIndicator",IW=E.forwardRef((t,e)=>{var o;const{__scopeProgress:r,...n}=t,s=pEe(RW,r);return I.jsx(Ae.div,{"data-state":OW(s.value,s.max),"data-value":(o=s.value)!=null?o:void 0,"data-max":s.max,...n,ref:e})});IW.displayName=RW;function gEe(t,e){return"".concat(Math.round(t/e*100),"%")}function OW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ox(t){return typeof t=="number"}function YL(t){return Ox(t)&&!isNaN(t)&&t>0}function qL(t,e){return Ox(t)&&!isNaN(t)&&t<=e&&t>=0}function mEe(t,e){return"Invalid prop `max` of value `".concat(t,"` supplied to `").concat(e,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(iO,"`.")}function vEe(t,e){return"Invalid prop `value` of value `".concat(t,"` supplied to `").concat(e,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(iO," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var vWe=PW,yWe=IW,BW="AlertDialog",[yEe,_We]=$f(BW,[dW]),Qa=dW(),MW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Qa(e);return I.jsx(iEe,{...n,...r,modal:!0})};MW.displayName=BW;var _Ee="AlertDialogTrigger",xEe=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Qa(r);return I.jsx(sEe,{...s,...n,ref:e})});xEe.displayName=_Ee;var wEe="AlertDialogPortal",FW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Qa(e);return I.jsx(oEe,{...n,...r})};FW.displayName=wEe;var bEe="AlertDialogOverlay",kW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Qa(r);return I.jsx(aEe,{...s,...n,ref:e})});kW.displayName=bEe;var Fh="AlertDialogContent",[EEe,SEe]=yEe(Fh),LW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=Qa(r),l=E.useRef(null),a=Xe(e,l),c=E.useRef(null);return I.jsx(eEe,{contentName:Fh,titleName:NW,docsSlug:"alert-dialog",children:I.jsx(EEe,{scope:r,cancelRef:c,children:I.jsxs(lEe,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:ie(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[I.jsx(tI,{children:n}),I.jsx(AEe,{contentRef:l})]})})})});LW.displayName=Fh;var NW="AlertDialogTitle",UW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Qa(r);return I.jsx(uEe,{...s,...n,ref:e})});UW.displayName=NW;var $W="AlertDialogDescription",jW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Qa(r);return I.jsx(cEe,{...s,...n,ref:e})});jW.displayName=$W;var CEe="AlertDialogAction",zW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Qa(r);return I.jsx(TW,{...s,...n,ref:e})});zW.displayName=CEe;var GW="AlertDialogCancel",VW=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=SEe(GW,r),o=Qa(r),l=Xe(e,s);return I.jsx(TW,{...o,...n,ref:l})});VW.displayName=GW;var AEe=({contentRef:t})=>{const e="`".concat(Fh,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Fh,"` by passing a `").concat($W,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Fh,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return E.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},xWe=MW,wWe=FW,bWe=kW,EWe=LW,SWe=zW,CWe=VW,AWe=UW,TWe=jW;function sO(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var HW=["PageUp","PageDown"],WW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jf="Slider",[WD,TEe,DEe]=id(jf),[XW,DWe]=$f(jf,[DEe]),[PEe,gb]=XW(jf),YW=E.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:g=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:_,...u}=t,h=E.useRef(new Set),p=E.useRef(0),x=l==="horizontal"?REe:IEe,[w=[],b]=Mn({prop:f,defaultProp:d,onChange:B=>{var R;(R=[...h.current][p.current])==null||R.focus(),g(B)}}),S=E.useRef(w);function C(B){const D=kEe(w,B);P(B,D)}function A(B){P(B,p.current)}function T(){const B=S.current[p.current];w[p.current]!==B&&m(w)}function P(B,D,{commit:R}={commit:!1}){const O=$Ee(o),k=jEe(Math.round((B-n)/o)*o+n,O),j=jm(k,[n,s]);b((U=[])=>{const N=MEe(U,j,D);if(UEe(N,c*o)){p.current=N.indexOf(j);const L=String(N)!==String(U);return L&&R&&m(N),L?N:U}else return U})}return I.jsx(PEe,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:p,thumbs:h.current,values:w,orientation:l,form:_,children:I.jsx(WD.Provider,{scope:t.__scopeSlider,children:I.jsx(WD.Slot,{scope:t.__scopeSlider,children:I.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...u,ref:e,onPointerDown:ie(u.onPointerDown,()=>{a||(S.current=w)}),min:n,max:s,inverted:y,onSlideStart:a?void 0:C,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:T,onHomeKeyDown:()=>!a&&P(n,0,{commit:!0}),onEndKeyDown:()=>!a&&P(s,w.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:D})=>{if(!a){const k=HW.includes(B.key)||B.shiftKey&&WW.includes(B.key)?10:1,j=p.current,U=w[j],N=o*k*D;P(U+N,j,{commit:!0})}}})})})})});YW.displayName=jf;var[qW,ZW]=XW(jf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),REe=E.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:l,onSlideMove:a,onSlideEnd:c,onStepKeyDown:d,...f}=t,[g,m]=E.useState(null),y=Xe(e,x=>m(x)),_=E.useRef(),u=Ho(s),h=u==="ltr",p=h&&!o||!h&&o;function v(x){const w=_.current||g.getBoundingClientRect(),b=[0,w.width],C=oO(b,p?[r,n]:[n,r]);return _.current=w,C(x-w.left)}return I.jsx(qW,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:I.jsx(QW,{dir:u,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const w=v(x.clientX);l==null||l(w)},onSlideMove:x=>{const w=v(x.clientX);a==null||a(w)},onSlideEnd:()=>{_.current=void 0,c==null||c()},onStepKeyDown:x=>{const b=KW[p?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:b?-1:1})}})})}),IEe=E.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:a,onStepKeyDown:c,...d}=t,f=E.useRef(null),g=Xe(e,f),m=E.useRef(),y=!s;function _(u){const h=m.current||f.current.getBoundingClientRect(),p=[0,h.height],x=oO(p,y?[n,r]:[r,n]);return m.current=h,x(u-h.top)}return I.jsx(qW,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:I.jsx(QW,{"data-orientation":"vertical",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:u=>{const h=_(u.clientY);o==null||o(h)},onSlideMove:u=>{const h=_(u.clientY);l==null||l(h)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:u=>{const p=KW[y?"from-bottom":"from-top"].includes(u.key);c==null||c({event:u,direction:p?-1:1})}})})}),QW=E.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:a,onStepKeyDown:c,...d}=t,f=gb(jf,r);return I.jsx(Ae.span,{...d,ref:e,onKeyDown:ie(t.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(a(g),g.preventDefault()):HW.concat(WW).includes(g.key)&&(c(g),g.preventDefault())}),onPointerDown:ie(t.onPointerDown,g=>{const m=g.target;m.setPointerCapture(g.pointerId),g.preventDefault(),f.thumbs.has(m)?m.focus():n(g)}),onPointerMove:ie(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:ie(t.onPointerUp,g=>{const m=g.target;m.hasPointerCapture(g.pointerId)&&(m.releasePointerCapture(g.pointerId),o(g))})})}),JW="SliderTrack",eK=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=gb(JW,r);return I.jsx(Ae.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});eK.displayName=JW;var KD="SliderRange",tK=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=gb(KD,r),o=ZW(KD,r),l=E.useRef(null),a=Xe(e,l),c=s.values.length,d=s.values.map(m=>nK(m,s.min,s.max)),f=c>1?Math.min(...d):0,g=100-Math.max(...d);return I.jsx(Ae.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...t.style,[o.startEdge]:f+"%",[o.endEdge]:g+"%"}})});tK.displayName=KD;var XD="SliderThumb",rK=E.forwardRef((t,e)=>{const r=TEe(t.__scopeSlider),[n,s]=E.useState(null),o=Xe(e,a=>s(a)),l=E.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return I.jsx(OEe,{...t,ref:o,index:l})}),OEe=E.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,l=gb(XD,r),a=ZW(XD,r),[c,d]=E.useState(null),f=Xe(e,v=>d(v)),g=c?l.form||!!c.closest("form"):!0,m=hI(c),y=l.values[n],_=y===void 0?0:nK(y,l.min,l.max),u=FEe(n,l.values.length),h=m==null?void 0:m[a.size],p=h?LEe(h,_,a.direction):0;return E.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),I.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:"calc(".concat(_,"% + ").concat(p,"px)")},children:[I.jsx(WD.ItemSlot,{scope:t.__scopeSlider,children:I.jsx(Ae.span,{role:"slider","aria-label":t["aria-label"]||u,"aria-valuemin":l.min,"aria-valuenow":y,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:f,style:y===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),g&&I.jsx(BEe,{name:s!=null?s:l.name?l.name+(l.values.length>1?"[]":""):void 0,form:l.form,value:y},n)]})});rK.displayName=XD;var BEe=t=>{const{value:e,...r}=t,n=E.useRef(null),s=sO(e);return E.useEffect(()=>{const o=n.current,l=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&c){const d=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(d)}},[s,e]),I.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function MEe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function nK(t,e,r){const o=100/(r-e)*(t-e);return jm(o,[0,100])}function FEe(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function kEe(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function LEe(t,e,r){const n=t/2,o=oO([0,50],[0,n]);return(n-o(e)*r)*r}function NEe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function UEe(t,e){if(e>0){const r=NEe(t);return Math.min(...r)>=e}return!0}function oO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function $Ee(t){return(String(t).split(".")[1]||"").length}function jEe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var PWe=YW,RWe=eK,IWe=tK,OWe=rK,zEe="VisuallyHidden",hy=E.forwardRef((t,e)=>I.jsx(Ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));hy.displayName=zEe;var GEe=hy,VEe=[" ","Enter","ArrowUp","ArrowDown"],HEe=[" ","Enter"],fy="Select",[mb,vb,WEe]=id(fy),[zf,BWe]=yi(fy,[WEe,Ko]),yb=Ko(),[KEe,Du]=zf(fy),[XEe,YEe]=zf(fy),iK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:l,defaultValue:a,onValueChange:c,dir:d,name:f,autoComplete:g,disabled:m,required:y}=t,_=yb(e),[u,h]=E.useState(null),[p,v]=E.useState(null),[x,w]=E.useState(!1),b=Ho(d),[S=!1,C]=Mn({prop:n,defaultProp:s,onChange:o}),[A,T]=Mn({prop:l,defaultProp:a,onChange:c}),P=E.useRef(null),B=u?!!u.closest("form"):!0,[D,R]=E.useState(new Set),O=Array.from(D).map(k=>k.props.value).join(";");return I.jsx(Ff,{..._,children:I.jsxs(KEe,{required:y,scope:e,trigger:u,onTriggerChange:h,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:x,onValueNodeHasChildrenChange:w,contentId:yn(),value:A,onValueChange:T,open:S,onOpenChange:C,dir:b,triggerPointerDownPosRef:P,disabled:m,children:[I.jsx(mb.Provider,{scope:e,children:I.jsx(XEe,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(k=>{R(j=>new Set(j).add(k))},[]),onNativeOptionRemove:E.useCallback(k=>{R(j=>{const U=new Set(j);return U.delete(k),U})},[]),children:r})}),B?I.jsxs(RK,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:g,value:A,onChange:k=>T(k.target.value),disabled:m,children:[A===void 0?I.jsx("option",{value:""}):null,Array.from(D)]},O):null]})})};iK.displayName=fy;var sK="SelectTrigger",oK=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=yb(r),l=Du(sK,r),a=l.disabled||n,c=Xe(e,l.onTriggerChange),d=vb(r),[f,g,m]=IK(_=>{const u=d().filter(v=>!v.disabled),h=u.find(v=>v.value===l.value),p=OK(u,_,h);p!==void 0&&l.onValueChange(p.value)}),y=()=>{a||(l.onOpenChange(!0),m())};return I.jsx(kf,{asChild:!0,...o,children:I.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":PK(l.value)?"":void 0,...s,ref:c,onClick:ie(s.onClick,_=>{_.currentTarget.focus()}),onPointerDown:ie(s.onPointerDown,_=>{const u=_.target;u.hasPointerCapture(_.pointerId)&&u.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(y(),l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)},_.preventDefault())}),onKeyDown:ie(s.onKeyDown,_=>{const u=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&g(_.key),!(u&&_.key===" ")&&VEe.includes(_.key)&&(y(),_.preventDefault())})})})});oK.displayName=sK;var aK="SelectValue",lK=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:l="",...a}=t,c=Du(aK,r),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,g=Xe(e,c.onValueNodeChange);return Gr(()=>{d(f)},[d,f]),I.jsx(Ae.span,{...a,ref:g,style:{pointerEvents:"none"},children:PK(c.value)?I.jsx(I.Fragment,{children:l}):o})});lK.displayName=aK;var qEe="SelectIcon",uK=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return I.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});uK.displayName=qEe;var ZEe="SelectPortal",cK=t=>I.jsx(Jv,{asChild:!0,...t});cK.displayName=ZEe;var Kc="SelectContent",dK=E.forwardRef((t,e)=>{const r=Du(Kc,t.__scopeSelect),[n,s]=E.useState();if(Gr(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ka.createPortal(I.jsx(hK,{scope:t.__scopeSelect,children:I.jsx(mb.Slot,{scope:t.__scopeSelect,children:I.jsx("div",{children:t.children})})}),o):null}return I.jsx(fK,{...t,ref:e})});dK.displayName=Kc;var ua=10,[hK,Pu]=zf(Kc),QEe="SelectContentImpl",fK=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:u,avoidCollisions:h,...p}=t,v=Du(Kc,r),[x,w]=E.useState(null),[b,S]=E.useState(null),C=Xe(e,Y=>w(Y)),[A,T]=E.useState(null),[P,B]=E.useState(null),D=vb(r),[R,O]=E.useState(!1),k=E.useRef(!1);E.useEffect(()=>{if(x)return ey(x)},[x]),sI();const j=E.useCallback(Y=>{const[Z,...Q]=D().map(Ce=>Ce.ref.current),[pe]=Q.slice(-1),ae=document.activeElement;for(const Ce of Y)if(Ce===ae||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===Z&&b&&(b.scrollTop=0),Ce===pe&&b&&(b.scrollTop=b.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==ae))return},[D,b]),U=E.useCallback(()=>j([A,x]),[j,A,x]);E.useEffect(()=>{R&&U()},[R,U]);const{onOpenChange:N,triggerPointerDownPosRef:L}=v;E.useEffect(()=>{if(x){let Y={x:0,y:0};const Z=pe=>{var ae,Ce,Re,Ie;Y={x:Math.abs(Math.round(pe.pageX)-((Ce=(ae=L.current)==null?void 0:ae.x)!=null?Ce:0)),y:Math.abs(Math.round(pe.pageY)-((Ie=(Re=L.current)==null?void 0:Re.y)!=null?Ie:0))}},Q=pe=>{Y.x<=10&&Y.y<=10?pe.preventDefault():x.contains(pe.target)||N(!1),document.removeEventListener("pointermove",Z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Q,{capture:!0})}}},[x,N,L]),E.useEffect(()=>{const Y=()=>N(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[N]);const[H,K]=IK(Y=>{const Z=D().filter(ae=>!ae.disabled),Q=Z.find(ae=>ae.ref.current===document.activeElement),pe=OK(Z,Y,Q);pe&&setTimeout(()=>pe.ref.current.focus())}),te=E.useCallback((Y,Z,Q)=>{const pe=!k.current&&!Q;(v.value!==void 0&&v.value===Z||pe)&&(T(Y),pe&&(k.current=!0))},[v.value]),le=E.useCallback(()=>x==null?void 0:x.focus(),[x]),ne=E.useCallback((Y,Z,Q)=>{const pe=!k.current&&!Q;(v.value!==void 0&&v.value===Z||pe)&&B(Y)},[v.value]),fe=n==="popper"?YD:pK,z=fe===YD?{side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:u,avoidCollisions:h}:{};return I.jsx(hK,{scope:r,content:x,viewport:b,onViewportChange:S,itemRefCallback:te,selectedItem:A,onItemLeave:le,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:P,position:n,isPositioned:R,searchRef:H,children:I.jsx(vI,{as:Uo,allowPinchZoom:!0,children:I.jsx(Of,{asChild:!0,trapped:v.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ie(s,Y=>{var Z;(Z=v.trigger)==null||Z.focus({preventScroll:!0}),Y.preventDefault()}),children:I.jsx(Yv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:I.jsx(fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Y=>Y.preventDefault(),...p,...z,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:ie(p.onKeyDown,Y=>{const Z=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Z&&Y.key.length===1&&K(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let pe=D().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ae=Y.target,Ce=pe.indexOf(ae);pe=pe.slice(Ce+1)}setTimeout(()=>j(pe)),Y.preventDefault()}})})})})})})});fK.displayName=QEe;var JEe="SelectItemAlignedPosition",pK=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Du(Kc,r),l=Pu(Kc,r),[a,c]=E.useState(null),[d,f]=E.useState(null),g=Xe(e,C=>f(C)),m=vb(r),y=E.useRef(!1),_=E.useRef(!0),{viewport:u,selectedItem:h,selectedItemText:p,focusSelectedItem:v}=l,x=E.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&d&&u&&h&&p){const C=o.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),P=p.getBoundingClientRect();if(o.dir!=="rtl"){const ae=P.left-A.left,Ce=T.left-ae,Re=C.left-Ce,Ie=C.width+Re,tt=Math.max(Ie,A.width),dt=window.innerWidth-ua,wt=jm(Ce,[ua,dt-tt]);a.style.minWidth=Ie+"px",a.style.left=wt+"px"}else{const ae=A.right-P.right,Ce=window.innerWidth-T.right-ae,Re=window.innerWidth-C.right-Ce,Ie=C.width+Re,tt=Math.max(Ie,A.width),dt=window.innerWidth-ua,wt=jm(Ce,[ua,dt-tt]);a.style.minWidth=Ie+"px",a.style.right=wt+"px"}const B=m(),D=window.innerHeight-ua*2,R=u.scrollHeight,O=window.getComputedStyle(d),k=parseInt(O.borderTopWidth,10),j=parseInt(O.paddingTop,10),U=parseInt(O.borderBottomWidth,10),N=parseInt(O.paddingBottom,10),L=k+j+R+N+U,H=Math.min(h.offsetHeight*5,L),K=window.getComputedStyle(u),te=parseInt(K.paddingTop,10),le=parseInt(K.paddingBottom,10),ne=C.top+C.height/2-ua,fe=D-ne,z=h.offsetHeight/2,Y=h.offsetTop+z,Z=k+j+Y,Q=L-Z;if(Z<=ne){const ae=h===B[B.length-1].ref.current;a.style.bottom="0px";const Ce=d.clientHeight-u.offsetTop-u.offsetHeight,Re=Math.max(fe,z+(ae?le:0)+Ce+U),Ie=Z+Re;a.style.height=Ie+"px"}else{const ae=h===B[0].ref.current;a.style.top="0px";const Re=Math.max(ne,k+u.offsetTop+(ae?te:0)+z)+Q;a.style.height=Re+"px",u.scrollTop=Z-ne+u.offsetTop}a.style.margin="".concat(ua,"px 0"),a.style.minHeight=H+"px",a.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,o.trigger,o.valueNode,a,d,u,h,p,o.dir,n]);Gr(()=>x(),[x]);const[w,b]=E.useState();Gr(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const S=E.useCallback(C=>{C&&_.current===!0&&(x(),v==null||v(),_.current=!1)},[x,v]);return I.jsx(tSe,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:I.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:I.jsx(Ae.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pK.displayName=JEe;var eSe="SelectPopperPosition",YD=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ua,...o}=t,l=yb(r);return I.jsx(Zv,{...l,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YD.displayName=eSe;var[tSe,aO]=zf(Kc,{}),qD="SelectViewport",gK=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=Pu(qD,r),l=aO(qD,r),a=Xe(e,o.onViewportChange),c=E.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),I.jsx(mb.Slot,{scope:r,children:I.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:ie(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=l;if(m!=null&&m.current&&g){const y=Math.abs(c.current-f.scrollTop);if(y>0){const _=window.innerHeight-ua*2,u=parseFloat(g.style.minHeight),h=parseFloat(g.style.height),p=Math.max(u,h);if(p<_){const v=p+y,x=Math.min(_,v),w=v-x;g.style.height=x+"px",g.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,g.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});gK.displayName=qD;var mK="SelectGroup",[rSe,nSe]=zf(mK),vK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=yn();return I.jsx(rSe,{scope:r,id:s,children:I.jsx(Ae.div,{role:"group","aria-labelledby":s,...n,ref:e})})});vK.displayName=mK;var yK="SelectLabel",_K=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=nSe(yK,r);return I.jsx(Ae.div,{id:s.id,...n,ref:e})});_K.displayName=yK;var Bx="SelectItem",[iSe,xK]=zf(Bx),wK=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...l}=t,a=Du(Bx,r),c=Pu(Bx,r),d=a.value===n,[f,g]=E.useState(o!=null?o:""),[m,y]=E.useState(!1),_=Xe(e,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),u=yn(),h=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(iSe,{scope:r,value:n,disabled:s,textId:u,isSelected:d,onItemTextChange:E.useCallback(p=>{g(v=>{var x;return v||((x=p==null?void 0:p.textContent)!=null?x:"").trim()})},[]),children:I.jsx(mb.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:I.jsx(Ae.div,{role:"option","aria-labelledby":u,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:_,onFocus:ie(l.onFocus,()=>y(!0)),onBlur:ie(l.onBlur,()=>y(!1)),onPointerUp:ie(l.onPointerUp,h),onPointerMove:ie(l.onPointerMove,p=>{var v;s?(v=c.onItemLeave)==null||v.call(c):p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(l.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ie(l.onKeyDown,p=>{var x;((x=c.searchRef)==null?void 0:x.current)!==""&&p.key===" "||(HEe.includes(p.key)&&h(),p.key===" "&&p.preventDefault())})})})})});wK.displayName=Bx;var ag="SelectItemText",bK=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,l=Du(ag,r),a=Pu(ag,r),c=xK(ag,r),d=YEe(ag,r),[f,g]=E.useState(null),m=Xe(e,p=>g(p),c.onItemTextChange,p=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,p,c.value,c.disabled)}),y=f==null?void 0:f.textContent,_=E.useMemo(()=>I.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:u,onNativeOptionRemove:h}=d;return Gr(()=>(u(_),()=>h(_)),[u,h,_]),I.jsxs(I.Fragment,{children:[I.jsx(Ae.span,{id:c.textId,...o,ref:m}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ka.createPortal(o.children,l.valueNode):null]})});bK.displayName=ag;var EK="SelectItemIndicator",SK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return xK(EK,r).isSelected?I.jsx(Ae.span,{"aria-hidden":!0,...n,ref:e}):null});SK.displayName=EK;var ZD="SelectScrollUpButton",CK=E.forwardRef((t,e)=>{const r=Pu(ZD,t.__scopeSelect),n=aO(ZD,t.__scopeSelect),[s,o]=E.useState(!1),l=Xe(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?I.jsx(TK,{...t,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});CK.displayName=ZD;var QD="SelectScrollDownButton",AK=E.forwardRef((t,e)=>{const r=Pu(QD,t.__scopeSelect),n=aO(QD,t.__scopeSelect),[s,o]=E.useState(!1),l=Xe(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?I.jsx(TK,{...t,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});AK.displayName=QD;var TK=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=Pu("SelectScrollButton",r),l=E.useRef(null),a=vb(r),c=E.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),Gr(()=>{var f;const d=a().find(g=>g.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),I.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:ie(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{c()})})}),sSe="SelectSeparator",DK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return I.jsx(Ae.div,{"aria-hidden":!0,...n,ref:e})});DK.displayName=sSe;var JD="SelectArrow",oSe=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=yb(r),o=Du(JD,r),l=Pu(JD,r);return o.open&&l.position==="popper"?I.jsx(Qv,{...s,...n,ref:e}):null});oSe.displayName=JD;function PK(t){return t===""||t===void 0}var RK=E.forwardRef((t,e)=>{const{value:r,...n}=t,s=E.useRef(null),o=Xe(e,s),l=sO(r);return E.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==r&&f){const g=new Event("change",{bubbles:!0});f.call(a,r),a.dispatchEvent(g)}},[l,r]),I.jsx(hy,{asChild:!0,children:I.jsx("select",{...n,ref:o,defaultValue:r})})});RK.displayName="BubbleSelect";function IK(t){const e=Ut(t),r=E.useRef(""),n=E.useRef(0),s=E.useCallback(l=>{const a=r.current+l;e(a),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function OK(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=aSe(t,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function aSe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var MWe=iK,FWe=oK,kWe=lK,LWe=uK,NWe=cK,UWe=dK,$We=gK,jWe=vK,zWe=_K,GWe=wK,VWe=bK,HWe=SK,WWe=CK,KWe=AK,XWe=DK;function _b(){return(_b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function BK(t,e){if(t==null)return{};var r,n,s={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(s[r]=t[r]);return s}function eP(t){var e=E.useRef(t),r=E.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var gv=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Ng=function(t){return"touches"in t},tP=function(t){return t&&t.ownerDocument.defaultView||self},ZL=function(t,e,r){var n=t.getBoundingClientRect(),s=Ng(e)?function(o,l){for(var a=0;a<o.length;a++)if(o[a].identifier===l)return o[a];return o[0]}(e.touches,r):e;return{left:gv((s.pageX-(n.left+tP(t).pageXOffset))/n.width),top:gv((s.pageY-(n.top+tP(t).pageYOffset))/n.height)}},QL=function(t){!Ng(t)&&t.preventDefault()},MK=V.memo(function(t){var e=t.onMove,r=t.onKey,n=BK(t,["onMove","onKey"]),s=E.useRef(null),o=eP(e),l=eP(r),a=E.useRef(null),c=E.useRef(!1),d=E.useMemo(function(){var y=function(h){QL(h),(Ng(h)?h.touches.length>0:h.buttons>0)&&s.current?o(ZL(s.current,h,a.current)):u(!1)},_=function(){return u(!1)};function u(h){var p=c.current,v=tP(s.current),x=h?v.addEventListener:v.removeEventListener;x(p?"touchmove":"mousemove",y),x(p?"touchend":"mouseup",_)}return[function(h){var p=h.nativeEvent,v=s.current;if(v&&(QL(p),!function(w,b){return b&&!Ng(w)}(p,c.current)&&v)){if(Ng(p)){c.current=!0;var x=p.changedTouches||[];x.length&&(a.current=x[0].identifier)}v.focus(),o(ZL(v,p,a.current)),u(!0)}},function(h){var p=h.which||h.keyCode;p<37||p>40||(h.preventDefault(),l({left:p===39?.05:p===37?-.05:0,top:p===40?.05:p===38?-.05:0}))},u]},[l,o]),f=d[0],g=d[1],m=d[2];return E.useEffect(function(){return m},[m]),V.createElement("div",_b({},n,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:s,onKeyDown:g,tabIndex:0,role:"slider"}))}),lO=function(t){return t.filter(Boolean).join(" ")},FK=function(t){var e=t.color,r=t.left,n=t.top,s=n===void 0?.5:n,o=lO(["react-colorful__pointer",t.className]);return V.createElement("div",{className:o,style:{top:100*s+"%",left:100*r+"%"}},V.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},mn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},lSe=function(t){return fSe(rP(t))},rP=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?mn(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?mn(parseInt(t.substring(6,8),16)/255,2):1}},uSe=function(t){return hSe(dSe(t))},cSe=function(t){var e=t.s,r=t.v,n=t.a,s=(200-e)*r/100;return{h:mn(t.h),s:mn(s>0&&s<200?e*r/100/(s<=100?s:200-s)*100:0),l:mn(s/2),a:mn(n,2)}},nP=function(t){var e=cSe(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},dSe=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),l=n*(1-r),a=n*(1-(e-o)*r),c=n*(1-(1-e+o)*r),d=o%6;return{r:mn(255*[n,a,l,l,c,n][d]),g:mn(255*[c,n,n,a,l,l][d]),b:mn(255*[l,l,c,n,n,a][d]),a:mn(s,2)}},z0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},hSe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=s<1?z0(mn(255*s)):"";return"#"+z0(e)+z0(r)+z0(n)+o},fSe=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,o=Math.max(e,r,n),l=o-Math.min(e,r,n),a=l?o===e?(r-n)/l:o===r?2+(n-e)/l:4+(e-r)/l:0;return{h:mn(60*(a<0?a+6:a)),s:mn(o?l/o*100:0),v:mn(o/255*100),a:s}},pSe=V.memo(function(t){var e=t.hue,r=t.onChange,n=lO(["react-colorful__hue",t.className]);return V.createElement("div",{className:n},V.createElement(MK,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:gv(e+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":mn(e),"aria-valuemax":"360","aria-valuemin":"0"},V.createElement(FK,{className:"react-colorful__hue-pointer",left:e/360,color:nP({h:e,s:100,v:100,a:1})})))}),gSe=V.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:nP({h:e.h,s:100,v:100,a:1})};return V.createElement("div",{className:"react-colorful__saturation",style:n},V.createElement(MK,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:gv(e.s+100*s.left,0,100),v:gv(e.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+mn(e.s)+"%, Brightness "+mn(e.v)+"%"},V.createElement(FK,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:nP(e)})))}),kK=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},mSe=function(t,e){return t.toLowerCase()===e.toLowerCase()||kK(rP(t),rP(e))};function vSe(t,e,r){var n=eP(r),s=E.useState(function(){return t.toHsva(e)}),o=s[0],l=s[1],a=E.useRef({color:e,hsva:o});E.useEffect(function(){if(!t.equal(e,a.current.color)){var d=t.toHsva(e);a.current={hsva:d,color:e},l(d)}},[e,t]),E.useEffect(function(){var d;kK(o,a.current.hsva)||t.equal(d=t.fromHsva(o),a.current.color)||(a.current={hsva:o,color:d},n(d))},[o,t,n]);var c=E.useCallback(function(d){l(function(f){return Object.assign({},f,d)})},[]);return[o,c]}var ySe=typeof window<"u"?E.useLayoutEffect:E.useEffect,_Se=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},JL=new Map,xSe=function(t){ySe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!JL.has(e)){var r=e.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',JL.set(e,r);var n=_Se();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},wSe=function(t){var e=t.className,r=t.colorModel,n=t.color,s=n===void 0?r.defaultColor:n,o=t.onChange,l=BK(t,["className","colorModel","color","onChange"]),a=E.useRef(null);xSe(a);var c=vSe(r,s,o),d=c[0],f=c[1],g=lO(["react-colorful",e]);return V.createElement("div",_b({},l,{ref:a,className:g}),V.createElement(gSe,{hsva:d,onChange:f}),V.createElement(pSe,{hue:d.h,onChange:f,className:"react-colorful__last-control"}))},bSe={defaultColor:"000",toHsva:lSe,fromHsva:function(t){return uSe({h:t.h,s:t.s,v:t.v,a:1})},equal:mSe},YWe=function(t){return V.createElement(wSe,_b({},t,{colorModel:bSe}))},uO="Popover",[LK,qWe]=yi(uO,[Ko]),py=Ko(),[ESe,Ru]=LK(uO),NK=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!1}=t,a=py(e),c=E.useRef(null),[d,f]=E.useState(!1),[g=!1,m]=Mn({prop:n,defaultProp:s,onChange:o});return I.jsx(Ff,{...a,children:I.jsx(ESe,{scope:e,contentId:yn(),triggerRef:c,open:g,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:d,onCustomAnchorAdd:E.useCallback(()=>f(!0),[]),onCustomAnchorRemove:E.useCallback(()=>f(!1),[]),modal:l,children:r})})};NK.displayName=uO;var UK="PopoverAnchor",SSe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ru(UK,r),o=py(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:a}=s;return E.useEffect(()=>(l(),()=>a()),[l,a]),I.jsx(kf,{...o,...n,ref:e})});SSe.displayName=UK;var $K="PopoverTrigger",jK=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ru($K,r),o=py(r),l=Xe(e,s.triggerRef),a=I.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":WK(s.open),...n,ref:l,onClick:ie(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:I.jsx(kf,{asChild:!0,...o,children:a})});jK.displayName=$K;var cO="PopoverPortal",[CSe,ASe]=LK(cO,{forceMount:void 0}),zK=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,o=Ru(cO,e);return I.jsx(CSe,{scope:e,forceMount:r,children:I.jsx(vi,{present:r||o.open,children:I.jsx(Jv,{asChild:!0,container:s,children:n})})})};zK.displayName=cO;var ff="PopoverContent",GK=E.forwardRef((t,e)=>{const r=ASe(ff,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,o=Ru(ff,t.__scopePopover);return I.jsx(vi,{present:n||o.open,children:o.modal?I.jsx(TSe,{...s,ref:e}):I.jsx(DSe,{...s,ref:e})})});GK.displayName=ff;var TSe=E.forwardRef((t,e)=>{const r=Ru(ff,t.__scopePopover),n=E.useRef(null),s=Xe(e,n),o=E.useRef(!1);return E.useEffect(()=>{const l=n.current;if(l)return ey(l)},[]),I.jsx(vI,{as:Uo,allowPinchZoom:!0,children:I.jsx(VK,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,l=>{var a;l.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,l=>{const a=l.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),DSe=E.forwardRef((t,e)=>{const r=Ru(ff,t.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return I.jsx(VK,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,a;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),VK=E.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...g}=t,m=Ru(ff,r),y=py(r);return sI(),I.jsx(Of,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:I.jsx(Yv,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:I.jsx(Zv,{"data-state":WK(m.open),role:"dialog",id:m.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HK="PopoverClose",PSe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ru(HK,r);return I.jsx(Ae.button,{type:"button",...n,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});PSe.displayName=HK;var RSe="PopoverArrow",ISe=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=py(r);return I.jsx(Qv,{...s,...n,ref:e})});ISe.displayName=RSe;function WK(t){return t?"open":"closed"}var ZWe=NK,QWe=jK,JWe=zK,eKe=GK,OSe="Toggle",dO=E.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...o}=t,[l=!1,a]=Mn({prop:r,onChange:s,defaultProp:n});return I.jsx(Ae.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:ie(t.onClick,()=>{t.disabled||a(!l)})})});dO.displayName=OSe;var tKe=dO,Gf="ToggleGroup",[KK,XK]=yi(Gf,[Ps]),YK=Ps(),hO=V.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return I.jsx(BSe,{...s,ref:e})}if(r==="multiple"){const s=n;return I.jsx(MSe,{...s,ref:e})}throw new Error("Missing prop `type` expected on `".concat(Gf,"`"))});hO.displayName=Gf;var[qK,ZK]=KK(Gf),BSe=V.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[l,a]=Mn({prop:r,defaultProp:n,onChange:s});return I.jsx(qK,{scope:t.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:a,onItemDeactivate:V.useCallback(()=>a(""),[a]),children:I.jsx(QK,{...o,ref:e})})}),MSe=V.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[l=[],a]=Mn({prop:r,defaultProp:n,onChange:s}),c=V.useCallback(f=>a((g=[])=>[...g,f]),[a]),d=V.useCallback(f=>a((g=[])=>g.filter(m=>m!==f)),[a]);return I.jsx(qK,{scope:t.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:c,onItemDeactivate:d,children:I.jsx(QK,{...o,ref:e})})});hO.displayName=Gf;var[FSe,kSe]=KK(Gf),QK=V.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:o,dir:l,loop:a=!0,...c}=t,d=YK(r),f=Ho(l),g={role:"group",dir:f,...c};return I.jsx(FSe,{scope:r,rovingFocus:s,disabled:n,children:s?I.jsx(Lf,{asChild:!0,...d,orientation:o,dir:f,loop:a,children:I.jsx(Ae.div,{...g,ref:e})}):I.jsx(Ae.div,{...g,ref:e})})}),Mx="ToggleGroupItem",JK=V.forwardRef((t,e)=>{const r=ZK(Mx,t.__scopeToggleGroup),n=kSe(Mx,t.__scopeToggleGroup),s=YK(t.__scopeToggleGroup),o=r.value.includes(t.value),l=n.disabled||t.disabled,a={...t,pressed:o,disabled:l},c=V.useRef(null);return n.rovingFocus?I.jsx(sd,{asChild:!0,...s,focusable:!l,active:o,ref:c,children:I.jsx(eN,{...a,ref:e})}):I.jsx(eN,{...a,ref:e})});JK.displayName=Mx;var eN=V.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,o=ZK(Mx,r),l={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=o.type==="single"?l:void 0;return I.jsx(dO,{...a,...s,ref:e,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),LSe=hO,NSe=JK,fO="Tabs",[USe,rKe]=yi(fO,[Ps]),eX=Ps(),[$Se,pO]=USe(fO),tX=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:a,activationMode:c="automatic",...d}=t,f=Ho(a),[g,m]=Mn({prop:n,onChange:s,defaultProp:o});return I.jsx($Se,{scope:r,baseId:yn(),value:g,onValueChange:m,orientation:l,dir:f,activationMode:c,children:I.jsx(Ae.div,{dir:f,"data-orientation":l,...d,ref:e})})});tX.displayName=fO;var rX="TabsList",nX=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=pO(rX,r),l=eX(r);return I.jsx(Lf,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:I.jsx(Ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});nX.displayName=rX;var iX="TabsTrigger",sX=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,l=pO(iX,r),a=eX(r),c=lX(l.baseId,n),d=uX(l.baseId,n),f=n===l.value;return I.jsx(sd,{asChild:!0,...a,focusable:!s,active:f,children:I.jsx(Ae.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:ie(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(n):g.preventDefault()}),onKeyDown:ie(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(n)}),onFocus:ie(t.onFocus,()=>{const g=l.activationMode!=="manual";!f&&!s&&g&&l.onValueChange(n)})})})});sX.displayName=iX;var oX="TabsContent",aX=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...l}=t,a=pO(oX,r),c=lX(a.baseId,n),d=uX(a.baseId,n),f=n===a.value,g=E.useRef(f);return E.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),I.jsx(vi,{present:s||f,children:({present:m})=>I.jsx(Ae.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:m&&o})})});aX.displayName=oX;function lX(t,e){return"".concat(t,"-trigger-").concat(e)}function uX(t,e){return"".concat(t,"-content-").concat(e)}var nKe=tX,iKe=nX,sKe=sX,oKe=aX,jSe=Object.defineProperty,zSe=Object.defineProperties,GSe=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,VSe=Object.prototype.hasOwnProperty,HSe=Object.prototype.propertyIsEnumerable,rN=(t,e,r)=>e in t?jSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,WSe=(t,e)=>{for(var r in e||(e={}))VSe.call(e,r)&&rN(t,r,e[r]);if(tN)for(var r of tN(e))HSe.call(e,r)&&rN(t,r,e[r]);return t},KSe=(t,e)=>zSe(t,GSe(e)),XSe=E.createContext(void 0),YSe=()=>E.useContext(XSe);function cX(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((r,n)=>r&&cX(t[n],e[n]),!0):t===e}var qSe=E.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),ZSe=()=>E.useContext(qSe),dX=new Set(["shift","alt","meta","mod","ctrl","control"]),QSe={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function pf(t){return(QSe[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function JSe(t){return dX.has(t)}function nC(t,e=","){return t.toLowerCase().split(e)}function iC(t,e="+",r=!1,n){const s=t.toLocaleLowerCase().split(e).map(a=>pf(a)),o={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),meta:s.includes("meta"),mod:s.includes("mod"),shift:s.includes("shift"),useKey:r},l=s.filter(a=>!dX.has(a));return KSe(WSe({},o),{description:n,keys:l})}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&fX([pf(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&pX([pf(t.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{kl.clear()});var kl=new Set;function hX(t){return Array.isArray(t)}function eCe(t,e=","){return(hX(t)?t:t.split(e)).every(n=>kl.has(n.trim().toLowerCase()))}function fX(t){const e=Array.isArray(t)?t:[t];kl.has("meta")&&kl.forEach(r=>!JSe(r)&&kl.delete(r.toLowerCase())),e.forEach(r=>kl.add(r.toLowerCase()))}function pX(t){const e=Array.isArray(t)?t:[t];t==="meta"?kl.clear():e.forEach(r=>kl.delete(r.toLowerCase()))}var G0={AVRInput:"AVRInput",AVRPower:"AVRPower",Accept:"Accept",Add:"Add",Again:"Again",AllCandidates:"AllCandidates",Alphanumeric:"Alphanumeric",Alt:"Alt",AltGraph:"AltGraph",AppSwitch:"AppSwitch",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Attn:"Attn",AudioBalanceLeft:"AudioBalanceLeft",AudioBalanceRight:"AudioBalanceRight",AudioBassBoostDown:"AudioBassBoostDown",AudioBassBoostToggle:"AudioBassBoostToggle",AudioBassBoostUp:"AudioBassBoostUp",AudioBassDown:"AudioBassDown",AudioBassUp:"AudioBassUp",AudioFaderFront:"AudioFaderFront",AudioFaderRear:"AudioFaderRear",AudioSurroundModeNext:"AudioSurroundModeNext",AudioTrebleDown:"AudioTrebleDown",AudioTrebleUp:"AudioTrebleUp",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",Backspace:"Backspace",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Call:"Call",Camera:"Camera",CameraFocus:"CameraFocus",Cancel:"Cancel",CapsLock:"CapsLock",ChannelDown:"ChannelDown",ChannelUp:"ChannelUp",Clear:"Clear",Close:"Close",ClosedCaptionToggle:"ClosedCaptionToggle",CodeInput:"CodeInput",ColorF0Red:"ColorF0Red",ColorF1Green:"ColorF1Green",ColorF2Yellow:"ColorF2Yellow",ColorF3Blue:"ColorF3Blue",ColorF4Grey:"ColorF4Grey",ColorF5Brown:"ColorF5Brown",Compose:"Compose",ContextMenu:"ContextMenu",Control:"Control",Convert:"Convert",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",DVR:"DVR",Dead:"Dead",Decimal:"Decimal",Delete:"Delete",Dimmer:"Dimmer",DisplaySwap:"DisplaySwap",Divide:"Divide",Eisu:"Eisu",Eject:"Eject",End:"End",EndCall:"EndCall",Enter:"Enter",EraseEof:"EraseEof",Escape:"Escape",ExSel:"ExSel",Execute:"Execute",Exit:"Exit",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",FavoriteClear0:"FavoriteClear0",FavoriteClear1:"FavoriteClear1",FavoriteClear2:"FavoriteClear2",FavoriteClear3:"FavoriteClear3",FavoriteRecall0:"FavoriteRecall0",FavoriteRecall1:"FavoriteRecall1",FavoriteRecall2:"FavoriteRecall2",FavoriteRecall3:"FavoriteRecall3",FavoriteStore0:"FavoriteStore0",FavoriteStore1:"FavoriteStore1",FavoriteStore2:"FavoriteStore2",FavoriteStore3:"FavoriteStore3",FinalMode:"FinalMode",Find:"Find",Finish:"Finish",Fn:"Fn",FnLock:"FnLock",GoBack:"GoBack",GoHome:"GoHome",GroupFirst:"GroupFirst",GroupLast:"GroupLast",GroupNext:"GroupNext",GroupPrevious:"GroupPrevious",Guide:"Guide",GuideNextDay:"GuideNextDay",GuidePreviousDay:"GuidePreviousDay",HangulMode:"HangulMode",HanjaMode:"HanjaMode",Hankaku:"Hankaku",HeadsetHook:"HeadsetHook",Help:"Help",Hibernate:"Hibernate",Hiragana:"Hiragana",HiraganaKatakana:"HiraganaKatakana",Home:"Home",Hyper:"Hyper",Info:"Info",Insert:"Insert",InstantReplay:"InstantReplay",JunjaMode:"JunjaMode",KanaMode:"KanaMode",KanjiMode:"KanjiMode",Katakana:"Katakana",Key11:"Key11",Key12:"Key12",LastNumberRedial:"LastNumberRedial",LaunchApplication1:"LaunchApplication1",LaunchApplication2:"LaunchApplication2",LaunchApplication3:"LaunchApplication3",LaunchApplication4:"LaunchApplication4",LaunchApplication5:"LaunchApplication5",LaunchApplication6:"LaunchApplication6",LaunchApplication7:"LaunchApplication7",LaunchApplication8:"LaunchApplication8",LaunchApplication9:"LaunchApplication9",LaunchApplication10:"LaunchApplication10",LaunchApplication11:"LaunchApplication11",LaunchApplication12:"LaunchApplication12",LaunchApplication13:"LaunchApplication13",LaunchApplication14:"LaunchApplication14",LaunchApplication15:"LaunchApplication15",LaunchApplication16:"LaunchApplication16",LaunchCalculator:"LaunchCalculator",LaunchCalendar:"LaunchCalendar",LaunchContacts:"LaunchContacts",LaunchMail:"LaunchMail",LaunchMediaPlayer:"LaunchMediaPlayer",LaunchMusicPlayer:"LaunchMusicPlayer",LaunchMyComputer:"LaunchMyComputer",LaunchPhone:"LaunchPhone",LaunchScreenSaver:"LaunchScreenSaver",LaunchSpreadsheet:"LaunchSpreadsheet",LaunchWebBrowser:"LaunchWebBrowser",LaunchWebCam:"LaunchWebCam",LaunchWordProcessor:"LaunchWordProcessor",Link:"Link",ListProgram:"ListProgram",LiveContent:"LiveContent",Lock:"Lock",LogOff:"LogOff",MailForward:"MailForward",MailReply:"MailReply",MailSend:"MailSend",MannerMode:"MannerMode",MediaApps:"MediaApps",MediaAudioTrack:"MediaAudioTrack",MediaFastForward:"MediaFastForward",MediaLast:"MediaLast",MediaPause:"MediaPause",MediaPlay:"MediaPlay",MediaPlayPause:"MediaPlayPause",MediaRecord:"MediaRecord",MediaRewind:"MediaRewind",MediaSkipBackward:"MediaSkipBackward",MediaSkipForward:"MediaSkipForward",MediaStepBackward:"MediaStepBackward",MediaStepForward:"MediaStepForward",MediaStop:"MediaStop",MediaTopMenu:"MediaTopMenu",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Meta:"Meta",MicrophoneToggle:"MicrophoneToggle",MicrophoneVolumeDown:"MicrophoneVolumeDown",MicrophoneVolumeMute:"MicrophoneVolumeMute",MicrophoneVolumeUp:"MicrophoneVolumeUp",Mod:"Mod",ModeChange:"ModeChange",Multiply:"Multiply",NavigateIn:"NavigateIn",NavigateNext:"NavigateNext",NavigateOut:"NavigateOut",NavigatePrevious:"NavigatePrevious",New:"New",NextCandidate:"NextCandidate",NextFavoriteChannel:"NextFavoriteChannel",NextUserProfile:"NextUserProfile",NonConvert:"NonConvert",Notification:"Notification",NumLock:"NumLock",OnDemand:"OnDemand",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Pairing:"Pairing",Paste:"Paste",Pause:"Pause",PinPDown:"PinPDown",PinPMove:"PinPMove",PinPToggle:"PinPToggle",PinPUp:"PinPUp",Play:"Play",PlaySpeedDown:"PlaySpeedDown",PlaySpeedReset:"PlaySpeedReset",PlaySpeedUp:"PlaySpeedUp",Power:"Power",PowerOff:"PowerOff",PreviousCandidate:"PreviousCandidate",Print:"Print",PrintScreen:"PrintScreen",Process:"Process",Props:"Props",RandomToggle:"RandomToggle",RcLowBattery:"RcLowBattery",RecordSpeedNext:"RecordSpeedNext",Redo:"Redo",RfBypass:"RfBypass",Romaji:"Romaji",STBInput:"STBInput",STBPower:"STBPower",Save:"Save",ScanChannelsToggle:"ScanChannelsToggle",ScreenModeNext:"ScreenModeNext",ScrollLock:"ScrollLock",Select:"Select",Separator:"Separator",Settings:"Settings",Shift:"Shift",SingleCandidate:"SingleCandidate",Soft1:"Soft1",Soft2:"Soft2",Soft3:"Soft3",Soft4:"Soft4",SpeechCorrectionList:"SpeechCorrectionList",SpeechInputToggle:"SpeechInputToggle",SpellCheck:"SpellCheck",SplitScreenToggle:"SplitScreenToggle",Standby:"Standby",Subtitle:"Subtitle",Subtract:"Subtract",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",TV:"TV",TV3DMode:"TV3DMode",TVAntennaCable:"TVAntennaCable",TVAudioDescription:"TVAudioDescription",TVAudioDescriptionMixDown:"TVAudioDescriptionMixDown",TVAudioDescriptionMixUp:"TVAudioDescriptionMixUp",TVContentsMenu:"TVContentsMenu",TVDataService:"TVDataService",TVInput:"TVInput",TVInputComponent1:"TVInputComponent1",TVInputComponent2:"TVInputComponent2",TVInputComposite1:"TVInputComposite1",TVInputComposite2:"TVInputComposite2",TVInputHDMI1:"TVInputHDMI1",TVInputHDMI2:"TVInputHDMI2",TVInputHDMI3:"TVInputHDMI3",TVInputHDMI4:"TVInputHDMI4",TVInputVGA1:"TVInputVGA1",TVMediaContext:"TVMediaContext",TVNetwork:"TVNetwork",TVNumberEntry:"TVNumberEntry",TVPower:"TVPower",TVRadioService:"TVRadioService",TVSatellite:"TVSatellite",TVSatelliteBS:"TVSatelliteBS",TVSatelliteCS:"TVSatelliteCS",TVSatelliteToggle:"TVSatelliteToggle",TVTerrestrialAnalog:"TVTerrestrialAnalog",TVTerrestrialDigital:"TVTerrestrialDigital",TVTimer:"TVTimer",Tab:"Tab",Teletext:"Teletext",Undo:"Undo",Unidentified:"Unidentified",VideoModeNext:"VideoModeNext",VoiceDial:"VoiceDial",WakeUp:"WakeUp",Wink:"Wink",Zenkaku:"Zenkaku",ZenkakuHanaku:"ZenkakuHanaku",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",ZoomToggle:"ZoomToggle"};function tCe(t){const e=E.useRef();return cX(e.current,t)||(e.current=t),e.current}function rCe(t,e,r){(typeof r=="function"&&r(t,e)||r===!0)&&t.preventDefault()}function nCe(t,e,r){return typeof r=="function"?r(t,e):r===!0||r===void 0}function iCe(t){return gX(t,["input","textarea","select"])}function gX({target:t},e=!1){const r=t&&t.tagName;return hX(e)?!!(r&&(e!=null&&e.some(n=>n.toLowerCase()===r.toLowerCase()))):!!(r&&e&&e)}function sCe(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(r=>e.includes(r))||t.includes("*"):!0}var oCe=(t,e,r=!1)=>{const{alt:n,ctrl:s,keys:o,meta:l,mod:a,shift:c,useKey:d}=e,{altKey:f,code:g,ctrlKey:m,key:y,metaKey:_,shiftKey:u}=t,h=pf(g);if(d&&(o==null?void 0:o.length)===1&&o.includes(y))return!0;if(!(o!=null&&o.includes(h))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(h))return!1;if(!r){if(n!==f&&h!=="alt"||c!==u&&h!=="shift")return!1;if(a){if(!_&&!m)return!1}else if(l!==_&&h!=="meta"&&h!=="os"||s!==m&&h!=="ctrl"&&h!=="control")return!1}return o&&o.length===1&&o.includes(h)?!0:o?eCe(o):!o},nN=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},aCe=typeof window>"u"?E.useEffect:E.useLayoutEffect;function lCe(t,e,r,n){const[s,o]=E.useState(null),l=E.useRef(!1),a=Array.isArray(r)?Array.isArray(n)?void 0:n:r,c=E.useMemo(()=>Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(u=>u.map(h=>h.toString()).join((a==null?void 0:a.splitKey)||"+")).join((a==null?void 0:a.delimiter)||","):Array.isArray(t)?t.join((a==null?void 0:a.delimiter)||","):t,[t,a==null?void 0:a.splitKey,a==null?void 0:a.delimiter]),d=Array.isArray(r)?r:Array.isArray(n)?n:void 0,f=E.useCallback(e,d!=null?d:[]),g=E.useRef(f);g.current=d?f:e;const m=tCe(a),{activeScopes:y}=ZSe(),_=YSe();return aCe(()=>{if((m==null?void 0:m.enabled)===!1||!sCe(y,m==null?void 0:m.scopes))return;const u=(x,w=!1)=>{var b;if(!(iCe(x)&&!gX(x,m==null?void 0:m.enableOnFormTags))){if(s!==null){const S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){nN(x);return}}(b=x.target)!=null&&b.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||nC(c,m==null?void 0:m.delimiter).forEach(S=>{var C,A,T;const P=iC(S,m==null?void 0:m.splitKey,m==null?void 0:m.useKey);if(oCe(x,P,m==null?void 0:m.ignoreModifiers)||(C=P.keys)!=null&&C.includes("*")){if(((A=m==null?void 0:m.ignoreEventWhenPrevented)==null||A)&&x.defaultPrevented||(T=m==null?void 0:m.ignoreEventWhen)!=null&&T.call(m,x)||w&&l.current)return;if(!nCe(x,P,m==null?void 0:m.enabled)){nN(x);return}g.current(x,P),rCe(x,P,m==null?void 0:m.preventDefault),w||(l.current=!0)}})}},h=x=>{x.code!==void 0&&(fX(pf(x.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&u(x))},p=x=>{x.code!==void 0&&(pX(pf(x.code)),l.current=!1,m!=null&&m.keyup&&u(x,!0))},v=s||(a==null?void 0:a.document)||document;return v.addEventListener("keyup",p),v.addEventListener("keydown",h),_&&nC(c,m==null?void 0:m.delimiter).forEach(x=>_.addHotkey(iC(x,m==null?void 0:m.splitKey,m==null?void 0:m.useKey,m==null?void 0:m.description))),()=>{v.removeEventListener("keyup",p),v.removeEventListener("keydown",h),_&&nC(c,m==null?void 0:m.delimiter).forEach(x=>_.removeHotkey(iC(x,m==null?void 0:m.splitKey,m==null?void 0:m.useKey,m==null?void 0:m.description)))}},[s,c,m,y]),o}var Fx=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),uCe=t=>t===void 0,cCe=t=>t===null,dCe=t=>uCe(t)||cCe(t),dd=t=>!dCe(t);function gf(t,e){return(...r)=>t(e,...r)}let hCe=0;function Fo(t,e){const r="atom".concat(++hCe),n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=fCe,n.write=pCe),e&&(n.write=e),n}function fCe(t){return t(this)}function pCe(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}const sC=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,iN=t=>"init"in t,sN=t=>!!t.write,kx=new WeakMap,gCe=(t,e)=>{kx.set(t,e),t.catch(()=>{}).finally(()=>kx.delete(t))},oN=(t,e)=>{const r=kx.get(t);r&&(kx.delete(t),r(e))},aN=(t,e)=>{t.status="fulfilled",t.value=e},lN=(t,e)=>{t.status="rejected",t.reason=e},mCe=t=>typeof(t==null?void 0:t.then)=="function",Bp=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),uN=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),Fd=t=>!!t&&"v"in t&&t.v instanceof Promise,vCe=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,V0=t=>{if("e"in t)throw t.e;return t.v},mX=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let s,o;const l=A=>t.get(A),a=(A,T)=>{T.d.forEach((P,B)=>{if(!n.has(B)){const D=l(B);n.set(B,[D,new Set]),D&&a(B,D)}n.get(B)[1].add(A)})},c=(A,T)=>{var P;const B=l(A);if(t.set(A,T),(P=r[r.length-1])==null||P.add(A),n.has(A)||(n.set(A,[B,new Set]),a(A,T)),Fd(B)){const D="v"in T?T.v instanceof Promise?T.v:Promise.resolve(T.v):Promise.reject(T.e);B.v!==D&&oN(B.v,D)}},d=(A,T,P,B)=>{const D=new Map(B?T.d:null);let R=!1;P.forEach((O,k)=>{!O&&sC(A,k)&&(O=T),O&&(D.set(k,O),T.d.get(k)!==O&&(R=!0))}),(R||T.d.size!==D.size)&&(T.d=D)},f=(A,T,P,B)=>{const D=l(A),R={d:(D==null?void 0:D.d)||new Map,v:T};if(P&&d(A,R,P,B),Bp(D,R)&&D.d===R.d)return D;if(Fd(D)&&Fd(R)&&vCe(D,R)){if(D.d===R.d)return D;R.v=D.v}return c(A,R),R},g=(A,T,P,B)=>{if(mCe(T)){let D;const R=()=>{const k=l(A);if(!Fd(k)||k.v!==O)return;const j=f(A,O,P);e.has(A)&&k.d!==j.d&&b(A,j,k.d)},O=new Promise((k,j)=>{let U=!1;T.then(N=>{U||(U=!0,aN(O,N),k(N),R())},N=>{U||(U=!0,lN(O,N),j(N),R())}),D=N=>{U||(U=!0,N.then(L=>aN(O,L),L=>lN(O,L)),k(N))}});return O.orig=T,O.status="pending",gCe(O,k=>{k&&(D(k),B==null||B())}),f(A,O,P,!0)}return f(A,T,P)},m=(A,T,P)=>{const B=l(A),D={d:(B==null?void 0:B.d)||new Map,e:T};return P&&d(A,D,P),uN(B,D)&&B.d===D.d?B:(c(A,D),D)},y=(A,T)=>{const P=l(A);if(!(T!=null&&T(A))&&P&&(e.has(A)||Array.from(P.d).every(([U,N])=>{if(U===A)return!0;const L=y(U,T);return L===N||Bp(L,N)})))return P;const B=new Map;let D=!0;const R=U=>{if(sC(A,U)){const L=l(U);if(L)return B.set(U,L),V0(L);if(iN(U))return B.set(U,void 0),U.init;throw new Error("no atom init")}const N=y(U,T);return B.set(U,N),V0(N)};let O,k;const j={get signal(){return O||(O=new AbortController),O.signal},get setSelf(){return!k&&sN(A)&&(k=(...U)=>{if(!D)return p(A,...U)}),k}};try{const U=A.read(R,j);return g(A,U,B,()=>O==null?void 0:O.abort())}catch(U){return m(A,U,B)}finally{D=!1}},_=A=>V0(y(A)),u=A=>{const T=k=>{var j,U;const N=new Set((j=e.get(k))==null?void 0:j.t);return(U=n.get(k))==null||U[1].forEach(L=>{N.add(L)}),N},P=new Array,B=new Set,D=k=>{if(!B.has(k)){B.add(k);for(const j of T(k))k!==j&&D(j);P.push(k)}};D(A);const R=new Set([A]),O=k=>B.has(k);for(let k=P.length-1;k>=0;--k){const j=P[k],U=l(j);if(!U)continue;let N=!1;for(const L of U.d.keys())if(L!==j&&R.has(L)){N=!0;break}if(N){const L=y(j,O);a(j,L),Bp(U,L)||R.add(j)}B.delete(j)}},h=(A,...T)=>{const P=R=>V0(y(R)),B=(R,...O)=>{const k=r.length>0;k||r.push(new Set([R]));let j;if(sC(A,R)){if(!iN(R))throw new Error("atom not writable");const U=l(R),N=g(R,O[0]);Bp(U,N)||u(R)}else j=h(R,...O);if(!k){const U=S(r.pop())}return j};return A.write(P,B,...T)},p=(A,...T)=>{r.push(new Set([A]));const P=h(A,...T),B=S(r.pop());return P},v=(A,T,P)=>{var B;const D=e.get(A);if(D)return T&&D.t.add(T),D;const R=P||[];(B=l(A))==null||B.d.forEach((k,j)=>{j!==A&&v(j,A,R)}),y(A);const O={t:new Set(T&&[T]),l:new Set};if(e.set(A,O),sN(A)&&A.onMount){const{onMount:k}=A;R.push(()=>{const j=k((...U)=>p(A,...U));j&&(O.u=j)})}return P||R.forEach(k=>k()),O},x=(A,T)=>!T.l.size&&(!T.t.size||T.t.size===1&&T.t.has(A)),w=(A,T)=>{if(!x(A,T))return;const P=T.u;P&&P(),e.delete(A);const B=l(A);B&&(Fd(B)&&oN(B.v),B.d.forEach((D,R)=>{if(R!==A){const O=e.get(R);O&&(O.t.delete(A),w(R,O))}}))},b=(A,T,P)=>{const B=new Set(T.d.keys()),D=new Set;P==null||P.forEach((R,O)=>{if(B.has(O)){B.delete(O);return}D.add(O);const k=e.get(O);k&&k.t.delete(A)}),B.forEach(R=>{v(R,A)}),D.forEach(R=>{const O=e.get(R);O&&w(R,O)})},S=A=>{let T;const P=[],B=D=>{var R;if(!n.has(D))return;const[O,k]=n.get(D);n.delete(D),P.push([D,O]),k.forEach(B),(R=l(D))==null||R.d.forEach((j,U)=>B(U))};A.forEach(B),P.forEach(([D,R])=>{const O=l(D);if(O&&O!==R){const k=e.get(D);k&&O.d!==(R==null?void 0:R.d)&&b(D,O,R==null?void 0:R.d),k&&!(!Fd(R)&&(Bp(R,O)||uN(R,O)))&&k.l.forEach(j=>j())}})};return{get:_,set:p,sub:(A,T)=>{const P=v(A),B=S([A]),D=P.l;return D.add(T),()=>{D.delete(T),w(A,P)}}}};let oC;const yCe=()=>(oC||(oC=mX()),oC);Symbol("");const iP=mX,_Ce=yCe,xCe=E.createContext(void 0),gO=t=>{const e=E.useContext(xCe);return(t==null?void 0:t.store)||e||_Ce()},wCe=t=>typeof(t==null?void 0:t.then)=="function",bCe=V.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function vX(t,e){const r=gO(e),[[n,s,o],l]=E.useReducer(d=>{const f=r.get(t);return Object.is(d[0],f)&&d[1]===r&&d[2]===t?d:[f,r,t]},void 0,()=>[r.get(t),r,t]);let a=n;(s!==r||o!==t)&&(l(),a=r.get(t));const c=e==null?void 0:e.delay;return E.useEffect(()=>{const d=r.sub(t,()=>{if(typeof c=="number"){setTimeout(l,c);return}l()});return l(),d},[r,t,c]),E.useDebugValue(a),wCe(a)?bCe(a):a}function mO(t,e){const r=gO(e);return E.useCallback((...s)=>r.set(t,...s),[r,t])}function ECe(t,e){return[vX(t,e),mO(t,e)]}const cN=new WeakMap;function SCe(t,e){const r=gO(e),n=CCe(r);for(const[s,o]of t)(!n.has(s)||e!=null&&e.dangerouslyForceHydrate)&&(n.add(s),r.set(s,o))}const CCe=t=>{let e=cN.get(t);return e||(e=new WeakSet,cN.set(t,e)),e};var ACe=Object.defineProperty,TCe=Object.defineProperties,DCe=Object.getOwnPropertyDescriptors,Lx=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,_X=Object.prototype.propertyIsEnumerable,dN=(t,e,r)=>e in t?ACe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,en=(t,e)=>{for(var r in e||(e={}))yX.call(e,r)&&dN(t,r,e[r]);if(Lx)for(var r of Lx(e))_X.call(e,r)&&dN(t,r,e[r]);return t},aC=(t,e)=>TCe(t,DCe(e)),xX=(t,e)=>{var r={};for(var n in t)yX.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Lx)for(var n of Lx(t))e.indexOf(n)<0&&_X.call(t,n)&&(r[n]=t[n]);return r},hN=t=>typeof t=="function"?{__fn:t}:t,PCe=t=>t&&typeof t=="object"&&"__fn"in t?t.__fn:t,RCe=t=>{const e=Fo(hN(t));return Fo(r=>PCe(r(e)),(r,n,s)=>n(e,hN(s)))},ICe=(t,e,r={})=>{const n=[];for(const s of Object.keys(t)){const o=e[s];o!==void 0&&n.push([t[s],o])}SCe(n,r)},OCe=(t,e,{store:r}={})=>{for(const n of Object.keys(t)){const s=e[n],o=t[n],l=mO(o,{store:r});V.useEffect(()=>{s!=null&&l(s)},[l,s])}},Nx=(t,e)=>"".concat(t,":").concat(e),sP="provider",oP=V.createContext(new Map),BCe=(t,e=sP,r=!0)=>{var n;const s=V.useContext(oP),o=(n=s.get(Nx(t,e)))!=null?n:s.get(Nx(t,sP));return!o&&r&&console.warn("Tried to access jotai store '".concat(t,"' outside of a matching provider.")),o},MCe=t=>{var e=t,{initialValues:r,children:n,store:s,atoms:o}=e,l=xX(e,["initialValues","children","store","atoms"]);return ICe(o,en(en({},r),l),{store:s}),OCe(o,l,{store:s}),V.createElement(V.Fragment,null,n)},FCe=(t,e,r={})=>{const n=r.effect;return s=>{var o=s,{store:l,scope:a,children:c,resetKey:d}=o,f=xX(o,["store","scope","children","resetKey"]);const[g,m]=V.useState(iP());V.useEffect(()=>{d&&m(iP())},[d]);const y=V.useContext(oP),_=V.useMemo(()=>{const u=new Map(y);return a&&u.set(Nx(t,a),g),u.set(Nx(t,sP),g),u},[y,a,g]);return V.createElement(oP.Provider,{value:_},V.createElement(MCe,en({store:g,atoms:e},f),!!n&&V.createElement(n,null),c))}},wX=(t="")=>t.length>0?t[0].toUpperCase()+t.slice(1):"",kCe=(t="")=>"".concat(wX(t),"Provider"),LCe=(t="")=>t.length>0?"".concat(t,"Store"):"store",NCe=(t="")=>"use".concat(wX(t),"Store"),UCe=t=>!!t&&typeof t=="object"&&"read"in t&&typeof t.read=="function",lC=(t,e)=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,(s={})=>n(en(en({},e),s))])),ri=(t={})=>typeof t=="string"?{scope:t}:t,vO=(t,{name:e,delay:r,effect:n,extend:s})=>{const o=kCe(e),l=NCe(e),a=LCe(e),c={},d={},f={};for(const[S,C]of Object.entries(t)){const A=UCe(C)?C:RCe(C);c[S]=A;const T="write"in A;f[S]=T,T&&(d[S]=A)}const g=en({},c);if(s){const S=s(c);for(const[C,A]of Object.entries(S))g[C]=A,f[C]="write"in A}const m={},y={},_={},u=(S={})=>{const{scope:C,store:A,warnIfNoStore:T=!0}=ri(S),P=BCe(e,C,!A&&T);return A!=null?A:P},h=(S,C)=>{var A;const T=ri(C),P=u(en({warnIfNoStore:!1},T));return vX(S,{store:P,delay:(A=T.delay)!=null?A:r})},p=(S,C)=>{const A=u(C);return mO(S,{store:A})},v=(S,C)=>{const A=u(C),{delay:T=r}=ri(C);return ECe(S,{store:A,delay:T})};for(const S of Object.keys(g)){const C=g[S],A=f[S];m[S]=(T={})=>h(C,T),A&&(y[S]=(T={})=>p(C,T),_[S]=(T={})=>v(C,T))}const x=FCe(e,d,{effect:n}),w={atom:g,name:e},b=(S={})=>({get:aC(en({},lC(m,ri(S))),{atom:(C,A)=>h(C,en(en({},ri(S)),ri(A)))}),set:aC(en({},lC(y,ri(S))),{atom:(C,A)=>p(C,en(en({},ri(S)),ri(A)))}),use:aC(en({},lC(_,ri(S))),{atom:(C,A)=>v(C,en(en({},ri(S)),ri(A)))}),store:C=>u(en(en({},ri(S)),ri(C)))});return{[o]:x,[l]:b,[a]:w,name:e}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function fN(t){return Object.prototype.toString.call(t)==="[object Object]"}function on(t){var e,r;return fN(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(fN(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var $Ce={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=W.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},jCe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=gt.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},zCe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=ee.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},Ux=new WeakMap,$x=new WeakMap,Ug=new WeakMap,bX=new WeakMap,pN=new WeakMap,gN=new WeakMap,mN=new WeakMap,W={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=W.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var s=t[n],o=e[n];if(s!==o)break;r.push(s)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],l=e[r];return W.equals(n,s)&&o>l},endsAt(t,e){var r=t.length,n=t.slice(0,r),s=e.slice(0,r);return W.equals(n,s)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),o=t[r],l=e[r];return W.equals(n,s)&&o<l},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return W.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&W.compare(t,e)===0},isBefore(t,e){return W.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&W.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&W.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&W.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&W.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],o=e[e.length-1];return s!==o&&W.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!W.isAncestor(e,t)&&!W.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:o}=e;(W.equals(o,n)||W.endsBefore(o,n)||W.isAncestor(o,n))&&(n[o.length-1]+=1);break}case"remove_node":{var{path:l}=e;if(W.equals(l,n)||W.isAncestor(l,n))return null;W.endsBefore(l,n)&&(n[l.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=e;W.equals(a,n)||W.endsBefore(a,n)?n[a.length-1]-=1:W.isAncestor(a,n)&&(n[a.length-1]-=1,n[a.length]+=c);break}case"split_node":{var{path:d,position:f}=e;if(W.equals(d,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else W.endsBefore(d,n)?n[d.length-1]+=1:W.isAncestor(d,n)&&t[d.length]>=f&&(n[d.length-1]+=1,n[d.length]-=f);break}case"move_node":{var{path:g,newPath:m}=e;if(W.equals(g,m))return n;if(W.isAncestor(g,n)||W.equals(g,n)){var y=m.slice();return W.endsBefore(g,m)&&g.length<m.length&&(y[g.length-1]-=1),y.concat(n.slice(g.length))}else W.isSibling(g,m)&&(W.isAncestor(m,n)||W.equals(m,n))?W.endsBefore(g,n)?n[g.length-1]-=1:n[g.length-1]+=1:W.endsBefore(m,n)||W.equals(m,n)||W.isAncestor(m,n)?(W.endsBefore(g,n)&&(n[g.length-1]-=1),n[m.length-1]+=1):W.endsBefore(g,n)&&(W.equals(m,n)&&(n[m.length-1]+=1),n[g.length-1]-=1);break}}return n}};function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function GCe(t,e){if(mv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VCe(t){var e=GCe(t,"string");return mv(e)==="symbol"?e:String(e)}function ei(t,e,r){return e=VCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Mp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var HCe=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:s}=r,o=_e.parent(t,n),l=n[n.length-1];if(l>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(l,0,s),e)for(var[a,c]of ee.points(e))e[c]=gt.transform(a,r);break}case"insert_text":{var{path:d,offset:f,text:g}=r;if(g.length===0)break;var m=_e.leaf(t,d),y=m.text.slice(0,f),_=m.text.slice(f);if(m.text=y+g+_,e)for(var[u,h]of ee.points(e))e[h]=gt.transform(u,r);break}case"merge_node":{var{path:p}=r,v=_e.get(t,p),x=W.previous(p),w=_e.get(t,x),b=_e.parent(t,p),S=p[p.length-1];if(Me.isText(v)&&Me.isText(w))w.text+=v.text;else if(!Me.isText(v)&&!Me.isText(w))w.children.push(...v.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(p,"] to nodes of different interfaces: ").concat(an.stringify(v)," ").concat(an.stringify(w)));if(b.children.splice(S,1),e)for(var[C,A]of ee.points(e))e[A]=gt.transform(C,r);break}case"move_node":{var{path:T,newPath:P}=r;if(W.isAncestor(T,P))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(P,"] because the destination is inside itself."));var B=_e.get(t,T),D=_e.parent(t,T),R=T[T.length-1];D.children.splice(R,1);var O=W.transform(T,r),k=_e.get(t,W.parent(O)),j=O[O.length-1];if(k.children.splice(j,0,B),e)for(var[U,N]of ee.points(e))e[N]=gt.transform(U,r);break}case"remove_node":{var{path:L}=r,H=L[L.length-1],K=_e.parent(t,L);if(K.children.splice(H,1),e)for(var[te,le]of ee.points(e)){var ne=gt.transform(te,r);if(e!=null&&ne!=null)e[le]=ne;else{var fe=void 0,z=void 0;for(var[Y,Z]of _e.texts(t))if(W.compare(Z,L)===-1)fe=[Y,Z];else{z=[Y,Z];break}var Q=!1;fe&&z&&(W.equals(z[1],L)?Q=!W.hasPrevious(z[1]):Q=W.common(fe[1],L).length<W.common(z[1],L).length),fe&&!Q?(te.path=fe[1],te.offset=fe[0].text.length):z?(te.path=z[1],te.offset=0):e=null}}break}case"remove_text":{var{path:pe,offset:ae,text:Ce}=r;if(Ce.length===0)break;var Re=_e.leaf(t,pe),Ie=Re.text.slice(0,ae),tt=Re.text.slice(ae+Ce.length);if(Re.text=Ie+tt,e)for(var[dt,wt]of ee.points(e))e[wt]=gt.transform(dt,r);break}case"set_node":{var{path:$,properties:q,newProperties:J}=r;if($.length===0)throw new Error("Cannot set properties on the root node!");var ve=_e.get(t,$);for(var ue in J){if(ue==="children"||ue==="text")throw new Error('Cannot set the "'.concat(ue,'" property of nodes!'));var he=J[ue];he==null?delete ve[ue]:ve[ue]=he}for(var De in q)J.hasOwnProperty(De)||delete ve[De];break}case"set_selection":{var{newProperties:je}=r;if(je==null)e=je;else{if(e==null){if(!ee.isRange(je))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(an.stringify(je)," when there is no current selection."));e=Mp({},je)}for(var qe in je){var Rt=je[qe];if(Rt==null){if(qe==="anchor"||qe==="focus")throw new Error('Cannot remove the "'.concat(qe,'" selection property'));delete e[qe]}else e[qe]=Rt}}break}case"split_node":{var{path:$t,position:Or,properties:hn}=r;if($t.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat($t,"] because the root node cannot be split."));var Br=_e.get(t,$t),_i=_e.parent(t,$t),Cr=$t[$t.length-1],Hr;if(Me.isText(Br)){var rl=Br.text.slice(0,Or),Bu=Br.text.slice(Or);Br.text=rl,Hr=Mp(Mp({},hn),{},{text:Bu})}else{var fd=Br.children.slice(0,Or),pd=Br.children.slice(Or);Br.children=fd,Hr=Mp(Mp({},hn),{},{children:pd})}if(_i.children.splice(Cr+1,0,Hr),e)for(var[np,X]of ee.points(e))e[X]=gt.transform(np,r);break}}return e},WCe={transform(t,e){t.children=q3(t.children);var r=t.selection&&q3(t.selection);try{r=HCe(t,r,e)}finally{t.children=Z3(t.children),r?t.selection=Uc(r)?Z3(r):r:t.selection=null}}},KCe={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},XCe={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},EX=(t,e)=>{for(var r in t){var n=t[r],s=e[r];if(on(n)&&on(s)){if(!EX(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==s[o])return!1}else if(n!==s)return!1}for(var l in e)if(t[l]===void 0&&e[l]!==void 0)return!1;return!0};function YCe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Va(t,e){if(t==null)return{};var r=YCe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var qCe=["anchor","focus"];function yN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ee={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:s}=t;return ee.isBackward(t)===r?[n,s]:[s,n]},end(t){var[,e]=ee.edges(t);return e},equals(t,e){return gt.equals(t.anchor,e.anchor)&&gt.equals(t.focus,e.focus)},includes(t,e){if(ee.isRange(e)){if(ee.includes(t,e.anchor)||ee.includes(t,e.focus))return!0;var[r,n]=ee.edges(t),[s,o]=ee.edges(e);return gt.isBefore(r,s)&&gt.isAfter(n,o)}var[l,a]=ee.edges(t),c=!1,d=!1;return gt.isPoint(e)?(c=gt.compare(e,l)>=0,d=gt.compare(e,a)<=0):(c=W.compare(e,l.path)>=0,d=W.compare(e,a.path)<=0),c&&d},intersection(t,e){var r=Va(t,qCe),[n,s]=ee.edges(t),[o,l]=ee.edges(e),a=gt.isBefore(n,o)?o:n,c=gt.isBefore(s,l)?s:l;return gt.isBefore(c,a)?null:ZCe({anchor:a,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return gt.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return gt.equals(e,r)},isExpanded(t){return!ee.isCollapsed(t)},isForward(t){return!ee.isBackward(t)},isRange(t){return on(t)&&gt.isPoint(t.anchor)&&gt.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=ee.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Wv(t,n=>{if(n===null)return null;var{affinity:s="inward"}=r,o,l;if(s==="inward"){var a=ee.isCollapsed(n);ee.isForward(n)?(o="forward",l=a?o:"backward"):(o="backward",l=a?o:"forward")}else s==="outward"?ee.isForward(n)?(o="backward",l="forward"):(o="forward",l="backward"):(o=s,l=s);var c=gt.transform(n.anchor,e,{affinity:o}),d=gt.transform(n.focus,e,{affinity:l});if(!c||!d)return null;n.anchor=c,n.focus=d})}},_N=t=>on(t)&&_e.isNodeList(t.children)&&!M.isEditor(t),Ne={isAncestor(t){return on(t)&&_e.isNodeList(t.children)},isElement:_N,isElementList(t){return Array.isArray(t)&&t.every(e=>Ne.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return _N(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},QCe=["children"],JCe=["text"],xN=new WeakMap,_e={ancestor(t,e){var r=_e.get(t,e);if(Me.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(an.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of W.ancestors(e,r)){var s=_e.ancestor(t,n),o=[s,n];yield o}}()},child(t,e){if(Me.isText(t))throw new Error("Cannot get the child of a text node: ".concat(an.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(an.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,s=_e.ancestor(t,e),{children:o}=s,l=n?o.length-1:0;n?l>=0:l<o.length;){var a=_e.child(s,l),c=e.concat(l);yield[a,c],l=n?l-1:l+1}}()},common(t,e,r){var n=W.common(e,r),s=_e.get(t,n);return[s,n]},descendant(t,e){var r=_e.get(t,e);if(M.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(an.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(t,e))Ne.isElement(r)&&(yield[r,n])}()},extractProps(t){if(Ne.isAncestor(t)){var e=Va(t,QCe);return e}else{var e=Va(t,JCe);return e}},first(t,e){for(var r=e.slice(),n=_e.get(t,r);n&&!(Me.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(Me.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(an.stringify(t)));var r=Wv({children:t.children},n=>{var[s,o]=ee.edges(e),l=_e.nodes(n,{reverse:!0,pass:m=>{var[,y]=m;return!ee.includes(e,y)}});for(var[,a]of l){if(!ee.includes(e,a)){var c=_e.parent(n,a),d=a[a.length-1];c.children.splice(d,1)}if(W.equals(a,o.path)){var f=_e.leaf(n,a);f.text=f.text.slice(0,o.offset)}if(W.equals(a,s.path)){var g=_e.leaf(n,a);g.text=g.text.slice(s.offset)}}M.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Me.isText(r)||!r.children[s])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(an.stringify(t)));r=r.children[s]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Me.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return Me.isText(t)||Ne.isElement(t)||M.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=xN.get(t);if(e!==void 0)return e;var r=t.every(n=>_e.isNode(n));return xN.set(t,r),r},last(t,e){for(var r=e.slice(),n=_e.get(t,r);n&&!(Me.isText(n)||n.children.length===0);){var s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){var r=_e.get(t,e);if(!Me.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(an.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of W.levels(e,r)){var s=_e.get(t,n);yield[s,n]}}()},matches(t,e){return Ne.isElement(t)&&Ne.isElementProps(e)&&Ne.matches(t,e)||Me.isText(t)&&Me.isTextProps(e)&&Me.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:s=[],to:o}=e,l=new Set,a=[],c=t;!(o&&(n?W.isBefore(a,o):W.isAfter(a,o)));){if(l.has(c)||(yield[c,a]),!l.has(c)&&!Me.isText(c)&&c.children.length!==0&&(r==null||r([c,a])===!1)){l.add(c);var d=n?c.children.length-1:0;W.isAncestor(a,s)&&(d=s[a.length]),a=a.concat(d),c=_e.get(t,a);continue}if(a.length===0)break;if(!n){var f=W.next(a);if(_e.has(t,f)){a=f,c=_e.get(t,a);continue}}if(n&&a[a.length-1]!==0){var g=W.previous(a);a=g,c=_e.get(t,a);continue}a=W.parent(a),c=_e.get(t,a),l.add(c)}}()},parent(t,e){var r=W.parent(e),n=_e.get(t,r);if(Me.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return Me.isText(t)?t.text:t.children.map(_e.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(t,e))Me.isText(r)&&(yield[r,n])}()}};function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ll={isNodeOperation(t){return Ll.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!on(t))return!1;switch(t.type){case"insert_node":return W.isPath(t.path)&&_e.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&W.isPath(t.path);case"merge_node":return typeof t.position=="number"&&W.isPath(t.path)&&on(t.properties);case"move_node":return W.isPath(t.path)&&W.isPath(t.newPath);case"remove_node":return W.isPath(t.path)&&_e.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&W.isPath(t.path);case"set_node":return W.isPath(t.path)&&on(t.properties)&&on(t.newProperties);case"set_selection":return t.properties===null&&ee.isRange(t.newProperties)||t.newProperties===null&&ee.isRange(t.properties)||on(t.properties)&&on(t.newProperties);case"split_node":return W.isPath(t.path)&&typeof t.position=="number"&&on(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>Ll.isOperation(e))},isSelectionOperation(t){return Ll.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return Ll.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return nr(nr({},t),{},{type:"remove_node"});case"insert_text":return nr(nr({},t),{},{type:"remove_text"});case"merge_node":return nr(nr({},t),{},{type:"split_node",path:W.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(W.equals(e,r))return t;if(W.isSibling(r,e))return nr(nr({},t),{},{path:e,newPath:r});var n=W.transform(r,t),s=W.transform(W.next(r),t);return nr(nr({},t),{},{path:n,newPath:s})}case"remove_node":return nr(nr({},t),{},{type:"insert_node"});case"remove_text":return nr(nr({},t),{},{type:"insert_text"});case"set_node":{var{properties:o,newProperties:l}=t;return nr(nr({},t),{},{properties:l,newProperties:o})}case"set_selection":{var{properties:a,newProperties:c}=t;return a==null?nr(nr({},t),{},{properties:c,newProperties:null}):c==null?nr(nr({},t),{},{properties:null,newProperties:a}):nr(nr({},t),{},{properties:c,newProperties:a})}case"split_node":return nr(nr({},t),{},{type:"merge_node",path:W.next(t.path)})}}},bN=new WeakMap,eAe=t=>{var e=bN.get(t);if(e!==void 0)return e;if(!on(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||on(t.marks))&&(t.selection===null||ee.isRange(t.selection))&&_e.isNodeList(t.children)&&Ll.isOperationList(t.operations);return bN.set(t,r),r},M={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return eAe(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(t,e,r)=>t.shouldMergeNodesRemovePrevNode(e,r)},tAe={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(W.isPath)}};function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function SN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gt={compare(t,e){var r=W.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return gt.compare(t,e)===1},isBefore(t,e){return gt.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&W.equals(t.path,e.path)},isPoint(t){return on(t)&&typeof t.offset=="number"&&W.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Wv(t,n=>{if(n===null)return null;var{affinity:s="forward"}=r,{path:o,offset:l}=n;switch(e.type){case"insert_node":case"move_node":{n.path=W.transform(o,e,r);break}case"insert_text":{W.equals(e.path,o)&&(e.offset<l||e.offset===l&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{W.equals(e.path,o)&&(n.offset+=e.position),n.path=W.transform(o,e,r);break}case"remove_text":{W.equals(e.path,o)&&e.offset<=l&&(n.offset-=Math.min(l-e.offset,e.text.length));break}case"remove_node":{if(W.equals(e.path,o)||W.isAncestor(e.path,o))return null;n.path=W.transform(o,e,r);break}case"split_node":{if(W.equals(e.path,o)){if(e.position===l&&s==null)return null;(e.position<l||e.position===l&&s==="forward")&&(n.offset-=e.position,n.path=W.transform(o,e,SN(SN({},r),{},{affinity:"forward"})))}else n.path=W.transform(o,e,r);break}}})}},CN=void 0,an={setScrubber(t){CN=t},stringify(t){return JSON.stringify(t,CN)}},rAe=["text"],nAe=["anchor","focus"];function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Me={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function s(o){var l=Va(o,rAe);return l}return EX(n?s(t):t,n?s(e):e)},isText(t){return on(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>Me.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[na({},t)];for(var n of e){var s=Va(n,nAe),[o,l]=ee.edges(n),a=[],c=0,d=o.offset,f=l.offset;for(var g of r){var{length:m}=g.text,y=c;if(c+=m,d<=y&&c<=f){Object.assign(g,s),a.push(g);continue}if(d!==f&&(d===c||f===y)||d>c||f<y||f===y&&y!==0){a.push(g);continue}var _=g,u=void 0,h=void 0;if(f<c){var p=f-y;h=na(na({},_),{},{text:_.text.slice(p)}),_=na(na({},_),{},{text:_.text.slice(0,p)})}if(d>y){var v=d-y;u=na(na({},_),{},{text:_.text.slice(0,v)}),_=na(na({},_),{},{text:_.text.slice(v)})}Object.assign(_,s),u&&a.push(u),a.push(_),h&&a.push(h)}r=a}return r}},yO=t=>t.selection?t.selection:t.children.length>0?M.end(t,[]):[0],Vf=(t,e)=>{var[r]=M.node(t,e);return n=>n===r},_O=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,s=r?uAe(e):e,o=at.None,l=at.None,a=0,c=null,d=null;for(var f of s){var g=f.codePointAt(0);if(!g)break;var m=wAe(f,g);if([o,l]=n?[l,m]:[m,o],hh(o,at.ZWJ)&&hh(l,at.ExtPict)&&(n?c=TN(e.substring(0,a)):c=TN(e.substring(0,e.length-a)),!c)||hh(o,at.RI)&&hh(l,at.RI)&&(d!==null?d=!d:n?d=!0:d=AAe(e.substring(0,e.length-a)),!d)||o!==at.None&&l!==at.None&&EAe(o,l))break;a+=f.length}return a||1},iAe=/\s/,sAe=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,oAe=/['\u2018\u2019]/,aAe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,s=!1;e.length>0;){var o=_O(e,r),[l,a]=xO(e,o,r);if(lAe(l,a,r))s=!0,n+=o;else if(!s)n+=o;else break;e=a}return n},xO=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},lAe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(iAe.test(e))return!1;if(oAe.test(e)){var s=_O(r,n),[o,l]=xO(r,s,n);if(t(o,l,n))return!0}return!sAe.test(e)},uAe=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var s=e.charAt(r-n);if(dAe(s.charCodeAt(0))){var o=e.charAt(r-n-1);if(cAe(o.charCodeAt(0))){yield o+s,n++;continue}}yield s}},cAe=t=>t>=55296&&t<=56319,dAe=t=>t>=56320&&t<=57343,at;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(at||(at={}));var hAe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,fAe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,pAe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,gAe=/^[\u1100-\u115F\uA960-\uA97C]$/,mAe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,vAe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,yAe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,_Ae=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,xAe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,wAe=(t,e)=>{var r=at.Any;return t.search(hAe)!==-1&&(r|=at.Extend),e===8205&&(r|=at.ZWJ),e>=127462&&e<=127487&&(r|=at.RI),t.search(fAe)!==-1&&(r|=at.Prepend),t.search(pAe)!==-1&&(r|=at.SpacingMark),t.search(gAe)!==-1&&(r|=at.L),t.search(mAe)!==-1&&(r|=at.V),t.search(vAe)!==-1&&(r|=at.T),t.search(yAe)!==-1&&(r|=at.LV),t.search(_Ae)!==-1&&(r|=at.LVT),t.search(xAe)!==-1&&(r|=at.ExtPict),r};function hh(t,e){return(t&e)!==0}var bAe=[[at.L,at.L|at.V|at.LV|at.LVT],[at.LV|at.V,at.V|at.T],[at.LVT|at.T,at.T],[at.Any,at.Extend|at.ZWJ],[at.Any,at.SpacingMark],[at.Prepend,at.Any],[at.ZWJ,at.ExtPict],[at.RI,at.RI]];function EAe(t,e){return bAe.findIndex(r=>hh(t,r[0])&&hh(e,r[1]))===-1}var SAe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,TN=t=>t.search(SAe)!==-1,CAe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,AAe=t=>{var e=t.match(CAe);if(e===null)return!1;var r=e[0].length/2;return r%2===1},TAe={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:s=yO(t)}=r;if(W.isPath(s)&&(s=M.range(t,s)),ee.isRange(s))if(ee.isCollapsed(s))s=s.anchor;else{var o=ee.end(s);if(!n&&M.void(t,{at:o}))return;var l=ee.start(s),a=M.pointRef(t,l),c=M.pointRef(t,o);de.delete(t,{at:s,voids:n});var d=a.unref(),f=c.unref();s=d||f,de.setSelection(t,{anchor:s,focus:s})}if(!(!n&&M.void(t,{at:s})||M.elementReadOnly(t,{at:s}))){var{path:g,offset:m}=s;e.length>0&&t.apply({type:"insert_text",path:g,offset:m,text:e})}})}};function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function H0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var de=H0(H0(H0(H0({},WCe),KCe),XCe),TAe),$_=new WeakMap,DAe=t=>$_.get(t)||!1,PAe=(t,e,r)=>{var n=$_.get(t)||!1;$_.set(t,!0);try{e(),r()}finally{$_.set(t,n)}};function SX(t,e,r){var n=Ux.get(t)||[],s=$x.get(t)||new Set,o,l,a=g=>{if(g){var m=g.join(",");l.has(m)||(l.add(m),o.push(g))}};if(r){o=[],l=new Set;for(var c of n){var d=r(c);a(d)}}else o=n,l=s;for(var f of e)a(f);Ux.set(t,o),$x.set(t,l)}var RAe=(t,e)=>{for(var r of M.pathRefs(t))$Ce.transform(r,e);for(var n of M.pointRefs(t))jCe.transform(n,e);for(var s of M.rangeRefs(t))zCe.transform(s,e);if(!DAe(t)){var o=W.operationCanTransformPath(e)?l=>W.transform(l,e):void 0;SX(t,t.getDirtyPaths(e),o)}de.transform(t,e),t.operations.push(e),M.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Ug.get(t)||(Ug.set(t,!0),Promise.resolve().then(()=>{Ug.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},IAe=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return W.levels(r)}case"insert_node":{var{node:n,path:s}=e,o=W.levels(s),l=Me.isText(n)?[]:Array.from(_e.nodes(n),P=>{var[,B]=P;return s.concat(B)});return[...o,...l]}case"merge_node":{var{path:a}=e,c=W.ancestors(a),d=W.previous(a);return[...c,d]}case"move_node":{var{path:f,newPath:g}=e;if(W.equals(f,g))return[];var m=[],y=[];for(var _ of W.ancestors(f)){var u=W.transform(_,e);m.push(u)}for(var h of W.ancestors(g)){var p=W.transform(h,e);y.push(p)}var v=y[y.length-1],x=g[g.length-1],w=v.concat(x);return[...m,...y,w]}case"remove_node":{var{path:b}=e,S=W.ancestors(b);return[...S]}case"split_node":{var{path:C}=e,A=W.levels(C),T=W.next(C);return[...A,T]}default:return[]}},OAe=t=>{var{selection:e}=t;return e?_e.fragment(t,e):[]},BAe=(t,e)=>{var[r,n]=e;if(!Me.isText(r)){if(Ne.isElement(r)&&r.children.length===0){var s={text:""};de.insertNodes(t,s,{at:n.concat(0),voids:!0});return}for(var o=M.isEditor(r)?!1:Ne.isElement(r)&&(t.isInline(r)||r.children.length===0||Me.isText(r.children[0])||t.isInline(r.children[0])),l=0,a=0;a<r.children.length;a++,l++){var c=_e.get(t,n);if(!Me.isText(c)){var d=c.children[l],f=c.children[l-1],g=a===r.children.length-1,m=Me.isText(d)||Ne.isElement(d)&&t.isInline(d);if(m!==o)de.removeNodes(t,{at:n.concat(l),voids:!0}),l--;else if(Ne.isElement(d)){if(t.isInline(d)){if(f==null||!Me.isText(f)){var y={text:""};de.insertNodes(t,y,{at:n.concat(l),voids:!0}),l++}else if(g){var _={text:""};de.insertNodes(t,_,{at:n.concat(l+1),voids:!0}),l++}}}else{if(!Me.isText(d)&&!("children"in d)){var u=d;u.children=[]}f!=null&&Me.isText(f)&&(Me.equals(d,f,{loose:!0})?(de.mergeNodes(t,{at:n.concat(l),voids:!0}),l--):f.text===""?(de.removeNodes(t,{at:n.concat(l-1),voids:!0}),l--):d.text===""&&(de.removeNodes(t,{at:n.concat(l),voids:!0}),l--))}}}}},MAe=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,s=n*42;if(r>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},FAe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:s="lowest",at:o=e.selection,match:l}=r;if(o){var a=M.path(e,o),c=s==="lowest";for(var[d,f]of M.levels(e,{at:a,voids:n,match:l,reverse:c}))if(!Me.isText(d)){if(ee.isRange(o)){if(W.isAncestor(f,o.anchor.path)&&W.isAncestor(f,o.focus.path))return[d,f]}else if(!W.equals(a,f))return[d,f]}}};function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var kAe=(t,e,r)=>{var{selection:n}=t;if(n){var s=(g,m)=>{if(!Me.isText(g))return!1;var[y,_]=M.parent(t,m);return!t.isVoid(y)||t.markableVoid(y)},o=ee.isExpanded(n),l=!1;if(!o){var[a,c]=M.node(t,n);if(a&&s(a,c)){var[d]=M.parent(t,c);l=d&&t.markableVoid(d)}}if(o||l)de.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{var f=RN(RN({},M.marks(t)||{}),{},{[e]:r});t.marks=f,Ug.get(t)||t.onChange()}}};function IN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ON(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LAe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.point(e,r,{edge:"end"}),o=M.end(e,[]),l={anchor:s,focus:o},{distance:a=1}=n,c=0,d;for(var f of M.positions(e,ON(ON({},n),{},{at:l}))){if(c>a)break;c!==0&&(d=f),c++}return d};function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var NAe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.start(e,[]),o=M.point(e,r,{edge:"start"}),l={anchor:s,focus:o},{distance:a=1}=n,c=0,d;for(var f of M.positions(e,MN(MN({},n),{},{at:l,reverse:!0}))){if(c>a)break;c!==0&&(d=f),c++}return d},UAe=(t,e)=>{var{selection:r}=t;r&&ee.isCollapsed(r)&&de.delete(t,{unit:e,reverse:!0})},$Ae=(t,e)=>{var{selection:r}=t;r&&ee.isCollapsed(r)&&de.delete(t,{unit:e})},jAe=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&ee.isExpanded(n)&&de.delete(e,{reverse:r==="backward"})},zAe=(t,e)=>[M.start(t,e),M.end(t,e)];function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GAe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,kN(kN({},r),{},{match:n=>Ne.isElement(n)&&M.isElementReadOnly(e,n)}))},VAe=(t,e)=>M.point(t,e,{edge:"end"}),HAe=(t,e)=>{var r=M.path(t,e,{edge:"start"});return M.node(t,r)},WAe=(t,e)=>{var r=M.range(t,e);return _e.fragment(t,r)};function LN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function NN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KAe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(e,NN(NN({},r),{},{match:n=>Ne.isElement(n)&&M.isVoid(e,n)}))},XAe=(t,e)=>e.children.some(r=>Ne.isElement(r)&&M.isBlock(t,r)),YAe=(t,e)=>e.children.some(r=>Me.isText(r)||M.isInline(t,r)),qAe=(t,e)=>_e.has(t,e),ZAe=(t,e)=>e.children.every(r=>Me.isText(r)),QAe=t=>{de.splitNodes(t,{always:!0})},JAe=(t,e,r)=>{de.insertNodes(t,e,r)},eTe=t=>{de.splitNodes(t,{always:!0})};function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s,marks:o}=e;if(s){if(o){var l=tTe({text:r},o);de.insertNodes(e,l,{at:n.at,voids:n.voids})}else de.insertText(e,r,n);e.marks=null}},nTe=(t,e)=>!t.isInline(e),iTe=(t,e,r)=>M.isStart(t,e,r)||M.isEnd(t,e,r),sTe=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&Me.isText(n)&&n.text===""&&!t.isVoid(e)},oTe=(t,e,r)=>{var n=M.end(t,r);return gt.equals(e,n)},aTe=t=>{var e=bX.get(t);return e===void 0?!0:e},lTe=(t,e,r)=>{if(e.offset!==0)return!1;var n=M.start(t,r);return gt.equals(e,n)},uTe=(t,e)=>{var r=M.path(t,e,{edge:"end"});return M.node(t,r)},cTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=_e.leaf(e,s);return[o,s]};function dTe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:s=!1}=e,{match:o}=e;if(o==null&&(o=()=>!0),!!r){var l=[],a=M.path(t,r);for(var[c,d]of _e.levels(t,a))if(o(c,d)&&(l.push([c,d]),!s&&Ne.isElement(c)&&M.isVoid(t,c)))break;n&&l.reverse(),yield*l}}()}var hTe=["text"],fTe=["text"],pTe=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:s,focus:o}=n;if(r)return r;if(ee.isExpanded(n)){var l=M.isEnd(e,s,s.path);if(l){var a=M.after(e,s);a&&(s=a)}var[c]=M.nodes(e,{match:Me.isText,at:{anchor:s,focus:o}});if(c){var[d]=c,f=Va(d,hTe);return f}else return{}}var{path:g}=s,[m]=M.leaf(e,g);if(s.offset===0){var y=M.previous(e,{at:g,match:Me.isText}),_=M.above(e,{match:w=>Ne.isElement(w)&&M.isVoid(e,w)&&e.markableVoid(w)});if(!_){var u=M.above(e,{match:w=>Ne.isElement(w)&&M.isBlock(e,w)});if(y&&u){var[h,p]=y,[,v]=u;W.isAncestor(v,p)&&(m=h)}}}var x=Va(m,fTe);return x},gTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:l=e.selection}=r;if(l){var a=M.after(e,l,{voids:s});if(a){var[,c]=M.last(e,[]),d=[a.path,c];if(W.isPath(l)&&l.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(W.isPath(l)){var[f]=M.parent(e,l);o=m=>f.children.includes(m)}else o=()=>!0;var[g]=M.nodes(e,{at:d,match:o,mode:n,voids:s});return g}}},mTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=_e.get(e,s);return[o,s]};function vTe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:s=!1,reverse:o=!1,voids:l=!1,ignoreNonSelectable:a=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var d,f;if(tAe.isSpan(r))d=r[0],f=r[1];else{var g=M.path(t,r,{edge:"start"}),m=M.path(t,r,{edge:"end"});d=o?m:g,f=o?g:m}var y=_e.nodes(t,{reverse:o,from:d,to:f,pass:w=>{var[b]=w;return Ne.isElement(b)?!!(!l&&(M.isVoid(t,b)||M.isElementReadOnly(t,b))||a&&!M.isSelectable(t,b)):!1}}),_=[],u;for(var[h,p]of y)if(!(a&&Ne.isElement(h)&&!M.isSelectable(t,h))){var v=u&&W.compare(p,u[1])===0;if(!(n==="highest"&&v)){if(!c(h,p)){if(s&&!v&&Me.isText(h))return;continue}if(n==="lowest"&&v){u=[h,p];continue}var x=n==="lowest"?u:[h,p];x&&(s?_.push(x):yield x),u=[h,p]}}n==="lowest"&&u&&(s?_.push(u):yield u),s&&(yield*_)}}()}var yTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:s}=r,o=f=>Ux.get(f)||[],l=f=>$x.get(f)||new Set,a=f=>{var g=o(f).pop(),m=g.join(",");return l(f).delete(m),g};if(M.isNormalizing(e)){if(n){var c=Array.from(_e.nodes(e),f=>{var[,g]=f;return g}),d=new Set(c.map(f=>f.join(",")));Ux.set(e,c),$x.set(e,d)}o(e).length!==0&&M.withoutNormalizing(e,()=>{for(var f of o(e))if(_e.has(e,f)){var g=M.node(e,f),[m,y]=g;Ne.isElement(m)&&m.children.length===0&&e.normalizeNode(g,{operation:s})}for(var _=o(e),u=_.length,h=0;_.length!==0;){if(!e.shouldNormalize({dirtyPaths:_,iteration:h,initialDirtyPathsLength:u,operation:s}))return;var p=a(e);if(_e.has(e,p)){var v=M.node(e,p);e.normalizeNode(v,{operation:s})}h++,_=o(e)}})}},_Te=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=M.path(e,r,n),o=W.parent(s),l=M.node(e,o);return l},xTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:a}=o,c=M.pathRefs(e);return c.delete(o),o.current=null,a}},l=M.pathRefs(e);return l.add(o),o},wTe=t=>{var e=pN.get(t);return e||(e=new Set,pN.set(t,e)),e},bTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:s,edge:o}=n;if(W.isPath(r)){if(o==="start"){var[,l]=_e.first(e,r);r=l}else if(o==="end"){var[,a]=_e.last(e,r);r=a}}return ee.isRange(r)&&(o==="start"?r=ee.start(r):o==="end"?r=ee.end(r):r=W.common(r.anchor.path,r.focus.path)),gt.isPoint(r)&&(r=r.path),s!=null&&(r=r.slice(0,s)),r},ETe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:a}=o,c=M.pointRefs(e);return c.delete(o),o.current=null,a}},l=M.pointRefs(e);return l.add(o),o},STe=t=>{var e=gN.get(t);return e||(e=new Set,gN.set(t,e)),e},CTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:s="start"}=n;if(W.isPath(r)){var o;if(s==="end"){var[,l]=_e.last(e,r);o=l}else{var[,a]=_e.first(e,r);o=a}var c=_e.get(e,o);if(!Me.isText(c))throw new Error("Cannot get the ".concat(s," point in the node at path [").concat(r,"] because it has no ").concat(s," text node."));return{path:o,offset:s==="end"?c.text.length:0}}if(ee.isRange(r)){var[d,f]=ee.edges(r);return s==="start"?d:f}return r};function ATe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:o=!1,ignoreNonSelectable:l=!1}=e;if(!r)return;var a=M.range(t,r),[c,d]=ee.edges(a),f=s?d:c,g=!1,m="",y=0,_=0,u=0;for(var[h,p]of M.nodes(t,{at:r,reverse:s,voids:o,ignoreNonSelectable:l})){if(Ne.isElement(h)){if(!o&&(t.isVoid(h)||t.isElementReadOnly(h))){yield M.start(t,p);continue}if(t.isInline(h))continue;if(M.hasInlines(t,h)){var v=W.isAncestor(p,d.path)?d:M.end(t,p),x=W.isAncestor(p,c.path)?c:M.start(t,p);m=M.string(t,{anchor:x,focus:v},{voids:o}),g=!0}}if(Me.isText(h)){var w=W.equals(p,f.path);for(w?(_=s?f.offset:h.text.length-f.offset,u=f.offset):(_=h.text.length,u=s?_:0),(w||g||n==="offset")&&(yield{path:p,offset:u},g=!1);;){if(y===0){if(m==="")break;y=b(m,n,s),m=xO(m,y,s)[1]}if(u=s?u-y:u+y,_=_-y,_<0){y=-_;break}y=0,yield{path:p,offset:u}}}}function b(S,C,A){return C==="character"?_O(S,A):C==="word"?aAe(S,A):C==="line"||C==="block"?S.length:1}}()}var TTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:o,at:l=e.selection}=r;if(l){var a=M.before(e,l,{voids:s});if(a){var[,c]=M.first(e,[]),d=[a.path,c];if(W.isPath(l)&&l.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(W.isPath(l)){var[f]=M.parent(e,l);o=m=>f.children.includes(m)}else o=()=>!0;var[g]=M.nodes(e,{reverse:!0,at:d,match:o,mode:n,voids:s});return g}}},DTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,o={current:r,affinity:s,unref(){var{current:a}=o,c=M.rangeRefs(e);return c.delete(o),o.current=null,a}},l=M.rangeRefs(e);return l.add(o),o},PTe=t=>{var e=mN.get(t);return e||(e=new Set,mN.set(t,e)),e},RTe=(t,e,r)=>{if(ee.isRange(e)&&!r)return e;var n=M.start(t,e),s=M.end(t,r||e);return{anchor:n,focus:s}};function $N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ITe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OTe=(t,e)=>{var{selection:r}=t;if(r){var n=(f,g)=>{if(!Me.isText(f))return!1;var[m,y]=M.parent(t,g);return!t.isVoid(m)||t.markableVoid(m)},s=ee.isExpanded(r),o=!1;if(!s){var[l,a]=M.node(t,r);if(l&&n(l,a)){var[c]=M.parent(t,a);o=c&&t.markableVoid(c)}}if(s||o)de.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var d=ITe({},M.marks(t)||{});delete d[e],t.marks=d,Ug.get(t)||t.onChange()}}},BTe=(t,e)=>{bX.set(t,e)},MTe=(t,e)=>M.point(t,e,{edge:"start"}),FTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,o=M.range(e,r),[l,a]=ee.edges(o),c="";for(var[d,f]of M.nodes(e,{at:o,match:Me.isText,voids:s})){var g=d.text;W.equals(f,a.path)&&(g=g.slice(0,a.offset)),W.equals(f,l.path)&&(g=g.slice(l.offset)),c+=g}return c},kTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,[o,l]=ee.edges(r);if(o.offset!==0||l.offset!==0||ee.isCollapsed(r)||W.hasPrevious(l.path))return r;var a=M.above(e,{at:l,match:_=>Ne.isElement(_)&&M.isBlock(e,_),voids:s}),c=a?a[1]:[],d=M.start(e,o),f={anchor:d,focus:l},g=!0;for(var[m,y]of M.nodes(e,{at:f,match:Me.isText,reverse:!0,voids:s})){if(g){g=!1;continue}if(m.text!==""||W.isBefore(y,c)){l={path:y,offset:m.text.length};break}}return{anchor:o,focus:l}},CX=(t,e)=>{var r=M.isNormalizing(t);M.setNormalizing(t,!1);try{e()}finally{M.setNormalizing(t,r)}M.normalize(t)},LTe=(t,e,r)=>{var[n,s]=e;return Ne.isElement(n)&&M.isEmpty(t,n)||Me.isText(n)&&n.text===""&&s[s.length-1]!==0},NTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var n,s,{reverse:o=!1,unit:l="character",distance:a=1,voids:c=!1}=r,{at:d=e.selection,hanging:f=!1}=r;if(d){var g=!1;if(ee.isRange(d)&&ee.isCollapsed(d)&&(g=!0,d=d.anchor),gt.isPoint(d)){var m=M.void(e,{at:d,mode:"highest"});if(!c&&m){var[,y]=m;d=y}else{var _={unit:l,distance:a},u=o?M.before(e,d,_)||M.start(e,[]):M.after(e,d,_)||M.end(e,[]);d={anchor:d,focus:u},f=!0}}if(W.isPath(d)){de.removeNodes(e,{at:d,voids:c});return}if(!ee.isCollapsed(d)){if(!f){var[,h]=ee.edges(d),p=M.end(e,[]);gt.equals(h,p)||(d=M.unhangRange(e,d,{voids:c}))}var[v,x]=ee.edges(d),w=M.above(e,{match:Ie=>Ne.isElement(Ie)&&M.isBlock(e,Ie),at:v,voids:c}),b=M.above(e,{match:Ie=>Ne.isElement(Ie)&&M.isBlock(e,Ie),at:x,voids:c}),S=w&&b&&!W.equals(w[1],b[1]),C=W.equals(v.path,x.path),A=c?null:(n=M.void(e,{at:v,mode:"highest"}))!==null&&n!==void 0?n:M.elementReadOnly(e,{at:v,mode:"highest"}),T=c?null:(s=M.void(e,{at:x,mode:"highest"}))!==null&&s!==void 0?s:M.elementReadOnly(e,{at:x,mode:"highest"});if(A){var P=M.before(e,v);P&&w&&W.isAncestor(w[1],P.path)&&(v=P)}if(T){var B=M.after(e,x);B&&b&&W.isAncestor(b[1],B.path)&&(x=B)}var D=[],R;for(var O of M.nodes(e,{at:d,voids:c})){var[k,j]=O;R&&W.compare(j,R)===0||(!c&&Ne.isElement(k)&&(M.isVoid(e,k)||M.isElementReadOnly(e,k))||!W.isCommon(j,v.path)&&!W.isCommon(j,x.path))&&(D.push(O),R=j)}var U=Array.from(D,Ie=>{var[,tt]=Ie;return M.pathRef(e,tt)}),N=M.pointRef(e,v),L=M.pointRef(e,x),H="";if(!C&&!A){var K=N.current,[te]=M.leaf(e,K),{path:le}=K,{offset:ne}=v,fe=te.text.slice(ne);fe.length>0&&(e.apply({type:"remove_text",path:le,offset:ne,text:fe}),H=fe)}if(U.reverse().map(Ie=>Ie.unref()).filter(Ie=>Ie!==null).forEach(Ie=>de.removeNodes(e,{at:Ie,voids:c})),!T){var z=L.current,[Y]=M.leaf(e,z),{path:Z}=z,Q=C?v.offset:0,pe=Y.text.slice(Q,x.offset);pe.length>0&&(e.apply({type:"remove_text",path:Z,offset:Q,text:pe}),H=pe)}!C&&S&&L.current&&N.current&&de.mergeNodes(e,{at:L.current,hanging:!0,voids:c}),g&&o&&l==="character"&&H.length>1&&H.match(/[\u0E00-\u0E7F]+/)&&de.insertText(e,H.slice(0,H.length-a));var ae=N.unref(),Ce=L.unref(),Re=o?ae||Ce:Ce||ae;r.at==null&&Re&&de.select(e,Re)}}})},UTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1}=n,{at:l=yO(e),batchDirty:a=!0}=n;if(r.length){if(ee.isRange(l))if(s||(l=M.unhangRange(e,l,{voids:o})),ee.isCollapsed(l))l=l.anchor;else{var[,c]=ee.edges(l);if(!o&&M.void(e,{at:c}))return;var d=M.pointRef(e,c);de.delete(e,{at:l}),l=d.unref()}else W.isPath(l)&&(l=M.start(e,l));if(!(!o&&M.void(e,{at:l}))){var f=M.above(e,{at:l,match:fe=>Ne.isElement(fe)&&M.isInline(e,fe),mode:"highest",voids:o});if(f){var[,g]=f;if(M.isEnd(e,l,g)){var m=M.after(e,g);l=m}else if(M.isStart(e,l,g)){var y=M.before(e,g);l=y}}var _=M.above(e,{match:fe=>Ne.isElement(fe)&&M.isBlock(e,fe),at:l,voids:o}),[,u]=_,h=M.isStart(e,l,u),p=M.isEnd(e,l,u),v=h&&p,x=!h||h&&p,w=!p,[,b]=_e.first({children:r},[]),[,S]=_e.last({children:r},[]),C=[],A=fe=>{var[z,Y]=fe,Z=Y.length===0;return Z?!1:v?!0:!(x&&W.isAncestor(Y,b)&&Ne.isElement(z)&&!e.isVoid(z)&&!e.isInline(z)||w&&W.isAncestor(Y,S)&&Ne.isElement(z)&&!e.isVoid(z)&&!e.isInline(z))};for(var T of _e.nodes({children:r},{pass:A}))A(T)&&C.push(T);var P=[],B=[],D=[],R=!0,O=!1;for(var[k]of C)Ne.isElement(k)&&!e.isInline(k)?(R=!1,O=!0,B.push(k)):R?P.push(k):D.push(k);var[j]=M.nodes(e,{at:l,match:fe=>Me.isText(fe)||M.isInline(e,fe),mode:"highest",voids:o}),[,U]=j,N=M.isStart(e,l,U),L=M.isEnd(e,l,U),H=M.pathRef(e,p&&!D.length?W.next(u):u),K=M.pathRef(e,L?W.next(U):U);de.splitNodes(e,{at:l,match:fe=>O?Ne.isElement(fe)&&M.isBlock(e,fe):Me.isText(fe)||M.isInline(e,fe),mode:O?"lowest":"highest",always:O&&(!h||P.length>0)&&(!p||D.length>0),voids:o});var te=M.pathRef(e,!N||N&&L?W.next(U):U);if(de.insertNodes(e,P,{at:te.current,match:fe=>Me.isText(fe)||M.isInline(e,fe),mode:"highest",voids:o,batchDirty:a}),v&&!P.length&&B.length&&!D.length&&de.delete(e,{at:u,voids:o}),de.insertNodes(e,B,{at:H.current,match:fe=>Ne.isElement(fe)&&M.isBlock(e,fe),mode:"lowest",voids:o,batchDirty:a}),de.insertNodes(e,D,{at:K.current,match:fe=>Me.isText(fe)||M.isInline(e,fe),mode:"highest",voids:o,batchDirty:a}),!n.at){var le;if(D.length>0&&K.current?le=W.previous(K.current):B.length>0&&H.current?le=W.previous(H.current):te.current&&(le=W.previous(te.current)),le){var ne=M.end(e,le);de.select(e,ne)}}te.unref(),H.unref(),K.unref()}}})},$Te=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:s}=e;if(s){if(n==="anchor")de.select(e,s.anchor);else if(n==="focus")de.select(e,s.focus);else if(n==="start"){var[o]=ee.edges(s);de.select(e,o)}else if(n==="end"){var[,l]=ee.edges(s);de.select(e,l)}}else return},jTe=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},zTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:s=1,unit:o="character",reverse:l=!1}=r,{edge:a=null}=r;if(n){a==="start"&&(a=ee.isBackward(n)?"focus":"anchor"),a==="end"&&(a=ee.isBackward(n)?"anchor":"focus");var{anchor:c,focus:d}=n,f={distance:s,unit:o,ignoreNonSelectable:!0},g={};if(a==null||a==="anchor"){var m=l?M.before(e,c,f):M.after(e,c,f);m&&(g.anchor=m)}if(a==null||a==="focus"){var y=l?M.before(e,d,f):M.after(e,d,f);y&&(g.focus=y)}de.setSelection(e,g)}},GTe=(t,e)=>{var{selection:r}=t;if(e=M.range(t,e),r){de.setSelection(t,e);return}if(!ee.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(an.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function jN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var VTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s}=e,{edge:o="both"}=n;if(s){o==="start"&&(o=ee.isBackward(s)?"focus":"anchor"),o==="end"&&(o=ee.isBackward(s)?"anchor":"focus");var{anchor:l,focus:a}=s,c=o==="anchor"?l:a;de.setSelection(e,{[o==="anchor"?"anchor":"focus"]:zN(zN({},c),r)})}},HTe=(t,e)=>{var{selection:r}=t,n={},s={};if(r){for(var o in e)(o==="anchor"&&e.anchor!=null&&!gt.equals(e.anchor,r.anchor)||o==="focus"&&e.focus!=null&&!gt.equals(e.focus,r.focus)||o!=="anchor"&&o!=="focus"&&e[o]!==r[o])&&(n[o]=r[o],s[o]=e[o]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},WTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:o=!1,mode:l="lowest",batchDirty:a=!0}=n,{at:c,match:d,select:f}=n;if(_e.isNode(r)&&(r=[r]),r.length!==0){var[g]=r;if(c||(c=yO(e),f!==!1&&(f=!0)),f==null&&(f=!1),ee.isRange(c))if(s||(c=M.unhangRange(e,c,{voids:o})),ee.isCollapsed(c))c=c.anchor;else{var[,m]=ee.edges(c),y=M.pointRef(e,m);de.delete(e,{at:c}),c=y.unref()}if(gt.isPoint(c)){d==null&&(Me.isText(g)?d=P=>Me.isText(P):e.isInline(g)?d=P=>Me.isText(P)||M.isInline(e,P):d=P=>Ne.isElement(P)&&M.isBlock(e,P));var[_]=M.nodes(e,{at:c.path,match:d,mode:l,voids:o});if(_){var[,u]=_,h=M.pathRef(e,u),p=M.isEnd(e,c,u);de.splitNodes(e,{at:c,match:d,mode:l,voids:o});var v=h.unref();c=p?W.next(v):v}else return}var x=W.parent(c),w=c[c.length-1];if(!(!o&&M.void(e,{at:x}))){if(a){var b=[],S=W.levels(x);PAe(e,()=>{var P=function(){var R=x.concat(w);w++;var O={type:"insert_node",path:R,node:B};e.apply(O),c=W.next(c),b.push(O),Me.isText?S.push(...Array.from(_e.nodes(B),k=>{var[,j]=k;return R.concat(j)})):S.push(R)};for(var B of r)P()},()=>{SX(e,S,P=>{var B=P;for(var D of b)if(W.operationCanTransformPath(D)&&(B=W.transform(B,D),!B))return null;return B})})}else for(var C of r){var A=x.concat(w);w++,e.apply({type:"insert_node",path:A,node:C}),c=W.next(c)}if(c=W.previous(c),f){var T=M.end(e,c);T&&de.select(e,T)}}}})},KTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:s="lowest",voids:o=!1}=r,{match:l}=r;if(l==null&&(l=W.isPath(n)?Vf(e,n):w=>Ne.isElement(w)&&M.isBlock(e,w)),!!n){var a=M.nodes(e,{at:n,match:l,mode:s,voids:o}),c=Array.from(a,w=>{var[,b]=w;return M.pathRef(e,b)});for(var d of c){var f=d.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var g=M.node(e,W.parent(f)),[m,y]=g,_=f[f.length-1],{length:u}=m.children;if(u===1){var h=W.next(y);de.moveNodes(e,{at:f,to:h,voids:o}),de.removeNodes(e,{at:y,voids:o})}else if(_===0)de.moveNodes(e,{at:f,to:y,voids:o});else if(_===u-1){var p=W.next(y);de.moveNodes(e,{at:f,to:p,voids:o})}else{var v=W.next(f),x=W.next(y);de.splitNodes(e,{at:v,voids:o}),de.moveNodes(e,{at:f,to:x,voids:o})}}}})},XTe=["text"],YTe=["children"],AX=(t,e)=>{if(Ne.isElement(e)){var r=e;return M.isVoid(t,e)?!0:r.children.length===1?AX(t,r.children[0]):!1}else return!M.isEditor(e)},qTe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{match:n,at:s=e.selection}=r,{hanging:o=!1,voids:l=!1,mode:a="lowest"}=r;if(s){if(n==null)if(W.isPath(s)){var[c]=M.parent(e,s);n=P=>c.children.includes(P)}else n=P=>Ne.isElement(P)&&M.isBlock(e,P);if(!o&&ee.isRange(s)&&(s=M.unhangRange(e,s,{voids:l})),ee.isRange(s))if(ee.isCollapsed(s))s=s.anchor;else{var[,d]=ee.edges(s),f=M.pointRef(e,d);de.delete(e,{at:s}),s=f.unref(),r.at==null&&de.select(e,s)}var[g]=M.nodes(e,{at:s,match:n,voids:l,mode:a}),m=M.previous(e,{at:s,match:n,voids:l,mode:a});if(!(!g||!m)){var[y,_]=g,[u,h]=m;if(!(_.length===0||h.length===0)){var p=W.next(h),v=W.common(_,h),x=W.isSibling(_,h),w=Array.from(M.levels(e,{at:_}),P=>{var[B]=P;return B}).slice(v.length).slice(0,-1),b=M.above(e,{at:_,mode:"highest",match:P=>w.includes(P)&&AX(e,P)}),S=b&&M.pathRef(e,b[1]),C,A;if(Me.isText(y)&&Me.isText(u)){var T=Va(y,XTe);A=u.text.length,C=T}else if(Ne.isElement(y)&&Ne.isElement(u)){var T=Va(y,YTe);A=u.children.length,C=T}else throw new Error("Cannot merge the node at path [".concat(_,"] with the previous sibling because it is not the same kind: ").concat(an.stringify(y)," ").concat(an.stringify(u)));x||de.moveNodes(e,{at:_,to:p,voids:l}),S&&de.removeNodes(e,{at:S.current,voids:l}),M.shouldMergeNodesRemovePrevNode(e,m,g)?de.removeNodes(e,{at:h,voids:l}):e.apply({type:"merge_node",path:p,position:A,properties:C}),S&&S.unref()}}}})},ZTe=(t,e)=>{M.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:s="lowest",voids:o=!1}=e,{match:l}=e;if(n){l==null&&(l=W.isPath(n)?Vf(t,n):y=>Ne.isElement(y)&&M.isBlock(t,y));var a=M.pathRef(t,r),c=M.nodes(t,{at:n,match:l,mode:s,voids:o}),d=Array.from(c,y=>{var[,_]=y;return M.pathRef(t,_)});for(var f of d){var g=f.unref(),m=a.current;g.length!==0&&t.apply({type:"move_node",path:g,newPath:m}),a.current&&W.isSibling(m,g)&&W.isAfter(m,g)&&(a.current=W.next(a.current))}a.unref()}})},TX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:s=!1,mode:o="lowest"}=r,{at:l=e.selection,match:a}=r;if(l){a==null&&(a=W.isPath(l)?Vf(e,l):y=>Ne.isElement(y)&&M.isBlock(e,y)),!n&&ee.isRange(l)&&(l=M.unhangRange(e,l,{voids:s}));var c=M.nodes(e,{at:l,match:a,mode:o,voids:s}),d=Array.from(c,y=>{var[,_]=y;return M.pathRef(e,_)});for(var f of d){var g=f.unref();if(g){var[m]=M.node(e,g);e.apply({type:"remove_node",path:g,node:m})}}}})},QTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{match:s,at:o=e.selection,compare:l,merge:a}=n,{hanging:c=!1,mode:d="lowest",split:f=!1,voids:g=!1}=n;if(o){if(s==null&&(s=W.isPath(o)?Vf(e,o):A=>Ne.isElement(A)&&M.isBlock(e,A)),!c&&ee.isRange(o)&&(o=M.unhangRange(e,o,{voids:g})),f&&ee.isRange(o)){if(ee.isCollapsed(o)&&M.leaf(e,o.anchor)[0].text.length>0)return;var m=M.rangeRef(e,o,{affinity:"inward"}),[y,_]=ee.edges(o),u=d==="lowest"?"lowest":"highest",h=M.isEnd(e,_,_.path);de.splitNodes(e,{at:_,match:s,mode:u,voids:g,always:!h});var p=M.isStart(e,y,y.path);de.splitNodes(e,{at:y,match:s,mode:u,voids:g,always:!p}),o=m.unref(),n.at==null&&de.select(e,o)}l||(l=(A,T)=>A!==T);for(var[v,x]of M.nodes(e,{at:o,match:s,mode:d,voids:g})){var w={},b={};if(x.length!==0){var S=!1;for(var C in r)C==="children"||C==="text"||l(r[C],v[C])&&(S=!0,v.hasOwnProperty(C)&&(w[C]=v[C]),a?r[C]!=null&&(b[C]=a(v[C],r[C])):r[C]!=null&&(b[C]=r[C]));S&&e.apply({type:"set_node",path:x,properties:w,newProperties:b})}}}})},JTe=(t,e)=>{if(ee.isCollapsed(e))return e.anchor;var[,r]=ee.edges(e),n=M.pointRef(t,r);return de.delete(t,{at:e}),n.unref()},eDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:s=!1}=r,{match:o,at:l=e.selection,height:a=0,always:c=!1}=r;if(o==null&&(o=L=>Ne.isElement(L)&&M.isBlock(e,L)),ee.isRange(l)&&(l=JTe(e,l)),W.isPath(l)){var d=l,f=M.point(e,d),[g]=M.parent(e,d);o=L=>L===g,a=f.path.length-d.length+1,l=f,c=!0}if(l){var m=M.pointRef(e,l,{affinity:"backward"}),y;try{var[_]=M.nodes(e,{at:l,match:o,mode:n,voids:s});if(!_)return;var u=M.void(e,{at:l,mode:"highest"}),h=0;if(!s&&u){var[p,v]=u;if(Ne.isElement(p)&&e.isInline(p)){var x=M.after(e,v);if(!x){var w={text:""},b=W.next(v);de.insertNodes(e,w,{at:b,voids:s}),x=M.point(e,b)}l=x,c=!0}var S=l.path.length-v.length;a=S+1,c=!0}y=M.pointRef(e,l);var C=l.path.length-a,[,A]=_,T=l.path.slice(0,C),P=a===0?l.offset:l.path[C]+h;for(var[B,D]of M.levels(e,{at:T,reverse:!0,voids:s})){var R=!1;if(D.length<A.length||D.length===0||!s&&Ne.isElement(B)&&M.isVoid(e,B))break;var O=m.current,k=M.isEnd(e,O,D);if(c||!m||!M.isEdge(e,O,D)){R=!0;var j=_e.extractProps(B);e.apply({type:"split_node",path:D,position:P,properties:j})}P=D[D.length-1]+(R||k?1:0)}if(r.at==null){var U=y.current||M.end(e,[]);de.select(e,U)}}finally{var N;m.unref(),(N=y)===null||N===void 0||N.unref()}}})},tDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var s={};for(var o of r)s[o]=null;de.setNodes(e,s,n)},rDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(e,()=>{var{mode:n="lowest",split:s=!1,voids:o=!1}=r,{at:l=e.selection,match:a}=r;if(l){a==null&&(a=W.isPath(l)?Vf(e,l):y=>Ne.isElement(y)&&M.isBlock(e,y)),W.isPath(l)&&(l=M.range(e,l));var c=ee.isRange(l)?M.rangeRef(e,l):null,d=M.nodes(e,{at:l,match:a,mode:n,voids:o}),f=Array.from(d,y=>{var[,_]=y;return M.pathRef(e,_)}).reverse(),g=function(){var _=m.unref(),[u]=M.node(e,_),h=M.range(e,_);s&&c&&(h=ee.intersection(c.current,h)),de.liftNodes(e,{at:h,match:p=>Ne.isAncestor(u)&&u.children.includes(p),voids:o})};for(var m of f)g();c&&c.unref()}})};function GN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function VN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{mode:s="lowest",split:o=!1,voids:l=!1}=n,{match:a,at:c=e.selection}=n;if(c){if(a==null&&(W.isPath(c)?a=Vf(e,c):e.isInline(r)?a=h=>Ne.isElement(h)&&M.isInline(e,h)||Me.isText(h):a=h=>Ne.isElement(h)&&M.isBlock(e,h)),o&&ee.isRange(c)){var[d,f]=ee.edges(c),g=M.rangeRef(e,c,{affinity:"inward"});de.splitNodes(e,{at:f,match:a,voids:l}),de.splitNodes(e,{at:d,match:a,voids:l}),c=g.unref(),n.at==null&&de.select(e,c)}var m=Array.from(M.nodes(e,{at:c,match:e.isInline(r)?h=>Ne.isElement(h)&&M.isBlock(e,h):h=>M.isEditor(h),mode:"lowest",voids:l})),y=function(){var p=ee.isRange(c)?ee.intersection(c,M.range(e,u)):c;if(!p)return 0;var v=Array.from(M.nodes(e,{at:p,match:a,mode:s,voids:l}));if(v.length>0){var[x]=v,w=v[v.length-1],[,b]=x,[,S]=w;if(b.length===0&&S.length===0)return 0;var C=W.equals(b,S)?W.parent(b):W.common(b,S),A=M.range(e,b,S),T=M.node(e,C),[P]=T,B=C.length+1,D=W.next(S.slice(0,B)),R=VN(VN({},r),{},{children:[]});de.insertNodes(e,R,{at:D,voids:l}),de.moveNodes(e,{at:A,match:O=>Ne.isAncestor(P)&&P.children.includes(O),to:D.concat(0),voids:l})}},_;for(var[,u]of m)_=y()}})},DX=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RAe(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kAe(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UAe(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Ae(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jAe(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OAe(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QAe(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eTe(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UTe(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return JAe(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rTe(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BAe(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OTe(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IAe(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MAe(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FAe(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LAe(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NAe(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Te(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NTe(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jTe(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zAe(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GAe(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VAe(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HAe(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WAe(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pTe(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return XAe(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return YAe(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qAe(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZAe(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WTe(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nTe(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iTe(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return sTe(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return oTe(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return aTe(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return lTe(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return uTe(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cTe(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return dTe(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KTe(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qTe(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zTe(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZTe(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gTe(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mTe(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vTe(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yTe(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Te(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bTe(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xTe(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wTe(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CTe(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ETe(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return STe(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ATe(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TTe(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RTe(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DTe(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PTe(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TX(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GTe(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QTe(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BTe(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VTe(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HTe(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eDe(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MTe(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FTe(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kTe(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return tDe(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rDe(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KAe(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CX(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nDe(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LTe(t,...n)}};return t},iDe={isHistory(t){return on(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||Ll.isOperationList(t.redos[0].operations))&&(t.undos.length===0||Ll.isOperationList(t.undos[0].operations))}},uC=new WeakMap,Fp=new WeakMap,lc={isHistoryEditor(t){return iDe.isHistory(t.history)&&M.isEditor(t)},isMerging(t){return Fp.get(t)},isSaving(t){return uC.get(t)},redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var r=lc.isMerging(t);Fp.set(t,!0),e(),Fp.set(t,r)},withoutMerging(t,e){var r=lc.isMerging(t);Fp.set(t,!1),e(),Fp.set(t,r)},withoutSaving(t,e){var r=lc.isSaving(t);uC.set(t,!1),e(),uC.set(t,r)}},PX=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:s}=n;if(s.length>0){var o=s[s.length-1];o.selectionBefore&&de.setSelection(e,o.selectionBefore),lc.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{for(var l of o.operations)e.apply(l)})}),n.redos.pop(),e.writeHistory("undos",o)}},e.undo=()=>{var{history:n}=e,{undos:s}=n;if(s.length>0){var o=s[s.length-1];lc.withoutSaving(e,()=>{M.withoutNormalizing(e,()=>{var l=o.operations.map(Ll.inverse).reverse();for(var a of l)e.apply(a);o.selectionBefore&&de.setSelection(e,o.selectionBefore)})}),e.writeHistory("redos",o),n.undos.pop()}},e.apply=n=>{var{operations:s,history:o}=e,{undos:l}=o,a=l[l.length-1],c=a&&a.operations[a.operations.length-1],d=lc.isSaving(e),f=lc.isMerging(e);if(d==null&&(d=oDe(n)),d){if(f==null&&(a==null?f=!1:s.length!==0?f=!0:f=sDe(n,c)),a&&f)a.operations.push(n);else{var g={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",g)}for(;l.length>100;)l.shift();o.redos=[]}r(n)},e.writeHistory=(n,s)=>{e.history[n].push(s)},e},sDe=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&W.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&W.equals(t.path,e.path)),oDe=(t,e)=>t.type!=="set_selection",aDe=Object.defineProperty,lDe=Object.defineProperties,uDe=Object.getOwnPropertyDescriptors,jx=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,IX=Object.prototype.propertyIsEnumerable,HN=(t,e,r)=>e in t?aDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OX=(t,e)=>{for(var r in e||(e={}))RX.call(e,r)&&HN(t,r,e[r]);if(jx)for(var r of jx(e))IX.call(e,r)&&HN(t,r,e[r]);return t},cDe=(t,e)=>lDe(t,uDe(e)),dDe=(t,e)=>{var r={};for(var n in t)RX.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&jx)for(var n of jx(t))e.indexOf(n)<0&&IX.call(t,n)&&(r[n]=t[n]);return r},qi=(t,e)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(t,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),e),hDe=()=>{const t=DX();return t.hasEditableTarget=qi("hasEditableTarget",!1),t.hasRange=qi("hasRange",!1),t.hasSelectableTarget=qi("hasSelectableTarget",!1),t.hasTarget=qi("hasTarget",!1),t.insertData=qi("insertData"),t.insertFragmentData=qi("insertFragmentData"),t.insertTextData=qi("insertTextData",!1),t.isTargetInsideNonReadonlyVoid=qi("isTargetInsideNonReadonlyVoid",!1),t.setFragmentData=qi("setFragmentData"),t.history={redos:[],undos:[]},t.undo=qi("undo"),t.redo=qi("redo"),t.writeHistory=qi("writeHistory"),t},Ja=t=>Ne.isElement(t),fDe=(t,e)=>Ja(e)&&M.isBlock(t,e);function pDe(t){return Array.isArray(t)?t:[t]}var gDe=(t,e,r)=>r?typeof r=="object"?Object.entries(r).every(([n,s])=>pDe(s).includes(t[n])):r(t,e):!0,wO=(t,e={})=>{const{block:r,match:n}=e;return cDe(OX({},e),{match:n||r?(s,o)=>gDe(s,o,n)&&(!r||fDe(t,s)):void 0})},zx=(t,e)=>M.above(t,wO(t,e)),mDe=(t,e,r={})=>{const{unhang:n=!0,voids:s}=r;return ee.isRange(e)&&n?M.unhangRange(t,e,{voids:s}):e},BX=(t,e)=>(mDe(t,e==null?void 0:e.at,e),M.nodes(t,wO(t,e))),Iu=(t,e)=>{let r=!1;return M.withoutNormalizing(t,()=>{r=!!e()}),r},vu=t=>Me.isText(t),bO=(t,e)=>de.removeNodes(t,e),EO=(t,e)=>{de.select(t,e)},SO=(t,e)=>M.end(t,e),vDe=(t,e,r)=>M.before(t,e,r),MX=(t,e)=>M.start(t,e),FX=(t,e,r)=>{if(!e)return"";try{return M.string(t,e,r)}catch(n){return""}},CO=t=>M.marks(t),yDe=(t,e,r)=>M.point(t,e,r),kX=(t,e)=>Ja(e)&&M.isInline(t,e),WN=(t,e,r)=>!!e&&M.isStart(t,e,r),_De=(t,e)=>M.normalize(t,e),xDe=(t,e)=>M.removeMark(t,e),wDe=(t,e)=>{try{for(let r=0;r<e.length;r++){const n=e[r];if(vu(t)||!t.children[n])return null;t=t.children[n]}return t}catch(r){return null}},bDe=(t,e,r)=>_e.children(t,e,r),AO=t=>_e.string(t),LX=t=>Ne.isAncestor(t),EDe=t=>!!t&&ee.isCollapsed(t),NX=t=>!!t&&ee.isExpanded(t),SDe=t=>{de.deselect(t)};function cC(t){return Array.isArray(t)?t:[t]}var gy=(t,{allow:e,exclude:r,filter:n,level:s,maxLevel:o}={})=>{if(!t)return!1;const[l,a]=t;if(s&&!cC(s).includes(a.length)||o&&a.length>o||n&&!n(t))return!1;if(e){const c=cC(e);if(c.length>0&&!c.includes(l.type))return!1}if(r){const c=cC(r);if(c.length>0&&c.includes(l.type))return!1}return!0},CDe=(t,e,r={})=>{var n=r,{nextBlock:s,removeEmpty:o}=n,l=dDe(n,["nextBlock","removeEmpty"]);CX(t,()=>{if(o){const a=zx(t,{at:l.at});if(a){const c=o===!0?{allow:["p"]}:o,{filter:d}=c;c.filter=([f,g])=>AO(f)||f.children.some(y=>kX(t,y))?!1:!d||d([f,g]),gy(a,c)&&(TX(t,{at:a[1]}),s=!1)}}if(s){const{at:a=t.selection}=l;if(a){const c=SO(t,a),d=zx(t,{at:c,block:!0});d&&(l.at=W.next(d[1]))}}de.insertNodes(t,e,l)})},aKe=(t,e)=>{de.move(t,e)},lKe=(t,e,r)=>de.setNodes(t,e,r),ADe=(t,e,r)=>de.unsetNodes(t,e,r),TDe=(t,e={})=>{try{const r=BX(t,OX({at:t.selection||[]},wO(t,e)));for(const[n,s]of r)return[n,s]}catch(r){return}},UX=(t,e)=>!!TDe(t,e);function DDe(){this.__data__=[],this.size=0}var PDe=DDe;function RDe(t,e){return t===e||t!==t&&e!==e}var my=RDe,IDe=my;function ODe(t,e){for(var r=t.length;r--;)if(IDe(t[r][0],e))return r;return-1}var xb=ODe,BDe=xb,MDe=Array.prototype,FDe=MDe.splice;function kDe(t){var e=this.__data__,r=BDe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():FDe.call(e,r,1),--this.size,!0}var LDe=kDe,NDe=xb;function UDe(t){var e=this.__data__,r=NDe(e,t);return r<0?void 0:e[r][1]}var $De=UDe,jDe=xb;function zDe(t){return jDe(this.__data__,t)>-1}var GDe=zDe,VDe=xb;function HDe(t,e){var r=this.__data__,n=VDe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var WDe=HDe,KDe=PDe,XDe=LDe,YDe=$De,qDe=GDe,ZDe=WDe;function Hf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hf.prototype.clear=KDe;Hf.prototype.delete=XDe;Hf.prototype.get=YDe;Hf.prototype.has=qDe;Hf.prototype.set=ZDe;var wb=Hf,QDe=wb;function JDe(){this.__data__=new QDe,this.size=0}var ePe=JDe;function tPe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var rPe=tPe;function nPe(t){return this.__data__.get(t)}var iPe=nPe;function sPe(t){return this.__data__.has(t)}var oPe=sPe,aPe=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi,$X=aPe,lPe=$X,uPe=typeof self=="object"&&self&&self.Object===Object&&self,cPe=lPe||uPe||Function("return this")(),oo=cPe,dPe=oo,hPe=dPe.Symbol,Wf=hPe,KN=Wf,jX=Object.prototype,fPe=jX.hasOwnProperty,pPe=jX.toString,kp=KN?KN.toStringTag:void 0;function gPe(t){var e=fPe.call(t,kp),r=t[kp];try{t[kp]=void 0;var n=!0}catch(o){}var s=pPe.call(t);return n&&(e?t[kp]=r:delete t[kp]),s}var mPe=gPe,vPe=Object.prototype,yPe=vPe.toString;function _Pe(t){return yPe.call(t)}var xPe=_Pe,XN=Wf,wPe=mPe,bPe=xPe,EPe="[object Null]",SPe="[object Undefined]",YN=XN?XN.toStringTag:void 0;function CPe(t){return t==null?t===void 0?SPe:EPe:YN&&YN in Object(t)?wPe(t):bPe(t)}var Kf=CPe;function APe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wi=APe,TPe=Kf,DPe=Wi,PPe="[object AsyncFunction]",RPe="[object Function]",IPe="[object GeneratorFunction]",OPe="[object Proxy]";function BPe(t){if(!DPe(t))return!1;var e=TPe(t);return e==RPe||e==IPe||e==PPe||e==OPe}var TO=BPe,MPe=oo,FPe=MPe["__core-js_shared__"],kPe=FPe,dC=kPe,qN=function(){var t=/[^.]+$/.exec(dC&&dC.keys&&dC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function LPe(t){return!!qN&&qN in t}var NPe=LPe,UPe=Function.prototype,$Pe=UPe.toString;function jPe(t){if(t!=null){try{return $Pe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var zX=jPe,zPe=TO,GPe=NPe,VPe=Wi,HPe=zX,WPe=/[\\^$.*+?()[\]{}|]/g,KPe=/^\[object .+?Constructor\]$/,XPe=Function.prototype,YPe=Object.prototype,qPe=XPe.toString,ZPe=YPe.hasOwnProperty,QPe=RegExp("^"+qPe.call(ZPe).replace(WPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JPe(t){if(!VPe(t)||GPe(t))return!1;var e=zPe(t)?QPe:KPe;return e.test(HPe(t))}var e2e=JPe;function t2e(t,e){return t==null?void 0:t[e]}var r2e=t2e,n2e=e2e,i2e=r2e;function s2e(t,e){var r=i2e(t,e);return n2e(r)?r:void 0}var hd=s2e,o2e=hd,a2e=oo,l2e=o2e(a2e,"Map"),DO=l2e,u2e=hd,c2e=u2e(Object,"create"),bb=c2e,ZN=bb;function d2e(){this.__data__=ZN?ZN(null):{},this.size=0}var h2e=d2e;function f2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var p2e=f2e,g2e=bb,m2e="__lodash_hash_undefined__",v2e=Object.prototype,y2e=v2e.hasOwnProperty;function _2e(t){var e=this.__data__;if(g2e){var r=e[t];return r===m2e?void 0:r}return y2e.call(e,t)?e[t]:void 0}var x2e=_2e,w2e=bb,b2e=Object.prototype,E2e=b2e.hasOwnProperty;function S2e(t){var e=this.__data__;return w2e?e[t]!==void 0:E2e.call(e,t)}var C2e=S2e,A2e=bb,T2e="__lodash_hash_undefined__";function D2e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=A2e&&e===void 0?T2e:e,this}var P2e=D2e,R2e=h2e,I2e=p2e,O2e=x2e,B2e=C2e,M2e=P2e;function Xf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xf.prototype.clear=R2e;Xf.prototype.delete=I2e;Xf.prototype.get=O2e;Xf.prototype.has=B2e;Xf.prototype.set=M2e;var F2e=Xf,QN=F2e,k2e=wb,L2e=DO;function N2e(){this.size=0,this.__data__={hash:new QN,map:new(L2e||k2e),string:new QN}}var U2e=N2e;function $2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var j2e=$2e,z2e=j2e;function G2e(t,e){var r=t.__data__;return z2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Eb=G2e,V2e=Eb;function H2e(t){var e=V2e(this,t).delete(t);return this.size-=e?1:0,e}var W2e=H2e,K2e=Eb;function X2e(t){return K2e(this,t).get(t)}var Y2e=X2e,q2e=Eb;function Z2e(t){return q2e(this,t).has(t)}var Q2e=Z2e,J2e=Eb;function eRe(t,e){var r=J2e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var tRe=eRe,rRe=U2e,nRe=W2e,iRe=Y2e,sRe=Q2e,oRe=tRe;function Yf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yf.prototype.clear=rRe;Yf.prototype.delete=nRe;Yf.prototype.get=iRe;Yf.prototype.has=sRe;Yf.prototype.set=oRe;var PO=Yf,aRe=wb,lRe=DO,uRe=PO,cRe=200;function dRe(t,e){var r=this.__data__;if(r instanceof aRe){var n=r.__data__;if(!lRe||n.length<cRe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uRe(n)}return r.set(t,e),this.size=r.size,this}var hRe=dRe,fRe=wb,pRe=ePe,gRe=rPe,mRe=iPe,vRe=oPe,yRe=hRe;function qf(t){var e=this.__data__=new fRe(t);this.size=e.size}qf.prototype.clear=pRe;qf.prototype.delete=gRe;qf.prototype.get=mRe;qf.prototype.has=vRe;qf.prototype.set=yRe;var RO=qf,_Re=hd,xRe=function(){try{var t=_Re(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),GX=xRe,JN=GX;function wRe(t,e,r){e=="__proto__"&&JN?JN(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var IO=wRe,bRe=IO,ERe=my;function SRe(t,e,r){(r!==void 0&&!ERe(t[e],r)||r===void 0&&!(e in t))&&bRe(t,e,r)}var VX=SRe;function CRe(t){return function(e,r,n){for(var s=-1,o=Object(e),l=n(e),a=l.length;a--;){var c=l[t?a:++s];if(r(o[c],c,o)===!1)break}return e}}var ARe=CRe,TRe=ARe,DRe=TRe(),PRe=DRe,Gx={exports:{}};Gx.exports;(function(t,e){var r=oo,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,l=o?r.Buffer:void 0,a=l?l.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var g=d.length,m=a?a(g):new d.constructor(g);return d.copy(m),m}t.exports=c})(Gx,Gx.exports);var HX=Gx.exports,RRe=oo,IRe=RRe.Uint8Array,WX=IRe,eU=WX;function ORe(t){var e=new t.constructor(t.byteLength);return new eU(e).set(new eU(t)),e}var OO=ORe,BRe=OO;function MRe(t,e){var r=e?BRe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var KX=MRe;function FRe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var XX=FRe,kRe=Wi,tU=Object.create,LRe=function(){function t(){}return function(e){if(!kRe(e))return{};if(tU)return tU(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),NRe=LRe;function URe(t,e){return function(r){return t(e(r))}}var YX=URe,$Re=YX,jRe=$Re(Object.getPrototypeOf,Object),BO=jRe,zRe=Object.prototype;function GRe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||zRe;return t===r}var MO=GRe,VRe=NRe,HRe=BO,WRe=MO;function KRe(t){return typeof t.constructor=="function"&&!WRe(t)?VRe(HRe(t)):{}}var qX=KRe;function XRe(t){return t!=null&&typeof t=="object"}var el=XRe,YRe=Kf,qRe=el,ZRe="[object Arguments]";function QRe(t){return qRe(t)&&YRe(t)==ZRe}var JRe=QRe,rU=JRe,eIe=el,ZX=Object.prototype,tIe=ZX.hasOwnProperty,rIe=ZX.propertyIsEnumerable,nIe=rU(function(){return arguments}())?rU:function(t){return eIe(t)&&tIe.call(t,"callee")&&!rIe.call(t,"callee")},Sb=nIe,iIe=Array.isArray,ao=iIe,sIe=9007199254740991;function oIe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sIe}var FO=oIe,aIe=TO,lIe=FO;function uIe(t){return t!=null&&lIe(t.length)&&!aIe(t)}var Cb=uIe,cIe=Cb,dIe=el;function hIe(t){return dIe(t)&&cIe(t)}var fIe=hIe,Vx={exports:{}};function pIe(){return!1}var gIe=pIe;Vx.exports;(function(t,e){var r=oo,n=gIe,s=e&&!e.nodeType&&e,o=s&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===s,a=l?r.Buffer:void 0,c=a?a.isBuffer:void 0,d=c||n;t.exports=d})(Vx,Vx.exports);var Ab=Vx.exports,mIe=Kf,vIe=BO,yIe=el,_Ie="[object Object]",xIe=Function.prototype,wIe=Object.prototype,QX=xIe.toString,bIe=wIe.hasOwnProperty,EIe=QX.call(Object);function SIe(t){if(!yIe(t)||mIe(t)!=_Ie)return!1;var e=vIe(t);if(e===null)return!0;var r=bIe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&QX.call(r)==EIe}var JX=SIe,CIe=Kf,AIe=FO,TIe=el,DIe="[object Arguments]",PIe="[object Array]",RIe="[object Boolean]",IIe="[object Date]",OIe="[object Error]",BIe="[object Function]",MIe="[object Map]",FIe="[object Number]",kIe="[object Object]",LIe="[object RegExp]",NIe="[object Set]",UIe="[object String]",$Ie="[object WeakMap]",jIe="[object ArrayBuffer]",zIe="[object DataView]",GIe="[object Float32Array]",VIe="[object Float64Array]",HIe="[object Int8Array]",WIe="[object Int16Array]",KIe="[object Int32Array]",XIe="[object Uint8Array]",YIe="[object Uint8ClampedArray]",qIe="[object Uint16Array]",ZIe="[object Uint32Array]",er={};er[GIe]=er[VIe]=er[HIe]=er[WIe]=er[KIe]=er[XIe]=er[YIe]=er[qIe]=er[ZIe]=!0;er[DIe]=er[PIe]=er[jIe]=er[RIe]=er[zIe]=er[IIe]=er[OIe]=er[BIe]=er[MIe]=er[FIe]=er[kIe]=er[LIe]=er[NIe]=er[UIe]=er[$Ie]=!1;function QIe(t){return TIe(t)&&AIe(t.length)&&!!er[CIe(t)]}var JIe=QIe;function eOe(t){return function(e){return t(e)}}var kO=eOe,Hx={exports:{}};Hx.exports;(function(t,e){var r=$X,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,l=o&&r.process,a=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch(d){}}();t.exports=a})(Hx,Hx.exports);var LO=Hx.exports,tOe=JIe,rOe=kO,nU=LO,iU=nU&&nU.isTypedArray,nOe=iU?rOe(iU):tOe,NO=nOe;function iOe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var eY=iOe,sOe=IO,oOe=my,aOe=Object.prototype,lOe=aOe.hasOwnProperty;function uOe(t,e,r){var n=t[e];(!(lOe.call(t,e)&&oOe(n,r))||r===void 0&&!(e in t))&&sOe(t,e,r)}var UO=uOe,cOe=UO,dOe=IO;function hOe(t,e,r,n){var s=!r;r||(r={});for(var o=-1,l=e.length;++o<l;){var a=e[o],c=n?n(r[a],t[a],a,r,t):void 0;c===void 0&&(c=t[a]),s?dOe(r,a,c):cOe(r,a,c)}return r}var Zf=hOe;function fOe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var pOe=fOe,gOe=9007199254740991,mOe=/^(?:0|[1-9]\d*)$/;function vOe(t,e){var r=typeof t;return e=e==null?gOe:e,!!e&&(r=="number"||r!="symbol"&&mOe.test(t))&&t>-1&&t%1==0&&t<e}var Tb=vOe,yOe=pOe,_Oe=Sb,xOe=ao,wOe=Ab,bOe=Tb,EOe=NO,SOe=Object.prototype,COe=SOe.hasOwnProperty;function AOe(t,e){var r=xOe(t),n=!r&&_Oe(t),s=!r&&!n&&wOe(t),o=!r&&!n&&!s&&EOe(t),l=r||n||s||o,a=l?yOe(t.length,String):[],c=a.length;for(var d in t)(e||COe.call(t,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||bOe(d,c)))&&a.push(d);return a}var tY=AOe;function TOe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var DOe=TOe,POe=Wi,ROe=MO,IOe=DOe,OOe=Object.prototype,BOe=OOe.hasOwnProperty;function MOe(t){if(!POe(t))return IOe(t);var e=ROe(t),r=[];for(var n in t)n=="constructor"&&(e||!BOe.call(t,n))||r.push(n);return r}var FOe=MOe,kOe=tY,LOe=FOe,NOe=Cb;function UOe(t){return NOe(t)?kOe(t,!0):LOe(t)}var vy=UOe,$Oe=Zf,jOe=vy;function zOe(t){return $Oe(t,jOe(t))}var GOe=zOe,sU=VX,VOe=HX,HOe=KX,WOe=XX,KOe=qX,oU=Sb,aU=ao,XOe=fIe,YOe=Ab,qOe=TO,ZOe=Wi,QOe=JX,JOe=NO,lU=eY,eBe=GOe;function tBe(t,e,r,n,s,o,l){var a=lU(t,r),c=lU(e,r),d=l.get(c);if(d){sU(t,r,d);return}var f=o?o(a,c,r+"",t,e,l):void 0,g=f===void 0;if(g){var m=aU(c),y=!m&&YOe(c),_=!m&&!y&&JOe(c);f=c,m||y||_?aU(a)?f=a:XOe(a)?f=WOe(a):y?(g=!1,f=VOe(c,!0)):_?(g=!1,f=HOe(c,!0)):f=[]:QOe(c)||oU(c)?(f=a,oU(a)?f=eBe(a):(!ZOe(a)||qOe(a))&&(f=KOe(c))):g=!1}g&&(l.set(c,f),s(f,c,n,o,l),l.delete(c)),sU(t,r,f)}var rBe=tBe,nBe=RO,iBe=VX,sBe=PRe,oBe=rBe,aBe=Wi,lBe=vy,uBe=eY;function rY(t,e,r,n,s){t!==e&&sBe(e,function(o,l){if(s||(s=new nBe),aBe(o))oBe(t,e,l,r,rY,n,s);else{var a=n?n(uBe(t,l),o,l+"",t,e,s):void 0;a===void 0&&(a=o),iBe(t,l,a)}},lBe)}var $O=rY;function cBe(t){return t}var nY=cBe;function dBe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var iY=dBe,hBe=iY,uU=Math.max;function fBe(t,e,r){return e=uU(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=uU(n.length-e,0),l=Array(o);++s<o;)l[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=r(l),hBe(t,this,a)}}var sY=fBe;function pBe(t){return function(){return t}}var gBe=pBe,mBe=gBe,cU=GX,vBe=nY,yBe=cU?function(t,e){return cU(t,"toString",{configurable:!0,enumerable:!1,value:mBe(e),writable:!0})}:vBe,_Be=yBe,xBe=800,wBe=16,bBe=Date.now;function EBe(t){var e=0,r=0;return function(){var n=bBe(),s=wBe-(n-r);if(r=n,s>0){if(++e>=xBe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SBe=EBe,CBe=_Be,ABe=SBe,TBe=ABe(CBe),oY=TBe,DBe=nY,PBe=sY,RBe=oY;function IBe(t,e){return RBe(PBe(t,e,DBe),t+"")}var aY=IBe,OBe=my,BBe=Cb,MBe=Tb,FBe=Wi;function kBe(t,e,r){if(!FBe(r))return!1;var n=typeof e;return(n=="number"?BBe(r)&&MBe(e,r.length):n=="string"&&e in r)?OBe(r[e],t):!1}var LBe=kBe,NBe=aY,UBe=LBe;function $Be(t){return NBe(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,l=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,l&&UBe(r[0],r[1],l)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var a=r[n];a&&t(e,a,n,o)}return e})}var lY=$Be,jBe=$O,zBe=lY,GBe=zBe(function(t,e,r,n){jBe(t,e,r,n)}),uY=GBe;const cY=xn(uY);var tl={};Object.defineProperty(tl,"__esModule",{value:!0});var VBe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),hC={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},dY={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:VBe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},jO={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var W0=1;W0<20;W0++)jO["f"+W0]=111+W0;function Db(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(l){return hY(l,e)}),s=function(a){return n.some(function(c){return fY(c,a)})},o=r==null?s:s(r);return o}function HBe(t,e){return Db(t,e)}function WBe(t,e){return Db(t,{byKey:!0},e)}function hY(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var s=t.split("+"),o=s.length;for(var l in hC)n[hC[l]]=!1;var a=!0,c=!1,d=void 0;try{for(var f=s[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var m=g.value,y=m.endsWith("?")&&m.length>1;y&&(m=m.slice(0,-1));var _=zO(m),u=hC[_];if(m.length>1&&!u&&!dY[m]&&!jO[_])throw new TypeError('Unknown modifier: "'+m+'"');(o===1||!u)&&(r?n.key=_:n.which=pY(m)),u&&(n[u]=y?null:!0)}}catch(h){c=!0,d=h}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}return n}function fY(t,e){for(var r in t){var n=t[r],s=void 0;if(n!=null&&(r==="key"&&e.key!=null?s=e.key.toLowerCase():r==="which"?s=n===91&&e.which===93?91:e.which:s=e[r],!(s==null&&n===!1)&&s!==n))return!1}return!0}function pY(t){t=zO(t);var e=jO[t]||t.toUpperCase().charCodeAt(0);return e}function zO(t){return t=t.toLowerCase(),t=dY[t]||t,t}tl.default=Db;var fC=tl.isHotkey=Db;tl.isCodeHotkey=HBe;var kh=tl.isKeyHotkey=WBe;tl.parseHotkey=hY;tl.compareHotkey=fY;tl.toKeyCode=pY;tl.toKeyName=zO;var KBe=$O,XBe=lY,YBe=XBe(function(t,e,r){KBe(t,e,r)}),qBe=YBe;const ks=xn(qBe);var ZBe=ao;function QBe(){if(!arguments.length)return[];var t=arguments[0];return ZBe(t)?t:[t]}var JBe=QBe;const Zl=xn(JBe);function eMe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var gY=eMe,tMe="__lodash_hash_undefined__";function rMe(t){return this.__data__.set(t,tMe),this}var nMe=rMe;function iMe(t){return this.__data__.has(t)}var sMe=iMe,oMe=PO,aMe=nMe,lMe=sMe;function Wx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new oMe;++e<r;)this.add(t[e])}Wx.prototype.add=Wx.prototype.push=aMe;Wx.prototype.has=lMe;var uMe=Wx;function cMe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var dMe=cMe;function hMe(t,e){return t.has(e)}var fMe=hMe,pMe=uMe,gMe=dMe,mMe=fMe,vMe=1,yMe=2;function _Me(t,e,r,n,s,o){var l=r&vMe,a=t.length,c=e.length;if(a!=c&&!(l&&c>a))return!1;var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var g=-1,m=!0,y=r&yMe?new pMe:void 0;for(o.set(t,e),o.set(e,t);++g<a;){var _=t[g],u=e[g];if(n)var h=l?n(u,_,g,e,t,o):n(_,u,g,t,e,o);if(h!==void 0){if(h)continue;m=!1;break}if(y){if(!gMe(e,function(p,v){if(!mMe(y,v)&&(_===p||s(_,p,r,n,o)))return y.push(v)})){m=!1;break}}else if(!(_===u||s(_,u,r,n,o))){m=!1;break}}return o.delete(t),o.delete(e),m}var mY=_Me;function xMe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var wMe=xMe;function bMe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var EMe=bMe,dU=Wf,hU=WX,SMe=my,CMe=mY,AMe=wMe,TMe=EMe,DMe=1,PMe=2,RMe="[object Boolean]",IMe="[object Date]",OMe="[object Error]",BMe="[object Map]",MMe="[object Number]",FMe="[object RegExp]",kMe="[object Set]",LMe="[object String]",NMe="[object Symbol]",UMe="[object ArrayBuffer]",$Me="[object DataView]",fU=dU?dU.prototype:void 0,pC=fU?fU.valueOf:void 0;function jMe(t,e,r,n,s,o,l){switch(r){case $Me:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case UMe:return!(t.byteLength!=e.byteLength||!o(new hU(t),new hU(e)));case RMe:case IMe:case MMe:return SMe(+t,+e);case OMe:return t.name==e.name&&t.message==e.message;case FMe:case LMe:return t==e+"";case BMe:var a=AMe;case kMe:var c=n&DMe;if(a||(a=TMe),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;n|=PMe,l.set(t,e);var f=CMe(a(t),a(e),n,s,o,l);return l.delete(t),f;case NMe:if(pC)return pC.call(t)==pC.call(e)}return!1}var zMe=jMe;function GMe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var GO=GMe,VMe=GO,HMe=ao;function WMe(t,e,r){var n=e(t);return HMe(t)?n:VMe(n,r(t))}var vY=WMe;function KMe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var l=t[r];e(l,r,t)&&(o[s++]=l)}return o}var XMe=KMe;function YMe(){return[]}var yY=YMe,qMe=XMe,ZMe=yY,QMe=Object.prototype,JMe=QMe.propertyIsEnumerable,pU=Object.getOwnPropertySymbols,eFe=pU?function(t){return t==null?[]:(t=Object(t),qMe(pU(t),function(e){return JMe.call(t,e)}))}:ZMe,VO=eFe,tFe=YX,rFe=tFe(Object.keys,Object),nFe=rFe,iFe=MO,sFe=nFe,oFe=Object.prototype,aFe=oFe.hasOwnProperty;function lFe(t){if(!iFe(t))return sFe(t);var e=[];for(var r in Object(t))aFe.call(t,r)&&r!="constructor"&&e.push(r);return e}var uFe=lFe,cFe=tY,dFe=uFe,hFe=Cb;function fFe(t){return hFe(t)?cFe(t):dFe(t)}var HO=fFe,pFe=vY,gFe=VO,mFe=HO;function vFe(t){return pFe(t,mFe,gFe)}var _Y=vFe,gU=_Y,yFe=1,_Fe=Object.prototype,xFe=_Fe.hasOwnProperty;function wFe(t,e,r,n,s,o){var l=r&yFe,a=gU(t),c=a.length,d=gU(e),f=d.length;if(c!=f&&!l)return!1;for(var g=c;g--;){var m=a[g];if(!(l?m in e:xFe.call(e,m)))return!1}var y=o.get(t),_=o.get(e);if(y&&_)return y==e&&_==t;var u=!0;o.set(t,e),o.set(e,t);for(var h=l;++g<c;){m=a[g];var p=t[m],v=e[m];if(n)var x=l?n(v,p,m,e,t,o):n(p,v,m,t,e,o);if(!(x===void 0?p===v||s(p,v,r,n,o):x)){u=!1;break}h||(h=m=="constructor")}if(u&&!h){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof b=="function"&&b instanceof b)&&(u=!1)}return o.delete(t),o.delete(e),u}var bFe=wFe,EFe=hd,SFe=oo,CFe=EFe(SFe,"DataView"),AFe=CFe,TFe=hd,DFe=oo,PFe=TFe(DFe,"Promise"),RFe=PFe,IFe=hd,OFe=oo,BFe=IFe(OFe,"Set"),MFe=BFe,FFe=hd,kFe=oo,LFe=FFe(kFe,"WeakMap"),NFe=LFe,aP=AFe,lP=DO,uP=RFe,cP=MFe,dP=NFe,xY=Kf,Qf=zX,mU="[object Map]",UFe="[object Object]",vU="[object Promise]",yU="[object Set]",_U="[object WeakMap]",xU="[object DataView]",$Fe=Qf(aP),jFe=Qf(lP),zFe=Qf(uP),GFe=Qf(cP),VFe=Qf(dP),Qu=xY;(aP&&Qu(new aP(new ArrayBuffer(1)))!=xU||lP&&Qu(new lP)!=mU||uP&&Qu(uP.resolve())!=vU||cP&&Qu(new cP)!=yU||dP&&Qu(new dP)!=_U)&&(Qu=function(t){var e=xY(t),r=e==UFe?t.constructor:void 0,n=r?Qf(r):"";if(n)switch(n){case $Fe:return xU;case jFe:return mU;case zFe:return vU;case GFe:return yU;case VFe:return _U}return e});var Pb=Qu,gC=RO,HFe=mY,WFe=zMe,KFe=bFe,wU=Pb,bU=ao,EU=Ab,XFe=NO,YFe=1,SU="[object Arguments]",CU="[object Array]",K0="[object Object]",qFe=Object.prototype,AU=qFe.hasOwnProperty;function ZFe(t,e,r,n,s,o){var l=bU(t),a=bU(e),c=l?CU:wU(t),d=a?CU:wU(e);c=c==SU?K0:c,d=d==SU?K0:d;var f=c==K0,g=d==K0,m=c==d;if(m&&EU(t)){if(!EU(e))return!1;l=!0,f=!1}if(m&&!f)return o||(o=new gC),l||XFe(t)?HFe(t,e,r,n,s,o):WFe(t,e,c,r,n,s,o);if(!(r&YFe)){var y=f&&AU.call(t,"__wrapped__"),_=g&&AU.call(e,"__wrapped__");if(y||_){var u=y?t.value():t,h=_?e.value():e;return o||(o=new gC),s(u,h,r,n,o)}}return m?(o||(o=new gC),KFe(t,e,r,n,s,o)):!1}var QFe=ZFe,JFe=QFe,TU=el;function wY(t,e,r,n,s){return t===e?!0:t==null||e==null||!TU(t)&&!TU(e)?t!==t&&e!==e:JFe(t,e,r,n,wY,s)}var eke=wY,tke=Kf,rke=el,nke="[object Symbol]";function ike(t){return typeof t=="symbol"||rke(t)&&tke(t)==nke}var Rb=ike,ske=ao,oke=Rb,ake=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lke=/^\w*$/;function uke(t,e){if(ske(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||oke(t)?!0:lke.test(t)||!ake.test(t)||e!=null&&t in Object(e)}var cke=uke,bY=PO,dke="Expected a function";function WO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dke);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var l=t.apply(this,n);return r.cache=o.set(s,l)||o,l};return r.cache=new(WO.Cache||bY),r}WO.Cache=bY;var hke=WO,fke=hke,pke=500;function gke(t){var e=fke(t,function(n){return r.size===pke&&r.clear(),n}),r=e.cache;return e}var mke=gke,vke=mke,yke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_ke=/\\(\\)?/g,xke=vke(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yke,function(r,n,s,o){e.push(s?o.replace(_ke,"$1"):n||r)}),e}),wke=xke,DU=Wf,bke=gY,Eke=ao,Ske=Rb,Cke=1/0,PU=DU?DU.prototype:void 0,RU=PU?PU.toString:void 0;function EY(t){if(typeof t=="string")return t;if(Eke(t))return bke(t,EY)+"";if(Ske(t))return RU?RU.call(t):"";var e=t+"";return e=="0"&&1/t==-Cke?"-0":e}var Ake=EY,Tke=Ake;function Dke(t){return t==null?"":Tke(t)}var Pke=Dke,Rke=ao,Ike=cke,Oke=wke,Bke=Pke;function Mke(t,e){return Rke(t)?t:Ike(t,e)?[t]:Oke(Bke(t))}var Jf=Mke,Fke=Rb,kke=1/0;function Lke(t){if(typeof t=="string"||Fke(t))return t;var e=t+"";return e=="0"&&1/t==-kke?"-0":e}var Ib=Lke,Nke=Jf,Uke=Ib;function $ke(t,e){e=Nke(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Uke(e[r++])];return r&&r==n?t:void 0}var SY=$ke;function jke(t,e){return t!=null&&e in Object(t)}var zke=jke,Gke=Jf,Vke=Sb,Hke=ao,Wke=Tb,Kke=FO,Xke=Ib;function Yke(t,e,r){e=Gke(e,t);for(var n=-1,s=e.length,o=!1;++n<s;){var l=Xke(e[n]);if(!(o=t!=null&&r(t,l)))break;t=t[l]}return o||++n!=s?o:(s=t==null?0:t.length,!!s&&Kke(s)&&Wke(l,s)&&(Hke(t)||Vke(t)))}var qke=Yke,Zke=zke,Qke=qke;function Jke(t,e){return t!=null&&Qke(t,e,Zke)}var e3e=Jke;function t3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var r3e=t3e,n3e=Object.defineProperty,i3e=Object.defineProperties,s3e=Object.getOwnPropertyDescriptors,Kx=Object.getOwnPropertySymbols,CY=Object.prototype.hasOwnProperty,AY=Object.prototype.propertyIsEnumerable,IU=(t,e,r)=>e in t?n3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ob=(t,e)=>{for(var r in e||(e={}))CY.call(e,r)&&IU(t,r,e[r]);if(Kx)for(var r of Kx(e))AY.call(e,r)&&IU(t,r,e[r]);return t},KO=(t,e)=>i3e(t,s3e(e)),o3e=(t,e)=>{var r={};for(var n in t)CY.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Kx)for(var n of Kx(t))e.indexOf(n)<0&&AY.call(t,n)&&(r[n]=t[n]);return r},TY=(t,e={})=>zx(t,KO(Ob({},e),{block:!0})),a3e=(t,e)=>{if(!t)return;const r=CO(t);return r==null?void 0:r[e]},l3e=(t,e)=>!AO(e)&&!e.children.some(r=>kX(t,r)),u3e=t=>{var e;const r=(e=TY(t))==null?void 0:e[0];return r?l3e(t,r):!1},c3e=(t,e)=>dd(a3e(t,e)),DY=(t,e)=>{var r;const{selection:n}=t;if(!n)return!1;const s=(r=TY(t,e))==null?void 0:r[1];return s?WN(t,n.focus,s)||NX(t.selection)&&WN(t,n.anchor,s):!1},d3e=t=>NX(t.selection),h3e=(t,e)=>{var r=e,{key:n,at:s,shouldChange:o=!0}=r,l=o3e(r,["key","at","shouldChange"]),a;const c=s!=null?s:t.selection;if(n=Zl(n),c){if(ee.isRange(c)&&ee.isExpanded(c))ADe(t,n,Ob({at:c,match:vu,split:!0},l));else if(t.selection){const d=(a=CO(t))!=null?a:{};n.forEach(f=>{delete d[f]}),t.marks=d,o&&t.onChange()}}},f3e=(t,e,r)=>{Iu(t,()=>{for(const[,n]of bDe(t,e,{reverse:!0}))bO(t,KO(Ob({},r),{at:n}))})},PY=t=>{const e=CO(t);e&&Object.keys(e).forEach(r=>{xDe(t,r)})},Bb=(t,{at:e,insertOptions:r,nodes:n,removeOptions:s})=>{Iu(t,()=>{f3e(t,e,s),CDe(t,n,KO(Ob({},r),{at:e.concat([0])}))})},RY=(t,{key:e,clear:r})=>{t.selection&&Iu(t,()=>{if(c3e(t,e)){t.removeMark(e);return}if(r){const s=Zl(r);h3e(t,{key:s})}t.addMark(e,!0)})};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function p3e(t,e){if(vv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g3e(t){var e=p3e(t,"string");return vv(e)==="symbol"?e:String(e)}function mf(t,e,r){return e=g3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var IY=new WeakMap,OY=new WeakMap;class XO{}class Mb extends XO{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),mf(this,"offset",void 0),mf(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}class Fb extends XO{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),mf(this,"offset",void 0),mf(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}var m3e=(t,e)=>{var r=t.text.length;IY.set(t,[r,e])},v3e=t=>IY.get(t),y3e=(t,e)=>{var r=t.text.length;OY.set(t,[r,e])},_3e=t=>OY.get(t);function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var j_=new WeakSet,kb=t=>{var e=[],r=s=>{if(s!=null){var o=e[e.length-1];if(typeof s=="string"){var l={text:s};j_.add(l),s=l}if(Me.isText(s)){var a=s;Me.isText(o)&&j_.has(o)&&j_.has(a)&&Me.equals(o,a,{loose:!0})?o.text+=a.text:e.push(a)}else if(Ne.isElement(s))e.push(s);else if(s instanceof XO){var c=e[e.length-1];Me.isText(c)||(r(""),c=e[e.length-1]),s instanceof Mb?m3e(c,s):s instanceof Fb&&y3e(c,s)}else throw new Error("Unexpected hyperscript child object: ".concat(s))}};for(var n of t.flat(1/0))r(n);return e};function x3e(t,e,r){return new Mb(e)}function w3e(t,e,r){return[new Mb(e),new Fb(e)]}function BY(t,e,r){return hP(hP({},e),{},{children:kb(r)})}function b3e(t,e,r){return new Fb(e)}function E3e(t,e,r){return kb(r)}function S3e(t,e,r){var n=r.find(o=>o instanceof Mb),s=r.find(o=>o instanceof Fb);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!s||s.offset==null||s.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return hP({anchor:{offset:n.offset,path:n.path},focus:{offset:s.offset,path:s.path}},e)}function C3e(t,e,r){var n=kb(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[s]=n;if(s==null&&(s={text:""}),!Me.isText(s))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return j_.delete(s),Object.assign(s,e),s}var A3e=t=>(e,r,n)=>{var s=[],o;for(var l of n)ee.isRange(l)?o=l:s.push(l);var a=kb(s),c={},d=t();Object.assign(d,r),d.children=a;for(var[f,g]of _e.texts(d)){var m=v3e(f),y=_3e(f);if(m!=null){var[_]=m;c.anchor={path:g,offset:_}}if(y!=null){var[u]=y;c.focus={path:g,offset:u}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return o!=null?d.selection=o:ee.isRange(c)&&(d.selection=c),d};function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var T3e={anchor:x3e,cursor:w3e,editor:A3e(DX),element:BY,focus:b3e,fragment:E3e,selection:S3e,text:C3e},D3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=e,n=R3e(r),s=$g($g($g({},T3e),n),e.creators),o=P3e(s);return o},P3e=t=>{var e=function(n,s){for(var o=arguments.length,l=new Array(o>2?o-2:0),a=2;a<o;a++)l[a-2]=arguments[a];var c=t[n];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));s==null&&(s={}),on(s)||(l=[s].concat(l),s={}),l=l.filter(f=>!!f).flat();var d=c(n,s,l);return d};return e},R3e=t=>{var e={},r=function(){var o=t[n];if(typeof o!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(o));e[n]=(l,a,c)=>BY("element",$g($g({},o),a),c)};for(var n in t)r();return e},ep=D3e();function I3e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var O3e=I3e,B3e=Zf,M3e=HO;function F3e(t,e){return t&&B3e(e,M3e(e),t)}var k3e=F3e,L3e=Zf,N3e=vy;function U3e(t,e){return t&&L3e(e,N3e(e),t)}var $3e=U3e,j3e=Zf,z3e=VO;function G3e(t,e){return j3e(t,z3e(t),e)}var V3e=G3e,H3e=GO,W3e=BO,K3e=VO,X3e=yY,Y3e=Object.getOwnPropertySymbols,q3e=Y3e?function(t){for(var e=[];t;)H3e(e,K3e(t)),t=W3e(t);return e}:X3e,MY=q3e,Z3e=Zf,Q3e=MY;function J3e(t,e){return Z3e(t,Q3e(t),e)}var eLe=J3e,tLe=vY,rLe=MY,nLe=vy;function iLe(t){return tLe(t,nLe,rLe)}var FY=iLe,sLe=Object.prototype,oLe=sLe.hasOwnProperty;function aLe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&oLe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var lLe=aLe,uLe=OO;function cLe(t,e){var r=e?uLe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var dLe=cLe,hLe=/\w*$/;function fLe(t){var e=new t.constructor(t.source,hLe.exec(t));return e.lastIndex=t.lastIndex,e}var pLe=fLe,MU=Wf,FU=MU?MU.prototype:void 0,kU=FU?FU.valueOf:void 0;function gLe(t){return kU?Object(kU.call(t)):{}}var mLe=gLe,vLe=OO,yLe=dLe,_Le=pLe,xLe=mLe,wLe=KX,bLe="[object Boolean]",ELe="[object Date]",SLe="[object Map]",CLe="[object Number]",ALe="[object RegExp]",TLe="[object Set]",DLe="[object String]",PLe="[object Symbol]",RLe="[object ArrayBuffer]",ILe="[object DataView]",OLe="[object Float32Array]",BLe="[object Float64Array]",MLe="[object Int8Array]",FLe="[object Int16Array]",kLe="[object Int32Array]",LLe="[object Uint8Array]",NLe="[object Uint8ClampedArray]",ULe="[object Uint16Array]",$Le="[object Uint32Array]";function jLe(t,e,r){var n=t.constructor;switch(e){case RLe:return vLe(t);case bLe:case ELe:return new n(+t);case ILe:return yLe(t,r);case OLe:case BLe:case MLe:case FLe:case kLe:case LLe:case NLe:case ULe:case $Le:return wLe(t,r);case SLe:return new n;case CLe:case DLe:return new n(t);case ALe:return _Le(t);case TLe:return new n;case PLe:return xLe(t)}}var zLe=jLe,GLe=Pb,VLe=el,HLe="[object Map]";function WLe(t){return VLe(t)&&GLe(t)==HLe}var KLe=WLe,XLe=KLe,YLe=kO,LU=LO,NU=LU&&LU.isMap,qLe=NU?YLe(NU):XLe,ZLe=qLe,QLe=Pb,JLe=el,eNe="[object Set]";function tNe(t){return JLe(t)&&QLe(t)==eNe}var rNe=tNe,nNe=rNe,iNe=kO,UU=LO,$U=UU&&UU.isSet,sNe=$U?iNe($U):nNe,oNe=sNe,aNe=RO,lNe=O3e,uNe=UO,cNe=k3e,dNe=$3e,hNe=HX,fNe=XX,pNe=V3e,gNe=eLe,mNe=_Y,vNe=FY,yNe=Pb,_Ne=lLe,xNe=zLe,wNe=qX,bNe=ao,ENe=Ab,SNe=ZLe,CNe=Wi,ANe=oNe,TNe=HO,DNe=vy,PNe=1,RNe=2,INe=4,kY="[object Arguments]",ONe="[object Array]",BNe="[object Boolean]",MNe="[object Date]",FNe="[object Error]",LY="[object Function]",kNe="[object GeneratorFunction]",LNe="[object Map]",NNe="[object Number]",NY="[object Object]",UNe="[object RegExp]",$Ne="[object Set]",jNe="[object String]",zNe="[object Symbol]",GNe="[object WeakMap]",VNe="[object ArrayBuffer]",HNe="[object DataView]",WNe="[object Float32Array]",KNe="[object Float64Array]",XNe="[object Int8Array]",YNe="[object Int16Array]",qNe="[object Int32Array]",ZNe="[object Uint8Array]",QNe="[object Uint8ClampedArray]",JNe="[object Uint16Array]",eUe="[object Uint32Array]",Wt={};Wt[kY]=Wt[ONe]=Wt[VNe]=Wt[HNe]=Wt[BNe]=Wt[MNe]=Wt[WNe]=Wt[KNe]=Wt[XNe]=Wt[YNe]=Wt[qNe]=Wt[LNe]=Wt[NNe]=Wt[NY]=Wt[UNe]=Wt[$Ne]=Wt[jNe]=Wt[zNe]=Wt[ZNe]=Wt[QNe]=Wt[JNe]=Wt[eUe]=!0;Wt[FNe]=Wt[LY]=Wt[GNe]=!1;function z_(t,e,r,n,s,o){var l,a=e&PNe,c=e&RNe,d=e&INe;if(r&&(l=s?r(t,n,s,o):r(t)),l!==void 0)return l;if(!CNe(t))return t;var f=bNe(t);if(f){if(l=_Ne(t),!a)return fNe(t,l)}else{var g=yNe(t),m=g==LY||g==kNe;if(ENe(t))return hNe(t,a);if(g==NY||g==kY||m&&!s){if(l=c||m?{}:wNe(t),!a)return c?gNe(t,dNe(l,t)):pNe(t,cNe(l,t))}else{if(!Wt[g])return s?t:{};l=xNe(t,g,a)}}o||(o=new aNe);var y=o.get(t);if(y)return y;o.set(t,l),ANe(t)?t.forEach(function(h){l.add(z_(h,e,r,h,t,o))}):SNe(t)&&t.forEach(function(h,p){l.set(p,z_(h,e,r,p,t,o))});var _=d?c?vNe:mNe:c?DNe:TNe,u=f?void 0:_(t);return lNe(u||t,function(h,p){u&&(p=h,h=t[p]),uNe(l,p,z_(h,e,r,p,t,o))}),l}var UY=z_,tUe=UY,rUe=1,nUe=4;function iUe(t){return tUe(t,rUe|nUe)}var sUe=iUe;const oUe=xn(sUe);var aUe=eke;function lUe(t,e){return aUe(t,e)}var uUe=lUe;const cUe=xn(uUe),dUe=Symbol(),$Y=Symbol(),Lp="a",G_="w";let hUe=(t,e)=>new Proxy(t,e);const fP=Object.getPrototypeOf,jU=new WeakMap,fUe=t=>t&&(jU.has(t)?jU.get(t):fP(t)===Object.prototype||fP(t)===Array.prototype),zU=t=>typeof t=="object"&&t!==null,pUe=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(fP(t),e)},jY=t=>t[$Y]||t,zY=(t,e,r,n)=>{if(!fUe(t))return t;let s=n&&n.get(t);if(!s){const c=jY(t);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(f=>!f.configurable&&!f.writable))(c)?[c,pUe(c)]:[c],n==null||n.set(t,s)}const[o,l]=s;let a=r&&r.get(o);return a&&a[1].f===!!l||(a=((c,d)=>{const f={f:d};let g=!1;const m=(_,u)=>{if(!g){let h=f[Lp].get(c);if(h||(h={},f[Lp].set(c,h)),_===G_)h[G_]=!0;else{let p=h[_];p||(p=new Set,h[_]=p),p.add(u)}}},y={get:(_,u)=>u===$Y?c:(m("k",u),zY(Reflect.get(_,u),f[Lp],f.c,f.t)),has:(_,u)=>u===dUe?(g=!0,f[Lp].delete(c),!0):(m("h",u),Reflect.has(_,u)),getOwnPropertyDescriptor:(_,u)=>(m("o",u),Reflect.getOwnPropertyDescriptor(_,u)),ownKeys:_=>(m(G_),Reflect.ownKeys(_))};return d&&(y.set=y.deleteProperty=()=>!1),[y,f]})(o,!!l),a[1].p=hUe(l||o,a[0]),r&&r.set(o,a)),a[1][Lp]=e,a[1].c=r,a[1].t=n,a[1].p},pP=(t,e,r,n,s=Object.is)=>{if(s(t,e))return!1;if(!zU(t)||!zU(e))return!0;const o=r.get(jY(t));if(!o)return!0;if(n){const a=n.get(t);if(a&&a.n===e)return a.g;n.set(t,{n:e,g:!1})}let l=null;try{for(const a of o.h||[])if(l=Reflect.has(t,a)!==Reflect.has(e,a),l)return l;if(o[G_]===!0){if(l=((a,c)=>{const d=Reflect.ownKeys(a),f=Reflect.ownKeys(c);return d.length!==f.length||d.some((g,m)=>g!==f[m])})(t,e),l)return l}else for(const a of o.o||[])if(l=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),l)return l;for(const a of o.k||[])if(l=pP(t[a],e[a],r,n,s),l)return l;return l===null&&(l=!0),l}finally{n&&n.set(t,{n:e,g:l})}};const gUe=t=>()=>{const[,r]=E.useReducer(f=>f+1,0),n=new WeakMap,s=E.useRef(),o=E.useRef(),l=E.useRef();E.useEffect(()=>{s.current=n,o.current!==l.current&&pP(o.current,l.current,n,new WeakMap)&&(o.current=l.current,r())});const a=E.useCallback(f=>(l.current=f,o.current&&o.current!==f&&s.current&&!pP(o.current,f,s.current,new WeakMap)?o.current:(o.current=f,f)),[]),c=t(a),d=E.useMemo(()=>new WeakMap,[]);return zY(c,n,d)},gP=new Map,X0=t=>{const e=gP.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},mUe=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=gP.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return gP.set(r.name,s),{type:"tracked",store:t,...s}},vUe=(t,e={})=>(r,n,s)=>{const{enabled:o,anonymousActionType:l,store:a,...c}=e;let d;try{d=(o!=null?o:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!d)return t(r,n,s);const{connection:f,...g}=mUe(a,d,c);let m=!0;s.setState=(u,h,p)=>{const v=r(u,h);if(!m)return v;const x=p===void 0?{type:l||"anonymous"}:typeof p=="string"?{type:p}:p;return a===void 0?(f==null||f.send(x,n()),v):(f==null||f.send({...x,type:"".concat(a,"/").concat(x.type)},{...X0(c.name),[a]:s.getState()}),v)};const y=(...u)=>{const h=m;m=!1,r(...u),m=h},_=t(s.setState,n,s);if(g.type==="untracked"?f==null||f.init(_):(g.stores[g.store]=s,f==null||f.init(Object.fromEntries(Object.entries(g.stores).map(([u,h])=>[u,u===g.store?_:h.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let u=!1;const h=s.dispatch;s.dispatch=(...p)=>{h(...p)}}return f.subscribe(u=>{var h;switch(u.type){case"ACTION":if(typeof u.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return mC(u.payload,p=>{if(p.type==="__setState"){if(a===void 0){y(p.state);return}Object.keys(p.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const v=p.state[a];if(v==null)return;JSON.stringify(s.getState())!==JSON.stringify(v)&&y(v);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(p)});case"DISPATCH":switch(u.payload.type){case"RESET":return y(_),a===void 0?f==null?void 0:f.init(s.getState()):f==null?void 0:f.init(X0(c.name));case"COMMIT":if(a===void 0){f==null||f.init(s.getState());return}return f==null?void 0:f.init(X0(c.name));case"ROLLBACK":return mC(u.state,p=>{if(a===void 0){y(p),f==null||f.init(s.getState());return}y(p[a]),f==null||f.init(X0(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return mC(u.state,p=>{if(a===void 0){y(p);return}JSON.stringify(s.getState())!==JSON.stringify(p[a])&&y(p[a])});case"IMPORT_STATE":{const{nextLiftedState:p}=u.payload,v=(h=p.computedStates.slice(-1)[0])==null?void 0:h.state;if(!v)return;y(a===void 0?v:v[a]),f==null||f.send(null,p);return}case"PAUSE_RECORDING":return m=!m}return}}),_},yUe=vUe,mC=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function _Ue(t,e){let r;try{r=t()}catch(s){return}return{getItem:s=>{var o;const l=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(o=r.getItem(s))!=null?o:null;return a instanceof Promise?a.then(l):l(a)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const yv=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return yv(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return yv(n)(r)}}}},xUe=(t,e)=>(r,n,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,p)=>({...p,...h}),...e},l=!1;const a=new Set,c=new Set;let d;try{d=o.getStorage()}catch(h){}if(!d)return t((...h)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...h)},n,s);const f=yv(o.serialize),g=()=>{const h=o.partialize({...n()});let p;const v=f({state:h,version:o.version}).then(x=>d.setItem(o.name,x)).catch(x=>{p=x});if(p)throw p;return v},m=s.setState;s.setState=(h,p)=>{m(h,p),g()};const y=t((...h)=>{r(...h),g()},n,s);let _;const u=()=>{var h;if(!d)return;l=!1,a.forEach(v=>v(n()));const p=((h=o.onRehydrateStorage)==null?void 0:h.call(o,n()))||void 0;return yv(d.getItem.bind(d))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return _=o.merge(v,(x=n())!=null?x:y),r(_,!0),g()}).then(()=>{p==null||p(_,void 0),l=!0,c.forEach(v=>v(_))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:h=>{o={...o,...h},h.getStorage&&(d=h.getStorage())},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>u(),hasHydrated:()=>l,onHydrate:h=>(a.add(h),()=>{a.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},u(),_||y},wUe=(t,e)=>(r,n,s)=>{let o={storage:_Ue(()=>localStorage),partialize:u=>u,version:0,merge:(u,h)=>({...h,...u}),...e},l=!1;const a=new Set,c=new Set;let d=o.storage;if(!d)return t((...u)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),r(...u)},n,s);const f=()=>{const u=o.partialize({...n()});return d.setItem(o.name,{state:u,version:o.version})},g=s.setState;s.setState=(u,h)=>{g(u,h),f()};const m=t((...u)=>{r(...u),f()},n,s);s.getInitialState=()=>m;let y;const _=()=>{var u,h;if(!d)return;l=!1,a.forEach(v=>{var x;return v((x=n())!=null?x:m)});const p=((h=o.onRehydrateStorage)==null?void 0:h.call(o,(u=n())!=null?u:m))||void 0;return yv(d.getItem.bind(d))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[w,b]=v;if(y=o.merge(b,(x=n())!=null?x:m),r(y,!0),w)return f()}).then(()=>{p==null||p(y,void 0),y=n(),l=!0,c.forEach(v=>v(y))}).catch(v=>{p==null||p(void 0,v)})};return s.persist={setOptions:u=>{o={...o,...u},u.storage&&(d=u.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>_(),hasHydrated:()=>l,onHydrate:u=>(a.add(u),()=>{a.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},o.skipHydration||_(),y||m},bUe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?xUe(t,e):wUe(t,e),EUe=bUe,{useDebugValue:SUe}=V,{useSyncExternalStoreWithSelector:CUe}=W6,AUe=t=>t;function TUe(t,e=AUe,r){const n=CUe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return SUe(n),n}var Xx={exports:{}};Xx.exports;(function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",o=1,l=2,a=1/0,c=9007199254740991,d="[object Arguments]",f="[object Array]",g="[object Boolean]",m="[object Date]",y="[object Error]",_="[object Function]",u="[object GeneratorFunction]",h="[object Map]",p="[object Number]",v="[object Object]",x="[object Promise]",w="[object RegExp]",b="[object Set]",S="[object String]",C="[object Symbol]",A="[object WeakMap]",T="[object ArrayBuffer]",P="[object DataView]",B="[object Float32Array]",D="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",N="[object Uint16Array]",L="[object Uint32Array]",H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,te=/^\./,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,fe=/\\(\\)?/g,z=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,Z={};Z[B]=Z[D]=Z[R]=Z[O]=Z[k]=Z[j]=Z[U]=Z[N]=Z[L]=!0,Z[d]=Z[f]=Z[T]=Z[g]=Z[P]=Z[m]=Z[y]=Z[_]=Z[h]=Z[p]=Z[v]=Z[w]=Z[b]=Z[S]=Z[A]=!1;var Q=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi,pe=typeof self=="object"&&self&&self.Object===Object&&self,ae=Q||pe||Function("return this")(),Ce=e&&!e.nodeType&&e,Re=Ce&&!0&&t&&!t.nodeType&&t,Ie=Re&&Re.exports===Ce,tt=Ie&&Q.process,dt=function(){try{return tt&&tt.binding("util")}catch(F){}}(),wt=dt&&dt.isTypedArray;function $(F,G){for(var se=-1,be=F?F.length:0;++se<be;)if(G(F[se],se,F))return!0;return!1}function q(F){return function(G){return G==null?void 0:G[F]}}function J(F,G){for(var se=-1,be=Array(F);++se<F;)be[se]=G(se);return be}function ve(F){return function(G){return F(G)}}function ue(F,G){return F==null?void 0:F[G]}function he(F){var G=!1;if(F!=null&&typeof F.toString!="function")try{G=!!(F+"")}catch(se){}return G}function De(F){var G=-1,se=Array(F.size);return F.forEach(function(be,ut){se[++G]=[ut,be]}),se}function je(F,G){return function(se){return F(G(se))}}function qe(F){var G=-1,se=Array(F.size);return F.forEach(function(be){se[++G]=be}),se}var Rt=Array.prototype,$t=Function.prototype,Or=Object.prototype,hn=ae["__core-js_shared__"],Br=function(){var F=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),_i=$t.toString,Cr=Or.hasOwnProperty,Hr=Or.toString,rl=RegExp("^"+_i.call(Cr).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bu=ae.Symbol,fd=ae.Uint8Array,pd=Or.propertyIsEnumerable,np=Rt.splice,X=je(Object.keys,Object),re=md(ae,"DataView"),ce=md(ae,"Map"),Pe=md(ae,"Promise"),Ke=md(ae,"Set"),Ze=md(ae,"WeakMap"),nt=md(Object,"create"),et=ku(re),Ye=ku(ce),kt=ku(Pe),Yt=ku(Ke),mt=ku(Ze),Tt=Bu?Bu.prototype:void 0,dr=Tt?Tt.valueOf:void 0,uo=Tt?Tt.toString:void 0;function Ln(F){var G=-1,se=F?F.length:0;for(this.clear();++G<se;){var be=F[G];this.set(be[0],be[1])}}function Mu(){this.__data__=nt?nt(null):{}}function ip(F){return this.has(F)&&delete this.__data__[F]}function Rs(F){var G=this.__data__;if(nt){var se=G[F];return se===s?void 0:se}return Cr.call(G,F)?G[F]:void 0}function co(F){var G=this.__data__;return nt?G[F]!==void 0:Cr.call(G,F)}function gd(F,G){var se=this.__data__;return se[F]=nt&&G===void 0?s:G,this}Ln.prototype.clear=Mu,Ln.prototype.delete=ip,Ln.prototype.get=Rs,Ln.prototype.has=co,Ln.prototype.set=gd;function xi(F){var G=-1,se=F?F.length:0;for(this.clear();++G<se;){var be=F[G];this.set(be[0],be[1])}}function sp(){this.__data__=[]}function op(F){var G=this.__data__,se=Sy(G,F);if(se<0)return!1;var be=G.length-1;return se==be?G.pop():np.call(G,se,1),!0}function Bt(F){var G=this.__data__,se=Sy(G,F);return se<0?void 0:G[se][1]}function wi(F){return Sy(this.__data__,F)>-1}function ho(F,G){var se=this.__data__,be=Sy(se,F);return be<0?se.push([F,G]):se[be][1]=G,this}xi.prototype.clear=sp,xi.prototype.delete=op,xi.prototype.get=Bt,xi.prototype.has=wi,xi.prototype.set=ho;function It(F){var G=-1,se=F?F.length:0;for(this.clear();++G<se;){var be=F[G];this.set(be[0],be[1])}}function Fu(){this.__data__={hash:new Ln,map:new(ce||xi),string:new Ln}}function by(F){return Cy(this,F).delete(F)}function Yb(F){return Cy(this,F).get(F)}function pQ(F){return Cy(this,F).has(F)}function gQ(F,G){return Cy(this,F).set(F,G),this}It.prototype.clear=Fu,It.prototype.delete=by,It.prototype.get=Yb,It.prototype.has=pQ,It.prototype.set=gQ;function Ey(F){var G=-1,se=F?F.length:0;for(this.__data__=new It;++G<se;)this.add(F[G])}function mQ(F){return this.__data__.set(F,s),this}function vQ(F){return this.__data__.has(F)}Ey.prototype.add=Ey.prototype.push=mQ,Ey.prototype.has=vQ;function qo(F){this.__data__=new xi(F)}function yQ(){this.__data__=new xi}function _Q(F){return this.__data__.delete(F)}function xQ(F){return this.__data__.get(F)}function wQ(F){return this.__data__.has(F)}function bQ(F,G){var se=this.__data__;if(se instanceof xi){var be=se.__data__;if(!ce||be.length<r-1)return be.push([F,G]),this;se=this.__data__=new It(be)}return se.set(F,G),this}qo.prototype.clear=yQ,qo.prototype.delete=_Q,qo.prototype.get=xQ,qo.prototype.has=wQ,qo.prototype.set=bQ;function EQ(F,G){var se=Lu(F)||MB(F)?J(F.length,String):[],be=se.length,ut=!!be;for(var Ve in F)(G||Cr.call(F,Ve))&&!(ut&&(Ve=="length"||RB(Ve,be)))&&se.push(Ve);return se}function Sy(F,G){for(var se=F.length;se--;)if(BB(F[se][0],G))return se;return-1}var SQ=NQ();function CQ(F,G){return F&&SQ(F,G,Ry)}function TB(F,G){G=Ay(G,F)?[G]:DB(G);for(var se=0,be=G.length;F!=null&&se<be;)F=F[Ty(G[se++])];return se&&se==be?F:void 0}function AQ(F){return Hr.call(F)}function TQ(F,G){return F!=null&&G in Object(F)}function qb(F,G,se,be,ut){return F===G?!0:F==null||G==null||!Dy(F)&&!Py(G)?F!==F&&G!==G:DQ(F,G,qb,se,be,ut)}function DQ(F,G,se,be,ut,Ve){var Mt=Lu(F),Vt=Lu(G),hr=f,qr=f;Mt||(hr=nl(F),hr=hr==d?v:hr),Vt||(qr=nl(G),qr=qr==d?v:qr);var Nn=hr==v&&!he(F),ti=qr==v&&!he(G),Zr=hr==qr;if(Zr&&!Nn)return Ve||(Ve=new qo),Mt||XQ(F)?PB(F,G,se,be,ut,Ve):UQ(F,G,hr,se,be,ut,Ve);if(!(ut&l)){var Xi=Nn&&Cr.call(F,"__wrapped__"),Yi=ti&&Cr.call(G,"__wrapped__");if(Xi||Yi){var il=Xi?F.value():F,Zo=Yi?G.value():G;return Ve||(Ve=new qo),se(il,Zo,be,ut,Ve)}}return Zr?(Ve||(Ve=new qo),$Q(F,G,se,be,ut,Ve)):!1}function PQ(F,G,se,be){var ut=se.length,Ve=ut,Mt=!be;if(F==null)return!Ve;for(F=Object(F);ut--;){var Vt=se[ut];if(Mt&&Vt[2]?Vt[1]!==F[Vt[0]]:!(Vt[0]in F))return!1}for(;++ut<Ve;){Vt=se[ut];var hr=Vt[0],qr=F[hr],Nn=Vt[1];if(Mt&&Vt[2]){if(qr===void 0&&!(hr in F))return!1}else{var ti=new qo;if(be)var Zr=be(qr,Nn,hr,F,G,ti);if(!(Zr===void 0?qb(Nn,qr,be,o|l,ti):Zr))return!1}}return!0}function RQ(F){if(!Dy(F)||VQ(F))return!1;var G=kB(F)||he(F)?rl:z;return G.test(ku(F))}function IQ(F){return Py(F)&&Qb(F.length)&&!!Z[Hr.call(F)]}function OQ(F){return typeof F=="function"?F:F==null?JQ:typeof F=="object"?Lu(F)?FQ(F[0],F[1]):MQ(F):eJ(F)}function BQ(F){if(!HQ(F))return X(F);var G=[];for(var se in Object(F))Cr.call(F,se)&&se!="constructor"&&G.push(se);return G}function MQ(F){var G=jQ(F);return G.length==1&&G[0][2]?OB(G[0][0],G[0][1]):function(se){return se===F||PQ(se,F,G)}}function FQ(F,G){return Ay(F)&&IB(G)?OB(Ty(F),G):function(se){var be=qQ(se,F);return be===void 0&&be===G?ZQ(se,F):qb(G,be,void 0,o|l)}}function kQ(F){return function(G){return TB(G,F)}}function LQ(F){if(typeof F=="string")return F;if(Jb(F))return uo?uo.call(F):"";var G=F+"";return G=="0"&&1/F==-a?"-0":G}function DB(F){return Lu(F)?F:WQ(F)}function NQ(F){return function(G,se,be){for(var ut=-1,Ve=Object(G),Mt=be(G),Vt=Mt.length;Vt--;){var hr=Mt[F?Vt:++ut];if(se(Ve[hr],hr,Ve)===!1)break}return G}}function PB(F,G,se,be,ut,Ve){var Mt=ut&l,Vt=F.length,hr=G.length;if(Vt!=hr&&!(Mt&&hr>Vt))return!1;var qr=Ve.get(F);if(qr&&Ve.get(G))return qr==G;var Nn=-1,ti=!0,Zr=ut&o?new Ey:void 0;for(Ve.set(F,G),Ve.set(G,F);++Nn<Vt;){var Xi=F[Nn],Yi=G[Nn];if(be)var il=Mt?be(Yi,Xi,Nn,G,F,Ve):be(Xi,Yi,Nn,F,G,Ve);if(il!==void 0){if(il)continue;ti=!1;break}if(Zr){if(!$(G,function(Zo,Nu){if(!Zr.has(Nu)&&(Xi===Zo||se(Xi,Zo,be,ut,Ve)))return Zr.add(Nu)})){ti=!1;break}}else if(!(Xi===Yi||se(Xi,Yi,be,ut,Ve))){ti=!1;break}}return Ve.delete(F),Ve.delete(G),ti}function UQ(F,G,se,be,ut,Ve,Mt){switch(se){case P:if(F.byteLength!=G.byteLength||F.byteOffset!=G.byteOffset)return!1;F=F.buffer,G=G.buffer;case T:return!(F.byteLength!=G.byteLength||!be(new fd(F),new fd(G)));case g:case m:case p:return BB(+F,+G);case y:return F.name==G.name&&F.message==G.message;case w:case S:return F==G+"";case h:var Vt=De;case b:var hr=Ve&l;if(Vt||(Vt=qe),F.size!=G.size&&!hr)return!1;var qr=Mt.get(F);if(qr)return qr==G;Ve|=o,Mt.set(F,G);var Nn=PB(Vt(F),Vt(G),be,ut,Ve,Mt);return Mt.delete(F),Nn;case C:if(dr)return dr.call(F)==dr.call(G)}return!1}function $Q(F,G,se,be,ut,Ve){var Mt=ut&l,Vt=Ry(F),hr=Vt.length,qr=Ry(G),Nn=qr.length;if(hr!=Nn&&!Mt)return!1;for(var ti=hr;ti--;){var Zr=Vt[ti];if(!(Mt?Zr in G:Cr.call(G,Zr)))return!1}var Xi=Ve.get(F);if(Xi&&Ve.get(G))return Xi==G;var Yi=!0;Ve.set(F,G),Ve.set(G,F);for(var il=Mt;++ti<hr;){Zr=Vt[ti];var Zo=F[Zr],Nu=G[Zr];if(be)var LB=Mt?be(Nu,Zo,Zr,G,F,Ve):be(Zo,Nu,Zr,F,G,Ve);if(!(LB===void 0?Zo===Nu||se(Zo,Nu,be,ut,Ve):LB)){Yi=!1;break}il||(il=Zr=="constructor")}if(Yi&&!il){var Iy=F.constructor,Oy=G.constructor;Iy!=Oy&&"constructor"in F&&"constructor"in G&&!(typeof Iy=="function"&&Iy instanceof Iy&&typeof Oy=="function"&&Oy instanceof Oy)&&(Yi=!1)}return Ve.delete(F),Ve.delete(G),Yi}function Cy(F,G){var se=F.__data__;return GQ(G)?se[typeof G=="string"?"string":"hash"]:se.map}function jQ(F){for(var G=Ry(F),se=G.length;se--;){var be=G[se],ut=F[be];G[se]=[be,ut,IB(ut)]}return G}function md(F,G){var se=ue(F,G);return RQ(se)?se:void 0}var nl=AQ;(re&&nl(new re(new ArrayBuffer(1)))!=P||ce&&nl(new ce)!=h||Pe&&nl(Pe.resolve())!=x||Ke&&nl(new Ke)!=b||Ze&&nl(new Ze)!=A)&&(nl=function(F){var G=Hr.call(F),se=G==v?F.constructor:void 0,be=se?ku(se):void 0;if(be)switch(be){case et:return P;case Ye:return h;case kt:return x;case Yt:return b;case mt:return A}return G});function zQ(F,G,se){G=Ay(G,F)?[G]:DB(G);for(var be,ut=-1,Mt=G.length;++ut<Mt;){var Ve=Ty(G[ut]);if(!(be=F!=null&&se(F,Ve)))break;F=F[Ve]}if(be)return be;var Mt=F?F.length:0;return!!Mt&&Qb(Mt)&&RB(Ve,Mt)&&(Lu(F)||MB(F))}function RB(F,G){return G=G==null?c:G,!!G&&(typeof F=="number"||Y.test(F))&&F>-1&&F%1==0&&F<G}function Ay(F,G){if(Lu(F))return!1;var se=typeof F;return se=="number"||se=="symbol"||se=="boolean"||F==null||Jb(F)?!0:K.test(F)||!H.test(F)||G!=null&&F in Object(G)}function GQ(F){var G=typeof F;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?F!=="__proto__":F===null}function VQ(F){return!!Br&&Br in F}function HQ(F){var G=F&&F.constructor,se=typeof G=="function"&&G.prototype||Or;return F===se}function IB(F){return F===F&&!Dy(F)}function OB(F,G){return function(se){return se==null?!1:se[F]===G&&(G!==void 0||F in Object(se))}}var WQ=Zb(function(F){F=YQ(F);var G=[];return te.test(F)&&G.push(""),F.replace(le,function(se,be,ut,Ve){G.push(ut?Ve.replace(fe,"$1"):be||se)}),G});function Ty(F){if(typeof F=="string"||Jb(F))return F;var G=F+"";return G=="0"&&1/F==-a?"-0":G}function ku(F){if(F!=null){try{return _i.call(F)}catch(G){}try{return F+""}catch(G){}}return""}function Zb(F,G){if(typeof F!="function"||G&&typeof G!="function")throw new TypeError(n);var se=function(){var be=arguments,ut=G?G.apply(this,be):be[0],Ve=se.cache;if(Ve.has(ut))return Ve.get(ut);var Mt=F.apply(this,be);return se.cache=Ve.set(ut,Mt),Mt};return se.cache=new(Zb.Cache||It),se}Zb.Cache=It;function BB(F,G){return F===G||F!==F&&G!==G}function MB(F){return KQ(F)&&Cr.call(F,"callee")&&(!pd.call(F,"callee")||Hr.call(F)==d)}var Lu=Array.isArray;function FB(F){return F!=null&&Qb(F.length)&&!kB(F)}function KQ(F){return Py(F)&&FB(F)}function kB(F){var G=Dy(F)?Hr.call(F):"";return G==_||G==u}function Qb(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=c}function Dy(F){var G=typeof F;return!!F&&(G=="object"||G=="function")}function Py(F){return!!F&&typeof F=="object"}function Jb(F){return typeof F=="symbol"||Py(F)&&Hr.call(F)==C}var XQ=wt?ve(wt):IQ;function YQ(F){return F==null?"":LQ(F)}function qQ(F,G,se){var be=F==null?void 0:TB(F,G);return be===void 0?se:be}function ZQ(F,G){return F!=null&&zQ(F,G,TQ)}function Ry(F){return FB(F)?EQ(F):BQ(F)}function QQ(F,G){var se={};return G=OQ(G),CQ(F,function(be,ut,Ve){se[ut]=G(be,ut,Ve)}),se}function JQ(F){return F}function eJ(F){return Ay(F)?q(Ty(F)):kQ(F)}t.exports=QQ})(Xx,Xx.exports);Xx.exports;var DUe=Object.defineProperty,PUe=Object.defineProperties,RUe=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,IUe=Object.prototype.hasOwnProperty,OUe=Object.prototype.propertyIsEnumerable,VU=(t,e,r)=>e in t?DUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vs=(t,e)=>{for(var r in e||(e={}))IUe.call(e,r)&&VU(t,r,e[r]);if(GU)for(var r of GU(e))OUe.call(e,r)&&VU(t,r,e[r]);return t},_v=(t,e)=>PUe(t,RUe(e)),BUe=t=>(e,r,n)=>{const s=(o,l)=>e(Wv(o),!0,l);return n.setState=s,t(s,r,n)},MUe=(t,e)=>{const r={};return Object.keys(t.getState()).forEach(n=>{r[n]=s=>{if(t.getState()[n]===s)return;const l=n.replace(/^\S/,a=>a.toUpperCase());t.setState(a=>{a[n]=s},"@@".concat(e,"/set").concat(l))}}),r},FUe=t=>{const e={};return Object.keys(t.getState()).forEach(r=>{e[r]=()=>t.getState()[r]}),e},kUe=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=s=>t(o=>o[n],s)}),r},LUe=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=()=>t()[n]}),r};function NUe(t,...e){return e.reduce((r,n)=>n(r),t)}var UUe=(t,e)=>{const r=t(e.set,e.get,e);return _v(vs({},e),{set:vs(vs({},e.set),r)})},$Ue=(t,e)=>{const r=vs({},e.use),n=vs({},e.useTracked),s=vs({},e.get);return Object.keys(t(e.store.getState(),e.get,e)).forEach(o=>{r[o]=(...l)=>e.useStore(a=>{const d=t(a,e.get,e)[o];return d(...l)}),n[o]=(...l)=>{const a=e.useTrackedStore(),d=t(a,e.get,e)[o];return d(...l)},s[o]=(...l)=>{const c=t(e.store.getState(),e.get,e)[o];return c(...l)}}),_v(vs({},e),{get:s,use:r,useTracked:n})},mP=t=>_v(vs({},t),{extendSelectors:e=>mP($Ue(e,t)),extendActions:e=>mP(UUe(e,t))}),jUe=t=>(e,r={})=>{var n,s;const{middlewares:o=[],devtools:l,persist:a,immer:c}=r;rve((n=c==null?void 0:c.enabledAutoFreeze)!=null?n:!1),c!=null&&c.enableMapSet&&tve();const d=[BUe,...o];if(a!=null&&a.enabled){const b=_v(vs({},a),{name:(s=a.name)!=null?s:t});d.push(S=>EUe(S,b))}l!=null&&l.enabled&&d.push(b=>yUe(b,_v(vs({},l),{name:t}))),d.push(j6);const g=(b=>NUe(b,...d))(()=>e),m=(b,S)=>TUe(g,b,S),y=MUe(g,t),_=(b,S)=>{g.setState(C=>{Object.assign(C,b)},S||"@@".concat(t,"/mergeState"))},u=(b,S)=>{g.setState(b,S||"@@".concat(t,"/setState"))},h=kUe(m,g),p=FUe(g),v=gUe(m),x=LUe(v,g),w={get:vs({state:g.getState},p),name:t,set:vs({state:u,mergeState:_},y),store:g,use:h,useTracked:x,useStore:m,useTrackedStore:v,extendSelectors:()=>w,extendActions:()=>w};return mP(w)},GY=jUe,zUe=HUe,VY="---",HY="A-Za-z--------",GUe=new RegExp("^[^"+HY+"]*["+VY+"]"),VUe=new RegExp("^[^"+VY+"]*["+HY+"]");function HUe(t){return t=String(t||""),GUe.test(t)?"rtl":VUe.test(t)?"ltr":"neutral"}const WY=xn(zUe);var WUe=oo,KUe=function(){return WUe.Date.now()},XUe=KUe,YUe=/\s/;function qUe(t){for(var e=t.length;e--&&YUe.test(t.charAt(e)););return e}var ZUe=qUe,QUe=ZUe,JUe=/^\s+/;function e$e(t){return t&&t.slice(0,QUe(t)+1).replace(JUe,"")}var t$e=e$e,r$e=t$e,HU=Wi,n$e=Rb,WU=0/0,i$e=/^[-+]0x[0-9a-f]+$/i,s$e=/^0b[01]+$/i,o$e=/^0o[0-7]+$/i,a$e=parseInt;function l$e(t){if(typeof t=="number")return t;if(n$e(t))return WU;if(HU(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HU(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=r$e(t);var r=s$e.test(t);return r||o$e.test(t)?a$e(t.slice(2),r?2:8):i$e.test(t)?WU:+t}var u$e=l$e,c$e=Wi,vC=XUe,KU=u$e,d$e="Expected a function",h$e=Math.max,f$e=Math.min;function p$e(t,e,r){var n,s,o,l,a,c,d=0,f=!1,g=!1,m=!0;if(typeof t!="function")throw new TypeError(d$e);e=KU(e)||0,c$e(r)&&(f=!!r.leading,g="maxWait"in r,o=g?h$e(KU(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function y(S){var C=n,A=s;return n=s=void 0,d=S,l=t.apply(A,C),l}function _(S){return d=S,a=setTimeout(p,e),f?y(S):l}function u(S){var C=S-c,A=S-d,T=e-C;return g?f$e(T,o-A):T}function h(S){var C=S-c,A=S-d;return c===void 0||C>=e||C<0||g&&A>=o}function p(){var S=vC();if(h(S))return v(S);a=setTimeout(p,u(S))}function v(S){return a=void 0,m&&n?y(S):(n=s=void 0,l)}function x(){a!==void 0&&clearTimeout(a),d=0,n=c=s=a=void 0}function w(){return a===void 0?l:v(vC())}function b(){var S=vC(),C=h(S);if(n=arguments,s=this,c=S,C){if(a===void 0)return _(c);if(g)return clearTimeout(a),a=setTimeout(p,e),y(c)}return a===void 0&&(a=setTimeout(p,e)),l}return b.cancel=x,b.flush=w,b}var KY=p$e;const g$e=xn(KY);var m$e=KY,v$e=Wi,y$e="Expected a function";function _$e(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(y$e);return v$e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),m$e(t,e,{leading:n,maxWait:e,trailing:s})}var x$e=_$e;const w$e=xn(x$e),XU=t=>typeof t=="object"&&t!=null&&t.nodeType===1,YU=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",yC=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return YU(r.overflowY,e)||YU(r.overflowX,e)||(n=>{const s=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(l){return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(t)}return!1},Y0=(t,e,r,n,s,o,l,a)=>o<t&&l>e||o>t&&l<e?0:o<=t&&a<=r||l>=e&&a>=r?o-t-n:l>e&&a<r||o<t&&a>r?l-e+s:0,b$e=t=>{const e=t.parentElement;return e==null?t.getRootNode().host||null:e},qU=(t,e)=>{var r,n,s,o;if(typeof document>"u")return[];const{scrollMode:l,block:a,inline:c,boundary:d,skipOverflowHiddenElements:f}=e,g=typeof d=="function"?d:D=>D!==d;if(!XU(t))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,y=[];let _=t;for(;XU(_)&&g(_);){if(_=b$e(_),_===m){y.push(_);break}_!=null&&_===document.body&&yC(_)&&!yC(document.documentElement)||_!=null&&yC(_,f)&&y.push(_)}const u=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,h=(o=(s=window.visualViewport)==null?void 0:s.height)!=null?o:innerHeight,{scrollX:p,scrollY:v}=window,{height:x,width:w,top:b,right:S,bottom:C,left:A}=t.getBoundingClientRect();let T=a==="start"||a==="nearest"?b:a==="end"?C:b+x/2,P=c==="center"?A+w/2:c==="end"?S:A;const B=[];for(let D=0;D<y.length;D++){const R=y[D],{height:O,width:k,top:j,right:U,bottom:N,left:L}=R.getBoundingClientRect();if(l==="if-needed"&&b>=0&&A>=0&&C<=h&&S<=u&&b>=j&&C<=N&&A>=L&&S<=U)return B;const H=getComputedStyle(R),K=parseInt(H.borderLeftWidth,10),te=parseInt(H.borderTopWidth,10),le=parseInt(H.borderRightWidth,10),ne=parseInt(H.borderBottomWidth,10);let fe=0,z=0;const Y="offsetWidth"in R?R.offsetWidth-R.clientWidth-K-le:0,Z="offsetHeight"in R?R.offsetHeight-R.clientHeight-te-ne:0,Q="offsetWidth"in R?R.offsetWidth===0?0:k/R.offsetWidth:0,pe="offsetHeight"in R?R.offsetHeight===0?0:O/R.offsetHeight:0;if(m===R)fe=a==="start"?T:a==="end"?T-h:a==="nearest"?Y0(v,v+h,h,te,ne,v+T,v+T+x,x):T-h/2,z=c==="start"?P:c==="center"?P-u/2:c==="end"?P-u:Y0(p,p+u,u,K,le,p+P,p+P+w,w),fe=Math.max(0,fe+v),z=Math.max(0,z+p);else{fe=a==="start"?T-j-te:a==="end"?T-N+ne+Z:a==="nearest"?Y0(j,N,O,te,ne+Z,T,T+x,x):T-(j+O/2)+Z/2,z=c==="start"?P-L-K:c==="center"?P-(L+k/2)+Y/2:c==="end"?P-U+le+Y:Y0(L,U,k,K,le+Y,P,P+w,w);const{scrollLeft:ae,scrollTop:Ce}=R;fe=Math.max(0,Math.min(Ce+fe/pe,R.scrollHeight-O/pe+Z)),z=Math.max(0,Math.min(ae+z/Q,R.scrollWidth-k/Q+Y)),T+=Ce-fe,P+=ae-z}B.push({el:R,top:fe,left:z})}return B},E$e=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function S$e(t,e){if(!t.isConnected||!(s=>{let o=s;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const r=(s=>{const o=window.getComputedStyle(s);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(qU(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:o,left:l}of qU(t,E$e(e))){const a=o-r.top+r.bottom,c=l-r.left+r.right;s.scroll({top:a,left:c,behavior:n})}}var Tc=[],C$e=function(){return Tc.some(function(t){return t.activeTargets.length>0})},A$e=function(){return Tc.some(function(t){return t.skippedTargets.length>0})},ZU="ResizeObserver loop completed with undelivered notifications.",T$e=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:ZU}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=ZU),window.dispatchEvent(t)},xv;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(xv||(xv={}));var Dc=function(t){return Object.freeze(t)},D$e=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,Dc(this)}return t}(),XY=function(){function t(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Dc(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,s=e.top,o=e.right,l=e.bottom,a=e.left,c=e.width,d=e.height;return{x:r,y:n,top:s,right:o,bottom:l,left:a,width:c,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),YO=function(t){return t instanceof SVGElement&&"getBBox"in t},YY=function(t){if(YO(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var s=t,o=s.offsetWidth,l=s.offsetHeight;return!(o||l||t.getClientRects().length)},QU=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},P$e=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},jg=typeof window<"u"?window:{},q0=new WeakMap,JU=/auto|scroll/,R$e=/^tb|vertical/,I$e=/msie|trident/i.test(jg.navigator&&jg.navigator.userAgent),go=function(t){return parseFloat(t||"0")},Lh=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new D$e((r?e:t)||0,(r?t:e)||0)},e$=Dc({devicePixelContentBoxSize:Lh(),borderBoxSize:Lh(),contentBoxSize:Lh(),contentRect:new XY(0,0,0,0)}),qY=function(t,e){if(e===void 0&&(e=!1),q0.has(t)&&!e)return q0.get(t);if(YY(t))return q0.set(t,e$),e$;var r=getComputedStyle(t),n=YO(t)&&t.ownerSVGElement&&t.getBBox(),s=!I$e&&r.boxSizing==="border-box",o=R$e.test(r.writingMode||""),l=!n&&JU.test(r.overflowY||""),a=!n&&JU.test(r.overflowX||""),c=n?0:go(r.paddingTop),d=n?0:go(r.paddingRight),f=n?0:go(r.paddingBottom),g=n?0:go(r.paddingLeft),m=n?0:go(r.borderTopWidth),y=n?0:go(r.borderRightWidth),_=n?0:go(r.borderBottomWidth),u=n?0:go(r.borderLeftWidth),h=g+d,p=c+f,v=u+y,x=m+_,w=a?t.offsetHeight-x-t.clientHeight:0,b=l?t.offsetWidth-v-t.clientWidth:0,S=s?h+v:0,C=s?p+x:0,A=n?n.width:go(r.width)-S-b,T=n?n.height:go(r.height)-C-w,P=A+h+b+v,B=T+p+w+x,D=Dc({devicePixelContentBoxSize:Lh(Math.round(A*devicePixelRatio),Math.round(T*devicePixelRatio),o),borderBoxSize:Lh(P,B,o),contentBoxSize:Lh(A,T,o),contentRect:new XY(g,c,A,T)});return q0.set(t,D),D},ZY=function(t,e,r){var n=qY(t,r),s=n.borderBoxSize,o=n.contentBoxSize,l=n.devicePixelContentBoxSize;switch(e){case xv.DEVICE_PIXEL_CONTENT_BOX:return l;case xv.BORDER_BOX:return s;default:return o}},O$e=function(){function t(e){var r=qY(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Dc([r.borderBoxSize]),this.contentBoxSize=Dc([r.contentBoxSize]),this.devicePixelContentBoxSize=Dc([r.devicePixelContentBoxSize])}return t}(),QY=function(t){if(YY(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},B$e=function(){var t=1/0,e=[];Tc.forEach(function(l){if(l.activeTargets.length!==0){var a=[];l.activeTargets.forEach(function(d){var f=new O$e(d.target),g=QY(d.target);a.push(f),d.lastReportedSize=ZY(d.target,d.observedBox),g<t&&(t=g)}),e.push(function(){l.callback.call(l.observer,a,l.observer)}),l.activeTargets.splice(0,l.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var s=n[r];s()}return t},t$=function(t){Tc.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(s){s.isActive()&&(QY(s.target)>t?r.activeTargets.push(s):r.skippedTargets.push(s))})})},M$e=function(){var t=0;for(t$(t);C$e();)t=B$e(),t$(t);return A$e()&&T$e(),t>0},_C,JY=[],F$e=function(){return JY.splice(0).forEach(function(t){return t()})},k$e=function(t){if(!_C){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return F$e()}).observe(r,n),_C=function(){r.textContent="".concat(e?e--:e++)}}JY.push(t),_C()},L$e=function(t){k$e(function(){requestAnimationFrame(t)})},V_=0,N$e=function(){return!!V_},U$e=250,$$e={attributes:!0,characterData:!0,childList:!0,subtree:!0},r$=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],n$=function(t){return t===void 0&&(t=0),Date.now()+t},xC=!1,j$e=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=U$e),!xC){xC=!0;var n=n$(e);L$e(function(){var s=!1;try{s=M$e()}finally{if(xC=!1,e=n-n$(),!N$e())return;s?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,$$e)};document.body?r():jg.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),r$.forEach(function(r){return jg.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),r$.forEach(function(r){return jg.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),vP=new j$e,i$=function(t){!V_&&t>0&&vP.start(),V_+=t,!V_&&vP.stop()},z$e=function(t){return!YO(t)&&!P$e(t)&&getComputedStyle(t).display==="inline"},G$e=function(){function t(e,r){this.target=e,this.observedBox=r||xv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=ZY(this.target,this.observedBox,!0);return z$e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),V$e=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),Z0=new WeakMap,s$=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},Q0=function(){function t(){}return t.connect=function(e,r){var n=new V$e(e,r);Z0.set(e,n)},t.observe=function(e,r,n){var s=Z0.get(e),o=s.observationTargets.length===0;s$(s.observationTargets,r)<0&&(o&&Tc.push(s),s.observationTargets.push(new G$e(r,n&&n.box)),i$(1),vP.schedule())},t.unobserve=function(e,r){var n=Z0.get(e),s=s$(n.observationTargets,r),o=n.observationTargets.length===1;s>=0&&(o&&Tc.splice(Tc.indexOf(n),1),n.observationTargets.splice(s,1),i$(-1))},t.disconnect=function(e){var r=this,n=Z0.get(e);n.observationTargets.slice().forEach(function(s){return r.unobserve(e,s.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),H$e=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Q0.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QU(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Q0.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QU(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Q0.unobserve(this,e)},t.prototype.disconnect=function(){Q0.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function W$e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function vf(t,e){if(t==null)return{};var r=W$e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function K$e(t,e){if(wv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X$e(t){var e=K$e(t,"string");return wv(e)==="symbol"?e:String(e)}function Es(t,e,r){return e=X$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qO=E.createContext(null),Ou=()=>{var t=E.useContext(qO);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},wC,bC,eq=parseInt(V.version.split(".")[0],10),Y$e=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o$=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Hn=typeof navigator<"u"&&/Android/.test(navigator.userAgent),fh=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ju=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),q$e=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),tq=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Z$e=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Q$e=Hn&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),J$e=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),e4e=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),t4e=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((wC=navigator.userAgent.match(/Version\/(\d+)/))!==null&&wC!==void 0&&wC[1]&&parseInt((bC=navigator.userAgent.match(/Version\/(\d+)/))===null||bC===void 0?void 0:bC[1],10)<17);var ul=(!Z$e||!Q$e)&&!q$e&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",ZO=new WeakMap,QO=new WeakMap,rq=new WeakMap,W_=new WeakMap,yP=new WeakMap,bv=new WeakMap,Pc=new WeakMap,Yx=new WeakMap,Lb=new WeakMap,_P=new WeakMap,Nl=new WeakMap,uc=new WeakMap,zg=new WeakMap,xP=new WeakMap,JO=new WeakMap,Hs=new WeakMap,Sa=new WeakMap,ii=new WeakMap,xl=new WeakMap,wl=new WeakMap,nq=new WeakMap,yf=Symbol("placeholder"),iq=Symbol("mark-placeholder"),sq=globalThis.Node,r4e=globalThis.Text,eB=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,n4e=t=>yu(t)&&t.nodeType===8,ds=t=>yu(t)&&t.nodeType===1,yu=t=>{var e=eB(t);return!!e&&t instanceof e.Node},wP=t=>{var e=t&&t.anchorNode&&eB(t.anchorNode);return!!e&&t instanceof e.Selection},oq=t=>yu(t)&&t.nodeType===3,i4e=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,s4e=t=>{var[e,r]=t;if(ds(e)&&e.childNodes.length){var n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=aq(e,s,n?"backward":"forward"),n=s<r;ds(e)&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=a4e(e,o,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},o4e=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},aq=(t,e,r)=>{for(var{childNodes:n}=t,s=n[e],o=e,l=!1,a=!1;(n4e(s)||ds(s)&&s.childNodes.length===0||ds(s)&&s.getAttribute("contenteditable")==="false")&&!(l&&a);){if(o>=n.length){l=!0,o=e-1,r="backward";continue}if(o<0){a=!0,o=e+1,r="forward";continue}s=n[o],e=o,o+=r==="forward"?1:-1}return[s,e]},a4e=(t,e,r)=>{var[n]=aq(t,e,r);return n},lq=t=>{var e="";if(oq(t)&&t.nodeValue)return t.nodeValue;if(ds(t)){for(var r of Array.from(t.childNodes))e+=lq(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+="\n")}return e},l4e=/data-slate-fragment="(.+?)"/m,u4e=t=>{var e=t.getData("text/html"),[,r]=e.match(l4e)||[];return r},Gg=t=>t.getSelection!=null?t.getSelection():document.getSelection(),tB=(t,e,r)=>{var{target:n}=e;if(ds(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:s}=oe.getWindow(t);if(s.contains(n))return oe.hasDOMNode(t,n,{editable:!0});var o=r.find(l=>{var{addedNodes:a,removedNodes:c}=l;for(var d of a)if(d===n||d.contains(n))return!0;for(var f of c)if(f===n||f.contains(n))return!0});return!o||o===e?!1:tB(t,o,r)},c4e=()=>{for(var t=document.activeElement;(e=t)!==null&&e!==void 0&&e.shadowRoot&&(r=t.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var e,r,n;t=(n=t)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return t},a$=(t,e)=>!!(t.compareDocumentPosition(e)&sq.DOCUMENT_POSITION_PRECEDING),d4e=(t,e)=>!!(t.compareDocumentPosition(e)&sq.DOCUMENT_POSITION_FOLLOWING),h4e=0;class f4e{constructor(){Es(this,"id",void 0),this.id="".concat(h4e++)}}var oe={androidPendingDiffs:t=>ii.get(t),androidScheduleFlush:t=>{var e;(e=JO.get(t))===null||e===void 0||e()},blur:t=>{var e=oe.toDOMNode(t,t),r=oe.findDocumentOrShadowRoot(t);Nl.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=oe.findDocumentOrShadowRoot(t),n=Gg(r);n&&n.rangeCount>0&&n.removeAllRanges(),e&&de.deselect(t)},findDocumentOrShadowRoot:t=>{var e=oe.toDOMNode(t,t),r=e.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:s}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=oe.toSlateNode(t,e.target),l=oe.findPath(t,o);if(Ne.isElement(o)&&M.isVoid(t,o)){var a=s.getBoundingClientRect(),c=t.isInline(o)?r-a.left<a.left+a.width-r:n-a.top<a.top+a.height-n,d=M.point(t,l,{edge:c?"start":"end"}),f=c?M.before(t,d):M.after(t,d);if(f){var g=M.range(t,f);return g}}var m,{document:y}=oe.getWindow(t);if(y.caretRangeFromPoint)m=y.caretRangeFromPoint(r,n);else{var _=y.caretPositionFromPoint(r,n);_&&(m=y.createRange(),m.setStart(_.offsetNode,_.offset),m.setEnd(_.offsetNode,_.offset))}if(!m)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var u=oe.toSlateRange(t,m,{exactMatch:!1,suppressThrow:!1});return u},findKey:(t,e)=>{var r=Yx.get(e);return r||(r=new f4e,Yx.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var s=QO.get(n);if(s==null){if(M.isEditor(n))return r;break}var o=ZO.get(n);if(o==null)break;r.unshift(o),n=s}throw new Error("Unable to find the path for Slate node: ".concat(an.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Nl.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{oe.focus(e,{retries:r.retries-1})},10);return}var n=oe.toDOMNode(e,e),s=oe.findDocumentOrShadowRoot(e);if(s.activeElement!==n){if(e.selection&&s instanceof Document){var o=Gg(s),l=oe.toDOMRange(e,e.selection);o==null||o.removeAllRanges(),o==null||o.addRange(l)}e.selection||de.select(e,M.start(e,[])),Nl.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=rq.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:s=!1}=n,o=oe.toDOMNode(e,e),l;try{l=ds(r)?r:r.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return l?l.closest("[data-slate-editor]")===o&&(!s||l.isContentEditable?!0:typeof l.isContentEditable=="boolean"&&l.closest('[contenteditable="false"]')===o||!!l.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>yu(e)&&oe.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return M.hasPath(t,r.path)&&M.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>oe.hasEditableTarget(t,e)||oe.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>yu(e)&&oe.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!uc.get(t),isFocused:t=>!!Nl.get(t),isReadOnly:t=>!!_P.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(_P.get(t))return!1;var r=oe.hasTarget(t,e)&&oe.toSlateNode(t,e);return Ne.isElement(r)&&M.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=Lb.get(t),n=M.isEditor(e)?W_.get(t):r==null?void 0:r.get(oe.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(an.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=M.node(t,e.path),n=oe.toDOMNode(t,r),s;M.void(t,{at:e})&&(e={path:e.path,offset:0});for(var o="[data-slate-string], [data-slate-zero-width]",l=Array.from(n.querySelectorAll(o)),a=0,c=0;c<l.length;c++){var d=l[c],f=d.childNodes[0];if(!(f==null||f.textContent==null)){var{length:g}=f.textContent,m=d.getAttribute("data-slate-length"),y=m==null?g:parseInt(m,10),_=a+y,u=l[c+1];if(e.offset===_&&u!==null&&u!==void 0&&u.hasAttribute("data-slate-mark-placeholder")){var h,p=u.childNodes[0];s=[p instanceof r4e?p:u,(h=u.textContent)!==null&&h!==void 0&&h.startsWith("\uFEFF")?1:0];break}if(e.offset<=_){var v=Math.min(g,Math.max(0,e.offset-a));s=[f,v];break}a=_}}if(!s)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(an.stringify(e)));return s},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,s=ee.isBackward(e),o=oe.toDOMPoint(t,r),l=ee.isCollapsed(e)?o:oe.toDOMPoint(t,n),a=oe.getWindow(t),c=a.document.createRange(),[d,f]=s?l:o,[g,m]=s?o:l,y=ds(d)?d:d.parentElement,_=!!y.getAttribute("data-slate-zero-width"),u=ds(g)?g:g.parentElement,h=!!u.getAttribute("data-slate-zero-width");return c.setStart(d,_?1:f),c.setEnd(g,h?1:m),c},toSlateNode:(t,e)=>{var r=ds(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?bv.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:s,searchDirection:o="backward"}=r,[l,a]=n?e:s4e(e),c=l.parentNode,d=null,f=0;if(c){var g,m,y=oe.toDOMNode(t,t),_=c.closest('[data-slate-void="true"]'),u=_&&y.contains(_)?_:null,h=c.closest('[contenteditable="false"]'),p=h&&y.contains(h)?h:null,v=c.closest("[data-slate-leaf]"),x=null;if(v){if(d=v.closest('[data-slate-node="text"]'),d){var w=oe.getWindow(t),b=w.document.createRange();b.setStart(d,0),b.setEnd(l,a);var S=b.cloneContents(),C=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];C.forEach(le=>{if(Hn&&!n&&le.hasAttribute("data-slate-zero-width")&&le.textContent.length>0&&le.textContext!=="\uFEFF"){le.textContent.startsWith("\uFEFF")&&(le.textContent=le.textContent.slice(1));return}le.parentNode.removeChild(le)}),f=S.textContent.length,x=d}}else if(u){for(var A=u.querySelectorAll("[data-slate-leaf]"),T=0;T<A.length;T++){var P=A[T];if(oe.hasDOMNode(t,P)){v=P;break}}v?(d=v.closest('[data-slate-node="text"]'),x=v,f=x.textContent.length,x.querySelectorAll("[data-slate-zero-width]").forEach(le=>{f-=le.textContent.length})):f=1}else if(p){var B=le=>le?le.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],D=p.closest('[data-slate-node="element"]');if(o==="forward"){var R,O=[...B(D),...B(D==null?void 0:D.nextElementSibling)];v=(R=O.find(le=>d4e(p,le)))!==null&&R!==void 0?R:null}else{var k,j=[...B(D==null?void 0:D.previousElementSibling),...B(D)];v=(k=j.findLast(le=>a$(p,le)))!==null&&k!==void 0?k:null}v&&(d=v.closest('[data-slate-node="text"]'),x=v,o==="forward"?f=0:(f=x.textContent.length,x.querySelectorAll("[data-slate-zero-width]").forEach(le=>{f-=le.textContent.length})))}x&&f===x.textContent.length&&Hn&&x.getAttribute("data-slate-zero-width")==="z"&&(g=x.textContent)!==null&&g!==void 0&&g.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||fh&&(m=x.textContent)!==null&&m!==void 0&&m.endsWith("\n\n"))&&f--}if(Hn&&!d&&!n){var U=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(U&&oe.hasDOMNode(t,U,{editable:!0})){var N=oe.toSlateNode(t,U),{path:L,offset:H}=M.start(t,oe.findPath(t,N));return U.querySelector("[data-slate-leaf]")||(H=a),{path:L,offset:H}}}if(!d){if(s)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var K=oe.toSlateNode(t,d),te=oe.findPath(t,K);return{path:te,offset:f}},toSlateRange:(t,e,r)=>{var n,{exactMatch:s,suppressThrow:o}=r,l=wP(e)?e.anchorNode:e.startContainer,a,c,d,f,g;if(l)if(wP(e)){if(fh&&e.rangeCount>1){d=e.focusNode;var m=e.getRangeAt(0),y=e.getRangeAt(e.rangeCount-1);if(d instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement){let S=function(C){return C.childElementCount>0?S(C.children[0]):C};var _=m.startContainer,u=y.startContainer,h=S(_.children[m.startOffset]),p=S(u.children[y.startOffset]);f=0,p.childNodes.length>0?a=p.childNodes[0]:a=p,h.childNodes.length>0?d=h.childNodes[0]:d=h,p instanceof HTMLElement?c=p.innerHTML.length:c=0}else m.startContainer===d?(a=y.endContainer,c=y.endOffset,f=m.startOffset):(a=m.startContainer,c=m.endOffset,f=y.startOffset)}else a=e.anchorNode,c=e.anchorOffset,d=e.focusNode,f=e.focusOffset;tq&&o4e(a)||fh?g=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:g=e.isCollapsed}else a=e.startContainer,c=e.startOffset,d=e.endContainer,f=e.endOffset,g=e.collapsed;if(a==null||d==null||c==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));fh&&(n=d.textContent)!==null&&n!==void 0&&n.endsWith("\n\n")&&f===d.textContent.length&&f--;var v=oe.toSlatePoint(t,[a,c],{exactMatch:s,suppressThrow:o});if(!v)return null;var x=a$(a,d)||a===d&&f<c,w=g?v:oe.toSlatePoint(t,[d,f],{exactMatch:s,suppressThrow:o,searchDirection:x?"forward":"backward"});if(!w)return null;var b={anchor:v,focus:w};return ee.isExpanded(b)&&ee.isForward(b)&&ds(d)&&M.void(t,{at:b.focus,mode:"highest"})&&(b=M.unhangRange(t,b,{voids:!0})),b}};function p4e(t,e){var{path:r,diff:n}=e;if(!M.hasPath(t,r))return!1;var s=_e.get(t,r);if(!Me.isText(s))return!1;if(n.start!==s.text.length||n.text.length===0)return s.text.slice(n.start,n.start+n.text.length)===n.text;var o=W.next(r);if(!M.hasPath(t,o))return!1;var l=_e.get(t,o);return Me.isText(l)&&l.text.startsWith(n.text)}function uq(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((s,o)=>s.slice(0,o.start)+o.text+s.slice(o.end),t)}function g4e(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function m4e(t,e,r){for(var n=Math.min(t.length,e.length,r),s=0;s<n;s++)if(t.charAt(t.length-s-1)!==e.charAt(e.length-s-1))return s;return n}function cq(t,e){var{start:r,end:n,text:s}=e,o=t.slice(r,n),l=g4e(o,s),a=Math.min(o.length-l,s.length-l),c=m4e(o,s,a),d={start:r+l,end:n-c,text:s.slice(l,s.length-c)};return d.start===d.end&&d.text.length===0?null:d}function v4e(t,e,r){var n=Math.min(e.start,r.start),s=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),o=uq(t,e,r),l=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-s),a=o.slice(n,l),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return cq(t,{start:n,end:c,text:a})}function y4e(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function bP(t,e){var{path:r,offset:n}=e;if(!M.hasPath(t,r))return null;var s=_e.get(t,r);if(!Me.isText(s))return null;var o=M.above(t,{match:a=>Ne.isElement(a)&&M.isBlock(t,a),at:r});if(!o)return null;for(;n>s.text.length;){var l=M.next(t,{at:r,match:Me.isText});if(!l||!W.isDescendant(l[1],o[1]))return null;n-=s.text.length,s=l[0],r=l[1]}return{path:r,offset:n}}function l$(t,e){var r=bP(t,e.anchor);if(!r)return null;if(ee.isCollapsed(e))return{anchor:r,focus:r};var n=bP(t,e.focus);return n?{anchor:r,focus:n}:null}function EP(t,e,r){var n=ii.get(t),s=n==null?void 0:n.find(f=>{var{path:g}=f;return W.equals(g,e.path)});if(!s||e.offset<=s.diff.start)return gt.transform(e,r,{affinity:"backward"});var{diff:o}=s;if(e.offset<=o.start+o.text.length){var l={path:e.path,offset:o.start},a=gt.transform(l,r,{affinity:"backward"});return a?{path:a.path,offset:a.offset+e.offset-o.start}:null}var c={path:e.path,offset:e.offset-o.text.length+o.end-o.start},d=gt.transform(c,r,{affinity:"backward"});return d?r.type==="split_node"&&W.equals(r.path,e.path)&&c.offset<r.position&&o.start<r.position?d:{path:d.path,offset:d.offset+o.text.length-o.end+o.start}:null}function u$(t,e,r){var n=EP(t,e.anchor,r);if(!n)return null;if(ee.isCollapsed(e))return{anchor:n,focus:n};var s=EP(t,e.focus,r);return s?{anchor:n,focus:s}:null}function _4e(t,e){var{path:r,diff:n,id:s}=t;switch(e.type){case"insert_text":return!W.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:s,path:r};case"remove_text":return!W.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:s,path:r};case"split_node":return!W.equals(e.path,r)||e.position>=n.end?{diff:n,id:s,path:W.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:s,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:s,path:W.transform(r,e,{affinity:"forward"})};case"merge_node":return W.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:s,path:W.transform(r,e)}:{diff:n,id:s,path:W.transform(r,e)}}var o=W.transform(r,e);return o?{diff:n,path:o,id:s}:null}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var x4e=25,w4e=200,b4e=function(){},E4e=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function S4e(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,s=!1,o=null,l=null,a=null,c=0,d=!1,f=()=>{var D=wl.get(e);if(wl.delete(e),D){var{selection:R}=e,O=l$(e,D);O&&(!R||!ee.equals(O,R))&&de.select(e,O)}},g=()=>{var D=xl.get(e);if(xl.delete(e),!!D){if(D.at){var R=gt.isPoint(D.at)?bP(e,D.at):l$(e,D.at);if(!R)return;var O=M.range(e,R);(!e.selection||!ee.equals(e.selection,O))&&de.select(e,R)}D.run()}},m=()=>{if(l&&(clearTimeout(l),l=null),a&&(clearTimeout(a),a=null),!w()&&!x()){f();return}s||(s=!0,setTimeout(()=>s=!1)),x()&&(s="action");var D=e.selection&&M.rangeRef(e,e.selection,{affinity:"forward"});Sa.set(e,e.marks),b4e("flush",xl.get(e),ii.get(e));for(var R=w(),O;O=(k=ii.get(e))===null||k===void 0?void 0:k[0];){var k,j,U=Hs.get(e);U!==void 0&&(Hs.delete(e),e.marks=U),U&&d===!1&&(d=null);var N=y4e(O);(!e.selection||!ee.equals(e.selection,N))&&de.select(e,N),O.diff.text?M.insertText(e,O.diff.text):M.deleteFragment(e),ii.set(e,(j=ii.get(e))===null||j===void 0?void 0:j.filter(K=>{var{id:te}=K;return te!==O.id})),p4e(e,O)||(R=!1,xl.delete(e),Sa.delete(e),s="action",wl.delete(e),r.cancel(),n.cancel(),D==null||D.unref())}var L=D==null?void 0:D.unref();if(L&&!wl.get(e)&&(!e.selection||!ee.equals(L,e.selection))&&de.select(e,L),x()){g();return}R&&r(),r.flush(),n.flush(),f();var H=Sa.get(e);Sa.delete(e),H!==void 0&&(e.marks=H,e.onChange())},y=D=>{o&&clearTimeout(o),o=setTimeout(()=>{uc.set(e,!1),m()},x4e)},_=D=>{uc.set(e,!0),o&&(clearTimeout(o),o=null)},u=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=yP.get(e);if(O){if(w()||R){O.style.display="none";return}O.style.removeProperty("display")}},h=(D,R)=>{var O,k=(O=ii.get(e))!==null&&O!==void 0?O:[];ii.set(e,k);var j=_e.leaf(e,D),U=k.findIndex(H=>W.equals(H.path,D));if(U<0){var N=cq(j.text,R);N&&k.push({path:D,diff:R,id:c++}),u();return}var L=v4e(j.text,k[U].diff,R);if(!L){k.splice(U,1),u();return}k[U]=J0(J0({},k[U]),{},{diff:L})},p=function(R){var{at:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,wl.delete(e),r.cancel(),n.cancel(),x()&&m(),xl.set(e,{at:O,run:R}),a=setTimeout(m)},v=D=>{var R;l&&(clearTimeout(l),l=null);var{inputType:O}=D,k=null,j=D.dataTransfer||D.data||void 0;d!==!1&&O!=="insertText"&&O!=="insertCompositionText"&&(d=!1);var[U]=D.getTargetRanges();U&&(k=oe.toSlateRange(e,U,{exactMatch:!1,suppressThrow:!0}));var N=oe.getWindow(e),L=N.getSelection();if(!k&&L&&(U=L,k=oe.toSlateRange(e,L,{exactMatch:!1,suppressThrow:!0})),k=(R=k)!==null&&R!==void 0?R:e.selection,!!k){var H=!0;if(O.startsWith("delete")){if(ee.isExpanded(k)){var[K,te]=ee.edges(k),le=_e.leaf(e,K.path);if(le.text.length===K.offset&&te.offset===0){var ne=M.next(e,{at:K.path,match:Me.isText});ne&&W.equals(ne[1],te.path)&&(k={anchor:te,focus:te})}}var fe=O.endsWith("Backward")?"backward":"forward",[z,Y]=ee.edges(k),[Z,Q]=M.leaf(e,z.path),pe={text:"",start:z.offset,end:Y.offset},ae=ii.get(e),Ce=ae==null?void 0:ae.find($t=>W.equals($t.path,Q)),Re=Ce?[Ce.diff,pe]:[pe],Ie=uq(Z.text,...Re);if(Ie.length===0&&(H=!1),ee.isExpanded(k)){if(H&&W.equals(k.anchor.path,k.focus.path)){var tt={path:k.anchor.path,offset:z.offset},dt=M.range(e,tt,tt);return C(dt),h(k.anchor.path,{text:"",end:Y.offset,start:z.offset})}return p(()=>M.deleteFragment(e,{direction:fe}),{at:k})}}switch(O){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>M.deleteFragment(e),{at:k});case"deleteContent":case"deleteContentForward":{var{anchor:wt}=k;if(H&&ee.isCollapsed(k)){var $=_e.leaf(e,wt.path);if(wt.offset<$.text.length)return h(wt.path,{text:"",start:wt.offset,end:wt.offset+1})}return p(()=>M.deleteForward(e),{at:k})}case"deleteContentBackward":{var q,{anchor:J}=k,ve=wP(U)?U.isCollapsed:!!((q=U)!==null&&q!==void 0&&q.collapsed);return H&&ve&&ee.isCollapsed(k)&&J.offset>0?h(J.path,{text:"",start:J.offset-1,end:J.offset}):p(()=>M.deleteBackward(e),{at:k})}case"deleteEntireSoftLine":return p(()=>{M.deleteBackward(e,{unit:"line"}),M.deleteForward(e,{unit:"line"})},{at:k});case"deleteHardLineBackward":return p(()=>M.deleteBackward(e,{unit:"block"}),{at:k});case"deleteSoftLineBackward":return p(()=>M.deleteBackward(e,{unit:"line"}),{at:k});case"deleteHardLineForward":return p(()=>M.deleteForward(e,{unit:"block"}),{at:k});case"deleteSoftLineForward":return p(()=>M.deleteForward(e,{unit:"line"}),{at:k});case"deleteWordBackward":return p(()=>M.deleteBackward(e,{unit:"word"}),{at:k});case"deleteWordForward":return p(()=>M.deleteForward(e,{unit:"word"}),{at:k});case"insertLineBreak":return p(()=>M.insertSoftBreak(e),{at:k});case"insertParagraph":return p(()=>M.insertBreak(e),{at:k});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(E4e(j))return p(()=>oe.insertData(e,j),{at:k});var ue=j!=null?j:"";if(Hs.get(e)&&(ue=ue.replace("\uFEFF","")),O==="insertText"&&/.*\n.*\n$/.test(ue)&&(ue=ue.slice(0,-1)),ue.includes("\n"))return p(()=>{var $t=ue.split("\n");$t.forEach((Or,hn)=>{Or&&M.insertText(e,Or),hn!==$t.length-1&&M.insertSoftBreak(e)})},{at:k});if(W.equals(k.anchor.path,k.focus.path)){var[he,De]=ee.edges(k),je={start:he.offset,end:De.offset,text:ue};if(ue&&d&&O==="insertCompositionText"){var qe=d.start+d.text.search(/\S|$/),Rt=je.start+je.text.search(/\S|$/);Rt===qe+1&&je.end===d.start+d.text.length?(je.start-=1,d=null,P()):d=!1}else O==="insertText"?d===null?d=je:d&&ee.isCollapsed(k)&&d.end+d.text.length===he.offset?d=J0(J0({},d),{},{text:d.text+ue}):d=!1:d=!1;if(H){h(he.path,je);return}}return p(()=>M.insertText(e,ue),{at:k})}}}},x=()=>!!xl.get(e),w=()=>{var D;return!!((D=ii.get(e))!==null&&D!==void 0&&D.length)},b=()=>x()||w(),S=()=>s,C=D=>{wl.set(e,D),l&&(clearTimeout(l),l=null);var{selection:R}=e;if(D){var O=!R||!W.equals(R.anchor.path,D.anchor.path),k=!R||!W.equals(R.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(O&&d||k)&&(d=!1),(O||w())&&(l=setTimeout(m,w4e))}},A=()=>{(x()||!w())&&m()},T=D=>{w()||(u(!0),setTimeout(u))},P=()=>{x()||(a=setTimeout(m))},B=D=>{if(!(w()||x())&&D.some(O=>tB(e,O,D))){var R;(R=nq.get(e))===null||R===void 0||R()}};return{flush:m,scheduleFlush:P,hasPendingDiffs:w,hasPendingAction:x,hasPendingChanges:b,isFlushing:S,handleUserSelect:C,handleCompositionEnd:y,handleCompositionStart:_,handleDOMBeforeInput:v,handleKeyDown:T,handleDomMutations:B,handleInput:A}}function C4e(){var t=E.useRef(!1);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var Ev=H_?E.useLayoutEffect:E.useEffect;function A4e(t,e,r){var[n]=E.useState(()=>new MutationObserver(e));Ev(()=>{n.takeRecords()}),E.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var T4e=["node"];function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function D4e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var P4e={subtree:!0,childList:!0,characterData:!0},R4e=Hn?t=>{var{node:e}=t,r=vf(t,T4e);if(!Hn)return null;var n=Ou(),s=C4e(),[o]=E.useState(()=>S4e(D4e({editor:n},r)));return A4e(e,o.handleDomMutations,P4e),JO.set(n,o.scheduleFlush),s&&o.flush(),o}:()=>null,I4e=["anchor","focus"],O4e=["anchor","focus"],B4e=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),dq=(t,e)=>{var r=vf(t,I4e),n=vf(e,O4e);return t[yf]===e[yf]&&B4e(r,n)},M4e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(!ee.equals(n,s)||!dq(n,s))return!1}return!0},F4e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(n.anchor.offset!==s.anchor.offset||n.focus.offset!==s.focus.offset||!dq(n,s))return!1}return!0};function h$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function k4e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var L4e=t=>{var{isLast:e,leaf:r,parent:n,text:s}=t,o=Ou(),l=oe.findPath(o,s),a=W.parent(l),c=!!r[iq];return o.isVoid(n)?V.createElement(EC,{length:_e.string(n).length}):r.text===""&&n.children[n.children.length-1]===s&&!o.isInline(n)&&M.string(o,a)===""?V.createElement(EC,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?V.createElement(EC,{isMarkPlaceholder:c}):e&&r.text.slice(-1)==="\n"?V.createElement(f$,{isTrailing:!0,text:r.text}):V.createElement(f$,{text:r.text})},f$=t=>{var{text:e,isTrailing:r=!1}=t,n=E.useRef(null),s=()=>"".concat(e!=null?e:"").concat(r?"\n":""),[o]=E.useState(s);return Ev(()=>{var l=s();n.current&&n.current.textContent!==l&&(n.current.textContent=l)}),V.createElement(N4e,{ref:n},o)},N4e=E.memo(E.forwardRef((t,e)=>V.createElement("span",{"data-slate-string":!0,ref:e},t.children))),EC=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,s={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(s["data-slate-mark-placeholder"]=!0),V.createElement("span",k4e({},s),!Hn||!r?"\uFEFF":null,r?V.createElement("br",null):null)};function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var U4e=Hn?300:0;function $4e(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function g$(t){t.current&&(clearTimeout(t.current),t.current=null)}var j4e=t=>{var{leaf:e,isLast:r,text:n,parent:s,renderPlaceholder:o,renderLeaf:l=v=>V.createElement(G4e,hq({},v))}=t,a=Ou(),c=E.useRef(null),d=E.useRef(null),[f,g]=E.useState(!1),m=E.useRef(null),y=E.useCallback(v=>{if($4e(c,v==null),v==null){var x;yP.delete(a),(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,null)}else{if(yP.set(a,v),!c.current){var w=window.ResizeObserver||H$e;c.current=new w(()=>{var b;(b=e.onPlaceholderResize)===null||b===void 0||b.call(e,v)})}c.current.observe(v),d.current=v}},[d,e,a]),_=V.createElement(L4e,{isLast:r,leaf:e,parent:s,text:n}),u=!!e[yf];if(E.useEffect(()=>(u?m.current||(m.current=setTimeout(()=>{g(!0),m.current=null},U4e)):(g$(m),g(!1)),()=>g$(m)),[u,g]),u&&f){var h={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Ju?"inherit":void 0},contentEditable:!1,ref:y}};_=V.createElement(V.Fragment,null,o(h),_)}var p={"data-slate-leaf":!0};return l({attributes:p,children:_,leaf:e,text:n})},z4e=V.memo(j4e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&Me.equals(e.leaf,t.leaf)&&e.leaf[yf]===t.leaf[yf]),G4e=t=>{var{attributes:e,children:r}=t;return V.createElement("span",hq({},e),r)},V4e=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:s,renderLeaf:o,text:l}=t,a=Ou(),c=E.useRef(null),d=Me.decorations(l,e),f=oe.findKey(a,l),g=[],m=0;m<d.length;m++){var y=d[m];g.push(V.createElement(z4e,{isLast:r&&m===d.length-1,key:"".concat(f.id,"-").concat(m),renderPlaceholder:s,leaf:y,text:l,parent:n,renderLeaf:o}))}var _=E.useCallback(u=>{var h=Lb.get(a);u?(h==null||h.set(f,u),Pc.set(l,u),bv.set(u,l)):(h==null||h.delete(f),Pc.delete(l),c.current&&bv.delete(c.current)),c.current=u},[c,a,f,l]);return V.createElement("span",{"data-slate-node":"text",ref:_},g)},fq=V.memo(V4e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&F4e(e.decorations,t.decorations));function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function SP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var H4e=t=>{var{decorations:e,element:r,renderElement:n=v=>V.createElement(rB,SP({},v)),renderPlaceholder:s,renderLeaf:o,selection:l}=t,a=Ou(),c=X4e(),d=a.isInline(r),f=oe.findKey(a,r),g=E.useCallback(v=>{var x=Lb.get(a);v?(x==null||x.set(f,v),Pc.set(r,v),bv.set(v,r)):(x==null||x.delete(f),Pc.delete(r))},[a,f,r]),m=mq({decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:l}),y={"data-slate-node":"element",ref:g};if(d&&(y["data-slate-inline"]=!0),!d&&M.hasInlines(a,r)){var _=_e.string(r),u=WY(_);u==="rtl"&&(y.dir=u)}if(M.isVoid(a,r)){y["data-slate-void"]=!0,!c&&d&&(y.contentEditable=!1);var h=d?"span":"div",[[p]]=_e.texts(r);m=V.createElement(h,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},V.createElement(fq,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:p})),ZO.set(p,0),QO.set(p,r)}return n({attributes:y,children:m,element:r})},W4e=V.memo(H4e,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&M4e(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&ee.equals(t.selection,e.selection))),rB=t=>{var{attributes:e,children:r,element:n}=t,s=Ou(),o=s.isInline(n)?"span":"div";return V.createElement(o,SP(SP({},e),{},{style:{position:"relative"}}),r)},pq=E.createContext(()=>[]),K4e=()=>E.useContext(pq),gq=E.createContext(!1),uKe=()=>E.useContext(gq),mq=t=>{for(var{decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:l}=t,a=K4e(),c=Ou(),d=oe.findPath(c,r),f=[],g=Ne.isElement(r)&&!c.isInline(r)&&M.hasInlines(c,r),m=0;m<r.children.length;m++){var y=d.concat(m),_=r.children[m],u=oe.findKey(c,_),h=M.range(c,y),p=l&&ee.intersection(h,l),v=a([_,y]);for(var x of e){var w=ee.intersection(x,h);w&&v.push(w)}Ne.isElement(_)?f.push(V.createElement(gq.Provider,{key:"provider-".concat(u.id),value:!!p},V.createElement(W4e,{decorations:v,element:_,key:u.id,renderElement:n,renderPlaceholder:s,renderLeaf:o,selection:p}))):f.push(V.createElement(fq,{decorations:v,key:u.id,isLast:g&&m===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:o,text:_})),ZO.set(_,m),QO.set(_,r)}return f},vq=E.createContext(!1),X4e=()=>E.useContext(vq),yq=E.createContext(null),_q=()=>{var t=E.useContext(yq);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function Y4e(){var t=Ou(),e=E.useRef(!1),r=E.useRef(0),n=E.useCallback(()=>{if(!e.current){e.current=!0;var s=oe.getWindow(t);s.cancelAnimationFrame(r.current),r.current=s.requestAnimationFrame(()=>{e.current=!1})}},[t]);return E.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var q4e=3,Z4e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Q4e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},J4e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ir=t=>{var e=Z4e[t],r=Q4e[t],n=J4e[t],s=e&&fC(e),o=r&&fC(r),l=n&&fC(n);return a=>!!(s&&s(a)||o$&&o&&o(a)||!o$&&l&&l(a))},fr={isBold:ir("bold"),isCompose:ir("compose"),isMoveBackward:ir("moveBackward"),isMoveForward:ir("moveForward"),isDeleteBackward:ir("deleteBackward"),isDeleteForward:ir("deleteForward"),isDeleteLineBackward:ir("deleteLineBackward"),isDeleteLineForward:ir("deleteLineForward"),isDeleteWordBackward:ir("deleteWordBackward"),isDeleteWordForward:ir("deleteWordForward"),isExtendBackward:ir("extendBackward"),isExtendForward:ir("extendForward"),isExtendLineBackward:ir("extendLineBackward"),isExtendLineForward:ir("extendLineForward"),isItalic:ir("italic"),isMoveLineBackward:ir("moveLineBackward"),isMoveLineForward:ir("moveLineForward"),isMoveWordBackward:ir("moveWordBackward"),isMoveWordForward:ir("moveWordForward"),isRedo:ir("redo"),isSoftBreak:ir("insertSoftBreak"),isSplitBlock:ir("splitBlock"),isTransposeCharacter:ir("transposeCharacter"),isUndo:ir("undo")},e8e=(t,e)=>{var r=[],n=()=>{r=[]},s=l=>{if(e.current){var a=l.filter(c=>tB(t,c,l));r.push(...a)}};function o(){r.length>0&&(r.reverse().forEach(l=>{l.type!=="characterData"&&(l.removedNodes.forEach(a=>{l.target.insertBefore(a,l.nextSibling)}),l.addedNodes.forEach(a=>{l.target.removeChild(a)}))}),n())}return{registerMutations:s,restoreDOM:o,clear:n}},t8e={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class xq extends E.Component{constructor(){super(...arguments),Es(this,"context",null),Es(this,"manager",null),Es(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,t8e)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=e8e(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,s=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(s!=null&&s.length){var o;(o=this.manager)===null||o===void 0||o.registerMutations(s)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Es(xq,"contextType",qO);var r8e=Hn?xq:t=>{var{children:e}=t;return V.createElement(V.Fragment,null,e)},n8e=E.createContext(!1),i8e=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],s8e=["text"];function v$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var o8e=t=>V.createElement(V.Fragment,null,mq(t)),a8e=E.forwardRef((t,e)=>{var r=E.useCallback(z=>V.createElement(l8e,_o({},z)),[]),{autoFocus:n,decorate:s=u8e,onDOMBeforeInput:o,placeholder:l,readOnly:a=!1,renderElement:c,renderLeaf:d,renderPlaceholder:f=r,scrollSelectionIntoView:g=c8e,style:m={},as:y="div",disableDefaultStyles:_=!1}=t,u=vf(t,i8e),h=_q(),[p,v]=E.useState(!1),x=E.useRef(null),w=E.useRef([]),[b,S]=E.useState(),C=E.useRef(!1),{onUserInput:A,receivedUserInput:T}=Y4e(),[,P]=E.useReducer(z=>z+1,0);nq.set(h,P),_P.set(h,a);var B=E.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);E.useEffect(()=>{x.current&&n&&x.current.focus()},[n]);var D=E.useRef(),R=E.useMemo(()=>w$e(()=>{var z=oe.toDOMNode(h,h),Y=z.getRootNode();if(!C.current&&Ju&&Y instanceof ShadowRoot){C.current=!0;var Z=c4e();Z?document.execCommand("indent"):de.deselect(h),C.current=!1;return}var Q=D.current;if((Hn||!oe.isComposing(h))&&(!B.isUpdatingSelection||Q!=null&&Q.isFlushing())&&!B.isDraggingInternally){var pe=oe.findDocumentOrShadowRoot(h),{activeElement:ae}=pe,Ce=oe.toDOMNode(h,h),Re=Gg(pe);if(ae===Ce?(B.latestElement=ae,Nl.set(h,!0)):Nl.delete(h),!Re)return de.deselect(h);var{anchorNode:Ie,focusNode:tt}=Re,dt=oe.hasEditableTarget(h,Ie)||oe.isTargetInsideNonReadonlyVoid(h,Ie),wt=oe.hasTarget(h,tt);if(dt&&wt){var $=oe.toSlateRange(h,Re,{exactMatch:!1,suppressThrow:!0});$&&(!oe.isComposing(h)&&!(Q!=null&&Q.hasPendingChanges())&&!(Q!=null&&Q.isFlushing())?de.select(h,$):Q==null||Q.handleUserSelect($))}a&&(!dt||!wt)&&de.deselect(h)}},100),[h,a,B]),O=E.useMemo(()=>g$e(R,0),[R]);D.current=R4e({node:x,onDOMSelectionChange:R,scheduleOnDOMSelectionChange:O}),Ev(()=>{var z,Y,Z;x.current&&(Z=eB(x.current))?(rq.set(h,Z),W_.set(h,x.current),Pc.set(h,x.current),bv.set(x.current,h)):Pc.delete(h);var{selection:Q}=h,pe=oe.findDocumentOrShadowRoot(h),ae=Gg(pe);if(!(!ae||!oe.isFocused(h)||(z=D.current)!==null&&z!==void 0&&z.hasPendingAction())){var Ce=dt=>{var wt=ae.type!=="None";if(!(!Q&&!wt)){var $=ae.focusNode,q;if(fh&&ae.rangeCount>1){var J=ae.getRangeAt(0),ve=ae.getRangeAt(ae.rangeCount-1);J.startContainer===$?q=ve.endContainer:q=J.startContainer}else q=ae.anchorNode;var ue=W_.get(h),he=!1;if(ue.contains(q)&&ue.contains($)&&(he=!0),wt&&he&&Q&&!dt){var De=oe.toSlateRange(h,ae,{exactMatch:!0,suppressThrow:!0});if(De&&ee.equals(De,Q)){var je;if(!B.hasMarkPlaceholder||(je=q)!==null&&je!==void 0&&(je=je.parentElement)!==null&&je!==void 0&&je.hasAttribute("data-slate-mark-placeholder"))return}}if(Q&&!oe.hasRange(h,Q)){h.selection=oe.toSlateRange(h,ae,{exactMatch:!1,suppressThrow:!0});return}B.isUpdatingSelection=!0;var qe=Q&&oe.toDOMRange(h,Q);return qe?(oe.isComposing(h)&&!Hn?ae.collapseToEnd():ee.isBackward(Q)?ae.setBaseAndExtent(qe.endContainer,qe.endOffset,qe.startContainer,qe.startOffset):ae.setBaseAndExtent(qe.startContainer,qe.startOffset,qe.endContainer,qe.endOffset),g(h,qe)):ae.removeAllRanges(),qe}};ae.rangeCount<=1&&Ce();var Re=((Y=D.current)===null||Y===void 0?void 0:Y.isFlushing())==="action";if(!Hn||!Re){setTimeout(()=>{B.isUpdatingSelection=!1});return}var Ie=null,tt=requestAnimationFrame(()=>{if(Re){var dt=wt=>{try{var $=oe.toDOMNode(h,h);$.focus(),Ce(wt)}catch(q){}};dt(),Ie=setTimeout(()=>{dt(!0),B.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(tt),Ie&&clearTimeout(Ie)}}});var k=E.useCallback(z=>{var Y=oe.toDOMNode(h,h),Z=Y.getRootNode();if(C!=null&&C.current&&Ju&&Z instanceof ShadowRoot){var Q=z.getTargetRanges(),pe=Q[0],ae=new window.Range;ae.setStart(pe.startContainer,pe.startOffset),ae.setEnd(pe.endContainer,pe.endOffset);var Ce=oe.toSlateRange(h,ae,{exactMatch:!1,suppressThrow:!1});de.select(h,Ce),z.preventDefault(),z.stopImmediatePropagation();return}if(A(),!a&&oe.hasEditableTarget(h,z.target)&&!d8e(z,o)){var Re;if(D.current)return D.current.handleDOMBeforeInput(z);O.flush(),R.flush();var{selection:Ie}=h,{inputType:tt}=z,dt=z.dataTransfer||z.data||void 0,wt=tt==="insertCompositionText"||tt==="deleteCompositionText";if(wt&&oe.isComposing(h))return;var $=!1;if(tt==="insertText"&&Ie&&ee.isCollapsed(Ie)&&z.data&&z.data.length===1&&/[a-z ]/i.test(z.data)&&Ie.anchor.offset!==0){var q,J;$=!0,h.marks&&($=!1);var{anchor:ve}=Ie,[ue,he]=oe.toDOMPoint(h,ve),De=(q=ue.parentElement)===null||q===void 0?void 0:q.closest("a"),je=oe.getWindow(h);if($&&De&&oe.hasDOMNode(h,De)){var qe,Rt=je==null?void 0:je.document.createTreeWalker(De,NodeFilter.SHOW_TEXT).lastChild();Rt===ue&&((qe=Rt.textContent)===null||qe===void 0?void 0:qe.length)===he&&($=!1)}if($&&ue.parentElement&&(je==null||(J=je.getComputedStyle(ue.parentElement))===null||J===void 0?void 0:J.whiteSpace)==="pre"){var $t=M.above(h,{at:ve.path,match:Hr=>Ne.isElement(Hr)&&M.isBlock(h,Hr)});$t&&_e.string($t[0]).includes("	")&&($=!1)}}if(!tt.startsWith("delete")||tt.startsWith("deleteBy")){var[Or]=z.getTargetRanges();if(Or){var hn=oe.toSlateRange(h,Or,{exactMatch:!1,suppressThrow:!1});if(!Ie||!ee.equals(Ie,hn)){$=!1;var Br=!wt&&h.selection&&M.rangeRef(h,h.selection);de.select(h,hn),Br&&zg.set(h,Br)}}}if(wt)return;if($||z.preventDefault(),Ie&&ee.isExpanded(Ie)&&tt.startsWith("delete")){var _i=tt.endsWith("Backward")?"backward":"forward";M.deleteFragment(h,{direction:_i});return}switch(tt){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{M.deleteFragment(h);break}case"deleteContent":case"deleteContentForward":{M.deleteForward(h);break}case"deleteContentBackward":{M.deleteBackward(h);break}case"deleteEntireSoftLine":{M.deleteBackward(h,{unit:"line"}),M.deleteForward(h,{unit:"line"});break}case"deleteHardLineBackward":{M.deleteBackward(h,{unit:"block"});break}case"deleteSoftLineBackward":{M.deleteBackward(h,{unit:"line"});break}case"deleteHardLineForward":{M.deleteForward(h,{unit:"block"});break}case"deleteSoftLineForward":{M.deleteForward(h,{unit:"line"});break}case"deleteWordBackward":{M.deleteBackward(h,{unit:"word"});break}case"deleteWordForward":{M.deleteForward(h,{unit:"word"});break}case"insertLineBreak":M.insertSoftBreak(h);break;case"insertParagraph":{M.insertBreak(h);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{tt==="insertFromComposition"&&oe.isComposing(h)&&(v(!1),uc.set(h,!1)),(dt==null?void 0:dt.constructor.name)==="DataTransfer"?oe.insertData(h,dt):typeof dt=="string"&&($?w.current.push(()=>M.insertText(h,dt)):M.insertText(h,dt));break}}var Cr=(Re=zg.get(h))===null||Re===void 0?void 0:Re.unref();zg.delete(h),Cr&&(!h.selection||!ee.equals(h.selection,Cr))&&de.select(h,Cr)}},[h,R,A,o,a,O]),j=E.useCallback(z=>{z==null?(R.cancel(),O.cancel(),W_.delete(h),Pc.delete(h),x.current&&ul&&x.current.removeEventListener("beforeinput",k)):ul&&z.addEventListener("beforeinput",k),x.current=z,typeof e=="function"?e(z):e&&(e.current=z)},[R,O,h,k,e]);Ev(()=>{var z=oe.getWindow(h);z.document.addEventListener("selectionchange",O);var Y=()=>{B.isDraggingInternally=!1};return z.document.addEventListener("dragend",Y),z.document.addEventListener("drop",Y),()=>{z.document.removeEventListener("selectionchange",O),z.document.removeEventListener("dragend",Y),z.document.removeEventListener("drop",Y)}},[O,B]);var U=s([h,[]]),N=l&&h.children.length===1&&Array.from(_e.texts(h)).length===1&&_e.string(h)===""&&!p,L=E.useCallback(z=>{if(z&&N){var Y;S((Y=z.getBoundingClientRect())===null||Y===void 0?void 0:Y.height)}else S(void 0)},[N]);if(N){var H=M.start(h,[]);U.push({[yf]:!0,placeholder:l,onPlaceholderResize:L,anchor:H,focus:H})}var{marks:K}=h;if(B.hasMarkPlaceholder=!1,h.selection&&ee.isCollapsed(h.selection)&&K){var{anchor:te}=h.selection,le=_e.leaf(h,te.path),ne=vf(le,s8e);if(!Me.equals(le,K,{loose:!0})){B.hasMarkPlaceholder=!0;var fe=Object.fromEntries(Object.keys(ne).map(z=>[z,null]));U.push(_o(_o(_o({[iq]:!0},fe),K),{},{anchor:te,focus:te}))}}return E.useEffect(()=>{setTimeout(()=>{var{selection:z}=h;if(z){var{anchor:Y}=z,Z=_e.leaf(h,Y.path);if(K&&!Me.equals(Z,K,{loose:!0})){Hs.set(h,K);return}}Hs.delete(h)})}),V.createElement(vq.Provider,{value:a},V.createElement(n8e.Provider,{value:p},V.createElement(pq.Provider,{value:s},V.createElement(r8e,{node:x,receivedUserInput:T},V.createElement(y,_o(_o({role:a?void 0:"textbox","aria-multiline":a?void 0:!0},u),{},{spellCheck:ul||!H_?u.spellCheck:!1,autoCorrect:ul||!H_?u.autoCorrect:"false",autoCapitalize:ul||!H_?u.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:j,style:_o(_o({},_?{}:_o({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},b?{minHeight:b}:{})),m),onBeforeInput:E.useCallback(z=>{if(!ul&&!a&&!Un(z,u.onBeforeInput)&&oe.hasSelectableTarget(h,z.target)&&(z.preventDefault(),!oe.isComposing(h))){var Y=z.data;M.insertText(h,Y)}},[u.onBeforeInput,h,a]),onInput:E.useCallback(z=>{if(!Un(z,u.onInput)){if(D.current){D.current.handleInput();return}for(var Y of w.current)Y();w.current=[]}},[u.onInput]),onBlur:E.useCallback(z=>{if(!(a||B.isUpdatingSelection||!oe.hasSelectableTarget(h,z.target)||Un(z,u.onBlur))){var Y=oe.findDocumentOrShadowRoot(h);if(B.latestElement!==Y.activeElement){var{relatedTarget:Z}=z,Q=oe.toDOMNode(h,h);if(Z!==Q&&!(ds(Z)&&Z.hasAttribute("data-slate-spacer"))){if(Z!=null&&yu(Z)&&oe.hasDOMNode(h,Z)){var pe=oe.toSlateNode(h,Z);if(Ne.isElement(pe)&&!h.isVoid(pe))return}if(Ju){var ae=Gg(Y);ae==null||ae.removeAllRanges()}Nl.delete(h)}}}},[a,B.isUpdatingSelection,B.latestElement,h,u.onBlur]),onClick:E.useCallback(z=>{if(oe.hasTarget(h,z.target)&&!Un(z,u.onClick)&&yu(z.target)){var Y=oe.toSlateNode(h,z.target),Z=oe.findPath(h,Y);if(!M.hasPath(h,Z)||_e.get(h,Z)!==Y)return;if(z.detail===q4e&&Z.length>=1){var Q=Z;if(!(Ne.isElement(Y)&&M.isBlock(h,Y))){var pe,ae=M.above(h,{match:$=>Ne.isElement($)&&M.isBlock(h,$),at:Z});Q=(pe=ae==null?void 0:ae[1])!==null&&pe!==void 0?pe:Z.slice(0,1)}var Ce=M.range(h,Q);de.select(h,Ce);return}if(a)return;var Re=M.start(h,Z),Ie=M.end(h,Z),tt=M.void(h,{at:Re}),dt=M.void(h,{at:Ie});if(tt&&dt&&W.equals(tt[1],dt[1])){var wt=M.range(h,Re);de.select(h,wt)}}},[h,u.onClick,a]),onCompositionEnd:E.useCallback(z=>{if(oe.hasSelectableTarget(h,z.target)){var Y;if(oe.isComposing(h)&&Promise.resolve().then(()=>{v(!1),uc.set(h,!1)}),(Y=D.current)===null||Y===void 0||Y.handleCompositionEnd(z),Un(z,u.onCompositionEnd)||Hn)return;if(!Ju&&!J$e&&!Y$e&&!t4e&&!e4e&&z.data){var Z=Hs.get(h);Hs.delete(h),Z!==void 0&&(Sa.set(h,h.marks),h.marks=Z),M.insertText(h,z.data);var Q=Sa.get(h);Sa.delete(h),Q!==void 0&&(h.marks=Q)}}},[u.onCompositionEnd,h]),onCompositionUpdate:E.useCallback(z=>{oe.hasSelectableTarget(h,z.target)&&!Un(z,u.onCompositionUpdate)&&(oe.isComposing(h)||(v(!0),uc.set(h,!0)))},[u.onCompositionUpdate,h]),onCompositionStart:E.useCallback(z=>{if(oe.hasSelectableTarget(h,z.target)){var Y;if((Y=D.current)===null||Y===void 0||Y.handleCompositionStart(z),Un(z,u.onCompositionStart)||Hn)return;v(!0);var{selection:Z}=h;if(Z&&ee.isExpanded(Z)){M.deleteFragment(h);return}}},[u.onCompositionStart,h]),onCopy:E.useCallback(z=>{oe.hasSelectableTarget(h,z.target)&&!Un(z,u.onCopy)&&!y$(z)&&(z.preventDefault(),oe.setFragmentData(h,z.clipboardData,"copy"))},[u.onCopy,h]),onCut:E.useCallback(z=>{if(!a&&oe.hasSelectableTarget(h,z.target)&&!Un(z,u.onCut)&&!y$(z)){z.preventDefault(),oe.setFragmentData(h,z.clipboardData,"cut");var{selection:Y}=h;if(Y)if(ee.isExpanded(Y))M.deleteFragment(h);else{var Z=_e.parent(h,Y.anchor.path);M.isVoid(h,Z)&&de.delete(h)}}},[a,h,u.onCut]),onDragOver:E.useCallback(z=>{if(oe.hasTarget(h,z.target)&&!Un(z,u.onDragOver)){var Y=oe.toSlateNode(h,z.target);Ne.isElement(Y)&&M.isVoid(h,Y)&&z.preventDefault()}},[u.onDragOver,h]),onDragStart:E.useCallback(z=>{if(!a&&oe.hasTarget(h,z.target)&&!Un(z,u.onDragStart)){var Y=oe.toSlateNode(h,z.target),Z=oe.findPath(h,Y),Q=Ne.isElement(Y)&&M.isVoid(h,Y)||M.void(h,{at:Z,voids:!0});if(Q){var pe=M.range(h,Z);de.select(h,pe)}B.isDraggingInternally=!0,oe.setFragmentData(h,z.dataTransfer,"drag")}},[a,h,u.onDragStart,B]),onDrop:E.useCallback(z=>{if(!a&&oe.hasTarget(h,z.target)&&!Un(z,u.onDrop)){z.preventDefault();var Y=h.selection,Z=oe.findEventRange(h,z),Q=z.dataTransfer;de.select(h,Z),B.isDraggingInternally&&Y&&!ee.equals(Y,Z)&&!M.void(h,{at:Z,voids:!0})&&de.delete(h,{at:Y}),oe.insertData(h,Q),oe.isFocused(h)||oe.focus(h)}},[a,h,u.onDrop,B]),onDragEnd:E.useCallback(z=>{!a&&B.isDraggingInternally&&u.onDragEnd&&oe.hasTarget(h,z.target)&&u.onDragEnd(z)},[a,B,u,h]),onFocus:E.useCallback(z=>{if(!a&&!B.isUpdatingSelection&&oe.hasEditableTarget(h,z.target)&&!Un(z,u.onFocus)){var Y=oe.toDOMNode(h,h),Z=oe.findDocumentOrShadowRoot(h);if(B.latestElement=Z.activeElement,fh&&z.target!==Y){Y.focus();return}Nl.set(h,!0)}},[a,B,h,u.onFocus]),onKeyDown:E.useCallback(z=>{if(!a&&oe.hasEditableTarget(h,z.target)){var Y;(Y=D.current)===null||Y===void 0||Y.handleKeyDown(z);var{nativeEvent:Z}=z;if(oe.isComposing(h)&&Z.isComposing===!1&&(uc.set(h,!1),v(!1)),Un(z,u.onKeyDown)||oe.isComposing(h))return;var{selection:Q}=h,pe=h.children[Q!==null?Q.focus.path[0]:0],ae=WY(_e.string(pe))==="rtl";if(fr.isRedo(Z)){z.preventDefault();var Ce=h;typeof Ce.redo=="function"&&Ce.redo();return}if(fr.isUndo(Z)){z.preventDefault();var Re=h;typeof Re.undo=="function"&&Re.undo();return}if(fr.isMoveLineBackward(Z)){z.preventDefault(),de.move(h,{unit:"line",reverse:!0});return}if(fr.isMoveLineForward(Z)){z.preventDefault(),de.move(h,{unit:"line"});return}if(fr.isExtendLineBackward(Z)){z.preventDefault(),de.move(h,{unit:"line",edge:"focus",reverse:!0});return}if(fr.isExtendLineForward(Z)){z.preventDefault(),de.move(h,{unit:"line",edge:"focus"});return}if(fr.isMoveBackward(Z)){z.preventDefault(),Q&&ee.isCollapsed(Q)?de.move(h,{reverse:!ae}):de.collapse(h,{edge:ae?"end":"start"});return}if(fr.isMoveForward(Z)){z.preventDefault(),Q&&ee.isCollapsed(Q)?de.move(h,{reverse:ae}):de.collapse(h,{edge:ae?"start":"end"});return}if(fr.isMoveWordBackward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)&&de.collapse(h,{edge:"focus"}),de.move(h,{unit:"word",reverse:!ae});return}if(fr.isMoveWordForward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)&&de.collapse(h,{edge:"focus"}),de.move(h,{unit:"word",reverse:ae});return}if(ul){if((tq||Ju)&&Q&&(fr.isDeleteBackward(Z)||fr.isDeleteForward(Z))&&ee.isCollapsed(Q)){var Ie=_e.parent(h,Q.anchor.path);if(Ne.isElement(Ie)&&M.isVoid(h,Ie)&&(M.isInline(h,Ie)||M.isBlock(h,Ie))){z.preventDefault(),M.deleteBackward(h,{unit:"block"});return}}}else{if(fr.isBold(Z)||fr.isItalic(Z)||fr.isTransposeCharacter(Z)){z.preventDefault();return}if(fr.isSoftBreak(Z)){z.preventDefault(),M.insertSoftBreak(h);return}if(fr.isSplitBlock(Z)){z.preventDefault(),M.insertBreak(h);return}if(fr.isDeleteBackward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"backward"}):M.deleteBackward(h);return}if(fr.isDeleteForward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"forward"}):M.deleteForward(h);return}if(fr.isDeleteLineBackward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"backward"}):M.deleteBackward(h,{unit:"line"});return}if(fr.isDeleteLineForward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"forward"}):M.deleteForward(h,{unit:"line"});return}if(fr.isDeleteWordBackward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"backward"}):M.deleteBackward(h,{unit:"word"});return}if(fr.isDeleteWordForward(Z)){z.preventDefault(),Q&&ee.isExpanded(Q)?M.deleteFragment(h,{direction:"forward"}):M.deleteForward(h,{unit:"word"});return}}}},[a,h,u.onKeyDown]),onPaste:E.useCallback(z=>{!a&&oe.hasEditableTarget(h,z.target)&&!Un(z,u.onPaste)&&(!ul||i4e(z.nativeEvent)||Ju)&&(z.preventDefault(),oe.insertData(h,z.clipboardData))},[a,h,u.onPaste])}),V.createElement(o8e,{decorations:U,node:h,renderElement:c,renderPlaceholder:f,renderLeaf:d,selection:h.selection}))))))}),l8e=t=>{var{attributes:e,children:r}=t;return V.createElement("span",_o({},e),r,Hn&&V.createElement("br",null))},u8e=()=>[],c8e=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&ee.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),S$e(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Un=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},y$=t=>yu(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),d8e=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},wq=E.createContext(!1),h8e=()=>E.useContext(wq),f8e=E.createContext({});function p8e(t){var e=E.useRef([]).current,r=E.useRef({editor:t}).current,n=E.useCallback(o=>{r.editor=o,e.forEach(l=>l(o))},[e,r]),s=E.useMemo(()=>({getSlate:()=>r.editor,addEventListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1)})}),[e,r]);return{selectorContext:s,onChange:n}}var g8e=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],m8e=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:s,onValueChange:o,initialValue:l}=t,a=vf(t,g8e),[c,d]=V.useState(()=>{if(!_e.isNodeList(l))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(an.stringify(l)));if(!M.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(an.stringify(e)));return e.children=l,Object.assign(e,a),{v:0,editor:e}}),{selectorContext:f,onChange:g}=p8e(e),m=E.useCallback(u=>{var h;switch(n&&n(e.children),u==null||(h=u.operation)===null||h===void 0?void 0:h.type){case"set_selection":s==null||s(e.selection);break;default:o==null||o(e.children)}d(p=>({v:p.v+1,editor:e})),g(e)},[e,g,n,s,o]);E.useEffect(()=>(xP.set(e,m),()=>{xP.set(e,()=>{})}),[e,m]);var[y,_]=E.useState(oe.isFocused(e));return E.useEffect(()=>{_(oe.isFocused(e))},[e]),Ev(()=>{var u=()=>_(oe.isFocused(e));return eq>=17?(document.addEventListener("focusin",u),document.addEventListener("focusout",u),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",u)}):(document.addEventListener("focus",u,!0),document.addEventListener("blur",u,!0),()=>{document.removeEventListener("focus",u,!0),document.removeEventListener("blur",u,!0)})},[]),V.createElement(f8e.Provider,{value:f},V.createElement(yq.Provider,{value:c},V.createElement(qO.Provider,{value:c.editor},V.createElement(wq.Provider,{value:y},r))))},_$=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},x$=(t,e,r)=>{var n=oe.toDOMRange(t,e).getBoundingClientRect(),s=oe.toDOMRange(t,r).getBoundingClientRect();return _$(n,s)&&_$(s,n)},v8e=(t,e)=>{var r=M.range(t,ee.end(e)),n=Array.from(M.positions(t,{at:e})),s=0,o=n.length,l=Math.floor(o/2);if(x$(t,M.range(t,n[s]),r))return M.range(t,n[s],r);if(n.length<2)return M.range(t,n[n.length-1],r);for(;l!==n.length&&l!==s;)x$(t,M.range(t,n[l]),r)?o=l:s=l,l=Math.floor((s+o)/2);return M.range(t,n[o],r)};function w$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function b$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var y8e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:s,onChange:o,deleteBackward:l,addMark:a,removeMark:c}=n;return Lb.set(n,new WeakMap),n.addMark=(d,f)=>{var g,m;(g=JO.get(n))===null||g===void 0||g(),!Hs.get(n)&&(m=ii.get(n))!==null&&m!==void 0&&m.length&&Hs.set(n,null),Sa.delete(n),a(d,f)},n.removeMark=d=>{var f;!Hs.get(n)&&(f=ii.get(n))!==null&&f!==void 0&&f.length&&Hs.set(n,null),Sa.delete(n),c(d)},n.deleteBackward=d=>{if(d!=="line")return l(d);if(n.selection&&ee.isCollapsed(n.selection)){var f=M.above(n,{match:_=>Ne.isElement(_)&&M.isBlock(n,_),at:n.selection});if(f){var[,g]=f,m=M.range(n,g,n.selection.anchor),y=v8e(n,m);ee.isCollapsed(y)||de.delete(n,{at:y})}}},n.apply=d=>{var f=[],g=[],m=ii.get(n);if(m!=null&&m.length){var y=m.map(O=>_4e(O,d)).filter(Boolean);ii.set(n,y)}var _=wl.get(n);_&&wl.set(n,u$(n,_,d));var u=xl.get(n);if(u!=null&&u.at){var h=gt.isPoint(u==null?void 0:u.at)?EP(n,u.at,d):u$(n,u.at,d);xl.set(n,h?b$(b$({},u),{},{at:h}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{f.push(...kd(n,d.path));break}case"set_selection":{var p;(p=zg.get(n))===null||p===void 0||p.unref(),zg.delete(n);break}case"insert_node":case"remove_node":{f.push(...kd(n,W.parent(d.path)));break}case"merge_node":{var v=W.previous(d.path);f.push(...kd(n,v));break}case"move_node":{var x=W.common(W.parent(d.path),W.parent(d.newPath));f.push(...kd(n,x));var w;W.isBefore(d.path,d.newPath)?(f.push(...kd(n,W.parent(d.path))),w=d.newPath):(f.push(...kd(n,W.parent(d.newPath))),w=d.path);var b=_e.get(e,W.parent(w)),S=oe.findKey(n,b),C=M.pathRef(n,W.parent(w));g.push([C,S]);break}}s(d);for(var[A,T]of f){var[P]=M.node(n,A);Yx.set(P,T)}for(var[B,D]of g)if(B.current){var[R]=M.node(n,B.current);Yx.set(R,D)}},n.setFragmentData=d=>{var{selection:f}=n;if(f){var[g,m]=ee.edges(f),y=M.void(n,{at:g.path}),_=M.void(n,{at:m.path});if(!(ee.isCollapsed(f)&&!y)){var u=oe.toDOMRange(n,f),h=u.cloneContents(),p=h.childNodes[0];if(h.childNodes.forEach(P=>{P.textContent&&P.textContent.trim()!==""&&(p=P)}),_){var[v]=_,x=u.cloneRange(),w=oe.toDOMNode(n,v);x.setEndAfter(w),h=x.cloneContents()}if(y&&(p=h.querySelector("[data-slate-spacer]")),Array.from(h.querySelectorAll("[data-slate-zero-width]")).forEach(P=>{var B=P.getAttribute("data-slate-zero-width")==="n";P.textContent=B?"\n":""}),oq(p)){var b=p.ownerDocument.createElement("span");b.style.whiteSpace="pre",b.appendChild(p),h.appendChild(b),p=b}var S=n.getFragment(),C=JSON.stringify(S),A=window.btoa(encodeURIComponent(C));p.setAttribute("data-slate-fragment",A),d.setData("application/".concat(r),A);var T=h.ownerDocument.createElement("div");return T.appendChild(h),T.setAttribute("hidden","true"),h.ownerDocument.body.appendChild(T),d.setData("text/html",T.innerHTML),d.setData("text/plain",lq(T)),h.ownerDocument.body.removeChild(T),d}}},n.insertData=d=>{n.insertFragmentData(d)||n.insertTextData(d)},n.insertFragmentData=d=>{var f=d.getData("application/".concat(r))||u4e(d);if(f){var g=decodeURIComponent(window.atob(f)),m=JSON.parse(g);return n.insertFragment(m),!0}return!1},n.insertTextData=d=>{var f=d.getData("text/plain");if(f){var g=f.split(/\r\n|\r|\n/),m=!1;for(var y of g)m&&de.splitNodes(n,{always:!0}),n.insertText(y),m=!0;return!0}return!1},n.onChange=d=>{var f=eq<18?D2.unstable_batchedUpdates:g=>g();f(()=>{var g=xP.get(n);g&&g(d),o(d)})},n},kd=(t,e)=>{var r=[];for(var[n,s]of M.levels(t,{at:e})){var o=oe.findKey(t,n);r.push([s,o])}return r},_8e=(t,e)=>{e&&Iu(t,()=>{SDe(t),EO(t,e)}),oe.focus(t)},x8e=t=>oe.isComposing(t),w8e=t=>oe.isFocused(t),b8e=(t,{edge:e="start"}={})=>{const r=e==="start"?MX(t,[]):SO(t,[]);_8e(t,r)},E8e=UO,S8e=Jf,C8e=Tb,E$=Wi,A8e=Ib;function T8e(t,e,r,n){if(!E$(t))return t;e=S8e(e,t);for(var s=-1,o=e.length,l=o-1,a=t;a!=null&&++s<o;){var c=A8e(e[s]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=l){var f=a[c];d=n?n(f,c,a):void 0,d===void 0&&(d=E$(f)?f:C8e(e[s+1])?[]:{})}E8e(a,c,d),a=a[c]}return t}var D8e=T8e,P8e=SY,R8e=D8e,I8e=Jf;function O8e(t,e,r){for(var n=-1,s=e.length,o={};++n<s;){var l=e[n],a=P8e(t,l);r(a,l)&&R8e(o,I8e(l,t),a)}return o}var B8e=O8e,M8e=B8e,F8e=e3e;function k8e(t,e){return M8e(t,e,function(r,n){return F8e(t,n)})}var L8e=k8e,S$=Wf,N8e=Sb,U8e=ao,C$=S$?S$.isConcatSpreadable:void 0;function $8e(t){return U8e(t)||N8e(t)||!!(C$&&t&&t[C$])}var j8e=$8e,z8e=GO,G8e=j8e;function bq(t,e,r,n,s){var o=-1,l=t.length;for(r||(r=G8e),s||(s=[]);++o<l;){var a=t[o];e>0&&r(a)?e>1?bq(a,e-1,r,n,s):z8e(s,a):n||(s[s.length]=a)}return s}var V8e=bq,H8e=V8e;function W8e(t){var e=t==null?0:t.length;return e?H8e(t,1):[]}var K8e=W8e,X8e=K8e,Y8e=sY,q8e=oY;function Z8e(t){return q8e(Y8e(t,void 0,X8e),t+"")}var Eq=Z8e,Q8e=L8e,J8e=Eq,e6e=J8e(function(t,e){return t==null?{}:Q8e(t,e)}),t6e=e6e;const r6e=xn(t6e);var n6e=Object.defineProperty,i6e=Object.defineProperties,s6e=Object.getOwnPropertyDescriptors,qx=Object.getOwnPropertySymbols,Sq=Object.prototype.hasOwnProperty,Cq=Object.prototype.propertyIsEnumerable,A$=(t,e,r)=>e in t?n6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Aq=(t,e)=>{for(var r in e||(e={}))Sq.call(e,r)&&A$(t,r,e[r]);if(qx)for(var r of qx(e))Cq.call(e,r)&&A$(t,r,e[r]);return t},o6e=(t,e)=>i6e(t,s6e(e)),a6e=(t,e)=>{var r={};for(var n in t)Sq.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&qx)for(var n of qx(t))e.indexOf(n)<0&&Cq.call(t,n)&&(r[n]=t[n]);return r},Tq=t=>V.forwardRef((e,r)=>{var n=e,{as:s,asChild:o=!1}=n,l=a6e(n,["as","asChild"]);const a=o?Uo:s||t;return V.createElement(a,Aq({ref:r},l))}),l6e=Tq("div"),u6e=Tq("span"),c6e=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},d6e=(...t)=>e=>t.forEach(r=>c6e(r,e)),nB=(...t)=>V.useCallback(d6e(...t),t);function cKe(t){return V.forwardRef(function(r,n){return V.createElement(t,o6e(Aq({},r),{ref:n}))})}var T$,h6e=typeof window<"u"&&((T$=window.document)==null?void 0:T$.createElement)!==void 0,SC=h6e?V.useLayoutEffect:V.useEffect,f6e=()=>{if(typeof window>"u"||typeof window.addEventListener!="function")return!1;let t=!1;const e=Object.defineProperty({},"passive",{get(){t=!0}}),r=()=>null;return window.addEventListener("test",r,e),window.removeEventListener("test",r,e),t},p6e="ignore-onclickoutside",D$=(t,e)=>{var r;return(r=t.classList)==null?void 0:r.contains(e)},P$=(t,e)=>{let r=t.target||t;for(;r;){if(Array.isArray(e)){if(e.some(n=>D$(r,n)))return!0}else if(D$(r,e))return!0;r=r.parentElement}return!1},g6e=t=>document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY,R$=t=>t.includes("touch")&&f6e()?{passive:!0}:!1,dKe=(t,{detectIFrame:e=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:s,ignoreClass:o=p6e,refs:l}={})=>{const[a,c]=V.useState([]),d=V.useRef(t);d.current=t;const f=V.useCallback(g=>c(m=>[...m,{current:g}]),[]);return V.useEffect(()=>{if(!(l!=null&&l.length)&&a.length===0)return;const g=()=>{const u=[];return(l||a).forEach(({current:h})=>h&&u.push(h)),u},m=u=>{!P$(u,o)&&!(s&&g6e(u))&&g().every(h=>!h.contains(u.target))&&d.current(u)},y=u=>setTimeout(()=>{const{activeElement:h}=document;(h==null?void 0:h.tagName)==="IFRAME"&&!P$(h,o)&&!g().includes(h)&&d.current(u)},0),_=()=>{n.forEach(u=>document.removeEventListener(u,m,R$(u))),e&&window.removeEventListener("blur",y)};if(r){_();return}return n.forEach(u=>document.addEventListener(u,m,R$(u))),e&&window.addEventListener("blur",y),()=>_()},[a,o,s,r,e,JSON.stringify(n)]),f};function hKe(t){return V.forwardRef(t)}function m6e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++n<s;)o[n]=t[n+e];return o}var v6e=m6e,y6e=SY,_6e=v6e;function x6e(t,e){return e.length<2?t:y6e(t,_6e(e,0,-1))}var w6e=x6e,b6e=Jf,E6e=r3e,S6e=w6e,C6e=Ib;function A6e(t,e){return e=b6e(e,t),t=S6e(t,e),t==null||delete t[C6e(E6e(e))]}var T6e=A6e,D6e=JX;function P6e(t){return D6e(t)?void 0:t}var R6e=P6e,I6e=gY,O6e=UY,B6e=T6e,M6e=Jf,F6e=Zf,k6e=R6e,L6e=Eq,N6e=FY,U6e=1,$6e=2,j6e=4,z6e=L6e(function(t,e){var r={};if(t==null)return r;var n=!1;e=I6e(e,function(o){return o=M6e(o,t),n||(n=o.length>1),o}),F6e(t,N6e(t),r),n&&(r=O6e(r,U6e|$6e|j6e,k6e));for(var s=e.length;s--;)B6e(r,e[s]);return r}),G6e=z6e;const V6e=xn(G6e);var I$=Object.prototype.hasOwnProperty;function O$(t,e,r){for(r of t.keys())if(Vg(r,e))return r}function Vg(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Vg(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=O$(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=O$(e,s),!s)||!Vg(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(I$.call(t,r)&&++n&&!I$.call(e,r)||!(r in e)||!Vg(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function H6e(t){const e=V.useRef(t),r=V.useRef(0);return Vg(t,e.current)||(e.current=t,r.current+=1),V.useMemo(()=>e.current,[r.current])}function B$(t,e){return V.useMemo(t,H6e(e))}globalThis&&globalThis.__rest;const Ha=t=>t,iB=t=>({_tag:"Left",value:t}),Nb=t=>({_tag:"Right",value:t}),W6e=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),Dq={dimap:(t,e,r)=>n=>e(r(t(n))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:Nb(t(e.value)),wander:t=>e=>e.map(t)},K6e={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const n=t(e[r]);if(n!=null)return n}}},X6e={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(n=>{r=r.concat(t(n))}),r}},sB=t=>({dimap:(e,r,n)=>s=>n(e(s)),first:e=>([r,n])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),CC={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},tp=(t,e)=>{const r=e;return r._tag=t,r},Pq=t=>(t._removable=!0,t);function Dt(t,e,r){switch(arguments.length){case 2:{const n=(s,o)=>t(s,e(s,o));return n._tag=CC[t._tag][e._tag],n._removable=e._removable||!1,n}default:{const n=CC[t._tag][e._tag],s=(o,l)=>t(o,e(o,r(o,l)));return s._tag=CC[n][r._tag],s._removable=r._removable||!1,s}}}const Y6e=tp("Equivalence",(t,e)=>e),Ub=(t,e)=>tp("Iso",(r,n)=>r.dimap(t,e,n)),Ki=(t,e)=>tp("Lens",(r,n)=>r.dimap(s=>[t(s),s],e,r.first(n))),oB=(t,e)=>tp("Prism",(r,n)=>r.dimap(t,s=>W6e(Ha,e,s),r.right(n))),aB=tp("Traversal",(t,e)=>t.dimap(Ha,Ha,t.wander(e))),q6e=t=>tp("Getter",(e,r)=>e.dimap(t,Ha,r)),Rq=(t,e,r)=>t(Dq,e)(r),Z6e=(t,e,r)=>t(Dq,()=>e)(r),Q6e=(t,e)=>t(sB({}),Ha)(e),J6e=(t,e)=>t(sB(K6e),Ha)(e),Iq=(t,e)=>t(sB(X6e),r=>[r])(e),eje=Ub(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((n,s)=>n[0]-s[0]),r=[];for(let n=0;n<e.length;++n)(n===e.length-1||e[n][0]!==e[n+1][0])&&r.push(e[n][1]);return r}),M$=t=>Ki(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),tje=t=>Ki(e=>{const r={};for(const n of t)r[n]=e[n];return r},([e,r])=>{const n=Object.assign({},r);for(const s of t)delete n[s];return Object.assign(n,e)}),Oq=t=>Ki(e=>e[t],([e,r])=>{const n=r.slice();return n[t]=e,n}),lB=Oq(0),uB=t=>oB(e=>t(e)?Nb(e):iB(e),Ha),Sv=Symbol("__no_match__"),Bq=uB(t=>t!==Sv),Mq=Symbol("__remove_me__"),AC=t=>Pq(Dt(Ki(e=>0<=t&&t<e.length?e[t]:Sv,([e,r])=>{if(e===Sv)return r;if(e===Mq)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const n=r.slice();return n[t]=e,n}}),Bq)),rje=oB(t=>t===void 0?iB(void 0):Nb(t),Ha),nje=t=>oB(e=>t(e)?Nb(e):iB(e),Ha),ije=t=>Pq(Dt(Ki(e=>{const r=e.findIndex(t);return r===-1?[Sv,-1]:[e[r],r]},([[e,r],n])=>{if(e===Sv)return n;if(e===Mq)return[...n.slice(0,r),...n.slice(r+1)];const s=n.slice();return s[r]=e,s}),lB,Bq)),sje=t=>Dt(Ki(e=>{const r=e.map((n,s)=>t(n)?s:null).filter(n=>n!=null);return[r.map(n=>e[n]),r]},([[e,r],n])=>{const s=n.length,o=e.length;let l=0,a=0,c=0;const d=[];for(;l<s;)r[a]===l?(++a,c<o&&(d.push(e[c]),++c)):d.push(n[l]),++l;for(;c<o;)d.push(e[c++]);return d}),lB),oje=t=>Ki(e=>e===void 0?t:e,([e,r])=>e),aje=t=>Dt(Ki(e=>{const r=Iq(t,e);return[r,r.length]},([[e,r],n])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let s=0;return Rq(t,()=>e[s++],n)}),lB),lje=t=>Ki(e=>t(e),([e,r])=>e),uje=t=>Ki(e=>e,([e,r])=>t(e)),cje=Ki(t=>{},([t,e])=>t===void 0?e:[t,...e]),dje=Ki(t=>{},([t,e])=>t===void 0?e:[...e,t]),hje=Dt(Ub(t=>t.split(""),t=>t.join("")),aB),fje=Dt(Ub(t=>t.split(/\b/),t=>t.join("")),aB,uB(t=>!/\s+/.test(t)));class Nt{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Nt(Dt(this._ref,e._ref))}iso(e,r){return new Nt(Dt(this._ref,Ub(e,r)))}lens(e,r){return new Nt(Dt(this._ref,Ki(e,([n,s])=>r(s,n))))}indexed(){return new Nt(Dt(this._ref,eje))}prop(e){return new Nt(Dt(this._ref,M$(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new Nt(e.reduce((r,n)=>Dt(r,M$(n)),this._ref))}pick(e){return new Nt(Dt(this._ref,tje(e)))}nth(e){return new Nt(Dt(this._ref,Oq(e)))}filter(e){return new Nt(Dt(this._ref,sje(e)))}valueOr(e){return new Nt(Dt(this._ref,oje(e)))}partsOf(e){const r=typeof e=="function"?e(Fq):e;return new Nt(Dt(this._ref,aje(r._ref)))}reread(e){return new Nt(Dt(this._ref,lje(e)))}rewrite(e){return new Nt(Dt(this._ref,uje(e)))}optional(){return new Nt(Dt(this._ref,rje))}guard_(){return e=>this.guard(e)}guard(e){return new Nt(Dt(this._ref,nje(e)))}at(e){return new Nt(Dt(this._ref,AC(e)))}head(){return new Nt(Dt(this._ref,AC(0)))}index(e){return new Nt(Dt(this._ref,AC(e)))}find(e){return new Nt(Dt(this._ref,ije(e)))}elems(){return new Nt(Dt(this._ref,aB))}to(e){return new Nt(Dt(this._ref,q6e(e)))}when(e){return new Nt(Dt(this._ref,uB(e)))}chars(){return new Nt(Dt(this._ref,hje))}words(){return new Nt(Dt(this._ref,fje))}prependTo(){return new Nt(Dt(this._ref,cje))}appendTo(){return new Nt(Dt(this._ref,dje))}}const Fq=new Nt(Y6e);function pje(){return Fq}function gje(t){return e=>Q6e(t._ref,e)}function mje(t){return e=>J6e(t._ref,e)}function vje(t){return e=>Iq(t._ref,e)}function yje(t){return e=>r=>Rq(t._ref,e,r)}function _je(t){return e=>r=>Z6e(t._ref,e,r)}const F$=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),xje=new WeakMap,wje=(t,e,r)=>{const n=F$(()=>new WeakMap,xje,e);return F$(t,n,r)},bje=t=>typeof t=="function";function Eje(t,e){return wje(()=>{const r=e(pje());return Fo(s=>{const o=s(t);return o instanceof Promise?o.then(l=>k$(r,l)):k$(r,o)},(s,o,l)=>{const a=bje(l)?yje(r)(l):_je(r)(l),c=s(t);return o(t,c instanceof Promise?c.then(a):a(c))})},t,e)}const k$=(t,e)=>t._tag==="Traversal"?vje(t)(e):t._tag==="Prism"?mje(t)(e):gje(t)(e);var Sje=Object.defineProperty,Cje=Object.defineProperties,Aje=Object.getOwnPropertyDescriptors,Zx=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Lq=Object.prototype.propertyIsEnumerable,L$=(t,e,r)=>e in t?Sje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,we=(t,e)=>{for(var r in e||(e={}))kq.call(e,r)&&L$(t,r,e[r]);if(Zx)for(var r of Zx(e))Lq.call(e,r)&&L$(t,r,e[r]);return t},_t=(t,e)=>Cje(t,Aje(e)),lo=(t,e)=>{var r={};for(var n in t)kq.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Zx)for(var n of Zx(t))e.indexOf(n)<0&&Lq.call(t,n)&&(r[n]=t[n]);return r};function Nq(t){var e=t,{attributes:r,children:n,editor:s,leaf:o,nodeProps:l,text:a}=e,c=lo(e,["attributes","children","editor","leaf","nodeProps","text"]);return V.createElement("span",we(we({},r),c),n)}var Tje=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:fKe,plateControllerStore:K_,usePlateControllerStore:cB}=vO({activeId:Fo(null),editorStores:Fo({}),primaryEditorIds:Fo([])},{name:"plateController"}),Dje=()=>cB().get,TC=()=>cB().set,Pje=()=>!!cB().store({warnIfNoStore:!1}),Rje=t=>{const e=V.useMemo(()=>Fo(r=>{const n=r(K_.atom.editorStores),s=l=>{var a;return l&&(a=n[l])!=null?a:null};if(t)return s(t);const o=[r(K_.atom.activeId),...r(K_.atom.primaryEditorIds)];for(const l of o){const a=s(l);if(a)return a}return null}),[t]);return Dje().atom(e)},Ije=(t={})=>{var e=t,{id:r,decorate:n=null,editor:s,isMounted:o=!1,primary:l=!0,readOnly:a=null,renderElement:c=null,renderLeaf:d=null,versionDecorate:f=1,versionEditor:g=1,versionSelection:m=1,versionValue:y=1,onChange:_=null,onSelectionChange:u=null,onValueChange:h=null}=e,p=lo(e,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return vO(we({decorate:n,editor:s,isMounted:o,primary:l,readOnly:a,renderElement:c,renderLeaf:d,versionDecorate:f,versionEditor:g,versionSelection:m,versionValue:y,onChange:_,onSelectionChange:u,onValueChange:h},p),{extend:v=>({trackedEditor:Fo(x=>({editor:x(v.editor),version:x(v.versionEditor)})),trackedSelection:Fo(x=>({selection:x(v.editor).selection,version:x(v.versionSelection)})),trackedValue:Fo(x=>({value:x(v.editor).children,version:x(v.versionValue)}))}),name:"plate"})},{PlateProvider:Oje,plateStore:pKe,usePlateStore:yy}=Ije(),Uq=(t,{debugHookName:e="usePlateEditorStore"}={})=>{var r;const n=(r=yy(t).store({warnIfNoStore:!1}))!=null?r:null,[s]=V.useState(!!n),o=s?n:Rje(t),l=Pje(),a=V.useMemo(()=>iP(),[]);if(!o){if(l)return a;throw new Error("".concat(e," must be used inside a Plate or PlateController"))}return o},Ql=(t,e)=>{const r=Uq(t,we({debugHookName:"usePlateSelectors"},e));return yy({store:r}).get},$q=(t,e)=>{const r=Uq(t,we({debugHookName:"usePlateActions"},e));return yy({store:r}).set},CP=(t,e,r={})=>{const n=V.useRef(1),s=$q(e,we({debugHookName:"useIncrementVersion"},r))[t]();return V.useCallback(()=>{const o=n.current+1;s(o),n.current=o},[s])},Bje=(t,e={})=>{const r=CP("versionDecorate",t,we({debugHookName:"useRedecorate"},e));return V.useCallback(()=>{r()},[r])},Mje=()=>Ql(void 0,{debugHookName:"useEditorId"}).editor().id;function Pa(t,...e){return cY({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return we(we({},r),n)})}function Ld(t){return typeof t=="function"}function ar(t={}){var e;let r,n;Ld(t)?(r={key:""},n=l=>t(l)):r=t;const s=(e=r.key)!=null?e:"",o=Pa({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=l=>{const a=we({},o);return a.__configuration=c=>Ld(l)?l(c):l,ar(a)},o.configurePlugin=(l,a)=>{const c=we({},o),d=g=>{let m=!1;const y=g.map(_=>{if(_.key===l.key)return m=!0,ar(_t(we({},_),{__configuration:u=>Ld(a)?a(u):a}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return m=!0,_t(we({},_),{plugins:u.plugins})}return _});return{found:m,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,ar(c)},o.extendEditorApi=l=>{const a=we({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!1}],ar(a)},o.extendOptions=l=>{const a=we({},o);return a.__optionExtensions=[...a.__optionExtensions,l],ar(a)},o.extendApi=l=>{const a=we({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!0}],ar(a)},o.extendEditorTransforms=l=>{const a=we({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!1,isTransform:!0}],ar(a)},o.extendTransforms=l=>{const a=we({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!0,isTransform:!0}],ar(a)},o.extend=l=>{let a=we({},o);return Ld(l)?a.__extensions=[...a.__extensions,l]:a=Pa(a,l),ar(a)},o.clone=()=>Pa(o),o.extendPlugin=(l,a)=>{const c=we({},o),d=g=>{let m=!1;const y=g.map(_=>{if(_.key===l.key)return m=!0,ar(_t(we({},_),{__extensions:[..._.__extensions,u=>Ld(a)?a(u):a]}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return m=!0,_t(we({},_),{plugins:u.plugins})}return _});return{found:m,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push(ar({key:l.key,__extensions:[g=>Ld(a)?a(g):a]})),ar(c)},o}function dB(t={}){return ar(t)}var jq=({apply:t,node:e,path:r=[],query:n,source:s})=>{gy([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),LX(e)&&e.children.forEach((l,a)=>{jq({apply:t,node:l,path:r.concat([a]),query:n,source:s})})},zq=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},Fje=(t,e)=>{var r;const n=Object.values(t.plugins).find(s=>s.node.type===e);return(r=n==null?void 0:n.key)!=null?r:e},kje={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},Lje={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Nje={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Qt=t=>{const e=kje[t],r=Lje[t],n=Nje[t],s=e&&kh(e),o=r&&kh(r),l=n&&kh(n);return a=>!!(s!=null&&s(a)||Fx&&(o!=null&&o(a))||!Fx&&(l!=null&&l(a)))},Uje={isBold:Qt("bold"),isCompose:Qt("compose"),isDeleteBackward:Qt("deleteBackward"),isDeleteForward:Qt("deleteForward"),isDeleteLineBackward:Qt("deleteLineBackward"),isDeleteLineForward:Qt("deleteLineForward"),isDeleteWordBackward:Qt("deleteWordBackward"),isDeleteWordForward:Qt("deleteWordForward"),isExtendBackward:Qt("extendBackward"),isExtendForward:Qt("extendForward"),isExtendLineBackward:Qt("extendLineBackward"),isExtendLineForward:Qt("extendLineForward"),isItalic:Qt("italic"),isMoveBackward:Qt("moveBackward"),isMoveForward:Qt("moveForward"),isMoveLineBackward:Qt("moveLineBackward"),isMoveLineForward:Qt("moveLineForward"),isMoveWordBackward:Qt("moveWordBackward"),isMoveWordForward:Qt("moveWordForward"),isRedo:Qt("redo"),isSoftBreak:Qt("insertSoftBreak"),isSplitBlock:Qt("splitBlock"),isTransposeCharacter:Qt("transposeCharacter"),isUndo:Qt("undo")},$je=t=>{jq(_t(we({},t),{apply:ks}))};function cn(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}var jje=ar({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}}),zje=ar({key:"dom"}),Gje=({editor:t})=>PX(t),Vje=ar({key:"history",extendEditor:Gje}),Hje=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],l=[];return t.pluginList.forEach(a=>{a.node.isInline&&o.push(a.node.type),a.node.isVoid&&s.push(a.node.type),a.node.isMarkableVoid&&l.push(a.node.type)}),t.isInline=a=>o.includes(a.type)?!0:e(a),t.isVoid=a=>s.includes(a.type)?!0:r(a),t.markableVoid=a=>l.includes(a.type)?!0:n(a),t},Wje=ar({key:"inlineVoid",extendEditor:Hje}),Kje=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const l=zq(t,s),{deserialize:a,format:c,mimeTypes:d}=o;if(!c)return!1;const f=Array.isArray(c)?c:[c],g=d||f.map(m=>m.includes("/")?m:"text/".concat(m));for(const m of g){let y=r.getData(m);if(!y||!R5e(t,l,{data:y,dataTransfer:r}))continue;y=B5e(t,l,{data:y,dataTransfer:r});let _=a==null?void 0:a(_t(we({},cn(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=M5e(t,l,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return I5e(t,l,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t},Xje=ar({key:"parser",extendEditor:Kje}),Yje=class extends Error{constructor(e,r="DEFAULT"){super("[".concat(r,"] ").concat(e)),this.type=r,this.name="PlateError"}},qje=dB({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,l)=>{var a,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new Yje(s,o);(c=(a=d.logger)[n])==null||c.call(a,s,o,l)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}}),Zje=(t,e)=>{Bb(t,we({at:[],nodes:t.api.create.value()},e))},Qje=t=>{Zje(t),t.history.undos=[],t.history.redos=[],t.operations=[]},Jje=(t,e,r)=>{var n;const{defaultType:s=t.getType(_y),type:o}=e,l=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!l)return;const a=UX(t,_t(we({},r),{match:{type:o}}));a&&o===s||t.setNodes({type:a?s:o},{at:l})},_y=ar({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),e5e=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{DY(t)&&PY(t)};return t.deleteBackward=l=>{r(l),o()},t.deleteForward=l=>{n(l),o()},t.deleteFragment=l=>{s(l),o()},t.apply=l=>{if(l.type==="set_selection"){const{properties:a}=l;t.prevSelection=a,e(l),t.currentKeyboardEvent=null;return}e(l)},t},Gq=dB({key:"slateNext",extendEditor:e5e}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>we({children:[{text:""}],type:t.getType(_y)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{Qje(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),Bb(t,{at:[],nodes:r})},toggle:{block:gf(Jje,t),mark:gf(RY,t)}})),$b=t=>t.nodeType===Node.ELEMENT_NODE,Vq=t=>t.nodeType===Node.TEXT_NODE,t5e=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),hB=t=>{if(!$b(t))return!1;const e=t,r=t5e.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?hB(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},N$=t=>$b(t)?!hB(t):!1,r5e=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),n5e=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&N$(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||N$(e))return!0;if((e.textContent||"").length>0)return!1}},i5e=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},U$=t=>{t.inlineFormattingContext=null},s5e=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&i5e(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),l=(()=>s==="normal"?"collapse":n5e(t)?"single-newline":"collapse")(),a={normal:!0,pre:!1,"pre-line":!0}[s],d=r5e(r||"",{shouldCollapseWhiteSpace:a,trimEnd:l,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&a&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},o5e=(t,e)=>{if($b(t)){Wq(t,e);return}if(Vq(t)){s5e(t,e);return}Hq(t,e)},Hq=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)o5e(n,e)},a5e=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},Wq=(t,e)=>{const r=hB(t),n=e.whiteSpaceRule,s=a5e(t);s&&(e.whiteSpaceRule=s),r||U$(e),Hq(t,e),r||U$(e),e.whiteSpaceRule=n},l5e=t=>{const e=t.cloneNode(!0);return Wq(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},fB=(t,e)=>Array.from(e.childNodes).flatMap(Xq(t)),u5e=(t,e)=>{if(e.nodeName==="BODY")return ep("fragment",{},fB(t,e))},c5e=t=>{if(t.nodeName==="BR")return"\n"},Kq=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:l,isLeaf:a,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:g,isElement:m,isLeaf:y,query:_,rules:u}=f;let{parse:h}=f;const p=m||l,v=y||a;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:C,validNodeName:A="*",validStyle:T})=>{var P;if(A){const B=Zl(A);if(B.length>0&&!B.includes(n.nodeName)&&A!=="*")return!1}if(C&&!n.classList.contains(C))return!1;if(T)for(const[B,D]of Object.entries(T)){if(!Zl(D).includes(n.style[B])&&D!=="*"||D==="*"&&!n.style[B])return;const O=(P=e.inject.nodeProps)==null?void 0:P.defaultNodeValue;if(O&&O===n.style[B])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[B,D]of Object.entries(S)){const R=Zl(D),O=n.getAttribute(B);if(!dd(O)||!R.includes(O))return!1}return!0})||_&&!_(_t(we({},cn(t,e)),{element:n})))return;if(!h)if(p)h=()=>({type:c});else if(v)h=()=>({[c]:!0});else return;let x=(o=h(_t(we({},cn(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(x).length===0)return;if(zq(t,e).forEach(b=>{var S,C,A,T;const P=(T=(A=(C=(S=b.parsers)==null?void 0:S.html)==null?void 0:C.deserializer)==null?void 0:A.parse)==null?void 0:T.call(A,_t(we({},cn(t,e)),{element:n,node:x}));P&&(x=we(we({},x),P))}),g){const b={},S=n.getAttributeNames();for(const C of S)g.includes(C)&&(b[C]=n.getAttribute(C));Object.keys(b).length>0&&(x.attributes=b)}return _t(we({},f),{node:x})},d5e=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=Kq(t,n,{element:e}),!!r)),r},h5e=(t,e)=>{var r;const n=d5e(t,e);if(n){const{node:s,withoutChildren:o}=n;let l=(r=s.children)!=null?r:fB(t,e);return(l.length===0||o)&&(l=[{text:""}]),ep("element",s,l)}},f5e=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=Kq(t,n,{deserializeLeaf:!0,element:e});s&&(r=we(we({},r),s.node))}),r},p5e=(t,e)=>{const r=f5e(t,e);return fB(t,e).reduce((n,s)=>{if(!s)return n;if(Ja(s))Object.keys(r).length>0&&$je({node:s,query:{filter:([o])=>vu(o)},source:r}),n.push(s);else{const o=we({},r);vu(s)&&s.text&&Object.keys(o).forEach(l=>{o[l]&&s[l]&&(o[l]=s[l])}),n.push(ep("text",o,s))}return n},[])},g5e=t=>{if(Vq(t))return t.textContent||""},Xq=t=>e=>{const r=g5e(e);if(r)return r;if(!$b(e))return null;const n=c5e(e);if(n)return n;const s=u5e(t,e);if(s)return s;const o=h5e(t,e);return o||p5e(t,e)},m5e=(t,e)=>Xq(t)(e),v5e=t=>{const e=document.createElement("body");return e.innerHTML=t,e},y5e=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=v5e(r)),e&&(r=l5e(r));const n=m5e(t,r);return D5e(t,{descendants:n})},_5e=t=>new DOMParser().parseFromString(t,"text/html"),x5e=ar({key:"html"}).extendApi(({editor:t})=>({deserialize:gf(y5e,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=_5e(e);return t.html.deserialize({element:r.body})},format:"text/html"}}),w5e=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Iu(t,()=>{r(n);const s=e();if(s.maxLength){const o=FX(t,[]).length;if(o>s.maxLength){const l=o-s.maxLength;t.delete({distance:l,reverse:!0,unit:"character"})}}})},t},$$=dB({key:"length",extendEditor:w5e}),b5e=({maxLength:t,plugins:e=[]})=>{let r=[qje,Gq,zje,Vje,Wje,Xje,t?$$.configure({options:{maxLength:t}}):$$,x5e,jje,_y];const n=new Map(e.map(s=>[s.key,s]));return r=r.map(s=>{const o=n.get(s.key);if(o){const l=e.findIndex(a=>a.key===s.key);return l!==-1&&e.splice(l,1),o}return s}),r},E5e=t=>e=>vu(e)||Ja(e)&&t.isInline(e),S5e=t=>()=>({children:[],type:t}),C5e=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),A5e=(t,e,r)=>{const n=C5e(t,e),{fragment:s}=t.reduce((o,l)=>{if(n&&e(l)){let a=o.precedingBlock;a||(a=r(),o.precedingBlock=a,o.fragment.push(a)),a.children.push(l)}else o.fragment.push(l),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},T5e=t=>t.length===0?[{text:""}]:t,Yq=(t,e,r)=>(t=T5e(t),t=A5e(t,e,r),t=t.map(n=>Ja(n)?_t(we({},n),{children:Yq(n.children,e,r)}):n),t),D5e=(t,{descendants:e})=>{const r=E5e(t),n=t.getType(_y),s=S5e(n);return Yq(e,r,s)},P5e=(t,e,r)=>{var n,s,o,l;const{key:a,inject:{nodeProps:c,targetPlugins:d}}=e,{className:f,element:g,style:m,text:y}=r,_=g!=null?g:y;if(!_||!c)return;const{classNames:u,defaultNodeValue:h,nodeKey:p=a,query:v,styleKey:x=p,transformClassName:w,transformNodeValue:b,transformProps:S,transformStyle:C,validNodeValues:A}=c,T=v==null?void 0:v(_t(we(we({},c),cn(t,e)),{nodeProps:r}));if(!T&&d&&Ja(_)&&_.type&&!d.includes(Fje(t,_.type)))return;const P=_[p];if(!T&&(!dd(P)||A&&!A.includes(P)||P===h))return;const B=_t(we(we({},r),cn(t,e)),{nodeValue:P}),D=(n=b==null?void 0:b(B))!=null?n:P;B.value=D;let R={};return g&&(R.className=um(f,"slate-".concat(p,"-").concat(P))),(u!=null&&u[P]||w)&&(R.className=(s=w==null?void 0:w(B))!=null?s:um(f,u==null?void 0:u[D])),x&&(R.style=(o=C==null?void 0:C(B))!=null?o:_t(we({},m),{[x]:D})),S&&(R=(l=S(_t(we({},B),{props:R})))!=null?l:R),R},qq=(t,e)=>(t.pluginList.forEach(r=>{if(r.inject.nodeProps){const n=P5e(t,r,e);n&&(e=we(we({},e),n))}}),_t(we({},e),{editor:t})),R5e=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const l=(o=s.parser)==null?void 0:o.query;return!l||l(_t(we({},cn(t,s)),{data:r,dataTransfer:n}))}),I5e=(t,e,r)=>{var n=r,{fragment:s}=n,o=lo(n,["fragment"]);Iu(t,()=>{e.some(l=>{var a,c;return((c=(a=l.parser)==null?void 0:a.preInsert)==null?void 0:c.call(a,we(_t(we({},cn(t,l)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},O5e=t=>{const e=t.children;let r=oUe(e);t.pluginList.forEach(n=>{var s;const o=(s=n.normalizeInitialValue)==null?void 0:s.call(n,_t(we({},cn(t,n)),{value:r}));o&&(r=o)}),!cUe(e,r)&&r&&(t.children=r)},B5e=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const l=(o=s.parser)==null?void 0:o.transformData;l&&(r=l(_t(we({},cn(t,s)),{data:r,dataTransfer:n})))}),r),M5e=(t,e,r)=>{var n=r,{fragment:s}=n,o=lo(n,["fragment"]);return e.forEach(l=>{var a;const c=(a=l.parser)==null?void 0:a.transformFragment;c&&(s=c(we(we({fragment:s},o),cn(t,l))))}),s},Zq=(t,e)=>{var r,n,s,o;let l=Pa({},e);if(l.__resolved=!0,l.__configuration){const d=l.__configuration(cn(t,l));l=Pa(l,d),delete l.__configuration}l.__extensions&&l.__extensions.length>0&&(l.__extensions.forEach(d=>{l=Pa(l,d(cn(t,l)))}),l.__extensions=[]);const a=(r=l.inject)==null?void 0:r.targetPluginToInject,c=(n=l.inject)==null?void 0:n.targetPlugins;return a&&c&&c.length>0&&(l.inject=l.inject||{},l.inject.plugins=ks({},l.inject.plugins,Object.fromEntries(c.map(d=>{const f=a(_t(we({},cn(t,l)),{targetPlugin:d}));return[d,f]})))),(s=l.node)!=null&&s.component&&(l.render.node=l.node.component),(o=l.render)!=null&&o.node&&(l.node.component=l.render.node),F5e(t,l),l},F5e=(t,e)=>{e.__extensions||t.api.debug.error("Invalid plugin '".concat(e.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),e.node.isElement&&e.node.isLeaf&&t.api.debug.error("Plugin ".concat(e.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")},k5e=(t,e=[])=>{t.pluginList=[],t.plugins={},t.api={},t.transforms={},t.tf=t.transforms,t.shortcuts={};const r=$5e(t,e);return j5e(t,r),z5e(t),L5e(t),N5e(t),t.pluginList.forEach(n=>{n.extendEditor&&(t=n.extendEditor(cn(t,n)))}),t},L5e=t=>{t.pluginList.forEach(e=>{let r=GY(e.key)(e.options,{immer:{enableMapSet:!0}});e.__optionExtensions&&e.__optionExtensions.length>0&&e.__optionExtensions.forEach(n=>{const s=n(cn(t,e));r=r.extendSelectors(()=>s)}),e.optionsStore=r})},N5e=t=>{const e=[];t.pluginList.forEach(r=>{Object.entries(r.api).forEach(([n,s])=>{t.api[n]=s}),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach(({extension:n,isPluginSpecific:s,isTransform:o})=>{const l=n(cn(t,r));o?s?(t.transforms[r.key]||(t.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),ks(t.transforms[r.key],l),ks(r.transforms[r.key],l)):(ks(t.transforms,l),ks(r.transforms,l)):s?(t.api[r.key]||(t.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),ks(t.api[r.key],l),ks(r.api[r.key],l)):(ks(t.api,l),ks(r.api,l))}),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach(([n,s])=>{var o;if(s===null){const l=e.findIndex(a=>a.key===n);l!==-1&&e.splice(l,1)}else{const l=(o=s.priority)!=null?o:r.priority,a=e.findIndex(c=>c.key===n);(a===-1||l>=e[a].priority)&&(a!==-1&&e.splice(a,1),e.push({key:n,hotkey:s,priority:l}))}})}),e.sort((r,n)=>n.hotkey.priority-r.hotkey.priority),t.shortcuts=Object.fromEntries(e.map(({key:r,hotkey:n})=>{const s=n,o=lo(s,["priority"]);return[r,o]}))},U5e=(t,e)=>{const r=new Map,n=s=>{const o=Zq(t,s),l=r.get(o.key);l?r.set(o.key,Pa(l,o)):r.set(o.key,o),o.plugins&&o.plugins.length>0&&o.plugins.forEach(n)};return e.forEach(n),r},$5e=(t,e)=>{const r=U5e(t,e),n=Array.from(r.values()).filter(a=>a.enabled!==!1);n.sort((a,c)=>c.priority-a.priority);const s=[],o=new Set,l=a=>{var c;o.has(a.key)||(o.add(a.key),(c=a.dependencies)==null||c.forEach(d=>{const f=r.get(d);f?l(f):t.api.debug.warn('Plugin "'.concat(a.key,'" depends on missing plugin "').concat(d,'"'),"PLUGIN_DEPENDENCY_MISSING")}),s.push(a))};return n.forEach(l),s},j5e=(t,e)=>{t.pluginList=e,t.plugins=Object.fromEntries(e.map(r=>[r.key,r]))},z5e=t=>{const e=r=>{let n=[...r];const s={},o={},l={};for(const a of r)a.override.enabled&&Object.assign(s,a.override.enabled),a.override.components&&Object.entries(a.override.components).forEach(([c,d])=>{(!o[c]||a.priority>o[c].priority)&&(o[c]={component:d,priority:a.priority})}),a.override.plugins&&Object.entries(a.override.plugins).forEach(([c,d])=>{l[c]=Pa(l[c],d),d.enabled!==void 0&&(s[c]=d.enabled)});return n=n.map(a=>{var c;let d=we({},a);l[a.key]&&(d=Pa(d,l[a.key])),o[a.key]&&(!a.render.node&&!a.node.component||o[a.key].priority>a.priority)&&(d.render.node=o[a.key].component,d.node.component=o[a.key].component);const f=(c=s[a.key])!=null?c:d.enabled;return dd(f)&&(d.enabled=f),d}),n.filter(a=>a.enabled!==!1).map(a=>_t(we({},a),{plugins:e(a.plugins||[])}))};t.pluginList=e(t.pluginList),t.plugins=Object.fromEntries(t.pluginList.map(r=>[r.key,r]))},G5e=t=>"slate-".concat(t);function V5e(t,e){let r=e;const n=t.plugins[e.key];return n||(r.node||(r=ar(r)),r.__resolved?r:Zq(t,r))}function H5e(t,e){var r,n;const s=t.getPlugin(e);return(n=(r=s.node.type)!=null?r:s.key)!=null?n:""}var W5e=(t,e={})=>{var r=e,{id:n,autoSelect:s,maxLength:o,plugins:l=[],rootPlugin:a,selection:c,shouldNormalizeEditor:d,value:f}=r,g=lo(r,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]),m,y;const _=t;_.id=n!=null?n:_.id,_.key=(m=_.key)!=null?m:Math.random(),_.isFallback=!1,_.getApi=()=>_.api,_.getTransforms=()=>_.transforms,_.getPlugin=p=>V5e(_,p),_.getType=p=>H5e(_,p),_.getInjectProps=p=>{var v,x;return(x=(v=_.getPlugin(p).inject)==null?void 0:v.nodeProps)!=null?x:{}},_.getOptionsStore=p=>_.getPlugin(p).optionsStore,_.getOptions=p=>_.getOptionsStore(p)?_.getOptionsStore(p).get.state():_.getPlugin(p).options,_.getOption=(p,v,...x)=>{const w=_.getOptionsStore(p);if(!w)return _.getPlugin(p).options[v];const b=w.get[v];if(b)return b(...x);_.api.debug.error("editor.getOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},_.setOption=(p,v,x)=>{const w=_.getOptionsStore(p);if(!w)return;const b=w.set[v];b?b(x):_.api.debug.error("editor.setOption: ".concat(v," option is not defined in plugin ").concat(p.key,"."),"OPTION_UNDEFINED")},_.setOptions=(p,v)=>{const x=_.getOptionsStore(p);x&&(typeof v=="object"?x.set.mergeState(v):typeof v=="function"&&x.set.state(v))};const u=b5e({maxLength:o,plugins:l});let h=ar(_t(we({key:"root",priority:1e4},g),{plugins:[...u,...l]}));if(a&&(h=a(h)),k5e(_,[h]),typeof f=="string"?_.children=_.api.html.deserialize({element:f}):f&&(_.children=f),((y=_.children)==null?void 0:y.length)===0&&(_.children=_.api.create.value()),c)_.selection=c;else if(s){const v=(s==="start"?"start":"end")==="start"?MX(_,[]):SO(_,[]);EO(_,v)}return f&&O5e(_),d&&_De(_,{force:!0}),_},K5e=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function jb(t,e){const r=we({},t);return K5e.forEach(s=>{const o=r[s];r[s]=(...l)=>{const a=o(...l);return jb(a)}}),r.withComponent=s=>r.extend({node:{component:s},render:{node:s}}),e?r.extend(e):r}var Qq=(t={})=>{const e=ar(t);return jb(e)};function X5e(t={}){return Qq(t)}function rp(t,e){return _t(we({},cn(t,e)),{useOption:(r,...n)=>t.useOption(e,r,...n)})}var Jq=t=>lo(t,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),Y5e=X5e({key:"plateApi",dependencies:["debug"]}).extendEditorApi(({editor:t})=>({redecorate:()=>{t.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})),q5e=jb(Gq,{handlers:{onKeyDown:({editor:t,event:e})=>{e.persist(),t.currentKeyboardEvent=e}}}),pB=GY("event-editor")({blur:null,focus:null,last:null}),DC=pB.set,Z5e=pB.get;pB.use;var Q5e="focus-editor-event",J5e="blur-editor-event",eze=Qq({key:"eventEditor",handlers:{onBlur:({editor:t})=>{Z5e.focus()===t.id&&DC.focus(null),DC.blur(t.id),document.dispatchEvent(new CustomEvent(J5e,{detail:{id:t.id}}))},onFocus:({editor:t})=>{DC.focus(t.id),document.dispatchEvent(new CustomEvent(Q5e,{detail:{id:t.id}}))}}}),tze=jb(_y,({editor:t,type:e})=>({shortcuts:{toggleParagraph:{keys:[[G0.Mod,G0.Alt,"0"],[G0.Mod,G0.Shift,"0"]],preventDefault:!0,handler:()=>{t.tf.toggle.block({type:e})}}}})),rze=({editor:t})=>y8e(t),nze=ar({key:"dom",extendEditor:rze}).extendEditorTransforms(({editor:t})=>{const{reset:e}=t.tf;return{reset:()=>{const r=w8e(t);e(),r&&b8e(t,{edge:"start"})}}}),ize=()=>[q5e,nze,eze,Y5e,tze],sze=(t,e={})=>{var r=e,{plugins:n=[]}=r,s=lo(r,["plugins"]);const o=W5e(t,_t(we({},s),{plugins:[...ize(),...n]}));return o.useOptions=(l,a,c)=>{const d=o.getOptionsStore(l);return d||o.api.debug.error("editor.useOptions: ".concat(l.key," plugin is missing"),"PLUGIN_MISSING"),d.useStore(a,c)},o.useOption=(l,a,...c)=>{const d=o.getOptionsStore(l);d||o.api.debug.error("editor.useOption: ".concat(l.key," plugin is missing"),"PLUGIN_MISSING");const f=d==null?void 0:d.use[a];if(f)return f(...c);o.api.debug.error("editor.useOption: ".concat(a," option is not defined in plugin ").concat(l.key),"OPTION_UNDEFINED")},o},eZ=(t={})=>{var e=t,{editor:r=hDe()}=e,n=lo(e,["editor"]);return sze(r,n)},oze=(t={})=>{const e=eZ(t);return e.isFallback=!0,e.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},e},j$=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tZ=({attributes:t,editor:e,plugin:r,props:n})=>{var s,o;let l={};r.node.props&&(l=(s=typeof r.node.props=="function"?r.node.props(n):r.node.props)!=null?s:{}),!l.nodeProps&&t&&(l.nodeProps=r6e(t,(o=r.node.dangerouslyAllowAttributes)!=null?o:[])),n=we(we({},n),l),n.nodeProps&&Object.keys(n.nodeProps).forEach(c=>{var d,f;((d=n.nodeProps)==null?void 0:d[c])===void 0&&((f=n.nodeProps)==null||delete f[c])});const{className:a}=n;return we(_t(we({},n),{className:um(G5e(r.node.type),a)}),rp(e,r))},z$=t=>(e,r,{composing:n}={})=>!(!Qt(t)(r)||!!n!==x8e(e));_t(we({},Uje),{isTab:z$("tab"),isUntab:z$("untab")});var aze=(t,e)=>{const r=t.pluginList.filter(n=>n.decorate);if(!(r.length===0&&!e))return n=>{let s=[];const o=l=>{l!=null&&l.length&&(s=[...s,...l])};return r.forEach(l=>{o(l.decorate(_t(we({},rp(t,l)),{entry:n})))}),e&&o(e({editor:t,entry:n})),s}},lze=t=>{let e=!1;return _t(we({},t),{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>e,isTrusted:t.isTrusted,nativeEvent:t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>t.preventDefault(),stopPropagation:()=>{e=!0,t.stopPropagation()},target:t.target,timeStamp:t.timeStamp,type:t.type})},uze=(t,e)=>{if(!e)return!1;const r=e(t);return r!=null?r:t.isPropagationStopped()},cze=(t,{editableProps:e,handlerKey:r})=>{const n=e==null?void 0:e[r],s=t.pluginList.filter(o=>{var l;return(l=o.handlers)==null?void 0:l[r]});if(!(s.length===0&&!n))return o=>{const a=o instanceof Event?lze(o):o;return s.some(d=>{const f=d.handlers[r],g=f(_t(we({},rp(t,d)),{event:a}));return g!=null?g:!1})?!0:uze(a,n)}},dze=(t,e)=>t.pluginList.some(r=>{const n=r.handlers.onChange;if(!n)return!1;const s=n(_t(we({},rp(t,r)),{value:e}));return s!=null?s:!1}),hze="element",fze={element:null},{ElementProvider:pze,useElementStore:gze}=vO(fze,{name:"element"}),mze=(t,e)=>function(n){const{key:s,render:{node:o}}=e,{children:l,element:a}=n;if(a.type===e.node.type){const c=o!=null?o:rB,d=t.pluginList.flatMap(y=>{var _,u;return(u=(_=y.render)==null?void 0:_.aboveNodes)!=null?u:[]}),f=t.pluginList.flatMap(y=>{var _,u;return(u=(_=y.render)==null?void 0:_.belowNodes)!=null?u:[]});n=tZ({attributes:a.attributes,editor:t,plugin:e,props:n});let g=l;f.forEach(y=>{const _=y(_t(we({},n),{key:s}));_&&(g=_(_t(we({},n),{children:g})))});let m=V.createElement(c,we({},n),g);return d.forEach(y=>{const _=y(_t(we({},n),{key:s}));_&&(m=_(_t(we({},n),{children:m})))}),V.createElement(pze,{element:a,scope:s},m)}},vze=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isElement&&r.push(mze(t,n))}),function(s){const o=qq(t,s);let l;return r.some(a=>(l=a(o),!!l)),l||(e?e(o):V.createElement(rB,we({},o)))}},yze=(t,e)=>function(n){var s;const{render:{node:o}}=e,{children:l,leaf:a}=n;if(a[(s=e.node.type)!=null?s:e.key]){const c=o!=null?o:Nq,d=tZ({attributes:a.attributes,editor:t,plugin:e,props:n});return V.createElement(c,we({},d),l)}return l},_ze=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isLeaf&&n.key&&r.push(yze(t,n))}),function(s){const o=qq(t,s);return r.forEach(l=>{const a=l(o);a!==void 0&&(o.children=a)}),e?e(o):V.createElement(Nq,we({},o))}},Yo=(t,e={})=>{var r;return(r=Ql(t,we({debugHookName:"useEditorRef"},e)).editor())!=null?r:oze()};function mKe(t,e){const r=Yo(e);return rp(r,t)}var vKe=(t=hze)=>{const e=Yo(),r=gze(t).get.element();return r||(e.api.debug.warn("useElement(".concat(t,") hook must be used inside the node component's context"),"USE_ELEMENT_CONTEXT"),{})};function xze({id:t,editableRef:e}){const r=Yo(t);return V.createElement(V.Fragment,null,Object.entries(r.shortcuts).map(([n,s])=>!s||!dd(s.keys)||!s.handler?null:V.createElement(wze,{id:t,key:n,editableRef:e,hotkeyConfig:s})))}function wze({id:t,editableRef:e,hotkeyConfig:r}){const n=Yo(t),s=r,{keys:o,handler:l}=s,a=lo(s,["keys","handler"]),c=lCe(o,(d,f)=>{l({editor:n,event:d,eventDetails:f})},we({enableOnContentEditable:!0},a),[]);return E.useEffect(()=>{e.current&&c(e.current)},[c,e]),null}var bze=({id:t})=>{const e=Yo(t),r=Bje(t),n=yy(t),s=Object.fromEntries(Tje.map(l=>[l,n.set[l]()])),o=V.useMemo(()=>s,[]);return V.useEffect(()=>{e.api.redecorate=r,e.setPlateState=(l,a)=>{var c;const d=o;(c=d[l])==null||c.call(d,a)}},[e,r,o]),null};function Eze({id:t,plugin:e}){var r;const n=Yo(t);return(r=e.useHooks)==null||r.call(e,rp(n,e)),null}function Sze({id:t}){const e=Ql(t).editor(),r=$q(t).isMounted();return V.useEffect(()=>(r(!0),()=>{r(!1)}),[r]),V.createElement(V.Fragment,null,e.pluginList.map(n=>V.createElement(Eze,{id:t,key:n.key,plugin:n})))}var Cze=V.memo(({id:t})=>{const e=_q(),r=CP("versionEditor",t);V.useEffect(()=>{r()});const n=CP("versionSelection",t),s=V.useRef(e.selection),o=Aze(s.current,e.selection);return V.useEffect(()=>{o||n(),s.current=e.selection},[e.selection,o,n]),null}),Aze=(t,e)=>!t&&!e?!0:!t||!e?!1:ee.equals(t,e);function Tze({children:t,decorate:e,editor:r,primary:n,readOnly:s,renderElement:o,renderLeaf:l,onChange:a,onSelectionChange:c,onValueChange:d}){return V.createElement(Oje,{readOnly:s,onChange:a,onSelectionChange:c,onValueChange:d,decorate:e,editor:r,primary:n,renderElement:o,renderLeaf:l,scope:r.id},t)}function yKe(t){return t.editor?V.createElement(Tze,we({key:t.editor.key},t)):null}var Dze=(t={})=>{const{id:e}=t,r=Yo(e),n=Ql(e),s=n.versionDecorate(),o=n.readOnly(),l=n.decorate(),a=n.renderLeaf(),c=n.renderElement(),d=V.useMemo(()=>aze(r,l!=null?l:t==null?void 0:t.decorate),[t==null?void 0:t.decorate,r,l]),f=V.useMemo(()=>{if(!(!s||!d))return _=>d(_)},[d,s]),g=V.useMemo(()=>vze(r,c!=null?c:t==null?void 0:t.renderElement),[t==null?void 0:t.renderElement,r,c]),m=V.useMemo(()=>_ze(r,a!=null?a:t==null?void 0:t.renderLeaf),[t==null?void 0:t.renderLeaf,r,a]),y=B$(()=>{const _={decorate:f,renderElement:g,renderLeaf:m};return dd(o)&&(_.readOnly=o),j$.forEach(u=>{const h=cze(r,{editableProps:t,handlerKey:u});h&&(_[u]=h)}),_},[f,t,g,m,o]);return B$(()=>we(we({},V6e(t,[...j$,"renderElement","renderLeaf","decorate"])),y),[t,y])},Pze=({id:t})=>{const e=Yo(t),r=Ql(t).onChange(),n=Ql(t).onValueChange(),s=Ql(t).onSelectionChange(),o=V.useCallback(c=>{dze(e,c)||r==null||r({editor:e,value:c})},[e,r]),l=V.useMemo(()=>c=>{n==null||n({editor:e,value:c})},[e,n]),a=V.useMemo(()=>c=>{s==null||s({editor:e,selection:c})},[e,s]);return V.useMemo(()=>({key:e.key,editor:e,initialValue:e.children,value:e.children,onChange:o,onSelectionChange:a,onValueChange:l}),[e,o,a,l])},Rze=({id:t})=>{const e=Mje(),r=t!=null?t:e,n=V.useMemo(()=>Eje(K_.atom.editorStores,f=>f.prop(r)),[r]),s=TC().atom(n,{warnIfNoStore:!1}),o=yy(r).store(),l=Ql(r).primary(),a=TC().primaryEditorIds({warnIfNoStore:!1}),c=h8e(),d=TC().activeId({warnIfNoStore:!1});return V.useEffect(()=>(s(o!=null?o:null),()=>{s(null),d(f=>f===r?null:f)}),[o,s,d,r]),V.useEffect(()=>{if(l)return a(f=>[...f,r]),()=>{a(f=>f.filter(g=>g!==r))}},[r,l,a]),V.useEffect(()=>{r&&c&&d(r)},[r,c,d]),null};function Ize({id:t,children:e}){var r;const n=Pze({id:t}),s=Yo(t);let o=V.createElement(m8e,we({},n),e);return(r=s.pluginList)==null||r.forEach(l=>{const{render:{aboveSlate:a}}=l;a&&(o=V.createElement(a,null,o))}),o}var Oze=V.forwardRef((t,e)=>{var r=t,{renderEditable:n}=r,s=lo(r,["renderEditable"]);const{id:o}=s,l=Yo(o);if(!l)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const a=Dze(s),c=E.useRef(null),d=nB(e,c),f=V.createElement(a8e,we({ref:d},a));let g=null,m=null;l.pluginList.forEach(_=>{const{render:{afterEditable:u,beforeEditable:h}}=_;u&&(g=V.createElement(V.Fragment,null,g,V.createElement(u,we({},a)))),h&&(m=V.createElement(V.Fragment,null,m,V.createElement(h,we({},a))))});let y=V.createElement(V.Fragment,null,m,n?n(f):f,V.createElement(bze,{id:o}),V.createElement(xze,{id:o,editableRef:c}),V.createElement(Cze,{id:o}),V.createElement(Sze,{id:o}),V.createElement(Rze,{id:o}),g);return l.pluginList.forEach(_=>{const{render:{aboveEditable:u}}=_;u&&(y=V.createElement(u,null,y))}),V.createElement(Ize,{id:o},y)});Oze.displayName="PlateContent";function _Ke(t={},e=[]){return V.useMemo(()=>t.enabled===!1?null:eZ(t),[t.id,t.enabled,...e])}var Bze=Object.defineProperty,Mze=Object.defineProperties,Fze=Object.getOwnPropertyDescriptors,Qx=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,nZ=Object.prototype.propertyIsEnumerable,G$=(t,e,r)=>e in t?Bze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ys=(t,e)=>{for(var r in e||(e={}))rZ.call(e,r)&&G$(t,r,e[r]);if(Qx)for(var r of Qx(e))nZ.call(e,r)&&G$(t,r,e[r]);return t},_f=(t,e)=>Mze(t,Fze(e)),iZ=(t,e)=>{var r={};for(var n in t)rZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Qx)for(var n of Qx(t))e.indexOf(n)<0&&nZ.call(t,n)&&(r[n]=t[n]);return r},kze=t=>{const e=Jq(t),{attributes:r,element:n,elementToAttributes:s,nodeProps:o}=e,l=iZ(e,["attributes","element","elementToAttributes","nodeProps"]);return{props:_f(ys(ys(ys(ys({},r),l),o),s==null?void 0:s(n)),{className:um(t.className,o==null?void 0:o.className)}),ref:nB(t.ref,r.ref)}},Lze=V.forwardRef((t,e)=>{const{props:r,ref:n}=kze(_f(ys({},t),{ref:e}));return V.createElement(l6e,_f(ys({},r),{ref:n}))});Lze.displayName="PlateElement";var Nze=t=>{const e=Jq(t),{attributes:r,leaf:n,leafToAttributes:s,nodeProps:o,text:l}=e,a=iZ(e,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:_f(ys(ys(ys(ys({},r),a),o),s==null?void 0:s(n)),{className:um(t.className,o==null?void 0:o.className)}),ref:nB(t.ref,r.ref)}},Uze=V.forwardRef((t,e)=>{const{props:r,ref:n}=Nze(_f(ys({},t),{ref:e}));return V.createElement(u6e,_f(ys({},r),{ref:n}))});Uze.displayName="PlateLeaf";var xKe=t=>{if(!t)return{props:{}};const{preventDefaultOnEnterKeydown:e}=t,r=n=>{(n.key==="Enter"||n.keyCode===13)&&n.preventDefault()};return{props:{onKeyDownCapture:e?n=>r(n):void 0}}},$ze=$O,V$=Wi;function sZ(t,e,r,n,s,o){return V$(t)&&V$(e)&&(o.set(e,t),$ze(t,e,void 0,sZ,o),o.delete(e)),t}var jze=sZ,zze=iY,Gze=aY,Vze=jze,Hze=uY;Gze(function(t){return t.push(void 0,Vze),zze(Hze,void 0,t)});var Wze=Object.defineProperty,Kze=Object.defineProperties,Xze=Object.getOwnPropertyDescriptors,Jx=Object.getOwnPropertySymbols,oZ=Object.prototype.hasOwnProperty,aZ=Object.prototype.propertyIsEnumerable,H$=(t,e,r)=>e in t?Wze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yt=(t,e)=>{for(var r in e||(e={}))oZ.call(e,r)&&H$(t,r,e[r]);if(Jx)for(var r of Jx(e))aZ.call(e,r)&&H$(t,r,e[r]);return t},Kn=(t,e)=>Kze(t,Xze(e)),lZ=(t,e)=>{var r={};for(var n in t)oZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Jx)for(var n of Jx(t))e.indexOf(n)<0&&aZ.call(t,n)&&(r[n]=t[n]);return r};function PC(t,...e){return cY({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return yt(yt({},r),n)})}function Nd(t){return typeof t=="function"}function kr(t={}){var e;let r,n;Nd(t)?(r={key:""},n=l=>t(l)):r=t;const s=(e=r.key)!=null?e:"",o=PC({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return o.configure=l=>{const a=yt({},o);return a.__configuration=c=>Nd(l)?l(c):l,kr(a)},o.configurePlugin=(l,a)=>{const c=yt({},o),d=g=>{let m=!1;const y=g.map(_=>{if(_.key===l.key)return m=!0,kr(Kn(yt({},_),{__configuration:u=>Nd(a)?a(u):a}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return m=!0,Kn(yt({},_),{plugins:u.plugins})}return _});return{found:m,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,kr(c)},o.extendEditorApi=l=>{const a=yt({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!1}],kr(a)},o.extendOptions=l=>{const a=yt({},o);return a.__optionExtensions=[...a.__optionExtensions,l],kr(a)},o.extendApi=l=>{const a=yt({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!0}],kr(a)},o.extendEditorTransforms=l=>{const a=yt({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!1,isTransform:!0}],kr(a)},o.extendTransforms=l=>{const a=yt({},o);return a.__apiExtensions=[...a.__apiExtensions,{extension:l,isPluginSpecific:!0,isTransform:!0}],kr(a)},o.extend=l=>{let a=yt({},o);return Nd(l)?a.__extensions=[...a.__extensions,l]:a=PC(a,l),kr(a)},o.clone=()=>PC(o),o.extendPlugin=(l,a)=>{const c=yt({},o),d=g=>{let m=!1;const y=g.map(_=>{if(_.key===l.key)return m=!0,kr(Kn(yt({},_),{__extensions:[..._.__extensions,u=>Nd(a)?a(u):a]}));if(_.plugins&&_.plugins.length>0){const u=d(_.plugins);if(u.found)return m=!0,Kn(yt({},_),{plugins:u.plugins})}return _});return{found:m,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push(kr({key:l.key,__extensions:[g=>Nd(a)?a(g):a]})),kr(c)},o}function xy(t={}){return kr(t)}var uZ=({apply:t,node:e,path:r=[],query:n,source:s})=>{gy([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),LX(e)&&e.children.forEach((l,a)=>{uZ({apply:t,node:l,path:r.concat([a]),query:n,source:s})})},cZ=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const o=(s=n.inject.plugins)==null?void 0:s[e.key];o&&r.push(o)}),[e,...r]},Yze={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},qze={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Zze={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},sr=t=>{const e=Yze[t],r=qze[t],n=Zze[t],s=e&&kh(e),o=r&&kh(r),l=n&&kh(n);return a=>!!(s!=null&&s(a)||Fx&&(o!=null&&o(a))||!Fx&&(l!=null&&l(a)))};sr("bold"),sr("compose"),sr("deleteBackward"),sr("deleteForward"),sr("deleteLineBackward"),sr("deleteLineForward"),sr("deleteWordBackward"),sr("deleteWordForward"),sr("extendBackward"),sr("extendForward"),sr("extendLineBackward"),sr("extendLineForward"),sr("italic"),sr("moveBackward"),sr("moveForward"),sr("moveLineBackward"),sr("moveLineForward"),sr("moveWordBackward"),sr("moveWordForward"),sr("redo"),sr("insertSoftBreak"),sr("splitBlock"),sr("transposeCharacter"),sr("undo");var Qze=t=>{uZ(Kn(yt({},t),{apply:ks}))};function Jl(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}kr({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}});kr({key:"dom"});var Jze=({editor:t})=>PX(t);kr({key:"history",extendEditor:Jze});var e7e=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],o=[],l=[];return t.pluginList.forEach(a=>{a.node.isInline&&o.push(a.node.type),a.node.isVoid&&s.push(a.node.type),a.node.isMarkableVoid&&l.push(a.node.type)}),t.isInline=a=>o.includes(a.type)?!0:e(a),t.isVoid=a=>s.includes(a.type)?!0:r(a),t.markableVoid=a=>l.includes(a.type)?!0:n(a),t};kr({key:"inlineVoid",extendEditor:e7e});var t7e=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const o=s.parser;if(!o)return!1;const l=cZ(t,s),{deserialize:a,format:c,mimeTypes:d}=o;if(!c)return!1;const f=Array.isArray(c)?c:[c],g=d||f.map(m=>m.includes("/")?m:"text/".concat(m));for(const m of g){let y=r.getData(m);if(!y||!B7e(t,l,{data:y,dataTransfer:r}))continue;y=F7e(t,l,{data:y,dataTransfer:r});let _=a==null?void 0:a(Kn(yt({},Jl(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=k7e(t,l,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return M7e(t,l,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t};kr({key:"parser",extendEditor:t7e});var r7e=class extends Error{constructor(t,e="DEFAULT"){super("[".concat(e,"] ").concat(t)),this.type=e,this.name="PlateError"}};xy({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,o,l)=>{var a,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new r7e(s,o);(c=(a=d.logger)[n])==null||c.call(a,s,o,l)}};return{debug:{error:(n,s,o)=>r("error",n,s,o),info:(n,s,o)=>r("info",n,s,o),log:(n,s,o)=>r("log",n,s,o),warn:(n,s,o)=>r("warn",n,s,o)}}});var n7e=(t,e)=>{Bb(t,yt({at:[],nodes:t.api.create.value()},e))},i7e=t=>{n7e(t),t.history.undos=[],t.history.redos=[],t.operations=[]},s7e=(t,e,r)=>{var n;const{defaultType:s=t.getType(zb),type:o}=e,l=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!o||!l)return;const a=UX(t,Kn(yt({},r),{match:{type:o}}));a&&o===s||t.setNodes({type:a?s:o},{at:l})},zb=kr({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),o7e=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const o=()=>{DY(t)&&PY(t)};return t.deleteBackward=l=>{r(l),o()},t.deleteForward=l=>{n(l),o()},t.deleteFragment=l=>{s(l),o()},t.apply=l=>{if(l.type==="set_selection"){const{properties:a}=l;t.prevSelection=a,e(l),t.currentKeyboardEvent=null;return}e(l)},t};xy({key:"slateNext",extendEditor:o7e}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>yt({children:[{text:""}],type:t.getType(zb)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{i7e(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),Bb(t,{at:[],nodes:r})},toggle:{block:gf(s7e,t),mark:gf(RY,t)}}));var Gb=t=>t.nodeType===Node.ELEMENT_NODE,dZ=t=>t.nodeType===Node.TEXT_NODE,a7e=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),gB=t=>{if(!Gb(t))return!1;const e=t,r=a7e.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?gB(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},W$=t=>Gb(t)?!gB(t):!1,l7e=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),u7e=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&W$(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||W$(e))return!0;if((e.textContent||"").length>0)return!1}},c7e=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},K$=t=>{t.inlineFormattingContext=null},d7e=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&c7e(e);const{whiteSpaceRule:s}=e,o=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),l=(()=>s==="normal"?"collapse":u7e(t)?"single-newline":"collapse")(),a={normal:!0,pre:!1,"pre-line":!0}[s],d=l7e(r||"",{shouldCollapseWhiteSpace:a,trimEnd:l,trimStart:o,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&a&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},h7e=(t,e)=>{if(Gb(t)){fZ(t,e);return}if(dZ(t)){d7e(t,e);return}hZ(t,e)},hZ=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)h7e(n,e)},f7e=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},fZ=(t,e)=>{const r=gB(t),n=e.whiteSpaceRule,s=f7e(t);s&&(e.whiteSpaceRule=s),r||K$(e),hZ(t,e),r||K$(e),e.whiteSpaceRule=n},p7e=t=>{const e=t.cloneNode(!0);return fZ(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},mB=(t,e)=>Array.from(e.childNodes).flatMap(gZ(t)),g7e=(t,e)=>{if(e.nodeName==="BODY")return ep("fragment",{},mB(t,e))},m7e=t=>{if(t.nodeName==="BR")return"\n"},pZ=(t,e,{deserializeLeaf:r,element:n})=>{var s,o;const{node:{isElement:l,isLeaf:a,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:g,isElement:m,isLeaf:y,query:_,rules:u}=f;let{parse:h}=f;const p=m||l,v=y||a;if(!r&&!p||r&&!v||u&&!u.some(({validAttribute:S,validClassName:C,validNodeName:A="*",validStyle:T})=>{var P;if(A){const B=Zl(A);if(B.length>0&&!B.includes(n.nodeName)&&A!=="*")return!1}if(C&&!n.classList.contains(C))return!1;if(T)for(const[B,D]of Object.entries(T)){if(!Zl(D).includes(n.style[B])&&D!=="*"||D==="*"&&!n.style[B])return;const O=(P=e.inject.nodeProps)==null?void 0:P.defaultNodeValue;if(O&&O===n.style[B])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[B,D]of Object.entries(S)){const R=Zl(D),O=n.getAttribute(B);if(!dd(O)||!R.includes(O))return!1}return!0})||_&&!_(Kn(yt({},Jl(t,e)),{element:n})))return;if(!h)if(p)h=()=>({type:c});else if(v)h=()=>({[c]:!0});else return;let x=(o=h(Kn(yt({},Jl(t,e)),{element:n,node:{}})))!=null?o:{};if(Object.keys(x).length===0)return;if(cZ(t,e).forEach(b=>{var S,C,A,T;const P=(T=(A=(C=(S=b.parsers)==null?void 0:S.html)==null?void 0:C.deserializer)==null?void 0:A.parse)==null?void 0:T.call(A,Kn(yt({},Jl(t,e)),{element:n,node:x}));P&&(x=yt(yt({},x),P))}),g){const b={},S=n.getAttributeNames();for(const C of S)g.includes(C)&&(b[C]=n.getAttribute(C));Object.keys(b).length>0&&(x.attributes=b)}return Kn(yt({},f),{node:x})},v7e=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=pZ(t,n,{element:e}),!!r)),r},y7e=(t,e)=>{var r;const n=v7e(t,e);if(n){const{node:s,withoutChildren:o}=n;let l=(r=s.children)!=null?r:mB(t,e);return(l.length===0||o)&&(l=[{text:""}]),ep("element",s,l)}},_7e=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=pZ(t,n,{deserializeLeaf:!0,element:e});s&&(r=yt(yt({},r),s.node))}),r},x7e=(t,e)=>{const r=_7e(t,e);return mB(t,e).reduce((n,s)=>{if(!s)return n;if(Ja(s))Object.keys(r).length>0&&Qze({node:s,query:{filter:([o])=>vu(o)},source:r}),n.push(s);else{const o=yt({},r);vu(s)&&s.text&&Object.keys(o).forEach(l=>{o[l]&&s[l]&&(o[l]=s[l])}),n.push(ep("text",o,s))}return n},[])},w7e=t=>{if(dZ(t))return t.textContent||""},gZ=t=>e=>{const r=w7e(e);if(r)return r;if(!Gb(e))return null;const n=m7e(e);if(n)return n;const s=g7e(t,e);if(s)return s;const o=y7e(t,e);return o||x7e(t,e)},b7e=(t,e)=>gZ(t)(e),E7e=t=>{const e=document.createElement("body");return e.innerHTML=t,e},S7e=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=E7e(r)),e&&(r=p7e(r));const n=b7e(t,r);return O7e(t,{descendants:n})},C7e=t=>new DOMParser().parseFromString(t,"text/html");kr({key:"html"}).extendApi(({editor:t})=>({deserialize:gf(S7e,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=C7e(e);return t.html.deserialize({element:r.body})},format:"text/html"}});var A7e=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Iu(t,()=>{r(n);const s=e();if(s.maxLength){const o=FX(t,[]).length;if(o>s.maxLength){const l=o-s.maxLength;t.delete({distance:l,reverse:!0,unit:"character"})}}})},t};xy({key:"length",extendEditor:A7e});var T7e=t=>e=>vu(e)||Ja(e)&&t.isInline(e),D7e=t=>()=>({children:[],type:t}),P7e=(t,e)=>t.some((r,n,s)=>{const o=s[n-1];return n!==0?e(r)!==e(o):!1}),R7e=(t,e,r)=>{const n=P7e(t,e),{fragment:s}=t.reduce((o,l)=>{if(n&&e(l)){let a=o.precedingBlock;a||(a=r(),o.precedingBlock=a,o.fragment.push(a)),a.children.push(l)}else o.fragment.push(l),o.precedingBlock=null;return o},{fragment:[],precedingBlock:null});return s},I7e=t=>t.length===0?[{text:""}]:t,mZ=(t,e,r)=>(t=I7e(t),t=R7e(t,e,r),t=t.map(n=>Ja(n)?Kn(yt({},n),{children:mZ(n.children,e,r)}):n),t),O7e=(t,{descendants:e})=>{const r=T7e(t),n=t.getType(zb),s=D7e(n);return mZ(e,r,s)},B7e=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var o;const l=(o=s.parser)==null?void 0:o.query;return!l||l(Kn(yt({},Jl(t,s)),{data:r,dataTransfer:n}))}),M7e=(t,e,r)=>{var n=r,{fragment:s}=n,o=lZ(n,["fragment"]);Iu(t,()=>{e.some(l=>{var a,c;return((c=(a=l.parser)==null?void 0:a.preInsert)==null?void 0:c.call(a,yt(Kn(yt({},Jl(t,l)),{fragment:s}),o)))===!0}),t.insertFragment(s)})},F7e=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var o;const l=(o=s.parser)==null?void 0:o.transformData;l&&(r=l(Kn(yt({},Jl(t,s)),{data:r,dataTransfer:n})))}),r),k7e=(t,e,r)=>{var n=r,{fragment:s}=n,o=lZ(n,["fragment"]);return e.forEach(l=>{var a;const c=(a=l.parser)==null?void 0:a.transformFragment;c&&(s=c(yt(yt({fragment:s},o),Jl(t,l))))}),s},L7e=({editor:t,getOptions:e})=>{const{deleteForward:r}=t;return t.deleteForward=n=>{if(!t.selection)return;const{query:s}=e(),o=!s||gy(zx(t),s);!d3e(t)&&u3e(t)&&o?bO(t):r(n)},t},wKe=xy({key:"delete",extendEditor:L7e,options:{query:{allow:[zb.key]}}}),N7e=({editor:t,getOptions:e})=>{const{deleteBackward:r}=t;return t.deleteBackward=n=>{const{selection:s}=t,{query:o,removeNodeIfEmpty:l}=e();if(n==="character"&&EDe(s)){const a=vDe(t,s,{unit:n});if(a){const[c]=BX(t,{at:a,match:d=>gy([d,a.path],o)});if(c&&a){const d=yDe(t,s),f=wDe(t,d.path);l&&f&&!AO(f)&&bO(t),EO(t,a)}else r(n)}else r(n)}else r(n)},t};xy({key:"selectOnBackspace",extendEditor:N7e,options:{removeNodeIfEmpty:!1}});var U7e=Object.defineProperty,$7e=Object.defineProperties,j7e=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,yZ=Object.prototype.propertyIsEnumerable,X$=(t,e,r)=>e in t?U7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tw=(t,e)=>{for(var r in e||(e={}))vZ.call(e,r)&&X$(t,r,e[r]);if(ew)for(var r of ew(e))yZ.call(e,r)&&X$(t,r,e[r]);return t},z7e=(t,e)=>$7e(t,j7e(e)),G7e=(t,e)=>{var r={};for(var n in t)vZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ew)for(var n of ew(t))e.indexOf(n)<0&&yZ.call(t,n)&&(r[n]=t[n]);return r};function vB(...t){return vne(eD(t))}function V7e(t,e){const r=t;return V.forwardRef(function(s,o){return V.createElement(r,z7e(tw(tw({ref:o},e),s),{className:vB(e.className,s.className)}))})}function bKe(t,...e){return V7e(t,{className:vB(e)})}function EKe(t,e,r){const n=t;return V.forwardRef(function(o,l){const a=o,{className:c}=a,d=G7e(a,["className"]),f=tw({},d);return r&&r.forEach(g=>{d[g]!==void 0&&delete f[g]}),V.createElement(n,tw({ref:l,className:vB(e(d),c)},f))})}var H7e="Separator",Y$="horizontal",W7e=["horizontal","vertical"],_Z=E.forwardRef((t,e)=>{const{decorative:r,orientation:n=Y$,...s}=t,o=K7e(n)?n:Y$,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return I.jsx(Ae.div,{"data-orientation":o,...a,...s,ref:e})});_Z.displayName=H7e;function K7e(t){return W7e.includes(t)}var X7e=_Z,yB="Toolbar",[Y7e,SKe]=yi(yB,[Ps,XK]),_B=Ps(),xZ=XK(),[q7e,wZ]=Y7e(yB),bZ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:s,loop:o=!0,...l}=t,a=_B(r),c=Ho(s);return I.jsx(q7e,{scope:r,orientation:n,dir:c,children:I.jsx(Lf,{asChild:!0,...a,orientation:n,dir:c,loop:o,children:I.jsx(Ae.div,{role:"toolbar","aria-orientation":n,dir:c,...l,ref:e})})})});bZ.displayName=yB;var EZ="ToolbarSeparator",SZ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=wZ(EZ,r);return I.jsx(X7e,{orientation:s.orientation==="horizontal"?"vertical":"horizontal",...n,ref:e})});SZ.displayName=EZ;var Z7e="ToolbarButton",xB=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_B(r);return I.jsx(sd,{asChild:!0,...s,focusable:!t.disabled,children:I.jsx(Ae.button,{type:"button",...n,ref:e})})});xB.displayName=Z7e;var Q7e="ToolbarLink",CZ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_B(r);return I.jsx(sd,{asChild:!0,...s,focusable:!0,children:I.jsx(Ae.a,{...n,ref:e,onKeyDown:ie(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});CZ.displayName=Q7e;var AZ="ToolbarToggleGroup",J7e=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=wZ(AZ,r),o=xZ(r);return I.jsx(LSe,{"data-orientation":s.orientation,dir:s.dir,...o,...n,ref:e,rovingFocus:!1})});J7e.displayName=AZ;var e9e="ToolbarToggleItem",TZ=E.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=xZ(r),o={__scopeToolbar:t.__scopeToolbar};return I.jsx(xB,{asChild:!0,...o,children:I.jsx(NSe,{...s,...n,ref:e})})});TZ.displayName=e9e;var CKe=bZ,AKe=SZ,TKe=xB,DKe=CZ,PKe=TZ,[Vb,RKe]=yi("Tooltip",[Ko]),Hb=Ko(),DZ="TooltipProvider",t9e=700,AP="tooltip.open",[r9e,wB]=Vb(DZ),PZ=t=>{const{__scopeTooltip:e,delayDuration:r=t9e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[l,a]=E.useState(!0),c=E.useRef(!1),d=E.useRef(0);return E.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),I.jsx(r9e,{scope:e,isOpenDelayed:l,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};PZ.displayName=DZ;var Wb="Tooltip",[n9e,wy]=Vb(Wb),RZ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:l,delayDuration:a}=t,c=wB(Wb,t.__scopeTooltip),d=Hb(e),[f,g]=E.useState(null),m=yn(),y=E.useRef(0),_=l!=null?l:c.disableHoverableContent,u=a!=null?a:c.delayDuration,h=E.useRef(!1),[p=!1,v]=Mn({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(AP))):c.onClose(),o==null||o(C)}}),x=E.useMemo(()=>p?h.current?"delayed-open":"instant-open":"closed",[p]),w=E.useCallback(()=>{window.clearTimeout(y.current),h.current=!1,v(!0)},[v]),b=E.useCallback(()=>{window.clearTimeout(y.current),v(!1)},[v]),S=E.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{h.current=!0,v(!0)},u)},[u,v]);return E.useEffect(()=>()=>window.clearTimeout(y.current),[]),I.jsx(Ff,{...d,children:I.jsx(n9e,{scope:e,contentId:m,open:p,stateAttribute:x,trigger:f,onTriggerChange:g,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayed?S():w()},[c.isOpenDelayed,S,w]),onTriggerLeave:E.useCallback(()=>{_?b():window.clearTimeout(y.current)},[b,_]),onOpen:w,onClose:b,disableHoverableContent:_,children:r})})};RZ.displayName=Wb;var TP="TooltipTrigger",IZ=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=wy(TP,r),o=wB(TP,r),l=Hb(r),a=E.useRef(null),c=Xe(e,a,s.onTriggerChange),d=E.useRef(!1),f=E.useRef(!1),g=E.useCallback(()=>d.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),I.jsx(kf,{asChild:!0,...l,children:I.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ie(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ie(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});IZ.displayName=TP;var bB="TooltipPortal",[i9e,s9e]=Vb(bB,{forceMount:void 0}),OZ=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,o=wy(bB,e);return I.jsx(i9e,{scope:e,forceMount:r,children:I.jsx(vi,{present:r||o.open,children:I.jsx(Jv,{asChild:!0,container:s,children:n})})})};OZ.displayName=bB;var xf="TooltipContent",BZ=E.forwardRef((t,e)=>{const r=s9e(xf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,l=wy(xf,t.__scopeTooltip);return I.jsx(vi,{present:n||l.open,children:l.disableHoverableContent?I.jsx(MZ,{side:s,...o,ref:e}):I.jsx(o9e,{side:s,...o,ref:e})})}),o9e=E.forwardRef((t,e)=>{const r=wy(xf,t.__scopeTooltip),n=wB(xf,t.__scopeTooltip),s=E.useRef(null),o=Xe(e,s),[l,a]=E.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:g}=n,m=E.useCallback(()=>{a(null),g(!1)},[g]),y=E.useCallback((_,u)=>{const h=_.currentTarget,p={x:_.clientX,y:_.clientY},v=c9e(p,h.getBoundingClientRect()),x=d9e(p,v),w=h9e(u.getBoundingClientRect()),b=p9e([...x,...w]);a(b),g(!0)},[g]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(c&&f){const _=h=>y(h,f),u=h=>y(h,c);return c.addEventListener("pointerleave",_),f.addEventListener("pointerleave",u),()=>{c.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",u)}}},[c,f,y,m]),E.useEffect(()=>{if(l){const _=u=>{const h=u.target,p={x:u.clientX,y:u.clientY},v=(c==null?void 0:c.contains(h))||(f==null?void 0:f.contains(h)),x=!f9e(p,l);v?m():x&&(m(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,f,l,d,m]),I.jsx(MZ,{...t,ref:o})}),[a9e,l9e]=Vb(Wb,{isInside:!1}),MZ=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...a}=t,c=wy(xf,r),d=Hb(r),{onClose:f}=c;return E.useEffect(()=>(document.addEventListener(AP,f),()=>document.removeEventListener(AP,f)),[f]),E.useEffect(()=>{if(c.trigger){const g=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,f]),I.jsx(Yv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:I.jsxs(Zv,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[I.jsx(tI,{children:n}),I.jsx(a9e,{scope:r,isInside:!0,children:I.jsx(GEe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});BZ.displayName=xf;var FZ="TooltipArrow",u9e=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Hb(r);return l9e(FZ,r).isInside?null:I.jsx(Qv,{...s,...n,ref:e})});u9e.displayName=FZ;function c9e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function d9e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function h9e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function f9e(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const a=e[o].x,c=e[o].y,d=e[l].x,f=e[l].y;c>n!=f>n&&r<(d-a)*(n-c)/(f-c)+a&&(s=!s)}return s}function p9e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),g9e(e)}function g9e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var IKe=PZ,OKe=RZ,BKe=IZ,MKe=OZ,FKe=BZ;function m9e(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function v9e(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&iD(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function y9e(){return/apple/i.test(navigator.vendor)}function _9e(t){return(t==null?void 0:t.ownerDocument)||document}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var x9e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],DP=x9e.join(","),kZ=typeof Element>"u",Cv=kZ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rw=!kZ&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},nw=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",l=o||r&&e&&t(e.parentNode);return l},w9e=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},b9e=function(e,r,n){if(nw(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(DP));return r&&Cv.call(e,DP)&&s.unshift(e),s=s.filter(n),s},E9e=function t(e,r,n){for(var s=[],o=Array.from(e);o.length;){var l=o.shift();if(!nw(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),c=a.length?a:l.children,d=t(c,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:l,candidates:d})}else{var f=Cv.call(l,DP);f&&n.filter(l)&&(r||!e.includes(l))&&s.push(l);var g=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),m=!nw(g,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(g&&m){var y=t(g===!0?l.children:g.children,!0,n);n.flatten?s.push.apply(s,y):s.push({scopeParent:l,candidates:y})}else o.unshift.apply(o,l.children)}}return s},LZ=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},NZ=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||w9e(e))&&!LZ(e)?0:e.tabIndex},S9e=function(e,r){var n=NZ(e);return n<0&&r&&!LZ(e)?0:n},C9e=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},UZ=function(e){return e.tagName==="INPUT"},A9e=function(e){return UZ(e)&&e.type==="hidden"},T9e=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},D9e=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},P9e=function(e){if(!e.name)return!0;var r=e.form||rw(e),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=D9e(s,e.form);return!o||o===e},R9e=function(e){return UZ(e)&&e.type==="radio"},I9e=function(e){return R9e(e)&&!P9e(e)},O9e=function(e){var r,n=e&&rw(e),s=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var l,a,c;for(o=!!((l=s)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!o&&s;){var d,f,g;n=rw(s),s=(d=n)===null||d===void 0?void 0:d.host,o=!!((f=s)!==null&&f!==void 0&&(g=f.ownerDocument)!==null&&g!==void 0&&g.contains(s))}}return o},q$=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},B9e=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Cv.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(Cv.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var c=e.parentElement,d=rw(e);if(c&&!c.shadowRoot&&s(c)===!0)return q$(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=a}if(O9e(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return q$(e);return!1},M9e=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return Cv.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},F9e=function(e,r){return!(r.disabled||nw(r)||A9e(r)||B9e(r,e)||T9e(r)||M9e(r))},Z$=function(e,r){return!(I9e(r)||NZ(r)<0||!F9e(e,r))},k9e=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},L9e=function t(e){var r=[],n=[];return e.forEach(function(s,o){var l=!!s.scopeParent,a=l?s.scopeParent:s,c=S9e(a,l),d=l?t(s.candidates):a;c===0?l?r.push.apply(r,d):r.push(a):n.push({documentOrder:o,tabIndex:c,item:s,isScope:l,content:d})}),n.sort(C9e).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(r)},$Z=function(e,r){r=r||{};var n;return r.getShadowRoot?n=E9e([e],r.includeContainer,{filter:Z$.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:k9e}):n=b9e(e,r.includeContainer,Z$.bind(null,r)),L9e(n)};const jZ={...LP},N9e=jZ.useInsertionEffect,U9e=N9e||(t=>t());function $9e(t){const e=E.useRef(()=>{});return U9e(()=>{e.current=t}),E.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}var Rc=typeof document<"u"?E.useLayoutEffect:E.useEffect;function PP(){return PP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PP.apply(this,arguments)}let Q$=!1,j9e=0;const J$=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+j9e++;function z9e(){const[t,e]=E.useState(()=>Q$?J$():void 0);return Rc(()=>{t==null&&e(J$())},[]),E.useEffect(()=>{Q$=!0},[]),t}const G9e=jZ.useId,zZ=G9e||z9e;function V9e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const H9e=E.createContext(null),W9e=E.createContext(null),K9e=()=>{var t;return((t=E.useContext(H9e))==null?void 0:t.id)||null},X9e=()=>E.useContext(W9e);function GZ(t){return"data-floating-ui-"+t}const VZ=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function HZ(t,e){const r=$Z(t,VZ());e==="prev"&&r.reverse();const n=r.indexOf(m9e(_9e(t)));return r.slice(n+1)[0]}function Y9e(){return HZ(document.body,"next")}function q9e(){return HZ(document.body,"prev")}function RC(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!v9e(r,n)}function Z9e(t){$Z(t,VZ()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function e4(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const WZ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Q9e;function t4(t){t.key==="Tab"&&(t.target,clearTimeout(Q9e))}const r4=E.forwardRef(function(e,r){const[n,s]=E.useState();Rc(()=>(y9e()&&s("button"),document.addEventListener("keydown",t4),()=>{document.removeEventListener("keydown",t4)}),[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[GZ("focus-guard")]:"",style:WZ};return E.createElement("span",PP({},e,o))}),KZ=E.createContext(null),n4=GZ("portal");function J9e(t){t===void 0&&(t={});const{id:e,root:r}=t,n=zZ(),s=eGe(),[o,l]=E.useState(null),a=E.useRef(null);return Rc(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{a.current=null})},[o]),Rc(()=>{if(!n||a.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=n,d.setAttribute(n4,""),c.appendChild(d),a.current=d,l(d)},[e,n]),Rc(()=>{if(!n||a.current)return;let c=r||(s==null?void 0:s.portalNode);c&&!Dn(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=n,f.setAttribute(n4,""),c=d||c,c.appendChild(f),a.current=f,l(f)},[e,r,n,s]),o}function kKe(t){const{children:e,id:r,root:n=null,preserveTabOrder:s=!0}=t,o=J9e({id:r,root:n}),[l,a]=E.useState(null),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),g=E.useRef(null),m=l==null?void 0:l.modal,y=l==null?void 0:l.open,_=!!l&&!l.modal&&l.open&&s&&!!(n||o);return E.useEffect(()=>{if(!o||!s||m)return;function u(h){o&&RC(h)&&(h.type==="focusin"?e4:Z9e)(o)}return o.addEventListener("focusin",u,!0),o.addEventListener("focusout",u,!0),()=>{o.removeEventListener("focusin",u,!0),o.removeEventListener("focusout",u,!0)}},[o,s,m]),E.useEffect(()=>{o&&(y||e4(o))},[y,o]),E.createElement(KZ.Provider,{value:E.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:g,portalNode:o,setFocusManagerState:a}),[s,o])},_&&o&&E.createElement(r4,{"data-type":"outside",ref:c,onFocus:u=>{if(RC(u,o)){var h;(h=f.current)==null||h.focus()}else{const p=q9e()||(l==null?void 0:l.refs.domReference.current);p==null||p.focus()}}}),_&&o&&E.createElement("span",{"aria-owns":o.id,style:WZ}),o&&Ka.createPortal(e,o),_&&o&&E.createElement(r4,{"data-type":"outside",ref:d,onFocus:u=>{if(RC(u,o)){var h;(h=g.current)==null||h.focus()}else{const p=Y9e()||(l==null?void 0:l.refs.domReference.current);p==null||p.focus(),l!=null&&l.closeOnFocusOut&&(l==null||l.onOpenChange(!1,u.nativeEvent,"focus-out"))}}}))}const eGe=()=>E.useContext(KZ);function tGe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=zZ(),o=E.useRef({}),[l]=E.useState(()=>V9e()),a=K9e()!=null,[c,d]=E.useState(n.reference),f=$9e((y,_,u)=>{o.current.openEvent=y?_:void 0,l.emit("openchange",{open:y,event:_,reason:u,nested:a}),r==null||r(y,_,u)}),g=E.useMemo(()=>({setPositionReference:d}),[]),m=E.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return E.useMemo(()=>({dataRef:o,open:e,onOpenChange:f,elements:m,events:l,floatingId:s,refs:g}),[e,f,m,l,s,g])}function rGe(t){t===void 0&&(t={});const{nodeId:e}=t,r=tGe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[o,l]=E.useState(null),[a,c]=E.useState(null),f=(s==null?void 0:s.reference)||o,g=E.useRef(null),m=X9e();Rc(()=>{f&&(g.current=f)},[f]);const y=q9({...t,elements:{...s,...a&&{reference:a}}}),_=E.useCallback(x=>{const w=Dn(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;c(w),y.refs.setReference(w)},[y.refs]),u=E.useCallback(x=>{(Dn(x)||x===null)&&(g.current=x,l(x)),(Dn(y.refs.reference.current)||y.refs.reference.current===null||x!==null&&!Dn(x))&&y.refs.setReference(x)},[y.refs]),h=E.useMemo(()=>({...y.refs,setReference:u,setPositionReference:_,domReference:g}),[y.refs,u,_]),p=E.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),v=E.useMemo(()=>({...y,...n,refs:h,elements:p,nodeId:e}),[y,h,p,e,n]);return Rc(()=>{n.dataRef.current.floatingContext=v;const x=m==null?void 0:m.nodesRef.current.find(w=>w.id===e);x&&(x.context=v)}),E.useMemo(()=>({...y,context:v,refs:h,elements:p}),[y,h,p,v])}var nGe=Object.defineProperty,iGe=Object.defineProperties,sGe=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,XZ=Object.prototype.hasOwnProperty,YZ=Object.prototype.propertyIsEnumerable,i4=(t,e,r)=>e in t?nGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s4=(t,e)=>{for(var r in e||(e={}))XZ.call(e,r)&&i4(t,r,e[r]);if(iw)for(var r of iw(e))YZ.call(e,r)&&i4(t,r,e[r]);return t},oGe=(t,e)=>iGe(t,sGe(e)),aGe=(t,e)=>{var r={};for(var n in t)XZ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&iw)for(var n of iw(t))e.indexOf(n)<0&&YZ.call(t,n)&&(r[n]=t[n]);return r},qZ=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),lGe=()=>({getBoundingClientRect:qZ}),uGe=()=>{const t=window.getSelection();return!t||t.rangeCount<1?qZ():t.getRangeAt(0).getBoundingClientRect()},LKe=t=>{var e=t,{getBoundingClientRect:r=uGe}=e,n=aGe(e,["getBoundingClientRect"]);const s=V.useRef(lGe()),[o,l]=V.useState(!0),a=rGe(s4({whileElementsMounted:X9},n)),{middlewareData:c,refs:d,strategy:f,update:g,x:m,y}=a;return SC(()=>{s.current.getBoundingClientRect=r},[r,g]),SC(()=>{d.setReference(s.current)},[d]),SC(()=>{if(!(c!=null&&c.hide))return;const{referenceHidden:_}=c.hide;l(!_)},[c.hide]),oGe(s4({},a),{style:{display:n.open===!1?"none":void 0,left:m!=null?m:0,position:f,top:y!=null?y:0,visibility:o?void 0:"hidden"},virtualElementRef:s})},EB="Switch",[cGe,NKe]=yi(EB),[dGe,hGe]=cGe(EB),ZZ=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:l,disabled:a,value:c="on",onCheckedChange:d,...f}=t,[g,m]=E.useState(null),y=Xe(e,v=>m(v)),_=E.useRef(!1),u=g?!!g.closest("form"):!0,[h=!1,p]=Mn({prop:s,defaultProp:o,onChange:d});return I.jsxs(dGe,{scope:r,checked:h,disabled:a,children:[I.jsx(Ae.button,{type:"button",role:"switch","aria-checked":h,"aria-required":l,"data-state":eQ(h),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:y,onClick:ie(t.onClick,v=>{p(x=>!x),u&&(_.current=v.isPropagationStopped(),_.current||v.stopPropagation())})}),u&&I.jsx(fGe,{control:g,bubbles:!_.current,name:n,value:c,checked:h,required:l,disabled:a,style:{transform:"translateX(-100%)"}})]})});ZZ.displayName=EB;var QZ="SwitchThumb",JZ=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=hGe(QZ,r);return I.jsx(Ae.span,{"data-state":eQ(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});JZ.displayName=QZ;var fGe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,o=E.useRef(null),l=sO(r),a=hI(e);return E.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&g){const m=new Event("click",{bubbles:n});g.call(c,r),c.dispatchEvent(m)}},[l,r,n]),I.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eQ(t){return t?"checked":"unchecked"}var UKe=ZZ,$Ke=JZ,SB="ToastProvider",[CB,pGe,gGe]=id("Toast"),[tQ,jKe]=$f("Toast",[gGe]),[mGe,Kb]=tQ(SB),rQ=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[a,c]=E.useState(null),[d,f]=E.useState(0),g=E.useRef(!1),m=E.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(SB,"`. Expected non-empty `string`.")),I.jsx(CB.Provider,{scope:e,children:I.jsx(mGe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:E.useCallback(()=>f(y=>y+1),[]),onToastRemove:E.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:m,children:l})})};rQ.displayName=SB;var nQ="ToastViewport",vGe=["F8"],RP="toast.viewportPause",IP="toast.viewportResume",iQ=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=vGe,label:s="Notifications ({hotkey})",...o}=t,l=Kb(nQ,r),a=pGe(r),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),g=E.useRef(null),m=Xe(e,g,l.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=l.toastCount>0;E.useEffect(()=>{const h=p=>{var x;n.length!==0&&n.every(w=>p[w]||p.code===w)&&((x=g.current)==null||x.focus())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n]),E.useEffect(()=>{const h=c.current,p=g.current;if(_&&h&&p){const v=()=>{if(!l.isClosePausedRef.current){const S=new CustomEvent(RP);p.dispatchEvent(S),l.isClosePausedRef.current=!0}},x=()=>{if(l.isClosePausedRef.current){const S=new CustomEvent(IP);p.dispatchEvent(S),l.isClosePausedRef.current=!1}},w=S=>{!h.contains(S.relatedTarget)&&x()},b=()=>{h.contains(document.activeElement)||x()};return h.addEventListener("focusin",v),h.addEventListener("focusout",w),h.addEventListener("pointermove",v),h.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{h.removeEventListener("focusin",v),h.removeEventListener("focusout",w),h.removeEventListener("pointermove",v),h.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[_,l.isClosePausedRef]);const u=E.useCallback(({tabbingDirection:h})=>{const v=a().map(x=>{const w=x.ref.current,b=[w,...RGe(w)];return h==="forwards"?b:b.reverse()});return(h==="forwards"?v.reverse():v).flat()},[a]);return E.useEffect(()=>{const h=g.current;if(h){const p=v=>{var b,S,C;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const A=document.activeElement,T=v.shiftKey;if(v.target===h&&T){(b=d.current)==null||b.focus();return}const D=u({tabbingDirection:T?"backwards":"forwards"}),R=D.findIndex(O=>O===A);IC(D.slice(R+1))?v.preventDefault():T?(S=d.current)==null||S.focus():(C=f.current)==null||C.focus()}};return h.addEventListener("keydown",p),()=>h.removeEventListener("keydown",p)}},[a,u]),I.jsxs(txe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&I.jsx(OP,{ref:d,onFocusFromOutsideViewport:()=>{const h=u({tabbingDirection:"forwards"});IC(h)}}),I.jsx(CB.Slot,{scope:r,children:I.jsx(Ae.ol,{tabIndex:-1,...o,ref:m})}),_&&I.jsx(OP,{ref:f,onFocusFromOutsideViewport:()=>{const h=u({tabbingDirection:"backwards"});IC(h)}})]})});iQ.displayName=nQ;var sQ="ToastFocusProxy",OP=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Kb(sQ,r);return I.jsx(hy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var d;const a=l.relatedTarget;!((d=o.viewport)!=null&&d.contains(a))&&n()}})});OP.displayName=sQ;var Xb="Toast",yGe="toast.swipeStart",_Ge="toast.swipeMove",xGe="toast.swipeCancel",wGe="toast.swipeEnd",oQ=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...l}=t,[a=!0,c]=Mn({prop:n,defaultProp:s,onChange:o});return I.jsx(Za,{present:r||a,children:I.jsx(SGe,{open:a,...l,ref:e,onClose:()=>c(!1),onPause:Ut(t.onPause),onResume:Ut(t.onResume),onSwipeStart:ie(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(g,"px"))}),onSwipeCancel:ie(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(g,"px")),c(!1)})})})});oQ.displayName=Xb;var[bGe,EGe]=tQ(Xb,{onClose(){}}),SGe=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:g,onSwipeCancel:m,onSwipeEnd:y,..._}=t,u=Kb(Xb,r),[h,p]=E.useState(null),v=Xe(e,O=>p(O)),x=E.useRef(null),w=E.useRef(null),b=s||u.duration,S=E.useRef(0),C=E.useRef(b),A=E.useRef(0),{onToastAdd:T,onToastRemove:P}=u,B=Ut(()=>{var k;(h==null?void 0:h.contains(document.activeElement))&&((k=u.viewport)==null||k.focus()),l()}),D=E.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),S.current=new Date().getTime(),A.current=window.setTimeout(B,O))},[B]);E.useEffect(()=>{const O=u.viewport;if(O){const k=()=>{D(C.current),d==null||d()},j=()=>{const U=new Date().getTime()-S.current;C.current=C.current-U,window.clearTimeout(A.current),c==null||c()};return O.addEventListener(RP,j),O.addEventListener(IP,k),()=>{O.removeEventListener(RP,j),O.removeEventListener(IP,k)}}},[u.viewport,b,c,d,D]),E.useEffect(()=>{o&&!u.isClosePausedRef.current&&D(b)},[o,b,u.isClosePausedRef,D]),E.useEffect(()=>(T(),()=>P()),[T,P]);const R=E.useMemo(()=>h?fQ(h):null,[h]);return u.viewport?I.jsxs(I.Fragment,{children:[R&&I.jsx(CGe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),I.jsx(bGe,{scope:r,onClose:B,children:Ka.createPortal(I.jsx(CB.ItemSlot,{scope:r,children:I.jsx(exe,{asChild:!0,onEscapeKeyDown:ie(a,()=>{u.isFocusedToastEscapeKeyDownRef.current||B(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:I.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":u.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:ie(t.onPointerDown,O=>{O.button===0&&(x.current={x:O.clientX,y:O.clientY})}),onPointerMove:ie(t.onPointerMove,O=>{if(!x.current)return;const k=O.clientX-x.current.x,j=O.clientY-x.current.y,U=!!w.current,N=["left","right"].includes(u.swipeDirection),L=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,H=N?L(0,k):0,K=N?0:L(0,j),te=O.pointerType==="touch"?10:2,le={x:H,y:K},ne={originalEvent:O,delta:le};U?(w.current=le,e_(_Ge,g,ne,{discrete:!1})):o4(le,u.swipeDirection,te)?(w.current=le,e_(yGe,f,ne,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(k)>te||Math.abs(j)>te)&&(x.current=null)}),onPointerUp:ie(t.onPointerUp,O=>{const k=w.current,j=O.target;if(j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),w.current=null,x.current=null,k){const U=O.currentTarget,N={originalEvent:O,delta:k};o4(k,u.swipeDirection,u.swipeThreshold)?e_(wGe,y,N,{discrete:!0}):e_(xGe,m,N,{discrete:!0}),U.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),CGe=t=>{const{__scopeToast:e,children:r,...n}=t,s=Kb(Xb,e),[o,l]=E.useState(!1),[a,c]=E.useState(!1);return DGe(()=>l(!0)),E.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:I.jsx(ab,{asChild:!0,children:I.jsx(hy,{...n,children:o&&I.jsxs(I.Fragment,{children:[s.label," ",r]})})})},AGe="ToastTitle",aQ=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return I.jsx(Ae.div,{...n,ref:e})});aQ.displayName=AGe;var TGe="ToastDescription",lQ=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return I.jsx(Ae.div,{...n,ref:e})});lQ.displayName=TGe;var uQ="ToastAction",cQ=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?I.jsx(hQ,{altText:r,asChild:!0,children:I.jsx(AB,{...n,ref:e})}):(console.error("Invalid prop `altText` supplied to `".concat(uQ,"`. Expected non-empty `string`.")),null)});cQ.displayName=uQ;var dQ="ToastClose",AB=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=EGe(dQ,r);return I.jsx(hQ,{asChild:!0,children:I.jsx(Ae.button,{type:"button",...n,ref:e,onClick:ie(t.onClick,s.onClose)})})});AB.displayName=dQ;var hQ=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return I.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function fQ(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),PGe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=n.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...fQ(n))}}),e}function e_(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Xv(s,o):s.dispatchEvent(o)}var o4=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function DGe(t=()=>{}){const e=Ut(t);Gr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function PGe(t){return t.nodeType===t.ELEMENT_NODE}function RGe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function IC(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var zKe=rQ,GKe=iQ,VKe=oQ,HKe=aQ,WKe=lQ,KKe=cQ,XKe=AB;export{sVe as $,Wp as A,x5 as B,O1 as C,KGe as D,Te as E,$v as F,wa as G,YGe as H,mve as I,bve as J,rHe as K,Mw as L,$Ge as M,E5 as N,QGe as O,wme as P,JGe as Q,lt as R,Zc as S,bR as T,Lo as U,XGe as V,eVe as W,tVe as X,uVe as Y,ZVe as Z,nHe as _,sce as a,kVe as a$,lVe as a0,cVe as a1,dVe as a2,CHe as a3,hVe as a4,xVe as a5,iVe as a6,sHe as a7,fVe as a8,bHe as a9,aHe as aA,lHe as aB,hHe as aC,fHe as aD,gHe as aE,mHe as aF,vHe as aG,_He as aH,jVe as aI,wHe as aJ,NVe as aK,_Ve as aL,yVe as aM,VVe as aN,GVe as aO,xHe as aP,ZGe as aQ,oVe as aR,pVe as aS,nVe as aT,rVe as aU,dHe as aV,bVe as aW,aVe as aX,KVe as aY,gVe as aZ,cHe as a_,WVe as aa,HVe as ab,yHe as ac,EVe as ad,JVe as ae,uHe as af,vVe as ag,SVe as ah,CVe as ai,AVe as aj,TVe as ak,DVe as al,PVe as am,RVe as an,BVe as ao,MVe as ap,FVe as aq,SHe as ar,UVe as as,XVe as at,mVe as au,$Ve as av,OVe as aw,eHe as ax,oHe as ay,iHe as az,cz as b,CWe as b$,EHe as b0,IVe as b1,YVe as b2,LVe as b3,qVe as b4,pHe as b5,NHe as b6,GHe as b7,UHe as b8,PHe as b9,ZHe as bA,aEe as bB,lEe as bC,TW as bD,HHe as bE,uEe as bF,cEe as bG,iEe as bH,oEe as bI,gWe as bJ,qGe as bK,Uo as bL,cWe as bM,hb as bN,uWe as bO,Cbe as bP,aW as bQ,hWe as bR,fWe as bS,vWe as bT,yWe as bU,zVe as bV,bWe as bW,EWe as bX,AWe as bY,TWe as bZ,SWe as b_,RHe as ba,OHe as bb,BHe as bc,FHe as bd,jHe as be,MHe as bf,WHe as bg,IHe as bh,kHe as bi,THe as bj,DHe as bk,LHe as bl,Oh as bm,KHe as bn,qHe as bo,QHe as bp,aWe as bq,lWe as br,JHe as bs,eWe as bt,rWe as bu,nWe as bv,sWe as bw,iWe as bx,tWe as by,oWe as bz,um as c,uGe as c$,wWe as c0,xWe as c1,PWe as c2,RWe as c3,IWe as c4,OWe as c5,FWe as c6,LWe as c7,$He as c8,WWe as c9,vB as cA,V as cB,Oze as cC,EKe as cD,V7e as cE,X7e as cF,bKe as cG,FKe as cH,IKe as cI,OKe as cJ,BKe as cK,MKe as cL,TKe as cM,hKe as cN,CKe as cO,J7e as cP,DKe as cQ,AKe as cR,PKe as cS,cKe as cT,jb as cU,kr as cV,CDe as cW,lKe as cX,Jl as cY,mKe as cZ,LKe as c_,VHe as ca,KWe as cb,zHe as cc,NWe as cd,UWe as ce,$We as cf,zWe as cg,GWe as ch,HWe as ci,VWe as cj,XWe as ck,MWe as cl,jWe as cm,kWe as cn,JWe as co,eKe as cp,ZWe as cq,QWe as cr,YWe as cs,tKe as ct,LSe as cu,NSe as cv,iKe as cw,sKe as cx,oKe as cy,nKe as cz,Cm as d,h8e as d0,dKe as d1,nB as d2,_8e as d3,aKe as d4,TDe as d5,Yo as d6,UKe as d7,$Ke as d8,pWe as d9,OGe as dA,jB as dB,Iwe as da,vKe as db,uKe as dc,Lze as dd,Fx as de,kye as df,Uye as dg,kKe as dh,xKe as di,_Ke as dj,tze as dk,wKe as dl,yKe as dm,QVe as dn,tHe as dp,wVe as dq,dWe as dr,GKe as ds,VKe as dt,KKe as du,XKe as dv,HKe as dw,WKe as dx,zKe as dy,IGe as dz,Ts as e,ke as f,ze as g,Co as h,_ce as i,I as j,$r as k,NGe as l,gi as m,LGe as n,jGe as o,Tce as p,ume as q,E as r,zGe as s,vne as t,kGe as u,u5 as v,D5 as w,Zi as x,BGe as y,HGe as z};
